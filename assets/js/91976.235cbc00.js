"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[91976],{91976:(e,r,t)=>{t.r(r),t.d(r,{getGeometryServiceURL:()=>c,projectGeometry:()=>l});var o=t(21121),n=t(98849),i=t(10282),a=t(70727),s=t(72387);async function c(e=null,r){if(o.A.geometryServiceUrl)return o.A.geometryServiceUrl;if(!e)throw new n.A("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");let t;t="portal"in e?e.portal||i.A.getDefault():e,await t.load({signal:r});const a=t.helperServices?.geometry?.url;if(!a)throw new n.A("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");return a}async function l(e,r,t=null,o){const i=await c(t,o),l=new s.A({geometries:[e],outSpatialReference:r}),u=await(0,a.C)(i,l,{signal:o});if(u&&Array.isArray(u)&&1===u.length)return u[0];throw new n.A("internal:geometry-service-projection-failed","Geometry projection failed on service")}},70727:(e,r,t)=>{t.d(r,{C:()=>u});var o=t(86394),n=t(73446),i=t(1171),a=t(11499),s=t(45355),c=t(72387);const l=(0,n.dp)(c.A);async function u(e,r,t){r=l(r);const n=(0,a.Dl)(e),c={...n.query,f:"json",...r.toJSON()},u=r.outSpatialReference,f=(0,i.$B)(r.geometries[0]),m=(0,a.jV)(c,t);return(0,o.A)(n.path+"/project",m).then((({data:{geometries:e}})=>(0,s.V)(e,f,u)))}},72387:(e,r,t)=>{t.d(r,{A:()=>u});var o=t(66866),n=t(21877),i=t(21564),a=(t(39831),t(539),t(9272),t(63863)),s=t(78983),c=t(1171),l=t(87926);let u=class extends n.A{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),r=this.geometries[0],t={};return t.outSR=(0,l.YX)(this.outSpatialReference),t.inSR=(0,l.YX)(r.spatialReference),t.geometries=JSON.stringify({geometryType:(0,c.$B)(r),geometries:e}),this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(t.transformForward=this.transformForward),t}};(0,o._)([(0,i.MZ)()],u.prototype,"geometries",void 0),(0,o._)([(0,i.MZ)({type:s.A,json:{read:{source:"outSR"}}})],u.prototype,"outSpatialReference",void 0),(0,o._)([(0,i.MZ)()],u.prototype,"transformation",void 0),(0,o._)([(0,i.MZ)()],u.prototype,"transformForward",void 0),u=(0,o._)([(0,a.$)("esri.rest.support.ProjectParameters")],u)}}]);