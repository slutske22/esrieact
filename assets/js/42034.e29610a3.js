"use strict";
exports.id = 42034;
exports.ids = [42034,45970,71164];
exports.modules = {

/***/ 27243:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t={convertToGEGeometry:s,exportPoint:n,exportPolygon:o,exportPolyline:a,exportMultipoint:c,exportExtent:m};function s(t,s){return null==s?null:t.convertJSONToGeometry(s)}class i{constructor(t,s,i){this.x=t,this.y=s,this.spatialReference=i,this.z=void 0,this.m=void 0}}function n(t,s,n){const e=new i(t.getPointX(s),t.getPointY(s),n),o=t.hasZ(s),h=t.hasM(s);return o&&(e.z=t.getPointZ(s)),h&&(e.m=t.getPointM(s)),e}class e{constructor(t,s,i,n){this.rings=t,this.spatialReference=s,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}function o(t,s,i){return new e(t.exportPaths(s),i,t.hasZ(s),t.hasM(s))}class h{constructor(t,s,i,n){this.paths=t,this.spatialReference=s,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}function a(t,s,i){return new h(t.exportPaths(s),i,t.hasZ(s),t.hasM(s))}class r{constructor(t,s,i,n){this.points=t,this.spatialReference=s,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}function c(t,s,i){return new r(t.exportPoints(s),i,t.hasZ(s),t.hasM(s))}class x{constructor(t,s,i,n,e){this.xmin=t,this.ymin=s,this.xmax=i,this.ymax=n,this.spatialReference=e,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}function m(t,s,i){const n=t.hasZ(s),e=t.hasM(s),o=new x(t.getXMin(s),t.getYMin(s),t.getXMax(s),t.getYMax(s),i);if(n){const i=t.getZExtent(s);o.zmin=i.vmin,o.zmax=i.vmax}if(e){const i=t.getMExtent(s);o.mmin=i.vmin,o.mmax=i.vmax}return o}


/***/ }),

/***/ 23783:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cv: () => (/* binding */ j),
/* harmony export */   Nk: () => (/* binding */ x),
/* harmony export */   lK: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85569);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40189);
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(68490);
/* harmony import */ var _geometry_geometryAdapters_json_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(27243);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(87926);
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(96082);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const p=[0,0];function c(s,t){if(!t)return null;if("x"in t){const e={x:0,y:0};return[e.x,e.y]=s(t.x,t.y,p),null!=t.z&&(e.z=t.z),null!=t.m&&(e.m=t.m),e}if("xmin"in t){const e={xmin:0,ymin:0,xmax:0,ymax:0};return[e.xmin,e.ymin]=s(t.xmin,t.ymin,p),[e.xmax,e.ymax]=s(t.xmax,t.ymax,p),t.hasZ&&(e.zmin=t.zmin,e.zmax=t.zmax,e.hasZ=!0),t.hasM&&(e.mmin=t.mmin,e.mmax=t.mmax,e.hasM=!0),e}return"rings"in t?{rings:h(t.rings,s),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:h(t.paths,s),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:f(t.points,s),hasM:t.hasM,hasZ:t.hasZ}:null}function h(s,t){const e=[];for(const n of s)e.push(f(n,t));return e}function f(s,t){const e=[];for(const n of s){const s=t(n[0],n[1],[0,0]);e.push(s),n.length>2&&s.push(n[2]),n.length>3&&s.push(n[3])}return e}async function x(t,n){if(!t||!n)return;const r=Array.isArray(t)?t.map((s=>null!=s.geometry?s.geometry.spatialReference:null)).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isSome */ .Ru):[t];await (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.initializeProjection)(r.map((s=>({source:s,dest:n}))))}const y=c.bind(null,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .lngLatToXY */ .je),g=c.bind(null,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .xyToLngLat */ .tD);function j(s,t,e,u){if(!s)return null;if(e||(e=t,t=s.spatialReference),!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .isValid */ .fn)(t)||!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .isValid */ .fn)(e)||(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .equals */ .aI)(t,e))return s;if((0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .canProject */ .y7)(t,e)){const t=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .isWebMercator */ .K8)(e)?y(s):g(s);return t.spatialReference=e,t}return (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.projectMany)(_geometry_geometryAdapters_json_js__WEBPACK_IMPORTED_MODULE_3__/* .jsonAdapter */ .g,[s],t,e,null,u)[0]}class _{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(s,e,n,r){if(!s?.length||!e||!n||(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .equals */ .aI)(e,n))return s;const i={geometries:s,inSpatialReference:e,outSpatialReference:n,geographicTransformation:r,resolve:(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .createResolver */ .Tw)()};return this._jobs.push(i),this._timer??=setTimeout(this._process,10),i.resolve.promise}_process(){this._timer=null;const s=this._jobs.shift();if(!s)return;const{geometries:t,inSpatialReference:e,outSpatialReference:i,resolve:o,geographicTransformation:u}=s;(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .canProject */ .y7)(e,i)?(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .isWebMercator */ .K8)(i)?o(t.map(y)):o(t.map(g)):o((0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_2__.projectMany)(_geometry_geometryAdapters_json_js__WEBPACK_IMPORTED_MODULE_3__/* .jsonAdapter */ .g,t,e,i,u,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}}const M=new _;function b(s,t,e,n){return M.push(s,t,e,n)}


/***/ }),

/***/ 35746:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GC: () => (/* binding */ x),
/* harmony export */   T2: () => (/* binding */ B),
/* harmony export */   VY: () => (/* binding */ g),
/* harmony export */   dO: () => (/* binding */ h),
/* harmony export */   iJ: () => (/* binding */ w),
/* harmony export */   v8: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98849);
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(59851);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92976);
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(68490);
/* harmony import */ var _geometry_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(90557);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1171);
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(65231);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(87926);
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(23783);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const g=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__/* .JSONMap */ .J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),S=Object.freeze({}),R="frequency";async function w(t,e,i){const r=t.bin;return r.onField&&(r.onField=r.onField.trim()),r.onExpression?.value&&(r.onExpression.value=r.onExpression.value.trim()),r.splitBy&&(r.splitBy.value&&(r.splitBy.value=r.splitBy.value.trim()),r.splitBy.outAlias&&(r.splitBy.outAlias=r.splitBy.outAlias.trim())),r.stackBy&&(r.stackBy.value&&(r.stackBy.value=r.stackBy.value.trim()),r.stackBy.outAlias&&(r.stackBy.outAlias=r.stackBy.outAlias.trim())),"normalizationField"in r.parameters&&r.parameters.normalizationField&&(r.parameters.normalizationField=r.parameters.normalizationField.trim()),t.outStatistics?.length||(t.outStatistics=[{statisticType:"count",onStatisticField:"1",outStatisticFieldName:R}]),x(t,e,i)}async function x(t,e,i){const{outFields:r,orderByFields:n,groupByFieldsForStatistics:a,outStatistics:o}=t;if(r)for(let s=0;s<r.length;s++)r[s]=r[s].trim();if(n)for(let s=0;s<n.length;s++)n[s]=n[s].trim();if(a)for(let s=0;s<a.length;s++)a[s]=a[s].trim();if(o)for(let s=0;s<o.length;s++)o[s].onStatisticField&&(o[s].onStatisticField=o[s].onStatisticField.trim());return t.geometry&&!t.outSR&&(t.outSR=t.geometry.spatialReference),B(t,e,i)}async function B(t,e,i){if(!t)return null;let{where:r}=t;if(t.where=r=r?.trim(),(!r||/^1 *= *1$/.test(r)||e&&e===r)&&(t.where=null),!t.geometry)return t;let o=await v(t);if(t.distance=0,t.units=null,"esriSpatialRelEnvelopeIntersects"===t.spatialRel){const{spatialReference:e}=t.geometry;o=(0,_geometry_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .getGeometryExtent */ .HA)(o),o.spatialReference=e}if(o){await (0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_8__/* .checkProjectionSupport */ .Nk)(o.spatialReference,i),o=j(o,i);const e=(await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .normalizeCentralMeridian */ .el)((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .fromJSON */ .rS)(o)))[0];if(null==e)throw S;const r="quantizationParameters"in t&&t.quantizationParameters?.tolerance||"maxAllowableOffset"in t&&t.maxAllowableOffset||0,n=r&&F(o,i)?{densificationStep:8*r}:void 0,s=e.toJSON(),l=(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_8__/* .project */ .Cv)(s,s.spatialReference,i,n);if(!l)throw S;l.spatialReference=i,t.geometry=l}return t}function F(t,e){if(!t)return!1;const i=t.spatialReference;return((0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isExtent */ .ZC)(t)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isPolygon */ .Bi)(t)||(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isPolyline */ .Rg)(t))&&!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .equals */ .aI)(i,e)&&!(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_3__.canProjectWithoutEngine)(i,e)}function j(t,e){const i=t.spatialReference;return F(t,e)&&(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isExtent */ .ZC)(t)?{spatialReference:i,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:t}async function v(e){const{distance:r,units:n}=e,a=e.geometry;if(null==r||"vertexAttributes"in a)return a;const s=a.spatialReference,l=n?g.fromJSON(n):(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .getUnitString */ .Ij)(s),m=s&&((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .isGeographic */ .EA)(s)||(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .isWebMercator */ .K8)(s))?a:await (0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_8__/* .checkProjectionSupport */ .Nk)(s,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .wgs84 */ .KK).then((()=>(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_8__/* .project */ .Cv)(a,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .wgs84 */ .KK))),f=await __webpack_require__.e(/* import() */ 31600).then(__webpack_require__.bind(__webpack_require__, 31600));await f.load();const S=f.execute(m,r||1,{unit:l})??void 0;if(!S||!(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isPolygon */ .Bi)(S)||0===S.rings.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A("unsupported-query:invalid-parameters","Invalid parameters for query by distance");return S}function h(t,e){return null==t?null:"string"==typeof t?e?new Date(`1970-01-01T${t}Z`).getTime():new Date(t).getTime():t instanceof Date?t.getTime():t}


/***/ }),

/***/ 45970:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ R)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(24793);
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(59851);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21877);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(539);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(73446);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(39831);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(9272);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(28902);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(63863);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(78983);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(1171);
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(12433);
/* harmony import */ var _layers_graphics_data_queryUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(35746);
/* harmony import */ var _AutoIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(30245);
/* harmony import */ var _BinParametersBase_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(18370);
/* harmony import */ var _DateBinParameters_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(24465);
/* harmony import */ var _FixedBoundariesBinParameters_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(35985);
/* harmony import */ var _FixedIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(34344);
/* harmony import */ var _spatialRelationships_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(66723);
/* harmony import */ var _StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(41969);
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(17197);
/* harmony import */ var _time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(12129);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const b=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__/* .JSONMap */ .J({asc:"ascending",desc:"descending"}),B={base:_BinParametersBase_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A,key:"type",typeMap:{"auto-interval":_AutoIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .A,date:_DateBinParameters_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .A,"fixed-boundaries":_FixedBoundariesBinParameters_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .A,"fixed-interval":_FixedIntervalBinParameters_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A}};let R=class extends(_core_Clonable_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.ClonableMixin(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)){constructor(e){super(e),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.timeExtent=null,this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(e){this._set("outTimeZone",e),e&&!(0,_time_timeZoneUtils_js__WEBPACK_IMPORTED_MODULE_23__/* .isTimeZoneValid */ .wr)(e)&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).warn("#outTimeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({types:B,json:{name:"bin",write:!0}})],R.prototype,"binParameters",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_9__/* .enumeration */ .e)(b)],R.prototype,"binOrder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Boolean,json:{write:!0}})],R.prototype,"cacheHint",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],R.prototype,"datumTransformation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A,json:{name:"defaultSR",write:!0}})],R.prototype,"defaultSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],R.prototype,"distance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({types:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .geometryTypes */ .yR,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .fromJSON */ .rS,write:!0}})],R.prototype,"geometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:String,json:{write:!0}})],R.prototype,"lowerBoundaryAlias",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A,json:{name:"outSR",write:!0}})],R.prototype,"outSpatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:[_StatisticDefinition_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],R.prototype,"outStatistics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({value:null,json:{name:"outTimeReference",read:{reader:e=>e.ianaTimeZone},write:{writer:(e,t,o)=>{e&&(t[o]={ianaTimeZone:e})}}}})],R.prototype,"outTimeZone",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Boolean,json:{write:!0}})],R.prototype,"returnDistinctValues",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_9__/* .enumeration */ .e)(_spatialRelationships_js__WEBPACK_IMPORTED_MODULE_20__/* .spatialRelKebabDict */ .x,{name:"spatialRel"})],R.prototype,"spatialRelationship",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:_chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_22__.T,json:{write:!0}})],R.prototype,"timeExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:String,json:{write:!0}})],R.prototype,"upperBoundaryAlias",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:String,json:{read:_layers_graphics_data_queryUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitsKebabDict */ .VY.read,write:{writer:_layers_graphics_data_queryUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitsKebabDict */ .VY.write,overridePolicy(e){return{enabled:null!=e&&null!=this.distance}}}}})],R.prototype,"units",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:String,json:{write:!0}})],R.prototype,"where",void 0),R=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__/* .subclass */ .$)("esri.rest.support.AttributeBinsQuery")],R),R.from=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__/* .ensureType */ .dp)(R);


/***/ }),

/***/ 30245:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76724);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(73446);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39831);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9272);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(28902);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(63863);
/* harmony import */ var _BinParametersBase_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18370);
/* harmony import */ var _NormalizationBinParametersMixin_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(67281);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function p(r,e,o){(0,_core_object_js__WEBPACK_IMPORTED_MODULE_1__/* .setDeepValue */ .sM)(o,r instanceof Date?r.getTime():r,e)}let m=class extends((0,_NormalizationBinParametersMixin_js__WEBPACK_IMPORTED_MODULE_9__/* .NormalizationBinParametersMixin */ .K)(_BinParametersBase_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A)){constructor(r){super(r),this.numBins=null,this.end=null,this.start=null,this.type="auto-interval"}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:Number,json:{name:"parameters.numberOfBins",write:!0}})],m.prototype,"numBins",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{name:"parameters.end",write:{writer:p}}})],m.prototype,"end",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{name:"parameters.start",write:{writer:p}}})],m.prototype,"start",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__/* .enumeration */ .e)({autoIntervalBin:"auto-interval"},{readOnly:!0})],m.prototype,"type",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .$)("esri.rest.support.AutoIntervalBinParameters")],m),m.from=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__/* .ensureType */ .dp)(m);


/***/ }),

/***/ 18370:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ y)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Clonable.js
var Clonable = __webpack_require__(24793);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/jsonMap.js
var jsonMap = __webpack_require__(59851);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(21877);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(9272);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(28902);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
;// ../node_modules/@arcgis/core/rest/support/AttributeBinsGrouping.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const a=new jsonMap/* JSONMap */.J({esriFieldTypeInteger:"integer",esriFieldTypeString:"string"});let l=class extends(Clonable/* default */.A.ClonableMixin(JSONSupport/* default */.A)){constructor(o){super(o),this.alias=null,this.responseType=null,this.type=null,this.value=null,this.valueType=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{name:"outAlias",write:!0}})],l.prototype,"alias",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String})],l.prototype,"responseType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],l.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],l.prototype,"value",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(a)],l.prototype,"valueType",void 0),l=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.AttributeBinsGrouping")],l);const c=l;l.from=(0,ensureType/* ensureType */.dp)(l);

;// ../node_modules/@arcgis/core/rest/support/BinParametersBase.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const BinParametersBase_l=new jsonMap/* JSONMap */.J({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeDate:"date",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"}),BinParametersBase_a=new jsonMap/* JSONMap */.J({naturalLog:"natural-log",squareRoot:"square-root"});let y=class extends(Clonable/* default */.A.ClonableMixin(JSONSupport/* default */.A)){constructor(e){super(e),this.expression=null,this.expressionValueType=null,this.field=null,this.firstDayOfWeek=null,this.hideUpperBound=null,this.splitBy=null,this.stackBy=null,this.transformation=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{name:"onExpression.value",write:!0}})],y.prototype,"expression",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(BinParametersBase_l,{name:"onExpression.valueType"})],y.prototype,"expressionValueType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{name:"onField",write:!0}})],y.prototype,"field",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],y.prototype,"firstDayOfWeek",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],y.prototype,"hideUpperBound",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:c,json:{write:{overridePolicy(){return{enabled:null!=this.splitBy?.value||null!=this.splitBy?.type}}}}})],y.prototype,"splitBy",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:c,json:{write:{target:{stackBy:{type:c},jsonStyle:{type:String}},writer:(e,t)=>{e&&(t.stackBy=e.toJSON(),null!=e.responseType&&(t.jsonStyle=e.responseType))},overridePolicy(){return{enabled:null!=this.stackBy?.value||null!=this.stackBy?.type}}},read:{source:["stackBy","jsonStyle"],reader:(e,t)=>c.fromJSON({...t.stackBy,responseType:t.jsonStyle})}}})],y.prototype,"stackBy",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(BinParametersBase_a)],y.prototype,"transformation",void 0),y=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.BinParametersBase")],y);


/***/ }),

/***/ 24465:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ DateBinParameters_m)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/object.js
var object = __webpack_require__(76724);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(9272);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(28902);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/BinParametersBase.js + 1 modules
var BinParametersBase = __webpack_require__(18370);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Clonable.js
var Clonable = __webpack_require__(24793);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(21877);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/DateBinUtils.js
var DateBinUtils = __webpack_require__(77018);
;// ../node_modules/@arcgis/core/rest/support/DateBinTimeInterval.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let m=class extends(Clonable/* default */.A.ClonableMixin(JSONSupport/* default */.A)){constructor(o){super(o),this.value=null,this.unit=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{name:"number",write:!0}})],m.prototype,"value",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(DateBinUtils/* unitsDict */.g)],m.prototype,"unit",void 0),m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.DateBinTimeInterval")],m);const a=m;m.from=(0,ensureType/* ensureType */.dp)(m);

;// ../node_modules/@arcgis/core/rest/support/DateBinParameters.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(t,r,o){(0,object/* setDeepValue */.sM)(o,"string"==typeof t?t:t?.getTime(),r)}function l(t,e){const r=t.parameters[e];return r?"string"==typeof r?r:new Date(r):null}let DateBinParameters_m=class extends BinParametersBase/* default */.A{constructor(t){super(t),this.end=null,this.interval=null,this.offset=null,this.returnFullIntervalBin=!1,this.start=null,this.snapToData=null,this.type="date"}};(0,tslib_es6._)([(0,property/* property */.MZ)({cast:t=>null!=t?"string"==typeof t?t:new Date(t):null,json:{name:"parameters.end",read:{reader:(t,e)=>l(e,"end")},write:{writer:i}}})],DateBinParameters_m.prototype,"end",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:a,json:{name:"parameters",write:!0}})],DateBinParameters_m.prototype,"interval",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:a,json:{name:"parameters.offset",write:!0}})],DateBinParameters_m.prototype,"offset",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{name:"parameters.returnFullIntervalBin",write:!0}})],DateBinParameters_m.prototype,"returnFullIntervalBin",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({cast:t=>null!=t?"string"==typeof t?t:new Date(t):null,json:{name:"parameters.start",read:{reader:(t,e)=>l(e,"start")},write:{writer:i}}})],DateBinParameters_m.prototype,"start",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{name:"parameters.snapToData",write:!0}})],DateBinParameters_m.prototype,"snapToData",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({dateBin:"date"},{readOnly:!0})],DateBinParameters_m.prototype,"type",void 0),DateBinParameters_m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.DateBinParameters")],DateBinParameters_m),DateBinParameters_m.from=(0,ensureType/* ensureType */.dp)(DateBinParameters_m);


/***/ }),

/***/ 77018:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(59851);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({year:"years",quarter:"quarters",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes",second:"seconds"});


/***/ }),

/***/ 35985:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76724);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(73446);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39831);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9272);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(28902);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(63863);
/* harmony import */ var _BinParametersBase_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18370);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function p(r){return r[0]instanceof Date}function c(r,e,s){(0,_core_object_js__WEBPACK_IMPORTED_MODULE_1__/* .setDeepValue */ .sM)(s,r&&p(r)?r.map((r=>r.getTime())):r,e)}let n=class extends _BinParametersBase_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A{constructor(r){super(r),this.boundaries=[],this.type="fixed-boundaries"}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{name:"parameters.boundaries",write:{writer:c}}})],n.prototype,"boundaries",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__/* .enumeration */ .e)({fixedBoundariesBin:"fixed-boundaries"},{readOnly:!0})],n.prototype,"type",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .$)("esri.rest.support.FixedBoundariesBinParameters")],n),n.from=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__/* .ensureType */ .dp)(n);


/***/ }),

/***/ 34344:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_object_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76724);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(73446);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39831);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9272);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(28902);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(63863);
/* harmony import */ var _BinParametersBase_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18370);
/* harmony import */ var _NormalizationBinParametersMixin_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(67281);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(r,t,o){(0,_core_object_js__WEBPACK_IMPORTED_MODULE_1__/* .setDeepValue */ .sM)(o,r instanceof Date?r.getTime():r,t)}let m=class extends((0,_NormalizationBinParametersMixin_js__WEBPACK_IMPORTED_MODULE_9__/* .NormalizationBinParametersMixin */ .K)(_BinParametersBase_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A)){constructor(r){super(r),this.end=null,this.interval=null,this.start=null,this.type="fixed-interval"}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{name:"parameters.end",write:{writer:n}}})],m.prototype,"end",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:Number,json:{name:"parameters.interval",write:!0}})],m.prototype,"interval",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{name:"parameters.start",write:{writer:n}}})],m.prototype,"start",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__/* .enumeration */ .e)({fixedIntervalBin:"fixed-interval"},{readOnly:!0})],m.prototype,"type",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .$)("esri.rest.support.FixedIntervalBinParameters")],m),m.from=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__/* .ensureType */ .dp)(m);


/***/ }),

/***/ 71164:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   classBreaks: () => (/* binding */ c),
/* harmony export */   heatmapStatistics: () => (/* binding */ z),
/* harmony export */   histogram: () => (/* binding */ v),
/* harmony export */   summaryStatistics: () => (/* binding */ d),
/* harmony export */   uniqueValues: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96568);
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27218);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function d(a){const{attribute:e,features:l}=a,{normalizationType:s,normalizationField:r,minValue:m,maxValue:u,fieldType:d,outStatisticTypes:p}=e,c=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .getDataValues */ .Jc)({field:e.field,valueExpression:e.valueExpression,normalizationType:s,normalizationField:r,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},l),v=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isNullCountSupported */ .Vb)({normalizationType:s,normalizationField:r,minValue:m,maxValue:u}),z={value:.5,fieldType:d},T="esriFieldTypeString"===d?(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .calculateStringStatistics */ .z9)({values:c,supportsNullCount:v,percentileParams:z,outStatisticTypes:p}):(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .calculateStatistics */ .G_)({values:c,minValue:m,maxValue:u,useSampleStdDev:!s,supportsNullCount:v,percentileParams:z,outStatisticTypes:p});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .processSummaryStatisticsResult */ .oZ)(T,p,"esriFieldTypeDate"===d)}async function p(a){const{attribute:e,features:n}=a,t=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .getDataValues */ .Jc)({field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:e.valueExpression,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},n,!1),o=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .calculateUniqueValuesCount */ .b3)(t);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .createUVResult */ .lv)(o,e.domains,e.returnAllCodedValues,e.fieldDelimiter)}async function c(a){const{attribute:e,features:n}=a,{field:t,normalizationType:o,normalizationField:l,normalizationTotal:s,classificationMethod:u}=e,f=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .getDataValues */ .Jc)({field:t,valueExpression:e.valueExpression,normalizationType:o,normalizationField:l,normalizationTotal:s,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},n),d=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .calculateClassBreaks */ .Rw)(f,{field:t,normalizationType:o,normalizationField:l,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:e.standardDeviationInterval,numClasses:e.numClasses,minValue:e.minValue,maxValue:e.maxValue});return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .resolveCBResult */ .jM)(d,u)}async function v(a){const{attribute:e,features:n}=a,{field:t,normalizationType:o,normalizationField:l,normalizationTotal:s,classificationMethod:r}=e,m=await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .getDataValues */ .Jc)({field:t,valueExpression:e.valueExpression,normalizationType:o,normalizationField:l,normalizationTotal:s,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},n);return (0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .calculateHistogram */ .$y)(m,{field:t,normalizationType:o,normalizationField:l,normalizationTotal:s,classificationMethod:r,standardDeviationInterval:e.standardDeviationInterval,numBins:e.numBins,minValue:e.minValue,maxValue:e.maxValue})}async function z(i){const{attribute:n,features:t}=i,{field:o,radius:l,transform:s,spatialReference:r}=n,m=n.size??[0,0],u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .quantizeFeatures */ .$r)(t??[],s,r,m);return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__/* .calculateHeatmapStats */ .gV)(u,l??void 0,o,m[0],m[1])}


/***/ }),

/***/ 96568:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $r: () => (/* binding */ x),
/* harmony export */   Jc: () => (/* binding */ b),
/* harmony export */   Lc: () => (/* binding */ F),
/* harmony export */   MH: () => (/* binding */ T),
/* harmony export */   Wk: () => (/* binding */ M),
/* harmony export */   gV: () => (/* binding */ w),
/* harmony export */   lX: () => (/* binding */ N),
/* harmony export */   rb: () => (/* binding */ I),
/* harmony export */   sf: () => (/* binding */ U)
/* harmony export */ });
/* unused harmony exports getSumOfAttributesExpr, verifyFieldType, verifyNumericField */
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98849);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(89882);
/* harmony import */ var _core_timeUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46437);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(97066);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78983);
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(20698);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(87926);
/* harmony import */ var _layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(42453);
/* harmony import */ var _renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(27927);
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(99340);
/* harmony import */ var _statistics_utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(27218);
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(35387);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let $=null;const g=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function j(e,t,n){return e.x<0?e.x+=t:e.x>n&&(e.x-=t),e}function x(e,t,n,o){const a=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .isWrappable */ .d9)(n)?(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .getInfo */ .Vp)(n):null,u=a?Math.round((a.valid[1]-a.valid[0])/t.scale[0]):null;return e.map((e=>{const n=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A(e.geometry);return (0,_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .quantizePoint */ .Gy)(t,n,n),e.geometry=a?j(n,u??0,o[0]):n,e}))}function w(e,n=18,r,o,i){const s=new Float64Array(o*i);n=Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .pt2px */ .Lz)(n));let l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;const u=(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .createValueFunction */ .YW)(r);for(const{geometry:t,attributes:f}of e){const{x:e,y:r}=t,c=Math.max(0,e-n),p=Math.max(0,r-n),d=Math.min(i,r+n),h=Math.min(o,e+n),y=+u(f);for(let t=p;t<d;t++)for(let i=c;i<h;i++){const u=t*o+i,f=(0,_renderers_support_heatmapUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .evaluateDensityKernel */ .hv)(i-e,t-r,n)*y,c=s[u]+=f;l=Math.min(l,c),a=Math.max(a,c)}}return{min:l,max:a}}function I(e){const t=g.exec(e);if(!t)return null;const{hh:r,mm:o,ss:i,ms:s}=t.groups;return Number(r)*_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .millisecondsPerTimeUnit */ .vf.hours+Number(o)*_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .millisecondsPerTimeUnit */ .vf.minutes+Number(i)*_core_timeUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .millisecondsPerTimeUnit */ .vf.seconds+Number(s||0)}async function b(e,t,n=!0){if(!t)return[];const{field:r,field2:i,field3:s,fieldDelimiter:l,fieldInfos:u,timeZone:f}=e,c=r&&u?.find((e=>e.name.toLowerCase()===r.toLowerCase())),m=!!c&&(0,_layers_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .isTimeOnlyField */ .OH)(c),g=!!c&&(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_8__/* .isAnyDateField */ .fs)(c),j=e.valueExpression,x=e.normalizationType,w=e.normalizationField,b=e.normalizationTotal,F=[],N=e.viewInfoParams;let E=null,v=null;if(j){if(!$){const{arcadeUtils:e}=await (0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_11__/* .loadArcade */ .l)();$=e}$.hasGeometryOperations(j)&&await $.enableGeometryOperations(),E=$.createFunction(j),v=N?$.getViewInfo({viewingMode:N.viewingMode,scale:N.scale,spatialReference:new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A(N.spatialReference)}):null}const U=e.fieldInfos,M=!(t[0]&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass)&&U?{fields:U}:null;return t.forEach((e=>{const t=e.attributes;let o;if(j){const t=M?{...e,layer:M}:e,n=$.createExecContext(t,v,f);o=$.executeFunction(E,n)}else t&&(o=t[r],i?(o=`${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_9__/* .processNullValue */ .gJ)(o)}${l}${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_9__/* .processNullValue */ .gJ)(t[i])}`,s&&(o=`${o}${l}${(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_9__/* .processNullValue */ .gJ)(t[s])}`)):"string"==typeof o&&n&&(g?o=o?new Date(o).getTime():null:m&&(o=o?I(o):null)));if(x&&"number"==typeof o&&isFinite(o)){const e=t&&parseFloat(t[w]);o=(0,_statistics_utils_js__WEBPACK_IMPORTED_MODULE_9__/* .getNormalizedValue */ .zS)(o,x,e,b)}F.push(o)})),F}function F(e){const t=e.field,n=e.normalizationType,r=e.normalizationField;let o;return"field"===n?o="(NOT "+r+" = 0)":"log"!==n&&"natural-log"!==n&&"square-root"!==n||(o=`(${t} > 0)`),o}function N(e,t,n){const r=null!=t?e+" >= "+t:"",o=null!=n?e+" <= "+n:"";let i="";return i=r&&o?U(r,o):r||o,i?"("+i+")":""}function E(t,n,r,o){let i;return n?n.name!==t.objectIdField&&o.includes(n.type)||(i=new e(r,"'field' should be one of these types: "+o.join(","))):i=new e(r,"'field' is not defined in the layer schema"),i}function v(t,n,r){let o;return n?n.name!==t.objectIdField&&u(n)||(o=new e(r,"'field' should be one of these numeric types: "+f.join(","))):o=new e(r,"'field' is not defined in the layer schema"),o}function U(e,t){let n=null!=e?e:"";return null!=t&&t&&(n=n?"("+n+") AND ("+t+")":t),n}function M(t,n){if(t&&"intersects"!==t.spatialRelationship)return new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(n,"Only 'intersects' spatialRelationship is supported for featureFilter")}function T(t,n,r){const o=z({layer:t,fields:n});if(o.length)return new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(r,"Unknown fields: "+o.join(", ")+". You can only use fields defined in the layer schema");const i=R({layer:t,fields:n});return i.length?new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(r,"Unsupported fields: "+i.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}function z(e){const t=e.layer;return e.fields.filter((e=>!t.getField(e)))}function R(e){const t=e.layer;return e.fields.filter((e=>{const n=t.getFieldUsageInfo(e);return!n||!n.supportsStatistics}))}function A(e,t,n){const r=[],o=[],i=[],s=[],l=[];e.forEach(((e,t)=>{const a=e.field?"field":"expression",u=e.field||e.valueExpression;e.field?(l.push(u),o.push(`var ${a}${t} = Number($feature["${u}"]);`)):(r.push(`function getValueForExpr${t}() {\n  ${u} \n}`),o.push(`var ${a}${t} = Number(getValueForExpr${t}());`)),n||i.push(`${a}${t} = IIf(${a}${t} < 0, 0, ${a}${t});`),s.push(`${a}${t}`)}));const a=r.length?null:l.reduce(((e,t)=>`${e} + ${t}`));let u=null;t||n?t?n||a&&(u=`(( ${a} ) >= 0)`):a&&(u=`(( ${a} ) <> 0)`):a&&(u=`(( ${a} ) > 0)`);return{valueExpression:[r.length?r.join("\n"):"",o.join("\n"),i.join("\n"),`var total = ${s.join(" + ")};`,"return total;"].filter(Boolean).join("\n\n"),sqlExpression:a,sqlWhere:u}}


/***/ }),

/***/ 42034:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ uniqueValues_f)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Error.js
var core_Error = __webpack_require__(98849);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/smartMapping/statistics/support/utils.js
var utils = __webpack_require__(96568);
;// ../node_modules/@arcgis/core/smartMapping/support/binningUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e="aggregateCount";function i(e,i){if(!e.view)throw new core_Error/* default */.A(`${i}:missing-parameters`,"'view' parameter is required for binning");if(e.sqlExpression)throw new core_Error/* default */.A(`${i}:invalid-parameters`,"'sqlExpression' parameter is not supported for binning");if("3d"===e.view.type)throw new core_Error/* default */.A(`${i}:invalid-parameters`,"3d view is not supported for binning")}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/smartMapping/support/utils.js
var support_utils = __webpack_require__(99340);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(9272);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/generateRendererUtils.js
var generateRendererUtils = __webpack_require__(47003);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/workers/workers.js + 5 modules
var workers = __webpack_require__(90752);
;// ../node_modules/@arcgis/core/smartMapping/statistics/support/WorkerClient.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class n{constructor(){this.connection=null}async open(t){this.connection=await (0,workers/* open */.ho)("statsWorker",{strategy:"distributed",signal:t})}destroy(){this.connection?.close()}static getInstance(){return n.instance||(n.instance=new n),n.instance}async summaryStatistics(e,n){if(!this.connection)throw new core_Error/* default */.A("worker-client:summary-statistics","connection is required");return this.connection.invoke("summaryStatistics",{attribute:e,features:n})}async uniqueValues(e,n){if(!this.connection)throw new core_Error/* default */.A("worker-client:unique-values","connection is required");return this.connection.invoke("uniqueValues",{attribute:e,features:n})}async classBreaks(e,n){if(!this.connection)throw new core_Error/* default */.A("worker-client:class-breaks","connection is required");return this.connection.invoke("classBreaks",{attribute:e,features:n})}async histogram(e,n){if(!this.connection)throw new core_Error/* default */.A("worker-client:histogram","connection is required");return this.connection.invoke("histogram",{attribute:e,features:n})}async heatmapStatistics(e,n){if(!this.connection)throw new core_Error/* default */.A("worker-client:heatmap-statistics","connection is required");return this.connection.invoke("heatmapStatistics",{attribute:e,features:n})}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/Graphic.js
var Graphic = __webpack_require__(25707);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/promiseUtils.js
var promiseUtils = __webpack_require__(40189);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js
var arcgisLayerUrl = __webpack_require__(16123);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/fieldUtils.js
var fieldUtils = __webpack_require__(42453);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/request.js
var request = __webpack_require__(86394);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/renderers/support/jsonUtils.js
var jsonUtils = __webpack_require__(48887);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/utils.js
var rest_utils = __webpack_require__(11499);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/infoFor3D.js
var infoFor3D = __webpack_require__(40906);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/source/DataLayerSource.js + 3 modules
var DataLayerSource = __webpack_require__(44360);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/query/executeQueryJSON.js
var executeQueryJSON = __webpack_require__(9190);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/query/executeQueryPBF.js + 1 modules
var executeQueryPBF = __webpack_require__(89538);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/FeatureSet.js
var FeatureSet = __webpack_require__(57822);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/Query.js
var Query = __webpack_require__(14474);
;// ../node_modules/@arcgis/core/rest/query/executeQuery.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function executeQuery_f(t,o,r,e,n){return m(o,await c(t,o,r,e,n),r,e)}async function c(t,o,r,e,n){const i={...e},u=p(o,r),f=null!=o.outStatistics?.[0],c=(0,has/* default */.A)("featurelayer-pbf-statistics"),m=!f||c;let d;if("pbf"===r?.format&&m)try{d=await (0,executeQueryPBF/* executeRawQueryPBF */.S)(t,u,i,n)}catch(y){if("query:parsing-pbf"!==y.name)throw y;r.format="json"}return"json"!==r?.format&&m||(d=await (0,executeQueryJSON/* executeRawQueryJSON */.e)(t,u,i,n)),l(r?.fieldsIndex,d.fields),d}function l(t,o){if(null!=t&&null!=o)for(const r of o){const o=t.get(r.name);o&&Object.assign(r,o.toJSON())}}async function m(t,r,e,n){const s=e?.infoFor3D;if(!d(t,s)||null==s||!r.assetMaps||!r.features?.length)return FeatureSet/* default */.A.fromJSON(r);const{meshFeatureSetFromJSON:a}=await (0,promiseUtils/* whenOrAbort */.qr)(__webpack_require__.e(/* import() */ 37431).then(__webpack_require__.bind(__webpack_require__, 37431)),n);return a(t,s,r)}function p(o,s){let a=Query/* default */.A.from(o);a.sourceSpatialReference=a.sourceSpatialReference??s?.sourceSpatialReference??null,(s?.gdbVersion||s?.dynamicDataSource)&&(a=a===o?a.clone():a,a.gdbVersion=o.gdbVersion||s.gdbVersion,a.dynamicDataSource=o.dynamicDataSource?DataLayerSource/* DataLayerSource */.L.from(o.dynamicDataSource):s.dynamicDataSource);const i=s?.infoFor3D;if(null!=i&&d(o,i)){a=a===o?a.clone():a,a.formatOf3DObjects=null;const n=(0,infoFor3D/* getGlbFormatId */.U9)(i),s=(0,infoFor3D/* getGltfFormatId */.CW)(i);for(const t of i.queryFormats){if(t===n){a.formatOf3DObjects=t;break}t!==s||a.formatOf3DObjects||(a.formatOf3DObjects=t)}if(!a.formatOf3DObjects)throw new core_Error/* default */.A("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(null==a.outFields||!a.outFields.includes("*")){a=a===o?a.clone():a,null==a.outFields&&(a.outFields=[]);const{originX:t,originY:r,originZ:e,translationX:n,translationY:s,translationZ:u,scaleX:f,scaleY:c,scaleZ:l,rotationX:m,rotationY:p,rotationZ:d,rotationDeg:y}=i.transformFieldRoles;a.outFields.push(t,r,e,n,s,u,f,c,l,m,p,d,y)}}return a}function d(t,o){return null!=o&&!0===t.returnGeometry&&"xyFootprint"!==t.multipatchOption&&!t.outStatistics}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/StatisticDefinition.js
var StatisticDefinition = __webpack_require__(41969);
;// ../node_modules/@arcgis/core/rest/generateRenderer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function generateRenderer_l(t,i,a,s){const l=(0,rest_utils/* parseUrl */.Dl)(t),{source:r,checkValueRange:u}=i,{classificationDefinition:c}=a,f={...a.toJSON(),f:"json"};let m=null;if(m="class-breaks-definition"===c?.type?c.classificationField:c?.attributeField,r){const e={source:r?.toJSON()};f.layer=JSON.stringify(e)}f.classificationDef&&(f.classificationDef=JSON.stringify(f.classificationDef));let p={query:f};s&&(p={...s,...p});const y={url:l.path,field:m,checkValueRange:u},d=l.path+"/generateRenderer";return (0,request/* default */.A)(d,p).then((e=>o(y,e)))}function o(e,t){const{field:n,checkValueRange:l,url:o}=e,u=t?.data;if(!u)return;if(!l){const e=r(u);return Promise.resolve(e)}const c=new StatisticDefinition/* default */.A({statisticType:"min",onStatisticField:n}),f=new StatisticDefinition/* default */.A({statisticType:"max",onStatisticField:n}),m=new Query/* default */.A({outStatistics:[c,f]});return executeQuery_f(o,m).then((e=>{const t=e.features[0].attributes;let n=null,i=null;for(const a in t)0===a.toLowerCase().indexOf("min")?n=t[a]:i=t[a];return r(u,n,i)}))}function r(e,n,i){if("classBreaks"===e.type){const a=(0,jsonUtils/* fromJSON */.r)(e);return{classBreaks:a.classBreakInfos.map(((e,t)=>(0===t&&null!=n&&(e.minValue=n),t===a.classBreakInfos.length-1&&null!=i&&(e.maxValue=i),{minValue:e.minValue,maxValue:e.maxValue,label:e.label}))),normalizationTotal:a.normalizationTotal}}const{uniqueValueInfos:a}=e;return{uniqueValues:a?.map(((e,t)=>(0===t&&null!=n&&(e.value=n),t===a.length-1&&null!=i&&(e.value=i),{count:e.count,value:e.value,label:e.label})))??[]}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(21877);
;// ../node_modules/@arcgis/core/rest/support/GenerateRendererParameters.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GenerateRendererParameters_t=class extends JSONSupport/* default */.A{constructor(r){super(r),this.classificationDefinition=null,this.where=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"classificationDef",write:!0}})],GenerateRendererParameters_t.prototype,"classificationDefinition",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],GenerateRendererParameters_t.prototype,"where",void 0),GenerateRendererParameters_t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.GenerateRendererParameters")],GenerateRendererParameters_t);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(28902);
;// ../node_modules/@arcgis/core/rest/support/UniqueValueDefinition.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let UniqueValueDefinition_s=class extends JSONSupport/* default */.A{constructor(t){super(t),this.type="unique-value-definition",this.attributeField=null,this.attributeField2=null,this.attributeField3=null,this.fieldDelimiter=null}get uniqueValueFields(){const t=[];return this.attributeField&&t.push(this.attributeField),this.attributeField2&&t.push(this.attributeField2),this.attributeField3&&t.push(this.attributeField3),t}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({uniqueValueDef:"unique-value-definition"})],UniqueValueDefinition_s.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],UniqueValueDefinition_s.prototype,"attributeField",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],UniqueValueDefinition_s.prototype,"attributeField2",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],UniqueValueDefinition_s.prototype,"attributeField3",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],UniqueValueDefinition_s.prototype,"fieldDelimiter",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],UniqueValueDefinition_s.prototype,"uniqueValueFields",null),UniqueValueDefinition_s=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.UniqueValueDefinition")],UniqueValueDefinition_s);

;// ../node_modules/@arcgis/core/smartMapping/statistics/support/predominanceUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const predominanceUtils_e="no_dominant_category";function predominanceUtils_l(n){return`(${n.map((n=>`${n} >= 0`)).join(" OR ")})`}function u(n){return{expression:predominanceUtils_r(n,{returnFieldName:!0,defaultValue:`'${predominanceUtils_e}'`})}}function predominanceUtils_r(e,l){const{returnFieldName:u,defaultValue:r,layer:t}=l,i=[];if(u&&r){const n=e.map((n=>`${n} <= 0`)).join(" AND ");i.push(`WHEN ${n} THEN ${r}`)}for(const o of e){const l=e.reduce(((n,a)=>(o!==a&&n.push(`${o} > ${a}`),n)),[]).join(" AND "),r=t&&(0,support_utils/* isIntegerField */.R3)(t,o),s=u&&`'${o}'`?`'${o}'`:r?(0,support_utils/* castIntegerFieldToFloat */.Ll)(o):o;i.push(`WHEN ${l} THEN ${s}`)}return`CASE ${i.join(" ")} ELSE ${r||"0"} END`}function t(n,a){const e=a.join(" + "),u={sqlExpression:`(${e})`,sqlWhere:predominanceUtils_l(a)},t={sqlExpression:`(( (${predominanceUtils_r(a,{layer:n})}) / (${e}) ) * 100)`,sqlWhere:`${predominanceUtils_l(a)} AND ((${e}) > 0)`};return{predominantCategory:{valueExpression:predominanceUtils_s(a)},size:{valueExpression:$(a),statisticsQuery:u,histogramQuery:u},opacity:{valueExpression:V(a),statisticsQuery:t,histogramQuery:t}}}function predominanceUtils_i(n){return n&&n.map((n=>`$feature["${n}"];`)).join("\n")+"\n"||""}function predominanceUtils_o(n,a=!1){const e=n.map((n=>`"${n}"`)),l="\n  if(value != null && value >= 0) {\n    if (totalValue == null) { totalValue = 0; }\n    totalValue = totalValue + value;\n  }\n  ";return`\n  var fieldNames = [ ${e.join(", ")} ];\n  var numFields = ${e.length};\n  var maxValueField = null;\n  var maxValue = -Infinity;\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numFields; i++) {\n    value = $feature[fieldNames[i]];\n\n    if(value > 0) {\n      if(value > maxValue) {\n        maxValue = value;\n        maxValueField = fieldNames[i];\n      }\n      else if (value == maxValue) {\n        maxValueField = null;\n      }\n    }\n    ${a?l:""}\n  }\n  `}function predominanceUtils_s(n){const a=predominanceUtils_o(n);return`\n  ${predominanceUtils_i(n)}\n  ${a}\n  return maxValueField;\n  `}function f(n){const a=predominanceUtils_o(n);return`\n  ${predominanceUtils_i(n)}\n  ${a}\n  return maxValue;\n  `}function v(n,a){const e=predominanceUtils_m(n),l=predominanceUtils_i(e),u=n.map((n=>n.label?`"${n.label}"`:`"${n.fieldName}"`)),r=e.map((n=>`Number($feature["${n}"])`)),t=[];return a&&a.forEach(((n,a)=>{t.push(`function getValueForExpr${a}() {\n  ${n.expression} \n}`),r.push(`Number(getValueForExpr${a}())`),u.push(`"${n.title||n.name}"`)})),`\n  ${l}\n\n  ${t.length?t.join("\n"):""}\n\n  var values = [ ${r.join(", ")} ];\n  var aliases = [ ${u.join(", ")} ];\n  var numValues = ${r.length};\n  var maxValueAlias = null;\n  var maxValue = -Infinity;\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numValues; i++) {\n    value = values[i];\n\n    if(value > 0) {\n      if(value > maxValue) {\n        maxValue = value;\n        maxValueAlias = aliases[i];\n      }\n      else if (value == maxValue) {\n        maxValueAlias = "Tie";\n      }\n    }\n  }\n  return maxValueAlias;\n  `}function predominanceUtils_m(n){return n.filter((({fieldName:n})=>!!n)).map((n=>n.fieldName))}function predominanceUtils_p(n){return`\n  ${predominanceUtils_i(n)}\n  var fieldValues = [ ${n.map((n=>`$feature["${n}"]`)).join(", ")} ];\n  var totalValue = Sum(fieldValues);\n  var order = Reverse(Sort(fieldValues));\n  return IIF(totalValue > 0, Round(((order[0] - order[1]) / totalValue) * 100, 2), null);\n  `}function $(n){const a=predominanceUtils_i(n),e=n.map((n=>`"${n}"`));return`\n  ${a}\n  var fieldNames = [ ${e.join(", ")} ];\n  var numFields = ${e.length};\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numFields; i++) {\n    value = $feature[fieldNames[i]];\n\n    if(value != null && value >= 0) {\n      if (totalValue == null) { totalValue = 0; }\n      totalValue = totalValue + value;\n    }\n  }\n\n  return totalValue;\n  `}function V(n){const a=predominanceUtils_o(n,!0);return`\n  ${predominanceUtils_i(n)}\n  ${a}\n\n  var strength = null;\n\n  if (maxValueField != null && totalValue > 0) {\n    strength = (maxValue / totalValue) * 100;\n  }\n\n  return strength;\n  `}function predominanceUtils_c(n,a){const e=predominanceUtils_i(predominanceUtils_m(n)),l=n.map((n=>`{\n    value: Number($feature["${n.fieldName}"]),\n    alias: "${n.label||n.fieldName}"\n    }`)),u=[];return a&&a.forEach(((n,a)=>{u.push(`function getValueForExpr${a}() {\n  ${n.expression} \n}`),l.push(`{\n          value: Number(getValueForExpr${a}()),\n          alias: "${n.title||n.name}"\n          }`)})),`\n  ${e}\n\n  ${u.length?u.join("\n"):""}\n\n  var groups = [ ${l.join(", ")} ];\n  var numTopValues = Count(groups);\n\n  function getValuesArray(arr){\n    var valuesArray = []\n    for(var i in arr){\n      valuesArray[i] = arr[i].value;\n    }\n    return valuesArray;\n  }\n\n  function findAliases(top5Array, fullArray){\n    var aliases = [];\n    var found = "";\n    for(var i in top5Array){\n      for(var k in fullArray){\n        if(top5Array[i] == fullArray[k].value && Find(fullArray[k].alias, found) == -1){\n          found += fullArray[k].alias;\n          aliases[Count(aliases)] = {\n            alias: fullArray[k].alias,\n            value: top5Array[i]\n          };\n        }\n      }\n    }\n    return aliases;\n  }\n\n  function getTopGroups(groupsArray){\n    var values = getValuesArray(groupsArray);\n    var top5Values = IIF(Max(values) > 0, Top(Reverse(Sort(values)),numTopValues), "no data");\n    var top5Aliases = findAliases(top5Values,groupsArray);\n\n    if(TypeOf(top5Values) == "String"){\n      return top5Values;\n    } else {\n      var content = "";\n      for(var i in top5Aliases){\n        if(top5Aliases[i].value > 0){\n          content += (i+1) + ". " + top5Aliases[i].alias + " (" + Text(top5Aliases[i].value, "#,###") + ")";\n          content += IIF(i < numTopValues-1, TextFormatting.NewLine, "");\n        }\n      }\n    }\n\n    return content;\n  }\n\n  getTopGroups(groups);\n  `}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(6267);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(85251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/quantizationUtils.js
var quantizationUtils = __webpack_require__(20698);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/fieldType.js
var fieldType = __webpack_require__(17930);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/QuantizationParameters.js
var QuantizationParameters = __webpack_require__(19925);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/smartMapping/statistics/support/statsWorker.js
var statsWorker = __webpack_require__(71164);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Loadable.js
var Loadable = __webpack_require__(45307);
;// ../node_modules/@arcgis/core/smartMapping/support/adapters/LayerAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let LayerAdapter_p=class extends Loadable/* default */.A{constructor(o){super(o),this.adapterName="layer-adapter"}};(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],LayerAdapter_p.prototype,"adapterName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],LayerAdapter_p.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],LayerAdapter_p.prototype,"geometryType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],LayerAdapter_p.prototype,"objectIdField",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],LayerAdapter_p.prototype,"supportsSQLExpression",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],LayerAdapter_p.prototype,"hasQueryEngine",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],LayerAdapter_p.prototype,"minScale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],LayerAdapter_p.prototype,"maxScale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],LayerAdapter_p.prototype,"fullExtent",void 0),LayerAdapter_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.smartMapping.support.adapters.LayerAdapter")],LayerAdapter_p);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/intl/date.js
var date = __webpack_require__(76459);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/AttributeBinsQuery.js
var AttributeBinsQuery = __webpack_require__(45970);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/AutoIntervalBinParameters.js
var AutoIntervalBinParameters = __webpack_require__(30245);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/DateBinParameters.js + 1 modules
var DateBinParameters = __webpack_require__(24465);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/FixedBoundariesBinParameters.js
var FixedBoundariesBinParameters = __webpack_require__(35985);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/rest/support/FixedIntervalBinParameters.js
var FixedIntervalBinParameters = __webpack_require__(34344);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/CodedValue.js
var CodedValue = __webpack_require__(43052);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/CodedValueDomain.js
var CodedValueDomain = __webpack_require__(67112);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/Domain.js
var Domain = __webpack_require__(13544);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/InheritedDomain.js
var InheritedDomain = __webpack_require__(15592);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/RangeDomain.js
var RangeDomain = __webpack_require__(48927);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/support/Field.js
var Field = __webpack_require__(24738);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/statistics/utils.js
var statistics_utils = __webpack_require__(27218);
;// ../node_modules/@arcgis/core/smartMapping/support/adapters/support/utils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const F=/_value$/i,w=Math.LOG10E,E={SECOND:1e3,MINUTE:6e4,HOUR:36e5},utils_S=10;function T(e){return e.map((e=>e.toJSON()))}function utils_V(e,t){const n=[],l=e.layer,i="featureReduction"in l?l.featureReduction:null,o="binning"===i?.type,a=null!=i&&"fields"in i?i.fields?.map((e=>e.name?.toLowerCase())).filter(Boolean):[];if(!o||!t)return n;for(const r of t)a.includes(r.toLowerCase())||n.push(r);return n}function z(e,t,n){const l=[];if(t)for(const i of t){const t=e.getField(i);t&&n&&"availableFields"in n&&!n.availableFields?.includes(t.name)&&l.push(t.name)}return l}function utils_$(e,t){const n=e&&e.features;if(0===n?.length)return{avg:null,count:0,max:null,median:null,min:null,nullcount:0,stddev:null,sum:null,variance:null};const l=n?.[0]?.attributes,i={};for(const o in l)i[o.replace(F,"").toLowerCase()]=l[o];return null!=i.totalcount&&i.totalcount>=i.count&&(i.nullcount=i.totalcount-i.count),delete i.totalcount,i.min===i.max&&null!=i.min&&null==i.stddev&&(i.stddev=i.variance=0),t&&(["min","max","avg","stddev","sum","variance"].forEach((e=>{null!=i[e]&&(i[e]=Math.ceil(i[e]))})),i.min===i.max&&null!=i.min&&(i.avg=i.min,i.stddev=i.variance=0)),i}function C(e){const t=[],n=e.classBreaks,l=n[0].minValue,i=n[n.length-1].maxValue;n.forEach((e=>{t.push([e.minValue,e.maxValue])}));const o={field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,layer:e.layer};return{min:l,max:i,intervals:t,sqlExpr:j(o),excludeZerosExpr:e.where,normTotal:e.normalizationTotal}}function j(e){const{field:t,normalizationType:n,normalizationField:l,normalizationTotal:i,layer:o}=e,a=(0,support_utils/* isIntegerField */.R3)(o,t);let r=t;return"percent-of-total"===n?r=`((${a?(0,support_utils/* castIntegerFieldToFloat */.Ll)(t):t} / ${i}) * 100)`:"log"===n?r=`(log(${t}) * ${w})`:"field"===n?r=`(${a?(0,support_utils/* castIntegerFieldToFloat */.Ll)(t):t} / ${l})`:"natural-log"===n?r=`(log(${a?(0,support_utils/* castIntegerFieldToFloat */.Ll)(t):t}))`:"square-root"===n&&(r=`(power(${a?(0,support_utils/* castIntegerFieldToFloat */.Ll)(t):t}, 0.5))`),r}function q(e,t){let n;if(t=t.toLowerCase(),e)for(const l in e)if(l.toLowerCase()!==t){n=e[l];break}return n}function b(e,t){let n;if(t=t.toLowerCase(),e)for(const l in e)if(l.toLowerCase()===t){n=e[l];break}return n}function O(e,t,n,l,i){const o={},a="countOFExpr";e&&e.features&&e.features.forEach((e=>{const t=e.attributes,n=q(t,a),l=b(t,a);null!=n&&null!=l&&0!==n&&(o[n]=l)}));const r=[];return (0,statistics_utils/* getEqualIntervalBins */.OR)(t,n,l).forEach(((e,t)=>{const n=(t+1).toString();r.push({minValue:e[0],maxValue:e[1],count:o.hasOwnProperty(n)?o[n]:0})})),{bins:r,minValue:t,maxValue:n,normalizationTotal:i}}async function L(e,n){const l=e&&e.features,{field:i,field2:o,field3:a,fieldDelimiter:r,layer:s,view:u,signal:c,labels:m}=n,f=`countOF${!(!i||!o)?"Expr":i||"Expr"}`,p={};let d=!1;for(const t of l){const e=t.attributes,n=b(e,f);let l=i?b(e,i):q(e,f),s=o?b(e,o):null,u=a?b(e,a):null;null===l&&0===n&&(d=!0),(null==l||"string"==typeof l&&""===l.trim())&&(l=null),o&&(null==s||"string"==typeof s&&""===s.trim())&&(s=null),a&&(null==u||"string"==typeof u&&""===u.trim())&&(u=null);let c=l;o&&(c=`${(0,statistics_utils/* processNullValue */.gJ)(c)}${r}${(0,statistics_utils/* processNullValue */.gJ)(s)}`,a&&(c=`${c}${r}${(0,statistics_utils/* processNullValue */.gJ)(u)}`)),null==p[c]?p[c]={count:n,data:c}:p[c].count=p[c].count+n}if(i&&d){const e=i+" is NULL";try{const t=await s.queryFeatureCount({whereClause:e,view:u,signal:c});return p.null.count=p.null.count+t,R(p,m)}catch{return (0,promiseUtils/* throwIfAborted */.Te)(c),R(p,m)}}return R(p,m)}function R(e,t){if(t)for(const n in e)e[n].label=t[n];return{count:e}}async function D(e,t,i){const o=e?i.getField(e):null,a=o?i.getFieldDomain(o.name):null;if(a)return a;const{uniqueValueInfos:r}=await i.uniqueValues({field:e,sqlWhere:t.sqlWhere,features:t.features,useFeaturesInView:t.useFeaturesInView,view:t.view,signal:t.signal}),s=r.map((e=>new CodedValue/* CodedValue */.H({code:e.value})));return new CodedValueDomain/* default */.A({codedValues:s})}async function I(e,t){if(!e.returnAllCodedValues)return[];const{field:n,field2:l,field3:i}=e;if(n&&!l){const e=n?t.getField(n):null,l=e?t.getFieldDomain(e.name):null;return l?[l]:[]}const o=[];return n&&(o.push(D(n,e,t)),l&&(o.push(D(l,e,t)),i&&o.push(D(i,e,t)))),Promise.all(o)}function N(e,t){return (0,support_utils/* getDateDiffSQL */.aM)(e,new Date(0),t,"milliseconds").sqlExpression}function U(e,t){return`EXTRACT(${t} FROM ${e}) * ${E[t]}`}function M(e){if(!e)return null;return (0,support_utils/* castIntegerFieldToFloat */.Ll)(["HOUR","MINUTE","SECOND"].map((t=>`(${U(e,t)})`)).join(" + "))}function B(e){return{viewingMode:"2d"===e.type?"map":e.viewingMode,scale:e.scale,spatialReference:e.spatialReference?.toJSON()}}function Q(e,t){const n=new Set(e.map((e=>e.value))),l=t.filter((e=>!n.has(e)));for(const i of l)e.push({value:i,count:0});e.sort(((e,n)=>t.indexOf(e.value)-t.indexOf(n.value)));for(const i of e)i.value===predominanceUtils_e&&(i.value=null);return{predominantCategoryInfos:e}}function P(t){const n="featureReduction"in t?t.featureReduction:null;return((null!=n&&"fields"in n?n.fields:null)??[]).map((e=>{const n=W(e,t.fieldsIndex);return n?new Field/* default */.A({type:n,name:e.name,alias:e.alias}):null})).filter(arrayUtils/* isSome */.Ru)}function W(e,t){switch(e.statisticType){case"avg":case"avg_angle":return"double";case"count":return"integer";case"min":case"max":case"sum":return e.onStatisticField?t.get(e.onStatisticField)?.type??null:e.onStatisticExpression?"string"===e.onStatisticExpression.returnType?null:"double":null;case"mode":return e.onStatisticField?t.get(e.onStatisticField)?.type??null:e.onStatisticExpression?"string"===e.onStatisticExpression.returnType?"string":"double":null;default:return null}}function _(e,t){return (0,support_utils/* isAnyDateField */.fs)(t)?N(e,t?.name):(0,fieldUtils/* isTimeOnlyField */.OH)(t)?M(t?.name):null}function k(e,t,n,l=!0){const{field:i,normalizationType:a,normalizationField:s,normalizationTotal:f,minValue:p,maxValue:d,filter:y}=t,v=e.supportsSQLExpression?_(e,n)||t.sqlExpression:null,h=j({field:i,normalizationType:a,normalizationField:s,normalizationTotal:f,layer:e}),F=v||h,w=F?(0,utils/* getRangeExpr */.lX)(F,p,d):null,E=(0,utils/* getSQLFilterForNormalization */.Lc)({field:i,normalizationField:s,normalizationType:a}),S=(0,utils/* mergeWhereClauses */.sf)(t.sqlWhere,E),T=(0,utils/* mergeWhereClauses */.sf)(S,w),V=(0,statistics_utils/* isNullCountSupported */.Vb)({normalizationField:s,normalizationType:a,sqlExpression:v,supportsSQLExpression:e.supportsSQLExpression,minValue:p,maxValue:d}),z=(0,fieldUtils/* isStringField */.yM)(e.getField(i??void 0)),{include:$,exclude:C}=t.outStatisticTypes||{},q=statistics_utils/* statisticTypes */.wy.filter((e=>(!$||$.includes(e))&&(!C||!C.includes(e))&&("nullcount"===e?V:!z||"count"===e)&&("median"!==e||l))),b=e.createQuery();return b.where=(0,utils/* mergeWhereClauses */.sf)(b.where,T),b.sqlFormat=v?"standard":null,b.outStatistics=q.map((t=>{const n=new StatisticDefinition/* default */.A;let l=null,i=null,o=`${t}_value`;if("variance"===t)l="var",i=F;else if("nullcount"===t){const t=e.objectIdField;l="count",i=t&&e.getField(t)?t:"1",o="totalcount_value"}else"median"===t?(l="percentile-continuous",i=F,n.statisticParameters={value:.5}):(l=t,i=F);return n.statisticType=l,n.onStatisticField=i,n.outStatisticFieldName=o,n})),A(b,y),b}function A(e,t){t&&(e.geometry=t.geometry,e.spatialRelationship=t.spatialRelationship)}function H(e,t){const{field:n,field2:l,field3:i,sqlExpression:o}=t,a=!(!n||!l),r=e.createQuery();return r.where=(0,utils/* mergeWhereClauses */.sf)(r.where,t.sqlWhere),r.sqlFormat=o?"standard":null,r.outStatistics=[J(a?null:n,a?"1":o)].filter(Boolean),r.groupByFieldsForStatistics=[n||o,l,i].filter(Boolean),A(r,t.filter),r}function J(e,t){const n="countOF"+(e||"Expr"),l=new StatisticDefinition/* default */.A;return l.statisticType="count",l.onStatisticField=t?"1":e,l.outStatisticFieldName=n,l}function Z(e,t,n,l=utils_S,i,o,a){const{min:r,max:s,normTotal:u,excludeZerosExpr:c}=t,m=t.intervals||(0,statistics_utils/* getEqualIntervalBins */.OR)(r,s,l),f=t.sqlExpr||n;return G(e,m,f,c,i,o,a).then((e=>({bins:e.map(((e,t)=>({minValue:m[t][0],maxValue:m[t][1],count:"fulfilled"===e.status?e.value:0}))),minValue:r,maxValue:s,normalizationTotal:u})))}function G(e,t,n,l,i,o,a){const r=[],s=t.length;for(let u=0;u<s;u++){const e=(0,utils/* mergeWhereClauses */.sf)(l,(0,utils/* mergeWhereClauses */.sf)(n+" >= "+t[u][0],null!==t[u][1]?n+(u===s-1?" <= ":" < ")+t[u][1]:""));r.push(e)}return Promise.allSettled(r.map((t=>e.queryFeatureCount({whereClause:t,view:i,filter:o,signal:a}))))}

;// ../node_modules/@arcgis/core/smartMapping/support/adapters/support/histogramUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const histogramUtils_V="countOFExpr",histogramUtils_j="lowerBoundary",histogramUtils_q="upperBoundary";function histogramUtils_I(i,e,t){const a=i.valueExpression||i.sqlExpression,r=i.signal;if(!a){const{field:a,normalizationType:o,normalizationField:l}=i,s=a?e.getField(a):null,u=(0,support_utils/* isAnyDateField */.fs)(s)||(0,fieldUtils/* isTimeOnlyField */.OH)(s),m={field:a,normalizationType:o,normalizationField:l,normalizationTotal:t,layer:e};return{sqlExpression:u?_(e,s):j(m),sqlWhere:u?null:i.sqlWhere||(0,utils/* getSQLFilterForNormalization */.Lc)({field:a,normalizationType:o,normalizationField:l}),filter:i.filter,signal:r}}return{valueExpression:i.valueExpression,sqlExpression:i.sqlExpression,sqlWhere:i.sqlWhere,filter:i.filter,signal:r}}async function histogramUtils_M(i,e,n){const{field:t,normalizationType:a,normalizationField:r,signal:o}=i,l=(0,utils/* getSQLFilterForNormalization */.Lc)({field:t,normalizationType:a,normalizationField:r}),s=new GenerateRendererParameters_t({classificationDefinition:(0,statistics_utils/* createClassBreaksDefinition */.al)({field:t,normalizationType:a,normalizationField:r,classificationMethod:i.classificationMethod,standardDeviationInterval:i.standardDeviationInterval,definedInterval:i.definedInterval,breakCount:i.numBins||utils_S}),where:(0,utils/* mergeWhereClauses */.sf)(l,n)});return e.generateRenderer(s,o).then((i=>{const{normalizationTotal:n,classBreaks:o}=i;return C({field:t,normalizationType:a,normalizationField:r,normalizationTotal:n,classBreaks:o,where:l,layer:e})}))}async function g(e,t,a,o,d){const{field:p,sqlExpression:f,normalizationField:c,classificationMethod:z,normalizationType:v}=e,w=p?t.getField(p):null,h=(0,fieldUtils/* isTimeOnlyField */.OH)(w),F=(0,fieldUtils/* isDateOnlyField */.zD)(w)||h,B=e.numBins||utils_S;if(F){if(v||z)throw new core_Error/* default */.A(`${t.adapterName}:not-supported`,"NormalizationType and classificationMethod are not supported for date-only and time-only fields");const e=(o-a)/B/1e3,n=e/86400;return new DateBinParameters/* default */.A({field:p,expression:f,interval:{unit:h?"seconds":"days",value:Math.ceil(h?e:n)},start:a,end:o})}if("defined-interval"===z)return new FixedIntervalBinParameters/* default */.A({field:p,expression:f,normalizationField:c,normalizationTotal:d,normalizationType:v,interval:e.definedInterval??Math.ceil((o-a)/B),start:v?null:a,end:v?null:o,normalizationMinValue:v?a:null,normalizationMaxValue:v?o:null});if("manual"===z)throw new core_Error/* default */.A(`${t.adapterName}:not-supported`,"Layer does not support manual classificationMethod");if("natural-breaks"===z||"quantile"===z||"standard-deviation"===z){const n=j({field:p,normalizationField:c,normalizationTotal:d,normalizationType:v,layer:t}),r=null!==e.minValue&&null!==e.maxValue?(0,utils/* getRangeExpr */.lX)(n,e.minValue,e.maxValue):void 0,o=await histogramUtils_M(e,t,r);if(!o.intervals)throw new core_Error/* default */.A(`${t.adapterName}:invalid`,"Invalid intervals returned from generate renderer");const l=[a,...o.intervals.map((i=>i[1]))];return new FixedBoundariesBinParameters/* default */.A({field:v?null:p,expression:v?n:f,boundaries:l})}return new AutoIntervalBinParameters/* default */.A({field:p,normalizationField:c,normalizationTotal:d,normalizationType:v,expression:f,numBins:B,start:v?null:a,end:v?null:o,normalizationMinValue:v?a:null,normalizationMaxValue:v?o:null})}function histogramUtils_E(i,e,n,t){return null!=n&&null!=t?Promise.resolve({min:n,max:t}):e.summaryStatistics({...i,outStatisticTypes:{include:["min","max"]}}).then((i=>({min:i.min,max:i.max})))}async function histogramUtils_b(i,n,r,l){const{field:s,minValue:u,maxValue:m,filter:d,view:f}=i,y=s?n.getField(s):null,z=(0,fieldUtils/* isDateField */.vE)(y)||(0,fieldUtils/* isTimestampOffsetField */.Ah)(y),v=histogramUtils_I(i,n,r),{min:x,max:T}=await histogramUtils_E(v,n,u,m);if(null==x||null==T)return{query:null,min:x,max:T};const h=new StatisticDefinition/* default */.A({statisticType:"count",outStatisticFieldName:histogramUtils_V,onStatisticField:"1"}),F=(0,utils/* mergeWhereClauses */.sf)(l,v.sqlWhere),B="lowerBoundary",j="upperBoundary",q=new AttributeBinsQuery["default"]({binParameters:await g(i,n,x,T,r),outStatistics:[h],binOrder:i.sortOrder,where:F,lowerBoundaryAlias:B,upperBoundaryAlias:j,outTimeZone:f?.timeZone&&z?(0,date/* resolveTimeZone */.wj)(f.timeZone):null});return A(q,d),{query:q,min:x,max:T}}function histogramUtils_D(i,e=!1){if("string"!=typeof i)return i;return(e?new Date(`1970-01-01T${i}Z`):new Date(i)).getTime()}function histogramUtils_P(i,e,t){const a=(0,fieldUtils/* isTimeOnlyField */.OH)(e);return{...t,bins:i.features.map((i=>({minValue:histogramUtils_D(i.attributes[histogramUtils_j],a),maxValue:histogramUtils_D(i.attributes[histogramUtils_q],a),count:i.attributes[histogramUtils_V]})))}}function S(i,e,n){const{valueExpression:t,view:a}=i,{featuresJSON:r,graphics:o,fieldInfos:l}=e,s={field:i.field,valueExpression:t,normalizationType:i.normalizationType,normalizationField:i.normalizationField,normalizationTotal:n,minValue:i.minValue,maxValue:i.maxValue,standardDeviationInterval:i.standardDeviationInterval,classificationMethod:i.classificationMethod,numBins:i.numBins};return t&&a&&(r||o)&&(s.viewInfoParams=B(a),s.timeZone=a.timeZone,s.fieldInfos=l),s}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/loadArcade.js
var loadArcade = __webpack_require__(35387);
;// ../node_modules/@arcgis/core/smartMapping/support/adapters/InMemoryLayerAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const InMemoryLayerAdapter_$=5;let InMemoryLayerAdapter_G=null,InMemoryLayerAdapter_R=class extends LayerAdapter_p{constructor(){super(...arguments),this._hasLocalSource=!1,this.adapterName="in-memory-layer-adapter"}destroy(){this.workerClient?.destroy()}async _waitForLayerViewUpdate(e){if(!e)throw new core_Error/* default */.A(`${this.adapterName}:insufficient-data`,"layerView is required to fetch the features");const t=new AbortController,i=(0,reactiveUtils/* whenOnce */.C_)((()=>!e.updating),t.signal);await (0,promiseUtils/* timeout */.wR)(i,5e3,t).catch((e=>{throw Logger/* default */.A.getLogger(this).warn("LayerView is taking too long to update. Aborting fetch from layerView."),e}))}async _fetchFeatureSetFromMemory(e,t,a){const i=this.layer;if(this._hasLocalSource&&"queryFeatures"in i)return i.queryFeatures(e);if(!t)throw new core_Error/* default */.A(`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=await t.whenLayerView(this.layer);return await this._waitForLayerViewUpdate(s),s.queryFeatures(e,{signal:a})}async _fetchFeaturesFromMemory(e,t,a,i){const s=this.layer,o="json"===i;if(this._hasLocalSource&&"queryFeatures"in s){const e=await s.queryFeatures(t);return o?T(e.features):e.features}if(await this._waitForLayerViewUpdate(e),o&&"queryFeaturesJSON"in e&&e.queryFeaturesJSON){const{features:r}=await e.queryFeaturesJSON(t,{signal:a});return r}if(!("queryFeatures"in e))throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"'queryFeatures' is not supported on the layerView");const n=await e.queryFeatures(t,{signal:a});return o?T(n.features):n.features}_fetchFeaturesForStats(e,t){return (0,support_utils/* getFieldsList */.EG)({field:e.field,field2:e.field2,field3:e.field3,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then((r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,filter:e.filter,requiredFields:r,signal:e.signal},t)))}async _summaryStatsFromClientQuery(e,t){const{view:r,signal:a}=e,i=k(this,e,t),s=await this._fetchFeatureSetFromMemory(i,r,a),o=utils_$(s,(0,support_utils/* isAnyDateField */.fs)(t)||(0,fieldUtils/* isTimeOnlyField */.OH)(t));return (0,statistics_utils/* processSummaryStatisticsResult */.oZ)(o,e.outStatisticTypes)}async _getNormalizationTotalFromMemory(e,t,a){const{featuresJSON:i,graphics:s,layerView:o,query:n}=t,l={include:["sum"]},u=(!i&&!s&&o&&"querySummaryStatistics"in o?await o.querySummaryStatistics(n,{field:e},{signal:a}):i?await this.workerClient.summaryStatistics({field:e,outStatisticTypes:l},i):await (0,statsWorker.summaryStatistics)({attribute:{field:e,outStatisticTypes:l},features:s??[]})).sum;if(null==u)throw new core_Error/* default */.A(`${this.adapterName}:invalid`,"invalid normalizationTotal");return u}async _summaryStatsFromMemory(e,t){const{view:r,field:a,valueExpression:i,normalizationType:s,signal:o}=e,n={field:a,valueExpression:i,normalizationType:s,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes},{featuresJSON:l,graphics:u,layerView:m,query:y,fieldInfos:c}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"querySummaryStatistics"});return i&&r&&(l||u)&&(n.fieldType=t?.type?fieldType/* kebabDict */.m.toJSON(t.type):null,n.viewInfoParams=B(r),n.timeZone=r.timeZone,n.fieldInfos=c),"percent-of-total"===s&&null==e.normalizationTotal&&(n.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:l,graphics:u,layerView:m,query:y},o)),!l&&!u&&m&&"querySummaryStatistics"in m?m.querySummaryStatistics(y,n,{signal:o}):l?this.workerClient.summaryStatistics(n,l):(0,statsWorker.summaryStatistics)({attribute:n,features:u})}async _getFilteredFeatures(e,t){let r=e;const a=t?.geometry;if("intersects"===t?.spatialRelationship&&a){const t=await __webpack_require__.e(/* import() */ 11877).then(__webpack_require__.bind(__webpack_require__, 11877));r=e.filter((({geometry:e})=>!(!e||!t.execute(e,a))))}return e.length&&"declaredClass"in e[0]&&"esri.Graphic"===e[0].declaredClass?{graphics:r}:{featuresJSON:r}}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t?.length)return this._getFilteredFeatures(t,r);const{view:a,field:i,field2:s,field3:o,normalizationField:n,valueExpression:l,layerViewFunc:u,signal:m}=e;let p=e.returnGeometry;if(null==p&&l){if(!InMemoryLayerAdapter_G){const{arcadeUtils:e}=await (0,loadArcade/* loadArcade */.l)();InMemoryLayerAdapter_G=e}const e=InMemoryLayerAdapter_G.hasGeometryOperations(l);e&&await InMemoryLayerAdapter_G.enableGeometryOperations(),p=e}let y=null,c=null,f=null,d=null,h=null;if(a)try{const e="subtype-sublayer"===this.layer.type?this.layer.parent:this.layer;y=await a.whenLayerView(e),c=null!=u&&u in y&&"function"==typeof y[u]}catch{c=!1}if(c)try{await this._waitForLayerViewUpdate(y);const e=await (0,support_utils/* getFieldsList */.EG)({field:i,field2:s,field3:o,normalizationField:n,valueExpression:l});z(this,e,y).length?c=!1:(f=this.layer.createQuery(),f.outFields=e,f.returnGeometry=!1,A(f,r)),y.suspended&&(c=!1)}catch{c=!1}return c||(d=await this._fetchFeaturesForStats({field:i,field2:s,field3:o,valueExpression:l,normalizationField:n,returnGeometry:p,filter:r,view:a,signal:m},"json"),h=(await (0,support_utils/* getFieldsList */.EG)({valueExpression:l})).map((e=>this.getField(e)?.toJSON())).filter(Boolean)),{layerView:y,query:f,featuresJSON:d,fieldInfos:h}}async _uvFromClientQuery(e,t){const{view:r,signal:a}=e,i=H(this,e),s=await this._fetchFeatureSetFromMemory(i,r,a),o=await L(s,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:support_utils/* fieldDelimiter */.UH,view:e.view,signal:e.signal});return (0,statistics_utils/* createUVResult */.lv)(o,t,e.returnAllCodedValues,support_utils/* fieldDelimiter */.UH)}async _uvFromMemory(e,t){const{view:r,field:a,valueExpression:i,returnAllCodedValues:s,signal:o}=e,{featuresJSON:n,graphics:l,layerView:u,query:m,fieldInfos:p}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryUniqueValues"}),y={field:a,field2:e.field2,field3:e.field3,fieldDelimiter:support_utils/* fieldDelimiter */.UH,valueExpression:i,domains:t,returnAllCodedValues:s};return i&&r&&(n||l)&&(y.viewInfoParams=B(r),y.timeZone=r.timeZone,y.fieldInfos=p),!n&&!l&&u&&"queryUniqueValues"in u?u.queryUniqueValues(m,y,{signal:o}):n?this.workerClient.uniqueValues(y,n):(0,statsWorker.uniqueValues)({attribute:y,features:l})}_histogramForField(e){let t=null;return t=null!=e.minValue&&null!=e.maxValue?Promise.resolve({min:e.minValue,max:e.maxValue}):this.summaryStatistics({...e,outStatisticTypes:{include:["min","max","count"]}}).then((e=>{if(!e.count)throw new core_Error/* default */.A(`${this.adapterName}:insufficient-data`,"Either the layer has no features or none of the features have data for the field");return{min:e.min,max:e.max}})),t.then((t=>Z(this,{min:t.min,max:t.max},e.field,e.numBins??void 0,e.view,e.filter,e.signal)))}async _histogramFromQueryAttributeBinsFromMemory(e){const{field:t,normalizationType:r,signal:a}=e,i=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAttributeBins"}),{featuresJSON:s,graphics:o,layerView:n,query:l}=i,u="percent-of-total"===r?e.normalizationTotal??await this._getNormalizationTotalFromMemory(t,i,a):void 0;if(!n||!("queryAttributeBins"in n)||s||o){const t=S(e,i,u);return s?this.workerClient.histogram(t,s):(0,statsWorker.histogram)({attribute:t,features:o})}const{query:m,min:p,max:y}=await histogramUtils_b(e,this,u,l?.where);if(!m)return{bins:[],minValue:p,maxValue:y,normalizationTotal:u};const c=await n.queryAttributeBins(m,{signal:a});return histogramUtils_P(c,t?this.getField(t):null,{minValue:p,maxValue:y,normalizationTotal:u})}async _histogramFromMemory(e){const{field:t,signal:r}=e,a=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryHistogram"}),{featuresJSON:i,graphics:s,layerView:o,query:n}=a,l="percent-of-total"===e.normalizationType?e.normalizationTotal??await this._getNormalizationTotalFromMemory(t,a,r):void 0,u=S(e,a,l);return!i&&!s&&o&&"queryHistogram"in o?o.queryHistogram(n,u,{signal:r}):i?this.workerClient.histogram(u,i):(0,statsWorker.histogram)({attribute:u,features:s})}_classBreaksFromInterpolation(e){const{minValue:t,maxValue:r}=e,a=e.numClasses||InMemoryLayerAdapter_$,i=[],s=(r-t)/a;for(let l=0;l<a;l++){const e=t+l*s;i.push({minValue:e,maxValue:e+s})}i[a-1].maxValue=r;const o={classBreaks:i,normalizationTotal:e.normalizationTotal},n=(0,statistics_utils/* resolveCBResult */.jM)(o,e.classificationMethod);return Promise.resolve(n)}async _classBreaksFromMemory(e){const{view:t,field:r,valueExpression:a,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryClassBreaks"}),m={field:r,valueExpression:a,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return a&&t&&(s||o)&&(m.viewInfoParams=B(t),m.timeZone=t.timeZone,m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryClassBreaks"in n?n.queryClassBreaks(l,m,{signal:i}):s?this.workerClient.classBreaks(m,s):(0,statsWorker.classBreaks)({attribute:m,features:o})}async _heatmapStatsFromMemory(e){const{view:t,field:r,radius:a,signal:s}=e;(0,maybe/* assertIsSome */.Lw)(t,"InMemoryLayerAdapter: must have a view");try{const r=await t.whenLayerView(this.layer);if("queryHeatmapStatistics"in r&&!r.updating&&!e.filter)return await r.queryHeatmapStatistics({field:e.field,radius:e.radius})}catch{(0,promiseUtils/* throwIfAborted */.Te)(s)}const{featuresJSON:n,graphics:l}=await this._processStatsFromMemoryParams({...e,returnGeometry:!0}),u=new QuantizationParameters/* default */.A({extent:t.extent,tolerance:"2d"===t.type?t.state.resolution:t.pixelSizeAt?.(t.center)}),p={field:r,radius:a,transform:(0,quantizationUtils/* toQuantizationTransform */.VV)(u),spatialReference:t.spatialReference?.toJSON(),size:t.size};return n?.length||l?.length?n?this.workerClient.heatmapStatistics(p,n):(0,statsWorker.heatmapStatistics)({attribute:p,features:l}):{min:null,max:null}}getField(e=""){return this.layer.getField(e)}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!0,supportsStatistics:!0}:null}getFieldDomain(e,t){return this.layer.getFieldDomain(e,t)}createQuery(){return this.layer.createQuery()}async summaryStatistics(e){const{field:t,valueExpression:a,sqlExpression:i,features:s,view:o}=e,n=t?this.getField(t):null,l=!!a,u="3d"===o?.type;if(!a&&i&&!this.supportsSQLExpression)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return l||s||u?this._summaryStatsFromMemory(e,n):this._summaryStatsFromClientQuery(e,n)}async uniqueValues(e){const{valueExpression:t,sqlExpression:a,features:i,view:s}=e,o=await I(e,this),n=!!t,l="3d"===s?.type;if(!t&&a&&!this.supportsSQLExpression)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return n||i||l?this._uvFromMemory(e,o):this._uvFromClientQuery(e,o)}async histogram(e){const{features:t,valueExpression:a,normalizationType:i,sqlExpression:s}=e,o=t||!!a;if(!a&&s&&!this.supportsSQLExpression)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return o||i?this._histogramFromMemory(e):this._histogramForField(e)}async classBreaks(e){return!1!==e.analyzeData?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)}async queryFeatureCount(e){const{whereClause:t,view:a,signal:i}=e;if(!a)throw new core_Error/* default */.A(`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=this.layer.createQuery();s.where=(0,utils/* mergeWhereClauses */.sf)(s.where,t);const o=await a.whenLayerView(this.layer);return await (0,reactiveUtils/* whenOnce */.C_)((()=>!o.updating),i),o.queryFeatureCount(s,{signal:i})}async generateRenderer(e,t){throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation")}async predominantCategories(e){const{fields:t,view:r,signal:a,filter:i}=e,s=predominanceUtils_s(t),o=await this._uvFromMemory({valueExpression:s,view:r,signal:a,filter:i});return Q(o.uniqueValueInfos,t)}async heatmapStatistics(e){return this._heatmapStatsFromMemory(e)}async getSampleFeatures(e,a){const{view:i,sampleSize:s,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e,m=this.layer.createQuery(),p=1;if(m.outSpatialReference=i?.spatialReference,m.returnGeometry=!!n,m.outFields=o,A(m,l),!i)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"view is required to get sample features for Layer");const y=await i.whenLayerView(this.layer);if(z(this,o,y).length)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Required fields need to be passed in the outFields for Layer");const c=await this._fetchFeaturesFromMemory(y,m,u,a),f=null!=s&&s>0&&s<=c.length?s:c.length;return (0,arrayUtils/* pickRandom */.BB)(c,f,p)}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression="stream"===t.type||!!t.capabilities?.query?.supportsSqlExpression,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent="fullExtent"in t?t.fullExtent:t.parent?.fullExtent,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=n.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],InMemoryLayerAdapter_R.prototype,"adapterName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],InMemoryLayerAdapter_R.prototype,"layer",void 0),InMemoryLayerAdapter_R=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.smartMapping.support.adapters.InMemoryLayerAdapter")],InMemoryLayerAdapter_R);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/viewpointUtils.js
var viewpointUtils = __webpack_require__(25887);
;// ../node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const FeatureLayerAdapter_J=5,FeatureLayerAdapter_W=2e4,FeatureLayerAdapter_H=4e5;let FeatureLayerAdapter_Z=class extends InMemoryLayerAdapter_R{constructor(){super(...arguments),this.adapterName="feature-layer-adapter"}_isStatsSupportedOnService(){const e=this.layer;if(!e.capabilities?.query?.supportsStatistics||"multipatch"===this.geometryType&&!(0,arcgisLayerUrl/* isHostedAgolService */.Wo)(e.url)&&e.version<10.5)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support statistics query");return Promise.resolve()}_fetchFeaturesFromService(e,t){return this.layer.queryFeatures(e,{signal:t}).then((e=>e.features))}_fetchFeaturesJSONFromService(e,t){return this._fetchFeaturesFromService(e,t).then(T)}_summaryStatsFromGenRend(e){const t=e.normalizationType,r=e.normalizationField;return this.classBreaks({field:e.field,numClasses:FeatureLayerAdapter_J,classificationMethod:"standard-deviation",standardDeviationInterval:.25,normalizationType:t,normalizationField:"field"===t?r:void 0,minValue:e.minValue,maxValue:e.maxValue,filter:e.filter,signal:e.signal}).then((t=>{let r,i,s;if(t.classBreakInfos?.some((e=>(e.hasAvg&&(r=e),!!r))),r){const e=r.maxValue-r.minValue;i=r.minValue+e/2,s=4*e}const a={min:t.minValue,max:t.maxValue,avg:i,stddev:s};return (0,statistics_utils/* processSummaryStatisticsResult */.oZ)(a,e.outStatisticTypes)}))}async _summaryStatsFromServiceQuery(e,t){await this._isStatsSupportedOnService(),"percent-of-total"===e.normalizationType&&(e.normalizationTotal=await this._getNormalizationTotal(e.field,e.normalizationType,e.filter));const r=(0,support_utils/* isAnyDateField */.fs)(t)||(0,fieldUtils/* isTimeOnlyField */.OH)(t),i="capabilities"in this.layer?this.layer.capabilities:null,s=k(this,e,t,i?.query?.supportsPercentileStatistics??!1),a=await this.layer.queryFeatures(s,{signal:e.signal}),o=utils_$(a,r);return (0,statistics_utils/* processSummaryStatisticsResult */.oZ)(o,e.outStatisticTypes)}_uvFromGenRenderer(e,t){const r=e.field??void 0,i=new UniqueValueDefinition_s({attributeField:r}),s=new GenerateRendererParameters_t({classificationDefinition:i});return this.generateRenderer(s,e.signal).then((e=>{const t={},i=this.getField(r);return e.uniqueValues.forEach((e=>{let r=e.value;null!=r&&""!==r&&("string"!=typeof r||""!==r.trim()&&"<null>"!==r.toLowerCase())||(r=null),null==t[r]?t[r]={count:e.count,data:(0,fieldUtils/* isNumericField */.WA)(i)&&r?Number(r):r}:t[r].count=t[r].count+e.count})),{count:t}})).then((r=>(0,statistics_utils/* createUVResult */.lv)(r,[t],e.returnAllCodedValues)))}async _uvFromServiceQuery(e,t){return this._isStatsSupportedOnService().then((()=>this.layer.queryFeatures(H(this,e),{signal:e.signal}))).then((t=>L(t,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:support_utils/* fieldDelimiter */.UH,view:e.view,signal:e.signal}))).then((r=>(0,statistics_utils/* createUVResult */.lv)(r,t,e.returnAllCodedValues,support_utils/* fieldDelimiter */.UH)))}_getNormalizationTotal(e,t,r,i){return e&&"percent-of-total"===t?this.summaryStatistics({field:e,outStatisticTypes:{include:["sum"]},filter:r,signal:i}).then((e=>e.sum)):Promise.resolve(null)}_histogramForExpr(e){return this._getNormalizationTotal(e.field,e.normalizationType,e.filter,e.signal).then((t=>{const r=histogramUtils_I(e,this,t);return histogramUtils_E(r,this,e.minValue,e.maxValue).then((i=>{const s=i.min,a=i.max;if(null==s||null==a)return{bins:[],minValue:s,maxValue:a,normalizationTotal:t};const o=e.numBins||utils_S,n=(0,statistics_utils/* getEqualIntervalBins */.OR)(s,a,o),l=K(r.sqlExpression,n,null!=e.minValue&&null!=e.maxValue),u=new StatisticDefinition/* default */.A({statisticType:"count",outStatisticFieldName:"countOFExpr",onStatisticField:"1"}),m=this.layer.createQuery();return m.where=(0,utils/* mergeWhereClauses */.sf)(m.where,r.sqlWhere),m.sqlFormat="standard",m.outStatistics=[u],m.groupByFieldsForStatistics=[l],m.orderByFields=[l],A(m,e.filter),this._isStatsSupportedOnService().then((()=>this.layer.queryFeatures(m,{signal:r.signal}))).then((e=>O(e,s,a,o,t)))}))}))}async _histogramFromQueryAttributeBins(e){const{field:t,normalizationType:r,filter:i,signal:s}=e,a=await this._getNormalizationTotal(t,r,i,s),o=this.layer.createQuery(),{query:n,min:l,max:u}=await histogramUtils_b(e,this,a,o?.where);if(!n)return{bins:[],minValue:l,maxValue:u,normalizationTotal:a};const m=await this.layer.queryAttributeBins(n,{signal:s});return histogramUtils_P(m,t?this.getField(t):null,{minValue:l,maxValue:u,normalizationTotal:a})}_classBreaksFromGenRend(e){const{field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,signal:a}=e,o=(0,utils/* getSQLFilterForNormalization */.Lc)({field:t,normalizationType:r,normalizationField:i}),n=j({field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,layer:this}),l=(0,utils/* getRangeExpr */.lX)(n,e.minValue,e.maxValue),u=(0,statistics_utils/* createClassBreaksDefinition */.al)({field:t,normalizationType:r,normalizationField:i,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||FeatureLayerAdapter_J}),m=new GenerateRendererParameters_t({classificationDefinition:u});return m.where=(0,utils/* mergeWhereClauses */.sf)(o,l),this.generateRenderer(m,a).then((t=>(0,statistics_utils/* resolveCBResult */.jM)(t,e.classificationMethod)))}async summaryStatistics(e){const{field:t,normalizationType:r,valueExpression:a,sqlExpression:o,view:n,features:u,useFeaturesInView:m}=e,c=t?this.getField(t):null,p=(0,support_utils/* isAnyDateField */.fs)(c)||(0,fieldUtils/* isTimeOnlyField */.OH)(c),h=a&&!(o&&this.supportsSQLExpression),d=this._hasLocalSource||u||m,y=n&&"3d"===n.type;if(d||h)return h||u||m||y?this._summaryStatsFromMemory(e,c):this._summaryStatsFromClientQuery(e,c);if(!this.supportsSQLExpression&&(p||o||"natural-log"===r||"square-root"===r))throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return(r&&!this.supportsSQLExpression?this._summaryStatsFromGenRend(e):this._summaryStatsFromServiceQuery(e,c)).catch((()=>((0,promiseUtils/* throwIfAborted */.Te)(e.signal),this._summaryStatsFromMemory(e,c))))}async uniqueValues(e){const{valueExpression:t,sqlExpression:r,features:i,useFeaturesInView:a,signal:o}=e,n=t&&!(r&&this.supportsSQLExpression),l=this._hasLocalSource||i||a||n,u=e.view,m=u&&"3d"===u.type,c=await I(e,this);return l?n||i||a||m?this._uvFromMemory(e,c):this._uvFromClientQuery(e,c):this._uvFromServiceQuery(e,c).catch((t=>((0,promiseUtils/* throwIfAborted */.Te)(o),!e.field||e.field2||e.field3||e.filter?t:this._uvFromGenRenderer(e,c[0])))).catch((()=>((0,promiseUtils/* throwIfAborted */.Te)(o),m?this._uvFromMemory(e,c):this._uvFromClientQuery(e,c))))}async histogram(e){const{field:t,normalizationType:r,normalizationField:a,classificationMethod:o,view:n,filter:u,signal:m}=e,c=t?this.getField(t):null,p=(0,support_utils/* isAnyDateField */.fs)(c)||(0,fieldUtils/* isTimeOnlyField */.OH)(c),h=e.valueExpression||e.sqlExpression,d=e.valueExpression&&!(e.sqlExpression&&this.supportsSQLExpression),y=this._hasLocalSource||e.features||e.useFeaturesInView||d,f=this.supportsSQLExpression,S=!o||"equal-interval"===o,g=e.minValue,v=e.maxValue,x=null!=g&&null!=v,_=e.numBins||utils_S;if(y)return this._histogramFromMemory(e);if(this.layer.capabilities?.operations?.supportsQueryBins&&e.useQueryAttributeBins)try{return await this._histogramFromQueryAttributeBins(e)}catch{return (0,promiseUtils/* throwIfAborted */.Te)(m),this._histogramFromQueryAttributeBinsFromMemory(e)}if((h||f)&&S){if(!f&&(h||"natural-log"===r||"square-root"===r))throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return this._histogramForExpr(e)}if(p&&S)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Normalization and date field are not allowed when layer does not support standardized SQL expression for queries");return r||!S?histogramUtils_M(e,this).then((s=>{if(!x)return Z(this,s,t,_,n,u,m);if(g>s.max||v<s.min)throw new core_Error/* default */.A(`${this.adapterName}:insufficient-data`,"Range defined by 'minValue' and 'maxValue' does not intersect available data range of the field");if(S)return Z(this,{min:g,max:v,sqlExpr:s.sqlExpr,excludeZerosExpr:s.excludeZerosExpr},t,_,n,u,m);{const i={field:t,normalizationType:r,normalizationField:a,normalizationTotal:s.normTotal,layer:this},o=j(i),l=(0,utils/* getRangeExpr */.lX)(o,g,v);return histogramUtils_M(e,this,l).then((e=>Z(this,e,t,_,n,u,m)))}})):this._histogramForField(e)}async classBreaks(e){const t=!1!==e.analyzeData,r=this._hasLocalSource||e.features||e.useFeaturesInView||e.valueExpression||e.filter;if(t&&r)return this._classBreaksFromMemory(e);return(t?this._classBreaksFromGenRend(e):this._classBreaksFromInterpolation(e)).catch((()=>((0,promiseUtils/* throwIfAborted */.Te)(e.signal),this._classBreaksFromMemory(e))))}async queryFeatureCount(e){if(this._hasLocalSource)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support count query");const t=this.layer,r=t.createQuery();return r.where=(0,utils/* mergeWhereClauses */.sf)(r.where,e.whereClause),A(r,e.filter),t.queryFeatureCount(r,{signal:e.signal})}async generateRenderer(e,t){const r=this.layer;if(this._hasLocalSource||r.version<10.1)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation (requires ArcGIS Server version 10.1+)");const s=r.createQuery();return e.where=(0,utils/* mergeWhereClauses */.sf)(e.where,s.where),generateRenderer_l(r.parsedUrl?.path??"",{source:r.dynamicDataSource??void 0,gdbVersion:r.gdbVersion??void 0},e,{signal:t})}async predominantCategories(e){if(!this._hasLocalSource&&!this.supportsSQLExpression)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Layer does not support advanced SQL expressions and standardized queries");const{fields:t,view:r,signal:s,filter:a}=e,o=predominanceUtils_s(t),n=u(t),l=r&&this._hasLocalSource?await this._uvFromMemory({valueExpression:o,view:r,signal:s,filter:a}):await this._uvFromServiceQuery({sqlExpression:n.expression,valueExpression:o,signal:s,filter:a});return Q(l.uniqueValueInfos,t)}async getSampleFeatures(e,i){const{view:a,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e,m=e.sampleSize;if(null==m||0===m)return[];const c=this.layer.createQuery(),p=1,h="json"===i;c.outSpatialReference=a?.spatialReference,c.returnGeometry=!!n,c.outFields=o,A(c,l);let d=[],y=!1;if(a)try{const s=await a.whenLayerView(this.layer);if(y=!z(this,o,s).length,y){if(m>=1&&!e.filter&&"getSampleFeatures"in s){await this._waitForLayerViewUpdate(s);const e=await s.getSampleFeatures({minFeatureCount:m,sampleSize:m});if(null!=e)return h?e:e.map((e=>Graphic/* default */.A.fromJSON(e)))}if(d=await this._fetchFeaturesFromMemory(s,c,u,i),d.length>=m&&m>0)return (0,arrayUtils/* pickRandom */.BB)(d,m,p)}}catch(f){(0,promiseUtils/* throwIfAborted */.Te)(u)}try{if(this._hasLocalSource)return y?d:h?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u);const t=await this.queryFeatureCount({view:a,filter:l,signal:u}),i=this.layer.capabilities.query.maxRecordCount;let s=-1===m?t:m;if(s=i&&s>i?i:s,t<=d.length||d.length>=i)return d;if(c.maxAllowableOffset=e.resolution||(a?a.extent.width/a.width/a.scale:(0,viewpointUtils/* getScaleToResolutionFactor */.ri)(this.layer.spatialReference))*FeatureLayerAdapter_H,t<=s)return h?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u);if(t<=FeatureLayerAdapter_W){const e=this.layer.createQuery();A(e,l);const t=await this.layer.queryObjectIds();return c.objectIds=(0,arrayUtils/* pickRandom */.BB)(t,s,p),h?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u)}return this.layer.capabilities?.query?.supportsPagination&&(c.num=Math.min(s,FeatureLayerAdapter_W)),h?await this._fetchFeaturesJSONFromService(c,u):await this._fetchFeaturesFromService(c,u)}catch(f){return (0,promiseUtils/* throwIfAborted */.Te)(u),d}}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=t.capabilities?.query?.supportsSqlExpression,this._hasLocalSource=!t.url&&!!t.source,this.hasQueryEngine=this._hasLocalSource,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent,this.workerClient=n.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};function K(e,t,r){const i=[],s=t.length;return t.forEach(((t,a)=>{const[o,n]=t;let l=null;l=0!==a||r?a!==s-1||r?(0,utils/* mergeWhereClauses */.sf)(`${e} >= ${o}`,`${e} ${a===s-1?" <= ":" < "} ${n}`):`${e} >= ${o}`:`${e} < ${n}`,i.push("WHEN ("+l+") THEN "+(a+1))})),["CASE",i.join(" "),"ELSE 0","END"].join(" ")}(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],FeatureLayerAdapter_Z.prototype,"adapterName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],FeatureLayerAdapter_Z.prototype,"layer",void 0),FeatureLayerAdapter_Z=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.smartMapping.support.adapters.FeatureLayerAdapter")],FeatureLayerAdapter_Z);

;// ../node_modules/@arcgis/core/smartMapping/support/adapters/CSVLayerAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let CSVLayerAdapter_m=class extends FeatureLayerAdapter_Z{constructor(){super(...arguments),this.adapterName="csv-layer-adapter"}async _createGenerateRendererResult(e,r,i,n,l){const p=e?.features,c=p?.length;if(!c)throw new core_Error/* default */.A("csv-layer-adapter:insufficient-data","No features are available to calculate statistics");const m=T(p);let d=null;if("percent-of-total"===n){if(d=(await this.workerClient.summaryStatistics({field:r},m)).sum,null==d)throw new core_Error/* default */.A("csv-layer-adapter:invalid","invalid normalizationTotal")}if("class-breaks-definition"===l?.type){const e=(await (0,utils/* getDataValues */.Jc)({field:r,normalizationType:n,normalizationField:i,normalizationTotal:d},m)).filter((e=>Number.isFinite(e)));return (0,generateRendererUtils/* createGenerateRendererClassBreaks */.t)({definition:l,values:e,normalizationTotal:d})}const f=(await (0,utils/* getDataValues */.Jc)({field:r},m)).filter((e=>null!=e&&"string"==typeof e&&""!==e.trim()));return (0,generateRendererUtils/* createGenerateRendererUniqueValues */._)(f)}generateRenderer(e,t){const r=e.classificationDefinition;let i=null,s=null,o=null;"class-breaks-definition"===r?.type?(i=r.classificationField,s=r.normalizationField,o=r.normalizationType):i=r?.attributeField;const a=this.layer;return (0,support_utils/* getFieldsList */.EG)({field:i,normalizationField:s}).then((l=>{const p=a.createQuery();return p.returnGeometry=!1,p.outFields=l,p.where=(0,utils/* mergeWhereClauses */.sf)(p.where,e.where),a.queryFeatures(p,{signal:t}).then((e=>this._createGenerateRendererResult(e,i,s,o,r)))}))}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=!0,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=n.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],CSVLayerAdapter_m.prototype,"adapterName",void 0),CSVLayerAdapter_m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.smartMapping.support.adapters.CSVLayerAdapter")],CSVLayerAdapter_m);

;// ../node_modules/@arcgis/core/smartMapping/support/adapters/FeatureLayerBinningAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let FeatureLayerBinningAdapter_N=class extends FeatureLayerAdapter_Z{constructor(){super(...arguments),this.adapterName="feature-layer-binning-adapter"}async _getNormalizationTotalFromMemory(e,t,r){const{featuresJSON:i,graphics:s,layerView:o,query:n}=t,l={include:["sum"]},m=(!i&&!s&&o&&"queryAggregateSummaryStatistics"in o?await o.queryAggregateSummaryStatistics(n,{field:e,outStatisticTypes:l},{signal:r}):i?await this.workerClient.summaryStatistics({field:e},i):await (0,statsWorker.summaryStatistics)({attribute:{field:e,outStatisticTypes:l},features:s})).sum;if(null==m)throw new core_Error/* default */.A(`${this.adapterName}:invalid`,"invalid normalizationTotal");return m}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t?.length)return this._getFilteredFeatures(t,r);const{view:i,field:s,field2:o,field3:n,normalizationField:l,valueExpression:u,returnGeometry:m,layerViewFunc:p,signal:g}=e;let d=null,y=null,f=null,h=null,w=null;if(i)try{if(d=await i.whenLayerView(this.layer),y=null!=p&&p in d&&"function"==typeof d[p],y){await this._waitForLayerViewUpdate(d);const e=await (0,support_utils/* getFieldsList */.EG)({field:s,field2:o,field3:n,normalizationField:l,valueExpression:u});utils_V(this,e).length?y=!1:(f="createAggregateQuery"in d?d.createAggregateQuery():null,f?(f.outFields=e,f.returnGeometry=!1,A(f,r)):y=!1),d.suspended&&(y=!1)}}catch{y=!1}if(!y&&(w=P(this.layer).map((e=>e.toJSON())),h=await this._fetchFeaturesForStats({field:s,field2:o,field3:n,valueExpression:u,normalizationField:l,returnGeometry:m,filter:r,view:i,signal:g},"json"),!h?.length))throw new core_Error/* default */.A(`${this.adapterName}:insufficient-data`,"No features are available to calculate statistics");return{layerView:d,query:f,featuresJSON:h,fieldInfos:w}}async _summaryStatsFromMemory(e,t){const{view:a,field:r,valueExpression:i,normalizationType:s,signal:n}=e,l={field:r,valueExpression:i,normalizationType:s,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes},{featuresJSON:m,graphics:p,layerView:g,query:d,fieldInfos:y}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateSummaryStatistics"});return i&&a&&(m||p)&&(l.fieldType=t?.type?fieldType/* kebabDict */.m.toJSON(t.type):null,l.viewInfoParams=B(a),l.timeZone=a.timeZone,l.fieldInfos=y),"percent-of-total"===s&&null==e.normalizationTotal&&(l.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:m,graphics:p,layerView:g,query:d},n)),!m&&!p&&g&&"queryAggregateSummaryStatistics"in g?g.queryAggregateSummaryStatistics(d,l,{signal:n}):m?this.workerClient.summaryStatistics(l,m):(0,statsWorker.summaryStatistics)({attribute:l,features:p})}async _uvFromMemory(e,t){const{view:a,field:r,valueExpression:i,returnAllCodedValues:s,signal:o}=e,{featuresJSON:n,graphics:l,layerView:u,query:p,fieldInfos:g}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateUniqueValues"}),d={field:r,field2:e.field2,field3:e.field3,fieldDelimiter:support_utils/* fieldDelimiter */.UH,valueExpression:i,domains:t,returnAllCodedValues:s};return i&&a&&(n||l)&&(d.viewInfoParams=B(a),d.timeZone=a.timeZone,d.fieldInfos=g),!n&&!l&&u&&"queryAggregateUniqueValues"in u?u.queryAggregateUniqueValues(p,d,{signal:o}):n?this.workerClient.uniqueValues(d,n):(0,statsWorker.uniqueValues)({attribute:d,features:l})}async _histogramFromMemory(e){const{view:t,field:a,valueExpression:r,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateHistogram"}),m={field:a,valueExpression:r,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return r&&t&&(s||o)&&(m.viewInfoParams=B(t),m.timeZone=t.timeZone,m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryAggregateHistogram"in n?n.queryAggregateHistogram(l,m,{signal:i}):s?this.workerClient.histogram(m,s):(0,statsWorker.histogram)({attribute:m,features:o})}async _classBreaksFromMemory(e){const{view:t,field:a,valueExpression:r,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateClassBreaks"}),m={field:a,valueExpression:r,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return r&&t&&(s||o)&&(m.viewInfoParams=B(t),m.timeZone=t.timeZone,m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryAggregateClassBreaks"in n?n.queryAggregateClassBreaks(l,m,{signal:i}):s?this.workerClient.classBreaks(m,s):(0,statsWorker.classBreaks)({attribute:m,features:o})}getField(e=""){const t=P(this.layer);return t?.find((t=>t.name.toLowerCase()===e?.toLowerCase()))}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!1,supportsStatistics:!0}:null}getFieldDomain(e,t){return null}async summaryStatistics(e){const{field:t}=e,r=t?this.getField(t):null,i=(0,support_utils/* isAnyDateField */.fs)(r)||(0,fieldUtils/* isTimeOnlyField */.OH)(r),s=e.sqlExpression&&!e.valueExpression&&!t;if(i||s)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._summaryStatsFromMemory(e,r)}async uniqueValues(e){const t=await I(e,this);return this._uvFromMemory(e,t)}async histogram(e){const{field:t}=e,r=t?this.getField(t):null,i=(0,support_utils/* isAnyDateField */.fs)(r)||(0,fieldUtils/* isTimeOnlyField */.OH)(r),s=e.sqlExpression&&!e.valueExpression&&!t;if(i||s)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._histogramFromMemory(e)}async classBreaks(e){return(!1!==e.analyzeData?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)).catch((()=>((0,promiseUtils/* throwIfAborted */.Te)(e.signal),this._classBreaksFromMemory(e))))}async queryFeatureCount(e){const t=await(e.view?.whenLayerView(this.layer));if(!t||!("queryAggregateCount"in t)||!t.queryAggregateCount)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"LayerView is not supported.");await this._waitForLayerViewUpdate(t);const r=t.createAggregateQuery();return r.where=(0,utils/* mergeWhereClauses */.sf)(r.where,e.whereClause),A(r,e.filter),t.queryAggregateCount(r,{signal:e.signal})}generateRenderer(e,t){throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"'generateRenderer' is not supported.")}heatmapStatistics(e){throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"'heatmapStatistics' is not supported.")}async predominantCategories(e){const{fields:t,view:a,signal:r}=e,i=predominanceUtils_s(t),s=await this._uvFromMemory({valueExpression:i,view:a,signal:r});return Q(s.uniqueValueInfos,t)}async getSampleFeatures(e,r){const{view:i,sampleSize:s,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e;if(!i)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"'view' is required to get sample features for binning.");if("3d"===i.type)throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"3d 'view' is not supported to get sample features for binning.");const m=await i.whenLayerView(this.layer);if(!("queryAggregateJSON"in m&&m.queryAggregateJSON&&"queryAggregates"in m&&m.queryAggregates))throw new core_Error/* default */.A(`${this.adapterName}:not-supported`,"LayerView is not supported.");await this._waitForLayerViewUpdate(m);if(utils_V(this,o).length)throw new core_Error/* default */.A(`${this.adapterName}:insufficient-data`,"Layer does not have required fields");const p=1,g="json"===r,d=m.createAggregateQuery();d.outSpatialReference=i?.spatialReference,d.returnGeometry=!!n,d.outFields=o,A(d,l);const{features:y}=g?await m.queryAggregateJSON(d,{signal:u}):await m.queryAggregates(d,{signal:u});return y.length&&null!=s&&s>0&&s<=y.length?(0,arrayUtils/* pickRandom */.BB)(y,s,p):y}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType="polygon",this.objectIdField=null,this.supportsSQLExpression=!1,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent;const r="featureReduction"in t?t.featureReduction:null;if("binning"!==r?.type&&"cluster"!==r?.type)throw new core_Error/* default */.A(`${this.adapterName}:invalid-parameters`,`Feature reduction type ${r?.type} is not supported`);this.workerClient=n.getInstance(),await this.workerClient.open(e.signal)}));return this.addResolvingPromise(t),Promise.resolve(this)}};(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],FeatureLayerBinningAdapter_N.prototype,"adapterName",void 0),FeatureLayerBinningAdapter_N=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.smartMapping.support.adapters.FeatureLayerBinningAdapter")],FeatureLayerBinningAdapter_N);const FeatureLayerBinningAdapter_T=FeatureLayerBinningAdapter_N;

;// ../node_modules/@arcgis/core/smartMapping/support/adapters/SceneLayerAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let SceneLayerAdapter_A=class extends LayerAdapter_p{constructor(e){super(e),this._featureLayerAdapter=null,this.workerClient=null,this.adapterName="scene-layer-adapter"}destroy(){this.workerClient?.destroy()}_hasCachedStatistics(e){return this.layer.hasCachedStatistics(e)}_updateQuery(e,t=[],r=[]){if(!e||!r.length)return e;const a=this.layer.objectIdField,s=e.clone(),i=t.filter((e=>{const t=this.layer.getField(e);return!r.includes(t.name)})),o=i.some((e=>this.layer.getField(e).name===a));return s.outFields=o?i:[...i,a],s}async _fetchFeaturesFromMemory(e,t,r){if(!e)throw new core_Error/* default */.A("scene-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const n=await e.whenLayerView(this.layer),l=new AbortController,u=l.signal,p=(0,reactiveUtils/* whenOnce */.C_)((()=>!n.updating),u);await (0,promiseUtils/* timeout */.wR)(p,5e3,l);const m=z(this,r,n);(0,promiseUtils/* throwIfAborted */.Te)(u);const c=this._updateQuery(t,r??[],m),d=await n.queryFeatures(c,{signal:u});(0,promiseUtils/* throwIfAborted */.Te)(u);const h=d.features;return m.length?n.whenGraphicAttributes(h,m):h}async _fetchFeaturesJSONFromMemory(e,t,r){return this._fetchFeaturesFromMemory(e,t,r).then(T)}_fetchFeaturesForStats(e,t){return (0,support_utils/* getFieldsList */.EG)({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then((r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,requiredFields:r,signal:e.signal},t)))}async _processStatsFromMemoryParams(e){const t=e.features;if(t?.length){return t.length&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass?{graphics:t}:{featuresJSON:t}}const{view:r,field:s,normalizationField:i,valueExpression:o,signal:n}=e,l=await this._fetchFeaturesForStats({field:s,valueExpression:o,normalizationField:i,view:r,signal:n},null);if(!l?.length)throw new core_Error/* default */.A("scene-layer-adapter:insufficient-data","No features are available to calculate statistics");return{graphics:l}}_getCachedStatistics(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.minValue||e.maxValue?Promise.reject(new core_Error/* default */.A("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression', 'sqlWhere', 'minValue' or 'maxValue' is specified")):r.queryCachedStatistics(t?.name,{signal:e.signal}).then((e=>{const t=e.stats,{min:r,max:a,totalValuesCount:s}=t;let{avg:i,stddev:o,sum:n,variance:l,count:u}=t;return 0===r&&0===a||(i=0===i?null:i,n=0===n?null:n,o=0===o?null:o,l=0===l?null:l,u=0===u?null:u),null==u&&(null!=n&&null!=i?u=Math.round(n/i):null!=s&&(u=s)),{avg:i,count:u,max:a,min:r,stddev:o,sum:n,variance:l}}))}async _getNormalizationTotal(e,t,r){const s={include:["sum"]},i=(t?await this.workerClient.summaryStatistics({field:e,outStatisticTypes:s},t):await (0,statsWorker.summaryStatistics)({attribute:{field:e,outStatisticTypes:s},features:r})).sum;if(null==i)throw new core_Error/* default */.A("scene-layer-adapter:invalid","invalid normalizationTotal");return i}async _getSummaryStatisticsFromMemory(e,t){const{view:r,field:a,normalizationField:s,valueExpression:i}=e,{featuresJSON:o,graphics:n}=await this._processStatsFromMemoryParams(e),l={field:a,valueExpression:i,normalizationType:e.normalizationType,normalizationField:s,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,outStatisticTypes:e.outStatisticTypes};return e.valueExpression&&r&&o&&(l.fieldType=t?.type?fieldType/* kebabDict */.m.toJSON(t.type):null,l.viewInfoParams=B(r),l.timeZone=r.timeZone),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(l.normalizationTotal=await this._getNormalizationTotal(a,o,n)),o?this.workerClient.summaryStatistics(l,o):(0,statsWorker.summaryStatistics)({attribute:l,features:n})}_getCachedStatisticsForUniqueValues(e,r){const s=this.layer,i=r?.name,o=r&&e.field?this.getFieldDomain(e.field):null;return e.valueExpression||e.sqlExpression||e.sqlWhere?Promise.reject(new core_Error/* default */.A("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression' or 'sqlWhere' is specified")):s.queryCachedStatistics(i,{signal:e.signal}).then((a=>{const o=a.stats;if(!o.mostFrequentValues)throw new Error;const n=a.labels?.labels,l={},u=[],c="countOF"+i;o.mostFrequentValues.forEach((e=>{const a=new Graphic/* default */.A({attributes:{}});a.attributes[i]=r&&r.name!==s.objectIdField&&((0,fieldUtils/* isNumericField */.WA)(r)||(0,support_utils/* isAnyDateField */.fs)(r))?Number(e.value):e.value,a.attributes[c]=e.count,u.push(a)})),n&&n.forEach((e=>{l[e.value]=e.label}));const d=new FeatureSet/* default */.A({features:u});return L(d,{layer:this,field:e.field,labels:l,view:e.view,signal:e.signal})})).then((t=>(0,statistics_utils/* createUVResult */.lv)(t,[o],e.returnAllCodedValues)))}async _getUniqueValuesFromMemory(e,t){const{view:r,field:a,field2:s,field3:i,valueExpression:o,returnAllCodedValues:n}=e,l={field:a,field2:s,field3:i,fieldDelimiter:support_utils/* fieldDelimiter */.UH,valueExpression:o,domains:t,returnAllCodedValues:n},{featuresJSON:u,graphics:p}=await this._processStatsFromMemoryParams(e);return e.valueExpression&&r&&u&&(l.viewInfoParams=B(r),l.timeZone=r.timeZone),u?this.workerClient.uniqueValues(l,u):(0,statsWorker.uniqueValues)({attribute:l,features:p})}_getCachedStatisticsForHistogram(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.normalizationType?Promise.reject(new core_Error/* default */.A("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression' or 'sqlExpression' or 'sqlWhere' or 'normalizationType' is specified")):r.queryCachedStatistics(t&&t.name,{signal:e.signal}).then((t=>{const r=t.stats,{minValue:a,maxValue:s}=e,i=null!=a?a:r.min,o=null!=s?s:r.max,n=e.numBins||10,l=SceneLayerAdapter_j(r.histogram,i,o,n);return O(l,i,o,n)}))}async _getClassBreaksFromMemory(e){const{view:t,field:r,normalizationField:a,valueExpression:s}=e,{featuresJSON:i,graphics:o}=await this._processStatsFromMemoryParams(e),n={field:r,valueExpression:s,normalizationType:e.normalizationType,normalizationField:a,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return e.valueExpression&&t&&i&&(n.viewInfoParams=B(t),n.timeZone=t.timeZone),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(n.normalizationTotal=await this._getNormalizationTotal(r,i,o)),i?this.workerClient.classBreaks(n,i):(0,statsWorker.classBreaks)({attribute:n,features:o})}async _getHistogramFromMemory(e){const{view:t,field:r}=e,{featuresJSON:a,graphics:s}=await this._processStatsFromMemoryParams(e),i={field:r,valueExpression:e.valueExpression,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return e.valueExpression&&t&&a&&(i.viewInfoParams=B(t),i.timeZone=t.timeZone),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(i.normalizationTotal=await this._getNormalizationTotal(r,a,s)),a?this.workerClient.histogram(i,a):(0,statsWorker.histogram)({attribute:i,features:s})}getField(e){return this.layer.getField(e??"")}getFieldUsageInfo(e){const t=this.getField(e);if(!t)return null;const r=this.layer.getFieldUsageInfo(t.name);return{supportsLabelingInfo:r.supportsLabelingInfo,supportsPopupTemplate:r.supportsPopupTemplate,supportsRenderer:r.supportsRenderer,supportsLayerQuery:r.supportsLayerQuery,supportsStatistics:!0}}getFieldDomain(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.getFieldDomain(e,t):null}createQuery(){return this.layer.createQuery()}summaryStatistics(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.summaryStatistics(e);if(e.filter)throw new core_Error/* default */.A("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(t?.name)?this._getCachedStatistics(e,t).catch((()=>((0,promiseUtils/* throwIfAborted */.Te)(e.signal),this._getSummaryStatisticsFromMemory(e,t)))):this._getSummaryStatisticsFromMemory(e,t)}async uniqueValues(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.uniqueValues(e);if(e.filter)throw new core_Error/* default */.A("scene-layer-adapter:not-supported","filter is not supported");const t=await I(e,this),{field:r,field2:s}=e,o=r&&s,n=this.getField(r);return!o&&n&&this._hasCachedStatistics(n.name)?this._getCachedStatisticsForUniqueValues(e,n).catch((()=>((0,promiseUtils/* throwIfAborted */.Te)(e.signal),this._getUniqueValuesFromMemory(e,t)))):this._getUniqueValuesFromMemory(e,t)}histogram(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.histogram(e);if(e.filter)throw new core_Error/* default */.A("scene-layer-adapter:not-supported","filter is not supported");return t&&this._hasCachedStatistics(t.name)?this._getCachedStatisticsForHistogram(e,t).catch((()=>((0,promiseUtils/* throwIfAborted */.Te)(e.signal),this._getHistogramFromMemory(e)))):this._getHistogramFromMemory(e)}classBreaks(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.classBreaks(e);if(e.filter)throw new core_Error/* default */.A("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(t?.name)?Promise.reject(new core_Error/* default */.A("scene-layer-adapter:not-supported","Cached stats not supported")):this._getClassBreaksFromMemory(e)}queryFeatureCount(e){return this._featureLayerAdapter?this._featureLayerAdapter.queryFeatureCount(e):Promise.reject(new core_Error/* default */.A("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support count query"))}generateRenderer(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(e,t):Promise.reject(new core_Error/* default */.A("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support generateRenderer operation"))}heatmapStatistics(e){return this._featureLayerAdapter?this._featureLayerAdapter.heatmapStatistics(e):Promise.reject(new core_Error/* default */.A("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support heatmapStatistics operation"))}async predominantCategories(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.predominantCategories(e);throw new core_Error/* default */.A("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support predominantCategories")}async getSampleFeatures(e,t){if(e.filter)throw new core_Error/* default */.A("scene-layer-adapter:not-supported","filter is not supported");const{view:s,sampleSize:o,requiredFields:n,returnGeometry:l,signal:u}=e,p=1,m="json"===t,c=this.createQuery();c.outFields=n,c.returnGeometry=!!l,c.where=null,c.num=o;let d=[];try{if(d=m?await this._fetchFeaturesJSONFromMemory(s,c,n):await this._fetchFeaturesFromMemory(s,c,n),d.length&&null!=o&&o>0&&o<=d.length)return (0,arrayUtils/* pickRandom */.BB)(d,o,p)}catch(y){(0,promiseUtils/* throwIfAborted */.Te)(u)}let h=null;if(this._featureLayerAdapter){const r={...e};delete r.view,h=await this._featureLayerAdapter.getSampleFeatures(r,t)}return h?.length?h:(0,arrayUtils/* pickRandom */.BB)(d,d.length,p)}load(e){const t=this.layer.load(e).then((async t=>{this.workerClient=n.getInstance(),await this.workerClient.open(e.signal);const r=t.associatedLayer;if(this.geometryType=t.geometryType,null!=r){this._featureLayerAdapter=new FeatureLayerAdapter_Z({layer:r});return this._featureLayerAdapter.load(e).then((()=>{this.objectIdField=this._featureLayerAdapter.objectIdField,this.supportsSQLExpression=this._featureLayerAdapter.supportsSQLExpression,this.minScale=this._featureLayerAdapter.minScale,this.maxScale=this._featureLayerAdapter.maxScale,this.fullExtent=this._featureLayerAdapter.fullExtent}))}this.objectIdField=t.objectIdField,this.supportsSQLExpression=!1,this.hasQueryEngine=!1,this.fullExtent=t.fullExtent}));return this.addResolvingPromise(t),Promise.resolve(this)}};function SceneLayerAdapter_j(e,r=e.minimum,a=e.maximum,s){const i=[];for(let t=0;t<s;t++)i[t]=0;const o=e.counts.length,n=e.minimum,l=e.maximum;for(let t=0;t<o;t++){const u=(t+.5)/o,p=((1-u)*n+u*l-r)/(a-r)*s;p>=0&&p<=s&&(i[p===s?s-1:Math.floor(p)]+=e.counts[t])}const u=[];return i.forEach(((e,r)=>{const a=new Graphic/* default */.A({attributes:{}});a.attributes.EXPR_1=r+1,a.attributes.countOFExpr=e,u.push(a)})),new FeatureSet/* default */.A({features:u})}(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],SceneLayerAdapter_A.prototype,"adapterName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],SceneLayerAdapter_A.prototype,"layer",void 0),SceneLayerAdapter_A=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.smartMapping.support.adapters.SceneLayerAdapter")],SceneLayerAdapter_A);

;// ../node_modules/@arcgis/core/smartMapping/support/adapters/PointCloudLayerAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let PointCloudLayerAdapter_o=class extends SceneLayerAdapter_A{constructor(e){super(e),this.adapterName="point-cloud-layer-adapter"}getField(e){return this.layer.fieldsIndex.get(e??"")}getFieldUsageInfo(e){const r=this.getField(e);if(!r)return null;const t=this._hasCachedStatistics(r.name);return{supportsLabelingInfo:t,supportsPopupTemplate:t,supportsRenderer:t,supportsLayerQuery:!1,supportsStatistics:t}}getFieldDomain(){return null}load(e){const r=this.layer.load(e).then((()=>{this.geometryType="point",this.objectIdField=null,this.supportsSQLExpression=!1,this.hasQueryEngine=!1}));return this.addResolvingPromise(r),Promise.resolve(this)}};(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],PointCloudLayerAdapter_o.prototype,"adapterName",void 0),PointCloudLayerAdapter_o=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.smartMapping.support.adapters.PointCloudLayerAdapter")],PointCloudLayerAdapter_o);

;// ../node_modules/@arcgis/core/smartMapping/support/adapters/StreamLayerAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let StreamLayerAdapter_c=class extends InMemoryLayerAdapter_R{constructor(){super(...arguments),this.adapterName="stream-layer-adapter"}async _summaryStatsFromClientQuery(t,r){const{signal:s,view:a}=t,c=k(this,t,r);c.outStatistics=c.outStatistics?.filter((t=>"totalcount_value"!==t.outStatisticFieldName));const u=await this._fetchFeatureSetFromMemory(c,a,s),l=utils_$(u,(0,support_utils/* isAnyDateField */.fs)(r)||(0,fieldUtils/* isTimeOnlyField */.OH)(r));return (0,statistics_utils/* processSummaryStatisticsResult */.oZ)(l,t.outStatisticTypes)}};(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],StreamLayerAdapter_c.prototype,"adapterName",void 0),StreamLayerAdapter_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.smartMapping.support.adapters.StreamLayerAdapter")],StreamLayerAdapter_c);

;// ../node_modules/@arcgis/core/smartMapping/support/adapters/support/layerUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var layerUtils_l;!function(e){e[e.CatalogLayer=0]="CatalogLayer",e[e.CatalogFootprintLayer=1]="CatalogFootprintLayer",e[e.CSVLayer=2]="CSVLayer",e[e.FeatureLayer=3]="FeatureLayer",e[e.GeoJSONLayer=4]="GeoJSONLayer",e[e.ImageryLayer=5]="ImageryLayer",e[e.KnowledgeGraphSublayer=6]="KnowledgeGraphSublayer",e[e.OGCFeatureLayer=7]="OGCFeatureLayer",e[e.OrientedImageryLayer=8]="OrientedImageryLayer",e[e.ParquetLayer=9]="ParquetLayer",e[e.PointCloudLayer=10]="PointCloudLayer",e[e.SceneLayer=11]="SceneLayer",e[e.StreamLayer=12]="StreamLayer",e[e.SubtypeGroupLayer=13]="SubtypeGroupLayer",e[e.SubtypeSublayer=14]="SubtypeSublayer",e[e.WFSLayer=15]="WFSLayer"}(layerUtils_l||(layerUtils_l={}));const layerUtils_u={[layerUtils_l.CatalogLayer]:{adapter:FeatureLayerAdapter_Z,type:"catalog",label:"CatalogLayer"},[layerUtils_l.CatalogFootprintLayer]:{adapter:FeatureLayerAdapter_Z,type:"catalog-footprint",label:"CatalogFootprintLayer"},[layerUtils_l.CSVLayer]:{adapter:CSVLayerAdapter_m,type:"csv",label:"CSVLayer"},[layerUtils_l.FeatureLayer]:{adapter:FeatureLayerAdapter_Z,type:"feature",label:"FeatureLayer"},[layerUtils_l.ImageryLayer]:{adapter:FeatureLayerAdapter_Z,type:"imagery",label:"ImageryLayer"},[layerUtils_l.GeoJSONLayer]:{adapter:FeatureLayerAdapter_Z,type:"geojson",label:"GeoJSONLayer"},[layerUtils_l.KnowledgeGraphSublayer]:{adapter:FeatureLayerAdapter_Z,type:"knowledge-graph-sublayer",label:"KnowledgeGraphSublayer"},[layerUtils_l.OGCFeatureLayer]:{adapter:InMemoryLayerAdapter_R,type:"ogc-feature",label:"OGCFeatureLayer"},[layerUtils_l.OrientedImageryLayer]:{adapter:FeatureLayerAdapter_Z,type:"oriented-imagery",label:"OrientedImageryLayer"},[layerUtils_l.ParquetLayer]:{adapter:FeatureLayerAdapter_Z,type:"parquet",label:"ParquetLayer"},[layerUtils_l.PointCloudLayer]:{adapter:PointCloudLayerAdapter_o,type:"point-cloud",label:"PointCloudLayer"},[layerUtils_l.SceneLayer]:{adapter:SceneLayerAdapter_A,type:"scene",label:"SceneLayer"},[layerUtils_l.StreamLayer]:{adapter:StreamLayerAdapter_c,type:"stream",label:"StreamLayer"},[layerUtils_l.SubtypeGroupLayer]:{adapter:FeatureLayerAdapter_Z,type:"subtype-group",label:"SubtypeGroupLayer"},[layerUtils_l.SubtypeSublayer]:{adapter:FeatureLayerAdapter_Z,type:"subtype-sublayer",label:"SubtypeSublayer"},[layerUtils_l.WFSLayer]:{adapter:FeatureLayerAdapter_Z,type:"wfs",label:"WFSLayer"}},layerUtils_n=[layerUtils_l.CatalogLayer,layerUtils_l.CatalogFootprintLayer,layerUtils_l.CSVLayer,layerUtils_l.FeatureLayer,layerUtils_l.GeoJSONLayer,layerUtils_l.KnowledgeGraphSublayer,layerUtils_l.OGCFeatureLayer,layerUtils_l.OrientedImageryLayer,layerUtils_l.ParquetLayer,layerUtils_l.PointCloudLayer,layerUtils_l.SceneLayer,layerUtils_l.StreamLayer,layerUtils_l.SubtypeGroupLayer,layerUtils_l.SubtypeSublayer,layerUtils_l.WFSLayer],layerUtils_S=[layerUtils_l.CatalogFootprintLayer,layerUtils_l.CSVLayer,layerUtils_l.FeatureLayer,layerUtils_l.GeoJSONLayer,layerUtils_l.KnowledgeGraphSublayer,layerUtils_l.OGCFeatureLayer,layerUtils_l.OrientedImageryLayer,layerUtils_l.ParquetLayer,layerUtils_l.SceneLayer,layerUtils_l.StreamLayer,layerUtils_l.SubtypeGroupLayer,layerUtils_l.SubtypeSublayer,layerUtils_l.WFSLayer],layerUtils_d=[layerUtils_l.CSVLayer,layerUtils_l.FeatureLayer,layerUtils_l.GeoJSONLayer,layerUtils_l.OGCFeatureLayer,layerUtils_l.KnowledgeGraphSublayer,layerUtils_l.OrientedImageryLayer,layerUtils_l.ParquetLayer,layerUtils_l.StreamLayer,layerUtils_l.WFSLayer];function layerUtils_b(e){return e.map((e=>layerUtils_u[e].label))}function layerUtils_m(e){return e.map((e=>layerUtils_u[e].type))}function layerUtils_i(e,a=layerUtils_n,t){if(e instanceof LayerAdapter_p)return e;const L=layerUtils_g(e,a);return L?t?new FeatureLayerBinningAdapter_T({layer:e}):new L({layer:e}):null}function layerUtils_g(e,a=layerUtils_n){let r=null;return a.some((a=>{const t=e.type===layerUtils_u[a].type;return t&&(r=layerUtils_u[a].adapter),t})),r}

;// ../node_modules/@arcgis/core/smartMapping/statistics/uniqueValues.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function uniqueValues_p(p){if(!p?.layer||!p.field&&!p.valueExpression)throw new core_Error/* default */.A("unique-values:missing-parameters","'layer' and 'field' or 'valueExpression' parameters are required");const f=p.valueExpression||p.sqlExpression,m=f&&!p.sqlExpression;if(f)if(m){if(!p.view)throw new core_Error/* default */.A("unique-values:missing-parameters","View is required when 'valueExpression' is specified")}else if(!p.valueExpression)throw new core_Error/* default */.A("unique-values:missing-parameters","'valueExpression' parameters are required");p.forBinning&&i(p,"unique-values");const{layer:d,...v}=p,w=[...layerUtils_n,layerUtils_l.ImageryLayer],c=p.forBinning?layerUtils_d:w,y=layerUtils_i(d,c,p.forBinning);if(!y)throw new core_Error/* default */.A("unique-values:invalid-parameters","'layer' must be one of these types: "+layerUtils_b(c).join(", "));const q={layerAdapter:y,...v},g=null!=q.signal?{signal:q.signal}:null;await y.load(g);const x=await (0,support_utils/* getFieldsList */.EG)({field:q.field,field2:q.field2,field3:q.field3,valueExpression:q.valueExpression}),E=(0,utils/* verifyBasicFieldValidity */.MH)(y,x,"unique-values:invalid-parameters");if(E)throw E;q.filter&&!q.filter.spatialRelationship&&(q.filter.spatialRelationship="intersects");const h=(0,utils/* verifyFilterValidity */.Wk)(q.filter,"summary-statistics:invalid-parameters");if(h)throw h;return q}async function uniqueValues_f(e){const{layerAdapter:i,...s}=await uniqueValues_p(e);return i.uniqueValues(s)}


/***/ }),

/***/ 27218:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $y: () => (/* binding */ U),
/* harmony export */   Ak: () => (/* binding */ L),
/* harmony export */   FM: () => (/* binding */ g),
/* harmony export */   G_: () => (/* binding */ p),
/* harmony export */   OR: () => (/* binding */ j),
/* harmony export */   Rw: () => (/* binding */ E),
/* harmony export */   Vb: () => (/* binding */ d),
/* harmony export */   al: () => (/* binding */ q),
/* harmony export */   b3: () => (/* binding */ k),
/* harmony export */   gJ: () => (/* binding */ m),
/* harmony export */   jM: () => (/* binding */ P),
/* harmony export */   lv: () => (/* binding */ $),
/* harmony export */   oZ: () => (/* binding */ C),
/* harmony export */   qg: () => (/* binding */ v),
/* harmony export */   sU: () => (/* binding */ G),
/* harmony export */   wy: () => (/* binding */ c),
/* harmony export */   z9: () => (/* binding */ f),
/* harmony export */   zS: () => (/* binding */ B)
/* harmony export */ });
/* harmony import */ var _rest_support_ClassBreaksDefinition_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83763);
/* harmony import */ var _rest_support_generateRendererUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47003);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t="<Null>",l="equal-interval",i=1,a=5,o=10,u=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,r=new Set(["esriFieldTypeDate","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeOID","esriFieldTypeBigInteger"]),s=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),c=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function m(e){return null==e||"string"==typeof e&&!e?t:e}function d(e){const n=null!=e.normalizationField||null!=e.normalizationType,t=null!=e.minValue||null!=e.maxValue,l=!!e.sqlExpression&&e.supportsSQLExpression;return!n&&!t&&!l}function f(e){const{outStatisticTypes:n}=e,t=e.returnDistinct?[...new Set(e.values)]:e.values,l=t.filter((e=>null!=e)).sort(),i=l.length,a={count:i,min:l[0],max:l[i-1]};return e.supportsNullCount&&(a.nullcount=t.length-i),!e.percentileParams||n?.include?.length&&!n.include.includes("median")||n?.exclude?.length&&n.exclude.includes("median")||(a.median=v(t,e.percentileParams)),a}function p(e){const{values:n,useSampleStdDev:t,supportsNullCount:l,outStatisticTypes:i}=e;let a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,u=null,r=null,s=null,c=null,m=0;const d=null==e.minValue?-1/0:e.minValue,f=null==e.maxValue?1/0:e.maxValue;for(const v of n)Number.isFinite(v)?v>=d&&v<=f&&(u=null===u?v:u+v,a=Math.min(a,v),o=Math.max(o,v),m++):"string"==typeof v&&m++;if(m&&null!=u){r=u/m;let e=0;for(const t of n)Number.isFinite(t)&&t>=d&&t<=f&&(e+=(t-r)**2);c=t?m>1?e/(m-1):0:m>0?e/m:0,s=Math.sqrt(c)}else a=null,o=null;const p={avg:r,count:m,max:o,min:a,stddev:s,sum:u,variance:c};return l&&(p.nullcount=n.length-m),!e.percentileParams||i?.include?.length&&!i.include.includes("median")||i?.exclude?.length&&i.exclude.includes("median")||(p.median=v(n,e.percentileParams)),p}function v(e,n){const{fieldType:t,value:l,orderBy:i,isDiscrete:a}=n,o=g(t,"desc"===i);if(0===(e=[...e].filter((e=>null!=e)).sort(((e,n)=>o(e,n)))).length)return null;if(l<=0)return e[0];if(l>=1)return e[e.length-1];const u=(e.length-1)*l,r=Math.floor(u),s=r+1,c=u%1,m=e[r],d=e[s];return s>=e.length||a||"string"==typeof m||"string"==typeof d?m:m*(1-c)+d*c}function g(e,n){if(e){if(r.has(e))return N(n);if(s.has(e))return D(n,!1);if("esriFieldTypeTimestampOffset"===e)return F(n);const t=D(n,!0);if("esriFieldTypeString"===e)return t;if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e)return(e,n)=>t(M(e),M(n))}const t=n?1:-1,l=N(n),i=D(n,!0),a=x(n);return(e,n)=>"number"==typeof e&&"number"==typeof n?l(e,n):"string"==typeof e&&"string"==typeof n?i(e,n):a(e,n)??t}const h=(e,n)=>null==e?null==n?0:1:null==n?-1:null,T=(e,n)=>null==e?null==n?0:-1:null==n?1:null;function x(e){return e?h:T}const y=(e,n)=>T(e,n)??(e===n?0:new Date(e).getTime()-new Date(n).getTime()),V=(e,n)=>h(e,n)??(e===n?0:new Date(n).getTime()-new Date(e).getTime());function F(e){return e?V:y}const I=(e,n)=>T(e,n)??(e===n?0:e<n?-1:1),b=(e,n)=>h(e,n)??(e===n?0:e<n?1:-1);function D(e,n){if(!n)return e?b:I;const t=x(e);return e?(e,n)=>{const l=t(e,n);return null!=l?l:(e=e.toUpperCase())>(n=n.toUpperCase())?-1:e<n?1:0}:(e,n)=>{const l=t(e,n);return null!=l?l:(e=e.toUpperCase())<(n=n.toUpperCase())?-1:e>n?1:0}}const z=(e,n)=>h(e,n)??n-e,S=(e,n)=>T(e,n)??e-n;function N(e){return e?z:S}function M(e){return e.slice(24,36)+e.slice(19,23)+e.slice(16,18)+e.slice(14,16)+e.slice(11,13)+e.slice(9,11)+e.slice(6,8)+e.slice(4,6)+e.slice(2,4)+e.slice(0,2)}function C(e,n,t){let l;for(l in e)n?.include?.length&&!n.include.includes(l)||n?.exclude?.length&&n.exclude.includes(l)?delete e[l]:c.includes(l)&&(Number.isFinite(e[l])||(e[l]=null));return t?(["avg","stddev","variance"].forEach((n=>{null!=e[n]&&(e[n]=Math.ceil(e[n]??0))})),e):e}function k(e){const n={};for(let t of e)(null==t||"string"==typeof t&&""===t.trim())&&(t=null),null==n[t]?n[t]={count:1,data:t}:n[t].count++;return{count:n}}function w(e){return"coded-value"!==e?.type?[]:e.codedValues.map((e=>e.code))}function $(e,n,t,l){const i=e.count,a=[];if(t&&n){const e=[],t=w(n[0]);for(const i of t)if(n[1]){const t=w(n[1]);for(const a of t)if(n[2]){const t=w(n[2]);for(const n of t)e.push(`${m(i)}${l}${m(a)}${l}${m(n)}`)}else e.push(`${m(i)}${l}${m(a)}`)}else e.push(i);for(const n of e)i.hasOwnProperty(n)||(i[n]={data:n,count:0})}for(const o in i){const e=i[o];a.push({value:e.data,count:e.count,label:e.label})}return{uniqueValueInfos:a}}function B(e,n,t,l){let i=null;switch(n){case"log":0!==e&&(i=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(l)&&0!==l&&(i=e/l*100);break;case"field":Number.isFinite(t)&&0!==t&&(i=e/t);break;case"natural-log":e>0&&(i=Math.log(e));break;case"square-root":e>0&&(i=e**.5)}return i}function E(e,t,l){const i=q({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,definedInterval:t.definedInterval,breakCount:t.numClasses||a});return e=O(e,t.minValue,t.maxValue),(0,_rest_support_generateRendererUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .createGenerateRendererClassBreaks */ .t)({definition:i,values:e,normalizationTotal:t.normalizationTotal},l)}function O(e,n,t){const l=n??-1/0,i=t??1/0;return e.filter((e=>Number.isFinite(e)&&e>=l&&e<=i))}function q(n){const{breakCount:t,field:a,normalizationField:o,normalizationType:u}=n,r=n.classificationMethod||l,s="standard-deviation"===r?n.standardDeviationInterval||i:void 0,c="defined-interval"===r?n.definedInterval:void 0;return new _rest_support_ClassBreaksDefinition_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({breakCount:t,classificationField:a,classificationMethod:r,normalizationField:"field"===u?o:void 0,normalizationType:u,standardDeviationInterval:s,definedInterval:c})}function P(e,n){let t=e.classBreaks;const l=t.length,i=t[0]?.minValue,a=t[l-1]?.maxValue,o="standard-deviation"===n,r=u;return t=t.map((e=>{const n=e.label,t={minValue:e.minValue,maxValue:e.maxValue,label:n};if(o&&n){const e=n.match(r),l=e?.map((e=>+e.trim()))??[];2===l.length?(t.minStdDev=l[0],t.maxStdDev=l[1],l[0]<0&&l[1]>0&&(t.hasAvg=!0)):1===l.length&&(n.includes("<")?(t.minStdDev=null,t.maxStdDev=l[0]):n.includes(">")&&(t.minStdDev=l[0],t.maxStdDev=null))}return t})),{minValue:i,maxValue:a,classBreakInfos:t,normalizationTotal:e.normalizationTotal}}function U(e,n){const t=G(e,n);if(null==t.min&&null==t.max)return{bins:[],minValue:t.min,maxValue:t.max,normalizationTotal:n.normalizationTotal};const l=t.intervals,i=t.min??0,a=t.max??0,o=l.map(((e,n)=>({minValue:l[n][0],maxValue:l[n][1],count:0})));for(const u of e)if(null!=u&&u>=i&&u<=a){const e=L(l,u);e>-1&&o[e].count++}return{bins:o,minValue:i,maxValue:a,normalizationTotal:n.normalizationTotal}}function G(e,n,t=!1){const{field:l,classificationMethod:i,standardDeviationInterval:a,definedInterval:u,normalizationType:r,normalizationField:s,normalizationTotal:c,minValue:m,maxValue:f}=n,v=n.numBins||o;let g=null,h=null,T=null;if((!i||"equal-interval"===i)&&!r){if(null!=m&&null!=f)g=m,h=f;else{const n=p({values:e,minValue:m,maxValue:f,useSampleStdDev:!r,supportsNullCount:d({normalizationType:r,normalizationField:s,minValue:m,maxValue:f})});g=n.min??null,h=n.max??null}T=j(g??0,h??0,v)}else{const{classBreaks:n}=E(e,{field:l,normalizationType:r,normalizationField:s,normalizationTotal:c,classificationMethod:i,standardDeviationInterval:a,definedInterval:u,minValue:m,maxValue:f,numClasses:v},null!=m&&null!=f?[m,f]:void 0);g=n[0]?.minValue,h=n[n.length-1]?.maxValue,T=n.map((e=>[e.minValue,e.maxValue]))}if(t&&T.length){const e=T.at(-1)[1];T.push([e,e])}return{min:g,max:h,intervals:T}}function L(e,n){let t=-1;for(let l=e.length-1;l>=0;l--){if(n>=e[l][0]){t=l;break}}return t}function j(e,n,t){const l=(n-e)/t,i=[];let a,o=e;for(let u=1;u<=t;u++)a=o+l,a=Number(a.toFixed(16)),i.push([o,u===t?n:a]),o=a;return i}


/***/ })

};
;