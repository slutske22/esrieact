"use strict";
exports.id = 36423;
exports.ids = [36423,13480];
exports.modules = {

/***/ 27355:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(90618);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var n,r={exports:{}};function o(){return n||(n=1,e=r,o=function(){var e=function(){function e(e){this.message="JPEG error: "+e}return e.prototype=new Error,e.prototype.name="JpegError",e.constructor=e,e}();return function(){if(!self||!self.Uint8ClampedArray)return null;var n=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),r=4017,o=799,a=3406,t=2276,i=1567,s=3784,c=5793,f=2896;function l(){this.decodeTransform=null,this.colorTransform=-1}function u(e,n){for(var r,o,a=0,t=[],i=16;i>0&&!e[i-1];)i--;t.push({children:[],index:0});var s,c=t[0];for(r=0;r<i;r++){for(o=0;o<e[r];o++){for((c=t.pop()).children[c.index]=n[a];c.index>0;)c=t.pop();for(c.index++,t.push(c);t.length<=r;)t.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s;a++}r+1<i&&(t.push(s={children:[],index:0}),c.children[c.index]=s.children,c=s)}return t[0].children}function h(e,n,r){return 64*((e.blocksPerLine+1)*n+r)}function v(r,o,a,t,i,s,c,f,l){var u=a.mcusPerLine,v=a.progressive,m=o,d=0,b=0;function k(){if(b>0)return b--,d>>b&1;if(255===(d=r[o++])){var n=r[o++];if(n)throw new e("unexpected marker "+(d<<8|n).toString(16))}return b=7,d>>>7}function g(n){for(var r=n;;){if("number"==typeof(r=r[k()]))return r;if("object"!=typeof r)throw new e("invalid huffman sequence")}}function C(e){for(var n=0;e>0;)n=n<<1|k(),e--;return n}function w(e){if(1===e)return 1===k()?1:-1;var n=C(e);return n>=1<<e-1?n:n+(-1<<e)+1}function x(e,r){var o=g(e.huffmanTableDC),a=0===o?0:w(o);e.blockData[r]=e.pred+=a;for(var t=1;t<64;){var i=g(e.huffmanTableAC),s=15&i,c=i>>4;if(0!==s){var f=n[t+=c];e.blockData[r+f]=w(s),t++}else{if(c<15)break;t+=16}}}function y(e,n){var r=g(e.huffmanTableDC),o=0===r?0:w(r)<<l;e.blockData[n]=e.pred+=o}function D(e,n){e.blockData[n]|=k()<<l}var T=0;function P(e,r){if(T>0)T--;else for(var o=s,a=c;o<=a;){var t=g(e.huffmanTableAC),i=15&t,f=t>>4;if(0!==i){var u=n[o+=f];e.blockData[r+u]=w(i)*(1<<l),o++}else{if(f<15){T=C(f)+(1<<f)-1;break}o+=16}}}var L,A=0;function _(r,o){for(var a,t,i=s,f=c,u=0;i<=f;){var h=n[i];switch(A){case 0:if(u=(t=g(r.huffmanTableAC))>>4,0==(a=15&t))u<15?(T=C(u)+(1<<u),A=4):(u=16,A=1);else{if(1!==a)throw new e("invalid ACn encoding");L=w(a),A=u?2:3}continue;case 1:case 2:r.blockData[o+h]?r.blockData[o+h]+=k()<<l:0===--u&&(A=2===A?3:0);break;case 3:r.blockData[o+h]?r.blockData[o+h]+=k()<<l:(r.blockData[o+h]=L<<l,A=0);break;case 4:r.blockData[o+h]&&(r.blockData[o+h]+=k()<<l)}i++}4===A&&0===--T&&(A=0)}function U(e,n,r,o,a){var t=r%u;n(e,h(e,(r/u|0)*e.v+o,t*e.h+a))}function z(e,n,r){n(e,h(e,r/e.blocksPerLine|0,r%e.blocksPerLine))}var I,M,Y,q,S,H,R=t.length;H=v?0===s?0===f?y:D:0===f?P:_:x;var j,E,J,V,B=0;for(E=1===R?t[0].blocksPerLine*t[0].blocksPerColumn:u*a.mcusPerColumn;B<E;){var N=i?Math.min(E-B,i):E;for(M=0;M<R;M++)t[M].pred=0;if(T=0,1===R)for(I=t[0],S=0;S<N;S++)z(I,H,B),B++;else for(S=0;S<N;S++){for(M=0;M<R;M++)for(J=(I=t[M]).h,V=I.v,Y=0;Y<V;Y++)for(q=0;q<J;q++)U(I,H,B,Y,q);B++}b=0,(j=p(r,o))&&j.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+j.invalid),o=j.offset);var G=j&&j.marker;if(!G||G<=65280)throw new e("marker was not found");if(!(G>=65488&&G<=65495))break;o+=2}return(j=p(r,o))&&j.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+j.invalid),o=j.offset),o-m}function m(n,l,u){var h,v,m,d,p,b,k,g,C,w,x,y,D,T,P,L,A,_=n.quantizationTable,U=n.blockData;if(!_)throw new e("missing required Quantization Table.");for(var z=0;z<64;z+=8)C=U[l+z],w=U[l+z+1],x=U[l+z+2],y=U[l+z+3],D=U[l+z+4],T=U[l+z+5],P=U[l+z+6],L=U[l+z+7],C*=_[z],0!==(w|x|y|D|T|P|L)?(w*=_[z+1],x*=_[z+2],y*=_[z+3],D*=_[z+4],T*=_[z+5],P*=_[z+6],L*=_[z+7],v=(h=(h=c*C+128>>8)+(v=c*D+128>>8)+1>>1)-v,A=(m=x)*s+(d=P)*i+128>>8,m=m*i-d*s+128>>8,k=(p=(p=f*(w-L)+128>>8)+(k=T<<4)+1>>1)-k,b=(g=(g=f*(w+L)+128>>8)+(b=y<<4)+1>>1)-b,d=(h=h+(d=A)+1>>1)-d,m=(v=v+m+1>>1)-m,A=p*t+g*a+2048>>12,p=p*a-g*t+2048>>12,g=A,A=b*o+k*r+2048>>12,b=b*r-k*o+2048>>12,k=A,u[z]=h+g,u[z+7]=h-g,u[z+1]=v+k,u[z+6]=v-k,u[z+2]=m+b,u[z+5]=m-b,u[z+3]=d+p,u[z+4]=d-p):(A=c*C+512>>10,u[z]=A,u[z+1]=A,u[z+2]=A,u[z+3]=A,u[z+4]=A,u[z+5]=A,u[z+6]=A,u[z+7]=A);for(var I=0;I<8;++I)C=u[I],0!==((w=u[I+8])|(x=u[I+16])|(y=u[I+24])|(D=u[I+32])|(T=u[I+40])|(P=u[I+48])|(L=u[I+56]))?(v=(h=4112+((h=c*C+2048>>12)+(v=c*D+2048>>12)+1>>1))-v,A=(m=x)*s+(d=P)*i+2048>>12,m=m*i-d*s+2048>>12,d=A,k=(p=(p=f*(w-L)+2048>>12)+(k=T)+1>>1)-k,b=(g=(g=f*(w+L)+2048>>12)+(b=y)+1>>1)-b,A=p*t+g*a+2048>>12,p=p*a-g*t+2048>>12,g=A,A=b*o+k*r+2048>>12,b=b*r-k*o+2048>>12,C=(C=(h=h+d+1>>1)+g)<16?0:C>=4080?255:C>>4,w=(w=(v=v+m+1>>1)+(k=A))<16?0:w>=4080?255:w>>4,x=(x=(m=v-m)+b)<16?0:x>=4080?255:x>>4,y=(y=(d=h-d)+p)<16?0:y>=4080?255:y>>4,D=(D=d-p)<16?0:D>=4080?255:D>>4,T=(T=m-b)<16?0:T>=4080?255:T>>4,P=(P=v-k)<16?0:P>=4080?255:P>>4,L=(L=h-g)<16?0:L>=4080?255:L>>4,U[l+I]=C,U[l+I+8]=w,U[l+I+16]=x,U[l+I+24]=y,U[l+I+32]=D,U[l+I+40]=T,U[l+I+48]=P,U[l+I+56]=L):(A=(A=c*C+8192>>14)<-2040?0:A>=2024?255:A+2056>>4,U[l+I]=A,U[l+I+8]=A,U[l+I+16]=A,U[l+I+24]=A,U[l+I+32]=A,U[l+I+40]=A,U[l+I+48]=A,U[l+I+56]=A)}function d(e,n){for(var r=n.blocksPerLine,o=n.blocksPerColumn,a=new Int16Array(64),t=0;t<o;t++)for(var i=0;i<r;i++)m(n,h(n,t,i),a);return n.blockData}function p(e,n,r){function o(n){return e[n]<<8|e[n+1]}var a=e.length-1,t=r<n?r:n;if(n>=a)return null;var i=o(n);if(i>=65472&&i<=65534)return{invalid:null,marker:i,offset:n};for(var s=o(t);!(s>=65472&&s<=65534);){if(++t>=a)return null;s=o(t)}return{invalid:i.toString(16),marker:s,offset:t}}return l.prototype={parse:function(r){function o(){var e=r[c]<<8|r[c+1];return c+=2,e}function a(){var e=o(),n=c+e-2,a=p(r,n,c);a&&a.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+a.invalid),n=a.offset);var t=r.subarray(c,n);return c+=t.length,t}function t(e){for(var n=Math.ceil(e.samplesPerLine/8/e.maxH),r=Math.ceil(e.scanLines/8/e.maxV),o=0;o<e.components.length;o++){R=e.components[o];var a=Math.ceil(Math.ceil(e.samplesPerLine/8)*R.h/e.maxH),t=Math.ceil(Math.ceil(e.scanLines/8)*R.v/e.maxV),i=n*R.h,s=r*R.v*64*(i+1);R.blockData=new Int16Array(s),R.blocksPerLine=a,R.blocksPerColumn=t}e.mcusPerLine=n,e.mcusPerColumn=r}var i,s,c=0,f=null,l=null,h=[],m=[],b=[],k=o();if(65496!==k)throw new e("SOI not found");for(k=o();65497!==k;){var g,C,w;switch(k){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var x=a();65504===k&&74===x[0]&&70===x[1]&&73===x[2]&&70===x[3]&&0===x[4]&&(f={version:{major:x[5],minor:x[6]},densityUnits:x[7],xDensity:x[8]<<8|x[9],yDensity:x[10]<<8|x[11],thumbWidth:x[12],thumbHeight:x[13],thumbData:x.subarray(14,14+3*x[12]*x[13])}),65518===k&&65===x[0]&&100===x[1]&&111===x[2]&&98===x[3]&&101===x[4]&&(l={version:x[5]<<8|x[6],flags0:x[7]<<8|x[8],flags1:x[9]<<8|x[10],transformCode:x[11]});break;case 65499:for(var y=o()+c-2;c<y;){var D=r[c++],T=new Uint16Array(64);if(D>>4){if(D>>4!=1)throw new e("DQT - invalid table spec");for(C=0;C<64;C++)T[n[C]]=o()}else for(C=0;C<64;C++)T[n[C]]=r[c++];h[15&D]=T}break;case 65472:case 65473:case 65474:if(i)throw new e("Only single frame JPEGs supported");o(),(i={}).extended=65473===k,i.progressive=65474===k,i.precision=r[c++],i.scanLines=o(),i.samplesPerLine=o(),i.components=[],i.componentIds={};var P,L=r[c++],A=0,_=0;for(g=0;g<L;g++){P=r[c];var U=r[c+1]>>4,z=15&r[c+1];A<U&&(A=U),_<z&&(_=z);var I=r[c+2];w=i.components.push({h:U,v:z,quantizationId:I,quantizationTable:null}),i.componentIds[P]=w-1,c+=3}i.maxH=A,i.maxV=_,t(i);break;case 65476:var M=o();for(g=2;g<M;){var Y=r[c++],q=new Uint8Array(16),S=0;for(C=0;C<16;C++,c++)S+=q[C]=r[c];var H=new Uint8Array(S);for(C=0;C<S;C++,c++)H[C]=r[c];g+=17+S,(Y>>4?m:b)[15&Y]=u(q,H)}break;case 65501:o(),s=o();break;case 65498:o();var R,j=r[c++],E=[];for(g=0;g<j;g++){var J=i.componentIds[r[c++]];R=i.components[J];var V=r[c++];R.huffmanTableDC=b[V>>4],R.huffmanTableAC=m[15&V],E.push(R)}var B=r[c++],N=r[c++],G=r[c++],O=v(r,c,i,E,s,B,N,G>>4,15&G);c+=O;break;case 65535:255!==r[c]&&c--;break;default:if(255===r[c-3]&&r[c-2]>=192&&r[c-2]<=254){c-=3;break}throw new e("unknown marker "+k.toString(16))}k=o()}for(this.width=i.samplesPerLine,this.height=i.scanLines,this.jfif=f,this.eof=c,this.adobe=l,this.components=[],g=0;g<i.components.length;g++){var Q=h[(R=i.components[g]).quantizationId];Q&&(R.quantizationTable=Q),this.components.push({output:d(i,R),scaleX:R.h/i.maxH,scaleY:R.v/i.maxV,blocksPerLine:R.blocksPerLine,blocksPerColumn:R.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(e,n){var r,o,a,t,i,s,c,f,l,u,h,v=this.width/e,m=this.height/n,d=0,p=this.components.length,b=e*n*p,k=new Uint8ClampedArray(b),g=new Uint32Array(e),C=4294967288;for(c=0;c<p;c++){for(o=(r=this.components[c]).scaleX*v,a=r.scaleY*m,d=c,h=r.output,t=r.blocksPerLine+1<<3,i=0;i<e;i++)f=0|i*o,g[i]=(f&C)<<3|7&f;for(s=0;s<n;s++)for(u=t*((f=0|s*a)&C)|(7&f)<<3,i=0;i<e;i++)k[d]=h[u+g[i]],d+=p}var w=this.decodeTransform;if(w)for(c=0;c<b;)for(f=0,l=0;f<p;f++,c++,l+=2)k[c]=(k[c]*w[l]>>8)+w[l+1];return k},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(e){for(var n,r,o,a=0,t=e.length;a<t;a+=3)n=e[a],r=e[a+1],o=e[a+2],e[a]=n-179.456+1.402*o,e[a+1]=n+135.459-.344*r-.714*o,e[a+2]=n-226.816+1.772*r;return e},_convertYcckToRgb:function(e){for(var n,r,o,a,t=0,i=0,s=e.length;i<s;i+=4)n=e[i],r=e[i+1],o=e[i+2],a=e[i+3],e[t++]=r*(-660635669420364e-19*r+.000437130475926232*o-54080610064599e-18*n+.00048449797120281*a-.154362151871126)-122.67195406894+o*(-.000957964378445773*o+.000817076911346625*n-.00477271405408747*a+1.53380253221734)+n*(.000961250184130688*n-.00266257332283933*a+.48357088451265)+a*(-.000336197177618394*a+.484791561490776),e[t++]=107.268039397724+r*(219927104525741e-19*r-.000640992018297945*o+.000659397001245577*n+.000426105652938837*a-.176491792462875)+o*(-.000778269941513683*o+.00130872261408275*n+.000770482631801132*a-.151051492775562)+n*(.00126935368114843*n-.00265090189010898*a+.25802910206845)+a*(-.000318913117588328*a-.213742400323665),e[t++]=r*(-.000570115196973677*r-263409051004589e-19*o+.0020741088115012*n-.00288260236853442*a+.814272968359295)-20.810012546947+o*(-153496057440975e-19*o-.000132689043961446*n+.000560833691242812*a-.195152027534049)+n*(.00174418132927582*n-.00255243321439347*a+.116935020465145)+a*(-.000343531996510555*a+.24165260232407);return e},_convertYcckToCmyk:function(e){for(var n,r,o,a=0,t=e.length;a<t;a+=4)n=e[a],r=e[a+1],o=e[a+2],e[a]=434.456-n-1.402*o,e[a+1]=119.541-n+.344*r+.714*o,e[a+2]=481.816-n-1.772*r;return e},_convertCmykToRgb:function(e){for(var n,r,o,a,t=0,i=1/255,s=0,c=e.length;s<c;s+=4)n=e[s]*i,r=e[s+1]*i,o=e[s+2]*i,a=e[s+3]*i,e[t++]=255+n*(-4.387332384609988*n+54.48615194189176*r+18.82290502165302*o+212.25662451639585*a-285.2331026137004)+r*(1.7149763477362134*r-5.6096736904047315*o-17.873870861415444*a-5.497006427196366)+o*(-2.5217340131683033*o-21.248923337353073*a+17.5119270841813)-a*(21.86122147463605*a+189.48180835922747),e[t++]=255+n*(8.841041422036149*n+60.118027045597366*r+6.871425592049007*o+31.159100130055922*a-79.2970844816548)+r*(-15.310361306967817*r+17.575251261109482*o+131.35250912493976*a-190.9453302588951)+o*(4.444339102852739*o+9.8632861493405*a-24.86741582555878)-a*(20.737325471181034*a+187.80453709719578),e[t++]=255+n*(.8842522430003296*n+8.078677503112928*r+30.89978309703729*o-.23883238689178934*a-14.183576799673286)+r*(10.49593273432072*r+63.02378494754052*o+50.606957656360734*a-112.23884253719248)+o*(.03296041114873217*o+115.60384449646641*a-193.58209356861505)-a*(22.33816807309886*a+180.12613974708367);return e},getData:function(n,r,o){if(this.numComponents>4)throw new e("Unsupported color mode");var a=this._getLinearizedBlockData(n,r);if(1===this.numComponents&&o){for(var t=a.length,i=new Uint8ClampedArray(3*t),s=0,c=0;c<t;c++){var f=a[c];i[s++]=f,i[s++]=f,i[s++]=f}return i}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(a);if(4===this.numComponents){if(this._isColorConversionNeeded())return o?this._convertYcckToRgb(a):this._convertYcckToCmyk(a);if(o)return this._convertCmykToRgb(a)}return a}},l}()},void 0!==(a=o())&&(e.exports=a)),r.exports;var e,o,a}const a=(0,_commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__.g)(o());


/***/ }),

/***/ 79303:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(90618);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var e,r={exports:{}};function i(){return e||(e=1,i=r,void 0!==(t=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,r=e?e.byteLength:0;if(t<r)return e;for(var i=512;i<t;)i<<=1;for(var s=new Uint8Array(i),f=0;f<r;++f)s[f]=e[f];return this.buffer=s},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var r=e+t;!this.eof&&this.bufferLength<r;)this.readBlock();var i=this.bufferLength;r>i&&(r=i)}else{for(;!this.eof;)this.readBlock();r=this.bufferLength}return this.pos=r,this.buffer.subarray(e,r)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,r){for(var i=t+e;this.bufferLength<=i&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,r)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),s=function(){if(!self||!self.Uint32Array)return null;var e=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),s=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],f=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function o(t){throw new Error(t)}function n(e){var r=0,i=e[r++],s=e[r++];-1!=i&&-1!=s||o("Invalid header in flate stream"),8!=(15&i)&&o("Unknown compression method in flate stream"),((i<<8)+s)%31!=0&&o("Bad FCHECK in flate stream"),32&s&&o("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=r,this.codeSize=0,this.codeBuf=0,t.call(this)}return n.prototype=Object.create(t.prototype),n.prototype.getBits=function(t){for(var e,r=this.codeSize,i=this.codeBuf,s=this.bytes,f=this.bytesPos;r<t;)void 0===(e=s[f++])&&o("Bad encoding in flate stream"),i|=e<<r,r+=8;return e=i&(1<<t)-1,this.codeBuf=i>>t,this.codeSize=r-=t,this.bytesPos=f,e},n.prototype.getCode=function(t){for(var e=t[0],r=t[1],i=this.codeSize,s=this.codeBuf,f=this.bytes,n=this.bytesPos;i<r;){var a;void 0===(a=f[n++])&&o("Bad encoding in flate stream"),s|=a<<i,i+=8}var h=e[s&(1<<r)-1],u=h>>16,l=65535&h;return(0==i||i<u||0==u)&&o("Bad encoding in flate stream"),this.codeBuf=s>>u,this.codeSize=i-u,this.bytesPos=n,l},n.prototype.generateHuffmanTable=function(t){for(var e=t.length,r=0,i=0;i<e;++i)t[i]>r&&(r=t[i]);for(var s=1<<r,f=new Uint32Array(s),o=1,n=0,a=2;o<=r;++o,n<<=1,a<<=1)for(var h=0;h<e;++h)if(t[h]==o){var u=0,l=n;for(i=0;i<o;++i)u=u<<1|1&l,l>>=1;for(i=u;i<s;i+=a)f[i]=o<<16|h;++n}return[f,r]},n.prototype.readBlock=function(){function t(t,e,r,i,s){for(var f=t.getBits(r)+i;f-- >0;)e[b++]=s}var n=this.getBits(3);if(1&n&&(this.eof=!0),0!=(n>>=1)){var a,h;if(1==n)a=s,h=f;else if(2==n){for(var u=this.getBits(5)+257,l=this.getBits(5)+1,c=this.getBits(4)+4,d=Array(e.length),b=0;b<c;)d[e[b++]]=this.getBits(3);for(var v=this.generateHuffmanTable(d),g=0,B=(b=0,u+l),p=new Array(B);b<B;){var y=this.getCode(v);16==y?t(this,p,2,3,g):17==y?t(this,p,3,3,g=0):18==y?t(this,p,7,11,g=0):p[b++]=g=y}a=this.generateHuffmanTable(p.slice(0,u)),h=this.generateHuffmanTable(p.slice(u,B))}else o("Unknown block type in flate stream");for(var m=(x=this.buffer)?x.length:0,k=this.bufferLength;;){var w=this.getCode(a);if(w<256)k+1>=m&&(m=(x=this.ensureBuffer(k+1)).length),x[k++]=w;else{if(256==w)return void(this.bufferLength=k);var C=(w=r[w-=257])>>16;C>0&&(C=this.getBits(C)),g=(65535&w)+C,w=this.getCode(h),(C=(w=i[w])>>16)>0&&(C=this.getBits(C));var L=(65535&w)+C;k+g>=m&&(m=(x=this.ensureBuffer(k+g)).length);for(var S=0;S<g;++S,++k)x[k]=x[k-L]}}}else{var A,U=this.bytes,P=this.bytesPos;void 0===(A=U[P++])&&o("Bad block header in flate stream");var z=A;void 0===(A=U[P++])&&o("Bad block header in flate stream"),z|=A<<8,void 0===(A=U[P++])&&o("Bad block header in flate stream");var H=A;void 0===(A=U[P++])&&o("Bad block header in flate stream"),(H|=A<<8)!=(65535&~z)&&o("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var T=this.bufferLength,x=this.ensureBuffer(T+z),j=T+z;this.bufferLength=j;for(var E=T;E<j;++E){if(void 0===(A=U[P++])){this.eof=!0;break}x[E]=A}this.bytesPos=P}},n}())&&(i.exports=s)),r.exports;var t,i,s}const s=(0,_commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__.g)(i());


/***/ }),

/***/ 90618:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ e),
/* harmony export */   g: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}


/***/ }),

/***/ 20700:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ E)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var E;!function(E){E[E.KILOBYTES=1024]="KILOBYTES",E[E.MEGABYTES=1048576]="MEGABYTES",E[E.GIGABYTES=1073741824]="GIGABYTES"}(E||(E={}));


/***/ }),

/***/ 13480:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QueueProcessor: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57725);
/* harmony import */ var _promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(49175);
/* harmony import */ var _Queue_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57882);
/* harmony import */ var _ReactiveMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(51074);
/* harmony import */ var _scheduling_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9987);
/* harmony import */ var _signal_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39369);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class u{constructor(e,s){this.item=e,this.controller=s,this.promise=null}}class _{constructor(e){this._schedule=null,this._deferreds=new _ReactiveMap_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,this._controllers=new _ReactiveMap_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,this._processingItems=new _ReactiveMap_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,this._pausedSignal=(0,_signal_js__WEBPACK_IMPORTED_MODULE_4__/* .signal */ .v)(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new _Queue_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A(e.peeker),this.process=e.process}destroy(){this.clear(),this._schedule=(0,_maybe_js__WEBPACK_IMPORTED_MODULE_5__/* .removeMaybe */ .xt)(this._schedule)}get updating(){return this.running}get length(){return this._processingItems.size+this._queue.length}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}abort(e){const s=this._controllers.get(e);s&&s.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((s=>e.push(s))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((s,t)=>e(t)))}get(e){const s=this._deferreds.get(e);return s?s.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,h){const o=this.get(e);if(o)return o;const n=new AbortController;let c=null;h&&(c=(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .onAbort */ .u7)(h,(()=>n.abort())));const l=()=>{const s=this._processingItems.get(e);s&&s.controller.abort(),u(),a.reject((0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .createAbortError */ .NK)())},u=()=>{_.remove(),null!=c&&c.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},_=(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .onAbortOrThrow */ .NY)(n.signal,l),a=(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .createResolver */ .Tw)();return this._deferreds.set(e,a),this._controllers.set(e,n),a.promise.then(u,u),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject((0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .createAbortError */ .NK)()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const s of e)this._queue.push(s.item),s.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._pausedSignal.value||this._schedule||(this._schedule=(0,_scheduling_js__WEBPACK_IMPORTED_MODULE_3__/* .schedule */ ._)((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(s))}_processError(e,s){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(s))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let s;const t=new AbortController,r=new u(e,t);this._processingItems.set(e,r);try{s=this.process(e,t.signal)}catch(i){this._processError(r,i)}(0,_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isPromiseLike */ .$X)(s)?(r.promise=s,s.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,s)}}


/***/ }),

/***/ 51074:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99595);
/* harmony import */ var _accessorSupport_tracking_SimpleObservable_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(29745);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(e){this._observable=new _accessorSupport_tracking_SimpleObservable_js__WEBPACK_IMPORTED_MODULE_1__/* .SimpleObservable */ .I,this._map=new Map(e)}get size(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__/* .trackAccess */ .gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__/* .trackAccess */ .gc)(this._observable),this._map.entries()}forEach(t,s){(0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__/* .trackAccess */ .gc)(this._observable),this._map.forEach(((e,r)=>t.call(s,e,r,this)),s)}get(t){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__/* .trackAccess */ .gc)(this._observable),this._map.get(t)}has(t){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__/* .trackAccess */ .gc)(this._observable),this._map.has(t)}keys(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__/* .trackAccess */ .gc)(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__/* .trackAccess */ .gc)(this._observable),this._map.values()}[Symbol.iterator](){return (0,_accessorSupport_tracking_js__WEBPACK_IMPORTED_MODULE_0__/* .trackAccess */ .gc)(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}


/***/ }),

/***/ 60861:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ U),
/* harmony export */   IB: () => (/* binding */ i),
/* harmony export */   Iy: () => (/* binding */ T),
/* harmony export */   N2: () => (/* binding */ B),
/* harmony export */   RH: () => (/* binding */ H),
/* harmony export */   ZD: () => (/* binding */ C)
/* harmony export */ });
/* unused harmony exports BrightnessThreshold, colorEquals, colorVectorEquals, colorVectorToColorAndOpacity, darken, desaturate, getColorLuminance, getColorTheme, getContrast, multiplyOpacity, multiplyOpacityToUnitRGBA, unitRGBAFromColor, validateColor, validateColorAndOpacity */
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93814);
/* harmony import */ var _arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3223);
/* harmony import */ var _lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15565);
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(4506);
/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(74772);
/* harmony import */ var _libs_gl_matrix_2_factories_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(76982);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(n){return"r"in n&&"g"in n&&"b"in n}function a(n){return"h"in n&&"s"in n&&"v"in n}function s(n){return"l"in n&&"a"in n&&"b"in n}function f(n){return"l"in n&&"c"in n&&"h"in n}function h(n){return"x"in n&&"y"in n&&"z"in n}const l=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],g=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function b(n,t){const r=[];let o,e;if(n[0].length!==t.length)throw new Error("dimensions do not match");const u=n.length,c=n[0].length;let i=0;for(o=0;o<u;o++){for(i=0,e=0;e<c;e++)i+=n[o][e]*t[e];r.push(i)}return r}function m(n){const t=[n.r/255,n.g/255,n.b/255].map((n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4)),r=b(l,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function M(n){const t=b(g,[n.x/100,n.y/100,n.z/100]).map((n=>{const t=n<=.0031308?12.92*n:1.055*n**(1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function d(n){const t=[n.x/95.047,n.y/100,n.z/108.883].map((n=>n>(6/29)**3?n**(1/3):1/3*(29/6)**2*n+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function p(n){const t=n.l,r=[(t+16)/116+n.a/500,(t+16)/116,(t+16)/116-n.b/200].map((n=>n>6/29?n**3:3*(6/29)**2*(n-4/29)));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function w(n){const t=n.l,r=n.a,o=n.b,e=Math.sqrt(r*r+o*o);let u=Math.atan2(o,r);return u=u>0?u:u+2*Math.PI,{l:t,c:e,h:u}}function x(n){const t=n.l,r=n.c,o=n.h;return{l:t,a:r*Math.cos(o),b:r*Math.sin(o)}}function k(n){return d(m(n))}function y(n){return M(p(n))}function j(n){return w(d(m(n)))}function v(n){return M(p(x(n)))}function z(n){const t=n.r,r=n.g,o=n.b,e=Math.max(t,r,o),u=e-Math.min(t,r,o);let c=e,i=0===u?0:e===t?(r-o)/u%6:e===r?(o-t)/u+2:(t-r)/u+4,a=0===u?0:u/c;return i<0&&(i+=6),i*=60,a*=100,c*=100/255,{h:i,s:a,v:c}}function A(n){const t=(n.h+360)%360/60,r=n.s/100,o=n.v/100*255,e=o*r,u=e*(1-Math.abs(t%2-1));let c;switch(Math.floor(t)){case 0:c={r:e,g:u,b:0};break;case 1:c={r:u,g:e,b:0};break;case 2:c={r:0,g:e,b:u};break;case 3:c={r:0,g:u,b:e};break;case 4:c={r:u,g:0,b:e};break;case 5:case 6:c={r:e,g:0,b:u};break;default:c={r:0,g:0,b:0}}return c.r=Math.round(c.r+o-e),c.g=Math.round(c.g+o-e),c.b=Math.round(c.b+o-e),c}function U(n){return i(n)?n:f(n)?v(n):s(n)?y(n):h(n)?M(n):a(n)?A(n):n}function B(n){if(a(n))return n;return z(U(n))}function C(n){return s(n)?n:k(U(n))}function H(n){return f(n)?n:j(U(n))}function q(n){return G(n).isBright?"light":"dark"}function G(t){let{r,g:o,b:e,a:u}=t;return u<1&&(r=Math.round(u*r+255*(1-u)),o=Math.round(u*o+255*(1-u)),e=Math.round(u*e+255*(1-u))),new n({r,g:o,b:e})}function L(n,t){const{r,g:o,b:e}=t?.ignoreAlpha?n:G(n);return.2126*r+.7152*o+.0722*e}var R;function E(t,r=R.High){return L(t,{ignoreAlpha:!0})>r?new n([0,0,0,t.a]):new n([255,255,255,t.a])}function I(n,t){const r=C(n);r.l*=1-t;const o=U(r),e=n.clone();return e.setColor(o),e.a=n.a,e}function P(n,t){const r=n.clone();return r.a*=t,r}function D(n,t){const r=B(n);r.s*=t;const o=U(r),e=n.clone();return e.setColor(o),e.a=n.a,e}function F(t){return n.toUnitRGBA(t)}function J(n,t){return n===t||null!=n&&n.equals(t)}function K(n,t){return n===t||null!=n&&null!=t&&u(n,t)}function N(n){return c(n[0],n[1],n[2],n.length>3?n[3]:1)}function O(n){return n[0]??=0,n[1]??=0,n[2]??=0,n}function Q(n){return n.length=4,O(n),n[3]??=1,e(n[3],0,1),n}function S(t,r){const o=n.toUnitRGBA(t);return o[3]*=r,o}function T(r,e,u={}){if(0===r.length||e<=0)return[];if(1===(r=r.map((t=>"string"==typeof t?new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(t):t))).length||1===e){const n=[],t=r[0];for(let r=0;r<e;r++)n.push(t.clone());return n}if(u.shuffle&&(r=(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .shuffle */ .k4)((0,_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)(r),u.seed)),r.length>=e){const n=[],t=(r.length-1)/(e-1);for(let o=0;o<e;o++){const e=Math.round(o*t);n.push(r[e].clone())}return n}return V(r,e,u)}function V(n,r,o={}){const e=[],u=n.length-1,c=Math.ceil((r-n.length)/u);n:for(let t=0;t<u;t++){const u=n[t],i=n[t+1];for(let t=1;t<=c;t++){const a=t/(c+1);if(e.push(X(u,i,a,o)),e.length+n.length===r)break n}}return[...n.map((n=>n.clone())),...(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .shuffle */ .k4)(e,o.seed??1)]}!function(n){n[n.Low=160]="Low",n[n.High=225]="High"}(R||(R={}));const W=(n,t)=>{const r=Math.floor(10*t())-5;return Math.min(255,Math.max(0,n+r))};function X(t,o,e,u={}){const c=t.r,i=t.g,a=t.b,s=o.r,f=o.g,h=o.b,l=Math.round(c+(s-c)*e),g=Math.round(i+(f-i)*e),b=Math.round(a+(h-a)*e);if(!u.offset)return new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A([l,g,b]);const m=(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getRandomNumberGenerator */ .Mo)(u.seed);return new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A([W(l,m),W(g,m),W(b,m)])}


/***/ }),

/***/ 36423:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ ImageryTileLayer_k)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/PopupTemplate.js + 6 modules
var PopupTemplate = __webpack_require__(31352);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Clonable.js
var Clonable = __webpack_require__(14755);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var core_Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js + 2 modules
var MultiOriginJSONSupport = __webpack_require__(33125);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js + 1 modules
var promiseUtils = __webpack_require__(49175);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(61985);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(8636);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/Layer.js + 1 modules
var Layer = __webpack_require__(41247);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ArcGISService.js
var ArcGISService = __webpack_require__(30179);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/BlendLayer.js
var BlendLayer = __webpack_require__(20923);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js
var CustomParametersMixin = __webpack_require__(27303);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ImageryTileMixin.js
var ImageryTileMixin = __webpack_require__(6234);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/OperationalLayer.js + 1 modules
var OperationalLayer = __webpack_require__(90296);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/PortalLayer.js
var PortalLayer = __webpack_require__(60368);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/RasterJobHandlerMixin.js + 1 modules
var RasterJobHandlerMixin = __webpack_require__(42305);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/RasterPresetRendererMixin.js + 1 modules
var RasterPresetRendererMixin = __webpack_require__(15973);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js + 1 modules
var RefreshableLayer = __webpack_require__(77222);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js
var ScaleRangeLayer = __webpack_require__(22111);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js
var TemporalLayer = __webpack_require__(2960);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/commonProperties.js
var commonProperties = __webpack_require__(9014);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/Field.js
var Field = __webpack_require__(45352);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFieldUtils.js
var rasterFieldUtils = __webpack_require__(12782);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/RasterFunction.js + 4 modules
var RasterFunction = __webpack_require__(99913);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterDatasets/datasetUtils.js
var datasetUtils = __webpack_require__(97776);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterDatasets/FunctionRaster.js
var FunctionRaster = __webpack_require__(70624);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js + 2 modules
var BaseRaster = __webpack_require__(84605);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/Color.js
var Color = __webpack_require__(93814);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js
var Extent = __webpack_require__(8000);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(44153);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/intl/locale.js
var locale = __webpack_require__(4631);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/PixelBlock.js
var PixelBlock = __webpack_require__(83371);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js
var pixelRangeUtils = __webpack_require__(6246);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/covJSONParser.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(e){return["x","e","east","long","longitude"].includes(e.toLowerCase())}function covJSONParser_r(e){return["y","n","west","lat","latitude"].includes(e.toLowerCase())}function o(e){const{axes:l}=e.domain,s=Object.keys(l),a=[],o=[];let u=-1,m=-1,c=[];for(let t=0;t<s.length;t++){const e=s[t];i(e)?u=t:covJSONParser_r(e)&&(m=t);const n=l[e],d=[];if("values"in n){n.values.forEach((e=>d.push("string"==typeof e?new Date(e).getTime():e)));const e=d[1]-d[0];a.push([d[0]-.5*e,d[d.length-1]+.5*e]),o.push(e)}else{const{start:e,stop:t,num:l}=n,s=(t-e)/(l-1);a.push([e-.5*s,t+.5*s]),o.push(s);for(let n=0;n<l;n++)d.push(e+s*n)}c.push({name:e,values:d,extent:[d[0],d[d.length-1]]})}u>-1&&-1===m?m=0===u?1:0:m>-1&&-1===u?u=0===m?1:0:-1===m&&-1===u&&(u=0,m=1),c=c.filter(((e,t)=>!(t===u||t===m)));const{referencing:d}=e.domain,f=d.find((e=>e.coordinates.includes(s[u]))).system.id,p=f?.slice(f.lastIndexOf("/")+1),h=null==p||"CRS84"===p?4326:Number(p),g=new SpatialReference/* default */.A({wkid:h}),[b,y]=a[u],[x,j]=a[m],v=new Extent/* default */.A({xmin:b,xmax:y,ymin:x,ymax:j,spatialReference:g});return{width:Math.round(v.width/o[u]),height:Math.round(v.height/o[m]),extent:v,dimensions:c}}function u(e){const t=(0,locale/* getLocaleParts */.ZS)()?.language;return t?e[t]??Object.values(e)[0]:Object.values(e)[0]}function m(){return Math.round(255*Math.random())}function c(t){const n={},{parameters:l}=t;if(!l)return n;for(const[s,a]of Object.entries(l)){const{type:t,description:l,unit:i,categoryEncoding:r,observedProperty:o}=a;if("Parameter"===t&&(n[s]={},l&&(n[s].description=u(l)),i&&(n[s].unit=i.label?u(i.label):null,n[s].symbol=i.symbol?.value),r)){const t=Object.entries(r).map(((e,t)=>({OID:t,Value:Number(e[1]),ClassName:e[0].slice(e[0].lastIndexOf("/")+1),Count:1})));let l=!1;o?.categories?.length&&(o.categories.forEach((n=>{if(!n.id)return;const s=n.id.slice(n.id.lastIndexOf("/")+1),a=t.find((e=>e.ClassName===s));if(!a)return;const i=n.label?u(n.label):null;if(a.Label=i,n.preferredColor){const t=Color/* default */.A.fromHex(n.preferredColor);t&&(l=!0,a.Red=t.r,a.Green=t.g,a.Blue=t.b)}})),l&&t.forEach((e=>{null==e.Red&&(e.Red=m(),e.Green=m(),e.Blue=m())})));const a={objectIdFieldName:"",fields:[{name:"OID",type:"esriFieldTypeOID",alias:"OID",domain:null},{name:"Value",type:"esriFieldTypeInteger",alias:"Value",domain:null},{name:"Count",type:"esriFieldTypeDouble",alias:"Count",domain:null},{name:"ClassName",type:"esriFieldTypeString",alias:"ClassName",domain:null,length:50},{name:"Label",type:"esriFieldTypeString",alias:"Label",domain:null,length:50}],features:t.map((e=>({attributes:e})))};l&&a.fields.push({name:"Red",type:"esriFieldTypeInteger",alias:"Red",domain:null},{name:"Green",type:"esriFieldTypeInteger",alias:"Green",domain:null},{name:"Blue",type:"esriFieldTypeInteger",alias:"Blue",domain:null}),n[s].attributeTable=a}}return n}function d(e){let t=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let l=0;l<e.length;l++){const s=e[l];null!=s&&(s<t&&(t=s),s>n&&(n=s))}return (0,pixelRangeUtils/* getIntegerPixelType */.X1)(t,n)}function f(e,t,n){const l=e.map(((e,n)=>({name:e,count:t[n]}))).sort(((e,t)=>e.name>t.name?-1:1)),s=(a=1,e=>a*=e.count);var a;const i=[...l.slice(1),{name:"",count:1}].reverse().map(s).reverse();let r=0;for(let o=e.length-1;o>=0;o--){r+=i[l.findIndex((({name:t})=>t===e[o]))]*(n%t[o]),n=Math.floor(n/t[o])}return r}function p(e){const{width:t,height:n,extent:l,dimensions:a}=o(e),{ranges:i}=e,r=Object.keys(i).sort(((e,t)=>e<t?-1:1)),u=[];for(let s=0;s<r.length;s++){const e=r[s];a?.length&&u.push({name:e,dimensions:a})}const m=c(e);u.forEach((e=>m[e.name]&&Object.assign(e,m[e.name])));const p=u.length?{variables:u}:void 0,h=[];for(let o=0;o<r.length;o++){const e=r[o],{values:l,dataType:u,axisNames:m,shape:c}=i[e],p=c.length>2?o*c.slice(0,-2).reduce(((e,t)=>e*t)):0,g=m.slice(0,-2),b=c.slice(0,-2),y="float"===u?"f32":d(l),x=t*n,j=l.length/x;for(let i=0;i<j;i++){const e=PixelBlock/* default */.A.createEmptyBand(y,x),r=new Uint8Array(x).fill(255);let u=!1;const m=i*x;for(let t=0;t<x;t++){const n=l[m+t];null==n?(r[t]=0,u=!0):e[t]=n}if(0===o||a?.length){const l=new PixelBlock/* default */.A({width:t,height:n,mask:u?r:null,pixels:[e],pixelType:y});if(l.updateStatistics(),a?.length){h[f(g,b,i)+p]=l}else h.push(l)}else{const t=h[i];t.pixels.push(e),u?t.mask&&(t.mask=PixelBlock/* default */.A.combineBandMasks([t.mask,r])):t.mask=u?r:null}}}const g=Object.values(m).find((e=>e.attributeTable))?.attributeTable;return{extent:l,pixelBlocks:h,multidimensionalInfo:p,attributeTable:g,bandNames:p?void 0:r}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js
var DimensionalDefinition = __webpack_require__(74088);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/RasterInfo.js + 2 modules
var RasterInfo = __webpack_require__(22687);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js
var multidimensionalUtils = __webpack_require__(6549);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js
var pixelUtils = __webpack_require__(86924);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js
var stretchUtils = __webpack_require__(77691);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/InMemoryRaster.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let InMemoryRaster_f=class extends BaseRaster/* default */.A{constructor(){super(...arguments),this.datasetFormat="MEMORY",this.source=null}get url(){return""}fetchRawTile(t,e,s,i={}){if(!this._pixelBlockTiles){const{rasterInfo:r}=this,[o,a]=r.storageInfo.tileInfo.size,{sliceId:l}=i,{pixelBlocks:n}=this.source,m={pixelBlock:null==l?n[0]:n[l],useBilinear:"thematic"!==r.dataType,tileSize:{width:o,height:a},level:t,row:e,col:s},c=this.rasterJobHandler?this.rasterJobHandler.clipTile(m,i):(0,pixelUtils/* clipTile */.J$)(m);return Promise.resolve(c)}const r=this._pixelBlockTiles.get(`${t}/${e}/${s}`);return Promise.resolve(r)}async _open(t){const e=this.source,{pixelBlocks:s,attributeTable:i,statistics:r,histograms:l,name:m,nativeExtent:c,transform:p}=e,u=s[0],{width:h,height:d,pixelType:f}=u,g=e.extent??new Extent/* default */.A({xmin:-.5,ymin:.5,xmax:h-.5,ymax:d-.5,spatialReference:new SpatialReference/* default */.A({wkid:3857})}),x=e.isPseudoSpatialReference??!e.extent,y={x:g.width/h,y:g.height/d},b={...e.keyProperties};i&&(b.DataType="Thematic");const v=new RasterInfo/* default */.A({width:h,height:d,pixelType:f,extent:g,nativeExtent:c,attributeTable:i,transform:p,pixelSize:y,spatialReference:g.spatialReference,bandCount:u.pixels.length,keyProperties:b,multidimensionalInfo:e.multidimensionalInfo,statistics:r,isPseudoSpatialReference:x,histograms:l});this.ioConfig.skipMapInfo&&this.updateImageSpaceRasterInfo(v),this.createRemoteDatasetStorageInfo(v,512,512),this._set("rasterInfo",v),this.updateTileInfo(),v.multidimensionalInfo?await this._buildMDimStats(e.pixelBlocks,v.multidimensionalInfo):await this._buildInMemoryRaster(u,{width:512,height:512},t),v.multidimensionalInfo||(this.source=null),this.datasetName=m}async _buildInMemoryRaster(t,i,r){const{rasterInfo:o}=this,a=o.storageInfo.maximumPyramidLevel??0,l="thematic"!==o.dataType,n=this.rasterJobHandler?this.rasterJobHandler.split({pixelBlock:t,tileSize:i,maximumPyramidLevel:a,useBilinear:l},r):Promise.resolve((0,pixelUtils/* split */.lD)(t,i,a,l)),m=null!=o.statistics,c=null!=o.histograms,p=this.ioConfig.skipStatistics||m?Promise.resolve({statistics:null,histograms:null}):this.rasterJobHandler?this.rasterJobHandler.estimateStatisticsHistograms({pixelBlock:t},r):Promise.resolve((0,stretchUtils/* estimateStatisticsHistograms */.f4)(t)),d=await (0,promiseUtils/* eachAlways */.Lx)([n,p]);if(!d[0].value&&d[1].value)throw new core_Error/* default */.A("inmemory-raster:open","failed to build in memory raster");this._pixelBlockTiles=d[0].value,m||(o.statistics=d[1].value?.statistics),c||(o.histograms=d[1].value?.histograms)}async _buildMDimStats(t,e,s){for(let i=0;i<e.variables.length;i++){const r=e.variables[i];if(r.statistics)continue;const o=r.dimensions.map((t=>new DimensionalDefinition/* default */.A({variableName:r.name,dimensionName:t.name,values:[t.values?.[0]??t.extent?.[0]],isSlice:!0}))),a=(0,multidimensionalUtils/* getSliceIndex */.NG)(o,e),n=null==a?null:t[a];if(null==n)continue;const m=this.rasterJobHandler?await this.rasterJobHandler.computeStatisticsHistograms({pixelBlock:n},s):(0,stretchUtils/* computeStatisticsHistograms */.eH)(n);r.statistics=m.statistics,r.histograms||(r.histograms=m.histograms)}}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],InMemoryRaster_f.prototype,"datasetFormat",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],InMemoryRaster_f.prototype,"source",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],InMemoryRaster_f.prototype,"url",null),InMemoryRaster_f=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterDatasets.InMemoryRaster")],InMemoryRaster_f);const g=InMemoryRaster_f;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/FeatureSet.js
var FeatureSet = __webpack_require__(74704);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/CovJSONRaster.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let CovJSONRaster_m=class extends BaseRaster/* default */.A{constructor(){super(...arguments),this.datasetFormat="CovJSON"}fetchRawTile(e,t,r,s={}){return this._inMemoryRaster.fetchRawTile(e,t,r,s)}async _open(e){const{extent:t,pixelBlocks:r,multidimensionalInfo:s,attributeTable:a,bandNames:o}=await this._fetchData(e),{statistics:i,histograms:n}=(0,stretchUtils/* computeStatisticsHistograms */.eH)(r[0]),m=o?.map((e=>({BandName:e}))),h={DataType:a?"Thematic":s?"Scientific":"Generic",BandProperties:m},d=new g({source:{extent:t,pixelBlocks:r,attributeTable:a?FeatureSet/* default */.A.fromJSON(a):null,multidimensionalInfo:s,statistics:i,histograms:n,keyProperties:h,isPseudoSpatialReference:!1}});await d.open(),this._inMemoryRaster=d;const u=this.source?"":this.url.slice(this.url.lastIndexOf("/")+1);this._set("datasetName",u.slice(0,u.indexOf("."))),this._set("rasterInfo",d.rasterInfo)}async _fetchData(e){const r=this.source??(await this.request(this.url,{signal:e?.signal})).data,s="imagery-tile-layer:open-coverage-json";if("coverage"!==r.type?.toLowerCase()||"grid"!==r.domain?.domainType?.toLowerCase())throw new core_Error/* default */.A(s,"Only coverage with Grid domain type is supported");if(!r.ranges)throw new core_Error/* default */.A(s,"Missing ranges in the grid coverage data");if(!r.domain.referencing?.length)throw new core_Error/* default */.A(s,"Missing domain referencing in the grid coverage data");const a=Object.values(r.ranges);for(let n=0;n<a.length;n++){const{axisNames:e,shape:r,type:c,values:l}=a[n];if(!("ndarray"===c.toLowerCase()&&l?.length&&e?.length&&r?.length))throw new core_Error/* default */.A(s,"Only ranges with valid NdArray, axisNames, shape, and inline values are supported");if(!(i(e[e.length-1])&&covJSONParser_r(e[e.length-2])))throw new core_Error/* default */.A(s,"Only row-major ordered pixel values are supported. X axis must be the last axis.")}return p(r)}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],CovJSONRaster_m.prototype,"datasetFormat",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],CovJSONRaster_m.prototype,"source",void 0),CovJSONRaster_m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterDatasets.CovJSONRaster")],CovJSONRaster_m);const h=CovJSONRaster_m;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(3223);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js
var spatialReferenceUtils = __webpack_require__(67488);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterDatasets/xmlUtilities.js
var xmlUtilities = __webpack_require__(49982);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterTransforms/PolynomialTransform.js
var PolynomialTransform = __webpack_require__(70847);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/pamParser.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function pamParser_u(e,t){if(!e||!t)return null;const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),n.push(t[r]);return n}function pamParser_c(e){const t=(0,xmlUtilities/* getElement */.V6)(e,"GeodataXform"),n=pamParser_d((0,xmlUtilities/* getElementNumericValue */.v7)(t,"SpatialReference/WKID")||(0,xmlUtilities/* getElementValue */.mX)(t,"SpatialReference/WKT"));if("typens:PolynomialXform"!==t.getAttribute("xsi:type"))return{spatialReference:n,transform:null};const r=(0,xmlUtilities/* getElementNumericValue */.v7)(t,"PolynomialOrder")??1,a=(0,xmlUtilities/* getElementNumericValues */.Ui)(t,"CoeffX/Double"),c=(0,xmlUtilities/* getElementNumericValues */.Ui)(t,"CoeffY/Double"),m=(0,xmlUtilities/* getElementNumericValues */.Ui)(t,"InverseCoeffX/Double"),p=(0,xmlUtilities/* getElementNumericValues */.Ui)(t,"InverseCoeffY/Double"),S=pamParser_u(a,c),C=pamParser_u(m,p);return{spatialReference:n,transform:S&&C&&S.length&&C.length?new PolynomialTransform/* default */.A({spatialReference:n,polynomialOrder:r,forwardCoefficients:S,inverseCoefficients:C}):null}}function pamParser_m(e){const t=(0,xmlUtilities/* getElementNumericValue */.v7)(e,"NoDataValue"),n=(0,xmlUtilities/* getElement */.V6)(e,"Histograms/HistItem"),r=(0,xmlUtilities/* getElementNumericValue */.v7)(n,"HistMin"),o=(0,xmlUtilities/* getElementNumericValue */.v7)(n,"HistMax"),f=(0,xmlUtilities/* getElementNumericValue */.v7)(n,"BucketCount"),u=(0,xmlUtilities/* getElementValue */.mX)(n,"HistCounts")?.split("|").map((e=>Number(e)));let c,m,d,p;(0,xmlUtilities/* getElements */.IC)(e,"Metadata/MDI").forEach((e=>{const t=Number(e.textContent??e.nodeValue);switch(e.getAttribute("key").toUpperCase()){case"STATISTICS_MINIMUM":c=t;break;case"STATISTICS_MAXIMUM":m=t;break;case"STATISTICS_MEAN":d=t;break;case"STATISTICS_STDDEV":p=t}}));const S=(0,xmlUtilities/* getElementNumericValue */.v7)(e,"Metadata/SourceBandIndex");return{noDataValue:t,histogram:u?.length&&null!=r&&null!=o?{min:r,max:o,size:f||u.length,counts:u}:null,sourceBandIndex:S,statistics:null!=c&&null!=m?{min:c,max:m,avg:d,stddev:p}:null}}function pamParser_d(e){if(!e)return null;let r=Number(e);if(!isNaN(r)&&0!==r)return new SpatialReference/* default */.A({wkid:r});if(e=String(e).trim(),(0,spatialReferenceUtils/* isWKT2 */.jp)(e))return new SpatialReference/* default */.A({wkt2:e});const s=e.toUpperCase();if(s.startsWith("COMPD_CS")){if(!s.includes("VERTCS")||!s.includes("GEOGCS")&&!s.startsWith("PROJCS"))return null;const n=s.indexOf("VERTCS"),a=s.indexOf("PROJCS"),i=a>-1?a:s.indexOf("GEOGCS");if(-1===i)return null;const l=e.slice(i,e.lastIndexOf("]",n)+1).trim(),o=e.slice(n,e.lastIndexOf("]")).trim();r=pamParser_p(l);const f=new SpatialReference/* default */.A(r?{wkid:r}:{wkt:l}),u=pamParser_p(o);return u&&(f.vcsWkid=u),f}return s.startsWith("GEOGCS")||s.startsWith("PROJCS")?(r=pamParser_p(e),new SpatialReference/* default */.A(0!==r?{wkid:r}:{wkt:e})):null}function pamParser_p(e){const t=e.replaceAll("]","[").replaceAll('"',"").split("[").map((e=>e.trim())).filter((e=>""!==e)),n=t[t.length-1].split(","),r=n[0]?.toLowerCase();if(("epsg"===r||"esri"===r)&&e.endsWith('"]]')){const e=Number(n[1]);if(!isNaN(e)&&0!==e)return e}return 0}function S(t){if("pamdataset"!==t?.documentElement.tagName?.toLowerCase())return{};const n={spatialReference:null,transform:null,metadata:{},rasterBands:[],statistics:null,histograms:null};t.documentElement.childNodes.forEach((e=>{if(1===e.nodeType)if((0,xmlUtilities/* isSameTagIgnoreNS */.g7)(e,"SRS")){if(!n.spatialReference){const t=(0,xmlUtilities/* getElementValue */.mX)(e);n.spatialReference=pamParser_d(t)}}else if((0,xmlUtilities/* isSameTagIgnoreNS */.g7)(e,"Metadata"))if("xml:ESRI"===e.getAttribute("domain")){const{spatialReference:t,transform:r}=pamParser_c(e);n.transform=r,n.spatialReference||(n.spatialReference=t)}else{(0,xmlUtilities/* getElements */.IC)(e,"MDI").forEach((e=>n.metadata[e.getAttribute("key")]=(0,xmlUtilities/* getElementValue */.mX)(e)))}else if((0,xmlUtilities/* isSameTagIgnoreNS */.g7)(e,"PAMRasterBand")){const t=pamParser_m(e);null!=t.sourceBandIndex&&null==n.rasterBands[t.sourceBandIndex]?n.rasterBands[t.sourceBandIndex]=t:n.rasterBands.push(t)}}));const i=n.rasterBands;if(i.length){const t=!!i[0].statistics;n.statistics=t?i.map((e=>e.statistics)).filter(arrayUtils/* isSome */.Ru):null;const r=!!i[0].histogram;n.histograms=r?i.map((e=>e.histogram)).filter(arrayUtils/* isSome */.Ru):null}return n}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js + 3 modules
var RasterCodec = __webpack_require__(73870);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageAuxRaster.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ImageAuxRaster_h=class extends BaseRaster/* default */.A{fetchRawTile(t,s,e,r={}){return this._inMemoryRaster.fetchRawTile(t,s,e,r)}async _open(t){const s=await this._fetchData(t);let{spatialReference:e,statistics:r,histograms:a,transform:o}=await this._fetchAuxiliaryData(t);const l=!e;l&&(e=new SpatialReference/* default */.A({wkid:3857})),a?.length&&null==r&&(r=(0,stretchUtils/* estimateStatisticsFromHistograms */.Pg)(a));const{width:p,height:c}=s;let u=new Extent/* default */.A({xmin:-.5,ymin:.5-c,xmax:p-.5,ymax:.5,spatialReference:e});const h=o?o.forwardTransform(u):u;let d=!0;if(o){const t=o.forwardCoefficients;d=t&&0===t[1]&&0===t[2],d&&(o=null,u=h)}const w=new g({source:{extent:h,nativeExtent:u,transform:o,pixelBlocks:[s],statistics:r,histograms:a,keyProperties:{DateType:"Processed"},isPseudoSpatialReference:l},ioConfig:{sampling:"closest",skipStatistics:!0}});this.ioConfig.skipMapInfo&&(w.ioConfig.skipMapInfo=!0),await w.open(),w.source=null,this._set("rasterInfo",w.rasterInfo),this._inMemoryRaster=w}async _fetchData(t){const{data:e}=await this.request(this.url,{responseType:"array-buffer",signal:t?.signal}),r=(0,RasterCodec/* getFormat */.g)(e).toUpperCase();if("JPG"!==r&&"PNG"!==r&&"GIF"!==r&&"BMP"!==r)throw new core_Error/* default */.A("image-aux-raster:open","the data is not a supported format");this._set("datasetFormat",r);const a=r.toLowerCase(),o="gif"===a||"bmp"===a||!(0,has/* default */.A)("ios"),i=await this.decodePixelBlock(e,{format:a,useCanvas:o,hasNoZlibMask:!0});if(null==i)throw new core_Error/* default */.A("image-aux-raster:open","the data cannot be decoded");return i}async _fetchAuxiliaryData(t){const s=t?.signal,{skipExtensions:a=[],skipMapInfo:o}=this.ioConfig,i=o||a.includes("aux.xml")?null:this.request(this.url+".aux.xml",{responseType:"xml",signal:s}),n=this.datasetFormat,l="JPG"===n?"jgw":"PNG"===n?"pgw":"BMP"===n?"bpw":null,m=l&&a.includes(l)?null:this.request(this.url.slice(0,this.url.lastIndexOf("."))+"."+l,{responseType:"text",signal:s}),c=await (0,promiseUtils/* eachAlways */.Lx)([i,m]);if(s?.aborted)throw (0,promiseUtils/* createAbortError */.NK)();const f=S(c[0].value?.data);if(!f.transform){const t=c[1].value?c[1].value.data.split("\n").slice(0,6).map((t=>Number(t))):null;f.transform=6===t?.length?new PolynomialTransform/* default */.A({forwardCoefficients:[t[4],t[5],t[0],-t[1],t[2],-t[3]]}):null}return f}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],ImageAuxRaster_h.prototype,"datasetFormat",void 0),ImageAuxRaster_h=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterDatasets.ImageAuxRaster")],ImageAuxRaster_h);const ImageAuxRaster_d=ImageAuxRaster_h;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(57725);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/urlUtils.js
var urlUtils = __webpack_require__(19759);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 1 modules
var Point = __webpack_require__(30214);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js
var RasterStorageInfo = __webpack_require__(77614);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/TileInfo.js
var TileInfo = __webpack_require__(26574);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/TilemapCache.js + 2 modules
var TilemapCache = __webpack_require__(66905);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterTransforms/GCSShiftTransform.js
var GCSShiftTransform = __webpack_require__(49826);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/imageService/fetchRasterInfo.js
var fetchRasterInfo = __webpack_require__(59496);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/ImageServerRaster.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ImageServerRaster_g=class extends BaseRaster/* default */.A{constructor(){super(...arguments),this._levelOffset=0,this._tilemapCache=null,this._slices=null,this.datasetFormat="RasterTileServer",this.tileType=null}async fetchRawTile(e,t,i,s={}){const{storageInfo:r,extent:a}=this.rasterInfo,{transposeInfo:l}=r,n=null!=l&&!!s.transposedVariableName;if(this._slices&&!n&&null==s.sliceId)return null;const o=n?0:r.maximumPyramidLevel-e+this._levelOffset,c=`${this.url}/tile/${o}/${t}/${i}`,m=this._slices?n?{variable:s.transposedVariableName}:{sliceId:s.sliceId||0}:null;let u,h;if(r.isBsqTile){const e=(s.bandIds?.length?s.bandIds:[0,1,2]).map((e=>this.request(c,{query:{...m,bandId:e},responseType:"array-buffer",signal:s.signal}))),t=await Promise.all(e),i=t.map((e=>e.data.byteLength)).reduce(((e,t)=>e+t)),r=new Uint8Array(i);h=[];let a=0;for(const{data:s}of t)h.push(a),r.set(new Uint8Array(s),a),a+=s.byteLength;u=r.buffer}else{u=(await this.request(c,{query:m,responseType:"array-buffer",signal:s.signal})).data}if(!u)return null;const f=n?l.tileSize:r.tileInfo.size,d=await this.decodePixelBlock(u,{width:f[0],height:f[1],planes:h?.length,offsets:h,pixelType:null,isPoint:"Elevation"===this.tileType,returnInterleaved:n,noDataValue:this.rasterInfo.noDataValue});if(null==d)return null;const y=r.blockBoundary[e];if("jpg"!==r.compression||i>y.minCol&&i<y.maxCol&&t>y.minRow&&t<y.maxRow)return d;const{origin:x,blockWidth:g,blockHeight:v}=r,{x:S,y:I}=this.getPyramidPixelSize(e),w=Math.round((a.xmin-x.x)/S)%g,b=Math.round((a.xmax-x.x)/S)%g||g,T=Math.round((x.y-a.ymax)/I)%v,j=Math.round((x.y-a.ymin)/I)%v||v,M=i===y.minCol?w:0,_=t===y.minRow?T:0,O=i===y.maxCol?b:g,R=t===y.maxRow?j:v;return (0,pixelUtils/* setValidBoundary */.z$)(d,{x:M,y:_},{width:O-M,height:R-_}),d}getSliceIndex(e){if(!this._slices||null==e||0===e.length)return null;const t=e;for(let i=0;i<this._slices.length;i++){const e=this._slices[i].multidimensionalDefinition;if(e.length===t.length&&!e.some((e=>{const i=t.find((t=>e.variableName===t.variableName&&t.dimensionName===e.dimensionName));if(!i)return!0;return(Array.isArray(e.values[0])?`${e.values[0][0]}-${e.values[0][1]}`:e.values[0])!==(Array.isArray(i.values[0])?`${i.values[0][0]}-${i.values[0][1]}`:i.values[0])})))return i}return null}async fetchVariableStatisticsHistograms(e,t){const i=this.request(this.url+"/statistics",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.statistics)),s=this.request(this.url+"/histograms",{query:{variable:e,f:"json"},signal:t}).then((e=>e.data?.histograms)),r=await Promise.all([i,s]);return r[0]&&r[0].forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),r[1]?.[0]?.counts?.length||(r[1]=null),{statistics:r[0]||null,histograms:r[1]||null}}async computeBestPyramidLevelForLocation(e,t={}){if(!this._tilemapCache)return 0;let i=this.identifyPixelLocation(e,0,t.datumTransformation);if(null===i)return null;let s=0;const{maximumPyramidLevel:r}=this.rasterInfo.storageInfo;let a=r-s+this._levelOffset;const l=i.srcLocation;for(;a>=0;){try{if("available"===await this._tilemapCache.fetchAvailability(a,i.row,i.col,t))break}catch{}if(a--,s++,i=this.identifyPixelLocation(l,s,t.datumTransformation),null===i)return null}return-1===a||null==i?null:s}async _open(e){const r=e?.signal,a=this.sourceJSON?{data:this.sourceJSON}:await this.request(this.url,{query:{f:"json"},signal:r});a.ssl&&(this.url=this.url.replace(/^http:/i,"https:"));const l=a.data;if(this.sourceJSON=l,!l)throw new core_Error/* default */.A("imageserverraster:open","cannot initialize tiled image service, missing service info");if(!l.tileInfo)throw new core_Error/* default */.A("imageserverraster:open","use ImageryLayer to open non-tiled image services");this._fixScaleInServiceInfo();const n=["jpg","jpeg","png","png8","png24","png32","mixed"];this.tileType=l.cacheType,null==this.tileType&&(n.includes(l.tileInfo.format.toLowerCase())?this.tileType="Map":"lerc"===l.tileInfo.format.toLowerCase()?this.tileType="Elevation":this.tileType="Raster"),this.datasetName=l.name?.slice(l.name.indexOf("/")+1)??"";const o=await this._fetchRasterInfo({signal:r});if(null==o)throw new core_Error/* default */.A("image-server-raster:open","cannot initialize image service");(0,fetchRasterInfo/* patchServiceInfo */.E9)(o,l);const c="Map"===this.tileType?v(l.tileInfo,l):TileInfo/* default */.A.fromJSON(l.tileInfo);(0,maybe/* assertIsSome */.Lw)(c);const[f,p]=this._computeMinMaxLOD(o,c),{extent:d,pixelSize:x}=o,g=.5/o.width*x.x,I=Math.max(x.x,x.y),{lods:w}=c;("Map"!==this.tileType&&0!==l.maxScale||Math.abs(x.x-x.y)>g||!w.some((e=>Math.abs(e.resolution-I)<g)))&&(x.x=x.y=f.resolution,o.width=Math.ceil((d.xmax-d.xmin)/x.x-.1),o.height=Math.ceil((d.ymax-d.ymin)/x.y-.1));const b=f.level-p.level,[T,j]=c.size,M=[],_=[];w.forEach(((e,t)=>{e.level>=p.level&&e.level<=f.level&&M.push({x:e.resolution,y:e.resolution}),t<w.length-1&&_.push(Math.round(10*e.resolution/w[t+1].resolution)/10)})),M.sort(((e,t)=>e.x-t.x));const O=this.computeBlockBoundary(d,T,j,c.origin,M,b),R=M.length>1?M.slice(1):null;let L;l.transposeInfo&&(L={tileSize:[l.transposeInfo.rows,l.transposeInfo.cols],packetSize:o.keyProperties?._yxs.PacketSize??0});const z=_.length<=1||_.length>=3&&_.slice(0,-1).every((e=>e===_[0]))?_[0]??2:Math.round(10/(p.resolution/f.resolution)**(-1/b))/10;if(o.storageInfo=new RasterStorageInfo/* default */.A({blockWidth:c.size[0],blockHeight:c.size[1],pyramidBlockWidth:c.size[0],pyramidBlockHeight:c.size[1],pyramidResolutions:R,pyramidScalingFactor:z,compression:c.format,origin:c.origin,firstPyramidLevel:1,maximumPyramidLevel:b,tileInfo:c,isBsqTile:!!l.bsq,transposeInfo:L,blockBoundary:O}),ImageServerRaster_S(o),this._set("rasterInfo",o),l.capabilities.toLowerCase().includes("tilemap")){const e={tileInfo:o.storageInfo.tileInfo,parsedUrl:(0,urlUtils/* urlToObject */.An)(this.url),url:this.url,tileServers:[]};this._tilemapCache=new TilemapCache/* TilemapCache */.d({layer:e})}}async _fetchRasterInfo(e){const t=this.sourceJSON;if("Map"===this.tileType){const e=t.fullExtent||t.extent,i=Math.ceil((e.xmax-e.xmin)/t.pixelSizeX-.1),s=Math.ceil((e.ymax-e.ymin)/t.pixelSizeY-.1),r=SpatialReference/* default */.A.fromJSON(t.spatialReference||e.spatialReference),a=new Point/* default */.A({x:t.pixelSizeX,y:t.pixelSizeY,spatialReference:r});return new RasterInfo/* default */.A({width:i,height:s,bandCount:3,extent:Extent/* default */.A.fromJSON(e),spatialReference:r,pixelSize:a,pixelType:"u8",statistics:null,keyProperties:{DataType:"processed"}})}const{signal:i}=e,s=(0,fetchRasterInfo/* fetchServiceRasterInfo */.Tw)(this.url,this.sourceJSON,{signal:i,query:this.ioConfig.customFetchParameters}),r=t.hasMultidimensions?this.request(`${this.url}/slices`,{query:{f:"json"},signal:i}).then((e=>e.data?.slices)).catch((()=>null)):null,a=await Promise.all([s,r]);return this._slices=a[1],a[0]}_fixScaleInServiceInfo(){const{sourceJSON:e}=this;e.minScale&&e.minScale<0&&(e.minScale=0),e.maxScale&&e.maxScale<0&&(e.maxScale=0)}_computeMinMaxLOD(e,t){const{pixelSize:i}=e,s=.5/e.width*i.x,{lods:r}=t,a=t.lodAt(Math.max.apply(null,r.map((e=>e.level)))),l=t.lodAt(Math.min.apply(null,r.map((e=>e.level)))),{tileType:n}=this;if("Map"===n)return this._levelOffset=r[0].level,[a,l];if("Raster"===n){return[r.find((e=>e.resolution===i.x))??a,l]}const{minScale:o,maxScale:c}=this.sourceJSON;let m=a;c>0&&(m=r.find((e=>Math.abs(e.scale-c)<s)),m||(m=r.filter((e=>e.scale>c)).sort(((e,t)=>e.scale>t.scale?1:-1))[0]??a));let u=l;return o>0&&(u=r.find((e=>Math.abs(e.scale-o)<s))??l,this._levelOffset=u.level-l.level),[m,u]}};function v(e,t){if(!e)return null;const{minScale:i,maxScale:s,minLOD:r,maxLOD:a}=t;if(null!=r&&null!=a)return TileInfo/* default */.A.fromJSON({...e,lods:e.lods.filter((({level:e})=>null!=e&&e>=r&&e<=a))});if(0!==i&&0!==s){const t=e=>Math.round(1e4*e)/1e4,r=i?t(i):1/0,a=s?t(s):-1/0;return TileInfo/* default */.A.fromJSON({...e,lods:e.lods.filter((e=>{const i=t(e.scale);return i<=r&&i>=a}))})}return TileInfo/* default */.A.fromJSON(e)}function ImageServerRaster_S(e){const{extent:t,spatialReference:i}=e;t.xmin>-1&&t.xmax>181&&i?.wkid&&i.isGeographic&&(e.nativeExtent=e.extent,e.transform=new GCSShiftTransform/* default */.A,e.extent=e.transform.forwardTransform(t))}(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],ImageServerRaster_g.prototype,"datasetFormat",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ImageServerRaster_g.prototype,"tileType",void 0),ImageServerRaster_g=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterDatasets.ImageServerRaster")],ImageServerRaster_g);const I=ImageServerRaster_g;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/utils.js
var utils = __webpack_require__(53965);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/MRFRaster.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const y=new Map;y.set("Int8","s8"),y.set("UInt8","u8"),y.set("Int16","s16"),y.set("UInt16","u16"),y.set("Int32","s32"),y.set("UInt32","u32"),y.set("Float32","f32"),y.set("Float64","f32"),y.set("Double64","f32");const x=new Map;x.set("none",{blobExtension:".til",isOneSegment:!0,decoderFormat:"bip"}),x.set("lerc",{blobExtension:".lrc",isOneSegment:!1,decoderFormat:"lerc"}),x.set("deflate",{blobExtension:".pzp",isOneSegment:!0,decoderFormat:"deflate"}),x.set("jpeg",{blobExtension:".pjg",isOneSegment:!0,decoderFormat:"jpg"});let w=class extends BaseRaster/* default */.A{constructor(){super(...arguments),this._files=null,this._storageIndex=null,this.datasetFormat="MRF"}async fetchRawTile(t,e,r,s={}){const{blockWidth:o,blockHeight:a,blockBoundary:i}=this.rasterInfo.storageInfo,l=i[t];if(!l||l.maxRow<e||l.maxCol<r||l.minRow>e||l.minCol>r)return null;const{bandCount:f,pixelType:c}=this.rasterInfo,{ranges:p,actualTileWidth:m,actualTileHeight:h}=this._getTileLocation(t,e,r);if(!p||0===p.length)return null;if(0===p[0].from&&0===p[0].to){const t=new Uint8Array(o*a);return new PixelBlock/* default */.A({width:o,height:a,pixels:void 0,mask:t,validPixelCount:0})}const{bandIds:u}=this.ioConfig,g=this._getBandSegmentCount(),d=[];let y=0;for(y=0;y<g;y++)u&&!u.includes(y)||d.push(this.request(this._files.data,{range:{from:p[y].from,to:p[y].to},responseType:"array-buffer",signal:s.signal}));const w=await Promise.all(d),I=w.map((t=>t.data.byteLength)).reduce(((t,e)=>t+e)),b=new Uint8Array(I),R=[];let A=0;for(y=0;y<g;y++)R.push(A),b.set(new Uint8Array(w[y].data),A),A+=w[y].data.byteLength;const F=x.get(this.rasterInfo.storageInfo.compression).decoderFormat,_=await this.decodePixelBlock(b.buffer,{width:o,height:a,format:F,planes:u?.length||f,offsets:R,pixelType:c});if(null==_)return null;let{noDataValue:S}=this.rasterInfo;if(null!=S&&"lerc"!==F&&!_.mask&&(S=S[0],null!=S)){const t=_.width*_.height,e=new Uint8Array(t);if(Math.abs(S)>1e24)for(y=0;y<t;y++)Math.abs((_.pixels[0][y]-S)/S)>1e-6&&(e[y]=1);else for(y=0;y<t;y++)_.pixels[0][y]!==S&&(e[y]=1);_.mask=e}let k=0,M=0;if(m!==o||h!==a){let t=_.mask;if(t)for(y=0;y<a;y++)if(M=y*o,y<h)for(k=m;k<o;k++)t[M+k]=0;else for(k=0;k<o;k++)t[M+k]=0;else for(t=new Uint8Array(o*a),_.mask=t,y=0;y<h;y++)for(M=y*o,k=0;k<m;k++)t[M+k]=1}return _}async _open(t){this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1);const e=t?t.signal:null,r=await this.request(this.url,{responseType:"xml",signal:e}),{rasterInfo:s,files:o}=this._parseHeader(r.data),{skipMapInfo:a,skipExtensions:i=[]}=this.ioConfig;if(!i.includes("aux.xml")&&!a){const e=await this._fetchAuxiliaryData(t);null!=e&&(s.statistics=e.statistics??s.statistics,s.histograms=e.histograms,e.histograms&&null==s.statistics&&(s.statistics=(0,stretchUtils/* estimateStatisticsFromHistograms */.Pg)(e.histograms)))}a&&this.updateImageSpaceRasterInfo(s),this._set("rasterInfo",s),this._files=o;const n=await this.request(o.index,{responseType:"array-buffer",signal:e});this._storageIndex=MRFRaster_I(n.data);const{blockWidth:l,blockHeight:f}=this.rasterInfo.storageInfo,c=this.rasterInfo.storageInfo.pyramidScalingFactor,{width:p,height:m}=this.rasterInfo,h=[],u=this._getBandSegmentCount();let g=0,y=-1;for(;g<this._storageIndex.length;){y++;const t=Math.ceil(p/l/c**y)-1,e=Math.ceil(m/f/c**y)-1;g+=(t+1)*(e+1)*u*4,h.push({maxRow:e,maxCol:t,minCol:0,minRow:0})}this.rasterInfo.storageInfo.blockBoundary=h,y>0&&(this.rasterInfo.storageInfo.firstPyramidLevel=1,this.rasterInfo.storageInfo.maximumPyramidLevel=y),this.updateTileInfo()}_getBandSegmentCount(){return x.get(this.rasterInfo.storageInfo.compression).isOneSegment?1:this.rasterInfo.bandCount}_getTileLocation(t,e,r){const{blockWidth:s,blockHeight:o,pyramidScalingFactor:a}=this.rasterInfo.storageInfo,{width:i,height:n}=this.rasterInfo,l=this._getBandSegmentCount();let f,c,p,m=0,h=0;for(p=0;p<t;p++)h=a**p,f=Math.ceil(i/s/h),c=Math.ceil(n/o/h),m+=f*c;h=a**t,f=Math.ceil(i/s/h),c=Math.ceil(n/o/h),m+=e*f+r,m*=4*l;const u=this._storageIndex.subarray(m,m+4*l);let g=0,d=0;const y=[];for(let x=0;x<l;x++)g=u[4*x]*2**32+u[4*x+1],d=g+u[4*x+2]*2**32+u[4*x+3],y.push({from:g,to:d});return{ranges:y,actualTileWidth:r<f-1?s:Math.ceil(i/h)-s*(f-1),actualTileHeight:e<c-1?o:Math.ceil(n/h)-o*(c-1)}}_parseHeader(t){const r=(0,xmlUtilities/* getElement */.V6)(t,"MRF_META/Raster");if(!r)throw new core_Error/* default */.A("mrf:open","not a valid MRF format");const s=(0,xmlUtilities/* getElement */.V6)(r,"Size"),n=parseInt(s.getAttribute("x"),10),c=parseInt(s.getAttribute("y"),10),m=parseInt(s.getAttribute("c"),10),g=((0,xmlUtilities/* getElementValue */.mX)(r,"Compression")||"none").toLowerCase();if(!x.has(g))throw new core_Error/* default */.A("mrf:open","currently does not support compression "+g);const d=(0,xmlUtilities/* getElementValue */.mX)(r,"DataType")||"UInt8",w=y.get(d);if(null==w)throw new core_Error/* default */.A("mrf:open","currently does not support pixel type "+d);const I=(0,xmlUtilities/* getElement */.V6)(r,"PageSize"),b=parseInt(I.getAttribute("x"),10),R=parseInt(I.getAttribute("y"),10),A=(0,xmlUtilities/* getElement */.V6)(r,"DataValues");let F,_;A&&(_=A.getAttribute("NoData"),null!=_&&(F=_.trim().split(" ").map((t=>parseFloat(t)))));if((0,xmlUtilities/* getElement */.V6)(t,"MRF_META/CachedSource"))throw new core_Error/* default */.A("mrf:open","currently does not support MRF referencing other data files");const S=(0,xmlUtilities/* getElement */.V6)(t,"MRF_META/GeoTags"),k=(0,xmlUtilities/* getElement */.V6)(S,"BoundingBox");let M,j=!1;if(null!=k){const t=parseFloat(k.getAttribute("minx")),e=parseFloat(k.getAttribute("miny")),r=parseFloat(k.getAttribute("maxx")),s=parseFloat(k.getAttribute("maxy")),a=(0,xmlUtilities/* getElementValue */.mX)(S,"Projection")||"";let n=SpatialReference/* default */.A.WGS84;if("LOCAL_CS[]"!==a)if(a.toLowerCase().startsWith("epsg:")){const t=Number(a.slice(5));isNaN(t)||0===t||(n=new SpatialReference/* default */.A({wkid:t}))}else n=pamParser_d(a)??SpatialReference/* default */.A.WGS84;else j=!0,n=new SpatialReference/* default */.A({wkid:3857});M=new Extent/* default */.A(t,e,r,s),M.spatialReference=n}else j=!0,M=new Extent/* default */.A({xmin:-.5,ymin:.5-c,xmax:n-.5,ymax:.5,spatialReference:new SpatialReference/* default */.A({wkid:3857})});const C=(0,xmlUtilities/* getElement */.V6)(t,"MRF_META/Rsets"),T=parseInt(C?.getAttribute("scale")||"2",10),L=M.spatialReference,U=new RasterStorageInfo/* default */.A({origin:new Point/* default */.A({x:M.xmin,y:M.ymax,spatialReference:L}),blockWidth:b,blockHeight:R,pyramidBlockWidth:b,pyramidBlockHeight:R,compression:g,pyramidScalingFactor:T}),B=new Point/* default */.A({x:M.width/n,y:M.height/c,spatialReference:L}),E=new RasterInfo/* default */.A({width:n,height:c,extent:M,isPseudoSpatialReference:j,spatialReference:L,bandCount:m,pixelType:w,pixelSize:B,noDataValue:F,storageInfo:U}),P=(0,xmlUtilities/* getElementValue */.mX)(t,"datafile"),W=(0,xmlUtilities/* getElementValue */.mX)(t,"IndexFile");return{rasterInfo:E,files:{mrf:this.url,index:W||this.url.replace(".mrf",".idx"),data:P||this.url.replace(".mrf",x.get(g).blobExtension)}}}async _fetchAuxiliaryData(t){try{const{data:e}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:t?.signal});return S(e)}catch{return null}}};function MRFRaster_I(t){if(t.byteLength%16>0)throw new Error("invalid array buffer must be multiples of 16");let e,r,s,o,a,i;if(utils/* isPlatformLittleEndian */.Z){for(r=new Uint8Array(t),o=new ArrayBuffer(t.byteLength),s=new Uint8Array(o),a=0;a<t.byteLength/4;a++)for(i=0;i<4;i++)s[4*a+i]=r[4*a+3-i];e=new Uint32Array(o)}else e=new Uint32Array(t);return e}(0,tslib_es6._)([(0,property/* property */.MZ)()],w.prototype,"_files",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],w.prototype,"_storageIndex",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],w.prototype,"datasetFormat",void 0),w=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterDatasets.MRFRaster")],w);const b=w;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterDatasets/byteStreamUtils.js
var byteStreamUtils = __webpack_require__(26554);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/DBFParser.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(e){const t=e.fields,r=e.records,n=t.some((e=>"oid"===e.name.toLowerCase()))?"OBJECTID":"OID",i=[{name:n,type:"esriFieldTypeOID",alias:"OID"}].concat(t.map((e=>({name:e.name,type:"esriFieldType"+e.typeName,alias:e.name})))),a=i.map((e=>e.name)),s=[];let o=0,l=0;return r.forEach((e=>{const t={};for(t[n]=o++,l=1;l<a.length;l++)t[a[l]]=e[l-1];s.push({attributes:t})})),{displayFieldName:"",fields:i,features:s}}class r{static get supportedVersions(){return[5]}static parse(r){const n=new DataView(r),i=3&n.getUint8(0);if(3!==i)return{header:{version:i},recordSet:null};const a=n.getUint32(4,!0),s=n.getUint16(8,!0),o=n.getUint16(10,!0),l={version:i,recordCount:a,headerByteCount:s,recordByteCount:o};let p=32;const d=[],g=[];let h;if(3===i){for(;13!==n.getUint8(p);)h=String.fromCharCode(n.getUint8(p+11)).trim(),d.push({name:(0,byteStreamUtils/* bytesToUTF8 */.w)(new Uint8Array(r,p,11)),type:h,typeName:["String","Date","Double","Boolean","String","Integer"][["C","D","F","L","M","N"].indexOf(h)],length:n.getUint8(p+16)}),p+=32;if(p+=1,d.length>0)for(;g.length<a&&r.byteLength-p>o;){const t=[];32===n.getUint8(p)?(p+=1,d.forEach((n=>{if("C"===n.type)t.push((0,byteStreamUtils/* bytesToUTF8 */.w)(new Uint8Array(r,p,n.length)).trim());else if("N"===n.type)t.push(parseInt(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim(),10));else if("F"===n.type)t.push(parseFloat(String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim()));else if("D"===n.type){const e=String.fromCharCode.apply(null,new Uint8Array(r,p,n.length)).trim();t.push(new Date(parseInt(e.slice(0,4),10),parseInt(e.slice(4,6),10)-1,parseInt(e.slice(6,8),10)))}p+=n.length})),g.push(t)):p+=o}}return{header:l,fields:d,records:g,recordSet:t({fields:d,records:g})}}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js
var TiffDecoder = __webpack_require__(20417);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/tiffTag.js
var tiffTag = __webpack_require__(3929);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/TIFFRaster.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const TIFFRaster_S=(e,t)=>e.get(t)?.values,TIFFRaster_b=(e,t)=>e.get(t)?.values?.[0];let k=class extends BaseRaster/* default */.A{constructor(){super(...arguments),this._files=null,this._headerInfo=null,this._bufferSize=1048576,this._chunkSize=10485760,this.datasetFormat="TIFF"}async fetchRawTile(e,t,i,r={}){if(!this._headerInfo?.isSupported||this.isBlockOutside(e,t,i))return null;const s=await this._fetchRawTiffTile(e,t,i,!1,r);if(null!=s&&this._headerInfo.hasMaskBand){const a=await this._fetchRawTiffTile(e,t,i,!0,r);null!=a&&a.pixels[0]instanceof Uint8Array&&(s.mask=a.pixels[0])}return s}async _open(e){const r=e?e.signal:null,{data:s}=await this.request(this.url,{range:{from:0,to:this._bufferSize},responseType:"array-buffer",signal:r});if(!s)throw new core_Error/* default */.A("tiffraster:open","failed to open url "+this.url);this.datasetName=this.url.slice(this.url.lastIndexOf("/")+1,this.url.lastIndexOf("."));const{littleEndian:a,firstIFDPos:n,isBigTiff:o}=(0,TiffDecoder/* parseSignature */.uT)(s),f=[],l={fileChunk:s,posIFD:n,fileOffset:0};await this._readIFDs(f,l,a,o?8:4,r);const{imageInfo:u,rasterInfo:c}=E(f),h=(0,TiffDecoder/* getPyramidIFDs */.zS)(f),p=(0,TiffDecoder/* getMaskIFDs */.r9)(f);if(this._headerInfo={littleEndian:a,isBigTiff:o,ifds:f,pyramidIFDs:h,maskIFDs:p,...u},this._set("rasterInfo",c),!u.isSupported)throw new core_Error/* default */.A("tiffraster:open","this tiff is not supported: "+u.message);if(!u.tileWidth)throw new core_Error/* default */.A("tiffraster:open","none-tiled tiff is not optimized for access, convert to COG and retry.");c.isPseudoSpatialReference&&Logger/* default */.A.getLogger(this).warn("The spatial reference for this tiff is unsupported. Only EPSG spatial reference codes and Esri WKTs are supported.");const g=f[0].get("PREDICTOR")?.values?.[0],x=f[0].get("SAMPLEFORMAT")?.values?.[0];if(3===x&&2===g)throw new core_Error/* default */.A("tiffraster:open","unsupported horizontal difference encoding. Predictor=3 is supported for floating point data");const{skipMapInfo:w,skipExtensions:I=[]}=this.ioConfig;if(!I.includes("aux.xml")&&!w){const t=await this._fetchAuxiliaryMetaData(e);null!=t&&D(t,c)}I.includes("vat.dbf")||1!==c.bandCount||"u8"!==c.pixelType||w||(c.attributeTable=await this._fetchAuxiliaryTable(e),null!=c.attributeTable&&(c.keyProperties.DataType="thematic")),w&&this.updateImageSpaceRasterInfo(c),this.updateTileInfo()}async _validateOrFetchHeaderBuffer(e,t){let{fileChunk:i,fileOffset:r,posIFD:s}=e;if(s+8>=i.byteLength||s<0){r=s+r;i=(await this.request(this.url,{range:{from:r,to:r+this._bufferSize},responseType:"array-buffer",signal:t})).data,s=0}return{fileChunk:i,fileOffset:r,posIFD:s}}async _readIFDs(e,i,r,s=4,a){if(!i.posIFD)return null;i=await this._validateOrFetchHeaderBuffer(i,a);const n=await this._readIFD(i,r,tiffTag/* tiffTags */.NB,s,a);if(!n?.ifd)throw new core_Error/* default */.A("tiffraster:open","cannot parse tiff header. failed to open url "+this.url);if(e.push(n.ifd),!n.nextIFD)return null;i.posIFD=n.nextIFD-i.fileOffset,await this._readIFDs(e,i,r,s,a)}async _readIFD(e,t,i=tiffTag/* tiffTags */.NB,r=4,s){let{fileChunk:a,posIFD:n,fileOffset:o}=e;if(!e.fileChunk)return null;const f=(0,TiffDecoder/* parseIFD */.JM)(a,t,n,o,i,r);if(f.success){const e=[];if(f.ifd?.forEach((t=>{t.values||e.push(t)})),e.length>0&&await this._fillOffsets(e,t,f.nextIFD,s),f.ifd?.has("GEOKEYDIRECTORY")){const e=f.ifd.get("GEOKEYDIRECTORY"),i=e?.values;if(i&&i.length>4){const r=i[0]+"."+i[1]+"."+i[2];n=e.valueOffset+6-o;const f=await this._validateOrFetchHeaderBuffer({fileChunk:a,posIFD:n,fileOffset:o},s),l=await this._readIFD(f,t,tiffTag/* geoKeys */.YC,2,s);e.data=l?.ifd,e.data&&e.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[r]})}}return f}if(f.requiredBufferSize){return a=(await this.request(this.url,{range:{from:o,to:o+n+f.requiredBufferSize+8},responseType:"array-buffer",signal:s})).data,a.byteLength<n+f.requiredBufferSize?null:(e.fileChunk=a,e.fileOffset=o,this._readIFD(e,t,i,r,s))}return null}async _fillOffsets(e,t,i,r){const s=e.filter((e=>null!=e.offlineOffsetSize));if(0===s.length)return;const a=s.map((e=>e.offlineOffsetSize)),n=Math.min.apply(null,a.map((e=>e[0]))),o=Math.max.apply(null,a.map((e=>e[0]+e[1])));let f=1===a.length||o-n<=this._bufferSize;if(!f&&a.length>1){a.sort(((e,t)=>e[0]-t[0]));f=a.reduce(((e,t)=>e===t[0]?t[0]+t[1]:0),a[0][0])===o}if(f){const e=await this._fetchOffsets(n,Math.max(o,n+this._bufferSize),r);return void s.forEach((i=>(0,TiffDecoder/* parseFieldValues */.Cr)(e,t,i,n)))}const l=s.map((async e=>{const i=e.offlineOffsetSize,s=await this._fetchOffsets(i[0],i[1]+i[0],r);(0,TiffDecoder/* parseFieldValues */.Cr)(s,t,e,i[0])}));await Promise.all(l)}async _fetchOffsets(e,t,i){const r=[],s=this._chunkSize,a=Math.ceil((t-e)/s);let n=e;for(let l=0;l<a;l++)r.push(this.request(this.url,{range:{from:n,to:l===a-1?t:n+s-1},responseType:"array-buffer",signal:i})),n+=s;const o=await Promise.all(r);if(1===a)return o[0].data;const f=new Uint8Array(t-e+1);for(let l=0;l<a;l++)f.set(new Uint8Array(o[l].data),l*s);return f.buffer}async _fetchRawTiffTile(e,t,i,r,s={}){const a=this._getTileLocation(e,t,i,r);if(!a)return null;const{ranges:n,actualTileWidth:o,actualTileHeight:f,ifd:l}=a,u=n.map((e=>this.request(this.url,{range:e,responseType:"array-buffer",signal:s.signal}))),c=await Promise.all(u),h=c.map((e=>e.data.byteLength)).reduce(((e,t)=>e+t)),p=1===c.length?c[0].data:new ArrayBuffer(h),d=[0],m=[0];if(c.length>1){const e=new Uint8Array(p);for(let t=0,i=0;t<c.length;t++){const r=c[t].data;e.set(new Uint8Array(r),i),d[t]=i,i+=r.byteLength,m[t]=r.byteLength}}const{blockWidth:y,blockHeight:g}=this.getBlockWidthHeight(e),x=await this.decodePixelBlock(p,{format:"tiff",customOptions:{headerInfo:this._headerInfo,ifd:l,offsets:d,sizes:m},width:y,height:g,planes:null,pixelType:null});if(null==x)return null;let w,I,T;if(o!==y||f!==g){let e=x.mask;if(e)for(w=0;w<g;w++)if(T=w*y,w<f)for(I=o;I<y;I++)e[T+I]=0;else for(I=0;I<y;I++)e[T+I]=0;else for(e=new Uint8Array(y*g),x.mask=e,w=0;w<f;w++)for(T=w*y,I=0;I<o;I++)e[T+I]=1}return x}_getTileLocation(e,t,i,r=!1){const{firstPyramidLevel:s,blockBoundary:a}=this.rasterInfo.storageInfo,n=0===e?0:e-(s-1),{_headerInfo:o}=this;if(!o)return null;const f=r?o.maskIFDs[n]:0===n?o?.ifds[0]:o?.pyramidIFDs[n-1];if(!f)return null;const l=(0,TiffDecoder/* isBSQConfig */.XO)(f,o),u=TIFFRaster_S(f,"TILEOFFSETS");if(void 0===u)return null;const c=TIFFRaster_S(f,"TILEBYTECOUNTS"),{minRow:h,minCol:p,maxRow:d,maxCol:m}=a[n];if(t>d||i>m||t<h||i<p)return null;const y=TIFFRaster_b(f,"IMAGEWIDTH"),g=TIFFRaster_b(f,"IMAGELENGTH"),x=TIFFRaster_b(f,"TILEWIDTH"),I=TIFFRaster_b(f,"TILELENGTH"),T=[];if(l){const{bandCount:e}=this.rasterInfo;for(let r=0;r<e;r++){const e=r*(d+1)*(m+1)+t*(m+1)+i;T[r]={from:u[e],to:u[e]+c[e]-1}}}else{const e=t*(m+1)+i;T.push({from:u[e],to:u[e]+c[e]-1})}for(let w=0;w<T.length;w++)if(null==T[w].from||!T[w].to||T[w].to<0)return null;return{ranges:T,ifd:f,actualTileWidth:i===m&&y%x||x,actualTileHeight:t===d&&g%I||I}}async _fetchAuxiliaryMetaData(e){try{const{data:t}=await this.request(this.url+".aux.xml",{responseType:"xml",signal:e?.signal});return S(t)}catch{return null}}async _fetchAuxiliaryTable(e){try{const{data:t}=await this.request(this.url+".vat.dbf",{responseType:"array-buffer",signal:e?.signal}),i=r.parse(t);return i?.recordSet?FeatureSet/* default */.A.fromJSON(i.recordSet):null}catch{return null}}};function E(e){const t=(0,TiffDecoder/* getImageInfo */.uc)(e),{width:i,height:r,tileWidth:s,tileHeight:u,planes:c,pixelType:h,compression:d,firstPyramidLevel:m,maximumPyramidLevel:y,pyramidBlockWidth:g,pyramidBlockHeight:x,pyramidResolutions:w,tileBoundary:T,affine:R,metadata:_}=t,F=t.extent.spatialReference?.wkt||t.extent.spatialReference?.wkid;let k=pamParser_d(F),E=!!t.isPseudoGeographic;null==k&&(E=!0,k=new SpatialReference/* default */.A({wkid:3857}));const D=new Extent/* default */.A({...t.extent,spatialReference:k}),v=new Point/* default */.A(D?{x:D.xmin,y:D.ymax,spatialReference:k}:{x:0,y:0}),P=new RasterStorageInfo/* default */.A({blockWidth:s,blockHeight:u,pyramidBlockWidth:g,pyramidBlockHeight:x,compression:d,origin:v,firstPyramidLevel:m,maximumPyramidLevel:y,pyramidResolutions:w,blockBoundary:T}),B=new Point/* default */.A({x:(D.xmax-D.xmin)/i,y:(D.ymax-D.ymin)/r,spatialReference:k}),C=_?{BandProperties:_.bandProperties,DataType:_.dataType}:{};let L=null;const z=TIFFRaster_b(e[0],"PHOTOMETRICINTERPRETATION"),j=TIFFRaster_S(e[0],"COLORMAP");if(z<=3&&j?.length>3&&j.length%3==0){L=[];const e=j.length/3;for(let t=0;t<e;t++)L.push([t,j[t]>>>8,j[t+e]>>>8,j[t+2*e]>>>8])}const A=new RasterInfo/* default */.A({width:i,height:r,bandCount:c,pixelType:h,pixelSize:B,storageInfo:P,spatialReference:k,isPseudoSpatialReference:E,keyProperties:C,extent:D,colormap:L,statistics:_?_.statistics:null});if(R?.length&&(A.nativeExtent=new Extent/* default */.A({xmin:-.5,ymin:.5-r,xmax:i-.5,ymax:.5,spatialReference:k}),A.transform=new PolynomialTransform/* default */.A({polynomialOrder:1,forwardCoefficients:[R[2]+R[0]/2,R[5]-R[3]/2,R[0],R[3],-R[1],-R[4]]}),A.extent=A.transform.forwardTransform(A.nativeExtent),A.pixelSize=new Point/* default */.A({x:(D.xmax-D.xmin)/i,y:(D.ymax-D.ymin)/r,spatialReference:k}),P.origin.x=-.5,P.origin.y=.5),w){const{x:e,y:t}=A.pixelSize;w.forEach((i=>{i.x*=e,i.y*=t}))}return{imageInfo:t,rasterInfo:A}}function D(e,t){if(t.statistics=e.statistics??t.statistics,t.histograms=e.histograms,e.histograms&&null==t.statistics&&(t.statistics=(0,stretchUtils/* estimateStatisticsFromHistograms */.Pg)(e.histograms)),e.transform&&null==t.transform){t.transform=e.transform,t.nativeExtent=t.extent;const i=t.transform.forwardTransform(t.nativeExtent);t.pixelSize=new Point/* default */.A({x:(i.xmax-i.xmin)/t.width,y:(i.ymax-i.ymin)/t.height,spatialReference:t.spatialReference}),t.extent=i}t.isPseudoSpatialReference&&e.spatialReference&&(t.spatialReference=e.spatialReference,t.extent.spatialReference=t.nativeExtent.spatialReference=t.storageInfo.origin.spatialReference=t.spatialReference)}(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"_files",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"_headerInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"_bufferSize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"_chunkSize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],k.prototype,"datasetFormat",void 0),k=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterDatasets.TIFFRaster")],k);const TIFFRaster_v=k;

;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/RasterFactory.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=new Map;n.set("MRF",{desc:"Meta Raster Format",constructor:b}),n.set("TIFF",{desc:"GeoTIFF",constructor:TIFFRaster_v}),n.set("RasterTileServer",{desc:"Raster Tile Server",constructor:I}),n.set("JPG",{desc:"JPG Raster Format",constructor:ImageAuxRaster_d}),n.set("PNG",{desc:"PNG Raster Format",constructor:ImageAuxRaster_d}),n.set("GIF",{desc:"GIF Raster Format",constructor:ImageAuxRaster_d}),n.set("BMP",{desc:"BMP Raster Format",constructor:ImageAuxRaster_d}),n.set("CovJSON",{desc:"COVJSON Raster Format",constructor:h}),n.set("MEMORY",{desc:"In Memory Raster Format",constructor:g});class RasterFactory_u{static get supportedFormats(){const t=new Set;return n.forEach(((r,e)=>t.add(e))),t}static async open(r){const{url:e,ioConfig:s,source:o,sourceJSON:a}=r;let c=r.datasetFormat??s?.datasetFormat;null==c&&(e.includes(".")?c=e.slice(e.lastIndexOf(".")+1).toUpperCase():"coverage"===o?.type?.toLowerCase()?c="CovJSON":o?.extent&&o.pixelblocks&&(c="MEMORY")),"OVR"===c||"TIF"===c?c="TIFF":"JPG"===c||"JPEG"===c||"JFIF"===c?c="JPG":"COVJSON"===c&&(c="CovJSON"),e.toLowerCase().includes("/imageserver")&&!e.toLowerCase().includes("/wcsserver")&&(c="RasterTileServer");const u={url:e,source:o,sourceJSON:a,datasetFormat:c,ioConfig:s??{bandIds:null,sampling:null}};if(Object.keys(u).forEach((t=>{null==u[t]&&delete u[t]})),c){if(!this.supportedFormats.has(c))throw new core_Error/* default */.A("rasterfactory:open","not a supported format "+c);if("CRF"===c)throw new core_Error/* default */.A("rasterfactory:open",`cannot open raster: ${e}`);const s=new(0,n.get(c).constructor)(u);return await s.open({signal:r.signal}),s}const i=Array.from(n.keys()).filter((t=>"CovJSON"!==t&&"Memory"!==t));let l=0;const m=()=>{if(c=i[l++],!c)return null;if("CRF"===c)return null;const t=new(0,n.get(c).constructor)(u);return t.open({signal:r.signal}).then((()=>t)).catch((()=>m()))};return m()}static register(t,r,e){n.has(t.toUpperCase())||n.set(t.toUpperCase(),{desc:r,constructor:e})}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js + 60 modules
var rasterFunctionHelper = __webpack_require__(14954);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/support/popupUtils.js
var popupUtils = __webpack_require__(95610);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/webdoc/interfaces.js
var interfaces = __webpack_require__(29759);
;// ./node_modules/@arcgis/core/layers/ImageryTileLayer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let W=class extends((0,BlendLayer/* BlendLayer */.dM)((0,ScaleRangeLayer/* ScaleRangeLayer */.j)((0,OperationalLayer/* OperationalLayer */.q)((0,PortalLayer/* PortalLayer */.A)((0,RasterPresetRendererMixin/* RasterPresetRendererMixin */.H)((0,CustomParametersMixin/* CustomParametersMixin */.d)((0,ImageryTileMixin/* ImageryTileMixin */.o)((0,RasterJobHandlerMixin/* RasterJobHandlerMixin */.G)((0,TemporalLayer/* TemporalLayer */.e)((0,ArcGISService/* ArcGISService */.b)((0,RefreshableLayer/* RefreshableLayer */.J)((0,MultiOriginJSONSupport/* MultiOriginJSONMixin */.P)(Clonable/* default */.A.ClonableMixin(Layer/* default */.A)))))))))))))){constructor(...e){super(...e),this._primaryRasters=[],this.legendEnabled=!0,this.isReference=null,this.listMode="show",this.sourceJSON=null,this.version=null,this.type="imagery-tile",this.operationalLayerType="ArcGISTiledImageServiceLayer",this.popupEnabled=!0,this.popupTemplate=null,this.fields=null,this.source=void 0,this._debouncedSaveOperations=(0,promiseUtils/* debounce */.sg)((async(e,t,r)=>{const{save:s,saveAs:i}=await __webpack_require__.e(/* import() */ 3799).then(__webpack_require__.bind(__webpack_require__, 3799));switch(e){case interfaces/* SaveOperationType */.X.SAVE:return s(this,t);case interfaces/* SaveOperationType */.X.SAVE_AS:return i(this,r,t)}}))}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Image Service"]},e).catch(promiseUtils/* throwIfAbortError */.QP).then((()=>this._openRaster(t)))),Promise.resolve(this)}get defaultPopupTemplate(){return this.createPopupTemplate()}get rasterFields(){const e=[(0,rasterFieldUtils/* getServicePixelValueField */.rZ)("Pixel Value"),(0,rasterFieldUtils/* getRawServicePixelValueField */.dy)("Raw Pixel Value")],t=this.raster?.rasterInfo??this.serviceRasterInfo,r=t?.attributeTable;if(r){const t=(0,rasterFieldUtils/* getRasterAttributeTableFields */.jC)(r);e.push(...t)}const s=t?.dataType,i=t?.multidimensionalInfo;if(("vector-magdir"===s||"vector-uv"===s)&&null!=i){const t=i.variables[0].unit?.trim(),r=(0,rasterFieldUtils/* getMagnitudeField */.DV)(t),s=(0,rasterFieldUtils/* getDirectionField */.y6)();e.push(r,s)}if(i){const t=(0,rasterFieldUtils/* getMultidimensionalFields */.AL)(i);e.push(...t)}return e}createPopupTemplate(e){const{rasterFields:t}=this,r=e?.visibleFieldNames??new Set(t.map((({name:e})=>e)).filter((e=>e!==rasterFieldUtils/* commonRasterFieldNames */.F_.rawServicePixelValue))),s=(0,popupUtils/* createPopupTemplate */.tn)({fields:t,title:this.title},{...e,visibleFieldNames:r}),{rasterInfo:i}=this.raster;return s?.fieldInfos&&i&&(0,rasterFieldUtils/* setDefaultRasterFieldFormats */.h4)(s.fieldInfos,i),s}async generateRasterInfo(e,t){if(e=(0,ensureType/* ensureClass */.PZ)(RasterFunction/* default */.A,e),await this.load(),!e||"none"===e.functionName?.toLowerCase())return this.serviceRasterInfo;try{const{rasterInfo:r}=await this._openFunctionRaster(e,t);return r}catch(r){if(r instanceof core_Error/* default */.A)throw r;throw new core_Error/* default */.A("imagery-tile-layer","the given raster function is not supported")}}async save(e){return this._debouncedSaveOperations(interfaces/* SaveOperationType */.X.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(interfaces/* SaveOperationType */.X.SAVE_AS,t,e)}write(e,t){const r=this._primaryRasters[0]??this.raster;if(this.loaded?"RasterTileServer"===r.datasetFormat&&("Raster"===r.tileType||"Map"===r.tileType):this.url&&/\/ImageServer(\/|\/?$)/i.test(this.url))return super.write(e,t);if(t?.messages){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`;t.messages.push(new core_Error/* default */.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this}))}return null}async _openRaster(e){let t=!1;if(this.raster)await this._openFromRaster(this.raster,e),t=(0,datasetUtils/* isFunctionRaster */.q)(this.raster),!t&&this.rasterFunction&&(this._primaryRasters=[this.raster],await this._initializeWithFunctionRaster(this.rasterFunction));else{const{url:t,rasterFunction:r,source:i}=this;if(!t&&!i)throw new core_Error/* default */.A("imagery-tile-layer:open","missing url or source parameter");i?await this._openFromSource(i,e):r?await this._openFromUrlWithRasterFunction(t,r,e):await this._openFromUrl(t,e)}const r=this.raster.rasterInfo;if(!r)throw new core_Error/* default */.A("imagery-tile-layer:load","cannot load resources on "+this.url);if(this._set("serviceRasterInfo",t?r:this._primaryRasters[0].rasterInfo),this._set("spatialReference",r.spatialReference),this.sourceJSON=this.sourceJSON||this.raster.sourceJSON,null!=this.sourceJSON){const e="Map"===this.raster.tileType&&null!=this.sourceJSON.minLOD&&null!=this.sourceJSON.maxLOD?this.sourceJSON:{...this.sourceJSON,minScale:0,maxScale:0};this.read(e,{origin:"service"})}else this.read({tileInfo:this.serviceRasterInfo?.storageInfo.tileInfo.toJSON()},{origin:"service"});this.title||(this.title=this.raster.datasetName),"Map"===this.raster.tileType&&(this.popupEnabled=!1),this._configDefaultSettings(),this.addHandles((0,reactiveUtils/* watch */.wB)((()=>this.customParameters),(e=>{this.raster&&(this.raster.ioConfig.customFetchParameters=e)})))}async _openFromRaster(e,t){e.rasterInfo||await e.open({signal:t}),this._primaryRasters=(0,datasetUtils/* getPrimaryRasters */.p)(e),this.url||(this.url=this._primaryRasters[0].url)}async _openFromUrlWithRasterFunction(e,t,r){const i=[e];t&&(0,rasterFunctionHelper/* getPrimaryRasterUrls */.UD)(t.toJSON(),i);const o=await Promise.all(i.map((e=>RasterFactory_u.open({url:e,sourceJSON:this.sourceJSON,ioConfig:{sampling:"closest",...this.ioConfig,customFetchParameters:this.customParameters},signal:r})))),a=o.findIndex((e=>null==e));if(a>-1)throw new core_Error/* default */.A("imagery-tile-layer:open",`cannot open raster: ${i[a]}`);return this._primaryRasters=o,this._initializeWithFunctionRaster(t)}async _openFromUrl(e,t){const r=await RasterFactory_u.open({url:e,sourceJSON:this.sourceJSON,ioConfig:{sampling:"closest",...this.ioConfig,customFetchParameters:this.customParameters},signal:t});if(null==r)throw new core_Error/* default */.A("imagery-tile-layer:open",`cannot open raster: ${e}`);this._primaryRasters=[r],this.raster=r}async _openFromSource(e,t){const r="the tiled imagery data source is not supported",i="coverage"===e.type?.toLowerCase()?"CovJSON":e.extent&&e.pixelBlock?"MEMORY":null;if(!i)throw new core_Error/* default */.A("imagery-tile-layer:open",r);"MEMORY"===i&&(e={...e,pixelBlock:void 0,pixelBlocks:[e.pixelBlock]});const o=await RasterFactory_u.open({url:"",source:e,datasetFormat:i,ioConfig:{sampling:"closest",...this.ioConfig,customFetchParameters:this.customParameters},signal:t});if(null==o)throw new core_Error/* default */.A("imagery-tile-layer:open",r);this._primaryRasters=[o],this.rasterFunction?await this._initializeWithFunctionRaster(this.rasterFunction):this.raster=o}async _openFunctionRaster(e,t){const r={raster:this._primaryRasters[0]};this._primaryRasters.length>1&&this._primaryRasters.forEach((e=>r[e.url]=e));const s=(0,rasterFunctionHelper/* create */.vt)(e.functionDefinition?.toJSON()??e.toJSON(),r),i=new FunctionRaster/* default */.A({rasterFunction:s});return await i.open(t),i}async _initializeWithFunctionRaster(e,t){try{this.raster=await this._openFunctionRaster(e,t)}catch(r){r instanceof core_Error/* default */.A&&Logger/* default */.A.getLogger(this).error("imagery-tile-layer:open",r.message),Logger/* default */.A.getLogger(this).warn("imagery-tile-layer:open","the raster function cannot be applied and is removed"),this._set("rasterFunction",null),this.raster=this._primaryRasters[0]}}};(0,tslib_es6._)([(0,property/* property */.MZ)({clonable:!1})],W.prototype,"_primaryRasters",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(commonProperties/* legendEnabled */.fV)],W.prototype,"legendEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],W.prototype,"isReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:["show","hide"]})],W.prototype,"listMode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{read:!0,write:!0}})],W.prototype,"blendMode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:RasterFunction/* default */.A,json:{name:"renderingRule",write:!0}})],W.prototype,"rasterFunction",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],W.prototype,"sourceJSON",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0,json:{origins:{service:{read:{source:"currentVersion"}}}}})],W.prototype,"version",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0,json:{read:!1}})],W.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:["ArcGISTiledImageServiceLayer"]})],W.prototype,"operationalLayerType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader:(e,t)=>!t.disablePopup},write:{target:"disablePopup",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}},writer(e,t,r){t[r]=!e}}}})],W.prototype,"popupEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:PopupTemplate/* default */.A,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType}}}}})],W.prototype,"popupTemplate",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],W.prototype,"defaultPopupTemplate",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0,type:[Field/* default */.A]})],W.prototype,"fields",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0,type:[Field/* default */.A]})],W.prototype,"rasterFields",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],W.prototype,"source",void 0),W=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.ImageryTileLayer")],W);const ImageryTileLayer_k=W;


/***/ }),

/***/ 30179:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   b: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26325);
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(63457);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=l=>{let p=class extends l{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__/* .parse */ .qg)(this.url);if(t?.title)return t.title}return this._get("title")||""}set title(t){this._set("title",t)}set url(t){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__/* .sanitizeUrl */ .Jf)(t,_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getLogger(this)))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"title",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:String})],p.prototype,"url",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .$)("esri.layers.mixins.ArcGISService")],p),p};


/***/ }),

/***/ 6234:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   o: () => (/* binding */ X)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(38116);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62991);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(81482);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8636);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6273);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(85716);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(25376);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(30214);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(44153);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(67488);
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(63457);
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(9014);
/* harmony import */ var _support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(74088);
/* harmony import */ var _support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(6902);
/* harmony import */ var _support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(33673);
/* harmony import */ var _support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(99913);
/* harmony import */ var _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(26574);
/* harmony import */ var _support_rasterDatasets_datasetUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(97776);
/* harmony import */ var _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(70624);
/* harmony import */ var _support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(6549);
/* harmony import */ var _support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(50014);
/* harmony import */ var _support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(14954);
/* harmony import */ var _support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(47425);
/* harmony import */ var _support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(77691);
/* harmony import */ var _renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(19642);
/* harmony import */ var _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(45501);
/* harmony import */ var _renderers_support_rasterTypeUtils_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(84348);
/* harmony import */ var _rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(27963);
/* harmony import */ var _rest_support_ImageSample_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(60639);
/* harmony import */ var _rest_support_ImageSampleParameters_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(70427);
/* harmony import */ var _rest_support_ImageSampleResult_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(86466);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const Q=1e3,X=X=>{let Y=class extends X{constructor(...e){super(...e),this._isConstructedFromFunctionRaster=!1,this.bandIds=null,this.copyright=null,this.interpolation=null,this.multidimensionalSubset=null,this.raster=null,this.serviceRasterInfo=null,this.sourceJSON=null,this.spatialReference=null,this.symbolizer=null,this._isConstructedFromFunctionRaster=(0,_support_rasterDatasets_datasetUtils_js__WEBPACK_IMPORTED_MODULE_34__/* .isFunctionRaster */ .q)(e[0]?.raster)}destroy(){this._shutdownJobHandler()}get fullExtent(){return this.serviceRasterInfo?.extent}set multidimensionalDefinition(e){this._set("multidimensionalDefinition",e),this.updateRenderer()}set rasterFunction(e){"none"===e?.functionName?.toLowerCase()&&(e=void 0),this._set("rasterFunction",e),this.updateRasterFunction()}set url(e){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_14__/* .sanitizeUrl */ .Jf)(e,_core_Logger_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.getLogger(this)))}get renderer(){if("imagery-tile"!==this.type)return this.internalRenderer;const{activePresetRendererName:e,presetRenderers:t}=this;if(e){const i=t?.find((({name:t})=>t===e));return i?.renderer.clone()}return this.internalRenderer}set renderer(e){"imagery-tile"===this.type&&(this.activePresetRendererName=null),this.internalRenderer=e}set internalRenderer(e){null==e&&null==this.rasterFunction?this._configDefaultRenderer("override"):(this._set("internalRenderer",e),this.updateRenderer())}readRenderer(e,t,i){const r=t?.layerDefinition?.drawingInfo?.renderer;return (0,_renderers_support_rasterTypeUtils_js__WEBPACK_IMPORTED_MODULE_29__/* .read */ .LF)(r,i)||void 0}async computeStatisticsHistograms(e,t){await this.load(t),e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__/* .ensureClass */ .PZ)(_rest_support_ImageHistogramParameters_js__WEBPACK_IMPORTED_MODULE_30__/* ["default"] */ .A,e).clone();const{serviceRasterInfo:r}=this;if(null==r)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("imagery-tile-mixin:compute-statistics-histograms","serviceRasterInfo must be specified");const{geometry:s}=e;if(null==s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("imagery-tile-mixin:compute-statistics-histograms","geometry must be specified");let n=s;const{spatialReference:a}=r;if(!s.spatialReference.equals(a)){await (0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__/* .load */ .Hh)();const e="extent"===s.type?(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__/* .projectExtent */ ._l)(s,a):(0,_support_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_25__/* .projectPolygon */ .uk)(s,a);if(null==e)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("imagery-tile-mixin:compute-statistics-histograms","geometry cannot be projected to the data source");n=e}const l=e.pixelSize??new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A({x:r.pixelSize.x,y:r.pixelSize.y,spatialReference:a}),{extent:m,width:p,height:c}=(0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_23__/* .snapToRaster */ .b7)(r,n,l),d=await this.fetchPixels(m,p,c,{...t,interpolation:"nearest"});if(null==d.pixelBlock)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("imagery-tile-mixin:compute-statistics-histograms","failed to fetch pixels");const h=await (0,_support_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_23__/* .clip */ .$Q)(d.pixelBlock,m,n),f=this._rasterJobHandler;return f?f.computeStatisticsHistograms({pixelBlock:h},t):(0,_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_26__/* .computeStatisticsHistograms */ .eH)(h)}normalizeRasterFetchOptions(e){const{multidimensionalInfo:t}=this.serviceRasterInfo??{};if(null==t)return e;const i=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__/* .getEffectiveMultidimensionalDefinition */ .XU)({rasterInfo:this.raster.rasterInfo,multidimensionalDefinition:e.multidimensionalDefinition||this.multidimensionalDefinition,timeExtent:e.timeExtent??this.timeExtent,multidimensionalSubset:this.multidimensionalSubset});return{...e,multidimensionalDefinition:i,timeExtent:void 0}}async updateRasterFunction(){return this.loaded&&"imagery-tile"===this.type&&(this.rasterFunction||this._cachedRasterFunctionJson)&&JSON.stringify(this.rasterFunction)!==JSON.stringify(this._cachedRasterFunctionJson)?(this._cachedRasterFunctionJson=this.rasterFunction?.toJSON(),this._rasterFunctionUpdatePromise=this._updateRasterFunction(),this._rasterFunctionUpdatePromise):this._rasterFunctionUpdatePromise}async updateRenderer(){const{loaded:e,symbolizer:t,renderer:i}=this;if(!e||!t||!i)return;const{rasterInfo:r}=this.raster,s=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__/* .getDefaultVariableInfo */ .ct)(r,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),n=s?.name,o=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .getVariableRasterInfo */ .m7)(r,n);return this._updateSymbolizer(t,i,n,o)}async applyRenderer(e,t,i){const r=e?.pixelBlock;if(!(null!=r&&r.pixels&&r.pixels.length>0))return null;await this.updateRenderer();const s=this.bandIds??[],{pixelBlock:n}=await this._symbolize({pixelData:e,simpleStretchParams:t,bandIds:s,symbolizer:this.symbolizer},i);return n}getTileUrl(e,t,i){return"RasterTileServer"===this.raster.datasetFormat?`${this.url}/tile/${e}/${t}/${i}`:""}getCompatibleTileInfo(e,t,i=!1){if(!this.loaded||null==t)return null;if(i&&e.equals(this.spatialReference))return this.tileInfo;const r=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .getInfo */ .Vp)(e);return _support_TileInfo_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .A.create({size:256,spatialReference:e,origin:r?{x:r.origin[0],y:r.origin[1]}:{x:t.xmin,y:t.ymax}})}getCompatibleFullExtent(e){return this.loaded?(this._compatibleFullExtent?.spatialReference.equals(e)||(this._compatibleFullExtent=this.raster.computeExtent(e)),this._compatibleFullExtent):null}async fetchTile(e,i,r,s={}){if(Z(this),s.requestAsImageElement){const n=this.getTileUrl(e,i,r);return (0,_request_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A)(n,{responseType:"image",query:{...this.refreshParameters,...this.raster.ioConfig.customFetchParameters},signal:s.signal}).then((e=>e.data))}const{serviceRasterInfo:n}=this;if(null!=n.multidimensionalInfo&&null==(s=this.normalizeRasterFetchOptions(s)).multidimensionalDefinition){const t=s.tileInfo||n.storageInfo.tileInfo;return{extent:this.raster.getTileExtentFromTileInfo(e,i,r,t),pixelBlock:null}}return await this._initJobHandler(),await this.updateRasterFunction(),"raster-shaded-relief"===this.renderer?.type&&(s={...s,buffer:{cols:1,rows:1}}),this.raster.fetchTile(e,i,r,s)}async fetchPixels(e,t,i,r={}){return null!=this.serviceRasterInfo.multidimensionalInfo&&null==(r=this.normalizeRasterFetchOptions(r)).multidimensionalDefinition?{extent:e,pixelBlock:null}:(await this._initJobHandler(),await this.updateRasterFunction(),t=Math.round(t),i=Math.round(i),this.raster.fetchPixels(e,t,i,r))}async getSamples(e,t){if(await this.load(),(e=(0,_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__/* .ensureClass */ .PZ)(_rest_support_ImageSampleParameters_js__WEBPACK_IMPORTED_MODULE_32__/* ["default"] */ .A,e).clone()).interpolation&&"nearest"!==e.interpolation)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("imagery-tile-mixin:get-samples","only nearest interpolation is currently supported");const r=e.mosaicRule?.multidimensionalDefinition,s={...t,multidimensionalDefinition:r},n=(await this._getSampleLocations(e)).map((e=>this.identify(e,s).then((t=>(t.location=e,t))))),a=(await Promise.all(n)).flatMap(((e,t)=>this._convertRasterIdentifyResultToSample(e,t)));return new _rest_support_ImageSampleResult_js__WEBPACK_IMPORTED_MODULE_33__/* ["default"] */ .A({samples:a})}async identify(e,t={}){await this.load();const{raster:r,serviceRasterInfo:s}=this;if(null!=s?.multidimensionalInfo){if(!(s.hasMultidimensionalTranspose&&!(!(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__/* .isMultiSliceOrRangeDefinition */ .DY)(t.multidimensionalDefinition)&&!t.transposedVariableName))&&null==(t=this.normalizeRasterFetchOptions(t)).multidimensionalDefinition)return{location:e,value:null}}const n=this.multidimensionalSubset?.areaOfInterest;if(n&&!n.contains(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("imagery-tile-mixin:identify","the request cannot be fulfilled when falling outside of the multidimensional subset");const o=this.serviceRasterInfo?.storageInfo.isBsqTile&&this.bandIds?.length?this.bandIds:void 0;return r.identify(e,{...t,bandIds:o})}hasStandardTime(){const e=this.serviceRasterInfo?.multidimensionalInfo;if(null==e||"standard-time"!==this.serviceRasterInfo?.dataType)return!1;const t=this.multidimensionalDefinition,i=t?.[0]?.variableName;return e.variables.some((e=>e.name===i&&(!t?.[0].dimensionName||e.dimensions.some((e=>"StdTime"===e.name)))))}getStandardTimeValue(e){return new Date((0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__/* .convertOleDateTimeToEpoch */ .$E)(e)).toISOString()}getMultidimensionalSubsetVariables(e){const t=e??this.serviceRasterInfo?.multidimensionalInfo;return (0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__/* .getSubsetVariablesFromMdInfo */ .z2)(this.multidimensionalSubset,t)}_configDefaultSettings(){this._configDefaultInterpolation(),this.multidimensionalDefinition||(this.multidimensionalDefinition=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__/* .getDefaultMultidimensionalDefinition */ .fy)(this.raster.rasterInfo,{multidimensionalSubset:this.multidimensionalSubset})),this.rasterFunction&&(0,_support_rasterDatasets_datasetUtils_js__WEBPACK_IMPORTED_MODULE_34__/* .isFunctionRaster */ .q)(this.raster)&&(this._cachedRasterFunctionJson=this.rasterFunction.toJSON()),this._configDefaultRenderer()}async _initJobHandler(){if(!this._rasterJobHandler)return super._initJobHandler().then((async()=>{if(!this._rasterJobHandler)return;Z(this);const{raster:e}=this;e.rasterJobHandler=this._rasterJobHandler,(0,_support_rasterDatasets_datasetUtils_js__WEBPACK_IMPORTED_MODULE_34__/* .isFunctionRaster */ .q)(e)&&e.syncJobHandler(),this.rasterFunction&&await this.updateRasterFunction().catch((()=>{})),this.renderer&&this.updateRenderer()})).catch((()=>{}))}_shutdownJobHandler(){super._shutdownJobHandler(),this.raster&&(this.raster.rasterJobHandler=null)}async _getSampleLocations(e){const{geometry:t}=e;if("point"===t.type)return[t];const{spatialReference:i,type:r}=t;if("multipoint"===r)return t.points.map((e=>new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A({x:e[0],y:e[1],spatialReference:i})));if("polyline"===r){let r=t;if(e.sampleCount||e.sampleDistance){const i=await __webpack_require__.e(/* import() */ 1878).then(__webpack_require__.bind(__webpack_require__, 1878)),s=(await __webpack_require__.e(/* import() */ 26510).then(__webpack_require__.bind(__webpack_require__, 26510))).execute(t,{unit:"meters"}),n=Math.min(e.sampleCount||100,Q);let o=e.sampleDistance;if(!o){o=s/(n+(2===r.paths[0].length?1:0))}r=i.execute(t,o,{unit:"meters"})}return r.paths.flatMap((e=>e.map((e=>new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A({x:e[0],y:e[1],spatialReference:i})))))}const s=Math.min(e.sampleCount||100,Q),n="extent"===t.type,o=n?t:t.extent,a=Math.sqrt(o.width*o.height/s),l=o.height/a,m=o.width/a,{xmin:p,ymax:c}=o,d=[];for(let h=0;h<l;h++)for(let e=0;e<m;e++){const r=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A({x:p+(e+.5)*a,y:c-(h+.5)*a,spatialReference:i});(n||t.contains(r))&&d.push(r)}return d}_configDefaultInterpolation(){if(null==this.interpolation){Z(this);const{raster:e}=this,t=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .getDefaultInterpolation */ .w6)(e.rasterInfo,e.tileType,this.sourceJSON?.defaultResamplingMethod);this._set("interpolation",t)}}_configDefaultRenderer(e="no"){Z(this);const{rasterInfo:t}=this.raster,i=(0,_support_rasterDatasets_multidimensionalUtils_js__WEBPACK_IMPORTED_MODULE_22__/* .getDefaultVariableInfo */ .ct)(t,{multidimensionalDefinition:this.multidimensionalDefinition,multidimensionalSubset:this.multidimensionalSubset}),s=i?.name,n=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .matchPresetRenderer */ .I8)({variableName:s,rasterFunctionName:this.rasterFunction?.functionName,presetRenderers:this.presetRenderers});if(!this.bandIds&&t.bandCount>1&&(this.bandIds=n?.bandIds??(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .getDefaultBandCombination */ .ci)(t)),!this.renderer||"override"===e){const e=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .getFunctionColorRamp */ .Mm)(this.raster),i=n?.renderer??(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .createDefaultRenderer */ .PD)(t,{bandIds:this.bandIds,variableName:s,rasterFunctionColorRamp:e}),r=t.statistics,o=r&&r.length>0?r[0]:null,a=o?.max??0,l=o?.min??0;"WCSServer"===this.raster.datasetFormat&&"raster-stretch"===i.type&&(a>1e24||l<-1e24)&&(i.dynamicRangeAdjustment=!0,i.customStatistics=null,"none"===i.stretchType&&(i.stretchType="min-max")),this.renderer=i}const o=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .normalizeRendererJSON */ .$P)({...this.renderer.toJSON(),variableName:s}),a=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .getVariableRasterInfo */ .m7)(t,s);this.symbolizer?(this.symbolizer.rendererJSON=o,this.symbolizer.rasterInfo=a):this.symbolizer=new _renderers_support_RasterSymbolizer_js__WEBPACK_IMPORTED_MODULE_28__/* ["default"] */ .A({rendererJSON:o,rasterInfo:a});const l=this.symbolizer.bind();if(l.success){if("auto"===e){const{colormap:e}=this.raster.rasterInfo,t=this.renderer;if(null!=e&&"raster-colormap"===t.type){const e=(0,_renderers_support_rasterRendererHelper_js__WEBPACK_IMPORTED_MODULE_27__/* .createDefaultRenderer */ .PD)(this.raster.rasterInfo);JSON.stringify(e)!==JSON.stringify(t)&&this._configDefaultRenderer("override")}else if("raster-stretch"===t.type){const e=this.bandIds?.length,i=t.customStatistics?.length;!t.dynamicRangeAdjustment&&i&&e&&i!==e&&this._configDefaultRenderer("override")}}}else _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.getLogger(this).warn("imagery-tile-mixin",l.error||"The given renderer is not supported by the layer."),"auto"===e&&this._configDefaultRenderer("override")}async _updateRasterFunction(){if(this._isConstructedFromFunctionRaster&&(0,_support_rasterDatasets_datasetUtils_js__WEBPACK_IMPORTED_MODULE_34__/* .isFunctionRaster */ .q)(this.raster)){const e=this.raster.rasterFunction.toJSON();return void(!this.rasterFunction&&e&&this._set("rasterFunction",_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A.fromJSON(e)))}let e,t=this.raster,i=!1;(0,_support_rasterDatasets_datasetUtils_js__WEBPACK_IMPORTED_MODULE_34__/* .isFunctionRaster */ .q)(t)?(e=t.primaryRasters.rasters,t=e[0],i=!0):e=[t];const{rasterFunction:r}=this;if(r){const i={raster:t};e.length>1&&e.forEach((e=>i[e.url]=e));const s=(0,_support_rasterFunctions_rasterFunctionHelper_js__WEBPACK_IMPORTED_MODULE_24__/* .create */ .vt)(r.functionDefinition?.toJSON()??r.toJSON(),i),n=new _support_rasterDatasets_FunctionRaster_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .A({rasterFunction:s});n.rasterJobHandler=this._rasterJobHandler,await n.open(),this.raster=n}else this.raster=t,await t.open();if(this._cachedRendererJson=void 0,!i&&!r)return;const{bandIds:s}=this,{bandCount:n}=this.raster.rasterInfo,o=s?.length?s.some((e=>e>=n)):n>=3;s&&(o||this.renderer&&"raster-stretch"!==this.renderer.type)&&this._set("bandIds",null),this._configDefaultRenderer("auto")}_convertRasterIdentifyResultToSample(e,t){const{rasterInfo:i}=this.raster,r=i.storageInfo.pyramidScalingFactor**(e.pyramidLevel??0),s=(i.pixelSize.x+i.pixelSize.y)/2*r;if(!e.dataSeries?.length)return[new _rest_support_ImageSample_js__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .A({location:e.location,pixelValue:e.value,locationId:t,resolution:s})];const n=[];return e.dataSeries.forEach((({value:i,multidimensionalDefinition:r},o)=>{const a={Variables:r[0].variableName,Dimensions:r.flatMap((({dimensionName:e})=>e)).join(",")};for(const{dimensionName:e,values:t}of r){a[e]=Array.isArray(t[0])?t[0][0]:t[0];const i=t[t.length-1];a[`${e}_Max`]=Array.isArray(i)?i[i.length-1]:i}const l=new _rest_support_ImageSample_js__WEBPACK_IMPORTED_MODULE_31__/* ["default"] */ .A({location:e.location,pixelValue:i,rasterId:o,locationId:t,resolution:s,attributes:a});n.push(l)})),n}};function Z(e){if(!e.raster||!e.serviceRasterInfo)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("imagery-tile","no raster")}return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({clonable:!1})],Y.prototype,"_cachedRasterFunctionJson",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({clonable:!1})],Y.prototype,"_compatibleFullExtent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({clonable:!1})],Y.prototype,"_isConstructedFromFunctionRaster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({clonable:!1})],Y.prototype,"_rasterFunctionUpdatePromise",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__/* .Integer */ .jz],json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"0,1,2"!==this.bandIds?.join(",")}}}}})],Y.prototype,"bandIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({json:{origins:{service:{read:{source:"copyrightText"}}}}})],Y.prototype,"copyright",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({json:{read:!1}})],Y.prototype,"fullExtent",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({json:{write:{overridePolicy(){return{enabled:!this.loaded||"Raster"===this.raster.tileType||"bilinear"!==this.interpolation}}}}}),(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_8__/* .enumeration */ .e)(_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_18__/* .interpolationKebab */ .SZ)],Y.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],Y.prototype,"ioConfig",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:[_support_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A],json:{write:!0}})],Y.prototype,"multidimensionalDefinition",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_support_MultidimensionalSubset_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .A,json:{write:!0}})],Y.prototype,"multidimensionalSubset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],Y.prototype,"raster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A})],Y.prototype,"rasterFunction",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],Y.prototype,"serviceRasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],Y.prototype,"sourceJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({readOnly:!0,type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A,json:{read:!1}})],Y.prototype,"spatialReference",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_support_TileInfo_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .A})],Y.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_15__/* .url */ .OZ)],Y.prototype,"url",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],Y.prototype,"renderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({types:_renderers_support_rasterTypeUtils_js__WEBPACK_IMPORTED_MODULE_29__/* .rasterRendererTypes */ .uy,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy(){const e="raster-stretch"===this.renderer?.type&&"none"===this.renderer.stretchType&&!this.renderer.useGamma;return{enabled:!this.loaded||"Raster"===this.raster.tileType||!e}}},origins:{"web-scene":{types:_renderers_support_rasterTypeUtils_js__WEBPACK_IMPORTED_MODULE_29__/* .websceneRasterRendererTypes */ .Gj,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],Y.prototype,"internalRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_9__/* .reader */ .w)("internalRenderer")],Y.prototype,"readRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({clonable:!1})],Y.prototype,"symbolizer",void 0),Y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__/* .subclass */ .$)("esri.layers.mixins.ImageryTileMixin")],Y),Y};


/***/ }),

/***/ 42305:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  G: () => (/* binding */ i)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/workers/workers.js + 5 modules
var workers = __webpack_require__(99722);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/PixelBlock.js
var PixelBlock = __webpack_require__(83371);
;// ./node_modules/@arcgis/core/layers/support/RasterJobHandler.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(){this._workerThread=null,this._destroyed=!1}async initialize(){const e=await (0,workers/* open */.ho)("RasterWorker");this._destroyed?e.close():this._workerThread=e}destroy(){this._destroyed=!0,this._workerThread&&(this._workerThread.close(),this._workerThread=null)}async convertVectorFieldData(r,t){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("convertVectorFieldData",{pixelBlock:r.pixelBlock.toJSON(),type:r.dataType},t);return n?new PixelBlock/* default */.A(n):null}computeStatisticsHistograms(r,o){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");return this._workerThread.invoke("computeStatisticsHistograms",{pixelBlock:r.pixelBlock.toJSON()},o)}async decode(r,t){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("decode",r,t);return n?new PixelBlock/* default */.A(n):null}async symbolize(r,t){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");const n={extent:r.extent?.toJSON(),pixelBlock:r.pixelBlock?.toJSON(),simpleStretchParams:r.simpleStretchParams,bandIds:r.bandIds},a=await this._workerThread.invoke("symbolize",n,t);return a?new PixelBlock/* default */.A(a):null}async updateSymbolizer(r,o){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");const t=r?.rendererJSON?.histograms;await Promise.all(this._workerThread.broadcast("updateSymbolizer",{symbolizerJSON:r.toJSON(),histograms:t},o))}async updateRasterFunction(r,o){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");await Promise.all(this._workerThread.broadcast("updateRasterFunction",{rasterFunctionJSON:r.toJSON()},o))}async process(r,t){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");const n=await this._workerThread.invoke("process",{extent:r.extent?.toJSON(),primaryPixelSizes:r.primaryPixelSizes?.map((e=>null!=e?e.toJSON():null)),primaryPixelBlocks:r.primaryPixelBlocks.map((e=>null!=e?e.toJSON():null)),primaryRasterIds:r.primaryRasterIds},t);return n?new PixelBlock/* default */.A(n):null}async stretch(r,t){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");if(!r?.pixelBlock)return null;const n={srcPixelBlock:r.pixelBlock.toJSON(),stretchParams:r.stretchParams},a=await this._workerThread.invoke("stretch",n,t);return a?new PixelBlock/* default */.A(a):null}async split(r,t){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");if(!r?.pixelBlock)return null;const n={srcPixelBlock:r.pixelBlock.toJSON(),tileSize:r.tileSize,maximumPyramidLevel:r.maximumPyramidLevel,useBilinear:r.useBilinear},a=await this._workerThread.invoke("split",n,t);return a&&a.forEach(((e,r)=>{a.set(r,e?PixelBlock/* default */.A.fromJSON(e):null)})),a}async clipTile(r,t){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");if(!r?.pixelBlock)return null;const n={...r,pixelBlock:r.pixelBlock.toJSON()},a=await this._workerThread.invoke("clipTile",n,t);return a?PixelBlock/* default */.A.fromJSON(a):null}async estimateStatisticsHistograms(r,o){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");if(!r?.pixelBlock)return null;const t={srcPixelBlock:r.pixelBlock.toJSON()};return await this._workerThread.invoke("estimateStatisticsHistograms",t,o)}async mosaicAndTransform(r,t){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");if(!r?.srcPixelBlocks?.length)return{pixelBlock:null};const n={...r,srcPixelBlocks:r.srcPixelBlocks.map((e=>null!=e?e.toJSON():null))},a=await this._workerThread.invoke("mosaicAndTransform",n,t);return{pixelBlock:a.pixelBlock?new PixelBlock/* default */.A(a.pixelBlock):null,localNorthDirections:a.localNorthDirections}}async createFlowMesh(r,o){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");const t={buffer:r.flowData.data.buffer,maskBuffer:r.flowData.mask.buffer,width:r.flowData.width,height:r.flowData.height},{meshType:n,simulationSettings:a}=r,i=await this._workerThread.invoke("createFlowMesh",{meshType:n,flowData:t,simulationSettings:a},{...o,transferList:[t.buffer,t.maskBuffer]});return{vertexData:new Float32Array(i.vertexBuffer),indexData:new Uint32Array(i.indexBuffer)}}getProjectionOffsetGrid(r,o){if(!this._workerThread)throw new Error/* default */.A("raster-jobhandler:no-connection","no available worker connection");const t=null!=r.datumTransformation?r.datumTransformation.steps.map((e=>({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))):null,n=null!=r.rasterTransform?r.rasterTransform.toJSON():null,a={projectedExtent:r.projectedExtent.toJSON(),srcBufferExtent:r.srcBufferExtent.toJSON(),pixelSize:r.pixelSize,hasWrapAround:r.hasWrapAround,spacing:r.spacing,datumTransformationSteps:t,rasterTransform:n,isAdaptive:r.isAdaptive,includeGCSGrid:r.includeGCSGrid};return this._workerThread.invoke("getProjectionOffsetGrid",a,o)}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js
var vectorFieldUtils = __webpack_require__(20503);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/rasterRendererHelper.js
var rasterRendererHelper = __webpack_require__(19642);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/views/2d/engine/flow/dataUtils.js
var dataUtils = __webpack_require__(486);
;// ./node_modules/@arcgis/core/layers/mixins/RasterJobHandlerMixin.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i=i=>{let l=class extends i{constructor(){super(...arguments),this._rasterJobHandlerConfig={instance:null,refCount:0,connectionPromise:null}}get _rasterJobHandler(){return this._rasterJobHandlerConfig.instance}increaseRasterJobHandlerUsage(){this._rasterJobHandlerConfig.refCount++}decreaseRasterJobHandlerUsage(){this._rasterJobHandlerConfig.refCount--,this._rasterJobHandlerConfig.refCount<=0&&this._shutdownJobHandler()}async convertVectorFieldData(e,r,t){if(null==e)return null;const n=this._rasterJobHandler;return n?n.convertVectorFieldData({pixelBlock:e,dataType:r},t):(0,vectorFieldUtils/* convertVectorFieldData */.FI)(e,r)}async createFlowMesh(e,r){const t=this._rasterJobHandler;return t?t.createFlowMesh(e,r):(0,dataUtils/* createFlowMesh */.CW)(e.meshType,e.simulationSettings,e.flowData,null!=r.signal?r.signal:(new AbortController).signal)}_initJobHandler(){const{_rasterJobHandlerConfig:e}=this;if(e.connectionPromise)return e.connectionPromise;const r=new t;return e.connectionPromise=r.initialize().then((()=>{e.instance=r,this.notifyChange("_rasterJobHandler")}),(()=>{})),e.connectionPromise}_shutdownJobHandler(){const{_rasterJobHandlerConfig:e}=this;e.instance?.destroy(),e.instance=null,e.connectionPromise=null,e.refCount=0,this.notifyChange("_rasterJobHandler"),this._cachedRendererJson=void 0}async _updateSymbolizer(e,r,t,n){const o=this._rasterJobHandlerConfig.instance;if(!o)return;const a=(0,rasterRendererHelper/* normalizeRendererJSON */.$P)({...r.toJSON(),variableName:t});JSON.stringify(this._cachedRendererJson)!==JSON.stringify(a)&&(n&&(e.rasterInfo=n),e.rendererJSON=a,e.bind(),await o.updateSymbolizer(e),this._cachedRendererJson=r.toJSON())}async _symbolize(e,r){const{pixelData:t,bandIds:n,simpleStretchParams:o}=e,s=this._rasterJobHandler;if(s){const e=await s.symbolize({...t,simpleStretchParams:o,bandIds:n},r);return{extent:t.extent,pixelBlock:e}}const a=e.symbolizer.symbolize({...t,simpleStretchParams:o,bandIds:n});return{extent:t.extent,pixelBlock:a}}};return (0,tslib_es6._)([(0,property/* property */.MZ)({clonable:!1})],l.prototype,"_rasterJobHandler",null),(0,tslib_es6._)([(0,property/* property */.MZ)({clonable:!1})],l.prototype,"_cachedRendererJson",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({clonable:!1})],l.prototype,"_rasterJobHandlerConfig",void 0),l=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.mixins.RasterJobHandlerMixin")],l),l};


/***/ }),

/***/ 15973:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  H: () => (/* binding */ o)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Clonable.js
var Clonable = __webpack_require__(14755);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(22395);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(8636);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(85716);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/rasterTypeUtils.js
var rasterTypeUtils = __webpack_require__(84348);
;// ./node_modules/@arcgis/core/renderers/support/RasterPresetRenderer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let d=class extends(Clonable/* default */.A.ClonableMixin(JSONSupport/* default */.A)){constructor(e){super(e),this.name=void 0,this.method="none",this.value=void 0,this.bandIds=void 0,this.renderer=void 0}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:["raster-function-template","variable","none"],json:{write:{isRequired:!0}}}),(0,enumeration/* enumeration */.e)({rasterFunctionTemplate:"raster-function-template",variable:"variable",none:"none"})],d.prototype,"method",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"value",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[ensureType/* Integer */.jz],json:{write:{isRequired:!0}}})],d.prototype,"bandIds",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({types:rasterTypeUtils/* rasterRendererTypes */.uy,json:{write:!0,origins:{"web-scene":{types:rasterTypeUtils/* websceneRasterRendererTypes */.Gj,write:{overridePolicy:e=>({enabled:e&&"vector-field"!==e.type&&"flow"!==e.type})}}}}})],d.prototype,"renderer",void 0),d=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.renderers.support.RasterPresetRenderer")],d);

;// ./node_modules/@arcgis/core/layers/mixins/RasterPresetRendererMixin.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const o=o=>{let i=class extends o{constructor(){super(...arguments),this.activePresetRendererName=null,this.presetRenderers=null}};return (0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{name:"layerDefinition.activePresetRendererName",write:{allowNull:!0}}})],i.prototype,"activePresetRendererName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[d],json:{name:"layerDefinition.presetRenderers",write:!0}})],i.prototype,"presetRenderers",void 0),i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.mixins.RasterPresetRendererMixin")],i),i};


/***/ }),

/***/ 74088:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15565);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81482);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8636);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26325);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var a;let p=a=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(e){super(e),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new a({variableName:this.variableName,dimensionName:this.dimensionName,values:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)(this.values),isSlice:this.isSlice})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:String,json:{write:!0}})],p.prototype,"variableName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:String,json:{write:!0}})],p.prototype,"dimensionName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__/* .types */ .gK.array(_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__/* .types */ .gK.oneOf([_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__/* .types */ .gK.native(Number),_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__/* .types */ .gK.array(_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__/* .types */ .gK.native(Number))])),json:{write:!0}})],p.prototype,"values",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Boolean,json:{write:!0}})],p.prototype,"isSlice",void 0),p=a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .$)("esri.layers.support.DimensionalDefinition")],p);


/***/ }),

/***/ 79083:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(8636);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6273);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var i;let l=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{static{i=this}constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new i({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"cols",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__/* .Integer */ .jz,json:{write:!0}})],l.prototype,"level",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:String,json:{write:!0}})],l.prototype,"levelValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"resolution",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],l.prototype,"rows",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"scale",void 0),l=i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.layers.support.LOD")],l);


/***/ }),

/***/ 10576:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1817);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15565);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(81482);
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(77380);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(25376);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(26325);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(48524);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8636);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(30214);
/* harmony import */ var _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(74088);
/* harmony import */ var _RasterFunction_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(99913);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var m;const h=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__/* .strict */ .O)()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),w=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__/* .strict */ .O)()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"});function M(e){let t;switch(e?e.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":t="esriMosaicAttribute";break;case"lockraster":t="esriMosaicLockRaster";break;case"center":t="esriMosaicCenter";break;case"northwest":t="esriMosaicNorthwest";break;case"nadir":t="esriMosaicNadir";break;case"viewpoint":t="esriMosaicViewpoint";break;case"seamline":t="esriMosaicSeamline";break;default:t="esriMosaicNone"}return w.fromJSON(t)}let y=m=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A{constructor(e){super(e),this.ascending=!0,this.itemRasterFunction=null,this.lockRasterIds=null,this.method="none",this.multidimensionalDefinition=null,this.objectIds=null,this.operation="first",this.sortField=null,this.sortValue=null,this.viewpoint=null,this.where=null}readAscending(e,t){return null!=t.ascending?t.ascending:null==t.sortAscending||t.sortAscending}readMethod(e,t){return M(t.mosaicMethod||t.defaultMosaicMethod)}writeMultidimensionalDefinition(e,t,o){null!=e&&(e=e.filter((({variableName:e,dimensionName:t})=>e&&"*"!==e||t))).length&&(t[o]=e.map((e=>e.toJSON())))}readOperation(e,t){const o=t.mosaicOperation,i=t.mosaicOperator?.toLowerCase(),r=o||(i?h.toJSON(i):null);return h.fromJSON(r)||"first"}castSortValue(e){return null==e||"string"==typeof e||"number"==typeof e?e:`${e}`}clone(){return new m({ascending:this.ascending,itemRasterFunction:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.itemRasterFunction),lockRasterIds:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.lockRasterIds),method:this.method,multidimensionalDefinition:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.multidimensionalDefinition),objectIds:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.viewpoint),where:this.where})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Boolean,json:{write:!0}})],y.prototype,"ascending",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__/* .reader */ .w)("ascending",["ascending","sortAscending"])],y.prototype,"readAscending",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_RasterFunction_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A,json:{name:"itemRenderingRule",write:!0}})],y.prototype,"itemRasterFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__/* .Integer */ .jz],json:{write:{overridePolicy(){return{enabled:"lock-raster"===this.method}}}}})],y.prototype,"lockRasterIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:w.apiValues,json:{type:w.jsonValues,write:{target:"mosaicMethod",writer:w.write,isRequired:!0}}})],y.prototype,"method",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__/* .reader */ .w)("method",["mosaicMethod","defaultMosaicMethod"])],y.prototype,"readMethod",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:[_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A],json:{write:!0}})],y.prototype,"multidimensionalDefinition",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__/* .writer */ .K)("multidimensionalDefinition")],y.prototype,"writeMultidimensionalDefinition",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:[_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_9__/* .Integer */ .jz],json:{name:"fids",write:!0}})],y.prototype,"objectIds",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:h.apiValues,json:{type:h.jsonValues,read:{reader:h.read},write:{target:"mosaicOperation",writer:h.write}}})],y.prototype,"operation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__/* .reader */ .w)("operation",["mosaicOperation","mosaicOperator"])],y.prototype,"readOperation",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:String,json:{write:{overridePolicy(){return{enabled:"attribute"===this.method}}}}})],y.prototype,"sortField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:[String,Number],json:{write:{allowNull:!0,overridePolicy(){return{enabled:"attribute"===this.method,allowNull:!0}}}}})],y.prototype,"sortValue",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_5__/* .cast */ .w)("sortValue")],y.prototype,"castSortValue",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .A,json:{write:!0}})],y.prototype,"viewpoint",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:String,json:{write:!0}})],y.prototype,"where",void 0),y=m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .$)("esri.layers.support.MosaicRule")],y);


/***/ }),

/***/ 6902:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(8000);
/* harmony import */ var _geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(61064);
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(65648);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(56053);
/* harmony import */ var _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(74088);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var m;const p={base:_geometry_Geometry_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A,key:"type",typeMap:{extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,polygon:_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A}};let u=m=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(e){super(e),this.areaOfInterest=null,this.subsetDefinitions=null}get dimensions(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Map;e.forEach((e=>{if(!e.dimensionName)return;let s,o;if(Array.isArray(e.values[0])){const t=e.values;s=t[0][0],o=t[e.values.length-1][1]}else{const t=e.values;s=t[0],o=t[e.values.length-1]}if(t.has(e.dimensionName)){const r=t.get(e.dimensionName);r[0]=Math.min(s,r[0]),r[1]=Math.max(o,r[1])}else t.set(e.dimensionName,[s,o])}));const s=[];for(const o of t)s.push({name:o[0],extent:o[1]});return s}get variables(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Set;return e.forEach((e=>{e.variableName&&t.add(e.variableName)})),[...t]}clone(){const e=this.subsetDefinitions?.map((e=>e.clone())),t=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new m({areaOfInterest:t,subsetDefinitions:e})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({types:p,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .fromJSON */ .rS,write:!0}})],u.prototype,"areaOfInterest",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({readOnly:!0})],u.prototype,"dimensions",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({readOnly:!0})],u.prototype,"variables",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:[_DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A],json:{write:!0}})],u.prototype,"subsetDefinitions",void 0),u=m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.layers.support.MultidimensionalSubset")],u);


/***/ }),

/***/ 83371:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62991);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15565);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81482);
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(77380);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(26325);
/* harmony import */ var _SimpleBandStatistics_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(11012);
/* harmony import */ var _rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(6246);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var p;let c=p=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A{static createEmptyBand(t,e){return new(p.getPixelArrayConstructor(t))(e)}static combineBandMasks(t){if(t.length<2)return t[0];const e=t[0].length,s=new Uint8Array(e).fill(255);for(let i=0;i<t.length;i++){const l=t[i];for(let t=0;t<e;t++)l[t]||(s[t]=0)}return s}static getPixelArrayConstructor(t){let e;switch(t){case"u1":case"u2":case"u4":case"u8":e=Uint8Array;break;case"u16":e=Uint16Array;break;case"u32":e=Uint32Array;break;case"s8":e=Int8Array;break;case"s16":e=Int16Array;break;case"s32":e=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":e=Float32Array;break;case"f64":e=Float64Array}return e}constructor(t){super(t),this.width=null,this.height=null,this.pixelType="f32",this.validPixelCount=null,this.mask=null,this.maskIsAlpha=!1,this.premultiplyAlpha=!1,this.statistics=null,this.depthCount=1}castPixelType(t){if(!t)return"f32";let e=t.toLowerCase();return["u1","u2","u4"].includes(e)?e="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(e)||(e="f32"),e}getPlaneCount(){return this.pixels?.length}addData(t){if(!t.pixels||t.pixels.length!==this.width*this.height)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(t.pixels),this.statistics.push(t.statistics??new _SimpleBandStatistics_js__WEBPACK_IMPORTED_MODULE_9__/* .SimpleBandStatistics */ .z)}getAsRGBA(){const t=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(t);break;default:this._fillFrom8Bit(t)}return new Uint8ClampedArray(t)}getAsRGBAFloat(){const t=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(t),t}updateStatistics(){if(!this.pixels)return;this.statistics=this.pixels.map((t=>u(t,this.mask)));const t=this.mask;let e=0;if(null!=t)for(let s=0;s<t.length;s++)t[s]&&e++;else e=this.width*this.height;this.validPixelCount=e}clamp(t){if(!t||"f64"===t||"f32"===t||!this.pixels)return;const[e,s]=(0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .getPixelValueRange */ .hP)(t),i=this.pixels,l=this.width*this.height,r=i.length;let o,n,a;const c=[];for(let h=0;h<r;h++){a=p.createEmptyBand(t,l),o=i[h];for(let t=0;t<l;t++)n=o[t],a[t]=n>s?s:n<e?e:n;c.push(a)}this.pixels=c,this.pixelType=t}extractBands(t){const{pixels:e,statistics:s}=this;if(null==t||0===t.length||!e||0===e.length)return this;const i=e.length,l=t.some((t=>t>=e.length)),r=i===t.length&&!t.some(((t,e)=>t!==e));if(l||r)return this;const o=this.bandMasks?.length===i?t.map((t=>this.bandMasks[t])):void 0;let{mask:n,validPixelCount:a}=this;const{width:h,height:c}=this;return o?.length&&(n=p.combineBandMasks(o),a=n.filter((t=>!!t)).length),new p({pixelType:this.pixelType,width:h,height:c,mask:n,bandMasks:o,validPixelCount:a,maskIsAlpha:this.maskIsAlpha,pixels:t.map((t=>e[t])),statistics:s&&t.map((t=>s[t]))})}clone(){const t=new p({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});let e;null!=this.mask&&(t.mask=new Uint8Array(this.mask)),this.bandMasks&&(t.bandMasks=this.bandMasks.map((t=>new Uint8Array(t))));const s=p.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){t.pixels=[];const i=!!this.pixels[0].slice;for(e=0;e<this.pixels.length;e++)t.pixels[e]=i?this.pixels[e].slice():new s(this.pixels[e])}if(this.statistics)for(t.statistics=[],e=0;e<this.statistics.length;e++)t.statistics[e]=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.statistics[e]);return t.premultiplyAlpha=this.premultiplyAlpha,t}_fillFrom8Bit(t){const{mask:e,maskIsAlpha:s,premultiplyAlpha:i,pixels:r}=this;if(!t||!r?.length)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");let o,n,a,h;o=n=a=r[0],r.length>=3?(n=r[1],a=r[2]):2===r.length&&(n=r[1]);const p=new Uint32Array(t),c=this.width*this.height;if(o.length===c)if(null!=e&&e.length===c)if(s)for(h=0;h<c;h++){const t=e[h];if(t){const e=t/255;p[h]=i?t<<24|a[h]*e<<16|n[h]*e<<8|o[h]*e:t<<24|a[h]<<16|n[h]<<8|o[h]}}else for(h=0;h<c;h++)e[h]&&(p[h]=255<<24|a[h]<<16|n[h]<<8|o[h]);else for(h=0;h<c;h++)p[h]=255<<24|a[h]<<16|n[h]<<8|o[h];else _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}_fillFromNon8Bit(t){const{pixels:e,mask:s,statistics:i}=this;if(!t||!e?.length)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");const r=this.pixelType;let o=1,n=0,a=1;if(i&&i.length>0){for(const t of i)if(null!=t.minValue&&(n=Math.min(n,t.minValue)),null!=t.maxValue&&null!=t.minValue){const e=t.maxValue-t.minValue;a=Math.max(a,e)}o=255/a}else{let t=255;"s8"===r?(n=-128,t=127):"u16"===r?t=65535:"s16"===r?(n=-32768,t=32767):"u32"===r?t=4294967295:"s32"===r?(n=-2147483648,t=2147483647):"f32"===r?(n=-34e38,t=34e38):"f64"===r&&(n=-Number.MAX_VALUE,t=Number.MAX_VALUE),o=255/(t-n)}const h=new Uint32Array(t),p=this.width*this.height;let c,u,g,f,m;if(c=u=g=e[0],c.length!==p)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(e.length>=2)if(u=e[1],e.length>=3&&(g=e[2]),null!=s&&s.length===p)for(f=0;f<p;f++)s[f]&&(h[f]=255<<24|(g[f]-n)*o<<16|(u[f]-n)*o<<8|(c[f]-n)*o);else for(f=0;f<p;f++)h[f]=255<<24|(g[f]-n)*o<<16|(u[f]-n)*o<<8|(c[f]-n)*o;else if(null!=s&&s.length===p)for(f=0;f<p;f++)m=(c[f]-n)*o,s[f]&&(h[f]=255<<24|m<<16|m<<8|m);else for(f=0;f<p;f++)m=(c[f]-n)*o,h[f]=255<<24|m<<16|m<<8|m}_fillFrom32Bit(t){const{pixels:e,mask:s}=this;if(!t||!e?.length)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");let i,r,o,n;i=r=o=e[0],e.length>=3?(r=e[1],o=e[2]):2===e.length&&(r=e[1]);const a=this.width*this.height;if(i.length!==a)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let h=0;if(null!=s&&s.length===a)for(n=0;n<a;n++)t[h++]=i[n],t[h++]=r[n],t[h++]=o[n],t[h++]=1&s[n];else for(n=0;n<a;n++)t[h++]=i[n],t[h++]=r[n],t[h++]=o[n],t[h++]=1}};function u(t,e){let s=1/0,i=-1/0;const l=t.length;let r,o=0;if(null!=e)for(r=0;r<l;r++)e[r]&&(o=t[r],s=o<s?o:s,i=o>i?o:i);else for(r=0;r<l;r++)o=t[r],s=o<s?o:s,i=o>i?o:i;return new _SimpleBandStatistics_js__WEBPACK_IMPORTED_MODULE_9__/* .SimpleBandStatistics */ .z(s,i)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"width",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"height",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"pixelType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__/* .cast */ .w)("pixelType")],c.prototype,"castPixelType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"validPixelCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"mask",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"maskIsAlpha",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"pixels",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],c.prototype,"premultiplyAlpha",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"statistics",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"depthCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"noDataValues",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{write:!0}})],c.prototype,"bandMasks",void 0),c=p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .$)("esri.layers.support.PixelBlock")],c);


/***/ }),

/***/ 99913:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ N)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(22395);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(15565);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(85716);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js
var reader = __webpack_require__(25376);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js
var writer = __webpack_require__(48524);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/jsonMap.js
var jsonMap = __webpack_require__(1817);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(8636);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterEnums.js
var rasterEnums = __webpack_require__(33673);
;// ./node_modules/@arcgis/core/layers/support/RasterFunctionInfo.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let i=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.pixelType="unknown"}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:{isRequired:!0}}})],i.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],i.prototype,"description",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ensureType/* Integer */.jz,json:{type:ensureType/* Integer */.jz,write:!0,name:"_object_id"}})],i.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{type:rasterEnums/* pixelTypeKebabDict */.e8.jsonValues,read:rasterEnums/* pixelTypeKebabDict */.e8.read,write:{writer:rasterEnums/* pixelTypeKebabDict */.e8.write,isRequired:!0}}})],i.prototype,"pixelType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:{isRequired:!0}}})],i.prototype,"type",void 0),i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.RasterFunctionInfo")],i);const n=i;

;// ./node_modules/@arcgis/core/layers/support/RasterFunctionVariable.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.isDataset=!1,this.isPublic=!1,this.type="RasterFunctionVariable"}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],p.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{type:ensureType/* Integer */.jz,write:!0,name:"_object_id"}})],p.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"isDataset",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"isPublic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],p.prototype,"value",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],p.prototype,"type",void 0),p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.RasterFunctionVariable")],p);const RasterFunctionVariable_i=p;

;// ./node_modules/@arcgis/core/layers/support/RasterFunctionProperties.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const RasterFunctionProperties_i={key:"type",base:null,typeMap:{RasterFunctionVariable:RasterFunctionVariable_i}};let a=class extends JSONSupport/* default */.A{};(0,tslib_es6._)([(0,property/* property */.MZ)({types:RasterFunctionProperties_i,json:{types:RasterFunctionProperties_i,name:"MatchVariable"}})],a.prototype,"matchVariable",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({types:RasterFunctionProperties_i,json:{types:RasterFunctionProperties_i,name:"UnionDimension"}})],a.prototype,"unionDimension",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{type:ensureType/* Integer */.jz,write:!0,name:"_object_id"}})],a.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],a.prototype,"type",void 0),a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.RasterFunctionProperties")],a);const RasterFunctionProperties_n=a;

;// ./node_modules/@arcgis/core/layers/support/RasterFunctionTemplate.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const y=new jsonMap/* JSONMap */.J({0:"mosaic",1:"item",2:"item-group"},{useNumericKeys:!0});let RasterFunctionTemplate_a=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.description="",this.functionType="mosaic",this.type="RasterFunctionTemplate"}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:[String],json:{write:!0}})],RasterFunctionTemplate_a.prototype,"aliases",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Object,json:{write:{isRequired:!0}}})],RasterFunctionTemplate_a.prototype,"arguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:{isRequired:!0}}})],RasterFunctionTemplate_a.prototype,"description",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:n,json:{write:{isRequired:!0},name:"function"}})],RasterFunctionTemplate_a.prototype,"functionInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:y.apiValues,json:{type:[0,1,2],read:y.read,write:{writer:y.write,isRequired:!0}}})],RasterFunctionTemplate_a.prototype,"functionType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],RasterFunctionTemplate_a.prototype,"group",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],RasterFunctionTemplate_a.prototype,"help",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{type:ensureType/* Integer */.jz,write:!0,name:"_object_id"}})],RasterFunctionTemplate_a.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:{isRequired:!0}}})],RasterFunctionTemplate_a.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0,name:"definition"}})],RasterFunctionTemplate_a.prototype,"queryDefinition",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],RasterFunctionTemplate_a.prototype,"tag",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:RasterFunctionProperties_n,json:{write:!0}})],RasterFunctionTemplate_a.prototype,"properties",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],RasterFunctionTemplate_a.prototype,"thumbnail",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],RasterFunctionTemplate_a.prototype,"thumbnailEx",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{type:["RasterFunctionTemplate"],write:!0}})],RasterFunctionTemplate_a.prototype,"type",void 0),RasterFunctionTemplate_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.RasterFunctionTemplate")],RasterFunctionTemplate_a);

;// ./node_modules/@arcgis/core/layers/support/RasterFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var c;const RasterFunction_p=new Set(["raster","raster2","dem","fillraster"]),m=new Set(["rasters"]),f=t=>t?.rasterFunction?N.fromJSON(t):t,l=t=>t&&t instanceof N?t.toJSON():t,RasterFunction_y=t=>t?.functionName&&!t.declaredClass,F=t=>RasterFunction_y(t)?new N(t):t,h=t=>{if(null==t)return null;t=(0,lang/* clone */.o8)(t);const e={};for(const n of Object.keys(t))RasterFunction_p.has(n.toLowerCase())?e[n]=f(t[n]):m.has(n.toLowerCase())&&Array.isArray(t[n])?e[n]=t[n].map(f):e[n]=t[n];return e},d=t=>t?RasterFunctionTemplate_a.fromJSON({type:"RasterFunctionTemplate",...t}):void 0,g={types:{key:"type",base:null,typeMap:{RasterFunctionTemplate:RasterFunctionTemplate_a}},json:{write:!0,name:"rasterFunctionDefinition",read:d}};let N=c=class extends JSONSupport/* default */.A{constructor(t){super(t),this.functionName=null,this.outputPixelType="unknown",this.variableName=null,this.functionDefinition=null}set functionArguments(t){if(t){const e=Object.keys(t);if(e.some((e=>RasterFunction_p.has(e.toLowerCase())&&RasterFunction_y(t[e])))||e.some((e=>m.has(e.toLowerCase())&&Array.isArray(t[e])&&t[e].some((t=>RasterFunction_y(t)))))){t=(0,lang/* clone */.o8)(t);for(const n of e)RasterFunction_p.has(n.toLowerCase())?t[n]=F(t[n]):m.has(n.toLowerCase())&&Array.isArray(t[n])&&(t[n]=t[n].map((t=>F(t))))}}this._set("functionArguments",t)}readFunctionArguments(t){return h(t)}writeFunctionArguments(t,e,n){const r={};for(const o of Object.keys(t))RasterFunction_p.has(o.toLowerCase())?r[o]=l(t[o]):m.has(o.toLowerCase())&&Array.isArray(t[o])?r[o]=t[o].map(l):r[o]=l(t[o]);e[n]=r}readFunctionName(t,e){const n=e.rasterFunctionInfos,r=e.name;return r||(n?.length&&"None"!==n[0].name?n[0].name:e.rasterFunction||e.rasterFunctionDefinition?.name)}get rasterFunctionDefinition(){return this.functionDefinition?.toJSON()}set rasterFunctionDefinition(t){this.functionDefinition=d(t)}get hasClipFunction(){return this.rasterFunctionDefinition?JSON.stringify(this.rasterFunctionDefinition).includes('"type":"ClipFunction"'):JSON.stringify(this).includes('"rasterFunction":"Clip"')}clone(){return new c({functionName:this.functionName,functionArguments:(0,lang/* clone */.o8)(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:(0,lang/* clone */.o8)(this.rasterFunctionDefinition)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{type:Object,name:"rasterFunctionArguments"}})],N.prototype,"functionArguments",null),(0,tslib_es6._)([(0,reader/* reader */.w)("functionArguments")],N.prototype,"readFunctionArguments",null),(0,tslib_es6._)([(0,writer/* writer */.K)("functionArguments")],N.prototype,"writeFunctionArguments",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{type:String,write:{target:"rasterFunction"}}})],N.prototype,"functionName",void 0),(0,tslib_es6._)([(0,reader/* reader */.w)("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],N.prototype,"readFunctionName",null),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1,default:"unknown"})],N.prototype,"outputPixelType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{read:!0,write:!0}})],N.prototype,"variableName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],N.prototype,"rasterFunctionDefinition",null),(0,tslib_es6._)([(0,property/* property */.MZ)(g)],N.prototype,"functionDefinition",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],N.prototype,"hasClipFunction",null),N=c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.RasterFunction")],N);


/***/ }),

/***/ 22687:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ m)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(22395);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(15565);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js
var Extent = __webpack_require__(8000);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(44153);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
;// ./node_modules/@arcgis/core/layers/support/RasterBandInfo.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var t;function n(e){return e=Number(e),isNaN(e)?void 0:e}let RasterBandInfo_o=t=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.name=null,this.minWavelength=void 0,this.maxWavelength=void 0,this.radianceBias=void 0,this.radianceGain=void 0,this.reflectanceBias=void 0,this.reflectanceGain=void 0,this.solarIrradiance=void 0}clone(){return new t({name:this.name,minWavelength:this.minWavelength,maxWavelength:this.maxWavelength,radianceBias:this.radianceBias,radianceGain:this.radianceGain,reflectanceBias:this.reflectanceBias,reflectanceGain:this.reflectanceGain,solarIrradiance:this.solarIrradiance})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"BandName",write:!0}})],RasterBandInfo_o.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"WavelengthMin",read:{reader:n},write:!0}})],RasterBandInfo_o.prototype,"minWavelength",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"WavelengthMax",read:{reader:n},write:!0}})],RasterBandInfo_o.prototype,"maxWavelength",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"RadianceBias",read:{reader:n},write:!0}})],RasterBandInfo_o.prototype,"radianceBias",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"RadianceGain",read:{reader:n},write:!0}})],RasterBandInfo_o.prototype,"radianceGain",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"ReflectanceBias",read:{reader:n},write:!0}})],RasterBandInfo_o.prototype,"reflectanceBias",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"ReflectanceGain",read:{reader:n},write:!0}})],RasterBandInfo_o.prototype,"reflectanceGain",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"SolarIrradiance",read:{reader:n},write:!0}})],RasterBandInfo_o.prototype,"solarIrradiance",void 0),RasterBandInfo_o=t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.RasterBandInfo")],RasterBandInfo_o);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterEnums.js
var rasterEnums = __webpack_require__(33673);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js
var reader = __webpack_require__(25376);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js
var writer = __webpack_require__(48524);
;// ./node_modules/@arcgis/core/layers/support/RasterSensorInfo.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var a;function RasterSensorInfo_n(o){return o=Number(o),isNaN(o)?void 0:o}let u=a=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.acquisitionDate=void 0,this.cloudCover=void 0,this.productName=void 0,this.sensorName=null,this.sensorAzimuth=void 0,this.sensorElevation=void 0,this.sunAzimuth=void 0,this.sunElevation=void 0}readAcquisitionDate(o){return new Date(o)}writeAcquisitionDate(o,e){e.AcquisitionDate=o.getTime()}clone(){return new a({acquisitionDate:this.acquisitionDate,cloudCover:this.cloudCover,productName:this.productName,sensorName:this.sensorName,sensorAzimuth:this.sensorAzimuth,sensorElevation:this.sensorElevation,sunAzimuth:this.sunAzimuth,sunElevation:this.sunElevation})}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:Date,json:{name:"AcquisitionDate",write:!0}})],u.prototype,"acquisitionDate",void 0),(0,tslib_es6._)([(0,reader/* reader */.w)("acquisitionDate")],u.prototype,"readAcquisitionDate",null),(0,tslib_es6._)([(0,writer/* writer */.K)("acquisitionDate")],u.prototype,"writeAcquisitionDate",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"CloudCover",read:{reader:RasterSensorInfo_n},write:!0}})],u.prototype,"cloudCover",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"ProductName",write:!0}})],u.prototype,"productName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"SensorName",write:!0}})],u.prototype,"sensorName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"SensorAzimuth",read:{reader:RasterSensorInfo_n},write:!0}})],u.prototype,"sensorAzimuth",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"SensorElevation",read:{reader:RasterSensorInfo_n},write:!0}})],u.prototype,"sensorElevation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"SunAzimuth",read:{reader:RasterSensorInfo_n},write:!0}})],u.prototype,"sunAzimuth",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"SunElevation",read:{reader:RasterSensorInfo_n},write:!0}})],u.prototype,"sunElevation",void 0),u=a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.RasterSensorInfo")],u);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js
var RasterStorageInfo = __webpack_require__(77614);
;// ./node_modules/@arcgis/core/layers/support/RasterInfo.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var RasterInfo_u;let m=RasterInfo_u=class extends JSONSupport/* default */.A{constructor(t){super(t),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get bandInfos(){const t=this.keyProperties.BandProperties,{bandCount:e}=this;if(!t?.length||t.length<e){const t=[];for(let o=1;o<=e;o++)t.push(new RasterBandInfo_o({name:"band_"+o}));return t}const o=t.map((t=>RasterBandInfo_o.fromJSON(t)));for(let i=0;i<o.length;i++)o[i].name=o[i].name||"band_"+(i+1);return o}get dataType(){const t=this.keyProperties?.DataType?.toLowerCase()??"generic";return"stdtime"===t?"standard-time":t}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(t){t&&this._set("nativeExtent",t)}get nativePixelSize(){if(null==this.transform||!this.transform.affectsPixelSize)return this.pixelSize;const t=this.nativeExtent;return{x:t.width/this.width,y:t.height/this.height}}get hasMultidimensionalTranspose(){return!!this.storageInfo?.transposeInfo}get sensorInfo(){if(this.keyProperties?.SensorName)return u.fromJSON(this.keyProperties)}clone(){return new RasterInfo_u({attributeTable:(0,lang/* clone */.o8)(this.attributeTable),bandCount:this.bandCount,colormap:(0,lang/* clone */.o8)(this.colormap),extent:(0,lang/* clone */.o8)(this.extent),format:this.format,height:this.height,width:this.width,histograms:(0,lang/* clone */.o8)(this.histograms),keyProperties:(0,lang/* clone */.o8)(this.keyProperties),multidimensionalInfo:(0,lang/* clone */.o8)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,lang/* clone */.o8)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,lang/* clone */.o8)(this.spatialReference),statistics:(0,lang/* clone */.o8)(this.statistics),storageInfo:(0,lang/* clone */.o8)(this.storageInfo),transform:(0,lang/* clone */.o8)(this.transform)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"attributeTable",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"bandCount",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],m.prototype,"bandInfos",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"colormap",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,readOnly:!0})],m.prototype,"dataType",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Extent/* default */.A,json:{write:!0}})],m.prototype,"extent",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Extent/* default */.A,json:{write:!0}})],m.prototype,"nativeExtent",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"nativePixelSize",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"format",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"height",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"width",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"hasMultidimensionalTranspose",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"histograms",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"keyProperties",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"multidimensionalInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"noDataValue",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"pixelSize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:rasterEnums/* pixelTypeKebabDict */.e8.apiValues,json:{write:!0}})],m.prototype,"pixelType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],m.prototype,"isPseudoSpatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],m.prototype,"sensorInfo",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:SpatialReference/* default */.A,json:{write:!0}})],m.prototype,"spatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"statistics",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:RasterStorageInfo/* default */.A,json:{write:!0}})],m.prototype,"storageInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],m.prototype,"transform",void 0),m=RasterInfo_u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.RasterInfo")],m);


/***/ }),

/***/ 77614:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15565);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(30214);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var p;let l=p=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isBsqTile=!1,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new p({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)(this.tileInfo),transposeInfo:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)(this.transposeInfo),blockBoundary:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)(this.blockBoundary)})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"blockWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"blockHeight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:String,json:{write:!0}})],l.prototype,"compression",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,json:{write:!0}})],l.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"firstPyramidLevel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"maximumPyramidLevel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({json:{write:!0}})],l.prototype,"pyramidResolutions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"pyramidScalingFactor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"pyramidBlockWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],l.prototype,"pyramidBlockHeight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({json:{write:!0}})],l.prototype,"isBsqTile",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Boolean,json:{write:!0}})],l.prototype,"isVirtualTileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({json:{write:!0}})],l.prototype,"tileInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)()],l.prototype,"transposeInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({json:{write:!0}})],l.prototype,"blockBoundary",void 0),l=p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.layers.support.RasterStorageInfo")],l);


/***/ }),

/***/ 11012:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   z: () => (/* binding */ l)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class l{constructor(l=null,a=null,t=null){this.minValue=l,this.maxValue=a,this.noDataValue=t}}


/***/ }),

/***/ 26574:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1817);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22395);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5262);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(81482);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8636);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6273);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(25376);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(26325);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(48524);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(30214);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(44153);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(2532);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(67488);
/* harmony import */ var _geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(64672);
/* harmony import */ var _LOD_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(79083);
/* harmony import */ var _TileKey_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(10259);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var w;const x=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__/* .JSONMap */ .J({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let j=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A{static{w=this}static create(e={}){const{resolutionFactor:t=1,scales:o,size:r=256,spatialReference:i=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A.WebMercator,numLODs:l=24}=e;if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .isValid */ .fn)(i)){const e=[];if(o)for(let t=0;t<o.length;t++){const s=o[t];e.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({level:t,scale:s,resolution:s}))}else{let t=5e-4;for(let o=l-1;o>=0;o--)e.unshift(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({level:o,scale:t,resolution:t})),t*=2}return new w({dpi:96,lods:e,origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A(0,0,i),size:[r,r],spatialReference:i})}const n=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .getInfo */ .Vp)(i),p=e.origin?new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A({x:e.origin.x,y:e.origin.y,spatialReference:i}):new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A(n?{x:n.origin[0],y:n.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),u=96,d=1/((0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .GA)(i)*39.37*u),g=[];if(o)for(let s=0;s<o.length;s++){const e=o[s],t=e*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({level:s,scale:e,resolution:t}))}else{let e=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .isGeographic */ .EA)(i)?512/r*591657527.5917094:256/r*591657527.591555;const o=Math.ceil(l/t);g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({level:0,scale:e,resolution:e*d}));for(let s=1;s<o;s++){const o=e/2**t,r=o*d;g.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({level:s,scale:o,resolution:r})),e=o}}return new w({dpi:u,lods:g,origin:p,size:[r,r],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const o=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .getInfo */ .Vp)(e);return e.isWrappable&&!!o&&Math.abs(o.origin[0]-t.x)<=o.dx}return!1}readOrigin(e,t){return _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,o=0;const s=[],r=this._levelToLOD={};e&&(t=-1/0,o=1/0,e.forEach((e=>{s.push(e.scale),t=e.scale>t?e.scale:t,o=e.scale<o?e.scale:o,r[e.level]=e}))),this._set("scales",s),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const o=Math.floor(e),s=o+1;return t[o]/(t[o]/t[s])**(e-o)}scaleToZoom(e){const t=this.scales,o=t.length-1;let s=0;for(;s<o;s++){const o=t[s],r=t[s+1];if(o<=e)return s;if(r===e)return s+1;if(o>e&&r<e)return s+Math.log(o/e)/Math.log(o/r)}return s}tileAt(e,t,o,s){const r=this.lodAt(e);if(!r)return null;let i,l;if("number"==typeof t)i=t,l=o;else if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .equals */ .aI)(t.spatialReference,this.spatialReference))i=t.x,l=t.y,s=o;else{const e=(0,_geometry_support_webMercatorUtils_js__WEBPACK_IMPORTED_MODULE_15__/* .project */ .Cv)(t,this.spatialReference);if(null==e)return null;i=e.x,l=e.y,s=o}const n=r.resolution*this.size[0],p=r.resolution*this.size[1];return s||(s=new _TileKey_js__WEBPACK_IMPORTED_MODULE_17__/* .TileKey */ .U(null,0,0,0,(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__/* .create */ .vt)())),s.level=e,s.row=Math.floor((this.origin.y-l)/p+.001),s.col=Math.floor((i-this.origin.x)/n+.001),this.updateTileInfo(s),s}updateTileInfo(e,t=w.ExtrapolateOptions.NONE){let o=this.lodAt(e.level);if(!o&&t===w.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(o=t)}if(!o)return;const s=e.level-o.level,r=o.resolution*this.size[0]/2**s,i=o.resolution*this.size[1]/2**s;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_13__/* .create */ .vt)()),e.extent[0]=this.origin.x+e.col*r,e.extent[1]=this.origin.y-(e.row+1)*i,e.extent[2]=e.extent[0]+r,e.extent[3]=e.extent[1]+i}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const o=this.lodAt(t.level);if(null==o)return null;const{resolution:s}=o,r=s*this.size[0],i=s*this.size[1];return e[0]=this.origin.x+t.col*r,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+r,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return w.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===e)return null;const t=(512===this.size[0]&&256===e?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&0===t)return this;const o=[],s=this.lods.length-t;for(let r=0;r<s;r++){const e=r+t,{scale:s,resolution:i}=e>=0?this.lods[e]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};o.push(new _LOD_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({level:r,scale:s,resolution:i}))}return new w({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:o})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let o=0;o<e.length;o++){const s=e[o];this._upsampleLevels[s.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/s.resolution:0},t=s}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Number,json:{write:!0}})],j.prototype,"compressionQuality",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Number,json:{write:!0}})],j.prototype,"dpi",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:String,json:{read:x.read,write:x.write,origins:{"web-scene":{read:!1,write:!1}}}})],j.prototype,"format",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({readOnly:!0})],j.prototype,"isWrappable",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A,json:{write:!0}})],j.prototype,"origin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__/* .reader */ .w)("origin")],j.prototype,"readOrigin",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:[_LOD_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A],value:null,json:{write:!0}})],j.prototype,"lods",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({readOnly:!0})],j.prototype,"scales",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],j.prototype,"size",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__/* .reader */ .w)("size",["rows","cols"])],j.prototype,"readSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__/* .writer */ .K)("size",{cols:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__/* .Integer */ .jz},rows:{type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__/* .Integer */ .jz}})],j.prototype,"writeSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A,json:{write:!0}})],j.prototype,"spatialReference",void 0),j=w=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__/* .subclass */ .$)("esri.layers.support.TileInfo")],j),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(j||(j={}));


/***/ }),

/***/ 10259:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   U: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t{constructor(t,s,i,o,e=void 0){this.id=t,this.level=s,this.row=i,this.col=o,this.extent=e}}


/***/ }),

/***/ 66905:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  d: () => (/* binding */ T)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js
var request = __webpack_require__(38116);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(93741);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/ByteSizeUnit.js
var ByteSizeUnit = __webpack_require__(20700);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/handleUtils.js
var handleUtils = __webpack_require__(70214);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/LRUCache.js + 1 modules
var LRUCache = __webpack_require__(49481);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/PooledArray.js + 1 modules
var PooledArray = __webpack_require__(11268);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js + 1 modules
var promiseUtils = __webpack_require__(49175);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(61985);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/scheduling.js
var scheduling = __webpack_require__(9987);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/urlUtils.js
var urlUtils = __webpack_require__(19759);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/TileKey.js
var TileKey = __webpack_require__(10259);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(15565);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/memoryEstimations.js
var memoryEstimations = __webpack_require__(28208);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/typedArrayUtil.js
var typedArrayUtil = __webpack_require__(62088);
;// ./node_modules/@arcgis/core/geometry/support/UintArray.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function UintArray_n(n,e=!1){return n<=typedArrayUtil/* nativeArrayMaxSize */.y9?e?new Array(n).fill(0):new Array(n):new Uint32Array(n)}function e(r,n,e){return Array.isArray(r)?r.slice(n,n+e):r.subarray(n,n+e)}

;// ./node_modules/@arcgis/core/layers/support/Tilemap.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class Tilemap_l{constructor(t){s(t);const{location:i,data:l}=t;this.location=Object.freeze((0,lang/* clone */.o8)(i));const r=this.location.width,n=this.location.height;let h=!0,c=!0;const m=Math.ceil(r*n/32),f=UintArray_n(m);let w=0;for(let e=0;e<l.length;e++){const t=e%32;l[e]?(c=!1,f[w]|=1<<t):h=!1,31===t&&++w}c?(this._availability="unavailable",this.byteSize=40):h?(this._availability="available",this.byteSize=40):(this._availability=f,this.byteSize=40+(0,memoryEstimations/* estimateNumberArrayMemory */.Qf)(f))}getAvailability(t,i){if("unavailable"===this._availability||"available"===this._availability)return this._availability;const e=(t-this.location.top)*this.location.width+(i-this.location.left),a=e%32,o=e>>5,l=this._availability;return o<0||o>l.length?"unknown":l[o]&1<<a?"available":"unavailable"}static fromDefinition(e,a){const o=e.service.request||request/* default */.A,{row:r,col:s,width:h,height:c}=e,m={query:{f:"json"}};return a=a?{...m,...a}:m,o(n(e),a).then((t=>t.data)).catch((t=>{if(422===t?.details?.httpStatus)return{location:{top:r,left:s,width:h,height:c},valid:!0,data:new Array(h*c).fill(0)};throw t})).then((t=>{if(t.location&&(t.location.top!==r||t.location.left!==s||t.location.width!==h||t.location.height!==c))throw new Error/* default */.A("tilemap:location-mismatch","Tilemap response for different location than requested",{response:t,definition:{top:r,left:s,width:h,height:c}});return Tilemap_l.fromJSON(t)}))}static fromJSON(t){return Object.freeze(new Tilemap_l(t))}}function Tilemap_r(t){return`${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}function n(t){let i;if(t.service.tileServers?.length){const e=t.service.tileServers;i=`${e&&e.length?e[t.row%e.length]:t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`}else i=`${t.service.url}/tilemap/${t.level}/${t.row}/${t.col}/${t.width}/${t.height}`;const e=t.service.query;return e&&(i=`${i}?${e}`),i}function s(t){if(!t?.location)throw new Error/* default */.A("tilemap:missing-location","Location missing from tilemap response");if(!1===t.valid)throw new Error/* default */.A("tilemap:invalid","Tilemap response was marked as invalid");if(!t.data)throw new Error/* default */.A("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(t.data))throw new Error/* default */.A("tilemap:data-mismatch","Data must be an array of numbers");if(t.data.length!==t.location.width*t.location.height)throw new Error/* default */.A("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}

;// ./node_modules/@arcgis/core/layers/support/TilemapCache.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var j;function w(e,t,i){return new Error/* default */.A("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:i})}let T=class extends Accessor/* default */.A{static{j=this}constructor(e){super(e),this._pendingTilemapRequests={},this.request=request/* default */.A,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new LRUCache/* LRUCache */.q(2*ByteSizeUnit/* ByteSizeUnit */.u.MEGABYTES),this.addHandles((0,reactiveUtils/* watch */.wB)((()=>{const{layer:e}=this;return[e?.parsedUrl,e?.tileServers,e?.apiKey,e?.customParameters]}),(()=>this._initializeTilemapDefinition()),reactiveUtils/* initial */.Vh))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}getAvailability(e,t,i){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return"unavailable";const r=this._tilemapFromCache(e,t,i,this._tmpTilemapDefinition);return r?r.getAvailability(t,i):"unknown"}fetchAvailability(e,t,i,r){return!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD?Promise.reject(w(e,t,i)):this._fetchTilemap(e,t,i,r).catch((e=>e)).then((r=>{if(r instanceof Tilemap_l){const s=r.getAvailability(t,i);if("unavailable"===s)throw w(e,t,i);return s}if((0,promiseUtils/* isAbortError */.zf)(r))throw r;return"unknown"}))}fetchAvailabilityUpsample(e,t,i,r,s){r.level=e,r.row=t,r.col=i;const l=this.layer.tileInfo;l.updateTileInfo(r);const o=this.fetchAvailability(e,t,i,s).catch((e=>{if((0,promiseUtils/* isAbortError */.zf)(e))throw e;if(l.upsampleTile(r))return this.fetchAvailabilityUpsample(r.level,r.row,r.col,r,s);throw e}));return this._fetchAvailabilityUpsamplePrefetch(r.id,e,t,i,s,o),o}async _fetchAvailabilityUpsamplePrefetch(e,t,i,r,s,o){if(!this._prefetchingEnabled||null==e)return;const a=`prefetch-${e}`;if(this.hasHandles(a))return;const n=new AbortController;o.then((()=>n.abort()),(()=>n.abort()));let h=!1;const p=(0,handleUtils/* makeHandle */.hA)((()=>{h||(h=!0,n.abort())}));if(this.addHandles(p,a),await (0,scheduling/* waitTicks */.md)(10,n.signal).catch((()=>{})),h||(h=!0,this.removeHandles(a)),(0,promiseUtils/* isAborted */.G4)(n))return;const m=new TileKey/* TileKey */.U(e,t,i,r),f={...s,signal:n.signal},v=this.layer.tileInfo;for(let l=0;j._prefetches.length<j._maxPrefetch&&v.upsampleTile(m);++l){const e=this.fetchAvailability(m.level,m.row,m.col,f);j._prefetches.push(e);const t=()=>{j._prefetches.removeUnordered(e)};e.then(t,t)}}static{this._maxPrefetch=4}static{this._prefetches=new PooledArray/* default */.A({initialSize:j._maxPrefetch})}_fetchTilemap(e,t,i,r){if(!this.layer.tileInfo.lodAt(e)||e<this.effectiveMinLOD||e>this.effectiveMaxLOD)return Promise.reject(new Error/* default */.A("tilemap-cache:level-unavailable",`Level ${e} is unavailable in the service`));const l=this._tmpTilemapDefinition,o=this._tilemapFromCache(e,t,i,l);if(o)return Promise.resolve(o);const a=r?.signal;return r={...r,signal:null},new Promise(((e,t)=>{(0,promiseUtils/* onAbort */.u7)(a,(()=>t((0,promiseUtils/* createAbortError */.NK)())));const i=Tilemap_r(l);let s=this._pendingTilemapRequests[i];if(!s){s=Tilemap_l.fromDefinition(l,r).then((e=>(this._tilemapCache.put(i,e,e.byteSize),e)));const e=()=>{delete this._pendingTilemapRequests[i]};this._pendingTilemapRequests[i]=s,s.then(e,e)}s.then(e,t)}))}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:e,apiKey:t,customParameters:i}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:e.path,query:(0,urlUtils/* objectToQuery */.x0)({...e.query,...i,token:t??e.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(e,t,i,r){r.level=e,r.row=t-t%this.size,r.col=i-i%this.size;const s=Tilemap_r(r);return this._tilemapCache.get(s)}get test(){}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],T.prototype,"layer",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],T.prototype,"minLOD",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],T.prototype,"maxLOD",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],T.prototype,"request",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],T.prototype,"size",void 0),T=j=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.TilemapCache")],T);


/***/ }),

/***/ 84605:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ $)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js
var request = __webpack_require__(38116);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(22395);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js + 1 modules
var promiseUtils = __webpack_require__(49175);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/QueueProcessor.js
var QueueProcessor = __webpack_require__(13480);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(8636);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js
var Extent = __webpack_require__(8000);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 1 modules
var Point = __webpack_require__(30214);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(44153);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/arcgisLayerUrl.js
var arcgisLayerUrl = __webpack_require__(63457);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/commonProperties.js
var commonProperties = __webpack_require__(9014);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/DimensionalDefinition.js
var DimensionalDefinition = __webpack_require__(74088);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/LOD.js
var LOD = __webpack_require__(79083);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/RasterStorageInfo.js
var RasterStorageInfo = __webpack_require__(77614);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/TileInfo.js
var TileInfo = __webpack_require__(26574);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterDatasets/datasetUtils.js
var datasetUtils = __webpack_require__(97776);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterDatasets/multidimensionalUtils.js
var multidimensionalUtils = __webpack_require__(6549);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/EphemeralBlockCache.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class EphemeralBlockCache_t{constructor(t=15e3,e=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,e)}decreaseRefCount(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.refCount--,t.refCount<=0&&(r.delete(s),t.controller&&t.controller.abort()),t.refCount}return 0}getBlock(t,e){const s=t+"/"+e,r=this._cachedBlocks;if(r.has(s)){const t=r.get(s);return t.ts=Date.now(),t.refCount++,r.delete(s),r.set(s,t),t.block}return null}putBlock(t,e,s,r){const i=this._cachedBlocks,c=t+"/"+e;if(i.has(c)){const t=i.get(c);t.ts=Date.now(),t.refCount++}else i.set(c,{block:s,ts:Date.now(),refCount:1,controller:r});this._trim(),this._updateTimer()}deleteBlock(t,e){const s=this._cachedBlocks,r=t+"/"+e;s.has(r)&&s.delete(r)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval((()=>{const e=Array.from(t),s=Date.now();for(let r=0;r<e.length&&e[r][1].ts<=s-this._duration;r++)t.delete(e[r][0]);0===t.size&&this._clearTimer()}),this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const e=Array.from(t);for(let s=0;s<e.length-this._size;s++)t.delete(e[s][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js
var rasterProjectionHelper = __webpack_require__(47425);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/RawBlockCache.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const r=new Map,c=new EphemeralBlockCache_t;function RawBlockCache_i(e,n,t){const o=[];return null!=n&&o.push(`sliceId=${n}`),null!=t&&o.push(`bandIds=${t.join(",")}`),o.length?`${e}?${o.join("&")}`:e}function u(e,n){const t={extent:null,rasterInfo:n,cache:new Map},o=r.get(e);return o?(o.push(t),o.length-1):(r.set(e,[t]),0)}function a(e,n){const t=r.get(e);t&&(t[n]=null,t.some((e=>null!=e))||r.delete(e))}function f(e){r.delete(e)}function RawBlockCache_s(e,n,t){const o=r.get(e);if(!o)return null==n?c.decreaseRefCount(e,t):0;if(null==n||null==o[n])return c.decreaseRefCount(e,t);const l=o[n]?.cache,i=l?.get(t);if(l&&i){if(i.refCount--,0===i.refCount){l.delete(t);for(let e=0;e<o.length;e++)o[e]?.cache.delete(t);i.controller&&i.controller.abort()}return i.refCount}return 0}function RawBlockCache_m(e,n,t){const o=r.get(e);if(!o)return null==n?c.getBlock(e,t):null;if(null==n||null==o[n]){for(let e=0;e<o.length;e++){const n=o[e]?.cache.get(t);if(n)return n.refCount++,n.block}return c.getBlock(e,t)}const l=o[n]?.cache.get(t);if(l)return l.refCount++,l.block;for(let r=0;r<o.length;r++){if(r===n||!o[r])continue;const e=o[r]?.cache,l=e?.get(t);if(e&&l)return l.refCount++,e.set(t,l),l.block}return null}function h(e,n,t,o,l=null){const i=r.get(e);if(!i)return void(null==n&&c.putBlock(e,t,o,l));if(null==n||null==i[n])return void c.putBlock(e,t,o,l);const u={refCount:1,block:o,isResolved:!1,isRejected:!1,controller:l};o.then((()=>u.isResolved=!0)).catch((()=>u.isRejected=!0)),i[n]?.cache.set(t,u)}function x(e,n,t){const o=r.get(e);o?null!=n&&null!=o[n]?o[n]?.cache.delete(t):c.deleteBlock(e,t):null==n&&c.deleteBlock(e,t)}function d(e,n){const t=r.get(e);return t?t[n]??null:null}function g(n,r,c,i,u,a,f=null){const s=d(n,r);if(!s)return;const m=s.extent,{cache:h,rasterInfo:x}=s;if(m&&m.xmin===c.xmin&&m.xmax===c.xmax&&m.ymin===c.ymin&&m.ymax===c.ymax)return;i=i??0;const g=c.clone().normalize(),{spatialReference:p,transform:y}=x,k=new Set;for(let d=0;d<g.length;d++){const n=g[d];if(n.xmax-n.xmin<=i||n.ymax-n.ymin<=i)continue;let r=t(n,p,f);if(null==r)continue;if(null!=y&&(r=y.inverseTransform(r),null==r))continue;const c=new e({x:i,y:i,spatialReference:n.spatialReference});if(null==u&&!(u=o(c,p,n,f)))return;const{pyramidLevel:s,pyramidResolution:m,excessiveReading:h}=l(u,x,a||"closest");if(h)return;const{storageInfo:M}=x,{origin:R}=M,{x:C,y:B}=m,b=Math.max(0,Math.floor((r.xmin-R.x)/C)),j=Math.max(0,Math.floor((R.y-r.ymax)/B)),v=Math.ceil(r.width/C-.1),w=Math.ceil(r.height/B-.1),$=s>0?M.pyramidBlockWidth:M.blockWidth,I=s>0?M.pyramidBlockHeight:M.blockHeight,H=M.blockBoundary[s];if(!H)continue;const E=1,P=Math.max(H.minCol,Math.floor(b/$)-E),W=Math.max(H.minRow,Math.floor(j/I)-E),z=Math.min(H.maxCol,Math.floor((b+v-1)/$)+E),F=Math.min(H.maxRow,Math.floor((j+w-1)/I)+E);for(let e=W;e<=F;e++)for(let n=P;n<=z;n++)k.add(`${s}/${e}/${n}`)}h.forEach(((e,n)=>{if(!k.has(n)){const e=h.get(n);(null==e||e.isResolved||e.isRejected)&&h.delete(n)}})),s.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js
var pixelRangeUtils = __webpack_require__(6246);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js + 3 modules
var RasterCodec = __webpack_require__(73870);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js
var pixelUtils = __webpack_require__(86924);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/vectorFieldUtils.js
var vectorFieldUtils = __webpack_require__(20503);
;// ./node_modules/@arcgis/core/layers/support/rasterDatasets/BaseRaster.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const V=8,U=256;let Q=0,$=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this._tileFetchQueue=new QueueProcessor.QueueProcessor({concurrency:32,process:(e,t)=>this._fetchRawTile(e.pyramidLevel,e.row,e.col,{...e.options,signal:t})}),this.datasetName=null,this.datasetFormat=null,this.hasUniqueSourceStorageInfo=!0,this.rasterInfo=null,this.ioConfig={sampling:"closest"}}normalizeCtorArgs(e){return e?.ioConfig&&(e={...e,ioConfig:{resolution:null,bandIds:null,sampling:"closest",tileInfo:TileInfo/* default */.A.create(),...e.ioConfig}}),e}get _isGlobalWrappableSource(){const{rasterInfo:e}=this,t=(0,rasterProjectionHelper/* getWorldWidth */.FT)(e.spatialReference);return null!=t&&e.extent.width>=t/2}get _hasNoneOrGCSShiftTransform(){const{transform:e}=this.rasterInfo;return null==e||"gcs-shift"===e.type}set rasterJobHandler(e){this._set("rasterJobHandler",e),(0,datasetUtils/* isFunctionRaster */.q)(this)&&this.primaryRasters?.rasters?.forEach((t=>t.rasterJobHandler=e))}get rasterId(){return this.url||"rasterId-"+Q++}set url(e){this._set("url",(0,arcgisLayerUrl/* sanitizeUrl */.Jf)(e,Logger/* default */.A.getLogger(this)))}async open(e){return this._openPromise??=(0,rasterProjectionHelper/* load */.Hh)().then((()=>this._open(e))),this._openPromise}async fetchTile(e,t,i,o={}){const r=o.tileInfo||this.rasterInfo.storageInfo.tileInfo,n=this.getTileExtentFromTileInfo(e,t,i,r);return o={noClip:!0,...o},this.fetchPixels(n,r.size[0],r.size[1],o)}async identify(e,t={}){e=(0,ensureType/* ensureClass */.PZ)(Point/* default */.A,e).clone().normalize();const{multidimensionalDefinition:i,timeExtent:o}=t,{rasterInfo:r}=this,{hasMultidimensionalTranspose:n,multidimensionalInfo:s}=r;let{transposedVariableName:l}=t;const c=null!=s&&n&&(null!=o||(0,multidimensionalUtils/* isMultiSliceOrRangeDefinition */.DY)(i));if(c&&!l){l=null!=i&&i.length>0?i[0].variableName??void 0:s.variables[0].name,t={...t,transposedVariableName:l}}t=this._getRequestOptionsWithSliceId(t);const{spatialReference:u,extent:h}=r,{datumTransformation:p}=t;let d=(0,rasterProjectionHelper/* projectPoint */._I)(e,u,p);if(!h.intersects(d))return{location:d,value:null};if(null!=r.transform){const e=r.transform.inverseTransform(d);if(!r.nativeExtent.intersects(e))return{location:e,value:null};d=e}let x=0;const y=null!=l&&null!=s&&r.hasMultidimensionalTranspose;if((0,datasetUtils/* isFunctionRaster */.q)(this)){const e=this.primaryRasters.rasters[0];if(y)return e.identify(d,t);const{pixelSize:o}=r,n=3,s=o.x*n/2,l=o.y*n/2,a=new Extent/* default */.A({xmin:d.x-s,xmax:d.x+s,ymin:d.y-l,ymax:d.y+l,spatialReference:u}),c={interpolation:"nearest",multidimensionalDefinition:i,sliceId:t.sliceId},{pixelBlock:m}=await e.fetchPixels(a,n,n,c),{pixelBlock:h}=await this.fetchPixels(a,n,n,c);if(null==m)return{location:d,value:null};const p=Math.floor(n*n*.5),x=!m.mask||m.mask[p]?m.pixels.map((e=>e[p])):null;let g;return null!=h&&(g=!h.mask||h.mask[p]?h.pixels.map((e=>e[p])):void 0),{location:d,value:x,processedValue:g,pyramidLevel:0}}if(!y)if(t.srcResolution){x=(0,rasterProjectionHelper/* snapPyramid */.t$)(t.srcResolution,r,this.ioConfig.sampling).pyramidLevel}else if(x=await this.computeBestPyramidLevelForLocation(e,t),null==x)return{location:d,value:null};const g=this.identifyPixelLocation(d,x,null,y);if(null===g)return{location:d,value:null};const{row:w,col:S,rowOffset:k,colOffset:v,blockWidth:T}=g,b=await this._tileFetchQueue.push({pyramidLevel:x,row:w,col:S,options:t},{signal:t.signal});if(!b?.pixels?.length)return{location:d,value:null};const P=k*T+v;return this._processIdentifyResult(b,{srcLocation:d,position:P,pyramidLevel:x,useTransposedTile:!!y,requestSomeSlices:c,identifyOptions:t})}async fetchPixels(e,t,i,o={}){e=(0,rasterProjectionHelper/* shiftExtent */.Ps)(e),o=this._getRequestOptionsWithSliceId(o);const{_hasNoneOrGCSShiftTransform:r}=this;if(o.requestRawData&&r)return this._fetchPixels(e,t,i,o);const n=(0,rasterProjectionHelper/* getWorldWidth */.FT)(e.spatialReference),s=(0,rasterProjectionHelper/* getWorldWrapCount */.OM)(e);if(null==n||0===s||1===s&&this._isGlobalWrappableSource&&r)return this._fetchPixels(e,t,i,o);if(s>=3)return{extent:e,pixelBlock:null};const l=[],{xmin:a,xmax:c}=e,m=Math.round(n/(c-a)*t),u=m-Math.round((n/2-a)/(c-a)*t);let h=0;const p=[];for(let g=0;g<=s;g++){const r=new Extent/* default */.A({xmin:0===g?a:-n/2,xmax:g===s?c-n*g:n/2,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference}),d=0===g?m-u:g===s?t-h:m;h+=d,p.push(d);const x=o.disableWrapAround&&g>0?null:this._fetchPixels(r,d,i,o);l.push(x)}const d=(await Promise.all(l)).map((e=>e?.pixelBlock));let x=null;const y={width:t,height:i};if(this.rasterJobHandler){x=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:d,srcMosaicSize:y,destDimension:null,coefs:null,sampleSpacing:null,interpolation:"nearest",alignmentInfo:null,blockWidths:p},o)).pixelBlock}else x=(0,pixelUtils/* mosaic */.z7)(d,y,{blockWidths:p});return{extent:e,srcExtent:(0,rasterProjectionHelper/* projectExtent */._l)(e,this.rasterInfo.spatialReference,o.datumTransformation),pixelBlock:x}}async fetchRawPixels(e,t,i,o={}){t={x:Math.floor(t.x),y:Math.floor(t.y)};const r=await this._fetchRawTiles(e,t,i,o),{nativeExtent:n,nativePixelSize:s,storageInfo:l}=this.rasterInfo,a=2**e,c=s.x*a,m=s.y*a,u=new Extent/* default */.A({xmin:n.xmin+c*t.x,xmax:n.xmin+c*(t.x+i.width-1),ymin:n.ymax-m*(t.y+i.height-1),ymax:n.ymax-m*t.y,spatialReference:n.spatialReference});if(!r)return{extent:u,srcExtent:u,pixelBlock:null};const{pixelBlocks:h,mosaicSize:p}=r;if(1===h.length&&null!=h[0]&&h[0].width===i.width&&h[0].height===i.height)return{extent:u,srcExtent:u,pixelBlock:r.pixelBlocks[0]};const d=e>0?l.pyramidBlockWidth:l.blockWidth,x=e>0?l.pyramidBlockHeight:l.blockHeight,y={x:t.x%d,y:t.y%x};let g;if(this.rasterJobHandler){g=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:h,srcMosaicSize:p,destDimension:i,clipOffset:y,clipSize:i,coefs:null,sampleSpacing:null,interpolation:o.interpolation,alignmentInfo:null,blockWidths:null},o)).pixelBlock}else g=(0,pixelUtils/* mosaic */.z7)(h,p,{clipOffset:y,clipSize:i});return{extent:u,srcExtent:u,pixelBlock:g}}fetchRawTile(e,t,o,r){throw new Error/* default */.A("BaseRaster:read-not-implemented","fetchRawTile() is not implemented")}computeExtent(e){return (0,rasterProjectionHelper/* projectExtent */._l)(this.rasterInfo.extent,e)}decodePixelBlock(e,t){return!this.rasterJobHandler||t.useCanvas?(0,RasterCodec/* decode */.D)(e,t):this.rasterJobHandler.decode({data:e,options:t})}async request(e,i,o=0){const{customFetchParameters:r}=this.ioConfig,{range:n,query:s,headers:l}=i;o=o??i.retryCount??this.ioConfig.retryCount;const a=n?{Range:`bytes=${n.from}-${n.to}`}:null;try{return await (0,request/* default */.A)(e,{...i,query:{...s,...r},headers:{...l,...a}})}catch(c){if(o>0)return o--,this.request(e,i,o);throw c}}getSliceIndex(e){const{multidimensionalInfo:t}=this.rasterInfo;return null==t||null==e||0===e.length?null:(0,multidimensionalUtils/* getSliceIndex */.NG)(e,t)}getTileExtentFromTileInfo(e,t,i,o){const r=o.lodAt(e);return this.getTileExtent({x:r.resolution,y:r.resolution},t,i,o.origin,o.spatialReference,o.size)}updateTileInfo(){const{storageInfo:e,spatialReference:t,extent:i,pixelSize:o}=this.rasterInfo,{pyramidResolutions:r}=e;if(!e.tileInfo){const n=[],s=e.maximumPyramidLevel||0;let l=(o.x+o.y)/2,a=1/.0254*96*l;for(let e=0;e<=s&&(n.unshift(new LOD/* default */.A({level:s-e,resolution:l,scale:a})),e!==s);e++)if(r){const t=(r[e].x+r[e].y)/2;a*=t/l,l=t}else l*=2,a*=2;const c=new Point/* default */.A({x:i.xmin,y:i.ymax,spatialReference:t});e.tileInfo=new TileInfo/* default */.A({origin:c,size:[e.blockWidth,e.blockHeight],spatialReference:t,lods:n}),e.isVirtualTileInfo=!0}}createRemoteDatasetStorageInfo(e,t=512,i=512,o){const{width:r,height:n,nativeExtent:s,pixelSize:l,spatialReference:a}=e,c=new Point/* default */.A({x:s.xmin,y:s.ymax,spatialReference:a});null==o&&(o=Math.max(0,Math.round(Math.log(Math.max(r,n))/Math.LN2-8)));const f=this.computeBlockBoundary(s,512,512,{x:s.xmin,y:s.ymax},[l],o);e.storageInfo=new RasterStorageInfo/* default */.A({blockWidth:t,blockHeight:i,pyramidBlockWidth:t,pyramidBlockHeight:i,origin:c,firstPyramidLevel:1,maximumPyramidLevel:o,blockBoundary:f})}async computeBestPyramidLevelForLocation(e,t={}){return 0}computeBlockBoundary(e,t,i,o,r,n=0,s=2){if(1===r.length&&n>0){r=[...r];let{x:e,y:t}=r[0];for(let i=0;i<n;i++)e*=s,t*=s,r.push({x:e,y:t})}const l=[],{x:a,y:c}=o;for(let f=0;f<r.length;f++){const{x:o,y:n}=r[f];l.push({minCol:Math.floor((e.xmin-a+.1*o)/t/o),maxCol:Math.floor((e.xmax-a-.1*o)/t/o),minRow:Math.floor((c-e.ymax+.1*n)/i/n),maxRow:Math.floor((c-e.ymin-.1*n)/i/n)})}return l}getPyramidPixelSize(e){const{nativePixelSize:t}=this.rasterInfo,{pyramidResolutions:i,pyramidScalingFactor:o}=this.rasterInfo.storageInfo;if(0===e)return t;if(null!=i&&i.length)return i[e-1];const r=o**e;return{x:t.x*r,y:t.y*r}}identifyPixelLocation(e,t,i,o){const{spatialReference:r,nativeExtent:n,storageInfo:s}=this.rasterInfo,{maximumPyramidLevel:l,origin:a,transposeInfo:c}=s,f=o&&null!=c?c.tileSize[0]:s.blockWidth,m=o&&null!=c?c.tileSize[1]:s.blockHeight,u=(0,rasterProjectionHelper/* projectPoint */._I)(e,r,i);if(!n.intersects(u))return null;if(t<0||t>l)return null;const h=this.getPyramidPixelSize(t),{x:p,y:d}=h,x=(a.y-u.y)/d/m,y=(u.x-a.x)/p/f,g=Math.min(m-1,Math.floor((x-Math.floor(x))*m)),I=Math.min(f-1,Math.floor((y-Math.floor(y))*f));return{pyramidLevel:t,row:Math.floor(x),col:Math.floor(y),rowOffset:g,colOffset:I,blockWidth:f,srcLocation:u}}getTileExtent(e,t,i,o,r,n){const[s,l]=n,a=o.x+i*s*e.x,c=a+s*e.x,m=o.y-t*l*e.y,u=m-l*e.y;return new Extent/* default */.A({xmin:a,xmax:c,ymin:u,ymax:m,spatialReference:r})}getBlockWidthHeight(e){return{blockWidth:e>0?this.rasterInfo.storageInfo.pyramidBlockWidth:this.rasterInfo.storageInfo.blockWidth,blockHeight:e>0?this.rasterInfo.storageInfo.pyramidBlockHeight:this.rasterInfo.storageInfo.blockHeight}}isBlockOutside(e,t,i){const o=this.rasterInfo.storageInfo.blockBoundary[e];return!o||o.maxRow<t||o.maxCol<i||o.minRow>t||o.minCol>i}updateImageSpaceRasterInfo(e){const{pixelSize:t}=e,{width:i,height:o}=e,r=SpatialReference/* default */.A.WebMercator;e.spatialReference=r,e.extent=e.nativeExtent=new Extent/* default */.A({xmin:-.5,ymax:.5,xmax:i-.5,ymin:.5-o,spatialReference:r}),e.isPseudoSpatialReference=!0,e.transform=null,e.pixelSize=new Point/* default */.A({x:1,y:1,spatialReference:r});const{extent:n,storageInfo:s}=e;if(s){s.origin=new Point/* default */.A({x:n.xmin,y:n.ymax,spatialReference:r});const{pyramidResolutions:i,tileInfo:o}=s;if(i&&i.forEach((e=>{e.x/=t.x,e.y/=t.y})),o){o.origin=s.origin;const t=(e.nativePixelSize.x+e.nativePixelSize.y)/2;o.lods.forEach(((e,i)=>{e.resolution=t*2**i,e.scale=96*e.resolution/.0254}))}}}async _fetchPixels(e,t,i,o={}){let r=(0,rasterProjectionHelper/* getWorldWrapCount */.OM)(e);if(r>=2)return{extent:e,pixelBlock:null};const n=this._getSourceDataInfo(e,t,i,o),{pyramidLevel:s,srcResolution:l,srcExtent:a,srcWidth:c,srcHeight:f,ul:u}=n;if(0===c||0===f)return{extent:e,srcExtent:a,pixelBlock:null};const{rasterInfo:h}=this,p=h.transform,d="gcs-shift"===p?.type,x=null!=(0,rasterProjectionHelper/* getWorldWidth */.FT)(e.spatialReference);!d&&x||(r=(0,rasterProjectionHelper/* getWorldWrapCount */.OM)(n.srcExtent,d));const y=await this._fetchRawTiles(s,u,{width:c,height:f,wrapCount:r},o);if(!y)return{extent:e,srcExtent:a,pixelBlock:null};const g=h.storageInfo,I=s>0?g.pyramidBlockWidth:g.blockWidth,R=s>0?g.pyramidBlockHeight:g.blockHeight;let{x:w,y:S}=h.pixelSize;if(s>0){const{pyramidResolutions:e,pyramidScalingFactor:t}=g;if(null!=e&&e[s-1])({x:w,y:S}=e[s-1]);else{const e=t**s;w*=e,S*=e}}const k=h.spatialReference,v=new Point/* default */.A({x:w,y:S,spatialReference:k}),T=I===c&&R===f&&u.x%I===0&&u.y%R===0,b=new Point/* default */.A({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference}),P=!e.spatialReference.equals(k),B=k.isGeographic?1e-9:1e-4,{datumTransformation:_}=o;if(!P&&T&&1===y.pixelBlocks.length&&I===t&&R===i&&X(l,b,B))return{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:y.pixelBlocks[0]};const M=x&&null!=(0,rasterProjectionHelper/* getWorldWidth */.FT)(a.spatialReference)&&this._hasNoneOrGCSShiftTransform,L=o.requestProjectedLocalDirections&&this.rasterInfo.dataType.startsWith("vector");L&&!this.rasterJobHandler&&await (0,rasterProjectionHelper/* load */.Hh)();const E=this.rasterJobHandler?await this.rasterJobHandler.getProjectionOffsetGrid({projectedExtent:e,srcBufferExtent:y.extent,pixelSize:b.toJSON(),datumTransformation:_,rasterTransform:p,hasWrapAround:r>0||M,isAdaptive:!1!==this.ioConfig.optimizeProjectionAccuracy,includeGCSGrid:L},o):(0,rasterProjectionHelper/* getProjectionOffsetGrid */.l0)({projectedExtent:e,srcBufferExtent:y.extent,pixelSize:b,datumTransformation:_,rasterTransform:p,hasWrapAround:r>0||M,isAdaptive:!1,includeGCSGrid:L});let D;const F=!o.requestRawData,G={rows:E.spacing[0],cols:E.spacing[1]},q=this._hasNoneOrGCSShiftTransform?this._getRasterTileAlignmentInfo(s,y.extent.xmin):void 0,{pixelBlocks:J,mosaicSize:V,isPartiallyFilled:U}=y;let Q=null;if(this.rasterJobHandler){const e=await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:J,srcMosaicSize:V,destDimension:F?{width:t,height:i}:null,coefs:F?E.coefficients:null,sampleSpacing:F?G:null,projectDirections:L,gcsGrid:L?E.gcsGrid:null,isUV:"vector-uv"===this.rasterInfo.dataType,interpolation:o.interpolation,alignmentInfo:q,blockWidths:null},o);({pixelBlock:D,localNorthDirections:Q}=e)}else{const e=(0,pixelUtils/* mosaic */.z7)(J,V,{alignmentInfo:q});D=F?(0,pixelUtils/* approximateTransform */.$i)(e,{width:t,height:i},E.coefficients,G,o.interpolation):e,L&&E.gcsGrid&&(Q=(0,pixelUtils/* getLocalArithmeticNorthRotations */.QF)({width:t,height:i},E.gcsGrid),D=(0,vectorFieldUtils/* convertToLocalDirections */.Y2)(D,this.rasterInfo.dataType,Q))}return o.requestRawData||L?{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:D,transformGrid:E,localNorthDirections:Q,isPartiallyFilled:U}:{extent:e,srcExtent:a,srcTilePixelSize:v,pixelBlock:D}}async _fetchRawTiles(e,t,i,o){const{origin:r,blockBoundary:n}=this.rasterInfo.storageInfo,{blockWidth:s,blockHeight:l}=this.getBlockWidthHeight(e);let{x:a,y:c}=t,{width:m,height:u,wrapCount:h}=i;const p=this._getRasterTileAlignmentInfo(e,0);o.buffer&&(a-=o.buffer.cols,c-=o.buffer.rows,m+=2*o.buffer.cols,u+=2*o.buffer.rows);let d=0,x=0,y=0;if(h&&null!=p){({worldColumnCountFromOrigin:x,originColumnOffset:y,rightPadding:d}=p);x*p.blockWidth-d>=a+m&&(d=0)}const g=Math.floor(a/s),I=Math.floor(c/l),R=Math.floor((a+m+d-1)/s),w=Math.floor((c+u+d-1)/l),S=n[e];if(!S)return null;const{minRow:k,minCol:v,maxCol:T,maxRow:b}=S;if(0===h&&(w<k||R<v||I>b||g>T))return null;const P=new Array;let B=!1;const _=null==this.ioConfig.allowPartialFill?o.allowPartialFill:this.ioConfig.allowPartialFill;for(let f=I;f<=w;f++)for(let t=g;t<=R;t++){let i=t;if(!o.disableWrapAround&&h&&null!=p&&x<=t&&(i=t-x-y),f>=k&&i>=v&&b>=f&&T>=i){const t=this._tileFetchQueue.push({pyramidLevel:e,row:f,col:i,options:o},{signal:o.signal});_?P.push(new Promise((e=>{t.then((t=>e(t))).catch((()=>{B=!0,e(null)}))}))):P.push(t)}else P.push(Promise.resolve(null))}if(0===P.length)return null;const M=await Promise.all(P),C={height:(w-I+1)*l,width:(R-g+1)*s},{spatialReference:W}=this.rasterInfo,j=this.getPyramidPixelSize(e),{x:z,y:H}=j;return{extent:new Extent/* default */.A({xmin:r.x+g*s*z,xmax:r.x+(R+1)*s*z,ymin:r.y-(w+1)*l*H,ymax:r.y-I*l*H,spatialReference:W}),pixelBlocks:M,mosaicSize:C,isPartiallyFilled:B}}_fetchRawTile(e,t,i,o){const{storageInfo:r}=this.rasterInfo,s=null!=r.transposeInfo&&!!o.transposedVariableName;if(!s){const o=r.blockBoundary[e];if(!o)return Promise.resolve(null);const{minRow:n,minCol:s,maxCol:l,maxRow:a}=o;if(t<n||i<s||t>a||i>l)return Promise.resolve(null)}const l=s?o.transposeVariableName:o.sliceId,a=this.rasterInfo.storageInfo.isBsqTile?o.bandIds:null,c=RawBlockCache_i(this.rasterId,l,a),f=`${e}/${t}/${i}`;let m=RawBlockCache_m(c,o.registryId,f);if(null==m){const r=new AbortController;m=this.fetchRawTile(e,t,i,{...o,signal:r.signal}),h(c,o.registryId,f,m,r),m.catch((()=>x(c,o.registryId,f)))}return o.signal&&(0,promiseUtils/* onAbort */.u7)(o,(()=>{RawBlockCache_s(c,o.registryId,f)})),m}_computeMagDirValues(e){const{bandCount:t,dataType:i}=this.rasterInfo;if(!(2===t&&"vector-magdir"===i||"vector-uv"===i)||2!==e?.length||!e[0]?.length)return null;const o=e[0].length;if("vector-magdir"===i){const t=e[1].map((e=>(e+360)%360));return[e[0],t]}const[r,n]=e,s=[],l=[];for(let a=0;a<o;a++){const[e,t]=(0,vectorFieldUtils/* uvComponentToVector */.Lu)([r[a],n[a]]);s.push(e),l.push(t)}return[s,l]}_getRasterTileAlignmentInfo(e,t){return null==this._rasterTileAlignmentInfo&&(this._rasterTileAlignmentInfo=(0,rasterProjectionHelper/* getRasterDatasetAlignmentInfo */.DO)(this.rasterInfo)),null==this._rasterTileAlignmentInfo.pyramidsInfo?null:{startX:t,halfWorldWidth:this._rasterTileAlignmentInfo.halfWorldWidth,hasGCSSShiftTransform:this._rasterTileAlignmentInfo.hasGCSSShiftTransform,...this._rasterTileAlignmentInfo.pyramidsInfo[e]}}_getSourceDataInfo(e,t,i,o={}){const r={datumTransformation:o.datumTransformation,pyramidLevel:0,pyramidResolution:null,srcExtent:null,srcHeight:0,srcResolution:null,srcWidth:0,ul:{x:0,y:0}};o.srcResolution&&(r.srcResolution=o.srcResolution,this._updateSourceDataInfo(e,r));const n=this.rasterInfo.storageInfo.maximumPyramidLevel||0,{srcWidth:s,srcHeight:l,pyramidLevel:a}=r,c=s/t,f=l/i,u=a<n&&c*f>=16,h=a===n&&this._requireTooManySrcTiles(s,l,t,i);if(u||h||(0===s||0===l)){const s=new Point/* default */.A({x:(e.xmax-e.xmin)/t,y:(e.ymax-e.ymin)/i,spatialReference:e.spatialReference});let l=(0,rasterProjectionHelper/* projectResolution */.Wo)(s,this.rasterInfo.spatialReference,e,r.datumTransformation);const h=!l||o.srcResolution&&l.x+l.y<o.srcResolution.x+o.srcResolution.y;if(u&&o.srcResolution&&h){const e=Math.round(Math.log(Math.max(c,f))/Math.LN2)-1;if(n-a+3>=e){const t=2**e;l={x:o.srcResolution.x*t,y:o.srcResolution.y*t}}}l&&(r.srcResolution=l,this._updateSourceDataInfo(e,r))}return this._requireTooManySrcTiles(r.srcWidth,r.srcHeight,t,i)&&(r.srcWidth=0,r.srcHeight=0),r}_requireTooManySrcTiles(e,t,i,o){const{tileInfo:r}=this.rasterInfo.storageInfo,n=Math.ceil(e/r.size[0])*Math.ceil(t/r.size[1]),s=e/i,l=t/o,a=Math.max(1,(i+o)/1024);return n>=U*a||s>V||l>V}_updateSourceDataInfo(e,t){t.srcWidth=0,t.srcHeight=0;const{rasterInfo:i}=this,o=i.spatialReference,{srcResolution:r,datumTransformation:n}=t,{pyramidLevel:s,pyramidResolution:l,excessiveReading:a}=(0,rasterProjectionHelper/* snapPyramid */.t$)(r,i,this.ioConfig.sampling);if(a)return;let c=t.srcExtent||(0,rasterProjectionHelper/* projectExtent */._l)(e,o,n);if(null==c)return;const f=i.transform;f&&(c=f.inverseTransform(c)),t.srcExtent=c;const{x:m,y:u}=i.storageInfo.origin,h=Math.floor((c.xmin-m)/l.x+.1),p=Math.floor((u-c.ymax)/l.y+.1),d=Math.floor((c.xmax-m)/l.x-.1),x=Math.floor((u-c.ymin)/l.y-.1),y=c.width<.1*l.x?0:d-h+1,g=c.height<.1*l.y?0:x-p+1;t.pyramidLevel=s,t.pyramidResolution=l,t.srcWidth=y,t.srcHeight=g,t.ul={x:h,y:p}}_getRequestOptionsWithSliceId(e){return null!=this.rasterInfo.multidimensionalInfo&&null==e.sliceId&&(e={...e,sliceId:this.getSliceIndex(e.multidimensionalDefinition)}),e}_processIdentifyResult(e,t){const{srcLocation:i,position:o,pyramidLevel:r,useTransposedTile:n}=t,s=e.pixels[0].length/e.width/e.height;if(!(!e.mask||e.mask[o]))return{location:i,value:null};const{multidimensionalInfo:l}=this.rasterInfo;if(null==l||!n){const t=e.pixels.map((e=>e[o])),n={location:i,value:t,pyramidLevel:r},s=this._computeMagDirValues(t.map((e=>[e])));return s?.length&&(n.magdirValue=s.map((e=>e[0]))),n}let a=e.pixels.map((e=>e.slice(o*s,o*s+s))),c=this._computeMagDirValues(a);const{requestSomeSlices:f,identifyOptions:m}=t;let u=(0,multidimensionalUtils/* createSlices */.QW)(l,m.transposedVariableName);if(f){const e=(0,multidimensionalUtils/* getSliceIds */.xx)(u,m.multidimensionalDefinition,m.timeExtent);a=a.map((t=>e.map((e=>t[e])))),c=c?.map((t=>e.map((e=>t[e])))),u=e.map((e=>u[e]))}const h=e.noDataValues||this.rasterInfo.noDataValue,p={pixels:a,pixelType:e.pixelType};let x;null!=h&&((0,pixelRangeUtils/* convertNoDataToMask */.Sp)(p,h),x=p.mask);return{location:i,value:null,dataSeries:u.map(((e,t)=>{const i={value:0===x?.[t]?null:a.map((e=>e[t])),multidimensionalDefinition:e.multidimensionalDefinition.map((e=>new DimensionalDefinition/* default */.A({...e,isSlice:!0})))};return c?.length&&(i.magdirValue=[c[0][t],c[1][t]]),i})),pyramidLevel:r}}};function X(e,t,i){return Math.abs(e.x-t.x)<i&&Math.abs(e.y-t.y)<i}(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_rasterTileAlignmentInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_tileFetchQueue",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"_isGlobalWrappableSource",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"_hasNoneOrGCSShiftTransform",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_openPromise",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"rasterJobHandler",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"rasterId",null),(0,tslib_es6._)([(0,property/* property */.MZ)(commonProperties/* url */.OZ)],$.prototype,"url",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],$.prototype,"datasetName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],$.prototype,"datasetFormat",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"hasUniqueSourceStorageInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"rasterInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"ioConfig",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"sourceJSON",void 0),$=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterDatasets.BaseRaster")],$);


/***/ }),

/***/ 70624:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62991);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(65648);
/* harmony import */ var _BaseRaster_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(84605);
/* harmony import */ var _rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(50014);
/* harmony import */ var _rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(86924);
/* harmony import */ var _rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(47425);
/* harmony import */ var _rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(74704);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const p=40;let m=class extends _BaseRaster_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A{constructor(){super(...arguments),this.datasetFormat="Function",this.tileType="Raster",this.rasterFunction=null,this._clippingGeometry=new Map}async fetchPixels(t,e,r,s={}){const{rasters:i,rasterIds:o}=this.primaryRasters;let l=!1;const{interpolation:c}=s,p=this.rasterFunction.flatWebGLFunctionChain?.hasFocalFunction;!s.requestRawData&&p&&(l=1===i.length&&!s.skipRasterFunction,s={...s,interpolation:"bilinear",requestRawData:l});const m=i.map((i=>i.fetchPixels(t,e,r,s))),u=await Promise.all(m),h=u.map((t=>t.pixelBlock)),f=l||s.requestRawData?u.map((t=>t.srcTilePixelSize)):null;if(s.skipRasterFunction||h.every((t=>null==t)))return u[0];const d=u.find((t=>null!=t.pixelBlock))?.extent??t;let y=this.rasterJobHandler?await this.rasterJobHandler.process({extent:d,primaryPixelBlocks:h,primaryPixelSizes:f,primaryRasterIds:o}):this.rasterFunction.process({extent:d,primaryPixelBlocks:h,primaryPixelSizes:f,primaryRasterIds:o});const{transformGrid:g}=u[0];if(!l||null==y||null==g){const t=s.noClip?null:this.getClippingGeometry(d.spatialReference);return s.noClip||s.requestRawData||null==y||!t||(y=await (0,_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .clip */ .$Q)(y,d,t)),{...u[0],pixelBlock:y}}const x={rows:g.spacing[0],cols:g.spacing[1]};let R;if(this.rasterJobHandler){R=(await this.rasterJobHandler.mosaicAndTransform({srcPixelBlocks:[y],srcMosaicSize:{width:y.width,height:y.height},destDimension:{width:e,height:r},coefs:g.coefficients,sampleSpacing:x,projectDirections:!1,gcsGrid:null,isUV:!1,interpolation:c,alignmentInfo:void 0,blockWidths:null},s)).pixelBlock}else R=(0,_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .approximateTransform */ .$i)(y,{width:e,height:r},g.coefficients,x,c);const w=s.noClip?null:this.getClippingGeometry(t.spatialReference);return s.noClip||s.requestRawData||null==R||null==w||(R=await (0,_rasterFunctions_clipUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .clip */ .$Q)(R,t,w)),{extent:t,srcExtent:u[0].srcExtent,pixelBlock:R}}getClippingGeometry(t){const e=this._clippingGeometry.get("0");if(!t||!e)return e;const r=h(t);let s=this._clippingGeometry.get(r);return null!=s||(s=t.equals(e.spatialReference)?e:(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_11__/* .projectPolygon */ .uk)(e,t),this._clippingGeometry.set(r,s)),s}async _open(t){const{rasterFunction:r}=this;r.isRoot=!0,this.primaryRasters?.rasters?.length?r.sourceRasters=this.primaryRasters.rasters:(this.primaryRasters=r.getPrimaryRasters(),this.rasterJobHandler&&this.primaryRasters.rasters?.forEach((t=>t.rasterJobHandler=this.rasterJobHandler)));const{rasters:s,rasterIds:i}=this.primaryRasters,o=s.map((e=>e.rasterInfo?void 0:e.open(t)));await Promise.all(o);const a=s.map((({rasterInfo:t})=>t)),n=r.bind({rasterInfos:a,rasterIds:i});if(r.rawSourceRasterInfos=a,!n.success||0===a.length)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A("raster-function:open",`cannot bind the function: ${n.error??""}`);const l="Table"===r.functionName?r:r.functionArguments?.raster;"Table"===l?.functionName&&(r.rasterInfo.attributeTable=_rest_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A.fromJSON(l.functionArguments.attributeTableAsRecordSet)),await this.syncJobHandler();const p=a[0];this.hasUniqueSourceStorageInfo=1===a.length||a.slice(1).every((t=>u(t,p))),this.set("sourceJSON",s[0].sourceJSON),this.set("rasterInfo",r.rasterInfo),await this._updateClipGeometry()}async syncJobHandler(){return this.rasterJobHandler?.updateRasterFunction(this.rasterFunction)}async _updateClipGeometry(){const t=this.rasterFunction.getClippingGeometries()[0];let e=t?.clippingGeometry;if(e&&"inside"===t.clippingType){const{extent:t}=this.rasterInfo,r=await __webpack_require__.e(/* import() */ 1878).then(__webpack_require__.bind(__webpack_require__, 1878)),s=await __webpack_require__.e(/* import() */ 16485).then(__webpack_require__.bind(__webpack_require__, 16485));let o=r.execute(_geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A.fromExtent(t),2*(t.width+t.height)/p);o=(0,_rasterFunctions_rasterProjectionHelper_js__WEBPACK_IMPORTED_MODULE_11__/* .projectPolygon */ .uk)(o,e.spatialReference),e=s.execute(o,e)}this._clippingGeometry.clear(),e&&this._clippingGeometry.set("0",e)}};function u(t,e){const{storageInfo:r,pixelSize:s,spatialReference:i,extent:o}=t,{storageInfo:a,pixelSize:n,spatialReference:l,extent:c}=e;return s.x===n.x&&s.y===n.y&&i.equals(l)&&o.equals(c)&&r.blockHeight===a.blockHeight&&r.blockWidth===a.blockWidth&&r.maximumPyramidLevel===a.maximumPyramidLevel}function h(t){return String(t.wkid??t.wkt??t.wkt2)}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:String,json:{write:!0}})],m.prototype,"datasetFormat",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],m.prototype,"tileType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],m.prototype,"rasterFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],m.prototype,"primaryRasters",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.layers.support.rasterDatasets.FunctionRaster")],m);


/***/ }),

/***/ 26554:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   w: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function r(r,t){let n=0,o="",e=0,f=0;const c=r.length;for(;n<c;)f=r[n++],e=f>>4,e<8?e=1:15===e?(e=4,f=(7&f)<<18|(63&r[n++])<<12|(63&r[n++])<<6|63&r[n++]):14===e?(e=3,f=(15&f)<<12|(63&r[n++])<<6|63&r[n++]):(e=2,f=(31&f)<<6|63&r[n++]),(0!==f||t)&&(o+=String.fromCharCode(f));return o}


/***/ }),

/***/ 97776:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ t),
/* harmony export */   q: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function r(r){return"Function"===r?.datasetFormat}function t(t){return r(t)?t.primaryRasters.rasters:[t]}


/***/ }),

/***/ 6549:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $E: () => (/* binding */ w),
/* harmony export */   DY: () => (/* binding */ g),
/* harmony export */   NG: () => (/* binding */ N),
/* harmony export */   QW: () => (/* binding */ i),
/* harmony export */   Rp: () => (/* binding */ m),
/* harmony export */   XU: () => (/* binding */ f),
/* harmony export */   Xg: () => (/* binding */ D),
/* harmony export */   ct: () => (/* binding */ d),
/* harmony export */   fy: () => (/* binding */ h),
/* harmony export */   xx: () => (/* binding */ a),
/* harmony export */   z2: () => (/* binding */ v)
/* harmony export */ });
/* unused harmony exports getTimeDimensionValues, hasExcludedVariableOrDimension */
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3223);
/* harmony import */ var _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(74088);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(e,n,i){const a=n.shift();if(0===i.length){const e=[];i.push({sliceId:-1,multidimensionalDefinition:e})}const s=i.length;for(let t=0;t<s;t++){const n=i.shift().multidimensionalDefinition;a.values?.forEach((t=>{i.push({sliceId:-1,multidimensionalDefinition:[...n,{variableName:e,dimensionName:a.name,values:[t]}]})}))}n.length&&t(e,n,i)}function i(e,n){const i=[];let a=0;return(n?e.variables.filter((e=>e.name.toLowerCase()===n.toLowerCase())):[...e.variables].sort(((e,n)=>e.name>n.name?1:-1))).forEach((e=>{const n=[],s=[...e.dimensions].sort(((e,n)=>e.name>n.name?-1:1));t(e.name,s,n),n.forEach((e=>{i.push({...e,sliceId:a++})}))})),i}function a(e,n,t){let i=e;if(n&&(n=[...n].sort(((e,n)=>e.dimensionName<n.dimensionName?-1:1))).forEach((({dimensionName:e,values:n,isSlice:t})=>{n.length&&(i=i.filter((i=>{const a=i.multidimensionalDefinition.find((n=>n.dimensionName===e));if(null==a)return!1;const s=a.values[0];return"number"==typeof s?"number"==typeof n[0]?n.includes(s):n.some((e=>e[0]<=s&&e[1]>=s)):"number"==typeof n[0]?n.some((e=>s[0]<=e&&s[1]>=e)):t?n.some((e=>e[0]===s[0]&&e[0]===s[1])):n.some((e=>e[0]>=s[0]&&e[0]<=s[1]||e[1]>=s[0]&&e[1]<=s[1]||e[0]<s[0]&&e[1]>s[1]))})))})),i.length&&null!=t?.start&&null!=t.end){const e=t.start.getTime(),n=t.end.getTime(),a=i[0].multidimensionalDefinition.findIndex((e=>"StdTime"===e.dimensionName));a>-1&&(i=i.filter((t=>{const i=t.multidimensionalDefinition[a].values[0];return e<=i&&n>=i})))}return i.map((e=>e.sliceId))}function s(e,n){return Array.isArray(e)?n[0]===n[1]?e[0]===n[0]||e[1]===n[0]:e[0]>=n[0]&&e[0]<=n[1]&&e[1]>=n[0]&&e[1]<=n[1]:e>=n[0]&&e<=n[1]}function l(e,n){return e[0]<=n[0]&&e[1]>=n[0]||e[0]<=n[1]&&e[1]>=n[1]||e[0]>=n[0]&&e[1]<=n[1]}function r(e){return 1===e.length?[e[0],e[0]]:[e[0],e[e.length-1]]}function u(e,n,t){if(!n?.subsetDefinitions?.length)return e;let i;if(t){const{variables:a}=n;if(a.length&&!a.includes(t))return null;const s=n.subsetDefinitions.find((n=>n.dimensionName===e.name&&n.variableName===t));if(!s?.values?.length)return e;i=r(s.values)}else{const t=n.dimensions.find((({name:n})=>n===e.name));i=t?.extent}const a=i;if(!a?.length)return e;const l=e.values.filter((e=>s(e,a)));return{...e,extent:[...a],values:l}}function o(e,n,t){if(!n?.subsetDefinitions?.length)return!1;const{variables:i}=n;if(i.length&&e.some((({variableName:e})=>e&&!i.includes(e))))return!0;for(let a=0;a<e.length;a++){const i=e[a],u=n.subsetDefinitions.find((e=>(""===i.variableName||e.variableName===i.variableName)&&e.dimensionName===i.dimensionName));if(u?.values.length){const e=r(u.values);if(!i.isSlice&&2===i.values.length&&!Array.isArray(i.values[0])&&i.values[0]!==i.values[1]&&t){if(!l(i.values,e))return!0}else if(i.values.some((n=>!s(n,e))))return!0}}return!1}function m(e,n){if(null==e)return{isOutside:!1};const{geometry:t,timeExtent:i,multidimensionalDefinition:a}=n;let s=null;if(null!=i&&(s=c(e,i),null==s))return{isOutside:!0};const{areaOfInterest:l}=e;if(l&&t){const e="point"===t.type?t:"extent"===t.type?t.center:"polygon"===t.type?t.centroid:null;if(e&&!l.contains(e))return{isOutside:!0}}return null!=a&&a.length&&o(a,e,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:t,timeExtent:s,multidimensionalDefinition:a}}}function c(e,t){const i=e.dimensions.find((({name:e})=>"StdTime"===e));if(null==i||null==t.start&&null==t.end)return t;t=t.clone();const{start:a,end:s}=t.toJSON(),l=a===s?[a]:null!=a&&null!=s?[a,s]:[a??s];if(2===l.length&&i?.extent.length&&(l[0]=Math.max(l[0],i.extent[0]),l[1]=Math.min(l[1],i.extent[1]??i.extent[0]),l[1]<l[0]))return null;return o([new _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({variableName:"",dimensionName:"StdTime",isSlice:1===l.length,values:l})],e,!0)?null:(t.start=new Date(l[0]),t.end=new Date(l[1]??l[0]),t)}function f(e){const{rasterInfo:n,multidimensionalSubset:t}=e,{multidimensionalInfo:i}=n;if(null==i)return null;let a=e.multidimensionalDefinition?.length?e.multidimensionalDefinition:h(n,{multidimensionalSubset:t});if(!a?.length)return null;if(a.some((e=>!e.dimensionName))){const{variableName:e}=a[0],i=h(n,{multidimensionalSubset:t,variableName:e});i?.forEach((e=>{const n=a?.find((({dimensionName:n})=>n===e.dimensionName));n?.values?.length&&(e.values=n.values,e.isSlice=n.isSlice)})),a=i}const{timeExtent:s}=e;if(null!=a&&null!=s&&(null!=s.start||null!=s.end)){a=a.map((e=>e.clone()));const e=i.variables.find((({name:e})=>e===a[0].variableName))?.dimensions?.find((({name:e})=>"StdTime"===e)),n=a.find((({dimensionName:e})=>"StdTime"===e));if(!e||!n)return null;const{start:t,end:l}=s,r=null==t?null:t.getTime(),u=null==l?null:l.getTime(),o=r??u,m=u??r;if(null!=e.values){const t=e.values.filter((e=>{if(Array.isArray(e)){if(o===m)return e[0]<=o&&e[1]>=o;const n=e[0]<=o&&e[1]>o||e[0]<m&&e[1]>=m,t=e[0]>=o&&e[1]<=m||e[0]<o&&e[1]>m;return n||t}return o===m?e===o:e>=o&&e<=m}));if(t.length){const e=t.sort(((e,n)=>{const t=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:e,a=Array.isArray(n)?n[0]:n,s=Array.isArray(n)?n[1]:n;if(o===m)return t-a;return Math.abs(i-m)-Math.abs(s-m)}))[0];n.values=[e]}else a=null}else if(e.hasRegularIntervals&&e.extent){const[t,i]=e.extent;o>i||m<t?a=null:n.values=o===m?[o]:[Math.max(t,o),Math.min(i,m)]}}return null!=a&&o(a,t)?null:a}function d(e,n={}){const{multidimensionalInfo:t,keyProperties:i}=e;if(null==t)return null;const{variableName:a,multidimensionalSubset:s,multidimensionalDefinition:l}=n,r=null!=l?l[0]?.variableName:null,u=a||r||i?.DefaultVariable;let{variables:o}=t;s?.variables?.length&&(o=o.filter((({name:e})=>s.variables.includes(e))));return u?o.find((({name:e})=>e===u))??o[0]:o[0]}function h(e,t={}){const i=d(e,t);if(!i)return null;const a=[],{dimensions:s,name:l}=i;if(0===s.length)return[new _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({variableName:l,dimensionName:"",values:[],isSlice:!0})];for(let r=0;r<s.length;r++){const e=u(s[r],t.multidimensionalSubset,l);if(!e)return null;const{values:i,extent:o}=e;let m=i?.[0]??o?.[0];"stdz"===e.name.toLowerCase()&&!e.hasRanges&&o&&Math.abs(o[1])<=Math.abs(o[0])&&(m=i?.length?i[i.length-1]:o[1]),a.push(new _DimensionalDefinition_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({variableName:l,dimensionName:e.name,values:[m],isSlice:!t.useRangeForRangedDimensionInfo||!!e.hasRanges}))}return a}function g(e){return!!e?.length&&e.some((e=>{if(null==e.values)return!0;const n=e.values.length;return 0===n||n>1||!e.isSlice&&Array.isArray(e.values[0])}))}function v(n,t){if(null==t||null==n)return null;let i=t.variables.map((e=>({...e})));return n?.variables?.length&&(i=i.filter((({name:e})=>n.variables.includes(e))),i.forEach((t=>{t.dimensions=t.dimensions.map((e=>u(e,n,t.name))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isSome */ .Ru)}))),i}function b(e,n){const{values:t}=n;if(t?.length){const n=Array.isArray(t[0]),i=Array.isArray(e);return n!==i?-1:n&&i?t.findIndex((n=>n[0]===e[0]&&n[1]===e[1])):t.indexOf(e)}const{extent:i}=n;if(Array.isArray(e)||!i||e<i[0]||e>i[1])return-1;const a=n.interval||1;if("ISO8601"!==n.unit)return Math.round((e-i[0])/a);const s=i[0];let l=-1;switch(n.intervalUnit?.toLowerCase()||"days"){case"seconds":l=Math.round((e-s)/1e3/a);break;case"minutes":l=Math.round((e-s)/6e4/a);break;case"hours":l=Math.round((e-s)/36e5/a);break;case"days":l=Math.round((e-s)/864e5/a);break;case"months":{const n=new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear(),t=new Date(s).getUTCMonth(),i=new Date(e).getUTCMonth();l=0===n?i-t:i+11-t+12*(n-1)}break;case"years":l=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/a);break;case"decades":l=Math.round((new Date(e).getUTCFullYear()-new Date(s).getUTCFullYear())/10/a)}return l}function y(e){let n=e.values?.length;if(n)return n;const{extent:t,unit:i}=e,a=e.interval||1,s=t?t[1]-t[0]:0;if("ISO8601"!==i)return Math.round(s/a);switch(e.intervalUnit?.toLowerCase()??"seconds"){case"seconds":n=Math.round(s/1e3/a);break;case"minutes":n=Math.round(s/6e4/a);break;case"hours":n=Math.round(s/36e5/a);break;case"days":n=Math.round(s/864e5/a);break;case"months":if(t){const e=new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear(),i=new Date(t[0]).getUTCMonth(),a=new Date(t[1]).getUTCMonth();n=0===e?a-i+1:a+11-i+12*(e-1)+1}else n=0;break;case"years":n=t?Math.round((new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear())/a):0;break;case"decades":n=t?Math.round((new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear())/10/a):0;break;default:n=0}return n}function D(e){if(2!==e.extent?.length||!e.interval)return[];const{extent:[n,t],interval:i}=e;if("ISO8601"===e.unit){const a=e.intervalUnit?.toLowerCase()??"days";return["decades","years","months","days","hours","minutes","seconds"].includes(a)?T(n,t,i,a):[]}const a=Math.round((t-n)/i);return Array.from({length:a},((e,s)=>s===a-1?t:n+s*i))}function T(e,n,t,i){const a=[];let s=e;const l=new Date(e);for(;s<=n;)switch(a.push(s),i){case"decades":l.setUTCFullYear(l.getUTCFullYear()+10*t),s=l.getTime();break;case"years":l.setUTCFullYear(l.getUTCFullYear()+t),s=l.getTime();break;case"months":l.setUTCMonth(l.getUTCMonth()+t),s=l.getTime();break;case"days":s+=864e5*t;break;case"hours":s+=36e5*t;break;case"minutes":s+=6e4*t;break;case"seconds":s+=1e3*t}return 1===a.length?a[1]=n:a[a.length-1]=n,a}function N(e,n){let t=0;const i=e[0].variableName,a=[...n.variables].sort(((e,n)=>e.name>n.name?1:-1));for(let s=0;s<a.length;s++){const n=a[s],l=[...n.dimensions].sort(((e,n)=>e.name>n.name?-1:1));if(n.name!==i){t+=l.map((e=>y(e))).reduce(((e,n)=>e*n));continue}const r=l.map((e=>y(e))),u=l.length;for(let i=0;i<u;i++){const n=e.find((e=>e.dimensionName===l[i].name));if(null==n)return null;const a=b(n.values[0],l[i]);if(-1===a)return null;r.shift(),t+=i===u-1?a:a*r.reduce(((e,n)=>e*n))}break}return t}function w(e){return Math.round(24*(e-25569)*3600*1e3)}


/***/ }),

/***/ 49982:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dy: () => (/* binding */ l),
/* harmony export */   IC: () => (/* binding */ n),
/* harmony export */   Ui: () => (/* binding */ u),
/* harmony export */   V6: () => (/* binding */ e),
/* harmony export */   g7: () => (/* binding */ i),
/* harmony export */   mX: () => (/* binding */ t),
/* harmony export */   pN: () => (/* binding */ r),
/* harmony export */   v7: () => (/* binding */ o),
/* harmony export */   vv: () => (/* binding */ c)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(e,t){if(!e||!t)return[];let l=t;t.includes("/")?(l=t.slice(0,t.indexOf("/")),t=t.slice(t.indexOf("/")+1)):t="";const r=[];if(t){const u=n(e,l);for(let e=0;e<u.length;e++){n(u[e],t).forEach((n=>r.push(n)))}return r}const u=e.getElementsByTagNameNS("*",l);if(!u||0===u.length)return[];for(let n=0;n<u.length;n++)r.push(u[n]||u.item(n));return r}function e(t,l){if(!t||!l)return null;let r=l;l.includes("/")?(r=l.slice(0,l.indexOf("/")),l=l.slice(l.indexOf("/")+1)):l="";const u=n(t,r);return u.length>0?l?e(u[0],l):u[0]:null}function t(n,t=null){const l=t?e(n,t):n;let r;return l?(r=l.textContent||l.nodeValue,r?r.trim():null):null}function l(e,t){const l=n(e,t),r=[];let u;for(let n=0;n<l.length;n++)u=l[n].textContent||l[n].nodeValue,u&&(u=u.trim(),""!==u&&r.push(u));return r}function r(n,e=null){const l=t(n,e);return l?.split(" ").map((n=>Number(n)))??[]}function u(n,e){return l(n,e).map((n=>Number(n)))}function o(n,e){const l=t(n,e);return Number(l)}function i(n,e){const t=n?.nodeName?.toLowerCase(),l=e.toLowerCase();return t.slice(t.lastIndexOf(":")+1)===l}function c(n){return n.nodeName.slice(n.nodeName.lastIndexOf(":")+1)}


/***/ }),

/***/ 33673:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SZ: () => (/* binding */ a),
/* harmony export */   e8: () => (/* binding */ n),
/* harmony export */   hm: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1817);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const a=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),i=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"}),n=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"});


/***/ }),

/***/ 12782:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AL: () => (/* binding */ p),
/* harmony export */   DV: () => (/* binding */ d),
/* harmony export */   ER: () => (/* binding */ n),
/* harmony export */   F_: () => (/* binding */ t),
/* harmony export */   Nd: () => (/* binding */ m),
/* harmony export */   Oo: () => (/* binding */ a),
/* harmony export */   dy: () => (/* binding */ c),
/* harmony export */   eS: () => (/* binding */ V),
/* harmony export */   h4: () => (/* binding */ b),
/* harmony export */   jC: () => (/* binding */ v),
/* harmony export */   nq: () => (/* binding */ f),
/* harmony export */   rZ: () => (/* binding */ o),
/* harmony export */   y6: () => (/* binding */ $)
/* harmony export */ });
/* harmony import */ var _Field_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(45352);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n="Raster.",a="Raster.Dim.",i=".Max",t={servicePixelValue:"Raster.ServicePixelValue",rawServicePixelValue:"Raster.ServicePixelValue.Raw",itemPixelValue:"Raster.ItemPixelValue",magnitude:"Raster.Magnitude",direction:"Raster.Direction",variable:"Raster.Variable"},r=new Map([["quarters","Quarter"],["months","Month"],["weeks","Week of the year"],["days","Day of the year"]]);function l(n,a){return new _Field_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({name:n,alias:a,domain:null,editable:!1,length:50,type:"string"})}function s(n,a){return new _Field_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({name:n,alias:a,domain:null,editable:!1,type:"double"})}function u(n,a){return new _Field_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({name:n,alias:a,domain:null,editable:!1,type:"date"})}function o(e){return l(t.servicePixelValue,e??"Service Pixel Value")}function c(e){return l(t.rawServicePixelValue,e??"Raw Service Pixel Value")}function m(){return l(t.itemPixelValue,"Item Pixel Value")}function f(e){return l(`${t.servicePixelValue}.${e}`,e)}function d(e){return s(`${t.magnitude}`,"Magnitude"+(e?` (${e})`:""))}function $(){return s(`${t.direction}`,"Direction (°)")}function v(e){return e.fields.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const a=e.clone();return a.name=`${n}${e.name}`,a}))}function p(e){const n=new Set,r=new Set,o=new Map;e.variables.forEach((({dimensions:e})=>{e.forEach((e=>{if(e.recurring)o.set(e.name,e.unit);else{const a="ISO8601"===e.unit?.trim()?n:r;a.add(e.name),e.hasRanges&&a.add(`${e.name}${i}`)}}))}));return[l(t.variable,"Variable"),...[...n].map((e=>u(`${a}${e}`,x(e)))),...[...r].map((e=>s(`${a}${e}`,x(e)))),...[...o].map((([e,n])=>s(`${a}${e}`,h(e,n))))]}function h(e,n){return n=n?.toLowerCase(),n&&r.has(n)?r.get(n):x(e)}function x(e){const n=e.endsWith(i),a=n?e.slice(0,-4):e,t="StdTime"===a?"Standard Time":"StdZ"===a?"Standard Z":a;return n?`${t} Max`:t}function w(e,n){return n?new Date(e):e}function V(e,n,r){r?.length&&(n[t.variable]=r[0].variableName,r.forEach((({dimensionName:t,values:r})=>{if(t&&r?.length){const l=`${a}${t}`,s=e.find((({name:e})=>e===l));if(!s)return;const u="date"===s.type,o=r[0];if(Array.isArray(o)){if(n[`${a}${t}`]=w(o[0],u),null!=o[1]){const r=`${a}${t}${i}`;if(e.some((({name:e})=>e===r))){const e=w(o[1],u);n[r]=e}}}else n[`${a}${t}`]=w(o,u)}})))}function b(e,n){if(n.pixelType.startsWith("f")&&e.forEach((({format:e,fieldName:n})=>{e&&n&&/^raster\.(item|service)pixelvalue/i.test(n)&&(e.places=2)})),n.multidimensionalInfo){const t=n.multidimensionalInfo.variables.flatMap((({dimensions:e})=>e));e.forEach((({format:e,fieldName:n})=>{if(e&&n?.startsWith(a)){const r=n.slice(a.length),l=`${r}${i}`,s=t.find((({name:e})=>e===r||e===l));s?.values?.every((e=>Number.isInteger(e)))&&(e.places=0)}}))}}


/***/ }),

/***/ 40254:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D4: () => (/* binding */ u),
/* harmony export */   Hh: () => (/* binding */ r)
/* harmony export */ });
/* unused harmony exports getBlobInfo, pixelTypeInfoMap */
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(44764);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let n=null;function r(){return n||(n=__webpack_require__.e(/* import() */ 84967).then(__webpack_require__.bind(__webpack_require__, 84967)).then((e=>e.l)).then((({default:t})=>t({locateFile:t=>(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__/* .getAssetUrl */ .s)(`esri/layers/support/rasterFormats/${t}`)}))).then((e=>{l(e)})),n)}const a={getBlobInfo:null,decode:null};function o(e){return 16+(e>>3<<3)}function s(e,t,n){n.set(e.slice(t,t+n.length))}function l(e){const{_malloc:n,_free:r,_lerc_getBlobInfo:l,_lerc_getDataRanges:i,_lerc_decode_4D:u,asm:f}=e;let c;const h=Object.values(f).find((t=>t&&"buffer"in t&&t.buffer===e.HEAPU8.buffer)),y=e=>{const t=e.map((e=>o(e))),r=t.reduce(((e,t)=>e+t)),a=n(r);c=new Uint8Array(h.buffer);let s=t[0];t[0]=a;for(let n=1;n<t.length;n++){const e=t[n];t[n]=t[n-1]+s,s=e}return t};a.getBlobInfo=e=>{const t=12,n=3,a=new Uint8Array(4*t),o=new Uint8Array(8*n),[u,f,p]=y([e.length,a.length,o.length]);c.set(e,u),c.set(a,f),c.set(o,p);let g=l(u,e.length,f,p,t,n);if(g)throw r(u),new Error(`lerc-getBlobInfo: error code is ${g}`);c=new Uint8Array(h.buffer),s(c,f,a),s(c,p,o);const d=new Uint32Array(a.buffer),b=new Float64Array(o.buffer),[w,A,,m,U,x,C,V,T,D,z]=d,F={version:w,depthCount:D,width:m,height:U,validPixelCount:C,bandCount:x,blobSize:V,maskCount:T,dataType:A,minValue:b[0],maxValue:b[1],maxZerror:b[2],statistics:[],bandCountWithNoData:z};if(z&&D>1)return r(u),F;if(1===D&&1===x)return r(u),F.statistics.push({minValue:b[0],maxValue:b[1]}),F;const I=D*x*8,_=new Uint8Array(I),k=new Uint8Array(I);let B=u,S=0,v=0,E=!1;if(c.byteLength<u+2*I?(r(u),E=!0,[B,S,v]=y([e.length,I,I]),c.set(e,B)):[S,v]=y([I,I]),c.set(_,S),c.set(k,v),g=i(B,e.length,D,x,S,v),g)throw r(B),E||r(S),new Error(`lerc-getDataRanges: error code is ${g}`);c=new Uint8Array(h.buffer),s(c,S,_),s(c,v,k);const O=new Float64Array(_.buffer),$=new Float64Array(k.buffer),j=F.statistics;for(let r=0;r<x;r++)if(D>1){const e=O.slice(r*D,(r+1)*D),t=$.slice(r*D,(r+1)*D),n=Math.min.apply(null,e),a=Math.max.apply(null,t);j.push({minValue:n,maxValue:a,depthStats:{minValues:e,maxValues:t}})}else j.push({minValue:O[r],maxValue:$[r]});return r(B),E||r(S),F},a.decode=(e,n)=>{const{maskCount:a,depthCount:o,bandCount:l,width:i,height:f,dataType:p,bandCountWithNoData:g}=n,d=t[p],b=i*f,w=new Uint8Array(b*l),A=b*o*l*d.size,m=new Uint8Array(A),U=new Uint8Array(l),x=new Uint8Array(8*l),[C,V,T,D,z]=y([e.length,w.length,m.length,U.length,x.length]);c.set(e,C),c.set(w,V),c.set(m,T),c.set(U,D),c.set(x,z);const F=u(C,e.length,a,V,o,i,f,l,p,T,D,z);if(F)throw r(C),new Error(`lerc-decode: error code is ${F}`);c=new Uint8Array(h.buffer),s(c,T,m),s(c,V,w);let I=null;if(g){s(c,D,U),s(c,z,x),I=[];const e=new Float64Array(x.buffer);for(let t=0;t<U.length;t++)I.push(U[t]?e[t]:null)}return r(C),{data:m,maskData:w,noDataValues:I}}}function i(e,t,n,r,a){if(n<2)return e;const o=new r(t*n);for(let s=0,l=0;s<t;s++)for(let r=0,a=s;r<n;r++,a+=t)o[a]=e[l++];return o}function u(e,n={}){const r=n.inputOffset??0,o=e instanceof Uint8Array?e.subarray(r):new Uint8Array(e,r),s=a.getBlobInfo(o),{data:l,maskData:u,noDataValues:f}=a.decode(o,s),{width:c,height:h,bandCount:y,depthCount:p,dataType:g,maskCount:d,statistics:b}=s,w=t[g],A=new w.ctor(l.buffer),m=[],U=[],x=c*h,C=x*p;for(let t=0;t<y;t++){const e=A.subarray(t*C,(t+1)*C);if(n.returnInterleaved)m.push(e);else{const t=i(e,x,p,w.ctor);m.push(t)}U.push(u.subarray(t*C,(t+1)*C))}const V=0===d?null:1===d?U[0]:new Uint8Array(x);if(d>1){V.set(U[0]);for(let e=1;e<U.length;e++){const t=U[e];for(let e=0;e<x;e++)V[e]=V[e]&t[e]}}const{noDataValue:T}=n,D=null!=T&&w.range[0]<=T&&w.range[1]>=T;if(d>0&&D)for(let t=0;t<y;t++){const e=m[t],n=U[t]||V;for(let t=0;t<x;t++)0===n[t]&&(e[t]=T)}const z=d===y&&y>1?U:null,{pixelType:F}=w;return{width:c,height:h,bandCount:y,pixelType:F,depthCount:p,statistics:b,pixels:m,mask:V,bandMasks:z,noDataValues:f}}function f(e,t={}){const n=e instanceof Uint8Array?e.subarray(t.inputOffset??0):new Uint8Array(e,t.inputOffset??0);return a.getBlobInfo(n)}


/***/ }),

/***/ 93399:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ i)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(e,n,t,r=!0){if(n%4!=0||t%4!=0){const i=new ArrayBuffer(4*Math.ceil(t/4)),o=new Uint8Array(i),l=new Uint8Array(e,n,t);if(r)for(let e=0;e<o.length;e+=4)o[e]=l[e+3],o[e+1]=l[e+2],o[e+2]=l[e+1],o[e+3]=l[e];else o.set(l);return new Uint32Array(o.buffer)}if(r){const r=new Uint8Array(e,n,t),i=new Uint8Array(r.length);for(let e=0;e<i.length;e+=4)i[e]=r[e+3],i[e+1]=r[e+2],i[e+2]=r[e+1],i[e+3]=r[e];return new Uint32Array(i.buffer)}return new Uint32Array(e,n,t/4)}function n(){const e=[];for(let n=0;n<=257;n++)e[n]=[n];return e}function t(e,n){for(let t=0;t<n.length;t++)e.push(n[t])}const r=new Set;function i(i,o,l,f=!0){const s=e(i,o,l,f);let a=9,c=n(),u=32,h=c.length,d=[],w=1,g=s[0],y=0;const A=s.length,U=8*(4*A-l),p=[];for(;null!=g;){if(u>=a)u-=a,y=g>>>32-a,g<<=a;else{y=g>>>32-u,g=s[w++];const e=a-u;u=32-e,y=(y<<e)+(g>>>u),g<<=e}if(257===y)break;if(256===y){a=9,c=n(),h=c.length,d=[];continue}const e=c[y];if(null==e){if(y>c.length)throw new Error("data integrity issue: code does not exist on code page");d.push(d[0]),c[h++]=d.slice(),t(p,d)}else t(p,e),d.push(e[0]),d.length>1&&(c[h++]=d.slice()),d=e.slice();if(r.has(h)&&a++,0===u&&(g=s[w++],u=32),w>A||w===A&&u<=U)break}return new Uint8Array(p)}r.add(511),r.add(1023),r.add(2047),r.add(4095),r.add(8191);


/***/ }),

/***/ 73870:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  D: () => (/* binding */ j),
  g: () => (/* binding */ P)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var core_Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(57725);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/PixelBlock.js
var PixelBlock = __webpack_require__(83371);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/SimpleBandStatistics.js
var SimpleBandStatistics = __webpack_require__(11012);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js + 1 modules
var promiseUtils = __webpack_require__(49175);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/Zlib.js
var Zlib = __webpack_require__(79303);
;// ./node_modules/@arcgis/core/layers/support/rasterFormats/ImageCanvasDecoder.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class ImageCanvasDecoder_i{constructor(t){this._canvas=null,this._ctx=null,t&&(this._canvas=t.canvas,this._ctx=t.ctx||t.canvas&&t.canvas.getContext("2d"))}decode(n,s,r){if(!n||n.byteLength<10)throw new core_Error/* default */.A("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:c=0,height:h=0,format:o}=s;const{applyJpegMask:l}=s;if(l&&(!c||!h))throw new core_Error/* default */.A("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise(((t,d)=>{let g=null;"jpg"===o&&l&&(g=ImageCanvasDecoder_i._getMask(n,{width:c,height:h}));const w=new Blob([new Uint8Array(n)],{type:"image/"+o=="jpg"?"jpeg":o}),v=URL.createObjectURL(w),m=new Image;let _;m.src=v,m.onload=()=>{if(URL.revokeObjectURL(v),(0,promiseUtils/* isAborted */.G4)(r))return void d((0,promiseUtils/* createAbortError */.NK)());c=m.width,h=m.height,this._canvas&&this._ctx?(this._canvas.width===c&&this._canvas.height===h||(this._canvas.width=c,this._canvas.height=h),this._ctx.clearRect(0,0,c,h)):(this._canvas=document.createElement("canvas"),this._canvas.width=c,this._canvas.height=h,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(m,0,0);const n=this._ctx.getImageData(0,0,c,h);let i;if(_=n.data,s.renderOnCanvas){if(g)for(i=0;i<g.length;i++)g[i]?_[4*i+3]=255:_[4*i+3]=0;return this._ctx.putImageData(n,0,0),void t(null)}const o=c*h,l=new Uint8Array(o),w=new Uint8Array(o),p=new Uint8Array(o);if(g)for(i=0;i<o;i++)l[i]=_[4*i],w[i]=_[4*i+1],p[i]=_[4*i+2];else for(g=new Uint8Array(o),i=0;i<o;i++)l[i]=_[4*i],w[i]=_[4*i+1],p[i]=_[4*i+2],g[i]=_[4*i+3];t({width:c,height:h,pixels:[l,w,p],mask:g,pixelType:"u8"})},m.onerror=()=>{URL.revokeObjectURL(v),d("cannot load image")}}))}static _getMask(t,e){let a=null;try{const i=new Uint8Array(t),s=Math.ceil(i.length/2);let r=0;const c=i.length-2;for(r=s;r<c&&(255!==i[r]||217!==i[r+1]);r++);if(r+=2,r<i.length-1){const t=new Zlib.Z(i.subarray(r)).getBytes();a=new Uint8Array(e.width*e.height);let s=0;for(let e=0;e<t.length;e++)for(let n=7;n>=0;n--)a[s++]=t[e]>>n&1}}catch(i){}return a}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/Jpg.js
var Jpg = __webpack_require__(27355);
;// ./node_modules/@arcgis/core/layers/support/rasterFormats/JpgPlus.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{static decode(r,n=!1){const s=new Uint8Array(r),o=new Jpg.J;o.parse(s);const{width:a,height:i,numComponents:f,eof:h}=o,l=o.getData(a,i,!0),c=a*i;let u,g=null,p=0,w=0,m=0;if(!n&&h<s.length-1)try{const t=new Zlib.Z(s.subarray(h)).getBytes();g=new Uint8Array(c);let r=0;for(p=0;p<t.length;p++)for(m=7;m>=0;m--)g[r++]=t[p]>>m&1}catch{}if(1===f&&l.length===a*i){const t=new Uint8Array(l.buffer);u=[t,t,t]}else{for(u=[],p=0;p<3;p++)u.push(new Uint8Array(c));for(m=0,w=0;w<c;w++)for(p=0;p<3;p++)u[p][w]=l[m++]}return{width:a,height:i,pixels:u,mask:g}}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/Lerc.js
var Lerc = __webpack_require__(40254);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/Lzw.js
var Lzw = __webpack_require__(93399);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js
var pixelRangeUtils = __webpack_require__(6246);
;// ./node_modules/@arcgis/core/layers/support/rasterFormats/Raw.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e=(e,r)=>{const a=r.width*r.height,n=r.pixelType;return Math.floor(e.byteLength/(a*t(n)))},t=e=>{let t=1;switch(e){case Uint8Array:case Int8Array:t=1;break;case Uint16Array:case Int16Array:t=2;break;case Uint32Array:case Int32Array:case Float32Array:t=4;break;case Float64Array:t=8}return t},Raw_r=(e,t)=>{if(8*e.byteLength<t)return null;const r=new Uint8Array(e,0,Math.ceil(t/8)),a=new Uint8Array(t);let n=0,s=0,l=0,i=0;for(l=0;l<r.length-1;l++)for(s=r[l],i=7;i>=0;i--)a[n++]=s>>i&1;for(i=7;n<t-1;)s=r[r.length-1],a[n++]=s>>i&1,i--;return a};class a{static decode(a,n){const s=n.pixelType,l=[],i=n.width*n.height,h=e(a,n),{bandIds:c,format:y}=n,o=c?.length||e(a,n),b=a.byteLength-a.byteLength%(i*t(s)),f=new s(a,0,i*h);let u,g,A,p,d=null;if("bip"===y)for(u=0;u<o;u++){for(A=new s(i),p=c?c[u]:u,g=0;g<i;g++)A[g]=f[g*h+p];l.push(A)}else if("bsq"===y)for(u=0;u<o;u++)p=c?c[u]:u,l.push(f.subarray(p*i,(p+1)*i));return b<a.byteLength-1&&(d=Raw_r(a.slice(b),i)),{pixels:l,mask:d}}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/TiffDecoder.js
var TiffDecoder = __webpack_require__(20417);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/utils.js
var utils = __webpack_require__(53965);
;// ./node_modules/@arcgis/core/layers/support/rasterFormats/RasterCodec.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var m=function(t){var e,a,i,s,r,n;function o(t){var e,a,i,s,r,n,o,h,c,l,p,d,u;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},r=null;;){switch(e=this.readUInt32(),h=function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join(""),h){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":r&&this.animation.frames.push(r),this.pos+=4,r={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),i=this.readUInt16()||100,r.delay=1e3*s/i,r.disposeOp=this.data[this.pos++],r.blendOp=this.data[this.pos++],r.data=[];break;case"IDAT":case"fdAT":for("fdAT"===h&&(this.pos+=4,e-=4),t=(null!=r?r.data:void 0)||this.imgData,p=0;0<=e?p<e:p>e;0<=e?++p:--p)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(e),(c=255-this.transparency.indexed.length)>0)for(d=0;0<=c?d<c:d>c;0<=c?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":n=(l=this.read(e)).indexOf(0),o=String.fromCharCode.apply(String,l.slice(0,n)),this.text[o]=String.fromCharCode.apply(String,l.slice(n+1));break;case"IEND":return r&&this.animation.frames.push(r),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(u=this.colorType)||6===u,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return o.load=function(t,e,a){var i;return"function"==typeof e&&(a=e),(i=new XMLHttpRequest).open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t;return t=new o(new Uint8Array(i.response||i.mozResponseArrayBuffer)),"function"==typeof(null!=e?e.getContext:void 0)&&t.render(e),"function"==typeof a?a(t):void 0},i.send(null)},a=1,i=2,e=0,o.prototype.read=function(t){var e,a;for(a=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)a.push(this.data[this.pos++]);return a},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(t){var e,a,i,s,r,n,o,h,c,p,d,u,f,m,g,w,y,x,b,k,T,I,A;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=(t=new Zlib.Z(t)).getBytes(),w=(u=this.pixelBitlength/8)*this.width,f=new Uint8Array(w*this.height),n=t.length,g=0,m=0,a=0;m<n;){switch(t[m++]){case 0:for(s=b=0;b<w;s=b+=1)f[a++]=t[m++];break;case 1:for(s=k=0;k<w;s=k+=1)e=t[m++],r=s<u?0:f[a-u],f[a++]=(e+r)%256;break;case 2:for(s=T=0;T<w;s=T+=1)e=t[m++],i=(s-s%u)/u,y=g&&f[(g-1)*w+i*u+s%u],f[a++]=(y+e)%256;break;case 3:for(s=I=0;I<w;s=I+=1)e=t[m++],i=(s-s%u)/u,r=s<u?0:f[a-u],y=g&&f[(g-1)*w+i*u+s%u],f[a++]=(e+Math.floor((r+y)/2))%256;break;case 4:for(s=A=0;A<w;s=A+=1)e=t[m++],i=(s-s%u)/u,r=s<u?0:f[a-u],0===g?y=x=0:(y=f[(g-1)*w+i*u+s%u],x=i&&f[(g-1)*w+(i-1)*u+s%u]),o=r+y-x,h=Math.abs(o-r),p=Math.abs(o-y),d=Math.abs(o-x),c=h<=p&&h<=d?r:p<=d?y:x,f[a++]=(e+c)%256;break;default:throw new Error("Invalid filter algorithm: "+t[m-1])}g++}return f},o.prototype.decodePalette=function(){var t,e,a,i,s,r,n,o,h;for(a=this.palette,r=this.transparency.indexed||[],s=new Uint8Array((r.length||0)+a.length),i=0,a.length,t=0,e=n=0,o=a.length;n<o;e=n+=3)s[i++]=a[e],s[i++]=a[e+1],s[i++]=a[e+2],s[i++]=null!=(h=r[t++])?h:255;return s},o.prototype.copyToImageData=function(t,e){var a,i,s,r,n,o,h,c,l,p,d;if(i=this.colors,l=null,a=this.hasAlphaChannel,this.palette.length&&(l=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),i=4,a=!0),c=(s=t.data||t).length,n=l||e,r=o=0,1===i)for(;r<c;)h=l?4*e[r/4]:o,p=n[h++],s[r++]=p,s[r++]=p,s[r++]=p,s[r++]=a?n[h++]:this.transparency.grayscale&&this.transparency.grayscale===p?0:255,o=h;else for(;r<c;)h=l?4*e[r/4]:o,s[r++]=n[h++],s[r++]=n[h++],s[r++]=n[h++],s[r++]=a?n[h++]:this.transparency.rgb&&this.transparency.rgb[1]===n[h-3]&&this.transparency.rgb[3]===n[h-2]&&this.transparency.rgb[5]===n[h-1]?0:255,o=h},o.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t},r=t.document&&t.document.createElement("canvas"),n=r&&r.getContext("2d"),s=function(t){var e;return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(e=new Image).src=r.toDataURL(),e},o.prototype.decodeFrames=function(t){var e,a,i,r,n,o,h,c;if(this.animation){for(c=[],a=n=0,o=(h=this.animation.frames).length;n<o;a=++n)e=h[a],i=t.createImageData(e.width,e.height),r=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(i,r),e.imageData=i,c.push(e.image=s(i));return c}},o.prototype.renderFrame=function(t,s){var r,n,o;return r=(n=this.animation.frames)[s],o=n[s-1],0===s&&t.clearRect(0,0,this.width,this.height),(null!=o?o.disposeOp:void 0)===a?t.clearRect(o.xOffset,o.yOffset,o.width,o.height):(null!=o?o.disposeOp:void 0)===i&&t.putImageData(o.imageData,o.xOffset,o.yOffset),r.blendOp===e&&t.clearRect(r.xOffset,r.yOffset,r.width,r.height),t.drawImage(r.image,r.xOffset,r.yOffset)},o.prototype.animate=function(t){var e,a,i,s,r,n,o=this;return a=0,n=this.animation,s=n.numFrames,i=n.frames,r=n.numPlays,(e=function(){var n,h;if(n=a++%s,h=i[n],o.renderFrame(t,n),s>1&&a/s<r)return o.animation._timeout=setTimeout(e,h.delay)})()},o.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},o.prototype.render=function(t){var e,a;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(a=e.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),e.putImageData(a,0,0))},o}(self);const g=new Set(["jpg","png","bmp","gif"]);async function w(e,s){if(!utils/* isPlatformLittleEndian */.Z)throw new core_Error/* default */.A("rasterCoded:decode","lerc decoder is not supported on big endian platform");await (0,Lerc/* load */.Hh)();const{offset:r}=s,{width:h,height:c,pixelType:l,statistics:p,depthCount:d,noDataValues:u,bandMasks:m,pixels:g,mask:w}=(0,Lerc/* decode */.D4)(e,{inputOffset:r,returnInterleaved:s.returnInterleaved}),y=new PixelBlock/* default */.A({width:h,height:c,pixelType:l.toLowerCase(),pixels:g,mask:w,statistics:p.map((({minValue:t,maxValue:e})=>new SimpleBandStatistics/* SimpleBandStatistics */.z(t,e))),bandMasks:m,depthCount:d,noDataValues:u});return p?.length||y.updateStatistics(),y}async function y(t,i){const s=await (0,TiffDecoder/* decode */.D4)(t,{...i,noDataValue:i.tiffNoDataValue,matchAllNoData:i.matchAllNoData});(0,maybe/* assertIsSome */.Lw)(s);const r=new PixelBlock/* default */.A({width:s.width,height:s.height,pixels:s.pixels,pixelType:s.pixelType.toLowerCase(),mask:s.mask,bandMasks:s.bandMasks,statistics:null});return r.updateStatistics(),r}async function x(t,e){const i=await (0,TiffDecoder/* decodeTileOrStrip */.s$)(t,e.customOptions),s=new PixelBlock/* default */.A({width:i.width,height:i.height,pixels:i.pixels,pixelType:i.pixelType.toLowerCase(),mask:i.mask,statistics:null});return s.updateStatistics(),s}function b(t,e){const i=e.pixelType||"u8",s=PixelBlock/* default */.A.getPixelArrayConstructor(i),r="u8"===i?t:new s(t.buffer),n=[],o=e.planes||1;if(1===o)n.push(r);else for(let a=0;a<o;a++){const i=(e.width||1)*(e.height||t.length),h=new s(i);for(let t=0;t<i;t++)h[t]=r[t*o+a];n.push(h)}const h=new PixelBlock/* default */.A({width:e.width||1,height:e.height||t.length,pixels:n,pixelType:i,statistics:null});return h.updateStatistics(),h}function k(t,e){return b(new Zlib.Z(new Uint8Array(t)).getBytes(),e)}function T(t,e){return b((0,Lzw/* decode */.D)(t,e.offset,e.eof,!e.isInputBigEndian),e)}function I(t,e,i){const{pixelTypeCtor:s}=S(e.pixelType),r=(0,a.decode)(t,{width:e.width,height:e.height,pixelType:s,format:i}),n=new PixelBlock/* default */.A({width:e.width,height:e.height,pixels:r.pixels,pixelType:e.pixelType,mask:r.mask,statistics:null});return n.updateStatistics(),n}function A(t,e){const i=r.decode(t,e.hasNoZlibMask??void 0),s=new PixelBlock/* default */.A({width:i.width,height:i.height,pixels:i.pixels,pixelType:"u8",mask:i.mask,statistics:null});return s.updateStatistics(),s}function C(t,e){const i=new Uint8Array(t),s=new m(i),{width:r,height:n}=e,o=r*n,h=s.decode();let c,l=0,p=0;const d=new Uint8Array(o);for(l=0;l<o;l++)d[l]=h[4*l+3];const u=new PixelBlock/* default */.A({width:r,height:n,pixels:[],pixelType:"u8",mask:d,statistics:[]});for(l=0;l<3;l++){for(c=new Uint8Array(o),p=0;p<o;p++)c[p]=h[4*p+l];u.addData({pixels:c})}return u.updateStatistics(),u}async function v(t,e,i,r){const n=new ImageCanvasDecoder_i,o={applyJpegMask:!1,format:e,...i},h=await n.decode(t,o,r),c=new PixelBlock/* default */.A(h);return c.updateStatistics(),c}function D(e){if(null==e)throw new core_Error/* default */.A("rasterCodec:decode","parameter encodeddata is required.");const a=new Uint8Array(e,0,10);let i="";return 255===a[0]&&216===a[1]?i="jpg":137===a[0]&&80===a[1]&&78===a[2]&&71===a[3]?i="png":67===a[0]&&110===a[1]&&116===a[2]&&90===a[3]&&73===a[4]&&109===a[5]&&97===a[6]&&103===a[7]&&101===a[8]&&32===a[9]?i="lerc":76===a[0]&&101===a[1]&&114===a[2]&&99===a[3]&&50===a[4]&&32===a[5]?i="lerc2":73===a[0]&&73===a[1]&&42===a[2]&&0===a[3]||77===a[0]&&77===a[1]&&0===a[2]&&42===a[3]||73===a[0]&&73===a[1]&&43===a[2]&&0===a[3]||77===a[0]&&77===a[1]&&0===a[2]&&43===a[3]?i="tiff":71===a[0]&&73===a[1]&&70===a[2]?i="gif":66===a[0]&&77===a[1]?i="bmp":String.fromCharCode.apply(null,a).toLowerCase().includes("error")&&(i="error"),i}function U(e){let a=null;switch(e){case"lerc":case"lerc2":a=w;break;case"jpg":a=A;break;case"png":a=C;break;case"bsq":case"bip":a=(t,a)=>I(t,a,e);break;case"tiff":a=y;break;case"deflate":a=k;break;case"lzw":a=T;break;case"error":a=()=>{throw new core_Error/* default */.A("rasterCodec:decode","input data contains error")};break;default:a=()=>{throw new core_Error/* default */.A("rasterCodec:decode","unsupported raster format")}}return a}function S(t){let e=null,a=null;switch(t?t.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":a=255,e=Uint8Array;break;case"u16":a=a||65535,e=Uint16Array;break;case"u32":a=a||2**32-1,e=Uint32Array;break;case"s8":a=a||-128,e=Int8Array;break;case"s16":a=a||-32768,e=Int16Array;break;case"s32":a=a||0-2**31,e=Int32Array;break;default:e=Float32Array}return{pixelTypeCtor:e,noDataValue:a}}function O(t,e=1){if(!t)return;const{pixels:i,width:s,height:r,mask:n}=t;if(!i||0===i.length)return;const o=i.length,h=s-1,c=r-1,l=[];let p,d,u,f,m,g,w=null;const y=PixelBlock/* default */.A.getPixelArrayConstructor(t.pixelType);if(0===e){for(p=0;p<o;p++){for(m=i[p],g=new y(h*c),d=0;d<c;d++)for(f=d*s,u=0;u<h;u++)g[d*h+u]=m[f+u];l.push(g)}if(null!=n)for(w=new Uint8Array(h*c),d=0;d<c;d++)for(f=d*s,u=0;u<h;u++)w[d*h+u]=n[f+u]}else{for(p=0;p<o;p++){for(m=i[p],g=new y(h*c),d=0;d<c;d++)for(f=d*s,u=0;u<h;u++)g[d*h+u]=(m[f+u]+m[f+u+1]+m[f+s+u]+m[f+s+u+1])/4;l.push(g)}if(n)for(w=new Uint8Array(h*c),d=0;d<c;d++)for(f=d*s,u=0;u<h;u++)w[d*h+u]=Math.min.apply(null,[n[f+u],n[f+u+1],n[f+s+u],n[f+s+u+1]])}t.width=h,t.height=c,t.mask=w,t.pixels=l}function P(t){let e=D(t);return"lerc2"===e?e="lerc":"error"===e&&(e=""),e}async function j(e,i={},s){if(null==e)throw new core_Error/* default */.A("rasterCodec:decode","missing encodeddata parameter.");let r=i.format?.toLowerCase();if(!("bsq"!==r&&"bip"!==r||null!=i.width&&null!=i.height))throw new core_Error/* default */.A("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===r&&i.customOptions)return x(e,i);if((!r||"bsq"!==r&&"bip"!==r&&"deflate"!==r&&"lzw"!==r)&&(r=D(e)),i.useCanvas&&g.has(r))return v(e,r,i,s);const n=U(r);let o;i.isPoint&&(null!=(i={...i}).width&&i.width++,null!=i.height&&i.height++);const{offsets:h}=i;if(h&&h.length>1){const t=h.map(((t,a)=>n(e.slice(t,h[a+1]),i))),s=await Promise.all(t);o=s[0],o.pixels=s.map((t=>t.pixels[0]));const r=s.map((t=>t.mask));s.some((t=>null!=t))&&(r.forEach(((t,e)=>{null==t&&(r[e]=new Uint8Array(o.width*o.height).fill(255))})),o.bandMasks=r,o.mask=PixelBlock/* default */.A.combineBandMasks(r)),o.updateStatistics()}else o=await n(e,{...i,offset:h?.[0]??i.offset});return"jpg"!==r&&null!=i.noDataValue&&1===o.depthCount&&(0,pixelRangeUtils/* convertNoDataToMask */.Sp)(o,i.noDataValue,{customFloatTolerance:i.tolerance}),i.isPoint&&O(o),o}


/***/ }),

/***/ 20417:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cr: () => (/* binding */ N),
/* harmony export */   D4: () => (/* binding */ X),
/* harmony export */   JM: () => (/* binding */ H),
/* harmony export */   XO: () => (/* binding */ k),
/* harmony export */   r9: () => (/* binding */ G),
/* harmony export */   s$: () => (/* binding */ j),
/* harmony export */   uT: () => (/* binding */ W),
/* harmony export */   uc: () => (/* binding */ U),
/* harmony export */   zS: () => (/* binding */ C)
/* harmony export */ });
/* unused harmony export parseHeader */
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6273);
/* harmony import */ var _rasterDatasets_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(26554);
/* harmony import */ var _chunks_Jpg_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27355);
/* harmony import */ var _Lerc_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(40254);
/* harmony import */ var _Lzw_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(93399);
/* harmony import */ var _pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6246);
/* harmony import */ var _tiffTag_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3929);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(53965);
/* harmony import */ var _chunks_Zlib_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(79303);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const h=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],g=4294967296,E=new Set([1,5,6,7,8,34712,34887]);function I(e,t){let n="unknown";return 3===e?n=64===t?"f64":"f32":1===e?1===t?n="u1":2===t?n="u2":4===t?n="u4":t<=8?n="u8":t<=16?n="u16":t<=32&&(n="u32"):2===e&&(t<=8?n="s8":t<=16?n="s16":t<=32&&(n="s32")),n}function T(e){let t=null;switch(e?e.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":t=Uint8Array;break;case"u16":t=Uint16Array;break;case"u32":t=Uint32Array;break;case"s8":t=Int8Array;break;case"s16":t=Int16Array;break;case"s32":t=Int32Array;break;case"f64":t=Float64Array;break;default:t=Float32Array}return t}function w(e,t){return{x:t[0]*e.x+t[1]*e.y+t[2],y:t[3]*e.x+t[4]*e.y+t[5]}}function p(e,t){return e.get(t)?.values}function d(e,t){return e.get(t)?.values}function m(e,t){return e.get(t)?.values?.[0]}function y(e,t){return e.get(t)?.values?.[0]}function A(e,t,n,a=0,i=_tiffTag_js__WEBPACK_IMPORTED_MODULE_5__/* .tiffTags */ .NB,r=4){const l=8===r,f=l?F(new DataView(e,n,8),0,t):new DataView(e,n,2).getUint16(0,t),u=4+2*r,c=l?8:2,h=c+f*u;if(n+h>e.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:h};const g=8===r?8:4,E=n+h+g<=e.byteLength?V(new DataView(e,n+h,g),0,t,8===r):null,I=n+c,T=new Map;let w,p,d,m,y,A=0,S=0;for(let s=0;s<f;s++){p=new DataView(e,I+u*s,u),d=p.getUint16(0,t),y=p.getUint16(2,t),m=(0,_tiffTag_js__WEBPACK_IMPORTED_MODULE_5__/* .getTagName */ .kq)(d,i);const n=[];2===r?(A=p.getUint16(4,t),S=p.getUint16(6,t)):4===r?(A=p.getUint32(4,t),S=p.getUint32(8,t)):8===r&&(A=V(p,4,t,!0),S=V(p,12,t,!0),n.push(p.getUint32(12,t)),n.push(p.getUint32(16,t))),w={id:d,type:y,valueCount:A,valueOffset:S,valueOffsets:n,values:null},N(e,t,w,a,!1,r),T.set(m,w)}return{success:!0,ifd:T,nextIFD:E,requiredBufferSize:h}}const S=(e,t)=>(0,_Lerc_js__WEBPACK_IMPORTED_MODULE_2__/* .decode */ .D4)(e,{inputOffset:t}).pixels[0];function M(e,t){if(1!==t&&2!==t&&4!==t)return e;const n=new Uint8Array(e),a=8/t,i=new Uint8Array(e.byteLength*a);let r=0;const s=2**t-1;for(let l=0;l<n.length;l++){const e=n[l];for(let n=0;n<a;n++)i[r++]=e<<t*n>>>8-t&s}return i.buffer}function P(e,n,a){const i=new _chunks_Jpg_js__WEBPACK_IMPORTED_MODULE_1__.J;i.parse(e),i.colorTransform=6===a?-1:0;const r=i.getData(i.width,i.height,1!==n&&4!==n);return new Uint8Array(r.buffer)}function O(e){const t=new _chunks_Zlib_js__WEBPACK_IMPORTED_MODULE_7__.Z(e).getBytes(),n=new ArrayBuffer(t.length),a=new Uint8Array(n);return a.set(t),a}async function b(e,t,a,r,s){const l=_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .isPlatformLittleEndian */ .Z===t,o=y(a,"BITSPERSAMPLE"),f=y(a,"SAMPLESPERPIXEL")??1,c=y(a,"PHOTOMETRICINTERPRETATION"),h=y(a,"SAMPLEFORMAT")??1,g=I(h,o),E=y(a,"COMPRESSION")??1,w=T(g);let p,d,m;if(34887===E)return await (0,_Lerc_js__WEBPACK_IMPORTED_MODULE_2__/* .load */ .Hh)(),S(e,r);if(1===E)p=e.slice(r,r+s),d=new Uint8Array(p);else if(8===E||32946===E)d=new Uint8Array(e,r,s),d=O(d),p=d.buffer;else if(6===E)d=new Uint8Array(e,r,s),d=P(d,f,c),p=d.buffer;else if(7===E){const t=a.get("JPEGTABLES").values,n=t.length-2;d=new Uint8Array(n+s-2);for(let e=0;e<n;e++)d[e]=t[e];const i=new Uint8Array(e,r+2,s-2);for(let e=0;e<i.length;e++)d[n+e]=i[e];d=P(d,f,c),p=d.buffer}else{if(5!==E)throw new Error("tiff-decode: unsupport compression "+E);d=(0,_Lzw_js__WEBPACK_IMPORTED_MODULE_3__/* .decode */ .D)(e,r,s,t),p=d.buffer}if(p=M(p,o),"u8"===g||"s8"===g||l)m=new w(p);else{p=new ArrayBuffer(d.length);const e=new Uint8Array(p);switch(g){case"u16":case"s16":for(let t=0;t<d.length;t+=2)e[t]=d[t+1],e[t+1]=d[t];break;case"u32":case"s32":case"f32":for(let t=0;t<d.length;t+=4)e[t]=d[t+3],e[t+1]=d[t+2],e[t+2]=d[t+1],e[t+3]=d[t]}m=new w(p)}const A=y(a,"PREDICTOR")??1,b=y(a,"TILEWIDTH"),x=y(a,"TILELENGTH");if(A>1&&(5===E||8===E||32946===E)&&b&&x){const e=k(a),t=new w(m.length);t.set(m),m=_(t,x,b,3===h&&3===A,e?1:f)}return m}async function x(e,t,n){const a=d(n,"TILEOFFSETS");if(void 0===a)return null;const i=d(n,"TILEBYTECOUNTS"),{width:r,height:s,pixelType:l,tileWidth:o,tileHeight:f}=U([n]),u=k(n,t),c=y(n,"SAMPLESPERPIXEL")||t.planes,h=r*s,g=y(n,"BITSPERSAMPLE"),E=34887===(y(n,"COMPRESSION")??1),I=T(l),w=[];for(let T=0;T<c;T++)w.push(new I(h));let p,m,A,S,M,P,O,x,L,D,R,N,C;const G=Math.ceil(r/o),v=new Uint8Array(h).fill(255);let F=!1;if(g%8==0)if(E&&u&&c>1){const l=Math.round(a.length/c);for(p=0;p<l;p++){P=Math.floor(p/G)*f,O=p%G*o,x=P*r+O;for(let l=0;l<c;l++){const u=p*c+l;for(0===i[u]?(A=null,F=!0):A=await b(e,t.littleEndian,n,a[u],i[u]),D=0,L=x,N=Math.min(o,r-O),R=Math.min(f,s-P),C=w[l],S=0;S<R;S++)for(L=x+S*r,D=S*o,M=0;M<N;M++,L++,D++)A?C[L]=A[D]:v[L]=0}}}else for(p=0;p<a.length;p++)for(P=Math.floor(p/G)*f,O=p%G*o,x=P*r+O,0===i[p]?(A=null,F=!0):A=await b(e,t.littleEndian,n,a[p],i[p]),D=0,L=x,N=Math.min(o,r-O),R=Math.min(f,s-P),m=0;m<c;m++)if(C=w[m],u||E)for(S=0;S<R;S++)for(L=x+S*r,D=o*f*m+S*o,M=0;M<N;M++,L++,D++)A?C[L]=A[D]:v[L]=0;else for(S=0;S<R;S++)for(L=x+S*r,D=S*o*c+m,M=0;M<N;M++,L++,D+=c)A?C[L]=A[D]:v[L]=0;return{width:r,height:s,pixelType:l,pixels:w,mask:F?v:void 0}}const L=(e,t,n)=>{const a=_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .isPlatformLittleEndian */ .Z===t.littleEndian,r=d(n,"STRIPOFFSETS");if(void 0===r)return null;const{width:s,height:l,pixelType:o}=U([n]),f=y(n,"SAMPLESPERPIXEL")||t.planes,c=y(n,"PHOTOMETRICINTERPRETATION"),h=s*l,g=y(n,"BITSPERSAMPLE"),E=T(o),I=new E(h*f),w=d(n,"STRIPBYTECOUNTS"),p=y(n,"ROWSPERSTRIP"),m=y(n,"COMPRESSION")??1;let A,S,b,x,L,D,R,N,k;if(g%8==0)for(A=0;A<r.length;A++){if(L=A*(p*s)*f,"u8"===o||"s8"===o||a)8===m||32946===m?(R=new Uint8Array(e,r[A],w[A]),R=O(R),D=R.buffer):6===m?(R=new Uint8Array(e,r[A],w[A]),R=P(R,f,c),D=R.buffer):5===m?(R=(0,_Lzw_js__WEBPACK_IMPORTED_MODULE_3__/* .decode */ .D)(e,r[A],w[A],t.littleEndian),D=R.buffer):D=e.slice(r[A],r[A]+w[A]),D=M(D,g),x=new E(D);else{switch(6===m||8===m||32946===m?(R=new Uint8Array(e,r[A],w[A]),N=O(R),D=N.buffer):(D=new ArrayBuffer(w[A]),R=new Uint8Array(e,r[A],w[A]),N=new Uint8Array(D)),o){case"u16":case"s16":for(b=0;b<R.length;b+=2)N[b]=R[b+1],N[b+1]=R[b];break;case"u32":case"s32":case"f32":for(b=0;b<R.length;b+=4)N[b]=R[b+3],N[b+1]=R[b+2],N[b+2]=R[b+1],N[b+3]=R[b]}D=M(D,g),x=new E(D)}I.set(x,L)}const C=[];if(1===f)C.push(I);else for(A=0;A<f;A++){for(k=new E(h),S=0;S<h;S++)k[S]=I[S*f+A];C.push(k)}return{width:s,height:l,pixelType:o,pixels:C}},D=(e,t,n)=>{if(!(e&&e.length>0&&t&&n))return null;let a,i,r;const s=e[0].length,l=e.length,o=new Uint8Array(s);for(let f=0;f<l;f++)if(a=e[f],i=t[f],r=n[f],0===f)for(let e=0;e<s;e++)o[e]=a[e]<i||a[e]>r?0:1;else for(let e=0;e<s;e++)o[e]&&(o[e]=a[e]<i||a[e]>r?0:1);return o},R=e=>{if(!e)return null;const t=e.match(/<Item(.*?)Item>/gi);if(!t||0===t.length)return null;const n=new Map;let a,i,r,s,l;for(let w=0;w<t.length;w++)a=t[w],i=a.slice(6,a.indexOf(">")),s=a.indexOf("sample="),s>-1&&(l=a.slice(s+8,a.indexOf('"',s+8))),s=a.indexOf("name="),s>-1&&(i=a.slice(s+6,a.indexOf('"',s+6))),i&&(r=a.slice(a.indexOf(">")+1,a.indexOf("</Item>")).trim(),null!=l?n.has(i)?n.get(i)[l]=r:n.set(i,[r]):n.set(i,r)),l=null;const o=n.get("STATISTICS_MINIMUM"),f=n.get("STATISTICS_MAXIMUM"),u=n.get("STATISTICS_MEAN"),c=n.get("STATISTICS_STDDEV");let h=null;if(o&&f){h=[];for(let e=0;e<o.length;e++)h.push({min:parseFloat(o[e]),max:parseFloat(f[e]),avg:u&&parseFloat(u[e]),stddev:c&&parseFloat(c[e])})}const g=n.get("BandName"),E=n.get("WavelengthMin"),I=n.get("WavelengthMax");let T=null;if(g){T=[];for(let e=0;e<g.length;e++)T.push({BandName:g[e],WavelengthMin:E&&parseFloat(E[e]),WavelengthMax:I&&parseFloat(I[e])})}return{statistics:h,bandProperties:T,dataType:n.get("DataType"),rawMetadata:n}};function N(e,t,n,a=0,i=!1,r=4){if(n.values)return!0;const s=n.type,l=n.valueCount;let o=n.valueOffset,f=[];const u=h[s],c=8*u,E=l*u,I=l*h[s]*8;let T,w;const p=8===r?64:32,d=n.valueOffsets;if(I>p){if(E>(i?e.byteLength:e?e.byteLength-o+a:0))return n.offlineOffsetSize=[o,E],n.values=null,!1}if(I<=p){if(!t)if(p<=32)o>>>=32-I;else{const e=d?.length?d[0]:o>>>0,t=d?.length?d[1]:Math.round((o-e)/g);I<=32?(o=e>>>32-I,d[0]=o):(o=e*2**(32-I)+(t>>>32-I),d[0]=e,d[1]=t>>>32-I)}if(1===l&&c===p)f=[o];else if(64===p){const e=d?.length?d[0]:o>>>0,t=d?.length?d[1]:Math.round((o-e)/g);let n=e,a=32;for(w=1;w<=l;w++){const e=32-c*w%32;if(a<c){const i=n<<e>>>32-a,r=t<<32-a>>>32-a;n=t,f.push(i+r*2**(c-a)),a-=32-(c-a)}else f.push(n<<e>>>32-c),a-=c;0===a&&(a=32,n=t)}}else for(w=1;w<=l;w++){const e=32-c*w;f.push(o<<e>>>32-c)}}else{o-=a,i&&(o=0);for(let n=o;n<o+E;n+=u){switch(s){case 1:case 2:case 7:T=new DataView(e,n,1).getUint8(0);break;case 3:T=new DataView(e,n,2).getUint16(0,t);break;case 4:case 13:T=new DataView(e,n,4).getUint32(0,t);break;case 5:T=new DataView(e,n,4).getUint32(0,t)/new DataView(e,n+4,4).getUint32(0,t);break;case 6:T=new DataView(e,n,1).getInt8(0);break;case 8:T=new DataView(e,n,2).getInt16(0,t);break;case 9:T=new DataView(e,n,4).getInt32(0,t);break;case 10:T=new DataView(e,n,4).getInt32(0,t)/new DataView(e,n+4,4).getInt32(0,t);break;case 11:T=new DataView(e,n,4).getFloat32(0,t);break;case 12:T=new DataView(e,n,8).getFloat64(0,t);break;case 16:case 18:T=F(new DataView(e,n,8),0,t);break;case 17:T=B(new DataView(e,n,8),0,t);break;default:T=null}f.push(T)}}if(2===s){let e="";const t=f;for(f=[],w=0;w<t.length;w++)0===t[w]&&""!==e?(f.push(e),e=""):e+=String.fromCharCode(t[w]);""===e&&0!==f.length||f.push(e)}return n.values=f,!0}function U(e){const t=e[0],n=y(t,"TILEWIDTH"),a=y(t,"TILELENGTH"),i=y(t,"IMAGEWIDTH"),r=y(t,"IMAGELENGTH"),s=y(t,"BITSPERSAMPLE"),l=y(t,"SAMPLESPERPIXEL"),o=y(t,"SAMPLEFORMAT")??1,f=I(o,s),u=k(t),c=p(t,"GDAL_NODATA");let h=null;c?.length&&(h=c.map((e=>parseFloat(e))),h.some((e=>isNaN(e)))&&(h=null));const g=y(t,"COMPRESSION")??1;let T;switch(g){case 1:T="NONE";break;case 2:case 3:case 4:case 32771:T="CCITT";break;case 5:T="LZW";break;case 6:case 7:T="JPEG";break;case 32773:T="PACKBITS";break;case 8:case 32946:T="DEFLATE";break;case 34712:T="JPEG2000";break;case 34887:T="LERC";break;default:T=String(g)}let A=!0,S="";E.has(g)||(A=!1,S+="unsupported tag compression "+g),o>3&&(A=!1,S+="unsupported tag sampleFormat "+o),1!==s&&2!==s&&4!==s&&s%8!=0&&(A=!1,S+="unsupported tag bitsPerSample "+s);const M=m(t,"GEOASCIIPARAMS");let P;if(M){const e=M.split("|").find((e=>e.includes("ESRI PE String = "))),t=e?e.replace("ESRI PE String = ",""):"";P=t.startsWith("COMPD_CS")||t.startsWith("PROJCS")||t.startsWith("GEOGCS")?{wkid:null,wkt:t}:null}const O=d(t,"GEOTIEPOINTS"),b=d(t,"GEOPIXELSCALE"),x=d(t,"GEOTRANSMATRIX"),L=t.has("GEOKEYDIRECTORY")?t.get("GEOKEYDIRECTORY").data:null;let D,N,U=!1,v=!1;if(L){U=2===y(L,"GTRasterTypeGeoKey");const e=y(L,"GTModelTypeGeoKey");if(2===e){const e=y(L,"GeographicTypeGeoKey");e>=1024&&e<=32766&&(P={wkid:e}),P||32767!==e||(v=!0,P={wkid:4326})}else if(1===e){const e=y(L,"ProjectedCSTypeGeoKey");e>=1024&&e<=32766&&(P={wkid:e})}}if(b&&O&&O.length>=6?(D=[b[0],0,O[3]-O[0]*b[0],0,-Math.abs(b[1]),O[4]-O[1]*b[1]],U&&(D[2]-=.5*D[0]+.5*D[1],D[5]-=.5*D[3]+.5*D[4])):x&&16===x.length&&(D=U?[x[0],x[1],x[3]-.5*x[0],x[4],x[5],x[7]-.5*x[5]]:[x[0],x[1],x[3],x[4],x[5],x[7]]),D){const e=[{x:0,y:r},{x:0,y:0},{x:i,y:r},{x:i,y:0}];let t,n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let i=0;i<e.length;i++)t=w(e[i],D),n=t.x>n?n:t.x,s=t.x<s?s:t.x,a=t.y>a?a:t.y,l=t.y<l?l:t.y;N={xmin:n,xmax:s,ymin:a,ymax:l,spatialReference:P}}else N={xmin:-.5,ymin:.5-r,xmax:i-.5,ymax:.5,spatialReference:P};v&&(N.xmax-N.xmin>400||Math.max(Math.abs(N.xmin),Math.abs(N.xmax))>361)&&(P=null,N.spatialReference=null);const F=C(e);let B,V,W,H,_;if(F.length>0){W=Math.round(Math.log(i/y(F[0],"IMAGEWIDTH"))/Math.LN2);const e=F[F.length-1];H=F.length,B=y(e,"TILEWIDTH"),V=y(e,"TILELENGTH")}B=null!=H&&H>0?B||n:null,V=null!=H&&H>0?V||a:null,n&&(_=[{maxCol:Math.ceil(i/n)-1,maxRow:Math.ceil(r/a)-1,minRow:0,minCol:0}],F.forEach((e=>{_.push({maxCol:Math.ceil(y(e,"IMAGEWIDTH")/y(e,"TILEWIDTH"))-1,maxRow:Math.ceil(y(e,"IMAGELENGTH")/y(e,"TILELENGTH"))-1,minRow:0,minCol:0})})));const j=m(e[0],"GDAL_METADATA"),X=R(j);S+=" "+Y({width:i,height:r,tileWidth:n,tileHeight:a,planes:l,ifds:e});const K=G(e).length===F.length+1,J=F?.length?F.map((e=>({x:i/y(e,"IMAGEWIDTH"),y:r/y(e,"IMAGELENGTH")}))):void 0;return{width:i,height:r,tileWidth:n,tileHeight:a,planes:l,isBSQ:u,pixelType:f,compression:T,noData:h,hasMaskBand:K,isSupported:A,pyramidResolutions:J,message:S,extent:N,isPseudoGeographic:v,affine:b?null:D,firstPyramidLevel:W,maximumPyramidLevel:H,pyramidBlockWidth:B,pyramidBlockHeight:V,tileBoundary:_,metadata:X}}function k(e,t){const n=p(e,"PLANARCONFIGURATION");return n?2===n[0]:!!t&&t.isBSQ}function C(e){return e.filter((e=>1===y(e,"NEWSUBFILETYPE")))}function G(e){return e.filter((e=>{const t=!(4&~(y(e,"NEWSUBFILETYPE")??0)),n=4===y(e,"PHOTOMETRICINTERPRETATION");return t&&n}))}function v(e){const{littleEndian:t,isBigTiff:n,firstIFDPos:a}=W(e);let i=a;const r=[];do{const a=H(e,t,i,0,_tiffTag_js__WEBPACK_IMPORTED_MODULE_5__/* .tiffTags */ .NB,n?8:4);if(!a.success)break;r.push(a.ifd),i=a.nextIFD}while(i>0);return{...U(r),littleEndian:t,isBigTiff:n,ifds:r,pyramidIFDs:C(r),maskIFDs:G(r)}}function F(e,t,n){const a=e.getUint32(t,n),i=e.getUint32(t+4,n);return n?i*g+a:a*g+i}function B(e,t,n){let a=n?e.getInt32(t,n):e.getUint32(t,n),i=n?e.getUint32(t+4,n):e.getInt32(t+4,n);const r=(n?a:i)>=0?1:-1;n?a*=r:i*=r;return r*(n?i*g+a:a*g+i)}function V(e,t,n,a){return a?F(e,t,n):e.getUint32(t,n)}function W(e){const t=new DataView(e,0,16),n=t.getUint16(0,!1);let a=null;if(18761===n)a=!0;else{if(19789!==n)throw new Error("unexpected endianess byte");a=!1}const i=t.getUint16(2,a);if(42!==i&&43!==i)throw new Error("unexpected tiff identifier");let r=4;const s=43===i;if(s){const e=t.getUint16(r,a);if(r+=2,8!==e)throw new Error("unsupported bigtiff version");if(0!==t.getUint16(r,a))throw new Error("unsupported bigtiff version");r+=2}return{littleEndian:a,isBigTiff:s,firstIFDPos:V(t,r,a,s)}}function H(t,n,a,i=0,r=_tiffTag_js__WEBPACK_IMPORTED_MODULE_5__/* .tiffTags */ .NB,o=4){const u=A(t,n,a,i,r,o);let c;const h=u.ifd;if(h){if(_tiffTag_js__WEBPACK_IMPORTED_MODULE_5__/* .ifdTags */ .RR.forEach(((e,a)=>{h.has(a)&&(c=h.get(a),c.data=A(t,n,c.valueOffset-i,i,e).ifd)})),h.has("GEOKEYDIRECTORY")){c=h.get("GEOKEYDIRECTORY");const e=c.values;if(e&&e.length>4){const a=e[0]+"."+e[1]+"."+e[2];c.data=A(t,n,c.valueOffset+6-i,i,_tiffTag_js__WEBPACK_IMPORTED_MODULE_5__/* .geoKeys */ .YC,2).ifd,c.data&&c.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[a]})}}if(h.has("XMP")){c=h.get("XMP");const t=c.values;"number"==typeof t[0]&&7===c.type&&(c.values=[(0,_rasterDatasets_byteStreamUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .bytesToUTF8 */ .w)(new Uint8Array(t))])}}return u}function Y(e){const{width:t,height:n,tileHeight:a,tileWidth:i}=e,r=e.planes,s=i?i*a:t*n,l=y(e.ifds[0],"BITSPERSAMPLE");let o="";return s*r>2**30/(l>8?l/8:1)&&(o=i?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),o}function _(e,t,n,a,i){const r=a?4:1,s=n*r*i;a&&(e=new Uint8Array(e.buffer));for(let f=0;f<t;f++){const t=f*s;for(let n=i;n<s;n++)e[t+n]+=e[t+n-i]}if(!a)return e;const l=new Uint8Array(e.length),o=n*i;for(let f=0;f<t;f++){const t=f*s;for(let n=0;n<o;n++)for(let a=0;a<r;a++)l[t+n*r+a]=e[t+n+(r-a-1)*o]}return new Float32Array(l.buffer)}async function j(e,t){const{headerInfo:n,ifd:a,offsets:i,sizes:s}=t,l=[];for(let r=0;r<i.length;r++){s[r];const t=await b(e,n.littleEndian,a,i[r],s[r]||e.byteLength);l.push(t)}const o=k(a,n),f=y(a,"BITSPERSAMPLE"),u=I(y(a,"SAMPLEFORMAT")??1,f),c=y(a,"SAMPLESPERPIXEL")||n.planes,h=T(u),g=y(a,"TILEWIDTH"),E=y(a,"TILELENGTH"),w=y(a,"COMPRESSION")??1,p=g*E;let d;const m=[];let A=l[0];const S=34887===w;for(let r=0;r<c;r++){if(d=new h(p),l.length===c)A=l[r],A.length===p&&(d=A);else if(A.length)if(o||S)d=A.length===p?A:A.slice(p*r,p*(r+1));else for(let e=0;e<p;e++)d[e]=A[e*c+r];m.push(d)}const M=n.noData?n.noData[0]:t.noDataValue,P=n.metadata?n.metadata.statistics:null,O=P?P.map((e=>e.min)):null,x=P?P.map((e=>e.max)):null,L={pixelType:u,width:g,height:E,pixels:m,noDataValue:M};return null!=M?(0,_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .convertNoDataToMask */ .Sp)(L,M,{matchAllNoData:t?.matchAllNoData}):O&&x&&t.applyMinMaxConstraint&&(L.mask=D(m,O,x)),L}async function X(e,t={}){const n=t.pyramidLevel||0,a=t.headerInfo||v(e),{ifds:i,noData:s}=a;if(0===i.length)throw new Error("no valid image file directory");const l=Y(a);if(l)throw l;let o=null;const f=-1===n?i[i.length-1]:i[n],u=s??t.noDataValue;if(o=a.tileWidth?await x(e,a,f):L(e,a,f),!o)return o;if(null!=u){(0,_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .convertNoDataToMask */ .Sp)(o,u,{matchAllNoData:null==s&&t?.matchAllNoData})}return o}


/***/ }),

/***/ 6246:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $p: () => (/* binding */ f),
/* harmony export */   Sp: () => (/* binding */ g),
/* harmony export */   X1: () => (/* binding */ i),
/* harmony export */   hP: () => (/* binding */ u),
/* harmony export */   yM: () => (/* binding */ c),
/* harmony export */   zw: () => (/* binding */ r)
/* harmony export */ });
/* unused harmony export getBytesPerPixel */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=9999999e31,n=2e-7,e={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function u(t){return e[t]??[-34028234663852886e22,34028234663852886e22]}const s={u1:1,u2:1,u4:1,u8:1,s8:1,u16:2,s16:2,u32:4,s32:4,f32:4,f64:8,unknown:4,c64:16,c128:32};function o(t){return s[t]}function l(t){return o(t.pixelType)*t.bandCount}function i(t,n){return null==t||null==n?"s32":t<0?t>=-128&&n<128?"s8":t>=-32768&&n<32768?"s16":"s32":n<256?"u8":n<65536?"u16":"u32"}function r(t){return(t?.startsWith("s")||t?.startsWith("u"))??!1}function c(t,n,e,s){let[o,l]=u(e);const i=r(e);return i&&(o-=1e-5,l+=1e-5),i?e.startsWith("u")?a(t,n,s,[o,l]):h(t,n,s,[o,l]):b(t,n,s,[o,l])}function f(t,n){for(let e=0;e<n.length;e++)n[e]&&isNaN(t[e])&&(n[e]=0,t[e]=0)}function a(t,n,e,u){const[s,o]=u;for(let l=0;l<n.length;l++)if(n[l]){const u=t[l];u<s||u>o?n[l]=0:e[l]=u+.5|0}}function h(t,n,e,u){const[s,o]=u;for(let l=0;l<n.length;l++)if(n[l]){const u=t[l];u<s||u>o?n[l]=0:e[l]=u+(u>0?.5:-.5)|0}}function b(t,n,e,u){const[s,o]=u;for(let l=0;l<n.length;l++)if(n[l]){const u=t[l];u<s||u>o?n[l]=0:e[l]=u}}function g(e,s,o){if(e.depthCount&&e.depthCount>1)return;const{pixels:l,statistics:i,pixelType:r}=e,c=l[0].length,f=e.bandMasks??[],a=e.mask??new Uint8Array(c).fill(255),h="f32"===r||"f64"===r,b=u(r);let g=!1;for(let u=0;u<l.length;u++){const e="number"==typeof s?s:s[u];if(null==e)continue;const c=i?.[u]?.minValue??b[0],m=i?.[u]?.maxValue??b[1];if(c>e+Number.EPSILON||m<e-Number.EPSILON)continue;const p=f[u]||a.slice(),d=l[u],N=o?.customFloatTolerance;if(h&&0!==N){let u=N;u||(u=Math.abs(e)>=t?n*Math.abs(e):"f32"===r?2**-23:Number.EPSILON);for(let t=0;t<d.length;t++)p[t]&&Math.abs(d[t]-e)<u&&(d[t]=0,p[t]=0,a[t]=0,g=!0)}else for(let t=0;t<d.length;t++)p[t]&&d[t]===e&&(d[t]=0,p[t]=0,a[t]=0,g=!0);f[u]=p}if(g){const t=e.bandMasks||e.pixels.length>1?f:null;o?.matchAllNoData?e.mask=t&&t.length>1?m(t):a:(e.bandMasks=t,e.mask=a)}function m(t){if(t.length<2)return t[0];const n=t[0].length,e=new Uint8Array(n).fill(0);for(let u=0;u<t.length;u++){const s=t[u];for(let t=0;t<n;t++)s[t]&&(e[t]=255)}return e}g&&"updateStatistics"in e&&e.updateStatistics()}


/***/ }),

/***/ 3929:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NB: () => (/* binding */ e),
/* harmony export */   RR: () => (/* binding */ E),
/* harmony export */   YC: () => (/* binding */ t),
/* harmony export */   kq: () => (/* binding */ S)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e=(()=>{const e=[];return e[254]="NEWSUBFILETYPE",e[255]="SUBFILETYPE",e[256]="IMAGEWIDTH",e[257]="IMAGELENGTH",e[258]="BITSPERSAMPLE",e[259]="COMPRESSION",e[262]="PHOTOMETRICINTERPRETATION",e[263]="THRESHHOLDING",e[264]="CELLWIDTH",e[265]="CELLLENGTH",e[266]="FILLORDER",e[269]="DOCUMENTNAME",e[270]="IMAGEDESCRIPTION",e[271]="MAKE",e[272]="MODEL",e[273]="STRIPOFFSETS",e[274]="ORIENTATION",e[277]="SAMPLESPERPIXEL",e[278]="ROWSPERSTRIP",e[279]="STRIPBYTECOUNTS",e[280]="MINSAMPLEVALUE",e[281]="MAXSAMPLEVALUE",e[282]="XRESOLUTION",e[283]="YRESOLUTION",e[284]="PLANARCONFIGURATION",e[285]="PAGENAME",e[286]="XPOSITION",e[287]="YPOSITION",e[288]="FREEOFFSETS",e[289]="FREEBYTECOUNTS",e[290]="GRAYRESPONSEUNIT",e[291]="GRAYRESPONSECURVE",e[292]="T4OPTIONS",e[293]="T6OPTIONS",e[296]="RESOLUTIONUNIT",e[297]="PAGENUMBER",e[300]="COLORRESPONSEUNIT",e[301]="TRANSFERFUNCTION",e[305]="SOFTWARE",e[306]="DATETIME",e[315]="ARTIST",e[316]="HOSTCOMPUTER",e[317]="PREDICTOR",e[318]="WHITEPOINT",e[319]="PRIMARYCHROMATICITIES",e[320]="COLORMAP",e[321]="HALFTONEHINTS",e[322]="TILEWIDTH",e[323]="TILELENGTH",e[324]="TILEOFFSETS",e[325]="TILEBYTECOUNTS",e[326]="BADFAXLINES",e[327]="CLEANFAXDATA",e[328]="CONSECUTIVEBADFAXLINES",e[330]="SUBIFD",e[332]="INKSET",e[333]="INKNAMES",e[334]="NUMBEROFINKS",e[336]="DOTRANGE",e[337]="TARGETPRINTER",e[338]="EXTRASAMPLES",e[339]="SAMPLEFORMAT",e[340]="SMINSAMPLEVALUE",e[341]="SMAXSAMPLEVALUE",e[342]="TRANSFERRANGE",e[347]="JPEGTABLES",e[512]="JPEGPROC",e[513]="JPEGIFOFFSET",e[514]="JPEGIFBYTECOUNT",e[515]="JPEGRESTARTINTERVAL",e[517]="JPEGLOSSLESSPREDICTORS",e[518]="JPEGPOINTTRANSFORM",e[519]="JPEGQTABLES",e[520]="JPEGDCTABLES",e[521]="JPEGACTABLES",e[529]="YCBCRCOEFFICIENTS",e[530]="YCBCRSUBSAMPLING",e[531]="YCBCRPOSITIONING",e[532]="REFERENCEBLACKWHITE",e[700]="XMP",e[33550]="GEOPIXELSCALE",e[33922]="GEOTIEPOINTS",e[33432]="COPYRIGHT",e[42112]="GDAL_METADATA",e[42113]="GDAL_NODATA",e[50844]="RPCCOEFFICIENT",e[34264]="GEOTRANSMATRIX",e[34735]="GEOKEYDIRECTORY",e[34736]="GEODOUBLEPARAMS",e[34737]="GEOASCIIPARAMS",e[34665]="EXIFIFD",e[34853]="GPSIFD",e[40965]="INTEROPERABILITYIFD",e})(),i=(()=>{const i=e.slice();return i[36864]="ExifVersion",i[40960]="FlashpixVersion",i[40961]="ColorSpace",i[42240]="Gamma",i[37121]="ComponentsConfiguration",i[37122]="CompressedBitsPerPixel",i[40962]="PixelXDimension",i[40963]="PixelYDimension",i[37500]="MakerNote",i[37510]="UserComment",i[40964]="RelatedSoundFile",i[36867]="DateTimeOriginal",i[36868]="DateTimeDigitized",i[36880]="OffsetTime",i[36881]="OffsetTimeOriginal",i[36882]="OffsetTimeDigitized",i[37520]="SubSecTime",i[37521]="SubSecTimeOriginal",i[37522]="SubSecTimeDigitized",i[37888]="Temperature",i[37889]="Humidity",i[37890]="Pressure",i[37891]="WaterDepth",i[37892]="Acceleration",i[37893]="CameraElevationAngle",i[42016]="ImageUniqueID",i[42032]="CameraOwnerName",i[42033]="BodySerialNumber",i[42034]="LensSpecification",i[42035]="LensMake",i[42036]="LensModel",i[42037]="LensSerialNumber",i[33434]="ExposureTime",i[33437]="FNumber",i[34850]="ExposureProgram",i[34852]="SpectralSensitivity",i[34855]="PhotographicSensitivity",i[34856]="OECF",i[34864]="SensitivityType",i[34865]="StandardOutputSensitivity",i[34866]="RecommendedExposureIndex",i[34867]="ISOSpeed",i[34868]="ISOSpeedLatitudeyyy",i[34869]="ISOSpeedLatitudezzz",i[37377]="ShutterSpeedValue",i[37378]="ApertureValue",i[37379]="BrightnessValue",i[37380]="ExposureBiasValue",i[37381]="MaxApertureValue",i[37382]="SubjectDistance",i[37383]="MeteringMode",i[37384]="LightSource",i[37385]="Flash",i[37386]="FocalLength",i[37396]="SubjectArea",i[41483]="FlashEnergy",i[41484]="SpatialFrequencyResponse",i[41486]="FocalPlaneXResolution",i[41487]="FocalPlaneYResolution",i[41488]="FocalPlaneResolutionUnit",i[41492]="SubjectLocation",i[41493]="ExposureIndex",i[41495]="SensingMethod",i[41728]="FileSource",i[41729]="SceneType",i[41730]="CFAPattern",i[41985]="CustomRendered",i[41986]="ExposureMode",i[41987]="WhiteBalance",i[41988]="DigitalZoomRatio",i[41989]="FocalLengthIn35mmFilm",i[41990]="SceneCaptureType",i[41991]="GainControl",i[41992]="Contrast",i[41993]="Saturation",i[41994]="Sharpness",i[41995]="DeviceSettingDescription",i[41996]="SubjectDistanceRange",i})(),o=["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"],t=(()=>{const e=[];return e[1024]="GTModelTypeGeoKey",e[1025]="GTRasterTypeGeoKey",e[1026]="GTCitationGeoKey",e[2048]="GeographicTypeGeoKey",e[2049]="GeogCitationGeoKey",e[2050]="GeogGeodeticDatumGeoKey",e[2051]="GeogPrimeMeridianGeoKey",e[2052]="GeogLinearUnitsGeoKey",e[2053]="GeogLinearUnitSizeGeoKey",e[2054]="GeogAngularUnitsGeoKey",e[2055]="GeogAngularUnitSizeGeoKey",e[2056]="GeogEllipsoidGeoKey",e[2057]="GeogSemiMajorAxisGeoKey",e[2058]="GeogSemiMinorAxisGeoKey",e[2059]="GeogInvFlatteningGeoKey",e[2061]="GeogPrimeMeridianLongGeoKey",e[2060]="GeogAzimuthUnitsGeoKey",e[3072]="ProjectedCSTypeGeoKey",e[3073]="PCSCitationGeoKey",e[3074]="ProjectionGeoKey",e[3075]="ProjCoordTransGeoKey",e[3076]="ProjLinearUnitsGeoKey",e[3077]="ProjLinearUnitSizeGeoKey",e[3078]="ProjStdParallel1GeoKey",e[3079]="ProjStdParallel2GeoKey",e[3080]="ProjNatOriginLongGeoKey",e[3081]="ProjNatOriginLatGeoKey",e[3082]="ProjFalseEastingGeoKey",e[3083]="ProjFalseNorthingGeoKey",e[3084]="ProjFalseOriginLongGeoKey",e[3085]="ProjFalseOriginLatGeoKey",e[3086]="ProjFalseOriginEastingGeoKey",e[3087]="ProjFalseOriginNorthingGeoKey",e[3088]="ProjCenterLongGeoKey",e[3090]="ProjCenterEastingGeoKey",e[3091]="ProjCenterNorthingGeoKey",e[3092]="ProjScaleAtNatOriginGeoKey",e[3093]="ProjScaleAtCenterGeoKey",e[3094]="ProjAzimuthAngleGeoKey",e[3095]="ProjStraightVertPoleLongGeoKey",e[4096]="VerticalCSTypeGeoKey",e[4097]="VerticalCitationGeoKey",e[4098]="VerticalDatumGeoKey",e[4099]="VerticalUnitsGeoKey",e})(),S=(i,o)=>{let t=(o||e)[i];return void 0===t&&(t="unknown"+String(i)),t},E=new Map([["EXIFIFD",i],["GPSIFD",o]]);


/***/ }),

/***/ 53965:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const r=(()=>{const r=new ArrayBuffer(4),n=new Uint8Array(r);return new Uint32Array(r)[0]=1,1===n[0]})();


/***/ }),

/***/ 50014:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $Q: () => (/* binding */ r),
/* harmony export */   Sd: () => (/* binding */ l),
/* harmony export */   b7: () => (/* binding */ p)
/* harmony export */ });
/* unused harmony export convertGeometryToMask */
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5262);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8000);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(30214);
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(83371);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function a(e,n){if(e.spatialReference.equals(n))return e;const i=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getMetersPerUnitForSR */ .GA)(e.spatialReference),a=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getMetersPerUnitForSR */ .GA)(n);if(i===a)return e;const r=i/a;return{x:e.x*r,y:e.y*r}}async function r(t,e,n){if("extent"===n.type)return m(t,e,n);const{width:a,height:r}=t,x=new Uint8Array(a*r);if(!(await __webpack_require__.e(/* import() */ 80444).then(__webpack_require__.bind(__webpack_require__, 80444))).execute(e,n))return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({pixelType:t.pixelType,width:a,height:r,mask:x,maskIsAlpha:!1,pixels:[...t.pixels]});if("polyline"===n.type)return s(t,e,n);return(await __webpack_require__.e(/* import() */ 17871).then(__webpack_require__.bind(__webpack_require__, 17871))).execute(n,e)?t:o(t,e,n)}function o(t,e,n){if(!t)return t;const{width:a,height:r}=t,o=x({geometry:n,size:[a,r],srcExtent:e,srcMask:t.mask});return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({pixelType:t.pixelType,width:a,height:r,mask:o,maskIsAlpha:!1,pixels:[...t.pixels]})}function x(t){const{geometry:e,size:n,srcExtent:i,srcMask:a}=t,[r,o]=n;let x;const m=i.width/r,s=i.height/o,{xmin:l,ymax:p}=i;if("extent"===e.type){const t=(e.xmin-l)/m,n=(e.xmax-l)/m,i=(p-e.ymax)/s,a=(p-e.ymin)/s;x=[[[t,i],[t,a],[n,a],[n,i],[t,i]]]}else x=e.rings.map((t=>t.map((([t,e])=>[(t-l)/m,(p-e)/s]))));return h(x,n,a)}function h(t,e,n){const[i,a]=e,r=new OffscreenCanvas(i,a).getContext("2d");r.fillStyle="#f00",r.beginPath(),t.forEach((t=>{r.moveTo(t[0][0],t[0][1]);for(let e=0;e<t.length;e++)r.lineTo(t[e][0],t[e][1]);r.closePath()})),r.fill();const o=r.getImageData(0,0,i,a).data,x=i*a,h=new Uint8Array(x);let m=!1;for(let s=0;s<x;s++)n&&!n[s]||(o[4*s+3]>127?h[s]=255:m=!0);return m||n?h:void 0}function m(t,e,n){const{width:a,height:r}=t,o=new Uint8Array(a*r),x=e.width/a,h=e.height/r;if(n.width/x<.5||n.height/h<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({pixelType:t.pixelType,width:a,height:r,mask:o,pixels:[...t.pixels]});const{xmin:m,xmax:s,ymin:l,ymax:p}=e,{xmin:f,xmax:c,ymin:y,ymax:u}=n,M=Math.max(m,f),w=Math.min(s,c),d=Math.max(l,y),g=Math.min(p,u),T=.5*x,k=.5*h;if(w-M<T||g-d<k||w<m+T||M>s-T||d>p-k||g<l+k)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({pixelType:t.pixelType,width:a,height:r,mask:o,pixels:[...t.pixels]});const R=Math.max(0,(M-m)/x),j=Math.min(a,Math.max(0,(w-m)/x)),A=Math.max(0,(p-g)/h),z=Math.min(r,Math.max(0,(p-d)/h)),U=Math.round(R),E=Math.round(j)-1,P=Math.round(A),S=Math.round(z)-1;if(U===E&&R%1>.5&&j%1<.5||P===S&&A%1>.5&&z%1<.5)return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({pixelType:t.pixelType,width:a,height:r,mask:o,pixels:[...t.pixels]});if(0===U&&0===P&&E===a&&S===r)return t;const v=t.mask;for(let i=P;i<=S;i++)for(let t=U;t<=E;t++){const e=i*a+t;o[e]=v?v[e]:255}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({pixelType:t.pixelType,width:a,height:r,mask:o,pixels:[...t.pixels]})}function s(t,e,n){const{width:a,height:r}=t,o=new Uint8Array(a*r),x=e.width/a,h=e.height/r,{xmin:m,ymax:s}=e,{paths:l}=n,p=t.mask;for(let i=0;i<l.length;i++){const t=l[i];for(let e=0;e<t.length-1;e++){const[n,i]=t[e],[l,f]=t[e+1];let c=Math.floor((s-i)/h),y=Math.floor((s-f)/h);if(y<c){const t=c;c=y,y=t}c=Math.max(0,c),y=Math.min(r-1,y);const u=(l-n)/(f-i);for(let t=c;t<=y;t++){const e=t===c?Math.max(i,f):(r+1-t)*h,s=t===y?Math.min(i,f):e-h;let M=f===i?Math.floor((n-m)/x):Math.floor((u*(e-i)+n-m)/x),w=f===i?Math.floor((l-m)/x):Math.floor((u*(s-i)+n-m)/x);if(w<M){const t=M;M=w,w=t}const d=t*a;M=Math.max(0,M),w=Math.min(a-1,w);for(let t=d+M;t<=d+w;t++)o[t]=p?p[t]:255}}}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({pixelType:t.pixelType,width:a,height:r,mask:o,pixels:[...t.pixels]})}function l(t,e){const{extent:i}=p(t,e,new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({x:t.pixelSize.x,y:t.pixelSize.y,spatialReference:t.spatialReference})),{extent:a}=t.extent;if(i.xmax=Math.min(i.xmax,a.xmax),i.ymax=Math.min(i.ymax,a.ymax),i.xmin<i.xmax&&i.ymin<i.ymax){const{x:e,y:n}=t.pixelSize,a=Math.round(i.width/e),r=Math.round(i.height/n);t.extent=i,t.width=a,t.height=r}}function p(t,n,i,r=!0){const{spatialReference:o}=t,{x,y:h}=a(i,o);let m,s,l;const p="extent"===n.type?n:n.extent;let{xmin:f,xmax:c,ymax:y,ymin:u}=p;const{xmin:M,ymax:w}=t.extent;return r?(f=M+(f>M?x*Math.round((f-M)/x):0),y=w-(y<w?h*Math.round((w-y)/h):0),c=M+(c>M?x*Math.round((c-M)/x):0),u=w-(u<w?h*Math.round((w-u)/h):0),m=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({xmin:f,ymax:y,xmax:c,ymin:u,spatialReference:o}),s=Math.round(m.width/x),l=Math.round(m.height/h)):(s=Math.floor((c-f)/x+.8),l=Math.floor((y-u)/h+.8),f=M+(f>M?x*Math.floor((f-M)/x+.1):0),y=w-(y<w?h*Math.floor((w-y)/h+.1):0),c=f+s*x,u=y-l*h,m=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({xmin:f,ymax:y,xmax:c,ymin:u,spatialReference:o})),{extent:m,width:s,height:l}}


/***/ }),

/***/ 86924:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $Q: () => (/* binding */ W),
/* harmony export */   $i: () => (/* binding */ D),
/* harmony export */   AB: () => (/* binding */ r),
/* harmony export */   Ew: () => (/* binding */ m),
/* harmony export */   Hx: () => (/* binding */ p),
/* harmony export */   IB: () => (/* binding */ l),
/* harmony export */   J$: () => (/* binding */ R),
/* harmony export */   QF: () => (/* binding */ j),
/* harmony export */   UK: () => (/* binding */ u),
/* harmony export */   Wb: () => (/* binding */ i),
/* harmony export */   Wt: () => (/* binding */ M),
/* harmony export */   Wy: () => (/* binding */ a),
/* harmony export */   XU: () => (/* binding */ k),
/* harmony export */   bL: () => (/* binding */ x),
/* harmony export */   dK: () => (/* binding */ w),
/* harmony export */   eH: () => (/* binding */ c),
/* harmony export */   et: () => (/* binding */ o),
/* harmony export */   lD: () => (/* binding */ I),
/* harmony export */   qL: () => (/* binding */ f),
/* harmony export */   z$: () => (/* binding */ B),
/* harmony export */   z7: () => (/* binding */ T),
/* harmony export */   zg: () => (/* binding */ h)
/* harmony export */ });
/* unused harmony exports extractBands, getClipBounds, interpolateOffsets, mosaicPixelData, resampleByMajority */
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(4506);
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(83371);
/* harmony import */ var _rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6246);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var l,i;!function(t){t[t.matchAny=0]="matchAny",t[t.matchAll=1]="matchAll"}(l||(l={})),function(t){t[t.bestMatch=0]="bestMatch",t[t.fail=1]="fail"}(i||(i={}));const o=9;function r(t){return null!=t&&t.pixels?.length>0}function s(t,e){return e?.length&&r(t)?t.extractBands(e):t}function a(t){if(!t?.length||t.some((t=>!r(t))))return null;if(1===t.length)return t[0]?.clone()??null;const n=t,{width:l,height:i,pixelType:o}=n[0];if(n.some((t=>t.width!==l||t.height!==i)))return null;const s=n.map((({mask:t})=>t)).filter((t=>null!=t));let a=null;s.length&&(a=new Uint8Array(l*i),a.set(s[0]),s.length>1&&y(s.slice(1),a));const h=[];n.forEach((({pixels:t})=>h.push(...t)));const f=n.map((({statistics:t})=>t)).filter((t=>t?.length)),c=[];return f.forEach((t=>c.push(...t))),new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({pixelType:o,width:l,height:i,mask:a,pixels:h,statistics:c.length?c:null})}function h(t){if(!t)return;const e=t.colormap;if(!e||0===e.length)return;const n=e.sort(((t,e)=>t[0]-e[0])),l=n[0][0]<0?n[0][0]:0,i=Math.max(256,n[n.length-1][0]-l+1),o=new Uint8Array(4*i),r=[],s=5===n[0].length;if(i>65536)return n.forEach((t=>{r[t[0]-l]=s?t.slice(1):t.slice(1).concat([255])})),{indexed2DColormap:r,offset:l,alphaSpecified:s};if(t.fillUnspecified){let t=n[0];for(let e=t[0]-l,r=0;e<i;e++)o[4*e]=t[1],o[4*e+1]=t[2],o[4*e+2]=t[3],o[4*e+3]=s?t[4]:255,e===t[0]-l&&(t=r===n.length-1?t:n[++r])}else for(let a=0;a<n.length;a++){const t=n[a],e=4*(t[0]-l);o[e]=t[1],o[e+1]=t[2],o[e+2]=t[3],o[e+3]=s?t[4]:255}return{indexedColormap:o,offset:l,alphaSpecified:s}}function f(t,e){if(!r(t))return t;if(!e||!e.indexedColormap&&!e.indexed2DColormap)return t;const n=t.clone(),l=n.pixels;let i=n.mask;const o=n.width*n.height;if(1!==l.length)return t;const{indexedColormap:s,indexed2DColormap:a,offset:h,alphaSpecified:f}=e,c=l[0],u=new Uint8Array(c.length),p=new Uint8Array(c.length),x=new Uint8Array(c.length);let m,d=0;if(s){const t=s.length-1;if(null!=i)for(let e=0;e<o;e++)i[e]&&(d=4*(c[e]-h),d<h||d>t?i[e]=0:(u[e]=s[d],p[e]=s[d+1],x[e]=s[d+2],i[e]=s[d+3]));else{i=new Uint8Array(o);for(let e=0;e<o;e++)d=4*(c[e]-h),d<h||d>t?i[e]=0:(u[e]=s[d],p[e]=s[d+1],x[e]=s[d+2],i[e]=s[d+3]);n.mask=i}}else if(a)if(null!=i)for(let r=0;r<o;r++)i[r]&&(m=a[c[r]],u[r]=m[0],p[r]=m[1],x[r]=m[2],i[r]=m[3]);else{i=new Uint8Array(o);for(let t=0;t<o;t++)m=a[c[t]],u[t]=m[0],p[t]=m[1],x[t]=m[2],i[t]=m[3];n.mask=i}return n.pixels=[u,p,x],n.statistics=null,n.pixelType="u8",n.maskIsAlpha=f,n}function c(t,n){if(!r(t))return null;const{pixels:l,mask:i}=t,o=l.length;let s=n.lut;const{offset:a}=n;s&&1===s[0].length&&(s=l.map((()=>s)));const h=[],f=n.outputPixelType||"u8";for(let e=0;e<o;e++){const t=u(l[e],i,s[e],a||0,f);h.push(t)}const c=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({width:t.width,height:t.height,pixels:h,mask:i,pixelType:f});return c.updateStatistics(),c}function u(t,n,l,i,o){const r=t.length,s=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.createEmptyBand(o,r);if(n)for(let e=0;e<r;e++)n[e]&&(s[e]=l[t[e]-i]);else for(let e=0;e<r;e++)s[e]=l[t[e]-i];return s}function p(t,e){if(!r(t))return null;const n=t.clone(),{pixels:l}=n,i=n.width*n.height,o=e.length,s=Math.floor(o/2),a=e[Math.floor(s)],h=l[0],f=new Uint8Array(i),c=new Uint8Array(i),u=new Uint8Array(i);let p=n.mask;const x=4===e[0].mappedColor.length;p||(p=new Uint8Array(i),p.fill(x?255:1),n.mask=p);for(let r=0;r<i;r++)if(p[r]){const t=h[r];let n=!1,l=s,i=a,x=0,m=o-1;for(;m-x>1;){if(t===i.value){n=!0;break}t>i.value?x=l:m=l,l=Math.floor((x+m)/2),i=e[Math.floor(l)]}n||(t===e[x].value?(i=e[x],n=!0):t===e[m].value?(i=e[m],n=!0):t<e[x].value?n=!1:t>e[x].value&&(t<e[m].value?(i=e[x],n=!0):m===o-1?n=!1:(i=e[m],n=!0))),n?(f[r]=i.mappedColor[0],c[r]=i.mappedColor[1],u[r]=i.mappedColor[2],p[r]=i.mappedColor[3]):f[r]=c[r]=u[r]=p[r]=0}return n.pixels=[f,c,u],n.mask=p,n.pixelType="u8",n.maskIsAlpha=x,n}function x(e,n,l=!1){const i=1e-5,r=new Float32Array(3*o),s=n.length;for(let a=0;a<o;a++)r[3*a]=e[2*a]??_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .numberMaxFloat32 */ .pq-1,r[3*a+1]=e[2*a+1]??_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .numberMaxFloat32 */ .pq,r[3*a+2]=n[a]??0,a<s&&(a>0&&(r[3*a]-=i),e[2*a+1]!==e[2*a]&&(a<s-1||!l)&&(r[3*a+1]-=i));return r}function m(t,l){if(!r(t))return null;const{width:i,height:o}=t,{inputRanges:s,outputValues:a,outputPixelType:h,noDataRanges:f,allowUnmatched:c,replacementValue:u,isLastInputRangeInclusive:p}=l,x=t.pixels[0],m=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.createEmptyBand(h,x.length),d=t.mask,g=new Uint8Array(i*o);d?g.set(d):g.fill(255);const y=t.pixelType.startsWith("f")?1e-6:0,w=s.map((t=>t-y));w[0]=s[0],w[w.length-1]=s[s.length-1]+(p?1e-6:0);const k=s.length/2,[M,A]=(0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .getPixelValueRange */ .hP)(h);for(let e=0;e<o;e++)for(let t=0;t<i;t++){const n=e*i+t;if(g[n]){const t=x[n];let e=!1;for(let l=k-1;l>=0;l--)if(t===s[2*l]||t>w[2*l]&&t<w[2*l+1]){m[n]=a[l],e=!0;break}e||(c?m[n]=t>A?A:t<M?M:u??t:g[n]=0)}}const U=f?.length;if(U)for(let e=0;e<o;e++)for(let t=0;t<i;t++){const n=e*i+t;if(!d||d[n]){const t=x[n];for(let e=0;e<U;e+=2)if(t>=f[e]&&t<=f[e+1]){m[n]=0,g[n]=0;break}}}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({width:i,height:o,pixelType:h,pixels:[m],mask:g})}function d(t,e,n,l){const i=null!=n&&n.length>=2?new Set(n):null,o=1===n?.length?n[0]:null,r=!!e?.length;for(let s=0;s<t.length;s++)if(l[s]){const n=t[s];if(r){let t=!1;for(let l=0;l<e.length;l+=2)if(n>=e[l]&&n<=e[l+1]){t=!0;break}t||(l[s]=0)}l[s]&&(n===o||i?.has(n))&&(l[s]=0)}}function g(t,e){const n=t[0].length;for(let l=0;l<n;l++)if(e[l]){let n=!1;for(let e=0;e<t.length;e++)if(t[e][l]){n=!0;break}n||(e[l]=0)}}function y(t,e){const n=t[0].length;for(let l=0;l<n;l++)if(e[l]){let n=!1;for(let e=0;e<t.length;e++)if(0===t[e][l]){n=!0;break}n&&(e[l]=0)}}function w(t,n){if(!r(t))return null;const{width:l,height:i,pixels:o}=t,s=l*i,a=new Uint8Array(s);t.mask?a.set(t.mask):a.fill(255);const h=o.length,{includedRanges:f,noDataValues:c,outputPixelType:p,matchAll:x,lookups:m}=n;if(m){const t=[];for(let e=0;e<h;e++){const n=m[e],l=u(o[e],a,n.lut,n.offset||0,"u8");t.push(l)}1===t.length?a.set(t[0]):x?g(t,a):y(t,a)}else if(x){const t=[];for(let e=0;e<h;e++){const n=new Uint8Array(s);n.set(a),d(o[e],f?.slice(2*e,2*e+2),c?.[e],n),t.push(n)}1===t.length?a.set(t[0]):g(t,a)}else for(let e=0;e<h;e++)d(o[e],f?.slice(2*e,2*e+2),c?.[e],a);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({width:l,height:i,pixelType:p,pixels:o,mask:a})}function k(t){const{srcPixelType:l,inputRanges:i,outputValues:o,allowUnmatched:r,noDataRanges:s,isLastInputRangeInclusive:a,outputPixelType:h}=t;if("u8"!==l&&"s8"!==l&&"u16"!==l&&"s16"!==l)return null;const f=l.includes("16")?65536:256,c=l.includes("s")?-f/2:0,u=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.createEmptyBand(h,f),p=new Uint8Array(f);r&&p.fill(255);const[x,m]=(0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .getPixelValueRange */ .hP)(h);if(i?.length&&o?.length){const t=1e-6,e=i.map((e=>e-t));e[0]=i[0],a&&(e[e.length-1]=i[i.length-1]);for(let n=0;n<e.length;n++){const t=o[n]>m?m:o[n]<x?x:o[n],l=Math.ceil(e[2*n]-c),r=i[2*n+1]===i[2*n]?l:Math.floor(e[2*n+1]-c);for(let e=l;e<=r;e++)u[e]=t,p[e]=255}}if(s?.length)for(let e=0;e<s.length;e++){const t=Math.ceil(s[2*e]-c),n=Math.floor(s[2*e+1]-c);for(let e=t;e<=n;e++)p[e]=0}return{lut:u,offset:c,mask:p}}function M(t,e,n){if("u8"!==t&&"s8"!==t&&"u16"!==t&&"s16"!==t)return null;const l=t.includes("16")?65536:256,i=t.includes("s")?-l/2:0,o=new Uint8Array(l);if(e)for(let r=0;r<e.length;r++){const t=Math.ceil(e[2*r]-i),n=Math.floor(e[2*r+1]-i);for(let e=t;e<=n;e++)o[e]=255}else o.fill(255);if(n)for(let r=0;r<n.length;r++)o[n[r]-i]=0;return{lut:o,offset:i}}function A(t,e,n,l,i,o,r,s){return{xmin:i<=n*t?0:i<n*t+t?i-n*t:t,ymin:o<=l*e?0:o<l*e+e?o-l*e:e,xmax:i+r<=n*t?0:i+r<n*t+t?i+r-n*t:t,ymax:o+s<=l*e?0:o+s<l*e+e?o+s-l*e:e}}function U(t,e){if(!t||0===t.length)return null;const n=t.find((t=>t.pixelBlock));if(null==n?.pixelBlock)return null;const l=(n.extent.xmax-n.extent.xmin)/n.pixelBlock.width,i=(n.extent.ymax-n.extent.ymin)/n.pixelBlock.height,o=.01*Math.min(l,i),r=t.sort(((t,e)=>Math.abs(t.extent.ymax-e.extent.ymax)>o?e.extent.ymax-t.extent.ymax:Math.abs(t.extent.xmin-e.extent.xmin)>o?t.extent.xmin-e.extent.xmin:0)),s=Math.min.apply(null,r.map((t=>t.extent.xmin))),a=Math.min.apply(null,r.map((t=>t.extent.ymin))),h=Math.max.apply(null,r.map((t=>t.extent.xmax))),f=Math.max.apply(null,r.map((t=>t.extent.ymax))),c={x:Math.round((e.xmin-s)/l),y:Math.round((f-e.ymax)/i)},u={width:Math.round((h-s)/l),height:Math.round((f-a)/i)},p={width:Math.round((e.xmax-e.xmin)/l),height:Math.round((e.ymax-e.ymin)/i)};if(Math.round(u.width/n.pixelBlock.width)*Math.round(u.height/n.pixelBlock.height)!==r.length||c.x<0||c.y<0||u.width<p.width||u.height<p.height)return null;return{extent:e,pixelBlock:T(r.map((t=>t.pixelBlock)),u,{clipOffset:c,clipSize:p})}}function b(t,e,n,l,i,o){const{width:r,height:s}=n.block,{x:a,y:h}=n.offset,{width:f,height:c}=n.mosaic,u=A(r,s,l,i,a,h,f,c);let p=0,x=0;if(o){const t=o.hasGCSSShiftTransform?360:o.halfWorldWidth??0,e=r*o.resolutionX,n=o.startX+l*e;n<t&&n+e>t?x=o.rightPadding:n>=t&&(p=o.leftMargin-o.rightPadding,x=0)}if(u.xmax-=x,"number"!=typeof e)for(let m=u.ymin;m<u.ymax;m++){const n=(i*s+m-h)*f+(l*r-a)+p,o=m*r;for(let l=u.xmin;l<u.xmax;l++)t[n+l]=e[o+l]}else for(let m=u.ymin;m<u.ymax;m++){const n=(i*s+m-h)*f+(l*r-a)+p;for(let l=u.xmin;l<u.xmax;l++)t[n+l]=e}}function T(t,n,l={}){const{clipOffset:i,clipSize:o,alignmentInfo:s,blockWidths:a}=l;if(a)return v(t,n,{blockWidths:a});const h=t.find((t=>r(t)));if(null==h)return null;const f=o?o.width:n.width,c=o?o.height:n.height,u=h.width,p=h.height,x=n.width/u,m=n.height/p,d={offset:i||{x:0,y:0},mosaic:o||n,block:{width:u,height:p}},g=h.pixelType,y=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getPixelArrayConstructor(g),w=h.pixels.length,k=[];let M,A;for(let e=0;e<w;e++){A=new y(f*c);for(let n=0;n<m;n++)for(let l=0;l<x;l++){const i=t[n*x+l];r(i)&&(M=i.pixels[e],b(A,M,d,l,n,s))}k.push(A)}const U=t.some((t=>null==t||null!=t.mask&&t.mask.length>0)),T=t.some((t=>t?.bandMasks&&t.bandMasks.length>1)),B=U?new Uint8Array(f*c):void 0,S=T?[]:void 0;if(B){for(let e=0;e<m;e++)for(let n=0;n<x;n++){const l=t[e*x+n],i=null!=l?l.mask:null;b(B,null!=i?i:l?255:0,d,n,e,s)}if(S)for(let e=0;e<w;e++){const n=new Uint8Array(f*c);for(let l=0;l<m;l++)for(let i=0;i<x;i++){const o=t[l*x+i],r=o?.bandMasks?.[e]??o?.mask;b(n,null!=r?r:o?255:0,d,i,l,s)}S.push(n)}}const C=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({width:f,height:c,pixels:k,pixelType:g,bandMasks:S,mask:B});return C.updateStatistics(),C}function v(t,n,l){const i=t.find((t=>null!=t));if(null==i)return null;const o=t.some((t=>null==t||!!t.mask)),{width:s,height:a}=n,h=o?new Uint8Array(s*a):null,{blockWidths:f}=l,c=[],u=i.getPlaneCount(),p=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getPixelArrayConstructor(i.pixelType);if(o)for(let e=0,y=0;e<t.length;y+=f[e],e++){const n=t[e];if(!r(n))continue;const l=n.mask;for(let t=0;t<a;t++)for(let i=0;i<f[e];i++)h[t*s+i+y]=null==l?255:l[t*n.width+i]}const x=t.some((t=>t?.bandMasks&&t.bandMasks.length>1)),m=x?[]:void 0,d=s*a;for(let e=0;e<u;e++){const n=new p(d),l=x?new Uint8Array(d):void 0;for(let i=0,o=0;i<t.length;o+=f[i],i++){const h=t[i];if(!r(h))continue;const c=h.pixels[e];if(null!=c){for(let t=0;t<a;t++)for(let e=0;e<f[i];e++)n[t*s+e+o]=c[t*h.width+e];if(l){const t=h.bandMasks?.[e]??h.mask;for(let e=0;e<a;e++)for(let n=0;n<f[i];n++)l[e*s+n+o]=t?t[e*h.width+n]:255}}}c.push(n),m&&l&&m.push(l)}const g=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({width:s,height:a,mask:h,bandMasks:m,pixels:c,pixelType:i.pixelType});return g.updateStatistics(),g}function B(t,e,n){if(!r(t))return null;const{width:l,height:i}=t,o=e.x,s=e.y,a=n.width+o,h=n.height+s;if(o<0||s<0||a>l||h>i)return t;if(0===o&&0===s&&a===l&&h===i)return t;t.mask||(t.mask=new Uint8Array(l*i));const f=t.mask;for(let r=0;r<i;r++){const t=r*l;for(let e=0;e<l;e++)f[t+e]=r<s||r>=h||e<o||e>=a?0:1}return t.updateStatistics(),t}function S(t){if(!r(t))return null;const e=t.clone(),{width:n,height:l,pixels:i}=t,o=i[0],s=e.pixels[0],a=t.mask;for(let r=2;r<l-1;r++){const t=new Map;for(let l=r-2;l<r+2;l++)for(let e=0;e<4;e++){const i=l*n+e;_(t,o[i],a?a[i]:1)}s[r*n]=C(t),s[r*n+1]=s[r*n+2]=s[r*n];let e=3;for(;e<n-1;e++){let l=(r-2)*n+e+1;_(t,o[l],a?a[l]:1),l=(r-1)*n+e+1,_(t,o[l],a?a[l]:1),l=r*n+e+1,_(t,o[l],a?a[l]:1),l=(r+1)*n+e+1,_(t,o[l],a?a[l]:1),l=(r-2)*n+e-3,P(t,o[l],a?a[l]:1),l=(r-1)*n+e-3,P(t,o[l],a?a[l]:1),l=r*n+e-3,P(t,o[l],a?a[l]:1),l=(r+1)*n+e-3,P(t,o[l],a?a[l]:1),s[r*n+e]=C(t)}s[r*n+e+1]=s[r*n+e]}for(let r=0;r<n;r++)s[r]=s[n+r]=s[2*n+r],s[(l-1)*n+r]=s[(l-2)*n+r];return e.updateStatistics(),e}function C(t){if(0===t.size)return 0;let e=0,n=-1,l=0;const i=t.keys();let o=i.next();for(;!o.done;)l=t.get(o.value),l>e&&(n=o.value,e=l),o=i.next();return n}function P(t,e,n){if(0===n)return;const l=t.get(e);1===l?t.delete(e):t.set(e,l-1)}function _(t,e,n){0!==n&&t.set(e,t.has(e)?t.get(e)+1:1)}function W(t,n,l){let{x:i,y:o}=n;const{width:s,height:a}=l;if(0===i&&0===o&&a===t.height&&s===t.width)return t;const{width:h,height:f}=t,c=Math.max(0,o),u=Math.max(0,i),p=Math.min(i+s,h),x=Math.min(o+a,f);if(p<0||x<0||!r(t))return null;i=Math.max(0,-i),o=Math.max(0,-o);const{pixels:m}=t,d=s*a,g=m.length,y=[];for(let r=0;r<g;r++){const n=m[r],l=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.createEmptyBand(t.pixelType,d);for(let t=c;t<x;t++){const e=t*h;let r=(t+o-c)*s+i;for(let t=u;t<p;t++)l[r++]=n[e+t]}y.push(l)}const w=new Uint8Array(d),k=t.mask;for(let e=c;e<x;e++){const t=e*h;let n=(e+o-c)*s+i;for(let e=u;e<p;e++)w[n++]=k?k[t+e]:1}const M=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({width:l.width,height:l.height,pixelType:t.pixelType,pixels:y,mask:w});return M.updateStatistics(),M}function E(t,n=!0){if(!r(t))return null;const{pixels:l,width:i,height:o,mask:s,pixelType:a}=t,h=[],f=Math.round(i/2),c=Math.round(o/2),u=o-1,p=i-1;for(let r=0;r<l.length;r++){const t=l[r],s=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.createEmptyBand(a,f*c);let x=0;for(let e=0;e<o;e+=2)for(let l=0;l<i;l+=2){const o=t[e*i+l];if(n){const n=l===p?o:t[e*i+l+1],r=e===u?o:t[e*i+l+i],a=l===p?r:e===u?n:t[e*i+l+i+1];s[x++]=(o+n+r+a)/4}else s[x++]=o}h.push(s)}let x=null;if(null!=s){x=new Uint8Array(f*c);let t=0;for(let e=0;e<o;e+=2)for(let l=0;l<i;l+=2){const o=s[e*i+l];if(n){const n=l===p?o:s[e*i+l+1],r=e===u?o:s[e*i+l+i],a=l===p?r:e===u?n:s[e*i+l+i+1];x[t++]=o*n*r*a?1:0}else x[t++]=o}}return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({width:f,height:c,pixelType:a,pixels:h,mask:x})}function I(t,e,n=0,l=!0){if(!r(t))return null;const{width:i,height:o}=e;let{width:s,height:a}=t;const h=new Map,f={x:0,y:0},c=1+n;let u=t;for(let r=0;r<c;r++){const t=Math.ceil(s/i),n=Math.ceil(a/o);for(let l=0;l<n;l++){f.y=l*o;for(let n=0;n<t;n++){f.x=n*i;const t=W(u,f,e);h.set(`${r}/${l}/${n}`,t)}}r<c-1&&(u=E(u,l)),s=Math.round(s/2),a=Math.round(a/2)}return h}function R(t){const{pixelBlock:e,tileSize:n,level:l,row:i,col:o,useBilinear:s}=t;if(!r(e))return null;const{width:a,height:h}=n,f=2**l,c=f*a,u=f*h;let p=W(e,{y:i*u,x:o*c},{width:c,height:u});if(!p)return null;for(let r=l;r>0;r--)p=E(p,s);return p}function F(t,e,n,l,i=0){const{width:o,height:r}=t,{width:s,height:a}=e,h=l.cols,f=l.rows,c=Math.ceil(s/h-.1/h),u=Math.ceil(a/f-.1/f);let p,x,m,d,g,y,w;const k=c*h,M=k*u*f,A=new Float32Array(M),U=new Float32Array(M),b=new Uint32Array(M),T=new Uint32Array(M);let v,B,S=0;for(let C=0;C<u;C++)for(let t=0;t<c;t++){p=12*(C*c+t),x=n[p],m=n[p+1],d=n[p+2],g=n[p+3],y=n[p+4],w=n[p+5];for(let e=0;e<f;e++){S=(C*f+e)*k+t*h,B=(e+.5)/f;for(let t=0;t<e;t++)v=(t+.5)/h,A[S+t]=(x*v+m*B+d)*o+i,U[S+t]=(g*v+y*B+w)*r+i,b[S+t]=Math.floor(A[S+t]),T[S+t]=Math.floor(U[S+t])}p+=6,x=n[p],m=n[p+1],d=n[p+2],g=n[p+3],y=n[p+4],w=n[p+5];for(let e=0;e<f;e++){S=(C*f+e)*k+t*h,B=(e+.5)/f;for(let t=e;t<h;t++)v=(t+.5)/h,A[S+t]=(x*v+m*B+d)*o+i,U[S+t]=(g*v+y*B+w)*r+i,b[S+t]=Math.floor(A[S+t]),T[S+t]=Math.floor(U[S+t])}}return{offsets_x:A,offsets_y:U,offsets_xi:b,offsets_yi:T,gridWidth:k}}function j(t,e){const{coefficients:n,spacing:l}=e,{offsets_x:i,offsets_y:o,gridWidth:r}=F(t,t,n,{rows:l[0],cols:l[1]}),{width:s,height:a}=t,h=new Float32Array(s*a),f=180/Math.PI;for(let c=0;c<a;c++)for(let t=0;t<s;t++){const e=c*r+t,n=0===c?e:e-r,l=c===a-1?e:e+r,u=i[n]-i[l],p=o[l]-o[n];if(isNaN(u)||isNaN(p))h[c*s+t]=90;else{let e=Math.atan2(p,u)*f;e=(360+e)%360,h[c*s+t]=e}}return h}function D(t,n,l,i,o="nearest"){if(!r(t))return null;"majority"===o&&(t=S(t));const{pixels:s,mask:a,bandMasks:h,pixelType:f}=t,c=t.width,u=t.height,p=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getPixelArrayConstructor(f),x=s.length,{width:m,height:d}=n;let g=!1;for(let e=0;e<l.length;e+=3)-1===l[e]&&-1===l[e+1]&&-1===l[e+2]&&(g=!0);const{offsets_x:y,offsets_y:w,offsets_xi:k,offsets_yi:M,gridWidth:A}=F({width:c,height:u},n,l,i,"majority"===o?.5:0);let U;const b=(t,e,n,l)=>{const i=t instanceof Float32Array||t instanceof Float64Array?0:.5;for(let o=0;o<d;o++){U=o*A;for(let r=0;r<m;r++){if(y[U]<0||w[U]<0)t[o*m+r]=0;else if(l)t[o*m+r]=e[k[U]+M[U]*c];else{const l=Math.floor(y[U]),s=Math.floor(w[U]),a=Math.ceil(y[U]),h=Math.ceil(w[U]),f=y[U]-l,u=w[U]-s;if(!n||n[l+s*c]&&n[a+s*c]&&n[l+h*c]&&n[a+h*c]){const n=(1-f)*e[l+s*c]+f*e[a+s*c],p=(1-f)*e[l+h*c]+f*e[a+h*c];t[o*m+r]=(1-u)*n+u*p+i}else t[o*m+r]=e[k[U]+M[U]*c]}U++}}},T=[];let v;const B=h?.length===x,C=[];for(let e=0;e<x;e++){if(B){const t=new Uint8Array(m*d);b(t,h[e],h[e],!0),C.push(t)}v=new p(m*d),b(v,s[e],B?h[e]:a,"nearest"===o||"majority"===o),T.push(v)}const P=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({width:m,height:d,pixelType:f,pixels:T,bandMasks:B?C:void 0});if(null!=a)P.mask=new Uint8Array(m*d),b(P.mask,a,a,!0);else if(g){P.mask=new Uint8Array(m*d);for(let t=0;t<m*d;t++)P.mask[t]=y[t]<0||w[t]<0?0:1}return P.updateStatistics(),P}


/***/ }),

/***/ 14954:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  vt: () => (/* binding */ rasterFunctionHelper_T),
  UD: () => (/* binding */ rasterFunctionHelper_w)
});

// UNUSED EXPORTS: getRasterValues

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/colorUtils.js
var colorUtils = __webpack_require__(60861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var core_Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(15565);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFormats/pixelRangeUtils.js
var pixelRangeUtils = __webpack_require__(6246);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(22395);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/BaseFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let e=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.raster=void 0}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],e.prototype,"raster",void 0),e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.BaseFunctionArguments")],e);const p=e;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ArithmeticFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ArithmeticFunctionArguments_e;let a=ArithmeticFunctionArguments_e=class extends p{constructor(){super(...arguments),this.raster2=void 0}get rasters(){return[this.raster,this.raster2]}clone(){return new ArithmeticFunctionArguments_e({raster:this.raster,raster2:this.raster2,operation:this.operation})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],a.prototype,"operation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],a.prototype,"raster2",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],a.prototype,"rasters",null),a=ArithmeticFunctionArguments_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ArithmeticFunctionArguments")],a);const i=a;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js
var cast = __webpack_require__(77380);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/PixelBlock.js
var PixelBlock = __webpack_require__(83371);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/RasterInfo.js + 2 modules
var RasterInfo = __webpack_require__(22687);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/BaseRasterFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const BaseRasterFunction_a=new Set(["slope","aspect","curvature","hillshade","shadedrelief","statistics"]);let u=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.functionArguments=null,this.readingBufferSize=0,this.id=-1,this.isNoopProcess=!1,this.rawInputBandIds=[],this.rawSourceRasterInfos=null,this.isInputBandIdsSwizzled=!1,this.swizzledBandSelection=[],this.isBranch=!1,this.isRoot=!1,this._bindingResult=null}get supportsGPU(){return this._bindingResult.supportsGPU}get flatWebGLFunctionChain(){const t=this.getWebGLProcessorDefinition();if(!t)return null;const s=[t],{parameters:e}=t;let r=e.rasters||e.raster&&[e.raster];for(;r?.length;){s.unshift(...r);const t=[];for(let s=0;s<r.length;s++){const{parameters:e}=r[s],i=e.rasters||e.raster&&[e.raster];i?.length&&t.push(...i)}r=t}for(let a=s.length-1;a>=0;a--)s[a].isNoopProcess&&s.splice(a,1);let i=!1;for(let a=0;a<s.length;a++){const t=s[a];t.id=s.length-a-1;const{rasters:e}=t.parameters;i=i||null!=e&&e.length>1}const n=s.some((({name:t})=>BaseRasterFunction_a.has(t.toLowerCase()))),{rawSourceRasterInfos:o}=this;return{functions:s,hasBranches:i,hasFocalFunction:n,isSourceSingleBand:1===o?.[0]?.bandCount}}bind(t,s=!1,e=-1){this.id=e+1;const r=this._getRasterValues();let i=!0;for(let n=0;n<r.length;n++){const e=r[n];if(null!=e&&this._isRasterFunctionValue(e)){const r=e.bind(t,s,this.id+n);if(!r.success)return this._bindingResult=r,r;i=i&&r.supportsGPU}}if(!this.rasterInfo||s){if(this.sourceRasterInfos=this._getSourceRasterInfos(t),this._bindingResult=this._bindSourceRasters(),i&&=this._bindingResult.supportsGPU,this._bindingResult.success&&(this._patchRasterInfo(),i&&this.isRoot)){this.processInputBandIds();this.swizzleInputBandIds(this.rawInputBandIds)||(i=this.rawInputBandIds.length<=3)}return this._bindingResult.supportsGPU=i,this._bindingResult}return this._bindingResult={success:!0,supportsGPU:!0},this._bindingResult}process(t){const s=this._getRasterValues(),e=0===s.length?t.pixelBlocks??t.primaryPixelBlocks:s.map((s=>this._readRasterValue(s,t)));return this._processPixels({...t,pixelBlocks:e})}processInputBandIds(){const t=this._getRasterValues().filter(this._isRasterFunctionValue);if(t.length>1){const s=t.map((t=>t.processInputBandIds()));return this.rawInputBandIds=[...new Set(s.flat())],this.rawInputBandIds}const s=t[0];if(s)return this.rawInputBandIds=s.processInputBandIds(),this.rawInputBandIds;const{bandCount:e}=this.sourceRasterInfos[0],r=Array.from({length:e},((t,s)=>s));return this.rawInputBandIds=this._getInputBandIds(r),this.rawInputBandIds}swizzleInputBandIds(t){const s=this._getRasterValues().filter(this._isRasterFunctionValue);let e=!0;for(const r of s)e=r.swizzleInputBandIds(t)&&e;return!!e&&this._swizzleBandIds(t)}getPrimaryRasters(){const t=[],s=[];return this._getPrimaryRasters(this,t,s),{rasters:t,rasterIds:s}}getWebGLProcessorDefinition(){const t=this._getWebGLParameters(),{raster:s,rasters:e}=this.functionArguments;return e&&Array.isArray(e)&&e.length?(t.rasters=e.map((t=>this._isRasterFunctionValue(t)?t.getWebGLProcessorDefinition():"number"==typeof t?{name:"Constant",parameters:{value:t},pixelType:"f32",id:-1,isNoopProcess:!1}:{name:"Identity",parameters:{value:t},pixelType:"f32",id:-1,isNoopProcess:!1})),t.rasters.some((t=>null!=t))||(t.rasters=null)):this._isRasterFunctionValue(s)&&(t.raster=s.getWebGLProcessorDefinition()),{name:this.functionName,parameters:t,pixelType:this.outputPixelType,id:this.id,isNoopProcess:this.isNoopProcess}}getClippingGeometries(){const t=[];"Clip"===this.functionName&&t.push(this.functionArguments);const{raster:s,rasters:e}=this.functionArguments;if(e&&Array.isArray(e)&&e.length)e.forEach((s=>{if(this._isRasterFunctionValue(s)){const e=s.getClippingGeometries();t.push(...e)}}));else if(this._isRasterFunctionValue(s)){const e=s.getClippingGeometries();t.push(...e)}return t}_getOutputPixelType(t){return"unknown"===this.outputPixelType?t:this.outputPixelType??t}_getWebGLParameters(){return{}}_getInputBandIds(t){return t}_swizzleBandIds(t){return!0}_isInputRasterPrimaryOrConstant(){return!this._getRasterValues().some((t=>t&&"object"==typeof t&&"rasterFunction"in t&&t.rasterFunction))}_removeStatsHistColormapVAT(t){t.statistics=null,t.histograms=null,t.colormap=null,t.attributeTable=null,t.multidimensionalInfo?.variables.forEach((t=>{t.statistics=void 0,t.histograms=void 0}))}_getRasterValues(){const{rasterArgumentNames:t}=this;return"rasters"===t[0]?this.functionArguments.rasters??[]:t.flatMap((t=>this.functionArguments[t]))}_getSourceRasterInfos(t){const s=this._getRasterValues(),{rasterInfos:e,rasterIds:r}=t;if(0===s.length)return e;const i=s.map((t=>t&&"object"==typeof t&&"bind"in t&&t.rasterInfo?t.rasterInfo:"string"==typeof t&&r.includes(t)?e[r.indexOf(t)]:"number"!=typeof t?e[0]:void 0)),n=i.find((t=>t))??e[0];return i.forEach(((t,s)=>{void 0===t&&(i[s]=n)})),i}_getPrimaryRasterId(t){return t?.rasterId}_getPrimaryRasters(t,s=[],e=[]){for(let r=0;r<t.sourceRasters.length;r++){const i=t.sourceRasters[r];if("number"!=typeof i)if("bind"in i)this._getPrimaryRasters(i,s,e);else{const t=i,r=this._getPrimaryRasterId(t);if(null==r)continue;e.includes(r)||(this.mainPrimaryRasterId===r?(s.unshift(t),e.unshift(r)):(s.push(t),e.push(r)))}}}_isRasterFunctionValue(t){return null!=t&&"object"==typeof t&&"getWebGLProcessorDefinition"in t}_readRasterValue(t,s){const{primaryPixelBlocks:e}=s;if(null==t||"$$"===t){const t=e[0];return null==t?null:t.clone()}if("string"==typeof t){const r=s.primaryRasterIds.indexOf(t);return-1===r?null:e[r]}if("number"==typeof t){const s=e[0];if(null==s)return null;const{width:r,height:i,pixelType:o}=s,a=new Float32Array(r*i);a.fill(t);const u=this.sourceRasterInfos[0].bandCount,p=new Array(u).fill(a);return new PixelBlock/* default */.A({width:r,height:i,pixelType:o,pixels:p})}return t.process(s)}_patchRasterInfo(){const{rasterInfo:t}=this;if(!t?.keyProperties)return;const{bandCount:s,keyProperties:e,statistics:r,histograms:i}=t,n=e.BandProperties;n&&n.length!==s&&(t.keyProperties={...e,BandProperties:void 0}),r&&r.length!==s&&(t.statistics=r.length>s?r.slice(0,s):null),i&&i.length!==s&&(t.histograms=i.length>s?i.slice(0,s):null),e.BAND_COUNT&&Number(e.BAND_COUNT)!==s&&(t.keyProperties={...e,BAND_COUNT:"string"==typeof e.BAND_COUNT?String(s):s})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],u.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],u.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}}),(0,cast/* cast */.w)((t=>t?.toLowerCase()))],u.prototype,"outputPixelType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],u.prototype,"mainPrimaryRasterId",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"sourceRasters",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[RasterInfo/* default */.A],json:{write:!0}})],u.prototype,"sourceRasterInfos",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],u.prototype,"rasterInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],u.prototype,"readingBufferSize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],u.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"isNoopProcess",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"supportsGPU",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"rawInputBandIds",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"rawSourceRasterInfos",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"isInputBandIdsSwizzled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"swizzledBandSelection",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"isBranch",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"isRoot",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],u.prototype,"flatWebGLFunctionChain",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"_bindingResult",void 0),u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.BaseRasterFunction")],u);const BaseRasterFunction_p=u;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctionConstants.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const rasterFunctionConstants_e={degree:1,percentRise:2,adjusted:3},r={standard:0,planform:1,profile:2},rasterFunctionConstants_i={traditional:0,multidirectional:1},t={userDefined:0,NDVI:1,SAVI:2,TSAVI:3,MSAVI:4,GEMI:5,PVI:6,GVITM:7,Sultan:8,VARI:9,GNDVI:10,SR:11,NDVIRe:12,SRRe:13,MTVI2:14,RTVICore:15,CIRe:16,CIG:17,NDWI:18,EVI:19,ironOxide:20,ferrousMinerals:21,clayMinerals:22,WNDWI:23,BAI:24,NBR:25,NDBI:26,NDMI:27,NDSI:28,MNDWI:29},rasterFunctionConstants_a={random:"Random",NDVI:"NDVI",NDVI2:"NDVI2",NDVI3:"NDVI3",elevation:"Elevation",gray:"Gray",hillshade:"Hillshade"},n={aspect:"Aspect",blackToWhite:"Black to White",blueBright:"Blue Bright",blueLightToDark:"Blue Light to Dark",blueGreenBright:"Blue-Green Bright",blueGreenLightToDark:"Blue-Green Light to Dark",brownLightToDark:"Brown Light to Dark",brownToBlueGreenDivergingBright:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark:"Brown to Blue Green Diverging, Dark",coefficientBias:"Coefficient Bias",coldToHotDiverging:"Cold to Hot Diverging",conditionNumber:"Condition Number",cyanToPurple:"Cyan to Purple",cyanLightToBlueDark:"Cyan-Light to Blue-Dark",distance:"Distance",elevation1:"Elevation #1",elevation2:"Elevation #2",errors:"Errors",grayLightToDark:"Gray Light to Dark",greenBright:"Green Bright",greenLightToDark:"Green Light to Dark",greenToBlue:"Green to Blue",orangeBright:"Orange Bright",orangeLightToDark:"Orange Light to Dark",partialSpectrum:"Partial Spectrum",partialSpectrum1Diverging:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark:"Pink to YellowGreen Diverging, Dark",precipitation:"Precipitation",prediction:"Prediction",purpleBright:"Purple Bright",purpleToGreenDivergingBright:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark:"Purple to Green Diverging, Dark",purpleBlueBright:"Purple-Blue Bright",purpleBlueLightToDark:"Purple-Blue Light to Dark",purpleRedBright:"Purple-Red Bright",purpleRedLightToDark:"Purple-Red Light to Dark",redBright:"Red Bright",redLightToDark:"Red Light to Dark",redToBlueDivergingBright:"Red to Blue Diverging, Bright",redToBlueDivergingDark:"Red to Blue Diverging, Dark",redToGreen:"Red to Green",redToGreenDivergingBright:"Red to Green Diverging, Bright",redToGreenDivergingDark:"Red to Green Diverging, Dark",slope:"Slope",spectrumFullBright:"Spectrum-Full Bright",spectrumFullDark:"Spectrum-Full Dark",spectrumFullLight:"Spectrum-Full Light",surface:"Surface",temperature:"Temperature",whiteToBlack:"White to Black",yellowToDarkRed:"Yellow to Dark Red",yellowToGreenToDarkBlue:"Yellow to Green to Dark Blue",yellowToRed:"Yellow to Red",yellowGreenBright:"Yellow-Green Bright",yellowGreenLightToDark:"Yellow-Green Light to Dark"},o={bestMatch:0,fail:1},l={byName:0,byId:2},g={matchAny:0,matchAll:1},D={userDefined:-1,lineDetectionHorizontal:0,lineDetectionVertical:1,lineDetectionLeftDiagonal:2,lineDetectionRightDiagonal:3,gradientNorth:4,gradientWest:5,gradientEast:6,gradientSouth:7,gradientNorthEast:8,gradientNorthWest:9,smoothArithmeticMean:10,smoothing3x3:11,smoothing5x5:12,sharpening3x3:13,sharpening5x5:14,laplacian3x3:15,laplacian5x5:16,sobelHorizontal:17,sobelVertical:18,sharpen:19,sharpen2:20,pointSpread:21,none:255},h={outside:1,inside:2},rasterFunctionConstants_u={none:0,standardDeviation:3,histogramEqualization:4,minMax:5,percentClip:6,sigmoid:9},d={plus:1,minus:2,times:3,sqrt:4,power:5,abs:10,divide:23,exp:25,exp10:26,exp2:27,int:30,float:32,ln:35,log10:36,log2:37,mod:44,negate:45,roundDown:48,roundUp:49,square:53,floatDivide:64,floorDivide:65},s={bitwiseAnd:11,bitwiseLeftShift:12,bitwiseNot:13,bitwiseOr:14,bitwiseRightShift:15,bitwiseXOr:16,booleanAnd:17,booleanNot:18,booleanOr:19,booleanXOr:20,equalTo:24,greaterThan:28,greaterThanEqual:29,lessThan:33,lessThanEqual:34,isNull:31,notEqual:46},rasterFunctionConstants_p={acos:6,asin:7,atan:8,atanh:9,cos:21,cosh:22,sin:51,sinh:52,tan:56,tanh:57,acosh:59,asinh:60,atan2:61},c={majority:38,max:39,mean:40,med:41,min:42,minority:43,range:47,stddev:54,sum:55,variety:58,majorityIgnoreNoData:66,maxIgnoreNoData:67,meanIgnoreNoData:68,medIgnoreNoData:69,minIgnoreNoData:70,minorityIgnoreNoData:71,rangeIgnoreNoData:72,stddevIgnoreNoData:73,sumIgnoreNoData:74,varietyIgnoreNoData:75},B={setNull:50,conditional:78},m={...d,...s,...rasterFunctionConstants_p,...c,...B},k={plus:1,minus:2,multiply:3,divide:4,power:5,mod:6},v={otsu:1},T={difference:0,relativeDifference:1,categorical:2,spectralEuclidianDistance:3,spectralAngleDifference:4,bandWithMostChange:5},I={all:1,changed:2,unchanged:3},G={min:1,max:2,mean:3,standardDeviation:4,median:5,majority:6,minority:7},N={max:0,min:1,median:2,duration:3};

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/localUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const localUtils_a=new Map([[rasterFunctionConstants_p.acos,{domain:[0,Math.PI],isInteger:!1}],[rasterFunctionConstants_p.asin,{domain:[-Math.PI/2,Math.PI/2],isInteger:!1}],[rasterFunctionConstants_p.atan,{domain:[-Math.PI/2,Math.PI/2],isInteger:!1}],[rasterFunctionConstants_p.cos,{domain:[-1,1],isInteger:!1}],[rasterFunctionConstants_p.sin,{domain:[-1,1],isInteger:!1}],[s.booleanAnd,{domain:[0,1],isInteger:!0}],[s.booleanNot,{domain:[0,1],isInteger:!0}],[s.booleanOr,{domain:[0,1],isInteger:!0}],[s.booleanXOr,{domain:[0,1],isInteger:!0}],[s.equalTo,{domain:[0,1],isInteger:!0}],[s.notEqual,{domain:[0,1],isInteger:!0}],[s.greaterThan,{domain:[0,1],isInteger:!0}],[s.greaterThanEqual,{domain:[0,1],isInteger:!0}],[s.lessThan,{domain:[0,1],isInteger:!0}],[s.lessThanEqual,{domain:[0,1],isInteger:!0}],[s.isNull,{domain:[0,1],isInteger:!0}]]);function localUtils_l(t){return localUtils_a.get(t)}const localUtils_c=[0,2,2,2,1,2,1,1,1,1,1,2,2,1,2,2,2,2,1,2,2,1,1,2,2,1,1,1,2,2,1,1,1,2,2,1,1,1,999,999,999,999,999,999,2,1,2,999,1,1,2,1,1,1,999,999,1,1,999,1,1,2,999,999,2,2,999,999,999,999,999,999,999,999,999,999,3,999,3];function f(t,e=!1){const n=t.map((t=>t.mask)),r=n.filter((t=>null!=t)),o=t[0].pixels[0].length;if(0===r.length||e&&r.length!==n.length)return new Uint8Array(o).fill(255);const s=r[0],a=new Uint8Array(s);if(1===r.length)return a;if(!e){for(let t=1;t<r.length;t++){const e=r[t];for(let t=0;t<a.length;t++)a[t]&&(a[t]=e[t]?255:0)}return a}for(let l=1;l<r.length;l++){const t=r[l];for(let e=0;e<a.length;e++)0===a[e]&&(a[e]=t[e]?255:0)}return a}function localUtils_i(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]+s[t]);return l}function localUtils_u(e,n,r){const[o]=e,s=o.length,a=PixelBlock/* default */.A.createEmptyBand("f32",s);return a.set(o),a}function localUtils_h(e,n,r){const[o]=e,s=o.length,a=PixelBlock/* default */.A.createEmptyBand(r,s);for(let t=0;t<s;t++)n&&!n[t]||(a[t]=o[t]*o[t]);return a}function localUtils_g(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]-s[t]);return l}function localUtils_p(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]*s[t]);return l}function localUtils_m(e,n,r){const[o]=e,s=o.length,a=PixelBlock/* default */.A.createEmptyBand(r,s);for(let t=0;t<s;t++)n&&!n[t]||(a[t]=Math.sign(o[t])*Math.floor(Math.abs(o[t])));return a}function localUtils_d(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]/s[t]);return l}function y(t,e,n){return localUtils_d(t,e,"f32")}function E(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=Math.floor(o[t]/s[t]));return l}function M(e,r,o,s){const a=e[0],l=a.length,c=PixelBlock/* default */.A.createEmptyBand(o,l);if(s===rasterFunctionConstants_p.atanh){for(let t=0;t<l;t++)if(r[t]){const e=a[t];Math.abs(e)>=1?r[t]=0:c[t]=Math.atanh(e)}return c}const f=s===rasterFunctionConstants_p.asin?Math.asin:Math.acos;for(let t=0;t<l;t++)if(r[t]){const e=a[t];Math.abs(e)>1?r[t]=0:c[t]=f(e)}return c}function localUtils_B(e,n,r,o){const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o(s[t]));return l}function localUtils_I(e,n,r,o){const[s,a]=e,l=s.length,c=PixelBlock/* default */.A.createEmptyBand(r,l);for(let t=0;t<l;t++)n&&!n[t]||(c[t]=o(s[t],a[t]));return c}function w(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]&s[t]);return l}function x(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]<<s[t]);return l}function b(e,n,r){const[o]=e,s=o.length,a=PixelBlock/* default */.A.createEmptyBand(r,s);for(let t=0;t<s;t++)n&&!n[t]||(a[t]=~o[t]);return a}function A(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]|s[t]);return l}function P(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]>>s[t]);return l}function localUtils_T(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]^s[t]);return l}function localUtils_k(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]&&s[t]?1:0);return l}function q(e,n,r){const[o]=e,s=o.length,a=PixelBlock/* default */.A.createEmptyBand(r,s);for(let t=0;t<s;t++)n&&!n[t]||(a[t]=o[t]?0:1);return a}function localUtils_N(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]||s[t]?1:0);return l}function U(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=(o[t]?1:0)^(s[t]?1:0));return l}function F(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]===s[t]?1:0);return l}function j(e,n,r,o){const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a),c=o===Math.E;for(let t=0;t<a;t++)n&&!n[t]||(l[t]=c?Math.exp(s[t]):o**s[t]);return l}function z(t,e,n){return j(t,e,n,10)}function O(t,e,n){return j(t,e,n,2)}function C(t,e,n){return j(t,e,n,Math.E)}function R(e,n,r,o){const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(s[t]<=0?n[t]=0:l[t]=o(s[t]));return l}function S(t,e,n){return R(t,e,n,Math.log10)}function X(t,e,n){return R(t,e,n,Math.log2)}function localUtils_v(t,e,n){return R(t,e,n,Math.log)}function localUtils_D(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]>s[t]?1:0);return l}function localUtils_G(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]>=s[t]?1:0);return l}function H(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]<s[t]?1:0);return l}function J(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]<=s[t]?1:0);return l}function K(e,n,r){const[o]=e,s=o.length,a=PixelBlock/* default */.A.createEmptyBand(r,s);if(!n)return a;for(let t=0;t<s;t++)a[t]=n[t]?0:1;return a}function L(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]%s[t]);return l}function Q(e,n,r){const[o]=e,s=o.length,a=PixelBlock/* default */.A.createEmptyBand(r,s);for(let t=0;t<s;t++)n&&!n[t]||(a[t]=-o[t]);return a}function V(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]===s[t]?0:1);return l}function W(e,n,r){const[o,s]=e,a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a),c=new Uint8Array(a);for(let t=0;t<a;t++)null!=n&&!n[t]||0!==o[t]||(l[t]=s[t],c[t]=255);return{band:l,mask:c}}function Y(e,n,r){const[o,s,a]=e,l=o.length,c=PixelBlock/* default */.A.createEmptyBand(r,l);for(let t=0;t<l;t++)n&&!n[t]||(c[t]=o[t]?s[t]:a[t]);return c}function Z(e,n,r){const o=e.length;if(o<2)return e[0];const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)if(!n||n[t]){let n=s[t];for(let r=1;r<o;r++){const o=e[r][t];n<o&&(n=o)}l[t]=n}return l}function $(e,n,r){const o=e.length;if(o<2)return e[0];const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)if(!n||n[t]){let n=s[t];for(let r=1;r<o;r++){const o=e[r][t];n>o&&(n=o)}l[t]=n}return l}function _(e,n,r){const o=e.length;if(o<2)return e[0];const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)if(!n||n[t]){let n=s[t],r=n;for(let s=1;s<o;s++){const o=e[s][t];r<o?r=o:n>o&&(n=o)}l[t]=r-n}return l}function tt(e,n,r){const o=e.length;if(o<2)return e[0];const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)if(!n||n[t]){let n=0;for(let r=0;r<o;r++)n+=e[r][t];l[t]=n/o}return l}function et(e,n,r){const o=e.length;if(o<2)return e[0];const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)if(!n||n[t])for(let n=0;n<o;n++){const r=e[n];l[t]+=r[t]}return l}function nt(e,n,r){const o=e.length;if(o<2)return e[0];const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)if(!n||n[t]){const n=new Float32Array(o);let r=0;for(let a=0;a<o;a++){const o=e[a];r+=o[t],n[a]=o[t]}r/=o;let s=0;for(let t=0;t<o;t++)s+=(n[t]-r)**2;l[t]=Math.sqrt(s/o)}return l}function rt(e,n,r){const o=e.length;if(o<2)return e[0];const s=Math.floor(o/2),[a]=e,l=a.length,c=PixelBlock/* default */.A.createEmptyBand(r,l),f=new Float32Array(o),i=o%2==1;for(let t=0;t<l;t++)if(!n||n[t]){for(let n=0;n<o;n++)f[n]=e[n][t];f.sort(),c[t]=i?f[s]:(f[s]+f[s-1])/2}return c}function ot(e,n,r){const[o,s]=e;if(null==s)return o;const a=o.length,l=PixelBlock/* default */.A.createEmptyBand(r,a);for(let t=0;t<a;t++)n&&!n[t]||(l[t]=o[t]<s[t]?o[t]:s[t]);return l}function st(e,n,r){const o=e.length;if(o<=2)return ot(e,n,r);const s=e[0].length,a=PixelBlock/* default */.A.createEmptyBand(r,s),l=new Map;for(let t=0;t<s;t++)if(!n||n[t]){l.clear();for(let a=0;a<o;a++){const n=e[a][t];l.set(n,l.has(n)?l.get(n)+1:1)}let n=0,r=0;const s=[];for(const t of l.keys())n=l.get(t),n>r?(r=n,s.length=0,s.push(t)):n===r&&s.push(t);s.length>1&&s.sort(((t,e)=>t-e)),a[t]=s[0]}return a}function at(e,n,r){const o=e.length;if(o<=2)return ot(e,n,r);const s=e[0].length,a=PixelBlock/* default */.A.createEmptyBand(r,s),l=new Map;for(let t=0;t<s;t++)if(!n||n[t]){l.clear();for(let a=0;a<o;a++){const n=e[a][t];l.set(n,l.has(n)?l.get(n)+1:1)}let n=0,r=e.length;const s=[];for(const t of l.keys())n=l.get(t),n<r?(r=n,s.length=0,s.push(t)):n===r&&s.push(t);s.length>1&&s.sort(((t,e)=>t-e)),a[t]=s[0]}return a}function lt(e,n,r){const o=e.length;if(o<2)return e[0];const[s]=e,a=s.length,l=PixelBlock/* default */.A.createEmptyBand(r,a),c=new Set;for(let t=0;t<a;t++)if(!n||n[t]){let n;c.clear();for(let r=0;r<o;r++)n=e[r][t],c.add(n);l[t]=c.size}return l}const ct=new Map,ft=new Map,it=new Map,ut=new Map;function ht(){ct.size||(ct.set(4,Math.sqrt),ct.set(6,Math.acos),ct.set(7,Math.asin),ct.set(8,Math.atan),ct.set(9,Math.atanh),ct.set(10,Math.abs),ct.set(21,Math.cos),ct.set(22,Math.cosh),ct.set(48,Math.floor),ct.set(49,Math.ceil),ct.set(51,Math.sin),ct.set(52,Math.sinh),ct.set(56,Math.tan),ct.set(57,Math.tanh),ct.set(59,Math.acosh),ct.set(60,Math.asinh),ct.set(65,Math.floor),ft.set(5,Math.pow),ft.set(61,Math.atan2),it.set(1,localUtils_i),it.set(2,localUtils_g),it.set(3,localUtils_p),it.set(11,w),it.set(12,x),it.set(13,b),it.set(14,A),it.set(15,P),it.set(16,localUtils_T),it.set(17,localUtils_k),it.set(18,q),it.set(19,localUtils_N),it.set(20,U),it.set(23,localUtils_d),it.set(24,F),it.set(25,C),it.set(26,z),it.set(27,O),it.set(28,localUtils_D),it.set(29,localUtils_G),it.set(30,localUtils_m),it.set(31,K),it.set(32,localUtils_u),it.set(33,H),it.set(34,J),it.set(35,localUtils_v),it.set(36,S),it.set(37,X),it.set(44,L),it.set(45,Q),it.set(46,V),it.set(53,localUtils_h),it.set(64,y),it.set(65,E),it.set(76,Y),it.set(78,Y),ut.set(38,st),ut.set(39,Z),ut.set(40,tt),ut.set(41,rt),ut.set(42,$),ut.set(43,at),ut.set(47,_),ut.set(54,nt),ut.set(55,et),ut.set(58,lt),ut.set(66,st),ut.set(67,Z),ut.set(68,tt),ut.set(69,rt),ut.set(70,$),ut.set(71,at),ut.set(72,_),ut.set(73,nt),ut.set(74,et),ut.set(75,lt))}function gt(l,c,i={}){ht();let u=f(l,c>=66&&c<=75);const{outputPixelType:h="f32"}=i,g=!ut.has(c)||i.processAsMultiband,p=g?l[0].pixels.length:1,m=[];for(let f=0;f<p;f++){const i=ut.has(c)&&!g?l.flatMap((t=>t.pixels)):l.map((t=>t.pixels[f]));let p,d=!0;if(c===B.setNull){const t=W(i,u,h);p=t.band,u=t.mask,d=!1}else if(it.has(c)){p=it.get(c)(i,u,"f64")}else if(ct.has(c))p=c===rasterFunctionConstants_p.asin||c===rasterFunctionConstants_p.acos||c===rasterFunctionConstants_p.atanh?M(i,u,"f64",c):localUtils_B(i,u,"f64",ct.get(c));else if(ft.has(c))p=localUtils_I(i,u,"f64",ft.get(c));else if(ut.has(c)){p=ut.get(c)(i,u,"f64")}else p=i[0],d=!1;if(d&&c!==s.isNull&&!localUtils_a.has(c)){const e=PixelBlock/* default */.A.createEmptyBand(h,p.length);u||(u=new Uint8Array(p.length).fill(255)),(0,pixelRangeUtils/* fixNaN */.$p)(p,u),(0,pixelRangeUtils/* clipBandToPixelTypeRange */.yM)(p,u,h,e),p=e}m.push(p)}const d=l[0];return new PixelBlock/* default */.A({width:d.width,height:d.height,pixelType:h,mask:c===s.isNull?null:u,pixels:m})}function pt(t,e,n){return gt(t,e=[null,1,2,3,23,5,44][e]??1,{outputPixelType:n})}

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ArithmeticFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ArithmeticFunction_p=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Arithmetic",this.functionArguments=null,this.rasterArgumentNames=["raster","raster2"]}_bindSourceRasters(){const{operation:t}=this.functionArguments;if(t<1||t>6)return{success:!1,supportsGPU:!1,error:"unsupported operation"};const e=this.sourceRasterInfos[0].clone();this.outputPixelType=this._getOutputPixelType(e.pixelType),e.pixelType=this.outputPixelType,this._removeStatsHistColormapVAT(e),this.rasterInfo=e;return{success:!0,supportsGPU:e.bandCount<=3}}_processPixels(t){const{pixelBlocks:e}=t;return null==e?.[0]||null==e?.[1]?null:pt(e,this.functionArguments.operation,this.outputPixelType)}_getWebGLParameters(){const{operation:t}=this.functionArguments,e=["","plus","minus","times","divide","power","mod"][t],r=this.outputPixelType??"f32";let[i,n]=(0,pixelRangeUtils/* getPixelValueRange */.hP)(r);const u=(0,pixelRangeUtils/* isIntegerPixelType */.zw)(r);return u&&(i-=1e-4,n+=1e-4),{imageCount:2,operationName:e,domainRange:[i,n],isOutputRounded:u}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ArithmeticFunction_p.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:i,json:{write:!0,name:"rasterFunctionArguments"}})],ArithmeticFunction_p.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ArithmeticFunction_p.prototype,"rasterArgumentNames",void 0),ArithmeticFunction_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ArithmeticFunction")],ArithmeticFunction_p);const ArithmeticFunction_a=ArithmeticFunction_p;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/AspectFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var AspectFunctionArguments_t;let AspectFunctionArguments_e=AspectFunctionArguments_t=class extends p{clone(){return new AspectFunctionArguments_t({raster:this.raster})}};AspectFunctionArguments_e=AspectFunctionArguments_t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.AspectFunctionArguments")],AspectFunctionArguments_e);const AspectFunctionArguments_c=AspectFunctionArguments_e;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/surfaceUtils.js
var surfaceUtils = __webpack_require__(95617);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/AspectFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let AspectFunction_n=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Aspect",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isGCS=!1}_bindSourceRasters(){const t=this.sourceRasterInfos[0];this.isGCS=t.spatialReference?.isGeographic??!1,this.outputPixelType=this._getOutputPixelType("f32");const s=t.clone();return s.pixelType=this.outputPixelType,this._removeStatsHistColormapVAT(s),s.statistics=[{min:-1,max:360,avg:180,stddev:30}],s.bandCount=1,this.rasterInfo=s,{success:!0,supportsGPU:!0}}_processPixels(t){const s=t.pixelBlocks?.[0];if(null==s)return null;const{extent:e,primaryPixelSizes:r}=t,o=r?.[0],n=o??(e?{x:e.width/s.width,y:e.height/s.height}:{x:1,y:1});return (0,surfaceUtils/* aspect */.di)(s,{resolution:n})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],AspectFunction_n.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:AspectFunctionArguments_c,json:{write:!0,name:"rasterFunctionArguments"}})],AspectFunction_n.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],AspectFunction_n.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],AspectFunction_n.prototype,"isGCS",void 0),AspectFunction_n=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.AspectFunction")],AspectFunction_n);const AspectFunction_p=AspectFunction_n;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(85716);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/jsonMap.js
var jsonMap = __webpack_require__(1817);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/customBandIndexUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const customBandIndexUtils_e=new Set(["+","-","*","/","(",")"]);function customBandIndexUtils_t(t,r){(t=t.replaceAll(" ","")).startsWith("-")&&(t="0"+t),t.startsWith("+")&&(t=t.slice(1));const l=t.split(""),o=[],s=[];let a="";for(let i=0;i<l.length;i++){const t=l[i];customBandIndexUtils_e.has(t)?(a.length&&s.push(customBandIndexUtils_n(a,r)),o.push(t),a=""):a=a.concat(t)}return a.length&&s.push(customBandIndexUtils_n(a,r)),{ops:o,nums:s}}function customBandIndexUtils_n(e,t){return e.toLowerCase().startsWith("b")?t[parseInt(e.slice(1),10)-1]:parseFloat(e)}function customBandIndexUtils_r(e,t,n,r){if("number"==typeof n&&"number"==typeof r)return n+r;let l,o,s;"number"==typeof n?(s=r,l=s.length,o=new Float32Array(l),o.fill(n)):(l=n.length,o=n,r.constructor===Number?(s=new Float32Array(l),s.fill(r)):s=r);const a=new Float32Array(l);switch(t){case"+":for(let t=0;t<l;t++)(null==e||e[t])&&(a[t]=o[t]+s[t]);break;case"-":for(let t=0;t<l;t++)(null==e||e[t])&&(a[t]=o[t]-s[t]);break;case"*":for(let t=0;t<l;t++)(null==e||e[t])&&(a[t]=o[t]*s[t]);break;case"/":for(let t=0;t<l;t++)(null==e||e[t])&&s[t]&&(a[t]=o[t]/s[t]);break;case"(":case")":throw new Error("encountered error with custom band index equation")}return a}function customBandIndexUtils_l(e,t){e.splice(t,1);let n=0,r=0;do{n=0,r=0;for(let t=0;t<e.length;t++)if("("===e[t])n=t;else if(")"===e[t]){r=t;break}r===n+1&&e.splice(n,2)}while(r===n+1);return e}function customBandIndexUtils_o(e){if(1===e.length)return{opIndex:0,numIndex:0};let t=0,n=0;for(let s=0;s<e.length;s++)if("("===e[s])t=s;else if(")"===e[s]){n=s;break}const r=0===n?e:e.slice(t+1,n);let l=-1;for(let s=0;s<r.length;s++)if("*"===r[s]||"/"===r[s]){l=s;break}if(l>-1)n>0&&(l+=t+1);else{for(let e=0;e<r.length;e++)if("+"===r[e]||"-"===r[e]){l=e;break}n>0&&(l+=t+1)}let o=0;for(let s=0;s<l;s++)"("===e[s]&&o++;return{opIndex:l,numIndex:l-o}}function customBandIndexUtils_s(e,n,s){let a,{ops:i,nums:f}=customBandIndexUtils_t(s,n);if(0===i.length){const e=1===f.length?f[0]:n[0];if(e instanceof Float32Array)return[e];const t=new Float32Array(n[0].length);return"number"==typeof e?t.fill(e):t.set(e),[t]}for(;i.length>0;){const{numIndex:t,opIndex:n}=customBandIndexUtils_o(i);if(a=customBandIndexUtils_r(e,i[n],f[t],f[t+1]),1===i.length)break;i=customBandIndexUtils_l(i,n),f.splice(t,2,a)}return[a]}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/pixelUtils.js
var pixelUtils = __webpack_require__(86924);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/bandIndexUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const bandIndexUtils_i=new jsonMap/* JSONMap */.J({0:"custom",1:"ndvi",2:"savi",3:"tsavi",4:"msavi",5:"gemi",6:"pvi",7:"gvitm",8:"sultan",9:"vari",10:"gndvi",11:"sr",12:"ndvi-re",13:"sr-re",14:"mtvi2",15:"rtvi-core",16:"ci-re",17:"ci-g",18:"ndwi",19:"evi",20:"iron-oxide",21:"ferrous-minerals",22:"clay-minerals",23:"wndwi",24:"bai",25:"nbr",26:"ndbi",27:"ndmi",28:"ndsi",29:"mndwi"},{useNumericKeys:!0});function bandIndexUtils_s(t,i){if(!(0,pixelUtils/* isValidPixelBlock */.AB)(t))return t;const{equation:s,method:l}=i,c=i.bandIndexes.map((t=>t-1)),{pixels:U,mask:q}=t;let M;switch(l){case"gndvi":case"nbr":case"ndbi":case"ndvi":case"ndvi-re":case"ndsi":case"ndmi":case"mndwi":M=bandIndexUtils_u(q,U[c[0]],U[c[1]]);break;case"ndwi":M=bandIndexUtils_u(q,U[c[1]],U[c[0]]);break;case"sr":case"sr-re":case"iron-oxide":case"ferrous-minerals":case"clay-minerals":M=bandIndexUtils_f(q,U[c[0]],U[c[1]]);break;case"ci-g":case"ci-re":M=bandIndexUtils_h(q,U[c[0]],U[c[1]]);break;case"savi":M=bandIndexUtils_w(q,U[c[0]],U[c[1]],c[2]+1);break;case"tsavi":M=bandIndexUtils_m(q,U[c[0]],U[c[1]],c[2]+1,c[3]+1,c[4]+1);break;case"msavi":M=bandIndexUtils_d(q,U[c[0]],U[c[1]]);break;case"gemi":M=bandIndexUtils_g(q,U[c[0]],U[c[1]]);break;case"pvi":M=bandIndexUtils_y(q,U[c[0]],U[c[1]],c[2]+1,c[3]+1);break;case"gvitm":M=bandIndexUtils_p(q,[U[c[0]],U[c[1]],U[c[2]],U[c[3]],U[c[4]],U[c[5]]]);break;case"sultan":M=bandIndexUtils_b(q,[U[c[0]],U[c[1]],U[c[2]],U[c[3]],U[c[4]]]);break;case"vari":M=bandIndexUtils_v(q,[U[c[0]],U[c[1]],U[c[2]]]);break;case"mtvi2":M=bandIndexUtils_k(q,[U[c[0]],U[c[1]],U[c[2]]]);break;case"rtvi-core":M=bandIndexUtils_A(q,[U[c[0]],U[c[1]],U[c[2]]]);break;case"evi":M=bandIndexUtils_F(q,[U[c[0]],U[c[1]],U[c[2]]]);break;case"wndwi":M=bandIndexUtils_x(q,[U[c[0]],U[c[1]],U[c[2]]],c[3]?c[3]+1:.5);break;case"bai":M=bandIndexUtils_j(q,U[c[0]],U[c[1]]);break;case"custom":M=customBandIndexUtils_s(q,U,s);break;default:return t}const{outputPixelType:B="f32"}=i,T=null!=B&&(0,pixelRangeUtils/* isIntegerPixelType */.zw)(B);let I;q?(I=new Uint8Array(t.width*t.height),I.set(q)):T&&(I=new Uint8Array(t.width*t.height).fill(255)),T&&(M=M.map((t=>{const e=PixelBlock/* default */.A.createEmptyBand(B,t.length);return (0,pixelRangeUtils/* clipBandToPixelTypeRange */.yM)(t,I,B,e),e})));const P=new PixelBlock/* default */.A({width:t.width,height:t.height,pixelType:B,pixels:M,mask:I});return P.updateStatistics(),P}function bandIndexUtils_l(t,e,r,a){const{mask:o,pixels:i,width:s,height:l}=t,c=i[r],u=i[e],f=u.length,h=a?new Uint8Array(f):new Float32Array(f),w=a?100:1,m=a?100.5:0;for(let n=0;n<f;n++)if(null==o||o[n]){const t=c[n],e=u[n],r=t+e;r&&(h[n]=(t-e)/r*w+m)}const d=new PixelBlock/* default */.A({width:s,height:l,mask:o,pixelType:a?"u8":"f32",pixels:[h]});return d.updateStatistics(),d}function bandIndexUtils_c(t){const n=new Float32Array(9);return n[3*t[0]]=1,n[3*t[1]+1]=1,n[3*t[2]+2]=1,n}function bandIndexUtils_u(t,n,e){const r=e.length,a=new Float32Array(r);for(let o=0;o<r;o++)if(null==t||t[o]){const t=n[o],r=e[o],i=t+r;i&&(a[o]=(t-r)/i)}return[a]}function bandIndexUtils_f(t,n,e){const r=e.length,a=new Float32Array(r);for(let o=0;o<r;o++)if(null==t||t[o]){const t=n[o],r=e[o];r&&(a[o]=t/r)}return[a]}function bandIndexUtils_h(t,n,e){const r=n.length,a=new Float32Array(r);for(let o=0;o<r;o++)if(null==t||t[o]){const t=n[o],r=e[o];r&&(a[o]=t/r-1)}return[a]}function bandIndexUtils_w(t,n,e,r){const a=e.length,o=new Float32Array(a);for(let i=0;i<a;i++)if(null==t||t[i]){const t=e[i],a=n[i],s=a+t+r;s&&(o[i]=(a-t)/s*(1+r))}return[o]}function bandIndexUtils_m(t,n,e,r,a,o){const i=e.length,s=new Float32Array(i),l=-a*r+o*(1+r*r);for(let c=0;c<i;c++)if(null==t||t[c]){const t=e[c],o=n[c],i=a*o+t+l;i&&(s[c]=r*(o-r*t-a)/i)}return[s]}function bandIndexUtils_d(t,n,e){const r=e.length,a=new Float32Array(r);for(let o=0;o<r;o++)if(null==t||t[o]){const t=e[o],r=n[o],i=2*r+1;a[o]=.5*(i-Math.sqrt(i*i-8*(r-t)))}return[a]}function bandIndexUtils_g(t,n,e){const r=e.length,a=new Float32Array(r);for(let o=0;o<r;o++)if(null==t||t[o]){const t=e[o],r=n[o];if(1!==t&&r+t+.5!==0){const n=(2*(r*r-t*t)+1.5*r+.5*t)/(r+t+.5);a[o]=n*(1-.25*n)-(t-.125)/(1-t)}}return[a]}function bandIndexUtils_y(t,n,e,r,a){const o=e.length,i=new Float32Array(o),s=1/Math.sqrt(1+r*r);for(let l=0;l<o;l++)if(null==t||t[l]){const t=e[l],o=n[l];i[l]=(o-r*t-a)*s}return[i]}function bandIndexUtils_p(t,n){const[e,r,a,o,i,s]=n,l=e.length,c=new Float32Array(l);for(let u=0;u<l;u++)(null==t||t[u])&&(c[u]=-.2848*e[u]-.2435*r[u]-.5436*a[u]+.7243*o[u]+.084*i[u]-.18*s[u]);return[c]}function bandIndexUtils_b(t,n){const[e,r,a,o,i]=n,s=e.length,l=new Float32Array(s),c=new Float32Array(s),u=new Float32Array(s);for(let f=0;f<s;f++)(null==t||t[f])&&(l[f]=i[f]?o[f]/i[f]*100:0,c[f]=e[f]?o[f]/e[f]*100:0,u[f]=a[f]?r[f]/a[f]*(o[f]/a[f])*100:0);return[l,c,u]}function bandIndexUtils_v(t,n){const[e,r,a]=n,o=e.length,i=new Float32Array(o);for(let s=0;s<o;s++)if(null==t||t[s])for(s=0;s<o;s++){const t=e[s],n=r[s],o=n+t-a[s];o&&(i[s]=(n-t)/o)}return[i]}function bandIndexUtils_k(t,n){const[e,r,a]=n,o=e.length,i=new Float32Array(o);for(let s=0;s<o;s++)if(null==t||t[s])for(s=0;s<o;s++){const t=e[s],n=r[s],o=a[s],l=Math.sqrt((2*t+1)**2-(6*t-5*Math.sqrt(n))-.5);if(l){const e=1.5*(1.2*(t-o)-2.5*(n-o));i[s]=e/l}}return[i]}function bandIndexUtils_A(t,n){const[e,r,a]=n,o=e.length,i=new Float32Array(o);for(let s=0;s<o;s++)if(null==t||t[s])for(s=0;s<o;s++){const t=e[s],n=r[s],o=a[s];i[s]=100*(t-n)-10*(t-o)}return[i]}function bandIndexUtils_F(t,n){const[e,r,a]=n,o=e.length,i=new Float32Array(o);for(let s=0;s<o;s++)if(null==t||t[s])for(s=0;s<o;s++){const t=e[s],n=r[s],o=t+6*n-7.5*a[s]+1;o&&(i[s]=2.5*(t-n)/o)}return[i]}function bandIndexUtils_x(t,n,e=.5){const[r,a,o]=n,i=a.length,s=new Float32Array(i);for(let l=0;l<i;l++)if(null==t||t[l])for(l=0;l<i;l++){const t=r[l],n=a[l],i=o[l],c=t+e*n+(1-e)*i;c&&(s[l]=(t-e*n-(1-e)*i)/c)}return[s]}function bandIndexUtils_j(t,n,e){const r=e.length,a=new Float32Array(r);for(let o=0;o<r;o++)if(null==t||t[o])for(o=0;o<r;o++){const t=(.1-n[o])**2+(.06-e[o])**2;t&&(a[o]=1/t)}return[a]}

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/BandArithmeticFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var BandArithmeticFunctionArguments_i;let BandArithmeticFunctionArguments_p=BandArithmeticFunctionArguments_i=class extends p{constructor(){super(...arguments),this.method="custom"}clone(){return new BandArithmeticFunctionArguments_i({method:this.method,bandIndexes:this.bandIndexes,raster:(0,lang/* clone */.o8)(this.raster)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{type:String,write:!0}})],BandArithmeticFunctionArguments_p.prototype,"bandIndexes",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(bandIndexUtils_i)],BandArithmeticFunctionArguments_p.prototype,"method",void 0),BandArithmeticFunctionArguments_p=BandArithmeticFunctionArguments_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.BandArithmeticFunctionArguments")],BandArithmeticFunctionArguments_p);const BandArithmeticFunctionArguments_a=BandArithmeticFunctionArguments_p;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/BandArithmeticFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const BandArithmeticFunction_c=new Set(["vari","mtvi2","rtvi-core","evi"]);let BandArithmeticFunction_u=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="BandArithmetic",this.functionArguments=null,this.rasterArgumentNames=["raster"]}_bindSourceRasters(){this.outputPixelType=this._getOutputPixelType("f32");const e=this.sourceRasterInfos[0];if(e.bandCount<2)return{success:!1,supportsGPU:!1,error:"band-arithmetic-function: source raster has insufficient amount of raster bands"};const t=e.clone();t.pixelType=this.outputPixelType,t.bandCount="sultan"===this.functionArguments.method?3:1,this._removeStatsHistColormapVAT(t),t.keyProperties={...t.keyProperties,BandProperties:void 0},this.rasterInfo=t;return{success:!0,supportsGPU:!["custom","gvitm","sultan"].includes(this.functionArguments.method)}}_processPixels(e){const t=e.pixelBlocks?.[0];if(null==t)return t;const{method:s,bandIndexes:r}=this.functionArguments,i=r.split(" ").map((e=>parseFloat(e)));return bandIndexUtils_s(t,{method:s,bandIndexes:i,equation:r,outputPixelType:this.outputPixelType})}_getWebGLParameters(){const e=this.functionArguments.bandIndexes.split(" ").map((e=>parseFloat(e)-1));2===e.length&&e.push(0);const t=this.isInputBandIdsSwizzled?[0,1,2]:e;let s,i;const n=new Float32Array(3),{method:o}=this.functionArguments;switch(o){case"gndvi":case"nbr":case"ndbi":case"ndvi":case"ndvi-re":case"ndsi":case"ndmi":case"mndwi":s=bandIndexUtils_c([t[0],t[1],0]),i="ndxi";break;case"ndwi":s=bandIndexUtils_c([t[1],t[0],0]),i="ndxi";break;case"sr":case"sr-re":case"iron-oxide":case"ferrous-minerals":case"clay-minerals":s=bandIndexUtils_c([t[0],t[1],0]),i="sr";break;case"ci-g":case"ci-re":s=bandIndexUtils_c([t[0],t[1],0]),i="ci";break;case"savi":s=bandIndexUtils_c([t[0],t[1],0]),i="savi",n[0]=e[2]+1;break;case"tsavi":s=bandIndexUtils_c([t[0],t[1],0]),i="tsavi",n[0]=e[2]+1,n[1]=e[3]+1,n[2]=e[4]+1;break;case"msavi":s=bandIndexUtils_c([t[0],t[1],0]),i="msavi";break;case"gemi":s=bandIndexUtils_c([t[0],t[1],0]),i="gemi";break;case"pvi":s=bandIndexUtils_c([t[0],t[1],0]),i="tsavi",n[0]=e[2]+1,n[1]=e[3]+1;break;case"vari":s=bandIndexUtils_c([t[0],t[1],t[2]]),i="vari";break;case"mtvi2":s=bandIndexUtils_c([t[0],t[1],t[2]]),i="mtvi";break;case"rtvi-core":s=bandIndexUtils_c([t[0],t[1],t[2]]),i="rtvicore";break;case"evi":s=bandIndexUtils_c([t[0],t[1],t[2]]),i="evi";break;case"wndwi":s=bandIndexUtils_c([t[0],t[1],0]),i="wndwi",n[0]=e[3]?e[3]+1:.5;break;case"bai":s=bandIndexUtils_c([t[1],t[0],0]),i="bai";break;default:s=bandIndexUtils_c([0,1,2]),i="custom"}return{bandIndexMat3:s,indexType:i,adjustments:n,isOutputRounded:(0,pixelRangeUtils/* isIntegerPixelType */.zw)(this.outputPixelType)}}_getInputBandIds(e){if("custom"===this.functionArguments.method)return e;const t=this.functionArguments.bandIndexes.split(" ").map((e=>parseFloat(e)-1)),s=e.length,r=t.map((e=>e>=s?s-1:e)),i=BandArithmeticFunction_c.has(this.functionArguments.method)?3:2,n=r.slice(0,i).map((t=>e[t]));return 2===n.length&&n.push(0),n}_swizzleBandIds(e){const t=this.functionArguments.bandIndexes.split(" ").map((e=>parseFloat(e)-1));2===t.length&&t.push(0);const{method:s}=this.functionArguments,r=(["vari","mtvi2","rtvi-core","evi"].includes(s)?t.slice(0,3):"bai"===s||"ndwi"===s?[t[1],t[0]]:t.slice(0,2)).map((t=>e.indexOf(t)));return r[2]??=r[1],this.isInputBandIdsSwizzled=!0,this.swizzledBandSelection=r,!1}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],BandArithmeticFunction_u.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:BandArithmeticFunctionArguments_a,json:{write:!0,name:"rasterFunctionArguments"}})],BandArithmeticFunction_u.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],BandArithmeticFunction_u.prototype,"rasterArgumentNames",void 0),BandArithmeticFunction_u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.BandArithmeticFunction")],BandArithmeticFunction_u);const BandArithmeticFunction_m=BandArithmeticFunction_u;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js
var jsonUtils = __webpack_require__(56053);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/typeUtils.js
var typeUtils = __webpack_require__(54483);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ClipFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ClipFunctionArguments_c;const ClipFunctionArguments_n=new jsonMap/* JSONMap */.J({1:"outside",2:"inside"},{useNumericKeys:!0});let ClipFunctionArguments_m=ClipFunctionArguments_c=class extends p{constructor(){super(...arguments),this.clippingType="outside"}clone(){return new ClipFunctionArguments_c({clippingGeometry:this.clippingGeometry.clone(),clippingType:this.clippingType})}};(0,tslib_es6._)([(0,property/* property */.MZ)({types:typeUtils/* geometryTypes */.yR,json:{read:jsonUtils/* fromJSON */.rS,write:!0}})],ClipFunctionArguments_m.prototype,"clippingGeometry",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{read:ClipFunctionArguments_n.read,write:ClipFunctionArguments_n.write}})],ClipFunctionArguments_m.prototype,"clippingType",void 0),ClipFunctionArguments_m=ClipFunctionArguments_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ClipFunctionArguments")],ClipFunctionArguments_m);const ClipFunctionArguments_u=ClipFunctionArguments_m;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/clipUtils.js
var clipUtils = __webpack_require__(50014);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterProjectionHelper.js
var rasterProjectionHelper = __webpack_require__(47425);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ClipFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ClipFunction_c=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Clip",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isNoopProcess=!0}_bindSourceRasters(){const t=this.sourceRasterInfos[0].clone();this.outputPixelType=this._getOutputPixelType(t.pixelType),t.pixelType=this.outputPixelType,this.rasterInfo=t;const{functionArguments:e}=this,{clippingGeometry:r,clippingType:s}=e;if(!r)return{success:!1,supportsGPU:!1,error:"missing clipping geometry"};if("outside"===s)try{const{spatialReference:e}=t,s="extent"===r.type?(0,rasterProjectionHelper/* projectExtent */._l)(r,e):(0,rasterProjectionHelper/* projectPolygon */.uk)(r,e).extent;s&&(0,clipUtils/* clipRasterInfo */.Sd)(t,s)}catch{}return{success:!0,supportsGPU:!0}}_processPixels(t){return t.pixelBlocks?.[0]}_getWebGLParameters(){const{clippingGeometry:t,clippingType:e}=this.functionArguments;return{clippingGeometry:t.toJSON(),clippingType:e}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ClipFunction_c.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ClipFunctionArguments_u,json:{write:!0,name:"rasterFunctionArguments"}})],ClipFunction_c.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ClipFunction_c.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ClipFunction_c.prototype,"isNoopProcess",void 0),ClipFunction_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ClipFunction")],ClipFunction_c);const ClipFunction_u=ClipFunction_c;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js
var reader = __webpack_require__(25376);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/colorRampUtils.js
var colorRampUtils = __webpack_require__(16976);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/colorRamps.js
var colorRamps = __webpack_require__(16506);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ColormapFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ColormapFunctionArguments_i;let ColormapFunctionArguments_u=ColormapFunctionArguments_i=class extends p{castColormapName(o){if(!o)return null;const r=o.toLowerCase();return colorRampUtils/* rasterColormapNames */.L7.includes(r)?r:null}readColorRamp(o){return (0,colorRamps/* fromJSON */.r)(o)}readColorRampName(o,r){if(!o)return null;const e=colorRampUtils/* colorRampDict */.kH.jsonValues.find((r=>r.toLowerCase()===o.toLowerCase()));return e?colorRampUtils/* colorRampDict */.kH.fromJSON(e):null}clone(){return new ColormapFunctionArguments_i({colormap:(0,lang/* clone */.o8)(this.colormap),colormapName:this.colormapName,colorRamp:this.colorRamp?.clone(),colorRampName:this.colorRampName})}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:[[Number]],json:{write:!0}})],ColormapFunctionArguments_u.prototype,"colormap",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],ColormapFunctionArguments_u.prototype,"colormapName",void 0),(0,tslib_es6._)([(0,cast/* cast */.w)("colormapName")],ColormapFunctionArguments_u.prototype,"castColormapName",null),(0,tslib_es6._)([(0,property/* property */.MZ)({types:colorRamps/* types */.g,json:{write:!0}})],ColormapFunctionArguments_u.prototype,"colorRamp",void 0),(0,tslib_es6._)([(0,reader/* reader */.w)("colorRamp")],ColormapFunctionArguments_u.prototype,"readColorRamp",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:colorRampUtils/* colorRampDict */.kH.apiValues,json:{type:colorRampUtils/* colorRampDict */.kH.jsonValues,write:colorRampUtils/* colorRampDict */.kH.write}})],ColormapFunctionArguments_u.prototype,"colorRampName",void 0),(0,tslib_es6._)([(0,reader/* reader */.w)("colorRampName")],ColormapFunctionArguments_u.prototype,"readColorRampName",null),ColormapFunctionArguments_u=ColormapFunctionArguments_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ColormapFunctionArguments")],ColormapFunctionArguments_u);const ColormapFunctionArguments_d=ColormapFunctionArguments_u;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/colormaps.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const colormaps_t=[[36,0,255],[36,0,255],[36,0,255],[36,0,255],[112,75,3],[113,76,3],[114,77,3],[115,77,3],[116,78,3],[117,79,3],[118,79,3],[119,80,3],[121,81,4],[122,82,4],[123,82,4],[124,83,4],[125,84,4],[126,84,4],[127,85,4],[128,86,4],[129,86,4],[130,87,4],[131,88,4],[132,89,4],[133,89,4],[134,90,4],[135,91,4],[136,91,4],[137,92,4],[138,93,4],[139,94,4],[140,94,4],[142,95,5],[143,96,5],[144,96,5],[145,97,5],[146,98,5],[147,99,5],[148,99,5],[149,100,5],[150,101,5],[151,101,5],[152,102,5],[153,103,5],[154,104,5],[155,104,5],[156,105,5],[157,106,5],[158,106,5],[159,107,5],[160,108,5],[161,108,5],[162,109,5],[164,110,6],[165,111,6],[166,111,6],[167,112,6],[168,113,6],[169,113,6],[170,114,6],[171,115,6],[172,116,6],[173,116,6],[174,117,6],[245,0,0],[245,5,0],[245,10,0],[246,15,0],[246,20,0],[246,25,0],[246,30,0],[247,35,0],[247,40,0],[247,45,0],[247,50,0],[247,55,0],[248,60,0],[248,65,0],[248,70,0],[248,75,0],[249,81,0],[249,86,0],[249,91,0],[249,96,0],[250,101,0],[250,106,0],[250,111,0],[250,116,0],[250,121,0],[251,126,0],[251,131,0],[251,136,0],[251,141,0],[252,146,0],[252,151,0],[252,156,0],[252,156,0],[251,159,0],[250,162,0],[249,165,0],[248,168,0],[247,171,0],[246,174,0],[245,177,0],[245,179,0],[244,182,0],[243,185,0],[242,188,0],[241,191,0],[240,194,0],[239,197,0],[238,200,0],[237,203,0],[236,206,0],[235,209,0],[234,212,0],[233,215,0],[232,218,0],[231,221,0],[230,224,0],[230,226,0],[229,229,0],[228,232,0],[227,235,0],[226,238,0],[225,241,0],[224,244,0],[223,247,0],[165,247,0],[163,244,0],[161,240,0],[158,237,0],[156,233,1],[154,230,1],[152,227,1],[149,223,1],[147,220,1],[145,216,1],[143,213,1],[140,210,2],[138,206,2],[136,203,2],[134,200,2],[132,196,2],[129,193,2],[127,189,2],[125,186,3],[123,183,3],[120,179,3],[118,176,3],[116,172,3],[114,169,3],[111,166,3],[109,162,4],[107,159,4],[105,155,4],[103,152,4],[100,149,4],[98,145,4],[96,142,4],[94,138,5],[91,135,5],[89,132,5],[87,128,5],[85,125,5],[82,121,5],[80,118,5],[78,115,6],[76,111,6],[73,108,6],[71,105,6],[69,101,6],[67,98,6],[65,94,6],[62,91,7],[60,88,7],[58,84,7],[56,81,7],[53,77,7],[51,74,7],[49,71,7],[47,67,8],[44,64,8],[42,60,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8],[40,57,8]],colormaps_o=[[36,0,255],[36,0,255],[36,0,255],[36,0,255],[245,20,0],[245,24,0],[245,29,0],[245,31,0],[247,33,0],[247,33,0],[247,37,0],[247,41,0],[247,41,0],[247,41,0],[247,45,0],[247,45,0],[247,47,0],[247,49,0],[247,49,0],[247,54,0],[247,54,0],[247,56,0],[247,58,0],[247,58,0],[250,62,0],[250,62,0],[250,62,0],[250,67,0],[250,67,0],[250,67,0],[250,69,0],[250,71,0],[250,71,0],[250,75,0],[250,75,0],[250,78,0],[250,79,0],[250,79,0],[250,79,0],[250,81,0],[250,83,0],[250,83,0],[250,87,0],[250,87,0],[250,90,0],[250,92,0],[252,93,0],[252,93,0],[252,97,0],[252,97,0],[252,97,0],[252,97,0],[252,101,0],[252,101,0],[252,101,0],[252,101,0],[252,105,0],[252,105,0],[252,107,0],[252,109,0],[252,109,0],[252,113,13],[255,118,20],[255,119,23],[255,121,25],[255,126,33],[255,132,38],[255,133,40],[255,135,43],[255,141,48],[255,144,54],[255,150,59],[255,152,61],[255,153,64],[255,159,69],[255,163,77],[255,165,79],[255,168,82],[255,174,87],[255,176,92],[255,181,97],[255,183,99],[255,186,102],[255,191,107],[255,197,115],[255,201,120],[255,203,123],[255,205,125],[255,209,130],[255,214,138],[255,216,141],[255,218,143],[255,224,150],[255,228,156],[255,234,163],[255,236,165],[255,238,168],[255,243,173],[255,248,181],[255,252,186],[253,252,186],[250,252,187],[244,250,180],[238,247,176],[234,246,173],[231,245,169],[223,240,163],[217,237,157],[211,235,150],[205,233,146],[200,230,142],[195,227,136],[189,224,132],[184,222,126],[180,220,123],[174,217,119],[169,214,114],[163,212,108],[160,210,105],[154,207,101],[148,204,96],[143,201,93],[138,199,88],[134,197,84],[130,194,81],[126,191,77],[117,189,70],[115,186,68],[112,184,64],[106,181,60],[100,179,55],[94,176,49],[92,174,47],[90,173,45],[81,168,37],[75,166,33],[71,163,28],[66,160,24],[62,158,21],[56,156,14],[51,153,0],[51,153,0],[51,153,0],[50,150,0],[50,150,0],[50,150,0],[50,150,0],[49,148,0],[49,148,0],[49,148,0],[48,145,0],[48,145,0],[48,145,0],[48,145,0],[48,143,0],[48,143,0],[48,143,0],[48,143,0],[47,140,0],[47,140,0],[47,140,0],[47,140,0],[46,138,0],[46,138,0],[46,138,0],[46,138,0],[45,135,0],[45,135,0],[45,135,0],[45,135,0],[44,133,0],[44,133,0],[44,133,0],[43,130,0],[43,130,0],[43,130,0],[43,130,0],[43,130,0],[43,130,0],[42,128,0],[42,128,0],[42,128,0],[42,125,0],[42,125,0],[42,125,0],[42,125,0],[41,122,0],[41,122,0],[41,122,0],[41,122,0],[40,120,0],[40,120,0],[40,120,0],[40,120,0],[40,120,0],[39,117,0],[39,117,0],[39,117,0],[39,117,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0],[38,115,0]];function colormaps_e(t,o){const e=[],n=[];for(let r=0;r<t.length-1;r++)e.push({type:"algorithmic",algorithm:"esriHSVAlgorithm",fromColor:t[r].slice(1),toColor:t[r+1].slice(1)}),n.push(t[r+1][0]-t[r][0]);const s=t[t.length-1][0];return (0,colorRampUtils/* convertColorRampToColors */.iv)({type:"multipart",colorRamps:e},{numColors:s,weights:o=o??n})}function colormaps_n(){return colormaps_e([[0,0,191,191],[51,0,0,255],[102,255,0,255],[153,255,0,127],[204,191,63,127],[256,20,20,20]])}function colormaps_s(){const r=colormaps_e([[0,255,255,255],[70,0,255,0],[80,205,173,193],[100,150,150,150],[110,120,51,100],[130,120,100,200],[140,28,3,144],[160,6,0,55],[180,10,25,30],[201,6,7,27]]);for(let t=r.length;t<256;t++)r.push([6,27,7]);return r}function colormaps_l(){return (0,colorRampUtils/* convertColorRampToColors */.iv)({type:"algorithmic",algorithm:"esriHSVAlgorithm",fromColor:[0,0,0],toColor:[255,255,255]})}function colormaps_i(){const r=[];for(let t=0;t<256;t++){const t=[];for(let r=0;r<3;r++)t.push(Math.round(255*Math.random()));r.push(t)}return r}function colormaps_a(){return colormaps_e([[0,38,41,54],[69,79,82,90],[131,156,156,156],[256,253,253,241]],[.268,.238,.495])}function colormaps_c(r){let e;switch(r){case"elevation":e=colormaps_n();break;case"gray":e=colormaps_l();break;case"hillshade":e=colormaps_a();break;case"ndvi":e=colormaps_t;break;case"ndvi2":e=colormaps_s();break;case"ndvi3":e=colormaps_o;break;case"random":e=colormaps_i()}return e?(e=e.map(((r,t)=>[t,...r])),e):null}

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ColormapFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ColormapFunction_m=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Colormap",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isNoopProcess=!0}_bindSourceRasters(){const o=this.sourceRasterInfos[0];if(o.bandCount>1)return{success:!1,supportsGPU:!1,error:"colormap-function: source data must be single band"};let{colormap:r,colormapName:t,colorRamp:s,colorRampName:e}=this.functionArguments;if(!r?.length)if(s)this.colorRamp=s,r=(0,colorRampUtils/* convertColorRampToColormap */.R8)(s,{interpolateAlpha:!0});else if(e){const o=(0,colorRampUtils/* getColorRampJSON */.M5)(e);o&&(r=(0,colorRampUtils/* convertColorRampToColormap */.R8)(o),this.colorRamp=(0,colorRamps/* fromJSON */.r)(o))}else t&&(r=colormaps_c(t));if(!r?.length)return{success:!1,supportsGPU:!1,error:"colormap-function: missing colormap argument"};const p=this._getOutputPixelType(o.pixelType);this.outputPixelType=p.startsWith("f")?"s32":p;const m=o.clone();return m.pixelType=this.outputPixelType,m.colormap=r,m.bandCount=1,this.rasterInfo=m,{success:!0,supportsGPU:!0}}_processPixels(o){let r=o.pixelBlocks?.[0];return!r||(0,pixelRangeUtils/* isIntegerPixelType */.zw)(r.pixelType)||(r=r.clone(),r.clamp(this.outputPixelType)),r}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ColormapFunction_m.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ColormapFunctionArguments_d,json:{write:!0,name:"rasterFunctionArguments"}})],ColormapFunction_m.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ColormapFunction_m.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ColormapFunction_m.prototype,"isNoopProcess",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ColormapFunction_m.prototype,"indexedColormap",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ColormapFunction_m.prototype,"colorRamp",void 0),ColormapFunction_m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ColormapFunction")],ColormapFunction_m);const ColormapFunction_u=ColormapFunction_m;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/SimpleBandStatistics.js
var SimpleBandStatistics = __webpack_require__(11012);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ColormapToRGBFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ColormapToRGBFunctionArguments_t;let ColormapToRGBFunctionArguments_e=ColormapToRGBFunctionArguments_t=class extends p{clone(){return new ColormapToRGBFunctionArguments_t({raster:this.raster})}};ColormapToRGBFunctionArguments_e=ColormapToRGBFunctionArguments_t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ColormapToRGBFunctionArguments")],ColormapToRGBFunctionArguments_e);const ColormapToRGBFunctionArguments_a=ColormapToRGBFunctionArguments_e;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/rasterRendererChecks.js
var rasterRendererChecks = __webpack_require__(46415);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ColormapToRGBFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ColormapToRGBFunction_a=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="ColormapToRGB",this.functionArguments=null,this.rasterArgumentNames=["raster"]}_bindSourceRasters(){const t=this.sourceRasterInfos[0];if(t.bandCount>1||!t.colormap?.length)return{success:!1,supportsGPU:!1,error:"colormap-to-rgb-function: source data must be single band with a colormap"};const o=t.clone();o.pixelType=this.outputPixelType=this._getOutputPixelType("u8"),this._removeStatsHistColormapVAT(o),o.bandCount=3,o.statistics=[{min:0,max:255,avg:100,stddev:20},{min:0,max:255,avg:100,stddev:20},{min:0,max:255,avg:100,stddev:20}],this.rasterInfo=o;const r=[...t.colormap].sort(((t,o)=>t[0]-o[0])),{indexedColormap:e,offset:s}=(0,pixelUtils/* createColormapLUT */.zg)({colormap:r});return e?(this.lookup={indexedColormap:e,offset:s},{success:!0,supportsGPU:(0,rasterRendererChecks/* isColormapSupportedByWebGL */.WN)(e)}):{success:!1,supportsGPU:!1,error:"colormap-to-rgb-function: the colormap is not supported"}}_processPixels(t){let o=t.pixelBlocks?.[0];if(!o||!this.lookup)return o;o=o.clone();const r=o.pixels[0],s=o.mask??new Uint8Array(r.length).fill(255),n=new Uint8Array(r.length),i=new Uint8Array(r.length),p=new Uint8Array(r.length),{indexedColormap:a,offset:u}=this.lookup,c=a.length;for(let e=0;e<r.length;e++)if(s[e]){let t=4*(r[e]-u);t<0||t>c-4?s[e]=0:(n[e]=a[t++],i[e]=a[t++],p[e]=a[t++])}return o.pixels=[n,i,p],o.statistics=[new SimpleBandStatistics/* SimpleBandStatistics */.z(0,255),new SimpleBandStatistics/* SimpleBandStatistics */.z(0,255),new SimpleBandStatistics/* SimpleBandStatistics */.z(0,255)],o.pixelType=this.outputPixelType,o}_getWebGLParameters(){return this.lookup}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ColormapToRGBFunction_a.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ColormapToRGBFunctionArguments_a,json:{write:!0,name:"rasterFunctionArguments"}})],ColormapToRGBFunction_a.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ColormapToRGBFunction_a.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ColormapToRGBFunction_a.prototype,"lookup",void 0),ColormapToRGBFunction_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ColormapToRGBFunction")],ColormapToRGBFunction_a);const ColormapToRGBFunction_u=ColormapToRGBFunction_a;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js
var writer = __webpack_require__(48524);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/CompositeBandFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var CompositeBandFunctionArguments_a;let CompositeBandFunctionArguments_c=CompositeBandFunctionArguments_a=class extends p{constructor(){super(...arguments),this.rasters=[]}writeRasters(r,s){s.rasters=r.map((r=>"number"==typeof r||"string"==typeof r?r:r.toJSON()))}clone(){return new CompositeBandFunctionArguments_a({rasters:(0,lang/* clone */.o8)(this.rasters)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],CompositeBandFunctionArguments_c.prototype,"rasters",void 0),(0,tslib_es6._)([(0,writer/* writer */.K)("rasters")],CompositeBandFunctionArguments_c.prototype,"writeRasters",null),CompositeBandFunctionArguments_c=CompositeBandFunctionArguments_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.CompositeBandFunctionArguments")],CompositeBandFunctionArguments_c);const CompositeBandFunctionArguments_i=CompositeBandFunctionArguments_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/CompositeBandFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let CompositeBandFunction_i=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="CompositeBand",this.functionArguments=null,this.rasterArgumentNames=["rasters"]}_bindSourceRasters(){const{sourceRasterInfos:t}=this,s=t[0];this.outputPixelType=this._getOutputPixelType(s.pixelType);const e=s.clone();if(e.attributeTable=null,e.colormap=null,e.pixelType=this.outputPixelType,e.bandCount=t.map((({bandCount:t})=>t)).reduce(((t,s)=>t+s)),t.every((({statistics:t})=>null!=t&&t.length))){const s=[];t.forEach((({statistics:t})=>null!=t&&s.push(...t))),e.statistics=s}if(t.every((({histograms:t})=>null!=t&&t.length))){const s=[];t.forEach((({histograms:t})=>null!=t&&s.push(...t))),e.histograms=s}e.multidimensionalInfo&&e.multidimensionalInfo.variables.forEach((s=>{const e=t.map((t=>t.multidimensionalInfo?.variables.find((({name:t})=>t===s.name)))),r=e.map((t=>t?.statistics?.length?t.statistics:null)),o=e.map((t=>t?.histograms?.length?t.histograms:null));s.statistics=r.every((t=>null!=t))?r.flat():null,s.histograms=o.every((t=>null!=t))?o.flat():null})),e.bandCount>1&&(e.colormap=null,e.attributeTable=null);const r=t.every((t=>t.keyProperties.BandProperties?.length))?t.flatMap((t=>t.keyProperties.BandProperties)):void 0;e.keyProperties={...e.keyProperties,BandProperties:r},this.rasterInfo=e;return{success:!0,supportsGPU:e.bandCount<=3}}_processPixels(t){const{pixelBlocks:s}=t;if(!s)return null;const e=s?.[0];return null==e?null:(0,pixelUtils/* compositeBands */.Wy)(s)}_getWebGLParameters(){return{bandCount:this.rasterInfo.bandCount}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],CompositeBandFunction_i.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:CompositeBandFunctionArguments_i,json:{write:!0,name:"rasterFunctionArguments"}})],CompositeBandFunction_i.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],CompositeBandFunction_i.prototype,"rasterArgumentNames",void 0),CompositeBandFunction_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.CompositeBandFunction")],CompositeBandFunction_i);const CompositeBandFunction_a=CompositeBandFunction_i;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/Field.js
var Field = __webpack_require__(45352);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/changeDetectionUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const changeDetectionUtils_n=new jsonMap/* JSONMap */.J({0:"difference",1:"relative-difference",2:"categorical",3:"euclidean-distance",4:"angle-difference",5:"band-with-most-change"},{useNumericKeys:!0}),changeDetectionUtils_s=new jsonMap/* JSONMap */.J({0:"all",1:"changed",2:"unchanged"},{useNumericKeys:!0});function changeDetectionUtils_i(e,n,s,i){const[f,h]=e,m=(0,pixelRangeUtils/* isIntegerPixelType */.zw)(s)&&!(0,pixelRangeUtils/* isIntegerPixelType */.zw)(f.pixelType)&&!(0,pixelRangeUtils/* isIntegerPixelType */.zw)(h.pixelType),p=[f.mask,h.mask].filter((e=>e)),u=PixelBlock/* default */.A.combineBandMasks(p),g=e.map((e=>e.pixels[0])),{width:k,height:x}=f,b=PixelBlock/* default */.A.createEmptyBand(s,k*x);switch(n){case"difference":case"relative-difference":changeDetectionUtils_o({bands:g,mask:u,outBand:b,isRoundingNeeded:m,isRelative:"relative-difference"===n});break;case"categorical":changeDetectionUtils_c({bands:g,mask:u,outBand:b,...i});break;case"euclidean-distance":changeDetectionUtils_l({pixels:e.map((e=>e.pixels)),mask:u,outBand:b});break;case"angle-difference":changeDetectionUtils_r({pixels:e.map((e=>e.pixels)),mask:u,outBand:b});break;case"band-with-most-change":changeDetectionUtils_d({pixels:e.map((e=>e.pixels)),mask:u,outBand:b})}const B=new PixelBlock/* default */.A({width:k,height:x,pixels:[b],pixelType:s,mask:u});return B.updateStatistics(),B}function changeDetectionUtils_o(e){const{bands:[t,a],mask:n,isRelative:s,isRoundingNeeded:i,outBand:o}=e,c=t.length;for(let l=0;l<c;l++)if(!n||n[l]){let e=t[l]-a[l];if(s){const n=Math.max(Math.abs(t[l])-Math.abs(a[l]));e=n>0?e/n:0}o[l]=i?Math.round(e):e}}function changeDetectionUtils_c(e){const{bands:[t,a],categoryIndexLookups:[n,s],classNames:[i,o],mask:c,keepMethod:l,outBand:r}=e,d=t.length,f=i.length,h=o.length,m=f*h,p=m+1,u=m+2;for(let g=0;g<d;g++)if(!c||c[g]){const e=t[g],c=a[g],d=n[e],f=s[c],k=i[d],x=o[f];r[g]=null==d||null==f?m:"changed"===l&&k===x?p:"unchanged"===l&&k!==x?u:d*h+f}}function changeDetectionUtils_l(e){const{pixels:[t,a],mask:n,outBand:s}=e,i=t[0].length,o=t.length;for(let c=0;c<i;c++)if(!n||n[c]){let e=0;for(let n=0;n<o;n++){const s=t[n][c]-a[n][c];e+=s*s}s[c]=Math.sqrt(e)}}function changeDetectionUtils_r(e){const{pixels:[t,a],mask:n,outBand:s}=e,i=t[0].length,o=t.length;for(let c=0;c<i;c++)if(!n||n[c]){let e=0,n=0,i=0;for(let s=0;s<o;s++){const o=t[s][c],l=a[s][c];e+=o*l,n+=o*o,i+=l*l}const l=Math.sqrt(n*i);s[c]=l?Math.acos(e/l):1.5707963267948966}}function changeDetectionUtils_d(e){const{pixels:[t,a],mask:n,outBand:s}=e,i=t[0].length,o=t.length;for(let c=0;c<i;c++)if(!n||n[c]){let e=0,n=0;for(let s=0;s<o;s++){const i=Math.abs(t[s][c]-a[s][c]);i>e&&(e=i,n=s)}s[c]=n}}

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ComputeChangeFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ComputeChangeFunctionArguments_i;let ComputeChangeFunctionArguments_c=ComputeChangeFunctionArguments_i=class extends p{constructor(){super(...arguments),this.method="difference",this.keepMethod="all",this.raster2=void 0}get rasters(){return[this.raster,this.raster2]}clone(){return new ComputeChangeFunctionArguments_i({raster:this.raster,raster2:this.raster2,method:this.method,keepMethod:this.keepMethod})}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(changeDetectionUtils_n)],ComputeChangeFunctionArguments_c.prototype,"method",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(changeDetectionUtils_s)],ComputeChangeFunctionArguments_c.prototype,"keepMethod",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ComputeChangeFunctionArguments_c.prototype,"raster2",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],ComputeChangeFunctionArguments_c.prototype,"rasters",null),ComputeChangeFunctionArguments_c=ComputeChangeFunctionArguments_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ComputeChangeFunctionArguments")],ComputeChangeFunctionArguments_c);const ComputeChangeFunctionArguments_n=ComputeChangeFunctionArguments_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ComputeChangeFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ComputeChangeFunction_l=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="ComputeChange",this.functionArguments=null,this.rasterArgumentNames=["raster","raster2"]}_bindSourceRasters(){const{method:e}=this.functionArguments,t=this.sourceRasterInfos[0].clone();if(this.outputPixelType=this._getOutputPixelType(t.pixelType),t.pixelType=this.outputPixelType,this._removeStatsHistColormapVAT(t),"categorical"===e){const e=this.sourceRasterInfos.map((e=>e.attributeTable)),s=this._getFieldNames(e,"value"),r=e.map((e=>this._getClassFieldName(e)));if(null==s[0]||null==s[1]||null==r[0]||null==r[1])return{success:!1,supportsGPU:!1,error:"both inputs must have proper attribute table with value and class fields"};this._updateAttributeTable(t,s,r)}t.bandCount=1,this.rasterInfo=t;return{success:!0,supportsGPU:"difference"===e||"relative-difference"===e}}_processPixels(e){const{pixelBlocks:t}=e;if(null==t?.[0]||null==t?.[1])return null;const{method:s}=this.functionArguments;return changeDetectionUtils_i(t,s,this.outputPixelType,this._categoryConfig)}_getWebGLParameters(){const e=this.outputPixelType??"f32";let[t,s]=(0,pixelRangeUtils/* getPixelValueRange */.hP)(e);const r=(0,pixelRangeUtils/* isIntegerPixelType */.zw)(e);return r&&(t-=1e-4,s+=1e-4),{method:this.functionArguments.method,domainRange:[t,s],isOutputRounded:r}}_updateAttributeTable(e,t,s){const n=this.sourceRasterInfos.map((e=>e.attributeTable)),o=n.map(((e,s)=>e.features.map((e=>e.attributes[t[s]])))),a=n.map(((e,t)=>e.features.map((e=>e.attributes[s[t]])))),i=o.map((e=>{const t=[];return e.forEach(((e,s)=>t[e]=s)),t})),{keepMethod:u}=this.functionArguments;this._categoryConfig={categoryIndexLookups:i,classNames:a,keepMethod:u};const l=n[0].clone();l.fields=[new Field/* default */.A({name:"OID",type:"oid"}),new Field/* default */.A({name:"Value",type:"integer"}),new Field/* default */.A({name:"ClassName",type:"string"}),new Field/* default */.A({name:"Class_From",type:"string"}),new Field/* default */.A({name:"Class_To",type:"string"})];const m=this._getFieldNames(n,"red"),p=this._getFieldNames(n,"green"),c=this._getFieldNames(n,"blue"),d=[],g=2===m.length&&2===p.length&&2===c.length;g&&(d.push(...n.map(((e,t)=>e.features.map((e=>[e.attributes[m[t]],e.attributes[p[t]],e.attributes[c[t]]]))))),l.fields.push(new Field/* default */.A({name:"Red",type:"integer"}),new Field/* default */.A({name:"Green",type:"integer"}),new Field/* default */.A({name:"Blue",type:"integer"})));const h=l.features[0].clone();h.geometry=null;const f=[],[y,C]=o.map((e=>e.length));let b=1;for(let r=0;r<y;r++){const e=a[0][r];for(let t=0;t<C;t++){const s=a[1][t];if("changed"===u&&e===s||"unchanged"===u&&e!==s)continue;const n=h.clone();n.attributes={OID:b++,Value:r*C+t,ClassName:e===s?e:`${e} -> ${s}`,Class_From:e,Class_To:s},g&&(n.attributes.Red=d[0][r][0]+d[1][t][0]>>1,n.attributes.Green=d[0][r][1]+d[1][t][1]>>1,n.attributes.Blue=d[0][r][2]+d[1][t][2]>>1),f.push(n)}}if("changed"===u){const e=h.clone();e.attributes={OID:b++,Value:y*C+1,ClassName:"No Change",Class_From:"Same",Class_To:"Same"},f.push(e)}else if("unchanged"===u){const e=h.clone();e.attributes={OID:b++,Value:y*C+2,ClassName:"Changed",Class_From:"Any",Class_To:"Any"},f.push(e)}l.features=f,e.attributeTable=l}_getFieldNames(e,t){return e.map((({fields:e})=>e.find((e=>e.name.toLowerCase()===t))?.name)).filter((e=>e))}_getClassFieldName(e){const t=e.fields.find((e=>"string"===e.type&&e.name.toLowerCase().startsWith("class")))??e.fields.find((e=>"string"===e.type&&e.name.toLowerCase().includes("class")||e.name.toLowerCase().includes("type")||e.name.toLowerCase().includes("name")))??e.fields.find((e=>"string"===e.type));return t?.name}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ComputeChangeFunction_l.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ComputeChangeFunctionArguments_n,json:{write:!0,name:"rasterFunctionArguments"}})],ComputeChangeFunction_l.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ComputeChangeFunction_l.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ComputeChangeFunction_l.prototype,"_categoryConfig",void 0),ComputeChangeFunction_l=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ComputeChangeFunction")],ComputeChangeFunction_l);const ComputeChangeFunction_m=ComputeChangeFunction_l;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ContrastBrightnessFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ContrastBrightnessFunctionArguments_e;let ContrastBrightnessFunctionArguments_n=ContrastBrightnessFunctionArguments_e=class extends p{constructor(){super(...arguments),this.contrastOffset=0,this.brightnessOffset=0}clone(){return new ContrastBrightnessFunctionArguments_e({contrastOffset:this.contrastOffset,brightnessOffset:this.brightnessOffset,raster:this.raster})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ContrastBrightnessFunctionArguments_n.prototype,"contrastOffset",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ContrastBrightnessFunctionArguments_n.prototype,"brightnessOffset",void 0),ContrastBrightnessFunctionArguments_n=ContrastBrightnessFunctionArguments_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ContrastBrightnessFunctionArguments")],ContrastBrightnessFunctionArguments_n);const ContrastBrightnessFunctionArguments_i=ContrastBrightnessFunctionArguments_n;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/rasterFunctions/stretchUtils.js
var stretchUtils = __webpack_require__(77691);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ContrastBrightnessFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ContrastBrightnessFunction_u=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="ContrastBrightness",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.lookup=null}_bindSourceRasters(){const{sourceRasterInfos:t}=this,s=t[0];if("u8"!==s.pixelType)return{success:!1,supportsGPU:!1,error:"Only unsigned 8 bit raster is supported by ContrastBrightness function."};this.outputPixelType=this._getOutputPixelType("u8");const r=s.clone();this._removeStatsHistColormapVAT(r),this.rasterInfo=r;const{contrastOffset:o,brightnessOffset:e}=this.functionArguments;return this.lookup=(0,stretchUtils/* createContrastBrightnessLUT */.zj)(o,e),{success:!0,supportsGPU:!0}}_processPixels(t){const s=t.pixelBlocks?.[0];return null==s?null:(0,pixelUtils/* lookupPixels */.eH)(s,{lut:s.pixels.map((()=>this.lookup)),offset:0,outputPixelType:"u8"})}_getWebGLParameters(){const{contrastOffset:t,brightnessOffset:s}=this.functionArguments;return{contrastOffset:t,brightnessOffset:s}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ContrastBrightnessFunction_u.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ContrastBrightnessFunctionArguments_i,json:{write:!0,name:"rasterFunctionArguments"}})],ContrastBrightnessFunction_u.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ContrastBrightnessFunction_u.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ContrastBrightnessFunction_u.prototype,"lookup",void 0),ContrastBrightnessFunction_u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ContrastBrightnessFunction")],ContrastBrightnessFunction_u);const ContrastBrightnessFunction_p=ContrastBrightnessFunction_u;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/mirror.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function mirror_o(o,t,f,r,l){const e=Math.floor(r/2);for(let c=0;c<e;c++)for(let r=0;r<t;r++)o[c*t+r]=o[(l-1-c)*t+r],o[(f-1-c)*t+r]=o[(f-l+c)*t+r];const n=Math.floor(l/2);for(let c=0;c<f;c++){const f=c*t;for(let r=0;r<n;r++)o[f+r]=o[f+l-1-r],o[f+t-r-1]=o[f+t+r-l]}}

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/convolutionUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const convolutionUtils_l=new Map;function convolutionUtils_o(e){const t=Math.sqrt(e.length),n=e.slice(0,t),l=[1];for(let o=1;o<t;o++){let n=null;for(let l=0;l<t;l++){const r=e[l+o*t],s=e[l];if(null==n)if(0===s){if(r)return{separable:!1,row:null,col:null}}else n=r/s;else if(r/s!==n)return{separable:!1,row:null,col:null}}if(null==n)return{separable:!1,row:null,col:null};l.push(n)}return{separable:!0,row:n,col:l}}function convolutionUtils_r(e,t,n,l,o,r,s){const i=new Float32Array(t*n),a=r.length,h=s?0:l,c=s?l:0,p=s?1:t;for(let u=h;u<n-h;u++){const n=u*t;for(let s=c;s<t-c;s++){if(o&&!o[n+s])continue;let t=0;for(let o=0;o<a;o++)t+=e[n+s+(o-l)*p]*r[o];i[n+s]=t}}return i}function convolutionUtils_s(e,t,n,l,o,r,s){const i=new Float32Array(t*n),a=Math.floor(l/2),h=Math.floor(o/2);for(let c=a;c<n-a;c++){const n=c*t;for(let c=h;c<t-h;c++){if(r&&!r[n+c])continue;let p=0;for(let r=0;r<l;r++)for(let l=0;l<o;l++)p+=e[n+c+(r-a)*t+l-h]*s[r*o+l];i[n+c]=p}}return i}function convolutionUtils_i(t,l,o=!0){const{pixels:r,width:i,height:a,pixelType:h,mask:c}=t,p=r.length,u=[],{kernel:f,rows:g,cols:m}=l;for(let e=0;e<p;e++){const t=convolutionUtils_s(r[e],i,a,g,m,c,f);o&&mirror_o(t,i,a,g,m),u.push(t)}return new PixelBlock/* default */.A({width:i,height:a,pixelType:h,pixels:u,mask:c})}function convolutionUtils_a(t,l,o,s=!0){const{pixels:i,width:a,height:h,pixelType:c,mask:p}=t,u=i.length,f=[],g=l.length,m=o.length,x=Math.floor(g/2),w=Math.floor(m/2);for(let e=0;e<u;e++){let t=convolutionUtils_r(i[e],a,h,x,p,l,!0);t=convolutionUtils_r(t,a,h,w,p,o,!1),s&&mirror_o(t,a,h,g,m),f.push(t)}return new PixelBlock/* default */.A({width:a,height:h,pixelType:c,pixels:f,mask:p})}function convolutionUtils_h(e,t){const n=convolutionUtils_o(t.kernel),l=!1!==t.mirrorEdges,r=n.separable?convolutionUtils_a(e,n.row,n.col,l):convolutionUtils_i(e,t,l),{outputPixelType:s}=t;return s&&r.clamp(s),r}convolutionUtils_l.set(D.none,[0,0,0,0,1,0,0,0,0]),convolutionUtils_l.set(D.lineDetectionHorizontal,[-1,-1,-1,2,2,2,-1,-1,-1]),convolutionUtils_l.set(D.lineDetectionVertical,[-1,2,-1,-1,2,-1,-1,2,-1]),convolutionUtils_l.set(D.lineDetectionLeftDiagonal,[2,-1,-1,-1,2,-1,-1,-1,2]),convolutionUtils_l.set(D.lineDetectionRightDiagonal,[-1,-1,2,-1,2,-1,2,-1,-1]),convolutionUtils_l.set(D.gradientNorth,[-1,-2,-1,0,0,0,1,2,1]),convolutionUtils_l.set(D.gradientWest,[-1,0,1,-2,0,2,-1,0,1]),convolutionUtils_l.set(D.gradientEast,[1,0,-1,2,0,-2,1,0,-1]),convolutionUtils_l.set(D.gradientSouth,[1,2,1,0,0,0,-1,-2,-1]),convolutionUtils_l.set(D.gradientNorthEast,[0,-1,-2,1,0,-1,2,1,0]),convolutionUtils_l.set(D.gradientNorthWest,[-2,-1,0,-1,0,1,0,1,2]),convolutionUtils_l.set(D.smoothArithmeticMean,[.111111111111,.111111111111,.111111111111,.111111111111,.111111111111,.111111111111,.111111111111,.111111111111,.111111111111]),convolutionUtils_l.set(D.smoothing3x3,[.0625,.125,.0625,.125,.25,.125,.0625,.125,.0625]),convolutionUtils_l.set(D.smoothing5x5,[1,1,1,1,1,1,4,4,4,1,1,4,12,4,1,1,4,4,4,1,1,1,1,1,1]),convolutionUtils_l.set(D.sharpening3x3,[-1,-1,-1,-1,9,-1,-1,-1,-1]),convolutionUtils_l.set(D.sharpening5x5,[-1,-3,-4,-3,-1,-3,0,6,0,-3,-4,6,21,6,-4,-3,0,6,0,-3,-1,-3,-4,-3,-1]),convolutionUtils_l.set(D.laplacian3x3,[0,-1,0,-1,4,-1,0,-1,0]),convolutionUtils_l.set(D.laplacian5x5,[0,0,-1,0,0,0,-1,-2,-1,0,-1,-2,17,-2,-1,0,-1,-2,-1,0,0,0,-1,0,0]),convolutionUtils_l.set(D.sobelHorizontal,[-1,-2,-1,0,0,0,1,2,1]),convolutionUtils_l.set(D.sobelVertical,[-1,0,1,-2,0,2,-1,0,1]),convolutionUtils_l.set(D.sharpen,[0,-.25,0,-.25,2,-.25,0,-.25,0]),convolutionUtils_l.set(D.sharpen2,[-.25,-.25,-.25,-.25,3,-.25,-.25,-.25,-.25]),convolutionUtils_l.set(D.pointSpread,[-.627,.352,-.627,.352,2.923,.352,-.627,.352,-.627]);

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ConvolutionFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ConvolutionFunctionArguments_p;let ConvolutionFunctionArguments_c=ConvolutionFunctionArguments_p=class extends p{constructor(){super(...arguments),this.rows=3,this.cols=3,this.kernel=[0,0,0,0,1,0,0,0,0]}set convolutionType(o){this._set("convolutionType",o);const t=convolutionUtils_l.get(o);if(!t||o===D.userDefined||o===D.none)return;const s=Math.sqrt(t.length);this._set("kernel",t),this._set("cols",s),this._set("rows",s)}clone(){return new ConvolutionFunctionArguments_p({cols:this.cols,rows:this.rows,kernel:[...this.kernel],convolutionType:this.convolutionType,raster:(0,lang/* clone */.o8)(this.raster)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{type:Number,write:!0}})],ConvolutionFunctionArguments_c.prototype,"rows",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{type:Number,write:!0}})],ConvolutionFunctionArguments_c.prototype,"cols",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"type",type:Number,write:!0}})],ConvolutionFunctionArguments_c.prototype,"convolutionType",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{type:[Number],write:!0}})],ConvolutionFunctionArguments_c.prototype,"kernel",void 0),ConvolutionFunctionArguments_c=ConvolutionFunctionArguments_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ConvolutionFunctionArguments")],ConvolutionFunctionArguments_c);const ConvolutionFunctionArguments_l=ConvolutionFunctionArguments_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ConvolutionFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const ConvolutionFunction_l=25;let ConvolutionFunction_c=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Convolution",this.rasterArgumentNames=["raster"]}get _normalizedKernel(){const{kernel:t,convolutionType:e}=this.functionArguments,o=t.reduce(((t,e)=>t+e));return-1===e||0===o||1===o?t:t.map((t=>t/o))}_bindSourceRasters(){const{convolutionType:t,rows:e,cols:o,kernel:r}=this.functionArguments;if(!Object.values(D).includes(t))return{success:!1,supportsGPU:!1,error:`convolution-function: the specified kernel type is not supported ${t}`};if(t!==D.none&&e*o!==r.length)return{success:!1,supportsGPU:!1,error:"convolution-function: the specified rows and cols do not match the length of the kernel"};const n=this.sourceRasterInfos[0];this.outputPixelType=this._getOutputPixelType(n.pixelType);const i=n.clone();i.pixelType=this.outputPixelType;const u=[D.none,D.sharpen,D.sharpen2,D.sharpening3x3,D.sharpening5x5];(-1===t||"u8"!==this.outputPixelType&&!u.includes(t))&&(i.statistics=null,i.histograms=null),i.colormap=null,i.attributeTable=null,this.rasterInfo=i;return{success:!0,supportsGPU:r.length<=ConvolutionFunction_l}}_processPixels(t){const e=t.pixelBlocks?.[0];if(null==e||this.functionArguments.convolutionType===D.none)return e;const{rows:o,cols:r}=this.functionArguments,{_normalizedKernel:n}=this;return convolutionUtils_h(e,{kernel:n,rows:o,cols:r,outputPixelType:this.outputPixelType})}_getWebGLParameters(){const t=new Float32Array(ConvolutionFunction_l),{rows:e,cols:o}=this.functionArguments,{_normalizedKernel:s}=this;for(let r=0;r<e;r++)for(let e=0;e<o;e++)t[5*r+e]=s[r*o+e];return{kernelRows:e,kernelCols:o,kernel:t,clampRange:(0,pixelRangeUtils/* getPixelValueRange */.hP)(this.outputPixelType)}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ConvolutionFunction_c.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ConvolutionFunctionArguments_l,json:{write:!0,name:"rasterFunctionArguments"}})],ConvolutionFunction_c.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ConvolutionFunction_c.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ConvolutionFunction_c.prototype,"_normalizedKernel",null),ConvolutionFunction_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ConvolutionFunction")],ConvolutionFunction_c);const ConvolutionFunction_p=ConvolutionFunction_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/CurvatureFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var CurvatureFunctionArguments_c;const CurvatureFunctionArguments_u=new jsonMap/* JSONMap */.J({0:"standard",1:"planform",2:"profile"},{useNumericKeys:!0});let CurvatureFunctionArguments_n=CurvatureFunctionArguments_c=class extends p{constructor(){super(...arguments),this.curvatureType="standard",this.zFactor=1}readCurvatureType(r,e){return CurvatureFunctionArguments_u.fromJSON(e.type??e.curvatureType??0)}clone(){return new CurvatureFunctionArguments_c({curvatureType:this.curvatureType,zFactor:this.zFactor,raster:this.raster})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:{target:"type"}}}),(0,enumeration/* enumeration */.e)(CurvatureFunctionArguments_u)],CurvatureFunctionArguments_n.prototype,"curvatureType",void 0),(0,tslib_es6._)([(0,reader/* reader */.w)("curvatureType",["type","curvatureType"])],CurvatureFunctionArguments_n.prototype,"readCurvatureType",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],CurvatureFunctionArguments_n.prototype,"zFactor",void 0),CurvatureFunctionArguments_n=CurvatureFunctionArguments_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.CurvatureFunctionArguments")],CurvatureFunctionArguments_n);const CurvatureFunctionArguments_i=CurvatureFunctionArguments_n;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/CurvatureFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let CurvatureFunction_u=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Curvature",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isGCS=!1}_bindSourceRasters(){this.outputPixelType=this._getOutputPixelType("f32");const t=this.sourceRasterInfos[0].clone();return t.pixelType=this.outputPixelType,t.bandCount=1,this._removeStatsHistColormapVAT(t),this.rasterInfo=t,this.isGCS=t.spatialReference?.isGeographic??!1,{success:!0,supportsGPU:!0}}_processPixels(t){const r=t.pixelBlocks?.[0];if(null==r)return null;const{zFactor:e,curvatureType:s}=this.functionArguments,{extent:o,primaryPixelSizes:u}=t,c=u?.[0],a=c??(o?{x:o.width/r.width,y:o.height/r.height}:{x:1,y:1}),p=this.isGCS&&e>=1?e*surfaceUtils/* gcsFactor */.rk:e;return (0,surfaceUtils/* curvature */.E0)(r,{zFactor:p,curvatureType:s,resolution:a})}_getWebGLParameters(){const{zFactor:t,curvatureType:r}=this.functionArguments;return{curvatureType:r,zFactor:this.isGCS&&t>=1?t*surfaceUtils/* gcsFactor */.rk:t}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],CurvatureFunction_u.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:CurvatureFunctionArguments_i,json:{write:!0,name:"rasterFunctionArguments"}})],CurvatureFunction_u.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],CurvatureFunction_u.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],CurvatureFunction_u.prototype,"isGCS",void 0),CurvatureFunction_u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.CurvatureFunction")],CurvatureFunction_u);const CurvatureFunction_c=CurvatureFunction_u;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ExtractBandFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ExtractBandFunctionArguments_a;let ExtractBandFunctionArguments_i=ExtractBandFunctionArguments_a=class extends p{constructor(){super(...arguments),this.bandIds=[],this.bandNames=[],this.bandWavelengths=[],this.missingBandAction=pixelUtils/* MissingBandAction */.Wb.bestMatch}clone(){return new ExtractBandFunctionArguments_a({bandIds:this.bandIds?.slice(),bandNames:this.bandNames?.slice(),bandWavelengths:this.bandWavelengths?.slice(),missingBandAction:this.missingBandAction,method:this.method,wavelengthMatchTolerance:this.wavelengthMatchTolerance})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ExtractBandFunctionArguments_i.prototype,"bandIds",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ExtractBandFunctionArguments_i.prototype,"bandNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ExtractBandFunctionArguments_i.prototype,"bandWavelengths",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({0:"name",1:"wavelength",2:"id"})],ExtractBandFunctionArguments_i.prototype,"method",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ExtractBandFunctionArguments_i.prototype,"missingBandAction",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ExtractBandFunctionArguments_i.prototype,"wavelengthMatchTolerance",void 0),ExtractBandFunctionArguments_i=ExtractBandFunctionArguments_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ExtractBandFunctionArguments")],ExtractBandFunctionArguments_i);const ExtractBandFunctionArguments_c=ExtractBandFunctionArguments_i;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ExtractBandFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ExtractBandFunction_a=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="ExtractBand",this.functionArguments=null,this.rasterArgumentNames=["raster"]}_bindSourceRasters(){const{functionArguments:t,sourceRasterInfos:n}=this,e=n[0],{method:s,bandNames:r,bandWavelengths:o,bandIds:a,missingBandAction:l}=t,h=r?.length&&("name"===s||"id"!==s&&!a?.length),m=o?.length&&("wavelength"===s||"id"!==s&&!a?.length),p=l===pixelUtils/* MissingBandAction */.Wb.fail,g=h?ExtractBandFunction_u(e,r):m?ExtractBandFunction_d(e,o,this.functionArguments,p):ExtractBandFunction_c(e,a,p);if(null==g){return{success:!1,supportsGPU:!1,error:`extract-band-function: Invalid ${h?"band names":m?"band wavelengths":"band ids"} for the imagery data source`}}this.functionArguments.bandIds=g,this.functionArguments.method="id",this.outputPixelType=this._getOutputPixelType("f32");const f=e.clone();f.pixelType=this.outputPixelType,f.bandCount=g.length;const{statistics:b,histograms:x}=f;null!=b&&b.length&&(f.statistics=g.map((t=>b[t]||b[b.length-1]))),null!=x&&x.length&&(f.histograms=g.map((t=>x[t]||x[x.length-1]))),f.multidimensionalInfo&&f.multidimensionalInfo.variables.forEach((t=>{const{statistics:n,histograms:e}=t;null!=n&&n.length&&(t.statistics=g.map((t=>n[t]||n[n.length-1]))),null!=e&&e.length&&(t.histograms=g.map((t=>e[t]||e[e.length-1])))}));let I=f.keyProperties?.BandProperties;I?.length&&(I=g.map((t=>t>=I.length?I[I.length-1]:I[t])),f.keyProperties={...f.keyProperties,BandProperties:I}),this.rasterInfo=f;return{success:!0,supportsGPU:f.bandCount<=3}}_processPixels(t){const n=t.pixelBlocks?.[0];if(null==n)return null;const e=n.pixels.length,s=this.functionArguments.bandIds.map((t=>t>=e?e-1:t));return n.extractBands(s)}_getWebGLParameters(){let t;if(this.isInputBandIdsSwizzled)t=this.swizzledBandSelection.length?this.swizzledBandSelection:[0,1,2];else{t=[...this.functionArguments.bandIds],0===t.length?t=[0,1,2]:t.length<3&&(t[1]=t[1]??t[0],t[2]=t[2]??t[1]);for(let n=0;n<3;n++)t[n]=Math.min(t[n],2)}return{bandIndexMat3:bandIndexUtils_c(t)}}_getInputBandIds(t){const n=t.length;return this.functionArguments.bandIds.map((t=>t>=n?n-1:t)).map((n=>t[n]))}_swizzleBandIds(t){const n=this.functionArguments.bandIds.map((n=>t.indexOf(n)));return this.isInputBandIdsSwizzled=!0,n[1]??=n[0],n[2]??=n[1],this.swizzledBandSelection=n,!1}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ExtractBandFunction_a.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ExtractBandFunctionArguments_c,json:{write:!0,name:"rasterFunctionArguments"}})],ExtractBandFunction_a.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ExtractBandFunction_a.prototype,"rasterArgumentNames",void 0),ExtractBandFunction_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ExtractBandFunction")],ExtractBandFunction_a);const ExtractBandFunction_l=ExtractBandFunction_a;function ExtractBandFunction_u(t,n){const e=t.bandInfos.map((({name:t})=>t.toLowerCase())),s=[];for(let r=0;r<n.length;r++){const t=n[r].toLowerCase();let o=e.indexOf(t);if(-1===o&&"nearinfrared"===t&&(o=e.findIndex((t=>t.startsWith("nearinfrared_1"))),-1===o&&(o=e.findIndex((t=>t.startsWith("nearinfrared"))))),-1===o)return null;s.push(o)}return s}function ExtractBandFunction_c(t,n,e){const{bandCount:s}=t;return!n?.length||e&&n.some((t=>t<0||t>=s))?null:n}function ExtractBandFunction_d(t,n,{wavelengthMatchTolerance:e},s){const{bandInfos:r}=t,o=[];for(let a=0;a<r.length;a++){const{minWavelength:t,maxWavelength:n}=r[a];if(!t||!n)return null;o.push({minWavelength:t,maxWavelength:n})}const i=[];for(let a=0;a<n.length;a++){const t=n[a];let r=!1,l=-1,u=Number.MAX_VALUE;for(let n=0;n<o.length;n++){const e=o[n],s=t>=e.minWavelength&&t<=e.maxWavelength,i=Math.abs(t-(e.minWavelength+e.maxWavelength)/2);s?i<u&&(r=!0,l=n,u=i):!r&&i<u&&(l=n,u=i)}if(!r&&e&&u<e&&(r=!0),!r&&s)return null;i.push(l)}return i}

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/conversionUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function conversionUtils_i(i,s,a){const{pixels:l,width:n,height:r,mask:o,bandMasks:h}=i,p=n*r,m=h?.length?PixelBlock/* default */.A.combineBandMasks(h):o,f=Math.min(s.length,l.length),c=a.startsWith("f"),d=!c&&a!==i.pixelType,[x,g]=(0,pixelRangeUtils/* getPixelValueRange */.hP)(a),k=PixelBlock/* default */.A.createEmptyBand(a,p);for(let t=0;t<r;t++){let e=t*n;for(let t=0;t<n;t++,e++)if(!m||m[e]){let t=0;for(let i=0;i<f;i++)t+=s[i]*l[i][e];c||(t=Math.round(t),d&&(t=t>g?g:t<x?x:t)),k[e]=t}}const u=new PixelBlock/* default */.A({width:n,height:r,pixels:[k],pixelType:a,mask:m});return u.updateStatistics(),u}

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/GrayscaleFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var GrayscaleFunctionArguments_t;let GrayscaleFunctionArguments_a=GrayscaleFunctionArguments_t=class extends p{clone(){return new GrayscaleFunctionArguments_t({conversionParameters:[...this.conversionParameters],raster:this.raster})}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:[Number],json:{write:!0}})],GrayscaleFunctionArguments_a.prototype,"conversionParameters",void 0),GrayscaleFunctionArguments_a=GrayscaleFunctionArguments_t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.GrayscaleFunctionArguments")],GrayscaleFunctionArguments_a);const GrayscaleFunctionArguments_c=GrayscaleFunctionArguments_a;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/GrayscaleFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GrayscaleFunction_i=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Grayscale",this.functionArguments=null,this.rasterArgumentNames=["raster"]}get _normalizedWeights(){const{conversionParameters:t}=this.functionArguments,e=t.reduce(((t,e)=>t+e));return t.map((t=>t/e))}_bindSourceRasters(){const{conversionParameters:t}=this.functionArguments;if(!t?.length)return{success:!1,supportsGPU:!1,error:"missing valid conversion parameters."};const e=this.sourceRasterInfos[0].clone();this.outputPixelType=this._getOutputPixelType(e.pixelType),e.pixelType=this.outputPixelType;const s=3===t.length||3===e.bandCount&&t.length>3;return e.bandCount=1,this._removeStatsHistColormapVAT(e),this.rasterInfo=e,{success:!0,supportsGPU:s}}_processPixels(t){const e=t.pixelBlocks?.[0];return null==e?null:conversionUtils_i(e,this._normalizedWeights,this.outputPixelType)}_getWebGLParameters(){return{weights:this._normalizedWeights}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],GrayscaleFunction_i.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:GrayscaleFunctionArguments_c,json:{write:!0,name:"rasterFunctionArguments"}})],GrayscaleFunction_i.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GrayscaleFunction_i.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GrayscaleFunction_i.prototype,"_normalizedWeights",null),GrayscaleFunction_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.GrayscaleFunction")],GrayscaleFunction_i);const GrayscaleFunction_u=GrayscaleFunction_i;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/HillshadeFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var HillshadeFunctionArguments_p;const HillshadeFunctionArguments_a=new jsonMap/* JSONMap */.J({0:"traditional",1:"multi-directional"},{useNumericKeys:!0}),HillshadeFunctionArguments_c=new jsonMap/* JSONMap */.J({1:"degree",2:"percent-rise",3:"scaled"},{useNumericKeys:!0});let HillshadeFunctionArguments_l=HillshadeFunctionArguments_p=class extends p{constructor(){super(...arguments),this.altitude=45,this.azimuth=315,this.hillshadeType="traditional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.slopeType="degree",this.zFactor=1,this.removeEdgeEffect=!1}clone(){return new HillshadeFunctionArguments_p({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,slopeType:this.slopeType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,removeEdgeEffect:this.removeEdgeEffect,raster:this.raster})}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],HillshadeFunctionArguments_l.prototype,"altitude",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],HillshadeFunctionArguments_l.prototype,"azimuth",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(),(0,enumeration/* enumeration */.e)(HillshadeFunctionArguments_a)],HillshadeFunctionArguments_l.prototype,"hillshadeType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0,name:"psPower"}})],HillshadeFunctionArguments_l.prototype,"pixelSizePower",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0,name:"psZFactor"}})],HillshadeFunctionArguments_l.prototype,"pixelSizeFactor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(),(0,enumeration/* enumeration */.e)(HillshadeFunctionArguments_c)],HillshadeFunctionArguments_l.prototype,"slopeType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],HillshadeFunctionArguments_l.prototype,"zFactor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],HillshadeFunctionArguments_l.prototype,"removeEdgeEffect",void 0),HillshadeFunctionArguments_l=HillshadeFunctionArguments_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.HillshadeFunctionArguments")],HillshadeFunctionArguments_l);const HillshadeFunctionArguments_m=HillshadeFunctionArguments_l;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/HillshadeFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let HillshadeFunction_c=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Hillshade",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isGCS=!1}_bindSourceRasters(){const t=this.sourceRasterInfos[0];if(t.bandCount>1)return{success:!1,supportsGPU:!1,error:"hillshade-function: source data must be single band"};this.outputPixelType=this._getOutputPixelType("u8");const s=t.clone();return this._removeStatsHistColormapVAT(s),s.pixelType=this.outputPixelType,s.bandCount=1,s.statistics=[{min:0,max:255,avg:60,stddev:10}],this.rasterInfo=s,this.isGCS=s.spatialReference?.isGeographic??!1,{success:!0,supportsGPU:!0}}_processPixels(t){const s=t.pixelBlocks?.[0];if(!s)return null;const{extent:e,primaryPixelSizes:r}=t,o=r?.[0],i=o??(e?{x:e.width/s.width,y:e.height/s.height}:{x:1,y:1}),p=(0,surfaceUtils/* getHillshadeOptions */.PP)(this.functionArguments,i,this.isGCS),a=(0,surfaceUtils/* hillshade */.fw)(s,p);return a.pixelType=this.outputPixelType,a}_getWebGLParameters(){const t=(0,surfaceUtils/* getHillshadeOptions */.PP)(this.functionArguments,{x:1,y:1},this.isGCS),s=(0,surfaceUtils/* calculateHillshadeParams */.ng)(t),{slopeType:e,zFactor:o,pixelSizeFactor:i,pixelSizePower:u}=this.functionArguments,c="scaled"===e,l=(0,pixelRangeUtils/* isIntegerPixelType */.zw)(this.outputPixelType);return{...s,zFactor:o,gcsFactor:this.isGCS?surfaceUtils/* gcsFactor */.rk:1,pixelSizeFactor:c?i:0,pixelSizePower:c?u:0,isOutputRounded:l}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],HillshadeFunction_c.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:HillshadeFunctionArguments_m,json:{write:!0,name:"rasterFunctionArguments"}})],HillshadeFunction_c.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],HillshadeFunction_c.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],HillshadeFunction_c.prototype,"isGCS",void 0),HillshadeFunction_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.HillshadeFunction")],HillshadeFunction_c);const HillshadeFunction_l=HillshadeFunction_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/LocalFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var LocalFunctionArguments_i;let LocalFunctionArguments_a=LocalFunctionArguments_i=class extends p{constructor(){super(...arguments),this.rasters=[],this.processAsMultiband=!0}writeRasters(r,s){s.rasters=r.map((r=>"number"==typeof r||"string"==typeof r?r:r.toJSON()))}clone(){return new LocalFunctionArguments_i({operation:this.operation,processAsMultiband:this.processAsMultiband,rasters:(0,lang/* clone */.o8)(this.rasters)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],LocalFunctionArguments_a.prototype,"operation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],LocalFunctionArguments_a.prototype,"rasters",void 0),(0,tslib_es6._)([(0,writer/* writer */.K)("rasters")],LocalFunctionArguments_a.prototype,"writeRasters",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],LocalFunctionArguments_a.prototype,"processAsMultiband",void 0),LocalFunctionArguments_a=LocalFunctionArguments_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.LocalFunctionArguments")],LocalFunctionArguments_a);const LocalFunctionArguments_c=LocalFunctionArguments_a;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/LocalFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let LocalFunction_m=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Local",this.functionArguments=null,this.rasterArgumentNames=["rasters"]}_bindSourceRasters(){const{sourceRasterInfos:t}=this,s=t[0],{bandCount:e}=s,{processAsMultiband:o}=this.functionArguments;if(t.some((t=>t.bandCount!==e)))return{success:!1,supportsGPU:!1,error:"local-function: input rasters do not have same band count"};const{operation:n,rasters:r}=this.functionArguments,i=localUtils_c[n];if(!(999===i||r.length===i||r.length<=1&&1===i))return{success:!1,supportsGPU:!1,error:`local-function: the length of functionArguments.rasters does not match operation's requirement: ${i}`};const a=s.clone();a.bandCount=999!==i||o?e:1,this._removeStatsHistColormapVAT(a),this._updateStatistics(a),this._updatePixelType(a),this.rasterInfo=a;return{success:!0,supportsGPU:1===a.bandCount&&i<=3}}_processPixels(t){const{pixelBlocks:s}=t;return null==s||s.some((t=>null==t))?null:gt(s,this.functionArguments.operation,{processAsMultiband:this.functionArguments.processAsMultiband,outputPixelType:this.outputPixelType??void 0})}_getWebGLParameters(){const{operation:t}=this.functionArguments,s=localUtils_c[t],e=Object.keys(m).find((s=>m[s]===t))?.toLowerCase()??"undefined",i=this.outputPixelType??"f32";let[a,u]=(0,pixelRangeUtils/* getPixelValueRange */.hP)(i);const p=(0,pixelRangeUtils/* isIntegerPixelType */.zw)(i);return p&&(a-=1e-4,u+=1e-4),{imageCount:s,operationName:e,domainRange:[a,u],isOutputRounded:p}}_updateStatistics(t){const s=this.sourceRasterInfos[0],{operation:e}=this.functionArguments,o=localUtils_l(e)?.domain;if(o){t.statistics=[];for(let s=0;s<t.bandCount;s++)t.statistics[s]={min:o[0],max:o[1],avg:(o[0]+o[1])/2,stddev:(o[0]+o[1])/10}}else 45===e&&s.statistics?.length&&(t.statistics=s.statistics.map((t=>({min:-t.max,max:-t.min,avg:null!=t.avg?-t.avg:void 0,stddev:null!=t.stddev?-t.stddev:void 0}))))}_updatePixelType(t){const{statistics:s,pixelType:e}=this.sourceRasterInfos[0],{operation:o}=this.functionArguments,{domain:n,isInteger:a}=localUtils_l(o)??{domain:null,isInteger:!1};let u="f32";if(n&&a)u=(0,pixelRangeUtils/* getIntegerPixelType */.X1)(n[0],n[1]);else if(30===o){const t=s?.[0];u=t?(0,pixelRangeUtils/* getIntegerPixelType */.X1)(t.min,t.max):(0,pixelRangeUtils/* isIntegerPixelType */.zw)(e)?e:"s32"}else if(45===o&&(0,pixelRangeUtils/* isIntegerPixelType */.zw)(e)){const t=s?.map((({max:t})=>-t)),o=s?.map((({min:t})=>-t)),n=t?.length?Math.min(...t):null,r=o?.length?Math.min(...o):null;u=null!=n&&null!=r?(0,pixelRangeUtils/* getIntegerPixelType */.X1)(n,r):e.startsWith("s")?e.replace("s","u"):"u1"===e||"u2"===e||"u4"===e?"s8":"u8"===e?"s16":"s32"}t.pixelType=this.outputPixelType=this._getOutputPixelType(u)}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],LocalFunction_m.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:LocalFunctionArguments_c,json:{write:!0,name:"rasterFunctionArguments"}})],LocalFunction_m.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],LocalFunction_m.prototype,"rasterArgumentNames",void 0),LocalFunction_m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.LocalFunction")],LocalFunction_m);const LocalFunction_d=LocalFunction_m;

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(4506);
;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/MaskFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var MaskFunctionArguments_s;let MaskFunctionArguments_a=MaskFunctionArguments_s=class extends p{constructor(){super(...arguments),this.includedRanges=null,this.noDataValues=null,this.noDataInterpretation=pixelUtils/* NoDataInterpretation */.IB.matchAny}get normalizedNoDataValues(){const{noDataValues:t}=this;if(!t?.length)return null;let e=!1;const r=t.map((t=>{if("number"==typeof t)return e=!0,[t];if("string"==typeof t){const r=t.trim().split(" ").filter((t=>""!==t.trim())).map((t=>Number(t)));return e=e||r.length>0,0===r.length?null:r}return null}));return e?r:null}clone(){return new MaskFunctionArguments_s({includedRanges:this.includedRanges?.slice()??[],noDataValues:this.noDataValues?.slice()??[],noDataInterpretation:this.noDataInterpretation})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],MaskFunctionArguments_a.prototype,"includedRanges",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],MaskFunctionArguments_a.prototype,"noDataValues",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],MaskFunctionArguments_a.prototype,"normalizedNoDataValues",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],MaskFunctionArguments_a.prototype,"noDataInterpretation",void 0),MaskFunctionArguments_a=MaskFunctionArguments_s=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.MaskFunctionArguments")],MaskFunctionArguments_a);const MaskFunctionArguments_i=MaskFunctionArguments_a;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/MaskFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let MaskFunction_c=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Mask",this.functionArguments=null,this.rasterArgumentNames=["raster"]}_bindSourceRasters(){const t=this.sourceRasterInfos[0].clone(),{pixelType:e}=t;this.outputPixelType=this._getOutputPixelType(e),t.pixelType=this.outputPixelType,this.rasterInfo=t;const{includedRanges:s,normalizedNoDataValues:o}=this.functionArguments;if(!s?.length&&!o?.length)return{success:!1,supportsGPU:!1,error:"missing includedRanges or noDataValues argument"};let r=[];for(let a=0;a<t.bandCount;a++){const t=(0,pixelUtils/* createMaskLUT */.Wt)(e,s?.slice(2*a,2*a+2),o?.[a]);if(null==t){r=null;break}r.push(t)}this.lookups=r;const n=null!=o&&o.every((t=>t?.length===o[0]?.length));return{success:!0,supportsGPU:(!s||s.length<=2*pixelUtils/* maxMapSizeGpu */.et)&&(!o||n&&o[0].length<=pixelUtils/* maxMapSizeGpu */.et)}}_processPixels(t){const e=t.pixelBlocks?.[0];if(null==e)return null;const{outputPixelType:s,lookups:o}=this,{includedRanges:r,noDataInterpretation:n,normalizedNoDataValues:u}=this.functionArguments,a=n===pixelUtils/* NoDataInterpretation */.IB.matchAll;return (0,pixelUtils/* mask */.dK)(e,{includedRanges:r,noDataValues:u,outputPixelType:s,matchAll:a,lookups:o})}_getWebGLParameters(){const{includedRanges:t,normalizedNoDataValues:s}=this.functionArguments,o=new Float32Array(pixelUtils/* maxMapSizeGpu */.et);o.fill(mathUtils/* numberMaxFloat32 */.pq),s?.[0]?.length&&o.set(s[0]);const r=new Float32Array(6);for(let n=0;n<r.length;n+=2)r[n]=t?.[n]??-mathUtils/* numberMaxFloat32 */.pq,r[n+1]=t?.[n+1]??mathUtils/* numberMaxFloat32 */.pq;return t?.length&&r.set(t),{bandCount:this.sourceRasterInfos[0].bandCount,noDataValues:o,includedRanges:r}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],MaskFunction_c.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:MaskFunctionArguments_i,json:{write:!0,name:"rasterFunctionArguments"}})],MaskFunction_c.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],MaskFunction_c.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],MaskFunction_c.prototype,"lookups",void 0),MaskFunction_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.MaskFunction")],MaskFunction_c);const MaskFunction_p=MaskFunction_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/NDVIFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var NDVIFunctionArguments_i;let NDVIFunctionArguments_e=NDVIFunctionArguments_i=class extends p{constructor(){super(...arguments),this.visibleBandID=0,this.infraredBandID=1,this.scientificOutput=!1}clone(){const{visibleBandID:r,infraredBandID:t,scientificOutput:s}=this;return new NDVIFunctionArguments_i({visibleBandID:r,infraredBandID:t,scientificOutput:s})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],NDVIFunctionArguments_e.prototype,"visibleBandID",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],NDVIFunctionArguments_e.prototype,"infraredBandID",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],NDVIFunctionArguments_e.prototype,"scientificOutput",void 0),NDVIFunctionArguments_e=NDVIFunctionArguments_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.NDVIFunctionArguments")],NDVIFunctionArguments_e);const NDVIFunctionArguments_n=NDVIFunctionArguments_e;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/NDVIFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let NDVIFunction_u=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="NDVI",this.functionArguments=null,this.rasterArgumentNames=["raster"]}_bindSourceRasters(){const{scientificOutput:t,visibleBandID:s,infraredBandID:e}=this.functionArguments;this.outputPixelType=this._getOutputPixelType(t?"f32":"u8");const n=this.sourceRasterInfos[0],r=Math.max(s,e);if(n.bandCount<2||r>=n.bandCount)return{success:!1,supportsGPU:!1,error:"ndvi-function: source raster has insufficient amount of raster bands"};if(s<0||e<0)return{success:!1,supportsGPU:!1,error:"ndvi-function: invalid visible or infrared band id"};const i=n.clone();i.pixelType=this.outputPixelType,this._removeStatsHistColormapVAT(i),i.bandCount=1,i.keyProperties={...i.keyProperties,BandProperties:void 0};const[o,u,a,c]=t?[-1,1,0,.1]:[0,200,100,10];return i.statistics=[{min:o,max:u,avg:a,stddev:c}],this.rasterInfo=i,{success:!0,supportsGPU:!0}}_processPixels(t){const s=t.pixelBlocks?.[0];if(null==s)return null;const{visibleBandID:e,infraredBandID:r,scientificOutput:i}=this.functionArguments;return bandIndexUtils_l(s,e,r,!i)}_getWebGLParameters(){const{visibleBandID:t,infraredBandID:s,scientificOutput:e}=this.functionArguments,n=this.isInputBandIdsSwizzled?[0,1,2]:[s,t,0];return{bandIndexMat3:bandIndexUtils_c(n),scaled:!e}}_getInputBandIds(t){const{visibleBandID:s,infraredBandID:e}=this.functionArguments;return[e,s,0].map((s=>t[s]))}_swizzleBandIds(t){const{visibleBandID:s,infraredBandID:e}=this.functionArguments,n=[s,e].map((s=>t.indexOf(s)));return n[2]=n[1],this.isInputBandIdsSwizzled=!0,this.swizzledBandSelection=n,!1}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],NDVIFunction_u.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:NDVIFunctionArguments_n,json:{write:!0,name:"rasterFunctionArguments"}})],NDVIFunction_u.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],NDVIFunction_u.prototype,"rasterArgumentNames",void 0),NDVIFunction_u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.NDVIFunction")],NDVIFunction_u);const NDVIFunction_a=NDVIFunction_u;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/RemapFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var RemapFunctionArguments_n;let RemapFunctionArguments_a=RemapFunctionArguments_n=class extends p{constructor(){super(...arguments),this.inputRanges=null,this.outputValues=null,this.noDataRanges=null,this.allowUnmatched=!1,this.isLastInputRangeInclusive=!1}clone(){return new RemapFunctionArguments_n({inputRanges:[...this.inputRanges],outputValues:[...this.outputValues],noDataRanges:[...this.noDataRanges],allowUnmatched:this.allowUnmatched,isLastInputRangeInclusive:this.isLastInputRangeInclusive})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RemapFunctionArguments_a.prototype,"inputRanges",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RemapFunctionArguments_a.prototype,"outputValues",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RemapFunctionArguments_a.prototype,"noDataRanges",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RemapFunctionArguments_a.prototype,"allowUnmatched",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RemapFunctionArguments_a.prototype,"replacementValue",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RemapFunctionArguments_a.prototype,"isLastInputRangeInclusive",void 0),RemapFunctionArguments_a=RemapFunctionArguments_n=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.RemapFunctionArguments")],RemapFunctionArguments_a);const RemapFunctionArguments_r=RemapFunctionArguments_a;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/RemapFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let RemapFunction_g=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Remap",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.lookup=null}_bindSourceRasters(){const t=this.sourceRasterInfos[0].clone(),{pixelType:e}=t;t.bandCount=1;const{statistics:s}=t;this._removeStatsHistColormapVAT(t);const{allowUnmatched:n,replacementValue:a,outputValues:r,inputRanges:l,noDataRanges:p,isLastInputRangeInclusive:m}=this.functionArguments,c="unknown"===this.outputPixelType||null==this.outputPixelType;if(this.outputPixelType=this._getOutputPixelType(e),r?.length){const u=s?.[0];if(n&&null==a){let e=u?.min??r[0],s=u?.max??r[0];e=Math.min.apply(null,[...r,e]),s=Math.max.apply(null,[...r,s]),t.statistics=[{min:e,max:s,avg:u?.avg??0,stddev:u?.stddev??-1}]}else{let e=r[0],s=e;for(let t=0;t<r.length;t++)e=e>r[t]?r[t]:e,s=s>r[t]?s:r[t];n&&null!=a&&(e=Math.min(e,a),s=Math.max(s,a)),t.statistics=[{min:e,max:s,avg:u?.avg??0,stddev:u?.stddev??-1}]}if(c){const{min:s,max:u}=t.statistics[0],i=["u8","s8","u16","s16","u32","s32","f32"],l=i.find((t=>{const[e,n]=(0,pixelRangeUtils/* getPixelValueRange */.hP)(t);return s>=e&&u<=n}))??"f64";r.some((t=>Math.floor(t)!==t))?this.outputPixelType="f64"===l?"f64":"f32":this.outputPixelType=n&&null==a&&i.indexOf(e)>i.indexOf(l)?e:l}}t.pixelType=this.outputPixelType,this.rasterInfo=t,this.lookup=n?null:(0,pixelUtils/* createRemapLUT */.XU)({srcPixelType:e,inputRanges:l,outputValues:r,noDataRanges:p,allowUnmatched:n,isLastInputRangeInclusive:m,outputPixelType:this.outputPixelType});return{success:!0,supportsGPU:(!r||r.length<=pixelUtils/* maxMapSizeGpu */.et)&&(!p||p.length<=pixelUtils/* maxMapSizeGpu */.et)}}_processPixels(t){const e=t.pixelBlocks?.[0];if(null==e)return null;const{lookup:s,outputPixelType:n}=this;if(s){const t=(0,pixelUtils/* lookupPixels */.eH)(e,{lut:[s.lut],offset:s.offset,outputPixelType:n});return null!=t&&s.mask&&(t.mask=(0,pixelUtils/* lookupBandValues */.UK)(e.pixels[0],e.mask,s.mask,s.offset,"u8")),t}const{inputRanges:o,outputValues:a,noDataRanges:u,allowUnmatched:i,isLastInputRangeInclusive:m,replacementValue:c}=this.functionArguments;return (0,pixelUtils/* remap */.Ew)(e,{inputRanges:o,outputValues:a,noDataRanges:u,outputPixelType:n,allowUnmatched:i,isLastInputRangeInclusive:m,replacementValue:c})}_getWebGLParameters(){const{allowUnmatched:t,noDataRanges:s,isLastInputRangeInclusive:n}=this.functionArguments,a=this.functionArguments.inputRanges??[],u=this.functionArguments.outputValues??[],r=(0,pixelUtils/* createRangeMaps */.bL)(a,u,n),l=new Float32Array(2*pixelUtils/* maxMapSizeGpu */.et);l.fill(mathUtils/* numberMaxFloat32 */.pq),s?.length&&l.set(s);return{allowUnmatched:t,rangeMaps:r,noDataRanges:l,clampRange:(0,pixelRangeUtils/* getPixelValueRange */.hP)(this.outputPixelType),replacementValue:this.functionArguments.replacementValue}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],RemapFunction_g.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:RemapFunctionArguments_r,json:{write:!0,name:"rasterFunctionArguments"}})],RemapFunction_g.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],RemapFunction_g.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RemapFunction_g.prototype,"lookup",void 0),RemapFunction_g=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.RemapFunction")],RemapFunction_g);const RemapFunction_f=RemapFunction_g;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ShadedReliefFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var ShadedReliefFunctionArguments_a;let ShadedReliefFunctionArguments_c=ShadedReliefFunctionArguments_a=class extends HillshadeFunctionArguments_m{readColorRamp(o){if("string"==typeof o){const r=colorRampUtils/* colorRampDict */.kH.jsonValues.find((r=>r.toLowerCase()===o.toLowerCase()));return r?(0,colorRampUtils/* getColorRampJSON */.M5)(colorRampUtils/* colorRampDict */.kH.fromJSON(r)):null}return"toJSON"in o?o.toJSON():o}clone(){return new ShadedReliefFunctionArguments_a({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,slopeType:this.slopeType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,removeEdgeEffect:this.removeEdgeEffect,colorRamp:this.colorRamp,colormap:this.colormap,raster:this.raster})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ShadedReliefFunctionArguments_c.prototype,"colorRamp",void 0),(0,tslib_es6._)([(0,reader/* reader */.w)("colorRamp")],ShadedReliefFunctionArguments_c.prototype,"readColorRamp",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[[Number]],json:{write:!0}})],ShadedReliefFunctionArguments_c.prototype,"colormap",void 0),ShadedReliefFunctionArguments_c=ShadedReliefFunctionArguments_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ShadedReliefFunctionArguments")],ShadedReliefFunctionArguments_c);const ShadedReliefFunctionArguments_l=ShadedReliefFunctionArguments_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/ShadedReliefFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ShadedReliefFunction_h=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="ShadedRelief",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isGCS=!1}_bindSourceRasters(){const e=this.sourceRasterInfos[0];if(e.bandCount>1)return{success:!1,supportsGPU:!1,error:"shadedrelief-function: source data must be single band"};let{colorRamp:t,colormap:s}=this.functionArguments;if(!t&&!s?.length)return{success:!1,supportsGPU:!1,error:"shadedrelief-function: a color ramp argument must be specified"};this.outputPixelType=this._getOutputPixelType("u8");const r=e.clone();this._removeStatsHistColormapVAT(r),r.pixelType=this.outputPixelType,r.bandCount=3,r.statistics=[{min:0,max:255,avg:60,stddev:10},{min:0,max:255,avg:60,stddev:10},{min:0,max:255,avg:60,stddev:10}],this.rasterInfo=r,this.isGCS=r.spatialReference?.isGeographic??!1,s?.length||(s=(0,colorRampUtils/* convertColorRampToColormap */.R8)(t,{interpolateAlpha:!0}));const{indexedColormap:o,offset:n}=(0,pixelUtils/* createColormapLUT */.zg)({colormap:s});if(!o?.length)return{success:!1,supportsGPU:!1,error:"shadedrelief-function: a valid colorramp is required"};const p=(0,colorRampUtils/* createHsvMap */.S2)(o);return this.lookup={indexedColormap:o,offset:n,hsvMap:p},{success:!0,supportsGPU:(0,rasterRendererChecks/* isColormapSupportedByWebGL */.WN)(o)}}_processPixels(e){const t=e.pixelBlocks?.[0];if(!t||!this.lookup)return null;let s=e.primaryPixelSizes?.[0];if(null==s){const{extent:r}=e;s=r?{x:r.width/t.width,y:r.height/t.height}:{x:1,y:1}}const r=(0,surfaceUtils/* getHillshadeOptions */.PP)(this.functionArguments,s,this.isGCS),o=(0,surfaceUtils/* hillshade */.fw)(t,r),i=this.sourceRasterInfos[0].statistics?.[0]??{min:0,max:8e3};return (0,surfaceUtils/* tintHillshade */.SC)(o,t,this.lookup.hsvMap,i),o.pixelType=this.outputPixelType,o}_getWebGLParameters(){const e=(0,surfaceUtils/* getHillshadeOptions */.PP)(this.functionArguments,{x:1,y:1},this.isGCS),t=(0,surfaceUtils/* calculateHillshadeParams */.ng)(e),{slopeType:s,zFactor:o,pixelSizeFactor:i,pixelSizePower:n}=this.functionArguments,a="scaled"===s,{indexedColormap:u,offset:m}=this.lookup,d=this.sourceRasterInfos[0].statistics?.[0],f=(0,pixelRangeUtils/* isIntegerPixelType */.zw)(this.outputPixelType);return{...t,indexedColormap:u,offset:m,zFactor:o,gcsFactor:this.isGCS?surfaceUtils/* gcsFactor */.rk:1,pixelSizeFactor:a?i:0,pixelSizePower:a?n:0,minValue:d?.min??0,maxValue:d?.max??8e3,isOutputRounded:f}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],ShadedReliefFunction_h.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ShadedReliefFunctionArguments_l,json:{write:!0,name:"rasterFunctionArguments"}})],ShadedReliefFunction_h.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ShadedReliefFunction_h.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ShadedReliefFunction_h.prototype,"isGCS",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ShadedReliefFunction_h.prototype,"lookup",void 0),ShadedReliefFunction_h=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.ShadedReliefFunction")],ShadedReliefFunction_h);const ShadedReliefFunction_x=ShadedReliefFunction_h;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/SlopeFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var SlopeFunctionArguments_i;const SlopeFunctionArguments_c=new jsonMap/* JSONMap */.J({1:"degree",2:"percent-rise",3:"adjusted"},{useNumericKeys:!0});let SlopeFunctionArguments_a=SlopeFunctionArguments_i=class extends p{constructor(){super(...arguments),this.slopeType="degree",this.zFactor=1,this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.removeEdgeEffect=!1}clone(){return new SlopeFunctionArguments_i({slopeType:this.slopeType,zFactor:this.zFactor,pixelSizePower:this.pixelSizePower,pixelSizeFactor:this.pixelSizeFactor,removeEdgeEffect:this.removeEdgeEffect,raster:this.raster})}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(SlopeFunctionArguments_c)],SlopeFunctionArguments_a.prototype,"slopeType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],SlopeFunctionArguments_a.prototype,"zFactor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{name:"psPower",write:!0}})],SlopeFunctionArguments_a.prototype,"pixelSizePower",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{name:"psZFactor",write:!0}})],SlopeFunctionArguments_a.prototype,"pixelSizeFactor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],SlopeFunctionArguments_a.prototype,"removeEdgeEffect",void 0),SlopeFunctionArguments_a=SlopeFunctionArguments_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.SlopeFunctionArguments")],SlopeFunctionArguments_a);const SlopeFunctionArguments_m=SlopeFunctionArguments_a;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/SlopeFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let SlopeFunction_u=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Slope",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isGCS=!1}_bindSourceRasters(){this.outputPixelType=this._getOutputPixelType("f32");const e=this.sourceRasterInfos[0].clone();return e.pixelType=this.outputPixelType,this._removeStatsHistColormapVAT(e),e.statistics="percent-rise"!==this.functionArguments.slopeType?[{min:0,max:90,avg:1,stddev:1}]:null,e.bandCount=1,this.rasterInfo=e,this.isGCS=e.spatialReference?.isGeographic??!1,{success:!0,supportsGPU:!0}}_processPixels(e){const t=e.pixelBlocks?.[0];if(null==t)return null;const{zFactor:s,slopeType:r,pixelSizePower:o,pixelSizeFactor:i}=this.functionArguments,{isGCS:n}=this,{extent:u,primaryPixelSizes:c}=e,a=c?.[0],l=a??(u?{x:u.width/t.width,y:u.height/t.height}:{x:1,y:1});return (0,surfaceUtils/* slope */.yy)(t,{zFactor:s,slopeType:r,pixelSizePower:o,pixelSizeFactor:i,isGCS:n,resolution:l})}_getWebGLParameters(){const{zFactor:e,slopeType:t,pixelSizeFactor:s,pixelSizePower:o}=this.functionArguments;return{zFactor:this.isGCS&&e>=1?e*surfaceUtils/* gcsFactor */.rk:e,slopeType:t,pixelSizeFactor:s??0,pixelSizePower:o??0,isOutputRounded:(0,pixelRangeUtils/* isIntegerPixelType */.zw)(this.outputPixelType)}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],SlopeFunction_u.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:SlopeFunctionArguments_m,json:{write:!0,name:"rasterFunctionArguments"}})],SlopeFunction_u.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SlopeFunction_u.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],SlopeFunction_u.prototype,"isGCS",void 0),SlopeFunction_u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.SlopeFunction")],SlopeFunction_u);const SlopeFunction_c=SlopeFunction_u;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/focalStatUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const focalStatUtils_n=new jsonMap/* JSONMap */.J({1:"min",2:"max",3:"mean",4:"stddev",5:"median",6:"majority",7:"minority"},{useNumericKeys:!0});function focalStatUtils_s(t,e){const{fillNoDataOnly:o}=e,{band:n,width:s,height:r,mask:i,outBand:l}=t;if(o&&!i)return void l.set(n);const{statisticsType:a,kernelRows:c,kernelCols:f}=e,h="stddev"===a,m=s*r,u=new Float64Array(m),d=new Float64Array(m),y=new Uint32Array(m);for(let A=0;A<r;A++){const t=A*s;let e=0,o=0,r=0;for(let s=0;s<f;s++)i&&!i[t+s]||(e+=n[t+s],h&&(o+=n[t+s]**2),r++);u[t]=e,d[t]=o,y[t]=r;for(let l=1;l<=s-f;l++){const s=t+l-1,a=s+f;i?(i[s]&&(r--,e-=n[s],h&&(o-=n[s]**2)),i[a]&&(r++,e+=n[a],h&&(o+=n[a]**2))):(e-=n[s],e+=n[a],h&&(o-=n[s]**2,o+=n[a]**2)),u[t+l]=e,y[t+l]=r,h&&(d[t+l]=o)}}const k=new Float64Array(m),w=new Float64Array(m),p=new Uint32Array(m),M=c*s;for(let A=0;A<=s-f;A++){let t=0,e=0,o=0;for(let n=0;n<c;n++){const r=n*s+A;t+=u[r],o+=y[r],h&&(e+=d[r])}k[A]=t,w[A]=e,p[A]=o;for(let n=1;n<=r-c;n++){const r=(n-1)*s+A,i=r+M;t-=u[r],t+=u[i],o-=y[r],o+=y[i],h&&(e-=d[r],e+=d[i]),k[n*s+A]=t,w[n*s+A]=e,p[n*s+A]=o}}const g=Math.floor(c/2),b=Math.floor(f/2);for(let A=g;A<r-g;A++){const t=A*s;for(let e=b;e<s-b;e++){const n=(A-g)*s+e-b,r=p[n];if(0===r||o&&(!i||i[t+e]))continue;const a=k[n]/r,c=h?Math.sqrt((w[n]-k[n]*a)/r):a;l[t+e]=c,i&&(i[t+e]=255)}}}function focalStatUtils_r(t,e){const{fillNoDataOnly:o}=e,{band:n,width:s,height:r,mask:i,outBand:l}=t;if(o&&!i)return void l.set(n);const{kernelRows:a,kernelCols:c,statisticsType:f}=e,h=Math.floor(a/2),m=Math.floor(c/2),u="min"===f,d=l.slice(),y=new Uint32Array(s*r);for(let k=h;k<r-h;k++){const t=k*s;for(let e=m;e<s-m;e++){let o=u?Number.MAX_VALUE:-Number.MAX_VALUE,r=0;for(let l=0;l<a;l++)for(let a=0;a<c;a++){const c=t+e+(l-h)*s+a-m;i&&!i[c]||(o=u?Math.min(o,n[c]):Math.max(o,n[c]),r++)}i?(d[t+e]=0===r?0:o,y[t+e]=r):l[t+e]=0===r?0:o}}if(i)for(let k=h;k<r-h;k++){const t=k*s;for(let e=m;e<s-m;e++)if(y[t+e]){if(o&&i[t+e])continue;l[t+e]=d[t+e],i[t+e]=255}}}function focalStatUtils_i(t,e){const{fillNoDataOnly:o}=e,{band:n,width:s,height:r,mask:i,outBand:l}=t;if(o&&!i)return void l.set(n);const{kernelRows:a,kernelCols:c}=e,f=Math.floor(a/2),h=Math.floor(c/2),m=l.slice(),u=new Uint32Array(s*r);for(let d=f;d<r-f;d++){const t=d*s;for(let e=h;e<s-h;e++){if(o&&i?.[t+e])continue;const r=[];for(let o=0;o<a;o++)for(let l=0;l<c;l++){const a=t+e+(o-f)*s+l-h;i&&!i[a]||r.push(n[a])}r.length&&(r.sort(((t,e)=>t-e)),i?(m[t+e]=r[Math.floor((r.length-1)/2)],u[t+e]=r.length):l[t+e]=r[Math.floor((r.length-1)/2)])}}if(i)for(let d=f;d<r-f;d++){const t=d*s;for(let e=h;e<s-h;e++)if(u[t+e]){if(o&&i[t+e])continue;l[t+e]=m[t+e],i[t+e]=255}}}function focalStatUtils_l(t,e){const{fillNoDataOnly:o}=e,{band:n,width:s,height:r,mask:i,outBand:l}=t;if(o&&!i)return void l.set(n);const{kernelRows:a,kernelCols:c}=e,f=Math.floor(a/2),h=Math.floor(c/2),m="majority"===e.statisticsType,u=a*c,d=l.slice(),y=new Uint32Array(s*r);for(let k=f;k<r-f;k++){const t=k*s;for(let e=h;e<s-h;e++){if(o&&i?.[t+e])continue;const r=new Map;for(let o=0;o<a;o++)for(let l=0;l<c;l++){const a=t+e+(o-f)*s+l-h;if(i&&!i[a])continue;const c=n[a];r.set(c,r.has(c)?r.get(c)+1:1)}if(0===r.size)continue;let k=0,w=0,p=m?0:u+1;for(const t of r.keys())w=r.get(t),m===w>p&&(p=w,k=t);i?(d[t+e]=k,y[t+e]=r.size):l[t+e]=k}}if(i)for(let k=f;k<r-f;k++){const t=k*s;for(let e=h;e<s-h;e++)if(y[t+e]){if(o&&i[t+e])continue;l[t+e]=d[t+e],i[t+e]=255}}}function focalStatUtils_a(t,n){const{mask:a}=t,{fillNoDataOnly:c}=n;if(c&&!a)return t;const{pixels:f,width:h,height:m,bandMasks:u,pixelType:d}=t,y=f.length,k=h*m,w=[],{kernelRows:p,kernelCols:M,statisticsType:g,mirrorEdges:b}=n;if(c&&!a)return t;const A=n.outputPixelType??d,x=[];for(let N=0;N<y;N++){const t=f[N],d=PixelBlock/* default */.A.createEmptyBand(A,k);c&&d.set(t);const y=u?.[N]??a,j=y?.slice()??null,B={band:t,width:h,height:m,mask:j,outBand:d};switch(g){case"min":case"max":focalStatUtils_r(B,n);break;case"mean":case"stddev":focalStatUtils_s(B,n);break;case"median":focalStatUtils_i(B,n);break;case"majority":case"minority":focalStatUtils_l(B,n)}b&&!c&&mirror_o(d,h,m,p,M),w.push(d),j&&x.push(j)}let j=x[0]??a;x.length!==y&&(x.length=0),y>1&&u?.length&&(j=PixelBlock/* default */.A.combineBandMasks(u));const B=new PixelBlock/* default */.A({pixelType:A,width:h,height:m,pixels:w,bandMasks:u&&x.length?x:null,mask:j});return B.updateStatistics(),B}

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/StatisticsFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var StatisticsFunctionArguments_c;let StatisticsFunctionArguments_p=StatisticsFunctionArguments_c=class extends p{constructor(){super(...arguments),this.rows=3,this.cols=3,this.fillNoDataOnly=!1,this.statisticsType="min"}clone(){return new StatisticsFunctionArguments_c({rows:this.rows,cols:this.cols,fillNoDataOnly:this.fillNoDataOnly,statisticsType:this.statisticsType,raster:(0,lang/* clone */.o8)(this.raster)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,read:{source:["kernelRows","rows"],reader:(s,r)=>Number(s??r?.kernelRows??3)}}})],StatisticsFunctionArguments_p.prototype,"rows",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,read:{source:["kernelCols","cols"],reader:(s,r)=>Number(s??r?.kernelCols??3)}}})],StatisticsFunctionArguments_p.prototype,"cols",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],StatisticsFunctionArguments_p.prototype,"fillNoDataOnly",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{read:{source:["statisticsType","type"],reader:(s,r)=>focalStatUtils_n.fromJSON(r?.statisticsType??r?.type)??"min"},write:{target:"type"}}}),(0,enumeration/* enumeration */.e)(focalStatUtils_n)],StatisticsFunctionArguments_p.prototype,"statisticsType",void 0),StatisticsFunctionArguments_p=StatisticsFunctionArguments_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.StatisticsFunctionArguments")],StatisticsFunctionArguments_p);const StatisticsFunctionArguments_l=StatisticsFunctionArguments_p;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/StatisticsFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let StatisticsFunction_c=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Statistics",this.rasterArgumentNames=["raster"]}_bindSourceRasters(){const{type:t}=this.functionArguments.toJSON();if(t<1||t>7)return{success:!1,supportsGPU:!1,error:`statistics-function: the given statistics type is not supported ${t}`};const s=this.sourceRasterInfos[0];this.outputPixelType=this._getOutputPixelType(s.pixelType);const e=s.clone();e.pixelType=this.outputPixelType;const{statisticsType:o}=this.functionArguments;"stddev"===o&&this._removeStatsHistColormapVAT(e),this.rasterInfo=e;return{success:!0,supportsGPU:e.bandCount<=3&&t<5}}_processPixels(t){const s=t.pixelBlocks?.[0];if(null==s)return s;const{statisticsType:e,rows:o,cols:r,fillNoDataOnly:n}=this.functionArguments;return focalStatUtils_a(s,{kernelRows:o,kernelCols:r,fillNoDataOnly:n,outputPixelType:this.outputPixelType,statisticsType:e,mirrorEdges:!0})}_getWebGLParameters(){const{rows:t,cols:s,statisticsType:e,fillNoDataOnly:r}=this.functionArguments;return{fillNoDataOnly:r,kernelRows:t,kernelCols:s,statisticsType:e,clampRange:(0,pixelRangeUtils/* getPixelValueRange */.hP)(this.outputPixelType)}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],StatisticsFunction_c.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:StatisticsFunctionArguments_l,json:{write:!0,name:"rasterFunctionArguments"}})],StatisticsFunction_c.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],StatisticsFunction_c.prototype,"rasterArgumentNames",void 0),StatisticsFunction_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.StatisticsFunction")],StatisticsFunction_c);const StatisticsFunction_p=StatisticsFunction_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/StatisticsHistogramFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var StatisticsHistogramFunctionArguments_c;let StatisticsHistogramFunctionArguments_n=StatisticsHistogramFunctionArguments_c=class extends p{constructor(){super(...arguments),this.statistics=null,this.histograms=null}readStatistics(t,s){if(!t?.length)return null;const r=[];return t.forEach((t=>{const s={min:t.min,max:t.max,avg:t.avg??t.mean,stddev:t.stddev??t.standardDeviation};r.push(s)})),r}writeStatistics(t,s,r){if(!t?.length)return;const o=[];t.forEach((t=>{const s={...t,mean:t.avg,standardDeviation:t.stddev};delete s.avg,delete s.stddev,o.push(s)})),s[r]=o}clone(){return new StatisticsHistogramFunctionArguments_c({statistics:(0,lang/* clone */.o8)(this.statistics),histograms:(0,lang/* clone */.o8)(this.histograms)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],StatisticsHistogramFunctionArguments_n.prototype,"statistics",void 0),(0,tslib_es6._)([(0,reader/* reader */.w)("statistics")],StatisticsHistogramFunctionArguments_n.prototype,"readStatistics",null),(0,tslib_es6._)([(0,writer/* writer */.K)("statistics")],StatisticsHistogramFunctionArguments_n.prototype,"writeStatistics",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],StatisticsHistogramFunctionArguments_n.prototype,"histograms",void 0),StatisticsHistogramFunctionArguments_n=StatisticsHistogramFunctionArguments_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.StatisticsHistogramFunctionArguments")],StatisticsHistogramFunctionArguments_n);const StatisticsHistogramFunctionArguments_p=StatisticsHistogramFunctionArguments_n;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/StatisticsHistogramFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let StatisticsHistogramFunction_i=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="StatisticsHistogram",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isNoopProcess=!0}_bindSourceRasters(){const t=this.sourceRasterInfos[0];this.outputPixelType=this._getOutputPixelType("u8");const s=t.clone(),{statistics:o,histograms:r}=this.functionArguments;return r&&(s.histograms=r),o&&(s.statistics=o),this.rasterInfo=s,{success:!0,supportsGPU:!0}}_processPixels(t){return t.pixelBlocks?.[0]}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],StatisticsHistogramFunction_i.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:StatisticsHistogramFunctionArguments_p,json:{write:!0,name:"rasterFunctionArguments"}})],StatisticsHistogramFunction_i.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],StatisticsHistogramFunction_i.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],StatisticsHistogramFunction_i.prototype,"indexedColormap",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],StatisticsHistogramFunction_i.prototype,"isNoopProcess",void 0),StatisticsHistogramFunction_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.StatisticsHistogramFunction")],StatisticsHistogramFunction_i);const StatisticsHistogramFunction_n=StatisticsHistogramFunction_i;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/StretchFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var StretchFunctionArguments_n;const StretchFunctionArguments_p=new jsonMap/* JSONMap */.J({0:"none",3:"standard-deviation",4:"histogram-equalization",5:"min-max",6:"percent-clip",9:"sigmoid"},{useNumericKeys:!0});let StretchFunctionArguments_c=StretchFunctionArguments_n=class extends p{constructor(){super(...arguments),this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.histograms=null,this.statistics=null,this.stretchType="none",this.useGamma=!1}writeStatistics(t,e,o){t?.length&&(Array.isArray(t[0])||(t=t.map((t=>[t.min,t.max,t.avg,t.stddev]))),e[o]=t)}clone(){return new StretchFunctionArguments_n({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,statistics:(0,lang/* clone */.o8)(this.statistics),gamma:(0,lang/* clone */.o8)(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,histograms:(0,lang/* clone */.o8)(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment,raster:this.raster})}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],StretchFunctionArguments_c.prototype,"computeGamma",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{name:"dra",write:!0}})],StretchFunctionArguments_c.prototype,"dynamicRangeAdjustment",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[Number],json:{write:!0}})],StretchFunctionArguments_c.prototype,"gamma",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],StretchFunctionArguments_c.prototype,"histograms",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],StretchFunctionArguments_c.prototype,"maxPercent",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],StretchFunctionArguments_c.prototype,"minPercent",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],StretchFunctionArguments_c.prototype,"numberOfStandardDeviations",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{name:"max",write:!0}})],StretchFunctionArguments_c.prototype,"outputMax",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{name:"min",write:!0}})],StretchFunctionArguments_c.prototype,"outputMin",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],StretchFunctionArguments_c.prototype,"sigmoidStrengthLevel",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{type:[[Number]],write:!0}})],StretchFunctionArguments_c.prototype,"statistics",void 0),(0,tslib_es6._)([(0,writer/* writer */.K)("statistics")],StretchFunctionArguments_c.prototype,"writeStatistics",null),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(StretchFunctionArguments_p)],StretchFunctionArguments_c.prototype,"stretchType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],StretchFunctionArguments_c.prototype,"useGamma",void 0),StretchFunctionArguments_c=StretchFunctionArguments_n=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.StretchFunctionArguments")],StretchFunctionArguments_c);const StretchFunctionArguments_u=StretchFunctionArguments_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/StretchFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let StretchFunction_c=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Stretch",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.lookup=null,this.cutOffs=null}_bindSourceRasters(){this.lookup=null,this.cutOffs=null;const t=this.sourceRasterInfos[0],{pixelType:s}=t,{functionArguments:e}=this,{dynamicRangeAdjustment:r,gamma:u,useGamma:i}=e;if(!r&&["u8","u16","s8","s16"].includes(s)){const r=(0,stretchUtils/* getStretchCutoff */.DP)(e.toJSON(),{rasterInfo:t}),a=(0,pixelRangeUtils/* isIntegerPixelType */.zw)(this.outputPixelType)?"round":"float";this.lookup=(0,stretchUtils/* createStretchLUT */.RP)({pixelType:s,...r,gamma:i?u:null,rounding:a}),this.cutOffs=r}else r||(this.cutOffs=(0,stretchUtils/* getStretchCutoff */.DP)(e.toJSON(),{rasterInfo:t}));this.outputPixelType=this._getOutputPixelType(s);const a=t.clone();a.pixelType=this.outputPixelType,this._removeStatsHistColormapVAT(a),"u8"===this.outputPixelType&&(a.keyProperties.DataType="processed");const{outputMin:m=0,outputMax:c=255}=this.functionArguments;a.statistics=[];for(let o=0;o<a.bandCount;o++)a.statistics[o]={min:m,max:c};this.rasterInfo=a;return{success:!0,supportsGPU:!r}}_processPixels(t){const s=t.pixelBlocks?.[0];if(null==s)return s;const{lookup:e}=this;if(e)return (0,pixelUtils/* lookupPixels */.eH)(s,{...e,outputPixelType:this.rasterInfo.pixelType});const{functionArguments:o}=this,r=this.cutOffs||(0,stretchUtils/* getStretchCutoff */.DP)(o.toJSON(),{rasterInfo:this.sourceRasterInfos[0],pixelBlock:s}),i=o.useGamma?o.gamma:null;return (0,stretchUtils/* stretch */._N)(s,{...r,gamma:i,outputPixelType:this.outputPixelType})}_getWebGLParameters(){const{outputMin:t=0,outputMax:s=255,gamma:e,useGamma:r}=this.functionArguments,u=this.rasterInfo.bandCount>=2?3:1,i=r&&e?.length?(0,stretchUtils/* computeGammaCorrection */.Nh)(u,e):[1,1,1],{minCutOff:n,maxCutOff:p}=this.cutOffs??{minCutOff:[0,0,0],maxCutOff:[255,255,255]};1===n.length&&(n[1]=n[2]=n[0],p[1]=p[2]=p[0]);const a=p.map(((e,o)=>(s-t)/(p[o]-n[o]))),c=(0,pixelRangeUtils/* isIntegerPixelType */.zw)(this.outputPixelType),f=r&&e?[e[0],e[1]??e[0],e[2]??e[0]]:[1,1,1],l=r?[i[0],i[1]??i[0],i[2]??i[0]]:[1,1,1];return{bandCount:u,minOutput:t,maxOutput:s,minCutOff:n,maxCutOff:p,factor:a,useGamma:r,gamma:f,gammaCorrection:l,stretchType:this.functionArguments.stretchType,isOutputRounded:c,type:"stretch"}}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],StretchFunction_c.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:StretchFunctionArguments_u,json:{write:!0,name:"rasterFunctionArguments"}})],StretchFunction_c.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],StretchFunction_c.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],StretchFunction_c.prototype,"lookup",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],StretchFunction_c.prototype,"cutOffs",void 0),StretchFunction_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.StretchFunction")],StretchFunction_c);const StretchFunction_f=StretchFunction_c;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/TableFunctionArguments.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var TableFunctionArguments_c;let TableFunctionArguments_a=TableFunctionArguments_c=class extends p{constructor(){super(...arguments),this.attributeTableAsRecordSet=null}clone(){return new TableFunctionArguments_c({attributeTableAsRecordSet:(0,lang/* clone */.o8)(this.attributeTableAsRecordSet)})}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],TableFunctionArguments_a.prototype,"attributeTableAsRecordSet",void 0),TableFunctionArguments_a=TableFunctionArguments_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.TableFunctionArguments")],TableFunctionArguments_a);const TableFunctionArguments_i=TableFunctionArguments_a;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/TableFunction.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let TableFunction_i=class extends BaseRasterFunction_p{constructor(){super(...arguments),this.functionName="Table",this.functionArguments=null,this.rasterArgumentNames=["raster"],this.isNoopProcess=!0}_bindSourceRasters(){const t=this.sourceRasterInfos[0];if(t.bandCount>1||t.pixelType.startsWith("f"))return{success:!1,supportsGPU:!1,error:"table-function: Source data must be single band and integer pixel type."};const{attributeTableAsRecordSet:e}=this.functionArguments;if(!e)return{success:!1,supportsGPU:!1,error:"table-function: Missing attributeTableAsRecordSet argument."};this.outputPixelType=this._getOutputPixelType(t.pixelType);const s=t.clone();return s.pixelType=this.outputPixelType,s.bandCount=1,"thematic"!==s.dataType&&(s.keyProperties=s.keyProperties?{...s.keyProperties,DataType:"thematic"}:{DataType:"thematic"}),this.rasterInfo=s,{success:!0,supportsGPU:!0}}_processPixels(t){return t.pixelBlocks?.[0]}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0,name:"rasterFunction"}})],TableFunction_i.prototype,"functionName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:TableFunctionArguments_i,json:{write:!0,name:"rasterFunctionArguments"}})],TableFunction_i.prototype,"functionArguments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TableFunction_i.prototype,"rasterArgumentNames",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TableFunction_i.prototype,"isNoopProcess",void 0),TableFunction_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.rasterFunctions.TableFunction")],TableFunction_i);const TableFunction_n=TableFunction_i;

;// ./node_modules/@arcgis/core/layers/support/rasterFunctions/rasterFunctionHelper.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const rasterFunctionHelper_v=new Map;function rasterFunctionHelper_w(t,e){const{rasterFunctionArguments:r}=t;if(!r)return;(r.rasters||[r.raster,r.raster2]).forEach((t=>{t&&"number"!=typeof t&&("string"==typeof t?t.startsWith("http")&&(e.includes(t)||e.push(t)):"rasterFunctionArguments"in t&&rasterFunctionHelper_w(t,e))}))}function rasterFunctionHelper_T(t,n){n=n??{};try{if("function"in(t=(0,lang/* clone */.o8)(t))&&"arguments"in t&&t.arguments){const r=rasterFunctionHelper_$(t,new Map,n);if(rasterFunctionHelper_L(r),!r.renderingRule)throw new core_Error/* default */.A("raster-function-helper","Unsupported raster function json.");t=r.renderingRule}if("rasterFunction"in t){const e=rasterFunctionHelper_k(t=rasterFunctionHelper_B(t),n);return e.isRoot=!0,e}}catch{}throw new core_Error/* default */.A("raster-function-helper","unsupported raster function json.")}function rasterFunctionHelper_D(t,e){return"rasters"===e[0]&&Array.isArray(t.rasters)?t.rasters:e.map((e=>t[e]))}function rasterFunctionHelper_V(t){return!!(t&&"object"==typeof t&&t.rasterFunction&&t.rasterFunctionArguments)}function rasterFunctionHelper_B(t){const{rasterFunction:e,rasterFunctionArguments:r}=t,n={};for(const o in r){let t=r[o];const e=o.toLowerCase();if("rasters"===e&&Array.isArray(t))n.rasters=t.map((t=>rasterFunctionHelper_V(t)?rasterFunctionHelper_B(t):t));else switch(rasterFunctionHelper_V(t)&&(t=rasterFunctionHelper_B(t)),e){case"dra":n.dra=t;break;case"pspower":n.psPower=t;break;case"pszfactor":n.psZFactor=t;break;case"bandids":n.bandIds=t;break;default:n[o[0].toLowerCase()+o.slice(1)]=t}}return"Local"!==e||n.rasters?.length||(n.rasters=["$$"]),{...t,rasterFunctionArguments:n}}function rasterFunctionHelper_k(t,r){const{rasterFunction:n,rasterFunctionArguments:o}=t,s=t.outputPixelType?.toLowerCase();if(null==n||!rasterFunctionHelper_v.has(n))throw new core_Error/* default */.A("raster-function-helper",`unsupported raster function: ${n}`);const a=rasterFunctionHelper_v.get(n),i=("function"==typeof a.ctor?a.ctor:a.ctor.default).fromJSON({...t,outputPixelType:s}),{rasterArgumentNames:c}=i,u=[],m=rasterFunctionHelper_D(o,c),l="rasters"===c[0]||c.length>1,p=[];for(let e=0;e<m.length;e++){const t=m[e];let n;null==t||"string"==typeof t&&t.startsWith("$")?u.push(r?.raster):"string"==typeof t?r[t]&&u.push(r[t]):"number"!=typeof t&&"rasterFunction"in t&&(n=rasterFunctionHelper_k(t,r),l||(i.functionArguments[c[e]]=n),u.push(n)),l&&p.push(n??t)}if(l&&("rasters"===c[0]?i.functionArguments.rasters=p:c.forEach(((t,e)=>{i.functionArguments[t]=p[e]}))),r){i.sourceRasters=u;const t=r.raster?.url;t&&(i.mainPrimaryRasterId=t)}return i}function rasterFunctionHelper_x(t,e){if(t&&e)for(const r in t){const n=t[r];n&&"object"==typeof n&&"type"in n&&("RasterFunctionTemplate"===n.type?rasterFunctionHelper_x(n.arguments,e):"RasterFunctionVariable"===n.type&&null!=e[n.name]&&(n.value=e[n.name]))}}function rasterFunctionHelper_E(t,r){if(!t||"object"!=typeof t)return t;const{value:n}=t;if(!n||"object"!=typeof n)return t.isDataset?"$$":n;if(Array.isArray(n))return 0===n.length?[]:n.map((t=>t&&"object"==typeof t&&"RasterFunctionVariable"===t.type?rasterFunctionHelper_E(t,r):t));if("value"in n&&["number","string","boolean"].includes(typeof n.value))return n.value;if(t.isDataset&&"Scalar"!==n.type)return"$$";if(!("type"in n))return n;let o=n;switch(n.type){case"Scalar":o=n.value;break;case"AlgorithmicColorRamp":o=rasterFunctionHelper_M(n);break;case"MultiPartColorRamp":o={type:"multipart",colorRamps:n.ArrayOfColorRamp.map(rasterFunctionHelper_M)};break;case"ArgumentArray":if(n.elements?.length&&"RasterStatistics"!==n.elements[0].type){const t=[];for(let o=0;o<n.elements.length;o++){const s=n.elements[o],{type:a}=s;if(a)if("RasterFunctionTemplate"===a){const{renderingRule:e}=rasterFunctionHelper_$(s,r);t.push(e),null!=s._object_id&&r.set(s._object_id,e)}else{if("RasterFunctionVariable"!==a)throw new core_Error/* default */.A("raster-function-helper","unsupported raster function json.");{const e=rasterFunctionHelper_E(s,r);t.push(e),null!=s._object_id&&r.set(s._object_id,e)}}else t.push(s)}o=t}else o=n.elements}return null!=n._object_id&&r.set(n._object_id,o),o}function rasterFunctionHelper_M(e){const r=e.algorithm??"esriHSVAlgorithm";let{FromColor:n,ToColor:o}=e;if(!Array.isArray(n)){const{r:e,g:r,b:o}=(0,colorUtils/* toRGB */.$)({h:n.Hue,s:n.Saturation,v:n.Value});n=[e,r,o,n.AlphaValue]}if(!Array.isArray(o)){const{r:e,g:r,b:n}=(0,colorUtils/* toRGB */.$)({h:o.Hue,s:o.Saturation,v:o.Value});o=[e,r,n,o.AlphaValue]}return{type:"algorithmic",algorithm:r,fromColor:n,toColor:o}}function rasterFunctionHelper_$(t,e,r){r&&rasterFunctionHelper_x(t,r);const n={renderingRule:{},templates:e};return rasterFunctionHelper_H(t,n),n}function rasterFunctionHelper_H(t,e){if(!t||!e.renderingRule)return;const{renderingRule:r,templates:n}=e,{function:o,arguments:s,_object_id:a}=t;if(!o||!s)return;null!=a&&n.set(a,r),r.rasterFunction=o.type.replace("Function",""),r.outputPixelType=o.pixelType;const i={};r.rasterFunctionArguments=i;for(const c in s){if("type"===c||"object_id"===c||"_object_ref_id"===c)continue;const t=s[c];t&&"object"==typeof t&&"type"in t&&("RasterFunctionTemplate"===t.type||"RasterFunctionVariable"===t.type)?("RasterFunctionVariable"===t.type?i[c]=rasterFunctionHelper_E(t,n):(r.rasterFunctionArguments[c]={},rasterFunctionHelper_H(t,{renderingRule:r.rasterFunctionArguments[c],templates:n})),null!=t._object_id&&n.set(t._object_id,i[c])):i[c]=t}switch(i.DEM&&!i.Raster&&(i.Raster=i.DEM,delete i.DEM),r.rasterFunction){case"Stretch":rasterFunctionHelper_O(i);break;case"Colormap":rasterFunctionHelper_G(i);break;case"Convolution":rasterFunctionHelper_P(i);break;case"Mask":rasterFunctionHelper_I(i)}}function rasterFunctionHelper_L(t){const{renderingRule:r,templates:n}=t;if("object"!=typeof r||!r?.rasterFunctionArguments||!n.size)return;const{rasterFunctionArguments:o}=r;for(const s in o){const t=o[s],r="_object_ref_id"===s?t:t&&"object"==typeof t&&"_object_ref_id"in t?t._object_ref_id:null;if(null==r)t&&"object"==typeof t&&(t.rasterFunctionArguments&&rasterFunctionHelper_L({renderingRule:t,templates:n}),Array.isArray(t)&&t.forEach(((o,s)=>{if(o&&"object"==typeof o)if(null!=o._object_ref_id){if(!n.has(o._object_ref_id))throw new core_Error/* default */.A("raster-function-helper",`unsupported raster function json. _object_ref_id: ${t} does not exist`);const a=n.get(r);a&&"object"==typeof a?Object.assign(o,a):t[s]=a}else rasterFunctionHelper_L({renderingRule:o,templates:n})})));else{if(!n.has(r))throw new core_Error/* default */.A("raster-function-helper",`unsupported raster function json. _object_ref_id: ${r} does not exist`);const t=n.get(r);"_object_ref_id"!==s?o[s]=t:t&&"object"==typeof t&&Object.assign(o,t)}}}function rasterFunctionHelper_O(t){t.Statistics?.length&&"object"==typeof t.Statistics&&(t.Statistics=t.Statistics.map((t=>[t.min,t.max,t.mean,t.standardDeviation]))),null!=t.NumberOfStandardDeviation&&(t.NumberOfStandardDeviations=t.NumberOfStandardDeviation,delete t.NumberOfStandardDeviation)}function rasterFunctionHelper_G(t){"randomcolorramp"===t.ColorRamp?.type?.toLowerCase()&&(delete t.ColorRamp,t.ColormapName="Random"),0===t.ColorSchemeType&&delete t.ColorRamp}function rasterFunctionHelper_P(t){null!=t.ConvolutionType&&(t.Type=t.ConvolutionType,delete t.ConvolutionType)}function rasterFunctionHelper_I(t){t.NoDataValues?.length&&"string"==typeof t.NoDataValues[0]&&(t.NoDataValues=t.NoDataValues.filter((t=>""!==t)).map((t=>Number(t))))}rasterFunctionHelper_v.set("Arithmetic",{desc:"Arithmetic Function",ctor:ArithmeticFunction_a,rasterArgumentNames:["rasters"]}),rasterFunctionHelper_v.set("Aspect",{desc:"Aspect Function",ctor:AspectFunction_p,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("BandArithmetic",{desc:"Band Arithmetic Function",ctor:BandArithmeticFunction_m,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Colormap",{desc:"Colormap Function",ctor:ColormapFunction_u,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("ColormapToRGB",{desc:"ColormapToRGB Function",ctor:ColormapToRGBFunction_u,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("CompositeBand",{desc:"CompositeBand Function",ctor:CompositeBandFunction_a,rasterArgumentNames:["rasters"]}),rasterFunctionHelper_v.set("ComputeChange",{desc:"ComputeChange Function",ctor:ComputeChangeFunction_m,rasterArgumentNames:["rasters"]}),rasterFunctionHelper_v.set("Convolution",{desc:"Convolution Function",ctor:ConvolutionFunction_p,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("ContrastBrightness",{desc:"Contrast Brightness Function",ctor:ContrastBrightnessFunction_p,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("ExtractBand",{desc:"ExtractBand Function",ctor:ExtractBandFunction_l,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Curvature",{desc:"Curvature Function",ctor:CurvatureFunction_c,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Hillshade",{desc:"Hillshade Function",ctor:HillshadeFunction_l,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("ShadedRelief",{desc:"ShadedRelief Function",ctor:ShadedReliefFunction_x,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Grayscale",{desc:"Grayscale Function",ctor:GrayscaleFunction_u,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Clip",{desc:"Clip Function",ctor:ClipFunction_u,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Local",{desc:"Local Function",ctor:LocalFunction_d,rasterArgumentNames:["rasters"]}),rasterFunctionHelper_v.set("Mask",{desc:"Mask Function",ctor:MaskFunction_p,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("NDVI",{desc:"NDVI Function",ctor:NDVIFunction_a,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Remap",{desc:"Remap Function",ctor:RemapFunction_f,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Slope",{desc:"Slope Function",ctor:SlopeFunction_c,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Statistics",{desc:"Focal Statistics Function",ctor:StatisticsFunction_p,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("StatisticsHistogram",{desc:"Statistics Histogram Function",ctor:StatisticsHistogramFunction_n,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Stretch",{desc:"Stretch Function",ctor:StretchFunction_f,rasterArgumentNames:["raster"]}),rasterFunctionHelper_v.set("Table",{desc:"Attribute Table Function",ctor:TableFunction_n,rasterArgumentNames:["raster"]});


/***/ }),

/***/ 47425:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DO: () => (/* binding */ ie),
/* harmony export */   FT: () => (/* binding */ ee),
/* harmony export */   Hh: () => (/* binding */ v),
/* harmony export */   OM: () => (/* binding */ oe),
/* harmony export */   Ps: () => (/* binding */ fe),
/* harmony export */   Wo: () => (/* binding */ _),
/* harmony export */   _I: () => (/* binding */ A),
/* harmony export */   _l: () => (/* binding */ Q),
/* harmony export */   l0: () => (/* binding */ se),
/* harmony export */   t$: () => (/* binding */ ue),
/* harmony export */   uk: () => (/* binding */ V)
/* harmony export */ });
/* unused harmony exports computeProjectedScales, defaultGridSpacing, defaultProjectionToleranceInPixels, getDefaultDatumTransformationForDataset, getProjectedGridPoints, getSourceScale, minimumGridSpacing, projectDatasetExtent, projectDatasetResolution, snapExtent */
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3223);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62991);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(49175);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5262);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8000);
/* harmony import */ var _chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(89349);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(30214);
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(65648);
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(27646);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(44153);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(67488);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var p;function g(){if(!j)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A("rasterprojectionhelper-project","projection operator is not loaded")}!function(e){e[e.None=0]="None",e[e.North=1]="North",e[e.South=2]="South",e[e.Both=3]="Both"}(p||(p={}));const y=(e,t,n,o=0)=>{if(1===n[0])return[0,0];let i=1,r=-1,s=1,a=-1;for(let g=0;g<e.length;g+=2)isNaN(e[g])||(i=i>e[g]?e[g]:i,r=r>e[g]?r:e[g],s=s>e[g+1]?e[g+1]:s,a=a>e[g+1]?a:e[g+1]);const{cols:l,rows:c}=t,f=(r-i)/l/n[0],u=(a-s)/c/n[1],m=2*o;let x=0,h=!1,p=[0,0];for(let g=0;g<l-3;g++){for(let t=0;t<c-3;t++){const n=g*c*2+2*t,o=(e[n]+e[n+4]+e[n+4*c]+e[n+4*c+4])/4,i=(e[n+1]+e[n+5]+e[n+4*c+1]+e[n+4*c+5])/4,r=Math.abs((o-e[n+2*c+2])/f),s=Math.abs((i-e[n+2*c+3])/u);if(r+s>x&&(x=r+s,p=[r,s]),m&&x>m){h=!0;break}}if(h)break}return p},d={3395:20037508.342789244,3410:17334193.943686873,3857:20037508.342788905,3975:17367530.445161372,4087:20037508.342789244,4088:20015108.787169147,6933:17367530.445161372,32662:20037508.342789244,53001:20015086.79602057,53002:10007543.39801029,53003:20015086.79602057,53004:20015086.79602057,53016:14152803.599503474,53017:17333573.624304302,53034:20015086.79602057,53079:20015114.352186374,53080:20015114.352186374,54001:20037508.342789244,54002:10018754.171394624,54003:20037508.342789244,54004:20037508.342789244,54016:14168658.027268292,54017:17367530.44516137,54034:20037508.342789244,54079:20037508.342789244,54080:20037508.342789244,54100:20037508.342789244,54101:20037508.342789244},w=32,M=4,R=M,S=new Map,P=new Map,b=500,G=39.37,k=96;let N,E,T,j=!1;async function v(){return N||(N=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .createResolver */ .Tw)(),E=await __webpack_require__.e(/* import() */ 28064).then(__webpack_require__.bind(__webpack_require__, 28064)),T=await __webpack_require__.e(/* import() */ 97223).then(__webpack_require__.bind(__webpack_require__, 97223)),E.isLoaded()||await E.load(),T.isLoaded()||await T.load(),j=!0,N.resolve()),N.promise}function C(e,t,n){if(g(),n){const n=E.execute(e,t);return T.getTransformation(t,e.spatialReference,n)}return T.getTransformation(e.spatialReference,t,e)}function _(e,t,n,o){const r=e.spatialReference;if(!r||!t||r.equals(t))return e;g();const s=n.center,a=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A({xmin:s.x-e.x/2,xmax:s.x+e.x/2,ymin:s.y-e.y/2,ymax:s.y+e.y/2,spatialReference:r}),l=E.execute(a,t,{geographicTransformation:o}),c=ee(t);return null==l||null!=c&&l.width>=c?z(e,r,t):{x:l.width,y:l.height}}function z(e,t,n){const i=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .GA)(t)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .GA)(n);return{x:e.x*i,y:e.y*i}}function L(e,n,i){const{spatialReference:r}=i;if(!r||!n||r.equals(n))return e;if(r.isGeographic&&n.isGeographic)return z(e,r,n);if(g(),!j)throw new t("raster-projection-helper:project-dataset-resolution","geometry engine is not loaded");let{x:s,y:a}=e;const l=(s+a)/2*o(r);let c=1;l>30&&(c=30/l,s*=c,a*=c);const f=256,m=s*f/2,x=a*f/2,{x:h,y:p}=i.center,y=[];for(let t=0;t<=f;t++)y.push([h-m,p-x+t*a]);for(let t=1;t<=f;t++)y.push([h-m+t*s,p+x]);for(let t=1;t<=f;t++)y.push([h+m,p+x-t*a]);for(let t=1;t<f;t++)y.push([h+m-t*s,p-x]);y.push(y[0]);const d=new u({rings:[y],spatialReference:r}),w=E.execute(d,n);if(!w)return z(e,r,n);const M=w.extent,R=ee(n);if(null==M||null!=R&&M.width>=R)return z(e,r,n);const S=he(w.rings),P=s*a*f*f,b=Math.sqrt(S/P)/c,G={x:M.width/c/f,y:M.height/c/f},k={x:s*b,y:a*b},N=G.x*G.y;return Math.abs(N-k.x*k.y)/N<.1?G:k}function I(e,t){return("number"==typeof e?e:(e.x+e.y)/2)*o(t)*k*G}function O(e,t){const{pixelSize:n,extent:o}=e;return I(L(n,t,o),t)}function W(e,t=.01){return (0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .GA)(e)?t/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .GA)(e):0}function A(e,t,n,o=!0){const i=e.spatialReference;if(i.equals(t))return e;g();const r=E.execute(e,t,{geographicTransformation:n});return o&&r?(B([e],[r],i,t),r):r}function B(e,t,n,o){const i=te(n,!0),r=te(o,!0),s=W(n,b),a=W(o,b);if(s&&null!=i&&null!=r)for(let l=0;l<e.length;l++){const n=t[l];if(!n)continue;const{x:o}=e[l],{x:c}=n;c>=r[1]-a&&Math.abs(o-i[0])<s?n.x-=r[1]-r[0]:c<=r[0]+a&&Math.abs(o-i[1])<s&&(n.x+=r[1]-r[0])}}function F(e){const{inSR:t,outSR:n,preferPE:o}=e;if(t.equals(n)){const{points:t}=K(e,null);return t}if(t.isWebMercator&&n.isWGS84||t.isWGS84&&n.isWebMercator)return U(e);if(o){if(t.isGeographic)return Y(e);if(null!=J(t))return Y(e)}return q(e)}function q(e){const{points:t}=K(e,null),{inSR:n,outSR:o,datumTransformation:i}=e,r=t.map((e=>new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A(e[0],e[1],n))),s=E.executeMany(r,o,{geographicTransformation:i});return i&&B(r,s,n,o),s.map((e=>e?[e.x,e.y]:[NaN,NaN]))}function Y(e){const{inSR:t,outSR:n,datumTransformation:o}=e,i=J(t),{points:a,mask:f}=K(e,i);if(!t.isGeographic){const e=t.wkid?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.coordsys(t.wkid):_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.fromString(t.isGeographic?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TYPE_GEOGCS:_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TYPE_PROJCS,t.wkt2||t.wkt);_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.h.projToGeog(e,a.length,a)}if(null!=o&&o.steps.length){let e;const t=179.9955;if(n.isGeographic&&(e=a.map((([e])=>e>t?1:e<-179.9955?-1:0))),o.steps.forEach((e=>{const t=e.wkid?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.geogtran(e.wkid):_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.fromString(_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TYPE_GEOGTRAN,e.wkt);_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.j.geogToGeog(t,a.length,a,null,e.isInverse?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TRANSFORM_2_TO_1:_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TRANSFORM_1_TO_2)})),e)for(let n=0;n<a.length;n++){const o=e[n],i=a[n][0],r=i>t?1:i<-179.9955?-1:0;o&&r&&o!==r&&(a[n][0]=o>0?i+360:i-360)}}if(!n.isGeographic){const e=J(n,!0),t=null!=e&&e.isEnvelope?[e.bbox[1],e.bbox[3]]:[-90,90];D(a,t);const o=n.wkid?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.coordsys(n.wkid):_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.fromString(n.isGeographic?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TYPE_GEOGCS:_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TYPE_PROJCS,n.wkt2||n.wkt);_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.h.geogToProj(o,a.length,a)}let u=a;if(f&&a.length!==f.length){u=[];for(let e=0,t=0;e<f.length;e++)f[e]?u.push(a[t++]):u.push([NaN,NaN])}return u}function U(e){const{cols:t,rows:n,xres:o,yres:i,usePixelCenter:r,inSR:s,outSR:a}=e;let{xmin:l,ymax:c}=e;r&&(l+=o/2,c-=i/2);const u=[],x=[],h=Math.max(t,n);for(let g=0;g<h;g++){const e=l+o*Math.min(t,g),r=c-i*Math.min(n,g),h=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_8__.projectWithoutEngine)(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A({x:e,y:r,spatialReference:s}),s,a);g<=t&&u.push(h.x),g<=n&&x.push(h.y)}const p=[];for(let f=0;f<t;f++)for(let e=0;e<n;e++)p.push([u[f],x[e]]);return p}function J(e,t=!1){let n=e.wkid||e.wkt2||e.wkt;if(!n||e.isGeographic)return null;if(n=String(n),S.has(n)){const e=S.get(n);return t?e?.gcs:e?.pcs}const o=e.wkid?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.coordsys(e.wkid):_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.fromString(e.isGeographic?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TYPE_GEOGCS:_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TYPE_PROJCS,e.wkt2||e.wkt),i=X(o,W(e,1e-4)),a=X(o,0,!0);return S.set(n,{pcs:i,gcs:a}),t?a:i}function X(e,t=0,n=!1){const o=_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.g.generate(e),i=n?e.horizonGcsGenerate():e.horizonPcsGenerate();if(!o||!i?.length)return null;let r=!1,s=i.find((e=>1===e.getInclusive()&&1===e.getKind()));if(!s){if(s=i.find((e=>1===e.getInclusive()&&0===e.getKind())),!s)return null;r=!0}const l=n?0:(2===o.getNorthPoleLocation()?1:0)|(2===o.getSouthPoleLocation()?2:0),c=o.isPannableRectangle(),f=s.getCoord();if(r)return{isEnvelope:r,isPannable:c,vertices:f,coef:null,bbox:[f[0][0]-t,f[0][1]-t,f[1][0]+t,f[1][1]+t],poleLocation:l};let u=0;const m=[];let[x,h]=f[0],[p,g]=f[0];for(let a=0,y=f.length;a<y;a++){u++,u===y&&(u=0);const[e,t]=f[a],[n,o]=f[u];if(o===t)m.push([e,n,t,o,2]);else{const i=(n-e)/(o-t||1e-4),r=e-i*t;t<o?m.push([i,r,t,o,0]):m.push([i,r,o,t,1])}x=x<e?x:e,h=h<t?h:t,p=p>e?p:e,g=g>t?g:t}return{isEnvelope:!1,isPannable:c,vertices:f,coef:m,bbox:[x,h,p,g],poleLocation:l}}function K(e,t){const n=[],{cols:o,rows:i,xres:r,yres:s,usePixelCenter:a}=e;let{xmin:l,ymax:c}=e;if(a&&(l+=r/2,c-=s/2),null==t){for(let e=0;e<o;e++)for(let t=0;t<i;t++)n.push([l+r*e,c-s*t]);return{points:n}}const f=new Uint8Array(o*i);if(t.isEnvelope){const{bbox:[e,a,u,m]}=t;for(let x=0,h=0;x<o;x++){const o=l+r*x,p=t.isPannable||o>=e&&o<=u;for(let e=0;e<i;e++,h++){const t=c-s*e;p&&t>=a&&t<=m&&(n.push([o,t]),f[h]=1)}}return{points:n,mask:f}}const u=t.coef,m=[];for(let x=0;x<i;x++){const e=c-s*x,t=[],n=[];for(let i=0;i<u.length;i++){const[o,r,s,a,l]=u[i];if(e===s&&s===a)t.push(o),t.push(r),n.push(2),n.push(2);else if(e>=s&&e<=a){const i=o*e+r;t.push(i),n.push(l)}}let o=t;if(t.length>2){let e=2===n[0]?0:n[0],i=t[0];o=[];for(let r=1;r<n.length;r++)2===n[r]&&r!==n.length-1||(n[r]!==e&&(o.push(0===e?Math.min(i,t[r-1]):Math.max(i,t[r-1])),e=n[r],i=t[r]),r===n.length-1&&o.push(0===n[r]?Math.min(i,t[r]):Math.max(i,t[r])));o.sort(((e,t)=>e-t))}else t[0]>t[1]&&(o=[t[1],t[0]]);m.push(o)}for(let x=0,h=0;x<o;x++){const e=l+r*x;for(let t=0;t<i;t++,h++){const o=c-s*t,i=m[t];if(2===i.length)e>=i[0]&&e<=i[1]&&(n.push([e,o]),f[h]=1);else if(i.length>2){let t=!1;for(let n=0;n<i.length;n+=2)if(e>=i[n]&&e<=i[n+1]){t=!0;break}t&&(n.push([e,o]),f[h]=1)}}}return{points:n,mask:f}}function D(e,t){const[n,o]=t;for(let i=0;i<e.length;i++){const t=e[i][1];(t<n||t>o)&&(e[i]=[NaN,NaN])}}function H(e,t){const n=ee(e[0].spatialReference);if(e.length<2||null==n)return e[0];if(t=t??W(e[0].spatialReference),1===(e=e.filter((e=>e.width>t))).length)return e[0];let{xmin:o,xmax:r,ymin:s,ymax:a}=e[0];for(let i=1;i<e.length;i++){const t=e[i];r=t.xmax+n*i,s=Math.min(s,t.ymin),a=Math.max(a,t.ymax)}return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A({xmin:o,xmax:r,ymin:s,ymax:a,spatialReference:e[0].spatialReference})}function Q(t,n,o=null,r=!0){const s=t.spatialReference;if(s.equals(n)||!n)return t;const a=oe(t),l=ee(s,!0),c=ee(n);if(0===a||null==l||null==c){const e=$(t,n,o,r);if(e&&null==l&&null!=c&&Math.abs(e.width-c)<W(n)&&E.isLoaded()){const o=J(s);if(null!=o&&o.poleLocation===p.None&&t.width<(o.bbox[2]-o.bbox[0])/2)return Z(t,n)||e}return e}const f=t.clone().normalize();if(1===f.length&&t.xmax<l&&t.xmax-l/2>W(s)){const{xmin:e,xmax:n}=t;for(let o=0;o<=a;o++){const r=0===o?e:-l/2,c=o===a?n-l*o:l/2;f[o]=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A({xmin:r,xmax:c,ymin:t.ymin,ymax:t.ymax,spatialReference:s})}}const u=f.map((e=>$(e,n,o,r))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isSome */ .Ru);return 0===u.length?null:H(u)}function V(e,t,n){if("extent"===e.type){const{xmin:t,ymin:n,xmax:o,ymax:i,spatialReference:r}=e;e=new _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A({rings:[[[t,i],[o,i],[o,n],[t,n],[t,i]]],spatialReference:r})}return e.spatialReference.equals(t)?e:(g(),E.execute(e,t,{geographicTransformation:n}))}function Z(e,t){const n=ee(t);if(null==n)return null;let{xmin:o,ymin:r,xmax:s,ymax:a}=e;const l=e.spatialReference,c=new _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A({spatialReference:l,rings:[[[o,r],[s,r],[s,a],[o,a],[o,r]]]}),f=E.execute(c,t);if(2!==f.rings.length||!f.rings[0].length||!f.rings[1].length)return null;const{rings:m}=f,x=W(l),h=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A({spatialReference:t});for(let i=0;i<2;i++){o=s=m[i][0][0],r=a=m[i][0][1];for(let e=0;e<m[i].length;e++)o=o>m[i][e][0]?m[i][e][0]:o,s=s<m[i][e][0]?m[i][e][0]:s,r=r>m[i][e][1]?m[i][e][1]:r,a=a<m[i][e][1]?m[i][e][1]:a;if(0===i)h.ymin=r,h.ymax=a,h.xmin=o,h.xmax=s;else if(h.ymin=Math.min(h.ymin,r),h.ymax=Math.max(h.ymax,a),Math.abs(s-n/2)<x)h.xmin=o,h.xmax=h.xmax+n;else{if(!(Math.abs(o+n/2)<x))return null;h.xmax=s+n}}return h}function $(e,t,n,o=!0,i=!0){const r=e.spatialReference;if(r.equals(t)||!t)return e;g();const s=E.execute(e,t,{geographicTransformation:n});if(i&&t.isWebMercator&&s&&(s.ymax=Math.min(20037508.342787,s.ymax),s.ymin=Math.max(-20037508.342787,s.ymin),s.ymin>=s.ymax))return null;if(!o||!s)return s;const a=te(r,!0),l=te(t,!0);if(null==a||null==l)return s;const c=W(r,.001),u=W(r,b),m=W(t,.001);if(Math.abs(s.xmin-l[0])<m&&Math.abs(s.xmax-l[1])<m){const o=Math.abs(e.xmin-a[0]),i=Math.abs(a[1]-e.xmax);if(o<c&&i>u){s.xmin=l[0];const o=[];o.push(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A(e.xmax,e.ymin,r)),o.push(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A(e.xmax,(e.ymin+e.ymax)/2,r)),o.push(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A(e.xmax,e.ymax,r));const i=o.map((e=>A(e,t,n))).filter((e=>!isNaN(e?.x))).map((e=>e.x));s.xmax=Math.max.apply(null,i)}if(i<c&&o>u){s.xmax=l[1];const o=[];o.push(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A(e.xmin,e.ymin,r)),o.push(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A(e.xmin,(e.ymin+e.ymax)/2,r)),o.push(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A(e.xmin,e.ymax,r));const i=o.map((e=>A(e,t,n))).filter((e=>!isNaN(e?.x))).map((e=>e.x));s.xmin=Math.min.apply(null,i)}}else{const e=W(t,.001);Math.abs(s.xmin-l[0])<e&&(s.xmin=l[0]),Math.abs(s.xmax-l[1])<e&&(s.xmax=l[1])}return s}function ee(e,t=!1){if(!e)return null;const n=t?20037508.342787:20037508.342788905;return e.isWebMercator?2*n:e.wkid&&e.isGeographic?360:2*d[e.wkid]||null}function te(e,t=!1){if(e.isGeographic)return[-180,180];const n=ee(e,t);return null!=n?[-n/2,n/2]:null}function ne(e,t,n,o){let i=(e-t)/n;return i-Math.floor(i)!==0?i=Math.floor(i):o&&(i-=1),i}function oe(e,t=!1){const n=ee(e.spatialReference);if(null==n)return 0;const o=t?0:-(n/2),i=W(e.spatialReference),r=!t&&Math.abs(e.xmax-n/2)<i?n/2:e.xmax,s=!t&&Math.abs(e.xmin+n/2)<i?-n/2:e.xmin;return ne(r,o,n,!0)-ne(s,o,n,!1)}function ie(e){const t=e.storageInfo.origin.x,n=ee(e.spatialReference,!0);if(null==n)return{originX:t,halfWorldWidth:null,pyramidsInfo:null};const o=n/2,{nativePixelSize:i,storageInfo:r,extent:s}=e,{maximumPyramidLevel:a,blockWidth:l,pyramidScalingFactor:c}=r;let f=i.x;const u=[],m=null!=e.transform&&"gcs-shift"===e.transform.type,x=t+(m?0:o),h=m?n-t:o-t;for(let p=0;p<=a;p++){const e=(s.xmax-t)/f/l,n=e-Math.floor(e)===0?e:Math.ceil(e),o=h/f/l,i=o-Math.floor(o)===0?o:Math.ceil(o),r=Math.floor(x/f/l),a=Math.round(x/f)%l,m=(l-Math.round(h/f)%l)%l;u.push({resolutionX:f,blockWidth:l,datasetColumnCount:n,worldColumnCountFromOrigin:i,leftMargin:a,rightPadding:m,originColumnOffset:r}),f*=c}return{originX:t,halfWorldWidth:o,pyramidsInfo:u,hasGCSSShiftTransform:m}}function re(e){if(!e||e.isGeographic)return e;const t=String(e.wkid||e.wkt2||e.wkt);let n;if(P.has(t))n=P.get(t);else{n=(e.wkid?_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.coordsys(e.wkid):_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.P.fromString(_chunks_pe_js__WEBPACK_IMPORTED_MODULE_5__.a.PE_TYPE_PROJCS,e.wkt2||e.wkt)).getGeogcs().getCode(),P.set(t,n)}return new _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A({wkid:n})}function se(e){const t=e.isAdaptive&&null==e.spacing;let n=e.spacing||[w,w],o=ae(e),i={cols:o.size[0]+1,rows:o.size[1]+1};const r=o.outofBoundPointCount>0&&o.outofBoundPointCount<o.offsets.length/2;let s=o.outofBoundPointCount===o.offsets.length/2||t&&r?[0,0]:y(o.offsets,i,n,R);const a=(s[0]+s[1])/2,l=e.projectedExtent.spatialReference,c=e.srcBufferExtent.spatialReference;if(t&&(r||a>R)&&(l.isGeographic||J(l),n=[M,M],o=ae({...e,spacing:n}),i={cols:o.size[0]+1,rows:o.size[1]+1},s=y(o.offsets,i,n,R)),o.error=s,n[0]>1&&(o.coefficients=le(o.offsets,i,r)),e.includeGCSGrid&&!l.isGeographic&&!l.isWebMercator)if(c.isGeographic)o.gcsGrid={offsets:o.offsets,coefficients:o.coefficients,spacing:n};else{const t=J(l);if(null!=t&&!t.isEnvelope){const t=re(l),s=Q(e.projectedExtent,t),{offsets:a}=ae({...e,srcBufferExtent:s,spacing:n}),c=le(a,i,r);o.gcsGrid={offsets:a,coefficients:c,spacing:n}}}return o}function ae(e){const{projectedExtent:t,srcBufferExtent:n,pixelSize:o,datumTransformation:i,rasterTransform:r}=e,s=t.spatialReference,a=n.spatialReference;g();const{xmin:l,ymin:c,xmax:u,ymax:m}=t,x=ee(a),h=null!=x&&(e.hasWrapAround||"gcs-shift"===r?.type),p=e.spacing||[w,w],y=p[0]*o.x,d=p[1]*o.y,R=1===p[0],S=Math.ceil((u-l)/y-.1/p[0])+(R?0:1),P=Math.ceil((m-c)/d-.1/p[1])+(R?0:1),G=F({cols:S,rows:P,xmin:l,ymax:m,xres:y,yres:d,inSR:s,outSR:a,datumTransformation:i,preferPE:p[0]<=M,usePixelCenter:R}),k=[];let N,E=0;const T=R?-1:NaN,{xmin:j,xmax:v,ymax:C,width:_,height:z}=n,L=W(a,b),I=null!=x&&j>0&&v>x/2,O=J(s),A=null!=O&&O.poleLocation>0;for(let g=0;g<S;g++){const e=[];for(let t=0;t<P;t++){let n=G[g*P+t];if(h&&n[0]>v&&n[0]>x/2-L?n[0]-=x:h&&0===g&&n[0]<0&&I&&!r&&(n[0]+=x),!n||isNaN(n[0])||isNaN(n[1]))k.push(T),k.push(T),e.push(null),E++;else{if(r){const e=r.inverseTransform(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A({x:n[0],y:n[1],spatialReference:a}));n=[e.x,e.y]}e.push(n),g>0&&h&&N[t]&&n[0]<N[t][0]&&(n[0]+=x,A&&n[0]>v&&n[0]>x&&(n[0]-=x)),k.push((n[0]-j)/_),k.push((C-n[1])/z)}}N=e}return{offsets:k,error:null,coefficients:null,outofBoundPointCount:E,spacing:p,size:R?[S,P]:[S-1,P-1]}}function le(e,t,n){const{cols:o,rows:i}=t,r=new Float32Array((o-1)*(i-1)*2*6),s=new Float32Array([-0,-1,1,-1,1,-0,1,-0,-0]),a=new Float32Array([-1,1,0,0,-1,1,1,0,0]);for(let l=0;l<o-1;l++){for(let t=0;t<i-1;t++){let n=l*i*2+2*t;const c=e[n],f=e[n+1],u=e[n+2],m=e[n+3];n+=2*i;const x=e[n],h=e[n+1],p=e[n+2],g=e[n+3];let y=0,d=12*(t*(o-1)+l);for(let e=0;e<3;e++)r[d++]=s[y++]*c+s[y++]*u+s[y++]*p;y=0;for(let e=0;e<3;e++)r[d++]=s[y++]*f+s[y++]*m+s[y++]*g;y=0;for(let e=0;e<3;e++)r[d++]=a[y++]*c+a[y++]*x+a[y++]*p;y=0;for(let e=0;e<3;e++)r[d++]=a[y++]*f+a[y++]*h+a[y++]*g}if(n)for(let e=0;e<r.length;e++)isNaN(r[e])&&(r[e]=-1)}return r}function ce(e,t){const n=e.clone().normalize();return 1===n.length?n[0]:H(n,t)}function fe(e){const{spatialReference:t}=e,n=(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .getInfo */ .Vp)(t);if(!n)return e;const[o,r]=n.valid,s=r-o;let a=0;if(e.xmin<o){const t=o-e.xmin;a=Math.ceil(t/s)}else if(e.xmin>r){const t=e.xmin-r;a=-Math.ceil(t/s)}return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A({spatialReference:e.spatialReference,xmin:e.xmin+a*s,ymin:e.ymin,xmax:e.xmax+a*s,ymax:e.ymax})}function ue(e,t,n){const{storageInfo:i,pixelSize:r}=t;let s=0,a=!1;const{pyramidResolutions:l}=i,c="mixed"===i.tileInfo.format?.toLowerCase()?Math.max(1,Math.min(3,i.tileInfo.dpi/96)):1,u=(e.x+e.y)/2/c;if(null!=l&&l.length){const e=l[l.length-1],i=(e.x+e.y)/2,c=(r.x+r.y)/2;if(u<=c)s=0;else if(u>=i)s=l.length,a=u/i>8;else{let e,t=c;for(let o=1;o<=l.length;o++){if(e=(l[o-1].x+l[o-1].y)/2,u<=e){u===e?s=o:"down"===n?(s=o-1,a=u/t>8):s="up"===n||u-t>e-u||u/t>2?o:o-1;break}t=e}}const m=0===s?r:l[s-1];if(a){Math.min(m.x,m.y)*(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getMetersPerUnitForSR */ .GA)(t.spatialReference)>19567&&(a=!1)}return{pyramidLevel:s,pyramidResolution:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A({x:m.x,y:m.y,spatialReference:t.spatialReference}),excessiveReading:a}}const m=Math.log(e.x/r.x)/Math.LN2,x=Math.log(e.y/r.y)/Math.LN2,h=t.storageInfo.maximumPyramidLevel||0;s="down"===n?Math.floor(Math.min(m,x)):"up"===n?Math.ceil(Math.max(m,x)):Math.round((m+x)/2),s<0?s=0:s>h&&(a=s>h+3,s=h);const p=2**s;return{pyramidLevel:s,pyramidResolution:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A({x:p*t.nativePixelSize.x,y:p*t.nativePixelSize.y,spatialReference:t.spatialReference}),excessiveReading:a}}function me(e,t,n=!1){const{pixelSize:o,extent:i}=e,r=C(i,t,!1),s=Q(ce(i,(o.x+o.y)/16),t,r);return!s||n||0===oe(s)?s:$(i,t,r)}function xe(e,t,n){const o=n?.tileSize??512,i=n?.alignGlobalDatasetWithAGOL??!0,r=!!n?.limitToSrcResolution,{extent:s,spatialReference:a,pixelSize:l}=e,c=L(l,t,s);if(null==c)return{projectedPixelSize:null,scales:null,srcResolutions:null,isCustomTilingScheme:!1};const f=(c.x+c.y)/2,u=I(f,t),m=t.isGeographic?256/o*295828763.7958547:256/o*591657527.591555;let h="vector-magdir"===e.dataType||"vector-uv"===e.dataType;const p=me(e,t,!0),g=Math.min(Math.ceil(Math.log(Math.min(e.width,e.height)/32)/Math.LN2),Math.ceil(Math.log(m/2/u)/Math.LN2));if(!h&&p&&i&&(t.isGeographic||t.isWebMercator)){const n=ee(t);if(h=oe(p)>0||null!=n&&p.width>n/4,!h&&null!=n){let t=-1;if(g<3)t=2**g*f*o;else if(e.storageInfo){const{maximumPyramidLevel:n=0,pyramidScalingFactor:i=2}=e.storageInfo;t=i**n*f*o}const i=Math.ceil(n/t);h=1===i||2===i&&n/2-p.xmax<t}}let y,d=u;const w=1.001,M=Math.min(2,Math.max(1.414,e.storageInfo?.pyramidScalingFactor||2));if(h){d=m;const n=t.isGeographic?1341104507446289e-21:.29858214164761665,o=I(n,t),i=t.isGeographic?4326:3857;y=L({x:n,y:n},a,me(e,new x({wkid:i}),!0)),y.x*=d/o,y.y*=d/o}else{y={x:l.x,y:l.y};let e=0;for(;d<m*(w/2)&&e<g;)e++,d*=M,y.x*=M,y.y*=M;Math.max(d,m)/Math.min(d,m)<=w&&(d=m)}const R=[d],S=[{x:y.x,y:y.y}],P=70.5310735,b=Math.min(P,u)/w;for(;d>=b;)d/=M,y.x/=M,y.y/=M,R.push(d),S.push({x:y.x,y:y.y});if(r){const e=.001*l.x;let t=S.findIndex((t=>t.x>=l.x-e&&t.x<=l.x+e));t>-1?(S.length=t+1,R.length=t+1):(t=S.findIndex((t=>t.x<=l.x+e)),t>0&&(S.length=t,R.length=t))}return{projectedPixelSize:c,scales:R,srcResolutions:S,isCustomTilingScheme:!h}}function he(e){let t=0;for(const n of e){const e=n.length;let o=n[0][0]*(n[1][1]-n[e-2][1]);for(let t=1;t<e-1;t++)o+=n[t][0]*(n[t+1][1]-n[t-1][1]);t+=o/2}return Math.abs(t)}


/***/ }),

/***/ 77691:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DP: () => (/* binding */ d),
/* harmony export */   Nh: () => (/* binding */ M),
/* harmony export */   Pg: () => (/* binding */ g),
/* harmony export */   RP: () => (/* binding */ l),
/* harmony export */   WF: () => (/* binding */ r),
/* harmony export */   _N: () => (/* binding */ y),
/* harmony export */   eH: () => (/* binding */ h),
/* harmony export */   f4: () => (/* binding */ p),
/* harmony export */   fP: () => (/* binding */ f),
/* harmony export */   zj: () => (/* binding */ u),
/* harmony export */   zt: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(57725);
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83371);
/* harmony import */ var _rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6246);
/* harmony import */ var _renderers_support_stretchRendererUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(75951);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i=1,o=[.299,.587,.114];function a(t){if(null==t)return!1;const{max:n,min:e,size:s}=t;return(n-e)/s===1&&e>=-.5&&.5===Math.abs(e%1)&&n<=255.5}function r(t,n=256){const e=255;n=Math.min(n,e+1);const{size:s,counts:i}=t,o=new Float64Array(s);o[0]=i[0]/n;for(let a=1;a<s;a++)o[a]=o[a-1]+i[a]/n;const r=new Uint8Array(n),l=n/o[o.length-1];if(s<=n){const i=a(t)?Math.max(0,Math.round(t.min+.5)):0;for(let t=i;t<n;t++)r[t]=t>=s+i?e:Math.min(e,Math.trunc(o[t-i]*l))}else{const t=o.map((t=>Math.min(255,Math.trunc(t*l))));for(let e=0;e<n;e++)r[e]=t[Math.round(s/n)];r[n-1]=255}return r}function l(t){const{minCutOff:n,maxCutOff:e,gamma:s,pixelType:i,rounding:o}=t;if(!["u8","u16","s8","s16"].includes(i))return null;const a=n.length,r="s8"===i?-127:"s16"===i?-32767:0,l=["u16","s16"].includes(i)?65536:256,f=[],c=[],{minOutput:m=0,maxOutput:h=255}=t,p=h-m;for(let u=0;u<a;u++)c[u]=e[u]-n[u],f[u]=0===c[u]?0:p/c[u];const g=[];if(s&&s.length>=a){const t=M(a,s);for(let i=0;i<a;i++){const a=[];for(let u=0;u<l;u++){if(0===c[i]){a[u]=m;continue}const l=u+r,f=(l-n[i])/c[i];let g=1;if(s[i]>1&&(g-=(1/p)**(f*t[i])),l<e[i]&&l>n[i]){const t=g*p*f**(1/s[i])+m;a[u]="floor"===o?Math.floor(t):"round"===o?Math.round(t):t}else l>=e[i]?a[u]=h:a[u]=m}g[i]=a}}else for(let u=0;u<a;u++){const t=[];for(let s=0;s<l;s++){const i=s+r;if(i<=n[u])t[s]=m;else if(i>=e[u])t[s]=h;else{const e=(i-n[u])*f[u]+m;t[s]="floor"===o?Math.floor(e):"round"===o?Math.round(e):e}}g[u]=t}if(null!=t.contrastOffset){const n=u(t.contrastOffset,t.brightnessOffset);for(let t=0;t<a;t++){const e=g[t];for(let t=0;t<l;t++)e[t]=n[e[t]]}}return{lut:g,offset:r}}function u(t,n){const e=Math.min(Math.max(t,-100),100),s=Math.min(Math.max(n??0,-100),100),i=255,o=128,a=new Uint8Array(256);for(let r=0;r<256;r++){let t=0;e>0&&e<100?t=(200*r-100*i+2*i*s)/(2*(100-e))+o:e<=0&&e>-100?t=(200*r-100*i+2*i*s)*(100+e)/2e4+o:100===e?(t=200*r-100*i+(i+1)*(100-e)+2*i*s,t=t>0?i:0):-100===e&&(t=o),a[r]=t>i?i:t<0?0:t}return a}function f(t,n,e){const s=[];for(let i=0;i<n.length;i++){let a=0,r=0,l=0;"min"in n[i]?({min:a,max:r,avg:l}=n[i]):[a,r,l]=n[i];let u=l??0;"u8"!==t&&(u=255*(u-a)/(r-a)),e&&(u*=o[i]),s.push(c(u))}return s}function c(t){if(t<=0||t>=255)return i;const n=255,e=t+(150===t?0:t<150?45*Math.cos(.01047*t):17*Math.sin(.021*t)),s=Math.log(t/n),o=Math.log(e/n);if(0===o)return i;const a=s/o;return isNaN(a)?i:Math.min(9.9,Math.max(.01,a))}function m(t,n,e,s){let i=1/0,o=-1/0,a=0,r=0,l=0,u=0;const f=t.length,c=new Map,m=[];for(let k=0;k<f;k++){const e=t[k];if(!n||n[k]){m.push(e);const t=(c.get(e)??0)+1;c.set(e,t),t>u&&(u=t,l=e),i=e<i?e:i,o=e>o?e:o,a+=e,r++}}if(0===r)return{statistics:{min:0,max:0,avg:0,stddev:0,mode:0,median:0},histogram:null};const h=a/r;let p=0;for(let k=0;k<f;k++)n&&!n[k]||(p+=(t[k]-h)**2);const g=n?n.filter((t=>t)).length:f,d=g<=1?0:Math.sqrt(p/(g-1));m.sort(((t,n)=>t-n));const x=r>>>1,M={min:i,max:o,avg:h,stddev:d,mode:l,median:r%2?m[Math.floor(x)]:(m[x-1]+m[x])/2};if(["u8","s8","u4","u2","u1"].includes(e)){const e=o-i+1,s=new Uint32Array(e);for(let o=0;o<f;o++)n&&!n[o]||s[t[o]-i]++;return{statistics:M,histogram:{min:i-.5,max:o+.5,size:e,counts:s}}}const y=256,O=new Uint32Array(y),b=(o-i)/y;if(0===b)return{statistics:M,histogram:{min:i,max:o,size:1,counts:new Uint32Array(1).fill(r)}};const w=new Uint32Array(y+1);for(let k=0;k<f;k++)n&&!n[k]||w[Math.floor((t[k]-i)/b)]++;for(let k=0;k<y-1;k++)O[k]=w[k];return O[y-1]=w[y-1]+w[y],{statistics:M,histogram:{min:i,max:o,size:y,counts:O}}}function h(t){const{pixels:n,mask:e,pixelType:s,bandMasks:i}=t,o=n.map(((t,n)=>m(t,i?.[n]??e,s)));return{statistics:o.map((({statistics:t})=>t)),histograms:o.map((({histogram:t})=>t))}}function p(t){if(!t?.pixels?.length)return null;const{pixels:n,mask:e,bandMasks:s,pixelType:i}=t,o=t.width*t.height,a=n.length,r=[],l=[],u=256;let f,c;for(let m=0;m<a;m++){let a=new Uint32Array(u);const h=n[m],p=s?.[m]??e;if("u8"===i){if(f=255,c=0,p){for(let t=0;t<o;t++)if(p[t]){const n=h[t];f=n<f?n:f,c=n>c?n:c,a[n]++}}else for(let t=0;t<o;t++){const n=h[t];f=n<f?n:f,c=n>c?n:c,a[n]++}a=a.slice(f,c+1)}else{let n=!1;t.statistics||(t.updateStatistics(),n=!0);const e=t.statistics;f=e[m].minValue,c=e[m].maxValue;const s=(c-f)/u;if(0===s){!e||t.validPixelCount||n||t.updateStatistics();const s=(t.validPixelCount||t.width*t.height)/u;for(let t=0;t<u;t++)a[t]=Math.round(s*(t+1))-Math.round(s*t)}else{const t=new Uint32Array(u+1);for(let n=0;n<o;n++)p&&!p[n]||t[Math.floor((h[n]-f)/s)]++;for(let n=0;n<u-1;n++)a[n]=t[n];a[u-1]=t[u-1]+t[u]}}const g="u8"===i?f-.5:f,d="u8"===i?c+.5:c;r.push({min:g,max:d,size:a.length,counts:a});let x=0,M=0,y=0;for(let t=0;t<a.length;t++)x+=a[t],M+=t*a[t];const O=M/x;for(let t=0;t<a.length;t++)y+=a[t]*(t-O)**2;const b=Math.sqrt(y/(x-1)),w=(d-g)/a.length,k=(O+("u8"===i?0:.5))*w+f,v=b*w;l.push({min:f,max:c,avg:k,stddev:v})}return{statistics:l,histograms:r}}function g(t){const n=[];for(let e=0;e<t.length;e++){const{min:s,max:i,size:o,counts:a}=t[e];let r=0,l=0;for(let t=0;t<o;t++)r+=a[t],l+=t*a[t];const u=l/r;let f=0;for(let t=0;t<o;t++)f+=a[t]*(t-u)**2;const c=(i-s)/o,m=(u+.5)*c+s,h=Math.sqrt(f/(r-1))*c;n.push({min:s,max:i,avg:m,stddev:h})}return n}function d(n,i){const{pixelBlock:o,bandIds:a,returnHistogramLut:l,rasterInfo:u}=i;let f=null,c=null,m=n.stretchType;if("number"==typeof m&&(m=_renderers_support_stretchRendererUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .stretchTypeFunctionEnum */ .x[m]),n.dra)if("minMax"===m&&o?.statistics)f=o.statistics.map((t=>[t.minValue,t.maxValue,0,0]));else{const t=p(o);f=null!=t?t.statistics:null,c=null!=t?t.histograms:null}else f=n.statistics?.length?n.statistics:u.statistics,c="histograms"in n?n.histograms:void 0,c||(c=u.histograms);"percentClip"!==m&&"histogramEqualization"!==m||c?.length||(m="minMax");const h=f?.length||c?.length||u.bandCount,g=[],d=[];f&&!Array.isArray(f[0])&&(f=f.map((t=>[t.min,t.max,t.avg,t.stddev])));const[M,y]=(0,_rasterFormats_pixelRangeUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getPixelValueRange */ .hP)(u.pixelType);if(!f?.length){f=[];for(let t=0;t<h;t++)f.push([M,y,1,1]);"standardDeviation"===m&&(m="minMax")}switch(m){case"none":for(let t=0;t<h;t++)g[t]=M,d[t]=y;break;case"minMax":for(let t=0;t<h;t++){const n=f[t];g[t]=n[0],d[t]=n[1]}break;case"standardDeviation":{const{numberOfStandardDeviations:t=2}=n;for(let n=0;n<h;n++){const e=f[n];g[n]=e[2]-t*e[3],d[n]=e[2]+t*e[3],g[n]<e[0]&&(g[n]=e[0]),d[n]>e[1]&&(d[n]=e[1])}}break;case"histogramEqualization":(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .assertIsSome */ .Lw)(c);for(let t=0;t<h;t++)g[t]=c[t].min,d[t]=c[t].max;break;case"percentClip":(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .assertIsSome */ .Lw)(c);for(let t=0;t<c.length;t++){const e=c[t],s=new Uint32Array(e.size),i=[...e.counts];i.length>=20&&(i[0]=i[1]=i[2]=i[i.length-1]=i[i.length-2]=0);let o=0;const a=(e.max-e.min)/e.size,r=-.5===e.min&&1===a?.5:0;for(let t=0;t<e.size;t++)o+=i[t],s[t]=o;let l=(n.minPercent||0)*o/100;g[t]=e.min+r;for(let n=0;n<e.size;n++)if(s[n]>l){g[t]=e.min+a*(n+r);break}l=(1-(n.maxPercent||0)/100)*o,d[t]=e.max+r;for(let n=e.size-2;n>=0;n--)if(s[n]<l){d[t]=e.min+a*(n+2-r);break}if(d[t]<g[t]){const n=g[t];g[t]=d[t],d[t]=n}}break;default:for(let t=0;t<h;t++){const n=f[t];g[t]=n[0],d[t]=n[1]}}let O,b,w;"histogramEqualization"===m?((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__/* .assertIsSome */ .Lw)(c),b=c[0].size||256,O=0,l&&(w=c.map((t=>r(t))))):(b=n.max||255,O=n.min||0);return x({minCutOff:g,maxCutOff:d,maxOutput:b,minOutput:O,histogramLut:w},a)}function x(t,n){if(null==n||0===n.length)return t;const e=Math.max.apply(null,n),{minCutOff:s,maxCutOff:i,minOutput:o,maxOutput:a,histogramLut:r}=t;return s.length===n.length||s.length<=e?t:{minCutOff:n.map((t=>s[t])),maxCutOff:n.map((t=>i[t])),histogramLut:r?n.map((t=>r[t])):null,minOutput:o,maxOutput:a}}function M(t,n){const e=new Float32Array(t);for(let s=0;s<t;s++)n[s]>1?n[s]>2?e[s]=6.5+(n[s]-2)**2.5:e[s]=6.5+100*(2-n[s])**4:e[s]=1;return e}function y(t,e){if(!t?.pixels?.length)return t;const{mask:s,bandMasks:i,width:o,height:a,pixels:r}=t,{minCutOff:l,maxCutOff:u,minOutput:f,maxOutput:c,gamma:m}=e,h=o*a,p=e.outputPixelType||"u8",g=t.pixels.map((()=>_PixelBlock_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.createEmptyBand(p,h))),d=g.length,x=c-f,y=[],O=[];for(let n=0;n<d;n++)O[n]=u[n]-l[n],y[n]=0===O[n]?0:x/O[n];const b=p.startsWith("u")||p.startsWith("s"),w=m&&m.length>=d,k=!!e.isRenderer;if(w){const t=M(d,m);for(let n=0;n<d;n++){const e=i?.[n]??s;for(let s=0;s<h;s++)if(null==e||e[s]){if(0===O[n]){g[n][s]=f;continue}const e=r[n][s],i=(e-l[n])/O[n];let o=1;if(m[n]>1&&(o-=(1/x)**(i*t[n])),e<u[n]&&e>l[n]){const t=o*x*i**(1/m[n])+f;g[n][s]=k?Math.floor(t):b?Math.round(t):t}else e>=u[n]?g[n][s]=c:g[n][s]=f}}}else for(let n=0;n<d;n++){const t=i?.[n]??s;for(let e=0;e<h;e++)if(null==t||t[e]){const t=r[n][e];if(t<u[n]&&t>l[n]){const s=(t-l[n])*y[n]+f;g[n][e]=k?Math.floor(s):b?Math.round(s):s}else t>=u[n]?g[n][e]=c:g[n][e]=f}}const v=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({width:o,height:a,mask:s,bandMasks:i,pixels:g,pixelType:p});return v.updateStatistics(),v}


/***/ }),

/***/ 95617:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E0: () => (/* binding */ f),
/* harmony export */   PP: () => (/* binding */ d),
/* harmony export */   SC: () => (/* binding */ c),
/* harmony export */   di: () => (/* binding */ u),
/* harmony export */   fw: () => (/* binding */ r),
/* harmony export */   ng: () => (/* binding */ a),
/* harmony export */   rk: () => (/* binding */ n),
/* harmony export */   yy: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83371);
/* harmony import */ var _SimpleBandStatistics_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(11012);
/* harmony import */ var _pixelUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86924);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=1,n=1/111e3;function a(t){let{altitude:e,azimuth:i}=t;const{hillshadeType:s,pixelSizePower:a=1,pixelSizeFactor:o=1,scalingType:l,isGCS:r,resolution:c}=t,h="multi-directional"===s?2*t.zFactor:t.zFactor,{x:u,y:f}=c;let d=h/(8*u),p=h/(8*f);if(r&&h>.001&&(d/=n,p/=n),"adjusted"===l)if(r){const t=u*n,e=f*n;d=(h+t**a*o)/(8*t),p=(h+e**a*o)/(8*e)}else d=(h+u**a*o)/(8*u),p=(h+f**a*o)/(8*f);let x=(90-e)*Math.PI/180,w=Math.cos(x),y=(360-i+90)*Math.PI/180,m=Math.sin(x)*Math.cos(y),M=Math.sin(x)*Math.sin(y);const z=[315,270,225,360,180,0],A=[60,60,60,60,60,90],g=new Float32Array([3,5,3,2,1,4]),F=g.reduce(((t,e)=>t+e)),k=g.map((t=>t/F)),P="multi-directional"===s?z.length:1,S=new Float32Array(6),C=new Float32Array(6),T=new Float32Array(6);if("multi-directional"===s)for(let n=0;n<P;n++)e=A[n],i=z[n],x=(90-e)*Math.PI/180,w=Math.cos(x),y=(360-i+90)*Math.PI/180,m=Math.sin(x)*Math.cos(y),M=Math.sin(x)*Math.sin(y),S[n]=w,C[n]=m,T[n]=M;else S.fill(w),C.fill(m),T.fill(M);return{resolution:c,factor:[d,p],sinZcosA:m,sinZsinA:M,cosZ:w,sinZcosAs:[...C],sinZsinAs:[...T],cosZs:[...S],weights:[...k],hillshadeType:["traditional","multi-directional"].indexOf(s)}}function o(t,e){const{width:i,height:n}=t,a=i*n,o=new Uint8Array(a),l=null!=t.mask;let r;if(l){r=new Uint8Array(t.mask);for(let t=0;t<r.length;t++)r[t]&&(o[t]=1,r[t]=1)}const c=t.pixels[0],h=new Float32Array(a),u=new Float32Array(a);let f,d=0;if(e){const{resolution:t}=e,i=t?(t.x+t.y)/2:1;d=200*e.zFactor/(i*i),f=new Float32Array(a)}const p=e?.curvatureType;let x,w,y,m,M,z,A,g;for(let F=s;F<n-s;F++){const t=F*i;for(let e=s;e<i-s;e++){const s=t+e;if(!r||0!==r[s]){if(r){if(r[s-i-1]+r[s-i]+r[s-i+1]+r[s-1]+r[s+1]+r[s+i-1]+r[s+i]+r[s+i+1]<7){o[s]=0;continue}x=r[s-i-1]?c[s-i-1]:c[s],w=r[s-i]?c[s-i]:c[s],y=r[s-i+1]?c[s-i+1]:c[s],m=r[s-1]?c[s-1]:c[s],M=r[s+1]?c[s+1]:c[s],z=r[s+i-1]?c[s+i-1]:c[s],A=r[s+i]?c[s+i]:c[s],g=r[s+i+1]?c[s+i+1]:c[s]}else x=c[s-i-1],w=c[s-i],y=c[s-i+1],m=c[s-1],M=c[s+1],z=c[s+i-1],A=c[s+i],g=c[s+i+1];if(h[s]=y+M+M+g-(x+m+m+z),u[s]=z+A+A+g-(x+w+w+y),null!=f){const t=c[s],e=.5*(m+M)-t,i=.5*(w+A)-t;if("standard"===p)f[s]=-d*(e+i);else{const t=(-x+y+z-g)/4,n=(-m+M)/2,a=(w-A)/2,o=n*n,l=a*a,r=o+l;r&&(f[s]="profile"===p?d*(e*o+i*l+t*n*a)/r:-d*(e*l+i*o-t*n*a)/r)}}}}}return{outMask:l?o:null,dzxs:h,dzys:u,curvatures:f}}function l(t,e,i){for(let s=0;s<i;s++)t[s*e]=t[s*e+1],t[(s+1)*e-1]=t[(s+1)*e-2];for(let s=1;s<e-1;s++)t[s]=t[s+e],t[s+(i-1)*e]=t[s+(i-2)*e]}function r(n,r){if(!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isValidPixelBlock */ .AB)(n))return n;const{factor:c,sinZcosA:h,sinZsinA:u,cosZ:f,sinZcosAs:d,sinZsinAs:p,cosZs:x,weights:w}=a(r),[y,m]=c,M="traditional"===r.hillshadeType,{width:z,height:A}=n,g=new Uint8Array(z*A),{dzxs:F,dzys:k,outMask:P}=o(n);for(let t=s;t<A-s;t++){const e=t*z;for(let t=s;t<z-s;t++){const i=e+t;if(!P||P[i]){const t=F[i]*y,e=k[i]*m,s=Math.sqrt(1+t*t+e*e);let n=0;if(M){let i=255*(f+u*e-h*t)/s;i<0&&(i=0),n=i}else{const i=p.length;for(let a=0;a<i;a++){let i=255*(x[a]+p[a]*e-d[a]*t)/s;i<0&&(i=0),n+=i*w[a]}}g[i]=255&n}}}l(g,z,A);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({width:z,height:A,pixels:[g],mask:P,pixelType:"u8",validPixelCount:n.validPixelCount,statistics:[new _SimpleBandStatistics_js__WEBPACK_IMPORTED_MODULE_2__/* .SimpleBandStatistics */ .z(0,255)]})}function c(t,e,s,n){if(!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isValidPixelBlock */ .AB)(t)||!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isValidPixelBlock */ .AB)(e))return;const{min:a,max:o}=n,l=t.pixels[0],{pixels:r,mask:c}=e,h=r[0],u=255.00001/(o-a),f=new Uint8ClampedArray(h.length),d=new Uint8ClampedArray(h.length),p=new Uint8ClampedArray(h.length),x=s.length-1;for(let i=0;i<h.length;i++){if(c&&0===c[i])continue;const t=Math.floor((h[i]-a)*u),[e,n]=s[t<0?0:t>x?x:t],o=l[i],r=o*n,w=r*(1-Math.abs(e%2-1)),y=o-r;switch(Math.floor(e)){case 0:f[i]=r+y,d[i]=w+y,p[i]=y;break;case 1:f[i]=w+y,d[i]=r+y,p[i]=y;break;case 2:f[i]=y,d[i]=r+y,p[i]=w+y;break;case 3:f[i]=y,d[i]=w+y,p[i]=r+y;break;case 4:f[i]=w+y,d[i]=y,p[i]=r+y;break;case 5:case 6:f[i]=r+y,d[i]=y,p[i]=w+y}}t.pixels=[f,d,p],t.updateStatistics()}function h(e,a){if(!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isValidPixelBlock */ .AB)(e))return e;const r=a.zFactor,c=a.pixelSizePower??1,h=a.pixelSizeFactor??1,u=a.slopeType,f=a.isGCS,{x:d,y:p}=a.resolution;let x=r/(8*d),w=r/(8*p);f&&Math.abs(r-1)<1e-4&&(x/=n,w/=n),"adjusted"===u&&(x=(r+d**c*h)/(8*d),w=(r+p**c*h)/(8*p));const{dzxs:y,dzys:m,outMask:M}=o(e),{width:z,height:A}=e,g=new Float32Array(z*A);for(let t=s;t<A-s;t++){const e=t*z;for(let t=s;t<z-s;t++){const i=e+t;if(!M||M[i]){const s=y[i]*x,n=m[i]*w,a=Math.sqrt(s*s+n*n);g[e+t]="percent-rise"===u?100*a:57.2957795*Math.atan(a)}}}l(g,z,A);const F=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({width:z,height:A,pixels:[g],mask:M,pixelType:"f32",validPixelCount:e.validPixelCount});return F.updateStatistics(),F}function u(n,a={}){if(!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isValidPixelBlock */ .AB)(n))return n;const{resolution:r}=a,c=r?1/r.x:1,h=r?1/r.y:1,{dzxs:u,dzys:f,outMask:d}=o(n),{width:p,height:x}=n,w=new Float32Array(p*x);for(let t=s;t<x-s;t++){const e=t*p;for(let t=s;t<p-s;t++){const i=e+t;if(!d||d[i]){const s=u[i]*c,n=f[i]*h;let a=-1;0===s&&0===n||(a=90-57.29578*Math.atan2(n,-s),a<0&&(a+=360),360===a?a=0:a>360&&(a%=360)),w[e+t]=a}}}l(w,p,x);return new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({width:p,height:x,pixels:[w],mask:d,pixelType:"f32",validPixelCount:n.validPixelCount,statistics:[new _SimpleBandStatistics_js__WEBPACK_IMPORTED_MODULE_2__/* .SimpleBandStatistics */ .z(-1,360)]})}function f(e,s){if(!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isValidPixelBlock */ .AB)(e))return e;const{curvatures:n,outMask:a}=o(e,s),{width:r,height:c}=e;l(n,r,c);const h=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({width:r,height:c,pixels:[n],mask:a,pixelType:"f32",validPixelCount:e.validPixelCount});return h.updateStatistics(),h}function d(t,e,i){const{hillshadeType:s,altitude:n,azimuth:a,zFactor:o,pixelSizeFactor:l,pixelSizePower:r,slopeType:c}=t;return{hillshadeType:s,altitude:n,azimuth:a,zFactor:o,pixelSizePower:r,pixelSizeFactor:l,scalingType:"scaled"===c?"adjusted":"none",resolution:e,isGCS:i}}


/***/ }),

/***/ 20503:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FI: () => (/* binding */ f),
/* harmony export */   KL: () => (/* binding */ a),
/* harmony export */   Lu: () => (/* binding */ l),
/* harmony export */   MD: () => (/* binding */ s),
/* harmony export */   Rn: () => (/* binding */ p),
/* harmony export */   Y2: () => (/* binding */ u)
/* harmony export */ });
/* unused harmony exports createVFMesh, createVFMeshScalar, sampleVectorField, snapImageToSymbolTile */
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1817);
/* harmony import */ var _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(83371);
/* harmony import */ var _pixelUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(86924);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const r=new Map;r.set("meter-per-second",1),r.set("kilometer-per-hour",.277778),r.set("knots",.514444),r.set("feet-per-second",.3048),r.set("mile-per-hour",.44704);const o=180/Math.PI,i=5,s=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .JSONMap */ .J({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function a(t,e){return r.get(t)/r.get(e)||1}function h(t){return(450-t)%360}function l(t,e="geographic"){const[n,r]=t,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n)*o;return s=(360+s)%360,"geographic"===e&&(s=h(s)),[i,s]}function c(t,e="geographic"){let n=t[1];"geographic"===e&&(n=h(n)),n%=360;const r=t[0];return[r*Math.cos(n/o),r*Math.sin(n/o)]}function u(t,e,r,o="geographic"){if(!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .isValidPixelBlock */ .AB)(t)||null==r)return t;const i="vector-magdir"===e?t.clone():f(t,e),s=i.pixels[1];for(let n=0;n<s.length;n++)s[n]="geographic"===o?(s[n]+r[n]+270)%360:(s[n]+360-r[n])%360;return"vector-magdir"===e?i:f(i,"vector-magdir")}function f(t,r,o="geographic",i=1){if(!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .isValidPixelBlock */ .AB)(t))return t;const{pixels:s,width:a,height:h}=t,u=a*h,f=s[0],p=s[1],m=t.pixelType.startsWith("f")?t.pixelType:"f32",d=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.createEmptyBand(m,u),g=_PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.createEmptyBand(m,u);let x=0;for(let e=0;e<h;e++)for(let t=0;t<a;t++)"vector-uv"===r?([d[x],g[x]]=l([f[x],p[x]],o),d[x]*=i):([d[x],g[x]]=c([f[x],p[x]],o),d[x]*=i,g[x]*=i),x++;const M=new _PixelBlock_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({pixelType:m,width:t.width,height:t.height,mask:t.mask,validPixelCount:t.validPixelCount,maskIsAlpha:t.maskIsAlpha,pixels:[d,g]});return M.updateStatistics(),M}function p(t,e,r=1){if(1===r||!(0,_pixelUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .isValidPixelBlock */ .AB)(t))return t;const o=t.clone(),{pixels:i,width:s,height:a}=o,h=i[0],l=i[1];let c=0;for(let n=0;n<a;n++)for(let t=0;t<s;t++)"vector-uv"===e?(h[c]*=r,l[c]*=r):h[c]*=r,c++;return o.updateStatistics(),o}function m(t,e,n,r,o){if(null==o||!o.spatialReference.equals(t.spatialReference))return{extent:t,width:Math.round(e/r),height:Math.round(n/r),resolution:t.width/e};const i=o.xmin,s=o.ymax,a=(t.xmax-t.xmin)/e*r,h=(t.ymax-t.ymin)/n*r,l=(a+h)/2;return t.xmin=i+Math.floor((t.xmin-i)/a)*a,t.xmax=i+Math.ceil((t.xmax-i)/a)*a,t.ymin=s+Math.floor((t.ymin-s)/h)*h,t.ymax=s+Math.ceil((t.ymax-s)/h)*h,{extent:t,width:Math.round(t.width/a),height:Math.round(t.height/h),resolution:l}}const d=g(0,0,0);function g(t=0,e=0,n=Math.PI,r=!0){r&&(n=(2*Math.PI-n)%(2*Math.PI));const o=r?-1:1,i=13*o,s=-7*o,a=-2*o,h=-16*o,l=21.75,[c,u]=M(0,e+i,n,l),[f,p]=M(t-5.5,e+s,n,l),[m,d]=M(t+5.5,e+s,n,l),[g,x]=M(t-1.5,e+a,n,l),[k,w]=M(t+1.5,e+a,n,l),[y,P]=M(t-1.5,e+h,n,l),[b,v]=M(t+1.5,e+h,n,l);return[c,u,f,p,g,x,k,w,m,d,y,P,b,v]}function x(t=0,e=Math.PI,n=!0){n&&(e=(2*Math.PI-e)%(2*Math.PI));const r=10,o=n?-1:1,s=5*o,a=20*o,h=25*o,l=45,c=0,u=0,f=2,p=0,m=f*o,d=n?1:-1,g=r/2*d;let[x,k]=[c+g,u-a],[w,y]=[x+f*d,k],[P,b]=[w-p*d,y+m],[v,I]=[c-g,u-h],[A,_]=[v+p*d,I-m],U=Math.ceil(t/i),S=Math.floor(U/10);U-=8*S;const D=[],F=[];for(let i=0;i<U/2;i++,S--){S<=0&&U%2==1&&i===(U-1)/2&&(v=c,A=v+p*d,I=(I+k)/2,_=I-m);const[t,n]=M(v,I,e,l);if(S>0){const[r,o]=M(w,I,e,l),[i,s]=M(x,k,e,l);D.push(r),D.push(o),D.push(t),D.push(n),D.push(i),D.push(s)}else{const[r,o]=M(w,y,e,l),[i,s]=M(P,b,e,l),[a,h]=M(A,_,e,l);F.push(t),F.push(n),F.push(a),F.push(h),F.push(i),F.push(s),F.push(r),F.push(o)}I+=s,k+=s,y+=s,b+=s,_+=s}const[N,j]=M(c+g,u+a,e,l),J=(r/2+f)*d,[O,q]=M(c+J,u+a,e,l),[B,E]=M(c+g,u-h,e,l),[T,C]=M(c+J,u-h,e,l);return{pennants:D,barbs:F,shaft:[N,j,O,q,B,E,T,C]}}function M(t,e,n,r=1){const o=Math.sqrt(t*t+e*e)/r,i=(2*Math.PI+Math.atan2(e,t))%(2*Math.PI);return[o,(2*Math.PI+i-n)%(2*Math.PI)]}const k=(/* unused pure expression or super */ null && ([0,1,3,6,10,16,21,27,33,40,47,55,63])),w=(/* unused pure expression or super */ null && ([0,.5,1,1.5,2])),y=(/* unused pure expression or super */ null && ([0,.25,.5,1,1.5,2,2.5,3,3.5,4]));function P(t,e,n,r){const o=a(r||"knots",n);let i;for(i=1;i<e.length;i++)if(i===e.length-1){if(t<e[i]*o)break}else if(t<=e[i]*o)break;return Math.min(i-1,e.length-2)}function b(t,e,n,r,o){let i=0;switch(e){case"beaufort_kn":i=P(t,k,"knots",n);break;case"beaufort_km":i=P(t,k,"kilometer-per-hour",n);break;case"beaufort_ft":i=P(t,k,"feet-per-second",n);break;case"beaufort_m":i=P(t,k,"meter-per-second",n);break;case"classified_arrow":i=P(t,o??[],r,n);break;case"ocean_current_m":i=P(t,w,"meter-per-second",n);break;case"ocean_current_kn":i=P(t,y,"knots",n)}return i}function v(t,e){const{style:n,inputUnit:r,outputUnit:o,breakValues:i}=e,a=s.fromJSON(r),h=s.fromJSON(o),l=7*6,c=15;let u=0,f=0;const{width:p,height:m,mask:x}=t,M=t.pixels[0],k=t.pixels[1],w=null!=x?x.filter((t=>t>0)).length:p*m,y=new Float32Array(w*l),P=new Uint32Array(c*w),v=e.invertDirection?g(0,0,0,!1):d;for(let s=0;s<m;s++)for(let t=0;t<p;t++){const e=s*p+t;if(!x||x[s*p+t]){const r=(k[e]+360)%360/180*Math.PI,o=b(M[e],n,a,h,i);for(let n=0;n<v.length;n+=2)y[u++]=(t+.5)/p,y[u++]=(s+.5)/m,y[u++]=v[n],y[u++]=v[n+1]+r,y[u++]=o,y[u++]=M[e];const c=7*(u/l-1);P[f++]=c,P[f++]=c+1,P[f++]=c+2,P[f++]=c+0,P[f++]=c+4,P[f++]=c+3,P[f++]=c+0,P[f++]=c+2,P[f++]=c+3,P[f++]=c+2,P[f++]=c+5,P[f++]=c+3,P[f++]=c+5,P[f++]=c+6,P[f++]=c+3}}return{vertexData:y,indexData:P}}const I=(/* unused pure expression or super */ null && ([]));function A(t,e){if(0===I.length)for(let i=0;i<30;i++)I.push(x(5*i,0,!e.invertDirection));const n=a(s.fromJSON(e.inputUnit),"knots"),{width:r,height:o,mask:h}=t,l=t.pixels[0],c=t.pixels[1],u=6,f=[],p=[];let m=0,d=0;for(let s=0;s<o;s++)for(let t=0;t<r;t++){const e=s*r+t,a=l[e]*n;if((!h||h[s*r+t])&&a>=i){const n=(c[e]+360)%360/180*Math.PI,{pennants:i,barbs:h,shaft:l}=I[Math.min(Math.floor(a/5),29)];if(i.length+h.length===0)continue;let g=f.length/u;const x=(t+.5)/r,M=(s+.5)/o;for(let t=0;t<i.length;t+=2)f[m++]=x,f[m++]=M,f[m++]=i[t],f[m++]=i[t+1]+n,f[m++]=0,f[m++]=a;for(let t=0;t<h.length;t+=2)f[m++]=x,f[m++]=M,f[m++]=h[t],f[m++]=h[t+1]+n,f[m++]=0,f[m++]=a;for(let t=0;t<l.length;t+=2)f[m++]=x,f[m++]=M,f[m++]=l[t],f[m++]=l[t+1]+n,f[m++]=0,f[m++]=a;for(let t=0;t<i.length/6;t++)p[d++]=g,p[d++]=g+1,p[d++]=g+2,g+=3;for(let t=0;t<h.length/8;t++)p[d++]=g,p[d++]=g+1,p[d++]=g+2,p[d++]=g+1,p[d++]=g+2,p[d++]=g+3,g+=4;p[d++]=g+0,p[d++]=g+1,p[d++]=g+2,p[d++]=g+1,p[d++]=g+3,p[d++]=g+2,g+=4}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function _(t,e){const n=4*6;let r=0,o=0;const{width:h,height:l,mask:c}=t,u=t.pixels[0],f=[],p=[],m=a(s.fromJSON(e.inputUnit),"knots"),d="wind_speed"===e.style?i:Number.MAX_VALUE;for(let i=0;i<l;i++)for(let t=0;t<h;t++){const e=u[i*h+t]*m;if((!c||c[i*h+t])&&e<d){for(let n=0;n<4;n++)f[r++]=(t+.5)/h,f[r++]=(i+.5)/l,f[r++]=n<2?-.5:.5,f[r++]=n%2==0?-.5:.5,f[r++]=0,f[r++]=e;const s=4*(r/n-1);p[o++]=s,p[o++]=s+1,p[o++]=s+2,p[o++]=s+1,p[o++]=s+2,p[o++]=s+3}}return{vertexData:new Float32Array(f),indexData:new Uint32Array(p)}}function U(t,e){return"simple_scalar"===e.style?_(t,e):"wind_speed"===e.style?A(t,e):v(t,e)}function S(t,n,r,o=[0,0],i=.5){const{width:s,height:a,mask:h}=t,[u,f]=t.pixels,[p,m]=o,d=Math.round((s-p)/r),g=Math.round((a-m)/r),x=d*g,M=new Float32Array(x),k=new Float32Array(x),w=new Uint8Array(x),y="vector-uv"===n;for(let e=0;e<g;e++)for(let t=0;t<d;t++){let n=0;const o=e*d+t,g=Math.max(0,e*r+m),x=Math.max(0,t*r+p),P=Math.min(a,g+r),b=Math.min(s,x+r);for(let t=g;t<P;t++)for(let e=x;e<b;e++){const r=t*s+e;if(!h||h[r]){n++;const t=y?[u[r],f[r]]:[u[r],(360+f[r])%360],[e,i]=y?t:c(t);M[o]+=e,k[o]+=i}}if(n>=(P-g)*(b-x)*(1-i)){w[o]=1;const[t,e]=l([M[o]/n,k[o]/n]);M[o]=t,k[o]=e}else w[o]=0,M[o]=0,k[o]=0}const P=new e({width:d,height:g,pixels:[M,k],mask:w});return P.updateStatistics(),P}


/***/ }),

/***/ 84809:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let t=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{get affectsPixelSize(){return!1}forwardTransform(r){return r}inverseTransform(r){return r}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],t.prototype,"affectsPixelSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0}})],t.prototype,"spatialReference",void 0),t=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.layers.support.rasterTransforms.BaseRasterTransform")],t);


/***/ }),

/***/ 49826:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(85716);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _BaseRasterTransform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(84809);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var a;let n=a=class extends _BaseRasterTransform_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A{constructor(){super(...arguments),this.type="gcs-shift",this.tolerance=1e-8}forwardTransform(r){return"point"===(r=r.clone()).type?(r.x>180+this.tolerance&&(r.x-=360),r):(r.xmin>=180-this.tolerance?(r.xmax-=360,r.xmin-=360):r.xmax>180+this.tolerance&&(r.xmin=-180,r.xmax=180),r)}inverseTransform(r){return"point"===(r=r.clone()).type?(r.x<-this.tolerance&&(r.x+=360),r):(r.xmin<-this.tolerance&&(r.xmin+=360,r.xmax+=360),r)}clone(){return new a({tolerance:this.tolerance})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_5__/* .enumeration */ .e)({GCSShiftXform:"gcs-shift"})],n.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)()],n.prototype,"tolerance",void 0),n=a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.layers.support.rasterTransforms.GCSShiftTransform")],n);


/***/ }),

/***/ 70847:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(85716);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(25376);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(26325);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(48524);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8000);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(30214);
/* harmony import */ var _BaseRasterTransform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(84809);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var p;function a(e,r,o){const{x:t,y:s}=r;if(o<2){return{x:e[0]+t*e[2]+s*e[4],y:e[1]+t*e[3]+s*e[5]}}if(2===o){const r=t*t,o=s*s,i=t*s;return{x:e[0]+t*e[2]+s*e[4]+r*e[6]+i*e[8]+o*e[10],y:e[1]+t*e[3]+s*e[5]+r*e[7]+i*e[9]+o*e[11]}}const i=t*t,n=s*s,f=t*s,l=i*t,p=i*s,a=t*n,c=s*n;return{x:e[0]+t*e[2]+s*e[4]+i*e[6]+f*e[8]+n*e[10]+l*e[12]+p*e[14]+a*e[16]+c*e[18],y:e[1]+t*e[3]+s*e[5]+i*e[7]+f*e[9]+n*e[11]+l*e[13]+p*e[15]+a*e[17]+c*e[19]}}function c(e,r,o){const{xmin:t,ymin:s,xmax:i,ymax:f,spatialReference:l}=r;let p=[];if(o<2)p.push({x:t,y:f}),p.push({x:i,y:f}),p.push({x:t,y:s}),p.push({x:i,y:s});else{let e=10;for(let r=0;r<e;r++)p.push({x:t,y:s+(f-s)*r/(e-1)}),p.push({x:i,y:s+(f-s)*r/(e-1)});e=8;for(let r=1;r<=e;r++)p.push({x:t+(i-t)*r/e,y:s}),p.push({x:t+(i-t)*r/e,y:f})}p=p.map((r=>a(e,r,o)));const c=p.map((e=>e.x)),u=p.map((e=>e.y));return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A({xmin:Math.min.apply(null,c),xmax:Math.max.apply(null,c),ymin:Math.min.apply(null,u),ymax:Math.max.apply(null,u),spatialReference:l})}function u(e){const[r,o,t,s,i,n]=e,f=t*n-i*s,l=i*s-t*n;return[(i*o-r*n)/f,(t*o-r*s)/l,n/f,s/l,-i/f,-t/l]}let m=p=class extends _BaseRasterTransform_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial"}readForwardCoefficients(e,r){const{coeffX:o,coeffY:t}=r;if(!o?.length||!t?.length||o.length!==t.length)return null;const s=[];for(let i=0;i<o.length;i++)s.push(o[i]),s.push(t[i]);return s}writeForwardCoefficients(e,r,o){const t=[],s=[];for(let i=0;i<e?.length;i++)i%2==0?t.push(e[i]):s.push(e[i]);r.coeffX=t,r.coeffY=s}get inverseCoefficients(){let e=this._get("inverseCoefficients");const r=this._get("forwardCoefficients");return!e&&r&&this.polynomialOrder<2&&(e=u(r)),e}set inverseCoefficients(e){this._set("inverseCoefficients",e)}readInverseCoefficients(e,r){const{inverseCoeffX:o,inverseCoeffY:t}=r;if(!o?.length||!t?.length||o.length!==t.length)return null;const s=[];for(let i=0;i<o.length;i++)s.push(o[i]),s.push(t[i]);return s}writeInverseCoefficients(e,r,o){const t=[],s=[];for(let i=0;i<e?.length;i++)i%2==0?t.push(e[i]):s.push(e[i]);r.inverseCoeffX=t,r.inverseCoeffY=s}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(e){if("point"===e.type){const r=a(this.forwardCoefficients,e,this.polynomialOrder);return new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .A({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if("point"===e.type){const r=a(this.inverseCoefficients,e,this.polynomialOrder);return new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .A({x:r.x,y:r.y,spatialReference:e.spatialReference})}return c(this.inverseCoefficients,e,this.polynomialOrder)}clone(){return new p({polynomialOrder:this.polynomialOrder,forwardCoefficients:this.forwardCoefficients?[...this.forwardCoefficients]:null,inverseCoefficients:this.inverseCoefficients?[...this.inverseCoefficients]:null})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)({json:{write:!0}})],m.prototype,"polynomialOrder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)()],m.prototype,"forwardCoefficients",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__/* .reader */ .w)("forwardCoefficients",["coeffX","coeffY"])],m.prototype,"readForwardCoefficients",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__/* .writer */ .K)("forwardCoefficients")],m.prototype,"writeForwardCoefficients",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)({json:{write:!0}})],m.prototype,"inverseCoefficients",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_6__/* .reader */ .w)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],m.prototype,"readInverseCoefficients",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_8__/* .writer */ .K)("inverseCoefficients")],m.prototype,"writeInverseCoefficients",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)()],m.prototype,"affectsPixelSize",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_5__/* .enumeration */ .e)({PolynomialXform:"polynomial"})],m.prototype,"type",void 0),m=p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .$)("esri.layers.support.rasterTransforms.PolynomialTransform")],m);


/***/ }),

/***/ 41903:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(93814);
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1817);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22395);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(23572);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(85716);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(26325);
/* harmony import */ var _mixins_VisualVariablesMixin_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(90130);
/* harmony import */ var _support_AuthoringInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(57097);
/* harmony import */ var _support_RendererLegendOptions_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(94838);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var d;const h=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__/* .JSONMap */ .J({flow_from:"flow-from",flow_to:"flow-to"});let c=d=class extends((0,_mixins_VisualVariablesMixin_js__WEBPACK_IMPORTED_MODULE_10__/* .VisualVariablesMixin */ .h)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)){constructor(o){super(o),this.density=.8,this.color=new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([255,255,255,1]),this.maxPathLength=200,this.trailWidth=1.5,this.flowSpeed=10,this.trailLength=100,this.smoothing=0,this.flowRepresentation="flow-from",this.type="flow",this.authoringInfo=null,this.legendOptions=null,this.trailCap="butt",this.background="none"}clone(){const{density:o,maxPathLength:t,trailWidth:e,flowSpeed:r,trailLength:i,smoothing:s,flowRepresentation:n,trailCap:p,background:a}=this,l=this.color.clone(),m=(this.visualVariables||[]).map((o=>o.clone())),h=this.authoringInfo?.clone(),c=this.legendOptions?.clone();return new d({density:o,color:l,maxPathLength:t,trailWidth:e,flowSpeed:r,trailLength:i,trailCap:p,background:a,smoothing:s,flowRepresentation:n,visualVariables:m,authoringInfo:h,legendOptions:c})}getSymbol(o,t){}async getSymbolAsync(o,t){}getSymbols(){return[]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Number,json:{write:!0}})],c.prototype,"density",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,json:{write:{allowNull:!0}}})],c.prototype,"color",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Number,cast:_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .toPt */ .cr,json:{write:!0}})],c.prototype,"maxPathLength",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Number,cast:_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .toPt */ .cr,json:{write:!0}})],c.prototype,"trailWidth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Number,json:{write:!0}})],c.prototype,"flowSpeed",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Number,json:{write:!0}})],c.prototype,"trailLength",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:Number,cast:_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .toPt */ .cr,json:{write:!1}})],c.prototype,"smoothing",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:h.apiValues,json:{type:h.jsonValues,read:{reader:h.read},write:{writer:h.write}}})],c.prototype,"flowRepresentation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_8__/* .enumeration */ .e)({flowRenderer:"flow"})],c.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_support_AuthoringInfo_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A,json:{write:!0}})],c.prototype,"authoringInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_support_RendererLegendOptions_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A,json:{write:!0}})],c.prototype,"legendOptions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:String,json:{write:!0}})],c.prototype,"trailCap",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:String,json:{write:!0}})],c.prototype,"background",void 0),c=d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__/* .subclass */ .$)("esri.renderers.FlowRenderer")],c);


/***/ }),

/***/ 6400:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ m)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(22395);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(85716);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/Color.js
var Color = __webpack_require__(93814);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(8636);
;// ./node_modules/@arcgis/core/renderers/support/ColormapInfo.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let i=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.value=null,this.label=null,this.color=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:{isRequired:!0}}})],i.prototype,"value",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],i.prototype,"label",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Color/* default */.A,json:{type:[ensureType/* Integer */.jz],write:{isRequired:!0}}})],i.prototype,"color",void 0),i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.renderers.support.ColormapInfo")],i);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/colorRampUtils.js
var colorRampUtils = __webpack_require__(16976);
;// ./node_modules/@arcgis/core/renderers/RasterColormapRenderer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var c;let m=c=class extends JSONSupport/* default */.A{constructor(o){super(o),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(o,r){if(!o)return null;const e=5===o[0].length,t=[...o].sort(((o,r)=>o[0]-r[0])).map((o=>i.fromJSON({value:o[0],color:e?o.slice(1,5):o.slice(1,4).concat([255]),label:r?r[o[0]]??"":o[0]})));return new c({colormapInfos:t})}static createFromColorramp(o){const r=(0,colorRampUtils/* convertColorRampToColormap */.R8)(o);return c.createFromColormap(r)}clone(){return new c({colormapInfos:this.colormapInfos.map((o=>o.toJSON()))})}extractColormap(){return this.colormapInfos.map((({value:o,color:r})=>[o,r.r,r.g,r.b,r.a>1?r.a:255*r.a&255])).sort(((o,r)=>o[0]-r[0]))}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:[i],json:{write:{isRequired:!0}}})],m.prototype,"colormapInfos",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({rasterColormap:"raster-colormap"}),(0,property/* property */.MZ)({json:{write:{isRequired:!0}}})],m.prototype,"type",void 0),m=c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.renderers.RasterColormapRenderer")],m);


/***/ }),

/***/ 51020:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15565);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(85716);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(25376);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(26325);
/* harmony import */ var _rest_support_colorRamps_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(16506);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var d;let c=d=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(e){super(e),this.altitude=45,this.azimuth=315,this.colorRamp=null,this.hillshadeType="traditional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.scalingType="none",this.type="raster-shaded-relief",this.zFactor=1}readColorRamp(e){return (0,_rest_support_colorRamps_js__WEBPACK_IMPORTED_MODULE_9__/* .fromJSON */ .r)(e)}clone(){return new d({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)(this.colorRamp)})}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:{isRequired:!0}}})],c.prototype,"altitude",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:{isRequired:!0}}})],c.prototype,"azimuth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({types:_rest_support_colorRamps_js__WEBPACK_IMPORTED_MODULE_9__/* .types */ .g,json:{write:!0}})],c.prototype,"colorRamp",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__/* .reader */ .w)("colorRamp")],c.prototype,"readColorRamp",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:["traditional","multi-directional"],json:{write:{isRequired:!0}}})],c.prototype,"hillshadeType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],c.prototype,"pixelSizePower",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],c.prototype,"pixelSizeFactor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:["none","adjusted"],json:{write:{isRequired:!0}}})],c.prototype,"scalingType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__/* .enumeration */ .e)({rasterShadedRelief:"raster-shaded-relief"}),(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({json:{write:{isRequired:!0}}})],c.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:{isRequired:!0}}})],c.prototype,"zFactor",void 0),c=d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__/* .subclass */ .$)("esri.renderers.RasterShadedReliefRenderer")],c);


/***/ }),

/***/ 89847:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61090);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(15565);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6273);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(85716);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(25376);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(26325);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(48524);
/* harmony import */ var _support_stretchRendererUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(75951);
/* harmony import */ var _rest_support_colorRamps_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(16506);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var l;let y=l=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A{constructor(t){super(t),this.colorRamp=null,this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.maxPercent=null,this.minPercent=null,this.numberOfStandardDeviations=null,this.outputMax=null,this.outputMin=null,this.sigmoidStrengthLevel=null,this.histograms=null,this.useGamma=!1,this.stretchType="none",this.type="raster-stretch"}readColorRamp(t){if(t)return (0,_rest_support_colorRamps_js__WEBPACK_IMPORTED_MODULE_12__/* .fromJSON */ .r)(t)}get statistics(){return this._get("statistics")}set statistics(t){(0,_core_deprecate_js__WEBPACK_IMPORTED_MODULE_1__/* .deprecatedProperty */ .Lx)(_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this),"statistics",{replacement:"customStatistics",version:"4.31",warnOnce:!0}),this._set("statistics",t)}get customStatistics(){const t=this.statistics;return t&&Array.isArray(t[0])?t.map((t=>({min:t[0],max:t[1],avg:t[2],stddev:t[3]}))):t}set customStatistics(t){this._set("statistics",t?.map((t=>[t.min,t.max,t.avg??0,t.stddev??1])))}readCustomStatistics(t){return t?.map((t=>({min:t[0],max:t[1],avg:t[2],stddev:t[3]})))}writeCustomStatistics(t,e,r){t?.length&&(e[r]=t.map((t=>[t.min,t.max,t.avg??0,t.stddev??1])))}readStretchType(t,e){let r=e.stretchType;return"number"==typeof r&&(r=_support_stretchRendererUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .stretchTypeFunctionEnum */ .x[r]),_support_stretchRendererUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .stretchTypeJSONDict */ .u.read(r)}clone(){const t=new l({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,gamma:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.colorRamp),histograms:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment});return t._set("statistics",(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(this.statistics)),t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({types:_rest_support_colorRamps_js__WEBPACK_IMPORTED_MODULE_12__/* .types */ .g,json:{write:!0}})],y.prototype,"colorRamp",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__/* .reader */ .w)("colorRamp")],y.prototype,"readColorRamp",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Boolean,json:{write:!0}})],y.prototype,"computeGamma",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],y.prototype,"dynamicRangeAdjustment",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:[Number],json:{write:!0}})],y.prototype,"gamma",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Number,json:{write:!0}})],y.prototype,"maxPercent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Number,json:{write:!0}})],y.prototype,"minPercent",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Number,json:{write:!0}})],y.prototype,"numberOfStandardDeviations",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],y.prototype,"outputMax",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],y.prototype,"outputMin",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Number,json:{write:!0}})],y.prototype,"sigmoidStrengthLevel",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({})],y.prototype,"statistics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],y.prototype,"histograms",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({json:{type:[[Number]],name:"statistics",write:!0}})],y.prototype,"customStatistics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__/* .reader */ .w)("customStatistics")],y.prototype,"readCustomStatistics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_10__/* .writer */ .K)("customStatistics")],y.prototype,"writeCustomStatistics",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:Boolean,json:{write:!0}})],y.prototype,"useGamma",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)({type:_support_stretchRendererUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .stretchTypeJSONDict */ .u.apiValues,json:{type:_support_stretchRendererUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .stretchTypeJSONDict */ .u.jsonValues,write:_support_stretchRendererUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .stretchTypeJSONDict */ .u.write}})],y.prototype,"stretchType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_8__/* .reader */ .w)("stretchType",["stretchType"])],y.prototype,"readStretchType",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_7__/* .enumeration */ .e)({rasterStretch:"raster-stretch"})],y.prototype,"type",void 0),y=l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__/* .subclass */ .$)("esri.renderers.RasterStretchRenderer")],y);


/***/ }),

/***/ 86248:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ b)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(93814);
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(20857);
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1817);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(15565);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(85716);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(25376);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(30214);
/* harmony import */ var _geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(43861);
/* harmony import */ var _layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(20503);
/* harmony import */ var _ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(42957);
/* harmony import */ var _mixins_VisualVariablesMixin_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(90130);
/* harmony import */ var _support_ClassBreakInfo_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(89179);
/* harmony import */ var _visualVariables_RotationVariable_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(8112);
/* harmony import */ var _visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(55207);
/* harmony import */ var _visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(37525);
/* harmony import */ var _symbols_PictureMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(11455);
/* harmony import */ var _symbols_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(3527);
/* harmony import */ var _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(68231);
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(24461);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var S;const z=new Set(["esriMetersPerSecond","esriKilometersPerHour","esriKnots","esriFeetPerSecond","esriMilesPerHour"]),u=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_3__/* .JSONMap */ .J({beaufort_ft:"beaufort-ft",beaufort_km:"beaufort-km",beaufort_kn:"beaufort-kn",beaufort_m:"beaufort-m",beaufort_mi:"beaufort-mi",classified_arrow:"classified-arrow",ocean_current_kn:"ocean-current-kn",ocean_current_m:"ocean-current-m",simple_scalar:"simple-scalar",single_arrow:"single-arrow",wind_speed:"wind-barb"}),Z=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_3__/* .JSONMap */ .J({flow_from:"flow-from",flow_to:"flow-to"});let b=S=class extends((0,_mixins_VisualVariablesMixin_js__WEBPACK_IMPORTED_MODULE_16__/* .VisualVariablesMixin */ .h)(_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A)){constructor(e){super(e),this.attributeField="Magnitude",this.flowRepresentation="flow-from",this.rotationType="arithmetic",this.style="single-arrow",this.symbolTileSize=50,this.type="vector-field"}readInputUnit(e,M){return z.has(e)?_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.fromJSON(e):null}readOutputUnit(e,M){return z.has(e)?_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.fromJSON(e):null}get styleRenderer(){const e=this.style,M=this.attributeField,i=this._createStyleRenderer(e);return i.field=M,i}get sizeVariables(){const e=[];if(this.visualVariables)for(const M of this.visualVariables)"size"===M.type&&e.push(M);if(0===e.length){const M=new _visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A({field:"Magnitude",minSize:.2*this.symbolTileSize,maxSize:.8*this.symbolTileSize});this.visualVariables?this.visualVariables.push(M):this._set("visualVariables",[M]),e.push(M)}return e}get rotationVariables(){const e=[];if(this.visualVariables)for(const M of this.visualVariables)"rotation"===M.type&&e.push(M);if(0===e.length){const M=new _visualVariables_RotationVariable_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .A({field:"Direction",rotationType:this.rotationType});this.visualVariables?this.visualVariables.push(M):this._set("visualVariables",[M]),e.push(M)}return e}clone(){return new S({attributeField:this.attributeField,flowRepresentation:this.flowRepresentation,rotationType:this.rotationType,symbolTileSize:this.symbolTileSize,style:this.style,visualVariables:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_5__/* .clone */ .o8)(this.visualVariables),inputUnit:this.inputUnit,outputUnit:this.outputUnit})}async getGraphicsFromPixelData(e,M=!1,a=[]){const t=new Array,I=(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .getUnitConversionFactor */ .KL)(this.inputUnit,this.outputUnit),r=this.rotationVariables[0]?.rotationType||this.rotationType,g=M?(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .convertVectorFieldData */ .FI)(e.pixelBlock,"vector-uv",r,I):(0,_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .convertVectorFieldUnit */ .Rn)(e.pixelBlock,"vector-magdir",I);if(null==g)return t;const o=e.extent,A=null!=g.mask&&g.mask.length>0;let l=0;const w=(o.xmax-o.xmin)/g.width,y=(o.ymax-o.ymin)/g.height;for(let n=0;n<g.height;n++)for(let e=0;e<g.width;e++,l++){let M=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A({x:o.xmin+e*w+w/2,y:o.ymax-n*y-y/2,spatialReference:o.spatialReference});M=(await (0,_geometry_support_normalizeUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .normalizeCentralMeridian */ .el)(M))[0];const I=a.some((e=>e.intersects(M)));if((!A||g.mask[l])&&!I){const e={Magnitude:g.pixels[0][l],Direction:g.pixels[1][l]},a=new _Graphic_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({geometry:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A({x:M.x,y:M.y,spatialReference:o.spatialReference}),attributes:e});a.symbol=this._getVisualVariablesAppliedSymbol(a),t.push(a)}}return t}getSymbol(e,M){}async getSymbolAsync(e,M){}getSymbols(){return[]}getClassBreakInfos(){return this.styleRenderer?.classBreakInfos}getDefaultSymbol(){return this.styleRenderer?.defaultSymbol}_getDefaultSymbol(e){return new _symbols_SimpleMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_23__/* ["default"] */ .A({path:"M14,32 14,18 9,23 16,3 22,23 17,18 17,32 z",outline:new _symbols_SimpleLineSymbol_js__WEBPACK_IMPORTED_MODULE_22__/* ["default"] */ .A({width:0}),size:20,color:e||new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([0,92,230])})}_getVisualVariablesAppliedSymbol(e){if(!e)return;const M=this.styleRenderer?.getSymbol(e)?.clone(),i=this.sizeVariables,a=this.rotationVariables;if(i&&i.length&&this.sizeVariables.forEach((i=>(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_24__/* .applySizesToSymbol */ .UQ)(M,(0,_visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_20__/* .getAllSizes */ .Yz)([i],e)))),a&&a.length){const i="flow-to"===this.flowRepresentation===("ocean-current-kn"===this.style||"ocean-current-m"===this.style)?0:180;e.attributes.Direction=e.attributes.Direction+i,this.rotationVariables.forEach((i=>(0,_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_24__/* .applyRotationToSymbol */ .GG)(M,(0,_visualVariables_support_visualVariableUtils_js__WEBPACK_IMPORTED_MODULE_20__/* .getRotationAngle */ .UT)(i,e),i.axis)))}return M}_createStyleRenderer(e){let M={defaultSymbol:this._getDefaultSymbol(),classBreakInfos:[]};switch(e){case"single-arrow":M=this._createSingleArrowRenderer();break;case"beaufort-kn":M=this._createBeaufortKnotsRenderer();break;case"beaufort-m":M=this._createBeaufortMeterRenderer();break;case"beaufort-ft":M=this._createBeaufortFeetRenderer();break;case"beaufort-mi":M=this._createBeaufortMilesRenderer();break;case"beaufort-km":M=this._createBeaufortKilometersRenderer();break;case"ocean-current-m":M=this._createCurrentMeterRenderer();break;case"ocean-current-kn":M=this._createCurrentKnotsRenderer();break;case"simple-scalar":M=this._createSimpleScalarRenderer();break;case"wind-barb":M=this._createWindBarbsRenderer();break;case"classified-arrow":M=this._createClassifiedArrowRenderer()}return new _ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .A(M)}_createSingleArrowRenderer(){return{defaultSymbol:this._getDefaultSymbol()}}_createBeaufortKnotsRenderer(){const e=[0,1,3,6,10,16,21,27,33,40,47,55,63],i=[[40,146,199],[89,162,186],[129,179,171],[160,194,155],[191,212,138],[218,230,119],[250,250,100],[252,213,83],[252,179,102],[250,141,52],[247,110,42],[240,71,29]];return{defaultSymbol:this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([214,47,39])),classBreakInfos:this._getClassBreaks(e,i)}}_createBeaufortMeterRenderer(){const e=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7],i=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]];return{defaultSymbol:this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([214,47,39])),classBreakInfos:this._getClassBreaks(e,i)}}_createBeaufortFeetRenderer(){const e=this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([214,47,39]));let i=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const a=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],t=3.28084;i=i.map((e=>e*t));return{defaultSymbol:e,classBreakInfos:this._getClassBreaks(i,a)}}_createBeaufortMilesRenderer(){const e=this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([214,47,39]));let i=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const a=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],t=2.23694;i=i.map((e=>e*t));return{defaultSymbol:e,classBreakInfos:this._getClassBreaks(i,a)}}_createBeaufortKilometersRenderer(){const e=this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([214,47,39]));let i=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];const a=[[69,117,181],[101,137,184],[132,158,186],[162,180,189],[192,204,190],[222,227,191],[255,255,191],[255,220,161],[250,185,132],[245,152,105],[237,117,81],[232,21,21]],t=3.6;i=i.map((e=>e*t));return{defaultSymbol:e,classBreakInfos:this._getClassBreaks(i,a)}}_createCurrentMeterRenderer(){const e=[0,.5,1,1.5,2],i=[[78,26,153],[179,27,26],[202,128,26],[177,177,177]];return{defaultSymbol:this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([177,177,177])),classBreakInfos:this._getClassBreaks(e,i)}}_createCurrentKnotsRenderer(){const e=[0,.25,.5,1,1.5,2,2.5,3,3.5,4],i=[[0,0,0],[0,37,100],[78,26,153],[151,0,100],[179,27,26],[177,78,26],[202,128,26],[177,179,52],[177,177,177]];return{defaultSymbol:this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([177,177,177])),classBreakInfos:this._getClassBreaks(e,i)}}_createClassifiedArrowRenderer(){const e=this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A([56,168,0]));let i=[0,1e-6,3.5,7,10.5,14];if(this.sizeVariables?.length){const e=this.sizeVariables[0].minDataValue,M=this.sizeVariables[0].maxDataValue;if(e&&M){const a=(M-e)/5;i=Array.from(Array(6).keys()).map((M=>e+a*M))}}const a=[[56,168,0],[139,309,0],[255,255,0],[255,128,0],[255,0,0]];return{defaultSymbol:e,classBreakInfos:this._getClassBreaks(i,a)}}_createSimpleScalarRenderer(){return{defaultSymbol:_symbols_PictureMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .A.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAQAAABLVLlLAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAABIAAAASABGyWs+AAAC3ElEQVRIx9XXvW4cVRQH8N982btpsIREJECyiCXsxX4DKh6AliqGKCBBE2SlwlHgAbBD/AKmyEYUeQ1KahPZSZQvBCkQLTHZ7KGY8Xodz4w3a1NwbzVzz/znfJ//zbStVC5q3icKak9GAs2QIdDx3PtW/S011NW3p+M5Eomh11ipTIKe6+4LQzHaQ+G+63pIZNJJQXMpljwTwj1brpgx5w1zZlyx5Z4QnllEIm2xeeSUHBf0hV0bejo1Uh09G3aFvgXk7cCJFBc9EdaRVuHJJaOdKyTV2TVhYLMduNR0Q9gxL5GaaTDw8GzejrDRBpxWoGsySRW0dttKuattwNkIlFw2YXgzOdYq4Ox49PlM+JrKd5OusjTWhBuVxUfMX/KXXZ3WEmkuqa67wspR4BTbwtKr/5u4fFgStse/T7EifFPnnYl9zPq4vmUOPrRndgoHjDti1gOPqlyXoifcRNGQzUd31lDyfHmob1Gp35vSr+P6vilcQ5Egtyd8YF/ySg9NhPM+9M/IOaHwp5+PSZayXTvCogEUwlatC3J8LLwYtcWB8EuDXQVuCkV5/B4eNHb7wGBs87LBDS+xjdVSn09wq1G8dFM+9tSUhIGneLvUdniKxKpTYljCpu3j7rVWlHj/P23v4NPGUEyeCQnexe9lJjzEQqMjJs+EzNAX6B98dBZVRmroJx95x/A/6gln18EyfCUsl+qdXb/tjvfbw+mwforpUOBz4XLVoBwAn3aWnfeH246NyBXhrq7TTN5lNSP9RkU+puUJm3W2Tsdq0nZWM07srk7MwQrZSRysjjGWBLRJNsNbfj2JMR4AbxpU1XLAb9Mxfpsq5EjMuuiR8L0JiHOOBX3hiUvOmavN0nMueSzcceFk0BK4pMqLo7vDD1Z0qrtDx7Itt4Xwm9UqbMmk8S0Dtuzb2pvOU99Z1nLTOfleNmvfZfP2pYZmPfajwosKdDBNpacNpVGGsWX9CyDI8Xq/Sj6QAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTExLTEwVDAzOjE3OjU4LTA1OjAwF+tHyQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0xMS0xMFQwMzoxNzo1OC0wNTowMGa2/3UAAAAASUVORK5CYII=",height:20,width:20,type:"esriPMS",angle:0})}}_createWindBarbsRenderer(){const e=Array.from(Array(31).keys()).map((e=>5*e)),M=[{range:"0-5",path:"M20 20 M5 20 A15 15 0 1 0 35 20 A15 15 0 1 0 5 20 M20 20 M10 20 A10 10 0 1 0 30 20 A10 10 0 1 0 10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTIwIDIwIE01IDIwIEExNSAxNSAwIDEgMCAzNSAyMCBBMTUgMTUgMCAxIDAgNSAyMCBNMjAgMjAgTTEwIDIwIEExMCAxMCAwIDEgMCAzMCAyMCBBMTAgMTAgMCAxIDAgMTAgMjAiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"5-10",path:"M25 0 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"10-15",path:"M25 0 L25 40 L10 45 L25 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNyA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"15-20",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L17.5 37.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjEyIDAgMTUgNDUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxNy41IDM3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"20-25",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"25-30",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjkgMCAyNiA0NiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjUgMCBMMjUgNDAgTDEwIDQ1IEwyNSA0MCBNMjUgMzUgTDEwIDQwIEwyNSAzNSBNMjUgMzAgTDE3LjUgMzIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"30-35",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"35-40",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"40-45",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"45-50",path:"M25 0 L25 40 L10 45 L25 40 M25 35 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0NiI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0NSBMMjUgNDAgTTI1IDM1IEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"50-55",path:"M25 0 L25 40 L10 40 L25 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"55-60",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L17.5 32.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxNy41IDMyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"60-65",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"65-70",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxNy41IDI3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"70-75",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"75-80",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxNy41IDIyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"80-85",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"85-90",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxNy41IDE3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"90-95",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"95-100",path:"M25 0 L25 40 L10 40 L25 35 M25 30 L10 35 L25 30 M25 25 L10 30 L25 25 M25 20 L10 25 L25 20 M25 15 L10 20 L25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTTI1IDMwIEwxMCAzNSBMMjUgMzAgTTI1IDI1IEwxMCAzMCBMMjUgMjUgTTI1IDIwIEwxMCAyNSBMMjUgMjAgTTI1IDE1IEwxMCAyMCBMMjUgMTUgTTI1IDEwIEwxNy41IDEyLjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="},{range:"100-105",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMnB4IiBoZWlnaHQ9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"105-110",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L17.5 27.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDE3LjUgMjcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"110-115",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"115-120",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L17.5 22.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDE3LjUgMjIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"120-125",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"125-130",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L17.5 17.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDE3LjUgMTcuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"130-135",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"135-140",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDE3LjUgMTIuNSIgc3R5bGU9InN0cm9rZTpyZ2IoMCwwLDApO3N0cm9rZS13aWR0aDoxLjUiLz4KIDwvc3ZnPg=="},{range:"140-145",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IiBzdHlsZT0ic3Ryb2tlOnJnYigwLDAsMCk7c3Ryb2tlLXdpZHRoOjEuNSIvPgogPC9zdmc+"},{range:"145-150",path:"M25 0 L25 40 L10 40 L25 35 L10 35 L25 30 M25 25 L10 30 M25 25 M25 20 L10 25 M25 20 M25 15 L10 20 M25 15 M25 10 L17.5 12.5",imageData:"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMzJweCIgd2lkdGg9IjMycHgiIHZpZXdCb3g9IjkgMCAyNiA0MSI+CiAgPHBhdGggZD0iTTI1IDAgTDI1IDQwIEwxMCA0MCBMMjUgMzUgTDEwIDM1IEwyNSAzMCBNMjUgMjUgTDEwIDMwIE0yNSAyNSBNMjUgMjAgTDEwIDI1IE0yNSAyMCBNMjUgMTUgTDEwIDIwIE0yNSAxNSBNMjUgMTAgTDEwIDE1IE0yNSAxMCBNMjUgNSBMMTcuNSA3LjUiIHN0eWxlPSJzdHJva2U6cmdiKDAsMCwwKTtzdHJva2Utd2lkdGg6MS41Ii8+CiA8L3N2Zz4="}],i=_symbols_PictureMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .A.fromJSON({imageData:"iVBORw0KGgoAAAANSUhEUgAAACgAAAApCAQAAADtq6NDAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAJiS0dEAP+Hj8y/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAEY0lEQVRIx5XXWWxWRRQH8N+d+31tUdGAVjGglYJABFEBY91jfDAg7piYaFTccA++uMQEFRcSXlATtxiXqMQt4G4iisYl0ai4sIQYtVFZ1KIFKdTS0l4f7vRCS5fPebozc+bM/2z/Mzcx0AgSiUxXnKfIdMn875FIhX53U2n/B/s+kKM4UINTjTBZImixxnrv+9a2iL6zEoUBXcoudrWj/OtHm3wt02lfU9Qao9OnHvIhgmww84MEl1qnxfNmGrqHxAizLdPpC6chGcAxKGGcL+30gOERf1BSpUqVslQSV8d5ReZFe8VQ9avufJn31cWwlJV7iafKStGOE/1qvfH9qUxxu8ydUdmuSKbGO8YUdT2inKLG69pM70tliktl5qIkCAJGmusDG7Vqsc0WjZa4UBlBiA5YZIcjYzB7qDtH5kaUJFLs7RGZTZ42W4PRRmtwvbdt1+wGiaS4drEtDttdZYIDNVuAclR3vA3+dI3qHqmVSy7U6Tv1MScCPvPR7nIpFlsdCy3FdTLPGhK92e2CUITjMJ9ocwKxnsZqc3O3JwMma3d6UVLnyVxB4aXemZqvPqLdpJhW3KVVbY4yYImPo6M5Urv50fj+0z/FG9YaEiENs8UtMfXUaTeTePNHlhXfA1UU+2lyD1Il3Gtt9+adfpNG7dNlpg2U/T3KYLZ2dUWFdTgp3/rQ4sK973qnInV5TIf40x3dhvrJPBiqyWUo4wAtLqhQYS71qK+QKOFRywmGK/kpikzV6WMKhh58vGWs4TIJNjiEYLIuP8Tt4/zmLyqk+AyrJSbF+Qq1DgqRUPMxyl+9q3IQhX/rMCJ6tEunriDs1oSyQZKlr9AkhT2ZIARbJfaJS1vtVbHB+Rgi0RK/y1q1BWsEEyLoz40xtGKcARPVWB1BTPO7f4LNtpkUl1aoMbViLyZo0GRjPD3BxnxjqXeLYlvhqYrzMMG3HoyJXa3JjfnGlbYYFlP7Jh3qKsKY4hQ7TY0nG+xwRL61n63mxHtqNHosigyMLmClNwvuecFnOZB88nNBDzNkzhxEZaKMBVoKapggMzvHHXBEpNSSFAvtcFRsVn0bW8LlMmcXs+c0Kne3gRR32+zg4uXwjC6zit6Wt4a8LXVfcp/MtQXHn2ynGbuCmb8GvvFeJLEE82ReU9/n6+dkq2x3buG9Wn94smcgAw631RPR7BTH+kbmHReZoEpOdEe7zWqZl40s0JWs9Hmv7hjBHqPDwsjGKVJnWWqjbdZp1KhJi0aPmxYZsIRhlttgeF+Jlke41QcOQKoqilSb6HJzSvNG3G/UoWnxwsmt+sVaYwd63dRbqdnMyCPVeyRPvpYgdavM22oGKoMUVRbJfOWMwidJ8Zzb1UvmWK/VVUXzHaTjjrVYh1897HT7xxYEVUaa5SWb/WO+YUWa9SrwvigzM8YlzlYv2GSdVCYxxlBtVnnFq5olwp5/BEk/OLsf5LUmG2+inRJdVvjZ97ZH9/zP34ug1O91pf4p+D+JYBpvrKxfbwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNC0xMS0xMFQwMzoxMjowOS0wNTowMB9ViV0AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTQtMTEtMTBUMDM6MTI6MDktMDU6MDBuCDHhAAAAAElFTkSuQmCC",height:20,width:20,type:"esriPMS",angle:0}),a=e.map(((a,t)=>{let I;if(t!==e.length-1)if(0===t)I={minValue:a,maxValue:e[t+1],symbol:i};else{const i=_symbols_PictureMarkerSymbol_js__WEBPACK_IMPORTED_MODULE_21__/* ["default"] */ .A.fromJSON({type:"esriPMS",imageData:M[t].imageData,contentType:"image/svg+xml",height:32,width:32,angle:0});I={minValue:a,maxValue:e[t+1],symbol:i}}return new _support_ClassBreakInfo_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .A(I)}));return{defaultSymbol:i,classBreakInfos:a}}_getClassBreaks(e,i){return i.map(((i,a)=>new _support_ClassBreakInfo_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .A({minValue:e[a],maxValue:e[a+1],symbol:this._getDefaultSymbol(new _Color_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A(i))})))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:["Magnitude"],json:{write:!0}})],b.prototype,"attributeField",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:Z.apiValues,json:{type:Z.jsonValues,read:{reader:Z.read},write:{writer:Z.write}}})],b.prototype,"flowRepresentation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:["geographic","arithmetic"],json:{write:!0}})],b.prototype,"rotationType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:u.apiValues,json:{type:u.jsonValues,read:{reader:u.read},write:{writer:u.write}}})],b.prototype,"style",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({json:{write:!0}})],b.prototype,"symbolTileSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.apiValues,json:{type:_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.jsonValues,write:{writer:_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.write}}})],b.prototype,"inputUnit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__/* .reader */ .w)("inputUnit")],b.prototype,"readInputUnit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.apiValues,json:{type:_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.jsonValues,read:{reader:_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.read},write:{writer:_layers_support_rasterFunctions_vectorFieldUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .unitKebabDict */ .MD.write}}})],b.prototype,"outputUnit",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_10__/* .reader */ .w)("outputUnit")],b.prototype,"readOutputUnit",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_9__/* .enumeration */ .e)({vectorField:"vector-field"})],b.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .A})],b.prototype,"styleRenderer",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:_visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A})],b.prototype,"sizeVariables",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__/* .property */ .MZ)({type:_visualVariables_RotationVariable_js__WEBPACK_IMPORTED_MODULE_18__/* ["default"] */ .A})],b.prototype,"rotationVariables",null),b=S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__/* .subclass */ .$)("esri.renderers.VectorFieldRenderer")],b);


/***/ }),

/***/ 45501:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6273);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22395);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(81482);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _layers_support_RasterInfo_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(22687);
/* harmony import */ var _layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(86924);
/* harmony import */ var _layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(77691);
/* harmony import */ var _layers_support_rasterFunctions_surfaceUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(95617);
/* harmony import */ var _colorRampUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(16976);
/* harmony import */ var _rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(46415);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let _=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A{constructor(e){super(e),this.lookup={rendererJSON:{}},this.canRenderInWebGL=!1}bind(){const{rendererJSON:e}=this;if(!e)return{success:!1};let r;switch(this.lookup={rendererJSON:{}},e.type){case"uniqueValue":r=this._updateUVRenderer(e);break;case"rasterColormap":r=this._updateColormapRenderer(e);break;case"rasterStretch":r=this._updateStretchRenderer(e);break;case"classBreaks":r=this._updateClassBreaksRenderer(e);break;case"rasterShadedRelief":r=this._updateShadedReliefRenderer(e);break;case"vectorField":r=this._updateVectorFieldRenderer();break;case"flowRenderer":r=this._updateFlowRenderer()}return r}symbolize(e){let r=e?.pixelBlock;if(!T(r))return r;if(e.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(r,e.simpleStretchParams);try{let t;switch(r.pixels.length>3&&(r=r.extractBands(e.bandIds??[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":t=this._symbolizeColormap(r);break;case"classBreaks":t=this._symbolizeClassBreaks(r);break;case"rasterStretch":t=this._symbolizeStretch(r,e.bandIds);break;case"rasterShadedRelief":{const s=e.extent,a=s.spatialReference.isGeographic,o={x:(s.xmax-s.xmin)/r.width,y:(s.ymax-s.ymin)/r.height};t=this._symbolizeShadedRelief(r,{isGCS:a,resolution:o});break}}return t}catch(s){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.getLogger(this).error("symbolize",s.message),r}}simpleStretch(e,r){if(!T(e))return e;try{return e.pixels.length>3&&(e=e.extractBands([0,1,2])),(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .stretch */ ._N)(e,{...r,isRenderer:!0})}catch(s){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.getLogger(this).error("symbolize",s.message),e}}generateWebGLParameters(e){const{rendererJSON:r}=this;switch(r.type){case"uniqueValue":case"rasterColormap":case"classBreaks":return this._generateColormapWebGLParams("classBreaks"===r.type);case"rasterStretch":return this._generateStretchWebGLParams(e.pixelBlock,r,e.bandIds);case"rasterShadedRelief":return this._generateShadedReliefWebGLParams(r,e.isGCS,e.resolution??void 0);case"vectorField":return this._generateVectorFieldWebGLParams(r);default:return null}}_isLUTChanged(e){const r=this.lookup.rendererJSON;if(!r)return!0;const{rendererJSON:t}=this;if("colorRamp"in t&&t.colorRamp){const s=t.colorRamp;if(e)return JSON.stringify(s)!==JSON.stringify(r.colorRamp)}return JSON.stringify(t)!==JSON.stringify(r)}_symbolizeColormap(e){if(this._isLUTChanged()){if(!this.bind().success)return e}return (0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .colorize */ .qL)(e,this.lookup.colormapLut)}_symbolizeClassBreaks(e){const{canUseIndexedLUT:r}=this._analyzeClassBreaks(this.rendererJSON);if(this._isLUTChanged()){if(!this.bind().success)return e}return r?(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .colorize */ .qL)(e,this.lookup.colormapLut):(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .remapColor */ .Hx)(e,this.lookup.remapLut??[])}_symbolizeStretch(e,r){if(!e)return null;const{rasterInfo:t,lookup:s}=this,{pixelType:a,bandCount:o}=t,i=this.rendererJSON,u=["u8","u16","s8","s16"].includes(a);let c;const{dra:f}=i,{gamma:b}=s;if("histogramEqualization"===i.stretchType){const a=f?null:s.histogramLut,o=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getStretchCutoff */ .DP)(i,{rasterInfo:t,pixelBlock:e,bandIds:r,returnHistogramLut:!a}),n="u8"===t.pixelType&&!f&&(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .isStandardU8Histogram */ .zt)(t.histograms?.[0])?e:(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .stretch */ ._N)(e,{...o,gamma:b,isRenderer:!0});c=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .lookupPixels */ .eH)(n,{lut:f?o.histogramLut:r?.length?r.map((e=>a[e])):a,offset:0})}else if(u){let n;if(f){const s=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getStretchCutoff */ .DP)(i,{rasterInfo:t,pixelBlock:e,bandIds:r});n=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .createStretchLUT */ .RP)({pixelType:a,...s,gamma:b,rounding:"floor"})}else{if(this._isLUTChanged()){if(!this.bind().success)return e}n=s.stretchLut}if(!n)return e;o>1&&null!=r&&r.length===e?.pixels.length&&n.lut.length===o&&(n={lut:r.map((e=>n.lut[e])),offset:n.offset}),c=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .lookupPixels */ .eH)(e,n)}else{const s=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getStretchCutoff */ .DP)(i,{rasterInfo:t,pixelBlock:e,bandIds:r});c=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .stretch */ ._N)(e,{...s,gamma:b,isRenderer:!0})}if(i.colorRamp){if(this._isLUTChanged(!0)){if(!this.bind().success)return e}c=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .colorize */ .qL)(c,s.colormapLut)}return c}_symbolizeShadedRelief(e,r){const t=this.rendererJSON,s={...t,...r},a=(0,_layers_support_rasterFunctions_surfaceUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .hillshade */ .fw)(e,s);if(!t.colorRamp)return a;if(this._isLUTChanged(!0)){if(!this.bind().success)return a}const{hsvMap:o}=this.lookup;if(!o)return a;const n=this.rasterInfo.statistics?.[0]??{min:0,max:8e3};return (0,_layers_support_rasterFunctions_surfaceUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .tintHillshade */ .SC)(a,e,o,n),a}_isVectorFieldData(){const{bandCount:e,dataType:r}=this.rasterInfo;return 2===e&&("vector-magdir"===r||"vector-uv"===r)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(e){const{bandCount:r,attributeTable:t,pixelType:s}=this.rasterInfo,a=e.field1;if(!a)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const o=e.defaultSymbol,n=1===r&&["u8","s8"].includes(s);if(!(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_12__/* .isUVRendererSupported */ .hu)(this.rasterInfo,a)&&!n)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const i=[];if(null!=t){const r=t.fields.find((e=>"value"===e.name.toLowerCase()));if(!r)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};t.features.forEach((t=>{const s=e.uniqueValueInfos?.find((e=>String(e.value)===String(t.attributes[a]))),n=s?.symbol?.color;n?i.push([t.attributes[r.name]].concat(n)):o&&i.push([t.attributes[r.name]].concat(o.color))}))}else{if("value"!==a.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not available.'};e.uniqueValueInfos?.forEach((e=>{const r=e?.symbol?.color;r?i.push([parseInt(""+e.value,10)].concat(r)):o&&i.push([parseInt(""+e.value,10)].concat(o?.color))}))}if(0===i.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const l=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .createColormapLUT */ .zg)({colormap:i});return this.lookup={rendererJSON:e,colormapLut:l},this.canRenderInWebGL=(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_12__/* .isColormapSupportedByWebGL */ .WN)(l?.indexedColormap),{success:!0}}_updateColormapRenderer(e){if(!(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_12__/* .isColormapRendererSupported */ .FA)(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const r=e.colormapInfos.map((e=>[e.value].concat(e.color))).sort(((e,r)=>e[0]-r[0]));if(!r||0===r.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const t=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .createColormapLUT */ .zg)({colormap:r});return this.lookup={rendererJSON:e,colormapLut:t},this.canRenderInWebGL=(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_12__/* .isColormapSupportedByWebGL */ .WN)(t?.indexedColormap),{success:!0}}_updateShadedReliefRenderer(e){if(!(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_12__/* .isShadedReliefRendererSupported */ .iL)(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(e.colorRamp){const r=(0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .convertColorRampToColormap */ .R8)(e.colorRamp,{interpolateAlpha:!0}),t=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .createColormapLUT */ .zg)({colormap:r}),s=(0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .createHsvMap */ .S2)(t.indexedColormap);this.lookup={rendererJSON:e,colormapLut:t,hsvMap:s}}else this.lookup={rendererJSON:e};return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(e){const{attributeTable:r,pixelType:t}=this.rasterInfo,s=r?.fields.find((e=>"value"===e.name.toLowerCase())),a=r?.fields.find((r=>r.name.toLowerCase()===e.field.toLowerCase())),o=null!=s&&null!==a;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(t)||o,tableValueField:s,tableBreakField:a}}_updateClassBreaksRenderer(e){const{attributeTable:r}=this.rasterInfo,{canUseIndexedLUT:t,tableValueField:s,tableBreakField:a}=this._analyzeClassBreaks(e),o=e.classBreakInfos;if(!o?.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const n=o.sort(((e,r)=>e.classMaxValue-r.classMaxValue)),i=n[n.length-1];let l=e.minValue;if(!t){const r=[];for(let e=0;e<n.length;e++)r.push({value:n[e].classMinValue??l,mappedColor:n[e].symbol.color}),l=n[e].classMaxValue;return r.push({value:i.classMaxValue,mappedColor:i.symbol.color}),this.lookup={rendererJSON:e,remapLut:r},this.canRenderInWebGL=!1,{success:!0}}const c=[];if(null!=r&&null!=s&&null!==a&&s!==a){const t=s.name,o=a.name,i=n[n.length-1],{classMaxValue:u}=i;l=e.minValue;for(const e of r.features){const r=e.attributes[t],s=e.attributes[o],a=s===u?i:s<l?null:n.find((({classMaxValue:e})=>e>s));a&&c.push([r].concat(a.symbol.color))}}else{l=Math.floor(e.minValue);for(let e=0;e<n.length;e++){const r=n[e];for(let e=l;e<r.classMaxValue;e++)c.push([e].concat(r.symbol.color));l=Math.ceil(r.classMaxValue)}i.classMaxValue===l&&c.push([i.classMaxValue].concat(i.symbol.color))}const p=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .createColormapLUT */ .zg)({colormap:c,fillUnspecified:!1});return this.lookup={rendererJSON:e,colormapLut:p},this.canRenderInWebGL=(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_12__/* .isColormapSupportedByWebGL */ .WN)(p?.indexedColormap),{success:!0}}_updateStretchRenderer(e){let{stretchType:r,dra:t}=e;if(!("none"===r||e.statistics?.length||v(this.rasterInfo.statistics)||t))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const s=e.histograms||this.rasterInfo.histograms;!V(e.stretchType)||s?.length||t||(r="minMax");const{computeGamma:a,useGamma:o,colorRamp:n}=e;let{gamma:i}=e;if(o&&a&&!i?.length){const r=e.statistics?.length?e.statistics:this.rasterInfo.statistics;i=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .computeGammaValues */ .fP)(this.rasterInfo.pixelType,r)}const l=this.rasterInfo.pixelType,c=!t&&["u8","u16","s8","s16"].includes(l);if("histogramEqualization"===r){const r=s.map((e=>(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .createHistogramEqualizationLUT */ .WF)(e)));this.lookup={rendererJSON:e,histogramLut:r}}else if(c){const r=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getStretchCutoff */ .DP)(e,{rasterInfo:this.rasterInfo}),t=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .createStretchLUT */ .RP)({pixelType:l,...r,gamma:o?i:null,rounding:"floor"});this.lookup={rendererJSON:e,stretchLut:t}}else this.lookup={rendererJSON:e};if(n&&!O(n)){const r=(0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .convertColorRampToColormap */ .R8)(n,{interpolateAlpha:!0});this.lookup.colormapLut=(0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .createColormapLUT */ .zg)({colormap:r}),this.lookup.rendererJSON=e}return this.lookup.gamma=o&&i?.length?i:null,this.canRenderInWebGL="histogramEqualization"!==r,{success:!0}}_generateColormapWebGLParams(e){const{indexedColormap:r,offset:t}=this.lookup.colormapLut||{};return{colormap:r,colormapOffset:t,isClassBreaks:e,type:"lut"}}_generateStretchWebGLParams(e,r,t){const{colormapLut:s}=this.lookup,a=r.colorRamp?s?.indexedColormap:null,o=r.colorRamp?s?.offset:null;"histogramEqualization"===r.stretchType&&(r={...r,stretchType:"minMax"});const{gamma:n}=this.lookup,i=!(!r.useGamma||!n?.some((e=>1!==e))),{minCutOff:l,maxCutOff:u,minOutput:c,maxOutput:p}=(0,_layers_support_rasterFunctions_stretchUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getStretchCutoff */ .DP)(r,{rasterInfo:this.rasterInfo,pixelBlock:e,bandIds:t});let m=0;null!=e&&(m=e.getPlaneCount(),2===m&&((e=e.clone()).statistics=[e.statistics[0]],e.pixels=[e.pixels[0]]));const{bandCount:h}=this.rasterInfo,f=Math.min(3,t?.length||m||h,h),b=a||i?1:255,g=new Float32Array(f);if(i&&n)for(let d=0;d<f;d++)n[d]>1?n[d]>2?g[d]=6.5+(n[d]-2)**2.5:g[d]=6.5+100*(2-n[d])**4:g[d]=1;1===l.length&&(l[2]=l[1]=l[0]),1===u.length&&(u[2]=u[1]=u[0]);const y=i&&n?[n[0],n[1]??n[0],n[2]??n[0]]:[1,1,1],S=i?[g[0],g[1]??g[0],g[2]??g[0]]:[1,1,1],x=u.map(((e,r)=>u[r]===l[r]?0:(p-c)/(u[r]-l[r])/b));return{bandCount:f,minOutput:c/b,maxOutput:p/b,minCutOff:l,maxCutOff:u,factor:x,useGamma:i,gamma:y,gammaCorrection:S,colormap:a,colormapOffset:o,stretchType:r.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(e,r=!1,t={x:0,y:0}){const{colormapLut:s}=this.lookup,a=e.colorRamp?s?.indexedColormap:null,o=e.colorRamp?s?.offset:null,n={...e,isGCS:r,resolution:t},i=(0,_layers_support_rasterFunctions_surfaceUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .calculateHillshadeParams */ .ng)(n),l=this.rasterInfo.statistics?.[0];return{...i,minValue:l?.min??0,maxValue:l?.max??8e3,hillshadeType:"traditional"===e.hillshadeType?0:1,type:"hillshade",colormap:a,colormapOffset:o}}_generateVectorFieldWebGLParams(e){const{style:r,inputUnit:t,outputUnit:s,visualVariables:a,symbolTileSize:o,flowRepresentation:n}=e,i=this.rasterInfo.statistics?.[0].min??0,l=this.rasterInfo.statistics?.[0].max??50,u=a?.find((e=>"sizeInfo"===e.type))??{maxDataValue:l,maxSize:.8*o,minDataValue:i,minSize:.2*o},c=u.minDataValue??i,p=u.maxDataValue??l,d=null!=u.maxSize&&null!=u.minSize?[u.minSize/o,u.maxSize/o]:[.2,.8];if("wind_speed"===r){const e=(d[0]+d[1])/2;d[0]=d[1]=e}const m=null!=c&&null!=p?[c,p]:null;let h=null;if("classified_arrow"===r)if(null!=c&&null!=p&&null!=u){h=[];const e=(u.maxDataValue-u.minDataValue)/5;for(let r=0;r<6;r++)h.push(u.minDataValue+e*r)}else h=[0,1e-6,3.5,7,10.5,14];const f="flow_to"===n===("ocean_current_kn"===r||"ocean_current_m"===r)?0:Math.PI,b=a?.find((e=>"rotationInfo"===e.type));return{breakValues:h,dataRange:m,inputUnit:t,outputUnit:s,symbolTileSize:o,symbolPercentRange:d,style:r||"single_arrow",rotation:f,rotationType:this.rasterInfo.storageInfo?.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":b?.rotationType||e.rotationType,type:"vectorField"}}};function V(e){return"percentClip"===e||"histogramEqualization"===e}function v(e){return null!=e&&e.length>0&&null!=e[0].min&&null!=e[0].max}function T(e){return (0,_layers_support_rasterFunctions_pixelUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .isValidPixelBlock */ .AB)(e)&&0!==e.validPixelCount}function O(e){return"algorithmic"===e.type&&["0,0,0,255","0,0,0"].includes(e.fromColor.join(","))&&["255,255,255,255","255,255,255"].includes(e.toColor.join(","))}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({json:{write:!0}})],_.prototype,"rendererJSON",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({type:_layers_support_RasterInfo_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,json:{write:!0}})],_.prototype,"rasterInfo",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({json:{write:!0}})],_.prototype,"lookup",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],_.prototype,"canRenderInWebGL",void 0),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.renderers.support.RasterSymbolizer")],_);


/***/ }),

/***/ 16976:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L7: () => (/* binding */ C),
/* harmony export */   M5: () => (/* binding */ d),
/* harmony export */   R8: () => (/* binding */ B),
/* harmony export */   S2: () => (/* binding */ D),
/* harmony export */   hf: () => (/* binding */ A),
/* harmony export */   hs: () => (/* binding */ c),
/* harmony export */   iv: () => (/* binding */ w),
/* harmony export */   kH: () => (/* binding */ a),
/* harmony export */   vL: () => (/* binding */ P),
/* harmony export */   vj: () => (/* binding */ m)
/* harmony export */ });
/* unused harmony export getColorRampId */
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93814);
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60861);
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1817);
/* harmony import */ var _core_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(46030);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const C=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],m=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],a=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_2__/* .JSONMap */ .J({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function g(o,r){if(!o||!r||o.length!==r.length)return!1;for(let t=0;t<o.length;t++)if(o[t]>r[t]+2||o[t]<r[t]-2)return!1;return!0}function p(o){const r=o.clone();return r.fromColor=o.toColor,r.toColor=o.fromColor,r.algorithm=o.algorithm,r}function u(o){if("multipart"===o.type){const r=o.clone();return r.colorRamps?.length?(r.colorRamps=r.colorRamps.reverse().map((o=>p(o))),r):r}return p(o)}function f(r,t){if(!r)return;const l=t??m;let e=null;return"algorithmic"===r.type?l.some((o=>{if(g(r.fromColor.toRgb(),o.fromColor)&&g(r.toColor.toRgb(),o.toColor))return e=o.id,!0})):"multipart"===r.type&&l.some((t=>{const l=r.colorRamps,i=t.colorRamps;if(l&&i&&l.length===i.length&&!i.some(((r,t)=>{if(!g(l[t].fromColor.toRgb(),new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(r.fromColor).toRgb())||!g(l[t].toColor.toRgb(),new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(r.toColor).toRgb()))return!0}))){if(e)return!0;e=t.id}})),e}function s(o,r,t=!1){if(!o)return;let l=!1,e=f(o,r);return null!=e||t||(l=!0,e=f(o=u(o),r)),e?{id:e,inverted:l}:void 0}function c(o,r=!1){const t="string"==typeof o?o:s(o,void 0,r)?.id;return t?a.toJSON(t):null}function d(o,r="esriCIELabAlgorithm"){const t=m.find((({id:r})=>r===o));return t?t.colorRamps?{type:"multipart",colorRamps:t.colorRamps.map((o=>({type:"algorithmic",algorithm:r,fromColor:[...o.fromColor],toColor:[...o.toColor]})))}:{type:"algorithmic",algorithm:r,fromColor:[...t.fromColor],toColor:[...t.toColor]}:null}function h(o){const r=(o=o||{}).numColors||256,t=o.distanceOffset||0,l=null!=o.isCustomInterval?o.isCustomInterval:null!==o.distanceInterval&&o.distanceInterval!==1/(r-1),e=o.distanceInterval||1/(r-1);return{...o,numColors:r,distanceOffset:t,interpolateAlpha:!!o.interpolateAlpha,distanceInterval:e,isCustomInterval:l,weights:o.weights}}function b(o,r,t){const{numColors:l,distanceOffset:e,distanceInterval:i,isCustomInterval:n}=t,C=0===o.s,m=0===r.s;let a=o.h,g=r.h;C&&!m?a=g:m&&!C&&(r={...r,h:a},g=a);let p,u=Math.abs(g-a);const f=360;u<f/2?p=(g-a)*i:(u=f-u,p=a>g?u*i:-u*i);const s=(r.s-o.s)*i,c=(r.v-o.v)*i;let{s:d,v:h}=o,b=a;if(e){const o=e/i;b=(b+o*p+f)%f,d+=o*s,h+=o*c}const v=[];for(let k=0;k<l-1;k++)v.push({h:b,s:d,v:h}),b=(b+p+f)%f,d+=s,h+=c;return v.push(n?{h:b,s:d,v:h}:r),v}function v(o,r,t){const{numColors:l,distanceOffset:e,distanceInterval:i,isCustomInterval:n}=t;let{l:C,a:m,b:a}=o;const g=(r.l-C)*i,p=(r.a-m)*i,u=(r.b-a)*i,f=[];if(e){const o=e/i;C+=o*g,m+=o*p,a+=o*u}for(let s=0;s<l-1;s++)f.push({l:C,a:m,b:a}),C+=g,m+=p,a+=u;return f.push(n?{l:C,a:m,b:a}:r),f}function k(o,r,t){const{numColors:l,distanceOffset:e,distanceInterval:i,isCustomInterval:n}=t,C=o.h,m=r.h,a=2*Math.PI;let g;if(C<=m){const o=m-C,r=m-C-a;g=Math.abs(r)<Math.abs(o)?r:o}else{const o=m+a-C,r=m-C;g=Math.abs(r)<Math.abs(o)?r:o}const p=g*i,u=(r.l-o.l)*i,f=(r.c-o.c)*i;let{l:s,c,h:d}=o;if(e){const o=e/i;s+=o*u,c+=o*f,d=(d+o*p+a)%a}const h=[];for(let b=0;b<l-1;b++)h.push({l:s,c,h:d}),s+=u,c+=f,d=(d+p+a)%a;return h.push(n?{l:s,c,h:d}:r),h}function y(o,i){let{fromColor:n,toColor:C}=o;n=[...n],C=[...C],3===n.length&&(n=n.concat([255])),3===C.length&&(C=C.concat([255]));const m=o.algorithm||"esriCIELabAlgorithm",a=h(i),{numColors:g,distanceOffset:p,isCustomInterval:u,interpolateAlpha:f}=a;if(1===g&&0===p)return[n];if(2===g&&0===p&&!u)return[n,C];const s={r:n[0],g:n[1],b:n[2]},c={r:C[0],g:C[1],b:C[2]},d="esriCIELabAlgorithm"===m?v((0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toLAB */ .ZD)(s),(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toLAB */ .ZD)(c),a):"esriHSVAlgorithm"===m?b((0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toHSV */ .N2)(s),(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toHSV */ .N2)(c),a):k((0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toLCH */ .RH)(s),(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toLCH */ .RH)(c),a),y=[],R=n[3]??255,w=((C[3]??255)-R)/(g-1);for(let r=0;r<g;r++){const{r:o,g:t,b:l}=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toRGB */ .$)(d[r]),i=f?Math.round(R+w*r):255;y.push([o,t,l,i])}return y}function R(o,r){const{numColors:t,interpolateAlpha:l}=h(r);let e=r?.weights;const{colorRamps:i}=o;if(e){const o=e.reduce(((o,r)=>o+r));e=e.map((r=>r/o))}else{e=[];for(let o=0;o<i.length;o++)e[o]=1/i.length}const n=[],C=1/(t-1);let m=0,a=!1;for(let p=0;p<i.length;p++){const o=n.length,r=a?0:o*C-m;m+=e[p];let g=p===i.length-1?t-1-o:(e[p]-r)/C;if(a=Math.ceil(g)===g,g=Math.ceil(g),0===g)continue;const u=y(i[p],{numColors:g,interpolateAlpha:l,distanceOffset:r/e[p],distanceInterval:C/e[p]});n.push(...u)}const g=[...i[i.length-1].toColor];return 3===g.length&&g.push(255),n.push(g),n}function w(o,r){const t=(0,_core_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .isSerializable */ .W)(o)?o.toJSON():o;return"multipart"===t.type?R(t,r):y(t,r)}function B(o,r){const t=w(o,r),l=r?.interpolateAlpha;return t.forEach(((o,r)=>{o.unshift(r),l||o.pop()})),t}function D(o){const t=[];for(let l=0;l<o.length;l+=4){const e=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toHSV */ .N2)({r:o[l],g:o[l+1],b:o[l+2]});t.push([e.h/60,e.s/100,255*e.v/100])}return t}function I(o){const t=(0,_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toHSV */ .N2)(o);return{type:"HsvColor",Hue:t.h,Saturation:t.s,Value:t.v,AlphaValue:255}}function G(o){const r=o.toJSON();return{Algorithm:r?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:I(o.fromColor),ToColor:I(o.toColor)}}function A(o){const r=c(o);if(!r)return null;if("algorithmic"===o.type)return{...G(o),Name:r};if(o.colorRamps){const t=o.colorRamps.map(G);return{type:"MultiPartColorRamp",NumColorRamps:t.length,ArrayOfColorRamp:t,Name:r}}return null}function P(o){const r=o.reverse().map((o=>{const r=o.toString(16);return r.length<2?"0"+r:r}));return 4294967295&Number.parseInt(r.join(""),16)}


/***/ }),

/***/ 46415:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FA: () => (/* binding */ u),
/* harmony export */   QJ: () => (/* binding */ i),
/* harmony export */   WN: () => (/* binding */ a),
/* harmony export */   hu: () => (/* binding */ t),
/* harmony export */   iL: () => (/* binding */ e),
/* harmony export */   rd: () => (/* binding */ o),
/* harmony export */   xX: () => (/* binding */ r)
/* harmony export */ });
/* unused harmony export isSingleBand8BitRasterWithStats */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(n){return["u8","s8"].includes(n.pixelType)&&null!=n.statistics?.[0]?.min&&null!=n.statistics[0]?.max&&1===n.bandCount}function t(t,e){const{attributeTable:u,bandCount:r}=t;if(null==u&&n(t))return!0;if(null==u||r>1)return!1;if(e){if(null==u.fields.find((n=>n.name.toLowerCase()===e.toLowerCase())))return!1}return!0}function e(n){const{bandCount:t,dataType:e,pixelType:u}=n;return"elevation"===e||"generic"===e&&1===t&&("s16"===u||"s32"===u||"f32"===u||"f64"===u)}function u(n,t=!1){const{bandCount:e,colormap:u,pixelType:r}=n;return 1===e&&(!!u?.length||!t&&"u8"===r)}function r(n,t=!1){const{attributeTable:e,bandCount:u}=n;return 1===u&&(!t||null!=e||null!=n.histograms)}function o(n){const{dataType:t}=n;return"vector-uv"===t||"vector-magdir"===t}function i(n){const{dataType:t}=n;return"vector-uv"===t||"vector-magdir"===t}function a(n){return!!n?.length&&n.length<=16384}


/***/ }),

/***/ 19642:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $P: () => (/* binding */ te),
/* harmony export */   I8: () => (/* binding */ q),
/* harmony export */   Mm: () => (/* binding */ z),
/* harmony export */   PD: () => (/* binding */ B),
/* harmony export */   ci: () => (/* binding */ D),
/* harmony export */   fp: () => (/* binding */ E),
/* harmony export */   m7: () => (/* binding */ W),
/* harmony export */   w6: () => (/* binding */ N)
/* harmony export */ });
/* unused harmony exports createClassBreaksRenderer, createColormapRenderer, createFlowRenderer, createShadedReliefRenderer, createStretchRenderer, createUVRenderer, createVectorFieldRenderer, estimateMagnitudeRange, getBandNames, getClassField, getDefinedInterval, getField, getWellKnownBandIndexes */
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93814);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5262);
/* harmony import */ var _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(45352);
/* harmony import */ var _layers_support_rasterDatasets_datasetUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(97776);
/* harmony import */ var _ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(42957);
/* harmony import */ var _FlowRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(41903);
/* harmony import */ var _RasterColormapRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6400);
/* harmony import */ var _RasterShadedReliefRenderer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(51020);
/* harmony import */ var _RasterStretchRenderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(89847);
/* harmony import */ var _UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(45514);
/* harmony import */ var _VectorFieldRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(86248);
/* harmony import */ var _AuthoringInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(57097);
/* harmony import */ var _ClassBreakInfo_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(89179);
/* harmony import */ var _colorRampUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(16976);
/* harmony import */ var _rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(46415);
/* harmony import */ var _UniqueValueInfo_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(6346);
/* harmony import */ var _visualVariables_ColorVariable_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(103);
/* harmony import */ var _visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(55207);
/* harmony import */ var _visualVariables_support_ColorStop_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(36903);
/* harmony import */ var _rest_support_ClassBreaksDefinition_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(75809);
/* harmony import */ var _rest_support_generateRendererUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(31405);
/* harmony import */ var _rest_support_MultipartColorRamp_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(62073);
/* harmony import */ var _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(55736);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const S=.25,k=_rest_support_MultipartColorRamp_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),F=_rest_support_MultipartColorRamp_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A.fromJSON(_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .predefinedJsonColorRamps */ .vj[0]),L=new Set(["scientific","standard-time","vector-uv","vector-magdir","vector-u","vector-v","vector-magnitude","vector-direction"]);function q(e){return e.presetRenderers?.find((({method:t,value:n})=>"raster-function-template"===t?n===e.rasterFunctionName:"variable"===t&&n===e.variableName))}function B(e,t){const{attributeTable:n,colormap:a}=e;if((0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isVectorFieldRendererSupported */ .rd)(e)){const t=$(e);if(null!=t)return t}if(t?.rasterFunctionColorRamp){const n=U(e,t);return n.colorRamp=t.rasterFunctionColorRamp,n}if(null!=a){const t=K(e);if(null!=t)return t}if(null!=n){const t=P(e);if(null!=t)return t}return U(e,t)}function E(e,t=!1){const n=["raster-stretch"];return (0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isColormapRendererSupported */ .FA)(e,t)&&n.push("raster-colormap"),(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isUVRendererSupported */ .hu)(e)&&n.push("unique-value"),(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isClassBreaksSupported */ .xX)(e,t)&&n.push("class-breaks"),(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isShadedReliefRendererSupported */ .iL)(e)&&n.push("raster-shaded-relief"),(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isVectorFieldRendererSupported */ .rd)(e)&&n.push("vector-field"),(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isFlowRendererSupported */ .QJ)(e)&&n.push("flow"),n}function z(e){return (0,_layers_support_rasterDatasets_datasetUtils_js__WEBPACK_IMPORTED_MODULE_22__/* .isFunctionRaster */ .q)(e)&&"Colormap"===e.rasterFunction.functionName?e.rasterFunction.colorRamp:void 0}function N(e,t,n){const a=["nearest","bilinear","cubic","majority"],r=n?.toLowerCase().replace("bicubic","cubic"),l=a.find((e=>e===r));if("Map"===t)return l??"bilinear";if("standard-time"===e.dataType)return l??"nearest";return"thematic"===e.dataType||e.attributeTable||e.colormap?"nearest"===l||"majority"===l?l:"nearest":l??"bilinear"}function U(e,t){e=W(e,t?.variableName);const{bandCount:n}=e;let{bandIds:a,stretchType:r}=t||{};a?.some((e=>e>=n))&&(a=null);let l=e.statistics,s=e.histograms;n>1?(a=a?.length?a:D(e),l=null==l?null:a?.map((e=>l[e])),s=null==s?null:a?.map((e=>s[e]))):a=[0],null==r&&(r=J(e)),t?.includeStatisticsInStretch&&("percent-clip"===r||"histogram-equalization"===r)&&e.statistics?.length&&(r="min-max");let i=!1;switch(r){case"none":i=!1;break;case"percent-clip":i=!s?.length;break;default:i=!l?.length}const{dataType:u}=e,m=1===a?.length&&L.has(u)?k:null,c=new _RasterStretchRenderer_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A({stretchType:r,dynamicRangeAdjustment:i,colorRamp:m,outputMin:0,outputMax:255,gamma:1===a?.length?[1]:[1,1,1],useGamma:!1});return"percent-clip"===r?c.maxPercent=c.minPercent=S:"standard-deviation"===r&&(c.numberOfStandardDeviations=2),i||null==e.multidimensionalInfo&&!t?.includeStatisticsInStretch||("percent-clip"===r?c.histograms=s:"min-max"!==r&&"standard-deviation"!==r||(c.statistics=l)),c}function W(e,t){const{multidimensionalInfo:n}=e;if(!t||!n)return e;const a=n.variables.find((e=>e.name===t));if(!a)return e;if(e=e.clone(),a){const{statistics:t,histograms:n}=a;t?.length&&(e.statistics=t.map((e=>({min:e.min,max:e.max,avg:e.avg,stddev:e.stddev})))),n?.length&&(e.histograms=n)}return e}function D(e){const t=e.bandCount;if(1===t)return null;if(2===t)return[0];const{bandInfos:n}=e;let a;if(n.length===t){const{red:e,green:t,blue:r,nir:l}=A(n);null!=e&&null!=t&&null!=r?a=[e,t,r]:null!=l&&null!=e&&null!=t&&(a=[l,e,t])}return!a&&t>=3&&(a=[0,1,2]),a}function O(e,t){const n=e.bandInfos.map((({name:e})=>e));return t?.length?t.map((e=>n[e])):n}function A(e){const t={};for(let n=0;n<e.length;n++){const a=e[n],r=a.name.toLowerCase();if("red"===r)t.red=n;else if("green"===r)t.green=n;else if("blue"===r)t.blue=n;else if("nearinfrared"===r||"nearinfrared_1"===r||"nir"===r)t.nir=n;else if(a.maxWavelength&&a.minWavelength){const e=a.minWavelength,r=a.maxWavelength;null==t.blue&&e>=410&&e<=480&&r>=480&&r<=540?t.blue=n:null==t.green&&e>=490&&e<=560&&r>=560&&r<=610?t.green=n:null==t.red&&e>=595&&e<=670&&r>=660&&r<=730?t.red=n:null==t.nir&&e>=700&&e<=860&&r>=800&&r<=950&&(t.nir=n)}}return t}function J(e){let t="percent-clip";const{pixelType:n,dataType:a,histograms:r,statistics:l,multidimensionalInfo:s}=e,i=L.has(a)||"generic"===a&&null!=s;return"u8"!==n||"processed"!==a&&null!=r&&null!=l?"u8"===n||"elevation"===a||i?t="min-max":null!=r?t="percent-clip":null!=l&&(t="min-max"):t="none",t}function P(t,n,a,r){if(!(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isUVRendererSupported */ .hu)(t,n))return null;const{attributeTable:l,statistics:s}=t,i=G(l,n),o=H(l,"red"),m=H(l,"green"),f=H(l,"blue"),d=new _AuthoringInfo_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .A,b=[],h=new Set,v=!!(o&&m&&f);if(null!=l)l.features.forEach((t=>{const n=t.attributes[i.name];if(!h.has(t.attributes[i.name])&&null!=n){h.add(n);const a=v&&("single"===o.type||"double"===o.type)&&("single"===m.type||"double"===m.type)&&("single"===f.type||"double"===f.type)&&!l.features.some((e=>e.attributes[o.name]>1||e.attributes[m.name]>1||e.attributes[f.name]>1)),r=a?255:1;b.push(new _UniqueValueInfo_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .A({value:t.attributes[i.name],label:t.attributes[i.name]+"",symbol:new _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .A({style:"solid",outline:null,color:new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(v?[t.attributes[o.name]*r,t.attributes[m.name]*r,t.attributes[f.name]*r,1]:[0,0,0,0])})}))}}));else if(s?.[0])for(let u=s[0].min;u<=s[0].max;u++)b.push(new _UniqueValueInfo_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .A({value:u,label:u.toString(),symbol:new _symbols_SimpleFillSymbol_js__WEBPACK_IMPORTED_MODULE_20__/* ["default"] */ .A({style:"solid",outline:null,color:new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A([0,0,0,0])})}));if(b.sort(((e,t)=>e.value&&"string"==typeof e.value.valueOf()?0:e.value>t.value?1:-1)),!v){const t=(0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .convertColorRampToColormap */ .R8)(F,{numColors:b.length});b.forEach(((n,a)=>n.symbol.color=new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(t[a].slice(1,4)))),d.colorRamp=F}if(a||r){const t=a||(0,_colorRampUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .convertColorRampToColormap */ .R8)(r,{numColors:b.length}).map((e=>e.slice(1)));b.forEach(((n,a)=>n.symbol.color=new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(t[a]))),d.colorRamp=r}return new _UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A({field:i.name,uniqueValueInfos:b,authoringInfo:d})}function G(e,t,a){let r;return null!=e?(r=t?e.fields.find((e=>t.toLowerCase()===e.name.toLowerCase())):_(e.fields),r||(a||(r=e.fields.find((e=>"string"===e.type))),r||(r=H(e,"value")))):r=new _layers_support_Field_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({name:"value"}),r}function _(e){let t;for(let n=0;n<e.length;n++){const a=e[n].name.toLowerCase();if("string"===e[n].type){if(a.startsWith("class")){t=e[n];break}null==t&&(a.endsWith("name")||a.endsWith("type"))&&(t=e[n])}}return t}function H(e,t){return null==e?null:e.fields.find((e=>e.name.toLowerCase()===t))}function K(e){if(!(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isColormapRendererSupported */ .FA)(e))return null;let t;const{attributeTable:n,colormap:a}=e;if(null!=n){const e=H(n,"value"),a=G(n,null,!0);"string"===a.type&&(t={},n.features.forEach((n=>{const r=n.attributes;t[r[e.name]]=a?r[a.name]:r[e.name]})))}return _RasterColormapRenderer_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A.createFromColormap(a,t)}function Q(e,n="traditional"){if(!y(e))return null;const{extent:a}=e,r=a.width*t(a.spatialReference);return new i({hillshadeType:n,scalingType:r>5e6?"adjusted":"none"})}function X(e,t){e=W(e,t?.variableName);const{attributeTable:n}=e;if(!v(e))return null;const a=null!=e.histograms?e.histograms[0]:null,l=null!=t?.numClasses&&isFinite(t?.numClasses)?t.numClasses:5,s=new c({classificationMethod:t?.classificationMethod,colorRamp:t?.colorRamp});let i=t?.field||"value";const o=[],u=[],m=1e3,d=null!=n,b=d&&n.fields.find((e=>"count"===e.name.toLowerCase())),h=d?n.fields.find((e=>e.name.toLowerCase()===i.toLowerCase())):void 0;if(h&&d){i=h.name;const e=n.features.length;let t=0;n.features.forEach((n=>t+=(b?n.attributes[b.name]:50)/e)),n.features.forEach((n=>{const a=n.attributes[h.name],r=b?n.attributes[b.name]:50;if(r>0){u.push(r);const n=Math.max(1,Math.round(r/e/t*m));for(let e=0;e<n;e++)o.push(a)}}))}else{const{pixelType:t}=e,r=(a.max-a.min)/a.size,l=t.includes("s")||t.includes("u"),s=l&&1===r?Math.floor(a.min+.5):a.min,i=l&&1===r?Math.floor(a.max-.5):a.max,c=a.size;let f,p=0;a.counts.forEach((e=>p+=e/c)),a.counts.forEach(((e,t)=>{if(e>0){u.push(e);const l=Math.max(1,Math.round(e/c/p*m));f=d?n.features[t].attributes[h.name]:0===t?s:t===c-1?i:a.min+r*(t+.5);for(let e=0;e<l;e++)o.push(f)}}))}const g=t?.classificationMethod||"natural-breaks";let y=t?.definedInterval;"defined-interval"!==g||y||(y=Y(e,h,l));const w=V({values:o,valueFrequency:u,normalizationTotal:null,definition:new j({classificationMethod:g,breakCount:l,definedInterval:y})});let C=t?.colors;if(!C){const e=t?.colorRamp||k;s.colorRamp=e;const n=p(e,{numColors:w.classBreaks.length,interpolateAlpha:!0});C=n.map((e=>e.slice(1)))}const x=w.classBreaks.map(((e,t)=>new f({minValue:e.minValue,maxValue:e.maxValue,label:e.label,symbol:new I({color:C[t]})})));return new r({field:i,classBreakInfos:x,authoringInfo:s})}function Y(e,t,n){let a=0,r=0;if(null!=e.attributeTable){const n=e.attributeTable;a=r=n.features[0].attributes[t.name],n.features.forEach((e=>{const n=e.attributes[t.name];n<a&&(a=n),n>r&&(r=n)}))}else if(null!=e.histograms){const t=e.histograms;a=t[0].min,r=t[0].max}return(r-a)/n}const Z=new Map([["m/s","meter-per-second"],["km/h","kilometer-per-hour"],["knots","knots"],["ft/s","feet-per-second"],["mph","mile-per-hour"]]);function $(e){if(!(0,_rasterRendererChecks_js__WEBPACK_IMPORTED_MODULE_21__/* .isVectorFieldRendererSupported */ .rd)(e))return null;let t;if(null!=e.statistics&&e.statistics.length&&("vector-magdir"===e.dataType||"vector-uv"===e.dataType)){const{minMagnitude:n,maxMagnitude:a}=ae(e.dataType,e.statistics);t=[new _visualVariables_SizeVariable_js__WEBPACK_IMPORTED_MODULE_15__/* ["default"] */ .A({field:"Magnitude",minSize:10,maxSize:40,minDataValue:n,maxDataValue:a})]}const n=null!=e.multidimensionalInfo?Z.get(e.multidimensionalInfo.variables[0].unit):void 0,a=new _VectorFieldRenderer_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A({visualVariables:t,inputUnit:n,rotationType:"geographic"});return a.visualVariables=[...a.sizeVariables,...a.rotationVariables],a}function ee(e){return{color:e.symbolLayers[0].material?.color,type:"esriSFS",style:"esriSFSSolid"}}function te(e){if("uniqueValue"===e.type){const t=e.uniqueValueInfos,n=t?.[0].symbol;return n?.symbolLayers?.length&&(e.uniqueValueInfos=t?.map((e=>({value:e.value,label:e.label,symbol:e.symbol?ee(e.symbol):null})))),e}if("classBreaks"===e.type){const t=e.classBreakInfos,n=t[0].symbol;return n?.symbolLayers?.length&&(e.classBreakInfos=t.map((e=>({classMinValue:e.classMinValue,classMaxValue:e.classMaxValue,label:e.label,symbol:e.symbol?ee(e.symbol):null})))),e}return e}function ne(t){if(!w(t))return null;let n;if(null!=t.statistics&&t.statistics.length>0&&("vector-magdir"===t.dataType||"vector-uv"===t.dataType)){const{minMagnitude:a,maxMagnitude:r}=ae(t.dataType,t.statistics);n=[new x({field:"Magnitude",stops:[new R({value:a,color:new e("#1020c0")}),new R({value:r,color:new e("#c02010")})]})]}return new l({visualVariables:n})}function ae(e,t){let n,a;if("vector-magdir"===e)n=t[0].min,a=t[0].max;else{const e=t[0].min,r=t[0].max,l=t[1].min,s=t[1].max;n=0,a=Math.max(Math.abs(e),Math.abs(l),Math.abs(r),Math.abs(s))}return{minMagnitude:n,maxMagnitude:a}}


/***/ }),

/***/ 84348:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Gj: () => (/* binding */ p),
/* harmony export */   LF: () => (/* binding */ c),
/* harmony export */   uy: () => (/* binding */ l)
/* harmony export */ });
/* unused harmony export fromJSON */
/* harmony import */ var _core_Warning_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(97629);
/* harmony import */ var _ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42957);
/* harmony import */ var _FlowRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(41903);
/* harmony import */ var _RasterColormapRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6400);
/* harmony import */ var _RasterShadedReliefRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(51020);
/* harmony import */ var _RasterStretchRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(89847);
/* harmony import */ var _UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(45514);
/* harmony import */ var _VectorFieldRenderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(86248);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l={key:"type",base:null,typeMap:{"unique-value":_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A,"class-breaks":_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,"raster-colormap":_RasterColormapRenderer_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A,"raster-stretch":_RasterStretchRenderer_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A,"vector-field":_VectorFieldRenderer_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,"raster-shaded-relief":_RasterShadedReliefRenderer_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A,flow:_FlowRenderer_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A}},p={...l,typeMap:{...l.typeMap}};delete p.typeMap["vector-field"],delete p.typeMap.flow;const d={uniqueValue:_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A,classBreaks:_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,rasterStretch:_RasterStretchRenderer_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A,rasterColormap:_RasterColormapRenderer_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A,vectorField:_VectorFieldRenderer_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,rasterShadedRelief:_RasterShadedReliefRenderer_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A,flowRenderer:_FlowRenderer_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A};function u(e){return e&&d[e.type]||null}function c(r,t){if(!r)return null;if("classBreaks"===r.type&&r.classificationMethod){const e=r.authoringInfo||{classificationMethod:""};e.classificationMethod=r.classificationMethod,r.authoringInfo=e}"vectorField"===r.type&&r.visualVariables&&!Array.isArray(r.visualVariables)&&(r.visualVariables=[r.visualVariables]);const s=u(r);if(s){const e=new s;return e.read(r,t),e}return t?.messages&&r&&t.messages.push(new _core_Warning_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A("renderer:unsupported","Renderers of type '"+(r.type||"unknown")+"' are not supported",{definition:r,context:t})),null}function f(e,r){return c(e,r)}


/***/ }),

/***/ 75951:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ n),
/* harmony export */   x: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1817);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const n=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .JSONMap */ .J({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),a={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"};


/***/ }),

/***/ 59496:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E9: () => (/* binding */ c),
/* harmony export */   Tw: () => (/* binding */ f),
/* harmony export */   X6: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(38116);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8000);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(30214);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(44153);
/* harmony import */ var _layers_support_RasterInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22687);
/* harmony import */ var _layers_support_RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(77614);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(36321);
/* harmony import */ var _support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(74704);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function m(m,f,p){const c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .parseUrl */ .Dl)(m),{rasterFunction:d,sourceJSON:h}=f||{},g=d?JSON.stringify(d.rasterFunctionDefinition||d):null,y=(0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .encode */ .lF)({...c.query,renderingRule:g,f:"json"}),x=(0,_utils_js__WEBPACK_IMPORTED_MODULE_6__/* .asValidOptions */ .jV)(y,p);m=c.path;const S=h||await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)(m,x).then((e=>e.data)),b=S.hasRasterAttributeTable?(0,_request_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)(`${m}/rasterAttributeTable`,x):null,v=S.hasColormap?(0,_request_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)(`${m}/colormap`,x):null,V=S.hasHistograms?(0,_request_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)(`${m}/histograms`,x):null,D=S.currentVersion>=10.3?(0,_request_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)(`${m}/keyProperties`,x):null,I=S.hasMultidimensions?(0,_request_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)(`${m}/multidimensionalInfo`,x):null,T=await Promise.allSettled([b,v,V,D,I]);let R=null;if(S.minValues&&S.minValues.length===S.bandCount){R=[];for(let e=0;e<S.minValues.length;e++)R.push({min:S.minValues[e],max:S.maxValues[e],avg:S.meanValues[e],stddev:S.stdvValues[e]})}const j=_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.fromJSON(S.extent),w=Math.ceil(j.width/S.pixelSizeX-.1),M=Math.ceil(j.height/S.pixelSizeY-.1),N=_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.fromJSON(S.spatialReference||S.extent.spatialReference),O="fulfilled"===T[0].status?T[0].value?.data:null,J=O?.features?.length?_support_FeatureSet_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A.fromJSON(O):null,k="fulfilled"===T[1].status?T[1].value?.data.colormap:null,C=k?.length?k:null,P="fulfilled"===T[2].status?T[2].value?.data.histograms:null,z=P?.[0]?.counts?.length?P:null,F="fulfilled"===T[3].status?T[3].value?.data??{}:{},$="fulfilled"===T[4].status?T[4].value?.data.multidimensionalInfo:null,E=$?.variables?.length?$:null;E&&E.variables.forEach((e=>{e.statistics?.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),e.dimensions?.forEach((e=>{"StdTime"!==e.name||e.recurring||e.unit||(e.unit="ISO8601")}))}));const{defaultVariable:H,serviceDataType:L}=S;H&&H!==F.DefaultVariable&&(F.DefaultVariable=H),L?.includes("esriImageServiceDataTypeVector")&&!L.includes(F.DataType)&&(F.DataType=L.replace("esriImageServiceDataType",""));let A=S.noDataValue;S.noDataValues?.length&&S.noDataValues.some((e=>e!==A))&&(A=S.noDataValues);const q=S.transposeInfo?new _layers_support_RasterStorageInfo_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A({blockWidth:256,blockHeight:256,pyramidBlockWidth:256,pyramidBlockHeight:256,pyramidScalingFactor:2,compression:"lerc",origin:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({x:S.extent.xmin,y:S.extent.ymax,spatialReference:N}),firstPyramidLevel:1,maximumPyramidLevel:Math.max(0,Math.round(Math.log(Math.max(w,M))/Math.LN2-8)),transposeInfo:S.transposeInfo}):void 0;return new _layers_support_RasterInfo_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A({width:w,height:M,bandCount:S.bandCount,extent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.fromJSON(S.extent),spatialReference:N,pixelSize:new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({x:S.pixelSizeX,y:S.pixelSizeY,spatialReference:N}),pixelType:S.pixelType.toLowerCase(),statistics:R,attributeTable:J,colormap:C,histograms:z,keyProperties:F,noDataValue:A,multidimensionalInfo:E,storageInfo:q})}function f(e,t,a){return m(e,{sourceJSON:t},a)}function p(e,t,a){return m(e,{rasterFunction:t},a)}function c(e,t){e.attributeTable||(t.hasRasterAttributeTable=!1),e.histograms||(t.hasHistograms=!1),e.colormap||(t.hasColormap=!1),e.multidimensionalInfo||(t.hasMultidimensions=!1)}


/***/ }),

/***/ 27963:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15565);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48524);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(30214);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(56053);
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(54483);
/* harmony import */ var _layers_support_MosaicRule_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(10576);
/* harmony import */ var _layers_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(99913);
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(72991);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var y;let j=y=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(){super(...arguments),this.geometry=null,this.mosaicRule=null,this.rasterFunction=null,this.pixelSize=null,this.raster=void 0,this.timeExtent=null}writeGeometry(t,e,r){null!=t&&(e.geometryType=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getJsonType */ .$B)(t),e[r]=t.toJSON())}clone(){return new y((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)({geometry:this.geometry,mosaicRule:this.mosaicRule,rasterFunction:this.rasterFunction,pixelSize:this.pixelSize,raster:this.raster,timeExtent:this.timeExtent}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({types:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .geometryTypes */ .yR,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .fromJSON */ .rS}})],j.prototype,"geometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_7__/* .writer */ .K)("geometry")],j.prototype,"writeGeometry",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_layers_support_MosaicRule_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A,json:{write:!0}})],j.prototype,"mosaicRule",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_layers_support_RasterFunction_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A,json:{write:!0,name:"renderingRule"}})],j.prototype,"rasterFunction",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A,json:{write:!0}})],j.prototype,"pixelSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({json:{write:!0}})],j.prototype,"raster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_13__.T,json:{read:{source:"time"},write:{target:"time"}}})],j.prototype,"timeExtent",void 0),j=y=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.rest.support.ImageHistogramParameters")],j);


/***/ }),

/***/ 60639:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(30214);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(){super(...arguments),this.attributes=null,this.location=null,this.locationId=null,this.rasterId=null,this.resolution=null,this.pixelValue=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0}})],i.prototype,"attributes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,json:{write:!0}})],i.prototype,"location",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0}})],i.prototype,"locationId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0}})],i.prototype,"rasterId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0}})],i.prototype,"resolution",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0}})],i.prototype,"pixelValue",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.rest.support.ImageSample")],i);


/***/ }),

/***/ 70427:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15565);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(48524);
/* harmony import */ var _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(67709);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(30214);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(56053);
/* harmony import */ var _geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(54483);
/* harmony import */ var _layers_support_MosaicRule_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(10576);
/* harmony import */ var _layers_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(33673);
/* harmony import */ var _chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(72991);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var d;let h=d=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(){super(...arguments),this.geometry=null,this.interpolation="nearest",this.mosaicRule=null,this.outFields=null,this.pixelSize=null,this.raster=void 0,this.returnFirstValueOnly=!0,this.sampleDistance=null,this.sampleCount=null,this.sliceId=null,this.timeExtent=null}writeGeometry(t,e,o){null!=t&&(e.geometryType=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .getJsonType */ .$B)(t),e[o]=t.toJSON())}set locations(t){if(t?.length){const e=new _geometry_Multipoint_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A({spatialReference:t[0].spatialReference,points:t.map((({x:t,y:e})=>[t,e]))});this._set("locations",t),this.geometry=e}}clone(){return new d((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_2__/* .clone */ .o8)({geometry:this.geometry,locations:this.locations,interpolation:this.interpolation,mosaicRule:this.mosaicRule,outFields:this.outFields,raster:this.raster,returnFirstValueOnly:this.returnFirstValueOnly,sampleDistance:this.sampleDistance,sampleCount:this.sampleCount,sliceId:this.sliceId,pixelSize:this.pixelSize,timeExtent:this.timeExtent}))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({types:_geometry_support_typeUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .geometryTypes */ .yR,json:{read:_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .fromJSON */ .rS}})],h.prototype,"geometry",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_7__/* .writer */ .K)("geometry")],h.prototype,"writeGeometry",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:[_geometry_Point_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A]})],h.prototype,"locations",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:String,json:{type:_layers_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_13__/* .interpolationKebab */ .SZ.jsonValues,read:_layers_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_13__/* .interpolationKebab */ .SZ.read,write:_layers_support_rasterEnums_js__WEBPACK_IMPORTED_MODULE_13__/* .interpolationKebab */ .SZ.write}})],h.prototype,"interpolation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_layers_support_MosaicRule_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A,json:{write:!0}})],h.prototype,"mosaicRule",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:[String],json:{write:!0}})],h.prototype,"outFields",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A,json:{write:!0}})],h.prototype,"pixelSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:String,json:{write:!0}})],h.prototype,"raster",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Boolean,json:{write:!0}})],h.prototype,"returnFirstValueOnly",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],h.prototype,"sampleDistance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],h.prototype,"sampleCount",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:Number,json:{write:!0}})],h.prototype,"sliceId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:_chunks_TimeExtent_js__WEBPACK_IMPORTED_MODULE_14__.T,json:{read:{source:"time"},write:{target:"time"}}})],h.prototype,"timeExtent",void 0),h=d=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.rest.support.ImageSampleParameters")],h);


/***/ }),

/***/ 86466:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _ImageSample_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(60639);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(){super(...arguments),this.samples=[]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:[_ImageSample_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A],json:{write:!0}})],p.prototype,"samples",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.rest.support.ImageSampleResult")],p);


/***/ }),

/***/ 93611:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fe: () => (/* binding */ k),
/* harmony export */   Nk: () => (/* binding */ u)
/* harmony export */ });
/* unused harmony exports applyCIMSymbolRotation, getCIMSymbolRotation, getCIMSymbolSize, getCIMSymbolType, scaleCIMMarker, scaleCIMSymbol, scaleCIMSymbolTo */
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93814);
/* harmony import */ var _cim_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(77234);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(e){const a=t(e);if("CIMTextSymbol"===a?.type)return a.height??0;let n=0;if(a?.symbolLayers)for(const t of a.symbolLayers)r(t)&&null!=t.size&&t.size>n?n=t.size:o(t)&&null!=t.width&&t.width>n?n=t.width:s(t);return n}function c(e,o,r){if(!e)return;const a=t(e),n=i(e);if(0===n)return void l(a,o);f(a,o/n,!1,r)}function l(e,t){if(e)if("CIMTextSymbol"!==e.type){if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case"CIMPictureMarker":case"CIMVectorMarker":o.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":o.width=t}}else e.height=t}function f(e,t,o,r){if(e)if("CIMTextSymbol"!==e.type){if(o&&e.effects)for(const o of e.effects)M(o,t);if(e.symbolLayers)for(const o of e.symbolLayers){switch(o.type){case"CIMPictureMarker":case"CIMVectorMarker":m(o,t,r);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!r?.preserveOutlineWidth&&o.width&&(o.width*=t);break;case"CIMPictureFill":o.height&&(o.height*=t),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t);break;case"CIMHatchFill":f(o.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t),o.separation&&(o.separation*=t)}if(o.effects)for(const e of o.effects)M(e,t)}}else null!=e.height&&(e.height*=t)}function m(e,t,o){if(e&&(e.markerPlacement&&C(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||f(r.symbol,t,!0,o)}function C(e,t){switch(a(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function M(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const o=e.dashTemplate.map((e=>e*t));e.dashTemplate=o}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function u(o){const r=[];return y((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .toCIMSymbolJSON */ .lW)(o),r),r.length?new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .normalizeAlpha */ .e6)(r[0])):null}function y(e,t){if(!e)return;let n;n="CIMTextSymbol"===e.type?e.symbol:e;const s="CIMPolygonSymbol"===e.type;if(n?.symbolLayers)for(const i of n.symbolLayers)if(!(i.colorLocked||s&&((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMStroke */ .mA)(i)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarker */ .MM)(i)&&i.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarkerStrokePlacement */ .zr)(i.markerPlacement))))switch(i.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":i.tintColor&&p(t,i.tintColor);break;case"CIMVectorMarker":i.markerGraphics?.forEach((e=>{y(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":p(t,i.color);break;case"CIMGradientFill":I(t,i);break;case"CIMHatchFill":y(i.lineSymbol,t)}}function p(e,t){for(const o of e)if(o.join(".")===t.join("."))return;e.push(t)}function I(e,t){const o=t.colorRamp?.type;switch(o){case"CIMMultipartColorRamp":t.colorRamp.colorRamps?.forEach((t=>{"CIMLinearContinuousColorRamp"===t.type&&b(e,t)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":b(e,t.colorRamp)}}function b(e,t){t&&(t.fromColor&&p(e,t.fromColor),t.toColor&&p(e,t.toColor))}function k(o,r,a){r instanceof _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A||(r=new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(r));const n=(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .toCIMSymbolJSON */ .lW)(o);n&&h(n,r,a)}function h(e,t,n){if(!e)return;let i;i="CIMTextSymbol"===e.type?e.symbol:e;const c="CIMPolygonSymbol"===i?.type;if(i?.symbolLayers)for(const l of i.symbolLayers){if(l.colorLocked)continue;if(c)if(n){const{layersToColor:e}=n;if(((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMStroke */ .mA)(l)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarker */ .MM)(l)&&l.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarkerStrokePlacement */ .zr)(l.markerPlacement))&&"fill"===e||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMFill */ .jn)(l)&&"outline"===e)continue}else if((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMStroke */ .mA)(l)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarker */ .MM)(l)&&l.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarkerStrokePlacement */ .zr)(l.markerPlacement))continue;const e=t.toArray();switch(l.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":l.tintColor=e;break;case"CIMVectorMarker":l.markerGraphics?.forEach((e=>{h(e.symbol,t,n)}));break;case"CIMSolidStroke":case"CIMSolidFill":l.color=e;break;case"CIMGradientFill":d(l,t);break;case"CIMHatchFill":h(l.lineSymbol,t,n)}}}function d(e,t){const o=e.colorRamp?.type;switch(o){case"CIMMultipartColorRamp":e.colorRamp.colorRamps?.forEach((e=>{"CIMLinearContinuousColorRamp"===e.type&&P(e,t)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":P(e.colorRamp,t)}}function P(e,t){if(e&&(e.fromColor&&(e.fromColor=t.toArray()),e.toColor)){const o=t.clone();o.a=0,e.toColor=o.toArray()}}function g(e,o=!1){const r=t(e);if("CIMTextSymbol"===r?.type||"CIMPointSymbol"===r?.type){const e=r.angle;return null!=e&&o?360-e:e??0}return 0}function S(e,o,a=!1){const n=t(e);if(a&&(o=360-o),"CIMTextSymbol"!==n?.type){if("CIMPointSymbol"===n?.type&&n.symbolLayers){const e=o-(n.angle||0);for(const t of n.symbolLayers)if(r(t)){let o=t.rotation||0;t.rotateClockwise?o-=e:o+=e,t.rotation=o}n.angle=o}}else n.angle=o}function L(e){const o=t(e);if(!o)return null;switch(o.type){case"CIMPointSymbol":return"CIMPointSymbol";case"CIMLineSymbol":return"CIMLineSymbol";case"CIMPolygonSymbol":return"CIMPolygonSymbol";case"CIMTextSymbol":return"CIMTextSymbol";case"CIMMeshSymbol":return"CIMMeshSymbol";default:return null}}


/***/ }),

/***/ 24461:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  dt: () => (/* binding */ L),
  GG: () => (/* binding */ N),
  UQ: () => (/* binding */ M),
  Sx: () => (/* binding */ utils_w)
});

// UNUSED EXPORTS: applyOpacityToColor, getCSSFilterFromEffectList, getIconHref, getSymbolOutlineColor, getSymbolOutlineSize, isVolumetricSymbol, symbolHasExtrudeSymbolLayer

// EXTERNAL MODULE: ./node_modules/@arcgis/core/Color.js
var Color = __webpack_require__(93814);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/asyncUtils.js
var asyncUtils = __webpack_require__(3132);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js
var vec3f64 = __webpack_require__(19913);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/effects/jsonUtils.js + 1 modules
var jsonUtils = __webpack_require__(39410);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js
var cimSymbolUtils = __webpack_require__(93611);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/assets.js
var assets = __webpack_require__(44764);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js
var request = __webpack_require__(38116);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/LRUCache.js + 1 modules
var LRUCache = __webpack_require__(49481);
;// ./node_modules/@arcgis/core/symbols/support/gfxUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const gfxUtils_i="picture-fill",a="simple-fill",l="simple-line",c="simple-marker",h="text",d="cim",m=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),p=new LRUCache/* LRUCache */.q(1e3);function u(e){const o=e.style;let s=null;if(e)switch(e.type){case c:"cross"!==o&&"x"!==o&&(s=e.color);break;case a:o&&"solid"!==o?"none"!==o&&(s={type:"pattern",x:0,y:0,src:t(`esri/symbols/patterns/${o}.png`),width:5,height:5}):s=e.color;break;case gfxUtils_i:s={type:"pattern",src:e.url,width:r(e.width)*e.xscale,height:r(e.height)*e.yscale,x:r(e.xoffset),y:r(e.yoffset)};break;case h:s=e.color;break;case d:s=n(e)}return s}function f(t,e){const s=t+"-"+e;return void 0!==p.get(s)?Promise.resolve(p.get(s)):o(t,{responseType:"image"}).then((t=>{const o=t.data,r=o.naturalWidth,n=o.naturalHeight,i=document.createElement("canvas");i.width=r,i.height=n;const a=i.getContext("2d");a.fillStyle=e,a.fillRect(0,0,r,n),a.globalCompositeOperation="destination-in",a.drawImage(o,0,0);const l=i.toDataURL();return p.put(s,l),l}))}function y(t){if(!t)return null;let e=null;switch(t.type){case a:case gfxUtils_i:case c:e=y(t.outline);break;case l:{const o=r(t.width);null!=t.style&&"none"!==t.style&&0!==o&&(e={color:t.color,style:w(t.style),width:o,cap:t.cap,join:"miter"===t.join?r(t.miterLimit):t.join},e.dashArray=g(e).join(",")||"none");break}default:e=null}return e}function g(t){if(!t?.style)return[];const{dashArray:e,style:o,width:s}=t;if("string"==typeof e&&"none"!==e)return e.split(",").map((t=>Number(t)));const r=s??0,n=m.has(o)?m.get(o).map((t=>t*r)):[];if("butt"!==t.cap)for(const[i,a]of n.entries())n[i]=i%2==1?a+r:Math.max(a-r,1);return n}const w=(()=>{const t={};return e=>{if(t[e])return t[e];const o=e.replaceAll("-","");return t[e]=o,o}})(),b=new Color/* default */.A([128,128,128]);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/Symbol3DMaterial.js + 1 modules
var Symbol3DMaterial = __webpack_require__(2933);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/typeUtils.js + 1 modules
var typeUtils = __webpack_require__(59343);
;// ./node_modules/@arcgis/core/symbols/support/utils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const utils_a=new Color/* default */.A("white");function utils_f(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.size}function utils_m(e){if(!e)return 0;if(s(e)){const t=utils_f(e);return null!=t?t:0}return r(i(e)?.width)}function utils_y(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.color}function utils_p(t){if(!t)return null;if(s(t))return utils_y(t);const r=i(t)?.color;return r?new e(r):null}function utils_h(e){if(null==e||!("symbolLayers"in e)||null==e.symbolLayers)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((e=>"object"===e.type));case"line-3d":return e.symbolLayers.some((e=>"path"===e.type));case"polygon-3d":return e.symbolLayers.some((e=>"object"===e.type||"extrude"===e.type));default:return!1}}function utils_b(e){return e.resource?.href??""}function utils_w(t,r){if(!t)return null;let o=null;return (0,typeUtils/* isSymbol3D */.wk)(t)?o=utils_d(t):(0,typeUtils/* isSymbol2D */.$y)(t)&&(o="cim"===t.type?(0,cimSymbolUtils/* getCIMSymbolColor */.Nk)(t):t.color?new Color/* default */.A(t.color):null),o?j(o,r):null}function utils_d(t){const r=t.symbolLayers;if(!r)return null;let o=null;return r.forEach((e=>{"object"===e.type&&e.resource?.href||(o="water"===e.type?e.color:e.material?e.material.color:null)})),o?new Color/* default */.A(o):null}function j(t,r){if(null==r||null==t)return t;const o=t.toRgba();return o[3]=o[3]*r,new Color/* default */.A(o)}function k(e,t,r){const o=e.symbolLayers;if(!o)return;const n=e=>j(t??e??(null!=r?utils_a:null),r);o.forEach((e=>{if("object"!==e.type||!e.resource?.href||t)if("water"===e.type)e.color=n(e.color);else{const t=null!=e.material?e.material.color:null,o=n(t);if(null==e.material?e.material=new Symbol3DMaterial/* Symbol3DMaterial */.N({color:o}):e.material.color=o,null!=r&&"outline"in e&&null!=e.outline?.color&&(e.outline.color=j(e.outline.color,r)),"marker"in e&&null!=e.marker){const t=n(e.marker.color);e.marker.color=t}}}))}function utils_g(e,t,r){(t=t??e.color)&&(e.color=j(t,r)),null!=r&&"outline"in e&&e.outline?.color&&(e.outline.color=j(e.outline.color,r))}function L(t,r,o){t&&(r||null!=o)&&(r&&(r=new Color/* default */.A(r)),(0,typeUtils/* isSymbol3D */.wk)(t)?k(t,r,o):(0,typeUtils/* isSymbol2D */.$y)(t)&&utils_g(t,r,o))}async function z(e,r){const o=e.symbolLayers;o&&await (0,asyncUtils/* forEach */.jJ)(o,(async e=>x(e,r)))}async function x(e,t){switch(e.type){case"extrude":v(e,t);break;case"icon":case"line":case"text":S(e,t);break;case"path":O(e,t);break;case"object":await E(e,t)}}function S(e,t){const r=U(t);null!=r&&(e.size=r)}function U(e){for(const t of e)if("number"==typeof t)return t;return null}function v(e,t){const r=t[2];"number"==typeof r&&(e.size=r)}async function E(e,t){const{resourceSize:r,symbolSize:o}=await C(e),n=R(t,r,o);null!=n&&(e.width=D(t[0],o[0],r[0],n),e.depth=D(t[1],o[1],r[1],n),e.height=D(t[2],o[2],r[2],n))}function O(e,t){const r=R(t,vec3f64/* ONES */.Un,[e.width,void 0,e.height]);null!=r&&(e.width=D(t[0],e.width,1,r),e.height=D(t[2],e.height,1,r))}function R(e,t,r){for(let o=0;o<3;o++){const n=e[o];switch(n){case"symbol-value":{const e=r[o];return null!=e?e/t[o]:1}case"proportional":break;default:if(n&&t[o])return n/t[o]}}return null}async function C(e){const{computeObjectLayerResourceSize:t}=await __webpack_require__.e(/* import() */ 8401).then(__webpack_require__.bind(__webpack_require__, 8401)),r=await t(e,10),{width:o,height:n,depth:l}=e,i=[o,l,n];let c=1;for(let s=0;s<3;s++){const e=i[s];if(null!=e){c=e/r[s];break}}for(let s=0;s<3;s++)null==i[s]&&(i[s]=r[s]*c);return{resourceSize:r,symbolSize:i}}function D(e,t,r,o){switch(e){case"proportional":return r*o;case"symbol-value":return null!=t?t:r;default:return e}}function J(e,t){const r=U(t);if(null!=r)switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":{const t=e.width/e.height;t>1?(e.width=r,e.height=r*t):(e.width=r*t,e.height=r);break}case"simple-line":e.width=r;break;case"text":e.font.size=r}}async function M(e,t){if(e&&t)return (0,typeUtils/* isSymbol3D */.wk)(e)?z(e,t):void((0,typeUtils/* isSymbol2D */.$y)(e)&&J(e,t))}function N(e,t,r){if(e&&null!=t)if((0,typeUtils/* isSymbol3D */.wk)(e)){const o=e.symbolLayers;o&&o.forEach((e=>{if("object"===e.type)switch(r){case"tilt":e.tilt=(e.tilt??0)+t;break;case"roll":e.roll=(e.roll??0)+t;break;default:e.heading=(e.heading??0)+t}"icon"===e.type&&(e.angle+=t)}))}else (0,typeUtils/* isSymbol2D */.$y)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle+=t))}function q(e){if(!e)return null;const t=e.effects.filter((e=>"bloom"!==e.type)).map((e=>e.toJSON()));return n(t)}function A(e){return null!=e&&"polygon-3d"===e.type&&e.symbolLayers.some((e=>"extrude"===e.type))}


/***/ }),

/***/ 486:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CW: () => (/* binding */ s)
/* harmony export */ });
/* unused harmony exports createAnimatedLinesData, createFlowFieldFromData, createParticlesMesh, createStreamlinesMesh, getStreamlines, loadImagery */
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80861);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4506);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(49175);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67498);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(8000);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(67488);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i=()=>_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getLogger("esri.views.2d.engine.flow.dataUtils"),a=10;async function s(t,e,r,o){const l=performance.now(),s=c(e,r),f=performance.now(),h=u(e,s,r.width,r.height),p=performance.now(),g=m(h,!0),y=performance.now(),x="Streamlines"===t?d(g,a):w(g),M=performance.now();return (0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("esri-2d-profiler")&&(i().info("I.1","_createFlowFieldFromData (ms)",Math.round(f-l)),i().info("I.2","_getStreamlines (ms)",Math.round(p-f)),i().info("I.3","createAnimatedLinesData (ms)",Math.round(y-p)),i().info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(M-y)),i().info("I.5","createFlowMesh (ms)",Math.round(M-l)),i().info("I.6","Mesh size (bytes)",x.vertexData.buffer.byteLength+x.indexData.buffer.byteLength)),await Promise.resolve(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .throwIfAborted */ .Te)(o),x}function c(t,e){const n=h(e.data,e.width,e.height,t.smoothing);if(t.interpolate){return(t,r)=>{const o=Math.floor(t),l=Math.floor(r);if(o<0||o>=e.width)return[0,0];if(l<0||l>=e.height)return[0,0];const i=t-o,a=r-l,s=o,c=l,f=o<e.width-1?o+1:o,u=l<e.height-1?l+1:l,h=n[2*(c*e.width+s)],m=n[2*(c*e.width+f)],d=n[2*(u*e.width+s)],w=n[2*(u*e.width+f)],p=n[2*(c*e.width+s)+1],g=n[2*(c*e.width+f)+1];return[(h*(1-a)+d*a)*(1-i)+(m*(1-a)+w*a)*i,(p*(1-a)+n[2*(u*e.width+s)+1]*a)*(1-i)+(g*(1-a)+n[2*(u*e.width+f)+1]*a)*i]}}return(t,r)=>{const o=Math.round(t),l=Math.round(r);return o<0||o>=e.width||l<0||l>=e.height?[0,0]:[n[2*(l*e.width+o)],n[2*(l*e.width+o)+1]]}}function f(t,e,n,r,o,l,i,a,s){const c=[];let f=n,u=r,h=0,[m,d]=e(f,u);m*=t.velocityScale,d*=t.velocityScale;const w=Math.sqrt(m*m+d*d);let p,g;c.push({x:f,y:u,t:h,speed:w});for(let y=0;y<t.verticesPerLine;y++){let[n,r]=e(f,u);n*=t.velocityScale,r*=t.velocityScale;const m=Math.sqrt(n*n+r*r);if(m<t.minSpeedThreshold)return c;const d=n/m,w=r/m;f+=d*t.segmentLength,u+=w*t.segmentLength;if(h+=t.segmentLength/m,Math.acos(d*p+w*g)>t.maxTurnAngle)return c;if(t.collisions){const t=Math.round(f*s),e=Math.round(u*s);if(t<0||t>i-1||e<0||e>a-1)return c;const n=l[e*i+t];if(-1!==n&&n!==o)return c;l[e*i+t]=o}c.push({x:f,y:u,t:h,speed:m}),p=d,g=w}return c}function u(t,e,n,o){const l=[],i=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A,a=1/Math.max(t.lineCollisionWidth,1),s=Math.round(n*a),c=Math.round(o*a),u=new Int32Array(s*c);for(let r=0;r<u.length;r++)u[r]=-1;const h=[];for(let r=0;r<o;r+=t.lineSpacing)for(let e=0;e<n;e+=t.lineSpacing)h.push({x:e,y:r,sort:i.getFloat()});h.sort(((t,e)=>t.sort-e.sort));for(const{x:r,y:m}of h)if(i.getFloat()<t.density){const n=f(t,e,r,m,l.length,u,s,c,a);if(n.length<2)continue;l.push(n)}return l}function h(t,e,n,r){if(0===r)return t;const o=Math.round(3*r),l=new Array(2*o+1);let i=0;for(let c=-o;c<=o;c++){const t=Math.exp(-c*c/(r*r));l[c+o]=t,i+=t}for(let c=-o;c<=o;c++)l[c+o]/=i;const a=new Float32Array(t.length);for(let c=0;c<n;c++)for(let n=0;n<e;n++){let r=0,i=0;for(let a=-o;a<=o;a++){if(n+a<0||n+a>=e)continue;const s=l[a+o];r+=s*t[2*(c*e+(n+a))],i+=s*t[2*(c*e+(n+a))+1]}a[2*(c*e+n)]=r,a[2*(c*e+n)+1]=i}const s=new Float32Array(t.length);for(let c=0;c<e;c++)for(let t=0;t<n;t++){let r=0,i=0;for(let s=-o;s<=o;s++){if(t+s<0||t+s>=n)continue;const f=l[s+o];r+=f*a[2*((t+s)*e+c)],i+=f*a[2*((t+s)*e+c)+1]}s[2*(t*e+c)]=r,s[2*(t*e+c)+1]=i}return s}function m(t,e){const n=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A,o=t.reduce(((t,e)=>t+e.length),0),l=new Float32Array(4*o),i=new Array(t.length);let a=0,s=0;for(const r of t){const t=a;for(const e of r)l[4*a]=e.x,l[4*a+1]=e.y,l[4*a+2]=e.t,l[4*a+3]=e.speed,a++;i[s++]={startVertex:t,numberOfVertices:r.length,totalTime:r[r.length-1].t,timeSeed:e?n.getFloat():0}}return{lineVertices:l,lineDescriptors:i}}function d(t,e){const n=9,{lineVertices:r,lineDescriptors:o}=t;let l=0,i=0;for(const m of o){l+=2*m.numberOfVertices;i+=6*(m.numberOfVertices-1)}const a=new Float32Array(l*n),s=new Uint32Array(i);let c=0,f=0;function u(){s[f++]=c-2,s[f++]=c,s[f++]=c-1,s[f++]=c,s[f++]=c+1,s[f++]=c-1}function h(t,e,r,o,l,i,s,f){const u=c*n;let h=0;a[u+h++]=t,a[u+h++]=e,a[u+h++]=1,a[u+h++]=r,a[u+h++]=i,a[u+h++]=s,a[u+h++]=o/2,a[u+h++]=l/2,a[u+h++]=f,c++,a[u+h++]=t,a[u+h++]=e,a[u+h++]=-1,a[u+h++]=r,a[u+h++]=i,a[u+h++]=s,a[u+h++]=-o/2,a[u+h++]=-l/2,a[u+h++]=f,c++}for(const m of o){const{totalTime:t,timeSeed:n}=m;let o=null,l=null,i=null,a=null,s=null,c=null;for(let f=0;f<m.numberOfVertices;f++){const d=r[4*(m.startVertex+f)],w=r[4*(m.startVertex+f)+1],p=r[4*(m.startVertex+f)+2],g=r[4*(m.startVertex+f)+3];let y=null,x=null,M=null,A=null;if(f>0){y=d-o,x=w-l;const r=Math.sqrt(y*y+x*x);if(y/=r,x/=r,f>1){let t=y+s,n=x+c;const r=Math.sqrt(t*t+n*n);t/=r,n/=r;const o=Math.min(1/(t*y+n*x),e);t*=o,n*=o,M=-n,A=t}else M=-x,A=y;null!==M&&null!==A&&(h(o,l,i,M,A,t,n,g),u())}o=d,l=w,i=p,s=y,c=x,a=g}h(o,l,i,-c,s,t,n,a)}return{vertexData:a,indexData:s}}function w(t){const e=16,n=1,r=2,{lineVertices:o,lineDescriptors:l}=t;let i=0,a=0;for(const U of l){const t=U.numberOfVertices-1;i+=4*t*2,a+=6*t*2}const s=new Float32Array(i*e),c=new Uint32Array(a);let f,u,h,m,d,w,p,g,y,x,M,A,I,V,F=0,v=0;function D(){c[v++]=F-8,c[v++]=F-7,c[v++]=F-6,c[v++]=F-7,c[v++]=F-5,c[v++]=F-6,c[v++]=F-4,c[v++]=F-3,c[v++]=F-2,c[v++]=F-3,c[v++]=F-1,c[v++]=F-2}function b(t,o,l,i,a,c,f,u,h,m,d,w,p,g){const y=F*e;let x=0;for(const e of[n,r])for(const n of[1,2,3,4])s[y+x++]=t,s[y+x++]=o,s[y+x++]=l,s[y+x++]=i,s[y+x++]=f,s[y+x++]=u,s[y+x++]=h,s[y+x++]=m,s[y+x++]=e,s[y+x++]=n,s[y+x++]=p,s[y+x++]=g,s[y+x++]=a/2,s[y+x++]=c/2,s[y+x++]=d/2,s[y+x++]=w/2,F++}function S(t,e){let n=y+M,r=x+A;const o=Math.sqrt(n*n+r*r);n/=o,r/=o;const l=y*n+x*r;n/=l,r/=l;let i=M+I,a=A+V;const s=Math.sqrt(i*i+a*a);i/=s,a/=s;const c=M*i+A*a;i/=c,a/=c,b(f,u,h,m,-r,n,d,w,p,g,-a,i,t,e),D()}function k(t,e,n,r,o,l){if(y=M,x=A,M=I,A=V,null==y&&null==x&&(y=M,x=A),null!=d&&null!=w){I=t-d,V=e-w;const n=Math.sqrt(I*I+V*V);I/=n,V/=n}null!=y&&null!=x&&S(o,l),f=d,u=w,h=p,m=g,d=t,w=e,p=n,g=r}function L(t,e){y=M,x=A,M=I,A=V,null==y&&null==x&&(y=M,x=A),null!=y&&null!=x&&S(t,e)}for(const U of l){f=null,u=null,h=null,m=null,d=null,w=null,p=null,g=null,y=null,x=null,M=null,A=null,I=null,V=null;const{totalTime:t,timeSeed:e}=U;for(let n=0;n<U.numberOfVertices;n++){k(o[4*(U.startVertex+n)],o[4*(U.startVertex+n)+1],o[4*(U.startVertex+n)+2],o[4*(U.startVertex+n)+3],t,e)}L(t,e)}return{vertexData:s,indexData:c}}function p(t,n){const r=n.pixels,{width:o,height:l}=n,i=new Float32Array(o*l*2),a=n.mask||new Uint8Array(o*l*2);if(n.mask||a.fill(255),"vector-uv"===t)for(let e=0;e<o*l;e++)i[2*e]=r[0][e],i[2*e+1]=-r[1][e];else if("vector-magdir"===t)for(let s=0;s<o*l;s++){const t=r[0][s],n=e(r[1][s]),o=Math.cos(n-Math.PI/2),l=Math.sin(n-Math.PI/2);i[2*s]=o*t,i[2*s+1]=l*t}return{data:i,mask:a,width:o,height:l}}async function g(t,e,n,r,a,s){const c=performance.now(),f=l(e.spatialReference);if(!f){const o=await y(t,e,n,r,a,s);return has("esri-2d-profiler")&&i().info("I.7","loadImagery, early exit (ms)",Math.round(performance.now()-c)),has("esri-2d-profiler")&&i().info("I.9","Number of parts",1),o}const[u,h]=f.valid,m=h-u,d=Math.ceil(e.width/m),w=e.width/d,p=Math.round(n/d);let g=e.xmin;const x=[],M=performance.now();for(let l=0;l<d;l++){const n=new o({xmin:g,xmax:g+w,ymin:e.ymin,ymax:e.ymax,spatialReference:e.spatialReference});x.push(y(t,n,p,r,a,s)),g+=w}const A=await Promise.all(x);has("esri-2d-profiler")&&i().info("I.8","All calls to _fetchPart (ms)",Math.round(performance.now()-M)),has("esri-2d-profiler")&&i().info("I.9","Number of parts",A.length);const I={data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};let V=0;for(const o of A){for(let t=0;t<o.height;t++)for(let e=0;e<o.width;e++)V+e>=n||(I.data[2*(t*n+V+e)]=o.data[2*(t*o.width+e)],I.data[2*(t*n+V+e)+1]=o.data[2*(t*o.width+e)+1],I.mask[t*n+V+e]=o.mask[t*o.width+e]);V+=o.width}return has("esri-2d-profiler")&&i().info("I.10","loadImagery, general exit (ms)",Math.round(performance.now()-c)),I}async function y(t,e,n,r,o,l){const i={requestProjectedLocalDirections:!0,signal:l};if(null!=o&&(i.timeExtent=o),"imagery"===t.type){await t.load({signal:l});const o=await t.internalFetchImage(e,n,r,i);if(null==o?.pixelData?.pixelBlock)return{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};return p(t.rasterInfo.dataType,o.pixelData.pixelBlock)}await t.load({signal:l});const a=await t.fetchPixels(e,n,r,i);if(null==a?.pixelBlock)return{data:new Float32Array(n*r*2),mask:new Uint8Array(n*r),width:n,height:r};return p(t.serviceRasterInfo.dataType,a.pixelBlock)}


/***/ }),

/***/ 29759:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   X: () => (/* binding */ A)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var A;!function(A){A[A.SAVE=0]="SAVE",A[A.SAVE_AS=1]="SAVE_AS"}(A||(A={}));


/***/ })

};
;