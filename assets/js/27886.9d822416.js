"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[27886],{80347:(t,e,n)=>{n.d(e,{A:()=>E,B:()=>d,C:()=>l,D:()=>f,E:()=>U,F:()=>x,H:()=>_,a:()=>C,b:()=>N,c:()=>i,d:()=>u,e:()=>S,f:()=>c,g:()=>A,h:()=>R,i:()=>a,j:()=>I,k:()=>g,l:()=>s,m:()=>v,n:()=>m,o:()=>b,q:()=>P,r:()=>T,s:()=>O,t:()=>L,u:()=>M,v:()=>D,w:()=>h,x:()=>B,y:()=>z,z:()=>p});var r=n(19913),o=n(78115);function s(t){const e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function h(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function d(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function E(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function p(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function A(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function N(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function I(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)}function O(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function g(t){const e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function M(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function T(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function m(t,e){const n=e[0],r=e[1],o=e[2];let s=n*n+r*r+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t}function S(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function R(t,e,n){const r=e[0],o=e[1],s=e[2],i=n[0],a=n[1],c=n[2];return t[0]=o*c-s*a,t[1]=s*i-r*c,t[2]=r*a-o*i,t}function v(t,e,n,r){const o=e[0],s=e[1],i=e[2];return t[0]=o+r*(n[0]-o),t[1]=s+r*(n[1]-s),t[2]=i+r*(n[2]-i),t}function L(t,e,n){const r=e[0],o=e[1],s=e[2];return t[0]=n[0]*r+n[4]*o+n[8]*s+n[12],t[1]=n[1]*r+n[5]*o+n[9]*s+n[13],t[2]=n[2]*r+n[6]*o+n[10]*s+n[14],t}function b(t,e,n){const r=e[0],o=e[1],s=e[2];return t[0]=r*n[0]+o*n[3]+s*n[6],t[1]=r*n[1]+o*n[4]+s*n[7],t[2]=r*n[2]+o*n[5]+s*n[8],t}function D(t,e,n){const r=n[0],o=n[1],s=n[2],i=n[3],a=e[0],c=e[1],u=e[2],l=o*u-s*c,f=s*a-r*u,h=r*c-o*a,d=o*h-s*f,E=s*l-r*h,p=r*f-o*l,A=2*i;return t[0]=a+l*A+2*d,t[1]=c+f*A+2*E,t[2]=u+h*A+2*p,t}const y=(0,r.vt)(),w=(0,r.vt)();function P(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function U(t,e,n){const r=n[0]-e[0],o=n[1]-e[1],s=n[2]-e[2];let i=r*r+o*o+s*s;return i>0?(i=1/Math.sqrt(i),t[0]=r*i,t[1]=o*i,t[2]=s*i,t):(t[0]=0,t[1]=0,t[2]=0,t)}const C=u,F=l,V=f,x=I,B=O,_=s,z=g;Object.freeze(Object.defineProperty({__proto__:null,abs:h,add:c,angle:function(t,e){m(y,t),m(w,e);const n=S(y,w);return n>1?0:n<-1?Math.PI:Math.acos(n)},bezier:function(t,e,n,r,o,s){const i=1-s,a=i*i,c=s*s,u=a*i,l=3*s*a,f=3*c*i,h=c*s;return t[0]=e[0]*u+n[0]*l+r[0]*f+o[0]*h,t[1]=e[1]*u+n[1]*l+r[1]*f+o[1]*h,t[2]=e[2]*u+n[2]*l+r[2]*f+o[2]*h,t},ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},clamp:function(t,e=0,n=1){return t[0]=Math.min(Math.max(t[0],e),n),t[1]=Math.min(Math.max(t[1],e),n),t[2]=Math.min(Math.max(t[2],e),n),t},copy:i,cross:R,crossAndNormalize:function(t,e,n){const r=e[0],o=e[1],s=e[2],i=n[0],a=n[1],c=n[2],u=o*c-s*a,l=s*i-r*c,f=r*a-o*i,h=Math.sqrt(u*u+l*l+f*f);return t[0]=u/h,t[1]=l/h,t[2]=f/h,t},direction:U,dist:x,distance:I,div:V,divide:f,dot:S,equals:function(t,e){if(t===e)return!0;const n=t[0],r=t[1],s=t[2],i=e[0],a=e[1],c=e[2],u=(0,o.FD)();return Math.abs(n-i)<=u*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=u*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-c)<=u*Math.max(1,Math.abs(s),Math.abs(c))},exactEquals:P,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},hermite:function(t,e,n,r,o,s){const i=s*s,a=i*(2*s-3)+1,c=i*(s-2)+s,u=i*(s-1),l=i*(3-2*s);return t[0]=e[0]*a+n[0]*c+r[0]*u+o[0]*l,t[1]=e[1]*a+n[1]*c+r[1]*u+o[1]*l,t[2]=e[2]*a+n[2]*c+r[2]*u+o[2]*l,t},inverse:T,len:_,length:s,lerp:v,max:p,min:E,mul:F,multiply:l,negate:M,normalize:m,random:function(t,e=1){const n=o.Ov,r=2*n()*Math.PI,s=2*n()-1,i=Math.sqrt(1-s*s)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=s*e,t},rotateX:function(t,e,n,r){const o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[0],s[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),s[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},rotateY:function(t,e,n,r){const o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),s[1]=o[1],s[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},rotateZ:function(t,e,n,r){const o=[],s=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],s[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),s[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),s[2]=o[2],t[0]=s[0]+n[0],t[1]=s[1]+n[1],t[2]=s[2]+n[2],t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:A,scaleAndAdd:N,set:a,sign:d,sqrDist:B,sqrLen:z,squaredDistance:O,squaredLength:g,str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},sub:C,subtract:u,transformMat3:b,transformMat4:L,transformQuat:D},Symbol.toStringTag,{value:"Module"}))},56560:(t,e,n)=>{function r(){return[0,0]}function o(t,e){return[t,e]}function s(){return[0,0]}function i(){return o(1,1)}function a(){return o(1,0)}function c(){return o(0,1)}n.d(e,{Un:()=>l,fA:()=>o,vt:()=>r});const u=[0,0],l=i(),f=a(),h=c();Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:f,UNIT_Y:h,ZEROS:u,clone:function(t){return[t[0],t[1]]},create:r,freeze:function(t,e){return[t,e]},fromArray:function(t,e=[0,0]){const n=Math.min(2,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e},fromValues:o,ones:i,unitX:a,unitY:c,zeros:s},Symbol.toStringTag,{value:"Module"}))},95431:(t,e,n)=>{n.d(e,{b:()=>s});var r=n(4506),o=n(51831);function s(t,e,n){const s=Array.isArray(t),l=s?t.length/e:t.byteLength/(4*e),f=s?t:new Uint32Array(t,0,l*e),h=n?.minReduction??0,d=n?.originalIndices||null,E=d?d.length:0,p=n?.componentOffsets||null;let A=0;if(p)for(let r=0;r<p.length-1;r++){const t=p[r+1]-p[r];t>A&&(A=t)}else A=l;const N=Math.floor(1.1*A)+1;(null==u||u.length<2*N)&&(u=new Uint32Array((0,r.cU)(2*N)));for(let r=0;r<2*N;r++)u[r]=0;let I=0;const O=!!p&&!!d,g=O?E:l;let M=(0,o.my)(l);const T=new Uint32Array(E),m=1.96;let S=0!==h?Math.ceil(4*m*m/(h*h)*h*(1-h)):g,R=1,v=p?p[1]:g;for(let r=0;r<g;r++){if(r===S){const t=1-I/r;if(t+m*Math.sqrt(t*(1-t)/r)<h)return null;S*=2}if(r===v){for(let t=0;t<2*N;t++)u[t]=0;if(d)for(let t=p[R-1];t<p[R];t++)T[t]=M[d[t]];v=p[++R]}const t=O?d[r]:r,n=t*e,o=c(f,n,e);let s=o%N,a=I;for(;0!==u[2*s+1];){if(u[2*s]===o){const t=u[2*s+1]-1;if(i(f,n,t*e,e)){a=M[t];break}}s++,s>=N&&(s-=N)}a===I&&(u[2*s]=o,u[2*s+1]=t+1,I++),M[t]=a}if(0!==h&&1-I/l<h)return null;if(O){for(let t=p[R-1];t<T.length;t++)T[t]=M[d[t]];M=(0,o.uW)(T)}const L=s?new Array(I):new Uint32Array(I*e);I=0;for(let r=0;r<g;r++)M[r]===I&&(a(f,(O?d[r]:r)*e,L,I*e,e),I++);if(d&&!O){const t=new Uint32Array(E);for(let e=0;e<t.length;e++)t[e]=M[d[e]];M=(0,o.uW)(t)}return{buffer:Array.isArray(L)?L:L.buffer,indices:M,uniqueCount:I}}function i(t,e,n,r){for(let o=0;o<r;o++)if(t[e+o]!==t[n+o])return!1;return!0}function a(t,e,n,r,o){for(let s=0;s<o;s++)n[r+s]=t[e+s]}function c(t,e,n){let r=0;for(let o=0;o<n;o++)r=t[e+o]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let u=null},29386:(t,e,n)=>{n.d(e,{U:()=>s});var r=n(68716),o=n(67277);function s(t,e=0){const n=t.stride;return Array.from(t.fields.keys()).map((r=>{const s=t.fields.get(r),a=s.constructor.ElementCount,c=i(s.constructor.ElementType),u=s.offset,l=s.optional?.glNormalized??!1;return new o._(r,a,c,u,n,l,e)}))}function i(t){const e=a[t];if(e)return e;throw new Error("BufferType not supported in WebGL")}const a={u8:r.pe.UNSIGNED_BYTE,u16:r.pe.UNSIGNED_SHORT,u32:r.pe.UNSIGNED_INT,i8:r.pe.BYTE,i16:r.pe.SHORT,i32:r.pe.INT,f16:r.pe.HALF_FLOAT,f32:r.pe.FLOAT}},33763:(t,e,n)=>{var r;n.d(e,{r:()=>r}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.UVI="uvi",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.ROTATION="rotation",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.NEXTDELTA="nextDelta",t.PREVIOUSDELTA="previousDelta",t.U0="u0",t.LINEPARAMETERS="lineParameters",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.PROFILEAUXDATA="profileAuxData",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.START_UP="startUp",t.END_UP="endUp",t.EXTRUDE="extrude",t.OLIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))},14511:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var r=n(7724);function o(t,e){return e.push(t.buffer),{buffer:t.buffer,layout:new r.l5(t.layout)}}var s=n(3628),i=n(91545),a=n(58795);class c{async extract(t){const e=u(t),n=(0,a.o6)(e),r=[e.data.buffer];return{result:l(n,r),transferList:r}}async extractComponentsEdgeLocations(t){const e=u(t),n=(0,a.hx)(e.data,e.skipDeduplicate,e.indices,e.indicesLength),r=[];return{result:o((0,i.K)(n,h).regular.instancesData,r),transferList:r}}async extractEdgeLocations(t){const e=u(t),n=(0,a.hx)(e.data,e.skipDeduplicate,e.indices,e.indicesLength),r=[];return{result:o((0,i.K)(n,f).regular.instancesData,r),transferList:r}}}function u(t){return{data:s.I$.createView(t.dataBuffer),indices:"Uint32Array"===t.indicesType?new Uint32Array(t.indices):"Uint16Array"===t.indicesType?new Uint16Array(t.indices):t.indices,indicesLength:t.indicesLength,writerSettings:t.writerSettings,skipDeduplicate:t.skipDeduplicate}}function l(t,e){return e.push(t.regular.lodInfo.lengths.buffer),e.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:o(t.regular.instancesData,e),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:o(t.silhouette.instancesData,e),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}const f=new class{allocate(t){return a.Jb.createBuffer(t)}trim(t,e){return t.slice(0,e)}write(t,e,n){t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1)}},h=new class{allocate(t){return a.HY.createBuffer(t)}trim(t,e){return t.slice(0,e)}write(t,e,n){t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex)}}},3628:(t,e,n)=>{n.d(e,{I$:()=>i,In:()=>u,gr:()=>c});var r=n(29386),o=n(7724),s=n(33763);const i=(0,o.BP)().vec3f(s.r.POSITION).u16(s.r.COMPONENTINDEX).freeze(),a=(0,o.BP)().vec2u8(s.r.SIDENESS).freeze(),c=((0,r.U)(a),(0,o.BP)().vec3f(s.r.POSITION0).vec3f(s.r.POSITION1).vec2i16(s.r.NORMALCOMPRESSED).u16(s.r.COMPONENTINDEX).u8(s.r.VARIANTOFFSET,{glNormalized:!0}).u8(s.r.VARIANTSTROKE).u8(s.r.VARIANTEXTENSION,{glNormalized:!0}).freeze()),u=(0,o.BP)().vec3f(s.r.POSITION0).vec3f(s.r.POSITION1).vec2i16(s.r.NORMALCOMPRESSED).vec2i16(s.r.NORMAL2COMPRESSED).u16(s.r.COMPONENTINDEX).u8(s.r.VARIANTOFFSET,{glNormalized:!0}).u8(s.r.VARIANTSTROKE).u8(s.r.VARIANTEXTENSION,{glNormalized:!0}).freeze();new Map([[s.r.POSITION0,0],[s.r.POSITION1,1],[s.r.COMPONENTINDEX,2],[s.r.VARIANTOFFSET,3],[s.r.VARIANTSTROKE,4],[s.r.VARIANTEXTENSION,5],[s.r.NORMALCOMPRESSED,6],[s.r.NORMAL2COMPRESSED,7],[s.r.SIDENESS,8]])},91545:(t,e,n)=>{n.d(e,{K:()=>c});var r=n(4506),o=n(11268),s=n(80347),i=n(19913);const a=-1;function c(t,e,n){const r=t.vertices.position,o=t.vertices.componentIndex,i=p.position0,c=p.position1,f=p.faceNormal0,d=p.faceNormal1,{edges:E,normals:A}=l(t),N=E.length/4,I=e.allocate(N);let O=0;const g=N,m=n?.allocate(g);let R=0,v=0,L=0;h.length=0;for(let a=0;a<N;++a){const t=4*a;r.getVec(E.data[t],i),r.getVec(E.data[t+1],c);const e=h.pushNew();e.index=4*a,e.length=(0,s.j)(i,c)}h.sort(((t,e)=>e.length-t.length));const b=new Array,D=new Array;h.forAll((({length:t,index:l})=>{const h=E.data[l],N=E.data[l+1],g=E.data[l+2],y=E.data[l+3],w=y===a;if(r.getVec(h,i),r.getVec(N,c),w){const t=3*g;(0,s.i)(f,A.data[t],A.data[t+1],A.data[t+2]),(0,s.c)(d,f),p.componentIndex=o.get(h),p.cosAngle=(0,s.e)(f,d)}else{let t=3*g;if((0,s.i)(f,A.data[t],A.data[t+1],A.data[t+2]),t=3*y,(0,s.i)(d,A.data[t],A.data[t+1],A.data[t+2]),p.componentIndex=o.get(h),p.cosAngle=(0,s.e)(f,d),function(t,e){return t.cosAngle>e}(p,T))return;p.cosAngle<-.9999&&(0,s.c)(d,f)}v+=t,L++,w||function(t,e){return t.cosAngle<e}(p,S)?(e.write(I,O++,p),b.push(t)):u(p,M)&&(m&&n&&n.write(m,R++,p),D.push(t))}));const y=new Float32Array(b.reverse()),w=new Float32Array(D.reverse()),P=m&&n?{instancesData:m.slice(0,R),lodInfo:{lengths:w}}:void 0;return{regular:{instancesData:I.slice(0,O),lodInfo:{lengths:y}},silhouette:P,averageEdgeLength:v/L}}function u(t,e){const n=(0,r.XM)(t.cosAngle);return(0,s.E)(N,t.position1,t.position0),n*((0,s.e)((0,s.h)(A,t.faceNormal0,t.faceNormal1),N)>0?-1:1)>e}function l(t){const e=t.faces.length/3,n=t.faces,r=t.neighbors,o=t.vertices.position;d.length=E.length=0;for(let i=0;i<e;i++){const t=3*i,e=r[t],c=r[t+1],u=r[t+2],l=n[t],f=n[t+1],h=n[t+2];o.getVec(l,I),o.getVec(f,O),o.getVec(h,g),(0,s.d)(O,O,I),(0,s.d)(g,g,I),(0,s.h)(I,O,g),(0,s.n)(I,I),E.pushArray(I),(e===a||l<f)&&(d.push(l),d.push(f),d.push(i),d.push(e)),(c===a||f<h)&&(d.push(f),d.push(h),d.push(i),d.push(c)),(u===a||h<l)&&(d.push(h),d.push(l),d.push(i),d.push(u))}return{edges:d,normals:E}}class f{constructor(){this.index=0,this.length=0}}const h=new o.A({allocator:t=>t||new f,deallocator:null}),d=new o.A({deallocator:null}),E=new o.A({deallocator:null}),p=new class{constructor(){this.position0=(0,i.vt)(),this.position1=(0,i.vt)(),this.faceNormal0=(0,i.vt)(),this.faceNormal1=(0,i.vt)(),this.componentIndex=0,this.cosAngle=0}},A=(0,i.vt)(),N=(0,i.vt)(),I=(0,i.vt)(),O=(0,i.vt)(),g=(0,i.vt)(),M=(0,r.kU)(4),T=Math.cos(M),m=(0,r.kU)(35),S=Math.cos(m)},58795:(t,e,n)=>{n.d(e,{o6:()=>b,HY:()=>C,hx:()=>D,Jb:()=>U});var r=n(95431);function o(t,e,n){const r=e/3,o=new Uint32Array(n+1),s=new Uint32Array(n+1),i=(t,e)=>{t<e?o[t+1]++:s[e+1]++};for(let N=0;N<r;N++){const e=t[3*N],n=t[3*N+1],r=t[3*N+2];i(e,n),i(n,r),i(r,e)}let a=0,c=0;for(let N=0;N<n;N++){const t=o[N+1],e=s[N+1];o[N+1]=a,s[N+1]=c,a+=t,c+=e}const u=new Uint32Array(6*r),l=o[n],f=(t,e,n)=>{if(t<e){const r=o[t+1]++;u[2*r]=e,u[2*r+1]=n}else{const r=s[e+1]++;u[2*l+2*r]=t,u[2*l+2*r+1]=n}};for(let N=0;N<r;N++){const e=t[3*N],n=t[3*N+1],r=t[3*N+2];f(e,n,N),f(n,r,N),f(r,e,N)}const h=(t,e)=>{const n=2*t,r=e-t;for(let o=1;o<r;o++){const t=u[n+2*o],e=u[n+2*o+1];let r=o-1;for(;r>=0&&u[n+2*r]>t;r--)u[n+2*r+2]=u[n+2*r],u[n+2*r+3]=u[n+2*r+1];u[n+2*r+2]=t,u[n+2*r+3]=e}};for(let N=0;N<n;N++)h(o[N],o[N+1]),h(l+s[N],l+s[N+1]);const d=new Int32Array(3*r),E=(e,n)=>e===t[3*n]?0:e===t[3*n+1]?1:e===t[3*n+2]?2:-1,p=(t,e)=>{const n=E(t,e);d[3*e+n]=-1},A=(t,e,n,r)=>{const o=E(t,e);d[3*e+o]=r;const s=E(n,r);d[3*r+s]=e};for(let N=0;N<n;N++){let t=o[N];const e=o[N+1];let n=s[N];const r=s[N+1];for(;t<e&&n<r;){const e=u[2*t],r=u[2*l+2*n];e===r?(A(N,u[2*t+1],r,u[2*l+2*n+1]),t++,n++):e<r?(p(N,u[2*t+1]),t++):(p(r,u[2*l+2*n+1]),n++)}for(;t<e;)p(N,u[2*t+1]),t++;for(;n<r;)p(u[2*l+2*n],u[2*l+2*n+1]),n++}return d}var s=n(7724),i=n(33763),a=n(3628),c=n(67498),u=n(80347),l=n(19913),f=n(29386),h=n(4506);n(68435),n(62088);function d(t,e,n,r,o,s=2){const i=1/(Math.abs(n)+Math.abs(r)+Math.abs(o)),a=n*i,c=r*i,u=o<=0?(a>=0?1:-1)*(1-Math.abs(c)):a,l=o<=0?(c>=0?1:-1)*(1-Math.abs(a)):c,f=e*s;t[f]=E(u),t[f+1]=E(l)}function E(t){return(0,h.qE)(Math.round(32767*t),-32767,32767)}class p{updateSettings(t){this.settings=t,this._edgeHashFunction=t.reducedPrecision?g:O}write(t,e,n){v.seed=this._edgeHashFunction(n);const r=v.getIntRange(0,255),o=v.getIntRange(0,this.settings.variants-1),s=v.getFloat(),i=255*(.5*function(t,e){return Math.abs(t)**e*Math.sign(t)}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7),1.2)+.5);t.position0.setVec(e,n.position0),t.position1.setVec(e,n.position1),t.componentIndex.set(e,n.componentIndex),t.variantOffset.set(e,r),t.variantStroke.set(e,o),t.variantExtension.set(e,i)}}const A=new Float32Array(6),N=new Uint32Array(A.buffer),I=new Uint32Array(1);function O(t){return A[0]=t.position0[0],A[1]=t.position0[1],A[2]=t.position0[2],A[3]=t.position1[0],A[4]=t.position1[1],A[5]=t.position1[2],I[0]=31*(31*(31*(31*(31*(166811+N[0])+N[1])+N[2])+N[3])+N[4])+N[5],I[0]}function g(t){const e=A;e[0]=T(t.position0[0]),e[1]=T(t.position0[1]),e[2]=T(t.position0[2]),e[3]=T(t.position1[0]),e[4]=T(t.position1[1]),e[5]=T(t.position1[2]),I[0]=5381;for(let n=0;n<N.length;n++)I[0]=31*I[0]+N[n];return I[0]}const M=1e4;function T(t){return Math.round(t*M)/M}class m{constructor(){this._commonWriter=new p}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.gr.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n),(0,u.f)(R,n.faceNormal0,n.faceNormal1),(0,u.n)(R,R);const{typedBuffer:r,typedBufferStride:o}=t.normalCompressed;d(r,e,R[0],R[1],R[2],o)}static{this.Layout=a.gr}static{this.glLayout=(0,f.U)(a.gr,1)}}class S{constructor(){this._commonWriter=new p}updateSettings(t){this._commonWriter.updateSettings(t)}allocate(t){return a.In.createBuffer(t)}write(t,e,n){this._commonWriter.write(t,e,n);{const{typedBuffer:r,typedBufferStride:o}=t.normalCompressed;d(r,e,n.faceNormal0[0],n.faceNormal0[1],n.faceNormal0[2],o)}{const{typedBuffer:r,typedBufferStride:o}=t.normal2Compressed;d(r,e,n.faceNormal1[0],n.faceNormal1[1],n.faceNormal1[2],o)}}static{this.Layout=a.In}static{this.glLayout=(0,f.U)(a.In,1)}}const R=(0,l.vt)(),v=new c.A;var L=n(91545);function b(t){const e=D(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return w.updateSettings(t.writerSettings),P.updateSettings(t.writerSettings),(0,L.K)(e,w,P)}function D(t,e,n,s){if(e){const e=o(n,s,t.count);return new y(n,s,e,t)}const i=(0,r.b)(t.buffer,t.stride/4,{originalIndices:n}),c=o(i.indices,s,i.uniqueCount);return{faces:i.indices,facesLength:i.indices.length,neighbors:c,vertices:a.I$.createView(i.buffer)}}class y{constructor(t,e,n,r){this.faces=t,this.facesLength=e,this.neighbors=n,this.vertices=r}}const w=new m,P=new S,U=(0,s.BP)().vec3f(i.r.POSITION0).vec3f(i.r.POSITION1),C=(0,s.BP)().vec3f(i.r.POSITION0).vec3f(i.r.POSITION1).u16(i.r.COMPONENTINDEX)},67277:(t,e,n)=>{n.d(e,{_:()=>r});class r{constructor(t,e,n,r,o,s=!1,i=0){this.name=t,this.count=e,this.type=n,this.offset=r,this.stride=o,this.normalized=s,this.divisor=i}}}}]);