"use strict";
exports.id = 9107;
exports.ids = [9107];
exports.modules = {

/***/ 22636:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ o),
/* harmony export */   R: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _Theme_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41167);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n extends _Theme_js__WEBPACK_IMPORTED_MODULE_0__.a5{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),a=this.height(),r=e,n=a,o=r/Math.abs(e),h=n/Math.abs(a);if((0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.g)(r)&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.g)(n)){let e=Math.min(r,n)/2,s=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.az)(this.get("cornerRadiusTL",8),e),a=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.az)(this.get("cornerRadiusTR",8),e),c=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.az)(this.get("cornerRadiusBR",8),e),l=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.az)(this.get("cornerRadiusBL",8),e),d=Math.min(Math.abs(r/2),Math.abs(n/2));s=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.aj)(s,0,d),a=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.aj)(a,0,d),c=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.aj)(c,0,d),l=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.aj)(l,0,d);const b=this._display;b.moveTo(s*o,0),b.lineTo(r-a*o,0),a>0&&b.arcTo(r,0,r,a*h,a),b.lineTo(r,n-c*h),c>0&&b.arcTo(r,n,r-c*o,n,c),b.lineTo(l*o,n),l>0&&b.arcTo(0,n,0,n-l*h,l),b.lineTo(0,s*h),s>0&&b.arcTo(0,0,s*o,0,s),b.closePath()}}}Object.defineProperty(n,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(n,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a5.classNames.concat([n.className])});class o extends _Theme_js__WEBPACK_IMPORTED_MODULE_0__.a3{_afterNew(){this._settings.themeTags=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ak)(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",n.new(this._root,{themeTags:(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ak)(this._settings.themeTags,["background"])}))}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const e=this._prevSettings.icon,s=this.get("icon");s!==e&&(this._disposeProperty("icon"),e&&e.dispose(),s&&this.children.push(s),this._prevSettings.icon=s)}if(this.isDirty("label")){const e=this._prevSettings.label,s=this.get("label");s!==e&&(this._disposeProperty("label"),e&&e.dispose(),s&&this.children.push(s),this._prevSettings.label=s)}}}Object.defineProperty(o,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(o,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a3.classNames.concat([o.className])});


/***/ }),

/***/ 72929:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _Theme_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41167);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s extends _Theme_js__WEBPACK_IMPORTED_MODULE_0__.E{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),s=this.get("colors",[this.get("baseColor",_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",s.length);const r=this.getPrivate("numColors"),a=0,i=this.get("passOptions"),o=this.get("reuse");for(let n=a;n<r;n++)if(o)s.push(s[n]);else{const r=s[n].toHSL();let a=r.h+(i.hue||0)*e;for(;a>1;)a-=1;let o=r.s+(i.saturation||0)*e;o>1&&(o=1),o<0&&(o=0);let l=r.l+(i.lightness||0)*e;for(;l>1;)l-=1;s.push(_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHSL(a,o,l))}}getIndex(e){const s=this.get("colors",[]),r=this.get("saturation");return e>=s.length?(this.generateColors(),this.getIndex(e)):null!=r?_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.saturate(s[e],r):s[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(s,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(s,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.E.classNames.concat([s.className])});


/***/ }),

/***/ 20166:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ s),
/* harmony export */   s: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _Theme_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41167);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(e,t,o,a){e.set(t,o.get(a)),o.on(a,(o=>{e.set(t,o)}))}class s extends _Theme_js__WEBPACK_IMPORTED_MODULE_0__.am{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,s=this._root.interfaceColors,d=this._root.horizontalLayout,c=this._root.verticalLayout,u=this.rule.bind(this);u("InterfaceColors").setAll({stroke:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(15066597),fill:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(15987699),primaryButton:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(6788316),primaryButtonHover:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(6779356),primaryButtonDown:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(6872182),primaryButtonActive:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(6872182),primaryButtonText:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(16777215),primaryButtonStroke:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(16777215),secondaryButton:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(14277081),secondaryButtonHover:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(10724259),secondaryButtonDown:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(9276813),secondaryButtonActive:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(15132390),secondaryButtonText:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(0),secondaryButtonStroke:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(16777215),grid:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(0),background:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(16777215),alternativeBackground:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(0),text:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(0),alternativeText:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(16777215),disabled:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(11382189),positive:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(5288704),negative:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(11730944)});{const e=u("ColorSet");e.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),e.setPrivate("currentStep",0),e.setPrivate("currentPass",0)}u("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.an)(_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ap)}),u("Component").setAll({interpolationDuration:0,interpolationEasing:(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.an)(_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ap)}),u("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,tooltipY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,tooltipPosition:"fixed",isMeasured:!0}),u("Sprite").states.create("default",{visible:!0,opacity:1}),u("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),u("Graphics").setAll({strokeWidth:1}),u("Chart").setAll({width:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,height:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,interactiveChildren:!1}),u("Sprite",["horizontal","center"]).setAll({centerX:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,x:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao}),u("Sprite",["vertical","center"]).setAll({centerY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,y:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao}),u("Container",["horizontal","layout"]).setAll({layout:d}),u("Container",["vertical","layout"]).setAll({layout:c}),u("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),u("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),u("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),u("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),u("LinearGradient").setAll({rotation:90}),u("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a1.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),u("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:d,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const e=u("Rectangle",["legend","item","background"]);e.setAll({fillOpacity:0}),l(e,"fill",s,"background")}u("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),u("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,height:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const e=u("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});l(e,"fill",s,"disabled"),l(e,"stroke",s,"disabled")}u("Label",["legend","label"]).setAll({centerY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});l(u("Label",["legend","label"]).states.create("disabled",{}),"fill",s,"disabled");u("Label",["legend","value","label"]).setAll({centerY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,populateText:!0});l(u("Label",["legend","value","label"]).states.create("disabled",{}),"fill",s,"disabled");u("HeatLegend").setAll({stepCount:1}),u("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),u("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,width:15}),u("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,height:15}),u("HeatLegend",["vertical"]).setAll({height:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4}),u("HeatLegend",["horizontal"]).setAll({width:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4}),u("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),u("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const e=u("Label");e.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),l(e,"fill",s,"text")}u("RadialLabel").setAll({textType:"regular",centerY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,centerX:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,inside:!1,radius:0,baseRadius:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,orientation:"auto",textAlign:"center"}),u("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),u("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),u("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const e=u("Tick");e.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),l(e,"stroke",s,"grid")}u("Bullet").setAll({locationX:.5,locationY:.5}),u("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,centerY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,animationEasing:(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.an)(_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ap),exportable:!1}),u("Polygon").setAll({animationEasing:(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.an)(_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ap)});u("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.C.fromHex(16777215)});{const e=u("Label",["tooltip"]);e.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),l(e,"fill",s,"alternativeText")}u("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:d,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),u("Button").states.create("hover",{}),u("Button").states.create("down",{stateAnimationDuration:0}),u("Button").states.create("active",{});{const e=u("RoundedRectangle",["button","background"]);l(e,"fill",s,"primaryButton"),l(e,"stroke",s,"primaryButtonStroke")}l(u("RoundedRectangle",["button","background"]).states.create("hover",{}),"fill",s,"primaryButtonHover");l(u("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0}),"fill",s,"primaryButtonDown");l(u("RoundedRectangle",["button","background"]).states.create("active",{}),"fill",s,"primaryButtonActive");l(u("Graphics",["button","icon"]),"stroke",s,"primaryButtonText");l(u("Label",["button"]),"fill",s,"primaryButtonText");u("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const e=u("RoundedRectangle",["background","button","zoom"]);e.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),l(e,"fill",s,"primaryButton")}l(u("RoundedRectangle",["background","button","zoom"]).states.create("hover",{}),"fill",s,"primaryButtonHover");l(u("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0}),"fill",s,"primaryButtonDown");{const e=u("Graphics",["icon","button","zoom"]);e.setAll({crisp:!0,strokeOpacity:.7,draw:e=>{e.moveTo(0,0),e.lineTo(12,0)}}),l(e,"stroke",s,"primaryButtonText")}u("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,centerY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const e=u("RoundedRectangle",["background","resize","button"]);e.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),l(e,"fill",s,"secondaryButton"),l(e,"stroke",s,"secondaryButtonStroke")}l(u("RoundedRectangle",["background","resize","button"]).states.create("hover",{}),"fill",s,"secondaryButtonHover");l(u("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0}),"fill",s,"secondaryButtonDown");{const e=u("Graphics",["resize","button","icon"]);e.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:e=>{e.moveTo(0,.5),e.lineTo(0,12.5),e.moveTo(4,.5),e.lineTo(4,12.5)}}),l(e,"stroke",s,"secondaryButtonText")}u("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),u("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),u("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const e=u("RoundedRectangle",["play","background"]);e.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),l(e,"fill",s,"primaryButton")}{const e=u("Graphics",["play","icon"]);e.setAll({stateAnimationDuration:0,dx:1,draw:e=>{e.moveTo(0,-5),e.lineTo(8,0),e.lineTo(0,5),e.lineTo(0,-5)}}),l(e,"fill",s,"primaryButtonText")}u("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),u("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:e=>{e.moveTo(-4,-5),e.lineTo(-1,-5),e.lineTo(-1,5),e.lineTo(-4,5),e.lineTo(-4,-5),e.moveTo(4,-5),e.lineTo(1,-5),e.lineTo(1,5),e.lineTo(4,5),e.lineTo(4,-5)}}),u("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const e=u("RoundedRectangle",["switch","background"]);e.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),l(e,"fill",s,"primaryButton")}{const e=u("Circle",["switch","icon"]);e.setAll({radius:8,centerY:0,centerX:0,dx:0}),l(e,"fill",s,"primaryButtonText")}u("Graphics",["switch","icon"]).states.create("active",{dx:16}),u("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:(0,_Theme_js__WEBPACK_IMPORTED_MODULE_0__.an)(_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ap)}),u("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4}),u("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const e=u("RoundedRectangle",["scrollbar","main","background"]);e.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),l(e,"fill",s,"fill")}{const e=u("RoundedRectangle",["scrollbar","thumb"]);e.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),l(e,"fill",s,"secondaryButton")}l(u("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{}),"fill",s,"secondaryButtonHover");l(u("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0}),"fill",s,"secondaryButtonDown");u("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,width:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,centerX:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,ariaLabel:e.translate("Use up and down arrows to move selection")}),u("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,centerY:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.ao,height:_Theme_js__WEBPACK_IMPORTED_MODULE_0__.a4,ariaLabel:e.translate("Use left and right arrows to move selection")});{const e=u("PointedRectangle",["axis","tooltip","background"]);e.setAll({cornerRadius:0}),l(e,"fill",s,"alternativeBackground")}u("Label",["axis","tooltip"]).setAll({role:void 0}),u("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),u("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),u("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),u("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),u("Star").setAll({spikes:5,innerRadius:5,radius:10}),u("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),u("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),u("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),u("SpriteResizer").setAll({rotationStep:10});u("Container",["resizer","grip"]).states.create("hover",{});{const e=u("RoundedRectangle",["resizer","grip"]);e.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),l(e,"fill",s,"background"),l(e,"stroke",s,"alternativeBackground")}{const e=u("RoundedRectangle",["resizer","grip","outline"]);e.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),e.states.create("hover",{fillOpacity:.3}),l(e,"fill",s,"alternativeBackground")}u("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),u("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const e=u("Rectangle",["resizer","rectangle"]);e.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),l(e,"stroke",s,"alternativeBackground")}}}


/***/ }),

/***/ 41167:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ Ge),
/* harmony export */   A: () => (/* binding */ I),
/* harmony export */   B: () => (/* binding */ c),
/* harmony export */   C: () => (/* binding */ Zt),
/* harmony export */   D: () => (/* binding */ B),
/* harmony export */   E: () => (/* binding */ Ee),
/* harmony export */   F: () => (/* binding */ dt),
/* harmony export */   G: () => (/* binding */ L),
/* harmony export */   H: () => (/* binding */ ht),
/* harmony export */   I: () => (/* binding */ pt),
/* harmony export */   J: () => (/* binding */ y),
/* harmony export */   K: () => (/* binding */ D),
/* harmony export */   L: () => (/* binding */ P),
/* harmony export */   M: () => (/* binding */ H),
/* harmony export */   N: () => (/* binding */ Re),
/* harmony export */   O: () => (/* binding */ b),
/* harmony export */   P: () => (/* binding */ u),
/* harmony export */   Q: () => (/* binding */ K),
/* harmony export */   R: () => (/* binding */ z),
/* harmony export */   S: () => (/* binding */ ue),
/* harmony export */   T: () => (/* binding */ Xe),
/* harmony export */   U: () => (/* binding */ ut),
/* harmony export */   V: () => (/* binding */ A),
/* harmony export */   W: () => (/* binding */ _t),
/* harmony export */   X: () => (/* binding */ pe),
/* harmony export */   Y: () => (/* binding */ ne),
/* harmony export */   Z: () => (/* binding */ Dt),
/* harmony export */   _: () => (/* binding */ N),
/* harmony export */   a: () => (/* binding */ d),
/* harmony export */   a0: () => (/* binding */ ze),
/* harmony export */   a1: () => (/* binding */ Ye),
/* harmony export */   a2: () => (/* binding */ we),
/* harmony export */   a3: () => (/* binding */ Qe),
/* harmony export */   a4: () => (/* binding */ Y),
/* harmony export */   a5: () => (/* binding */ Ve),
/* harmony export */   a6: () => (/* binding */ $t),
/* harmony export */   a7: () => (/* binding */ We),
/* harmony export */   a8: () => (/* binding */ at),
/* harmony export */   a9: () => (/* binding */ ot),
/* harmony export */   aA: () => (/* binding */ e),
/* harmony export */   aB: () => (/* binding */ vt),
/* harmony export */   aC: () => (/* binding */ oe),
/* harmony export */   aD: () => (/* binding */ V),
/* harmony export */   aE: () => (/* binding */ Be),
/* harmony export */   aF: () => (/* binding */ Gt),
/* harmony export */   aG: () => (/* binding */ je),
/* harmony export */   aH: () => (/* binding */ S),
/* harmony export */   aI: () => (/* binding */ te),
/* harmony export */   aJ: () => (/* binding */ re),
/* harmony export */   aK: () => (/* binding */ le),
/* harmony export */   aL: () => (/* binding */ de),
/* harmony export */   aM: () => (/* binding */ Fe),
/* harmony export */   aN: () => (/* binding */ ge),
/* harmony export */   aa: () => (/* binding */ $),
/* harmony export */   ab: () => (/* binding */ De),
/* harmony export */   ac: () => (/* binding */ et),
/* harmony export */   ad: () => (/* binding */ v),
/* harmony export */   ae: () => (/* binding */ Ot),
/* harmony export */   af: () => (/* binding */ $e),
/* harmony export */   ag: () => (/* binding */ ti),
/* harmony export */   ah: () => (/* binding */ ft),
/* harmony export */   ai: () => (/* binding */ Pe),
/* harmony export */   aj: () => (/* binding */ he),
/* harmony export */   ak: () => (/* binding */ zt),
/* harmony export */   al: () => (/* binding */ ei),
/* harmony export */   am: () => (/* binding */ ii),
/* harmony export */   an: () => (/* binding */ fe),
/* harmony export */   ao: () => (/* binding */ X),
/* harmony export */   ap: () => (/* binding */ me),
/* harmony export */   ar: () => (/* binding */ ae),
/* harmony export */   as: () => (/* binding */ W),
/* harmony export */   at: () => (/* binding */ gt),
/* harmony export */   au: () => (/* binding */ w),
/* harmony export */   av: () => (/* binding */ ke),
/* harmony export */   aw: () => (/* binding */ lt),
/* harmony export */   ax: () => (/* binding */ F),
/* harmony export */   ay: () => (/* binding */ Ht),
/* harmony export */   az: () => (/* binding */ bt),
/* harmony export */   b: () => (/* binding */ J),
/* harmony export */   c: () => (/* binding */ kt),
/* harmony export */   d: () => (/* binding */ p),
/* harmony export */   e: () => (/* binding */ m),
/* harmony export */   f: () => (/* binding */ q),
/* harmony export */   g: () => (/* binding */ l),
/* harmony export */   h: () => (/* binding */ It),
/* harmony export */   i: () => (/* binding */ h),
/* harmony export */   j: () => (/* binding */ Bt),
/* harmony export */   k: () => (/* binding */ M),
/* harmony export */   l: () => (/* binding */ At),
/* harmony export */   m: () => (/* binding */ St),
/* harmony export */   n: () => (/* binding */ n),
/* harmony export */   o: () => (/* binding */ st),
/* harmony export */   p: () => (/* binding */ yt),
/* harmony export */   q: () => (/* binding */ Ct),
/* harmony export */   r: () => (/* binding */ jt),
/* harmony export */   s: () => (/* binding */ Et),
/* harmony export */   t: () => (/* binding */ Mt),
/* harmony export */   u: () => (/* binding */ s),
/* harmony export */   v: () => (/* binding */ Tt),
/* harmony export */   w: () => (/* binding */ Q),
/* harmony export */   x: () => (/* binding */ _),
/* harmony export */   y: () => (/* binding */ rt),
/* harmony export */   z: () => (/* binding */ it)
/* harmony export */ });
/* unused harmony export aq */
/* harmony import */ var _tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(t){return Number(t)!==t}function i(t){return{}.toString.call(t)}function s(t){if(null!=t&&!l(t)){let i=Number(t);return e(i)&&h(t)&&""!=t?s(t.replace(/[^0-9.\-]+/g,"")):i}return t}function r(t){if(o(t))return new Date(t);if(l(t))return new Date(t);{let e=Number(t);return l(e)?new Date(e):new Date(t)}}function n(t){if(e(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(0===t&&1/t==-1/0)return"-0";let i=t<0;t=Math.abs(t);let s,r=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t),n=r[1],o=r[2]||"";if(void 0===r[3])s=""===o?n:n+"."+o;else{let e=+r[3];if(t<1){s="0."+a("0",e-1)+n+o}else{let t=e-o.length;s=0===t?n+o:t<0?n+o.slice(0,t)+"."+o.slice(t):n+o+a("0",t)}}return i?"-"+s:s}function a(t,e){return new Array(e+1).join(t)}function o(t){return"[object Date]"===i(t)}function h(t){return"string"==typeof t}function l(t){return"number"==typeof t&&Number(t)==t}function d(t){return"object"==typeof t&&null!==t}const u="__§§§__",p="__§§§§__";function c(t,e){const i=t.length;for(let s=0;s<i;++s)if(t[s]===e)return s;return-1}function g(t,e){const i=t.length;for(let s=0;s<i;++s)if(e(t[s]))return!0;return!1}function _(t,e){const i=t.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=e(t[r],r);return s}function m(t,e){const i=t.length;for(let s=0;s<i;++s)e(t[s],s)}function f(t,e){let i=t.length;for(;i>0;)--i,e(t[i],i)}function b(t,e){const i=t.length;for(let s=0;s<i&&e(t[s],s);++s);}function v(t,e){let i=!1,s=0;for(;;){if(s=t.indexOf(e,s),-1===s)return i;i=!0,t.splice(s,1)}}function y(t,e){let i=t.indexOf(e);return-1!==i&&(t.splice(i,1),!0)}function w(t,e,i){let s=c(t,e);-1!==s&&k(t,s),null==i?t.push(e):x(t,i,e)}function P(t,e){-1===t.indexOf(e)&&t.push(e)}function D(t){const e=t.length,i=new Array(e);for(let s=0;s<e;++s)i[s]=t[s];return i}function x(t,e,i){t.splice(e,0,i)}function k(t,e){t.splice(e,1)}function O(t,e){const i=t.length;for(let s=0;s<i;++s)if(e(t[s],s))return s;return-1}function T(t,e){let i=t.length;for(;i>0;)if(--i,e(t[i],i))return i;return-1}function S(t,e){const i=O(t,e);if(-1!==i)return t[i]}function j(t,e){const i=T(t,e);if(-1!==i)return t[i]}function E(t,e){let i=0,s=t.length,r=!1;for(;i<s;){const n=i+s>>1,a=e(t[n]);a<0?i=n+1:0===a?(r=!0,i=n+1):s=n}return{found:r,index:r?i-1:i}}function C(t,e){let i=0,s=t.length,r=!1;for(;i<s;){const n=i+s>>1,a=e(t[n]);a<0?i=n+1:0===a?(r=!0,s=n):s=n}return{found:r,index:i}}function M(t,e){let i=t.length;for(;i>0;)--i,e(t[i])||t.splice(i,1)}class A{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class B{constructor(t){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=t}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class I extends A{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){m(this._disposers,(t=>{t.dispose()}))}}class H extends A{constructor(t){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=t}_dispose(){m(this._disposers,(t=>{t.dispose()}))}get disposers(){return this._disposers}}class L extends B{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new B((()=>{--this._counter,0===this._counter&&this.dispose()}))}}class N{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const t=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{m(t,(t=>{t.disposer.dispose()}))}finally{this._killed=null,this._iterating=null}}}hasListeners(){return 0!==this._listeners.length}hasListenersByType(t){return g(this._listeners,(e=>(null===e.type||e.type===t)&&!e.killed))}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(t){delete this._disabled[t]}disableType(t,e=1/0){this._disabled[t]=e}_removeListener(t){if(0===this._iterating){const e=this._listeners.indexOf(t);if(-1===e)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(t)}_removeExistingListener(t,e,i,s){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((r=>{r.once!==t||r.type!==e||void 0!==i&&r.callback!==i||r.context!==s||r.disposer.dispose()}))}isEnabled(t){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(t)&&void 0===this._disabled[t]}removeType(t){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((e=>{e.type===t&&e.disposer.dispose()}))}has(t,e,i){return-1!==O(this._listeners,(s=>!0!==s.once&&s.type===t&&(void 0===e||s.callback===e)&&s.context===i))}_shouldDispatch(t){if(this._disposed)throw new Error("EventDispatcher is disposed");const e=this._disabled[t];return l(e)?(e<=1?delete this._disabled[t]:--this._disabled[t],!1):this._enabled}_eachListener(t){++this._iterating;try{m(this._listeners,t)}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(m(this._killed,(t=>{this._removeListener(t)})),this._killed.length=0)}}dispatch(t,e){this._shouldDispatch(t)&&this._eachListener((i=>{i.killed||null!==i.type&&i.type!==t||i.dispatch(t,e)}))}_on(t,e,i,s,r,n){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(t,e,i,s);const a={type:e,callback:i,context:s,shouldClone:r,dispatch:n,killed:!1,once:t,disposer:new B((()=>{a.killed=!0,this._removeListener(a)}))};return this._listeners.push(a),a}onAll(t,e,i=!0){return this._on(!1,null,t,e,i,((i,s)=>t.call(e,s))).disposer}on(t,e,i,s=!0){return this._on(!1,t,e,i,s,((t,s)=>e.call(i,s))).disposer}once(t,e,i,s=!0){const r=this._on(!0,t,e,i,s,((t,s)=>{r.disposer.dispose(),e.call(i,s)}));return r.disposer}off(t,e,i){this._removeExistingListener(!1,t,e,i)}copyFrom(t){if(this._disposed)throw new Error("EventDispatcher is disposed");if(t===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const e=[];return m(t._listeners,(t=>{!t.killed&&t.shouldClone&&(null===t.type?e.push(this.onAll(t.callback,t.context)):t.once?e.push(this.once(t.type,t.callback,t.context)):e.push(this.on(t.type,t.callback,t.context)))})),new H(e)}}function R(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}class F{constructor(t=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new N}),this._values=t}get values(){return this._values}contains(t){return-1!==this._values.indexOf(t)}removeValue(t){let e=0,i=this._values.length;for(;e<i;)this._values[e]===t?(this.removeIndex(e),--i):++e}indexOf(t){return c(this._values,t)}get length(){return this._values.length}hasIndex(t){return t>=0&&t<this._values.length}getIndex(t){return this._values[t]}_onPush(t){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:t})}_onInsertIndex(t,e){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e})}_onSetIndex(t,e,i){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:t,oldValue:e,newValue:i})}_onRemoveIndex(t,e){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:t,oldValue:e})}_onMoveIndex(t,e,i){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:t,newIndex:e,value:i})}_onClear(t){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:t})}setIndex(t,e){R(t,this._values.length);const i=this._values[t];return i!==e&&(this._values[t]=e,this._onSetIndex(t,i,e)),i}insertIndex(t,e){return R(t,this._values.length+1),x(this._values,t,e),this._onInsertIndex(t,e),e}swap(t,e){const i=this._values.length;if(R(t,i),R(e,i),t!==e){const i=this._values[t],s=this._values[e];this._values[t]=s,this._onSetIndex(t,i,s),this._values[e]=i,this._onSetIndex(e,s,i)}}removeIndex(t){R(t,this._values.length);const e=this._values[t];return k(this._values,t),this._onRemoveIndex(t,e),e}moveValue(t,e){let i=this.indexOf(t);if(-1!==i)if(k(this._values,i),null==e){const e=this._values.length;this._values.push(t),this._onMoveIndex(i,e,t)}else x(this._values,e,t),this._onMoveIndex(i,e,t);else null==e?(this._values.push(t),this._onPush(t)):(x(this._values,e,t),this._onInsertIndex(e,t));return t}push(t){return this._values.push(t),this._onPush(t),t}unshift(t){return this.insertIndex(0,t),t}pushAll(t){m(t,(t=>{this.push(t)}))}copyFrom(t){this.pushAll(t._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(t){const e=this._values;this._values=[],this._onClear(e),m(t,(t=>{this._values.push(t),this._onPush(t)}))}clear(){this.setAll([])}*[Symbol.iterator](){const t=this._values.length;for(let e=0;e<t;++e)yield this._values[e]}each(t){m(this._values,t)}eachReverse(t){f(this._values,t)}}class W extends F{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_onSetIndex(t,e,i){this.autoDispose&&e.dispose(),super._onSetIndex(t,e,i)}_onRemoveIndex(t,e){this.autoDispose&&e.dispose(),super._onRemoveIndex(t,e)}_onClear(t){this.autoDispose&&m(t,(t=>{t.dispose()})),super._onClear(t)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this.autoDispose&&m(this._values,(t=>{t.dispose()})))}}class V extends W{constructor(t,e){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=t,this.make=e}}class U extends F{constructor(t){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=t,this._events=this.events.onAll((t=>{if("clear"===t.type)m(t.oldValues,(t=>{this._onRemoved(t)}));else if("push"===t.type)this._onInserted(t.newValue);else if("setIndex"===t.type)this._onRemoved(t.oldValue),this._onInserted(t.newValue,t.index);else if("insertIndex"===t.type)this._onInserted(t.newValue,t.index);else if("removeIndex"===t.type)this._onRemoved(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");this._onRemoved(t.value),this._onInserted(t.value,t.newIndex)}}))}_onInserted(t,e){t._setParent(this._container,!0);const i=this._container._childrenDisplay;void 0===e?i.addChild(t._display):i.addChildAt(t._display,e)}_onRemoved(t){this._container._childrenDisplay.removeChild(t._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),m(this.values,(t=>{t.dispose()})))}}class K{constructor(t){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=t}get value(){return this._value/100}get percent(){return this._value}toString(){return this._value+"%"}interpolate(t,e){return t+this.value*(e-t)}static normalize(t,e,i){return t instanceof K?t:new K(e===i?0:100*Math.min(Math.max(1/(i-e)*(t-e),0),1))}}function z(t){return new K(t)}const G=z(0),Y=z(100),X=z(50);function $(t){return Object.keys(t)}function Z(t,e){return $(t).sort(e)}function J(t){return Object.assign({},t)}function q(t,e){$(t).forEach((i=>{e(i,t[i])}))}function Q(t,e){for(let i in t)if(tt(t,i)&&!e(i,t[i]))break}function tt(t,e){return{}.hasOwnProperty.call(t,e)}function et(t){t.parentNode&&t.parentNode.removeChild(t)}function it(t,e,i,s){return t.addEventListener(e,i,s||!1),new B((()=>{t.removeEventListener(e,i,s||!1)}))}function st(t){return it(window,"resize",(e=>{t()}))}function rt(t){switch(t){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function nt(t){return t.pointerId||0}function at(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let t=document.createElement("button");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}}function ot(t){t&&t.focus()}function ht(t){if(rt("pointerevents"))return t;if(rt("touchevents"))switch(t){case"pointerover":case"pointerdown":return"touchstart";case"pointerout":case"pointerleave":case"pointerup":return"touchend";case"pointermove":return"touchmove";case"click":return"click";case"dblclick":return"dblclick"}else if(rt("mouseevents"))switch(t){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return t}function lt(t){if("undefined"!=typeof Touch&&t instanceof Touch)return!0;if("undefined"!=typeof PointerEvent&&t instanceof PointerEvent&&null!=t.pointerType)switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(null!=t.type&&t.type.match(/^mouse/))return!1;return!0}function dt(t,e,i){t.style[e]=i}function ut(t,e){return t.style[e]}function pt(t){if(t.composedPath){const e=t.composedPath();return 0===e.length?null:e[0]}return t.target}function ct(t,e){let i=e;for(;;){if(t===i)return!0;if(null===i.parentNode){if(null==i.host)return!1;i=i.host}else i=i.parentNode}}function gt(t,e){return t.target&&ct(e.root.dom,t.target)}function _t(t,e){t.style.pointerEvents=e?"auto":"none"}function mt(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function ft(){return mt()?1:void 0}function bt(t,e){return l(t)?t:null!=t&&l(t.value)&&l(e)?e*t.value:0}function vt(t){let e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function yt(t,e=0,i="0"){return"string"!=typeof t&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(i)+t:t}function wt(t){return t.replace(/^[\s]*/,"")}function Pt(t){return t.replace(/[\s]*$/,"")}function Dt(t){return wt(Pt(t))}function xt(t){if(void 0===t)return"string";let e=(t=(t=(t=t.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return e?e[1]:"number"===t?"number":"date"===t?"date":"duration"===t?"duration":t.match(/[#0]/)?"number":t.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function kt(t){return t.replace(/\/(date|number|duration)$/i,"")}function Ot(t){return t?t.replace(/<[^>]*>/g,""):t}function Tt(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function St(t,e=!1){const i=new Date(t.getFullYear(),0,0),s=t.getTime()-i.getTime()+60*(i.getTimezoneOffset()-t.getTimezoneOffset())*1e3,r=864e5;return Math.floor(s/r)}function jt(t,e=!1){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),s=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-s);const r=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i.getTime()-r.getTime())/864e5+1)/7)}function Et(t,e=!1){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),s=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-s);return new Date(Date.UTC(i.getUTCFullYear(),0,1)).getFullYear()}function Ct(t,e=!1){const i=jt(new Date(t.getFullYear(),t.getMonth(),1),e);let s=jt(t,e);return 1==s&&(s=53),s-i+1}function Mt(t,e,i=1,s=!1){let r=new Date(e,0,4,0,0,0,0);return s&&r.setUTCFullYear(e),7*t+i-((r.getDay()||7)+3)}function At(t,e){return t>12?t-=12:0===t&&(t=12),null!=e?t+(e-1):t}function Bt(t,e=!1,i=!1,s=!1,r){if(s)return e?"Coordinated Universal Time":"UTC";if(r){const i=t.toLocaleString("en-US",{timeZone:r});return Dt(t.toLocaleString("en-US",{timeZone:r,timeZoneName:e?"long":"short"}).substr(i.length))}let n=t.toLocaleString("UTC"),a=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(n.length);return!1===i&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),a}function It(t){const e=new Date(Date.UTC(2012,0,1,0,0,0,0)),i=new Date(e.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(e.toLocaleString("en-US",{timeZone:t})).getTime()-i.getTime())/6e4*-1}function Ht(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Lt(t){let e,i,s,r=t.h,n=t.s,a=t.l;if(0==n)e=i=s=a;else{let t=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},o=a<.5?a*(1+n):a+n-a*n,h=2*a-o;e=t(h,o,r+1/3),i=t(h,o,r),s=t(h,o,r-1/3)}return{r:Math.round(255*e),g:Math.round(255*i),b:Math.round(255*s)}}function Nt(t){let e=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(e,i,s),n=Math.min(e,i,s),a=0,o=0,h=(r+n)/2;if(r===n)a=o=0;else{let t=r-n;switch(o=h>.5?t/(2-r-n):t/(r+n),r){case e:a=(i-s)/t+(i<s?6:0);break;case i:a=(s-e)/t+2;break;case s:a=(e-i)/t+4}a/=6}return{h:a,s:o,l:h}}function Rt(t,e){return t?{r:Math.max(0,Math.min(255,t.r+Ft(t.r,e))),g:Math.max(0,Math.min(255,t.g+Ft(t.g,e))),b:Math.max(0,Math.min(255,t.b+Ft(t.b,e))),a:t.a}:t}function Ft(t,e){let i=e>0?255-t:t;return Math.round(i*e)}function Wt(t,e){if(t){let i=Ft(Math.min(Math.max(t.r,t.g,t.b),230),e);return{r:Math.max(0,Math.min(255,Math.round(t.r+i))),g:Math.max(0,Math.min(255,Math.round(t.g+i))),b:Math.max(0,Math.min(255,Math.round(t.b+i))),a:t.a}}return t}function Vt(t){return(299*t.r+587*t.g+114*t.b)/1e3>=128}function Ut(t,e){if(void 0===t||1==e)return t;let i=Nt(t);return i.s=e,Lt(i)}function Kt(t,e={r:255,g:255,b:255},i={r:255,g:255,b:255}){let s=e,r=i;return Vt(i)&&(s=i,r=e),Vt(t)?r:s}function zt(t,e){return t||(t=[]),[...t,...e].filter(((t,e,i)=>i.indexOf(t)===e))}function Gt(t,e){return!!e&&(t.left==e.left&&(t.right==e.right&&(t.top==e.top&&t.bottom==e.bottom)))}function Yt(t){return"#"===t[0]&&(t=t.substr(1)),3==t.length&&(t=t[0].repeat(2)+t[1].repeat(2)+t[2].repeat(2)),parseInt(t,16)}function Xt(t){let e=(t=t.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let i="";for(let s=1;s<=3;s++){let t=parseInt(e[s]).toString(16);1==t.length&&(t="0"+t),i+=t}return Yt(i)}function $t(t){return Zt.fromAny(t)}class Zt{constructor(t){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=0|t}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return 255&this._hex}toCSS(t=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+t+")"}toCSSHex(){return"#"+yt(this.r.toString(16),2)+yt(this.g.toString(16),2)+yt(this.b.toString(16),2)}toHSL(t=1){return Nt({r:this.r,g:this.g,b:this.b,a:t})}static fromHSL(t,e,i){const s=Lt({h:t,s:e,l:i});return this.fromRGB(s.r,s.g,s.b)}toString(){return this.toCSSHex()}static fromHex(t){return new Zt(t)}static fromRGB(t,e,i){return new Zt((0|i)+(e<<8)+(t<<16))}static fromString(t){return new Zt(Yt(t))}static fromCSS(t){return new Zt(Xt(t))}static fromAny(t){if(h(t)){if("#"==t[0])return Zt.fromString(t);if("rgb"==t.substr(0,3))return Zt.fromCSS(t)}else{if(l(t))return Zt.fromHex(t);if(t instanceof Zt)return Zt.fromHex(t.hex)}throw new Error("Unknown color syntax: "+t)}static alternative(t,e,i){const s=Kt({r:t.r,g:t.g,b:t.b},e?{r:e.r,g:e.g,b:e.b}:void 0,i?{r:i.r,g:i.g,b:i.b}:void 0);return this.fromRGB(s.r,s.g,s.b)}static interpolate(t,e,i,s="rgb"){if("hsl"==s){const s=e.toHSL(),r=i.toHSL();return Zt.fromHSL(qt(t,s.h,r.h),qt(t,s.s,r.s),qt(t,s.l,r.l))}return Zt.fromRGB(qt(t,e.r,i.r),qt(t,e.g,i.g),qt(t,e.b,i.b))}static lighten(t,e){const i=Rt({r:t.r,g:t.g,b:t.b},e);return Zt.fromRGB(i.r,i.g,i.b)}static brighten(t,e){const i=Wt({r:t.r,g:t.g,b:t.b},e);return Zt.fromRGB(i.r,i.g,i.b)}static saturate(t,e){const i=Ut({r:t.r,g:t.g,b:t.b},e);return Zt.fromRGB(i.r,i.g,i.b)}}function Jt(e){return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){if(void 0!==e){const t=[];q(e,((e,i)=>{t.push(i.waitForStop())})),yield Promise.all(t)}}))}function qt(t,e,i){return e+t*(i-e)}function Qt(t,e,i){return t>=1?i:e}function te(t,e,i){return new K(qt(t,e.percent,i.percent))}function ee(t,e,i){return Zt.interpolate(t,e,i)}function ie(t,e){return"number"==typeof t&&"number"==typeof e?qt:t instanceof K&&e instanceof K?te:t instanceof Zt&&e instanceof Zt?ee:Qt}const se=Math.PI,re=se/180,ne=180/se;function ae(t,e,i){if(!l(e)||e<=0){let e=Math.round(t);return i&&e-t==.5&&e--,e}{let i=Math.pow(10,e);return Math.round(t*i)/i}}function oe(t,e){if(!l(e)||e<=0)return Math.ceil(t);{let i=Math.pow(10,e);return Math.ceil(t*i)/i}}function he(t,e,i){return Math.min(Math.max(t,e),i)}function le(t){return Math.sin(re*t)}function de(t){return Math.cos(re*t)}function ue(t){return(t%=360)<0&&(t+=360),t}function pe(t,e,i,s,r){let n=Number.MAX_VALUE,a=Number.MAX_VALUE,o=-Number.MAX_VALUE,h=-Number.MAX_VALUE,l=[];l.push(ce(r,i)),l.push(ce(r,s));let d=Math.min(90*Math.floor(i/90),90*Math.floor(s/90)),u=Math.max(90*Math.ceil(i/90),90*Math.ceil(s/90));for(let p=d;p<=u;p+=90)p>=i&&p<=s&&l.push(ce(r,p));for(let p=0;p<l.length;p++){let t=l[p];t.x<n&&(n=t.x),t.y<a&&(a=t.y),t.x>o&&(o=t.x),t.y>h&&(h=t.y)}return{left:t+n,top:e+a,right:t+o,bottom:e+h}}function ce(t,e){return{x:t*de(e),y:t*le(e)}}function ge(t){const e=t.length;if(e>0){let i=t[0],s=i.left,r=i.top,n=i.right,a=i.bottom;if(e>1)for(let o=1;o<e;o++)i=t[o],s=Math.min(i.left,s),n=Math.max(i.right,n),r=Math.min(i.top,r),a=Math.max(i.bottom,a);return{left:s,right:n,top:r,bottom:a}}return{left:0,right:0,top:0,bottom:0}}function _e(t){return t}function me(t){return t*t*t}function fe(t){return function(e){return 1-t(1-e)}}class be{constructor(t,e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t,this._settings=e,q(e,(t=>{this._userSettings[t]=!0}))}get(t,e){const i=this._settings[t];return void 0!==i?i:e}setRaw(t,e){this._settings[t]=e}set(t,e){this._userSettings[t]=!0,this.setRaw(t,e)}remove(t){delete this._userSettings[t],delete this._settings[t]}setAll(t){$(t).forEach((e=>{this.set(e,t[e])}))}_eachSetting(t){q(this._settings,t)}apply(){const t={stateAnimationEasing:!0,stateAnimationDuration:!0},e=this._entity.states.lookup("default");this._eachSetting(((i,s)=>{t[i]||(t[i]=!0,this!==e&&(i in e._settings||(e._settings[i]=this._entity.get(i))),this._entity.set(i,s))}))}applyAnimate(t){null==t&&(t=this._settings.stateAnimationDuration),null==t&&(t=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let e=this._settings.stateAnimationEasing;null==e&&(e=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",me)));const i=this._entity.states.lookup("default"),s={stateAnimationEasing:!0,stateAnimationDuration:!0},r={};return this._eachSetting(((n,a)=>{if(!s[n]){s[n]=!0,this!=i&&(n in i._settings||(i._settings[n]=this._entity.get(n)));const o=this._entity.animate({key:n,to:a,duration:t,easing:e});o&&(r[n]=o)}})),r}}class ve{constructor(t){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=t}lookup(t){return this._states[t]}create(t,e){const i=this._states[t];if(i)return i.setAll(e),i;{const i=new be(this._entity,e);return this._states[t]=i,i}}remove(t){delete this._states[t]}apply(t){const e=this._states[t];e&&e.apply(),this._entity._applyState(t)}applyAnimate(t,e){let i;const s=this._states[t];return s&&(i=s.applyAnimate(e)),this._entity._applyStateAnimated(t,e),i}}class ye{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.4.8"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}const we=new ye;function Pe(t){we.licenses.push(t)}function De(t,e){return t===e?0:t<e?-1:1}function xe(t,e,i){const s=t.length,r=e.length,n=Math.min(s,r);for(let a=0;a<n;++a){const s=i(t[a],e[a]);if(0!==s)return s}return De(s,r)}function ke(t,e){return t===e?0:t<e?-1:1}class Oe{constructor(t){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=t}add(t,e){let i=this._callbacks[t];return void 0===i&&(i=this._callbacks[t]=[]),i.push(e),this._entity._markDirtyKey(t),new B((()=>{y(i,e)&&this._entity._markDirtyKey(t)}))}remove(t){const e=this._callbacks[t];void 0!==e&&(delete this._callbacks[t],0!==e.length&&this._entity._markDirtyKey(t))}enable(t){this._disabled[t]&&(delete this._disabled[t],this._entity._markDirtyKey(t))}disable(t){this._disabled[t]||(this._disabled[t]=!0,this._entity._markDirtyKey(t))}fold(t,e){if(!this._disabled[t]){const i=this._callbacks[t];if(void 0!==i)for(let s=0,r=i.length;s<r;++s)e=i[s](e,this._entity,t)}return e}}class Te{constructor(t,e,i,s,r,n,a){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new N}),this._animation=t,this._from=e,this._to=i,this._duration=s,this._easing=r,this._loops=n,this._interpolate=ie(e,i),this._oldTime=a}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){this._stopped||this._playing||(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise(((t,e)=>{if(this._stopped)t();else{const e=()=>{i.dispose(),t()},i=this.events.on("stopped",e)}}))}_checkEnded(){return!(this._loops>1)||(--this._loops,!1)}_run(t){null!==this._oldTime&&(this._time+=t-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=t}_reset(t){this._oldTime=t,this._time=0}_value(t){return this._interpolate(this._easing(t),this._from,this._to)}}let Se=0;class je{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++Se}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_playingAnimations",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=t}_checkDirty(){$(this._settings).forEach((t=>{this._userProperties[t]=!0,this._markDirtyKey(t)}))}resetUserSettings(){this._userProperties={}}_runAnimation(t){return!this.isDisposed()&&(q(this._animatingSettings,((e,i)=>{if(i._stopped)this._stopAnimation(e);else if(i._playing){i._run(t);const s=i.percentage;s>=1?i._checkEnded()?this.set(e,i._value(1)):(i._reset(t),this._set(e,i._value(1))):this._set(e,i._value(s))}})),q(this._animatingPrivateSettings,((e,i)=>{if(i._stopped)this._stopAnimationPrivate(e);else if(i._playing){i._run(t);const s=i.percentage;s>=1?i._checkEnded()?this.setPrivate(e,i._value(1)):(i._reset(t),this._setPrivate(e,i._value(1))):this._setPrivate(e,i._value(s))}})),0!==this._playingAnimations)}_markDirtyKey(t){this.markDirty()}_markDirtyPrivateKey(t){this.markDirty()}on(t,e){let i=this._settingEvents[t];return void 0===i&&(i=this._settingEvents[t]=[]),i.push(e),new B((()=>{y(i,e),0===i.length&&delete this._settingEvents[t]}))}onPrivate(t,e){let i=this._privateSettingEvents[t];return void 0===i&&(i=this._privateSettingEvents[t]=[]),i.push(e),new B((()=>{y(i,e),0===i.length&&delete this._privateSettingEvents[t]}))}getRaw(t,e){const i=this._settings[t];return void 0!==i?i:e}get(t,e){return this.getRaw(t,e)}_sendKeyEvent(t,e){const i=this._settingEvents[t];void 0!==i&&m(i,(i=>{i(e,this,t)}))}_sendPrivateKeyEvent(t,e){const i=this._privateSettingEvents[t];void 0!==i&&m(i,(i=>{i(e,this,t)}))}_setRaw(t,e,i){this._prevSettings[t]=e,this._sendKeyEvent(t,i)}setRaw(t,e){const i=this._settings[t];this._settings[t]=e,i!==e&&this._setRaw(t,i,e)}_set(t,e){const i=this._settings[t];this._settings[t]=e,i!==e&&(this._setRaw(t,i,e),this._markDirtyKey(t))}_stopAnimation(t){const e=this._animatingSettings[t];e&&(--this._playingAnimations,delete this._animatingSettings[t],e.stop())}set(t,e){return this._set(t,e),this._stopAnimation(t),e}remove(t){t in this._settings&&(this._prevSettings[t]=this._settings[t],delete this._settings[t],this._sendKeyEvent(t,void 0),this._markDirtyKey(t)),this._stopAnimation(t)}removeAll(){m($(this._settings),(t=>{this.remove(t)}))}getPrivate(t,e){const i=this._privateSettings[t];return void 0!==i?i:e}_setPrivateRaw(t,e,i){this._prevPrivateSettings[t]=e,this._sendPrivateKeyEvent(t,i)}setPrivateRaw(t,e){const i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&this._setPrivateRaw(t,i,e)}_setPrivate(t,e){const i=this._privateSettings[t];this._privateSettings[t]=e,i!==e&&(this._setPrivateRaw(t,i,e),this._markDirtyPrivateKey(t))}_stopAnimationPrivate(t){const e=this._animatingPrivateSettings[t];e&&(--this._playingAnimations,e.stop(),delete this._animatingPrivateSettings[t])}setPrivate(t,e){return this._setPrivate(t,e),this._stopAnimationPrivate(t),e}removePrivate(t){t in this._privateSettings&&(this._prevPrivateSettings[t]=this._privateSettings[t],delete this._privateSettings[t],this._markDirtyPrivateKey(t)),this._stopAnimationPrivate(t)}setAll(t){q(t,((t,e)=>{this.set(t,e)}))}animate(t){const e=t.key,i=t.to,s=t.duration||0,r=t.loops||1,n=void 0===t.from?this.get(e):t.from,a=void 0===t.easing?_e:t.easing;if(0===s)this.set(e,i);else{if(void 0!==n&&n!==i){this.set(e,n);const t=this._animatingSettings[e]=new Te(this,n,i,s,a,r,this._animationTime());return++this._playingAnimations,this._startAnimation(),t}this.set(e,i)}const o=new Te(this,n,i,s,a,r,null);return o.stop(),o}animatePrivate(t){const e=t.key,i=t.to,s=t.duration||0,r=t.loops||1,n=void 0===t.from?this.getPrivate(e):t.from,a=void 0===t.easing?_e:t.easing;if(0===s)this.setPrivate(e,i);else{if(void 0!==n&&n!==i){this.setPrivate(e,n);const t=this._animatingPrivateSettings[e]=new Te(this,n,i,s,a,r,this._animationTime());return++this._playingAnimations,this._startAnimation(),t}this.setPrivate(e,i)}const o=new Te(this,n,i,s,a,r,null);return o.stop(),o}_dispose(){}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Ee extends je{constructor(t,e,i,s=[]){if(super(e),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new ve(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Oe(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=t,this._internalTemplates=s,e.id&&this._registerId(e.id)}static new(t,e,i){const s=new this(t,e,!0);return s._template=i,s._afterNew(),s}static _new(t,e,i=[]){const s=new this(t,e,!0,i);return s._afterNew(),s}_afterNew(){this._checkDirty();let t=!1;const e=this._template;e&&(t=!0,e._setObjectTemplate(this)),m(this._internalTemplates,(e=>{t=!0,e._setObjectTemplate(this)})),t&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const t=this._template;t&&t._setObjectTemplate(this),m(this._internalTemplates,(t=>{t._setObjectTemplate(this)})),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new N}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefault(t,e){t in this._settings||super.set(t,e)}_setRawDefault(t,e){t in this._settings||super.setRaw(t,e)}_clearDirty(){$(this._dirty).forEach((t=>{this._dirty[t]=!1})),$(this._dirtyPrivate).forEach((t=>{this._dirtyPrivate[t]=!1}))}isDirty(t){return!!this._dirty[t]}isPrivateDirty(t){return!!this._dirtyPrivate[t]}_markDirtyKey(t){this._dirty[t]=!0,super._markDirtyKey(t)}_markDirtyPrivateKey(t){this._dirtyPrivate[t]=!0,super._markDirtyKey(t)}isType(t){return-1!==this.classNames.indexOf(t)}_pushPropertyDisposer(t,e){let i=this._disposerProperties[t];return void 0===i&&(i=this._disposerProperties[t]=[]),i.push(e),e}_disposeProperty(t){const e=this._disposerProperties[t];void 0!==e&&(m(e,(t=>{t.dispose()})),delete this._disposerProperties[t])}set template(t){const e=this._template;e!==t&&(this._template=t,e&&e._removeObjectTemplate(this),t&&t._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(t){}_applyStateAnimated(t,e){}get(t,e){const i=this.adapters.fold(t,this._settings[t]);return void 0!==i?i:e}isUserSetting(t){return this._userProperties[t]||!1}set(t,e){return this._userProperties[t]=!0,super.set(t,e)}setRaw(t,e){this._userProperties[t]=!0,super.setRaw(t,e)}_setSoft(t,e){return this._userProperties[t]?e:super.set(t,e)}remove(t){delete this._userProperties[t],this._removeTemplateProperty(t)}setPrivate(t,e){return this._userPrivateProperties[t]=!0,super.setPrivate(t,e)}setPrivateRaw(t,e){this._userPrivateProperties[t]=!0,super.setPrivateRaw(t,e)}removePrivate(t){delete this._userPrivateProperties[t],this._removeTemplatePrivateProperty(t)}_setTemplateProperty(t,e,i){if(!this._userProperties[e]){t===this._findTemplateByKey(e)&&super.set(e,i)}}_setTemplatePrivateProperty(t,e,i){if(!this._userPrivateProperties[e]){t===this._findTemplateByPrivateKey(e)&&super.setPrivate(e,i)}}_removeTemplateProperty(t){if(!this._userProperties[t]){const e=this._findTemplateByKey(t);e?super.set(t,e._settings[t]):super.remove(t)}}_removeTemplatePrivateProperty(t){if(!this._userPrivateProperties[t]){const e=this._findTemplateByPrivateKey(t);e?super.setPrivate(t,e._privateSettings[t]):super.removePrivate(t)}}_walkParents(t){t(this._root._rootContainer),t(this)}_applyStateByKey(t){const e=this.states.create(t,{}),i={};this._eachTemplate((s=>{const r=s.states.lookup(t);r&&r._apply(e,i)})),q(e._settings,(t=>{i[t]||e._userSettings[t]||e.remove(t)}))}_applyTemplate(t,e){this._templateDisposers.push(t._apply(this,e)),q(t._settings,((t,i)=>{e.settings[t]||this._userProperties[t]||(e.settings[t]=!0,super.set(t,i))})),q(t._privateSettings,((t,i)=>{e.privateSettings[t]||this._userPrivateProperties[t]||(e.privateSettings[t]=!0,super.setPrivate(t,i))})),this._runSetup&&t.setup&&(this._runSetup=!1,t.setup(this))}_findStaticTemplate(t){if(this._template&&t(this._template))return this._template}_eachTemplate(t){this._findStaticTemplate((e=>(t(e),!1))),f(this._internalTemplates,t),m(this._templates,t)}_applyTemplates(t=!0){t&&this._disposeTemplates();const e={settings:{},privateSettings:{},states:{}};this._eachTemplate((t=>{this._applyTemplate(t,e)})),t&&(q(this._settings,(t=>{this._userProperties[t]||e.settings[t]||super.remove(t)})),q(this._privateSettings,(t=>{this._userPrivateProperties[t]||e.privateSettings[t]||super.removePrivate(t)})))}_findTemplate(t){const e=this._findStaticTemplate(t);if(void 0===e){const e=j(this._internalTemplates,t);return void 0===e?S(this._templates,t):e}return e}_findTemplateByKey(t){return this._findTemplate((e=>t in e._settings))}_findTemplateByPrivateKey(t){return this._findTemplate((e=>t in e._privateSettings))}_disposeTemplates(){m(this._templateDisposers,(t=>{t.dispose()})),this._templateDisposers.length=0}_removeTemplates(){m(this._templates,(t=>{t._removeObjectTemplate(this)})),this._templates.length=0}_applyThemes(){let t=!1;const e=[];let i=[];const s=new Set,r=this.get("themeTagsSelf");return r&&m(r,(t=>{s.add(t)})),this._walkParents((r=>{r===this._root._rootContainer&&(t=!0),r._defaultThemes.length>0&&e.push(r._defaultThemes);const n=r.get("themes");n&&i.push(n);const a=r.get("themeTags");a&&m(a,(t=>{s.add(t)}))})),i=e.concat(i),this._removeTemplates(),t&&f(this.classNames,(t=>{const e=[];m(i,(i=>{m(i,(i=>{const r=i._lookupRules(t);r&&f(r,(t=>{if(t.tags.every((t=>s.has(t)))){const i=C(e,(e=>{const i=De(t.tags.length,e.tags.length);return 0===i?xe(t.tags,e.tags,De):i}));e.splice(i.index,0,t)}}))}))})),m(e,(t=>{this._templates.push(t.template),t.template._setObjectTemplate(this)}))})),this._applyTemplates(),t&&(this._runSetup=!1),t}_changed(){}_beforeChanged(){if(this.isDirty("id")){const t=this.get("id");t&&this._registerId(t);const e=this._prevSettings.id;e&&delete we.entitiesById[e]}}_registerId(t){if(we.entitiesById[t]&&we.entitiesById[t]!==this)throw new Error('An entity with id "'+t+'" already exists.');we.entitiesById[t]=this}_afterChanged(){}addDisposer(t){return this._disposers.push(t),t}_dispose(){super._dispose();const t=this._template;t&&t._removeObjectTemplate(this),m(this._internalTemplates,(t=>{t._removeObjectTemplate(this)})),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach((t=>{t.dispose()})),q(this._disposerProperties,((t,e)=>{m(e,(t=>{t.dispose()}))}));const e=this.get("id");e&&delete we.entitiesById[e]}setTimeout(t,e){const i=setTimeout((()=>{this.removeDispose(s),t()}),e),s=new B((()=>{clearTimeout(i)}));return this._disposers.push(s),s}removeDispose(t){if(!this.isDisposed()){let e=c(this._disposers,t);e>-1&&this._disposers.splice(e,1)}t.dispose()}hasTag(t){return-1!==c(this.get("themeTags",[]),t)}addTag(t){if(!this.hasTag(t)){const e=this.get("themeTags",[]);e.push(t),this.set("themeTags",e)}}removeTag(t){if(this.hasTag(t)){const e=this.get("themeTags",[]);v(e,t),this.set("themeTags",e)}}_t(t,e,...i){return this._root.language.translate(t,e,...i)}get root(){return this._root}}Object.defineProperty(Ee,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(Ee,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});class Ce{constructor(t,e,i){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=t,this._template=e,this._settings=i}get(t,e){const i=this._settings[t];return void 0!==i?i:e}set(t,e){this._settings[t]=e,this._template._stateChanged(this._name)}remove(t){delete this._settings[t],this._template._stateChanged(this._name)}setAll(t){$(t).forEach((e=>{this._settings[e]=t[e]})),this._template._stateChanged(this._name)}_apply(t,e){q(this._settings,((i,s)=>{e[i]||t._userSettings[i]||(e[i]=!0,t.setRaw(i,s))}))}}class Me{constructor(t){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=t}lookup(t){return this._states[t]}create(t,e){const i=this._states[t];if(i)return i.setAll(e),i;{const i=new Ce(t,this._template,e);return this._states[t]=i,this._template._stateChanged(t),i}}remove(t){delete this._states[t],this._template._stateChanged(t)}_apply(t,e){q(this._states,((i,s)=>{let r=e.states[i];null==r&&(r=e.states[i]={});const n=t.states.create(i,{});s._apply(n,r)}))}}class Ae{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(t,e){let i=this._callbacks[t];return void 0===i&&(i=this._callbacks[t]=[]),i.push(e),new B((()=>{y(i,e),0===i.length&&delete this._callbacks[t]}))}remove(t){void 0!==this._callbacks[t]&&delete this._callbacks[t]}_apply(t){const e=[];return q(this._callbacks,((i,s)=>{m(s,(s=>{e.push(t.adapters.add(i,s))}))})),new H(e)}}class Be{constructor(t,e){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Me(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new Ae}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new N}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=t}static new(t){return new Be(t,!0)}get entities(){return this._entities}get(t,e){const i=this._settings[t];return void 0!==i?i:e}setRaw(t,e){this._settings[t]=e}set(t,e){this._settings[t]!==e&&(this.setRaw(t,e),this._entities.forEach((i=>{i._setTemplateProperty(this,t,e)})))}remove(t){t in this._settings&&(delete this._settings[t],this._entities.forEach((e=>{e._removeTemplateProperty(t)})))}removeAll(){q(this._settings,((t,e)=>{this.remove(t)}))}getPrivate(t,e){const i=this._privateSettings[t];return void 0!==i?i:e}setPrivateRaw(t,e){return this._privateSettings[t]=e,e}setPrivate(t,e){return this._privateSettings[t]!==e&&(this.setPrivateRaw(t,e),this._entities.forEach((i=>{i._setTemplatePrivateProperty(this,t,e)}))),e}removePrivate(t){t in this._privateSettings&&(delete this._privateSettings[t],this._entities.forEach((e=>{e._removeTemplatePrivateProperty(t)})))}setAll(t){q(t,((t,e)=>{this.set(t,e)}))}on(t,e){let i=this._settingEvents[t];return void 0===i&&(i=this._settingEvents[t]=[]),i.push(e),new B((()=>{y(i,e),0===i.length&&delete this._settingEvents[t]}))}onPrivate(t,e){let i=this._privateSettingEvents[t];return void 0===i&&(i=this._privateSettingEvents[t]=[]),i.push(e),new B((()=>{y(i,e),0===i.length&&delete this._privateSettingEvents[t]}))}_apply(t,e){const i=[];return q(this._settingEvents,((e,s)=>{m(s,(s=>{i.push(t.on(e,s))}))})),q(this._privateSettingEvents,((e,s)=>{m(s,(s=>{i.push(t.onPrivate(e,s))}))})),this.states._apply(t,e),i.push(this.adapters._apply(t)),i.push(t.events.copyFrom(this.events)),new H(i)}_setObjectTemplate(t){this._entities.push(t)}_removeObjectTemplate(t){v(this._entities,t)}_stateChanged(t){this._entities.forEach((e=>{e._applyStateByKey(t)}))}}class Ie extends N{constructor(t){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=t}_makePointerEvent(t,e){return{type:t,originalEvent:e.event,point:e.point,simulated:e.simulated,native:e.native,target:this._sprite}}_onRenderer(t,e){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let i=this._rendererDisposers[t];if(void 0===i){const s=this._sprite._display.on(t,(t=>{e.call(this,t)}));i=this._rendererDisposers[t]=new L((()=>{delete this._rendererDisposers[t],s.dispose()}))}return i.increment()}_on(t,e,i,s,r,n){const a=super._on(t,e,i,s,r,n),o=Ie.RENDERER_EVENTS[e];return void 0!==o&&(a.disposer=new H([a.disposer,this._onRenderer(e,o)])),a}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(t,e){const i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(t,e),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(t,e)}finally{this._dispatchParents=i}}}Object.defineProperty(Ie,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(t){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",t))&&this.dispatch("click",this._makePointerEvent("click",t))},rightclick:function(t){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",t))},middleclick:function(t){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",t))},dblclick:function(t){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",t))},pointerover:function(t){this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",t))},pointerout:function(t){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",t))},pointerdown:function(t){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",t))},pointerup:function(t){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",t))},globalpointerup:function(t){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",t))},globalpointermove:function(t){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",t))},wheel:function(t){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:t.event,point:t.point})}}});class He extends Ee{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}_markDirtyKey(t){super._markDirtyKey(t),"x"!=t&&"y"!=t&&"dx"!=t&&"dy"!=t||(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(t){super._markDirtyPrivateKey(t),"x"!=t&&"y"!=t||this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new Ie(this)}_processTemplateField(){let t;const e=this.get("templateField");if(e){const i=this.dataItem;if(i){const s=i.dataContext;s&&(t=s[e],t instanceof Be||!t||(t=Be.new(t)))}}this._templateField!==t&&(this._removeTemplateField(),this._templateField=t,t&&t._setObjectTemplate(this),this._applyTemplates())}_setDataItem(t){const e=this._dataItem;this._dataItem=t,this._processTemplateField();const i="dataitemchanged";t!=e&&this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:e,newDataItem:t})}set dataItem(t){this._setDataItem(t)}get dataItem(){if(this._dataItem)return this._dataItem;{let t=this._parent;for(;t;){if(t._dataItem)return t._dataItem;t=t._parent}}}_addPercentageSizeChildren(){let t=this.parent;t&&(this.get("width")instanceof K||this.get("height")instanceof K?P(t._percentageSizeChildren,this):y(t._percentageSizeChildren,this))}_addPercentagePositionChildren(){let t=this.parent;t&&(this.get("x")instanceof K||this.get("y")instanceof K?P(t._percentagePositionChildren,this):y(t._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const t=this._localBounds;if(t){const e=this.get("centerX");null!=e&&(this._display.pivot.x=t.left+bt(e,t.right-t.left));const i=this.get("centerY");null!=i&&(this._display.pivot.y=t.top+bt(i,t.bottom-t.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const t=this._prevSettings.tooltip;t&&t.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const t=this._tooltipMoveDp;t&&(t.dispose(),this._tooltipMoveDp=void 0);const e=this._tooltipPointerDp;e&&(e.dispose(),this._tooltipPointerDp=void 0),"pointer"==this.get("tooltipPosition")&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",(t=>{this.showTooltip(t.point)}))),this._tooltipPointerDp=new H([this.events.on("pointerover",(()=>{this._tooltipMoveDp=this.events.on("globalpointermove",(t=>{this.showTooltip(t.point)}))})),this.events.on("pointerout",(()=>{const t=this._tooltipMoveDp;t&&(t.dispose(),this._tooltipMoveDp=void 0)}))]))}}_handleStates(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}_changed(){super._changed();const t=this._display,e=this.events;if(this.isDirty("draggable")){const i=this.get("draggable");i?(this.set("interactive",!0),this._dragDp=new H([e.on("pointerdown",(t=>{this.dragStart(t)})),e.on("globalpointermove",(t=>{this.dragMove(t)})),e.on("globalpointerup",(t=>{this.dragStop(t)}))])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),t.cancelTouch=!!i}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const t=this.get("tooltipText"),i=this.get("tooltipHTML"),s=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(t||i)&&("click"==s?(this._tooltipDp=new H([e.on("click",(()=>{this.setTimeout((()=>this.showTooltip()),10)})),it(document,"click",(t=>{this.hideTooltip()}))]),this._disposers.push(this._tooltipDp)):"always"==s||(this._tooltipDp=new H([e.on("pointerover",(()=>{this.showTooltip()})),e.on("pointerout",(()=>{this.hideTooltip()}))]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let t=this.get("toggleKey");t&&"none"!=t?this._toggleDp=e.on("click",(()=>{this._isDragging||this.set(t,!this.get(t))})):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(t.alpha=Math.max(0,this.get("opacity",1))),this.isDirty("rotation")&&(this.markDirtyBounds(),t.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),t.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?t.visible=!0:(t.visible=!1,this.hideTooltip()),this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const t=this.parent;t&&(this.isDirty("width")&&this.get("width")instanceof K||this.isDirty("height")&&this.get("height")instanceof K)&&(t.markDirty(),t._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const e=this.get("wheelable");e&&this.set("interactive",!0),t.wheelable=!!e}if((this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(t.filter=this.get("filter")),this.isDirty("cursorOverStyle")&&(t.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new H([e.on("focus",(()=>{this.showTooltip()})),e.on("blur",(()=>{this.hideTooltip()}))]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(t.exportable=this.get("exportable")),this.isDirty("interactive")){const t=this.events;this.get("interactive")?this._hoverDp=new H([t.on("click",(t=>{lt(t.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout((()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:t.target,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}),10))})),t.on("globalpointerup",(t=>{lt(t.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:t.target,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})),this._isDown&&this._handleUp(t)})),t.on("pointerover",(()=>{this._handleOver()})),t.on("pointerout",(()=>{this._handleOut()})),t.on("pointerdown",(t=>{this._handleDown(t)}))]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",!1)),"always"==this.get("showTooltipOn")&&this._display.visible&&this.showTooltip()}dragStart(t){this._dragEvent=t,this.events.stopParentDispatch()}dragStop(t){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const e="dragstop";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(t){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const e=nt(t.originalEvent);delete this._downPoints[e],0==$(this._downPoints).length&&(this._isDown=!1)}}_hasMoved(t){const e=nt(t.originalEvent),i=this._downPoints[e];if(i){const e=Math.abs(i.x-t.point.x),s=Math.abs(i.y-t.point.y);return e>5||s>5}return!1}_hasDown(){return $(this._downPoints).length>0}_handleDown(t){const e=this.parent;if(e&&!this.get("draggable")&&e._handleDown(t),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:t.point.x,y:t.point.y},this._isDown=!0;const e=nt(t.originalEvent);this._downPoints[e]={x:t.point.x,y:t.point.y}}}dragMove(t){let e=this._dragEvent;if(e){if(e.simulated&&!t.simulated)return!0;let i=0,s=this.parent;for(;null!=s;)i+=s.get("rotation",0),s=s.parent;let r=t.point.x-e.point.x,n=t.point.y-e.point.y;const a=this.events;if(e.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};const e="dragstart";a.isEnabled(e)&&a.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}if(this._isDragging){let e=this._dragPoint;this.set("x",e.x+r*de(i)+n*le(i)),this.set("y",e.y+n*de(i)-r*le(i));const s="dragged";a.isEnabled(s)&&a.dispatch(s,{type:s,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}else if(Math.hypot(r,n)>5){this._isDragging=!0,this._dragEvent=t,this._dragPoint={x:this.x(),y:this.y()};const e="dragstart";a.isEnabled(e)&&a.dispatch(e,{type:e,target:this,originalEvent:t.originalEvent,point:t.point,simulated:t.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let t=this.parent,e=0;for(;;){if(!t)return e;++e,t=t.parent}}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const t=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),t.isMeasured=!0,t.invalidateBounds();const e=this.parent;e&&"absolute"!=this.get("position")&&(null==e.get("width")||null==e.get("height")||e.get("layout"))&&e.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const t=this._adjustedLocalBounds;let e;if(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden")?(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),e=this._adjustedLocalBounds):(e={left:0,right:0,top:0,bottom:0},this._localBounds=e,this._adjustedLocalBounds=e),!t||t.left!==e.left||t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom){const t="boundschanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}_fixMinBounds(t){let e=this.get("minWidth",this.getPrivate("minWidth")),i=this.get("minHeight",this.getPrivate("minHeight"));l(e)&&t.right-t.left<e&&(t.right=t.left+e),l(i)&&t.bottom-t.top<i&&(t.bottom=t.top+i);let s=this.getPrivate("width"),r=this.getPrivate("height");l(s)&&(s>0?t.right=t.left+s:t.left=t.right+s),l(r)&&(r>0?t.bottom=t.top+r:t.top=t.bottom+r)}_removeParent(t){t&&(t.children.removeValue(this),y(t._percentageSizeChildren,this),y(t._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._statesHandled=!1}hover(){this.showTooltip(),this._handleOver()}unhover(){this.hideTooltip(),this._handleOut()}showTooltip(t){const e=this.getTooltip(),i=this.get("tooltipText"),s=this.get("tooltipHTML");if((i||s)&&e){const r=this.get("tooltipPosition"),n=this.getPrivate("tooltipTarget",this);"fixed"!=r&&t||(this._display._setMatrix(),t=this.toGlobal(n._getTooltipPoint())),e.set("pointTo",t),e.set("tooltipTarget",n),e.get("x")||e.set("x",t.x),e.get("y")||e.set("y",t.y),i&&e.label.set("text",i),s&&e.label.set("html",s);const a=this.dataItem;if(a&&e.label._setDataItem(a),"always"==this.get("showTooltipOn")&&(t.x<0||t.x>this._root.width()||t.y<0||t.y>this._root.height()))return void this.hideTooltip();e.label.text.markDirtyText();const o=e.show();return this.setPrivateRaw("showingTooltip",!0),o}}hideTooltip(){const t=this.getTooltip();if(t&&(t.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==t)){let e=t.get("keepTargetHover")&&0==t.get("stateAnimationDuration",0)?400:void 0;const i=t.hide(e);return this.setPrivateRaw("showingTooltip",!1),i}}_getTooltipPoint(){const t=this._localBounds;if(t){let e=0,i=0;return this.get("isMeasured")?(e=t.left+bt(this.get("tooltipX",0),t.right-t.left),i=t.top+bt(this.get("tooltipY",0),t.bottom-t.top)):(e=bt(this.get("tooltipX",0),this.width()),i=bt(this.get("tooltipY",0),this.height())),{x:e,y:i}}return{x:0,y:0}}getTooltip(){let t=this.get("tooltip");if(t)return t;{let t=this.parent;if(t)return t.getTooltip()}}_updatePosition(){const t=this.parent;let e=this.get("dx",0),i=this.get("dy",0),s=this.get("x"),r=this.getPrivate("x"),n=0,a=0;const o=this.get("position");s instanceof K&&(s=t?t.innerWidth()*s.value+t.get("paddingLeft",0):0),l(s)?n=s+e:null!=r?n=r:t&&"relative"==o&&(n=t.get("paddingLeft",0)+e);let h=this.get("y"),d=this.getPrivate("y");h instanceof K&&(h=t?t.innerHeight()*h.value+t.get("paddingTop",0):0),l(h)?a=h+i:null!=d?a=d:t&&"relative"==o&&(a=t.get("paddingTop",0)+i);const u=this._display;if(u.x!=n||u.y!=a){u.invalidateBounds(),u.x=n,u.y=a;const t="positionchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let t=this.get("x"),e=this.getPrivate("x");const i=this.parent;return i?t instanceof K?bt(t,i.innerWidth())+i.get("paddingLeft",0):l(t)?t:null!=e?e:i.get("paddingLeft",this._display.x):this._display.x}y(){let t=this.getPrivate("y");if(null!=t)return t;let e=this.get("y");const i=this.parent;return i?e instanceof K?bt(e,i.innerHeight())+i.get("paddingTop",0):l(e)?e:null!=t?t:i.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const t=this.get("tooltip");t&&t.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const t=this._adjustedLocalBounds,e=this.x(),i=this.y();return{left:t.left+e,right:t.right+e,top:t.top+i,bottom:t.bottom+i}}globalBounds(){const t=this.localBounds(),e=this.toGlobal({x:t.left,y:t.top}),i=this.toGlobal({x:t.right,y:t.top}),s=this.toGlobal({x:t.right,y:t.bottom}),r=this.toGlobal({x:t.left,y:t.bottom});return{left:Math.min(e.x,i.x,s.x,r.x),top:Math.min(e.y,i.y,s.y,r.y),right:Math.max(e.x,i.x,s.x,r.x),bottom:Math.max(e.y,i.y,s.y,r.y)}}_onShow(t){}_onHide(t){}appear(e,i){return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return yield this.hide(0),i?new Promise(((t,s)=>{this.setTimeout((()=>{t(this.show(e))}),i)})):this.show(e)}))}show(e){return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const t=this.states.applyAnimate("default",e);yield Jt(t),this._isShowing=!1}}))}hide(e){return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let t=this.states.lookup("hidden");t||(t=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const i=this.states.applyAnimate("hidden",e);yield Jt(i),this._isHiding=!1}}))}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const t=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*t:t}width(){let t=this.get("width"),e=this.get("maxWidth",this.getPrivate("maxWidth")),i=this.get("minWidth",this.getPrivate("minWidth")),s=this.getPrivate("width"),r=0;if(l(s))r=s;else if(null==t)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(t instanceof K){const e=this.parent;r=e?e.innerWidth()*t.value:this._root.width()*t.value}else l(t)&&(r=t);return l(i)&&(r=Math.max(i,r)),l(e)&&(r=Math.min(e,r)),r}maxWidth(){let t=this.get("maxWidth",this.getPrivate("maxWidth"));if(l(t))return t;{let t=this.get("width");if(l(t))return t}const e=this.parent;return e?e.innerWidth():this._root.width()}maxHeight(){let t=this.get("maxHeight",this.getPrivate("maxHeight"));if(l(t))return t;{let t=this.get("height");if(l(t))return t}const e=this.parent;return e?e.innerHeight():this._root.height()}height(){let t=this.get("height"),e=this.get("maxHeight",this.getPrivate("maxHeight")),i=this.get("minHeight",this.getPrivate("minHeight")),s=this.getPrivate("height"),r=0;if(l(s))r=s;else if(null==t)this._adjustedLocalBounds&&(r=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(t instanceof K){const e=this.parent;r=e?e.innerHeight()*t.value:this._root.height()*t.value}else l(t)&&(r=t);return l(i)&&(r=Math.max(i,r)),l(e)&&(r=Math.min(e,r)),r}_findStaticTemplate(t){return this._templateField&&t(this._templateField)?this._templateField:super._findStaticTemplate(t)}_walkParents(t){this._parent&&this._walkParent(t)}_walkParent(t){this._parent&&this._parent._walkParent(t),t(this)}get parent(){return this._parent}_setParent(t,e=!1){const i=this._parent;t!==i&&(this.markDirtyBounds(),t.markDirty(),this._parent=t,e&&(this._removeParent(i),t&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(t){return this._display.toGlobal(t)}toLocal(t){return this._display.toLocal(t)}_getDownPoint(){const t=this._getDownPointId();if(t)return this._downPoints[t]}_getDownPointId(){if(this._downPoints)return Z(this._downPoints,((t,e)=>t>e?1:t<e?-1:0))[0]}toFront(){const t=this.parent;t&&t.children.moveValue(this,t.children.length-1)}toBack(){const t=this.parent;t&&t.children.moveValue(this,0)}}Object.defineProperty(He,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(He,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ee.classNames.concat([He.className])});class Le extends Ee{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("color")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fill")||this.isDirty("fillOpacity"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const t=this.get("repetition",""),e=this.get("width",100),i=this.get("height",100),s=this.get("fill"),r=this.get("fillOpacity",1);this._display.clear(),this._backgroundDisplay.clear(),s&&r>0&&(this._backgroundDisplay.beginFill(s,r),this._backgroundDisplay.drawRect(0,0,e,i),this._backgroundDisplay.endFill()),this._display.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(this._display,this._backgroundDisplay,t,e,i)}}}Object.defineProperty(Le,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"}),Object.defineProperty(Le,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ee.classNames.concat([Le.className])});class Ne extends Le{constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load()}_draw(){super._draw();const t=this._image;if(t){const e=this.get("width",100),i=this.get("height",100),s=this.get("fit","image");let r=0,n=0;"pattern"==s?(r=e,n=i):(r=t.width,n=t.height,"image"==s&&(this.set("width",r),this.set("height",n)));let a=0,o=0;this.get("centered",!0)&&(a=e/2-r/2,o=i/2-n/2),this._display.image(t,r,n,a,o)}}_load(){const t=this.get("src");if(t){const e=new Image;e.src=t,e.decode().then((()=>{this._image=e,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})})).catch((t=>{}))}}}var Re;Object.defineProperty(Ne,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"}),Object.defineProperty(Ne,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Le.classNames.concat([Ne.className])}),function(t){t.ADD="lighter",t.COLOR="color",t.COLOR_BURN="color-burn",t.COLOR_DODGE="color-dodge",t.DARKEN="darken",t.DIFFERENCE="difference",t.DST_OVER="destination-over",t.EXCLUSION="exclusion",t.HARD_LIGHT="hard-light",t.HUE="hue",t.LIGHTEN="lighten",t.LUMINOSITY="luminosity",t.MULTIPLY="multiply",t.NORMAL="source-over",t.OVERLAY="overlay",t.SATURATION="saturation",t.SCREEN="screen",t.SOFT_LIGHT="soft-light",t.SRC_ATOP="source-atop",t.XOR="xor"}(Re||(Re={}));const Fe=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset"];class We extends He{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const t=this.get("fillGradient");if(t){this._display.isMeasured=!0;const e=t.get("target");e&&(this._disposers.push(e.events.on("boundschanged",(()=>{this._markDirtyKey("fill")}))),this._disposers.push(e.events.on("positionchanged",(()=>{this._markDirtyKey("fill")}))))}}if(this.isDirty("strokeGradient")){const t=this.get("strokeGradient");if(t){this._display.isMeasured=!0;const e=t.get("target");e&&(this._disposers.push(e.events.on("boundschanged",(()=>{this._markDirtyKey("stroke")}))),this._disposers.push(e.events.on("positionchanged",(()=>{this._markDirtyKey("stroke")}))))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let t=this.get("strokeDasharray");l(t)&&(t=t<.5?[0]:[t]),this._display.setLineDash(t);const e=this.get("strokeDashoffset");e&&this._display.setLineDashOffset(e);const i=this.get("blendMode",Re.NORMAL);this._display.blendMode=i;const s=this.get("draw");s&&s(this._display,this);const r=this.get("svgPath");null!=r&&this._display.svgPath(r)}}_afterChanged(){if(super._afterChanged(),this._clear){const t=this.get("fill"),e=this.get("fillGradient"),i=this.get("fillPattern"),s=this.get("fillOpacity"),r=this.get("stroke"),n=this.get("strokeGradient"),a=this.get("strokePattern"),o=this.get("shadowColor"),h=this.get("shadowBlur"),l=this.get("shadowOffsetX"),d=this.get("shadowOffsetY"),u=this.get("shadowOpacity");if(o&&(h||l||d)&&this._display.shadow(o,h,l,d,u),i){let e=!1;!t||i.get("fill")&&!i.get("fillInherited")||(i.set("fill",t),i.set("fillInherited",!0),e=!0),!r||i.get("color")&&!i.get("colorInherited")||(i.set("color",r),i.set("colorInherited",!0),e=!0),e&&i._changed();const n=i.pattern;n&&(this._display.beginFill(n,s),this._display.endFill(),i instanceof Ne&&i.events.once("loaded",(()=>{this._clear=!0,this.markDirty()})))}else if(e){if(t){const i=e.get("stops",[]);i.length&&m(i,(e=>{e.color&&!e.colorInherited||!t||(e.color=t,e.colorInherited=!0),(null==e.opacity||e.opacityInherited)&&(e.opacity=s,e.opacityInherited=!0)}))}const i=e.getFill(this);i&&(this._display.beginFill(i,s),this._display.endFill())}else t&&(this._display.beginFill(t,s),this._display.endFill());if(r||n||a){const t=this.get("strokeOpacity");let e=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(e/=this.get("scale",1)),this.get("crisp")&&(e/=this._root._renderer.resolution);const i=this.get("lineJoin");if(a){let s=!1;!r||a.get("color")&&!a.get("colorInherited")||(a.set("color",r),a.set("colorInherited",!0),s=!0),s&&a._changed();const n=a.pattern;n&&(this._display.lineStyle(e,n,t,i),this._display.endStroke(),a instanceof Ne&&a.events.once("loaded",(()=>{this._clear=!0,this.markDirty()})))}else if(n){const s=n.get("stops",[]);s.length&&m(s,(e=>{e.color&&!e.colorInherited||!r||(e.color=r,e.colorInherited=!0),(null==e.opacity||e.opacityInherited)&&(e.opacity=t,e.opacityInherited=!0)}));const a=n.getFill(this);a&&(this._display.lineStyle(e,a,t,i),this._display.endStroke())}else r&&(this._display.lineStyle(e,r,t,i),this._display.endStroke())}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(We,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(We,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:He.classNames.concat([We.className])});class Ve extends We{_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){this._display.drawRect(0,0,this.width(),this.height())}_updateSize(){this.markDirty(),this._clear=!0}}function Ue(t,e){t.get("reverseChildren",!1)?t.children.eachReverse(e):t.children.each(e)}Object.defineProperty(Ve,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(Ve,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:We.classNames.concat([Ve.className])});class Ke extends Ee{}Object.defineProperty(Ke,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(Ke,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ee.classNames.concat([Ke.className])});class ze extends Ke{updateContainer(t){let e=t.get("paddingLeft",0),i=t.innerWidth(),s=0;Ue(t,(t=>{if(t.isVisible()&&"relative"==t.get("position")){let e=t.get("width");if(e instanceof K){s+=e.value;let r=i*e.value,n=t.get("minWidth",t.getPrivate("minWidth",-1/0));n>r&&(i-=n,s-=e.value);let a=t.get("maxWidth",t.getPrivate("maxWidth",1/0));r>a&&(i-=a,s-=e.value)}else l(e)||(e=t.width()),i-=e+t.get("marginLeft",0)+t.get("marginRight",0)}})),(i<=0||i==1/0)&&(i=.1),Ue(t,(t=>{if(t.isVisible()&&"relative"==t.get("position")){let e=t.get("width");if(e instanceof K){let r=i*e.value/s-t.get("marginLeft",0)-t.get("marginRight",0),n=t.get("minWidth",t.getPrivate("minWidth",-1/0)),a=t.get("maxWidth",t.getPrivate("maxWidth",1/0));r=Math.min(Math.max(n,r),a),t.setPrivate("width",r)}else t._prevSettings.width instanceof K&&t.setPrivate("width",void 0)}}));let r=e;Ue(t,(t=>{if("relative"==t.get("position"))if(t.isVisible()){let e=t.adjustedLocalBounds(),i=t.get("marginLeft",0),s=t.get("marginRight",0),n=t.get("maxWidth"),a=e.left,o=e.right;n&&o-a>n&&(o=a+n);let h=r+i-a;t.setPrivate("x",h),r=h+o+s}else t.setPrivate("x",void 0)}))}}Object.defineProperty(ze,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(ze,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([ze.className])});class Ge extends Ke{updateContainer(t){let e=t.get("paddingTop",0),i=t.innerHeight(),s=0;Ue(t,(t=>{if(t.isVisible()&&"relative"==t.get("position")){let e=t.get("height");if(e instanceof K){s+=e.value;let r=i*e.value,n=t.get("minHeight",t.getPrivate("minHeight",-1/0));n>r&&(i-=n,s-=e.value);let a=t.get("maxHeight",t.getPrivate("maxHeight",1/0));r>a&&(i-=a,s-=e.value)}else l(e)||(e=t.height()),i-=e+t.get("marginTop",0)+t.get("marginBottom",0)}})),(i<=0||i==1/0)&&(i=.1),Ue(t,(t=>{if(t.isVisible()&&"relative"==t.get("position")){let e=t.get("height");if(e instanceof K){let r=i*e.value/s-t.get("marginTop",0)-t.get("marginBottom",0),n=t.get("minHeight",t.getPrivate("minHeight",-1/0)),a=t.get("maxHeight",t.getPrivate("maxHeight",1/0));r=Math.min(Math.max(n,r),a),t.setPrivate("height",r)}else t._prevSettings.height instanceof K&&t.setPrivate("height",void 0)}}));let r=e;Ue(t,(t=>{if("relative"==t.get("position"))if(t.isVisible()){let e=t.adjustedLocalBounds(),i=t.get("marginTop",0),s=e.top,n=e.bottom,a=t.get("maxHeight");a&&n-s>a&&(n=s+a);let o=t.get("marginBottom",0),h=r+i-s;t.setPrivate("y",h),r=h+n+o}else t.setPrivate("y",void 0)}))}}Object.defineProperty(Ge,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(Ge,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([Ge.className])});class Ye extends Ke{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(t){let e=t.get("paddingLeft",0),i=t.get("paddingRight",0),s=t.get("paddingTop",0),r=t.maxWidth()-e-i,n=r,a=1;Ue(t,(t=>{if(t.get("visible")&&t.getPrivate("visible")&&!t.get("forceHidden")&&"absolute"!=t.get("position")){let e=t.width();e<n&&(n=e),e>a&&(a=e)}})),n=he(n,1,r),a=he(a,1,r);let o=1;o=this.get("fixedWidthGrid")?r/a:r/n,o=Math.max(1,Math.floor(o)),o=Math.min(this.get("maxColumns",Number.MAX_VALUE),o);let h=this.getColumnWidths(t,o,a,r),l=s,d=0,u=0;o=h.length;let p=e;Ue(t,(t=>{if("relative"==t.get("position")&&t.isVisible()){const i=t.get("marginTop",0),s=t.get("marginBottom",0);let r=t.adjustedLocalBounds(),n=t.get("marginLeft",0),a=t.get("marginRight",0),c=p+n-r.left,g=l+i-r.top;t.setPrivate("x",c),t.setPrivate("y",g),p+=h[d]+a,u=Math.max(u,t.height()+i+s),d++,d>=o&&(d=0,p=e,l+=u)}}))}getColumnWidths(t,e,i,s){let r=0,n=[],a=0;return Ue(t,(s=>{let r=s.adjustedLocalBounds();"absolute"!=s.get("position")&&s.isVisible()&&(this.get("fixedWidthGrid")?n[a]=i:n[a]=Math.max(0|n[a],r.right-r.left+s.get("marginLeft",0)+s.get("marginRight",0)),a<t.children.length-1&&(a++,a==e&&(a=0)))})),m(n,(t=>{r+=t})),r>s?e>2?(e-=1,this.getColumnWidths(t,e,i,s)):[s]:n}}Object.defineProperty(Ye,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(Ye,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ke.classNames.concat([Ye.className])});class Xe{static escape(t){return t.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(t){return t.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(t){return t.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(t,e=!1,i=!1){let s=[];t=this.escape(t);let r=e?t.split("'"):[t];for(let n=0;n<r.length;n++){let t=r[n];if(""!==t)if(n%2==0){t=t.replace(/\]\[/g,"]"+u+"["),t=t.replace(/\[\]/g,"[ ]");let e=t.split(/[\[\]]+/);for(let t=0;t<e.length;t++){let r=this.cleanUp(this.unescape(e[t]));r!==u&&(""!==r&&(t%2==0?s.push({type:"value",text:r}):s.push({type:i?"value":"format",text:"["+r+"]"})))}}else{let e=t.split(/[\[\]]+/);for(let t=0;t<e.length;t++){let i=this.cleanUp(this.unescape(e[t]));""!==i&&(t%2==0?s.push({type:"text",text:i}):this.isImage(i)?s.push({type:"image",text:"["+i+"]"}):s.push({type:"format",text:"["+i+"]"}))}}}return s}static isImage(t){return!!t.match(/img[ ]?:/)}static getTextStyle(t){let e={};if(""==t||"[ ]"==t)return{};const i=t.match(/('[^']*')|("[^"]*")/gi);if(i)for(let r=0;r<i.length;r++)t=t.replace(i[r],i[r].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let s=t.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!s)return{};for(let r=0;r<s.length;r++)if(s[r].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))e.fontWeight=s[r];else if(s[r].match(/^(underline|line-through)$/i))e.textDecoration=s[r];else if("/"==s[r]);else if(s[r].match(/:/)){const t=s[r].replace("+"," ").split(/:[ ]*/);e[t[0]]=t[1]}else e.fill=Zt.fromString(s[r]);return e}}function $e(t,e){if(null!=e){e=""+e;let i,s=(e=Xe.escape(e)).match(/\{([^}]+)\}/g);if(s)for(i=0;i<s.length;i++){let r=Ze(t,s[i].replace(/\{([^}]+)\}/,"$1"));null==r&&(r=""),e=e.split(s[i]).join(r)}e=Xe.unescape(e)}else e="";return e}function Ze(t,e,i){let s;const r=t.dataItem;let n,a=[],o=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g;for(;n=o.exec(e),null!==n;)if(n[3]){a.push({prop:n[3]});const e=t.getDateFormatter().get("dateFields",[]),i=t.getNumberFormatter().get("numericFields",[]),s=t.getDurationFormatter().get("durationFields",[]);-1!==e.indexOf(n[3])?a.push({method:"formatDate",params:[]}):-1!==i.indexOf(n[3])?a.push({method:"formatNumber",params:[]}):-1!==s.indexOf(n[3])&&a.push({method:"formatDuration",params:[]})}else{let t=[];if(""!=Dt(n[2])){let e,i=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g;for(;e=i.exec(n[2]),null!==e;)t.push(e[1]||e[2]||e[3])}a.push({method:n[1],params:t})}if(r){s=qe(t,a,r._settings),(null==s||d(s))&&(s=qe(t,a,r));let i=r.dataContext;null==s&&i&&(s=qe(t,a,i),null==s&&(s=qe(t,[{prop:e}],i)),null==s&&i.dataContext&&(s=qe(t,a,i.dataContext))),null==s&&r.component&&r.component.dataItem!==r&&(s=Ze(r.component,e))}return null==s&&(s=qe(t,a,t)),null==s&&t.parent&&(s=Ze(t.parent,e)),s}function Je(t,e){const i=t.getPrivate("customData");if(d(i))return i[e]}function qe(t,i,n,a){let h=n,d=!1;for(let l=0,u=i.length;l<u;l++){let u=i[l];if(u.prop){if(h instanceof He){let t=h.get(u.prop);null==t&&(t=h.getPrivate(u.prop)),null==t&&(t=Je(h,u.prop)),null==t&&(t=h[u.prop]),h=t}else if(h.get){let t=h.get(u.prop);null==t&&(t=h[u.prop]),h=t}else h=h[u.prop];if(null==h)return}else switch(u.method){case"formatNumber":let i=s(h);null!=i&&(h=t.getNumberFormatter().format(i,a||u.params[0]||void 0),d=!0);break;case"formatDate":let l=r(h);if(!o(l)||e(l.getTime()))return;null!=l&&(h=t.getDateFormatter().format(l,a||u.params[0]||void 0),d=!0);break;case"formatDuration":let p=s(h);null!=p&&(h=t.getDurationFormatter().format(p,a||u.params[0]||void 0,u.params[1]||void 0),d=!0);break;case"urlEncode":case"encodeURIComponent":h=encodeURIComponent(h);break;default:h[u.method]&&h[u.method].apply(n,u.params)}}if(!d){let e=[{method:"",params:a}];if(null==a)l(h)?(e[0].method="formatNumber",e[0].params=""):o(h)&&(e[0].method="formatDate",e[0].params="");else{let t=xt(a);"number"===t?e[0].method="formatNumber":"date"===t?e[0].method="formatDate":"duration"===t&&(e[0].method="formatDuration")}e[0].method&&(h=qe(t,e,h))}return h}Object.defineProperty(Xe,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});class Qe extends He{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new U(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_dispose(){f(this.allChildren(),(t=>{t.dispose()})),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each((t=>{t.removePrivate("x"),t.removePrivate("y")}))),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each((t=>{t.markDirtyPosition()})),this.isDirty("maskContent")){const t=this._childrenDisplay;let e=this._contentMask;this.get("maskContent")?e||(e=Ve.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=e,t.addChildAt(e._display,0),t.mask=e._display):e&&(t.removeChild(e._display),t.mask=null,e.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),m(this._percentageSizeChildren,(t=>{t._updateSize()})),m(this._percentagePositionChildren,(t=>{t.markDirtyPosition(),t._updateSize()})),this.updateBackground()}updateBackground(){const t=this.get("background");let e=this._localBounds;if(e&&!this.isHidden()){let i=e.left,s=e.top,r=e.right-i,n=e.bottom-s,a=this.get("maxWidth"),o=this.get("maxHeight");o&&n>o&&(n=o),a&&r>a&&(r=a);let h=this.width(),l=this.height();t&&(t.setAll({width:r,height:n,x:i,y:s}),this._display.interactive&&(t._display.interactive=!0));const d=this._contentMask;d&&d.setAll({width:h+1,height:l+1});const u=this.get("verticalScrollbar");if(u){u.set("height",l),u.set("x",h-u.width()-u.get("marginRight",0)),u.set("end",u.get("start",0)+l/this._contentHeight);const t=u.get("background");t&&t.setAll({width:u.width(),height:l});let e=!0;this._contentHeight<=l&&(e=!1),u.setPrivate("visible",e)}}}_applyThemes(){return!!super._applyThemes()&&(this.eachChildren((t=>{t._applyThemes()})),!0)}_applyState(t){super._applyState(t),this.get("setStateOnChildren")&&this.eachChildren((e=>{e.states.apply(t)}))}_applyStateAnimated(t,e){super._applyStateAnimated(t,e),this.get("setStateOnChildren")&&this.eachChildren((i=>{i.states.applyAnimate(t,e)}))}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){let t=this.get("width"),e=this.get("height"),i=this.getPrivate("width"),s=this.getPrivate("height"),r={left:0,top:0,right:this.width(),bottom:this.height()},n=this.get("layout"),a=!1,o=!1;if((n instanceof ze||n instanceof Ye)&&(a=!0),n instanceof Ge&&(o=!0),null==t&&null==i||null==e&&null==s||this.get("verticalScrollbar")){let t=Number.MAX_VALUE,e=t,i=-t,s=t,n=-t;const h=this.get("paddingLeft",0),l=this.get("paddingTop",0),d=this.get("paddingRight",0),u=this.get("paddingBottom",0);this.children.each((t=>{if("absolute"!=t.get("position")&&t.get("isMeasured")){let r=t.adjustedLocalBounds(),h=t.x(),l=t.y(),d=h+r.left,u=h+r.right,p=l+r.top,c=l+r.bottom;a&&(d-=t.get("marginLeft",0),u+=t.get("marginRight",0)),o&&(p-=t.get("marginTop",0),c+=t.get("marginBottom",0)),d<e&&(e=d),u>i&&(i=u),p<s&&(s=p),c>n&&(n=c)}})),e==t&&(e=0),i==-t&&(i=0),s==t&&(s=0),n==-t&&(n=0),r.left=e-h,r.top=s-l,r.right=i+d,r.bottom=n+u}else;this._contentWidth=r.right-r.left,this._contentHeight=r.bottom-r.top,l(t)&&(r.left=0,r.right=t),l(i)&&(r.left=0,r.right=i),l(e)&&(r.top=0,r.bottom=e),l(s)&&(r.top=0,r.bottom=s),this._localBounds=r}_updateBounds(){const t=this.get("layout");t&&t.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){const t=this.innerWidth(),e=this.innerHeight();if(t!=this._prevWidth||e!=this._prevHeight){let i=this.get("layout"),s=!1,r=!1;i&&((i instanceof ze||i instanceof Ye)&&(s=!0),i instanceof Ge&&(r=!0)),m(this._percentageSizeChildren,(i=>{if(!s){let e=i.get("width");e instanceof K&&i.setPrivate("width",e.value*t)}if(!r){let t=i.get("height");t instanceof K&&i.setPrivate("height",t.value*e)}})),m(this._percentagePositionChildren,(t=>{t.markDirtyPosition(),t.markDirtyBounds()})),this._prevWidth=t,this._prevHeight=e,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}_updateChildren(){if(this.isDirty("html")){const t=this.get("html");t&&""!==t?this._root._setHTMLContent(this,$e(this,this.get("html",""))):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}if(this.isDirty("verticalScrollbar")){const t=this.get("verticalScrollbar");if(t){t._setParent(this),t.startGrip.setPrivate("visible",!1),t.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",t.width()+t.get("marginRight",0)+t.get("marginLeft",0));let e=this.get("background");e||(e=this.set("background",Ve.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",(e=>{const i=e.originalEvent;if(!gt(i,this))return;i.preventDefault();let s=i.deltaY/5e3;const r=t.get("start",0),n=t.get("end",1);r+s<=0&&(s=-r),n+s>=1&&(s=1-n),r+s>=0&&n+s<=1&&(t.set("start",r+s),t.set("end",n+s))})),this._disposers.push(this._vsbd0),this._vsbd1=t.events.on("rangechanged",(()=>{let e=this._contentHeight;const i=this._childrenDisplay,s=this._contentMask;i.y=-t.get("start")*e,i.markDirtyLayer(),s&&(s._display.y=-i.y,i.mask=s._display)})),this._disposers.push(this._vsbd1),this._display.addChild(t._display)}else{const t=this._prevSettings.verticalScrollbar;if(t){this._display.removeChild(t._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();this._childrenDisplay.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const t=this._prevSettings.background;t&&this._display.removeChild(t._display);const e=this.get("background");e instanceof He&&(e.set("isMeasured",!1),e._setParent(this),this._display.addChildAt(e._display,0))}if(this.isDirty("mask")){const t=this.get("mask"),e=this._prevSettings.mask;if(e&&(this._display.removeChild(e._display),e!=t&&e.dispose()),t){const e=t.parent;e&&e.children.removeValue(t),t._setParent(this),this._display.addChildAt(t._display,0),this._childrenDisplay.mask=t._display}}}_processTemplateField(){super._processTemplateField(),this.children.each((t=>{t._processTemplateField()}))}walkChildren(t){this.children.each((e=>{e instanceof Qe&&e.walkChildren(t),t(e)}))}eachChildren(t){const e=this.get("background");e&&t(e);const i=this.get("verticalScrollbar");i&&t(i);const s=this.get("mask");s&&t(s),this.children.values.forEach((e=>{t(e)}))}allChildren(){const t=[];return this.eachChildren((e=>{t.push(e)})),t}_setDataItem(t){const e=t!==this._dataItem;super._setDataItem(t);const i=this.get("html","");i&&""!==i&&e&&this._root._setHTMLContent(this,$e(this,i))}}Object.defineProperty(Qe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(Qe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:He.classNames.concat([Qe.className])});class ti extends He{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text"))super._updateBounds();else{let t={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=t}}_changed(){super._changed(),this._display.clear();let t=this.textStyle;if(this.isDirty("opacity")){let t=this.get("opacity",1);this._display.alpha=t}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),"tooltip"==this.get("role")&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")){this.getPrivate("tooltipElement")&&this._disposers.push(new B((()=>{this._root._removeTooltipElement(this)})))}if(this.isDirty("width")&&(t.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(t.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(t.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(t.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(t.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(t.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){let e=this.get("fill");e&&(t.fill=e)}if(this.isDirty("fillOpacity")){let e=this.get("fillOpacity",1);e&&(t.fillOpacity=e)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(t.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(t.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),m(this._textStyles,(e=>{this._dirty[e]&&(t[e]=this.get(e),this.markDirtyBounds())})),t.fontSize=this.get("fontSize"),t.fontFamily=this.get("fontFamily"),this._display.style=t,this.isDirty("role")&&"tooltip"==this.get("role")&&this._root.updateTooltip(this)}_getText(){const t=this.get("text","");return this.get("populateText")?$e(this,t):t}markDirtyText(){this._display.text=this._getText(),"tooltip"==this.get("role")&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(t){super._setDataItem(t),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(ti,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(ti,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:He.classNames.concat([ti.className])});class ei extends Qe{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),m(this._textKeys,(t=>{const e=this.get(t);null!=e&&this._text.set(t,e)})),""!==this.get("html","")&&this._text.set("text",""),this.onPrivate("maxWidth",(()=>{this._setMaxDimentions()})),this.onPrivate("maxHeight",(()=>{this._setMaxDimentions()}))}_makeText(){this._text=this.children.push(ti.new(this._root,{}))}_updateChildren(){if(super._updateChildren(),m(this._textKeys,(t=>{this._text.set(t,this.get(t))})),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),""!==this.get("html","")?this._text.set("text",""):this._text.set("text",this.get("text")),this.isDirty("textAlign")||this.isDirty("width")){const t=this.get("textAlign");let e;null!=this.get("width")?e="right"==t?Y:"center"==t?X:0:"left"==t||"start"==t?e=this.get("paddingLeft"):"right"!=t&&"end"!=t||(e=-this.get("paddingRight")),this.text.set("x",e)}}_setMaxDimentions(){const t=this.get("rotation"),e=90==t||270==t||-90==t,i=this.get("maxWidth",this.getPrivate("maxWidth",1/0));l(i)?this.text.set(e?"maxHeight":"maxWidth",i-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(e?"maxHeight":"maxWidth",void 0);const s=this.get("maxHeight",this.getPrivate("maxHeight",1/0));l(s)?this.text.set(e?"maxWidth":"maxHeight",s-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(e?"maxWidth":"maxHeight",void 0)}_setDataItem(t){super._setDataItem(t),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}getText(){return this._text._getText()}}Object.defineProperty(ei,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(ei,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qe.classNames.concat([ei.className])});class ii{constructor(t,e){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=t,!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(t){const e=new this(t,!0);return e.setupDefaultRules(),e}setupDefaultRules(){}_lookupRules(t){return this._rules[t]}ruleRaw(t,e=[]){let i=this._rules[t];i||(i=this._rules[t]=[]),e.sort(De);const{index:s,found:r}=E(i,(t=>{const i=De(t.tags.length,e.length);return 0===i?xe(t.tags,e,De):i}));if(r)return i[s].template;{const t=Be.new({});return i.splice(s,0,{tags:e,template:t}),t}}rule(t,e=[]){return this.ruleRaw(t,e)}}


/***/ }),

/***/ 77225:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ _),
/* harmony export */   D: () => (/* binding */ g),
/* harmony export */   S: () => (/* binding */ U),
/* harmony export */   T: () => (/* binding */ B),
/* harmony export */   a: () => (/* binding */ D),
/* harmony export */   c: () => (/* binding */ k),
/* harmony export */   r: () => (/* binding */ I),
/* harmony export */   w: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _Theme_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41167);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class f extends _Theme_js__WEBPACK_IMPORTED_MODULE_1__.ax{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,t){this.processor&&this.processor.processRow(t),super._onInsertIndex(e,t)}_onSetIndex(e,t,s){this.processor&&this.processor.processRow(s),super._onSetIndex(e,t,s)}}class g extends _Theme_js__WEBPACK_IMPORTED_MODULE_1__.aG{constructor(e,t,s){super(s),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=t,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class _ extends _Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new f}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll((e=>{const t=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,"clear"===e.type)(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(t,(e=>{e.dispose()})),t.length=0,this._onDataClear();else if("push"===e.type){const s=new g(this,e.newValue,this._makeDataItem(e.newValue));t.push(s),this.processDataItem(s)}else if("setIndex"===e.type){const s=t[e.index],i=this._makeDataItem(e.newValue);s.bullets&&0==s.bullets.length&&(s.bullets=void 0),(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.aa)(i).forEach((e=>{s.animate({key:e,to:i[e],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})})),s.dataContext=e.newValue}else if("insertIndex"===e.type){const s=new g(this,e.newValue,this._makeDataItem(e.newValue));t.splice(e.index,0,s),this.processDataItem(s)}else if("removeIndex"===e.type){t[e.index].dispose(),t.splice(e.index,1)}else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");{const s=t[e.oldIndex];t.splice(e.oldIndex,1),t.splice(e.newIndex,0,s)}}this._afterDataChange()})))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(this.valueFields,(e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})}))),this.fields&&(this._fields=[],this._fieldsF={},(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(this.fields,(e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")})))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const t={};return this._valueFields&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(this._valueFields,(s=>{const i=this.get(this._valueFieldsF[s].fieldKey);t[s]=e[i],t[this._valueFieldsF[s].workingKey]=t[s]})),this._fields&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(this._fields,(s=>{const i=this.get(this._fieldsF[s]);t[s]=e[i]})),t}makeDataItem(e){let t=new g(this,void 0,e);return this.processDataItem(t),t}pushDataItem(e){const t=this.makeDataItem(e);return this._mainDataItems.push(t),t}disposeDataItem(e){}showDataItem(t,s){return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){t.set("visible",!0)}))}hideDataItem(t,s){return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){t.set("visible",!1)}))}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}}function v(e){return new Promise(((t,s)=>{setTimeout(t,e)}))}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3.classNames.concat([_.className])});let y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2629742400,year:31536e6};function w(e,t){return null==t&&(t=1),y[e]*t}function I(e,t,s,i,a,l,n){if(!n||a){let n=0;switch(a||"millisecond"==t||(n=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-n)),t){case"day":let t=e.getUTCDate();if(s>1){if(l){l=I(l,"day",1);let t=e.getTime()-l.getTime(),i=Math.floor(t/w("day")/s),a=w("day",i*s);e.setTime(l.getTime()+a-n*w("minute"))}}else e.setUTCDate(t);e.setUTCHours(0,0,0,0);break;case"second":let a=e.getUTCSeconds();s>1&&(a=Math.floor(a/s)*s),e.setUTCSeconds(a,0);break;case"millisecond":if(1==s)return e;let o=e.getUTCMilliseconds();o=Math.floor(o/s)*s,e.setUTCMilliseconds(o);break;case"hour":let h=e.getUTCHours();s>1&&(h=Math.floor(h/s)*s),e.setUTCHours(h,0,0,0);break;case"minute":let u=e.getUTCMinutes();s>1&&(u=Math.floor(u/s)*s),e.setUTCMinutes(u,0,0);break;case"month":let d=e.getUTCMonth();s>1&&(d=Math.floor(d/s)*s),e.setUTCMonth(d,1),e.setUTCHours(0,0,0,0);break;case"year":let c=e.getUTCFullYear();s>1&&(c=Math.floor(c/s)*s),e.setUTCFullYear(c,0,1),e.setUTCHours(0,0,0,0);break;case"week":let m=e.getUTCDate(),p=e.getUTCDay();(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.g)(i)||(i=1),m=p>=i?m-p+i:m-(7+p)+i,e.setUTCDate(m),e.setUTCHours(0,0,0,0)}if(!a&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+n),"day"==t||"week"==t||"month"==t||"year"==t)){let t=e.getTimezoneOffset();if(t!=n){let s=t-n;e.setUTCMinutes(e.getUTCMinutes()+s)}}return e}{if(isNaN(e.getTime()))return e;let o=n.offsetUTC(e),h=e.getTimezoneOffset(),u=n.parseDate(e),d=u.year,c=u.month,m=u.day,p=u.hour,b=u.minute,f=u.second,g=u.millisecond,_=u.weekday;switch(t){case"day":if(s>1&&l){l=I(l,"day",1,i,a,void 0,n);let t=e.getTime()-l.getTime(),r=Math.floor(t/w("day")/s),o=w("day",r*s);e.setTime(l.getTime()+o),u=n.parseDate(e),d=u.year,c=u.month,m=u.day}p=0,b=o-h,f=0,g=0;break;case"second":b+=o-h,s>1&&(f=Math.floor(f/s)*s),g=0;break;case"millisecond":b+=o-h,s>1&&(g=Math.floor(g/s)*s);break;case"hour":s>1&&(p=Math.floor(p/s)*s),b=o-h,f=0,g=0;break;case"minute":s>1&&(b=Math.floor(b/s)*s),b+=o-h,f=0,g=0;break;case"month":s>1&&(c=Math.floor(c/s)*s),m=1,p=0,b=o-h,f=0,g=0;break;case"year":s>1&&(d=Math.floor(d/s)*s),c=0,m=1,p=0,b=o-h,f=0,g=0;break;case"week":(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.g)(i)||(i=1),m=_>=i?m-_+i:m-(7+_)+i,p=0,b=o-h,f=0,g=0}let v=(e=new Date(d,c,m,p,b,f,g)).getTimezoneOffset();return v!=h&&e.setTime(e.getTime()+6e4*(h-v)),e}}class D extends _{constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new _Theme_js__WEBPACK_IMPORTED_MODULE_1__.ax}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3.new(this._root,{width:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a4,height:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a4,position:"absolute"})})}_afterNew(){this.valueFields.push("value"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll((e=>{if("clear"===e.type)this._handleBullets(this.dataItems);else if("push"===e.type)this._handleBullets(this.dataItems);else if("setIndex"===e.type)this._handleBullets(this.dataItems);else if("insertIndex"===e.type)this._handleBullets(this.dataItems);else if("removeIndex"===e.type)this._handleBullets(this.dataItems);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");this._handleBullets(this.dataItems)}})))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}_handleBullets(e){(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(e,(e=>{const t=e.bullets;t&&((0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(t,(e=>{e.dispose()})),e.bullets=void 0)})),this.markDirtyValues()}getDataItemById(e){return (0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.aH)(this.dataItems,(t=>t.get("id")==e))}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each((t=>{this._makeBullet(e,t)})))}_shouldMakeBullet(e){return!0}_makeBullet(e,t,s){const i=t(this._root,this,e);if(i){let t=i.get("sprite");t&&(t._setDataItem(e),t.setRaw("position","absolute"),this.bulletsContainer.children.push(t)),i._index=s,i.series=this,e.bullets.push(i)}return i}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),t=this.endIndex();if(this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const e=this.getPrivate("baseValueSeries");e&&this._disposers.push(e.onPrivate("startIndex",(()=>{this.markDirtyValues()})))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0)),this._psi==e&&this._pei==t||this._selectionAggregatesCalculated||(0===e&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let e=this.get("tooltip");e&&(e.hide(0),e.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let e;const t=this.get("legendDataItem");if(t&&(e=t.get("markerRectangle"),e&&this.isVisible())){if(this.isDirty("stroke")){let t=this.get("stroke");e.set("stroke",t)}if(this.isDirty("fill")){let t=this.get("fill");e.set("fill",t)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let e=this.startIndex(),t=this.endIndex();t<this.dataItems.length&&t++;for(let s=e;s<t;s++){let e=this.dataItems[s];e.bullets||this._makeBullets(e)}}}_calculateAggregates(e,t){let s=this._valueFields;if(!s)throw new Error("No value fields are set for the series.");const i={},l={},r={},n={},o={},h={},u={},d={},c={};(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(s,(e=>{i[e]=0,l[e]=0,r[e]=0})),(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(s,(s=>{let a=s+"Change",m=s+"ChangePercent",p=s+"ChangePrevious",b=s+"ChangePreviousPercent",f=s+"ChangeSelection",g=s+"ChangeSelectionPercent",_="valueY";"valueX"!=s&&"openValueX"!=s&&"lowValueX"!=s&&"highValueX"!=s||(_="valueX");const v=this.getPrivate("baseValueSeries");for(let y=e;y<t;y++){const t=this.dataItems[y];let w=t.get(s);null!=w&&(r[s]++,i[s]+=w,l[s]+=Math.abs(w),d[s]=i[s]/r[s],(n[s]>w||null==n[s])&&(n[s]=w),(o[s]<w||null==o[s])&&(o[s]=w),u[s]=w,null==h[s]&&(h[s]=w,c[s]=w,v&&(h[_]=v._getBase(_))),0===e&&(t.setRaw(a,w-h[_]),t.setRaw(m,(w-h[_])/h[_]*100)),t.setRaw(p,w-c[_]),t.setRaw(b,(w-c[_])/c[_]*100),t.setRaw(f,w-h[_]),t.setRaw(g,(w-h[_])/h[_]*100),c[s]=w)}})),(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(s,(e=>{this.setPrivate(e+"AverageSelection",d[e]),this.setPrivate(e+"CountSelection",r[e]),this.setPrivate(e+"SumSelection",i[e]),this.setPrivate(e+"AbsoluteSumSelection",l[e]),this.setPrivate(e+"LowSelection",n[e]),this.setPrivate(e+"HighSelection",o[e]),this.setPrivate(e+"OpenSelection",h[e]),this.setPrivate(e+"CloseSelection",u[e])})),0===e&&t===this.dataItems.length&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(s,(e=>{this.setPrivate(e+"Average",d[e]),this.setPrivate(e+"Count",r[e]),this.setPrivate(e+"Sum",i[e]),this.setPrivate(e+"AbsoluteSum",l[e]),this.setPrivate(e+"Low",n[e]),this.setPrivate(e+"High",o[e]),this.setPrivate(e+"Open",h[e]),this.setPrivate(e+"Close",u[e])}))}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(e,(e=>{const t=e.minValue||this.getPrivate(e.dataField+"Low")||0,s=e.maxValue||this.getPrivate(e.dataField+"High")||0;(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(e.target._entities,(i=>{const a=i.dataItem.get(e.dataField);if((0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.g)(a))if(e.customFunction)e.customFunction.call(this,i,t,s,a);else{let l,n;l=e.logarithmic?(Math.log(a)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(t)*Math.LOG10E):(a-t)/(s-t),!(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.g)(a)||(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.g)(l)&&Math.abs(l)!=1/0||(l=.5),(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.g)(e.min)?n=e.min+(e.max-e.min)*l:e.min instanceof _Theme_js__WEBPACK_IMPORTED_MODULE_1__.C?n=_Theme_js__WEBPACK_IMPORTED_MODULE_1__.C.interpolate(l,e.min,e.max):e.min instanceof _Theme_js__WEBPACK_IMPORTED_MODULE_1__.Q&&(n=(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.aI)(l,e.min,e.max)),i.set(e.key,n)}else e.neutral&&i.set(e.key,e.neutral)}))})),this.get("visible")&&this.bullets.length>0){let e=this.dataItems.length,t=this.startIndex(),s=this.endIndex();s<e&&s++,t>0&&t--;for(let i=0;i<t;i++)this._hideBullets(this.dataItems[i]);for(let i=t;i<s;i++)this._positionBullets(this.dataItems[i]);for(let i=s;i<e;i++)this._hideBullets(this.dataItems[i])}}_positionBullets(e){e.bullets&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(e.bullets,(e=>{this._positionBullet(e);const t=e.get("sprite");e.get("dynamic")&&(t&&(t._markDirtyKey("fill"),t.markDirtySize()),t instanceof _Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3&&t.walkChildren((e=>{e._markDirtyKey("fill"),e.markDirtySize(),e instanceof _Theme_js__WEBPACK_IMPORTED_MODULE_1__.al&&e.text.markDirtyText()}))),t instanceof _Theme_js__WEBPACK_IMPORTED_MODULE_1__.al&&t.get("populateText")&&t.text.markDirtyText()}))}_hideBullets(e){e.bullets&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(e.bullets,(e=>{let t=e.get("sprite");t&&t.setPrivate("visible",!1)}))}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const t=e.bullets;t&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(t,(e=>{e.dispose()}))}_getItemReaderLabel(){return""}showDataItem(t,s){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){const e=[i.showDataItem.call(this,t,s)],l=t.bullets;l&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(l,(t=>{e.push(t.get("sprite").show(s))})),yield Promise.all(e)}))}hideDataItem(t,s){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){const e=[i.hideDataItem.call(this,t,s)],l=t.bullets;l&&(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(l,(t=>{e.push(t.get("sprite").hide(s))})),yield Promise.all(e)}))}_sequencedShowHide(t,s){return (0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){if(this.get("sequencedInterpolation"))if((0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.g)(s)||(s=this.get("interpolationDuration",0)),s>0){const i=this.startIndex(),a=this.endIndex();yield Promise.all((0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.x)(this.dataItems,((l,r)=>(0,_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){let e=s||0;(r<i-10||r>a+10)&&(e=0);let n=this.get("sequencedDelay",0)+e/(a-i);yield v(n*(r-i)),t?yield this.showDataItem(l,e):yield this.hideDataItem(l,e)})))))}else yield Promise.all((0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.x)(this.dataItems,(e=>t?this.showDataItem(e,0):this.hideDataItem(e,0))))}))}updateLegendValue(e){if(e){const t=e.get("legendDataItem");if(t){const s=t.get("valueLabel");if(s){const t=s.text;let i="";s._setDataItem(e),i=this.get("legendValueText",t.get("text","")),s.set("text",i),t.markDirtyText()}const i=t.get("label");if(i){const t=i.text;let s="";i._setDataItem(e),s=this.get("legendLabelText",t.get("text","")),i.set("text",s),t.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const t=this.dataItems[this.startIndex()];return t?t.get(e):0}}function x(e,t){for(let s=0,i=t.length;s<i;s++){const i=t[s];if(i.length>0){let t=i[0];if(t.length>0){let s=t[0];e.moveTo(s.x,s.y);for(let t=0,a=i.length;t<a;t++)C(e,i[t])}}}}function C(e,t){for(let s=0,i=t.length;s<i;s++){const i=t[s];e.lineTo(i.x,i.y)}}Object.defineProperty(D,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(D,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_.classNames.concat([D.className])});class P extends _Theme_js__WEBPACK_IMPORTED_MODULE_1__.a7{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),t=this.get("segments");if(e&&e.length>0){let t=e[0];this._display.moveTo(t.x,t.y),x(this._display,[[e]])}else if(t)x(this._display,t);else if(!this.get("draw")){let e=this.width(),t=this.height();this._display.moveTo(0,0),this._display.lineTo(e,t)}}}}function k(e){return function(){return e}}Object.defineProperty(P,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(P,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a7.classNames.concat([P.className])});const T=Math.PI,M=2*T,O=1e-6,$=M-O;function j(e){this._+=e[0];for(let t=1,s=e.length;t<s;++t)this._+=arguments[t]+e[t]}function S(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return j;const s=10**t;return function(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=Math.round(arguments[t]*s)/s+e[t]}}class F{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?j:S(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,s,i){this._append`Q${+e},${+t},${this._x1=+s},${this._y1=+i}`}bezierCurveTo(e,t,s,i,a,l){this._append`C${+e},${+t},${+s},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,t,s,i,a){if(e=+e,t=+t,s=+s,i=+i,(a=+a)<0)throw new Error(`negative radius: ${a}`);let l=this._x1,r=this._y1,n=s-e,o=i-t,h=l-e,u=r-t,d=h*h+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>O)if(Math.abs(u*n-o*h)>O&&a){let c=s-l,m=i-r,p=n*n+o*o,b=c*c+m*m,f=Math.sqrt(p),g=Math.sqrt(d),_=a*Math.tan((T-Math.acos((p+d-b)/(2*f*g)))/2),v=_/g,y=_/f;Math.abs(v-1)>O&&this._append`L${e+v*h},${t+v*u}`,this._append`A${a},${a},0,0,${+(u*c>h*m)},${this._x1=e+y*n},${this._y1=t+y*o}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,s,i,a,l){if(e=+e,t=+t,l=!!l,(s=+s)<0)throw new Error(`negative radius: ${s}`);let r=s*Math.cos(i),n=s*Math.sin(i),o=e+r,h=t+n,u=1^l,d=l?i-a:a-i;null===this._x1?this._append`M${o},${h}`:(Math.abs(this._x1-o)>O||Math.abs(this._y1-h)>O)&&this._append`L${o},${h}`,s&&(d<0&&(d=d%M+M),d>$?this._append`A${s},${s},0,1,${u},${e-r},${t-n}A${s},${s},0,1,${u},${this._x1=o},${this._y1=h}`:d>O&&this._append`A${s},${s},0,${+(d>=T)},${u},${this._x1=e+s*Math.cos(a)},${this._y1=t+s*Math.sin(a)}`)}rect(e,t,s,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${s=+s}v${+i}h${-s}Z`}toString(){return this._}}function V(e){let t=3;return e.digits=function(s){if(!arguments.length)return t;if(null==s)t=null;else{const e=Math.floor(s);if(!(e>=0))throw new RangeError(`invalid digits: ${s}`);t=e}return e},()=>new F(t)}class N extends _Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3.new(this._root,{width:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a4,height:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a4,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a4,height:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a4})})}}Object.defineProperty(N,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(N,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3.classNames.concat([N.className])});class U extends N{constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a3.new(this._root,{width:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a4,height:_Theme_js__WEBPACK_IMPORTED_MODULE_1__.a4,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new _Theme_js__WEBPACK_IMPORTED_MODULE_1__.as})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll((t=>{if("clear"===t.type){(0,_Theme_js__WEBPACK_IMPORTED_MODULE_1__.e)(t.oldValues,(e=>{this._removeSeries(e)}));const e=this.get("colors");e&&e.reset()}else if("push"===t.type)e.moveValue(t.newValue),this._processSeries(t.newValue);else if("setIndex"===t.type)e.setIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("insertIndex"===t.type)e.insertIndex(t.index,t.newValue),this._processSeries(t.newValue);else if("removeIndex"===t.type)this._removeSeries(t.oldValue);else{if("moveIndex"!==t.type)throw new Error("Unknown IListEvent type");e.moveValue(t.value,t.newIndex),this._processSeries(t.value)}})))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(U,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(U,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:N.classNames.concat([U.className])});class B extends P{}Object.defineProperty(B,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(B,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:P.classNames.concat([B.className])});


/***/ }),

/***/ 29107:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  AxisRendererXAm5: () => (/* reexport */ _e),
  AxisRendererYAm5: () => (/* reexport */ be),
  CategoryAxisAm5: () => (/* binding */ x),
  ColumnSeriesAm5: () => (/* binding */ _),
  LineSeriesAm5: () => (/* reexport */ xe),
  ValueAxisAm5: () => (/* reexport */ ue),
  XYChartAm5: () => (/* reexport */ oe),
  XYCursorAm5: () => (/* reexport */ re)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/Theme.js
var Theme = __webpack_require__(41167);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/ColorSet.js
var ColorSet = __webpack_require__(72929);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/DefaultTheme.js
var DefaultTheme = __webpack_require__(20166);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/Tick.js
var Tick = __webpack_require__(77225);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/Button.js
var Button = __webpack_require__(22636);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
;// ../node_modules/@arcgis/core/chunks/LineSeries.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function J(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Q(e){this._context=e}function $(e){return new Q(e)}function ee(e){return e[0]}function te(e){return e[1]}function ie(e,t){var i=(0,Tick.c)(!0),s=null,a=$,o=null,n=(0,Tick.w)(r);function r(r){var l,h,d,c=(r=J(r)).length,u=!1;for(null==s&&(o=a(d=n())),l=0;l<=c;++l)!(l<c&&i(h=r[l],l,r))===u&&((u=!u)?o.lineStart():o.lineEnd()),u&&o.point(+e(h,l,r),+t(h,l,r));if(d)return o=null,d+""||null}return e="function"==typeof e?e:void 0===e?ee:(0,Tick.c)(e),t="function"==typeof t?t:void 0===t?te:(0,Tick.c)(t),r.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,Tick.c)(+t),r):e},r.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,Tick.c)(+e),r):t},r.defined=function(e){return arguments.length?(i="function"==typeof e?e:(0,Tick.c)(!!e),r):i},r.curve=function(e){return arguments.length?(a=e,null!=s&&(o=a(s)),r):a},r.context=function(e){return arguments.length?(null==e?s=o=null:o=a(s=e),r):s},r}function se(e,t,i){var s=null,a=(0,Tick.c)(!0),o=null,n=$,r=null,l=(0,Tick.w)(h);function h(h){var d,c,u,g,p,m=(h=J(h)).length,_=!1,b=new Array(m),x=new Array(m);for(null==o&&(r=n(p=l())),d=0;d<=m;++d){if(!(d<m&&a(g=h[d],d,h))===_)if(_=!_)c=d,r.areaStart(),r.lineStart();else{for(r.lineEnd(),r.lineStart(),u=d-1;u>=c;--u)r.point(b[u],x[u]);r.lineEnd(),r.areaEnd()}_&&(b[d]=+e(g,d,h),x[d]=+t(g,d,h),r.point(s?+s(g,d,h):b[d],i?+i(g,d,h):x[d]))}if(p)return r=null,p+""||null}function d(){return ie().defined(a).curve(n).context(o)}return e="function"==typeof e?e:void 0===e?ee:(0,Tick.c)(+e),t="function"==typeof t?t:(0,Tick.c)(void 0===t?0:+t),i="function"==typeof i?i:void 0===i?te:(0,Tick.c)(+i),h.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,Tick.c)(+t),s=null,h):e},h.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,Tick.c)(+t),h):e},h.x1=function(e){return arguments.length?(s=null==e?null:"function"==typeof e?e:(0,Tick.c)(+e),h):s},h.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,Tick.c)(+e),i=null,h):t},h.y0=function(e){return arguments.length?(t="function"==typeof e?e:(0,Tick.c)(+e),h):t},h.y1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:(0,Tick.c)(+e),h):i},h.lineX0=h.lineY0=function(){return d().x(e).y(t)},h.lineY1=function(){return d().x(e).y(i)},h.lineX1=function(){return d().x(s).y(t)},h.defined=function(e){return arguments.length?(a="function"==typeof e?e:(0,Tick.c)(!!e),h):a},h.curve=function(e){return arguments.length?(n=e,null!=o&&(r=n(o)),h):n},h.context=function(e){return arguments.length?(null==e?o=r=null:r=n(o=e),h):o},h}Q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class ae extends Theme.am{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,l=this._root.language,h=this.rule.bind(this);h("XYChart").setAll({colors:ColorSet.C.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0,pinchZoomX:!1,pinchZoomY:!1}),h("XYSeries").setAll({legendLabelText:"{name}"}),h("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:ColorSet.C.new(this._root,{saturation:0})});{const t=h("Graphics",["scrollbar","overlay"]);t.setAll({fillOpacity:.5}),(0,DefaultTheme.s)(t,"fill",e,"background")}h("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),h("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),h("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),h("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),h("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),h("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),h("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:Theme.a4,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),h("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),h("AxisLabel",["x"]).setAll({centerY:0}),h("AxisLabel",["x","inside"]).setAll({centerY:Theme.a4}),h("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),h("AxisLabel",["x","opposite"]).setAll({centerY:Theme.a4}),h("AxisLabel",["y"]).setAll({centerX:Theme.a4}),h("AxisLabel",["y","inside"]).setAll({centerX:0}),h("AxisLabel",["y","inside","opposite"]).setAll({centerX:Theme.a4}),h("AxisLabel",["y","opposite"]).setAll({centerX:0}),h("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),h("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),h("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),h("XYCursor").setAll({behavior:"none",layer:30,exportable:!1,snapToSeriesBy:"xy",moveThreshold:1});{const t=h("Grid",["cursor","x"]);t.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:l.translate("Use left and right arrows to move selection")}),(0,DefaultTheme.s)(t,"stroke",e,"alternativeBackground")}{const t=h("Grid",["cursor","y"]);t.setAll({strokeOpacity:.8,strokeDasharray:[2,2],ariaLabel:l.translate("Use up and down arrows to move selection")}),(0,DefaultTheme.s)(t,"stroke",e,"alternativeBackground")}{const t=h("Graphics",["cursor","selection"]);t.setAll({fillOpacity:.15}),(0,DefaultTheme.s)(t,"fill",e,"alternativeBackground")}h("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),h("AxisLabel").setAll({location:.5,multiLocation:0,centerX:Theme.ao,centerY:Theme.ao,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),h("Container",["axis","header"]).setAll({layer:30}),h("Rectangle",["axis","header","background"]).setAll({crisp:!0});{const t=h("AxisRenderer");t.setAll({crisp:!0,strokeOpacity:0}),(0,DefaultTheme.s)(t,"stroke",e,"grid")}h("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:Theme.a4}),h("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:Theme.a4});{const t=h("Rectangle",["axis","thumb"]);t.setAll({fillOpacity:0}),(0,DefaultTheme.s)(t,"fill",e,"alternativeBackground"),t.states.create("hover",{fillOpacity:.1})}h("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),h("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{const t=h("Grid");t.setAll({location:0,strokeOpacity:.15,crisp:!0}),(0,DefaultTheme.s)(t,"stroke",e,"grid")}h("Grid",["base"]).setAll({strokeOpacity:.3});{const t=h("Graphics",["axis","fill"]);t.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),(0,DefaultTheme.s)(t,"fill",e,"alternativeBackground")}h("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),h("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),h("Grid",["series","range"]).setAll({visible:!1}),h("AxisTick",["series","range"]).setAll({visible:!1}),h("AxisLabel",["series","range"]).setAll({visible:!1});{const t=h("AxisTick");t.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),(0,DefaultTheme.s)(t,"stroke",e,"grid")}h("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:(e,t)=>{const i=e.get("axisFill");i&&((0,Theme.g)(t)&&t%2!=0?i.setPrivate("visible",!1):i.setPrivate("visible",!0))}});const d=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],c={millisecond:l.translate("_date_millisecond"),second:l.translate("_date_second"),minute:l.translate("_date_minute"),hour:l.translate("_date_hour"),day:l.translate("_date_day"),week:l.translate("_date_day"),month:l.translate("_date_month"),year:l.translate("_date_year")},u={millisecond:l.translate("_date_millisecond"),second:l.translate("_date_second"),minute:l.translate("_date_minute"),hour:l.translate("_date_day"),day:l.translate("_date_day"),week:l.translate("_date_day"),month:l.translate("_date_month")+" "+l.translate("_date_year"),year:l.translate("_date_year")},g={millisecond:l.translate("_date_millisecond_full"),second:l.translate("_date_second_full"),minute:l.translate("_date_minute_full"),hour:l.translate("_date_hour_full"),day:l.translate("_date_day_full"),week:l.translate("_date_week_full"),month:l.translate("_date_month_full"),year:l.translate("_date_year")};h("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:(0,Theme.K)(d),dateFormats:(0,Theme.b)(c),periodChangeDateFormats:(0,Theme.b)(u)}),h("DateAxis").setAll({maxZoomFactor:null,strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:(0,Theme.K)(d),dateFormats:(0,Theme.b)(c),periodChangeDateFormats:(0,Theme.b)(u),tooltipDateFormats:g,groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:e=>{const t=e.get("axisFill");if(t){const i=e.component,s=e.get("value"),a=e.get("endValue"),o=i.intervalDuration(),n=i.getPrivate("baseInterval"),r=i.getPrivate("gridInterval",n);let l=i.getPrivate("min",0);if(l=(0,Tick.r)(new Date(l),r.timeUnit,r.count,this._root.locale.firstDayOfWeek,this._root.utc,void 0,this._root.timezone).getTime(),null!=s&&null!=a){const e=Math.round(Math.round((s-l)/o))/2;e==Math.round(e)?t.setPrivate("visible",!0):t.setPrivate("visible",!1)}}}}),h("GaplessDateAxis").setAll({fillRule:e=>{const t=e.get("axisFill");if(t){const i=e.get("index");let a=!1;(0,Theme.g)(i)&&i%2!=0||(a=!0),t.setPrivate("visible",a)}}}),h("ValueAxis").setAll({baseValue:0,logarithmic:!1,strictMinMax:!1,autoZoom:!0,fillRule:e=>{const t=e.get("axisFill");if(t){const i=e.component,a=e.get("value"),o=i.getPrivate("step");(0,Theme.g)(a)&&(0,Theme.g)(o)&&((0,Theme.ar)(a/o/2,5)==Math.round(a/o/2)?t.setPrivate("visible",!1):t.setPrivate("visible",!0))}}}),h("DurationAxis").setAll({baseUnit:"second"}),h("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),h("BaseColumnSeries").setAll({adjustBulletPosition:!0}),h("ColumnSeries").setAll({clustered:!0}),h("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:(0,Theme.R)(70),height:(0,Theme.R)(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),h("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),h("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),h("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),h("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:(e,t)=>{const i=t.parent;if(i){const t=i.height(),s=i.width();e.moveTo(0,t/2),e.lineTo(s,t/2)}}});{const t=h("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});(0,DefaultTheme.s)(t,"stroke",e,"disabled")}h("Graphics",["line","series","legend","marker","fill"]).setAll({draw:(e,t)=>{const i=t.parent;if(i){const t=i.height(),s=i.width();e.moveTo(0,0),e.lineTo(s,0),e.lineTo(s,t),e.lineTo(0,t),e.lineTo(0,0)}}});{const t=h("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});(0,DefaultTheme.s)(t,"stroke",e,"disabled")}h("SmoothedXYLineSeries").setAll({tension:.5}),h("SmoothedXLineSeries").setAll({tension:.5}),h("SmoothedYLineSeries").setAll({tension:.5}),h("Candlestick").setAll({position:"absolute",isMeasured:!1,width:(0,Theme.R)(50),height:(0,Theme.R)(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),h("OHLC").setAll({width:(0,Theme.R)(80),height:(0,Theme.R)(80)}),h("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{const t=h("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});(0,DefaultTheme.s)(t,"fill",e,"positive"),(0,DefaultTheme.s)(t,"stroke",e,"positive")}{const t=h("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});(0,DefaultTheme.s)(t,"fill",e,"negative"),(0,DefaultTheme.s)(t,"stroke",e,"negative")}h("Rectangle",["column","autocolor","pro"]).states.create("riseFromOpen",{fillOpacity:0}),h("Rectangle",["column","autocolor","pro"]).states.create("dropFromOpen",{fillOpacity:1});{const t=h("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{});(0,DefaultTheme.s)(t,"fill",e,"positive"),(0,DefaultTheme.s)(t,"stroke",e,"positive")}{const t=h("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{});(0,DefaultTheme.s)(t,"fill",e,"negative"),(0,DefaultTheme.s)(t,"stroke",e,"negative")}}}class oe extends Tick.S{constructor(){super(...arguments),Object.defineProperty(this,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.as}),Object.defineProperty(this,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.as}),Object.defineProperty(this,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Theme.a3.new(this._root,{width:Theme.a4,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Theme.a3.new(this._root,{width:Theme.a4,height:Theme.a4,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.chartContainer.children.push(Theme.a3.new(this._root,{width:Theme.a4,layout:this._root.verticalLayout}))}),Object.defineProperty(this,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Theme.a3.new(this._root,{height:Theme.a4,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"plotsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Theme.a3.new(this._root,{width:Theme.a4,height:Theme.a4,maskContent:!1}))}),Object.defineProperty(this,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Theme.a3.new(this._root,{width:Theme.a4,height:Theme.a4}))}),Object.defineProperty(this,"topPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotsContainer.children.push(Theme.a3.new(this._root,{width:Theme.a4,height:Theme.a4}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Theme.a3.new(this._root,{width:Theme.a4,height:Theme.a4,isMeasured:!1}))}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Theme.a3.new(this._root,{width:Theme.a4,height:Theme.a4,isMeasured:!1})}),Object.defineProperty(this,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.yAxesAndPlotContainer.children.push(Theme.a3.new(this._root,{height:Theme.a4,layout:this._root.horizontalLayout}))}),Object.defineProperty(this,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.plotContainer.children.push(Theme.a3.new(this._root,{}))}),Object.defineProperty(this,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:this.topPlotContainer.children.push(Button.B.new(this._root,{themeTags:["zoom"],icon:Theme.a7.new(this._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_movePoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_downStartX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStartY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEndY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._defaultThemes.push(ae.new(this._root)),super._afterNew(),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);const e=this._root;let t=this._root.verticalLayout;const i=this.zoomOutButton;i.events.on("click",(()=>{this.zoomOut()})),i.hide(0),i.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",t);const s=this.plotContainer;s.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),s.children.push(this.topGridContainer),s.children.push(this.bulletsContainer),s.set("interactive",!0),s.set("interactiveChildren",!1),s.set("background",Theme.a5.new(e,{themeTags:["xy","background"],fill:Theme.C.fromHex(0),fillOpacity:0})),this._disposers.push(s.events.on("pointerdown",(e=>{this._handlePlotDown(e)}))),this._disposers.push(s.events.on("globalpointerup",(e=>{this._handlePlotUp(e)}))),this._disposers.push(s.events.on("globalpointermove",(e=>{this._handlePlotMove(e)}))),this._maskGrid(),this._setUpTouch()}_beforeChanged(){super._beforeChanged(),(this.isDirty("pinchZoomX")||this.isDirty("pinchZoomY")||this.get("panX")||this.get("panY"))&&this._setUpTouch()}_setUpTouch(){this.plotContainer._display.cancelTouch||(this.plotContainer._display.cancelTouch=!!(this.get("pinchZoomX")||this.get("pinchZoomY")||this.get("panX")||this.get("panY")))}_maskGrid(){this.gridContainer.set("maskContent",!0),this.topGridContainer.set("maskContent",!0)}_removeSeries(e){e._unstack(),e._posXDp&&e._posXDp.dispose(),e._posYDp&&e._posYDp.dispose(),e.set("baseAxis",void 0);const t=e.get("xAxis");t&&((0,Theme.ad)(t.series,e),t.markDirtyExtremes());const i=e.get("yAxis");i&&((0,Theme.ad)(i.series,e),i.markDirtyExtremes());const s=this.get("cursor");if(s){const t=s.get("snapToSeries");t&&(0,Theme.ad)(t,e)}super._removeSeries(e)}handleWheel(e){const t=this.get("wheelX"),i=this.get("wheelY"),s=this.plotContainer,a=e.originalEvent;if(!(0,Theme.at)(a,this))return;a.preventDefault();const o=s.toLocal(e.point),n=this.get("wheelStep",.2),r=a.deltaY/100,l=a.deltaX/100,h=this.get("wheelZoomPositionX"),d=this.get("wheelZoomPositionY");"zoomX"!==t&&"zoomXY"!==t||0==l||this.xAxes.each((e=>{if(e.get("zoomX")){let t=e.get("start"),i=e.get("end"),a=e.fixPosition(o.x/s.width());null!=h&&(a=h);let r=t-n*(i-t)*l*a,d=i+n*(i-t)*l*(1-a);1/(d-r)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)&&this._handleWheelAnimation(e.zoom(r,d))}})),"zoomX"!==i&&"zoomXY"!==i||0==r||this.xAxes.each((e=>{if(e.get("zoomX")){let t=e.get("start"),i=e.get("end"),a=e.fixPosition(o.x/s.width());null!=h&&(a=h);let l=t-n*(i-t)*r*a,d=i+n*(i-t)*r*(1-a);1/(d-l)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)&&this._handleWheelAnimation(e.zoom(l,d))}})),"zoomY"!==t&&"zoomXY"!==t||0==l||this.yAxes.each((e=>{if(e.get("zoomY")){let t=e.get("start"),i=e.get("end"),a=e.fixPosition(o.y/s.height());null!=d&&(a=d);let r=t-n*(i-t)*l*a,h=i+n*(i-t)*l*(1-a);1/(h-r)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)&&this._handleWheelAnimation(e.zoom(r,h))}})),"zoomY"!==i&&"zoomXY"!==i||0==r||this.yAxes.each((e=>{if(e.get("zoomY")){let t=e.get("start"),i=e.get("end"),a=e.fixPosition(o.y/s.height());null!=d&&(a=d);let l=t-n*(i-t)*r*a,h=i+n*(i-t)*r*(1-a);1/(h-l)<e.getPrivate("maxZoomFactor",1/0)/e.get("minZoomCount",1)&&this._handleWheelAnimation(e.zoom(l,h))}})),"panX"!==t&&"panXY"!==t||0==l||this.xAxes.each((e=>{if(e.get("panX")){let t=e.get("start"),i=e.get("end"),s=this._getWheelSign(e)*n*(i-t)*l,a=t+s,o=i+s,r=this._fixWheel(a,o);a=r[0],o=r[1],this._handleWheelAnimation(e.zoom(a,o))}})),"panX"!==i&&"panXY"!==i||0==r||this.xAxes.each((e=>{if(e.get("panX")){let t=e.get("start"),i=e.get("end"),s=this._getWheelSign(e)*n*(i-t)*r,a=t+s,o=i+s,l=this._fixWheel(a,o);a=l[0],o=l[1],this._handleWheelAnimation(e.zoom(a,o))}})),"panY"!==t&&"panXY"!==t||0==l||this.yAxes.each((e=>{if(e.get("panY")){let t=e.get("start"),i=e.get("end"),s=this._getWheelSign(e)*n*(i-t)*l,a=t+s,o=i+s,r=this._fixWheel(a,o);a=r[0],o=r[1],this._handleWheelAnimation(e.zoom(a,o))}})),"panY"!==i&&"panXY"!==i||0==r||this.yAxes.each((e=>{if(e.get("panY")){let t=e.get("start"),i=e.get("end"),s=this._getWheelSign(e)*n*(i-t)*r,a=t-s,o=i-s,l=this._fixWheel(a,o);a=l[0],o=l[1],this._handleWheelAnimation(e.zoom(a,o))}}))}_handleSetWheel(){const e=this.get("wheelX"),t=this.get("wheelY"),i=this.plotContainer;"none"!==e||"none"!==t?(this._wheelDp=i.events.on("wheel",(i=>{const s=i.originalEvent;("none"!==e&&0!=Math.abs(s.deltaX)||"none"!==t&&0!=Math.abs(s.deltaY))&&this.handleWheel(i)})),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}_getWheelSign(e){let t=1;return e.get("renderer").get("inversed")&&(t=-1),t}_fixWheel(e,t){const i=t-e;return e<0&&(t=(e=0)+i),t>1&&(e=(t=1)-i),[e,t]}_handlePlotDown(e){const t=e.originalEvent;if(2==t.button)return;const i=this.plotContainer;let s=i.toLocal(e.point);if(this.get("pinchZoomX")||this.get("pinchZoomY")){if(t.pointerId&&(0,Theme.aa)(i._downPoints).length>0){const e=this.xAxes.getIndex(0),t=this.yAxes.getIndex(0);e&&(this._downStartX=e.get("start",0),this._downEndX=e.get("end",1)),t&&(this._downStartY=t.get("start",0),this._downEndY=t.get("end",1))}}if((this.get("panX")||this.get("panY"))&&s.x>=0&&s.y>=0&&s.x<=i.width()&&s.y<=this.height()){this._downPoint={x:t.clientX,y:t.clientY};const i=this.get("panX"),s=this.get("panY");i&&this.xAxes.each((e=>{e._panStart=e.get("start"),e._panEnd=e.get("end")})),s&&this.yAxes.each((e=>{e._panStart=e.get("start"),e._panEnd=e.get("end")}));const a="panstarted";this.events.isEnabled(a)&&this.events.dispatch(a,{type:a,target:this,originalEvent:e.originalEvent})}}_handleWheelAnimation(e){e?e.events.on("stopped",(()=>{this._dispatchWheelAnimation()})):this._dispatchWheelAnimation()}_dispatchWheelAnimation(){const e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}_handlePlotUp(e){const t=this._downPoint;if(t&&(this.get("panX")||this.get("panY"))){let i=this.plotContainer.toLocal(e.point);if(i.x==t.x&&i.y==t.y){const t="pancancelled";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent})}const s="panended";this.events.isEnabled(s)&&this.events.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent})}this._downPoint=void 0,this.xAxes.each((e=>{e._isPanning=!1})),this.yAxes.each((e=>{e._isPanning=!1}))}_handlePlotMove(e){const t=this.plotContainer;if(this.get("pinchZoomX")||this.get("pinchZoomY")){const i=e.pointerId;if(i&&(this._movePoints[i]=e.point,(0,Theme.aa)(t._downPoints).length>1))return void this._handlePinch()}let i=this._downPoint;if(i){i=t.toLocal(this._root.documentPointToRoot(i));let s=t.toLocal(e.point);const a=this.get("panX"),o=this.get("panY");if(a){let e=this.get("scrollbarX");e&&e.events.disableType("rangechanged"),this.xAxes.each((e=>{if(e.get("panX")){e._isPanning=!0;let a=e._panStart,o=e._panEnd,n=(o-a)*(i.x-s.x)/t.width();e.get("renderer").get("inversed")&&(n*=-1);let r=a+n,l=o+n;l-r<1+2*e.get("maxDeviation",1)&&(e.set("start",r),e.set("end",l))}})),e&&e.events.enableType("rangechanged")}if(o){let e=this.get("scrollbarY");e&&e.events.disableType("rangechanged"),this.yAxes.each((e=>{if(e.get("panY")){e._isPanning=!0;let a=e._panStart,o=e._panEnd,n=(o-a)*(i.y-s.y)/t.height();e.get("renderer").get("inversed")&&(n*=-1);let r=a-n,l=o-n;l-r<1+2*e.get("maxDeviation",1)&&(e.set("start",r),e.set("end",l))}})),e&&e.events.enableType("rangechanged")}}}_handlePinch(){const e=this.plotContainer;let t=0,i=[],s=[];if((0,Theme.f)(e._downPoints,((e,a)=>{i[t]=a;let o=this._movePoints[e];o&&(s[t]=o),t++})),i.length>1&&s.length>1){const t=e.width(),a=e.height();let o=i[0],n=i[1],r=s[0],l=s[1];if(o&&n&&r&&l){if(r=e.toLocal(r),l=e.toLocal(l),o=e.toLocal(o),n=e.toLocal(n),this.get("pinchZoomX")){const e=this._downStartX,i=this._downEndX;if(null!=e&&null!=i){o.x>n.x&&([o,n]=[n,o],[r,l]=[l,r]);let s=e+o.x/t*(i-e),a=e+n.x/t*(i-e),h=e+r.x/t*(i-e),d=e+l.x/t*(i-e),c=Math.max(.001,a-s)/Math.max(.001,d-h),u=e*c+s-h*c,g=i*c+a-d*c;this.xAxes.each((e=>{let t=e.fixPosition(u),i=e.fixPosition(g);e.zoom(t,i,0)}))}}if(this.get("pinchZoomY")){const e=this._downStartY,t=this._downEndY;if(null!=e&&null!=t){o.y<n.y&&([o,n]=[n,o],[r,l]=[l,r]);let i=e+(1-o.y/a)*(t-e),s=e+(1-n.y/a)*(t-e),h=e+(1-r.y/a)*(t-e),d=e+(1-l.y/a)*(t-e),c=Math.max(.001,s-i)/Math.max(.001,d-h),u=e*c+i-h*c,g=t*c+s-d*c;this.yAxes.each((e=>{let t=e.fixPosition(u),i=e.fixPosition(g);e.zoom(t,i,0)}))}}}}}_handleCursorPosition(){const e=this.get("cursor");if(e){const t=e.getPrivate("point");let i=e.get("snapToSeries");if(e._downPoint&&(i=void 0),i&&t){const s=e.get("snapToSeriesBy"),a=[];(0,Theme.e)(i,(e=>{if(!e.isHidden()&&!e.isHiding())if("x!"!=s&&"y!"!=s){const t=e.startIndex(),i=e.endIndex();for(let s=t;s<i;s++){const t=e.dataItems[s];t&&!t.isHidden()&&a.push(t)}}else{const t=e.get("tooltipDataItem");t&&a.push(t)}}));let o,n=1/0;if((0,Theme.e)(a,(e=>{const i=e.get("point");if(i){let a=0;a="x"==s||"x!"==s?Math.abs(t.x-i.x):"y"==s||"y!"==s?Math.abs(t.y-i.y):Math.hypot(t.x-i.x,t.y-i.y),a<n&&(n=a,o=e)}})),(0,Theme.e)(i,(e=>{const t=e.get("tooltip");t&&t._setDataItem(void 0)})),o){let t=o.component;t.showDataItemTooltip(o);const i=o.get("point");i&&e.handleMove(t.toGlobal({x:i.x-t.x(),y:i.y-t.y()}),!0)}}}}_updateCursor(){let e=this.get("cursor");e&&e.updateCursor()}_addCursor(e){this.plotContainer.children.push(e)}_prepareChildren(){if(super._prepareChildren(),this.series.each((e=>{this._colorize(e)})),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){const e=this._prevSettings.cursor,t=this.get("cursor");t!==e&&(this._disposeProperty("cursor"),e&&e.dispose(),t&&(t._setChart(this),this._addCursor(t),this._pushPropertyDisposer("cursor",t.events.on("selectended",(()=>{this._handleCursorSelectEnd()})))),this._prevSettings.cursor=t)}if(this.isDirty("scrollbarX")){const e=this._prevSettings.scrollbarX,t=this.get("scrollbarX");t!==e&&(this._disposeProperty("scrollbarX"),e&&e.dispose(),t&&(t.parent||this.topAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarX",t.events.on("rangechanged",(e=>{this._handleScrollbar(this.xAxes,e.start,e.end,e.grip)}))),t.setPrivate("positionTextFunction",(e=>{const t=this.xAxes.getIndex(0);return t&&t.getTooltipText(e,!1)||""}))),this._prevSettings.scrollbarX=t)}if(this.isDirty("scrollbarY")){const e=this._prevSettings.scrollbarY,t=this.get("scrollbarY");t!==e&&(this._disposeProperty("scrollbarY"),e&&e.dispose(),t&&(t.parent||this.rightAxesContainer.children.push(t),this._pushPropertyDisposer("scrollbarY",t.events.on("rangechanged",(e=>{this._handleScrollbar(this.yAxes,e.start,e.end,e.grip)}))),t.setPrivate("positionTextFunction",(e=>{const t=this.yAxes.getIndex(0);return t&&t.getTooltipText(e,!1)||""}))),this._prevSettings.scrollbarY=t)}this._handleZoomOut()}_processSeries(e){super._processSeries(e);const t=e.get("xAxis"),i=e.get("yAxis");(0,Theme.au)(t.series,e),(0,Theme.au)(i.series,e),e._posXDp=e.addDisposer(t.events.on("positionchanged",(()=>{e._fixPosition()}))),e._posXDp=e.addDisposer(i.events.on("positionchanged",(()=>{e._fixPosition()}))),e.get("baseAxis")||(i.isType("CategoryAxis")||i.isType("DateAxis")?e.set("baseAxis",i):e.set("baseAxis",t)),e.get("stacked")&&(e._markDirtyKey("stacked"),(0,Theme.e)(e.dataItems,(e=>{e.set("stackToItemY",void 0),e.set("stackToItemX",void 0)}))),e._markDirtyAxes(),i.markDirtyExtremes(),t.markDirtyExtremes(),this._colorize(e)}_colorize(e){const t=this.get("colors");if(t&&null==e.get("fill")){const i=t.next();e._setSoft("stroke",i),e._setSoft("fill",i)}}_handleCursorSelectEnd(){const e=this.get("cursor"),t=e.get("behavior"),i=e.getPrivate("downPositionX",0),s=e.getPrivate("downPositionY",0),a=Math.min(1,Math.max(0,e.getPrivate("positionX",.5))),o=Math.min(1,Math.max(0,e.getPrivate("positionY",.5)));this.xAxes.each((e=>{if("zoomX"===t||"zoomXY"===t){let t=e.toAxisPosition(i),s=e.toAxisPosition(a);e.zoom(t,s)}e.setPrivate("updateScrollbar",!0)})),this.yAxes.each((e=>{if("zoomY"===t||"zoomXY"===t){let t=e.toAxisPosition(s),i=e.toAxisPosition(o);e.zoom(t,i)}e.setPrivate("updateScrollbar",!0)}))}_handleScrollbar(e,t,i,s){e.each((e=>{let a=e.fixPosition(t),o=e.fixPosition(i),n=e.zoom(a,o,void 0,s);const r="updateScrollbar";e.setPrivateRaw(r,!1),n?n.events.on("stopped",(()=>{e.setPrivateRaw(r,!0)})):e.setPrivateRaw(r,!0)}))}_processAxis(e,t){return e.events.onAll((e=>{if("clear"===e.type)(0,Theme.e)(e.oldValues,(e=>{this._removeAxis(e)}));else if("push"===e.type)t.children.push(e.newValue),e.newValue.processChart(this);else if("setIndex"===e.type)t.children.setIndex(e.index,e.newValue),e.newValue.processChart(this);else if("insertIndex"===e.type)t.children.insertIndex(e.index,e.newValue),e.newValue.processChart(this);else if("removeIndex"===e.type)this._removeAxis(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IListEvent type");t.children.moveValue(e.value,e.newIndex),e.value.processChart(this)}}))}_removeAxis(e){if(!e.isDisposed()){const t=e.parent;t&&t.children.removeValue(e);const i=e.gridContainer,s=i.parent;s&&s.children.removeValue(i);const a=e.topGridContainer,o=a.parent;o&&o.children.removeValue(a)}}_updateChartLayout(){const e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",t);const s=this.topAxesContainer;s.set("paddingLeft",e),s.set("paddingRight",t)}processAxis(e){this.get("cursor")&&(this.addDisposer(e.on("start",(()=>{this._updateCursor()}))),this.addDisposer(e.on("end",(()=>{this._updateCursor()}))))}_handleAxisSelection(e,t){let i=e.fixPosition(e.get("start",0)),s=e.fixPosition(e.get("end",1));if(i>s&&([i,s]=[s,i]),-1!=this.xAxes.indexOf(e)){if(t||e.getPrivate("updateScrollbar")){let e=this.get("scrollbarX");!e||e.getPrivate("isBusy")&&!t||(e.setRaw("start",i),e.setRaw("end",s),e.updateGrips())}}else if(-1!=this.yAxes.indexOf(e)&&(t||e.getPrivate("updateScrollbar"))){let e=this.get("scrollbarY");!e||e.getPrivate("isBusy")&&!t||(e.setRaw("start",i),e.setRaw("end",s),e.updateGrips())}this._handleZoomOut()}_handleZoomOut(){let e=this.zoomOutButton;if(e&&e.parent){let t=!1;this.xAxes.each((e=>{0==e.get("start")&&1==e.get("end")||(t=!0)})),this.yAxes.each((e=>{0==e.get("start")&&1==e.get("end")||(t=!0)})),t?e.isHidden()&&e.show():e.hide()}}inPlot(e){const t=this.plotContainer,i=this.getPrivate("otherCharts",this._otherCharts),s=t.toGlobal(e);if(e.x>=-.5&&e.y>=-.5&&e.x<=t.width()+.5&&e.y<=t.height()+.5)return!0;if(i)for(let a=i.length-1;a>=0;a--){const e=i[a];if(e!=this){const t=e.plotContainer,i=this._root.rootPointToDocument(s),a=e._root.documentPointToRoot(i),o=t.toLocal(a);if(o.x>=-.1&&o.y>=-.1&&o.x<=t.width()+.1&&o.y<=t.height()+.1)return!0}}return!1}arrangeTooltips(){const e=this.plotContainer,t=e.width(),i=e.height(),a=this.height();let o=e._display.toGlobal({x:0,y:0}),n=e._display.toGlobal({x:t,y:i});const r=[];let l,h,d=0,c=1/0,u=this._movePoint,g=this.get("maxTooltipDistance"),p=this.get("maxTooltipDistanceBy","xy");(0,Theme.g)(g)&&this.series.each((e=>{if(!e.isHidden()){const t=e.get("tooltip");if(t){let i=t.get("pointTo");if(i){let t=Math.hypot(u.x-i.x,u.y-i.y);"x"==p?t=Math.abs(u.x-i.x):"y"==p&&(t=Math.abs(u.y-i.y)),t<c&&(c=t,l=e,h=i)}}}}));const m=[];if(this.series.each((e=>{const t=e.get("tooltip");if(t){let i=!1,s=t.get("pointTo");if(s){if(g>=0){let s=t.get("pointTo");if(s&&e!=l){let e=Math.hypot(h.x-s.x,h.y-s.y);"x"==p?e=Math.abs(h.x-s.x):"y"==p&&(e=Math.abs(h.y-s.y)),e>g&&(i=!0)}}else-1==g&&e!=l&&(i=!0);this.inPlot(this._tooltipToLocal(s))&&t.dataItem?i||(d+=s.y):i=!0,i||e.isHidden()||e.isHiding()?t.hide(0):(t.show(),r.push(t),m.push(e))}}})),this.setPrivate("tooltipSeries",m),this.get("arrangeTooltips")){const e=this._root.tooltipContainer,t=r.length;if(d/t>i/2+o.y){r.sort(((e,t)=>(0,Theme.av)(t.get("pointTo").y,e.get("pointTo").y)));let t=n.y;if((0,Theme.e)(r,(i=>{let s=i.height(),a=i.get("centerY");a instanceof Theme.Q&&(s*=a.value),s+=i.get("marginBottom",0),i.set("bounds",{left:o.x,top:o.y,right:n.x,bottom:t}),i.setPrivate("customData",{left:o.x,top:o.y,right:n.x,bottom:t}),t=Math.min(t-s,i._fy-s),i.parent==e&&e.children.moveValue(i,0)})),t<0){r.reverse();let e=t;(0,Theme.e)(r,(i=>{let s=i.get("bounds");if(s){let a=s.top-t,o=s.bottom-t;a<e&&(a=e,o=a+i.height()),i.set("bounds",{left:s.left,top:a,right:s.right,bottom:o}),e=s.bottom-t+i.get("marginBottom",0)}}))}}else{r.reverse(),r.sort(((e,t)=>(0,Theme.av)(e.get("pointTo").y,t.get("pointTo").y)));let t=0;if((0,Theme.e)(r,(i=>{let s=i.height(),r=i.get("centerY");r instanceof Theme.Q&&(s*=r.value),s+=i.get("marginBottom",0),i.set("bounds",{left:o.x,top:t,right:n.x,bottom:Math.max(o.y+a,t+s)}),i.parent==e&&e.children.moveValue(i,0),t=Math.max(t+s,i._fy+s)})),t>a){r.reverse();let e=a;(0,Theme.e)(r,(i=>{let s=i.get("bounds");if(s){let o=s.top-(a-t),n=s.bottom-(a-t);n>e&&(n=e,o=n-i.height()),i.set("bounds",{left:s.left,top:o,right:s.right,bottom:n}),e=n-i.height()-i.get("marginBottom",0)}}))}}}}_tooltipToLocal(e){return this.plotContainer.toLocal(e)}zoomOut(){this.xAxes.each((e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})),this.yAxes.each((e=>{e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}))}}Object.defineProperty(oe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(oe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tick.S.classNames.concat([oe.className])});class ne extends Theme.a7{_beforeChanged(){super._beforeChanged(),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}Object.defineProperty(ne,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(ne,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Theme.a7.classNames.concat([ne.className])});class re extends Theme.a3{constructor(){super(...arguments),Object.defineProperty(this,"lineX",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ne.new(this._root,{themeTags:["x"]}))}),Object.defineProperty(this,"lineY",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(ne.new(this._root,{themeTags:["y"]}))}),Object.defineProperty(this,"selection",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Theme.a7.new(this._root,{themeTags:["selection","cursor"],layer:30}))}),Object.defineProperty(this,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lastPoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(this,"_tooltipX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_tooltipY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_toY",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this._settings.themeTags=(0,Theme.ak)(this._settings.themeTags,["xy","cursor"]),super._afterNew(),this.setAll({width:Theme.a4,height:Theme.a4,isMeasured:!0,position:"absolute"}),this.states.create("hidden",{visible:!0,opacity:0}),this._drawLines(),this.setPrivateRaw("visible",!1),this._disposers.push(this.setTimeout((()=>{this.setPrivate("visible",!0)}),500)),this._disposers.push(this.lineX.events.on("positionchanged",(()=>{this._handleXLine()}))),this._disposers.push(this.lineY.events.on("positionchanged",(()=>{this._handleYLine()}))),this._disposers.push(this.lineX.events.on("focus",(e=>this._handleLineFocus(e.target)))),this._disposers.push(this.lineX.events.on("blur",(e=>this._handleLineBlur(e.target)))),this._disposers.push(this.lineY.events.on("focus",(e=>this._handleLineFocus(e.target)))),this._disposers.push(this.lineY.events.on("blur",(e=>this._handleLineBlur(e.target)))),(0,Theme.y)("keyboardevents")&&this._disposers.push((0,Theme.z)(document,"keydown",(e=>{this._handleLineMove(e.keyCode)})))}_setUpTouch(){const e=this.chart;e&&(e.plotContainer._display.cancelTouch="none"!=this.get("behavior"))}_handleXLine(){let e=this.lineX.x(),t=!0;(e<0||e>this.width())&&(t=!1),this.lineX.setPrivate("visible",t)}_handleYLine(){let e=this.lineY.y(),t=!0;(e<0||e>this.height())&&(t=!1),this.lineY.setPrivate("visible",t)}_handleLineMove(e){let t="",i=0,s=.1;const a=this.chart;this._root.focused(this.lineX)?(a&&a.xAxes.length&&(s=a.xAxes.getIndex(0).getCellWidthPosition()),i=this.getPrivate("positionX",0),t="positionX",37==e?i-=s:39==e&&(i+=s)):this._root.focused(this.lineY)&&(a&&a.yAxes.length&&(s=a.yAxes.getIndex(0).getCellWidthPosition()),i=this.getPrivate("positionY",0),t="positionY",38==e?i-=s:40==e&&(i+=s)),i<0?i=0:i>1&&(i=1),""!=t&&this.set(t,i)}_handleLineFocus(e){this.setAll({positionX:this.getPrivate("positionX"),positionY:this.getPrivate("positionY"),alwaysShow:!0})}_handleLineBlur(e){this.setAll({positionX:void 0,positionY:void 0,alwaysShow:!1})}_prepareChildren(){if(super._prepareChildren(),this.isDirty("xAxis")){this._tooltipX=!1;const e=this.get("xAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipX=!0,this._disposers.push(t.on("pointTo",(()=>{this._updateXLine(t)}))))}}if(this.isDirty("yAxis")){this._tooltipY=!1;const e=this.get("yAxis");if(e){const t=e.get("tooltip");t&&(this._tooltipY=!0,this._disposers.push(t.on("pointTo",(()=>{this._updateYLine(t)}))))}}}_handleSyncWith(){const e=this.chart;if(e){const t=this.get("syncWith"),i=[];t&&(0,Theme.e)(t,(e=>{const t=e.chart;t&&i.push(t)})),e._otherCharts=i}}_updateChildren(){if(super._updateChildren(),this._handleSyncWith(),this.isDirty("positionX")||this.isDirty("positionY")){const e=this.get("positionX"),t=this.get("positionY");null==e&&null==t?this.hide(0):(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0))),this.handleMove())}}_updateXLine(e){let t=(0,Theme.ar)(this._display.toLocal(e.get("pointTo",{x:0,y:0})).x,2);this._toX!=t&&(this.lineX.animate({key:"x",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toX=t)}_updateYLine(e){let t=(0,Theme.ar)(this._display.toLocal(e.get("pointTo",{x:0,y:0})).y,2);this._toY!=t&&(this.lineY.animate({key:"y",to:t,duration:e.get("animationDuration",0),easing:e.get("animationEasing")}),this._toY=t)}_drawLines(){this.lineX.set("draw",(e=>{e.moveTo(0,0),e.lineTo(0,this.height())})),this.lineY.set("draw",(e=>{e.moveTo(0,0),e.lineTo(this.width(),0)}))}updateCursor(){this.get("alwaysShow")&&(this._movePoint=this.toGlobal(this._getPoint(this.get("positionX",0),this.get("positionY",0)))),this.handleMove()}_setChart(e){this.chart=e,this._handleSyncWith();const t=e.plotContainer;this.events.on("boundschanged",(()=>{this._disposers.push(this.setTimeout((()=>{this.updateCursor()}),50))})),(0,Theme.y)("touchevents")&&(this._disposers.push(t.events.on("click",(e=>{(0,Theme.aw)(e.originalEvent)&&this._handleMove(e)}))),this._setUpTouch()),this._disposers.push(t.events.on("pointerdown",(e=>{this._handleCursorDown(e)}))),this._disposers.push(t.events.on("globalpointerup",(e=>{this._handleCursorUp(e),e.native||this.isHidden()||this._handleMove(e)}))),this._disposers.push(t.events.on("globalpointermove",(e=>{(this.get("syncWith")||0!=(0,Theme.aa)(t._downPoints).length||e.native||!this.isHidden())&&this._handleMove(e)})));const i=this.parent;i&&i.children.moveValue(this.selection)}_inPlot(e){const t=this.chart;return!!t&&t.inPlot(e)}_handleCursorDown(e){if(2==e.originalEvent.button)return;const t=e.point;let i=this._display.toLocal(t);const s=this.chart;if(this.selection.set("draw",(()=>{})),s&&this._inPlot(i)){if(this._downPoint=i,"none"!=this.get("behavior")){this.selection.show();const t="selectstarted";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent})}let t=this._getPosition(i).x,s=this._getPosition(i).y;this.setPrivate("downPositionX",t),this.setPrivate("downPositionY",s)}}_handleCursorUp(e){if(this._downPoint){const t=this.get("behavior","none");if("none"!=t){"z"===t.charAt(0)&&this.selection.hide();const i=e.point;let s=this._display.toLocal(i);const a=this._downPoint,o=this.get("moveThreshold",1);if(s&&a){let i=!1;if("zoomX"!==t&&"zoomXY"!==t&&"selectX"!==t&&"selectXY"!==t||Math.abs(s.x-a.x)>o&&(i=!0),"zoomY"!==t&&"zoomXY"!==t&&"selectY"!==t&&"selectXY"!==t||Math.abs(s.y-a.y)>o&&(i=!0),i){const t="selectended";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent})}else{const t="selectcancelled";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent})}}}}this._downPoint=void 0}_handleMove(e){if(this.getPrivate("visible")){const t=this.chart;if(t&&(0,Theme.aa)(t.plotContainer._downPoints).length>1)return void this.set("forceHidden",!0);this.set("forceHidden",!1);const i=e.point,s=this._lastPoint;if(Math.round(s.x)===Math.round(i.x)&&Math.round(s.y)===Math.round(i.y))return;this._lastPoint=i,this.setPrivate("lastPoint",i),this.handleMove({x:i.x,y:i.y},!1,e.originalEvent)}}_getPosition(e){return{x:e.x/this.width(),y:e.y/this.height()}}handleMove(e,t,i){e||(e=this._movePoint);const a=this.get("alwaysShow");if(!e)return void this.hide(0);this._movePoint=e;let o=this._display.toLocal(e),n=this.chart;if(n&&(this._inPlot(o)||this._downPoint)){if(n._movePoint=e,this.isHidden()){this.show();"z"==this.get("behavior","").charAt(0)&&this.selection.set("draw",(()=>{}))}let r=o.x,l=o.y,h=this._getPosition(o);this.setPrivate("point",o);let d=this.get("snapToSeries");this._downPoint&&(d=void 0);let c=this.get("positionX"),u=h.x;(0,Theme.g)(c)&&(u=c);let g=this.get("positionY"),p=h.y;(0,Theme.g)(g)&&(p=g),this.setPrivate("positionX",u),this.setPrivate("positionY",p);const m=this._getPoint(u,p);if(r=m.x,l=m.y,n.xAxes.each((e=>{e._handleCursorPosition(u,d),a&&e.handleCursorShow()})),n.yAxes.each((e=>{e._handleCursorPosition(p,d),a&&e.handleCursorShow()})),!t){n._handleCursorPosition();const t="cursormoved";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,point:e,originalEvent:i})}this._updateLines(r,l),n.arrangeTooltips()}else if(!this._downPoint&&!a){this.hide(0);const e="cursorhidden";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}this._downPoint&&"none"!=this.get("behavior")&&this._updateSelection(o)}_getPoint(e,t){return{x:this.width()*e,y:this.height()*t}}_updateLines(e,t){this._tooltipX||this.lineX.set("x",e),this._tooltipY||this.lineY.set("y",t),this._drawLines()}_updateSelection(e){const t=this.selection,i=this.get("behavior"),s=this.width(),a=this.height();e.x<0&&(e.x=0),e.x>s&&(e.x=s),e.y<0&&(e.y=0),e.y>a&&(e.y=a),t.set("draw",(t=>{const o=this._downPoint;o&&("zoomXY"===i||"selectXY"===i?(t.moveTo(o.x,o.y),t.lineTo(o.x,e.y),t.lineTo(e.x,e.y),t.lineTo(e.x,o.y),t.lineTo(o.x,o.y)):"zoomX"===i||"selectX"===i?(t.moveTo(o.x,0),t.lineTo(o.x,a),t.lineTo(e.x,a),t.lineTo(e.x,0),t.lineTo(o.x,0)):"zoomY"!==i&&"selectY"!==i||(t.moveTo(0,o.y),t.lineTo(s,o.y),t.lineTo(s,e.y),t.lineTo(0,e.y),t.lineTo(0,o.y)))}))}_onHide(){if(this.isHidden()){let e=this.chart;e&&(e.xAxes.each((e=>{e.handleCursorHide()})),e.yAxes.each((e=>{e.handleCursorHide()})),e.series.each((e=>{e.handleCursorHide()})))}super._onHide()}_onShow(){if(!this.isHidden()){let e=this.chart;e&&(e.xAxes.each((e=>{e.handleCursorShow()})),e.yAxes.each((e=>{e.handleCursorShow()})))}super._onShow()}_dispose(){super._dispose(),this.selection.dispose()}}function le(e,t){return null==e?t:null==t?e:t<e?t:e}function he(e,t){return null==e?t:null==t?e:t>e?t:e}Object.defineProperty(re,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYCursor"}),Object.defineProperty(re,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Theme.a3.classNames.concat([re.className])});class de extends Tick.a{constructor(){super(...arguments),Object.defineProperty(this,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Theme.a3.new(this._root,{}))}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.ax}),Object.defineProperty(this,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX","lowValueX","highValueX"]}),Object.defineProperty(this,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY","lowValueY","highValueY"]}),Object.defineProperty(this,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new Tick.D(this,void 0,{})}),Object.defineProperty(this,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posXDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_posYDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY","lowValueX","lowValueY","highValueX","highValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),this._setRawDefault("lowValueXShow","lowValueXWorking"),this._setRawDefault("lowValueYShow","lowValueYWorking"),this._setRawDefault("highValueXShow","highValueXWorking"),this._setRawDefault("highValueYShow","highValueYWorking"),this._setRawDefault("lowValueXGrouped","low"),this._setRawDefault("lowValueYGrouped","low"),this._setRawDefault("highValueXGrouped","high"),this._setRawDefault("highValueYGrouped","high"),super._afterNew(),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll((e=>{if("clear"===e.type)(0,Theme.e)(e.oldValues,(e=>{this._removeAxisRange(e)}));else if("push"===e.type)this._processAxisRange(e.newValue);else if("setIndex"===e.type)this._processAxisRange(e.newValue);else if("insertIndex"===e.type)this._processAxisRange(e.newValue);else if("removeIndex"===e.type)this._removeAxisRange(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(e.value)}}))),this.states.create("hidden",{opacity:1,visible:!1}),this._makeFieldNames()}_processAxisRange(e){const t=Theme.a3.new(this._root,{});e.container=t,this.children.push(t),e.series=this;const i=e.axisDataItem;i.setRaw("isRange",!0);const s=i.component;if(s){s._processAxisRange(i,["range","series"]);const e=i.get("bullet");if(e){const t=e.get("sprite");t&&t.setPrivate("visible",!1)}const a=i.get("axisFill");a&&t.set("mask",a),s._seriesAxisRanges.push(i)}}_removeAxisRange(e){const t=e.axisDataItem,i=t.component;i.disposeDataItem(t),(0,Theme.ad)(i._seriesAxisRanges,t);const s=e.container;s&&s.dispose()}_updateFields(){super._updateFields(),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&(0,Theme.e)(this.valueXFields,(e=>{if(this.get(e+"Field")){this._valueXFields.push(e);let t=this.get(e+"Show");this.__valueXShowFields.push(t),-1!=t.indexOf("Working")?this._valueXShowFields.push(t.split("Working")[0]):this._valueXShowFields.push(t)}})),this.valueYFields&&(0,Theme.e)(this.valueYFields,(e=>{if(this.get(e+"Field")){this._valueYFields.push(e);let t=this.get(e+"Show");this.__valueYShowFields.push(t),-1!=t.indexOf("Working")?this._valueYShowFields.push(t.split("Working")[0]):this._valueYShowFields.push(t)}}))}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this),(0,Theme.J)(this.get("xAxis").series,this),(0,Theme.J)(this.get("yAxis").series,this)}_min(e,t){let i=le(this.getPrivate(e),t);this.setPrivate(e,i)}_max(e,t){let i=he(this.getPrivate(e),t);this.setPrivate(e,i)}_shouldMakeBullet(e){const t=this.get("xAxis"),i=this.get("yAxis"),s=this.get("baseAxis");if(!t.inited||!i.inited)return!1;const a=this.get("minBulletDistance",0);if(a>0){let e=this.startIndex(),o=this.endIndex()-e;if(t==s){if(t.get("renderer").axisLength()/o<a/5)return!1}else if(i==s&&i.get("renderer").axisLength()/o<a/5)return!1}return null!=e.get(this._xField)&&null!=e.get(this._yField)}_makeFieldNames(){const e=this.get("xAxis"),t=this.get("yAxis"),i=e.getPrivate("name"),s=(0,Theme.ay)(i),a=t.getPrivate("name"),o=(0,Theme.ay)(a),n=e.get("renderer").getPrivate("letter"),r=t.get("renderer").getPrivate("letter"),l="open",h="low",d="high",c="Show";"ValueAxis"===e.className?(this._xField=this.get(i+n+c),this._xOpenField=this.get(l+s+n+c),this._xLowField=this.get(h+s+n+c),this._xHighField=this.get(d+s+n+c)):(this._xField=i+n,this._xOpenField=l+s+n,this._xLowField=h+s+n,this._xHighField=d+s+n),"ValueAxis"===t.className?(this._yField=this.get(a+r+c),this._yOpenField=this.get(l+o+r+c),this._yLowField=this.get(h+o+r+c),this._yHighField=this.get(d+o+r+c)):(this._yField=a+r,this._yOpenField=l+o+r,this._yLowField=h+o+r,this._yHighField=d+o+r)}_fixVC(){const e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis"),s=this.states.lookup("hidden"),a=this.get("sequencedInterpolation");if(s){let o=0;a&&(o=.999999999999),e===i?s.set("vcy",o):(t===i||s.set("vcy",o),s.set("vcx",o))}}_handleMaskBullets(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}_fixPosition(){const e=this.get("xAxis"),t=this.get("yAxis");this.set("x",e.x()-(0,Theme.az)(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),this.set("y",t.y()-(0,Theme.az)(t.get("centerY",0),t.height())-t.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y()),this.bulletsContainer.set("x",this.x())}_prepareChildren(){super._prepareChildren(),(this.isDirty("valueYShow")||this.isDirty("valueXShow")||this.isDirty("openValueYShow")||this.isDirty("openValueXShow")||this.isDirty("lowValueYShow")||this.isDirty("lowValueXShow")||this.isDirty("highValueYShow")||this.isDirty("highValueXShow"))&&(this._updateFields(),this._makeFieldNames(),this._valuesDirty=!0),(this.isDirty("xAxis")||this.isDirty("yAxis"))&&(this._valuesDirty=!0),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();const e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis");let s;switch(this.get("tooltipPositionX")){case"open":s=this._xOpenField;break;case"low":s=this._xLowField;break;case"high":s=this._xHighField;break;default:s=this._xField}this._tooltipFieldX=s;let a;switch(this.get("tooltipPositionY")){case"open":a=this._yOpenField;break;case"low":a=this._yLowField;break;case"high":a=this._yHighField;break;default:a=this._yField}this._tooltipFieldY=a,this.isDirty("baseAxis")&&this._fixVC(),this._fixPosition();const o=this.get("stacked");if(this.isDirty("stacked")&&(o?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,o&&this._stack(),(0,Theme.e)(this.dataItems,(i=>{(0,Theme.e)(this._valueXShowFields,(e=>{let t=i.get(e);null!=t&&(o&&(t+=this.getStackedXValue(i,e)),this._min("minX",t),this._max("maxX",t))})),(0,Theme.e)(this._valueYShowFields,(e=>{let t=i.get(e);null!=t&&(o&&(t+=this.getStackedYValue(i,e)),this._min("minY",t),this._max("maxY",t))})),e.processSeriesDataItem(i,this._valueXFields),t.processSeriesDataItem(i,this._valueYFields)})),e._seriesValuesDirty=!0,t._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&e.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&t.markDirtyExtremes()),this._markStakedDirtyStack(),this.get("tooltipDataItem")||this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(e._groupSeriesData(this),t._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty){let s=this.startIndex(),a=this.endIndex(),o=this.get("minBulletDistance",0);if(o>0&&i&&(i.get("renderer").axisLength()/(a-s)>o?this._showBullets=!0:this._showBullets=!1),(this._psi!=s||this._pei!=a||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;const o=this.get("vcx",1),n=this.get("vcy",1),r=this.get("stacked",!1),l=this.getPrivate("outOfSelection");if(i===e||!i)if(t._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0),l)t.markDirtySelectionExtremes();else for(let e=s;e<a;e++)this.processYSelectionDataItem(this.dataItems[e],n,r);if(i===t||!i)if(e._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0),l)t.markDirtySelectionExtremes();else for(let e=s;e<a;e++)this.processXSelectionDataItem(this.dataItems[e],o,r);if((i===e||!i)&&"valueYWorking"!==this.get("valueYShow")){const e=this.getPrivate("selectionMinY");null!=e&&(this.setPrivateRaw("minY",e),t.markDirtyExtremes());const i=this.getPrivate("selectionMaxY");null!=i&&(this.setPrivateRaw("maxY",i),t.markDirtyExtremes())}if((i===t||!i)&&"valueXWorking"!==this.get("valueXShow")){const i=this.getPrivate("selectionMinX");null!=i&&(this.setPrivateRaw("minX",i),t.markDirtyExtremes());const s=this.getPrivate("selectionMaxX");null!=s&&(this.setPrivateRaw("maxX",s),e.markDirtyExtremes())}(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&e.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&t.markDirtySelectionExtremes()}}}_makeRangeMask(){if(this.axisRanges.length>0){let e=this._mainContainerMask;null==e&&(e=this.children.push(Theme.a7.new(this._root,{})),this._mainContainerMask=e,e.set("draw",((t,i)=>{const s=this.parent;if(s){const e=this._root.container.width(),a=this._root.container.height();t.moveTo(-e,-a),t.lineTo(-e,2*a),t.lineTo(2*e,2*a),t.lineTo(2*e,-a),t.lineTo(-e,-a),this.axisRanges.each((e=>{const a=e.axisDataItem.get("axisFill");if(s&&a){let e=a.get("draw");e&&e(t,i)}}))}this.mainContainer._display.mask=e._display}))),e.markDirty(),e._markDirtyKey("fill")}else this.mainContainer._display.mask=null}_updateChildren(){super._updateChildren(),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}_stack(){const e=this.chart;if(e){const t=e.series.indexOf(this);if(this._couldStackTo=[],t>0){let i;for(let s=t-1;s>=0&&(i=e.series.getIndex(s),i.get("xAxis")!==this.get("xAxis")||i.get("yAxis")!==this.get("yAxis")||i.className!==this.className||(this._couldStackTo.push(i),i.get("stacked")));s--);}this._stackDataItems()}}_unstack(){(0,Theme.f)(this._reallyStackedTo,((e,t)=>{delete t._stackedSeries[this.uid]})),this._reallyStackedTo={},(0,Theme.e)(this.dataItems,(e=>{e.setRaw("stackToItemY",void 0),e.setRaw("stackToItemX",void 0)}))}_stackDataItems(){const e=this.get("baseAxis"),t=this.get("xAxis"),i=this.get("yAxis");let a,o;e===t?(a="valueY",o="stackToItemY"):e===i&&(a="valueX",o="stackToItemX");let n=this._couldStackTo.length,r=0;const l=this.get("stackToNegative");this._reallyStackedTo={},(0,Theme.e)(this.dataItems,(e=>{for(let t=0;t<n;t++){let i=this._couldStackTo[t],n=i.dataItems[r],h=e.get(a);if(n){let t=n.get(a);if(l){if(!(0,Theme.g)(h))break;if((0,Theme.g)(t)){if(h>=0&&t>=0){e.setRaw(o,n),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}if(h<0&&t<0){e.setRaw(o,n),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}}}else if((0,Theme.g)(h)&&(0,Theme.g)(t)){e.setRaw(o,n),this._reallyStackedTo[i.uid]=i,i._stackedSeries[this.uid]=this;break}}}r++}))}processXSelectionDataItem(e,t,i){(0,Theme.e)(this.__valueXShowFields,(s=>{let a=e.get(s);null!=a&&(i&&(a+=this.getStackedXValueWorking(e,s)),this._min("selectionMinX",a),this._max("selectionMaxX",a*t))}))}processYSelectionDataItem(e,t,i){(0,Theme.e)(this.__valueYShowFields,(s=>{let a=e.get(s);null!=a&&(i&&(a+=this.getStackedYValueWorking(e,s)),this._min("selectionMinY",a),this._max("selectionMaxY",a*t))}))}getStackedYValueWorking(e,t){const i=e.get("stackToItemY");if(i){const e=i.component;return i.get(t,0)*e.get("vcy",1)+this.getStackedYValueWorking(i,t)}return 0}getStackedXValueWorking(e,t){const i=e.get("stackToItemX");if(i){const e=i.component;return i.get(t,0)*e.get("vcx",1)+this.getStackedXValueWorking(i,t)}return 0}getStackedYValue(e,t){const i=e.get("stackToItemY");return i?i.get(t,0)+this.getStackedYValue(i,t):0}getStackedXValue(e,t){const i=e.get("stackToItemX");return i?i.get(t,0)+this.getStackedXValue(i,t):0}createLegendMarker(e){this.updateLegendMarker()}_markDirtyAxes(){this._axesDirty=!0,this.markDirty()}_markDataSetDirty(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}_clearDirty(){super._clearDirty(),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}_positionBullet(e){let t=e.get("sprite");if(t){let i=t.dataItem,s=e.get("locationX",i.get("locationX",.5)),a=e.get("locationY",i.get("locationY",.5)),o=this.get("xAxis"),n=this.get("yAxis");const r=o.getDataItemPositionX(i,this._xField,s,this.get("vcx",1)),l=n.getDataItemPositionY(i,this._yField,a,this.get("vcy",1));let h=this.getPoint(r,l),d=i.get("left",h.x),c=i.get("right",h.x),u=i.get("top",h.y),g=i.get("bottom",h.y);if(this._shouldShowBullet(r,l)){e.getPrivate("hidden")?t.setPrivate("visible",!1):t.setPrivate("visible",!0);let i=c-d,o=g-u;t.isType("Label")&&(t.setPrivate("maxWidth",Math.abs(i)),t.setPrivate("maxHeight",Math.abs(o)));let n=d+i*s,r=g-o*a;t.set("x",n),t.set("y",r)}else t.setPrivate("visible",!1)}}_shouldShowBullet(e,t){return this._showBullets}setDataSet(e){if(this._dataSets[e]){this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e;const t="datasetchanged";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,id:e})}}resetGrouping(){(0,Theme.f)(this._dataSets,((e,t)=>{t!=this._mainDataItems&&(0,Theme.e)(t,(e=>{this.disposeDataItem(e)}))})),this._dataSets={},this._dataItems=this.mainDataItems}_handleDataSetChange(){this.bullets.length>0&&(0,Theme.e)(this._dataItems,(e=>{let t=e.bullets;t&&(0,Theme.e)(t,(e=>{if(e){let t=e.get("sprite");t&&t.setPrivate("visible",!1)}}))})),this._selectionProcessed=!1}show(e){const t=Object.create(null,{show:{get:()=>super.show}});return (0,tslib_es6.a)(this,void 0,void 0,(function*(){this._fixVC();let i=[];i.push(t.show.call(this,e).then((()=>{this._isShowing=!1;let e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis");t!==i&&t.markDirtySelectionExtremes(),e!==i&&e.markDirtySelectionExtremes()}))),i.push(this.bulletsContainer.show(e)),i.push(this._sequencedShowHide(!0,e)),yield Promise.all(i)}))}hide(e){const t=Object.create(null,{hide:{get:()=>super.hide}});return (0,tslib_es6.a)(this,void 0,void 0,(function*(){this._fixVC();let i=[];i.push(t.hide.call(this,e).then((()=>{this._isHiding=!1}))),i.push(this.bulletsContainer.hide(e)),i.push(this._sequencedShowHide(!1,e)),yield Promise.all(i)}))}showDataItem(e,t){const i=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return (0,tslib_es6.a)(this,void 0,void 0,(function*(){const a=[i.showDataItem.call(this,e,t)];(0,Theme.g)(t)||(t=this.get("stateAnimationDuration",0));const o=this.get("stateAnimationEasing");(0,Theme.e)(this._valueFields,(i=>{a.push(e.animate({key:i+"Working",to:e.get(i),duration:t,easing:o}).waitForStop())})),yield Promise.all(a)}))}hideDataItem(e,t){const i=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return (0,tslib_es6.a)(this,void 0,void 0,(function*(){const a=[i.hideDataItem.call(this,e,t)],o=this.states.create("hidden",{});(0,Theme.g)(t)||(t=o.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const n=o.get("stateAnimationEasing",this.get("stateAnimationEasing")),r=this.get("xAxis"),l=this.get("yAxis"),h=this.get("baseAxis"),d=this.get("stacked");if(h!==r&&h||(0,Theme.e)(this._valueYFields,(i=>{let o=l.getPrivate("min"),r=l.baseValue();(0,Theme.g)(o)&&o>r&&(r=o),d&&(r=0),null!=e.get(i)&&a.push(e.animate({key:i+"Working",to:r,duration:t,easing:n}).waitForStop())})),h===l||!h){let i=r.getPrivate("min"),o=r.baseValue();(0,Theme.g)(i)&&i>o&&(o=i),d&&(o=0),(0,Theme.e)(this._valueXFields,(i=>{null!=e.get(i)&&a.push(e.animate({key:i+"Working",to:o,duration:t,easing:n}).waitForStop())}))}yield Promise.all(a)}))}_markDirtyStack(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}_markStakedDirtyStack(){const e=this._stackedSeries;e&&(0,Theme.f)(e,((e,t)=>{t._stackDirty||t._markDirtyStack()}))}_afterChanged(){super._afterChanged(),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}showDataItemTooltip(e){this.updateLegendMarker(e),this.updateLegendValue(e);const t=this.get("tooltip");if(t)if(this.isHidden())this.hideTooltip();else if(t._setDataItem(e),e){let i=this.get("locationX",0),s=this.get("locationY",1),a=e.get("locationX",i),o=e.get("locationY",s);const n=this.get("xAxis"),r=this.get("yAxis"),l=this.get("vcx",1),h=this.get("vcy",1),d=n.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*a,l),c=r.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*o,h),u=this.getPoint(d,c);let g=!0;if((0,Theme.e)(this._valueFields,(t=>{null==e.get(t)&&(g=!1)})),g){const i=this.chart;i&&i.inPlot(u)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:u.x,y:u.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}hideTooltip(){const e=this.get("tooltip");return e&&e.set("tooltipTarget",this),super.hideTooltip()}_getTooltipTarget(e){if("bullet"==this.get("seriesTooltipTarget")){const t=e.bullets;if(t&&t.length>0){const e=t[0].get("sprite");if(e)return e}}return this}updateLegendValue(e){const t=this.get("legendDataItem");if(t){const i=t.get("label");if(i){let t="";e?(i._setDataItem(e),t=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),t=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",t)}const s=t.get("valueLabel");if(s){let t="";e?(s._setDataItem(e),t=this.get("legendValueText",s.get("text",""))):(s._setDataItem(this._emptyDataItem),t=this.get("legendRangeValueText",s.get("text",""))),s.set("text",t)}}}_getItemReaderLabel(){let e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}getPoint(e,t){let i=this.get("xAxis").get("renderer").positionToCoordinate(e),s=this.get("yAxis").get("renderer").positionToCoordinate(t),a=999999999;return s<-a&&(s=-a),s>a&&(s=a),i<-a&&(i=-a),i>a&&(i=a),{x:i,y:s}}_shouldInclude(e){return!0}handleCursorHide(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}_afterDataChange(){super._afterDataChange(),this.get("xAxis")._markDirtyKey("start"),this.get("yAxis")._markDirtyKey("start"),this.resetExtremes()}resetExtremes(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}createAxisRange(e){return this.axisRanges.push({axisDataItem:e})}get mainDataItems(){return this._mainDataItems}}Object.defineProperty(de,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(de,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tick.a.classNames.concat([de.className])});class ce extends Tick.C{constructor(){super(...arguments),Object.defineProperty(this,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Theme.a3.new(this._root,{}))}),Object.defineProperty(this,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Theme.a3.new(this._root,{width:Theme.a4,height:Theme.a4})}),Object.defineProperty(this,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:Theme.a3.new(this._root,{width:Theme.a4,height:Theme.a4})}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Theme.a3.new(this._root,{isMeasured:!1,width:Theme.a4,height:Theme.a4,position:"absolute"}))}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipSync",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.ax}),Object.defineProperty(this,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(Theme.a3.new(this._root,{themeTags:["axis","header"],position:"absolute",background:Theme.a5.new(this._root,{themeTags:["header","background"],fill:this._root.interfaceColors.get("background")})}))}),Object.defineProperty(this,"_bullets",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_dispose(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),super._dispose()}_afterNew(){super._afterNew(),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll((e=>{if("clear"===e.type)(0,Theme.e)(e.oldValues,(e=>{this.disposeDataItem(e)}));else if("push"===e.type)this._processAxisRange(e.newValue,["range"]);else if("setIndex"===e.type)this._processAxisRange(e.newValue,["range"]);else if("insertIndex"===e.type)this._processAxisRange(e.newValue,["range"]);else if("removeIndex"===e.type)this.disposeDataItem(e.oldValue);else{if("moveIndex"!==e.type)throw new Error("Unknown IStreamEvent type");this._processAxisRange(e.value,["range"])}})));const e=this.get("renderer");e&&(e.axis=this,e.processAxis()),this.children.push(e),this.ghostLabel=e.makeLabel(new Tick.D(this,void 0,{}),[]),this.ghostLabel.adapters.disable("text"),this.ghostLabel.setAll({opacity:0,tooltipText:void 0,tooltipHTML:void 0,interactive:!1}),this.ghostLabel.events.disable()}_updateFinals(e,t){}zoom(e,t,i,a){if(this._updateFinals(e,t),this.get("start")!==e||this.get("end")!=t){let o=this._sAnimation,n=this._eAnimation,r=this.get("maxDeviation",.5)*Math.min(1,t-e);e<-r&&(e=-r),t>1+r&&(t=1+r),e>t&&([e,t]=[t,e]),(0,Theme.g)(i)||(i=this.get("interpolationDuration",0)),a||(a="end");let l=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100)),h=l;1===t&&0!==e&&(a=e<this.get("start")?"start":"end"),0===e&&1!==t&&(a=t>this.get("end")?"end":"start");let d=this.get("minZoomCount"),c=this.get("maxZoomCount");(0,Theme.g)(d)&&(l=h/d);let u=1;if((0,Theme.g)(c)&&(u=h/c),"start"===a?(c>0&&1/(t-e)<u&&(t=e+1/u),1/(t-e)>l&&(t=e+1/l),t>1&&t-e<1/l&&(e=t-1/l)):(c>0&&1/(t-e)<u&&(e=t-1/u),1/(t-e)>l&&(e=t-1/l),e<0&&t-e<1/l&&(t=e+1/l)),1/(t-e)>l&&(t=e+1/l),1/(t-e)>l&&(e=t-1/l),null!=c&&null!=d&&e==this.get("start")&&t==this.get("end")){const e=this.chart;e&&e._handleAxisSelection(this,!0)}if((o&&o.playing&&o.to==e||this.get("start")==e)&&(n&&n.playing&&n.to==t||this.get("end")==t))return;if(i>0){let s,a,o=this.get("interpolationEasing");if(this.get("start")!=e&&(s=this.animate({key:"start",to:e,duration:i,easing:o})),this.get("end")!=t&&(a=this.animate({key:"end",to:t,duration:i,easing:o})),this._sAnimation=s,this._eAnimation=a,s)return s;if(a)return a}else this.set("start",e),this.set("end",t),this._root.events.once("frameended",(()=>{this._markDirtyKey("start"),this._root._markDirty()}))}else this._sAnimation&&this._sAnimation.stop(),this._eAnimation&&this._eAnimation.stop()}get series(){return this._series}_processAxisRange(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);const i=e.get("above"),s=this.topGridContainer,a=e.get("grid");i&&a&&s.children.moveValue(a);const o=e.get("axisFill");i&&o&&s.children.moveValue(o)}_prepareDataItem(e,t){}markDirtyExtremes(){}markDirtySelectionExtremes(){}_calculateTotals(){}_updateAxisRanges(){this._bullets={},this.axisRanges.each((e=>{this._prepareDataItem(e)})),(0,Theme.e)(this._seriesAxisRanges,(e=>{this._prepareDataItem(e)}))}_prepareChildren(){if(super._prepareChildren(),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){this.chart._updateCursor();let e=this.get("start",0),t=this.get("end",1),i=this.get("maxDeviation",.5)*Math.min(1,t-e);if(e<-i){let s=e+i;e=-i,this.setRaw("start",e),this.isDirty("end")&&this.setRaw("end",t-s)}if(t>1+i){let s=t-1-i;t=1+i,this.setRaw("end",t),this.isDirty("start")&&this.setRaw("start",e-s)}}const e=this.get("renderer");if(e._start=this.get("start"),e._end=this.get("end"),e._inversed=e.get("inversed",!1),e._axisLength=e.axisLength()/(e._end-e._start),e._updateLC(),this.isDirty("tooltip")){const t=this.get("tooltip");if(t){const i=e.get("themeTags");t.addTag("axis"),t.addTag(this.className.toLowerCase()),t._applyThemes(),i&&(t.set("themeTags",(0,Theme.ak)(t.get("themeTags"),i)),t.label._applyThemes())}}}_updateTooltipBounds(){const e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}_updateBounds(){super._updateBounds(),this._updateTooltipBounds()}processChart(e){this.chart=e;this.get("renderer").chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",(()=>{e._handleAxisSelection(this)})),this.on("end",(()=>{e._handleAxisSelection(this)})),e.plotContainer.onPrivate("width",(()=>{this.markDirtySize()})),e.plotContainer.onPrivate("height",(()=>{this.markDirtySize()})),e.processAxis(this)}hideDataItem(e){return this._toggleDataItem(e,!1),super.hideDataItem(e)}showDataItem(e){return this._toggleDataItem(e,!0),super.showDataItem(e)}_toggleDataItem(e,t){const i=e.get("label");i&&i.setPrivate("visible",t);const s=e.get("grid");s&&s.setPrivate("visible",t);const a=e.get("tick");a&&a.setPrivate("visible",t);const o=e.get("axisFill");o&&o.setPrivate("visible",t);const n=e.get("bullet");if(n){const e=n.get("sprite");e&&e.setPrivate("visible",t)}}_createAssets(e,t){const i=this.get("renderer");e.get("label")||i.makeLabel(e,t),e.get("grid")||i.makeGrid(e,t),e.get("tick")||i.makeTick(e,t),e.get("axisFill")||i.makeAxisFill(e,t),this._processBullet(e)}_processBullet(e){let t=e.get("bullet"),i=this.get("bullet");if(t||!i||e.get("isRange")||(t=i(this._root,this,e)),t){t.axis=this;const i=t.get("sprite");i&&(i._setDataItem(e),e.setRaw("bullet",t),i.parent||this.bulletsContainer.children.push(i))}}_afterChanged(){super._afterChanged();const e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions()}disposeDataItem(e){super.disposeDataItem(e);const t=this.get("renderer"),i=e.get("label");i&&(t.labels.removeValue(i),i.dispose());const s=e.get("tick");s&&(t.ticks.removeValue(s),s.dispose());const a=e.get("grid");a&&(t.grid.removeValue(a),a.dispose());const o=e.get("axisFill");o&&(t.axisFills.removeValue(o),o.dispose());const n=e.get("bullet");n&&n.dispose()}_updateGhost(){this.setPrivate("cellWidth",this.getCellWidthPosition()*this.get("renderer").axisLength());const e=this.ghostLabel;if(!e.isHidden()){const t=e.localBounds(),i=t.right-t.left;let s=e.get("text");(0,Theme.e)(this.dataItems,(e=>{const t=e.get("label");if(t&&!t.isHidden()){const e=t.localBounds();e.right-e.left>i&&(s=t.text._getText())}})),e.set("text",s)}let t=this.get("start",0),i=this.get("end",1);this.get("renderer").updateLabel(e,t+.5*(i-t))}_handleCursorPosition(e,t){e=this.get("renderer").toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}updateTooltip(){const e=this._snapToSeries;let t=this._cursorPosition;const i=this.get("tooltip"),a=this.get("renderer");(0,Theme.g)(t)&&((0,Theme.e)(this.series,(i=>{if(i.get("baseAxis")===this){const s=this.getSeriesItem(i,t,this.get("tooltipLocation"));i.setRaw("tooltipDataItem",s),e&&-1!=e.indexOf(i)?(i.updateLegendMarker(s),i.updateLegendValue(s)):i.showDataItemTooltip(s)}})),i&&(a.updateTooltipBounds(i),this.get("snapTooltip")&&(t=this.roundAxisPosition(t,this.get("tooltipLocation",.5))),(0,Theme.aA)(t)?i.hide(0):(this.setPrivateRaw("tooltipPosition",t),this._updateTooltipText(i,t),a.positionTooltip(i,t),t<this.get("start")||t>this.get("end")?i.hide(0):i.show(0))))}_updateTooltipText(e,t){e.label.set("text",this.getTooltipText(t))}roundAxisPosition(e,t){return e}handleCursorShow(){let e=this.get("tooltip");e&&e.show()}handleCursorHide(){let e=this.get("tooltip");e&&e.hide()}processSeriesDataItem(e,t){}_clearDirty(){super._clearDirty(),this._sizeDirty=!1,this._rangesDirty=!1}coordinateToPosition(e){const t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}toAxisPosition(e){return this.get("renderer").toAxisPosition(e)}toGlobalPosition(e){return this.get("renderer").toGlobalPosition(e)}fixPosition(e){return this.get("renderer").fixPosition(e)}shouldGap(e,t,i,s){return!1}createAxisRange(e){return this.axisRanges.push(e)}_groupSeriesData(e){}getCellWidthPosition(){return.05}}Object.defineProperty(ce,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(ce,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tick.C.classNames.concat([ce.className])});class ue extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minLogAdjusted",{enumerable:!0,configurable:!0,writable:!0,value:1})}markDirtyExtremes(){this._dirtyExtremes=!0,this.markDirty()}markDirtySelectionExtremes(){this._dirtySelectionExtremes=!0,this.markDirty()}_afterNew(){this._settings.themeTags=(0,Theme.ak)(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),super._afterNew()}_prepareChildren(){if(super._prepareChildren(),this.isDirty("syncWithAxis")){this._prevSettings.syncWithAxis&&this._syncDp&&this._syncDp.dispose();let e=this.get("syncWithAxis");e&&(this._syncDp=new Theme.M([e.onPrivate("selectionMinFinal",(()=>{this._dirtySelectionExtremes=!0})),e.onPrivate("selectionMaxFinal",(()=>{this._dirtySelectionExtremes=!0}))]))}(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("min")||this.isDirty("max")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("strictMinMaxSelection")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(this._getMinMax(),this.ghostLabel.set("text",""),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&this.get("autoZoom",!0)&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}_groupData(){}_formatText(e){const t=this.get("numberFormat"),i=this.getNumberFormatter();let s="";return s=t?i.format(e,t):i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),s}_prepareAxisItems(){const e=this.getPrivate("min"),t=this.getPrivate("max");if((0,Theme.g)(e)&&(0,Theme.g)(t)){const t=this.get("logarithmic"),i=this.getPrivate("step"),s=this.getPrivate("selectionMin"),a=this.getPrivate("selectionMax")+i;let o=s-i,r=0,l=1,h=e;if(t){if(o=this._minLogAdjusted,o<s)for(;o<s;)o+=i;h=o,h<=0&&(h=1,i<1&&(h=i)),l=Math.log(a-i)*Math.LOG10E-Math.log(h)*Math.LOG10E,l>2&&(o=Math.pow(10,Math.log(h)*Math.LOG10E-5))}let d=-1/0;for(;o<a;){let e;this.dataItems.length<r+1?(e=new Tick.D(this,void 0,{}),this._dataItems.push(e),this.processDataItem(e)):e=this.dataItems[r],this._createAssets(e,[]),e.isHidden()&&e.show(),e.setRaw("value",o);const s=e.get("label");if(s&&s.set("text",this._formatText(o)),this._prepareDataItem(e),t&&l>2?o=Math.pow(10,Math.log(h)*Math.LOG10E+r-5):o+=i,d==o)break;let a=Math.pow(10,Math.floor(Math.log(Math.abs(i))*Math.LOG10E));if(a<1){let e=Math.round(Math.abs(Math.log(Math.abs(a))*Math.LOG10E))+2;o=(0,Theme.ar)(o,e)}r++,d=o}for(let e=r;e<this.dataItems.length;e++)this.dataItems[e].hide();(0,Theme.e)(this.series,(e=>{e.inited&&e._markDirtyAxes()})),this._updateGhost()}}_prepareDataItem(e,t){let i=this.get("renderer"),a=e.get("value"),o=e.get("endValue"),n=this.valueToPosition(a),r=n,l=this.valueToPosition(a+this.getPrivate("step"));(0,Theme.g)(o)&&(r=this.valueToPosition(o),l=r),e.get("isRange")&&null==o&&(l=n),i.updateLabel(e.get("label"),n,r,t);const h=e.get("grid");if(i.updateGrid(h,n,r),h&&(a==this.get("baseValue",0)?(h.addTag("base"),h._applyThemes()):h.hasTag("base")&&(h.removeTag("base"),h._applyThemes())),i.updateTick(e.get("tick"),n,r,t),i.updateFill(e.get("axisFill"),n,l),this._processBullet(e),i.updateBullet(e.get("bullet"),n,r),!e.get("isRange")){const t=this.get("fillRule");t&&t(e)}}_handleRangeChange(){let e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1));const i=this.get("renderer").gridCount();let s=this._adjustMinMax(e,t,i,!0),a=(0,Theme.aB)(s.step);this.setPrivateRaw("stepDecimalPlaces",a),e=(0,Theme.ar)(e,a),t=(0,Theme.ar)(t,a),s=this._adjustMinMax(e,t,i,!0);let o=s.step;e=s.min,t=s.max,this.getPrivate("selectionMin")===e&&this.getPrivate("selectionMax")===t&&this.getPrivate("step")===o||(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",o))}positionToValue(e){const t=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(i-t)+t}valueToPosition(e){const t=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){let t=this.get("treatZeroAs");(0,Theme.g)(t)&&(e=t)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(i-t)}valueToFinalPosition(e){const t=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){let t=this.get("treatZeroAs");(0,Theme.g)(t)&&(e=t)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}return(e-t)/(i-t)}getX(e,t,i){e=i+(e-i)*t;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getY(e,t,i){e=i+(e-i)*t;const s=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(s)}getDataItemCoordinateX(e,t,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,s))}getDataItemPositionX(e,t,i,s){let a=e.get(t);if(e.get("stackToItemX")){a=a*s+e.component.getStackedXValueWorking(e,t)}else a=this._baseValue+(a-this._baseValue)*s;return this.valueToPosition(a)}getDataItemCoordinateY(e,t,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,s))}getDataItemPositionY(e,t,i,s){let a=e.get(t);if(e.get("stackToItemY")){a=a*s+e.component.getStackedYValueWorking(e,t)}else a=this._baseValue+(a-this._baseValue)*s;return this.valueToPosition(a)}basePosition(){return this.valueToPosition(this.baseValue())}baseValue(){const e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0));let i=this.get("baseValue",0);return i<e&&(i=e),i>t&&(i=t),i}cellEndValue(e){return e}fixSmallStep(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}_fixMin(e){return e}_fixMax(e){return e}_calculateTotals(){if(this.get("calculateTotals")){let e=this.series[0];if(e){let t=e.startIndex();if(e.dataItems.length>0){t>0&&t--;let i,s,a=e.endIndex();a<e.dataItems.length&&a++,e.get("yAxis")==this?(i="valueY",s="vcy"):e.get("xAxis")==this&&(i="valueX",s="vcx");let o=i+"Working";if(i)for(let e=t;e<a;e++){let t=0,a=0;(0,Theme.e)(this.series,(i=>{if(!i.get("excludeFromTotal")){let n=i.dataItems[e];if(n){let e=n.get(o)*i.get(s);(0,Theme.aA)(e)||(t+=e,a+=Math.abs(e))}}})),(0,Theme.e)(this.series,(n=>{if(!n.get("excludeFromTotal")){let r=n.dataItems[e];if(r){let e=r.get(o)*n.get(s);(0,Theme.aA)(e)||(r.set(i+"Total",a),r.set(i+"Sum",t),r.set(i+"TotalPercent",e/a*100))}}}))}}}}}_getSelectionMinMax(){const e=this.getPrivate("minFinal"),t=this.getPrivate("maxFinal"),i=this.get("min"),a=this.get("max");let o=this.get("extraMin",0),r=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(o=.1),null==this.get("extraMax")&&(r=.2));const l=this.get("renderer").gridCount(),h=this.get("strictMinMaxSelection"),d=this.get("strictMinMax");if((0,Theme.g)(e)&&(0,Theme.g)(t)){let c=t,u=e;if((0,Theme.e)(this.series,(e=>{if(!e.get("ignoreMinMax")){let t,i;const a=e.getPrivate("outOfSelection");e.get("xAxis")===this?a||(t=e.getPrivate("selectionMinX",e.getPrivate("minX")),i=e.getPrivate("selectionMaxX",e.getPrivate("maxX"))):e.get("yAxis")===this&&(a||(t=e.getPrivate("selectionMinY",e.getPrivate("minY")),i=e.getPrivate("selectionMaxY",e.getPrivate("maxY")))),e.isHidden()||e.isShowing()||((0,Theme.g)(t)&&(c=Math.min(c,t)),(0,Theme.g)(i)&&(u=Math.max(u,i)))}})),this.axisRanges.each((e=>{if(e.get("affectsMinMax")){let t=e.get("value");null!=t&&(c=Math.min(c,t),u=Math.max(u,t)),t=e.get("endValue"),null!=t&&(c=Math.min(c,t),u=Math.max(u,t))}})),c>u&&([c,u]=[u,c]),(0,Theme.g)(i)?c=d?i:e:d&&(0,Theme.g)(this._minReal)&&(c=this._minReal),(0,Theme.g)(a)?u=d?a:t:d&&(0,Theme.g)(this._maxReal)&&(u=this._maxReal),c===u){c-=this._deltaMinMax,u+=this._deltaMinMax;let e=this._adjustMinMax(c,u,l,d);c=e.min,u=e.max}let g=c,p=u;c-=(u-c)*o,u+=(u-c)*r;let m=this._adjustMinMax(c,u,l);c=m.min,u=m.max,c=(0,Theme.aj)(c,e,t),u=(0,Theme.aj)(u,e,t),m=this._adjustMinMax(c,u,l,!0),d||(c=m.min,u=m.max);const _=this.get("syncWithAxis");_&&(m=this._syncAxes(c,u,m.step,_.getPrivate("selectionMinFinal",_.getPrivate("minFinal",0)),_.getPrivate("selectionMaxFinal",_.getPrivate("maxFinal",1)),_.getPrivate("selectionStepFinal",_.getPrivate("step",1))),c=m.min,u=m.max),d&&((0,Theme.g)(i)&&(c=Math.max(c,i)),(0,Theme.g)(a)&&(u=Math.min(u,a))),h&&(c=g-(u-c)*o,u=p+(u-c)*r),this.get("logarithmic")&&(c<=0&&(c=g*(1-Math.min(o,.99))),c<e&&(c=e),u>t&&(u=t));let x=Math.min(20,Math.ceil(Math.log(this.getPrivate("maxZoomFactor",100)+1)/Math.LN10)+2),f=(0,Theme.ar)(this.valueToFinalPosition(c),x),v=(0,Theme.ar)(this.valueToFinalPosition(u),x);this.setPrivateRaw("selectionMinFinal",c),this.setPrivateRaw("selectionMaxFinal",u),this.setPrivateRaw("selectionStepFinal",m.step),this.zoom(f,v)}}_getMinMax(){let e=this.get("min"),t=this.get("max"),i=1/0,a=-1/0,o=this.get("extraMin",0),r=this.get("extraMax",0);this.get("logarithmic")&&(null==this.get("extraMin")&&(o=.1),null==this.get("extraMax")&&(r=.2));let l=1/0;if((0,Theme.e)(this.series,(e=>{if(!e.get("ignoreMinMax")){let t,o;if(e.get("xAxis")===this?(t=e.getPrivate("minX"),o=e.getPrivate("maxX")):e.get("yAxis")===this&&(t=e.getPrivate("minY"),o=e.getPrivate("maxY")),(0,Theme.g)(t)&&(0,Theme.g)(o)){i=Math.min(i,t),a=Math.max(a,o);let e=o-t;e<=0&&(e=Math.abs(o/100)),e<l&&(l=e)}}})),this.axisRanges.each((e=>{if(e.get("affectsMinMax")){let t=e.get("value");null!=t&&(i=Math.min(i,t),a=Math.max(a,t)),t=e.get("endValue"),null!=t&&(i=Math.min(i,t),a=Math.max(a,t))}})),this.get("logarithmic")){let e=this.get("treatZeroAs");(0,Theme.g)(e)&&i<=0&&(i=e)}if(0===i&&0===a&&(a=.9,i=-.9),(0,Theme.g)(e)&&(i=e),(0,Theme.g)(t)&&(a=t),i===1/0||a===-1/0)return this.setPrivate("minFinal",void 0),void this.setPrivate("maxFinal",void 0);const h=i,d=a;let c=this.adapters.fold("min",i),u=this.adapters.fold("max",a);(0,Theme.g)(c)&&(i=c),(0,Theme.g)(u)&&(a=u),i=this._fixMin(i),a=this._fixMax(a),a-i<=1/Math.pow(10,15)&&(a-i!=0?this._deltaMinMax=(a-i)/2:this._getDelta(a),i-=this._deltaMinMax,a+=this._deltaMinMax),i-=(a-i)*o,a+=(a-i)*r,this.get("logarithmic")&&(i<0&&h>=0&&(i=0),a>0&&d<=0&&(a=0)),this._minReal=i,this._maxReal=a;let g=this.get("strictMinMax"),p=this.get("strictMinMaxSelection",!1);p&&(g=p);let m=g;(0,Theme.g)(t)&&(m=!0);let _=this.get("renderer").gridCount(),x=this._adjustMinMax(i,a,_,m);i=x.min,a=x.max,x=this._adjustMinMax(i,a,_,!0),i=x.min,a=x.max,g&&(i=(0,Theme.g)(e)?e:this._minReal,a=(0,Theme.g)(t)?t:this._maxReal,a-i<=1e-8&&(i-=this._deltaMinMax,a+=this._deltaMinMax),i-=(a-i)*o,a+=(a-i)*r),c=this.adapters.fold("min",i),u=this.adapters.fold("max",a),(0,Theme.g)(c)&&(i=c),(0,Theme.g)(u)&&(a=u),l==1/0&&(l=a-i);let f=Math.round(Math.abs(Math.log(Math.abs(a-i))*Math.LOG10E))+5;i=(0,Theme.ar)(i,f),a=(0,Theme.ar)(a,f);const v=this.get("syncWithAxis");if(v&&(x=this._syncAxes(i,a,x.step,v.getPrivate("minFinal",v.getPrivate("min",0)),v.getPrivate("maxFinal",v.getPrivate("max",1)),v.getPrivate("step",1)),i=x.min,a=x.max),this.setPrivateRaw("maxZoomFactor",Math.max(1,Math.ceil((a-i)/l*this.get("maxZoomFactor",100)))),this._fixZoomFactor(),this.get("logarithmic")&&(this._minLogAdjusted=i,i=this._minReal,a=this._maxReal,i<=0&&(i=h*(1-Math.min(o,.99)))),(0,Theme.g)(i)&&(0,Theme.g)(a)&&(this.getPrivate("minFinal")!==i||this.getPrivate("maxFinal")!==a)){this.setPrivate("minFinal",i),this.setPrivate("maxFinal",a),this._saveMinMax(i,a);const e=this.get("interpolationDuration",0),t=this.get("interpolationEasing");this.animatePrivate({key:"min",to:i,duration:e,easing:t}),this.animatePrivate({key:"max",to:a,duration:e,easing:t})}}_fixZoomFactor(){}_getDelta(e){let t=Math.log(Math.abs(e))*Math.LOG10E,i=Math.pow(10,Math.floor(t));i/=10,this._deltaMinMax=i}_saveMinMax(e,t){}_adjustMinMax(e,t,i,a){i<=1&&(i=1),i=Math.round(i);let o=e,r=t,l=t-e;0===l&&(l=Math.abs(t));let h=Math.log(Math.abs(l))*Math.LOG10E,d=Math.pow(10,Math.floor(h));d/=10;let c=d;a&&(c=0),a?(e=Math.floor(e/d)*d,t=Math.ceil(t/d)*d):(e=Math.ceil(e/d)*d-c,t=Math.floor(t/d)*d+c),e<0&&o>=0&&(e=0),t>0&&r<=0&&(t=0),h=Math.log(Math.abs(l))*Math.LOG10E,d=Math.pow(10,Math.floor(h)),d/=100;let u=Math.ceil(l/i/d)*d,g=Math.pow(10,Math.floor(Math.log(Math.abs(u))*Math.LOG10E)),p=Math.ceil(u/g);p>5?p=10:p<=5&&p>2&&(p=5),u=Math.ceil(u/(g*p))*g*p;let m=this.get("maxPrecision");if((0,Theme.g)(m)){let e=(0,Theme.aC)(u,m);m<Number.MAX_VALUE&&u!==e&&(u=e)}let _=0;g<1&&(_=Math.round(Math.abs(Math.log(Math.abs(g))*Math.LOG10E))+1,u=(0,Theme.ar)(u,_));let b,x=Math.floor(e/u);return e=(0,Theme.ar)(u*x,_),b=a?Math.floor(t/u):Math.ceil(t/u),b===x&&b++,(t=(0,Theme.ar)(u*b,_))<r&&(t+=u),e>o&&(e-=u),u=this.fixSmallStep(u),{min:e,max:t,step:u}}getTooltipText(e,t){const i=this.get("tooltipNumberFormat",this.get("numberFormat")),s=this.getNumberFormatter(),a=this.get("extraTooltipPrecision",0),o=this.getPrivate("stepDecimalPlaces",0)+a,r=(0,Theme.ar)(this.positionToValue(e),o);return i?s.format(r,i):s.format(r,void 0,o)}getSeriesItem(e,t){let i,s,a=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),o=this.positionToValue(t);if((0,Theme.e)(e.dataItems,((e,t)=>{const n=Math.abs(e.get(a)-o);(void 0===i||n<s)&&(i=t,s=n)})),null!=i)return e.dataItems[i]}zoomToValues(e,t,i){const s=this.getPrivate("minFinal",0),a=this.getPrivate("maxFinal",0);null!=this.getPrivate("min")&&null!=this.getPrivate("max")&&this.zoom((e-s)/(a-s),(t-s)/(a-s),i)}_syncAxes(e,t,i,a,o,n){if(this.get("syncWithAxis")){let r=Math.round(o-a)/n,l=Math.round((t-e)/i),h=this.get("renderer").gridCount();if((0,Theme.g)(r)&&(0,Theme.g)(l)){let s=!1,a=0,o=.01*(t-e),n=e,l=t,d=i;for(;1!=s;)if(s=this._checkSync(n,l,d,r),a++,a>500&&(s=!0),s)e=n,t=l,i=d;else{a/3==Math.round(a/3)?(n=e-o*a,e>=0&&n<0&&(n=0)):(l=t+o*a,l<=0&&l>0&&(l=0));let i=this._adjustMinMax(n,l,h,!0);n=i.min,l=i.max,d=i.step}}}return{min:e,max:t,step:i}}_checkSync(e,t,i,s){let a=(t-e)/i;for(let o=1;o<s;o++)if((0,Theme.ar)(a/o,1)==s||a*o==s)return!0;return!1}getCellWidthPosition(){let e=this.getPrivate("selectionMax",this.getPrivate("max")),t=this.getPrivate("selectionMin",this.getPrivate("min"));return (0,Theme.g)(e)&&(0,Theme.g)(t)?this.getPrivate("step",1)/(e-t):.05}}Object.defineProperty(ue,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(ue,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([ue.className])});class ge extends Theme.al{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(ge,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(ge,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Theme.al.classNames.concat([ge.className])});class pe extends Tick.T{constructor(){super(...arguments),Object.defineProperty(this,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]})}}Object.defineProperty(pe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(pe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tick.T.classNames.concat([pe.className])});class me extends Theme.a7{constructor(){super(...arguments),Object.defineProperty(this,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.aD(Theme.aE.new({}),(()=>pe._new(this._root,{themeTags:(0,Theme.ak)(this.ticks.template.get("themeTags",[]),this.get("themeTags",[]))},[this.ticks.template])))}),Object.defineProperty(this,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.aD(Theme.aE.new({}),(()=>ne._new(this._root,{themeTags:(0,Theme.ak)(this.grid.template.get("themeTags",[]),this.get("themeTags",[]))},[this.grid.template])))}),Object.defineProperty(this,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.aD(Theme.aE.new({}),(()=>Theme.a7._new(this._root,{themeTags:(0,Theme.ak)(this.axisFills.template.get("themeTags",["axis","fill"]),this.get("themeTags",[]))},[this.axisFills.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.aD(Theme.aE.new({}),(()=>ge._new(this._root,{themeTags:(0,Theme.ak)(this.labels.template.get("themeTags",[]),this.get("themeTags",[]))},[this.labels.template])))}),Object.defineProperty(this,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}makeTick(e,t){const i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",(0,Theme.ak)(i.get("themeTags"),t)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}makeGrid(e,t){const i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",(0,Theme.ak)(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}makeAxisFill(e,t){const i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",(0,Theme.ak)(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}makeLabel(e,t){const i=this.labels.make();return i.set("themeTags",(0,Theme.ak)(i.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}axisLength(){return 0}gridCount(){return this.axisLength()/this.get("minGridDistance",50)}_updatePositions(){}_afterNew(){super._afterNew(),this.set("isMeasured",!1);const e=this.thumb;e&&(this._disposers.push(e.events.on("pointerdown",(e=>{this._handleThumbDown(e)}))),this._disposers.push(e.events.on("globalpointerup",(e=>{this._handleThumbUp(e)}))),this._disposers.push(e.events.on("globalpointermove",(e=>{this._handleThumbMove(e)}))))}_changed(){if(super._changed(),this.isDirty("pan")){const e=this.thumb;if(e){const t=this.axis.labelsContainer,i=this.get("pan");"zoom"==i?t.children.push(e):"none"==i&&t.children.removeValue(e)}}}_handleThumbDown(e){this._thumbDownPoint=this.toLocal(e.point);const t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}_handleThumbUp(e){this._thumbDownPoint=void 0}_handleThumbMove(e){const t=this._thumbDownPoint;if(t){const i=this.toLocal(e.point),s=this._downStart,a=this._downEnd,o=this._getPan(i,t)*Math.min(1,a-s)/2;this.axis.zoom(s-o,a+o,0)}}_getPan(e,t){return 0}positionToCoordinate(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}updateTooltipBounds(e){}_updateSize(){this.markDirty(),this._clear=!0}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e*=i-t,e=this.get("inversed")?i-e:t+e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e-=t,e/=i-t}fixPosition(e){return this.get("inversed")?1-e:e}_updateLC(){}toggleVisibility(e,t,i,s){let a=this.axis;const o=a.get("start",0),n=a.get("end",1);t<o+(n-o)*(i-1e-4)||t>o+(n-o)*(s+1e-4)?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}_positionTooltip(e,t){const i=this.chart;i&&(i.inPlot(t)?e.set("pointTo",this._display.toGlobal(t)):e.hide())}processAxis(){}}Object.defineProperty(me,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(me,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Theme.a7.classNames.concat([me.className])});class _e extends me{constructor(){super(...arguments),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:Theme.a5.new(this._root,{width:Theme.a4,isMeasured:!1,themeTags:["axis","x","thumb"]})})}_afterNew(){this._settings.themeTags=(0,Theme.ak)(this._settings.themeTags,["renderer","x"]),super._afterNew(),this.setPrivateRaw("letter","X");const e=this.grid.template;e.set("height",Theme.a4),e.set("width",0),e.set("draw",((e,t)=>{e.moveTo(0,0),e.lineTo(0,t.height())})),this.set("draw",((e,t)=>{e.moveTo(0,0),e.lineTo(t.width(),0)}))}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("x",-1e3);const t="opposite",i="inside";if(this.isDirty(t)||this.isDirty(i)){const s=this.chart,a=e.children;if(this.get(i)?e.addTag(i):e.removeTag(i),s){if(this.get(t)){const i=s.topAxesContainer.children;-1==i.indexOf(e)&&i.insertIndex(0,e),e.addTag(t),a.moveValue(this)}else{const i=s.bottomAxesContainer.children;-1==i.indexOf(e)&&i.moveValue(e),e.removeTag(t),a.moveValue(this,0)}e.ghostLabel._applyThemes(),this.labels.each((e=>{e._applyThemes()})),this.root._markDirtyRedraw()}e.markDirtySize()}this.thumb.setPrivate("height",e.labelsContainer.height())}_getPan(e,t){return(t.x-e.x)/this.width()}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e=(e-=this._ls)*(i-t)/this._lc,e=this.get("inversed")?i-e:t+e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e=i-e:e-=t,e=e/(i-t)*this._lc,e+=this._ls}_updateLC(){const e=this.axis,t=e.parent;if(t){const i=t.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-t.get("paddingLeft",0))/i}}_updatePositions(){const e=this.axis,t=e.x()-(0,Theme.az)(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0);e.gridContainer.set("x",t),e.topGridContainer.set("x",t),e.bulletsContainer.set("y",this.y());const i=e.chart;if(i){const t=i.plotContainer,s=e.axisHeader;let a=e.get("marginLeft",0),o=e.x()-a;const n=e.parent;n&&(o-=n.get("paddingLeft",0)),s.children.length>0?(a=e.axisHeader.width(),e.set("marginLeft",a+1)):s.set("width",a),s.setAll({x:o,y:-1,height:t.height()+2})}}processAxis(){super.processAxis();const e=this.axis;e.set("width",Theme.a4);const i=this._root.verticalLayout;e.set("layout",i),e.labelsContainer.set("width",Theme.a4),e.axisHeader.setAll({layout:i})}axisLength(){return this.axis.width()}positionToPoint(e){return{x:this.positionToCoordinate(e),y:0}}updateTick(e,i,a,o){if(e){(0,Theme.g)(i)||(i=0);let n=.5;n=(0,Theme.g)(o)&&o>1?e.get("multiLocation",n):e.get("location",n),(0,Theme.g)(a)&&a!=i&&(i+=(a-i)*n),e.set("x",this.positionToCoordinate(i));let r=e.get("length",0);const l=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",Theme.a4),l||(r*=-1)):(e.set("y",0),l&&(r*=-1)),e.set("draw",(e=>{e.moveTo(0,0),e.lineTo(0,r)})),this.toggleVisibility(e,i,e.get("minPosition",0),e.get("maxPosition",1))}}updateLabel(e,i,a,o){if(e){let n=.5;n=(0,Theme.g)(o)&&o>1?e.get("multiLocation",n):e.get("location",n),(0,Theme.g)(i)||(i=0);const r=e.get("inside",this.get("inside",!1));this.get("opposite")?r?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",Theme.a4)):r?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),(0,Theme.g)(a)&&a!=i&&(i+=(a-i)*n),e.set("x",this.positionToCoordinate(i)),this.toggleVisibility(e,i,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,i){if(e){(0,Theme.g)(t)||(t=0);let a=e.get("location",.5);(0,Theme.g)(i)&&i!=t&&(t+=(i-t)*a),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateBullet(e,t,i){if(e){const a=e.get("sprite");if(a){(0,Theme.g)(t)||(t=0);let o=e.get("location",.5);(0,Theme.g)(i)&&i!=t&&(t+=(i-t)*o);let n=this.axis.roundAxisPosition(t,o),r=this.axis._bullets[n],l=-1;if(this.get("opposite")&&(l=1),e.get("stacked"))if(r){let e=r.get("sprite");e&&a.set("y",e.y()+e.height()*l)}else a.set("y",0);this.axis._bullets[n]=e,a.set("x",this.positionToCoordinate(t)),this.toggleVisibility(a,t,0,1)}}}updateFill(e,t,i){if(e){(0,Theme.g)(t)||(t=0),(0,Theme.g)(i)||(i=1);let a=this.positionToCoordinate(t),o=this.positionToCoordinate(i);this.fillDrawMethod(e,a,o)}}fillDrawMethod(e,t,i){e.set("draw",(e=>{const s=this.axis.gridContainer.height(),a=this.width();i<t&&([i,t]=[t,i]),t>a||i<0||(e.moveTo(t,0),e.lineTo(i,0),e.lineTo(i,s),e.lineTo(t,s),e.lineTo(t,0))}))}positionTooltip(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}updateTooltipBounds(e){const t=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),a=s.x,o=0,n=this.axisLength(),r=i,l="up";this.get("opposite")?t?(l="up",o=s.y,r=i):(l="down",o=s.y-i,r=i):t?(l="down",o=s.y-i,r=i):(l="up",o=s.y,r=i);const h={left:a,right:a+n,top:o,bottom:o+r},d=e.get("bounds");(0,Theme.aF)(h,d)||(e.set("bounds",h),e.set("pointerOrientation",l))}}Object.defineProperty(_e,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(_e,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:me.classNames.concat([_e.className])});class be extends me{constructor(){super(...arguments),Object.defineProperty(this,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:Theme.a5.new(this._root,{height:Theme.a4,isMeasured:!1,themeTags:["axis","y","thumb"]})})}_afterNew(){this._settings.themeTags=(0,Theme.ak)(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),super._afterNew(),this.setPrivateRaw("letter","Y");const e=this.grid.template;e.set("width",Theme.a4),e.set("height",0),e.set("draw",((e,t)=>{e.moveTo(0,0),e.lineTo(t.width(),0)})),this.set("draw",((e,t)=>{e.moveTo(0,0),e.lineTo(0,t.height())}))}_getPan(e,t){return(e.y-t.y)/this.height()}_changed(){super._changed();const e=this.axis;e.ghostLabel.setPrivate("visible",!this.get("inside")),e.ghostLabel.set("y",-1e3);const t=this.thumb,i="opposite",s="inside",a=this.chart;if(this.isDirty(i)||this.isDirty(s)){const t=e.children;if(this.get(s)?e.addTag(s):e.removeTag(s),a){if(this.get(i)){const s=a.rightAxesContainer.children;-1==s.indexOf(e)&&s.moveValue(e,0),e.addTag(i),t.moveValue(this,0)}else{const s=a.leftAxesContainer.children;-1==s.indexOf(e)&&s.moveValue(e),e.removeTag(i),t.moveValue(this)}e.ghostLabel._applyThemes(),this.labels.each((e=>{e._applyThemes()})),this.root._markDirtyRedraw()}e.markDirtySize()}const o=e.labelsContainer.width();a&&(this.get(i)?t.set("centerX",0):t.set("centerX",o)),t.setPrivate("width",o)}processAxis(){super.processAxis();const e=this.axis;null==e.get("height")&&e.set("height",Theme.a4);const i=this._root.horizontalLayout;e.set("layout",i),e.labelsContainer.set("height",Theme.a4),e.axisHeader.set("layout",i)}_updatePositions(){const e=this.axis,t=e.y()-(0,Theme.az)(e.get("centerY",0),e.height());e.gridContainer.set("y",t),e.topGridContainer.set("y",t),e.bulletsContainer.set("x",this.x());const i=e.chart;if(i){const t=i.plotContainer,s=e.axisHeader;let a=e.get("marginTop",0);s.children.length>0?(a=e.axisHeader.height(),e.set("marginTop",a+1)):s.set("height",a),s.setAll({y:e.y()-a,x:-1,width:t.width()+2})}}axisLength(){return this.axis.innerHeight()}positionToPoint(e){return{x:0,y:this.positionToCoordinate(e)}}updateLabel(e,t,i,a){if(e){(0,Theme.g)(t)||(t=0);let o=.5;o=(0,Theme.g)(a)&&a>1?e.get("multiLocation",o):e.get("location",o);const n=this.get("opposite"),r=e.get("inside",this.get("inside",!1));n?(e.set("x",0),r?e.set("position","absolute"):e.set("position","relative")):r?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),(0,Theme.g)(i)&&i!=t&&(t+=(i-t)*o),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateGrid(e,t,i){if(e){(0,Theme.g)(t)||(t=0);let a=e.get("location",.5);(0,Theme.g)(i)&&i!=t&&(t+=(i-t)*a),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,0,1)}}updateTick(e,t,i,a){if(e){(0,Theme.g)(t)||(t=0);let o=.5;o=(0,Theme.g)(a)&&a>1?e.get("multiLocation",o):e.get("location",o),(0,Theme.g)(i)&&i!=t&&(t+=(i-t)*o),e.set("y",this.positionToCoordinate(t));let n=e.get("length",0);const r=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),r&&(n*=-1)):r||(n*=-1),e.set("draw",(e=>{e.moveTo(0,0),e.lineTo(n,0)})),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}updateBullet(e,t,i){if(e){const a=e.get("sprite");if(a){(0,Theme.g)(t)||(t=0);let o=e.get("location",.5);(0,Theme.g)(i)&&i!=t&&(t+=(i-t)*o);let n=this.axis.roundAxisPosition(t,o),r=this.axis._bullets[n],l=1;if(this.get("opposite")&&(l=-1),e.get("stacked"))if(r){let e=r.get("sprite");e&&a.set("x",e.x()+e.width()*l)}else a.set("x",0);this.axis._bullets[n]=e,a.set("y",this.positionToCoordinate(t)),this.toggleVisibility(a,t,0,1)}}}updateFill(e,t,i){if(e){(0,Theme.g)(t)||(t=0),(0,Theme.g)(i)||(i=1);let a=this.positionToCoordinate(t),o=this.positionToCoordinate(i);this.fillDrawMethod(e,a,o)}}fillDrawMethod(e,t,i){e.set("draw",(e=>{const s=this.axis.gridContainer.width(),a=this.height();i<t&&([i,t]=[t,i]),t>a||i<0||(e.moveTo(0,t),e.lineTo(s,t),e.lineTo(s,i),e.lineTo(0,i),e.lineTo(0,t))}))}positionToCoordinate(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}positionTooltip(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}updateTooltipBounds(e){const t=this.get("inside"),i=1e5;let s=this._display.toGlobal({x:0,y:0}),a=s.y,o=0,n=this.axisLength(),r=i,l="right";this.get("opposite")?t?(l="right",o=s.x-i,r=i):(l="left",o=s.x,r=i):t?(l="left",o=s.x,r=i):(l="right",o=s.x-i,r=i);const h={left:o,right:o+r,top:a,bottom:a+n},d=e.get("bounds");(0,Theme.aF)(h,d)||(e.set("bounds",h),e.set("pointerOrientation",l))}_updateLC(){const e=this.axis,t=e.parent;if(t){const i=t.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}toAxisPosition(e){const t=this._start||0,i=this._end||1;return e=(e-=this._ls)*(i-t)/this._lc,e=this.get("inversed")?t+e:i-e}toGlobalPosition(e){const t=this._start||0,i=this._end||1;return this.get("inversed")?e-=t:e=i-e,e=e/(i-t)*this._lc,e+=this._ls}fixPosition(e){return this.get("inversed")?e:1-e}}Object.defineProperty(be,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(be,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:me.classNames.concat([be.className])});class xe extends de{constructor(){super(...arguments),Object.defineProperty(this,"_endIndex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeGenerator",{enumerable:!0,configurable:!0,writable:!0,value:ie()}),Object.defineProperty(this,"_fillGenerator",{enumerable:!0,configurable:!0,writable:!0,value:se()}),Object.defineProperty(this,"_legendStroke",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_legendFill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"strokes",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.aD(Theme.aE.new({}),(()=>Theme.a7._new(this._root,{themeTags:(0,Theme.ak)(this.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template])))}),Object.defineProperty(this,"fills",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.aD(Theme.aE.new({}),(()=>Theme.a7._new(this._root,{themeTags:(0,Theme.ak)(this.strokes.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template])))}),Object.defineProperty(this,"_fillTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeTemplate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_previousPoint",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"_dindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_sindex",{enumerable:!0,configurable:!0,writable:!0,value:0})}_afterNew(){this._fillGenerator.y0((function(e){return e[3]})),this._fillGenerator.x0((function(e){return e[2]})),this._fillGenerator.y1((function(e){return e[1]})),this._fillGenerator.x1((function(e){return e[0]})),super._afterNew()}makeStroke(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}makeFill(e){const t=this.mainContainer.children.push(e.make());return e.push(t),t}_updateChildren(){this._strokeTemplate=void 0,this._fillTemplate=void 0;let e=this.get("xAxis"),t=this.get("yAxis");if(this.isDirty("stroke")){const e=this.get("stroke");this.strokes.template.set("stroke",e);const t=this._legendStroke;t&&t.states.lookup("default").set("stroke",e)}if(this.isDirty("fill")){const e=this.get("fill");this.fills.template.set("fill",e);const t=this._legendFill;t&&t.states.lookup("default").set("fill",e)}if(this.isDirty("curveFactory")){const e=this.get("curveFactory");e&&(this._strokeGenerator.curve(e),this._fillGenerator.curve(e))}if(e.inited&&t.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty||this.isDirty("connect")||this.isDirty("curveFactory")){this.fills.each((e=>{e.setPrivate("visible",!1)})),this.strokes.each((e=>{e.setPrivate("visible",!1)})),this.axisRanges.each((e=>{let t=e.fills;t&&t.each((e=>{e.setPrivate("visible",!1)}));let i=e.strokes;i&&i.each((e=>{e.setPrivate("visible",!1)}))}));let e=this.startIndex(),t=this.strokes.template.get("templateField"),i=this.fills.template.get("templateField"),a=!0,o=!0;t&&(a=!1),i&&(o=!1);for(let l=e-1;l>=0;l--){let n=this.dataItems[l],r=!0,h=n.dataContext;if(t&&h[t]&&(a=!0),i&&h[i]&&(o=!0),(0,Theme.e)(this._valueFields,(e=>{(0,Theme.g)(n.get(e))||(r=!1)})),r&&a&&o){e=l;break}}let n=this.dataItems.length,r=this.endIndex();if(r<n){r++;for(let e=r;e<n;e++){let t=this.dataItems[e],i=!0;if((0,Theme.e)(this._valueFields,(e=>{(0,Theme.g)(t.get(e))||(i=!1)})),i){r=e+1;break}}}if(e>0&&e--,this._endIndex=r,this._clearGraphics(),this._sindex=0,this._dindex=e,1==this.dataItems.length)this._startSegment(0);else for(;this._dindex<r-1;)this._startSegment(this._dindex),this._sindex++}}else this._skipped=!0;super._updateChildren()}_clearGraphics(){this.strokes.clear(),this.fills.clear()}_startSegment(e){let t=this._endIndex,i=t;const s=this.get("autoGapCount"),a=this.get("connect"),o=this.makeFill(this.fills),n=this._fillTemplate,r=this.fills.template;n&&n!=r&&(o.template=n),o.setPrivate("visible",!0);const l=this.makeStroke(this.strokes),h=this._strokeTemplate;h&&h!=this.strokes.template&&(l.template=h),l.setPrivate("visible",!0);let d=this.get("xAxis"),c=this.get("yAxis"),u=this.get("baseAxis"),g=this.get("vcx",1),p=this.get("vcy",1),m=this._xField,_=this._yField,b=this._xOpenField,x=this._yOpenField;const f=this.get("openValueXField"),v=this.get("openValueYField");f||(b=this._xField),v||(x=this._yField);const y=this.get("stacked"),w=d.basePosition(),P=c.basePosition();let k;k=u===c?this._yField:this._xField;const A=[];let D=[];A.push(D);const T=this.strokes.template.get("templateField"),M=this.fills.template.get("templateField");let C=this.get("locationX",.5),S=this.get("locationY",.5),O=this.get("openLocationX",C),X=this.get("openLocationY",S);const Y=this.get("minDistance",0);let L,F=this.fills.template.get("visible");this.axisRanges.length>0&&(F=!0);let I=!1;(y||f||v)&&(I=!0);const j={points:D,segments:A,stacked:y,getOpen:I,basePosX:w,basePosY:P,fillVisible:F,xField:m,yField:_,xOpenField:b,yOpenField:x,vcx:g,vcy:p,baseAxis:u,xAxis:d,yAxis:c,locationX:C,locationY:S,openLocationX:O,openLocationY:X,minDistance:Y};for(L=e;L<i;L++){this._dindex=L;const t=this._dataItems[L];let n=t.get(m),r=t.get(_);if(null==n||null==r?a||(D=[],A.push(D),j.points=D):this._getPoints(t,j),T){let s=t.dataContext[T];if(s){if(s instanceof Theme.aE||(s=Theme.aE.new(s)),this._strokeTemplate=s,L>e){i=L;break}l.template=s}}if(M){let s=t.dataContext[M];if(s){if(s instanceof Theme.aE||(s=Theme.aE.new(s)),this._fillTemplate=s,L>e){i=L;break}o.template=s}}if(!a){let e=this.dataItems[L+1];e&&u.shouldGap(t,e,s,k)&&(D=[],A.push(D),j.points=D)}}o.setRaw("userData",[e,L]),l.setRaw("userData",[e,L]),L===t&&this._endLine(D,A[0][0]),l&&this._drawStroke(l,A),o&&this._drawFill(o,A),this.axisRanges.each((t=>{const i=t.container,s=t.fills,a=this.makeFill(s);i&&i.children.push(a),a.setPrivate("visible",!0),this._drawFill(a,A);const o=t.strokes,n=this.makeStroke(o);i&&i.children.push(n),n.setPrivate("visible",!0),this._drawStroke(n,A),a.setRaw("userData",[e,L]),n.setRaw("userData",[e,L])}))}_getPoints(e,t){let i=t.points,s=e.get("locationX",t.locationX),a=e.get("locationY",t.locationY),o=t.xAxis.getDataItemPositionX(e,t.xField,s,t.vcx),n=t.yAxis.getDataItemPositionY(e,t.yField,a,t.vcy);if(this._shouldInclude(o)){const s=this.getPoint(o,n),a=[s.x,s.y];if(s.x+=this._x,s.y+=this._y,e.set("point",s),t.fillVisible){let i=o,s=n;if(t.baseAxis===t.xAxis?s=t.basePosY:t.baseAxis===t.yAxis&&(i=t.basePosX),t.getOpen){let a=e.get(t.xOpenField),o=e.get(t.yOpenField);if(null!=a&&null!=o){let a=e.get("openLocationX",t.openLocationX),o=e.get("openLocationY",t.openLocationY);if(t.stacked){let n=e.get("stackToItemX"),r=e.get("stackToItemY");n?(i=t.xAxis.getDataItemPositionX(n,t.xField,a,n.component.get("vcx")),(0,Theme.aA)(i)&&(i=t.basePosX)):i=t.yAxis===t.baseAxis?t.basePosX:t.xAxis.getDataItemPositionX(e,t.xOpenField,a,t.vcx),r?(s=t.yAxis.getDataItemPositionY(r,t.yField,o,r.component.get("vcy")),(0,Theme.aA)(s)&&(s=t.basePosY)):s=t.xAxis===t.baseAxis?t.basePosY:t.yAxis.getDataItemPositionY(e,t.yOpenField,o,t.vcy)}else i=t.xAxis.getDataItemPositionX(e,t.xOpenField,a,t.vcx),s=t.yAxis.getDataItemPositionY(e,t.yOpenField,o,t.vcy)}}let r=this.getPoint(i,s);a[2]=r.x,a[3]=r.y}if(t.minDistance>0){const e=a[0],s=a[1],o=a[2],n=a[3],r=this._previousPoint,l=r[0],h=r[1],d=r[2],c=r[3];(Math.hypot(e-l,s-h)>t.minDistance||o&&n&&Math.hypot(o-d,n-c)>t.minDistance)&&(i.push(a),this._previousPoint=a)}else i.push(a)}}_endLine(e,t){}_drawStroke(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",(e=>{(0,Theme.e)(t,(t=>{this._strokeGenerator.context(e),this._strokeGenerator(t)}))}))}_drawFill(e,t){e.get("visible")&&!e.get("forceHidden")&&e.set("draw",(e=>{(0,Theme.e)(t,(t=>{this._fillGenerator.context(e),this._fillGenerator(t)}))}))}_processAxisRange(e){super._processAxisRange(e),e.fills=new Theme.aD(Theme.aE.new({}),(()=>Theme.a7._new(this._root,{themeTags:(0,Theme.ak)(e.fills.template.get("themeTags",[]),["line","series","fill"])},[this.fills.template,e.fills.template]))),e.strokes=new Theme.aD(Theme.aE.new({}),(()=>Theme.a7._new(this._root,{themeTags:(0,Theme.ak)(e.strokes.template.get("themeTags",[]),["line","series","stroke"])},[this.strokes.template,e.strokes.template])))}createLegendMarker(e){const t=this.get("legendDataItem");if(t){const e=t.get("marker"),i=t.get("markerRectangle");i&&i.setPrivate("visible",!1),e.set("background",Theme.a5.new(e._root,{fillOpacity:0,fill:(0,Theme.a6)(0)}));const s=e.children.push(Theme.a7._new(e._root,{themeTags:["line","series","legend","marker","stroke"],interactive:!1},[this.strokes.template]));this._legendStroke=s;const a=e.children.push(Theme.a7._new(e._root,{themeTags:["line","series","legend","marker","fill"]},[this.fills.template]));this._legendFill=a;const o=this._root.interfaceColors.get("disabled");if(s.states.create("disabled",{fill:o,stroke:o}),a.states.create("disabled",{fill:o,stroke:o}),this.bullets.length>0){const t=this.bullets.getIndex(0);if(t){const i=t(e._root,this,new Tick.D(this,{legend:!0},{}));if(i){const t=i.get("sprite");t instanceof Theme.a7&&t.states.create("disabled",{fill:o,stroke:o}),t&&(t.set("tooltipText",void 0),t.set("tooltipHTML",void 0),e.children.push(t),t.setAll({x:e.width()/2,y:e.height()/2}))}}}}}}Object.defineProperty(xe,"className",{enumerable:!0,configurable:!0,writable:!0,value:"LineSeries"}),Object.defineProperty(xe,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:de.classNames.concat([xe.className])});

;// ../node_modules/@arcgis/core/widgets/Feature/FeatureMedia/xyChart.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class u extends de{constructor(){super(...arguments),Object.defineProperty(this,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0})}_makeGraphics(t,e){return this.makeColumn(e,t)}_makeFieldNames(){super._makeFieldNames();const t=this.get("xAxis"),e=this.get("yAxis"),i="CategoryAxis",s="ValueAxis";t.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),t.isType(s)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),e.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),e.isType(s)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}_prepareChildren(){super._prepareChildren();const t=this.get("xAxis"),e=this.get("yAxis"),i=this.dataItems.length,s=Math.max(0,this.startIndex()-2),a=Math.min(this.endIndex()+2,i-1);if(t.inited&&e.inited)for(let o=s;o<=a;o++){let t=this.dataItems[o];this._createGraphics(t)}}_updateChildren(){const t=this.chart;t&&(this._ph=t.plotContainer.height(),this._pw=t.plotContainer.width());const e=this.get("xAxis"),s=this.get("yAxis"),a=this.get("baseAxis"),o=this.columns.template;this.isDirty("fill")&&null==o.get("fill")&&o.set("fill",this.get("fill")),this.isDirty("stroke")&&null==o.get("stroke")&&o.set("stroke",this.get("stroke"));let n=0,r=0,h=0;(0,Theme.e)(a.series,(t=>{if(t instanceof u){const e=t.get("stacked");e&&0==h&&r++,!e&&t.get("clustered")&&r++}t===this&&(n=r-1),h++})),this.get("clustered")||(n=0,r=1),0===r&&(r=1,n=0);const l=e.get("renderer"),g=s.get("renderer"),d="cellStartLocation",c="cellEndLocation",m=l.get(d,0),p=l.get(c,1),x=g.get(d,0),_=g.get(c,1);if(this._aLocationX0=m+n/r*(p-m),this._aLocationX1=m+(n+1)/r*(p-m),this._aLocationY0=x+n/r*(_-x),this._aLocationY1=x+(n+1)/r*(_-x),e.inited&&s.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){const t=this.dataItems.length;let e=Math.max(0,this.startIndex()-2),i=Math.min(this.endIndex()+2,t-1);for(let a=0;a<e;a++)this._toggleColumn(this.dataItems[a],!1);let s=this.dataItems[e];for(let a=e;a<=i;a++){let t=this.dataItems[a];if(null!=t.get("valueX")&&null!=t.get("valueY")){if(s=t,a>0&&e>0)for(let t=a-1;t>=0;t--){let e=this.dataItems[t];if(null!=e.get("valueX")&&null!=e.get("valueY")){s=e;break}}break}this._toggleColumn(t,!1)}for(let a=e;a<=i;a++){let t=this.dataItems[a];this._updateGraphics(t,s),null!=t.get("valueX")&&null!=t.get("valueY")&&(s=t)}for(let a=i+1;a<t;a++)this._toggleColumn(this.dataItems[a],!1)}}else this._skipped=!0;this.updateLegendMarker(this.get("tooltipDataItem")),super._updateChildren()}_createGraphics(t){let e=t.get("graphics");if(!e){e=this._makeGraphics(this.columns,t),t.set("graphics",e),e._setDataItem(t);const i=t.get("legendDataItem");if(i){const t=i.get("markerRectangle");t&&t.setAll({fill:e.get("fill"),stroke:e.get("stroke")})}this.axisRanges.each((e=>{const i=e.container,s=t.get("rangeGraphics",[]);t.set("rangeGraphics",s);const a=this._makeGraphics(e.columns,t);s.push(a),a.setPrivate("list",e.columns),i.children.push(a)}))}}_updateGraphics(t,e){let a=t.get("graphics");const n=this._xField,r=this._yField,h=t.get(n),l=t.get(r);if(null!=h&&null!=l){const h=this._xOpenField,l=this._yOpenField,g=this.get("locationX",t.get("locationX",.5)),d=this.get("locationY",t.get("locationY",.5)),c=this.get("openLocationX",t.get("openLocationX",g)),m=this.get("openLocationY",t.get("openLocationY",d)),p=a.get("width"),u=a.get("height"),x=this.get("stacked"),_=this.get("xAxis"),I=this.get("yAxis"),f=this.get("baseAxis"),y=_.get("start"),P=_.get("end"),b=I.get("start"),v=I.get("end");let D,T,A,C,w=this.get("vcy",1),k=this.get("vcx",1),F=!1,M=!1;if(I.isType("CategoryAxis")&&_.isType("CategoryAxis")){let e=this._aLocationX0+c-.5,i=this._aLocationX1+g-.5;if(p instanceof Theme.Q){let t=(i-e)*(1-p.value)/2;e+=t,i-=t}if(D=_.getDataItemPositionX(t,h,e,k),T=_.getDataItemPositionX(t,n,i,k),e=this._aLocationY0+m-.5,i=this._aLocationY1+d-.5,u instanceof Theme.Q){let t=(i-e)*(1-u.value)/2;e+=t,i-=t}A=I.getDataItemPositionY(t,l,e,w),C=I.getDataItemPositionY(t,r,i,w),t.setRaw("point",{x:D+(T-D)/2,y:A+(C-A)/2})}else if(_===f){let e=this._aLocationX0+c-.5,i=this._aLocationX1+g-.5;if(p instanceof Theme.Q){let t=(i-e)*(1-p.value)/2;e+=t,i-=t}if(D=_.getDataItemPositionX(t,h,e,k),T=_.getDataItemPositionX(t,n,i,k),A=I.getDataItemPositionY(t,r,d,w),this._yOpenField!==this._yField)C=I.getDataItemPositionY(t,l,m,w);else if(x){let e=t.get("stackToItemY");C=e?I.getDataItemPositionY(e,r,m,e.component.get("vcy")):I.basePosition()}else C=I.basePosition();t.setRaw("point",{x:D+(T-D)/2,y:A}),M=!0}else if(I===f){let e=this._aLocationY0+m-.5,i=this._aLocationY1+d-.5;if(u instanceof Theme.Q){let t=(i-e)*(1-u.value)/2;e+=t,i-=t}if(A=I.getDataItemPositionY(t,l,e,w),C=I.getDataItemPositionY(t,r,i,w),T=_.getDataItemPositionX(t,n,g,k),this._xOpenField!==this._xField)D=_.getDataItemPositionX(t,h,c,k);else if(x){let e=t.get("stackToItemX");D=e?_.getDataItemPositionX(e,n,c,e.component.get("vcx")):_.basePosition()}else D=_.basePosition();F=!0,t.setRaw("point",{x:T,y:A+(C-A)/2})}this._updateSeriesGraphics(t,a,D,T,A,C,F,M),D<y&&T<y||D>P&&T>P||A<b&&C<=b||A>=v&&C>v||(0,Theme.aA)(D)||(0,Theme.aA)(A)?this._toggleColumn(t,!1):this._toggleColumn(t,!0);let X=t.get("rangeGraphics");X&&(0,Theme.e)(X,(e=>{this._updateSeriesGraphics(t,e,D,T,A,C,F,M)})),this._applyGraphicsStates(t,e)}}_updateSeriesGraphics(t,e,i,s,a,o,r,h){const l=e.get("width"),g=e.get("height"),d=e.get("maxWidth"),c=e.get("maxHeight"),m=this.getPoint(i,a),p=this.getPoint(s,o),u=t.get("point");if(u){const t=this.getPoint(u.x,u.y);u.x=t.x+this._x,u.y=t.y+this._y}if(i=m.x,s=p.x,a=m.y,o=p.y,(0,Theme.g)(l)){const t=(s-i-l)/2;i+=t,s-=t}if((0,Theme.g)(d)&&d<Math.abs(s-i)){const t=(s-i-d)/2;i+=t,s-=t}if((0,Theme.g)(g)){const t=(o-a-g)/2;a+=t,o-=t}if((0,Theme.g)(c)&&c<Math.abs(o-a)){const t=(o-a-c)/2;a+=t,o-=t}this.get("adjustBulletPosition")&&(r&&(s=Math.min(Math.max(0,s),this._pw),i=Math.min(Math.max(0,i),this._pw)),h&&(a=Math.min(Math.max(0,a),this._ph),o=Math.min(Math.max(0,o),this._ph))),t.setRaw("left",i),t.setRaw("right",s),t.setRaw("top",a),t.setRaw("bottom",o),e.setPrivate("width",s-i),e.setPrivate("height",o-a),e.set("x",i),e.set("y",o-(o-a))}_handleDataSetChange(){super._handleDataSetChange(),(0,Theme.e)(this._dataItems,(t=>{this._toggleColumn(t,!1)}))}_applyGraphicsStates(t,e){const i=t.get("graphics"),s=i.states.lookup("dropFromOpen"),a=i.states.lookup("riseFromOpen"),o=i.states.lookup("dropFromPrevious"),r=i.states.lookup("riseFromPrevious");if(s||o||a||r){const i=this.get("xAxis"),h=this.get("yAxis"),l=this.get("baseAxis");let g,d,c;l===i&&h.isType("ValueAxis")?(g=t.get(this._yOpenField),d=t.get(this._yField),c=e.get(this._yField)):l===h&&i.isType("ValueAxis")&&(g=t.get(this._xOpenField),d=t.get(this._xField),c=e.get(this._xField)),(0,Theme.g)(g)&&(0,Theme.g)(d)&&(d<g?s&&s.apply():a&&a.apply(),(0,Theme.g)(c)&&(d<c?o&&o.apply():r&&r.apply()))}}disposeDataItem(t){super.disposeDataItem(t);const e=t.get("graphics");e&&(this.columns.removeValue(e),e.dispose());const s=t.get("rangeGraphics");s&&(0,Theme.e)(s,(t=>{const e=t.getPrivate("list");e&&e.removeValue(t),t.dispose()}))}hideDataItem(t,e){const s=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return (0,tslib_es6.a)(this,void 0,void 0,(function*(){const a=[s.hideDataItem.call(this,t,e)],o=t.get("graphics");o&&a.push(o.hide(e));const n=t.get("rangeGraphics");n&&(0,Theme.e)(n,(t=>{a.push(t.hide(e))})),yield Promise.all(a)}))}_toggleColumn(t,e){const s=t.get("graphics");s&&s.setPrivate("visible",e);const a=t.get("rangeGraphics");a&&(0,Theme.e)(a,(t=>{t.setPrivate("visible",e)}));const o=t.bullets;o&&(0,Theme.e)(o,(t=>{t.setPrivate("hidden",!e)}))}showDataItem(t,e){const s=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return (0,tslib_es6.a)(this,void 0,void 0,(function*(){const a=[s.showDataItem.call(this,t,e)],o=t.get("graphics");o&&a.push(o.show(e));const n=t.get("rangeGraphics");n&&(0,Theme.e)(n,(t=>{a.push(t.show(e))})),yield Promise.all(a)}))}updateLegendMarker(t){let e=this.get("legendDataItem");if(this.get("useLastColorForLegendMarker")&&!t){const e=this.dataItems[this.endIndex()-1];e&&(t=e)}if(e){let s=this.columns.template;if(t){let e=t.get("graphics");e&&(s=e)}const a=e.get("markerRectangle");a&&(e.get("itemContainer").get("disabled")||(0,Theme.e)(Theme.aM,(t=>{a.set(t,s.get(t,this.get(t)))})))}}_getTooltipTarget(t){if("bullet"==this.get("seriesTooltipTarget"))return super._getTooltipTarget(t);let e=t.get("graphics");return e||this}}Object.defineProperty(u,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(u,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:de.classNames.concat([u.className])});class x extends ce{constructor(){super(...arguments),Object.defineProperty(this,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}})}_afterNew(){this._settings.themeTags=(0,Theme.ak)(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),super._afterNew()}_prepareChildren(){super._prepareChildren();const t=this.dataItems.length;let e=0;this._valuesDirty&&(this._itemMap={},(0,Theme.e)(this.dataItems,(t=>{t.setRaw("index",e),this._itemMap[t.get("category")]=t,e++})),this.setPrivateRaw("maxZoomFactor",t)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*t),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*t),t)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}_handleRangeChange(){(0,Theme.e)(this.series,(t=>{let e=this.dataItems[this.startIndex()].get("category"),s=this.dataItems[this.endIndex()-1].get("category"),a=t.get("baseAxis"),o=t.get("xAxis"),n=t.get("yAxis");if(o instanceof x&&n instanceof x)t._markDirtyAxes();else if(a===this){let r,h,l=n;if(o===a?(t.get("categoryXField")&&(r="categoryX"),t.get("openCategoryXField")&&(h="openCategoryX")):n===a&&(t.get("categoryYField")&&(r="categoryY"),t.get("openCategoryYField")&&(h="openCategoryY"),l=o),"ValueAxis"==l.className&&(r||h)){let a,o;for(let i=0,s=t.dataItems.length;i<s;i++){let s=t.dataItems[i];if(r&&s.get(r)===e){a=s;break}if(h&&s.get(h)===e){a=s;break}}for(let e=t.dataItems.length-1;e>=0;e--){let i=t.dataItems[e];if(r&&i.get(r)===s){o=i;break}if(h&&i.get(h)===s){o=i;break}}let n=0,l=t.dataItems.length;a&&(n=t.dataItems.indexOf(a)),o&&(l=t.dataItems.indexOf(o)+1),t.setPrivate("startIndex",n),t.setPrivate("endIndex",l);let g=!1;for(let e=n;e<l;e++){const s=t.dataItems[e];if((0,Theme.e)(t.__valueXShowFields,(t=>{null!=s.get(t)&&(g=!0)})),(0,Theme.e)(t.__valueYShowFields,(t=>{null!=s.get(t)&&(g=!0)})),g)break}t.setPrivate("outOfSelection",!g)}t._markDirtyAxes()}}))}_prepareAxisItems(){const t=this.get("renderer"),e=this.dataItems.length;let i=this.startIndex();i>0&&i--;let s=this.endIndex();s<e&&s++;let a=t.axisLength()/Math.max(t.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),o=Math.max(1,Math.min(e,Math.ceil((s-i)/a)));i=Math.floor(i/o)*o,this._frequency=o;for(let r=0;r<e;r++)this.dataItems[r].hide();let n=this.dataItems[i].get("index",0);for(let r=i;r<s;r+=o){let t=this.dataItems[r];this._createAssets(t,[]),t.isHidden()&&t.show(),this._prepareDataItem(t,n,o),n++}this._updateGhost()}_prepareDataItem(t,e,i){let s=this.get("renderer"),a=t.get("categoryLocation",0),o=t.get("endCategoryLocation",1),r=t.get("index");(0,Theme.g)(r)||(r=this.categoryToIndex(t.get("category")));let h,l=this.indexToPosition(r,a),g=t.get("endCategory");g?(h=this.categoryToIndex(g),(0,Theme.g)(h)||(h=r)):h=r;let d,c,m=this.indexToPosition(h,o);d=t.get("isRange")?h:r+this._frequency-1,c=this.indexToPosition(d,o),s.updateLabel(t.get("label"),l,m,i),s.updateGrid(t.get("grid"),l,m),s.updateTick(t.get("tick"),l,m,i),s.updateFill(t.get("axisFill"),l,c),this._processBullet(t),s.updateBullet(t.get("bullet"),l,m);const p=this.get("fillRule");p&&p(t,e)}startIndex(){let t=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),t-1)}endIndex(){let t=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",t),t))}baseValue(){}basePosition(){return 0}getX(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getY(t){let e=this._itemMap[t];return e?this._settings.renderer.positionToCoordinate(this.indexToPosition(e.get("index",0))):NaN}getDataItemPositionX(t,e,i,s){const a=t.get(e),o=this._itemMap[a];return o?this.indexToPosition(o.get("index",0),i):NaN}getDataItemCoordinateX(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(t,e,i,s))}getDataItemPositionY(t,e,i,s){const a=t.get(e),o=this._itemMap[a];return o?this.indexToPosition(o.get("index",0),i):NaN}getDataItemCoordinateY(t,e,i,s){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(t,e,i,s))}indexToPosition(t,e){(0,Theme.g)(e)||(e=.5);let i=this.dataItems.length,s=this.get("startLocation",0);i-=s,i-=1-this.get("endLocation",1);let a=(t+e-s)/i,o=this.dataItems[t];return o&&(a+=o.get("deltaPosition",0)),a}categoryToIndex(t){let e=this._itemMap[t];return e?e.get("index"):NaN}dataItemToPosition(t){return this.indexToPosition(t.get("index"))}roundAxisPosition(t,e){return t+=(.5-e)/this.dataItems.length,this.indexToPosition(this.axisPositionToIndex(t),e)}axisPositionToIndex(t){let e=this.dataItems.length;return (0,Theme.aj)(Math.floor(t*e),0,e-1)}getTooltipText(t,e){const i=this.dataItems[this.axisPositionToIndex(t)];if(i){const t=i.get("label");if(t)return (0,Theme.af)(t,this.get("tooltipText",""))}}_updateTooltipText(t,e){t._setDataItem(this.dataItems[this.axisPositionToIndex(e)]),t.label.text.markDirtyText()}getSeriesItem(t,e){if(this.dataItems.length>0){let i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),s=this.axisPositionToIndex(e),a=t.dataItems[s],o=this.dataItems[s],n=o.get("category");if(a&&o&&a.get(i)===n)return a;for(let e=0,r=t.dataItems.length;e<r;e++){let s=t.dataItems[e];if(s.get(i)===n)return s}}}zoomToIndexes(t,e,i){let s=this.dataItems.length;this.zoom(t/s,e/s,i)}zoomToCategories(t,e,i){this.zoomToIndexes(this.categoryToIndex(t),this.categoryToIndex(e)+1,i)}getCellWidthPosition(){return this._frequency/this.dataItems.length/(this.get("end",1)-this.get("start",0))}}Object.defineProperty(x,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(x,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ce.classNames.concat([x.className])});class _ extends u{constructor(){super(...arguments),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new Theme.aD(Theme.aE.new({}),(()=>Button.R._new(this._root,{position:"absolute",themeTags:(0,Theme.ak)(this.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template])))})}makeColumn(t,e){const i=this.mainContainer.children.push(e.make());return i._setDataItem(t),e.push(i),i}_processAxisRange(t){super._processAxisRange(t),t.columns=new Theme.aD(Theme.aE.new({}),(()=>Button.R._new(this._root,{position:"absolute",themeTags:(0,Theme.ak)(t.columns.template.get("themeTags",[]),["series","column"])},[this.columns.template,t.columns.template])))}}Object.defineProperty(_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:u.classNames.concat([_.className])});


/***/ })

};
;