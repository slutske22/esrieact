/*! For license information please see common.07494e2f.js.LICENSE.txt */
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2076],{28453:(t,e,i)=>{i.d(e,{R:()=>o,x:()=>a});var n=i(96540);const r={},s=n.createContext(r);function o(t){const e=n.useContext(s);return n.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:o(t.components),n.createElement(s.Provider,{value:e},t.children)}},50019:(t,e,i)=>{i.d(e,{A:()=>f});var n=i(66866),r=i(24793),s=i(21877),o=i(46437),a=i(21564),h=(i(73446),i(85569),i(39831),i(28902)),l=i(63863),u=i(55134);let c=class extends((0,r.O)(s.oY)){constructor(t){super(t),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,o.t)(this.value,this.unit,"milliseconds")}};(0,n._)([(0,h.e)(u.j,{nonNullable:!0})],c.prototype,"unit",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{write:!0},nonNullable:!0})],c.prototype,"value",void 0),c=(0,n._)([(0,l.$)("esri.TimeInterval")],c);const f=c},98918:(t,e,i)=>{i.d(e,{lY:()=>c,mT:()=>f});var n,r=i(96274),s=i(90709),o=i(34495);!function(t){t.TimeZoneNotRecognized="TimeZoneNotRecognized"}(n||(n={}));const a={[n.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class h extends Error{constructor(t,e){super((0,r.HC)(a[t],e)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,h)}}function l(t,e,i){return t<e?t-e:t>i?t-i:0}function u(t,e,i){return t<e?e:t>i?i:t}class c{constructor(t){this._date=t,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(t=0,e=1,i=1,n=0,r=0,s=0,a=0,h){if(isNaN(t)||isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(a))return null;const p=o.c9.local(t,e).daysInMonth;let d=o.c9.fromObject({day:u(i,1,p),year:t,month:u(e,1,12),hour:u(n,0,23),minute:u(r,0,59),second:u(s,0,59),millisecond:u(a,0,999)},{zone:f(h)});return d=d.plus({months:l(e,1,12),days:l(i,1,p),hours:l(n,0,23),minutes:l(r,0,59),seconds:l(s,0,59),milliseconds:l(a,0,999)}),new c(d)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(t,e){const i=f(e);return t.isUnknownTimeZone||i===s.GB.instance?c.fromParts(t.year,t.monthJS+1,t.day,t.hour,t.minute,t.second,t.millisecond,i):new c(t._date.setZone(i))}static dateJSToArcadeDate(t){return new c(o.c9.fromJSDate(t,{zone:"system"}))}static dateJSAndZoneToArcadeDate(t,e="system"){const i=f(e);return new c(o.c9.fromJSDate(t,{zone:i}))}static unknownEpochToArcadeDate(t){return new c(o.c9.fromMillis(t,{zone:s.GB.instance}))}static unknownDateJSToArcadeDate(t){return new c(o.c9.fromMillis(t.getTime(),{zone:s.GB.instance}))}static epochToArcadeDate(t,e="system"){const i=f(e);return new c(o.c9.fromMillis(t,{zone:i}))}static dateTimeToArcadeDate(t){return new c(t)}clone(){return new c(this._date)}changeTimeZone(t){const e=f(t);return c.dateTimeToArcadeDate(this._date.setZone(e))}static dateTimeAndZoneToArcadeDate(t,e){const i=f(e);return t.zone===s.GB.instance||i===s.GB.instance?c.fromParts(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond,i):new c(t.setZone(i))}static nowToArcadeDate(t){const e=f(t);return new c(o.c9.fromJSDate(new Date,{zone:e}))}static nowUTCToArcadeDate(){return new c(o.c9.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===c.systemTimeZoneCanonicalName}equals(t){return this.isSystem&&t.isSystem?this.toNumber()===t.toNumber():this.isUnknownTimeZone===t.isUnknownTimeZone&&this._date.equals(t._date)}get isUnknownTimeZone(){return this._date.zone===s.GB.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let t=this._date.weekday;return t>6&&(t=0),t}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const t=this.zone;return"fixed"===t.type?0===t.fixed?"UTC":t.formatOffset(0,"short"):t.name}stringify(){return JSON.stringify(this.toJSDate())}plus(t){return new c(this._date.plus(t))}diff(t,e="milliseconds"){return this._date.diff(t._date,e)[e]}toISODate(){return this._date.toISODate()}toISOString(t){return t?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(t,e){return this._date.toISOTime({suppressMilliseconds:t,includeOffset:e&&!this.isUnknownTimeZone})}toFormat(t,e){return this.isUnknownTimeZone&&(t=t.replaceAll("Z","")),this._date.toFormat(t,e)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new c(this._date.toUTC())}toLocal(){return new c(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(t){if(!t)return null;const e=o.c9.fromISO(t,{setZone:!0});return new c(e)}}function f(t,e=!0){if(t instanceof o.bo)return t;if("system"===t.toLowerCase())return"system";if("utc"===t.toLowerCase())return"UTC";if("unknown"===t.toLowerCase())return s.GB.instance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(t)){const e=o.mQ.parseSpecifier("UTC"+(t.startsWith("+")||t.startsWith("-")?"":"+")+t);if(e)return e}const i=o.oh.create(t);if(!i.isValid){if(e)throw new h(n.TimeZoneNotRecognized);return null}return i}},47303:(t,e,i)=>{i.d(e,{Fq:()=>h,SQ:()=>o,Yc:()=>s,Yq:()=>a,uf:()=>r});var n=i(84698);function r(t){if(null==t)return null;if("number"==typeof t)return t;let e=t.toLowerCase();switch(e=e.replaceAll(/\s/g,""),e=e.replaceAll("-",""),e){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109439;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function s(t){if(null==t)return null;switch(t.type){case"polygon":case"multipoint":case"polyline":return t.extent;case"point":return new n.A({xmin:t.x,ymin:t.y,xmax:t.x,ymax:t.y,spatialReference:t.spatialReference});case"extent":return t}return null}function o(t){if(null==t)return null;if("number"==typeof t)return t;let e=t.toLowerCase();switch(e=e.replaceAll(/\s/g,""),e=e.replaceAll("-",""),e){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9093;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function a(t){if(null==t)return null;const e=t.clone();return void 0!==t.cache._geVersion&&(e.cache._geVersion=t.cache._geVersion),e}function h(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}},30860:(t,e,i)=>{i.d(e,{b:()=>c,l:()=>o,o:()=>l});var n,r=i(42784),s={exports:{}};s.exports,void 0!==(n=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"])&&(s.exports=n);const o=(0,r.g)(s.exports);var a,h={exports:{}};a=h,function(){var t=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"];void 0!==t&&(a.exports=t)}();const l=(0,r.g)(h.exports);var u={exports:{}};!function(t){!function(){var e=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT","textureSize","texelFetch"];void 0!==e&&(t.exports=e)}()}(u);const c=(0,r.g)(u.exports)},16528:(t,e,i)=>{i.d(e,{e:()=>h});var n,r,s,o=i(42784),a={exports:{}};n=a,r=function(){function t(t,i,r){r=r||2;var s,o,a,l,u,c,f,p=i&&i.length,d=p?i[0]*r:t.length,v=e(t,0,d,r,!0),g=[];if(!v||v.next===v.prev)return g;if(p&&(v=h(t,i,v,r)),t.length>80*r){s=a=t[0],o=l=t[1];for(var y=r;y<d;y+=r)(u=t[y])<s&&(s=u),(c=t[y+1])<o&&(o=c),u>a&&(a=u),c>l&&(l=c);f=0!==(f=Math.max(a-s,l-o))?1/f:0}return n(v,g,r,s,o,f),g}function e(t,e,i,n,r){var s,o;if(r===I(t,e,i,n)>0)for(s=e;s<i;s+=n)o=A(s,t[s],t[s+1],o);else for(s=i-n;s>=e;s-=n)o=A(s,t[s],t[s+1],o);if(o&&_(o,o.next)){var a=o.next;E(o),o=a}return o}function i(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!_(n,n.next)&&0!==m(n.prev,n,n.next))n=n.next;else{var r=n.prev;if(E(n),(n=e=r)===n.next)break;i=!0}}while(i||n!==e);return e}function n(t,e,h,l,u,c,f){if(t){!f&&c&&p(t,l,u,c);for(var d,v,g=t;t.prev!==t.next;)if(d=t.prev,v=t.next,c?s(t,l,u,c):r(t))e.push(d.i/h),e.push(t.i/h),e.push(v.i/h),E(t),t=v.next,g=v.next;else if((t=v)===g){f?1===f?n(t=o(i(t),e,h),e,h,l,u,c,2):2===f&&a(t,e,h,l,u,c):n(i(t),e,h,l,u,c,1);break}}}function r(t){var e=t.prev,i=t,n=t.next;if(m(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(g(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&m(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function s(t,e,i,n){var r=t.prev,s=t,o=t.next;if(m(r,s,o)>=0)return!1;for(var a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,h=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,l=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,c=d(a,h,e,i,n),f=d(l,u,e,i,n),p=t.prevZ,v=t.nextZ;p&&p.z>=c&&v&&v.z<=f;){if(p!==t.prev&&p!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&m(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=c;){if(p!==t.prev&&p!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&m(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&g(r.x,r.y,s.x,s.y,o.x,o.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function o(t,e,n){var r=t;do{var s=r.prev,o=r.next.next;!_(s,o)&&b(s,r,r.next,o)&&S(s,o)&&S(o,s)&&(e.push(s.i/n),e.push(r.i/n),e.push(o.i/n),E(r),E(r.next),r=t=o),r=r.next}while(r!==t);return i(r)}function a(t,e,r,s,o,a){var h=t;do{for(var l=h.next.next;l!==h.prev;){if(h.i!==l.i&&y(h,l)){var u=T(h,l);return h=i(h,h.next),u=i(u,u.next),n(h,e,r,s,o,a),void n(u,e,r,s,o,a)}l=l.next}h=h.next}while(h!==t)}function h(t,n,r,s){var o,a,h,u=[];for(o=0,a=n.length;o<a;o++)(h=e(t,n[o]*s,o<a-1?n[o+1]*s:t.length,s,!1))===h.next&&(h.steiner=!0),u.push(v(h));for(u.sort(l),o=0;o<u.length;o++)r=i(r=c(u[o],r),r.next);return r}function l(t,e){return t.x-e.x}function u(t){if(t.next.prev===t)return t;let e=t;for(;;){const i=e.next;if(i.prev===e||i===e||i===t)break;e=i}return e}function c(t,e){var n=function(t,e){var i,n=e,r=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>o){if(o=a,a===r){if(s===n.y)return n;if(s===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===o)return i;var h,l=i,u=i.x,c=i.y,p=1/0;n=i;do{r>=n.x&&n.x>=u&&r!==n.x&&g(s<c?r:o,s,u,c,s<c?o:r,s,n.x,n.y)&&(h=Math.abs(s-n.y)/(r-n.x),S(n,t)&&(h<p||h===p&&(n.x>i.x||n.x===i.x&&f(i,n)))&&(i=n,p=h)),n=n.next}while(n!==l);return i}(t,e);if(!n)return e;var r=T(n,t),s=i(n,n.next);let o=u(r);return i(o,o.next),s=u(s),u(e===n?s:e)}function f(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function p(t,e,i,n){var r=t;do{null===r.z&&(r.z=d(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,s,o,a,h,l=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(h=l;a>0||h>0&&n;)0!==a&&(0===h||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,h--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,l*=2}while(o>1)}(r)}function d(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function g(t,e,i,n,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(r-o)*(n-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&b(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(S(t,e)&&S(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||_(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,i,n){var r=x(m(t,e,i)),s=x(m(t,e,n)),o=x(m(i,n,t)),a=x(m(i,n,e));return r!==s&&o!==a||!(0!==r||!w(t,i,e))||!(0!==s||!w(t,n,e))||!(0!==o||!w(i,t,n))||!(0!==a||!w(i,e,n))}function w(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function x(t){return t>0?1:t<0?-1:0}function S(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function T(t,e){var i=new M(t.i,t.x,t.y),n=new M(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function A(t,e,i,n){var r=new M(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function I(t,e,i,n){for(var r=0,s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}return t.deviation=function(t,e,i,n){var r=e&&e.length,s=r?e[0]*i:t.length,o=Math.abs(I(t,0,s,i));if(r)for(var a=0,h=e.length;a<h;a++){var l=e[a]*i,u=a<h-1?e[a+1]*i:t.length;o-=Math.abs(I(t,l,u,i))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,p=n[a+1]*i,d=n[a+2]*i;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},t.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[r][s][o]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i},t},void 0!==(s=r())&&(n.exports=s);const h=(0,o.g)(a.exports)},40835:(t,e,i)=>{i.r(e),i.d(e,{G:()=>o,g:()=>a});var n=i(42784);var r={exports:{}};!function(t){var e=function(){function t(t){if("number"==typeof t)return J.Tc.Zg(t);if(null==t)return null;if(null!=st[t])return J.Tc.Zg(st[t]);throw Error("Unrecognised Unit Type")}function e(t){if("number"==typeof t)return J.Tc.Zg(t);if(null==t)return null;if(null!=ot[t])return J.Tc.Zg(ot[t]);throw Error("Unrecognised Unit Type")}function i(t){if(t)switch(t){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function n(t,e,i,n){if(null==i||i.B())return null;switch(i.getType()){case J.qn.Point:return t.exportPoint(e,i,n);case J.qn.Polygon:return t.exportPolygon(e,i,n);case J.qn.Polyline:return t.exportPolyline(e,i,n);case J.qn.MultiPoint:return t.exportMultipoint(e,i,n);case J.qn.Envelope:return t.exportExtent(e,i,n)}return null}function r(t,e,i,n){if(i.getType()!==J.qn.Point)throw Error("Geometry not Point");return t.exportPoint(e,i,n)}function s(t,e,i){return t.convertToGEGeometry(e,i)}function o(t){var e=t.wkid;t=t.wkt2||t.wkt;var i=at.get(e||t);return null==i&&(-1!==e&&null!=e?(i=J.Eg.create(e),at.set(e,i)):t&&(i=J.Eg.qP(t),at.set(t,i)),lt.has(e||t)&&i.VW(lt.get(e||t))),i}function a(t){var e,i,n;if(null==t)return null;var r=o(t);return t=r.Hd(),r=r.Kn(),(e={}).tolerance=r,e.unitType=null==t?-1:t.od,e.unitID=null==t?-1:t.Ec(),e.unitBaseFactor=null==t?0:t.ai,e.unitSquareDerivative=null==t?0:null!==(n=null===(i=J.Tc.aG(t))||void 0===i?void 0:i.Ec())&&void 0!==n?n:0,e}function h(t,e,i,r){return null==i?null:(i=J.$b.clip(s(t,ht,i),s(t,ht,r),o(e)),n(t,ht,i,e))}function l(t,e,i,r){i=J.$b.dl(s(t,ht,i),s(t,ht,r),o(e)),r=[];for(var a=0;a<i.length;a++)r.push(n(t,ht,i[a],e));return r}function u(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return J.$b.contains(s(t,ht,i),s(t,ht,n),o(e))}function c(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return J.$b.BP(s(t,ht,i),s(t,ht,n),o(e))}function f(e,i,n,r,a){if(null==n||null==r)throw Error("Illegal Argument Exception");return J.$b.tb(s(e,ht,n),s(e,ht,r),o(i),t(a))}function p(t,e,i,n){return!(null==i&&null!=n||null==n&&null!=i)&&J.$b.Nb(s(t,ht,i),s(t,ht,n),o(e))}function d(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return J.$b.TS(s(t,ht,i),s(t,ht,n),o(e))}function v(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return J.$b.touches(s(t,ht,i),s(t,ht,n),o(e))}function g(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return J.$b.qY(s(t,ht,i),s(t,ht,n),o(e))}function y(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return J.$b.TP(s(t,ht,i),s(t,ht,n),o(e))}function m(t,e,i,n){if(null==i||null==n)throw Error("Illegal Argument Exception");return J.$b.DU(s(t,ht,i),s(t,ht,n),o(e))}function _(t,e,i,n,r){if(null==i||null==n)throw Error("Illegal Argument Exception");return J.$b.yB(s(t,ht,i),s(t,ht,n),o(e),r)}function b(t,e,i){if(null==i)throw Error("Illegal Argument Exception");return J.$b.dT(s(t,ht,i),o(e))}function w(t,e,i){if(null==i)throw Error("Illegal Argument Exception");return i=J.$b.eC(s(t,ht,i),o(e)),n(t,ht,i,e)}function x(t,e,i,r){if(void 0===r&&(r=!1),null==i)throw Error("Illegal Argument Exception");if(Array.isArray(i)){var a=r,h=[];for(r=0;r<i.length;r++)h.push(s(t,ht,i[r]));for(i=J.$b.jP(h,a),a=Array(i.length),r=0;r<i.length;r++)a[r]=n(t,ht,i[r],e);return a}return r=J.$b.iP(s(t,ht,i),o(e)),n(t,ht,r,e)}function S(t,e,i,r){if(null==i||null==r)throw Error("Illegal Argument Exception");if(Array.isArray(i)){for(var a=[],h=0;h<i.length;h++)a.push(s(t,ht,i[h]));for(i=J.$b.QP(a,s(t,ht,r),o(e)),r=Array(i.length),h=0;h<i.length;h++)r[h]=n(t,ht,i[h],e);return r}return h=J.$b.im(s(t,ht,i),s(t,ht,r),o(e)),n(t,ht,h,e)}function T(t,e,i,r){if(null==i||null==r)throw Error("Illegal Argument Exception");if(Array.isArray(i)){for(var a=[],h=0;h<i.length;h++)a.push(s(t,ht,i[h]));for(i=J.$b.VX(a,s(t,ht,r),o(e)),r=Array(i.length),h=0;h<i.length;h++)r[h]=n(t,ht,i[h],e);return r}return h=J.$b.ep(s(t,ht,i),s(t,ht,r),o(e)),n(t,ht,h,e)}function A(t,e,i,r){if(null==i||null==r)throw Error("Illegal Argument Exception");if(Array.isArray(i)){for(var a=[],h=0;h<i.length;h++)a.push(s(t,ht,i[h]));for(i=J.$b.RS(a,s(t,ht,r),o(e)),r=Array(i.length),h=0;h<i.length;h++)r[h]=n(t,ht,i[h],e);return r}return h=J.$b.Ea(s(t,ht,i),s(t,ht,r),o(e)),n(t,ht,h,e)}function E(t,e,i,r){if(null==i)return null;var a=[];if(Array.isArray(i)){if(0===i.length)return null;for(r=0;r<i.length;r++)a.push(s(t,ht,i[r]))}else a.push(s(t,ht,i)),null!=r&&a.push(s(t,ht,r));return n(t,ht,J.$b.jY(a,o(e)),e)}function M(e,i,r,a,h,l,u,c){var f=0;if(null!=l)switch(l){case"round":f=0;break;case"bevel":f=1;break;case"miter":f=2;break;case"square":f=3}if(Array.isArray(r)){if(null==r)e=null;else if(0===r.length)e=[];else{var p=[];for(l=0;l<r.length;l++)p.push(s(e,ht,r[l]));for(r=J.$b.BU(p,o(i),a,f,u,c,t(h)),a=Array(r.length),l=0;l<r.length;l++)a[l]=n(e,ht,r[l],i);e=a}return e}return r=J.$b.offset(s(e,ht,r),o(i),a,f,u,c,t(h)),n(e,ht,r,i)}function I(e,i,r,a,h,l){if(void 0===l&&(l=!1),Array.isArray(r)){if(!Array.isArray(a)){for(var u=[],c=0;c<r.length;c++)u.push(a);a=u}if(a.length!=r.length){if(0==a.length)throw Error("Illegal Argument Exception");u=[];var f=0;for(c=0;c<r.length;c++)void 0===a[c]?u.push(f):(u.push(a[c]),f=a[c]);a=u}return R(e,i,r,a,h,!1,l,"geodesic",NaN)}return r=J.$b.buffer(s(e,ht,r),o(i),a,t(h),!1,0,NaN),n(e,ht,r,i)}function C(e,r,a,h,l,u,c,f){if(Array.isArray(a)){if(!Array.isArray(h)){for(var p=[],d=0;d<a.length;d++)p.push(h);h=p}if(h.length!==a.length){if(0===h.length)throw Error("Illegal Argument Exception");p=[];var v=0;for(d=0;d<a.length;d++)void 0===h[d]?p.push(v):(p.push(h[d]),v=h[d]);h=p}return R(e,r,a,h,l,!0,u,c,f)}return void 0===c&&(c=NaN),a=J.$b.buffer(s(e,ht,a),o(r),h,t(l),!0,i(u),c),n(e,ht,a,r)}function R(e,r,a,h,l,u,c,f,p){if(void 0===p&&(p=NaN),null==a)return null;if(0===a.length)return[];for(var d=[],v=0;v<a.length;v++)d.push(s(e,ht,a[v]));for(a=J.$b.MN(d,o(r),h,t(l),u,c,i(f),p),h=Array(a.length),v=0;v<a.length;v++)h[v]=n(e,ht,a[v],r);return h}function N(t,e,i,n,o){var a;return void 0===o&&(o=!0),i=J.$b.nz(s(t,ht,i),s(t,ht,n),o),(a={}).coordinate=r(t,ht,i.fz(),e),a.distance=i.hz(),a.isRightSide=i.Sz(),a.vertexIndex=i.Ua(),a.isEmpty=i.B(),a}function O(t,e,i,n){var o;return i=J.$b.oz(s(t,ht,i),s(t,ht,n)),(o={}).coordinate=r(t,ht,i.fz(),e),o.distance=i.hz(),o.isRightSide=i.Sz(),o.vertexIndex=i.Ua(),o.isEmpty=i.B(),o}function D(t,e,i,n,o,a){var h;for(i=J.$b.pz(s(t,ht,i),s(t,ht,n),o,a),n=[],o=0;o<i.length;o++)!1===i[o].B()&&n.push(((h={}).coordinate=r(t,ht,i[o].fz(),e),h.distance=i[o].hz(),h.isRightSide=i[o].Sz(),h.vertexIndex=i[o].Ua(),h.isEmpty=i[o].B(),h));return n}function L(e,i,r,a,h,l){return r=J.$b.QQ(s(e,ht,r),o(i),a,h,t(l)),n(e,ht,r,i)}function P(e,i,r,a,h){return r=J.$b.Qr(s(e,ht,r),o(i),a,t(h)),n(e,ht,r,i)}function z(e,i,r,a,h,l){return void 0===l&&(l=0),r=J.$b.Wy(s(e,ht,r),o(i),a,t(h),l),n(e,ht,r,i)}function F(t,i,n,r){if(null==n)throw Error("Illegal Argument Exception");return J.$b.JU(s(t,ht,n),o(i),e(r))}function j(e,i,n,r){if(null==n)throw Error("Illegal Argument Exception");return J.$b.KU(s(e,ht,n),o(i),t(r))}function V(t,n,r,a,h){if(null==r)throw Error("Illegal Argument Exception");return J.$b.WQ(s(t,ht,r),o(n),e(a),i(h))}function B(e,n,r,a,h){if(null==r)throw Error("Illegal Argument Exception");return J.$b.ZQ(s(e,ht,r),o(n),t(a),i(h))}function U(t){J.NL.bind(t)}function k(t,e,i,n,r){var a=null,h=null;if(n){if(!r)throw J.i.N("AOI missing Spatial Reference");a=s(t,ht,n),h=o(r).fh()}return null!==(t=J.gu.XR(o(e).fh(),o(i).fh(),a,h))?t:null}function G(t,e,i,n,r){var a=null,h=null;if(n){if(!r)throw J.i.N("AOI missing Spatial Reference");a=s(t,ht,n),h=o(r).fh()}return J.gu.YR(o(e).fh(),o(i).fh(),a,h)}function H(t,e,i,n,r,s){if(void 0===r&&(r=null),void 0===s&&(s=null),s){var a=new J.yC;a.Vu=s.densificationStep,a.Jr=s.centralMeridianOfOutputGCS,s.clipWithInputHorizon&&a.PW(s.clipWithInputHorizon),s.clipWithOutputHorizon&&a.QW(s.clipWithOutputHorizon)}if(!1===this.KY)throw Error("Projection Engine must be enabled using enableProjection");if(0===e.length)return[];if(r){if(!(s=r.getCachedGeTransformation(i,n)))t:{if(s=r,r=null,s){var h=s.getGTListEntry();if(null!==h){r=new J.wC(null);for(var l=0,u=h.steps;l<u.length;l++){h=u[l];var c=new J.Dx(h.geogtran);h.isInverse&&c.Qz(),r.add(c)}a=J.vr.Nr(o(i).fh(),o(n).fh(),r,a),s.assignCachedGe(i,n,a),s=a;break t}}if(null===r&&s&&s.steps&&0<s.steps.length){for(r=new J.wC(null),l=0,u=s.steps;l<u.length;l++)-1!=(h=u[l]).wkid&&null!=h.wkid?r.add(J.Dx.create(h.wkid,h.isInverse)):r.add(J.Dx.uP(h.wkt,h.isInverse));a=J.vr.Nr(o(i).fh(),o(n).fh(),r,a),s.assignCachedGe(i,n,a),s=a}else s=J.vr.Nr(o(i).fh(),o(n).fh(),r,a)}for(i=[],r=0;r<e.length;r++)a=e[r],i.push(q(t,a,n,s))}else for(s=J.vr.Nr(o(i).fh(),o(n).fh(),null),i=[],r=0;r<e.length;r++)a=e[r],i.push(q(t,a,n,s));return i}function q(t,e,i,r){return e=J.$b.zh(s(t,ht,e),r),n(t,ht,e,i)}function Z(t,e){null!=t&&(t=t.wkid||t.wkt2||t.wkt,lt.has(t),lt.set(t,e),at.has(t)&&at.delete(t))}function W(t){null!=t&&(t=t.wkid||t.wkt2||t.wkt,lt.has(t)&&(lt.delete(t),at.has(t)&&at.delete(t)))}function Y(t,e,i,r){if(null==i||null==r)return[];var a=[],h=0;for(i=J.$b.QS(s(t,ht,i),s(t,ht,r),o(e))||[];h<i.length;h++)a.push(n(t,ht,i[h],e));return a}var K,J,$,X,Q=this&&this.__extends||function(){function t(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)}return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){var e;(e=t.qn||(t.qn={}))[e.Unknown=0]="Unknown",e[e.Point=33]="Point",e[e.Line=322]="Line",e[e.Envelope=197]="Envelope",e[e.MultiPoint=550]="MultiPoint",e[e.Polyline=1607]="Polyline",e[e.Polygon=1736]="Polygon",function(t){t[t.enumMild=0]="enumMild",t[t.enumMedium=1]="enumMedium",t[t.enumHot=2]="enumHot"}(t.YK||(t.YK={}));var i=function(){function e(){this.description=null,this.VA=0}return e.prototype.getType=function(){return 0},e.prototype.Db=function(){return-1},e.prototype.Nf=function(t){this.vc(),t!=this.description&&this.sn(t)},e.prototype.sn=function(){},e.prototype.Jl=function(e){this.vc(),e!=this.description&&(e=t.ee.CR(this.description,e))!=this.description&&this.sn(e)},e.prototype.hasAttribute=function(t){return this.description.hasAttribute(t)},e.prototype.re=function(e){this.vc(),this.description.hasAttribute(e)||(e=t.ee.BR(this.description,e),this.sn(e))},e.prototype.Tg=function(){return null},e.prototype.bn=function(){},e.prototype.A=function(){},e.prototype.Qo=function(){},e.prototype.xc=function(t){this.A(t)},e.prototype.B=function(){return!0},e.prototype.Oa=function(){},e.prototype.Oc=function(){},e.prototype.Ia=function(){return null},e.prototype.copyTo=function(){},e.prototype.Ke=function(){return 0},e.prototype.Qb=function(){return 0},e.prototype.iG=function(){return this.hasAttribute(1)},e.tf=function(t){return 1+((192&t)>>6)>>1},e.Rn=function(t){return!!(32&t)},e.US=function(t){return!!(128&t)},e.yd=function(t){return!!(256&t)},e.xj=function(t){return!!(512&t)},e.Hc=function(t){return!!(1024&t)},e.prototype.Of=function(){var t=this.Ia();return this.copyTo(t),t},e.prototype.mg=function(){return null},e.jg=function(t){var e=t.Ia();return t.copyTo(e),e},e.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},e.Ax=function(i){var n=i.getType();if(e.xj(n))return i.I();if(i.B())return 0;if(197==n)return 4;if(33==n)return 1;if(e.yd(n))return 2;throw t.i.fa("missing type")},e}();t.aa=i}(J||(J={})),$=J||(J={}),X=function(){function t(){this.y=this.x=0}return t.construct=function(e,i){var n=new t;return n.x=e,n.y=i,n},t.al=function(e){var i=new t;return i.x=e.x,i.y=e.y,i},t.prototype.ma=function(t,e){this.x=t,this.y=e},t.prototype.L=function(t){this.x=t.x,this.y=t.y},t.prototype.fq=function(t,e){return this.x===t&&this.y===e},t.prototype.Rz=function(t){return 2220446049250313e-31>=Math.abs(this.x-t.x)&&2220446049250313e-31>=Math.abs(this.y-t.y)},t.prototype.qb=function(t){return this.x===t.x&&this.y===t.y},t.prototype.Nb=function(e){return e==this||e instanceof t&&this.x==e.x&&this.y==e.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.uc=function(t,e){this.x=t.x-e.x,this.y=t.y-e.y},t.prototype.add=function(t,e){void 0!==e?(this.x=t.x+e.x,this.y=t.y+e.y):(this.x+=t.x,this.y+=t.y)},t.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},t.prototype.mt=function(t){this.x=-t.x,this.y=-t.y},t.prototype.NS=function(t,e,i){this.x=t.x*(1-i)+e.x*i,this.y=t.y*(1-i)+e.y*i},t.prototype.Ct=function(t,e){this.x=this.x*t+e.x,this.y=this.y*t+e.y},t.prototype.HW=function(t,e,i){this.x=e.x*t+i.x,this.y=e.y*t+i.y},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.compare=function(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:this.x>t.x?1:0},t.prototype.normalize=function(){var t=this.length();0==t&&(this.x=1,this.y=0),this.x/=t,this.y/=t},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.Sk=function(){return this.x*this.x+this.y*this.y},t.tb=function(t,e){return Math.sqrt(this.yc(t,e))},t.Oy=function(t,e,i,n){return t-=i,e-=n,Math.sqrt(t*t+e*e)},t.prototype.Qh=function(t){return this.x*t.x+this.y*t.y},t.prototype.fD=function(t){return Math.abs(this.x*t.x)+Math.abs(this.y*t.y)},t.prototype.wi=function(t){return this.x*t.y-this.y*t.x},t.prototype.Bt=function(t,e){var i=-this.x*e+this.y*t;this.x=this.x*t+this.y*e,this.y=i},t.prototype.Hv=function(){var t=this.x;this.x=-this.y,this.y=t},t.prototype.MG=function(t){this.x=-t.y,this.y=t.x},t.prototype.ar=function(){var t=this.x;this.x=this.y,this.y=-t},t.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3},t.nu=function(t,e){var i=t.qu(),n=e.qu();return n==i?0>(t=t.wi(e))?1:0<t?-1:0:i<n?-1:1},t.yc=function(t,e){var i=t.x-e.x;return i*i+(t=t.y-e.y)*t},t.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},t.prototype.Rc=function(){this.y=this.x=NaN},t.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},t.prototype.offset=function(e,i){var n=t.tb(e,i),r=t.construct(this.x,this.y);if(0==n)return t.tb(r,e);var s=new t;return s.L(i),s.sub(e),r.sub(e),r.wi(s)/n},t.Uq=function(t,e,i){var n=new $.Wb;n.set(e.x),n.sub(t.x);var r=new $.Wb;r.set(i.y),r.sub(t.y);var s=new $.Wb;s.set(e.y),s.sub(t.y);var o=new $.Wb;return o.set(i.x),o.sub(t.x),n.Ag(r),s.Ag(o),n.sub(s),n.ps()?(n=new $.hp(e.x),r=new $.hp(t.x),s=new $.hp(t.y),n=n.jt(r),t=(t=new $.hp(i.y)).jt(s),e=(e=new $.hp(e.y)).jt(s),i=(i=new $.hp(i.x)).jt(r),n=n.lr(t),e=e.lr(i),(n=n.lr(e)).nT()?-1:n.fS()?1:0):0>(i=n.value())?-1:0<i?1:0},t.prototype.cc=function(){return $.O.uj($.O.uj())},t}(),$.h=X,function(t){var e=function(){function t(t){this.Fy=this.Mt=0,this.OX=t}return t.prototype.reset=function(){this.Fy=this.Mt=0},t.prototype.add=function(t){t-=this.Fy;var e=this.Mt+t;this.Fy=e-this.Mt-t,this.Mt=e},t.prototype.sub=function(t){this.add(-t)},t.prototype.rm=function(){return this.OX+this.Mt},t}();t.Fx=e,t.lc=function(){function t(){}return t.Cn=function(t,e){return 0<=e?Math.abs(t):-Math.abs(t)},t.sign=function(t){return 0>t?-1:0<t?1:0},t.RK=function(t){return t-360*Math.floor(t/360)},t.round=function(t){return Math.floor(t+.5)},t.ox=function(t){return t*t},t.hq=function(t,e,i){return.5>=i?t+(e-t)*i:e-(e-t)*(1-i)},t.OG=function(t,e,i,n){.5>=i?(n.x=t.x+(e.x-t.x)*i,n.y=t.y+(e.y-t.y)*i):(n.x=e.x-(e.x-t.x)*(1-i),n.y=e.y-(e.y-t.y)*(1-i))},t.lT=function(t,e,i,n,r,s){.5>=r?(s.x=t+(i-t)*r,s.y=e+(n-e)*r):(s.x=i-(i-t)*(1-r),s.y=n-(n-e)*(1-r))},t}()}(J||(J={})),function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.sa=0,t.na=0,t.pa=0,t.la=0,t.ka=null,t}return Q(i,e),i.prototype.ac=function(){return t.h.construct(this.sa,this.na)},i.prototype.Yp=function(t){t.x=this.sa,t.y=this.na},i.prototype.Dc=function(t){this.em(0,t)},i.prototype.ZB=function(e,i){this.em(0,t.h.construct(e,i))},i.prototype.To=function(t){this.hD(0,t)},i.prototype.setStart=function(t){this.uD(0,t)},i.prototype.wv=function(t,e){return this.Od(0,t,e)},i.prototype.YB=function(t,e,i){this.tn(0,t,e,i)},i.prototype.wc=function(){return t.h.construct(this.pa,this.la)},i.prototype.Tr=function(t){t.x=this.pa,t.y=this.la},i.prototype.Qc=function(t){this.em(1,t)},i.prototype.Ql=function(e,i){this.em(1,t.h.construct(e,i))},i.prototype.Po=function(t){this.hD(1,t)},i.prototype.setEnd=function(t){this.uD(1,t)},i.prototype.gv=function(t,e){return this.Od(1,t,e)},i.prototype.OB=function(t,e,i){this.tn(1,t,e,i)},i.prototype.Db=function(){return 1},i.prototype.B=function(){return this.Ac()},i.prototype.Oa=function(){},i.prototype.Ke=function(){return 0},i.prototype.Ea=function(t,e,i,n,r){return this.KM(t,e,i,n,r)},i.prototype.isIntersecting=function(t,e){return 0!=this.zr(t,e,!1)},i.prototype.qs=function(t,e){return this.ru(t,e,!1)},i.prototype.ru=function(){return null},i.prototype.Ac=function(){return!1},i.prototype.ay=function(e){if(this.vc(),null==this.ka&&0<e)this.ka=t.O.lg(2*e);else if(null!=this.ka&&this.ka.length<2*e){for(var i=this.ka.slice(0),n=this.ka.length;n<2*e;n++)i[n]=0;this.ka=i}},i.gM=function(t,e,i){if(0<i)var n=0;for(var r=0;r<i;r++)e[0+n]=t[0],n++},i.prototype.em=function(t,e){0!=t?(this.pa=e.x,this.la=e.y):(this.sa=e.x,this.na=e.y)},i.prototype.sn=function(e){if(null!=this.ka){for(var n=t.ee.Iw(e,this.description),r=[],s=i.Gg(this.description,0),o=i.Gg(this.description,1),a=i.Gg(e,0),h=i.Gg(e,1),l=0,u=1,c=e.Aa;u<c;u++){var f=e.kd(u),p=t.ra.Va(f);if(-1==n[u]){var d=t.ra.se(f);for(f=0;f<p;f++)r[a+l]=d,r[h+l]=d,l++}else for(d=this.description.$j(n[u])-2,f=0;f<p;f++)r[a+l]=this.ka[s+d],r[h+l]=this.ka[o+d],l++,d++}this.ka=r}this.description=e},i.prototype.hD=function(e,i){if(this.Ac())throw t.i.fa("empty geometry");i.Nf(this.description),i.Ac()&&i.un();for(var n=0;n<this.description.Aa;n++)for(var r=this.description.Ed(n),s=0,o=t.ra.Va(r);s<o;s++){var a=this.Od(e,r,s);i.setAttribute(r,s,a)}},i.prototype.uD=function(e,i){if(this.vc(),i.Ac())throw t.i.fa("empty geometry");for(var n=i.description,r=0,s=n.Aa;r<s;r++)for(var o=n.Ed(r),a=t.ra.Va(o),h=0;h<a;h++){var l=i.Uc(o,h);this.tn(e,o,h,l)}},i.prototype.Od=function(e,n,r){if(this.Ac())throw t.i.fa("This operation was performed on an Empty Geometry.");if(0==n)return 0!=e?0!=r?this.la:this.pa:0!=r?this.na:this.sa;if(r>=t.ra.Va(n))throw t.i.ce();var s=this.description.Pf(n);return 0<=s?(null!=this.ka&&this.ay(this.description.Ae.length-2),this.ka[i.Gg(this.description,e)+this.description.$j(s)-2+r]):t.ra.se(n)},i.prototype.tn=function(e,n,r,s){if(this.vc(),r>=t.ra.Va(n))throw t.i.ce();var o=this.description.Pf(n);0>o&&(this.re(n),o=this.description.Pf(n)),0==n?0!=e?0!=r?this.la=s:this.pa=s:0!=r?this.na=s:this.sa=s:(null==this.ka&&this.ay(this.description.Ae.length-2),this.ka[i.Gg(this.description,e)+this.description.$j(o)-2+r]=s)},i.prototype.copyTo=function(e){if(e.getType()!=this.getType())throw t.i.N();e.description=this.description,e.ay(this.description.Ae.length-2),i.gM(this.ka,e.ka,2*(this.description.Ae.length-2)),e.sa=this.sa,e.na=this.na,e.pa=this.pa,e.la=this.la,e.vc(),this.op(e)},i.prototype.Tg=function(e,i){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(n.oa=this.Od(0,e,i),n.va=n.oa,n.Lk(this.Od(1,e,i)),n)},i.prototype.ZI=function(t){this.Ac()?t.Oa():(t.oa=this.Od(0,0,0),t.va=t.oa,t.Lk(this.Od(1,0,0)))},i.prototype.Tw=function(e,i){i.Nf(this.description),i.Cb(this.hc(e));for(var n=1,r=this.description.Aa;n<r;n++)for(var s=this.description.Ed(n),o=t.ra.Va(s),a=0;a<o;a++){var h=this.Uc(e,s,a);i.setAttribute(s,a,h)}},i.prototype.FM=function(t){if(this.description!=t.description||this.sa!=t.sa||this.pa!=t.pa||this.na!=t.na||this.la!=t.la)return!1;for(var e=0;e<2*(this.description.Ae.length-2);e++)if(this.ka[e]!=t.ka[e])return!1;return!0},i.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},i.prototype.reverse=function(){var e=this.sa;this.sa=this.pa,this.pa=e,e=this.na,this.na=this.la,this.la=e,e=1;for(var i=this.description.Aa;e<i;e++)for(var n=this.description.kd(e),r=0,s=t.ra.Va(n);r<s;r++){var o=this.Od(0,n,r),a=this.Od(1,n,r);this.tn(0,n,r,a),this.tn(1,n,r,o)}},i.prototype.zr=function(e,i,n){var r=this.getType(),s=e.getType();if(322===r){if(322==s)return t.yb.OM(this,e,i,n);throw t.i.Qa()}throw t.i.Qa()},i.prototype.KM=function(e,i,n,r,s){var o=this.getType(),a=e.getType();if(322===o){if(322==a)return t.yb.Zx(this,e,i,n,r,s);throw t.i.Qa()}throw t.i.Qa()},i.prototype.Tx=function(){return null},i.Gg=function(t,e){return e*(t.Ae.length-2)},i.prototype.hc=function(e,i){if(void 0===i)return i=new t.h,this.hc(e,i),i;t.lc.lT(this.sa,this.na,this.pa,this.la,e,i)},i.prototype.fe=function(){return null},i.prototype.eG=function(){return null},i.prototype.cq=function(){return null},i.prototype.Bi=function(){return null},i.prototype.Pn=function(){return null},i.prototype.kg=function(){return null},i.prototype.Ux=function(t,e){return void 0!==e?this.vx(e)-this.vx(t):this.vx(t)},i.prototype.op=function(){},i.prototype.dl=function(){return null},i.prototype.ah=function(){},i.prototype.Uc=function(){return null},i.prototype.Pe=function(){return null},i.prototype.vx=function(){return null},i.prototype.NG=function(){return null},i.prototype.tb=function(t,e){if(!e&&0!=this.zr(t,0,!1))return 0;e=17976931348623157e292;var i=this.ac(),n=t.fe(i,!1);return i.sub(t.hc(n)),(i=i.length())<e&&(e=i),i=this.wc(),n=t.fe(i,!1),i.sub(t.hc(n)),(i=i.length())<e&&(e=i),i=t.ac(),n=this.fe(i,!1),i.sub(this.hc(n)),(i=i.length())<e&&(e=i),i=t.wc(),n=this.fe(i,!1),i.sub(this.hc(n)),(i=i.length())<e&&(e=i),e},i.prototype.mg=function(){return t.pi.gm(this,null)},i}(t.aa);t.SC=e}(J||(J={})),new J.h,function(t){var e;(e=t.$K||(t.$K={}))[e.Unknown=-1]="Unknown",e[e.Not=0]="Not",e[e.Weak=1]="Weak",e[e.Strong=2]="Strong",function(t){t[t.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",t[t.IsWeakSimple=2]="IsWeakSimple",t[t.IsStrongSimple=4]="IsStrongSimple",t[t.DirtyOGCFlags=8]="DirtyOGCFlags",t[t.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",t[t.DirtyExactIntervals=64]="DirtyExactIntervals",t[t.DirtyLooseIntervals=128]="DirtyLooseIntervals",t[t.DirtyIntervals=192]="DirtyIntervals",t[t.DirtyIsEnvelope=256]="DirtyIsEnvelope",t[t.DirtyLength2D=512]="DirtyLength2D",t[t.DirtyRingAreas2D=1024]="DirtyRingAreas2D",t[t.DirtyCoordinates=1993]="DirtyCoordinates",t[t.DirtyAllInternal=65535]="DirtyAllInternal",t[t.DirtyAll=16777215]="DirtyAll"}(t.MK||(t.MK={}));var i=function(e){function i(){var t=e.call(this)||this;return t.Hm=65535,t.wa=0,t.Pg=-1,t.Bb=null,t}return Q(i,e),i.prototype.op=function(){},i.prototype.$x=function(){},i.prototype.iy=function(){},i.prototype.I=function(){return this.wa},i.prototype.B=function(){return this.Ac()},i.prototype.Ac=function(){return 0==this.wa},i.prototype.ak=function(t){return!!(this.Hm&t)},i.prototype.Lf=function(t,e){this.Hm=e?this.Hm|t:this.Hm&~t},i.prototype.mc=function(){this.ak(32)&&this.bN()},i.prototype.wx=function(){if(this.Ac())throw t.i.fa("This operation was performed on an Empty Geometry.")},i.prototype.ve=function(e,i){if(0>e||e>=this.wa)throw t.i.fa("index out of bounds");this.mc(),i.Nf(this.description),i.B()&&i.un();for(var n=0;n<this.description.Aa;n++)for(var r=this.description.Ed(n),s=0,o=t.ra.Va(r);s<o;s++){var a=this.za[n].eg(o*e+s);i.setAttribute(r,s,a)}},i.prototype.Ht=function(e,i){this.mc();for(var n=i.description,r=0;r<n.Aa;r++)for(var s=n.Ed(r),o=t.ra.Va(s),a=0;a<o;a++){var h=i.Uc(s,a);this.setAttribute(s,e,a,h)}},i.prototype.D=function(e,i){if(0>e||e>=this.I())throw t.i.ce();this.mc(),this.za[0].tc(2*e,i)},i.prototype.Na=function(e){var i=new t.h;return this.D(e,i),i},i.prototype.Gc=function(t,e){this.za[0].tc(2*t,e)},i.prototype.Cb=function(e,i,n){if(0>e||e>=this.wa)throw t.i.ce();this.mc();var r=this.za[0];void 0!==n?(r.write(2*e,i),r.write(2*e+1,n)):r.Tt(2*e,i),this.Pc(1993)},i.prototype.Cz=function(){if(void 0>=this.I())throw t.i.ce();this.mc();var e=this.za[0],i=new t.Nd;return i.x=e.read(NaN),i.y=e.read(NaN),i.z=this.hasAttribute(1)?this.za[1].eg():t.ra.se(1),i},i.prototype.dC=function(e){if(0>e||e>=this.I())throw t.i.ce();this.re(1),this.mc(),this.Pc(1993);var i=this.za[0];i.write(2*e,(void 0).x),i.write(2*e+1,(void 0).y),this.za[1].pr(e,(void 0).z)},i.prototype.Uc=function(e,i,n){if(0>i||i>=this.wa)throw t.i.ce();var r=t.ra.Va(e);if(n>=r)throw t.i.ce();this.mc();var s=this.description.Pf(e);return 0<=s?this.za[s].eg(i*r+n):t.ra.se(e)},i.prototype.yF=function(t,e){return this.Uc(t,e)},i.prototype.setAttribute=function(e,i,n,r){if(0>i||i>=this.wa)throw t.i.ce();var s=t.ra.Va(e);if(n>=s)throw t.i.ce();this.re(e),this.mc(),e=this.description.Pf(e),this.Pc(1993),this.za[e].pr(i*s+n,r)},i.prototype.ub=function(t){return this.wx(),this.re(t),this.mc(),this.za[this.description.Pf(t)]},i.prototype.hn=function(e,i){if(null!=i&&t.ra.Tp(e)!=i.Tp())throw t.i.N();this.re(e),e=this.description.Pf(e),null==this.za&&(this.za=t.Yc.qI(this.description.Aa)),this.za[e]=i,this.Pc(16777215)},i.prototype.sn=function(e){var i=null;if(null!=this.za){var n=t.ee.Iw(e,this.description);i=[];for(var r=0,s=e.Aa;r<s;r++)-1!=n[r]&&(i[r]=this.za[n[r]])}this.description=e,this.za=i,this.Pg=-1,this.Pc(16777215)},i.prototype.AD=function(e){this.wu(!0),e instanceof t.l?this.$.A(e):this.$.Qo(e)},i.prototype.aN=function(e){this.wu(!1),e instanceof t.l?this.$.A(e):this.$.Qo(e)},i.prototype.bn=function(t){this.wu(!0),this.$.copyTo(t)},i.prototype.A=function(t){this.AD(t)},i.prototype.Qo=function(t){this.AD(t)},i.prototype.xc=function(t){this.aN(t)},i.prototype.Tg=function(e,i){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(this.wu(!0),this.$.Tg(e,i))},i.prototype.cc=function(){var e=this.description.cc();if(!this.Ac())for(var i=this.I(),n=0,r=this.description.Aa;n<r;n++)e=this.za[n].An(e,0,i*t.ra.Va(this.description.Ed(n)));return e},i.prototype.Nb=function(e){if(e==this)return!0;if(!(e instanceof i&&this.description.Nb(e.description))||this.Ac()!=e.Ac())return!1;if(this.Ac())return!0;var n=this.I();if(n!=e.I())return!1;for(var r=0;r<this.description.Aa;r++){var s=this.description.kd(r),o=this.ub(s),a=e.ub(s);if(!o.Nb(a,0,n*t.ra.Va(s)))return!1}return!0},i.prototype.copyTo=function(e){if(e.getType()!=this.getType())throw t.i.N();this.dD(e)},i.prototype.dD=function(e){this.mc(),e.description=this.description,e.za=null;var i=this.description.Aa,n=null;if(null!=this.za){n=[];for(var r=0;r<i;r++)null!=this.za[r]&&(n[r]=this.za[r].GB(this.I()*t.ra.Va(this.description.Ed(r))))}null!=this.$?(e.$=this.$.Ia(),this.$.copyTo(e.$)):e.$=null,e.wa=this.wa,e.Hm=this.Hm,e.za=n;try{this.op(e)}catch(s){throw e.Oa(),t.i.fu()}},i.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},i.prototype.Pc=function(t){16777215==t&&(this.Pg=-1,this.$x()),this.Hm|=t,this.lM(),this.vc()},i.prototype.wu=function(e){if(this.mc(),this.ak(192))if(null==this.$?this.$=new t.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(e);for(var i=1;i<this.description.Aa;i++)for(var n=this.description.Ed(i),r=t.ra.Va(n),s=this.za[i],o=0;o<r;o++){var a=new t.Nc;a.Oa();for(var h=0;h<this.wa;h++){var l=s.eg(h*r+o);a.Zb(l)}this.$.setInterval(n,o,a)}e&&this.Lf(192,!1)}},i.prototype.hy=function(){this.$.Oa();for(var e=this.za[0],i=new t.h,n=0;n<this.wa;n++)e.tc(2*n,i),this.$.Zb(i)},i.prototype.yp=function(e){e.Oa();for(var i=this.za[0],n=new t.h,r=0;r<this.wa;r++)i.tc(2*r,n),e.Zb(n)},i.prototype.bN=function(){if(this.Pg<this.wa){null==this.za&&(this.za=t.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var e=0;e<this.description.Aa;e++){var i=this.description.Ed(e);if(null!=this.za[e]){var n=t.ra.Va(i),r=t.O.truncate(this.za[e].size/n);r<this.wa&&(r=t.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[e].resize(r*n,t.ra.se(i))),r<this.Pg&&(this.Pg=r)}else this.za[e]=t.Yc.YE(i,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},i.prototype.dm=function(e){if(0>e)throw t.i.N();e!=this.wa&&(this.wa=e,this.Pc(65535))},i.prototype.om=function(t){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=t)return this.ak(8)?1:2}return-1},i.prototype.Ch=function(e,i){if(this.QT=i,-1==e)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),0==e)this.Lf(2,!1),this.Lf(4,!1);else if(1==e)this.Lf(2,!0),this.Lf(4,!1);else{if(2!=e)throw t.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},i.prototype.lM=function(){null!=this.Bb&&(this.Bb=null)},i.prototype.kD=function(e,i,n,r){if(0>e||e>=this.wa)throw t.i.fa("index out of bounds");if(0>i||i>=this.wa)throw t.i.fa("index out of bounds");this.mc(),r.Nf(this.description),r.B()&&r.un();for(var s=0;s<this.description.Aa;s++)for(var o=this.description.Ed(s),a=0,h=t.ra.Va(o);a<h;a++){var l=this.za[s].eg(h*e+a),u=this.za[s].eg(h*i+a);r.setAttribute(o,a,t.lc.hq(l,u,n))}},i.prototype.yr=function(t,e){var i=this.za[0].o,n=i[2*t]-i[2*e];return t=i[2*t+1]-i[2*e+1],Math.sqrt(n*n+t*t)},i.prototype.KR=function(e){if(0>e||e>=this.wa)throw t.i.ce();this.mc();var i=new t.Sa;i.Nf(this.description),i.B()&&i.un();for(var n=0;n<this.description.Aa;n++)for(var r=this.description.kd(n),s=0,o=t.ra.Va(r);s<o;s++){var a=this.za[n].eg(o*e+s);i.setAttribute(r,s,a)}return i},i.prototype.Dh=function(e,i){if(0>e||e>=this.wa)throw t.i.ce();if(i.B())throw t.i.N();this.mc();for(var n=i.description,r=0;r<n.Aa;r++)for(var s=n.kd(r),o=t.ra.Va(s),a=0;a<o;a++){var h=i.Uc(s,a);this.setAttribute(s,e,a,h)}},i.prototype.lu=function(){return null},i.prototype.fj=function(){return null},i}(t.aa);t.Gx=i}(J||(J={})),function(t){var e=function(){function e(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new t.$c(7),this.Zn=null}return e.prototype.Vo=function(t){this.Zn=t},e.prototype.RP=function(){this.Rv=!1},e.prototype.De=function(t){this.ob.De(t)},e.prototype.Pr=function(t){var e=this.ob.Ce();return this.rX(e),this.uX(t,e),e},e.prototype.MP=function(t){this.ob.jd(t)},e.prototype.addElement=function(t,e){return-1==e&&(-1==this.Qe&&(this.Qe=this.Pr(-1)),e=this.Qe),this.FD(t,0,e)},e.prototype.KD=function(t){return-1==this.Qe&&(this.Qe=this.Pr(-1)),this.FD(t,1,this.Qe)},e.prototype.xn=function(t){-1==this.Qe&&(this.Qe=this.Pr(-1));var e=this.Qe,i=this.ob.o;if(-1==e||-1==i[7*e])return t=this.ob.Ll([-1,-1,-1,t,this.gl(),-1,-1]),(i=this.ob.o)[7*e]=t,this.vp(-1,t,e,i),t;var n=-1==e?-1:i[7*e+2];return t=this.ob.Ll([-1,-1,n,t,this.gl(),-1,-1]),(i=this.ob.o)[7*n+1]=t,this.oy(t,i),-1===i[7*t+2]&&(i[7*e]=t),this.vp(-1,t,e,i),t},e.prototype.zu=function(e,i,n,r){var s=-1;-1==s&&(-1==this.Qe&&(this.Qe=this.Pr(-1)),s=this.Qe);var o=this.ob.o;if(-1==s||-1==o[7*s])return n=this.ob.Ll([-1,-1,-1,n,this.gl(),-1,-1]),(o=this.ob.o)[7*s]=n,this.vp(-1,n,s,o),n;if(r){r=-1!=i?this.Zn.compare(this,n,i):-1;var a=-1!=e?this.Zn.compare(this,n,e):1}else r=-1,a=1;if(0==r||0==a)return o[7*s+3]=0==r?i:e,-1;for((-1!=i&&-1!=e?this.Tm>t.O.bB(this.Tm)>>1:-1!=i)?e=i:r=a,i=!0;;){if(0>r){if(-1==(a=o[7*e])){r=e,n=this.ob.Ll([-1,-1,e,n,this.gl(),-1,-1]),(o=this.ob.o)[7*e]=n;break}e=a}else{if(-1==(a=o[7*e+1])){r=o[7*e+6],n=this.ob.Ll([-1,-1,e,n,this.gl(),-1,-1]),(o=this.ob.o)[7*e+1]=n;break}e=a}i&&(r*=-1,i=!1)}return this.oy(n,o),-1===o[7*n+2]&&(o[7*s]=n),this.vp(r,n,s,o),n},e.prototype.FF=function(){return this.iR(this.Qe)},e.prototype.vd=function(t,e){e=-1==e?this.Qe:e,this.Rv?this.LP(t,e):this.iY(t,e)},e.prototype.search=function(t,e){for(e=this.sv(e);-1!=e;){var i=this.Zn.compare(this,t,e);if(0==i)return e;e=0>i?this.ll(e):this.Xp(e)}return-1},e.prototype.IW=function(t){for(var e=this.sv(-1),i=-1;-1!=e;){var n=t.compare(this,e);if(0==n)return e;0>n?e=this.ll(e):(i=e,e=this.Xp(e))}return i},e.prototype.uJ=function(t){for(var e=this.sv(-1),i=-1;-1!=e;){var n=t.compare(this,e);if(0==n)return e;0>n?(i=e,e=this.ll(e)):e=this.Xp(e)}return i},e.prototype.ja=function(t){return this.ob.T(t,3)},e.prototype.ll=function(t){return this.ob.T(t,0)},e.prototype.Xp=function(t){return this.ob.T(t,1)},e.prototype.getParent=function(t){return this.ob.T(t,2)},e.prototype.lb=function(t){return this.ob.T(t,6)},e.prototype.we=function(t){return this.ob.T(t,5)},e.prototype.rc=function(t){return-1==t?this.kl(this.Qe):this.kl(t)},e.prototype.Fc=function(t){return-1==t?this.Zr(this.Qe):this.Zr(t)},e.prototype.ZR=function(t){return-1==t?this.bG(this.Qe):this.bG(t)},e.prototype.Sj=function(t,e){this.NB(t,e)},e.prototype.sv=function(t){return-1==t?this.YF(this.Qe):this.YF(t)},e.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},e.prototype.size=function(t){return-1==t?this.$F(this.Qe):this.$F(t)},e.prototype.KN=function(t,e){for(var i=e[7*t],n=e[7*t+1],r=e[7*t+4];-1!=i||-1!=n;){var s=-1!=i?e[7*i+4]:2147483647;if(n=-1!=n?e[7*n+4]:2147483647,r<=Math.min(s,n))break;s<=n?this.sJ(i,e):this.rJ(t,e),i=e[7*t],n=e[7*t+1]}},e.prototype.oy=function(t,e){if(this.Rv)for(var i=e[7*t+4],n=e[7*t+2];-1!=n&&e[7*n+4]>i;)e[7*n]==t?this.sJ(t,e):this.rJ(n,e),n=e[7*t+2]},e.prototype.rJ=function(t,e){var i=e[7*t+1];e[7*i+2]=e[7*t+2],e[7*t+2]=i;var n=e[7*i];e[7*t+1]=n,-1!=n&&(e[7*n+2]=t),e[7*i]=t,-1!=(n=e[7*i+2])&&(e[7*n]==t?e[7*n]=i:e[7*n+1]=i)},e.prototype.sJ=function(t,e){var i=e[7*t+2];e[7*t+2]=e[7*i+2],e[7*i+2]=t;var n=e[7*t+1];e[7*i]=n,-1!=n&&(e[7*n+2]=i),e[7*t+1]=i,-1!=(n=e[7*t+2])&&(e[7*n]===i?e[7*n]=t:e[7*n+1]=t)},e.prototype.Pk=function(t,e){this.ob.S(t,2,e)},e.prototype.TB=function(t,e){this.ob.S(t,0,e)},e.prototype.XB=function(t,e){this.ob.S(t,1,e)},e.prototype.WB=function(t,e){this.ob.S(t,5,e)},e.prototype.ex=function(t,e){this.ob.S(t,6,e)},e.prototype.XJ=function(t,e){this.ob.S(e,0,t)},e.prototype.rX=function(t){this.ob.S(t,4,0)},e.prototype.uX=function(t,e){this.ob.S(e,5,t)},e.prototype.YF=function(t){return-1==t?-1:this.ob.T(t,0)},e.prototype.kl=function(t){return-1==t?-1:this.ob.T(t,1)},e.prototype.Zr=function(t){return-1==t?-1:this.ob.T(t,2)},e.prototype.iR=function(t){return-1==t?-1:this.ob.T(t,3)},e.prototype.$F=function(t){return-1==t?0:this.ob.T(t,4)},e.prototype.bG=function(t){return this.ob.T(t,5)},e.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},e.prototype.fl=function(t){-1!=t&&this.ob.jd(t)},e.prototype.gl=function(){return this.Tm=t.O.bB(this.Tm),1073741823&this.Tm},e.prototype.FD=function(t,e,i){var n=this.ob.o;if(-1==i||-1==n[7*i])return t=this.ob.Ll([-1,-1,-1,t,this.gl(),-1,-1]),(n=this.ob.o)[7*i]=t,this.vp(-1,t,i,n),t;for(var r=-1==i?-1:n[7*i];;){var s=-1==e?1:this.Zn.compare(this,t,r);if(0>s){if(-1==(s=this.ll(r))){e=r,t=this.ob.Ll([-1,-1,r,t,this.gl(),-1,-1]),(n=this.ob.o)[7*r]=t;break}r=s}else{if(1==e&&0==s)return n[7*i+3]=r,-1;if(-1==(s=n[7*r+1])){e=n[7*r+6],t=this.ob.Ll([-1,-1,r,t,this.gl(),-1,-1]),(n=this.ob.o)[7*r+1]=t;break}r=s}}return this.oy(t,n),-1===n[7*t+2]&&(n[7*i]=t),this.vp(e,t,i,n),t},e.prototype.vp=function(t,e,i,n){if(-1!=t){var r=n[7*t+5];n[7*t+5]=e}else r=-1==i?-1:n[7*i+2];n[7*e+5]=r,-1!=r&&(n[7*r+6]=e),n[7*e+6]=t,t==(-1==i?-1:n[7*i+1])&&(n[7*i+1]=e),-1==t&&(n[7*i+2]=e),n[7*i+4]=(-1==i?0:n[7*i+4])+1},e.prototype.AB=function(t,e){var i=this.ob.o,n=i[7*t+5];t=i[7*t+6],-1!=n?i[7*n+6]=t:i[7*e+1]=t,-1!=t?i[7*t+5]=n:i[7*e+2]=n,i[7*e+4]=-1===e?-1:i[7*e+4]-1},e.prototype.iY=function(e,i){this.AB(e,i);var n=this.ll(e),r=this.Xp(e),s=this.getParent(e),o=e;if(-1!=n&&-1!=r){this.Tm=t.O.bB(this.Tm);var a=1073741823<this.Tm?this.lb(e):this.we(e),h=this.getParent(a)==e;this.ob.gC(e,a,0),this.ob.gC(e,a,1),this.ob.gC(e,a,2),-1!=s?this.ll(s)==e?this.TB(s,a):this.XB(s,a):this.XJ(a,i),h?(n==a?(this.TB(a,e),this.Pk(r,a)):r==a&&(this.XB(a,e),this.Pk(n,a)),this.Pk(e,a),s=a):(this.Pk(n,a),this.Pk(r,a),s=this.getParent(e),o=a),n=this.ll(e),r=this.Xp(e),-1!=n&&this.Pk(n,e),-1!=r&&this.Pk(r,e)}n=-1!=n?n:r,-1==s?this.XJ(n,i):this.ll(s)==o?this.TB(s,n):this.XB(s,n),-1!=n&&this.Pk(n,s),this.fl(e)},e.prototype.LP=function(t,e){var i=this.ob.o;i[7*t+4]=2147483647;var n=-1,r=-1,s=-1===e?-1:i[7*e],o=s==t;if(o&&(n=i[7*s],r=i[7*s+1],-1==n&&-1==r))return this.AB(s,e),this.fl(s),void(i[7*e]=-1);this.KN(t,i),-1!=(s=i[7*t+2])&&(i[7*s]==t?i[7*s]=-1:i[7*s+1]=-1),this.AB(t,e),this.fl(t),o&&(i[7*e]=-1==n||-1!=i[7*n+2]?r:n)},e.prototype.NB=function(t,e){this.ob.S(t,3,e)},e}();t.Yj=e}(J||(J={})),function(t){var e=function(){function e(t,e){void 0!==t&&this.K(t,e)}return e.prototype.K=function(t,e){this.oa=t,this.va=e,this.normalize()},e.prototype.isIntersecting=function(t){return this.oa<=t.oa?this.va>=t.oa:t.va>=this.oa},e.prototype.move=function(t){this.B()||(this.oa+=t,this.va+=t)},e.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var t=this.oa;this.oa=this.va,this.va=t}isNaN(this.va)&&this.Oa()}},e.prototype.Oa=function(){this.va=this.oa=NaN},e.prototype.B=function(){return isNaN(this.oa)},e.prototype.Zb=function(t){"number"==typeof t?this.B()?this.va=this.oa=t:this.Lk(t):t.B()||(this.B()?(this.oa=t.oa,this.va=t.va):(this.oa>t.oa&&(this.oa=t.oa),this.va<t.va&&(this.va=t.va),this.oa>this.va&&this.Oa()))},e.prototype.Lk=function(t){t<this.oa?this.oa=t:t>this.va&&(this.va=t)},e.prototype.contains=function(t){return"number"==typeof t?t>=this.oa&&t<=this.va:t.oa>=this.oa&&t.va<=this.va},e.prototype.Ea=function(t){this.B()||t.B()?this.Oa():(this.oa<t.oa&&(this.oa=t.oa),this.va>t.va&&(this.va=t.va),this.oa>this.va&&this.Oa())},e.prototype.W=function(t){this.B()||(this.oa-=t,this.va+=t,this.va<this.oa&&this.Oa())},e.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},e.prototype.KB=function(t,e){t>e?(this.oa=e,this.va=t):(this.oa=t,this.va=e)},e.prototype.It=function(e){return t.O.Rk(e,this.oa,this.va)},e.prototype.R=function(){return this.va-this.oa},e.prototype.sf=function(){return.5*(this.oa+this.va)},e.prototype.Nb=function(t){return t==this||t instanceof e&&(!(!this.B()||!t.B())||this.oa==t.oa&&this.va==t.va)},e.prototype.cc=function(){return t.O.uj(t.O.uj())},e}();t.Nc=e}(J||(J={})),function(t){var e=new t.Nc,i=new t.Nc,n=function(){this.ne=null,this.pb=-1,this.sb=new t.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new t.Nc,this.Uf.KB(0,0)};t.IY=n;var r=function(){function r(e,i,r){this.g=e,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=i,this.Nq=10*i,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=r,this.TA=new n,this.YH=new n,t.O.truncate(3*e.fd/2)}return r.prototype.mG=function(t,e,i,n){t.ne=null===n?null:n[i[5*e]],t.Tv=null!=t.ne,t.Tv||(-1!==(n=i[5*e+2])&&this.g.mW(i[5*e],i[5*n],t.sb),t.ne=t.sb,t.Uf.KB(t.sb.sa,t.sb.pa),t.Uf.va+=this.qa,t.sb.rI(),t.Vv=t.sb.la==t.sb.na,t.Vv||(t.qA=(t.sb.pa-t.sb.sa)/(t.sb.la-t.sb.na)))},r.prototype.OO=function(t,e){var i=t.zr(e,this.qa,!0);return 0!=i?2==i?this.Qy():this.xi():(t.Yp(et),t.Tr(it),e.Yp(nt),e.Tr(rt),tt.ma(this.Kq,this.Hk),et.qb(nt)&&this.Hk==et.y?0>it.compare(rt)?tt.L(it):tt.L(rt):et.qb(rt)&&this.Hk==et.y?0>it.compare(nt)?tt.L(it):tt.L(nt):nt.qb(it)&&this.Hk==nt.y?0>et.compare(rt)?tt.L(et):tt.L(rt):it.qb(rt)&&this.Hk==it.y&&(0>et.compare(nt)?tt.L(et):tt.L(nt)),t.Pe(tt.y,tt.x)<e.Pe(tt.y,tt.x)?-1:1)},r.prototype.MO=function(t,e){if(t.sb.na==e.sb.na&&t.sb.sa==e.sb.sa)return t.sb.la==e.sb.la&&t.sb.pa==e.sb.pa?this.gA?this.Qy():0:this.PE(t,e);if(t.sb.la==e.sb.la&&t.sb.pa==e.sb.pa)return this.OE(t,e);var i=this.OE(t,e);return t=this.PE(t,e),0>i&&0>t?-1:0<i&&0<t?1:this.xi()},r.prototype.IO=function(t,e){if(t.pa>e.pa){if(e.pa>e.sa&&e.la-e.na<2*this.qa&&t.vi(e.pa,e.la,this.qa))return this.xi()}else if((e.la-e.na)/(e.pa-e.sa)*(t.pa-t.sa)<this.Nq&&e.vi(t.pa,t.la,this.qa))return this.xi();return 1},r.prototype.JO=function(t,e){if(t.sa<e.sa){if(e.pa>e.sa&&e.la-e.na<2*this.qa&&t.vi(e.pa,e.la,this.qa))return this.xi()}else if((e.la-e.na)/(e.pa-e.sa)*(t.sa-t.pa)<this.Nq&&e.vi(t.sa,t.na,this.qa))return this.xi();return-1},r.prototype.KO=function(e,i){var n=new t.h;n.uc(i.wc(),i.ac()),n.ar(),n.normalize();var r=new t.h;r.uc(e.ac(),i.ac());var s=new t.h;s.uc(e.wc(),i.ac()),r=r.Qh(n),n=s.Qh(n),s=Math.abs(r);var o=Math.abs(n);if(s<o){if(s<this.Nq&&i.vi(e.sa,e.na,this.qa))return this.xi()}else if(o<this.Nq&&i.vi(e.pa,e.la,this.qa))return this.xi();return 0>r&&0>n?-1:0<r&&0<n?1:this.xi()},r.prototype.NE=function(t,e){return t.na==e.na&&t.sa==e.sa?this.IO(t,e):t.la==e.la&&t.pa==e.pa?this.JO(t,e):this.KO(t,e)},r.prototype.LO=function(t,e){return t.la==e.la&&t.pa==e.pa&&t.na==e.na&&t.sa==e.sa?this.gA?this.Qy():0:this.xi()},r.prototype.OE=function(t,e){var i=1;if(t.sb.na<e.sb.na){i=-1;var n=t;t=e,e=n}t=t.sb,n=e.sb;var r=t.sa-n.sa;e=e.qA*(t.na-n.na);var s=this.Nq;return r<e-s?-i:r>e+s?i:n.vi(t.sa,t.na,this.qa)?this.xi():r<e?-i:i},r.prototype.PE=function(t,e){var i=1;if(e.sb.la<t.sb.la){i=-1;var n=t;t=e,e=n}t=t.sb,n=e.sb;var r=t.pa-n.sa;e=e.qA*(t.la-n.na);var s=this.Nq;return r<e-s?-i:r>e+s?i:n.vi(t.pa,t.la,this.qa)?this.xi():r<e?-i:i},r.prototype.Qy=function(){return this.rg=!0,this.Ni=new t.Md(5,this.Lo,this.gt),-1},r.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new t.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},r.prototype.NO=function(t,n,r,s){if(this.rg)return-1;var o=this.OH==this.Hk&&this.NH==this.Kq;if(o&&t==this.Ws)var a=this.PH;else a=NaN,this.Ws=-1;return o&&n==this.Xs?o=this.QH:(o=NaN,this.Xs=-1),r.ne.ZI(e),s.ne.ZI(i),e.va<i.oa?-1:i.va<e.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(a)&&(this.Ws=t,this.PH=a=t=r.ne.Pe(this.Hk,this.Kq)),isNaN(o)&&(this.Xs=n,this.QH=o=t=s.ne.Pe(this.Hk,this.Kq)),Math.abs(a-o)<=this.qa?this.OO(r.ne,s.ne):a<o?-1:a>o?1:0)},r.prototype.Kr=function(){this.rg=!1},r.prototype.rm=function(){return this.Ni},r.prototype.$J=function(t,e){this.Hk=t,this.Kq=e,this.gt=this.Lo=this.Xs=this.Ws=-1},r.prototype.compare=function(t,e,i){return this.rg?-1:(t=t.ja(i),this.Dm=i,this.RE(e,e,t,t))},r.prototype.RE=function(t,e,i,n){if(this.Lo==e)var r=this.TA;else this.Lo=e,r=this.TA,this.TA.pb=t,this.mG(r,e,this.g.td.o,this.g.We);if(null==s){this.gt=n;var s=this.YH;this.YH.pb=i,this.mG(s,n,this.g.td.o,this.g.We)}return r.Tv||s.Tv?this.NO(e,n,r,s):r.Uf.va<s.Uf.oa?-1:s.Uf.va<r.Uf.oa?1:(t=r.Vv?1:0,0==(t|=s.Vv?2:0)?this.MO(r,s):1==t?this.NE(r.sb,s.sb):2==t?-1*this.NE(s.sb,r.sb):this.LO(r.sb,s.sb))},r}();t.UC=r}(J||(J={})),function(t){var e=function(){function e(e,i){this.g=e,this.qa=i,this.rg=!1,this.Lo=-1,this.Uf=new t.Nc,this.Gq=new t.h,this.Gq.Rc(),this.ie=new t.yb,this.Dm=-1,this.BA=17976931348623157e292}return e.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},e.prototype.Dh=function(t){this.Gq.L(t)},e.prototype.compare=function(t,e){return this.SE(e,t.ja(e))},e.prototype.SE=function(e,i){var n=null!=this.g.bc(i);if(n||(this.g.ed(i,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),n)throw t.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=e,this.rg=!0,0;this.ie.rI(),n=this.ie.ac(),(i=new t.h).uc(this.ie.wc(),n),i.ar();var r=new t.h;return r.uc(this.Gq,n),n=i.Qh(r),(n/=i.length())<10*-this.qa?-1:n>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((i=Math.abs(n))<this.BA&&(this.Dm=e,this.BA=i),this.rg=!0,i<.25*this.qa)?0:0>n?-1:1},e}();t.aM=e}(J||(J={})),function(t){function e(t,e,i,n){i=new Float64Array(t.subarray(i,n)),t.set(i,e)}var i=function(){function i(t){this.Pb=this.pk=!1,this.o=null;var e=t;2>e&&(e=2),this.o=new Float64Array(e),this.size=t}return i.prototype.rotate=function(e,i,n){if(this.Pb)throw t.i.fa("invalid_call");if(i<e||i>n||e>n)throw t.i.N();e!=i&&n!=i&&(this.ni(e,i-e,1),this.ni(i,n-i,1),this.ni(e,n-e,1))},i.qf=function(t,e){var n=new i(t),r=n.o;if(2>t&&(t=2),0!==e)for(var s=0;s<t;s++)r[s]=e;return n},i.Bn=function(t){var e=new i(0);return e.o=new Float64Array(t.o),e.size=t.size,e},i.Lr=function(t,e){var n=new i(0);return n.size=t.size,n.size>e&&(n.size=e),2>(e=n.size)&&(e=2),n.o=new Float64Array(e),n.o.set(t.o.length<=e?t.o:t.o.subarray(0,e),0),n},i.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Float64Array(t):t<=this.o.length||(0<this.o.length?((t=new Float64Array(t)).set(this.o),this.o=t):this.o=new Float64Array(t)))},i.prototype.read=function(t){return this.o[t]},i.prototype.tc=function(t,e){e.x=this.o[t],e.y=this.o[t+1]},i.prototype.get=function(t){return this.o[t]},i.prototype.write=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.set=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.Tt=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i.x,this.o[e+1]=i.y},i.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},i.prototype.GB=function(t){return i.Lr(this,t)},i.prototype.eg=function(t){return this.read(t)},i.prototype.resize=function(e,i){if(void 0===i&&(i=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var n=new Float64Array(this.o,0,e);this.o=n}}else{e>this.o.length&&(n=t.O.truncate(64>e?Math.max(2*e,4):5*e/4),(n=new Float64Array(n)).set(this.o),this.o=n),n=this.o;for(var r=this.size;r<e;r++)n[r]=i}this.size=e},i.prototype.Bh=function(e){if((null==this.o||e>this.o.length)&&this.resize(e),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},i.prototype.pr=function(t,e){this.write(t,e)},i.prototype.An=function(e,i,n){for(var r=this.size;i<r&&i<n;i++)e=t.O.uj(this.read(i));return e},i.prototype.Nb=function(t,e,n){if(null==t||!(t instanceof i))return!1;var r=this.size,s=t.size;if(n>r||n>s&&r!=s)return!1;for(n>r&&(n=r);e<n;e++)if(this.read(e)!=t.read(e))return!1;return!0},i.prototype.addRange=function(e,i,n,r,s){if(this.Pb)throw t.i.Hb();if(!r&&(1>s||0!=n%s))throw t.i.N();var o=this.size;if(this.resize(o+n),r)this.o.set(e.o.subarray(i,i+n),o);else{r=n;for(var a=0;a<n;a+=s){r-=s;for(var h=0;h<s;h++)this.o[o+a+h]=e.o[i+r+h]}}},i.prototype.Mn=function(i,n,r,s,o,a,h){if(this.Pb)throw t.i.Hb();if(!o&&(1>a||0!=s%a))throw t.i.N();var l=this.size-h;if(l<s&&this.resize(this.size+s-l),e(this.o,i+s,i,i+(h-i)),this.o==n.o&&i<r&&(r+=s),o)this.o.set(n.o.subarray(r,r+s),i);else for(o=s,h=0;h<s;h+=a)for(o-=a,l=0;l<a;l++)this.o[i+h+l]=n.o[r+o+l]},i.prototype.Iz=function(i,n,r,s,o,a){if(this.Pb)throw t.i.Hb();if(0>a&&(a=this.size),this.size+2*s>this.o.length?this.resize(this.size+2*s):this.size+=2*s,e(this.o,i+2*s,i,i+(a-i)),o)for(o=0;o<s;o++)a=n[r++],this.o[i++]=a.x,this.o[i++]=a.y;else{o=0;for(var h=s-1;o<s;++o)a=n[r+h],this.o[i++]=a.x,this.o[i++]=a.y,h--}},i.prototype.Ln=function(i,n,r,s){if(this.Pb)throw t.i.Hb();for(s-=i,e(this.o,i+s,i,i+s),s=0;s<r;s++)this.o[i+s]=n},i.prototype.vj=function(i,n,r){if(this.Pb)throw t.i.Hb();e(this.o,i+2,i,i+(r-i)),this.o[i]=n.x,this.o[i+1]=n.y},i.prototype.Ut=function(e,i,n,r,s,o){if(0>e||0>i||0>r)throw t.i.N();if(!s&&(0>=o||0!=i%o))throw t.i.N();if(n.size<r+i)throw t.i.N();if(0!=i)if(this.size<i+e&&this.resize(i+e),n==this)this.Ar(e,i,r,s,o);else if(s)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r++;else if(r=r+i-o,1==o)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r--;else for(s=0,i=t.O.truncate(i/o);s<i;s++){for(var a=0;a<o;a++)this.o[e+a]=n.o[r+a];e+=o,r-=o}},i.prototype.En=function(i,n,r){if(this.Pb)throw t.i.Hb();if(i+n>this.size)throw t.i.Hb();0<r-(i+n)&&e(this.o,i,i+n,i+(r-(i+n))+n),this.size-=n},i.prototype.ni=function(e,i,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=i%n)throw t.i.Hb();for(var r=i>>1,s=0;s<r;s+=n){i-=n;for(var o=0;o<n;o++){var a=this.o[e+s+o];this.o[e+s+o]=this.o[e+i+o],this.o[e+i+o]=a}}},i.prototype.Wj=function(e,i,n){if(0>i||0>n||0>i||n+i>this.size)throw t.i.N();for(var r=i;r<i+n;r++)this.o[r]=e},i.prototype.Ar=function(e,i,n,r,s){if(!(r&&e==n||(this.o.set(this.o.subarray(n,n+i),e),r)))for(n=e,e=e+i-s,r=0,i=t.O.truncate(i/2);r<i;r++){for(var o=0;o<s;o++){var a=this.o[n+o];this.o[n+o]=this.o[e+o],this.o[e+o]=a}n+=s,e-=s}},i.prototype.vC=function(e,i,n,r,s){if(0>e||0>i||0>r)throw t.i.N();if(0!=i)for(this.size<(i<<1)+e&&this.resize((i<<1)+e),s||(e+=i-1<<1),s=s?2:-2,i+=r;r<i;r++)this.o[e]=n[r].x,this.o[e+1]=n[r].y,e+=s},i.prototype.uC=function(e,i,n){if(0>e||0>i)throw t.i.N();if(0!=i){this.size<(i<<1)+e&&this.resize((i<<1)+e),i+=0;for(var r=0;r<i;r++)this.o[e]=n[r][0],this.o[e+1]=n[r][1],e+=2}},i.prototype.Vw=function(e,i,n,r,s){if(0>e||0>i||0>r||this.size<i+e)throw t.i.N();if(s)for(s=0;s<i;s++)n[r+s]=this.o[e+s];else for(r=r+i-1;e<i;e++)n[r]=this.o[e],r--},i.prototype.uB=function(e,i,n){if(0>e||0>i||this.size<(i>>1)+e)throw t.i.N();if(0!=i){i=0+i;for(var r=0;r<i;r++)n[r][0]=this.o[e],n[r][1]=this.o[e+1],e+=2}},i.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},i.prototype.ix=function(){this.pk=this.Pb=!0},i.prototype.Vd=function(t,e,i){Array.prototype.sort.call(this.o.subarray(t,e),i)},i.prototype.Tp=function(){return 1},i}();t.be=i}(J||(J={})),function(t){function e(t,e,i,n){i=new Int32Array(t.subarray(i,n)),t.set(i,e)}t.rY=function(){this.random=1973};var i=function(){function i(t){this.Pb=this.pk=!1,this.o=null;var e=t;2>e&&(e=2),this.o=new Int32Array(e),this.size=t}return i.prototype.rotate=function(e,i,n){if(this.Pb)throw t.i.fa("invalid_call");if(i<e||i>n||e>n)throw t.i.N();e!=i&&n!=i&&(this.ni(e,i-e,1),this.ni(i,n-i,1),this.ni(e,n-e,1))},i.qf=function(t,e){var n=new i(t),r=n.o;if(2>t&&(t=2),0!==e)for(var s=0;s<t;s++)r[s]=e;return n},i.Bn=function(t){var e=new i(0);return e.o=new Int32Array(t.o),e.size=t.size,e},i.Lr=function(t,e){var n=new i(0);return n.size=t.size,n.size>e&&(n.size=e),2>(e=n.size)&&(e=2),n.o=new Int32Array(e),n.o.set(t.o.length<=e?t.o:t.o.subarray(0,e),0),n},i.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Int32Array(t):t<=this.o.length||(0<this.o.length?((t=new Int32Array(t)).set(this.o),this.o=t):this.o=new Int32Array(t)))},i.prototype.read=function(t){return this.o[t]},i.prototype.tc=function(t,e){e.x=this.o[t],e.y=this.o[t+1]},i.prototype.get=function(t){return this.o[t]},i.prototype.write=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.set=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.Tt=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i.x,this.o[e+1]=i.y},i.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},i.prototype.GB=function(t){return i.Lr(this,t)},i.prototype.eg=function(t){return this.read(t)},i.prototype.resize=function(e,i){if(void 0===i&&(i=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var n=new Int32Array(this.o,0,e);this.o=n}}else{e>this.o.length&&(n=t.O.truncate(64>e?Math.max(2*e,4):5*e/4),(n=new Int32Array(n)).set(this.o),this.o=n),n=this.o;for(var r=this.size;r<e;r++)n[r]=i}this.size=e},i.prototype.Bh=function(e){if((null==this.o||e>this.o.length)&&this.resize(e),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},i.prototype.pr=function(t,e){this.write(t,e)},i.prototype.An=function(e,i,n){for(var r=this.size;i<r&&i<n;i++)e=t.O.Th(this.read(i),e);return e},i.prototype.Nb=function(t,e,n){if(null==t||!(t instanceof i))return!1;var r=this.size,s=t.size;if(n>r||n>s&&r!=s)return!1;for(n>r&&(n=r);e<n;e++)if(this.read(e)!=t.read(e))return!1;return!0},i.prototype.addRange=function(e,i,n,r,s){if(this.Pb)throw t.i.Hb();if(!r&&(1>s||0!=n%s))throw t.i.N();var o=this.size;if(this.resize(o+n),r)this.o.set(e.o.subarray(i,i+n),o);else{r=n;for(var a=0;a<n;a+=s){r-=s;for(var h=0;h<s;h++)this.o[o+a+h]=e.o[i+r+h]}}},i.prototype.Mn=function(i,n,r,s,o,a,h){if(this.Pb)throw t.i.Hb();if(!o&&(1>a||0!=s%a))throw t.i.N();if(e(this.o,i+s,i,i+(h-i)),this.o==n.o&&i<r&&(r+=s),o)this.o.set(n.o.subarray(r,r+s),i);else for(o=s,h=0;h<s;h+=a){o-=a;for(var l=0;l<a;l++)this.o[i+h+l]=n.o[r+o+l]}},i.prototype.Iz=function(i,n,r,s,o,a){if(this.Pb)throw t.i.Hb();if(0>a&&(a=this.size),this.size+2*s>this.o.length?this.resize(this.size+2*s):this.size+=2*s,e(this.o,i+2*s,i,i+(a-i)),o)for(o=0;o<s;o++)a=n[r++],this.o[i++]=a.x,this.o[i++]=a.y;else{o=0;for(var h=s-1;o<s;++o)a=n[r+h],this.o[i++]=a.x,this.o[i++]=a.y,h--}},i.prototype.Ln=function(i,n,r,s){if(this.Pb)throw t.i.Hb();for(s-=i,e(this.o,i+s,i,i+s),s=0;s<r;s++)this.o[i+s]=n},i.prototype.vj=function(i,n,r){if(this.Pb)throw t.i.Hb();e(this.o,i+2,i,i+(r-i)),this.o[i]=n.x,this.o[i+1]=n.y},i.prototype.Ut=function(e,i,n,r,s,o){if(0>e||0>i||0>r)throw t.i.N();if(!s&&(0>=o||0!=i%o))throw t.i.N();if(n.size<r+i)throw t.i.N();if(0!=i)if(this.size<i+e&&this.resize(i+e),n==this)this.Ar(e,i,r,s,o);else if(s)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r++;else if(r=r+i-o,1==o)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r--;else for(s=0,i=t.O.truncate(i/o);s<i;s++){for(var a=0;a<o;a++)this.o[e+a]=n.o[r+a];e+=o,r-=o}},i.prototype.En=function(i,n,r){if(this.Pb)throw t.i.Hb();if(i+n>this.size)throw t.i.Hb();0<r-(i+n)&&e(this.o,i,i+n,i+(r-(i+n))+n),this.size-=n},i.prototype.ni=function(e,i,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=i%n)throw t.i.Hb();for(var r=i>>1,s=0;s<r;s+=n){i-=n;for(var o=0;o<n;o++){var a=this.o[e+s+o];this.o[e+s+o]=this.o[e+i+o],this.o[e+i+o]=a}}},i.prototype.Wj=function(e,i,n){if(0>i||0>n||0>i||n+i>this.size)throw t.i.N();for(var r=i;r<i+n;r++)this.o[r]=e},i.prototype.Ar=function(e,i,n,r,s){if(!(r&&e==n||(this.o.set(this.o.subarray(n,n+i),e),r)))for(n=e,e=e+i-s,r=0,i=t.O.truncate(i/2);r<i;r++){for(var o=0;o<s;o++){var a=this.o[n+o];this.o[n+o]=this.o[e+o],this.o[e+o]=a}n+=s,e-=s}},i.prototype.vC=function(e,i,n,r,s){if(0>e||0>i||0>r)throw t.i.N();if(0!=i)for(this.size<(i<<1)+e&&this.resize((i<<1)+e),s||(e+=i-1<<1),s=s?2:-2,i+=r;r<i;r++)this.o[e]=n[r].x,this.o[e+1]=n[r].y,e+=s},i.prototype.Vw=function(e,i,n,r,s){if(0>e||0>i||0>r||this.size<i+e)throw t.i.N();if(s)for(s=0;s<i;s++)n[r+s]=this.o[e+s];else for(r=r+i-1;e<i;e++)n[r]=this.o[e],r--},i.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},i.prototype.ix=function(){this.pk=this.Pb=!0},i.prototype.Vd=function(t,e,n){10>e-t?i.rG(this.o,t,e,n):i.qB(this.o,t,e-1,n)},i.prototype.Tp=function(){return 2},i.prototype.Fc=function(){return this.o[this.size-1]},i.prototype.If=function(){this.resize(this.size-1)},i.prototype.bX=function(t){this.o[this.size-1]=t},i.prototype.SV=function(t){t<this.size-1&&(this.o[t]=this.o[this.size-1]),this.resize(this.size-1)},i.prototype.lF=function(t){for(var e=0,i=this.size;e<i;e++)if(this.o[e]==t)return e;return-1},i.prototype.hG=function(t){return 0<=this.lF(t)},i.rG=function(t,e,i,n){for(var r=e;r<i;r++){for(var s=t[r],o=r-1;o>=e&&0<n(t[o],s);)t[o+1]=t[o],o--;t[o+1]=s}},i.tx=function(t,e,i){var n=t[i];t[i]=t[e],t[e]=n},i.qB=function(t,e,n,r){if(!(e>=n))for(;;){if(9>n-e){i.rG(t,e,n+1,r);break}var s=t[e];i.tx(t,e,n);for(var o=e,a=e;a<n;a++)0>=r(t[a],s)&&(i.tx(t,o,a),o+=1);i.tx(t,o,n),o-e<n-o?(i.qB(t,e,o-1,r),e=o+1):(i.qB(t,o+1,n,r),n=o-1)}},i}();t.ia=i}(J||(J={})),function(t){function e(t,e,i,n){i=new Int8Array(t.subarray(i,n)),t.set(i,e)}var i=function(){function i(t){this.o=null;var e=t;2>e&&(e=2),this.o=new Int8Array(e),this.size=t}return i.prototype.rotate=function(e,i,n){if(this.Pb)throw t.i.fa("invalid_call");if(i<e||i>n||e>n)throw t.i.N();e!=i&&n!=i&&(this.ni(e,i-e,1),this.ni(i,n-i,1),this.ni(e,n-e,1))},i.qf=function(t,e){var n=new i(t),r=n.o;if(2>t&&(t=2),0!==e)for(var s=0;s<t;s++)r[s]=e;return n},i.Bn=function(t){var e=new i(0);return e.o=new Int8Array(t.o),e.size=t.size,e},i.Lr=function(t,e){var n=new i(0);return n.size=t.size,n.size>e&&(n.size=e),2>(e=n.size)&&(e=2),n.o=new Int8Array(e),n.o.set(t.o.length<=e?t.o:t.o.subarray(0,e),0),n},i.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Int8Array(t):t<=this.o.length||(0<this.o.length?((t=new Int8Array(t)).set(this.o),this.o=t):this.o=new Int8Array(t)))},i.prototype.read=function(t){return this.o[t]},i.prototype.tc=function(t,e){e.x=this.o[t],e.y=this.o[t+1]},i.prototype.get=function(t){return this.o[t]},i.prototype.write=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.set=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i},i.prototype.Tt=function(e,i){if(this.Pb)throw t.i.Hb();this.o[e]=i.x,this.o[e+1]=i.y},i.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},i.prototype.GB=function(t){return i.Lr(this,t)},i.prototype.eg=function(t){return this.read(t)},i.prototype.resize=function(e,i){if(void 0===i&&(i=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(e<=this.size){if(30<this.o.length&&5*e/4<this.o.length){var n=new Int8Array(this.o,0,e);this.o=n}}else{e>this.o.length&&(n=t.O.truncate(64>e?Math.max(2*e,4):5*e/4),(n=new Int8Array(n)).set(this.o),this.o=n),n=this.o;for(var r=this.size;r<e;r++)n[r]=i}this.size=e},i.prototype.Bh=function(e){if((null==this.o||e>this.o.length)&&this.resize(e),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=e},i.prototype.pr=function(t,e){this.write(t,e)},i.prototype.An=function(e,i,n){for(var r=this.size;i<r&&i<n;i++)e=t.O.Th(this.read(i),e);return e},i.prototype.Nb=function(t,e,n){if(null==t||!(t instanceof i))return!1;var r=this.size,s=t.size;if(n>r||n>s&&r!=s)return!1;for(n>r&&(n=r);e<n;e++)if(this.read(e)!=t.read(e))return!1;return!0},i.prototype.addRange=function(e,i,n,r,s){if(this.Pb)throw t.i.Hb();if(!r&&(1>s||0!=n%s))throw t.i.N();var o=this.size;if(this.resize(o+n),r)this.o.set(e.o.subarray(i,i+n),o);else{r=n;for(var a=0;a<n;a+=s){r-=s;for(var h=0;h<s;h++)this.o[o+a+h]=e.o[i+r+h]}}},i.prototype.Mn=function(i,n,r,s,o,a,h){if(this.Pb)throw t.i.Hb();if(!o&&(1>a||0!=s%a))throw t.i.N();if(e(this.o,i+s,i,i+(h-i)),this.o==n.o&&i<r&&(r+=s),o)this.o.set(n.o.subarray(r,r+s),i);else for(o=s,h=0;h<s;h+=a){o-=a;for(var l=0;l<a;l++)this.o[i+h+l]=n.o[r+o+l]}},i.prototype.Ln=function(i,n,r,s){if(this.Pb)throw t.i.Hb();for(s-=i,e(this.o,i+s,i,i+s),s=0;s<r;s++)this.o[i+s]=n},i.prototype.Iz=function(i,n,r,s,o,a){if(this.Pb)throw t.i.Hb();if(0>a&&(a=this.size),this.size+2*s>this.o.length?this.resize(this.size+2*s):this.size+=2*s,e(this.o,i+2*s,i,i+(a-i)),o)for(o=0;o<s;o++)a=n[r++],this.o[i++]=a.x,this.o[i++]=a.y;else{o=0;for(var h=s-1;o<s;++o)a=n[r+h],this.o[i++]=a.x,this.o[i++]=a.y,h--}},i.prototype.vj=function(i,n,r){if(this.Pb)throw t.i.Hb();e(this.o,i+2,i,i+(r-i)),this.o[i]=n.x,this.o[i+1]=n.y},i.prototype.Ut=function(e,i,n,r,s,o){if(0>e||0>i||0>r)throw t.i.N();if(!s&&(0>=o||0!=i%o))throw t.i.N();if(n.size<r+i)throw t.i.N();if(0!=i)if(this.size<i+e&&this.resize(i+e),n==this)this.Ar(e,i,r,s,o);else if(s)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r++;else if(r=r+i-o,1==o)for(s=0;s<i;s++)this.o[e]=n.o[r],e++,r--;else for(s=0,i=t.O.truncate(i/o);s<i;s++){for(var a=0;a<o;a++)this.o[e+a]=n.o[r+a];e+=o,r-=o}},i.prototype.En=function(i,n,r){if(this.Pb)throw t.i.Hb();if(i+n>this.size)throw t.i.Hb();0<r-(i+n)&&e(this.o,i,i+n,i+(r-(i+n))+n),this.size-=n},i.prototype.ni=function(e,i,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=i%n)throw t.i.Hb();for(var r=i>>1,s=0;s<r;s+=n){i-=n;for(var o=0;o<n;o++){var a=this.o[e+s+o];this.o[e+s+o]=this.o[e+i+o],this.o[e+i+o]=a}}},i.prototype.Wj=function(e,i,n){if(0>i||0>n||0>i||n+i>this.size)throw t.i.N();for(var r=i;r<i+n;r++)this.o[r]=e},i.prototype.Ar=function(e,i,n,r,s){if(!(r&&e==n||(this.o.set(this.o.subarray(n,n+i),e),r)))for(n=e,e=e+i-s,r=0,i=t.O.truncate(i/2);r<i;r++){for(var o=0;o<s;o++){var a=this.o[n+o];this.o[n+o]=this.o[e+o],this.o[e+o]=a}n+=s,e-=s}},i.prototype.vC=function(e,i,n,r,s){if(0>e||0>i||0>r)throw t.i.N();if(0!=i)for(this.size<(i<<1)+e&&this.resize((i<<1)+e),s||(e+=i-1<<1),s=s?2:-2,i+=r;r<i;r++)this.o[e]=n[r].x,this.o[e+1]=n[r].y,e+=s},i.prototype.Vw=function(e,i,n,r,s){if(0>e||0>i||0>r||this.size<i+e)throw t.i.N();if(s)for(s=0;s<i;s++)n[r+s]=this.o[e+s];else for(r=r+i-1;e<i;e++)n[r]=this.o[e],r--},i.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},i.prototype.ix=function(){this.pk=this.Pb=!0},i.prototype.Vd=function(t,e,i){e=this.o.subarray(t,e),Array.prototype.sort.call(e,i),this.o.set(e,t)},i.prototype.zJ=function(e,i){if(this.Pb)throw t.i.fa("invalid call. Attribute Stream is read only.");this.o[e]|=i},i.prototype.KE=function(e,i){if(this.Pb)throw t.i.fa("invalid call. Attribute Stream is read only.");this.o[e]&=~i},i.prototype.Tp=function(){return 1},i}();t.pn=i}(J||(J={})),function(t){t.Yc=function(){function e(){}return e.Mr=function(e,i){return t.pn.qf(e,i)},e.Dn=function(e,i){return t.be.qf(e,i)},e.pP=function(e,i,n){switch(e){case 1:e=t.be.qf(i,n);break;case 2:e=t.ia.qf(i,n);break;case 4:e=t.pn.qf(i,n);break;default:throw t.i.Qa()}return e},e.YE=function(i,n){return e.pP(t.ra.Tp(i),n*t.ra.Va(i),t.ra.se(i))},e.Oh=function(e,i){return t.ia.qf(e,i)},e.qI=function(t){var e,i=[];for(e=0;e<t;e++)i.push(null);return i},e}()}(J||(J={})),function(t){t.ga=function(t){void 0===t&&(t=0),this.u=t}}(J||(J={})),function(t){t.NL=function(){function e(){}return e.bind=function(e){t.Sc=e.PeDefs,t.pf=e.PeFactory,t.NC=e.PeVertcs,t.ej=e.PeCSTransformations,t.MC=e.PeGTTransformations,t.LL=e.PeGeogtran,t.KL=e.PeFactoryCodechange,t.LC=e.PeGCSExtent,t.Cg=e.PePCSInfo,t.ML=e.PeHorizon,t.JL=e.PeCoordsys,t.lp=e.PeGTlistExtended,t.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,t.pf.initialize(null),t.Mx=e.PeGTlistExtendedEntry,t.pf.fromString(t.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},e}(),t.pf=null,t.NC=null,t.JL=null,t.ML=null,t.Cg=null,t.lp=null,t.Mx=null,t.LC=null,t.KL=null,t.LL=null,t.Sc=null,t.MC=null,t.ej=null}(J||(J={})),function(t){var e=function(){function t(){}return t.Mb=function(e,i){return 0<=i?t.P(e):-t.P(e)},t.P=function(t){return 0>t?-t:t},t.ti=function(t){return 3552713678800501e-30>t},t.KC=function(e,i,n){return t.P(e-i)<=n*(1+(t.P(e)+t.P(i))/2)},t.Y=function(e,i){return t.KC(e,i,3552713678800501e-30)},t.FL=function(e){return 3552713678800501e-30>=t.P(e)},t.Cd=function(e){return t.FL(e)},t}();t.s=e,t.F=function(){function i(){}return i.gp=function(t,i){var n=0;return 0!=(t=e.P(t))+(i=e.P(i))&&(t>i?(n=i/t,n=t*Math.sqrt(1+n*n)):(n=t/i,n=i*Math.sqrt(1+n*n))),n},i.Wq=function(t,n,r,s,o){for(var a=[0,0,0],h=[0,0,0],l=0;2>=l;l++)n[l]-=t[l],r[l]-=n[l];r=a[1]*h[2]-a[2]*h[1],n=a[2]*h[0]-a[0]*h[2],a=a[0]*h[1]-a[1]*h[0],t=-1*(r*t[0]+n*t[1]+a*t[2]),s[0]=r,s[1]=n,s[2]=a,s[3]=t,h=i.on(s),s[0]/=h,s[1]/=h,s[2]/=h,s[3]/=h,0!=o&&(h=e.Cd(a)?e.Cd(t)?e.Mb(1,n):-e.Mb(1,t):e.Mb(1,a),h*=e.Mb(1,o),s[0]*=h,s[1]*=h,s[2]*=h,s[3]*=h)},i.zx=function(t,e,i){i[0]=t[1]*e[2]-e[1]*t[2],i[1]=t[2]*e[0]-e[2]*t[0],i[2]=t[0]*e[1]-e[0]*t[1]},i.St=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.on=function(t){return i.gp(i.gp(t[0],t[1]),t[2])},i.cl=function(t,e,n,r,s,o,a,h){t=i.n(t,e,n);var l=Math.cos(n);o.u=(t+s)*l*Math.cos(r),a.u=(t+s)*l*Math.sin(r),h.u=(t*(1-e)+s)*Math.sin(n)},i.jO=function(t,n,r,s,o,a,h){var l=i.gp(n,r),u=1*Math.sqrt(1-t),c=u/1;if(e.Y(l,0))a.u=0,o.u=e.Mb(1.570796326794897,s),h.u=e.P(s)-u;else{a.u=Math.atan2(r,n),r=Math.atan2(1*s,u*l),a=Math.cos(r);var f=Math.sin(r);n=u*t/(1-t),t*=1,r=Math.atan2(s+n*f*f*f,l-t*a*a*a),3.141592653589793<e.P(r)&&(r=e.Mb(3.141592653589793,r)-r),r=Math.atan(c*Math.tan(r)),f=Math.sin(r),a=Math.cos(r),o.u=Math.atan2(s+n*f*f*f,l-t*a*a*a),1.570796326794897<e.P(o.u)&&(o.u=e.Mb(3.141592653589793,o.u)-o.u),r=Math.atan(c*Math.tan(o.u)),f=Math.sin(r),a=Math.cos(r),h.u=(s-u*f)*Math.sin(o.u)+(l-1*a)*Math.cos(o.u)}},i.n=function(t,e,i){return i=Math.sin(i),t/Math.sqrt(1-e*i*i)},i.ot=function(t,e){return Math.atan2(Math.sin(e)*(1-t),Math.cos(e))},i.Qj=function(t,e){return Math.atan2(Math.sin(e),Math.cos(e)*(1-t))},i.Rq=function(t,n){if(e.ti(t)||0==n||e.Y(e.P(n),1.570796326794897))return n;if(.006884661117170036>t){var r=Math.sqrt(1-t),s=(1-r)/(1+r),o=s*s,a=s*o,h=s*a,l=s*h,u=s*l,c=s*u,f=1.572916666666667*a-3.2578125*l+4.295068359375*c;t=2.142578125*h-6.071484375*u,r=3.129296875*l-11.249837239583334*c;var p=4.775276692708333*u,d=7.958636765252976*c,v=Math.cos(2*n);return n+Math.sin(2*n)*(1.5*s-.84375*a+.525390625*l-.2688395182291667*c-f+r-d+v*(2*(1.3125*o-1.71875*h+1.650146484375*u)-4*t+6*p+v*(4*f-12*r+24*d+v*(8*t-32*p+v*(16*r-80*d+v*(32*p+64*v*d))))))}for(r=1-t,s=t/2,a=(o=e.P(n))*i.Zu(t)/(1.570796326794897*r),h=9999,u=o,o=0;1e-16<h&&50>o;o++)c=i.w(t,u),l=u-(f=(l=(i.kG(u,t)-s*Math.sin(2*u)/c)/r-a)/(c=1/(c*c*c))),h=e.P(f),u=l;return 0<=n?u:-u},i.qW=function(t,n){return e.ti(n)?t:t*i.Zu(n)/1.570796326794897},i.ba=function(t){return 0>(t=i.pF(t,6.283185307179586))?t+6.283185307179586:3.141592653589793>e.P(t)||e.Y(e.P(t),3.141592653589793)?t:t-6.283185307179586},i.pF=function(t,e){return t-Math.floor(t/e)*e},i.Ah=function(t,e){if(.006884661117170036>e){var n=(e=(1-(e=Math.sqrt(1-e)))/(1+e))*e,r=n*n;return t/(1+e)*(1+.25*n+.015625*r+.00390625*n*r)*1.570796326794897}return t*i.Zu(e)},i.Vq=function(t,n){var r=e.Mb(1,Math.sin(n));return n=1.570796326794897>=(n=e.P(i.pF(n,3.141592653589793)))?n:3.141592653589793-n,(e.Y(n,1.570796326794897)?n:Math.atan(Math.sqrt(1-t)*Math.tan(n)))*r},i.q=function(t,e,n){if(.006884661117170036>e){var r=(e=(1-(e=Math.sqrt(1-e)))/(1+e))*e,s=e*r,o=e*s,a=e*o,h=e*a,l=e*h,u=-.7291666666666666*s+.2278645833333333*a+.03987630208333334*l,c=.615234375*o-.21533203125*h,f=-.54140625*a+.20302734375*l,p=.48876953125*h,d=-.4488699776785715*l,v=Math.cos(2*n);return t/(1+e)*((1+.25*r+.015625*o+.00390625*h)*n+Math.sin(2*n)*(-1.5*e+.1875*s+.0234375*a+.00732421875*l-u+f-d+v*(2*(.9375*r-.234375*o-.03662109375*h)-4*c+6*p+v*(4*u-12*f+24*d+v*(8*c-32*p+v*(16*f-80*d+v*(32*p+64*v*d)))))))}return t*(i.kG(n,e)-.5*e*Math.sin(2*n)/i.w(e,n))},i.w=function(t,e){return e=Math.sin(e),Math.sqrt(1-t*e*e)},i.Zu=function(t){return e.KC(t,1,2220446049250313e-31)?1:1>t?i.Xw(0,1-t)-t/3*i.Uw(0,1-t):NaN},i.kG=function(n,r){var s=e.Mb(1,n);n=e.P(n);var o=Math.floor(n/1.570796326794897);if(1<r)r=0==n?0:NaN;else if(e.Cd(o))r=(n=i.sin(n))*i.Xw(1-n*n,1-r*n*n)-r/3*n*n*n*i.Uw(1-n*n,1-r*n*n);else{var a=t.O.truncate(o%2),h=i.Zu(r);0<a?(n=1.570796326794897*(o+1)-n,r=h*(o+1)-(r=(n=Math.sin(n))*i.Xw(1-n*n,1-r*n*n)-r/3*n*n*n*i.Uw(1-n*n,1-r*n*n))):(n-=1.570796326794897*o,r=h*o+(r=(n=Math.sin(n))*i.Xw(1-n*n,1-r*n*n)-r/3*n*n*n*i.Uw(1-n*n,1-r*n*n)))}return r*s},i.sin=function(t){t=i.ba(t);var n=e.Mb(1,t);return t=e.P(t),e.Y(t,3.141592653589793)?0:e.Y(t,1.570796326794897)?1*n:Math.sin(t)*n},i.Uw=function(t,i){var n,r,s,o,a=t,h=i,l=1;for(i=0,t=1;r=((n=.2*(a+h+3*l))-a)/n,s=(n-h)/n,o=(n-l)/n,!(1e-4>e.P(r)&&1e-4>e.P(s)&&1e-4>e.P(o));)o=Math.sqrt(h),i+=t/((n=Math.sqrt(l))*(l+(o=Math.sqrt(a)*(o+n)+o*n))),t*=.25,a=.25*(a+o),h=.25*(h+o),l=.25*(l+o);return h=(a=r*s)-(l=o*o),3*i+t*(1+(l=a-6*l)*(.10227272727272728*l-.2142857142857143-.1730769230769231*o*(r=l+h+h))+o*(.1666666666666667*r+o*(-.4090909090909091*h+.1153846153846154*o*a)))/(n*Math.sqrt(n))},i.Xw=function(t,i){for(var n,r,s,o,a=1;r=2-((n=(t+i+a)/3)+t)/n,s=2-(n+i)/n,o=2-(n+a)/n,!(1e-4>e.P(r)&&1e-4>e.P(s)&&1e-4>e.P(o));a=.25*(a+n))n=Math.sqrt(i),r=Math.sqrt(a),t=.25*(t+(n=Math.sqrt(t)*(n+r)+n*r)),i=.25*(i+n);return(1+(.04166666666666666*(t=r*s-o*o)-.1-.06818181818181818*(i=r*s*o))*t+.07142857142857142*i)/Math.sqrt(n)},i.Qw=function(t,i){if(e.ti(t)||0==i||e.Y(e.P(i),1.570796326794897))return i;if(.006884661117170036>t){var n=t*t,r=t*n,s=t*r,o=t*s,a=t*o,h=t*a,l=-(.02708333333333333*r+.03430059523809524*s+.03149181547619048*o+.02634359154541446*a+.02156896735835538*h),u=.007669890873015873*s+.01299603174603175*o+.0148051353064374*a+.01454454953803912*h,c=-(.002275545634920635*o+.004830845032667949*a+.006558395368616723*h),f=.0006957236677288761*a+.001775193002406544*h,p=-.000217324089394402*h,d=Math.cos(2*i);return i+Math.sin(2*i)*(-(.5*t+.2083333333333333*n+.09375*r+.04878472222222222*s+.02916666666666667*o+.01938905423280423*a+.01388255931712963*h)-l+c-p+d*(2*(.1041666666666667*n+.0875*r+.06050347222222222*s+.04151785714285714*o+.02958958540013228*a+.02203667534722222*h)-4*u+6*f+d*(4*l-12*c+24*p+d*(8*u-32*f+d*(16*c-80*p+d*(32*f+64*d*p))))))}return 0==i||e.Y(e.P(i),1.570796326794897)?n=i:(s=(r=Math.sqrt(t))*Math.sin(i),n=Math.tan(.7853981633974483+i/2)*Math.pow((1-s)/(1+s),r/2),n=2*Math.atan(n)-1.570796326794897),n},i.yO=function(t,i){if(e.ti(t)||0==i||e.Y(e.P(i),1.570796326794897))return i;if(.006884661117170036>t){var n=t*(f=t*(c=t*(d=t*t))),r=t*(p=t*n),s=.05833333333333333*c+.07232142857142858*f+.05634300595238095*n+.0355325796406526*p+.020235546186067*r,o=.02653149801587302*f+.04379960317460317*n+.0429211791776896*p+.03255384637546096*r,a=.01294022817460318*n+.02668104344536636*p+.03155651254609588*r,h=.00659454790965208*p+.0163075268674227*r,l=.003463473736911237*r,u=Math.cos(2*i);return i+Math.sin(2*i)*(.5*t+.2083333333333333*d+.08333333333333333*c+.03611111111111111*f+.01875*n+.01195601851851852*p+.008863673941798942*r-s+a-l+u*(2*(.1458333333333333*d+.1208333333333333*c+.07039930555555556*f+.03616071428571429*n+.01839451058201058*p+.01017113095238095*r)-4*o+6*h+u*(4*s-12*a+24*l+u*(8*o-32*h+u*(16*a-80*l+u*(32*h+64*u*l))))))}var c=Math.sqrt(t),f=c/2,p=Math.tan(.7853981633974483+i/2);t=0,s=1;for(var d=i;0!=s;d=r)n=c*Math.sin(d),r=p*Math.pow((1+n)/(1-n),f),r=2*Math.atan(r)-1.570796326794897,t++,(e.Y(r,d)||3e4<t)&&(s=0);return d},i}()}(J||(J={})),function(t){var e=function(){function e(e){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new t.h,this.XH=new t.h,this.KA=!1,this.vq=new t.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=e,this.As=t.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var i=e.getCode();0<i?(this.Kk=i,t.pf.getCode(e)):this.Kk=t.pf.getCode(e),0>this.Kk&&(this.Kk=0);var n=this.Ue.getType();if(this.jH=n==t.Sc.PE_TYPE_PROJCS?2:1,n==t.Sc.PE_TYPE_PROJCS&&!e.loadConstants())throw t.i.N("PeProjcs.loadConstants failed");i=n==t.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),n!=t.Sc.PE_TYPE_GEOGCS&&t.pf.getCode(i),this.Eo=e.getUnit(),this.RH=i.getPrimem().getLongitude(),this.wH=e=i.getUnit().getUnitFactor(),e=Math.PI/(180*e),1e-10>Math.abs(e-1)&&(e=1),this.GA=e,n&t.Sc.PE_TYPE_PROJCS?(i=this.Ue,this.HA=1/i.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=t.Cg.generate(i,t.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=t.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,n=1/i.getUnit().getUnitFactor(),this.sw=.001/i.getDatum().getSpheroid().getAxis()*n,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return e.prototype.$r=function(){return this.Kk},e.prototype.kk=function(){return this.tw},e.Py=function(t,e){return t==e||null!=t&&null!=e&&0==t.Kk&&0==e.Kk&&t.As===e.As},e.prototype.Wc=function(){return this.zl},e.prototype.gh=function(t){t.K(this.so)},e.prototype.pv=function(){return this.so.v},e.prototype.ov=function(){return this.so.C},e.prototype.GR=function(t){t.K(this.uw)},e.prototype.lY=function(){var e=this.Ue.getType();if(e==t.Sc.PE_TYPE_PROJCS){e=this.Ue;var i=this.kk().getCentralMeridian(),n=e.getGeogcs();if(null==n)throw t.i.fa("internal error");i=[[i+(n=1/n.getUnit().getUnitFactor()*Math.PI),0]],t.ej.geogToProj(e,1,i),i=i[0][0],n=e.getParameters()[t.Sc.PE_PARM_X0].getValue();var r=this.ml();e=new t.l,r.A(e),i=(r=Math.abs(i-n))+n,n=-1*r+n,r=e.H,e=e.G;var s=new t.l;s.K(n,e,i,r),null==this.so&&(this.so=s)}else{if(e!=t.Sc.PE_TYPE_GEOGCS)throw t.i.fa("internal error");n=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(e=new t.l).K(-n,-n/2,n,n/2),null==this.so&&(this.so=e)}},e.prototype.mY=function(){var e=this.Ue.getType();if(e==t.Sc.PE_TYPE_PROJCS){var i=this.Ue;if(e=this.kk().getCentralMeridian(),null==(i=i.getGeogcs()))throw t.i.fa("internal error");i=1/i.getUnit().getUnitFactor()*Math.PI;var n=this.Vr(),r=new t.l;n.A(r),(n=new t.l).K(e-i,r.G,e+i,r.H),null==this.uw&&(this.uw=n)}else{if(e!=t.Sc.PE_TYPE_GEOGCS)throw t.i.fa("internal error");i=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(e=new t.l).K(-i,-i/2,i,i/2),null==this.uw&&(this.uw=e)}},e.prototype.bf=function(){return this.GA},e.prototype.pm=function(){return this.HA},e.prototype.Vr=function(){if(this.zl)return this.ul;var t=this.ul;return null!=t?t:(this.xx(),this.ul)},e.prototype.Wr=function(){return this.zl?null:(null!=this.ul||this.xx(),this.YG)},e.prototype.xx=function(){if(this.Ue.getType()==t.Sc.PE_TYPE_PROJCS){var e=this.Ue,i=e.getGeogcs(),n=e.horizonGcsGenerate();if(null!=n){var r=n[0].getNump(),s=n[0].getKind();e=0<n[0].getInclusive();var o=this.bf(),a=90*o,h=360*o,l=370*o,u=180*o*t.Sc.PE_HORIZON_DELTA/Math.PI,c=new t.l,f=null;if(1<r)for(var p=1;p<r;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_LINE){null==f&&(f=new t.Ta);var d=n[p].getCoord();f.sx(d[0][0],d[0][1]),f.yj(d[1][0],d[1][1])}if(s==t.Sc.PE_HORIZON_RECT)n=n[0].getCoord(),c.K(n[0][0],n[0][1]),c.Zb(n[1][0],n[1][1]),Math.abs(c.H-a)<1e-7*u&&(c.H=a),Math.abs(c.G+a)<1e-7*u&&(c.G=-a),c.R()>l&&(n=-400*o,c.K(n,c.G,n+5*h,c.H)),n=new t.Fh(c),null==this.ul&&(this.ul=n,this.Iv=e);else{if(l=new t.Da,h=this.kk().isGcsHorizonMultiOverlap(),c=t.gu.bF(i,t.hu.Integer64),h){for(l=new t.gL,u=t.Gh.local().V(l,c,null),p=0;p<r;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_POLY){for(i=n[p].getSize(),o=n[p].getCoord(),s=[],a=0;a<i;a++)s[a]=t.h.construct(o[a][0],o[a][1]);n[p].getInclusive(),h&&((o=new t.Da).Yk(s,i-1),l.ZX(o),u.qe())}l=u.next()}else for(p=0;p<r;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_POLY){for(i=n[p].getSize(),o=n[p].getCoord(),h=[],a=0;a<i;a++)h[a]=t.h.construct(o[a][0],o[a][1]);n[p].getInclusive(),l.Yk(h,i-1)}e?t.Xj.local().wn(l,c,1):t.kp.local().wn(l,c,1),t.dj.local().wn(l,c,1),null==this.ul&&(this.ul=l,this.Iv=e,this.YG=f)}}}},e.prototype.hv=function(){return this.zl||null==this.ul&&this.xx(),this.Iv},e.prototype.DK=function(){if(2==this.jH){var e=this.Ue.horizonPcsGenerate();if(null!=e){var i=e[0].getKind();e[0].getInclusive();var n=e[0].getNump(),r=!1;if(i==t.Sc.PE_HORIZON_RECT)e=e[0].getCoord(),(n=new t.l).K(e[0][0],e[0][1]),n.Zb(e[1][0],e[1][1]),e=new t.Fh(n);else{for(i=-1,r=0;r<n;r++)e[r].getKind()==t.Sc.PE_HORIZON_POLY&&(i=r);for(r=e[i].getSize()-1,e=e[i].getCoord(),n=[],i=0;i<r;i++)n[i]=t.h.construct(e[i][0],e[i][1]);e=i=new t.Da,i.Yk(n,r),r=!0}this.kk().isDensificationNeeded()&&(n=1e5*this.pm(),e=t.Xl.local().V(e,n,null)),r&&(r=new t.Fh,e.bn(r),e.Ke(),e.Qb(),e.qR(),t.Xj.local().wn(e,null,1)),null==this.Us&&(this.Us=e)}}},e.prototype.ml=function(){if(this.zl)return this.Us;var t=this.Us;return null!=t?t:(this.DK(),this.Us)},e.prototype.nY=function(){if(this.Ue.getType()==t.Sc.PE_TYPE_PROJCS){var e=90*this.bf();e=[[0,e],[0,-e]],t.ej.geogToProj(this.Ue,2,e);var i=this.kk(),n=i.getNorthPoleLocation()!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY;i=i.getSouthPoleLocation()!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(n&&this.HH.ma(e[0][0],e[0][1]),i&&this.XH.ma(e[1][0],e[1][1]))}this.KA=!0},e.prototype.CK=function(){if(1==this.jH){var e=400*this.bf();this.vq.K(-e,-e,e,e)}else e=t.Cg.generate(this.Ue,t.Cg.PE_PCSINFO_OPTION_DOMAIN),e=t.l.construct(e.getDomainMinx(),e.getDomainMiny(),e.getDomainMaxx(),e.getDomainMaxy()),this.vq.B()&&this.vq.K(e)},e.prototype.hR=function(t){this.zl&&t.K(this.vq),this.vq.B()&&this.CK(),t.K(this.vq)},e.prototype.Up=function(){return this.RH},e.prototype.zi=function(){return this.bA},e.prototype.Hd=function(){return this.Eo},e.prototype.Xr=function(){return this.wH},e}();t.OC=e}(J||(J={})),function(t){var e=function(){function e(e){this.KT=e,this.As=t.zb.xv(e,0,!0);var i=e.getCode();this.ss=0<i?i:t.pf.getCode(e),0>this.ss&&(this.ss=0),this.Eo=i=this.KT.getUnit(),this.IH=1/i.getUnitFactor(),t.pf.getCode(e)}return e.Py=function(t,e){return t==e||null!=t&&null!=e&&0==t.ss&&0==e.ss&&t.As===e.As},e.prototype.$r=function(){return this.ss},e}();t.PL=e}(J||(J={})),function(t){t.Yg=function(){function e(){}return e.tb=function(e,i,n,r,s,o,a,h){if(null!=o||null!=a||null!=h){r=t.F.ba(r),i=t.F.ba(i),n=t.F.ba(n),s=t.F.ba(s),1.570796326794897<t.s.P(n)&&(n=t.s.Mb(3.141592653589793,n)-n,i=t.F.ba(i+3.141592653589793)),1.570796326794897<t.s.P(s)&&(s=t.s.Mb(3.141592653589793,s)-s,r=t.F.ba(r+3.141592653589793));var l=t.F.ba(r-i);if(t.s.Y(n,s)&&(t.s.Y(i,r)||t.s.Y(t.s.P(n),1.570796326794897)))null!=o&&(o.u=0),null!=a&&(a.u=0),null!=h&&(h.u=0);else{if(t.s.Y(n,-s)){if(t.s.Y(t.s.P(n),1.570796326794897))return null!=o&&(o.u=3.141592653589793*e),null!=a&&(a.u=0<n?t.F.ba(3.141592653589793-t.F.ba(r)):t.F.ba(r)),void(null!=h&&(h.u=0<n?t.F.ba(r):t.F.ba(3.141592653589793-t.F.ba(r))));if(t.s.Y(t.s.P(l),3.141592653589793))return null!=o&&(o.u=3.141592653589793*e),null!=a&&(a.u=0),void(null!=h&&(h.u=0))}var u=1.570796326794897==t.s.P(n)?0:Math.cos(n),c=Math.sin(n),f=1.570796326794897==t.s.P(s)?0:Math.cos(s),p=Math.sin(s),d=1.570796326794897==t.s.P(l)?0:Math.cos(l),v=3.141592653589793==t.s.P(l)?0:Math.sin(l);if(null!=o){var g=Math.sin((s-n)/2);l=Math.sin(l/2),o.u=2*Math.asin(Math.sqrt(g*g+u*f*l*l))*e}null!=a&&(a.u=t.s.Y(t.s.P(n),1.570796326794897)?0>n?r:t.F.ba(3.141592653589793-r):Math.atan2(f*v,u*p-c*f*d)),null!=h&&(t.s.Y(t.s.P(s),1.570796326794897)?h.u=0>s?i:t.F.ba(3.141592653589793-i):(h.u=Math.atan2(u*v,p*u*d-f*c),h.u=t.F.ba(h.u+3.141592653589793)))}}},e.rf=function(e,i,n,r,s,o,a){if(null!=o||null!=a){i=t.F.ba(i),n=t.F.ba(n),1.570796326794897<t.s.P(n)&&(n=t.s.Mb(3.141592653589793,n)-n,i=t.F.ba(i+3.141592653589793)),t.s.Y(t.s.P(n),1.570796326794897)&&(i=0),s=t.F.ba(s);var h=t.s.Y(t.s.P(s),1.570796326794897)?0:Math.cos(s),l=t.s.Y(t.s.P(s),3.141592653589793)?0:Math.sin(s),u=t.s.Y(t.s.P(n),1.570796326794897)?0:Math.cos(n),c=Math.sin(n);e=r/e,r=t.s.Y(t.s.P(e),1.570796326794897)?0:Math.cos(e);var f=t.s.Y(t.s.P(e),3.141592653589793)?0:Math.sin(e),p=Math.asin(c*r+u*f*h);null!=a&&(a.u=p),null!=o&&(o.u=t.s.Y(t.s.P(p),1.570796326794897)?t.s.Y(n,-p)?0>p?s:t.F.ba(3.141592653589793-s):i:t.s.Y(t.s.P(n),1.570796326794897)&&t.s.Y(e,3.141592653589793)?0>n?s:t.F.ba(3.141592653589793-s):t.F.ba(i+Math.atan2(f*l,u*r-c*f*h)))}},e}()}(J||(J={})),function(t){t.Wk=function(){function e(){}return e.tb=function(e,i,n,r,s,o,a,h,l){var u=new t.ga(0),c=new t.ga(0),f=[0,0,0],p=[0,0,0],d=[0,0,0],v=new t.ga(0),g=new t.ga(0),y=new t.ga(0),m=new t.ga(0),_=new t.ga(0);if(null!=a||null!=h||null!=l)if(t.s.ti(i))t.Yg.tb(e,n,r,s,o,a,h,l);else{s=t.F.ba(s),n=t.F.ba(n);var b=t.F.ba(s-n);if(t.s.Y(r,o)&&(t.s.Y(n,s)||t.s.Y(t.s.P(r),1.570796326794897)))null!=a&&(a.u=0),null!=h&&(h.u=0),null!=l&&(l.u=0);else{if(t.s.Y(r,-o)){if(t.s.Y(t.s.P(r),1.570796326794897))return null!=a&&(a.u=2*t.F.Ah(e,i)),null!=h&&(h.u=0<r?t.F.ba(3.141592653589793-t.F.ba(s)):t.F.ba(s)),void(null!=l&&(l.u=0<r?t.F.ba(s):t.F.ba(3.141592653589793-t.F.ba(s))));t.s.Y(t.s.P(b),3.141592653589793)&&(null!=a&&(a.u=2*t.F.Ah(e,i)),null!=h&&(h.u=0),null!=l&&(l.u=0))}else(t.s.Y(t.s.P(r),1.570796326794897)||t.s.Y(t.s.P(o),1.570796326794897))&&(t.s.Y(t.s.P(r),1.570796326794897)?n=s:s=n);var w=0;if(0>b){w=1;var x=n;n=s,s=x,x=r,r=o,o=x}b=t.F.ot(i,r);var S=t.F.ot(i,o);null==h&&null==l||(t.Yg.tb(e,n,b,s,S,null,u,c),u=Math.atan2(Math.sin(u.u)*Math.cos(r-b),Math.cos(u.u)),c=Math.atan2(Math.sin(c.u)*Math.cos(o-S),Math.cos(c.u)),0!=w&&(x=u,u=c,c=x),null!=h&&(h.u=u),null!=l&&(l.u=c)),null!=a&&(t.F.cl(1,i,r,n,0,y,m,_),f[0]=y.u,f[1]=m.u,f[2]=_.u,t.F.cl(1,i,o,s,0,y,m,_),p[0]=y.u,p[1]=m.u,p[2]=_.u,d[0]=f[1]*p[2]-p[1]*f[2],d[1]=-(f[0]*p[2]-p[0]*f[2]),d[2]=f[0]*p[1]-p[0]*f[1],i=1-t.F.w(i,t.F.Vq(i,t.F.Qj(i,Math.acos(d[2]/Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]))))),i*=2-i,h=Math.atan2(-d[1],-d[0]),d=t.F.ba(h-1.570796326794897),h=t.F.ba(h+1.570796326794897),d=t.s.P(t.F.ba(n-d))<=t.s.P(t.F.ba(n-h))?d:h,t.Yg.tb(1,d,0,n,b,v,null,null),t.Yg.tb(1,d,0,s,S,g,null,null),3.141592653589793<v.u+g.u&&(d=t.F.ba(d+3.141592653589793),t.Yg.tb(1,d,0,n,b,v,null,null),t.Yg.tb(1,d,0,s,S,g,null,null)),v.u*=t.s.Mb(1,r),g.u*=t.s.Mb(1,o),v.u=t.F.Qj(i,v.u),g.u=t.F.Qj(i,g.u),n=t.F.q(e,i,v.u),e=t.F.q(e,i,g.u),a.u=t.s.P(e-n))}}},e.rf=function(e,i,n,r,s,o,a,h){var l=0,u=new t.ga(0),c=new t.ga(0),f=[0,0,0],p=[0,0,0],d=new t.ga(0),v=new t.ga(0),g=new t.ga(0);if(null!=a||null!=h)if(t.s.ti(i))t.Yg.rf(e,n,r,s,o,a,h);else if(t.s.Cd(s))null!=a&&(a.u=n),null!=h&&(h.u=r);else if(o=t.F.ba(o),0>s&&(s=t.s.P(s),o=t.F.ba(o+3.141592653589793)),n=t.F.ba(n),r=t.F.ba(r),1.570796326794897<t.s.P(r)&&(n=t.F.ba(n+3.141592653589793),r=t.s.Mb(3.141592653589793,r)-r),t.s.Y(t.s.P(r),1.570796326794897)&&(n=0),t.s.Cd(r)){var y=t.s.P(1.570796326794897-t.s.P(o));y=t.F.Qj(i,y),y=1-t.F.w(i,t.F.Vq(i,y)),y*=2-y,e=s/t.F.Ah(e,y)*1.570796326794897,e=t.F.Rq(y,e),e=t.F.ot(y,e),t.Yg.rf(1,n,r,e,o,a,u),null!=h&&(l=u.u),null!=h&&(h.u=t.F.Qj(i,l))}else if(t.s.Y(t.s.P(r),1.570796326794897))u=2*(l=t.F.Ah(e,i)),o=0<(e=t.s.Mb(1.570796326794897,r))?t.F.ba(3.141592653589793-o):o,r=l-s,t.s.P(r)<=l?null!=a&&(a.u=o):(r=Math.floor(s/u),0==t.O.truncate(r%2)?(null!=a&&(a.u=o),s-=r*u):(null!=a&&(a.u=t.F.ba(o+3.141592653589793)),s=(r+1)*u-s),r=l-s),null!=h&&(h.u=t.F.Rq(i,r/l*e));else{y=t.F.ot(i,r),o=Math.atan2(Math.sin(o),Math.cos(o)*Math.cos(r-y));var m=t.O.truncate(t.s.Mb(1,y))*(1.570796326794897>=t.s.P(o)?1:-1);o=t.F.ba(n+Math.atan(Math.tan(o)*-Math.sin(y))),t.Yg.tb(e,o,0,n,y,null,c,null),y=t.s.P(1.570796326794897-t.s.P(c.u)),y=t.F.Qj(i,y),y=1-t.F.w(i,t.F.Vq(i,y)),y*=2-y,t.F.cl(1,i,0,o,0,d,v,g),f[0]=d.u,f[1]=v.u,f[2]=g.u,t.F.cl(1,i,r,n,0,d,v,g),p[0]=d.u,p[1]=v.u,p[2]=g.u,r=Math.acos((f[0]*p[0]+f[1]*p[1]+f[2]*p[2])/Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])),r=t.F.Qj(y,r),s=0<(r=t.F.q(e,y,r)+s*m)?c.u:t.F.ba(c.u+3.141592653589793),e=t.s.P(r)/t.F.Ah(e,y)*1.570796326794897,e=t.F.Rq(y,e),e=t.F.ot(y,e),t.Yg.rf(1,o,0,e,s,a,u),null!=h&&(l=u.u),null!=h&&(h.u=t.F.Qj(i,l))}},e}()}(J||(J={})),function(t){t.cu=function(){function e(){}return e.tb=function(e,i,n,r,s,o,a,h,l){var u=0,c=0,f=0;if(null!=a||null!=h||null!=l)if(t.s.ti(i))t.Yg.tb(e,n,r,s,o,a,h,l);else{var p=t.F.ba(s-n);if(t.s.Y(r,o)&&(t.s.Cd(p)||t.s.Y(t.s.P(r),1.570796326794897)))null!=a&&(a.u=0),null!=h&&(h.u=0),null!=l&&(l.u=0);else{if(t.s.Y(r,-o)){if(t.s.Y(t.s.P(r),1.570796326794897))return null!=a&&(a.u=2*t.F.Ah(e,i)),null!=h&&(h.u=0<r?t.F.ba(3.141592653589793-t.F.ba(s)):t.F.ba(s)),void(null!=l&&(l.u=0<r?t.F.ba(s):t.F.ba(3.141592653589793-t.F.ba(s))));t.s.Y(t.s.P(p),3.141592653589793)&&(null!=a&&(a.u=2*t.F.Ah(e,i)),null!=h&&(h.u=0),null!=l&&(l.u=0))}else{if(t.s.Y(t.s.P(r),1.570796326794897)||t.s.Y(t.s.P(o),1.570796326794897))return void t.Wk.tb(e,i,n,r,s,o,a,h,l);if(t.s.Cd(p)||t.s.Y(t.s.P(p),3.141592653589793))return void t.Wk.tb(e,i,n,r,s,o,a,h,l)}var d=1-Math.sqrt(1-i),v=i/(1-i),g=e*(1-d);e=t.F.Vq(i,r);var y=t.F.Vq(i,o);i=1.570796326794897==t.s.P(e)?0:Math.cos(e);var m=Math.sin(e),_=1.570796326794897==t.s.P(y)?0:Math.cos(y),b=Math.sin(y),w=p,x=Math.cos(w),S=Math.sin(w),T=1,A=0;do{var E=w,M=Math.sqrt(Math.pow(_*S,2)+Math.pow(i*b-m*_*x,2)),I=m*b+i*_*x,C=Math.atan2(M,I);if(0==M){T=0;break}var R=i*_*S/M;if(u=Math.cos(Math.asin(R)),c=I-2*m*b/(u*=u),1<t.s.P(c)&&(c=t.s.Mb(1,c)),w=p+(1-(w=d/16*u*(4+d*(4-3*u))))*d*R*(C+w*M*(c+w*I*(2*(f=c*c)-1))),x=Math.cos(w),S=Math.sin(w),A++,3.141592653589793<t.s.P(w)&&30<A){T=0;break}}while(5e3>=A&&!t.s.Y(E,w));if(0!=T)d=(v*=u)*(256+v*(v*(74-47*v)-128))/1024,null!=a&&(a.u=g*(1+v*(4096+v*(v*(320-175*v)-768))/16384)*(C-d*M*(c+d/4*(I*(2*f-1)-d/6*c*(4*M*M-3)*(4*f-3))))),null!=h&&(h.u=t.s.Y(t.s.P(r),1.570796326794897)?0>r?s:t.F.ba(3.141592653589793-s):Math.atan2(_*S,i*b-m*_*x)),null!=l&&(t.s.Y(t.s.P(o),1.570796326794897)?l.u=0>o?n:t.F.ba(3.141592653589793-n):(l.u=Math.atan2(i*S,i*b*x-m*_),l.u=t.F.ba(l.u+3.141592653589793)));else{w=t.s.Mb(3.141592653589793,p),I=m*b-i*_,C=Math.acos(I),M=Math.sin(C),u=1,A=R=0;do{f=R,x=1-.25*(R=d*(u*=u)*(1+d+d*d))+.1875*(c=d*d*(x=u*u)*(1+2.25*d))-.1953125*(T=d*d*d*x*u),R=.25*R-.25*c+.29296875*T,S=.03125*c-.05859375*T,T*=.00651041666666667,c=I-2*m*b/u,1<t.s.P(c)&&(c=t.s.Mb(1,c)),u=Math.acos(c),I=Math.cos(2*u),E=Math.cos(3*u),S=(R=t.s.Y(r,-o)?t.F.ba(3.141592653589793-p)/(3.141592653589793*d*x):t.F.ba(w-p)/(d*(x*C+R*M*c+S*Math.sin(2*C)*I+T*Math.sin(3*C)*E)))*M/(i*_),w=1.570796326794897<t.s.P(p)?t.s.Mb(3.141592653589793,S)-Math.asin(S):Math.asin(S),x=Math.cos(w),M=Math.sqrt(Math.pow(_*S,2)+Math.pow(i*b-m*_*x,2)),C=3.141592653589793-Math.asin(t.s.P(M)),I=Math.cos(C),u=Math.cos(Math.asin(R)),A++}while(70>=A&&!t.s.Y(f,R));null!=a&&(x=1+(v*=u*=u)*(4096+v*(v*(320-175*v)-768))/16384,t.s.Y(r,-o)?a.u=3.141592653589793*g*x:(c=I-2*m*b/u,u=Math.acos(c),I=Math.cos(2*u),E=Math.cos(3*u),a.u=g*(x*C+v*(v*(128+v*(35*v-60))-512)/2048*M*c+v*(5*v-4)/6144*v*v*Math.sin(2*C)*I+T*Math.sin(3*C)*E+-762939453125e-16*v*v*v*v*Math.sin(4*C)*Math.cos(4*u)))),null!=h&&(t.s.Cd(r)&&t.s.Cd(o)?(u=Math.sqrt(1-R*R),h.u=Math.acos(u),0>p&&(h.u*=-1)):t.s.Y(t.s.P(r),1.570796326794897)?h.u=0>r?s:t.F.ba(3.141592653589793-s):(a=R/i,g=Math.sqrt(1-a*a),0>i*b-m*_*Math.cos(w)&&(g*=-1),h.u=Math.atan2(a,g),t.s.Y(r,-o)&&t.s.P(t.F.ba(n-s))>3.141592653589793*(1-d*Math.cos(r))&&(0<r&&1.570796326794897>t.s.P(h.u)||0>r&&1.570796326794897<t.s.P(h.u))&&(h.u=t.s.Mb(3.141592653589793,h.u)-h.u))),null!=l&&(t.s.Cd(r)&&t.s.Cd(o)?(u=Math.sqrt(1-R*R),l.u=Math.acos(u),0<=p&&(l.u*=-1)):t.s.Y(t.s.P(o),1.570796326794897)?l.u=0>o?n:t.F.ba(3.141592653589793-n):(p=R/_,a=Math.sqrt(1-p*p),g=Math.sin(w/2),0>Math.sin(y-e)-2*i*b*g*g&&(a*=-1),l.u=Math.atan2(p,a),l.u=t.F.ba(l.u+3.141592653589793),t.s.Y(r,-o)&&!t.s.Cd(r)&&!t.s.Y(t.s.P(r),1.570796326794897)&&t.s.P(t.F.ba(n-s))>3.141592653589793*(1-d*Math.cos(r))&&(null!=h?g=h.u:(a=R/i,g=Math.sqrt(1-a*a),0>i*b-m*_*Math.cos(w)&&(g*=-1),g=Math.atan2(a,g),t.s.Y(r,-o)&&t.s.P(t.F.ba(n-s))>3.141592653589793*(1-d*Math.cos(r))&&(0<r&&1.570796326794897>t.s.P(g)||0>r&&1.570796326794897<t.s.P(g))&&(g=t.s.Mb(3.141592653589793,g)-g)),1.570796326794897>=t.s.P(g)&&1.570796326794897<t.s.P(l.u)||1.570796326794897<=t.s.P(g)&&1.570796326794897>t.s.P(l.u))&&(l.u=-1*t.F.ba(l.u+3.141592653589793))))}}}},e.rf=function(e,i,n,r,s,o,a,h){if(null!=a||null!=h)if(t.s.ti(i))t.Yg.rf(e,n,r,s,o,a,h);else if(o=t.F.ba(o),t.s.Y(t.s.P(r),1.570796326794897)||t.s.Cd(o)||t.s.Y(t.s.P(o),3.141592653589793))t.Wk.rf(e,i,n,r,s,o,a,h);else{var l=1.570796326794897==t.s.P(o)?0:Math.cos(o),u=3.141592653589793==t.s.P(o)?0:Math.sin(o);t.s.Y(t.s.P(r),1.570796326794897)&&(n=0),o=1-Math.sqrt(1-i);var c=t.F.Vq(i,r);r=1.570796326794897==t.s.P(c)?0:Math.cos(c);var f=Math.sin(c);c=Math.atan2(Math.tan(c),l);var p=r*u,d=p*p,v=1-d,g=i/(1-i)*v,y=(i=g*(256+g*(g*(74-47*g)-128))/1024)/4,m=i/6,_=s/(e*(1-o)*(1+g*(4096+g*(g*(320-175*g)-768))/16384)),b=_;do{var w=b;s=1.570796326794897==t.s.P(b)?0:Math.cos(b);var x=(g=3.141592653589793==t.s.P(b)?0:Math.sin(b))*g;b=i*g*((e=Math.cos(2*c+b))+y*(s*(2*(b=e*e)-1)-m*e*(4*x-3)*(4*b-3)))+_}while(!t.s.Y(w,b));s=1.570796326794897==t.s.P(b)?0:Math.cos(b),g=3.141592653589793==t.s.P(b)?0:Math.sin(b),null!=a&&(u=Math.atan2(g*u,r*s-f*g*l),v=o/16*v*(4+o*(4-3*v)),e=Math.cos(2*c+b),a.u=t.F.ba(n+(u-(1-v)*o*p*(b+v*g*(e+v*s*(2*e*e-1)))))),null!=h&&(v=f*g-r*s*l,v=(1-o)*Math.sqrt(d+v*v),h.u=Math.atan2(f*s+r*g*l,v))}},e}()}(J||(J={})),function(t){t.PC=function(){function e(){}return e.tb=function(e,i,n,r,s,o,a,h,l){var u=t.F.ba(s-n),c=t.s.Y(t.s.P(r),1.570796326794897),f=t.s.Y(t.s.P(o),1.570796326794897);if(t.s.Y(r,o)&&(t.s.Cd(u)||c))null!=a&&(a.u=0),null!=h&&(h.u=0),null!=l&&(l.u=0);else{if(t.s.ti(i)){var p=Math.sin(r),d=Math.sin(o);p=Math.sqrt((1+p)/(1-p)),d=Math.sqrt((1+d)/(1-d)),p=Math.log(d)-Math.log(p),p=Math.atan2(u,p),null!=a&&(a.u=t.s.Y(r,o)?t.s.P(e*Math.cos(r)*u):t.s.P((e*o-e*r)/Math.cos(p)))}else d=t.F.Qw(i,o),p=Math.sin(t.F.Qw(i,r)),d=Math.sin(d),p=Math.sqrt((1+p)/(1-p)),d=Math.sqrt((1+d)/(1-d)),p=Math.log(d)-Math.log(p),p=Math.atan2(u,p),null!=a&&(t.s.Y(r,o)?a.u=t.s.P(e*u*Math.cos(r)/t.F.w(i,r)):(u=t.F.q(e,i,r),e=t.F.q(e,i,o),a.u=t.s.P((e-u)/Math.cos(p))));null==h&&null==l||(a=t.F.ba(p+3.141592653589793),c&&f||!c&&!f||(c?p=0>r?s:t.F.ba(3.141592653589793-s):f&&(a=0>o?n:t.F.ba(3.141592653589793-n))),null!=h&&(h.u=p),null!=l&&(l.u=a))}},e.rf=function(e,i,n,r,s,o,a,h){o=t.F.ba(o),0>s&&(s=t.s.P(s),o=t.F.ba(o+3.141592653589793)),t.s.ti(i)?t.s.Y(t.s.P(r),1.570796326794897)?(n=0>r?o:t.F.ba(3.141592653589793-o),3.141592653589793>=(o=s/e%6.283185307179586)?e=r-t.s.Mb(o,r):(n=t.F.ba(n+3.141592653589793),e=-r+t.s.Mb(o-3.141592653589793,r))):t.s.Y(t.s.P(o),1.570796326794897)?(n=t.F.ba(n+t.s.Mb(s,o)/(e*Math.cos(r))),e=r):(e=r+s*Math.cos(o)/e,1.570796326794897<t.s.P(e)&&(e=1.570796326794897),t.s.Y(t.s.P(e),1.570796326794897)&&(t.s.Cd(o)||t.s.Y(t.s.P(o),3.141592653589793))||(1.570796316258184<t.s.P(e)&&(e=t.s.Mb(1.570796316258184,e)),i=Math.sin(r),r=Math.sin(e),i=Math.sqrt((1+i)/(1-i)),r=Math.sqrt((1+r)/(1-r)),i=Math.log(r)-Math.log(i),n=t.F.ba(n+Math.tan(o)*i))):t.s.Y(t.s.P(r),1.570796326794897)?(n=0>r?o:t.F.ba(3.141592653589793-o),o=s/t.F.qW(e,i),3.141592653589793>=(o%=6.283185307179586)?e=r-t.s.Mb(o,r):(n=t.F.ba(n+3.141592653589793),e=-r+t.s.Mb(o-3.141592653589793,r)),e=t.F.Rq(i,e)):t.s.Y(t.s.P(o),1.570796326794897)?(n=t.F.ba(n+t.s.Mb(s,o)*t.F.w(i,r)/(e*Math.cos(r))),e=r):(e=1.570796326794897*(s*Math.cos(o)+t.F.q(e,i,r))/t.F.Ah(e,i),1.570796326794897<t.s.P(e)&&(e=t.s.Mb(1.570796326794897,e)),e=t.F.Rq(i,e),t.s.Y(t.s.P(e),1.570796326794897)&&(t.s.Cd(o)||t.s.Y(t.s.P(o),3.141592653589793))||(s=t.F.Qw(i,r),r=t.F.Qw(i,e),1.570796316258184<t.s.P(r)&&(r=t.s.Mb(1.570796316258184,e),e=t.F.yO(i,r)),i=Math.sin(s),r=Math.sin(r),i=Math.sqrt((1+i)/(1-i)),r=Math.sqrt((1+r)/(1-r)),i=Math.log(r)-Math.log(i),n=t.F.ba(n+Math.tan(o)*i))),null!=a&&(a.u=n),null!=h&&(h.u=e)},e}()}(J||(J={})),function(t){t.kb=function(){function e(){}return e.Xy=function(e,i,n,r,s,o,a){t.cu.tb(e,i,n,r,s,o,null,a,null)},e.yi=function(e,i,n,r,s,o,a,h){t.cu.rf(e,i,n,r,s,o,a,h)},e.wd=function(e,i,n,r,s,o,a,h,l,u){switch(u){case 2:t.Wk.tb(e,i,n,r,s,o,a,h,l);break;case 3:t.QC.tb(e,i,n,r,s,o,a,h,l);break;case 1:t.PC.tb(e,i,n,r,s,o,a,h,l);break;default:t.cu.tb(e,i,n,r,s,o,a,h,l)}},e.oj=function(e,i,n,r,s,o,a,h,l){switch(l){case 2:t.Wk.rf(e,i,n,r,s,o,a,h);break;case 3:t.QC.rf(e,i,n,r,s,o,a,h);break;case 1:t.PC.rf(e,i,n,r,s,o,a,h);break;default:t.cu.rf(e,i,n,r,s,o,a,h)}},e}()}(J||(J={})),function(t){var e=function(){function e(){this.y=this.x=null}return e.construct=function(i){var n=new e;return n.x=new t.Wb,n.x.set(i.x),n.y=new t.Wb,n.y.set(i.y),n},e.VE=function(i,n){var r=new e;return r.x=new t.Wb,r.x.set(i),r.y=new t.Wb,r.y.set(n),r},e.prototype.qg=function(){return this.x.qg()&&this.y.qg()},e.prototype.value=function(){return t.h.construct(this.x.value(),this.y.value())},e}();t.vY=e;var i=function(){function e(){this.z=this.y=this.x=null}return e.construct=function(i){var n=new e;return n.x=new t.Wb,n.x.set(i.x),n.y=new t.Wb,n.y.set(i.y),n.z=new t.Wb,n.z.set(i.z),n},e.VE=function(i,n,r){var s=new e;return s.x=new t.Wb,s.x.set(i),s.y=new t.Wb,s.y.set(n),s.z=new t.Wb,s.z.set(r),s},e.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},e.prototype.value=function(){return new t.Nd(this.x.value(),this.y.value(),this.z.value())},e.prototype.Qh=function(e){var i=new t.Wb,n=new t.Wb,r=new t.Wb;return i.Kl(this.x,e.x),n.Kl(this.y,e.y),r.Kl(this.z,e.z),(e=new t.Wb).dN(i,n),e.add(r),e},e.prototype.cF=function(i){var n=new e;n.x.Kl(this.y,i.z),n.y.Kl(this.z,i.x),n.z.Kl(this.x,i.y);var r=new t.Wb,s=new t.Wb,o=new t.Wb;return r.Kl(this.z,i.y),s.Kl(this.x,i.z),o.Kl(this.y,i.x),n.x.sub(r),n.y.sub(s),n.z.sub(o),n},e}();t.wY=i,t.Ox=function(){function n(){}return n.EP=function(t,e,i){var r=e.x;e=e.y,n.cl(1,t,Math.cos(r),Math.sin(r),Math.cos(e),Math.sin(e),i)},n.DP=function(e,i){var r=new t.Nd;return n.EP(e,i,r),r},n.cl=function(t,e,i,n,r,s,o){t/=Math.sqrt(1-e*s*s),o.K(t*r*i,t*r*n,t*(1-e)*s)},n.Yu=function(e,n){var r=new t.Wb,s=new t.Wb,o=new t.Wb,a=new t.Wb;r.cos(n.x),s.sin(n.x),o.cos(n.y),a.sin(n.y);var h=new t.Wb;return h.set(a),h.Ag(a),h.No(e),h.No(-1),h.kN(),h.sqrt(),(n=new t.Wb).set(1),n.jm(h),(h=new t.Wb).set(n),h.Ag(o),h.Ag(r),(r=new t.Wb).set(n),r.Ag(o),r.Ag(s),(s=new t.Wb).set(n),s.No(1-e),s.Ag(a),i.VE(h,r,s)},n.SS=function(i,r,s,o){if(Math.abs(r.x-s.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(s.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(s.y)==.5*Math.PI)&&r.x!=s.x)return NaN;if(o=n.cB(o,Math.min(r.x,s.x),Math.max(r.x,s.x)),!new t.Nc(r.x,s.x).contains(o))return NaN;var a=e.construct(r);if(s=e.construct(s),a=n.Yu(i,a),s=n.Yu(i,s),(s=a.cF(s)).z.qg())return r.y;var h=new t.Wb;h.set(s.x),h.jm(s.z),h.No(-1);var l=new t.Wb;l.set(s.y),l.jm(s.z),l.No(-1);var u=new t.Wb;return u.set(l),u.Ag(l),(a=new t.Wb).set(h),a.Ag(h),a.add(u),a.sqrt(),a.qg()||h.qg()&&l.qg()?r.y:(r=Math.atan2(l.value(),h.value()),r=Math.atan2(a.value()*Math.cos(r-o),1-i),o=n.DP(i,t.h.construct(o,r)),i=new t.Nd(o.x,o.y,-o.z),o=s.value().Qh(o),i=s.value().Qh(i),Math.abs(i)<Math.abs(o)&&(r=-r),r)},n.Oz=function(i,r,s,o,a){if(a[0]=NaN,a[1]=NaN,Math.abs(r.x-s.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(s.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(s.y)==.5*Math.PI)&&r.x!=s.x||Math.abs(o)>=.5*Math.PI||0<r.y&&0<s.y&&r.y>o&&s.y>o||0>r.y&&0>s.y&&r.y<o&&s.y<o)return 0;var h=e.construct(r),l=e.construct(s);h=n.Yu(i,h),l=n.Yu(i,l);var u=h.cF(l);if(u.z.qg())return new t.Nc(r.y,s.y).contains(o)?(a[0]=r.x,1):0;(l=new t.Wb).set(u.x),l.jm(u.z),l.No(-1),(h=new t.Wb).set(u.y),h.jm(u.z),h.No(-1),(u=new t.Wb).set(h),u.Ag(h);var c=new t.Wb;return c.set(l),c.Ag(l),c.add(u),c.sqrt(),c.qg()||l.qg()&&h.qg()?0==o?(a[0]=r.x,a[1]=s.x,2):0:(i=(1-i)*Math.tan(o)/c.value(),1<Math.abs(i)?0:(i=Math.acos(i),u=Math.atan2(h.value(),l.value()),l=Math.min(r.x,s.x),h=Math.max(r.x,s.x),s=n.cB(u-i,l,h),i=0!=o?n.cB(u+i,l,h):s,o=0,l<=s&&s<=h&&(a[o]=s,o++),i!=s&&l<=i&&i<=h&&(a[o]=i,2==++o&&Math.abs(a[0]-r.x)>Math.abs(a[1]-r.x)&&(r=a[0],a[0]=a[1],a[1]=r)),o))},n.cB=function(t,e,i){return t>i?t-=2*(e=Math.ceil((t-i)/(2*Math.PI)))*Math.PI:t<e&&(t+=2*(e=Math.ceil((e-t)/(2*Math.PI)))*Math.PI),t},n}()}(J||(J={})),function(t){t.XK=function(){function e(){}return e.$X=function(i,n){var r=[0,0,0,0],s=new t.h;s.L(n),s.scale(9102==t.cb.sc(i).Hd().Ec()?1:t.cb.sc(i).Hd().ai/3.141592653589793*180),-180>s.x?(s.x-=s.x%360,-180>s.x&&(s.x+=360)):180<s.x&&(s.x-=s.x%360,180<s.x&&(s.x-=360)),90<s.y&&(s.y=90),-90>s.y&&(s.y=-90);for(var o=-180,a=180,h=(i=40)-1,l=(n=(i+31)/32)-1;0<=l;l--)for(var u=h-32*l,c=Math.min(32,i-32*l),f=1;f<c;f+=2){var p=.5*(a+o);s.x>=p?(r[l]|=1<<u,o=p):a=p,u-=2,h-=2}for(o=-90,a=90,h=i-2,l=n-1;0<=l;l--)for(u=h-32*l,c=Math.min(32,i-32*l),f=0;f<c;f+=2)p=.5*(a+o),s.y>=p?(r[l]|=1<<u,o=p):a=p,u-=2,h-=2;return e.$P(r,8,8)},e.$P=function(t,e,i){for(var n=[],r=0;r<e;r++)n[r]="";for(var s=r=0,o=0;o<e;o++){var a=t[r]>>s&31;if(31<(s+=5)){var h=37-s;a&=(1<<h)-1,s-=32,a|=(t[++r]&(1<<s)-1)<<h}n[e-1-o]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[a]}if(i>e)for(o=0;o<i-e;o++)n.push("0");else i<e&&(n.length=i);return n.join("")},e}()}(J||(J={})),function(t){var e={gcstol:[0,2e-9,1,2.241706620489156e-9,2,2.313672246530541e-9,3,8.98240164660333e-9,4,8.982433838020134e-9,5,8.982439417325895e-9,6,8.982466029667677e-9,7,8.982476760268133e-9,8,8.982492642167149e-9,9,8.98251968292634e-9,10,8.98253685210448e-9,11,8.982546725256576e-9,12,8.982557456049832e-9,13,8.98257333682596e-9,14,8.982575482995276e-9,15,8.982578488197342e-9,16,8.982579775336987e-9,17,8.9825840676828e-9,18,8.982599090925448e-9,19,8.982605529473397e-9,20,8.982609220517402e-9,21,8.982611968030573e-9,22,8.982616260407152e-9,23,8.982620552787834e-9,24,8.982633429954492e-9,25,8.982637722351582e-9,26,8.98264416095491e-9,27,8.982646307158072e-9,28,8.982654891980968e-9,29,8.982667769246082e-9,30,8.982674207892485e-9,31,8.982680646548117e-9,32,8.982682792768713e-9,33,8.982685798042582e-9,34,8.982689231436652e-9,35,8.98269137766135e-9,36,8.98269266624163e-9,37,8.982705114087017e-9,38,8.982706830791106e-9,39,8.982711958374661e-9,40,8.982712839964735e-9,41,8.982717991496125e-9,42,8.982721424914803e-9,43,8.982723571154887e-9,44,8.982727863638127e-9,45,8.982730868942154e-9,46,8.982734302370678e-9,47,8.982745033612112e-9,48,8.982751472369276e-9,49,8.982755764879183e-9,50,8.982762203651733e-9,51,8.982764776628385e-9,52,8.982766496171896e-9,53,8.98277722749025e-9,54,8.98278152002477e-9,55,8.98279933943848e-9,56,8.9829143024805e-9,57,8.982922161948598e-9,58,8.98292327314211e-9,59,8.982925667349601e-9,60,8.982932222965576e-9,61,8.982961298941316e-9,62,8.982965524049989e-9,63,8.982994818246099e-9,64,8.982994895706967e-9,65,8.98299489597736e-9,66,8.983000733443498e-9,67,8.983055097289157e-9,68,8.983064111047368e-9,69,8.983111996941178e-9,70,8.983120447446023e-9,71,8.98312748954554e-9,72,8.983134531656096e-9,73,8.983141573777694e-9,74,8.983148615910332e-9,75,8.983152841195215e-9,76,8.983153545409748e-9,77,8.983153827095593e-9,78,8.98315396793852e-9,79,8.983154249624393e-9,80,8.983155658054012e-9,81,8.983960794340072e-9,82,8.984061344391998e-9,83,8.984072829255685e-9,84,8.984194981201908e-9,85,8.984275233099427e-9,86,8.984326127007554e-9,87,8.984330099816539e-9,88,8.98433275258421e-9,89,8.984333047023206e-9,90,8.984333885258723e-9,91,8.984337959508212e-9,92,8.984365176209457e-9,93,8.984727360418079e-9,94,8.984901041679577e-9,95,8.98542662091587e-9,96,8.98610024130669e-9,97,8.992894229037531e-9,98,8.993203677616635e-9,99,8.993206178094346e-9,100,8.993216059187305e-9,101,8.99322029394808e-9,102,8.994627867045891e-9,103,9.467559984315793e-9,104,9.46881168618118e-9,105,9.980888154931644e-9,106,9.981105353606775e-9,107,9.983807356573187e-9,108,1.687060485811522e-8,109,1.688447560354875e-8,110,2.176606011487185e-8,111,2.225078816042032e-8,112,2.348476432064694e-8,113,2.348765250187846e-8,114,2.378108974103778e-8,115,3.14559636297708e-8,116,3.297788621680806e-8,117,3.667892343788279e-8,118,4.235973644320739e-8,119,4.794625900676345e-8,120,7.262742998235812e-8,121,7.499447580246377e-8,122,7.525056410964318e-8,123,7.979913581209237e-8,124,9.662020153976783e-8,125,9.799175562353741e-8,126,9.897353517547472e-8,127,1.02313891987647e-7,128,1.081460541960784e-7,129,1.21905913857622e-7,130,2.246893314238523e-7,131,2.297344808062643e-7,132,2.42984645941825e-7,133,2.754604784282804e-7,134,2.884548130346993e-7,135,3.370339971357784e-7,136,4.307953346848296e-7,137,5.208707228462029e-7,138,5.509209568565608e-7,139,6.452227422644406e-7,140,6.740679942715567e-7,141,6.861770001566745e-7,142,7.252630318111686e-7,143,7.441010326374328e-7,144,7.742672907173287e-7,145,9.629542775307953e-7,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6.666666666666667e-9,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},i={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};t.wr=function(){function t(){}return t.Sy=function(e){!1===t.xp&&t.yt();var i=t.FQ(e);if(-1==i){var n=t.Bx(e);n!=e&&(i=t.Sy(n))}return-1==i&&(n=t.FK(e))!=e&&(i=t.Sy(n)),i},t.FQ=function(e){return void 0!==t.Fw[e]?t.Fw[e]:-1},t.CQ=function(e){!1===t.xp&&t.yt();var i=t.nF(e);if(1e38==i){var n=t.Bx(e);if(n!=e&&(i=t.nF(n)),1e38==i)return 1e-10}return i},t.ZS=function(e){if(void 0!==t.Is[e])return!0;var i=t.Bx(e);return i!=e&&void 0!==t.Is[i]},t.aT=function(e){if(void 0!==t.xo[e])return!0;var i=t.Bx(e);return i!=e&&void 0!==t.xo[i]},t.nF=function(e){return!1===t.xp&&t.yt(),void 0!==t.Is[e]?t.Is[e]:void 0!==t.xo[e]?t.xo[e]:1e38},t.FK=function(e){return!1===t.xp&&t.yt(),void 0!==t.WA[e]?t.WA[e]:e},t.Bx=function(e){return!1===t.xp&&t.yt(),void 0!==t.XA[e]?t.XA[e]:e},t.yt=function(){for(var n,r=e,s=0;s<r.pcsid.length;s+=2)t.xo[r.pcsid[s]]=r.pcstol[2*r.pcsid[s+1]+1];for(s=0;s<r.pcsidc.length;s+=1)for(var o=(n=r.pcsidc[s])[0];o<=n[1];o++)t.xo[o]=r.pcstol[2*n[2]+1];for(s=0;s<r.gcsid.length;s+=2)t.Is[r.gcsid[s]]=r.gcstol[2*r.gcsid[s+1]+1];for(s=0;s<r.gcsidc.length;s+=1)for(o=(n=r.gcsidc[s])[0];o<=n[1];o++)t.xo[o]=r.gcstol[2*n[2]+1];for(s=0;s<i.c.length;s+=1)for(o=(n=i.c[s])[0];o<=n[1];o++)t.Fw[o]=n[2];for(s=0;s<i.nc.length;s+=2)t.Fw[i.nc[s]]=i.nc[s+1];for(i=null,s=0;s<r.newtoold.length;s+=2)t.WA[r.newtoold[s+1]]=r.newtoold[s],t.XA[r.newtoold[s]]=r.newtoold[s+1];e=null,t.xp=!0},t.xp=!1,t.Is=[],t.xo=[],t.WA=[],t.XA=[],t.Fw=[],t}()}(J||(J={})),function(t){function e(t){return 0===t.length?'""':'"'==t[0]||"."==t[0]||"0"<=t[0]&&"9">=t[0]?t:'"'+t.trim()+'"'}var i=[];t.XC=function(){function n(){}return n.EQ=function(r){try{for(var s=0;s<i.length;s++)if(i[s].wkttext===r)return i[s].unit;for(var o,a=s="",h=!1,l=0;l<r.length;l++){var u=r[l];!0===h?'"'==u?'"'==r[l+1]?s+=u:h=h=!1:s+=u:/[\s]/.test(u)||(","==u?(a=""!==s?a+(e(s)+","):a+",",s=""):")"==u||"]"==u?(a=""!==s?a+(e(s)+"]}"):a+"]}",s=""):"("==u||"["==u?(a+='{ "entity": "'+s.toUpperCase().trim()+'", "values":[',s=""):'"'==u?(h=!0,s=""):s+=u)}o=JSON.parse(a);var c=n.mF(o);if(null===c)return null;for(o=null,u=0;u<c.values.length;u++)if("object"==typeof c.values[u]&&("UNIT"===c.values[u].entity||"ANGLEUNIT"===c.values[u].entity||"LENGTHUNIT"===c.values[u].entity)){o=c.values[u];break}if(null===o)return null;var f=t.Tc.ZO("GEOGCS"===c.entity||"GEOGCRS"===c.entity?1:0,o.values[1],o.values[2]);return i.push({wkttext:r,unit:f}),10<i.length&&i.shift(),f}catch(p){return null}},n.mF=function(t){if(null===t)return null;switch(t.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return t}for(var e=[],i=0;i<t.values.length;i++)if("object"==typeof t.values[i]&&void 0!==t.values[i].entity)switch(t.values[i].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return t.values[i];default:e.push(t.values[i])}for(t=0;t<e.length;t++)if(null!==(i=n.mF(e[t])))return i;return null},n.DQ=function(t){var e=-1;if(null!=t&&0<t.length){var i=t.search(/PROJCR?S/);if(0<=i){var n=0;if(0<=(i=t.lastIndexOf("UNIT"))&&0<(i=t.indexOf(",",i+4))){i++;var r=t.indexOf("]",i+1);if(0<r)try{n=parseFloat(t.substring(i,r))}catch(o){n=0}}0<n&&(e=.001/n)}else if(0<=(i=t.search(/GEOGCR?S/))){var s=0;if(n=0,-1===(i=t.indexOf("SPHEROID",i+6))&&(i=t.indexOf("ELLIPSOID",i+7)),0<i&&0<(i=t.indexOf(",",i+8))){if(i++,0<(r=t.indexOf(",",i+1)))try{s=parseFloat(t.substring(i,r))}catch(o){s=0}if(0<s&&(-1===(i=t.lastIndexOf("ANGLEUNIT",r+1))&&(i=t.lastIndexOf("UNIT",r+1)),0<=i&&0<(i=t.indexOf(",",i+4))&&(i++,0<(r=t.indexOf("]",i+1)))))try{n=parseFloat(t.substring(i,r))}catch(o){n=0}}0<s&&0<n&&(e=.001/(s*n))}}return e},n}()}(J||(J={})),function(t){var e;(e=t.eL||(t.eL={}))[e.NONE=0]="NONE",e[e.LINEAR=1]="LINEAR",e[e.ANGULAR=2]="ANGULAR",function(t){t[t.enumFloat=0]="enumFloat",t[t.enumDouble=1]="enumDouble",t[t.enumInt32=2]="enumInt32",t[t.enumInt64=3]="enumInt64",t[t.enumInt8=4]="enumInt8",t[t.enumInt16=5]="enumInt16"}(t.QL||(t.QL={})),function(t){t[t.POSITION=0]="POSITION",t[t.Z=1]="Z",t[t.M=2]="M",t[t.ID=3]="ID",t[t.NORMAL=4]="NORMAL",t[t.TEXTURE1D=5]="TEXTURE1D",t[t.TEXTURE2D=6]="TEXTURE2D",t[t.TEXTURE3D=7]="TEXTURE3D",t[t.ID2=8]="ID2",t[t.MAXSEMANTICS=10]="MAXSEMANTICS"}(t.Ih||(t.Ih={}));var i=function(){function e(t,i){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,void 0!==i){for(this.Aa=i.Aa,this.Oq=i.Oq,this.bg=i.bg.slice(0),this.uh=i.uh.slice(0),this.wl=i.wl,this.Vs=[],t=i=0;t<this.Aa;t++)this.Vs[t]=i,i+=e.Va(this.bg[t]);for(this.Oq=i,this.Ae=[],t=0;t<this.Aa;t++){i=e.Va(this.kd(t));for(var n=e.se(this.kd(t)),r=0;r<i;r++)this.Ae[this.Vs[t]+r]=n}}else this.Oq=this.Aa=0}return e.prototype.kd=function(e){if(0>e||e>this.Aa)throw t.i.N();return this.bg[e]},e.prototype.Pf=function(t){return this.uh[t]},e.lz=function(t){return e.JM[t]},e.Tp=function(t){return e.SM[t]},e.Va=function(t){return e.rM[t]},e.prototype.hasAttribute=function(t){return 0<=this.uh[t]},e.prototype.iG=function(){return this.hasAttribute(1)},e.se=function(t){return e.eD[t]},e.prototype.LR=function(t){return this.Vs[t]},e.DG=function(t,i){return e.eD[t]===i},e.prototype.Nb=function(t){return this===t},e.prototype.An=function(){for(var e=t.O.Th(this.bg[0]),i=1;i<this.Aa;i++)e=t.O.Th(this.bg[i],e);return e},e.prototype.$j=function(t){return this.Vs[t]},e.prototype.cc=function(){return this.wl},e.prototype.Ed=function(t){return this.bg[t]},e.eD=[0,0,NaN,0,0,0,0,0,0],e.JM=[1,1,1,0,2,1,1,1,0],e.SM=[1,1,1,2,0,0,0,0,2],e.rM=[2,1,1,1,3,1,2,3,2],e}();t.ra=i}(J||(J={})),function(t){function e(t,e,n){var s=e-(t=new a(t)).e,o=t.c;for(o.length>++e&&i(t,s,a.eu),o[0]?n?s=e:(o=t.c,s=t.e+s+1):++s;o.length<s;o.push(0));return s=t.e,1===n||n&&(e<=s||s<=r)?(0>t.Bd&&o[0]?"-":"")+(1<o.length?o[0]+"."+o.join("").slice(1):o[0])+(0>s?"e":"e+")+s:t.toString()}function i(t,e,i,r){var s=t.c,o=t.e+e+1;if(1===i?r=5<=s[o]:2===i?r=5<s[o]||5==s[o]&&(r||0>o||void 0!==s[o+1]||1&s[o-1]):3===i?r=r||void 0!==s[o]||0>o:(r=!1,0!==i&&n("!Big.RM!")),1>o||!s[0])r?(t.e=-e,t.c=[1]):t.c=[t.e=0];else{if(s.length=o--,r)for(;9<++s[o];)s[o]=0,o--||(++t.e,s.unshift(1));for(o=s.length;!s[--o];s.pop());}return t}function n(t){throw(t=Error(t)).name="BigError",t}var r=-7,s=21,o=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function t(e){if(e instanceof t)this.Bd=e.Bd,this.e=e.e,this.c=e.c.slice();else{var i,r,s;for(0===e&&0>1/e?e="-0":o.test(e+="")||n(NaN),this.Bd="-"==e.charAt(0)?(e=e.slice(1),-1):1,-1<(i=e.indexOf("."))&&(e=e.replace(".","")),0<(r=e.search(/e/i))?(0>i&&(i=r),i+=+e.slice(r+1),e=e.substring(0,r)):0>i&&(i=e.length),r=0;"0"==e.charAt(r);r++);if(r==(s=e.length))this.c=[this.e=0];else{for(;"0"==e.charAt(--s););for(this.e=i-r-1,this.c=[],i=0;r<=s;this.c[i++]=+e.charAt(r++));}}}return t.prototype.abs=function(){var e=new t(this);return e.Bd=1,e},t.prototype.cmp=function(e){var i=this.c,n=(e=new t(e)).c,r=this.Bd,s=e.Bd,o=this.e,a=e.e;if(!i[0]||!n[0])return i[0]?r:n[0]?-s:0;if(r!=s)return r;if(e=0>r,o!=a)return o>(a^e)?1:-1;for(r=-1,s=(o=i.length)<(a=n.length)?o:a;++r<s;)if(i[r]!=n[r])return i[r]>(n[r]^e)?1:-1;return o==a?0:o>(a^e)?1:-1},t.prototype.jm=function(e){var r=this.c,s=(e=new t(e)).c,o=this.Bd==e.Bd?1:-1,a=t.rr;if((a!==~~a||0>a||1e6<a)&&n("!Big.DP!"),!r[0]||!s[0])return r[0]==s[0]&&n(NaN),s[0]||n(o/0),new t(0*o);var h,l,u=s.slice(),c=h=s.length,f=r.length,p=r.slice(0,h),d=p.length,v=e,g=v.c=[],y=0,m=a+(v.e=this.e-e.e)+1;for(v.Bd=o,o=0>m?0:m,u.unshift(0);d++<h;p.push(0));do{for(l=0;10>l;l++){if(h!=(d=p.length))var _=h>d?1:-1;else{var b=-1;for(_=0;++b<h;)if(s[b]!=p[b]){_=s[b]>p[b]?1:-1;break}}if(!(0>_))break;for(e=d==h?s:u;d;){if(p[--d]<e[d]){for(b=d;b&&!p[--b];p[b]=9);--p[b],p[d]+=10}p[d]-=e[d]}for(;!p[0];p.shift());}g[y++]=_?l:++l,p[0]&&_?p[d]=r[c]||0:p=[r[c]]}while((c++<f||void 0!==p[0])&&o--);return g[0]||1==y||(g.shift(),v.e--),y>m&&i(v,a,t.eu,void 0!==p[0]),v},t.prototype.fS=function(){return 0<this.cmp(0)},t.prototype.nT=function(){return 0>this.cmp(0)},t.prototype.jt=function(e){var i,n=this.Bd,r=(e=new t(e)).Bd;if(n!=r)return e.Bd=-r,this.tI(e);var s=this.c.slice(),o=this.e,a=e.c,h=e.e;if(!s[0]||!a[0])return a[0]?(e.Bd=-r,e):new t(s[0]?this:0);if(n=o-h){for((i=0>n)?(n=-n,o=s):(h=o,o=a),o.reverse(),r=n;r--;o.push(0));o.reverse()}else for(o=((i=s.length<a.length)?s:a).length,n=r=0;r<o;r++)if(s[r]!=a[r]){i=s[r]<a[r];break}if(i&&(o=s,s=a,a=o,e.Bd=-e.Bd),0<(r=(o=a.length)-(i=s.length)))for(;r--;s[i++]=0);for(r=i;o>n;){if(s[--o]<a[o]){for(i=o;i&&!s[--i];s[i]=9);--s[i],s[o]+=10}s[o]-=a[o]}for(;0==s[--r];s.pop());for(;0==s[0];)s.shift(),--h;return s[0]||(e.Bd=1,s=[h=0]),e.c=s,e.e=h,e},t.prototype.tI=function(e){var i=this.Bd,n=(e=new t(e)).Bd;if(i!=n)return e.Bd=-n,this.jt(e);n=this.e;var r=this.c,s=e.e,o=e.c;if(!r[0]||!o[0])return o[0]?e:new t(r[0]?this:0*i);if(r=r.slice(),i=n-s){for(0<i?(s=n,n=o):(i=-i,n=r),n.reverse();i--;n.push(0));n.reverse()}for(0>r.length-o.length&&(n=o,o=r,r=n),i=o.length,n=0;i;)n=(r[--i]=r[i]+o[i]+n)/10|0,r[i]%=10;for(n&&(r.unshift(n),++s),i=r.length;0==r[--i];r.pop());return e.c=r,e.e=s,e},t.prototype.pow=function(e){var i=this,r=new t(1),s=r,o=0>e;for((e!==~~e||-1e6>e||1e6<e)&&n("!pow!"),e=o?-e:e;1&e&&(s=s.lr(i)),e>>=1;)i=i.lr(i);return o?r.jm(s):s},t.prototype.round=function(e,r){var s=this;return null==e?e=0:(e!==~~e||0>e||1e6<e)&&n("!round!"),i(s=new t(s),e,r??t.eu),s},t.prototype.sqrt=function(){var e=this.c,r=this.Bd,s=this.e,o=new t("0.5");if(!e[0])return new t(this);0>r&&n(NaN),0==(r=Math.sqrt(this.toString()))||r==1/0?((r=e.join("")).length+s&1||(r+="0"),(e=new t(Math.sqrt(r).toString())).e=((s+1)/2|0)-(0>s||1&s)):e=new t(r.toString()),r=e.e+(t.rr+=4);do{s=e,e=o.lr(s.tI(this.jm(s)))}while(s.c.slice(0,r).join("")!==e.c.slice(0,r).join(""));return i(e,t.rr-=4,t.eu),e},t.prototype.lr=function(e){var i=this.c,n=(e=new t(e)).c,r=i.length,s=n.length,o=this.e,a=e.e;if(e.Bd=this.Bd==e.Bd?1:-1,!i[0]||!n[0])return new t(0*e.Bd);if(e.e=o+a,r<s){var h=i;i=n,n=h,a=r,r=s,s=a}for(h=Array(a=r+s);a--;h[a]=0);for(o=s;o--;){for(s=0,a=r+o;a>o;)s=h[a]+n[o]*i[a-o-1]+s,h[a--]=s%10,s=s/10|0;h[a]=(h[a]+s)%10}for(s&&++e.e,h[0]||h.shift(),o=h.length;!h[--o];h.pop());return e.c=h,e},t.prototype.toString=function(){var t=this.e,e=this.c.join(""),i=e.length;if(t<=r||t>=s)e=e.charAt(0)+(1<i?"."+e.slice(1):"")+(0>t?"e":"e+")+t;else if(0>t){for(;++t;e="0"+e);e="0."+e}else if(0<t)if(++t>i)for(t-=i;t--;e+="0");else t<i&&(e=e.slice(0,t)+"."+e.slice(t));else 1<i&&(e=e.charAt(0)+"."+e.slice(1));return 0>this.Bd&&this.c[0]?"-"+e:e},t.prototype.toExponential=function(t){return null==t?t=this.c.length-1:(t!==~~t||0>t||1e6<t)&&n("!toExp!"),e(this,t,1)},t.prototype.toFixed=function(t){var i=r,o=s;if(r=-(s=1/0),null==t)var a=this.toString();else t===~~t&&0<=t&&1e6>=t&&(a=e(this,this.e+t),0>this.Bd&&this.c[0]&&0>a.indexOf("-")&&(a="-"+a));return r=i,s=o,a||n("!toFix!"),a},t.prototype.toPrecision=function(t){return null==t?this.toString():((t!==~~t||1>t||1e6<t)&&n("!toPre!"),e(this,t-1,2))},t.rr=20,t.eu=1,t}();t.hp=a}(J||(J={})),function(t){var e=function(){function e(t){this.lf=t}return e.prototype.nr=function(e,i,n){var r=new t.h,s=new t.h,o=this.lf;n.Vd(e,i,(function(t,e){return o.tc(2*t,r),o.tc(2*e,s),r.compare(s)}))},e.prototype.$p=function(t){return this.lf.read(2*t+1)},e}();t.pi=function(){function i(){}return i.aq=function(e){if(e.B())return!1;var n=e.getType();return 1736==n?0!=e.Ke():1607==n?(n=[!1],i.sE(e,!0,n),n[0]):!(197!=n&&(!t.aa.yd(n)||e.BG()))},i.gm=function(e){var n=e.getType();if(1736==n)return n=new t.Ta(e.description),e.B()||e.dD(n),n;if(1607==n)return i.sE(e,!1,null);if(197==n)return n=new t.Ta(e.description),e.B()||n.ad(e,!1),n;if(t.aa.yd(n)){if(n=new t.de(e.description),!e.B()&&!e.BG()){var r=new t.Sa;e.To(r),n.add(r),e.Po(r),n.add(r)}return n}if(t.aa.Rn(n))return null;throw t.i.N()},i.sE=function(i,n,r){null!=r&&(r[0]=!1);var s=null;if(n||(s=new t.de(i.description)),!i.B()){var o=new t.ia(0);o.Jb(2*i.da());for(var a=0,h=i.da();a<h;a++)if(0<i.Ja(a)&&!i.Nn(a)){var l=i.Ba(a);o.add(l),l=i.Vc(a)-1,o.add(l)}if(0<o.size){h=new t.Xt,a=i.ub(0),h.sort(o,0,o.size,new e(a)),h=new t.h,a.tc(2*o.get(0),h),l=0;for(var u=1,c=new t.Sa,f=new t.h,p=1,d=o.size;p<d;p++)if(a.tc(2*o.get(p),f),f.qb(h))o.get(l)>o.get(p)?(o.set(l,2147483647),l=p):o.set(p,2147483647),u++;else{if(1&u){if(n)return null!=r&&(r[0]=!0),null}else o.set(l,2147483647);h.L(f),l=p,u=1}if(1&u){if(n)return null!=r&&(r[0]=!0),null}else o.set(l,2147483647);if(!n)for(o.Vd(0,o.size,(function(t,e){return t-e})),p=0,d=o.size;p<d&&2147483647!=o.get(p);p++)i.ve(o.get(p),c),s.add(c)}}return n?null:s},i}()}(J||(J={})),function(t){var e=function(){function e(){this.yf=new t.ia(0),this.ys=new t.ia(0),this.EH=1,this.Es=NaN}return e.prototype.sort=function(t,e,i,n){if(32>i-e)n.nr(e,i,t);else{var r=!0;try{for(var s=1/0,o=-1/0,a=e;a<i;a++){var h=n.$p(t.get(a));h<s&&(s=h),h>o&&(o=h)}if(this.reset(i-e,s,o,i-e)){for(a=e;a<i;a++){var l=t.get(a);h=n.$p(l);var u=this.zF(h);this.yf.set(u,this.yf.get(u)+1),this.ys.write(a-e,l)}var c=this.yf.get(0);this.yf.set(0,0),a=1;for(var f=this.yf.size;a<f;a++){var p=this.yf.get(a);this.yf.set(a,c),c+=p}for(a=e;a<i;a++){l=this.ys.read(a-e),h=n.$p(l),u=this.zF(h);var d=this.yf.get(u);t.set(d+e,l),this.yf.set(u,d+1)}r=!1}}catch(v){this.yf.resize(0),this.ys.resize(0)}if(r)n.nr(e,i,t);else{for(a=i=0,f=this.yf.size;a<f;a++)r=i,(i=this.yf.get(a))>r&&n.nr(e+r,e+i,t);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},e.prototype.reset=function(t,i,n,r){return!(2>t||n==i||(t=Math.min(e.hL,t),this.yf.Jb(t),this.yf.resize(t),this.yf.Wj(0,0,this.yf.size),this.EH=i,this.ys.resize(r),this.Es=(n-i)/(t-1),0))},e.prototype.zF=function(e){return t.O.truncate((e-this.EH)/this.Es)},e.hL=65536,e}();t.Xt=e}(J||(J={})),function(t){var e,i;(i=e||(e={}))[i.enum_line=1]="enum_line",i[i.enum_arc=2]="enum_arc",i[i.enum_dummy=4]="enum_dummy",i[i.enum_concave_dip=8]="enum_concave_dip",i[i.enum_connection=3]="enum_connection";var n=function(){function e(){}return e.Qu=function(i,n,r,s,o,a){var h=new e;return h.Im=new t.h,h.Vm=new t.h,h.aw=new t.h,h.Im.L(i),h.Vm.L(n),h.aw.L(r),h.Co=s,h.qh=o,h.sh=a,h},e.construct=function(i,n,r,s){var o=new e;return o.Im=new t.h,o.Vm=new t.h,o.aw=new t.h,o.Im.L(i),o.Vm.L(n),o.aw.Rc(),o.Co=4,o.qh=r,o.sh=s,o},e}(),r=function(){function e(t,e,i,n,r,s){this.Yv=null,this.ya=0,this.EA=t,this.bI=this.$H=0,this.Ka=e,this.Mj=i,this.vk=n,this.Dq=r,this.Ub=s}return e.prototype.next=function(){for(var e=new t.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,e),this.ya++,!e.B())break}var i=!1;if(null==this.Yv&&(this.$H=e.Lg(),this.bI=e.ih(),this.Yv=a.buffer(e,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),i=!0),this.ya<this.EA.I()){var n=new t.Da;this.Yv.copyTo(n)}else n=this.Yv;if(!i){i=new t.Dd;var r=e.Lg()-this.$H;e=e.ih()-this.bI,i.gg(r,e),n.Oc(i)}return n},e.prototype.La=function(){return 0},e.prototype.qe=function(){},e}(),s=function(){function e(t,e){this.Wa=t,this.ya=0,this.oq=e}return e.prototype.next=function(){var e=this.Wa.X;if(this.ya<e.da()){var i=this.ya;if(this.ya++,!e.Nn(i))for(var n=e.Na(e.Vc(i)-1);this.ya<e.da();){var r=e.Na(e.Ba(this.ya));if(e.Nn(this.ya))break;if(r!=n)break;n=e.Na(e.Vc(this.ya)-1),this.ya++}if(1==this.ya-i)return this.Wa.kE(this.Wa.X,i,this.oq);for((n=new t.Ta(this.Wa.X.description)).addPath(this.Wa.X,i,!0),i+=1;i<this.ya;i++)n.Dr(this.Wa.X,i,0,e.rv(i),!1);return this.Wa.kE(n,0,this.oq)}return null},e.prototype.La=function(){return 0},e.prototype.qe=function(){},e}(),o=function(){function t(t){this.Wa=t,this.ya=0}return t.prototype.next=function(){var t=this.Wa.X;if(this.ya<t.da()){var e=this.ya;for(t.Ir(this.ya),this.ya++;this.ya<t.da()&&!(0<t.Ir(this.ya));)this.ya++;return 0==e&&this.ya==t.da()?this.Wa.py(t,0,t.da()):this.Wa.py(t,e,this.ya)}return null},t.prototype.La=function(){return 0},t.prototype.qe=function(){},t}(),a=function(){function e(t){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=t,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return e.buffer=function(i,n,r,s,o,a){if(null==i)throw t.i.N();if(0>s)throw t.i.N();if(i.B())return new t.Da(i.description);var h=new t.l;return i.xc(h),0<n&&h.W(n,n),(a=new e(a)).Mj=r,a.X=i,a.qa=t.ta.Wd(r,h,!0),a.ct=t.ta.Wd(null,h,!0),a.Ka=n,a.JT=i.getType(),0>=o&&(o=96),a.rb=Math.abs(a.Ka),a.Kv=0!=a.rb?1/a.rb:0,isNaN(s)||0==s?s=1e-5*a.rb:s>.5*a.rb&&(s=.5*a.rb),12>o&&(o=12),(i=Math.abs(n)*(1-Math.cos(Math.PI/o)))>s?s=i:(i=Math.PI/Math.acos(1-s/Math.abs(n)))<o-1&&12>(o=t.O.truncate(i))&&(o=12,s=Math.abs(n)*(1-Math.cos(Math.PI/o))),a.vk=s,a.Dq=o,a.tA=Math.min(a.ct,.25*s),a.lE()},e.prototype.cv=function(){if(null==this.Id)this.Id=[];else if(0!==this.Id.length)return;var e=this.qE();e=t.O.truncate((e+3)/4);var i=.5*Math.PI/e;this.oA=i;for(var n=0;n<4*e;n++)this.Id.push(null);var r=Math.cos(i);i=Math.sin(i);var s=t.h.construct(0,1);for(n=0;n<e;n++)this.Id[n+0*e]=t.h.construct(s.y,-s.x),this.Id[n+1*e]=t.h.construct(-s.x,-s.y),this.Id[n+2*e]=t.h.construct(-s.y,s.x),this.Id[n+3*e]=s,(s=t.h.construct(s.x,s.y)).Bt(r,i)},e.prototype.lE=function(){var e=this.X.getType();if(t.aa.yd(e))return(e=new t.Ta(this.X.description)).oc(this.X,!0),this.X=e,this.lE();if(this.Ka<=this.qa){if(!t.aa.US(e))return new t.Da(this.X.description);if(0>=this.Ka&&(e=new t.l,this.X.A(e),e.R()<=2*-this.Ka||e.ca()<=2*this.Ka))return new t.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw t.i.Qa()}},e.prototype.RN=function(){if(this.EG(this.X)){var e=new t.Sa;this.X.ve(0,e);var i=new t.l;return this.X.A(i),e.Cb(i.sf()),this.Gu(e)}return this.X=this.WV(this.X),e=new s(this,this.oq),t.Gh.local().V(e,this.Mj,this.Ub).next()},e.prototype.QN=function(){if(0==this.Ka)return this.X;var e=t.Yl.local();if(this.cv(),this.X=e.V(this.X,null,!1,this.Ub),0>this.Ka){var i=this.X;return i=this.py(i,0,i.da()),e.V(i,this.Mj,!1,this.Ub)}return this.EG(this.X)?(e=new t.Sa,this.X.ve(0,e),i=new t.l,this.X.A(i),e.Cb(i.sf()),this.Gu(e)):(e=new o(this),t.Gh.local().V(e,this.Mj,this.Ub).next())},e.prototype.py=function(i,n,r){for(var s=new t.Da(i.description);n<r;n++)if(!(1>i.Ja(n))){var o=i.Ir(n),a=new t.l;if(i.Rj(n,a),0<this.Ka){if(0<o)if(this.FG(i,n))o=new t.Sa,i.ve(i.Ba(n),o),o.Cb(a.sf()),this.yu(s,o);else{var h=o=new t.Ta(i.description);h=t.Zt.JG(this.X,n)||2==this.zn(this.X,n,h,!0,1)?this.jE(i,n):this.yn(o),s.add(h,!1)}else if(!(a.R()+this.qa<=2*this.rb||a.ca()+this.qa<=2*this.rb||(h=o=new t.Ta(i.description),this.zn(this.X,n,h,!0,1),o.B()))){var l=new t.l;for(l.K(a),l.W(this.rb,this.rb),h.tp(l),a=1,o=(h=this.yn(o)).da();a<o;a++)s.addPath(h,a,!0)}}else if(0<o){if(!(a.R()+this.qa<=2*this.rb||a.ca()+this.qa<=2*this.rb||(h=o=new t.Ta(i.description),this.zn(this.X,n,h,!0,-1),o.B())))for(l=new t.l,h.xc(l),l.W(this.rb,this.rb),h.tp(l),a=1,o=(h=this.yn(o)).da();a<o;a++)s.addPath(h,a,!0)}else for(h=o=new t.Ta(i.description),this.zn(this.X,n,h,!0,-1),a=0,o=(h=this.yn(o)).da();a<o;a++)s.addPath(h,a,!0)}if(0<this.Ka)return 1<s.da()?s=this.yn(s):e.kx(s);if(i=new t.l,s.xc(i),s.B())return e.kx(s);for(i.W(this.rb,this.rb),s.tp(i),s=this.yn(s),i=new t.Da(s.description),a=1,o=s.da();a<o;a++)i.addPath(s,a,!1);return e.kx(i)},e.prototype.PN=function(){return this.Gu(this.X)},e.prototype.Gu=function(e){var i=new t.Da(this.X.description);return this.yu(i,e),this.sX(i)},e.prototype.ON=function(){var e=new r(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return t.Gh.local().V(e,this.Mj,this.Ub).next()},e.prototype.LN=function(){var e=new t.Da(this.X.description);if(0>=this.Ka){if(0==this.Ka)e.ad(this.X,!1);else{var i=new t.Fh;this.X.bn(i),i.W(this.Ka,this.Ka),e.ad(i,!1)}return e}return e.ad(this.X,!1),this.X=e,this.jE(e,0)},e.prototype.jE=function(i,n){this.cv();var r=new t.Da(i.description),s=new t.h,o=new t.h,a=new t.h,h=new t.h,l=new t.h,u=new t.h,c=new t.h,f=new t.h,p=i.Ja(n),d=i.Ba(n),v=0;for(n=i.Ja(n);v<n;v++){if(i.D(d+v,o),i.D(d+(v+1)%p,h),i.D(d+(v+2)%p,u),c.uc(h,o),0==c.length())throw t.i.Qa();if(c.Hv(),c.normalize(),c.scale(this.rb),s.add(c,o),a.add(c,h),0==v?r.Lt(s):r.Ci(s),r.Ci(a),f.uc(u,h),0==f.length())throw t.i.Qa();f.Hv(),f.normalize(),f.scale(this.rb),l.add(f,h),this.GD(r,h,a,l,!1)}return e.kx(r)},e.prototype.kE=function(e,i,n){if(this.cv(),1>e.Ja(i))return null;if(this.FG(e,i)&&0<this.Ka){n=new t.Sa,e.ve(e.Ba(i),n);var r=new t.l;return e.Rj(i,r),n.Cb(r.sf()),this.Gu(n)}if(r=new t.Ta(e.description),e.Nn(i))this.zn(e,i,r,n,1),this.zn(e,i,r,n,-1);else{var s=new t.Ta(e.description);s.addPath(e,i,!1),s.Dr(e,i,0,e.rv(i),!1),this.zn(s,0,r,n,1)}return this.yn(r)},e.prototype.Xq=function(){if(this.Ys++,0==this.Ys%1024&&null!=this.Ub&&!this.Ub.progress(-1,-1))throw t.i.fu("user_canceled")},e.prototype.yn=function(e){return t.Fg.Mk(e,this.ct,!0,!0,this.Ub)},e.prototype.qE=function(){if(0==this.vk)return this.Dq;var e=1-this.vk*Math.abs(this.Kv);return 4>(e=-1>e?4:2*Math.PI/Math.acos(e)+.5)?e=4:e>this.Dq&&(e=this.Dq),t.O.truncate(e)},e.prototype.GD=function(e,i,n,r,s){this.cv();var o=new t.h;o.uc(n,i),o.scale(this.Kv);var a=new t.h;a.uc(r,i),a.scale(this.Kv),0>(o=Math.atan2(o.y,o.x)/this.oA)&&(o=this.Id.length+o),o=this.Id.length-o,0>(a=Math.atan2(a.y,a.x)/this.oA)&&(a=this.Id.length+a),(a=this.Id.length-a)<o&&(a+=this.Id.length);var h=t.O.truncate(a);a=t.O.truncate(Math.ceil(o)),(o=new t.h).L(this.Id[a%this.Id.length]),o.Ct(this.rb,i);var l=10*this.qa;for(o.sub(n),o.length()<l&&(a+=1),o.L(this.Id[h%this.Id.length]),o.Ct(this.rb,i),o.sub(r),o.length()<l&&--h,n=h-a,n++,h=0,a%=this.Id.length;h<n;h++,a=(a+1)%this.Id.length)o.L(this.Id[a]),o.Ct(this.rb,i),e.Ci(o),this.Xq();s&&e.Ci(r)},e.prototype.zn=function(e,i,r,s,o){var a=new t.gd,h=a.mN(e,i);if(a.Gp(this.tA,!1,!1),2>a.I(h))return 0>o||(o=e,a=new t.Sa,o.ve(o.Ba(i),a),this.yu(r,a)),1;var l=a.Na(a.Xa(a.Ob(h))),u=new t.Dd;if(u.gg(-l.x,-l.y),a.Oc(u),s&&(this.tQ(a,h,o),2>a.I(h)))return 0>o||(o=e,a=new t.Sa,o.ve(o.Ba(i),a),this.yu(r,a)),1;this.Zd.length=0;var c=a.Ob(h);i=a.Xa(c);var f=1==o?a.Ma(i):a.U(i);e=1==o?a.U(i):a.Ma(i);var p=!0;s=new t.h,h=new t.h;var d=new t.h,v=new t.h,g=new t.h,y=new t.h,m=new t.h,_=new t.h,b=new t.h,w=new t.h,x=this.rb;c=a.Ja(c);for(var S=0;S<c;S++)a.D(e,h),p&&(a.D(i,s),a.D(f,d),_.uc(s,d),_.normalize(),w.MG(_),w.scale(x),v.add(w,s)),m.uc(h,s),m.normalize(),b.MG(m),b.scale(x),g.add(s,b),f=_.wi(m),p=_.Qh(m),0>f||0>p&&0==f?this.Zd.push(n.Qu(v,g,s,2,this.Zd.length+1,this.Zd.length-1)):v.qb(g)||(this.Zd.push(n.construct(v,s,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(n.construct(s,g,this.Zd.length+1,this.Zd.length-1,"dummy"))),y.add(h,b),this.Zd.push(n.Qu(g,y,s,1,this.Zd.length+1,this.Zd.length-1)),v.L(y),w.L(b),d.L(s),s.L(h),_.L(m),f=i,i=e,p=!1,e=1==o?a.U(i):a.Ma(i);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(r),u.gg(l.x,l.y),r.YD(u,r.da()-1),1},e.prototype.YV=function(t){for(var e=this.zO(),i=!0,n=e+1,r=e;n!=e;r=n){var s=this.Zd[r];n=-1!=s.qh?s.qh:(r+1)%this.Zd.length,0!=s.Co&&(i&&t.Lt(s.Im),2==s.Co?this.GD(t,s.aw,s.Im,s.Vm,!0):t.Ci(s.Vm),i=!1)}},e.prototype.zO=function(){null==this.Ks&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var e=0,i=0,n=this.Zd.length;i<n;){var r=this.Zd[i];if(3&r.Co){e=i;break}i=r.qh}for(n=e+1,i=e;n!=e;i=n){n=(r=this.Zd[i]).qh;for(var s=1,o=null;n!=i&&!(3&(o=this.Zd[n]).Co);)n=o.qh,s++;1!=s&&1==(r.Co&o.Co)&&(null==this.Ls&&(this.Ls=new t.yb,this.lw=new t.yb),this.Ls.Dc(r.Im),this.Ls.Qc(r.Vm),this.lw.Dc(o.Im),this.lw.Qc(o.Vm),1==this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)&&(r.Vm.L(this.Ks[0]),o.Im.L(this.Ks[0]),r.qh=n,o.sh=i))}return e},e.prototype.Fv=function(e,i,n){var r=new t.h;if(r.uc(n,e),n=r.length(),0<(n=this.rb*this.rb-n*n*.25)){n=Math.sqrt(n),r.normalize(),r.ar();var s=new t.h;if(s.uc(i,e),s.Qh(r)+n>=this.rb)return!0}return!1},e.prototype.tQ=function(e,i,n){for(var r=0;1>r;r++){var s=!1,o=e.Ob(i),a=e.Ja(o);if(0==a)break;var h=a;if(3>a)break;!e.dc(o)&&(h=a-1),o=e.Xa(o),a=0<n?e.Ma(o):e.U(o);for(var l=0<n?e.U(o):e.Ma(o),u=a,c=!0,f=new t.h,p=new t.h,d=new t.h,v=new t.h,g=new t.h,y=t.h.construct(0,0),m=new t.h,_=new t.h,b=new t.h,w=new t.h,x=this.rb,S=0,T=0;T<h&&(e.D(l,p),c&&(e.D(o,f),e.D(a,d),u=a),_.uc(f,d),_.normalize(),m.uc(p,f),m.normalize(),u!=l);){var A=_.wi(m),E=_.Qh(m),M=!0;if(0>A||0>E&&0==A||!this.Fv(d,f,p)||(y.L(p),M=!1,++S,s=!0),M){if(0<S)for(;(A=0<n?e.Ma(u):e.U(u))!=o;){if(e.D(A,v),!this.Fv(v,d,y)){A!=l&&this.Fv(v,d,p)&&this.Fv(v,f,p)&&(d.L(v),u=A,M=!1,++S);break}d.L(v),u=A,M=!1,++S}if(!M)continue;if(0<S){for(u=0<n?e.Ma(a):e.U(a),c=1;c<S;c++)M=0<n?e.Ma(u):e.U(u),e.pd(u,!0),u=M;b.uc(f,d),S=x*x-(S=b.length())*S*.25,x-(S=Math.sqrt(S))>.5*this.vk?(g.add(d,f),g.scale(.5),b.normalize(),b.ar(),w.L(b),w.scale(x-S),g.add(w),e.mf(a,g)):e.pd(a,!0),S=0}d.L(f),u=o}f.L(p),a=o,o=l,l=0<n?e.U(o):e.Ma(o),T++,c=!1}if(0<S){for(u=0<n?e.Ma(a):e.U(a),c=1;c<S;c++)M=0<n?e.Ma(u):e.U(u),e.pd(u,!0),u=M;g.add(d,f),g.scale(.5),b.uc(f,d),S=x*x-(S=b.length())*S*.25,S=Math.sqrt(S),b.normalize(),b.ar(),w.L(b),w.scale(x-S),g.add(w),e.mf(a,g)}if(e.Gp(this.tA,!1,!1),!s)break}},e.prototype.FG=function(e,i){if(1==e.Ja(i))return!0;var n=new t.l;return e.Rj(i,n),Math.max(n.R(),n.ca())<.5*this.vk},e.prototype.EG=function(e){var i=new t.l;return e.A(i),Math.max(i.R(),i.ca())<.5*this.vk},e.prototype.WV=function(e){for(var i=0,n=0,r=(e=t.EC.local().V(e,.25*this.vk,!1,this.Ub)).da();n<r;n++)i=Math.max(e.Ja(n),i);return 32>i?(this.oq=!1,e):(this.oq=!0,t.Fg.Mk(e,this.ct,!1,!0,this.Ub))},e.prototype.yu=function(e,i){if(i=i.D(),null!=this.Id&&0!==this.Id.length){var n=new t.h;n.L(this.Id[0]),n.Ct(this.rb,i),e.Lt(n);for(var r=1,s=this.Id.length;r<s;r++)n.L(this.Id[r]),n.Ct(this.rb,i),e.Ci(n)}else{r=this.qE(),n=t.O.truncate((r+3)/4),r=.5*Math.PI/n,s=Math.cos(r);for(var o=Math.sin(r),a=new t.h,h=3;0<=h;h--){switch(a.ma(0,this.rb),h){case 0:for(r=0;r<n;r++)e.yj(a.x+i.x,a.y+i.y),a.Bt(s,o);break;case 1:for(r=0;r<n;r++)e.yj(-a.y+i.x,a.x+i.y),a.Bt(s,o);break;case 2:for(r=0;r<n;r++)e.yj(-a.x+i.x,-a.y+i.y),a.Bt(s,o);break;default:for(e.sx(a.y+i.x,-a.x+i.y),r=1;r<n;r++)a.Bt(s,o),e.yj(a.y+i.x,-a.x+i.y)}this.Xq()}}},e.kx=function(t){return t.Ch(1,0),t},e.prototype.sX=function(t){return t.Ch(2,this.qa),t.fm(),t},e}();t.HK=a}(J||(J={})),function(t){var e=function(){function e(e){this.Ca=e,this.g=new t.gd,this.dd=new t.ia(0)}return e.prototype.Lh=function(t,e,i){switch(e){case 0:if(t.v<i&&t.C<=i)break;return t.v>=i?1:-1;case 1:if(t.G<i&&t.H<=i)break;return t.G>=i?1:-1;case 2:if(t.v>=i&&t.C>i)break;return t.C<=i?1:-1;case 3:if(!(t.G>=i&&t.H>i))return t.H<=i?1:-1}return 0},e.prototype.Ay=function(t,e){return 1736==t.getType()?this.Cy(t,e):this.Dy(t)},e.prototype.Cy=function(e,i){if(0==this.Ca.R()||0==this.Ca.ca())return e.Ia();var n=new t.l;e.xc(n),this.X=this.g.Ib(e);var r=new t.l,s=new t.l,o=new t.h,a=new t.h,h=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0];new t.ig;var u=new t.yb,c=new t.ia(0);c.Jb(Math.min(100,e.I()));for(var f=!1,p=0;!f&&4>p;p++){var d=!1,v=!!(1&p),g=0;switch(p){case 0:g=this.Ca.v,d=n.v<=g&&n.C>=g;break;case 1:g=this.Ca.G,d=n.G<=g&&n.H>=g;break;case 2:g=this.Ca.C,d=n.v<=g&&n.C>=g;break;case 3:g=this.Ca.H,d=n.G<=g&&n.H>=g}if(d)for(f=!0,d=this.g.Ob(this.X);-1!=d;){var y=-1,m=-1,_=this.g.Xa(d),b=_;do{var w=this.g.bc(b);null==w&&(w=u,this.g.D(b,o),w.Dc(o),this.g.D(this.g.U(b),a),w.Qc(a)),w.A(r);var x=this.Lh(r,p,g),S=0,T=-1;if(-1==x){S=0<(w=w.cq(v,g,h,l))?this.g.Ul(b,l,w):0,S+=1;var A=b,E=this.g.U(A);for(w=0;w<S;w++){if(this.g.D(A,o),this.g.D(E,a),null==(T=this.g.bc(A))&&((T=u).Dc(o),T.Qc(a)),T.A(s),-1==(T=this.Lh(s,p,g))){if(v)(T=Math.abs(o.y-g))<(M=Math.abs(a.y-g))?(o.y=g,this.g.mf(A,o)):(a.y=g,this.g.mf(E,a));else{T=Math.abs(o.x-g);var M=Math.abs(a.x-g);T<M?(o.x=g,this.g.mf(A,o)):(a.x=g,this.g.mf(E,a))}null==(T=this.g.bc(A))&&((T=u).Dc(o),T.Qc(a)),T.A(s),T=this.Lh(s,p,g)}M=y,y=T,-1==m&&(m=y),0==M&&1==y||1==M&&0==y||0!=M||0!=y||c.add(A),1==y&&(f=!1),T=A=E,E=this.g.U(E)}}0==S&&(M=y,y=x,-1==m&&(m=y),0==M&&1==y||1==M&&0==y||0!=M||0!=y||c.add(b),1==y&&(f=!1),T=this.g.U(b)),b=T}while(b!=_);for(0==m&&0==y&&c.add(_),w=0,y=c.size;w<y;w++)m=c.get(w),this.g.pd(m,!1);c.clear(!1),d=3>this.g.Ja(d)?this.g.Zq(d):this.g.Rb(d)}}return f?e.Ia():(this.FB(),0<i&&this.My(i),this.g.Ne(this.X))},e.prototype.Dy=function(e){var i=new t.l,n=new t.l,r=[0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0],o=new t.ig,a=e,h=new t.l;e.xc(h);for(var l=0;4>l;l++){var u=!1,c=!!(1&l),f=0;switch(l){case 0:f=this.Ca.v,u=h.v<=f&&h.C>=f;break;case 1:f=this.Ca.G,u=h.G<=f&&h.H>=f;break;case 2:f=this.Ca.C,u=h.v<=f&&h.C>=f;break;case 3:f=this.Ca.H,u=h.G<=f&&h.H>=f}if(u){u=a,a=e.Ia(),(u=u.Ga()).Zi();for(var p,d=new t.h;u.$a();)for(var v,g=!0;u.Ha();){var y=u.ha();y.A(i);var m=this.Lh(i,l,f);if(-1==m){if(0<(m=y.cq(c,f,r,s))){var _=0;p=y.ac();for(var b=0;b<=m;b++)if(_!=(v=b<m?s[b]:1)){y.ah(_,v,o);var w=o.get();w.Dc(p),b<m&&(c?(d.x=r[b],d.y=f):(d.x=f,d.y=r[b]),w.Qc(d)),w.A(n);var x=this.Lh(n,l,f);if(-1==x){if(p=w.ac(),_=w.wc(),c)(x=Math.abs(p.y-f))<(S=Math.abs(_.y-f))?(p.y=f,w.Dc(p)):(_.y=f,w.Qc(_));else{x=Math.abs(p.x-f);var S=Math.abs(_.x-f);x<S?(p.x=f,w.Dc(p)):(_.x=f,w.Qc(_))}w.A(n),x=this.Lh(n,l,f)}p=w.wc(),_=v,1==(v=x)?(a.oc(w,g),g=!1):g=!0}}}else 1==(v=m)?(a.oc(y,g),g=!1):g=!0}}}return a},e.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var e=new t.h,i=this.g.Ob(this.X);-1!=i;i=this.g.Rb(i))for(var n=this.g.Xa(i),r=0,s=this.g.Ja(i);r<s;r++,n=this.g.U(n))this.g.D(n,e),(this.Ca.v==e.x||this.Ca.C==e.x||this.Ca.G==e.y||this.Ca.H==e.y)&&(this.g.Ra(n,this.ji,this.dd.size),this.dd.add(n));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},e.prototype.My=function(e){for(var i=new t.h,n=new t.h,r=t.O.lg(2048,0),s=this.g.Ob(this.X);-1!=s;s=this.g.Rb(s)){var o=this.g.Xa(s),a=o;do{var h=this.g.U(a);this.g.D(a,i);var l=-1;if(i.x==this.Ca.v?(this.g.D(h,n),n.x==this.Ca.v&&(l=1)):i.x==this.Ca.C&&(this.g.D(h,n),n.x==this.Ca.C&&(l=1)),i.y==this.Ca.G?(this.g.D(h,n),n.y==this.Ca.G&&(l=0)):i.y==this.Ca.H&&(this.g.D(h,n),n.y==this.Ca.H&&(l=0)),-1!=l&&(l=t.h.tb(i,n),!(1>=(l=t.O.truncate(Math.min(Math.ceil(l/e),2048)))))){for(var u=1;u<l;u++)r[u-1]=1*u/l;this.g.Ul(a,r,l-1)}a=h}while(a!=o)}},e.prototype.Vl=function(e,i){var n=this.g.Gd(),r=new t.h,s=new t.ia(0);s.Jb(100);for(var o=this.g.Ob(this.X);-1!=o;o=this.g.Rb(o))for(var a=this.g.Xa(o),h=0,l=this.g.Ja(o);h<l;h++){var u=this.g.U(a);this.g.D(a,r),(e?r.y==i:r.x==i)&&(this.g.D(u,r),(e?r.y==i:r.x==i)&&(1!=this.g.Pa(a,n)&&(s.add(a),this.g.Ra(a,n,1)),1!=this.g.Pa(u,n)&&(s.add(u),this.g.Ra(u,n,1)))),a=u}if(this.g.Td(n),!(3>s.size)){var c=this;s.Vd(0,s.size,(function(t,e){return c.Mh(t,e)})),n=new t.h,o=new t.h,a=new t.h,o.Rc();var f=-1;h=new t.ia(0),l=new t.ia(0),u=this.g.Gd();for(var p=this.g.Gd(),d=0,v=s.size;d<v;d++){var g=s.get(d);if(this.g.D(g,r),!r.qb(o)){if(-1!=f){for(var y=f;y<d;y++){f=s.get(y);var m=this.g.U(f);g=this.g.Ma(f);var _=!1;0>this.Mh(f,m)&&(this.g.D(m,n),e?n.y==i:n.x==i)&&(h.add(f),_=!0,this.g.Ra(f,p,1)),0>this.Mh(f,g)&&(this.g.D(g,n),e?n.y==i:n.x==i)&&(_||h.add(f),this.g.Ra(f,u,1))}for(y=0,_=h.size;y<_;y++){if(f=h.get(y),g=this.g.Pa(f,u),m=this.g.Pa(f,p),1==g){g=this.g.Ma(f),this.g.D(g,a);var b=[0];if(b[0]=0,!a.qb(r)){var w=t.h.tb(o,a);b[0]=t.h.tb(a,r)/w,0==b[0]?b[0]=2220446049250313e-31:1==b[0]&&(b[0]=.9999999999999998),this.g.Ul(g,b,1),g=this.g.Ma(f),this.g.mf(g,r),l.add(g),this.g.Ra(g,u,1),this.g.Ra(g,p,-1)}}1==m&&(m=this.g.U(f),this.g.D(m,a),(b=[0])[0]=0,a.qb(r)||(w=t.h.tb(o,a),b[0]=t.h.tb(o,r)/w,0==b[0]?b[0]=2220446049250313e-31:1==b[0]&&(b[0]=.9999999999999998),this.g.Ul(f,b,1),g=this.g.U(f),this.g.mf(g,r),l.add(g),this.g.Ra(g,u,-1),this.g.Ra(g,p,1)))}f=h,h=l,(l=f).clear(!1)}f=d,o.L(r)}}this.g.Td(u),this.g.Td(p)}},e.prototype.Nl=function(e,i){var n=new t.h,r=new t.ia(0);r.Jb(100);for(var s=this.g.Gd(),o=0,a=this.dd.size;o<a;o++){var h=this.dd.get(o);if(-1!=h){var l=this.g.U(h);this.g.D(h,n),(e?n.y==i:n.x==i)&&(this.g.D(l,n),(e?n.y==i:n.x==i)&&(-2!=this.g.Pa(h,s)&&(r.add(h),this.g.Ra(h,s,-2)),-2!=this.g.Pa(l,s)&&(r.add(l),this.g.Ra(l,s,-2))))}}if(0!=r.size){var u=this;for(r.Vd(0,r.size,(function(t,e){return u.Mh(t,e)})),o=0,a=r.size;o<a;o++){var c=r.get(o);this.g.Ra(c,s,o)}h=new t.h,(l=new t.h).Rc();var f=-1;for(o=0,a=r.size;o<a;o++)if(-1!=(c=r.get(o))&&(this.g.D(c,n),!n.qb(l))){if(-1!=f)for(;;){c=!1;for(var p=1<o-f?o-1:o,d=f;d<p;d++){var v=r.get(d);if(-1!=v){var g=-1,y=this.g.U(v);0>this.Mh(v,y)&&(this.g.D(y,h),e?h.y==i:h.x==i)&&(g=y),y=-1;var m=this.g.Ma(v);if(0>this.Mh(v,m)&&(this.g.D(m,h),e?h.y==i:h.x==i)&&(y=m),-1!=g&&-1!=y)this.Kh(v,r,s),this.g.pd(v,!1),this.Kh(g,r,s),this.g.pd(g,!1),c=!0;else if(-1!=g||-1!=y){for(m=d+1;m<o;m++){var _=r.get(m);if(-1!=_){var b=this.g.U(_),w=-1;0>this.Mh(_,b)&&(this.g.D(b,h),e?h.y==i:h.x==i)&&(w=b),b=this.g.Ma(_);var x=-1;if(0>this.Mh(_,b)&&(this.g.D(b,h),e?h.y==i:h.x==i)&&(x=b),-1!=w&&-1!=x){this.Kh(_,r,s),this.g.pd(_,!1),this.Kh(w,r,s),this.g.pd(w,!1),c=!0;break}if(-1!=g&&-1!=x){this.zt(r,v,g,_,x,s),c=!0;break}if(-1!=y&&-1!=w){this.zt(r,_,w,v,y,s),c=!0;break}}}if(c)break}}}if(!c)break}f=o,l.L(n)}}this.g.Td(s)},e.prototype.Kh=function(t,e,i){i=this.g.Pa(t,i),e.set(i,-1),i=this.g.Pa(t,this.ji),this.dd.set(i,-1),-1!=(e=this.g.bd(t))&&this.g.Xa(e)==t&&(this.g.Jf(e,-1),this.g.Wg(e,-1))},e.prototype.zt=function(t,e,i,n,r,s){this.g.Bc(e,n),this.g.Cc(n,e),this.g.Cc(i,r),this.g.Bc(r,i),this.Kh(n,t,s),this.g.mi(n,!1),this.Kh(r,t,s),this.g.mi(r,!0)},e.prototype.Ty=function(){for(var t=0,e=this.dd.size;t<e;t++){var i=this.dd.get(t);-1!=i&&this.g.aj(i,-1)}for(var n=0,r=0,s=this.g.Ob(this.X);-1!=s;){var o=this.g.Xa(s);if(-1==o||s!=this.g.bd(o)){var a=s;s=this.g.Rb(s),this.g.Jf(a,-1),this.g.$q(a)}else{i=o,a=0;do{this.g.aj(i,s),a++,i=this.g.U(i)}while(i!=o);2>=a?(i=this.g.Pa(o,this.ji),this.dd.set(i,-1),o=this.g.pd(o,!1),2==a&&(i=this.g.Pa(o,this.ji),this.dd.set(i,-1),this.g.pd(o,!1)),a=s,s=this.g.Rb(s),this.g.Jf(a,-1),this.g.$q(a)):(this.g.cp(s,!1),this.g.Wg(s,this.g.Ma(o)),this.g.Vj(s,a),r+=a,n++,s=this.g.Rb(s))}}for(t=0,e=this.dd.size;t<e;t++)if(-1!=(i=this.dd.get(t))&&-1==(s=this.g.bd(i))){s=this.g.vf(this.X,-1),a=0,o=i;do{this.g.aj(i,s),a++,i=this.g.U(i)}while(i!=o);2>=a?(i=this.g.Pa(o,this.ji),this.dd.set(i,-1),o=this.g.pd(o,!1),2==a&&(0<=(i=this.g.Pa(o,this.ji))&&this.dd.set(i,-1),this.g.pd(o,!1)),a=s,this.g.Jf(a,-1),this.g.$q(a)):(this.g.kn(s,!0),this.g.Vj(s,a),this.g.Jf(s,o),this.g.Wg(s,this.g.Ma(o)),this.g.cp(s,!1),r+=a,n++)}for(this.g.Rl(this.X,n),this.g.Tj(this.X,r),t=0,e=this.g.ld;-1!=e;e=this.g.ue(e))t+=this.g.I(e);this.g.bC(t)},e.By=function(t,i,n){return new e(i).Ay(t,n)},e.clip=function(i,n,r,s){if(i.B())return i;if(n.B())return i.Ia();if(33==(r=i.getType()))return s=i.D(),n.contains(s)?i:i.Ia();if(197==r)return s=new t.l,i.A(s),s.Ea(n)?(n=new t.Fh,i.copyTo(n),n.Xo(s),n):i.Ia();var o=new t.l;if(i.xc(o),n.contains(o))return i;if(!n.isIntersecting(o))return i.Ia();if(null!=(o=i.Bb)&&null!=(o=o.Fk)){if(1==(o=o.Ro(n))){if(1736!=r)throw t.i.Qa();return(i=new t.Da(i.description)).tp(n),i}if(0==o)return i.Ia()}switch(r){case 550:r=null,o=i.I();for(var a=i.ub(0),h=0,l=0;l<o;l++)s=new t.h,a.tc(2*l,s),n.contains(s)||(0==h&&(r=i.Ia()),h<l&&r.Fd(i,h,l),h=l+1);return 0<h&&r.Fd(i,h,o),0==h?i:r;case 1736:case 1607:return e.By(i,n,s);default:throw t.i.Qa()}},e.prototype.Mh=function(e,i){var n=new t.h;return this.g.D(e,n),e=new t.h,this.g.D(i,e),n.compare(e)},e}();t.Ud=e}(J||(J={})),function(t){var e=function(){function e(e,i){this.Ca=e,this.g=new t.gd,this.dd=new t.ia(0),this.nd=i}return e.prototype.Lh=function(t,e,i){switch(e){case 0:if(t.v<i&&t.C<=i)break;return t.v>=i?1:-1;case 1:if(t.G<i&&t.H<=i)break;return t.G>=i?1:-1;case 2:if(t.v>=i&&t.C>i)break;return t.C<=i?1:-1;case 3:if(!(t.G>=i&&t.H>i))return t.H<=i?1:-1}return 0},e.prototype.Ay=function(t,e){return 1736==t.getType()?this.Cy(t,e):this.Dy(t)},e.prototype.Cy=function(e,i){if(0==this.Ca.R()||0==this.Ca.ca())return e.Ia();var n=new t.l;e.xc(n),this.X=this.g.Ib(e);var r=new t.l,s=new t.l,o=new t.h,a=new t.h,h=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0],u=new t.yb,c=new t.ia(0);c.Jb(256);for(var f=!1,p=0;!f&&4>p;p++){var d=!1,v=!!(1&p),g=0;switch(p){case 0:g=this.Ca.v,d=n.v<=g&&n.C>=g;break;case 1:g=this.Ca.G,d=n.G<=g&&n.H>=g;break;case 2:g=this.Ca.C,d=n.v<=g&&n.C>=g;break;case 3:g=this.Ca.H,d=n.G<=g&&n.H>=g}if(d)for(f=!0,d=this.g.Ob(this.X);-1!=d;){var y=!0,m=-1,_=-1,b=this.g.Xa(d),w=b;do{var x=this.g.bc(w);null==x&&(x=u,this.g.D(w,o),x.Dc(o),this.g.D(this.g.U(w),a),x.Qc(a)),x.A(r);var S=this.Lh(r,p,g),T=0,A=-1;if(-1==S){T=0<(x=x.cq(v,g,h,l))?this.g.LX(w,l,x):0,T+=1;var E=w,M=this.g.U(E);for(x=0;x<T;x++){if(this.g.D(E,o),this.g.D(M,a),null==(A=this.g.bc(E))&&((A=u).Dc(o),A.Qc(a)),A.A(s),-1==(A=this.Lh(s,p,g))){if(v)(A=Math.abs(o.y-g))<(I=Math.abs(a.y-g))?(o.y=g,this.g.mf(E,o)):(a.y=g,this.g.mf(M,a));else{A=Math.abs(o.x-g);var I=Math.abs(a.x-g);A<I?(o.x=g,this.g.mf(E,o)):(a.x=g,this.g.mf(M,a))}null==(A=this.g.bc(E))&&((A=u).Dc(o),A.Qc(a)),A.A(s),A=this.Lh(s,p,g)}I=m,m=A,-1==_&&(_=m),0==I&&1==m||1==I&&0==m||0!=I||0!=m||c.add(E),1==m&&(y=f=!1),A=E=M,M=this.g.U(M)}}if(0==T&&(I=m,m=S,-1==_&&(_=m),0==I&&1==m||1==I&&0==m||0!=I||0!=m||c.add(w),1==m&&(y=f=!1),A=this.g.U(w)),w=A,256<=c.size){for(x=1,S=c.size-1;x<S;x++)T=c.get(x),this.g.pd(T,!1);c.set(1,c.Fc()),c.Bh(2)}}while(w!=b);if(!y)for(0==_&&0==m&&c.add(b),x=0,S=c.size;x<S;x++)T=c.get(x),this.g.pd(T,!1);c.clear(!1),d=y||0==this.g.Ja(d)?this.g.Zq(d):this.g.Rb(d)}}return f?e.Ia():(this.FB(),0<i&&this.My(i),this.g.Ne(this.X))},e.prototype.Dy=function(e){var i=new t.l,n=new t.l,r=[0,0,0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0,0,0],o=new t.ig,a=e,h=new t.l;e.xc(h);for(var l=new t.h,u=new t.h,c=null,f=null,p=0;4>p;p++){var d=!1,v=!!(1&p),g=0;switch(p){case 0:g=this.Ca.v,d=h.v<=g&&h.C>=g;break;case 1:g=this.Ca.G,d=h.G<=g&&h.H>=g;break;case 2:g=this.Ca.C,d=h.v<=g&&h.C>=g;break;case 3:g=this.Ca.H,d=h.G<=g&&h.H>=g}if(d)for(d=a,a=e.Ia(),(d=d.Ga()).Zi();d.$a();)for(var y,m=!0;d.Ha();){var _=d.ha();_.A(i);var b=this.Lh(i,p,g);if(-1==b){if(0<(b=_.cq(v,g,r,s))){var w=0;_.Yp(l);for(var x=0;x<=b;x++)if(w!=(y=x<b?s[x]:1)){_.ah(w,y,o);var S=o.get();S.Dc(l),x<b&&(v?(u.x=r[x],u.y=g):(u.x=g,u.y=r[x]),S.Qc(u)),S.A(n);var T=this.Lh(n,p,g);-1==T&&(null==c&&(c=new t.h),null==f&&(f=new t.h),S.Yp(c),S.Tr(f),v?(w=Math.abs(c.y-g))<(T=Math.abs(f.y-g))?(c.y=g,S.Dc(c)):(f.y=g,S.Qc(f)):(w=Math.abs(c.x-g))<(T=Math.abs(f.x-g))?(c.x=g,S.Dc(c)):(f.x=g,S.Qc(f)),S.A(n),T=this.Lh(n,p,g)),S.Tr(l),w=y,1==(y=T)?(a.oc(S,m),m=!1):m=!0}}}else 1==(y=b)?(a.oc(_,m),m=!1):m=!0}}return a},e.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var e=new t.h,i=this.g.Ob(this.X);-1!=i;i=this.g.Rb(i))for(var n=this.g.Xa(i),r=0,s=this.g.Ja(i);r<s;r++,n=this.g.U(n))this.g.D(n,e),(this.Ca.v==e.x||this.Ca.C==e.x||this.Ca.G==e.y||this.Ca.H==e.y)&&(this.g.Ra(n,this.ji,this.dd.size),this.dd.add(n));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},e.prototype.My=function(e){for(var i=new t.h,n=new t.h,r=null,s=null,o=t.O.lg(2048,0),a=this.g.Ob(this.X);-1!=a;a=this.g.Rb(a)){var h=this.g.Xa(a),l=h;do{var u=this.g.U(l);this.g.D(l,i);var c=-1;if(i.x==this.Ca.v?(this.g.D(u,n),n.x==this.Ca.v&&(c=1)):i.x==this.Ca.C&&(this.g.D(u,n),n.x==this.Ca.C&&(c=1)),i.y==this.Ca.G?(this.g.D(u,n),n.y==this.Ca.G&&(c=0)):i.y==this.Ca.H&&(this.g.D(u,n),n.y==this.Ca.H&&(c=0)),-1!=c){if(null==r&&(r=new t.h),null==s&&(s=new t.h),r.L(i),s.ma(0,0),0==c){var f=i.x-this.Ca.v;s.x=t.lc.sign(n.x-i.x),r.x=e*t.lc.Cn(Math.floor(Math.abs(f/e)),f)+this.Ca.v,0>r.x&&(r.x+=e)}else f=i.y-this.Ca.G,s.y=t.lc.sign(n.y-i.y),r.y=e*t.lc.Cn(Math.floor(Math.abs(f/e)),f)+this.Ca.G,0>r.y&&(r.y+=e);f=0!=c?n.y-i.y:n.x-i.x;var p=Math.abs(f);if(65536<p/e)throw t.i.fa("internal error");if(0<p){p=t.O.truncate(p/e)+2,o.length<p&&(o=t.O.lg(p));for(var d=p=0;;d++){var v=new t.h;if(v.x=r.x+s.x*d*e,v.y=r.y+s.y*d*e,1<=(v=(0!=c?v.y-i.y:v.x-i.x)/f))break;0>=v||(o[p]=v,p++)}0!=p&&this.g.Ul(l,o,p)}}l=u}while(l!=h)}},e.prototype.Vl=function(e,i){for(var n=-1,r=new t.h,s=null,o=this.g.Ob(this.X);-1!=o;o=this.g.Rb(o))for(var a=this.g.Xa(o),h=0,l=this.g.Ja(o);h<l;h++){var u=this.g.U(a);this.g.D(a,r),(e?r.y==i:r.x==i)&&(this.g.D(u,r),(e?r.y==i:r.x==i)&&(-1==n&&(n=this.g.Gd()),null==s&&(s=new t.ia(0)).Jb(100),1!=this.g.Pa(a,n)&&(s.add(a),this.g.Ra(a,n,1)),1!=this.g.Pa(u,n)&&(s.add(u),this.g.Ra(u,n,1)))),a=u}if(-1!=n&&this.g.Td(n),!(null==s||3>s.size)){var c=this;s.Vd(0,s.size,(function(t,e){return c.Mh(t,e)})),n=new t.h,o=new t.h,a=new t.h,o.Rc();var f=-1;h=new t.ia(0),l=new t.ia(0),u=null;for(var p=this.g.Gd(),d=this.g.Gd(),v=0,g=s.size;v<g;v++){var y=s.get(v);if(this.g.D(y,r),!r.qb(o)){if(-1!=f){for(var m=f;m<v;m++){f=s.get(m);var _=this.g.U(f);y=this.g.Ma(f);var b=!1;this.g.D(_,n),0>o.compare(n)&&(e?n.y==i:n.x==i)&&(h.add(f),b=!0,this.g.Ra(f,d,1)),this.g.D(y,n),0>o.compare(n)&&(e?n.y==i:n.x==i)&&(b||h.add(f),this.g.Ra(f,p,1))}for(m=0,b=h.size;m<b;m++){if(f=h.get(m),y=this.g.Pa(f,p),_=this.g.Pa(f,d),1==y&&(y=this.g.Ma(f),this.g.D(y,a),!a.qb(r))){null==u&&(u=[]);var w=t.h.tb(o,a);u[0]=t.h.tb(a,r)/w,0==u[0]?u[0]=2220446049250313e-31:1==u[0]&&(u[0]=.9999999999999998),this.g.Ul(y,u,1),y=this.g.Ma(f),this.g.mf(y,r),l.add(y),this.g.Ra(y,p,1),this.g.Ra(y,d,-1)}1==_&&(_=this.g.U(f),this.g.D(_,a),a.qb(r)||(null==u&&(u=[]),w=t.h.tb(o,a),u[0]=t.h.tb(o,r)/w,0==u[0]?u[0]=2220446049250313e-31:1==u[0]&&(u[0]=.9999999999999998),this.g.Ul(f,u,1),y=this.g.U(f),this.g.mf(y,r),l.add(y),this.g.Ra(y,p,-1),this.g.Ra(y,d,1)))}f=h,h=l,(l=f).clear(!1)}f=v,o.L(r)}}this.g.Td(p),this.g.Td(d)}},e.prototype.Nl=function(e,i){for(var n=new t.h,r=null,s=-1,o=0,a=this.dd.size;o<a;o++){var h=this.dd.get(o);if(-1!=h){var l=this.g.U(h);this.g.D(h,n),(e?n.y==i:n.x==i)&&(this.g.D(l,n),(e?n.y==i:n.x==i)&&(-1==s&&(s=this.g.Gd()),null==r&&(r=new t.ia(0)).Jb(100),-2!=this.g.Pa(h,s)&&(r.add(h),this.g.Ra(h,s,-2)),-2!=this.g.Pa(l,s)&&(r.add(l),this.g.Ra(l,s,-2))))}}if(null==r)-1!=s&&this.g.Td(s);else{var u=this;for(r.Vd(0,r.size,(function(t,e){return u.Mh(t,e)})),o=0,a=r.size;o<a;o++){var c=r.get(o);this.g.Ra(c,s,o)}h=new t.h,(l=new t.h).Rc();var f=-1;for(o=0,a=r.size;o<a;o++)if(-1!=(c=r.get(o))&&(this.g.D(c,n),!n.qb(l))){if(-1!=f)for(;;){c=!1;for(var p=1<o-f?o-1:o,d=f;d<p;d++){var v=r.get(d);if(-1!=v){var g=-1,y=this.g.U(v);this.g.D(y,h),0>l.compare(h)&&(e?h.y==i:h.x==i)&&(g=y),y=-1;var m=this.g.Ma(v);if(this.g.D(m,h),0>l.compare(h)&&(e?h.y==i:h.x==i)&&(y=m),-1!=g&&-1!=y)this.Kh(v,r,s),this.g.pd(v,!1),this.Kh(g,r,s),this.g.pd(g,!1),c=!0;else if(-1!=g||-1!=y){for(m=d+1;m<o;m++){var _=r.get(m);if(-1!=_){var b=this.g.U(_),w=-1;this.g.D(b,h),0>l.compare(h)&&(e?h.y==i:h.x==i)&&(w=b),b=this.g.Ma(_);var x=-1;if(this.g.D(b,h),0>l.compare(h)&&(e?h.y==i:h.x==i)&&(x=b),-1!=w&&-1!=x){this.Kh(_,r,s),this.g.pd(_,!1),this.Kh(w,r,s),this.g.pd(w,!1),c=!0;break}if(-1!=g&&-1!=x){this.zt(r,v,g,_,x,s),c=!0;break}if(-1!=y&&-1!=w){this.zt(r,_,w,v,y,s),c=!0;break}}}if(c)break}}}if(!c)break}f=o,l.L(n)}this.g.Td(s)}},e.prototype.Kh=function(t,e,i){i=this.g.Pa(t,i),e.set(i,-1),i=this.g.Pa(t,this.ji),this.dd.set(i,-1),-1!=(e=this.g.bd(t))&&this.g.Xa(e)==t&&(this.g.Jf(e,-1),this.g.Wg(e,-1))},e.prototype.zt=function(t,e,i,n,r,s){this.g.Bc(e,n),this.g.Cc(n,e),this.g.Cc(i,r),this.g.Bc(r,i),this.Kh(n,t,s),this.g.mi(n,!1),this.Kh(r,t,s),this.g.mi(r,!0)},e.prototype.Ty=function(){for(var t=0,e=this.dd.size;t<e;t++){var i=this.dd.get(t);-1!=i&&this.g.aj(i,-1)}for(var n=0,r=0,s=this.g.Ob(this.X);-1!=s;){var o=this.g.Xa(s);if(-1==o||s!=this.g.bd(o)){var a=s;s=this.g.Rb(s),this.g.Jf(a,-1),this.g.$q(a)}else{i=o,a=0;do{this.g.aj(i,s),a++,i=this.g.U(i)}while(i!=o);this.g.cp(s,!1),this.g.Wg(s,this.g.Ma(o)),this.g.Vj(s,a),r+=a,n++,s=this.g.Rb(s)}}for(t=0,e=this.dd.size;t<e;t++)if(-1!=(i=this.dd.get(t))&&-1==(s=this.g.bd(i))){s=this.g.vf(this.X,-1),a=0,o=i;do{this.g.aj(i,s),a++,i=this.g.U(i)}while(i!=o);2>=a?(i=this.g.Pa(o,this.ji),this.dd.set(i,-1),o=this.g.pd(o,!1),2==a&&(0<=(i=this.g.Pa(o,this.ji))&&this.dd.set(i,-1),this.g.pd(o,!1)),a=s,this.g.Jf(a,-1),this.g.$q(a)):(this.g.kn(s,!0),this.g.Vj(s,a),this.g.Jf(s,o),this.g.Wg(s,this.g.Ma(o)),this.g.cp(s,!1),r+=a,n++)}for(this.g.Rl(this.X,n),this.g.Tj(this.X,r),t=0,e=this.g.ld;-1!=e;e=this.g.ue(e))t+=this.g.I(e);this.g.bC(t)},e.By=function(t,i,n,r){return new e(i,r).Ay(t,n)},e.clip=function(t,i,n,r,s){return e.Nu(t,i,null,n,r,s)},e.Nu=function(i,n,r,s,o,a){var h=i.getType();if(33==h)return o=i.D(),n.contains(o)?i:i.Ia();if(197==h)return o=new t.l,i.A(o),o.Ea(n)?(n=new t.Fh,i.copyTo(n),n.Xo(o),n):i.Ia();if(i.B())return i;if(n.B())return i.Ia();var l=new t.l;if(i.xc(l),n.contains(l))return i;if(!n.isIntersecting(l))return i.Ia();if((null!=r||isNaN(s))&&t.ta.ty(r,n,!1),!t.aa.xj(h))throw t.i.N();if(null!=(r=i.Bb)&&null!=(r=r.Fk)){if(1==(r=r.Ro(n))){if(1736!=h)throw t.i.fa("internal error");return(i=new t.Da(i.description)).tp(n),i}if(0==r)return i.Ia()}switch(h){case 550:for(a=null,h=i.I(),r=i.ub(0),s=0,o=new t.h,l=0;l<h;l++)r.tc(2*l,o),n.contains(o)||(0==s&&(a=i.Ia()),s<l&&a.Fd(i,s,l),s=l+1);return 0<s&&a.Fd(i,s,h),0==s?i:a;case 1736:case 1607:return e.By(i,n,o,a);default:throw t.i.fa("internal error")}},e.prototype.Mh=function(e,i){var n=new t.h;return this.g.D(e,n),e=new t.h,this.g.D(i,e),n.compare(e)},e}();t.ri=e}(J||(J={})),function(t){var e=new t.h,i=function(){function e(e,i,n,r,s){this.Pm=new t.h,this.Dk=new t.h,this.Pi=new t.h,this.g=e,this.Aw=n,this.no=r,this.Pm=i,this.yl=s,this.Dk.Rc(),this.Pi.Rc()}return e.prototype.xE=function(e){this.g.D(e,this.Dk),e=t.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var i=t.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return n.jG(e,i)},e.prototype.jz=function(t){return this.g.Pa(t,this.yl)},e.prototype.Py=function(t,e){return this.g.D(t,this.Dk),this.g.D(e,this.Pi),n.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},e}();t.sY=function(){};var n=function(){function n(){this.Pm=new t.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return n.iQ=function(t,e){var i=new n;return i.g=t,i.qa=e,i.Aw=e*e,i.$v=2*e,i.no=1/i.$v,i.BO()},n.Cv=function(t,e,i,n,r){return(t-=i)*t+(e-=n)*e<=r},n.jG=function(e,i){return t.O.Th(i,t.O.Th(e))},n.prototype.DO=function(i,r){this.g.Gc(i,e);for(var s=(e.y-this.Pm.y)*this.no,o=t.O.truncate((e.x-this.Pm.x)*this.no),a=t.O.truncate(s),h=s=0;1>=h;h+=1)for(var l=0;1>=l;l+=1){var u=n.jG(o+h,a+l),c=this.xl.rR(u);-1!=c&&(this.pq[s]=c,this.xs[s]=u,s++)}for(o=s-1;1<=o;o--)for(c=this.pq[o],a=o-1;0<=a;a--)if(c==this.pq[a]){this.xs[a]=-1,o!=--s&&(this.xs[o]=this.xs[s],this.pq[o]=this.pq[s]);break}for(a=0;a<s;a++)this.EO(i,this.xs[a],e,this.pq[a],r)},n.prototype.EO=function(e,i,r,s,o){for(var a=new t.h;-1!=s;s=this.xl.ER(s)){var h=this.xl.ja(s);e==h||-1!=i&&this.g.Pa(h,this.yl)!=i||(this.g.Gc(h,a),n.Cv(r.x,r.y,a.x,a.y,this.Aw)&&o.add(s))}},n.prototype.Xm=function(t,e,i){var n=this.g.Pa(t,this.qo),r=this.g.Pa(e,this.qo);return-1==n&&(n=this.zd.Ph(),this.zd.addElement(n,t),this.g.Ra(t,this.qo,n)),-1==r?this.zd.addElement(n,e):this.zd.Hy(n,r),this.g.Ra(e,this.qo,-2),e=this.YT(t,e),i&&(i=this.kw.xE(t),this.g.Ra(t,this.yl,i)),e},n.WT=function(e,i,r){e.Nb(i),r=e;var s=new t.h;n.XT(e.D(),i.D(),s),r.Cb(s)},n.XT=function(t,e,i){var n=t.x;t.x!=e.x&&(n=(1*t.x+1*e.x)/2);var r=t.y;t.y!=e.y&&(r=(1*t.y+1*e.y)/2),i.ma(n,r)},n.prototype.YT=function(e,i){var n=new t.h;this.g.D(e,n);var r=new t.h;this.g.D(i,r);var s=this.g.cG(e),o=s+(i=this.g.cG(i)),a=0,h=n.x;n.x!=r.x&&(h=(n.x*s+r.x*i)/o,a++);var l=n.y;return n.y!=r.y&&(l=(n.y*s+r.y*i)/o,a++),0<a&&this.g.Cb(e,h,l),this.g.vX(e,o),0!=a},n.prototype.BO=function(){var e=this.g.fd,n=this.g.IF();for(this.Pm=n.mz(),n=Math.max(n.ca(),n.R())/2147483646,this.$v<n&&(this.$v=n,this.no=1/this.$v),this.zd=new t.au,this.zd.At(t.O.truncate(this.g.fd/3+1)),this.zd.fn(t.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new i(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new t.dL(t.O.truncate(4*e/3),this.kw),this.xl.AW(this.g.fd),e=!1,n=this.g.ld;-1!=n;n=this.g.ue(n))for(var r=this.g.Ob(n);-1!=r;r=this.g.Rb(r))for(var s=this.g.Xa(r),o=0,a=this.g.Ja(r);o<a;o++){var h=this.kw.xE(s);this.g.Ra(s,this.yl,h),this.xl.addElement(s,h),s=this.g.U(s)}var l=new t.ia(0);for(l.Jb(10),n=this.g.ld;-1!=n;n=this.g.ue(n))for(r=this.g.Ob(n);-1!=r;r=this.g.Rb(r))for(s=this.g.Xa(r),o=0,a=this.g.Ja(r);o<a;o++){if(-2!=this.g.Pa(s,this.qo))for(h=this.g.Pa(s,this.yl),this.xl.jd(s,h);this.DO(s,l),0!=l.size;){h=!1;for(var u=0,c=l.size;u<c;u++){var f=l.get(u),p=this.xl.ja(f);this.xl.vd(f),h=this.Xm(s,p,u+1==c)||h}if(e=e||h,l.clear(!1),!h)break}s=this.g.U(s)}return e&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),e},n.prototype.vN=function(){for(var e=new t.h,i=this.zd.je;-1!=i;i=this.zd.qz(i)){var n=this.zd.rc(i);for(this.g.D(this.zd.ja(n),e),n=this.zd.lb(n);-1!=n;n=this.zd.lb(n))this.g.mf(this.zd.ja(n),e)}},n}();t.Yt=n}(J||(J={})),function(t){var e=function(){function e(t){void 0===t&&(t=null),this.yg=null,this.Pb=!1,this.yg=null===t?[]:t}return e.prototype.copyTo=function(e){if(e.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");for(var i=0;i<this.yg.length;i++)e.yg.push(this.yg[i].Of())},e.prototype.count=function(){return this.yg.length},e.prototype.add=function(e){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(e.Of())},e.prototype.clear=function(){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},e.prototype.remove=function(e){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(e,1)},e.prototype.jg=function(){var t=new e;return this.copyTo(t),t},e.prototype.Of=function(){return this.jg()},e.prototype.transform=function(e,i,n,r){if(e.length<i)throw t.i.fa("invalid Argument");var s=n;for(n=0;n<this.yg.length;n++){var o=this.yg[n];if(null!=o.qm()){var a=o.Un,h=a?1:0,l=a?o.qm().getGeogcs2():o.qm().getGeogcs1();if(l=s/(l=l.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(l-1))for(s=0;s<i;s++)e[s][0]*=l,e[s][1]*=l;t.MC.geogToGeog(o.qm(),i,e,null,h),s=(a?o.qm().getGeogcs1():o.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(l=s/r,3552713678800501e-30<Math.abs(l-1))for(s=0;s<i;s++)e[s][0]*=l,e[s][1]*=l;return i},e.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof e)||this.yg.length!=t.yg.length)return!1;for(var i=0;i<this.yg.length;i++)if(!this.yg[i].Nb(t.yg[i]))return!1;return!0},e.prototype.ix=function(){this.Pb=!0},e.prototype.toString=function(){for(var t="CGT ("+this.count()+") ",e=0,i=this.count();e<i;++e)t+=this.yg[e].toString()+", ";return 200<t.length?t.substring(0,197)+"... ("+t.length.toString()+" characters)":t},e.create=function(){return new e},e}();t.wC=e}(J||(J={})),function(t){var e,i=Math.PI,n=2*Math.PI,r=Math.PI/2,s=function(){function t(){}return t.TO=function(e,i){var n=new t;return n.x=e,n.y=i,n.type=0,n.Uh=0,n},t.al=function(e){var i=new t;return i.x=e.x,i.y=e.y,i.type=0,i.Uh=0,i},t.SO=function(e){var i=new t;return i.x=e.x,i.y=e.y,i.type=e.type,i.Uh=e.Uh,i},t.Pd=function(e,i,n){var r=new t;return r.x=e.x+i*Math.cos(n),r.y=e.y+i*Math.sin(n),r.type=e.type,r.Uh=e.Uh,r},t.Pu=function(e,i){var n=new t;return n.x=.5*(e.x+i.x),n.y=.5*(e.y+i.y),n.type=e.type,n.Uh=e.Uh,n},t.TE=function(e,i){var n=new t;return n.x=e.x+.001*(i.x-e.x),n.y=e.y+.001*(i.y-e.y),n.type=e.type,n.Uh=e.Uh,n},t}(),o=function(){};(e=t.fL||(t.fL={}))[e.Round=0]="Round",e[e.Bevel=1]="Bevel",e[e.Miter=2]="Miter",e[e.Square=3]="Square";var a=function(){function e(t){this.NA=this.Yb=this.wg=null,this.nd=t}return e.V=function(i,n,r,s,o,a){if(null==i)throw t.i.N();if(1>i.Db())throw t.i.N();return 0==n||i.B()?i:((a=new e(a)).ko=i,a.Ka=n,a.qa=o,a.Ki=r,a.CA=s,a.Rx())},e.prototype.eM=function(){var e=this.ko,i=e.ac(),n=e.wc(),r=new t.h;return r.uc(n,i),r.normalize(),r.Hv(),r.scale(this.Ka),i.add(r),n.add(r),r=e.Ia(),e.Dc(i),e.Qc(n),r},e.prototype.dM=function(){var e=this.ko;if(0<this.Ka&&2!=this.Ki){var i=new t.Da;return i.ad(e,!1),this.ko=i,this.Rx()}return(e=new t.Fh(e.$)).W(this.Ka,this.Ka),e},e.prototype.tJ=function(t,e,i,n){return(e.x-t.x)*(n.x-i.x)+(e.y-t.y)*(n.y-i.y)},e.prototype.fc=function(t,e){if(void 0===e)this.Yb.push(t),this.gf++;else if(0==this.gf)this.fc(t);else{var i=this.Bw,n=this.wg[0==e?i-1:e-1],o=this.wg[e],a=this.tJ(n,o,this.Yb[this.gf-1],t);0<a?this.fc(t):0>a&&(0<this.tJ(n,o,o,this.Yb[this.gf-1])?(o=this.wg[0==e?i-2:1==e?i-1:e-2],i=s.Pd(n,this.Ka,Math.atan2(n.y-o.y,n.x-o.x)-r),this.Yb[this.gf-1]=i,1==this.Ki||2==this.Ki?(i=s.Pu(i,n),this.fc(i),i=s.Pd(n,this.Ka,this.Jv+r),(n=s.Pu(i,n)).type|=256,this.fc(n)):(i=s.Pd(n,this.Ka,this.Jv+r)).type|=256,this.fc(i),this.fc(t,e)):(i=s.Pd(o,this.Ka,this.Jv+r),this.fc(i),1==this.Ki||2==this.Ki?(i=s.Pu(i,o),this.fc(i),i=s.Pd(o,this.Ka,this.aA-r),(n=s.Pu(i,o)).type|=256,this.fc(n)):(i=s.Pd(o,this.Ka,this.aA-r)).type|=256,this.fc(i)))}},e.prototype.mE=function(){var e,o=this.Bw;this.gf=0;var a=.5*this.qa,h=0,l=0;for(e=0;e<o;e++){var u=this.wg[e],c=0==e?this.wg[o-1]:this.wg[e-1],f=e==o-1?this.wg[0]:this.wg[e+1],p=c.x-u.x,d=c.y-u.y,v=f.x-u.x,g=f.y-u.y,y=Math.atan2(d,p),m=Math.atan2(g,v);if(this.Jv=y,this.aA=m,0==e&&(h=y,l=m),p=p*g-v*d,d=m,m<y&&(m+=n),0<p*this.Ka)1==this.Ki||2==this.Ki?(y=s.Pd(u,this.Ka,y+r),this.fc(y),y=s.TE(u,y),this.fc(y),y=s.Pd(u,this.Ka,m-r),(u=s.TE(u,y)).type|=256,this.fc(u),this.fc(y)):(p=.5*(m-y),p=this.Ka/Math.abs(Math.sin(p)),y=s.Pd(u,p,.5*(y+m)),this.fc(y,e));else if(512&u.type){for(p=1-a/Math.abs(this.Ka),c=1,f=0>this.Ka?-i:i,-1<p&&1>p&&(.017453292519943295>(d=2*Math.acos(p))&&(d=.017453292519943295),1<(c=t.O.truncate(i/d+1.5))&&(f/=c)),d=y+r,y=s.Pd(u,this.Ka,d),0==e&&(y.type|=1024),this.fc(y,e),p=this.Ka/Math.cos(f/2),d+=f/2,(y=s.Pd(u,p,d)).type|=1024,this.fc(y);0<--c;)d+=f,(y=s.Pd(u,p,d)).type|=1024,this.fc(y);(y=s.Pd(u,this.Ka,m-r)).type|=1024,this.fc(y)}else if(1==this.Ki)y=s.Pd(u,this.Ka,y+r),this.fc(y,e),y=s.Pd(u,this.Ka,m-r),this.fc(y);else if(0==this.Ki)for(p=1-a/Math.abs(this.Ka),c=1,f=m-r-(y+r),-1<p&&1>p&&(.017453292519943295>(d=2*Math.acos(p))&&(d=.017453292519943295),1<(c=t.O.truncate(Math.abs(f)/d+1.5))&&(f/=c)),p=this.Ka/Math.cos(.5*f),d=y+r+.5*f,y=s.Pd(u,p,d),this.fc(y,e);0<--c;)d+=f,y=s.Pd(u,p,d),this.fc(y);else 2==this.Ki?(p=c.x-u.x,d=c.y-u.y,.99999999<(c=(p*(v=f.x-u.x)+d*(g=f.y-u.y))/Math.sqrt(p*p+d*d)/Math.sqrt(v*v+g*g))?(y=s.Pd(u,1.4142135623730951*this.Ka,m-.25*i),this.fc(y,e),y=s.Pd(u,1.4142135623730951*this.Ka,m+.25*i),this.fc(y)):(c=Math.abs(this.Ka/Math.sin(.5*Math.acos(c))))>(f=Math.abs(this.CA*this.Ka))?(p=.5*(m-y),p=this.Ka/Math.abs(Math.sin(p)),y=s.Pd(u,p,.5*(y+m)),m=t.h.construct(y.x,y.y),y=t.h.construct(u.x,u.y),(u=new t.h).uc(m,y),(m=new t.h).HW(f/u.length(),u,y),y=(c-f)*Math.abs(this.Ka)/Math.sqrt(c*c-this.Ka*this.Ka),0<this.Ka?u.Hv():u.ar(),u.scale(y/u.length()),(y=new t.h).add(m,u),(c=new t.h).uc(m,u),y=s.al(y),this.fc(y,e),y=s.al(c),this.fc(y)):(p=.5*(m-y),p=this.Ka/Math.abs(Math.sin(p)),y=s.Pd(u,p,.5*(y+m)),this.fc(y,e))):(m=d,0<this.Ka?(m>y&&(m-=n),c=y-m<r):(m<y&&(m+=n),c=m-y<r),c?(d=0>(p=1.4142135623730951*this.Ka)?y+.25*i:y+.75*i,y=s.Pd(u,p,d),this.fc(y,e),d=0>p?m-.25*i:m-.75*i,y=s.Pd(u,p,d),this.fc(y)):(p=.5*(m-y),p=this.Ka/Math.abs(Math.sin(p)),m<y&&(m+=n),y=s.Pd(u,p,(y+m)/2),this.fc(y,e)))}return this.Jv=h,this.aA=l,this.fc(this.Yb[0],0),u=s.SO(this.Yb[this.gf-1]),this.Yb[0]=u,this.wW()},e.prototype.Au=function(e,i){if(!(2>i))for(var n=0;n<i;n++){var r=this.Yb[e+n];0!=n?this.NA.Ci(t.h.construct(r.x,r.y)):this.NA.Lt(t.h.construct(r.x,r.y))}},e.prototype.fM=function(t,e,i){var n=t.Ba(e),r=t.Vc(e);if(this.Yb=[],this.NA=i,t.dc(e)){for(e=t.Na(n);t.Na(r-1).qb(e);)r--;if(2<=r-n){for(this.Bw=r-n,this.wg=[],e=n;e<r;e++)this.wg.push(s.al(t.Na(e)));this.mE()&&this.Au(0,this.gf-1)}}else{for(e=t.Na(n);n<r&&t.Na(n+1).qb(e);)n++;for(e=t.Na(r-1);n<r&&t.Na(r-2).qb(e);)r--;if(2<=r-n){for(this.Bw=2*(r-n)-2,this.wg=[],(i=s.al(t.Na(n))).type|=1536,this.wg.push(i),e=n+1;e<r-1;e++)i=s.al(t.Na(e)),this.wg.push(i);for((i=s.al(t.Na(r-1))).type|=512,this.wg.push(i),e=r-2;e>=n+1;e--)(i=s.al(t.Na(e))).type|=1024,this.wg.push(i);if(this.mE())if(2<=this.Yb.length){for(t=-1,(r=!!(1024&this.Yb[this.gf-1].type))||(t=0),e=1;e<this.gf;e++)(n=!!(1024&this.Yb[e].type))?r||1<(r=e-1)-t+1&&this.Au(t,r-t+1):r&&(t=e-1),r=n;r||1<(r=this.gf-1)-t+1&&this.Au(t,r-t+1)}else t=0,r=this.gf-1,0<=t&&1<=r-t&&this.Au(t,r-t+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},e.prototype.wW=function(){for(var t=!1,e=0;e<this.gf;e++){var i=this.Yb[e];i.qh=e+1,i.sh=e-1,this.Yb[e]=i}for((i=this.Yb[0]).sh=this.gf-2,this.Yb[0]=i,(i=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=i,e=i=0;e<this.gf;e++)if(256&this.Yb[i].type){var n=this.GP(i);if(-1==n){t=!0;break}i=n}else i=this.Yb[i].qh;return!t&&(this.QO(i),!0)},e.prototype.GP=function(t){for(var e,i,n=this.gf-1,r=t,s=1;s<=n-2;s++){e=r=this.Yb[r].qh,i=t;for(var o=1;o<=s;o++){if(i=this.Yb[i].sh,!(256&this.Yb[i].type||256&this.Yb[e].type)){var a=this.gS(i,e);if(-1!=a)return a}e=this.Yb[e].sh}}return-1},e.prototype.gS=function(e,i){var n=this.Yb[this.Yb[e].sh],r=this.Yb[e],s=this.Yb[this.Yb[i].sh],a=this.Yb[i];if(!this.JW(n,r,s,a))return-1;var h=new o;return this.xQ(n,r,s,a,h)&&!h.bE&&t.O.bK((r.x-n.x)*(a.y-s.y)-(r.y-n.y)*(a.x-s.x))!=t.O.bK(this.Ka)?(n=this.Yb[e].sh,h.an.type=r.type,h.an.qh=i,h.an.sh=n,this.Yb[e]=h.an,h.an=this.Yb[i],h.an.sh=e,this.Yb[i]=h.an,i):-1},e.prototype.JW=function(t,e,i,n){return Math.max(t.x,e.x)>=Math.min(i.x,n.x)&&Math.max(i.x,n.x)>=Math.min(t.x,e.x)&&Math.max(t.y,e.y)>=Math.min(i.y,n.y)&&Math.max(i.y,n.y)>=Math.min(t.y,e.y)},e.prototype.xQ=function(t,e,i,n,r){r.bE=!1;var o=(e.y-t.y)*(n.x-i.x)-(e.x-t.x)*(n.y-i.y),a=(i.y-t.y)*(e.x-t.x)-(i.x-t.x)*(e.y-t.y);if(0<=(o=0==o?2:a/o)&&1>=o){var h=o;if(o=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y),a=(t.y-i.y)*(n.x-i.x)-(t.x-i.x)*(n.y-i.y),0<=(o=0==o?2:a/o)&&1>=o)return r.an=s.TO(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)),r.an.Uh=i.Uh+h*(n.Uh-i.Uh),0!=h&&1!=h||0!=o&&1!=o||(r.bE=!0),r.VY=o,r.WY=h,!((0==h||1==h)&&0<o&&1>o||(0==o||1==o)&&0<h&&1>h)}return!1},e.prototype.QO=function(t){for(;this.Yb[t].sh<t;)t=this.Yb[t].sh;var e=0,i=t;do{i=this.Yb[i],this.Yb[e]=i,i=i.qh,e++}while(i!=t);this.Yb[e]=this.Yb[0],this.gf=e+1},e.prototype.$C=function(t){var e=this.ko,i=e.Ga();if(null!=i){i.Zi();for(var n=-1;i.$a();)n++,this.fM(e,n,t)}},e.prototype.Rx=function(){var e=this.ko.getType();return 322==e?this.eM():197==e?this.dM():t.aa.yd(e)?((e=new t.Ta).oc(this.ko,!0),this.ko=e,this.Rx()):1607==e?(e=new t.Ta,this.$C(e),e):1736==e?(e=new t.Da,this.$C(e),e):null},e}();t.IK=a}(J||(J={})),function(t){var e=function(){function t(t){this.qk=t}return t.prototype.D=function(t,e){this.qk.g.D(t,e)},t.prototype.vd=function(t){var e=this.qk.Fa.ja(t);this.qk.Fa.vd(t,-1),this.qk.g.pd(e,!1)},t}(),i=function(){function t(t){this.qk=t}return t.prototype.D=function(t,e){this.qk.IT.D(t,e)},t.prototype.vd=function(t){this.qk.Fa.vd(t,-1)},t}(),n=function(){function t(t){this.qk=t}return t.prototype.D=function(t,e){e.L(this.qk.LT[t])},t.prototype.vd=function(t){this.qk.Fa.vd(t,-1)},t}(),r=function(){function r(r){void 0===r?(this.Fa=new t.Yj,this.Fa.De(20),this.g=new t.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new e(this)):r instanceof Array?(this.Fa=new t.Yj,this.Fa.De(20),this.LT=r,this.Xh=new n(this)):(this.Fa=new t.Yj,this.Fa.De(20),this.IT=r,this.Xh=new i(this))}return r.prototype.Ib=function(e){var i=e.getType();if(t.Gx.xj(i))this.jN(e);else if(t.Vk.yd(i))this.oN(e);else if(197==i)this.gN(e);else{if(33!=i)throw t.i.N("invalid shape type");this.nN(e)}},r.prototype.cR=function(){var e=new t.Sa,i=this.Fa.rc(-1),n=new t.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(i),e),n.nf(e),i=this.Fa.lb(i);-1!=i;i=this.Fa.lb(i))this.g.Vi(this.Fa.ja(i),e),n.lineTo(e);return n},r.RO=function(e){var i=new r(e),n=e.I(),s=1,o=new t.h,a=new t.h,h=new t.h;for(e.D(0,o);e.D(s,a),a.Rz(o)&&s<n-1;)s++;for(i.Fa.addElement(0,-1),i.Fa.xn(s),n=s+1;n<e.I();n++)e.D(n,h),-1!=(s=i.pC(h))&&i.Fa.Sj(s,n);for(h=new t.Sa,s=i.Fa.rc(-1),n=new t.Da(e.description),e.ve(i.Fa.ja(s),h),n.nf(h),s=i.Fa.lb(s);-1!=s;s=i.Fa.lb(s))e.ve(i.Fa.ja(s),h),n.lineTo(h);return n},r.construct=function(t,e,i){for(var n=new r(t),s=1,o=t[0];t[s].Rz(o)&&s<e-1;)s++;for(n.Fa.addElement(0,-1),n.Fa.xn(s),s+=1;s<e;s++)-1!=(o=n.pC(t[s]))&&n.Fa.Sj(o,s);for(t=0,e=n.Fa.rc(-1);-1!=e;e=n.Fa.lb(e))i[t++]=n.Fa.ja(e);return t},r.JG=function(e,i){var n=e.Ba(i),s=e.Vc(i);if(i=!e.dc(i)&&e.Nn(i),e=e.ub(0),s*=2,i&&(s-=2),6>s-(n*=2))return!0;i=new t.h;var o=new t.h,a=new t.h;e.tc(n,i),e.tc(n+2,o),e.tc(n+4,a);var h=r.Wu(o,a,i);if(h.ps()||!r.um(h.value()))return!1;var l=t.h.construct(o.x,o.y),u=new t.h;for(n+=6;n<s;n+=2){if(u.L(o),o.L(a),e.tc(n,a),(h=r.Wu(o,a,i)).ps()||!r.um(h.value()))return!1;if((h=r.Wu(l,a,i)).ps()||!r.um(h.value()))return!1;if((h=r.Wu(o,a,u)).ps()||!r.um(h.value()))return!1}return!0},r.prototype.jN=function(e){for(var i=new t.Sa,n=new t.h,r=0;r<e.I();r++){e.D(r,n);var s=this.Cr(n);if(-1!=s){e.ve(r,i);var o=this.g.fc(this.Ss,i);this.Fa.Sj(s,o)}}},r.prototype.gN=function(e){for(var i=new t.Sa,n=new t.h,r=0;4>r;r++){e.mB(r,n);var s=this.Cr(n);if(-1!=s){e.Hf(r,i);var o=this.g.fc(this.Ss,i);this.Fa.Sj(s,o)}}},r.prototype.oN=function(e){var i=new t.Sa,n=e.ac();if(-1!=(n=this.Cr(n))){e.To(i);var r=this.g.fc(this.Ss,i);this.Fa.Sj(n,r)}n=e.wc(),-1!=(n=this.Cr(n))&&(e.Po(i),e=this.g.fc(this.Ss,i),this.Fa.Sj(n,e))},r.prototype.nN=function(t){var e=t.D();-1!=(e=this.Cr(e))&&(t=this.g.fc(this.Ss,t),this.Fa.Sj(e,t))},r.prototype.Cr=function(t){var e=-1;if(0==this.Fa.size(-1))return this.Fa.addElement(-4,-1);if(1==this.Fa.size(-1)){var i=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return t.Rz(i)||(e=this.Fa.xn(-5)),e}return this.pC(t)},r.prototype.pC=function(e){var i=-1;do{var n=this.Fa.rc(-1),s=this.Fa.Fc(-1),o=this.Fa.ja(n),a=this.Fa.ja(s),h=new t.h,l=new t.h;if(this.Xh.D(o,h),this.Xh.D(a,l),o=t.h.Uq(l,e,h),r.um(o))i=this.Fa.xn(-1),(h=this.nC(e,s,n))!=n&&this.oC(e,n,this.Fa.we(h));else if(r.CG(o)){l=this.Fa.sv(-1);var u=this.Fa.rc(-1),c=this.Fa.Fc(-1);for(o=new t.h,a=new t.h;u!=this.Fa.we(c);){var f=this.Fa.ja(l);this.Xh.D(f,o),f=t.h.Uq(o,e,h),r.CG(f)?(c=l,l=this.Fa.ll(l)):(u=l,l=this.Fa.Xp(l))}if(l=c,h=u,f=this.Fa.ja(l),u=this.Fa.ja(h),this.Xh.D(f,o),this.Xh.D(u,a),h!=n&&(o=t.h.Uq(a,e,o),!r.um(o)))continue;i=this.Fa.zu(h,l,-2,!1),this.oC(e,l,s),this.nC(e,h,n)}else null==this.sb&&(this.sb=new t.yb),this.sb.Dc(l),this.sb.Qc(h),0>(h=this.sb.fe(e,!0))?(h=this.Fa.we(s),this.Fa.vd(s,-1),i=this.Fa.xn(-3),this.nC(e,h,n)):1<h&&(h=this.Fa.lb(n),this.Fa.vd(n,-1),i=this.Fa.zu(-1,h,-3,!1),this.oC(e,h,s))}while(0);return i},r.prototype.oC=function(e,i,n){if(i!=n){var s=this.Fa.ja(i),o=this.Fa.lb(i),a=new t.h,h=new t.h;for(this.Xh.D(s,a);i!=n&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(o),h),s=t.h.Uq(h,e,a),!r.um(s));)s=i,i=o,a.L(h),o=this.Fa.lb(i),this.Xh.vd(s)}},r.prototype.nC=function(e,i,n){if(i==n)return n;var s=this.Fa.ja(i),o=this.Fa.we(i),a=new t.h,h=new t.h;for(this.Xh.D(s,a);i!=n&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(o),h),s=t.h.Uq(a,e,h),!r.um(s));)s=i,i=o,a.L(h),o=this.Fa.we(i),this.Xh.vd(s);return i},r.Wu=function(e,i,n){var r=new t.Wb;r.set(i.x),r.sub(e.x);var s=new t.Wb;s.set(n.y),s.sub(e.y);var o=new t.Wb;return o.set(i.y),o.sub(e.y),(i=new t.Wb).set(n.x),i.sub(e.x),r.Ag(s),o.Ag(i),r.sub(o),r},r.um=function(t){return 0>t},r.CG=function(t){return 0<t},r}();t.Zt=r}(J||(J={})),function(t){var e=function(){function e(t){this.g=null,this.tH=!0,this.nd=t}return e.zU=function(e,i,n){return e=t.ta.Er(e),t.Yt.Cv(i.Lg(),i.ih(),n.Lg(),n.ih(),t.lc.ox(e))},e.CO=function(e,i){var n=new t.Sa;return t.Yt.WT(e,i,n),n},e.V=function(t,i,n,r){return(n=new e(n)).g=t,n.qa=i,n.tH=r,n.EM()},e.prototype.nM=function(e){return t.Yt.iQ(this.g,e)},e.prototype.sM=function(e){return t.$t.V(this.g,e,this.nd)},e.prototype.EM=function(){var e=this.qa,i=t.ta.Er(e),n=1.00001*(e=t.ta.rN(e));e*=1.000001;for(var r=!1,s=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),o=0,a=this.g.jS();;o++){if(o>s)throw t.i.fa("Internal Error: max number of iterations exceeded");var h=this.nM(i);if(r=r||h,this.tH&&(h=0!=this.g.Gp(i,!0,!1),r=r||h),h=!1,(0==o||a||t.$t.kI(!0,this.g,e,null,this.nd))&&(h=this.sM(n),r=r||h),!h)break;t.mp.zp(this.nd)}return r},e}();t.Tk=e}(J||(J={})),function(t){var e=function(){function e(t){this.$d=this.Mc=null,this.Ys=0,this.Ub=t,this.cA=!0}return e.prototype.uv=function(t,e){var i=this.g.bc(t);if(null==i){if(!this.g.ed(t,e))return null;i=e}return i},e.prototype.Xq=function(){var e;void 0===e&&(e=!1),this.Ys++,(e||!(4095&this.Ys))&&(this.Ys=0,t.mp.zp(this.Ub))},e.prototype.nP=function(){var e=this.g.Yq(!1),i=!1,n=new t.yb,r=new t.yb,s=new t.l;s.Oa();var o=new t.l;o.Oa();for(var a=new t.Sa,h=new t.TC,l=e.next();-1!=l;l=e.next()){t.mp.zp(this.Ub);var u=null,c=!1;if(!t.aa.Rn(this.g.ic(e.ck))){if(null==(u=this.uv(l,n)))continue;if(u.A(s),s.W(this.qa,this.qa),u.Bi(this.qa)){if(!u.Bi(0))continue;c=!0,u=null}}var f=this.g.Yq(e),p=f.next();for(-1!=p&&(p=f.next());-1!=p;p=f.next()){var d=null,v=!1;if(!t.aa.Rn(this.g.ic(f.ck))){if(null==(d=this.uv(p,r)))continue;if(d.A(o),d.Bi(this.qa)){if(!d.Bi(0))continue;v=!0,d=null}}var g=0,y=0;if(null!=u&&null!=d)s.HG(o)&&(h.Oo(u),h.Oo(d),h.Ea(this.qa,!1),0<(g=h.ol(0))+(y=h.ol(1))&&(this.g.jr(l,h,0,!0),this.g.jr(p,h,1,!0)),h.clear());else if(null!=u){var m=new t.h;if(this.g.D(p,m),s.contains(m)){if(h.Oo(u),this.g.Vi(p,a),h.Kz(this.qa,a,!1),0<(g=h.ol(0)))if(this.g.jr(l,h,0,!0),v){for(v=-1,m=this.g.U(p);-1!=m&&m!=p&&(v=m,null!=(d=this.uv(m,r))&&d.Bi(0));m=this.g.U(m));for(m=p;-1!=m&&(this.g.Dh(m,h.Bf),m!=v);m=this.g.U(m));}else this.g.Dh(p,h.Bf);h.clear()}}else{if(null==d)continue;if(m=new t.h,this.g.D(l,m),o.W(this.qa,this.qa),o.contains(m)){if(h.Oo(d),this.g.Vi(l,a),h.Kz(this.qa,a,!1),0<(y=h.ol(0)))if(this.g.jr(p,h,0,!0),c){for(v=-1,m=this.g.U(l);-1!=m&&m!=l&&(v=m,null!=(d=this.uv(m,r))&&d.Bi(0));m=this.g.U(m));for(m=l;-1!=m&&(this.g.Dh(m,h.Bf),m!=v);m=this.g.U(m));}else this.g.Dh(l,h.Bf);h.clear()}}if(0!=g+y){if(0!=g){if(null==(u=this.g.bc(l))){if(!this.g.ed(l,n))continue;u=n,n.A(s)}else u.A(s);if(u.Bi(this.qa))break}i=!0}}}return i},e.prototype.oP=function(){return this.QU()},e.prototype.QU=function(){return(new t.RC).PX(this.g,this.qa)},e.prototype.lI=function(){var e=!1;null==this.Mc&&(this.Mc=new t.Yj);var i=new t.ia(0);i.Jb(this.g.fd+1);for(var n=this.g.Yq(),r=n.next();-1!=r;r=n.next())i.add(r);this.g.nx(i,i.size),i.add(-1),n=this.g.Gd(),r=this.g.Gd(),this.$d=new t.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var s=new t.ia(0),o=new t.ia(0),a=0;new t.h;var h=this.g.td;this.g.vb.mc();for(var l,u,c=this.g.vb.za[0].o,f=i.get(a++);-1!=f;){var p=l=c[2*(u=h.T(f,0))],d=u=c[2*u+1];do{var v=h.T(f,2),g=h.T(f,1);if(-1!=v){var y=h.T(v,0),m=c[2*y];0>(d<(y=c[2*y+1])?-1:d>y?1:p<m?-1:p>m?1:0)&&(o.add(f),o.add(v))}-1!=g&&(m=c[2*(y=h.T(g,0))],0>(d<(y=c[2*y+1])?-1:d>y?1:p<m?-1:p>m?1:0)&&(o.add(g),o.add(g))),-1!=(m=this.g.Pa(f,n))&&(s.add(m),this.g.Ra(f,n,-1)),-1!=(m=this.g.Pa(f,r))&&(s.add(m),this.g.Ra(f,r,-1)),-1!==(f=i.get(a++))&&(p=c[2*(d=h.T(f,0))],d=c[2*d+1])}while(-1!=f&&p===l&&d===u);for(p=1==s.size&&2==o.size,m=d=-1,v=0,g=s.size;v<g;v++){y=s.get(v);var _=this.Mc.we(y);if(-1==_||s.hG(_)||(d=_),-1==(y=this.Mc.lb(y))||s.hG(y)||(m=y),-1!=d&&-1!=m)break}for(this.$d.$J(u,l),v=0,g=s.size;v<g;v++)y=s.get(v),this.Mc.vd(y,-1);if(s.clear(!1),!p&&-1!=d&&-1!=m&&this.qO(d,m)){e=!0,this.Ni=this.$d.rm();break}for(v=0,g=o.size;v<g;v+=2){if(u=o.get(v),l=o.get(v+1),p?(u=this.Mc.zu(d,m,u,!0),p=!1):u=this.Mc.addElement(u,-1),this.$d.rg){this.Ni=this.$d.rm(),e=!0;break}-1==this.g.Pa(l,n)?this.g.Ra(l,n,u):this.g.Ra(l,r,u)}if(e)break;o.Bh(0)}return this.g.Td(n),this.g.Td(r),e},e.prototype.qO=function(t,e){return this.$d.compare(this.Mc,this.Mc.ja(t),e),t=this.$d.rg,this.$d.Kr(),t},e.yE=function(e){for(var i=e.ld;-1!=i;i=e.ue(i))if(t.aa.Hc(e.ic(i)))return!0;return!1},e.fQ=function(t,i,n,r){return!!e.yE(t)&&((i=new e(r)).g=t,i.qa=n,15>t.fd?t=i.nP():i.oP())},e.V=function(t,i,n){return e.fQ(t,t.IF(),i,n)},e.kI=function(i,n,r,s,o){if(!e.yE(n))return!1;var a=new e(o);if(a.g=n,a.qa=r,a.cA=i,a.lI())return null!=s&&s.Wt(a.Ni),!0;var h=new t.Dd;return h.$B(),n.Oc(h),(a=new e(o)).g=n,a.qa=r,a.cA=i,i=a.lI(),h.$B(),n.Oc(h),!!i&&(null!=s&&s.Wt(a.Ni),!0)},e.Ml=function(t,e){return!(16>(t=t.I()))&&2*t+Math.log(t)*Math.LOG10E/Math.log(2)*e<1*t*e},e.lP=function(i,n,r,s){var o=n.getType();if(t.aa.Hc(o))return new e(s).mP(i,n,r);throw t.i.fa("crack_A_with_B")},e.prototype.mP=function(n,r,s){var o=new t.l;n.xc(o);var a=new t.l;if(r.xc(a),a.W(s,s),!a.isIntersecting(o))return n;var h=n.Bb,l=null;null!=h&&(l=h.Fb),e.Ml(n,n.I())&&(l=t.ta.jj(n,a));var u=null!=l?l.getIterator():null,c=r.Ga();r=n.Ga();var f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=[];c.$a();)for(;c.Ha();){var p=c.ha();if(null!=l){for(u.Uo(p,s),h=u.next();-1!=h;h=u.next())if(this.Xq(),r.Vb(l.ja(h),-1),r.Ha()){var d=(h=r.ha()).Ea(p,null,f,null,s);for(h=0;h<d;++h){var v=f[h];if(0!=v&&1!=v){var g=r.wb(),y=new i;y.t=v,y.index=g,a.push(y)}}}}else{var m=new t.l;if(p.xc(m),m.W(s,s),o.isIntersecting(m))for(r.Zi();r.$a();)for(;r.Ha();)if(this.Xq(),h=r.ha(),v=new t.l,h.xc(v),v.isIntersecting(m))for(d=h.Ea(p,null,f,null,s),h=0;h<d;++h)0!=(v=f[h])&&1!=v&&(g=r.wb(),(y=new i).t=v,y.index=g,a.push(y))}}if(0==a.length)return n;for(a=a.sort(i.Ey),n=n.Ia(),r.Zi();r.$a()&&!r.Ha(););for(s=r.ha(),o=new t.ig,l=-1,h=0,u=a.length;h<u;){for(f=a[h].index,c=h+1;c<u&&a[c].index==f;)++c;for(;r.wb()<f;){if(this.Xq(),p=r.Ha(),v=r.gb,(m=p||!r.On()||r.Pn())&&n.oc(s,l!=v),l=v,!p)for(;r.$a()&&!r.Ha(););s=r.ha()}for(f=0;h<c;h++)(v=a[h].t)!=f&&(s.ah(f,v,o),f=v,v=r.gb,n.oc(o.get(),l!=v),l=v);if((m=(p=r.Ha())||!r.On()||r.Pn())&&(s.ah(f,1,o),n.oc(o.get(),!1)),p)s=r.ha();else{for(;r.$a()&&!r.Ha(););s=r.Ha()?r.ha():null}h=c}for(null!=s&&(v=r.gb,(m=(p=r.Ha())||!r.On()||r.Pn())&&n.oc(s,l!=v),l=v),p=r.Ha();;){if(!p){for(;r.$a()&&!(p=r.Ha()););if(!p)break}s=r.ha(),v=r.gb,(m=(p=r.Ha())||!r.On()||r.Pn())&&n.oc(s,l!=v),l=v}return n},e}();t.$t=e;var i=function(){function t(){}return t.Ey=function(t,e){return t.index==e.index?t.t>e.t?1:t.t<e.t?-1:0:t.index>e.index?1:-1},t}()}(J||(J={})),function(t){var e;(e=t.KK||(t.KK={}))[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Coincident=2]="Coincident",e[e.Undefined=3]="Undefined",e[e.Uncut=4]="Uncut";var i=function(t,e,i,n,r,s,o,a,h,l,u){this.X=t,this.bt=e,this.Ns=i,this.tg=n,this.Lm=l,this.Al=u};t.uY=i;var n=function(){function e(t,e){this.JH=t,this.Hi=e}return e.prototype.qM=function(e,i){var n=new t.h;this.Hi.D(e,n);var r=new t.h;return this.Hi.D(i,r),0!=(n=n.compare(r))?n:(e=this.Hi.Pa(e,this.JH))<(i=this.Hi.Pa(i,this.JH))?-1:e==i?0:1},e}(),r=function(t,e,i,n,r,s,o,a,h){this.tg=t,this.Ns=e,this.OA=i,this.UH=n,this.Ei=r,this.Al=s,this.Lm=o,this.VH=a,this.OT=h};t.tY=r,t.LK=function(){function e(){}return e.JK=function(n,r,s,o,a,h){if(r.B())n=new i(r,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),a.push(n);else if(s.B())n=new i(r,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),a.push(n);else{var l=new t.gd;if(l.Ib(r),l.Ib(s),t.Tk.V(l,o,h,!0),0==l.fd)n=new i(r.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),a.push(n);else{for(r=0,s=l.Gd(),o=l.ld;-1!=o;o=l.ue(o))for(h=l.Ob(o);-1!=h;h=l.Rb(h))for(var u=l.Xa(h),c=0,f=l.Ja(h);c<f;u=l.U(u),c++)l.Ra(u,s,r++);r=e.HM(s,l),e.cM(n,r,l,a)}}},e.HM=function(i,r){for(var s=r.fd,o=new t.ia(0),a=r.ld;-1!=a;a=r.ue(a))for(var h=r.Ob(a);-1!=h;h=r.Rb(h))for(var l=r.Xa(h),u=0,c=r.Ja(h);u<c;l=r.U(l),u++)o.add(l);var f=new n(i,r);o.Vd(0,s,(function(t,e){return f.qM(t,e)})),i=[];var p=[],d=r.Gd(),v=r.Gd();a=r.ld,h=r.ue(a),c=new t.h;var g=new t.h,y=o.get(0),m=r.bd(y),_=r.Qf(m);r.D(y,c);var b=1;for(l=0;b<s-1;){var w=!1;for(u=b;u<s;u++)if(u!=l){var x=o.get(u),S=r.bd(x),T=r.Qf(S);if(r.D(x,g),!c.qb(g))break;_==a&&T==h&&(w=e.uM(d,v,r,i,p,m,y,S,x))}if(w||l==b-1){if(w&&l==b-1&&b--,++l==s)break;y=o.get(l),m=r.bd(y),_=r.Qf(m),r.D(y,c)}w||(b=l+1)}for(s=[],a=r.ld;-1!=a;a=r.ue(a))for(h=r.Ob(a);-1!=h;h=r.Rb(h))for(o=r.Xa(h),u=0,c=r.Ja(h);u<c;o=r.U(o),u++){if(0<=(l=r.Pa(o,v)))for(;l<p.length&&p[l].tg==o;)s.push(p[l++]);if(0<=(l=r.Pa(o,d)))for(;l<i.length&&i[l].tg==o;)s.push(i[l++])}return r.Td(d),r.Td(v),s},e.uM=function(t,i,n,r,s,o,a,h,l){var u=n.rj(o),c=n.rj(h),f=n.Xa(o),p=n.Xa(h),d=n.Ma(a),v=n.Ma(l),g=!1,y=!1,m=!1,_=!1;return a!=f&&(l!=p&&(g=e.vM(t,n,r,o,d,h,v)),l!=c&&(y=e.wM(t,n,r,o,d,h,l))),a!=u&&(l!=p&&(m=e.xM(i,n,s,o,a,h,v,f)),l!=c&&(_=e.yM(i,n,s,o,a,h,l,f))),g&&y&&m?(t=r.length-1,2==s[_?s.length-2:s.length-1].Ei&&(r[t-1]=r[t],--r.length)):g&&y&&_&&2==s[s.length-1].Ei&&(s=r[r.length-1],--r.length,n.Pa(s.tg,t)==r.length&&n.Ra(s.tg,t,-1)),g||y||m||_},e.vM=function(e,i,n,s,o,a,h){var l=new t.yb,u=new t.yb,c=[0,0],f=[0,0],p=i.bc(o);return null==p&&(i.ed(o,l),p=l),null==(l=i.bc(h))&&(i.ed(h,u),l=u),2>(p=p.Ea(l,null,c,f,0))&&(s=new r(o,s,c[0],NaN,p,h,a,f[0],NaN),n.push(s),0>(s=i.Pa(o,e))&&i.Ra(o,e,n.length-1)),!0},e.wM=function(e,i,n,s,o,a,h){var l=new t.yb,u=new t.yb,c=[0,0],f=[0,0],p=i.bc(o);return null==p&&(i.ed(o,l),p=l),null==(l=i.bc(h))&&(i.ed(h,u),l=u),2>(p=p.Ea(l,null,c,f,0))&&(s=new r(o,s,c[0],NaN,p,h,a,f[0],NaN),n.push(s),0>(s=i.Pa(o,e))&&i.Ra(o,e,n.length-1),!0)},e.xM=function(e,i,n,s,o,a,h,l){var u=new t.yb,c=new t.yb,f=[0,0],p=[0,0],d=i.bc(o);return null==d&&(i.ed(o,u),d=u),null==(u=i.bc(h))&&(i.ed(h,c),u=c),2==(d=d.Ea(u,null,f,p,0))?(s=new r(o,s,f[0],f[1],d,h,a,p[0],p[1]),n.push(s),0>(s=i.Pa(o,e))&&i.Ra(o,e,n.length-1),!0):(c=!1,o==l&&(s=new r(o,s,f[0],NaN,d,h,a,p[0],NaN),n.push(s),0>(s=i.Pa(o,e))&&i.Ra(o,e,n.length-1),c=!0),c)},e.yM=function(e,i,n,s,o,a,h,l){var u=new t.yb,c=new t.yb,f=[0,0],p=[0,0],d=i.bc(o);return null==d&&(i.ed(o,u),d=u),null==(u=i.bc(h))&&(i.ed(h,c),u=c),2==(d=d.Ea(u,null,f,p,0))?(s=new r(o,s,f[0],f[1],d,h,a,p[0],p[1]),n.push(s),0>(s=i.Pa(o,e))&&i.Ra(o,e,n.length-1),!0):(c=!1,o==l&&(s=new r(o,s,f[0],NaN,d,h,a,p[0],NaN),n.push(s),0>(s=i.Pa(o,e))&&i.Ra(o,e,n.length-1),c=!0),c)},e.cM=function(n,r,s,o){var a=[];a[0]=new t.h,a[1]=new t.h,a[2]=new t.h,a[3]=new t.h;var h=new t.h,l=new t.h,u=new t.h,c=new t.h,f=null;null!=o&&(f=new t.ig).Or();var p=0,d=null,v=new t.yb;new t.yb;for(var g=s.Ob(s.ld);-1!=g;g=s.Rb(g)){for(var y=4,m=-1,_=-1,b=-1,w=-1,x=NaN,S=!0,T=!1,A=!0,E=!0,M=!0,I=0,C=g,R=0,N=s.Xa(g),O=s.Ja(g),D=0;D<O;N=s.U(N),D++){var L=s.bc(N);if(null==L){if(!s.ed(N,v))continue;L=v}-1==_&&(_=N);for(var P=0;p<r.length&&N==r[p].tg;){m=r[p].Ns;var z=r[p].tg,F=r[p].OA,j=r[p].Lm,V=r[p].Al,B=r[p].VH;if(2==r[p].Ei){if(T||(C=m,_=z,R=F,b=j,w=V,x=B,y=2,null!=o?d=new t.Ta:I=0,M=!1,E=!0),F=r[p].UH,B=r[p].OT,null!=o?(L.ah(P,r[p].UH,f),d.oc(f.get(),E)):I++,P=F,T=!0,E=S=!1,p+1==r.length||2!=r[p+1].Ei||r[p+1].tg==z&&r[p+1].OA!=P){if(null!=o){var U=new i(d,2,m,z,F,y,C,_,R,j,V,B,b,w,x);o.push(U)}else null.add(I);C=m,_=z,R=F,b=j,w=V,x=B,y=2,T=S=!1,E=M=!0}}else{var k=s.U(z);if(p<r.length-1&&r[p+1].tg==k&&r[p+1].Al==V&&2==r[p+1].Ei)F!=P&&(M&&(null!=o?d=new t.Ta:I=0),S=0<p&&r[p-1].Ns==m?1==y?0:0==y?1:3:3,null!=o?(L.ah(P,F,f),d.oc(f.get(),E),U=new i(d,S,m,z,F,y,C,_,R,j,V,B,b,w,x),o.push(U)):(I++,null.add(I)),P=F,C=m,_=z,R=F,b=j,w=V,x=B,y=S,S=A=!1,E=M=!0);else if(!e.CM(n,s,r,p,h,l)){e.zM(s,r,p,g,N,u,c);var G=!1;if(k=!1,U=!0,!(h.qb(u)||l.qb(u)||h.qb(c)||l.qb(c))){a[0].L(h),a[1].L(l),a[2].L(u),a[3].L(c),a.sort(t.h.nu);var H=a[0],q=a[1],Z=a[2],W=a[3];H.qb(h)?q.qb(l)?n?(k=G=!0,U=!1):G=!1:W.qb(l)?n?U=k=G=!0:G=!1:(G=!0,U=q.qb(u)):q.qb(h)?Z.qb(l)?n?(k=G=!0,U=!1):G=!1:H.qb(l)?n?U=k=G=!0:G=!1:(G=!0,U=Z.qb(u)):Z.qb(h)?W.qb(l)?n?(k=G=!0,U=!1):G=!1:q.qb(l)?n?U=k=G=!0:G=!1:(G=!0,U=W.qb(u)):H.qb(l)?n?(k=G=!0,U=!1):G=!1:Z.qb(l)?n?U=k=G=!0:G=!1:(G=!0,U=H.qb(u))}G&&(G=N==z,(F!=P||G&&0==P)&&(M&&(null!=o?d=new t.Ta:I=0),null!=o?(L.ah(P,F,f),d.oc(f.get(),E)):I++),U?1!=y?((F!=P||G&&0==P)&&(null!=o?(U=new i(d,1,m,z,F,y,C,_,R,j,V,B,b,w,x),o.push(U)):null.add(I)),k?(p>=r.length-2||r[p+2].Ns!=m)&&(y=0):y=1):((F!=P||G&&0==P)&&(null!=o?(U=new i(d,3,m,z,F,y,C,_,R,j,V,B,b,w,x),o.push(U)):null.add(I)),y=1):0!=y?((F!=P||G&&0==P)&&(null!=o?(U=new i(d,0,m,z,F,y,C,_,R,j,V,B,b,w,x),o.push(U)):null.add(I)),k?(p>=r.length-2||r[p+2].Ns!=m)&&(y=1):y=0):((F!=P||G&&0==P)&&(null!=o?(U=new i(d,3,m,z,F,y,C,_,R,j,V,B,b,w,x),o.push(U)):null.add(I)),y=0),(F!=P||G&&0==P)&&(P=F,C=m,_=z,R=F,b=j,w=V,x=B,S=A=!1,E=M=!0))}}p++}1!=P&&(M&&(null!=o?d=new t.Ta:I=0),null!=o?(L.ah(P,1,f),d.oc(f.get(),E)):I++,E=M=!1,A=!0)}A&&(F=1,z=s.rj(g),z=s.Ma(z),V=j=-1,B=NaN,S?null!=o?(U=new i(d,4,m,z,F,y,C,_,R,j,V,B,b,w,x),o.push(U)):null.add(I):(S=1==y?0:0==y?1:3,null!=o?(U=new i(d,S,m,z,F,y,C,_,R,j,V,B,b,w,x),o.push(U)):null.add(I)))}},e.CM=function(i,n,r,s,o,a){var h=r[s].VH;if(1==h)return e.AM(i,n,r,s,o,a);if(0==h)return e.BM(i,n,r,s,o,a);throw t.i.Qa()},e.AM=function(e,i,n,r,s,o){var a=new t.yb,h=n[r].tg,l=n[r].Lm,u=n[r].Al,c=-1,f=-1,p=-1,d=-1;if(!e&&0<r){var v=n[r-1];c=v.tg,f=v.Lm,p=v.Al,d=v.Ei}var g=-1,y=-1,m=-1,_=-1;r<n.length-1&&(g=(v=n[r+1]).tg,y=v.Lm,m=v.Al,_=v.Ei);var b=i.U(h);return v=i.U(u),e?r==n.length-1||g!=h||y!=l||m!=v||2==_?(null==(e=i.bc(u))&&(i.ed(u,a),e=a),o.L(e.kg()),s.mt(o),o.normalize(),s.normalize(),!1):(null==(e=i.bc(u))&&(i.ed(u,a),e=a),s.L(e.kg()),null==(e=i.bc(v))&&(i.ed(v,a),e=a),o.L(e.kg()),s.Sq(),o.normalize(),s.normalize(),!1):0<r&&c==h&&f==l&&p==v&&2==d||r<n.length-1&&g==b&&y==l&&m==v&&2==_?(null==(e=i.bc(u))&&(i.ed(u,a),e=a),o.L(e.kg()),s.mt(o),o.normalize(),s.normalize(),!1):!(r<n.length-1&&g==h&&y==l&&m==v&&(null==(e=i.bc(u))&&(i.ed(u,a),e=a),s.L(e.kg()),null==(e=i.bc(v))&&(i.ed(v,a),e=a),o.L(e.kg()),s.Sq(),o.normalize(),s.normalize(),1))},e.BM=function(e,i,n,r,s,o){var a=new t.yb,h=n[r].tg,l=n[r].Lm,u=n[r].Al,c=-1,f=-1,p=-1,d=-1;if(!e&&r<n.length-1){var v=n[r+1];c=v.tg,f=v.Lm,p=v.Al,d=v.Ei}var g=-1,y=-1,m=-1;v=-1,0<r&&(g=(v=n[r-1]).tg,y=v.Lm,m=v.Al,v=v.Ei);var _=i.U(h),b=i.Ma(u);return e?0!=r&&g==h&&y==l&&m==b&&2!=v||(null==(e=i.bc(u))&&(i.ed(u,a),e=a),o.L(e.kg()),s.mt(o),o.normalize(),s.normalize(),!1):!(0<r&&g==h&&y==l&&m==b&&2==v||r<n.length-1&&c==_&&f==l&&p==b&&2==d)||(null==(e=i.bc(u))&&(i.ed(u,a),e=a),o.L(e.kg()),s.mt(o),o.normalize(),s.normalize(),!1)},e.zM=function(e,i,n,r,s,o,a){var h=new t.yb,l=e.bc(s);if(null==l&&(e.ed(s,h),l=h),i=(n=i[n]).tg,n=n.OA,s=e.U(i),1==n)o.L(l.kg()),-1!=s&&s!=e.rj(r)?(null==(l=e.bc(s))&&(e.ed(s,h),l=h),a.L(l.kg()),null==(l=e.bc(i))&&e.ed(i,h)):a.L(o),o.Sq(),a.normalize(),o.normalize();else{if(0!=n)throw t.i.Qa();a.L(l.kg()),o.mt(a),a.normalize(),o.normalize()}},e}()}(J||(J={})),function(t){var e;(e=t.bM||(t.bM={}))[e.Linear=0]="Linear",e[e.Angular=1]="Angular",e[e.Area=2]="Area";var i=function(){function e(t,e,i){this.od=e,this.ai=i,this.vA=t}return e.prototype.Nb=function(t){return t instanceof e&&this.ai===t.ai},e.aG=function(t){return 0!==t.od?null:-1===t.vA?new e(-1,2,t.ai*t.ai):e.Zg(a[t.vA])},e.Zg=function(t){return void 0===(t=o[t])?null:t},e.ZO=function(t,i,n){var r=null;if(null!=n)try{"EPSG"===n.values[0]&&(r=e.Zg(parseInt(n.values[1])))}catch(s){}return null===r&&(r=new e(-1,t,i)),r},e.prototype.Ec=function(){return this.vA},e.prototype.CF=function(e){if(e.od!=this.od)throw t.i.Hb();return this.ai/e.ai},e.Nh=function(t,e,i){return e.CF(i)*t},e.XE=function(t,e,i,n,r){for(i=i.CF(n),n=0;n<e;n++)r[n]=t[n]*i},e}();t.Tc=i;for(var n=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1.244521604938272e-7,109465,1e-12,109466,1e-18],r=[1031,4.84813681109536e-9,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],s=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],o=[],a=[],h=0;h<n.length;h+=2)o[n[h]]=new i(n[h],2,n[h+1]);for(n=null,h=0;h<r.length;h+=2)o[r[h]]=new i(r[h],1,r[h+1]);for(r=null,h=0;h<s.length;h+=3)o[s[h]]=new i(s[h],0,s[h+1]),a[s[h]]=s[h+2];s=null}(J||(J={})),function(t){var e=function(){function t(){this.xb=this.pb=0}return t.prototype.set=function(t,e){void 0!==e?(this.pb=t,this.xb=e):"number"==typeof t?(this.pb=t,this.xb=0):(this.pb=t.pb,this.xb=t.xb)},t.prototype.value=function(){return this.pb},t.prototype.add=function(t){var e=this.pb+t.pb;t=this.xb+t.xb+2220446049250313e-31*Math.abs(e),this.pb=e,this.xb=t},t.prototype.kN=function(){var t=this.pb+1,e=this.xb+2220446049250313e-31*Math.abs(t);this.pb=t,this.xb=e},t.prototype.dN=function(t,e){this.pb=t.pb+e.pb,this.xb=t.xb+e.xb+2220446049250313e-31*Math.abs(this.pb)},t.prototype.sub=function(t){if("number"==typeof t){var e=this.pb-t;t=this.xb+2220446049250313e-31*Math.abs(e)}else e=this.pb-t.pb,t=this.xb+t.xb+2220446049250313e-31*Math.abs(e);this.pb=e,this.xb=t},t.prototype.Ag=function(t){var e=this.pb*t.pb;this.xb=this.xb*Math.abs(t.pb)+t.xb*Math.abs(this.pb)+this.xb*t.xb+2220446049250313e-31*Math.abs(e),this.pb=e},t.prototype.No=function(t){var e=this.pb*t;this.xb=this.xb*Math.abs(t)+2220446049250313e-31*Math.abs(e),this.pb=e},t.prototype.Kl=function(t,e){var i=Math.abs(t.pb)*Math.abs(e.pb);this.xb=t.xb*Math.abs(e.pb)+e.xb*Math.abs(t.pb)+t.xb*e.xb+2220446049250313e-31*Math.abs(i),this.pb=i},t.prototype.jm=function(t){var e=Math.abs(t.pb),i=this.pb/t.pb,n=(this.xb+Math.abs(i)*t.xb)/e;t.xb>.01*e&&(n*=1+(1+(t=t.xb/e))*t),this.pb=i,this.xb=n+2220446049250313e-31*Math.abs(i)},t.prototype.sqrt=function(){if(0<=this.pb){var t=Math.sqrt(this.pb),e=this.pb>10*this.xb?.5*this.xb/t:this.pb>this.xb?t-Math.sqrt(this.pb-this.xb):Math.max(t,Math.sqrt(this.pb+this.xb)-t);e+=2220446049250313e-31*Math.abs(t)}else this.pb<-1*this.xb?e=t=NaN:(t=0,e=Math.sqrt(this.xb));this.pb=t,this.xb=e},t.prototype.sin=function(t){var e=Math.sin(t.pb),i=Math.cos(t.pb);this.pb=e,e=Math.abs(e),this.xb=(Math.abs(i)+.5*e*t.xb)*t.xb+2220446049250313e-31*e},t.prototype.cos=function(t){var e=Math.sin(t.pb),i=Math.cos(t.pb);this.pb=i,i=Math.abs(i),this.xb=(Math.abs(e)+.5*i*t.xb)*t.xb+2220446049250313e-31*i},t.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},t.prototype.ps=function(){return this.qg()&&0!=this.xb},t}();t.Wb=e}(J||(J={}));var tt=new J.h,et=new J.h,it=new J.h,nt=new J.h,rt=new J.h;!function(t){var e,i;(i=e||(e={}))[i.closedPath=1]="closedPath",i[i.exteriorPath=2]="exteriorPath",i[i.ringAreaValid=4]="ringAreaValid";var n=function(){function e(t,e,i,n,r,s,o){void 0!==e?(this.ib=t,this.ck=e,this.bl=i,this.ii=n,this.ya=s,this.hA=o,this.ew=r):(this.ib=t.ib,this.ck=t.ck,this.bl=t.bl,this.ii=t.ii,this.ya=t.ya,this.hA=t.hA,this.ew=t.ew),this.bH=!0}return e.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):-1!=this.ii?(this.ii=this.ib.U(this.ii),this.ya++,-1!=this.ii&&this.ii!=this.ew?this.ii:this.$T()):-1},e.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;-1!=this.ck;){for(;-1!=this.bl;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),-1!=this.ii)return this.ii;if(this.ck=this.ib.ue(this.ck),-1==this.ck)break;this.hA&&!t.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},e.AP=function(t,i,n,r,s,o,a){return new e(t,i,n,r,s,o,a)},e}();t.zY=n,e=function(){function e(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return e.prototype.Sh=function(t){return null!=this.We?this.We[t]:null},e.prototype.Xg=function(t,e){if(null==this.We){if(null==e)return;this.We=[];for(var i=0,n=this.vb.I();i<n;i++)this.We.push(null)}this.We[t]=e},e.prototype.bp=function(t,e){this.md.S(t,1,e)},e.prototype.ap=function(t,e){this.md.S(t,2,e)},e.prototype.VB=function(t,e){this.md.S(t,6,e)},e.prototype.Sp=function(t){return this.md.T(t,6)},e.prototype.gx=function(t,e){this.md.S(t,7,e)},e.prototype.qv=function(t){return this.md.T(t,0)},e.prototype.OJ=function(t,e){this.cd.S(t,1,e)},e.prototype.SJ=function(t,e){this.cd.S(t,0,e)},e.prototype.JF=function(t){return this.cd.T(t,7)},e.prototype.Zo=function(t,e){this.cd.S(t,3,e)},e.prototype.$o=function(t,e){this.cd.S(t,4,e)},e.prototype.uU=function(e){null==this.cd&&(this.cd=new t.$c(8));var i=this.cd.Ce();return this.cd.S(i,2,e),this.cd.S(i,5,0),this.cd.S(i,6,0),this.cd.S(i,7,i),i},e.prototype.OQ=function(t){this.cd.jd(t)},e.prototype.wU=function(e){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0));var i=this.md.Ce();return this.md.S(i,0,i),this.md.S(i,3,0),this.md.S(i,6,0),this.gx(i,e),i>=this.Oi.size&&(e=16>i?16:t.O.truncate(3*i/2),this.Oi.resize(e),this.vo.resize(e)),this.Oi.set(i,0),this.vo.set(i,0),i},e.prototype.sF=function(t){this.md.jd(t)},e.prototype.Vy=function(t){this.td.jd(t),this.fd--},e.prototype.oI=function(e){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0));var i=this.td.Ce(),n=0<=e?e:i;if(this.td.S(i,0,n),0>e){if(n>=this.vb.I()){if(e=16>n?16:t.O.truncate(3*n/2),this.vb.resize(e),null!=this.We)for(var r=0;r<e;r++)this.We.push(null);null!=this.Sg&&this.Sg.resize(e),this.it=this.vb.ub(0)}this.vb.Cb(n,-1e38,-1e38),null!=this.We&&(this.We[n]=null),null!=this.Sg&&this.Sg.write(n,1)}return this.td.S(i,4,2*n),this.fd++,i},e.prototype.wj=function(t,e,i){var n=-1!=e?this.Ma(e):this.rj(t),r=-1!=n?this.U(n):-1,s=this.oI(null==i?this.fd:-1),o=this.Ua(s);return null!=i&&this.vb.Ht(o,i),this.aj(s,t),this.Bc(s,r),this.Cc(s,n),-1!=r&&this.Cc(r,s),-1!=n&&this.Bc(n,s),i=this.dc(t),n=this.Xa(t),-1==e&&this.Wg(t,s),e==n&&this.Jf(t,s),i&&-1==r&&(this.Bc(s,s),this.Cc(s,s)),this.Vj(t,this.Ja(t)+1),t=this.Qf(t),this.Tj(t,this.I(t)+1),s},e.prototype.nm=function(){return null==this.jo&&(this.jo=new t.Sa(this.vb.description)),this.jo},e.prototype.Yo=function(t,e){this.cd.S(t,2,-134217729&this.cd.T(t,2)||(1==e?134217728:0))},e.prototype.In=function(t){return 134217728&this.cd.T(t,2)?1:0},e.prototype.hN=function(t){var e=this.Ig(t.getType(),t.description);return 1736==t.getType()&&this.Yo(e,t.In()),this.UD(e,t),e},e.prototype.iN=function(t){var e=this.Ig(t.getType(),t.description);return this.VD(e,t),e},e.prototype.XV=function(e,i){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0)),this.md.De(this.md.Hg+e),this.td.De(this.td.Hg+i),this.Oi.Jb(this.Oi.size+e),this.vo.Jb(this.vo.size+e)},e.prototype.UD=function(e,i){this.XV(i.da(),i.I()),this.Il.Fd(i,0,i.I()),this.it=this.vb.ub(0);for(var n=null!=this.We&&null!=i.Ve,r=0,s=i.da();r<s;r++)if(!(2>i.Ja(r))){var o=this.vf(e,-1);this.kn(o,i.dc(r));for(var a=i.Ba(r),h=i.Vc(r);a<h;a++){var l=this.wj(o,-1,null);if(n)if(l=this.Ua(l),1&i.ZF(a))this.Xg(l,null);else{var u=new t.ig;i.bc(a,u,!0),this.Xg(l,u.get())}}}},e.prototype.VD=function(t,e){this.Il.Fd(e,0,e.I()),this.it=this.vb.ub(0),t=this.vf(t,-1);var i=0;for(e=e.I();i<e;i++)this.wj(t,-1,null)},e.prototype.NX=function(e,i,n){var r=this.U(e);if(-1==r)throw t.i.Qa();for(var s=this.nm(),o=this.bd(e),a=0,h=i.ol(n);a<h;a++){var l=this.Ua(e),u=this.U(e),c=i.Vp(n,a);0==a&&(c.To(s),this.Dh(e,s)),322==c.getType()?this.Xg(l,null):this.Xg(l,t.aa.jg(c)),c.Po(s),a<h-1?e=this.wj(o,u,s):this.Dh(r,s)}},e.prototype.MX=function(e,i,n){var r=this.U(e);if(-1==r)throw t.i.Qa();for(var s=this.nm(),o=this.bd(e),a=0,h=i.ol(n);a<h;a++){var l=this.Ua(e),u=this.U(e),c=i.Vp(n,h-a-1);0==a&&(c.Po(s),this.Dh(e,s)),322==c.getType()?this.Xg(l,null):this.Xg(l,t.aa.jg(c)),c.To(s),a<h-1?e=this.wj(o,u,s):this.Dh(r,s)}},e.prototype.IF=function(){var e=new t.l;e.Oa();for(var i=this.Yq(),n=new t.h,r=!0,s=i.next();-1!=s;s=i.next())this.D(s,n),r?e.Zb(n.x,n.y):e.Lk(n.x,n.y),r=!1;return e},e.prototype.Ib=function(e){var i=e.getType();if(t.aa.Hc(i))return this.hN(e);if(550==i)return this.iN(e);throw t.i.Qa()},e.prototype.uN=function(e,i){var n=i.getType();if(t.aa.Hc(n))this.UD(e,i);else{if(550!=n)throw t.i.Qa();this.VD(e,i)}},e.prototype.mN=function(e,i){var n=this.Ig(1736,e.description);if(2>e.Ja(i))return n;this.Il.Fd(e,e.Ba(i),e.Vc(i)),this.it=this.vb.ub(0);var r=this.vf(n,-1);this.kn(r,e.dc(i)||!0);var s=null!=this.We&&null!=e.Ve,o=e.Ba(i);for(i=e.Vc(i);o<i;o++){var a=this.wj(r,-1,null);if(s)if(a=this.Ua(a),1&e.ZF(o))this.Xg(a,null);else{var h=new t.ig;e.bc(o,h,!0),this.Xg(a,h.get())}}return n},e.prototype.Ne=function(e){var i=this.ic(e),n=t.ZK.Ig(i,this.Il.description),r=this.I(e);if(0==r)return n;if(t.aa.Hc(i)){i=this.da(e);for(var s=t.Yc.Oh(i+1),o=t.Yc.Mr(i+1,0),a=n.description,h=0,l=a.Aa;h<l;h++){for(var u=a.kd(h),c=t.ra.Va(u),f=t.Yc.YE(u,r),p=this.vb.ub(u),d=0,v=0,g=0,y=this.Ob(e);-1!=y;y=this.Rb(y)){var m=0;this.dc(y)&&(m|=1),this.YS(y)&&(m|=4),0!=m&&o.zJ(v,m);var _=this.Ja(y);if(s.write(v++,g),g+=_,0==u){_=p;var b=f,w=new t.h;for(m=this.Xa(y);d<g;m=this.U(m),d++){var x=this.Ua(m);_.tc(2*x,w),b.Tt(2*d,w)}}else for(m=this.Xa(y);d<g;m=this.U(m),d++)for(x=this.Ua(m),b=0;b<c;b++)w=p.eg(x*c+b),f.pr(d*c+b,w)}n.hn(u,f),s.write(i,r)}n.PJ(o),n.QJ(s),n.Pc(16777215)}else if(550==i){for(a=n.description,n.resize(r),h=0,l=a.Aa;h<l;h++){for(u=a.kd(h),c=t.ra.Va(u),f=n.ub(u),p=this.vb.ub(u),d=0,y=this.Ob(e),_=this.Ja(y),m=this.Xa(y);d<_;m=this.U(m),d++)for(x=this.Ua(m),b=0;b<c;b++)w=p.eg(x*c+b),f.pr(d*c+b,w);n.hn(u,f)}n.Pc(16777215)}return n},e.prototype.BB=function(t){for(var e=this.Ob(t);-1!=e;e=this.Zq(e));e=this.PR(t);var i=this.ue(t);-1!=e?this.OJ(e,i):this.ld=i,-1!=i?this.SJ(i,e):this.qw=e,this.OQ(t)},e.prototype.Ig=function(e,i){return void 0===i?this.$E(e,t.ee.og()):this.$E(e,i)},e.prototype.$E=function(e,i){return e=this.uU(e),null==this.vb?this.vb=this.Il=new t.de(i):this.Il.Jl(i),this.ht=this.Il.description,this.fA=1<this.ht.Aa,-1==this.ld?this.ld=e:(this.SJ(e,this.qw),this.OJ(this.qw,e)),this.qw=e},e.prototype.ue=function(t){return this.cd.T(t,1)},e.prototype.PR=function(t){return this.cd.T(t,0)},e.prototype.ic=function(t){return 2147483647&this.cd.T(t,2)},e.prototype.HJ=function(e,i,n){i=this.wk[i],(e=this.JF(e))>=i.size&&i.resize(Math.max(t.O.truncate(1.25*e),16),-1),i.write(e,n)},e.prototype.KF=function(t,e){return(t=this.JF(t))<(e=this.wk[e]).size?e.read(t):-1},e.prototype.aF=function(){null==this.wk&&(this.wk=[]);for(var e=0;e<this.wk.length;e++)if(null==this.wk[e])return this.wk[e]=t.Yc.Oh(0),e;return this.wk.push(t.Yc.Oh(0)),this.wk.length-1},e.prototype.xW=function(t){this.wk[t]=null},e.prototype.Ob=function(t){return this.cd.T(t,3)},e.prototype.kv=function(t){return this.cd.T(t,4)},e.prototype.I=function(t){return this.cd.T(t,5)},e.prototype.da=function(t){return this.cd.T(t,6)},e.prototype.Gp=function(e,i,n){for(var r=0,s=this.ld;-1!=s;s=this.ue(s)){var o=this.ic(s);if(t.aa.Hc(o)&&(!n||1736==o)){o=1736==this.ic(s);for(var a=this.Ob(s);-1!=a;){for(var h=0,l=this.Xa(a);h<t.O.truncate(this.Ja(a)/2);){var u=this.U(l);if(-1==u)break;var c=this.Ua(l),f=this.Sh(c);null!=f?c=f.Qb():(f=this.Ua(u),c=this.vb.yr(c,f)),c<=e?(0==c?0==r&&(r=-1):r=1,u!=this.rj(a)&&(this.lC(u,l),this.pd(u,!0))):l=this.U(l),h++}for(h=this.Xa(a),l=this.dc(a)?h:this.rj(a);0<this.Ja(a);){if(-1==(u=this.Ma(l))){this.pd(l,!0),0==r&&(r=-1);break}var p=this.Ua(u);if(null!=(f=this.Sh(p))?c=f.Qb():(c=this.Ua(l),c=this.vb.yr(c,p)),c<=e)0==c?0==r&&(r=-1):r=1,this.lC(u,l),this.pd(u,!1),h==u&&(h=this.Xa(a));else if((l=this.Ma(l))==h)break}l=this.Ja(a),i&&(o?3>l:2>l)?(a=this.Zq(a),r=0<l?1:0==r?-1:r):a=this.Rb(a)}}}return r},e.prototype.lC=function(t,e){var i=this.Ua(t),n=this.Ua(e);if(null!=this.Sg&&(i=this.Sg.read(i),this.Sg.write(n,i)),null!=this.bi)for(n=0,i=this.bi.length;n<i;n++)if(null!=this.bi[n]){var r=this.Pa(t,n);-1!=r&&this.Ra(e,n,r)}},e.prototype.Ul=function(e,i,n){var r=0,s=this.U(e);if(-1==s)throw t.i.Qa();for(var o=this.Ua(e),a=this.Ua(s),h=this.Sh(o),l=null==h?this.vb.yr(o,a):h.Qb(),u=0;u<n;u++){var c=i[u];if(0<c&&1>c){var f=c;null!=h&&(f=0<l?h.Ux(c)/l:0),this.vb.kD(o,a,f,this.nm());var p=this.wj(this.bd(e),s,this.nm());if(r++,null!=h){var d=h.dl(0,c);f=this.Ua(this.Ma(p)),this.Xg(f,d),this.mf(p,d.wc()),u!=n-1&&1!=i[u+1]||(c=h.dl(c,1),this.Xg(f,c))}}}return r},e.prototype.LX=function(e,i,n){var r=0,s=this.U(e);if(-1==s)throw t.i.fa("internal error");var o=this.Ua(e),a=this.Ua(s),h=this.Sh(o),l=null==h?this.vb.yr(o,a):h.Qb(),u=0;e=this.bd(e);for(var c=0;c<n;c++){var f=i[c];if(u<f&&1>f){var p=f;if(null!=h&&(p=0<l?h.Ux(f)/l:0),this.vb.kD(o,a,p,this.nm()),p=this.yS(e,s,this.nm()),r++,null!=h){u=h.dl(u,f);var d=this.Ua(this.Ma(p));this.Xg(d,u),this.Cb(p,u.pa,u.la),c!=n-1&&1!=i[c+1]||(u=h.dl(f,1),p=this.Ua(p),this.Xg(p,u))}}u=f}return r},e.prototype.yS=function(t,e,i){var n=-1!=e?this.Ma(e):this.rj(t),r=-1!=n?this.U(n):-1,s=this.oI(null==i?this.fd:-1),o=this.Ua(s);return null!=i&&this.vb.Ht(o,i),this.aj(s,t),this.Bc(s,r),this.Cc(s,n),-1!=r&&this.Cc(r,s),-1!=n&&this.Bc(n,s),i=this.dc(t),n=this.Xa(t),-1==e&&this.Wg(t,s),e==n&&(i&&-1!=n||this.Jf(t,s)),i&&-1==r&&(this.Bc(s,s),this.Cc(s,s)),this.Vj(t,this.Ja(t)+1),t=this.Qf(t),this.Tj(t,this.I(t)+1),s},e.prototype.uE=function(e,i,n){var r=this.Ua(i),s=this.Ua(n);if(0>r||s>this.fd-1)throw t.i.N("invalid call");if(r>s&&!this.dc(e))throw t.i.N("cannot iterate across an open path");for(e=0;i!=n;i=this.U(i))r=this.Ua(i),null!=(s=this.Sh(r))?e+=s.Qb():(s=this.Ua(this.U(i)),e+=this.vb.yr(r,s));return e},e.prototype.Dh=function(t,e){var i=this.Ua(t);this.vb.Ht(i,e),null!=(i=this.Sh(i))&&i.setStart(e),-1!=(t=this.Ma(t))&&(t=this.Ua(t),null!=this.Sh(t)&&i.setEnd(e))},e.prototype.Vi=function(t,e){t=this.Ua(t),this.vb.ve(t,e)},e.prototype.mf=function(t,e){this.Cb(t,e.x,e.y)},e.prototype.Cb=function(t,e,i){var n=this.Ua(t);this.vb.Cb(n,e,i),null!=(n=this.Sh(n))&&n.ZB(e,i),-1!=(t=this.Ma(t))&&(t=this.Ua(t),null!=this.Sh(t)&&n.Ql(e,i))},e.prototype.D=function(t,e){this.vb.D(this.td.T(t,0),e)},e.prototype.Gc=function(t,e){this.vb.za[0].tc(2*this.td.T(t,0),e)},e.prototype.Na=function(e){var i=new t.h;return this.vb.D(this.td.T(e,0),i),i},e.prototype.dG=function(t,e){this.it.tc(2*t,e)},e.prototype.Uc=function(t,e,i){return this.vb.Uc(t,this.Ua(e),i)},e.prototype.setAttribute=function(t,e,i,n){this.vb.setAttribute(t,this.Ua(e),i,n)},e.prototype.Ua=function(t){return this.td.T(t,0)},e.prototype.ih=function(){var e=new t.h;return this.D(void 0,e),e.y},e.prototype.fq=function(t,e){t=this.Ua(t),e=this.Ua(e);var i=this.vb.za[0].o;return i[2*t]===i[2*e]&&i[2*t+1]===i[2*e+1]},e.prototype.Dv=function(t,e){t=this.Ua(t);var i=this.vb.za[0].o;return i[2*t]===e.x&&i[2*t+1]===e.y},e.prototype.vX=function(e,i){if(1>i&&(i=1),null==this.Sg){if(1==i)return;this.Sg=t.Yc.Dn(this.vb.I(),1)}(e=this.Ua(e))>=this.Sg.size&&this.Sg.resize(e+1,1),this.Sg.write(e,i)},e.prototype.cG=function(t){return t=this.Ua(t),null==this.Sg||t>=this.Sg.size?1:this.Sg.read(t)},e.prototype.Ra=function(t,e,i){e=this.bi[e],t=this.Ua(t),e.size<this.vb.I()&&e.resize(this.vb.I(),-1),e.write(t,i)},e.prototype.Pa=function(t,e){return(t=this.Ua(t))<(e=this.bi[e]).size?e.read(t):-1},e.prototype.Gd=function(){null==this.bi&&(this.bi=[]);for(var e=0;e<this.bi.length;e++)if(null==this.bi[e])return this.bi[e]=t.Yc.Oh(0,-1),e;return this.bi.push(t.Yc.Oh(0,-1)),this.bi.length-1},e.prototype.Td=function(t){this.bi[t]=null},e.prototype.bc=function(t){return null!=this.We?(t=this.Ua(t),this.We[t]):null},e.prototype.ed=function(e,i){var n=this.td.T(e,2);if(-1==n)return!1;if(this.fA){var r=new t.Sa;this.Vi(e,r),i.setStart(r),this.Vi(n,r),i.setEnd(r)}else this.vb.Gc(this.td.T(e,0),tt),i.em(0,tt),this.vb.Gc(this.td.T(n,0),tt),i.em(1,tt);return!0},e.prototype.mW=function(e,i,n){if(this.fA){var r=new t.Sa;this.Vi(e,r),n.setStart(r),this.Vi(i,r),n.setEnd(r)}else this.vb.Gc(e,tt),n.em(0,tt),this.vb.Gc(i,tt),n.em(1,tt)},e.prototype.vf=function(e,i){if(-1!=i){if(e!=this.Qf(i))throw t.i.Qa();var n=this.cs(i)}else n=this.kv(e);var r=this.wU(e);return-1!=i&&this.bp(i,r),this.ap(r,i),this.bp(r,n),-1!=n?this.ap(n,r):this.Zo(e,r),-1==i&&this.$o(e,r),this.Rl(e,this.da(e)+1),r},e.prototype.nG=function(t,e,i,n){t=this.vf(t,-1);for(var r=0,s=e,o=!1;s==i&&(o=!0),this.aj(s,t),r++,(s=this.U(s))!=e;);return this.kn(t,!0),this.Vj(t,r),o&&(e=i),this.Jf(t,e),this.Wg(t,this.Ma(e)),this.cp(t,!1),null!=n&&(n[0]=o),t},e.prototype.Zq=function(t){var e=this.cs(t),i=this.Rb(t),n=this.Qf(t);return-1!=e?this.ap(e,i):this.Zo(n,i),-1!=i?this.bp(i,e):this.$o(n,e),this.AO(t),this.Rl(n,this.da(n)-1),this.sF(t),i},e.prototype.AO=function(t){var e=this.Xa(t);if(-1!=e){for(var i=0,n=this.Ja(t);i<n;i++){var r=e;e=this.U(e),this.Vy(r)}e=this.Qf(t),this.Tj(e,this.I(e)-this.Ja(t))}this.Vj(t,0)},e.prototype.Rb=function(t){return this.md.T(t,2)},e.prototype.cs=function(t){return this.md.T(t,1)},e.prototype.Ja=function(t){return this.md.T(t,3)},e.prototype.dc=function(t){return!!(1&this.Sp(t))},e.prototype.kn=function(t,e){if(this.dc(t)!=e){if(0<this.Ja(t)){var i=this.Xa(t),n=this.rj(t);e?(this.Bc(n,i),this.Cc(i,n),i=this.Ua(n)):(this.Bc(n,-1),this.Cc(i,-1),i=this.Ua(n)),this.Xg(i,null)}this.VB(t,(1|this.Sp(t))-1|(e?1:0))}},e.prototype.Qf=function(t){return this.md.T(t,7)},e.prototype.YS=function(t){return!!(2&this.Sp(t))},e.prototype.PB=function(t,e){this.VB(t,(2|this.Sp(t))-2|(e?2:0))},e.prototype.wz=function(e){if(this.cT(e))return this.Oi.get(this.qv(e));var i=new t.yb,n=this.Xa(e);if(-1==n)return 0;var r=new t.h;this.D(n,r);for(var s=0,o=0,a=this.Ja(e);o<a;o++,n=this.U(n)){var h=this.bc(n);if(null==h){if(!this.ed(n,i))continue;h=i}s+=h.Tx(r.x,r.y)}return this.cp(e,!0),this.Oi.set(this.qv(e),s),s},e.prototype.gr=function(t,e,i){e=this.Ck[e],t=this.qv(t),e.size<this.Oi.size&&e.resize(this.Oi.size,-1),e.write(t,i)},e.prototype.sj=function(t,e){return(t=this.qv(t))<(e=this.Ck[e]).size?e.read(t):-1},e.prototype.Ky=function(){null==this.Ck&&(this.Ck=[]);for(var e=0;e<this.Ck.length;e++)if(null==this.Ck[e])return this.Ck[e]=t.Yc.Oh(0),e;return this.Ck.push(t.Yc.Oh(0)),this.Ck.length-1},e.prototype.CB=function(t){this.Ck[t]=null},e.prototype.ZT=function(e,i,n){if(-1==n)throw t.i.N();if(i!=n){var r=this.Rb(n),s=this.cs(n),o=this.Qf(n);-1==s?this.Zo(o,r):this.ap(s,r),-1==r?this.$o(o,s):this.bp(r,s),this.Tj(o,this.I(o)-this.Ja(n)),this.Rl(o,this.da(o)-1),s=-1==i?this.kv(e):this.cs(i),this.bp(n,s),this.ap(n,i),-1==i?this.$o(e,n):this.bp(i,n),-1==s?this.Zo(e,n):this.ap(s,n),this.Tj(e,this.I(e)+this.Ja(n)),this.Rl(e,this.da(e)+1),this.gx(n,e)}},e.prototype.ij=function(t,e){this.vb.ve(this.Ua(e),this.nm()),this.wj(t,-1,this.nm())},e.prototype.pd=function(e,i){var n=this.bd(e),r=this.Ma(e),s=this.U(e);-1!=r&&this.Bc(r,s);var o=this.Ja(n);if(e==this.Xa(n)&&this.Jf(n,1<o?s:-1),-1!=s&&this.Cc(s,r),e==this.rj(n)&&this.Wg(n,1<o?r:-1),-1!=r&&-1!=s){r=this.Ua(r);var a=this.Ua(s);i?null!=(i=this.Sh(r))&&(r=new t.h,this.vb.D(a,r),i.Qc(r)):(a=this.Ua(e),i=this.Sh(a),this.Xg(r,i),null!=i&&(r=this.vb.Na(r),i.Dc(r)))}return this.Vj(n,o-1),n=this.Qf(n),this.Tj(n,this.I(n)-1),this.Vy(e),s},e.prototype.Xa=function(t){return this.md.T(t,4)},e.prototype.rj=function(t){return this.md.T(t,5)},e.prototype.U=function(t){return this.td.T(t,2)},e.prototype.Ma=function(t){return this.td.T(t,1)},e.prototype.bd=function(t){return this.td.T(t,3)},e.prototype.fc=function(t,e){return this.wj(t,-1,e)},e.prototype.Yq=function(e){if(void 0===e)return this.Yq(!1);if(e instanceof n)return new n(e);var i,r=-1,s=-1,o=-1,a=0,h=!1;for(i=this.ld;-1!=i;i=this.ue(i))if(!e||t.aa.Hc(this.ic(i))){for(r=this.Ob(i);-1!=r;r=this.Rb(r))if(o=s=this.Xa(r),a=0,-1!=s){h=!0;break}if(h)break}return n.AP(this,i,r,s,o,a,e)},e.prototype.Oc=function(t){if(this.Il.Oc(t),null!=this.We)for(var e=0,i=this.We.length;e<i;e++)null!=this.We[e]&&this.We[e].Oc(t)},e.prototype.jr=function(t,e,i,n){n?this.NX(t,e,i):this.MX(t,e,i)},e.prototype.Cc=function(t,e){this.td.S(t,1,e)},e.prototype.Bc=function(t,e){this.td.S(t,2,e)},e.prototype.aj=function(t,e){this.td.S(t,3,e)},e.prototype.Vj=function(t,e){this.md.S(t,3,e)},e.prototype.Jf=function(t,e){this.md.S(t,4,e)},e.prototype.Wg=function(t,e){this.md.S(t,5,e)},e.prototype.Rl=function(t,e){this.cd.S(t,6,e)},e.prototype.Tj=function(t,e){this.cd.S(t,5,e)},e.prototype.pJ=function(t){var e=t;do{var i=this.U(e);this.Bc(e,this.Ma(e)),this.Cc(e,i),e=i}while(e!=t)},e.prototype.bC=function(t){this.fd=t},e.prototype.$q=function(t){var e=this.cs(t),i=this.Rb(t),n=this.Qf(t);-1!=e?this.ap(e,i):this.Zo(n,i),-1!=i?this.bp(i,e):this.$o(n,e),this.Jf(t,-1),this.Wg(t,-1),this.sF(t)},e.prototype.mi=function(e,i){var n=this.Ma(e),r=this.U(e);if(-1!=n&&this.Bc(n,r),-1!=r&&this.Cc(r,n),-1!=n&&-1!=r)if(n=this.Ua(n),r=this.Ua(r),i){if(null!=(i=this.Sh(n))){var s=new t.h;this.vb.D(r,s),i.Qc(s)}}else i=this.Ua(e),i=this.Sh(i),this.Xg(n,i),null!=i&&(s=new t.h,this.vb.D(n,s),i.Dc(s));this.Vy(e)},e.prototype.cT=function(t){return!!(4&this.Sp(t))},e.prototype.cp=function(t,e){this.VB(t,(4|this.Sp(t))-4|(e?4:0))},e.prototype.nx=function(t,e){var i=this.td.o;this.vb.mc();var n=this.vb.za[0].o;t.Vd(0,e,(function(t,e){var r=i[5*t];t=i[5*e],e=n[2*r],r=n[2*r+1];var s=n[2*t];return r<(t=n[2*t+1])?-1:r>t?1:e<s?-1:e>s?1:0}))},e.prototype.jS=function(){for(var e=this.ld;-1!=e;e=this.ue(e))if(!t.aa.Hc(this.ic(e)))return!0;return!1},e.prototype.hC=function(t,e){for(var i=this.Ob(t),n=this.Ob(e),r=this.kv(t),s=this.kv(e),o=this.Ob(t);-1!=o;o=this.Rb(o))this.gx(o,e);for(o=this.Ob(e);-1!=o;o=this.Rb(o))this.gx(o,t);this.Zo(t,n),this.Zo(e,i),this.$o(t,s),this.$o(e,r),i=this.I(t),n=this.da(t),r=this.da(e),this.Tj(t,this.I(e)),this.Tj(e,i),this.Rl(t,r),this.Rl(e,n),i=this.cd.T(t,2),this.cd.S(t,2,this.cd.T(e,2)),this.cd.S(e,2,i)},e}(),t.gd=e}(J||(J={})),function(t){var e=function(e){function i(i,n,r,s){var o=e.call(this)||this;return o.$=new t.l,void 0===i?o.UE():"number"==typeof i?o.VO(i,n,r,s):i instanceof t.Sa?void 0!==n?o.Qu(i,n,r):o.WO(i):i instanceof t.ra?void 0!==n?o.YO(i,n):o.XO(i):i instanceof t.l?o.UO(i):o.UE(),o}return Q(i,e),i.prototype.Qu=function(e,i,n){this.description=t.ee.og(),this.$.Oa(),e.B()||this.tu(e,i,n)},i.prototype.UO=function(e){this.description=t.ee.og(),this.$.K(e),this.$.normalize()},i.prototype.XO=function(e){if(null==e)throw t.i.N();this.description=e,this.$.Oa()},i.prototype.YO=function(e,i){if(null==e)throw t.i.N();this.description=e,this.$.K(i),this.$.normalize()},i.prototype.UE=function(){this.description=t.ee.og(),this.$.Oa()},i.prototype.WO=function(e){this.description=t.ee.og(),this.$.Oa(),e.B()||this.tu(e)},i.prototype.VO=function(e,i,n,r){this.description=t.ee.og(),this.K(e,i,n,r)},i.prototype.K=function(t,e,i,n){if(this.vc(),"number"==typeof t)this.$.K(t,e,i,n);else for(this.Oa(),e=0,i=t.length;e<i;e++)this.Zb(t[e])},i.prototype.Xo=function(e){if(this.vc(),!e.fT())throw t.i.N();this.$.K(e)},i.prototype.Oa=function(){this.vc(),this.$.Oa()},i.prototype.B=function(){return this.$.B()},i.prototype.R=function(){return this.$.R()},i.prototype.ca=function(){return this.$.ca()},i.prototype.gk=function(){return this.$.gk()},i.prototype.Jp=function(){return this.$.Jp()},i.prototype.Ip=function(){return this.$.sf()},i.prototype.Zb=function(e){if(e instanceof t.h)this.vc(),this.$.Zb(e);else if(e instanceof t.l)this.vc(),this.$.Zb(e);else if(e instanceof t.Sa){if(this.vc(),!e.Ac()){var n=e.description;if(this.description!=n&&this.Jl(n),this.B())this.tu(e);else{this.$.Zb(e.D());for(var r=1,s=n.Aa;r<s;r++)for(var o=n.Ed(r),a=t.ra.Va(o),h=0;h<a;h++){var l=e.Uc(o,h),u=this.Tg(o,h);u.Zb(l),this.setInterval(o,h,u)}}}}else if(e instanceof i&&!e.B())for((n=e.description)!=this.description&&this.Jl(n),this.$.Zb(e.$),r=1,s=n.Aa;r<s;r++)for(o=n.kd(r),a=t.ra.Va(o),h=0;h<a;h++)l=e.Tg(o,h),(u=this.Tg(o,h)).Zb(l),this.setInterval(o,h,u)},i.prototype.tu=function(e,i,n){if(void 0!==i){this.$.K(e.D(),i,n),n=1;for(var r=(i=e.description).Aa;n<r;n++)for(var s=i.Ed(n),o=t.ra.Va(s),a=0;a<o;a++){var h=e.Uc(s,a);this.setInterval(s,a,h,h)}}else for(this.$.K(e.ka[0],e.ka[1]),n=1,r=(i=e.description).Aa;n<r;n++)for(s=i.Ed(n),o=t.ra.Va(s),a=0;a<o;a++)h=e.Uc(s,a),this.setInterval(s,a,h,h)},i.prototype.setInterval=function(e,i,n,r){if(n="number"==typeof n?new t.Nc(n,r):n,this.vc(),0==e)if(0==i)this.$.v=n.oa,this.$.C=n.va;else{if(1!=i)throw t.i.ce();this.$.G=n.oa,this.$.H=n.va}else this.vD(0,e,i,n.oa),this.vD(1,e,i,n.va)},i.prototype.W=function(t,e){this.vc(),this.$.W(t,e)},i.prototype.Oc=function(e){if(e instanceof t.Dd)this.vc(),e.mC(this.$);else if(this.vc(),!this.$.B()){var i=new t.OK;this.Qo(i),i.XS()?i.Oa():e.mC(i)}},i.prototype.copyTo=function(e){if(e.getType()!=this.getType())throw t.i.N();if(e.vc(),e.description=this.description,e.$.K(this.$),e.ka=null,null!=this.ka){e.ou();for(var i=0;i<2*(this.description.Ae.length-2);i++)e.ka[i]=this.ka[i]}},i.prototype.Ia=function(){return new i(this.description)},i.prototype.Ke=function(){return this.$.wF()},i.prototype.Qb=function(){return this.$.yR()},i.prototype.getType=function(){return 197},i.prototype.Db=function(){return 2},i.prototype.bn=function(t){this.copyTo(t)},i.prototype.A=function(t){t.v=this.$.v,t.G=this.$.G,t.C=this.$.C,t.H=this.$.H},i.prototype.Qo=function(t){t.v=this.$.v,t.G=this.$.G,t.C=this.$.C,t.H=this.$.H,t.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},i.prototype.Tg=function(e,i){var n=new t.Nc;return n.K(this.Od(0,e,i),this.Od(1,e,i)),n},i.prototype.Hf=function(e,i){i.Nf(this.description);var n=this.description.Aa-1;switch(e){case 0:for(e=0;e<n;e++)for(var r=this.description.kd(e),s=t.ra.Va(r),o=0;o<s;o++)i.setAttribute(r,o,this.Od(0,r,o));i.Cb(this.$.v,this.$.G);break;case 1:for(e=0;e<n;e++)for(r=this.description.kd(e),s=t.ra.Va(r),o=0;o<s;o++)i.setAttribute(r,o,this.Od(1,r,o));i.Cb(this.$.v,this.$.H);break;case 2:for(e=0;e<n;e++)for(r=this.description.kd(e),s=t.ra.Va(r),o=0;o<s;o++)i.setAttribute(r,o,this.Od(0,r,o));i.Cb(this.$.C,this.$.H);break;case 3:for(e=0;e<n;e++)for(r=this.description.kd(e),s=t.ra.Va(r),o=0;o<s;o++)i.setAttribute(r,o,this.Od(1,r,o));i.Cb(this.$.C,this.$.G);break;default:throw t.i.ce()}},i.prototype.mB=function(t,e){t=this.$.mB(t),e.ma(t.x,t.y)},i.prototype.kR=function(t,e){return e*(t.Oq-2)},i.prototype.xF=function(e,i,n){if(this.$.B())throw t.i.fa("empty geometry");if(0==i)return 0!=e?0!=n?this.$.H:this.$.C:0!=n?this.$.G:this.$.v;if(n>=t.ra.Va(i))throw t.i.N();var r=this.description.Pf(i);return this.ou(),0<=r?this.ka[this.kR(this.description,e)+this.description.LR(r)-2+n]:t.ra.se(i)},i.prototype.ou=function(){if(this.vc(),null==this.ka&&2<this.description.Ae.length){this.ka=[];for(var e=i.Gg(this.description,0),n=i.Gg(this.description,1),r=0,s=1,o=this.description.Aa;s<o;s++){var a=this.description.kd(s),h=t.ra.Va(a);a=t.ra.se(a);for(var l=0;l<h;l++)this.ka[e+r]=a,this.ka[n+r]=a,r++}}},i.prototype.sn=function(e){if(null!=this.ka)if(2<e.Ae.length){for(var n=t.ee.Iw(e,this.description),r=[],s=i.Gg(this.description,0),o=i.Gg(this.description,1),a=i.Gg(e,0),h=i.Gg(e,1),l=0,u=1,c=e.Aa;u<c;u++){var f=e.kd(u),p=t.ra.Va(f);if(-1==n[u]){var d=t.ra.se(f);for(f=0;f<p;f++)r[a+l]=d,r[h+l]=d,l++}else for(d=this.description.$j(n[u])-2,f=0;f<p;f++)r[a+l]=this.ka[s+d],r[h+l]=this.ka[o+d],l++,d++}this.ka=r}else this.ka=null;this.description=e},i.prototype.Od=function(e,n,r){if(this.$.B())throw t.i.fa("This operation was performed on an Empty Geometry.");if(0==n)return 0!=e?0!=r?this.$.H:this.$.C:0!=r?this.$.G:this.$.v;if(r>=t.ra.Va(n))throw t.i.ce();var s=this.description.Pf(n);return 0<=s?(this.ou(),this.ka[i.Gg(this.description,e)+this.description.$j(s)-2+r]):t.ra.se(n)},i.prototype.vD=function(e,n,r,s){if(this.vc(),0==n)0!=e?0!=r?this.$.H=s:this.$.C=s:0!=r?this.$.G=s:this.$.v=s;else{if(r>=t.ra.Va(n))throw t.i.ce();if(!this.hasAttribute(n)){if(t.ra.DG(n,s))return;this.re(n)}n=this.description.Pf(n),this.ou(),this.ka[i.Gg(this.description,e)+this.description.$j(n)-2+r]=s}},i.Gg=function(t,e){return e*(t.Ae.length-2)},i.prototype.Ea=function(e){this.vc();var i=new t.l;return e.A(i),this.$.Ea(i)},i.prototype.isIntersecting=function(e){return e instanceof t.l?this.$.isIntersecting(e):this.$.isIntersecting(e.$)},i.prototype.Ju=function(t,e){this.vc(),t.B()?this.Oa():void 0!==e?this.tu(t,e):this.$.Ju(t.Lg(),t.ih())},i.prototype.offset=function(t,e){this.vc(),this.$.offset(t,e)},i.prototype.normalize=function(){this.vc(),this.$.normalize()},i.prototype.sf=function(e){if(void 0===e){if(e=new t.Sa(this.description),this.B())return e;for(i=this.description.Aa,n=1;n<i;n++)for(r=this.description.Ed(n),s=t.ra.Va(r),o=0;o<s;o++)a=.5*(this.Od(0,r,o)+this.Od(1,r,o)),e.setAttribute(r,o,a);return e.Cb(this.$.gk(),this.$.Jp()),e}if(e.Nf(this.description),this.B())e.Oa();else{for(var i=this.description.Aa,n=1;n<i;n++)for(var r=this.description.kd(n),s=t.ra.Va(r),o=0;o<s;o++){var a=.5*(this.xF(0,r,o)+this.xF(1,r,o));e.setAttribute(r,o,a)}e.Cb(this.$.sf())}},i.prototype.mz=function(){return new t.Sa(this.$.mz())},i.prototype.contains=function(e){return e instanceof t.Sa?!e.B()&&this.$.contains(e.Lg(),e.ih()):this.$.contains(e.$)},i.prototype.dP=function(t){return this.$.contains(t)},i.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof i)||this.description!=t.description)return!1;if(this.B())return!!t.B();if(!this.$.Nb(t.$))return!1;for(var e=0,n=2*(this.description.Ae.length-2);e<n;e++)if(this.ka[e]!=t.ka[e])return!1;return!0},i.prototype.cc=function(){var e=this.description.cc();if(e=t.O.Th(e,this.$.cc()),!this.B()&&null!=this.ka)for(var i=0,n=2*(this.description.Ae.length-2);i<n;i++)e=t.O.Th(e,this.ka[i]);return e},i.prototype.es=function(){return this.$.v},i.prototype.gs=function(){return this.$.G},i.prototype.ds=function(){return this.$.C},i.prototype.fs=function(){return this.$.H},i.prototype.mg=function(){return t.pi.gm(this,null)},i.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},i}(t.aa);t.Fh=e}(J||(J={})),function(t){var e=function(){function e(t,e,i,n){void 0===t?this.Oa():(this.v=t,this.G=e,this.C=i,this.H=n)}return e.construct=function(t,i,n,r){var s=new e;return s.v=t,s.G=i,s.C=n,s.H=r,s},e.prototype.K=function(i,n,r,s){"number"==typeof i?void 0!==r?(this.v=i,this.G=n,this.C=r,this.H=s,this.normalize()):(this.v=i,this.G=n,this.C=i,this.H=n):i instanceof t.h?void 0!==n?(this.v=i.x-.5*n,this.C=this.v+n,this.G=i.y-.5*r,this.H=this.G+r,this.normalize()):(this.v=i.x,this.G=i.y,this.C=i.x,this.H=i.y):i instanceof e?this.K(i.v,i.G,i.C,i.H):i instanceof t.Nc&&(i.B()||n.B()?this.Oa():(this.v=i.oa,this.C=i.va,this.G=n.oa,this.H=n.va))},e.prototype.Zw=function(t,e){if(void 0!==e)if(0==e)this.Oa();else{this.v=t[0].x,this.G=t[0].y,this.C=this.v,this.H=this.G;for(var i=1;i<e;i++){var n=t[i];n.x<this.v?this.v=n.x:n.x>this.C&&(this.C=n.x),n.y<this.G?this.G=n.y:n.y>this.H&&(this.H=n.y)}}else if(null==t||0==t.length)this.Oa();else for(n=t[0],this.K(n.x,n.y),i=1;i<t.length;i++)e=t[i],this.Lk(e.x,e.y)},e.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},e.prototype.B=function(){return isNaN(this.v)},e.prototype.Zb=function(i,n){"number"==typeof i?this.B()?(this.v=i,this.G=n,this.C=i,this.H=n):(this.v>i?this.v=i:this.C<i&&(this.C=i),this.G>n?this.G=n:this.H<n&&(this.H=n)):i instanceof t.h||i instanceof t.Nd?this.Zb(i.x,i.y):i instanceof e&&!i.B()&&(this.Zb(i.v,i.G),this.Zb(i.C,i.H))},e.prototype.Lk=function(t,e){this.v>t?this.v=t:this.C<t&&(this.C=t),this.G>e?this.G=e:this.H<e&&(this.H=e)},e.prototype.W=function(t,e){this.B()||(this.v-=t,this.C+=t,this.G-=e,this.H+=e,(this.v>this.C||this.G>this.H)&&this.Oa())},e.prototype.scale=function(t){0>t&&this.Oa(),this.B()||(this.v*=t,this.C*=t,this.G*=t,this.H*=t)},e.prototype.zoom=function(t,e){this.B()||this.K(this.sf(),t*this.R(),e*this.ca())},e.prototype.isIntersecting=function(t){return!this.B()&&!t.B()&&(this.v<=t.v?this.C>=t.v:t.C>=this.v)&&(this.G<=t.G?this.H>=t.G:t.H>=this.G)},e.prototype.HG=function(t){return(this.v<=t.v?this.C>=t.v:t.C>=this.v)&&(this.G<=t.G?this.H>=t.G:t.H>=this.G)},e.prototype.Ea=function(t){return!this.B()&&!t.B()&&(t.v>this.v&&(this.v=t.v),t.C<this.C&&(this.C=t.C),t.G>this.G&&(this.G=t.G),t.H<this.H&&(this.H=t.H),(t=this.v<=this.C&&this.G<=this.H)||this.Oa(),t)},e.prototype.mB=function(e){switch(e){case 0:return t.h.construct(this.v,this.G);case 1:return t.h.construct(this.v,this.H);case 2:return t.h.construct(this.C,this.H);case 3:return t.h.construct(this.C,this.G);default:throw t.i.ce()}},e.prototype.nB=function(e){if(null==e||4>e.length)throw t.i.N();null!=e[0]?e[0].ma(this.v,this.G):e[0]=t.h.construct(this.v,this.G),null!=e[1]?e[1].ma(this.v,this.H):e[1]=t.h.construct(this.v,this.H),null!=e[2]?e[2].ma(this.C,this.H):e[2]=t.h.construct(this.C,this.H),null!=e[3]?e[3].ma(this.C,this.G):e[3]=t.h.construct(this.C,this.G)},e.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},e.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},e.prototype.gk=function(){return(this.C+this.v)/2},e.prototype.Jp=function(){return(this.H+this.G)/2},e.prototype.R=function(){return this.C-this.v},e.prototype.ca=function(){return this.H-this.G},e.prototype.move=function(t,e){this.B()||(this.v+=t,this.G+=e,this.C+=t,this.H+=e)},e.prototype.Ju=function(e,i){if(void 0!==i)this.move(e-this.gk(),i-this.Jp());else if(e instanceof t.h)this.Ju(e.x,e.y);else{if(!(e instanceof t.Sa))throw t.i.N();i=(this.C-this.v)/2;var n=(this.H-this.G)/2;this.v=e.Lg()-i,this.C=e.Lg()+i,this.G=e.ih()-n,this.H=e.ih()+n}},e.prototype.offset=function(t,e){this.v+=t,this.C+=t,this.G+=e,this.H+=e},e.prototype.normalize=function(){if(!this.B()){var t=Math.min(this.v,this.C),e=Math.max(this.v,this.C);this.v=t,this.C=e,t=Math.min(this.G,this.H),e=Math.max(this.G,this.H),this.G=t,this.H=e}},e.prototype.dn=function(t){t.ma(this.v,this.G)},e.prototype.$I=function(t){t.ma(this.C,this.G)},e.prototype.cJ=function(t){t.ma(this.v,this.H)},e.prototype.en=function(t){t.ma(this.C,this.H)},e.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},e.prototype.sf=function(){return t.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},e.prototype.mz=function(){return t.h.construct(this.v,this.G)},e.prototype.contains=function(i,n){if(void 0!==n)return i>=this.v&&i<=this.C&&n>=this.G&&n<=this.H;if(i instanceof t.Sa)return this.contains(i.Lg(),i.ih());if(i instanceof t.h)return this.contains(i.x,i.y);if(i instanceof e)return i.v>=this.v&&i.C<=this.C&&i.G>=this.G&&i.H<=this.H;throw t.i.N()},e.prototype.hm=function(i,n){if(void 0!==n)return i>this.v&&i<this.C&&n>this.G&&n<this.H;if(i instanceof t.h)return this.hm(i.x,i.y);if(i instanceof e)return i.v>this.v&&i.C<this.C&&i.G>this.G&&i.H<this.H;throw t.i.N()},e.prototype.Nb=function(t){return t==this||t instanceof e&&(!(!this.B()||!t.B())||this.v==t.v&&this.G==t.G&&this.C==t.C&&this.H==t.H)},e.prototype.cc=function(){var e=this.v;e=t.O.truncate(e^e>>>32);var i=t.O.Th(e);return e=this.C,e=t.O.truncate(e^e>>>32),i=t.O.Th(e,i),e=this.G,e=t.O.truncate(e^e>>>32),i=t.O.Th(e,i),e=this.H,e=t.O.truncate(e^e>>>32),t.O.Th(e,i)},e.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},e.prototype.zy=function(t,i){var n=this.Zj(t),r=this.Zj(i);if(n&r)return 0;if(!(n|r))return 4;var s=(0!=n?1:0)|(0!=r?2:0);do{var o=i.x-t.x,a=i.y-t.y;if(o>a?n&e.YC?(n&e.ju?(t.y+=a*(this.v-t.x)/o,t.x=this.v):(t.y+=a*(this.C-t.x)/o,t.x=this.C),n=this.Zj(t)):r&e.YC?(r&e.ju?(i.y+=a*(this.v-i.x)/o,i.x=this.v):(i.y+=a*(this.C-i.x)/o,i.x=this.C),r=this.Zj(i)):0!=n?(n&e.ku?(t.x+=o*(this.G-t.y)/a,t.y=this.G):(t.x+=o*(this.H-t.y)/a,t.y=this.H),n=this.Zj(t)):(r&e.ku?(i.x+=o*(this.G-i.y)/a,i.y=this.G):(i.x+=o*(this.H-i.y)/a,i.y=this.H),r=this.Zj(i)):n&e.ZC?(n&e.ku?(t.x+=o*(this.G-t.y)/a,t.y=this.G):(t.x+=o*(this.H-t.y)/a,t.y=this.H),n=this.Zj(t)):r&e.ZC?(r&e.ku?(i.x+=o*(this.G-i.y)/a,i.y=this.G):(i.x+=o*(this.H-i.y)/a,i.y=this.H),r=this.Zj(i)):0!=n?(n&e.ju?(t.y+=a*(this.v-t.x)/o,t.x=this.v):(t.y+=a*(this.C-t.x)/o,t.x=this.C),n=this.Zj(t)):(r&e.ju?(i.y+=a*(this.v-i.x)/o,i.x=this.v):(i.y+=a*(this.C-i.x)/o,i.x=this.C),r=this.Zj(i)),n&r)return 0}while(n|r);return s},e.prototype.Zj=function(t){return(t.x<this.v?1:0)|(t.x>this.C?1:0)<<1|(t.y<this.G?1:0)<<2|(t.y>this.H?1:0)<<3},e.prototype.Bi=function(t){return!this.B()&&(this.R()<=t||this.ca()<=t)},e.prototype.tb=function(e){return e instanceof t.h?Math.sqrt(this.iK(e)):Math.sqrt(this.px(e))},e.prototype.px=function(t){var e=0,i=0,n=this.v-t.C;return n>e&&(e=n),(n=this.G-t.H)>i&&(i=n),(n=t.v-this.C)>e&&(e=n),(n=t.G-this.H)>i&&(i=n),e*e+i*i},e.prototype.iK=function(t){var e=0,i=0,n=this.v-t.x;return n>e&&(e=n),(n=this.G-t.y)>i&&(i=n),(n=t.x-this.C)>e&&(e=n),(n=t.y-this.H)>i&&(i=n),e*e+i*i},e.prototype.cn=function(t){this.B()?t.Oa():t.K(this.v,this.C)},e.ju=1,e.ku=4,e.YC=3,e.ZC=12,e}();t.l=e}(J||(J={})),function(t){var e,i;(i=e||(e={}))[i.initialize=0]="initialize",i[i.initializeRed=1]="initializeRed",i[i.initializeBlue=2]="initializeBlue",i[i.initializeRedBlue=3]="initializeRedBlue",i[i.sweep=4]="sweep",i[i.sweepBruteForce=5]="sweepBruteForce",i[i.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",i[i.sweepRedBlue=7]="sweepRedBlue",i[i.sweepRed=8]="sweepRed",i[i.sweepBlue=9]="sweepBlue",i[i.iterate=10]="iterate",i[i.iterateRed=11]="iterateRed",i[i.iterateBlue=12]="iterateBlue",i[i.iterateBruteForce=13]="iterateBruteForce",i[i.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",i[i.resetRed=15]="resetRed",i[i.resetBlue=16]="resetBlue";var n=function(){function t(t,e){this.ci=t,this.dH=e}return t.prototype.nr=function(t,e,i){this.ci.JX(i,t,e,this.dH)},t.prototype.$p=function(t){return this.ci.Rr(t,this.dH)},t}();e=function(){function e(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new t.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return e.prototype.kr=function(){this.Nk(),this.Pv=!0,null==this.Eb?(this.fo=new t.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},e.prototype.ad=function(e,i){if(!this.Pv)throw t.i.Hb();var n=new t.l;n.K(i),this.fo.add(e),this.Eb.push(n)},e.prototype.Fp=function(){if(!this.Pv)throw t.i.Hb();this.Pv=!1,null!=this.Eb&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},e.prototype.pK=function(){this.Nk(),this.Ov=!0,null==this.Eb?(this.fo=new t.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},e.prototype.JD=function(e,i){if(!this.Ov)throw t.i.Hb();var n=new t.l;n.K(i),this.fo.add(e),this.Eb.push(n)},e.prototype.iF=function(){if(!this.Ov)throw t.i.Hb();this.Ov=!1,null!=this.Eb&&0<this.Eb.length&&null!=this.qd&&0<this.qd.length&&(-1==this.Xb||2==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=1),this.Ic=!1)},e.prototype.oK=function(){this.Nk(),this.Nv=!0,null==this.qd?(this.cw=new t.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},e.prototype.ED=function(e,i){if(!this.Nv)throw t.i.Hb();var n=new t.l;n.K(i),this.cw.add(e),this.qd.push(n)},e.prototype.hF=function(){if(!this.Nv)throw t.i.Hb();this.Nv=!1,null!=this.Eb&&0<this.Eb.length&&null!=this.qd&&0<this.qd.length&&(-1==this.Xb||1==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=2),this.Ic=!1)},e.prototype.next=function(){if(this.Ic)return!1;for(var e=!0;e;)switch(this.Xb){case 0:e=this.Gz();break;case 1:e=this.rS();break;case 2:e=this.oS();break;case 3:e=this.qS();break;case 4:e=this.UX();break;case 5:e=this.QX();break;case 6:e=this.RX();break;case 7:e=this.SX();break;case 8:e=this.ux();break;case 9:e=this.iC();break;case 10:e=this.Uz();break;case 11:e=this.jT();break;case 12:e=this.gT();break;case 13:e=this.hT();break;case 14:e=this.iT();break;case 15:e=this.kJ();break;case 16:e=this.jJ();break;default:throw t.i.Qa()}return!this.Ic},e.prototype.aC=function(t){this.qa=t},e.prototype.uz=function(t){return this.Eb[t]},e.prototype.az=function(t){return this.qd[t]},e.prototype.nl=function(t){return this.fo.read(t)},e.prototype.hl=function(t){return this.cw.read(t)},e.Tz=function(t){return!(1&~t)},e.eq=function(t){return!(1&t)},e.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},e.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),this.rd.kr();for(var e=0;e<this.Eb.length;e++){var i=this.Eb[e];this.rd.Br(i.v,i.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),e=0;e<2*this.Eb.length;e++)this.Ld.add(e);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},e.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),this.rd.kr();for(var e=0;e<this.Eb.length;e++){var i=this.Eb[e];this.rd.Br(i.v,i.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),e=0;e<2*this.Eb.length;e++)this.Ld.add(e);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},e.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.ff&&(this.ff=new t.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new t.ia(0)),this.ff.kr();for(var e=0;e<this.qd.length;e++){var i=this.qd[e];this.ff.Br(i.v,i.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),e=0;e<2*this.qd.length;e++)this.Ef.add(e);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},e.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),null==this.ff&&(this.ff=new t.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new t.ia(0)),this.rd.kr();for(var e=0;e<this.Eb.length;e++){var i=this.Eb[e];this.rd.Br(i.v,i.C)}for(this.rd.Fp(),this.ff.kr(),e=0;e<this.qd.length;e++)i=this.qd[e],this.ff.Br(i.v,i.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),e=0;e<2*this.Eb.length;e++)this.Ld.add(e);for(e=0;e<2*this.qd.length;e++)this.Ef.add(e);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},e.prototype.UX=function(){var t=this.Ld.get(--this.pe),i=t>>1;return e.eq(t)?(this.rd.remove(i),0!=this.pe||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[i].v,this.Eb[i].C,this.qa),this.Vf=i,this.Xb=10,!0)},e.prototype.QX=function(){return-1==--this.pe?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},e.prototype.RX=function(){return-1==--this.pe?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},e.prototype.SX=function(){var t=this.Ld.get(this.pe-1),i=this.Ef.get(this.Rg-1),n=this.Rr(t,!0),r=this.Rr(i,!1);return n>r?this.ux():n<r?this.iC():e.Tz(t)?this.ux():e.Tz(i)?this.iC():this.ux()},e.prototype.ux=function(){var i=this.Ld.get(--this.pe),n=i>>1;if(e.eq(i))return-1!=this.Df&&-1!=this.Ij.get(n)?(this.Ad.jd(this.Df,this.Ij.get(n)),this.Ij.set(n,-1)):this.rd.remove(n),0!=this.pe||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(-1!=this.Cf&&0<this.Ad.bs(this.Cf))for(i=this.Ad.rc(this.Cf);-1!=i;){var r=this.Ad.getData(i);this.ff.vj(r),this.Hj.set(r,-1),r=this.Ad.lb(i),this.Ad.jd(this.Cf,i),i=r}return 0<this.ff.size()?(this.ow.EB(this.Eb[n].v,this.Eb[n].C,this.qa),this.Vf=n,this.Xb=12):(-1==this.Df&&(null==this.Ad&&(this.Ad=new t.jp),this.Ij=new t.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(n,this.Ad.addElement(this.Df,n)),this.Xb=7),!0},e.prototype.iC=function(){var i=this.Ef.get(--this.Rg),n=i>>1;if(e.eq(i))return-1!=this.Cf&&-1!=this.Hj.get(n)?(this.Ad.jd(this.Cf,this.Hj.get(n)),this.Hj.set(n,-1)):this.ff.remove(n),0!=this.Rg||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(-1!=this.Df&&0<this.Ad.bs(this.Df))for(i=this.Ad.rc(this.Df);-1!=i;){var r=this.Ad.getData(i);this.rd.vj(r),this.Ij.set(r,-1),r=this.Ad.lb(i),this.Ad.jd(this.Df,i),i=r}return 0<this.rd.size()?(this.oo.EB(this.qd[n].v,this.qd[n].C,this.qa),this.Af=n,this.Xb=11):(-1==this.Cf&&(null==this.Ad&&(this.Ad=new t.jp),this.Hj=new t.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(n,this.Ad.addElement(this.Cf,n)),this.Xb=7),!0},e.prototype.Uz=function(){if(this.Af=this.oo.next(),-1!=this.Af)return!1;var t=this.Ld.get(this.pe)>>1;return this.rd.vj(t),this.Xb=4,!0},e.prototype.jT=function(){if(this.Vf=this.oo.next(),-1!=this.Vf)return!1;this.Af=this.Vf=-1;var t=this.Ef.get(this.Rg)>>1;return this.ff.vj(t),this.Xb=7,!0},e.prototype.gT=function(){if(this.Af=this.ow.next(),-1!=this.Af)return!1;var t=this.Ld.get(this.pe)>>1;return this.rd.vj(t),this.Xb=7,!0},e.prototype.hT=function(){if(-1==--this.Rg)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var t=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(t)||(this.Af=this.Rg,!1)},e.prototype.iT=function(){if(-1==--this.Rg)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var t=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(t)||(this.Af=this.Rg,!1)},e.prototype.kJ=function(){return null==this.rd?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},e.prototype.jJ=function(){return null==this.ff?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},e.prototype.Kt=function(e,i,r){null==this.Am&&(this.Am=new t.Xt),r=new n(this,r),this.Am.sort(e,0,i,r)},e.prototype.JX=function(t,i,n,r){var s=this;t.Vd(i,n,(function(t,i){var n=s.Rr(t,r),o=s.Rr(i,r);return n<o||n==o&&e.eq(t)&&e.Tz(i)?-1:1}))},e.prototype.Rr=function(t,i){var n=.5*this.qa;return i?(i=this.Eb[t>>1],e.eq(t)?i.G-n:i.H+n):(i=this.qd[t>>1],e.eq(t)?i.G-n:i.H+n)},e}(),t.xC=e}(J||(J={})),function(t){var e=function(){function e(){}return e.construct=function(t,i,n,r,s,o){var a=new e;return a.v=t,a.G=i,a.Ye=n,a.C=r,a.H=s,a.Bg=o,a},e.prototype.Oa=function(){this.Ye=this.v=NaN},e.prototype.B=function(){return isNaN(this.v)},e.prototype.XS=function(){return isNaN(this.Ye)},e.prototype.K=function(t,e,i,n,r,s){void 0!==n?"number"==typeof t?(this.v=t,this.G=e,this.Ye=i,this.C=n,this.H=r,this.Bg=s):(this.v=t.x-.5*e,this.C=this.v+e,this.G=t.y-.5*i,this.H=this.G+i,this.Ye=t.z-.5*n,this.Bg=this.Ye+n):(this.v=t,this.G=e,this.Ye=i,this.C=t,this.H=e,this.Bg=i)},e.prototype.move=function(t){this.v+=t.x,this.G+=t.y,this.Ye+=t.z,this.C+=t.x,this.H+=t.y,this.Bg+=t.z},e.prototype.copyTo=function(t){t.v=this.v,t.G=this.G,t.C=this.C,t.H=this.H},e.prototype.Lk=function(t,e,i){this.v>t?this.v=t:this.C<t&&(this.C=t),this.G>e?this.G=e:this.H<e&&(this.H=e),0==isNaN(this.Ye)?this.Ye>i?this.Ye=i:this.Bg<i&&(this.Bg=i):this.Bg=this.Ye=i},e.prototype.Zb=function(i,n,r){if("number"==typeof i)this.B()?(this.v=i,this.G=n,this.Ye=r,this.C=i,this.H=n,this.Bg=r):this.Lk(i,n,r);else if(i instanceof t.Nd)this.Zb(i.x,i.y,i.z);else{if(!(i instanceof e))throw t.i.N();i.B()||(this.Zb(i.v,i.G,i.Ye),this.Zb(i.C,i.H,i.Bg))}},e.prototype.construct=function(t,e,i){t.B()||e.B()?this.Oa():(this.v=t.oa,this.C=t.va,this.G=e.oa,this.H=e.va,this.Ye=i.oa,this.Bg=i.va)},e.prototype.nB=function(e){if(null==e||8>e.length)throw t.i.N();e[0]=new t.Nd(this.v,this.G,this.Ye),e[1]=new t.Nd(this.v,this.H,this.Ye),e[2]=new t.Nd(this.C,this.H,this.Ye),e[3]=new t.Nd(this.C,this.G,this.Ye),e[4]=new t.Nd(this.v,this.G,this.Bg),e[5]=new t.Nd(this.v,this.H,this.Bg),e[6]=new t.Nd(this.C,this.H,this.Bg),e[7]=new t.Nd(this.C,this.G,this.Bg)},e.prototype.Zw=function(t){if(null==t||0==t.length)this.Oa();else{var e=t[0];for(this.K(e.x,e.y,e.z),e=1;e<t.length;e++){var i=t[e];this.Lk(i.x,i.y,i.z)}}},e}();t.OK=e}(J||(J={})),function(t){!function(t){t.Qa=function(){var t=Error();return t.message="Internal Error",t},t.Ie=function(){var t=Error();return t.message="Not Implemented",t},t.Xk=function(){var t=Error();return t.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",t},t.Hb=function(){var t=Error();return t.message="Invalid Call",t},t.N=function(t){var e=Error();return e.message="Illegal Argument Exception",void 0!==t&&(e.message+=": "+t),e},t.fu=function(t){var e=Error();return e.message=void 0!==t?"Runtime Exception: "+t:"Runtime Exception.",e},t.fa=function(t){var e=Error();return e.message="Geometry Exception: "+t,e},t.GK=function(){var t=Error();return t.message="Assert Failed Exception",t},t.ce=function(){var t=Error();return t.message="IndexOutOfBoundsException",t},t.WC=function(){var t=Error();return t.message="UserCancelException",t}}(t.i||(t.i={}))}(J||(J={})),function(t){(t=t.bm||(t.bm={}))[t.forward=0]="forward",t[t.reverse=1]="reverse"}(J||(J={})),function(t){var e=function(){function e(t,e){this.Wa=t,this.FH=e,this.LH=-1,this.sl=!1}return e.prototype.qe=function(){},e.prototype.next=function(){if(++this.LH==this.FH.I())return null;var e=this.FH.Na(this.LH);e.scale(this.Wa.ec);var i=new t.Da;return this.Wa.sy(e,this.sl,i),i},e.prototype.La=function(){return 0},e}(),i=function(){function e(e,i,n){this.Wa=e,this.rw=i,this.Xn=!1,this.co=n,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new t.Da,this.uk=[]}return e.prototype.qe=function(){},e.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var e=t.aa.jg(this.qq);return t.Fg.Mk(e,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(null==this.sd&&(this.sd=this.rw.Ga(),this.sd.$a(),null!=this.co&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;null!=this.co&&this.co.Yk(null,0)}e=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var i=this.uk.length=0,r=new t.h,s=new t.h,o=[0];this.sd.Ha()&&8>this.FA;){var a=this.sd.ha();if(r.L(a.ac()),s.L(a.wc()),r.scale(this.Wa.ec),s.scale(this.Wa.ec),t.cj.Mu(r,s)?r.x=s.x:t.cj.Ku(r,s)&&(s.x=r.x),this.uk.length=0,t.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,r,s,this.Wa.QA,this.Wa.Zs,o,this.Nj,this.Gs,this.uk,this.bw),null!=this.co&&(a=this.uk.slice(0),this.co.qG(this.co.da()-1,a,a.length-1)),t.cj.Lu(r,s)?(this.qq.Oa(),this.Wa.sy(r,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(o[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}null==e&&(e=new t.Da).Yk(null,0),this.OD(e),i++}if(this.bw[0]=0,0<i){for(o=this.sd.wb();0<i;)this.sd.li(),r.L(this.rw.Na(this.sd.wb())),s.L(this.rw.Na(this.sd.ik())),r.scale(this.Wa.ec),s.scale(this.Wa.ec),this.sl&&(t.cj.Mu(r,s)?r.x=s.x:t.cj.Ku(r,s)&&(s.x=r.x)),this.uk.length=0,t.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,s,r,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(e),i--;return r.L(this.rw.Na(this.sd.wb())),r.scale(this.Wa.ec),n.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,r,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,e,NaN,NaN),this.sd.Vb(o),this.sd.ha(),i=t.ta.kj(null,e,!0),t.Fg.Mk(e,i,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),e=t.aa.jg(this.qq),t.Fg.Mk(e,this.Wa.Aq,!0,!0,this.Wa.Ub)},e.prototype.OD=function(e){var i=this.uk[0],r=this.Nj[0]-1.570796326794897,s=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var o=this.di+1.570796326794897;r=o+3.141592653589793-(this.di-this.Nj[0])}else r=(o=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var a=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0]||this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),h=!1;if(Math.abs(r-o)<=.5*this.Wa.ao)if(a){var l=e.Na(e.I()-2);l.scale(this.Wa.ec);var u=new t.ga(0);for(t.kb.Xy(this.Wa.Tb,this.Wa.kc,i.x,i.y,l.x,l.y,u),l=u.u;l<=o;)l+=6.283185307179586;for(;l>o;)l-=6.283185307179586;l<r&&(h=!0)}else h=!0;h?(e.DB(0,e.I()-1),this.sl||((i=new t.h).L(e.Na(e.I()-1)),i.scale(this.Wa.ec),-3.141592653589793>i.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<i.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),a||(r=.5*(r+o))):(a?((o=new t.h).L(i),o.scale(1/this.Wa.ec),e.wf(0,-1,o)):n.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],o,r,this.Wa.ao,this.sl,this.sk,e,NaN,NaN),this.FA+=1)}n.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,r,s,this.sl,this.sk,e),this.di=this.Gs[0]},e.prototype.xy=function(t,e){return this.Wa.xy(this.uk,t,this.Nj[0],this.Gs[0],this.sl,e)},e.prototype.La=function(){return 0},e}(),n=function(){function n(){}return n.buffer=function(e,i,r,s,o,a){if(null==e)throw t.i.N("Geometry::Geodesic_bufferer::buffer");if(e.B())return new t.Da(e.description);var h=new n;h.Qg=i,h.Jc=t.cb.sc(i);var l=t.cb.vv(h.Jc);if(h.Ub=a,h.Tb=t.cb.ev(h.Jc),h.kc=l*(2-l),h.ec=h.Jc.Hd().ai,h.qa=h.Qg.Kn(),h.Aq=h.Jc.Kn(),h.Zs=h.Aq*h.ec,h.zq=1.570796326794897/h.ec,h.OY=3.141592653589793/h.ec,h.Js=6.283185307179586/h.ec,h.PY=h.Js/6,h.LA=0,h.NY=1.5707963267948966*h.Tb/h.LA,4==r?(h.ze=2,h.Wv=!0):(h.ze=r,h.Wv=!1),h.Ka=s,h.rb=Math.abs(s),isNaN(o)||.001>o?h.xX():h.$n=o,r=e.getType(),t.aa.yd(r)?((r=new t.Ta(e.description)).oc(e,!0),e=r,r=1607):197==r&&(r=new t.l,e.A(r),r.R()<=h.qa||r.ca()<=h.qa?((r=new t.Ta(e.description)).ad(e,!1),e=r,r=1607):((r=new t.Da(e.description)).ad(e,!1),e=r,r=1736)),h.yX(),t.aa.Rn(r)||h.zX(),h.rb<=.5*h.$n)return 1736!=r?new t.Da(e.description):h.Wv?e:t.cj.Qr(e,h.Qg,h.ze,h.QA,-1,a);if(0>h.Ka&&1736!=r)return new t.Da(e.description);if(h.Wv&&t.aa.Hc(r)?(i=t.cj.Qr(e,i,4,NaN,h.$n,a),e=t.cb.zh(i,h.Qg,h.Jc)):e=t.cb.zh(e,h.Qg,h.Jc),(e=t.Hh.lj(e,h.Jc)).B())return new t.Da(e.description);switch(!h.Wv&&t.aa.Hc(r)&&(e=t.cj.pI(h.ec,e)),e=n.KX(e,h.Jc),r){case 1736:i=h.UN(e);break;case 1607:i=h.VN(e);break;case 550:i=h.SN(e);break;case 33:i=h.TN(e);break;default:throw t.i.fa("corrupted_geometry")}return(h=t.cb.zh(i,h.Jc,h.Qg)).Jl(e.description),h},n.prototype.UN=function(e){var n=new t.Da;e=new i(this,e,n),e=t.Gh.local().V(e,this.Jc,this.Ub).next(),e=t.ip.nj(e,this.Jc,2);var r=new t.Dd;return r.scale(1/this.ec,1/this.ec),n.Oc(r),n=t.ip.nj(n,this.Jc,2),0<=this.Ka?t.Gh.local().V(n,e,this.Jc,this.Ub):t.kp.local().V(n,e,this.Jc,this.Ub)},n.prototype.VN=function(e){return e=new i(this,e,null),e=t.Gh.local().V(e,this.Jc,this.Ub).next(),t.ip.nj(e,this.Jc,2)},n.prototype.SN=function(i){return i=new e(this,i),i=t.Gh.local().V(i,this.Jc,this.Ub).next(),t.ip.nj(i,this.Jc,2)},n.prototype.TN=function(e){(e=e.D()).scale(this.ec);var i=new t.Da;return this.sy(e,!1,i),t.ip.nj(i,this.Jc,2)},n.prototype.xy=function(e,i,r,s,o,a){var h=e[0],l=e[e.length-1],u=h.y>l.y?h.y:l.y,c=t.F.q(this.Tb,this.kc,h.y<l.y?h.y:l.y);if(u=t.F.q(this.Tb,this.kc,u),.001<this.LA-(c+i+this.rb)&&.001<this.LA+(u-i-this.rb))return!1;c=(i=r-1.570796326794897)-3.141592653589793,u=i+3.141592653589793;var f=(r=s+1.570796326794897)+3.141592653589793,p=[NaN],d=[NaN],v=[NaN],g=[NaN];if(s=!1,n.dJ(this.Tb,this.kc,this.rb,h,i,c,l,r,p,d),n.dJ(this.Tb,this.kc,this.rb,l,f,r,h,c,v,g),(r<p[0]&&p[0]<f||r<d[0]&&d[0]<f)&&(s=!0),s||(c<v[0]&&v[0]<i||c<g[0]&&g[0]<i)&&(s=!0),!s&&o)return!1;for(var y=[],m=e.length-1;0<=m;m--)y.push(e[m]);return a.Oa(),a.Yk(null,0),m=[0],n.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,e,i,r,o,m,a),n.Hr(this.Tb,this.kc,this.ec,this.rb,l,r,f,this.ao,o,m,a,p[0],d[0]),n.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,y,f,u,o,m,a),n.Hr(this.Tb,this.kc,this.ec,this.rb,h,c,i,this.ao,o,m,a,v[0],g[0]),e=!1,o||(e=this.IE(this.ec,a)),s||e},n.prototype.sy=function(t,e,i){i.Oa(),i.Yk(null,0),n.Hr(this.Tb,this.kc,this.ec,this.rb,t,-this.ao,6.283185307179586,this.ao,e,[0],i,NaN,NaN),e||this.IE(this.ec,i)},n.prototype.IE=function(t,e){var i=this.vO(t,e);return t=this.wO(t,e),i||t},n.prototype.vO=function(e,i){var n=i.I(),r=!1,s=new t.l;if(i.A(s),!t.s.Y(s.H*e,1.570796326794897)&&!t.s.Y(s.G*e,-1.570796326794897))return!1;var o=new t.h;for(--n;0<=n;n--)i.D(n,o),(o.y==s.H&&t.s.Y(o.y*e,1.570796326794897)||o.y==s.G&&t.s.Y(o.y*e,-1.570796326794897))&&(r=!0,this.OI(o,n,i));return r},n.prototype.wO=function(t,e){var i=e.Na(0),n=e.Na(e.I()-1);return 3.141592653589793<Math.abs(i.x-n.x)*t?(this.VV(e),!0):this.uO(e)},n.prototype.uO=function(t){return 0>t.Ke()&&(this.UV(t),!0)},n.prototype.OI=function(e,i,n){var r=n.I(),s=0<i?i-1:r-1;if(r=n.Na(i<r-1?i+1:0),s=n.Na(s),!t.s.Y(r.y,e.y)&&!t.s.Y(r.x,e.x)){var o=new t.h;o.ma(r.x,e.y),n.Cb(i,o)}t.s.Y(s.y,e.y)||t.s.Y(s.x,e.x)||((r=new t.h).ma(s.x,e.y),n.wf(0,i,r))},n.prototype.VV=function(e){var i=new t.Da,n=new t.Da,r=new t.Dd,s=e.Na(0),o=e.Na(e.I()-1),a=new t.h;s.x>o.x?(o=this.zq,r.gg(-this.Js,0)):(o=-this.zq,r.gg(this.Js,0)),i.add(e,!1),e.Oa(),n.add(i,!1),n.Oc(r),s=new t.l,n.A(s),s.W((this.Js-s.R())/2,0),s.G=-this.zq,s.H=this.zq;for(var h=0;h<n.I();h++)n.D(h,a),i.wf(0,-1,a);for(n.Oc(r),h=0;h<n.I();h++)n.D(h,a),i.wf(0,-1,a);n=i.Na(0),r=i.Na(i.I()-1),a.ma(r.x,o),i.wf(0,-1,a),a.ma(.5*(r.x+n.x),o),i.wf(0,-1,a),a.ma(n.x,o),i.wf(0,-1,a),i=t.Hh.ks(i,this.Jc,2,!0,s.v),i=t.Hh.ks(i,this.Jc,2,!0,s.C),i=t.Ud.clip(i,s,this.Aq,NaN),e.add(i,!1)},n.prototype.UV=function(e){var i=new t.l;e.A(i),i.W((this.Js-i.R())/2,0),i.G=-this.zq,i.H=this.zq,e.Yk(null,0);var n=new t.h;n.ma(i.v,i.G),e.wf(1,-1,n),n.ma(i.v,i.H),e.wf(1,-1,n),n.ma(.5*(i.v+i.C),i.H),e.wf(1,-1,n),n.ma(i.C,i.H),e.wf(1,-1,n),n.ma(i.C,i.G),e.wf(1,-1,n),n.ma(.5*(i.v+i.C),i.G),e.wf(1,-1,n)},n.qy=function(e,i,r,s,o,a,h,l,u,c,f){var p=null;u||((p=new t.h).Rc(),0<f.I()&&(p.L(f.Na(f.I()-1)),p.scale(r)));var d=new t.ga(0),v=new t.ga(0),g=new t.ga(0),y=new t.h,m=new t.h,_=a[a.length-1];r=1/r;for(var b=0;b<a.length;b++){var w=a[b];if(0==b)var x=h;else b==a.length-1?x=l:(t.kb.wd(e,i,_.x,_.y,w.x,w.y,null,null,d,o),x=d.u-1.570796326794897);t.kb.yi(e,i,w.x,w.y,s,x,v,g),u?m.ma(v.u,g.u):(y.ma(v.u,g.u),n.gJ(w.x,y.x,p.x,c),m.ma(c[0]+y.x,y.y),p.L(m)),m.scale(r),f.wf(0,-1,m)}},n.Hr=function(e,i,r,s,o,a,h,l,u,c,f,p,d){if(!(h-a<l)){var v=new t.ga(0),g=new t.ga(0),y=new t.h,m=new t.h,_=null;u||((_=new t.h).Rc(),0<f.I()&&(_.L(f.Na(f.I()-1)),_.scale(r)));var b=t.O.truncate(Math.ceil(a/l)),w=b++*l;for(w==a&&(w=b++*l),r=1/r;w<h+l&&(a<p&&p<w?(w=p,b--):a<d&&d<w&&(w=d,b--),!(w>=h));)t.kb.yi(e,i,o.x,o.y,s,w,v,g),u?m.ma(v.u,g.u):(y.ma(v.u,g.u),n.gJ(o.x,y.x,_.x,c),m.ma(c[0]+y.x,y.y),_.L(m)),m.scale(r),f.wf(0,-1,m),a=w,w=b++*l}},n.dJ=function(e,i,n,r,s,o,a,h,l,u){var c=new t.h,f=new t.h,p=new t.ga(0),d=new t.ga(0);for(t.kb.yi(e,i,r.x,r.y,n,s,p,d),c.ma(p.u,d.u),t.kb.yi(e,i,r.x,r.y,n,o,p,d),f.ma(p.u,d.u),n=new t.ga(0),t.kb.Xy(e,i,a.x,a.y,c.x,c.y,n),l[0]=n.u,t.kb.Xy(e,i,a.x,a.y,f.x,f.y,n),u[0]=n.u;l[0]<=u[0];)l[0]+=6.283185307179586;for(;l[0]>u[0];)l[0]-=6.283185307179586;for(;l[0]>=h;)l[0]-=6.283185307179586,u[0]-=6.283185307179586;for(;l[0]<h;)l[0]+=6.283185307179586,u[0]+=6.283185307179586},n.gJ=function(t,e,i,n){if(isNaN(i)){for(;3.141592653589793<n[0]+e-t;)n[0]-=6.283185307179586;for(;3.141592653589793<t-(n[0]+e);)n[0]+=6.283185307179586}else 3.141592653589793<n[0]+e-i?n[0]-=6.283185307179586:3.141592653589793<i-(n[0]+e)&&(n[0]+=6.283185307179586)},n.KX=function(e,i){var n=e.getType(),r=t.aa.Hc(n)?e.da():550==n?e.I():1;if(1==r)return e;var s=new t.ia(0);s.resize(r);for(var o=[],a=new t.l,h=0;h<r;h++){if(s.write(h,h),t.aa.Hc(n)){e.Rj(h,a);var l=a.sf()}else l=e.Na(h);l=t.XK.$X(i,l),o[h]=l}for(s.Vd(0,s.size,(function(t,e){return o[t]<o[e]?-1:o[t]>o[e]?1:0})),i=e.Ia(),h=0;h<r;h++)a=s.read(h),t.aa.Hc(n)?i.addPath(e,a,!0):i.Fd(e,a,a+1);return i},n.prototype.yX=function(){var e=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);e=Math.min(e,.39269908169872414*this.Tb);var i=new t.h;i.ma(0,10*this.ec);var n=45*this.ec,r=new t.ga(0),s=new t.ga(0),o=new t.ga(0),a=new t.ga(0),h=new t.ga(0),l=new t.ga(0),u=new t.ga(0),c=new t.ga(0),f=new t.h,p=new t.h,d=new t.h,v=new t.h;t.kb.yi(this.Tb,this.kc,i.x,i.y,e,0,r,s),f.ma(r.u,s.u),t.kb.yi(this.Tb,this.kc,i.x,i.y,e,n,o,a),p.ma(o.u,a.u),r=new t.ga(0),s=new t.ga(0);for(var g=new t.ga(0);t.kb.yi(this.Tb,this.kc,i.x,i.y,e,.5*(0+n),h,l),d.ma(h.u,l.u),t.kb.wd(this.Tb,this.kc,f.x,f.y,p.x,p.y,r,s,null,2),t.kb.oj(this.Tb,this.kc,f.x,f.y,.5*r.u,s.u,u,c,2),v.ma(u.u,c.u),t.kb.wd(this.Tb,this.kc,d.x,d.y,v.x,v.y,g,null,null,2),!(g.u<=this.$n);)n*=.9,t.kb.yi(this.Tb,this.kc,i.x,i.y,e,n,o,a),p.ma(o.u,a.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(n-0))},n.prototype.zX=function(){var e=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);e=Math.min(e,.39269908169872414*this.Tb);var i=new t.h,n=new t.h;i.ma(0,10*this.ec),n.ma(10*this.ec,10*this.ec);var r=new t.ga(0),s=new t.ga(0),o=new t.ga(0);t.kb.wd(this.Tb,this.kc,i.x,i.y,n.x,n.y,o,r,s,this.ze);var a=new t.ga(0),h=new t.ga(0),l=new t.ga(0),u=new t.ga(0),c=new t.h,f=new t.ga(0),p=new t.ga(0),d=new t.ga(0),v=new t.ga(0),g=new t.ga(0),y=new t.ga(0),m=new t.ga(0),_=new t.ga(0),b=new t.ga(0),w=new t.h,x=new t.h,S=new t.h,T=new t.h,A=1;r=r.u,s=s.u+1.570796326794897,o=o.u,t.kb.yi(this.Tb,this.kc,i.x,i.y,e,r-1.570796326794897,p,d),w.ma(p.u,d.u),t.kb.yi(this.Tb,this.kc,n.x,n.y,e,s,v,g),x.ma(v.u,g.u),p=new t.ga(0),d=new t.ga(0),s=new t.ga(0);for(var E=new t.ga(0);t.kb.oj(this.Tb,this.kc,i.x,i.y,.5*(0+A)*o,r,a,h,this.ze),c.ma(a.u,h.u),t.kb.wd(this.Tb,this.kc,i.x,i.y,c.x,c.y,null,null,f,this.ze),t.kb.yi(this.Tb,this.kc,c.x,c.y,e,f.u+1.570796326794897,y,m),S.ma(y.u,m.u),t.kb.wd(this.Tb,this.kc,w.x,w.y,x.x,x.y,p,d,null,2),t.kb.oj(this.Tb,this.kc,w.x,w.y,.5*p.u,d.u,_,b,2),T.ma(_.u,b.u),t.kb.wd(this.Tb,this.kc,S.x,S.y,T.x,T.y,s,null,null,2),!(s.u<=this.$n);)A*=.9,t.kb.oj(this.Tb,this.kc,i.x,i.y,A*o,r,l,u,this.ze),n.ma(l.u,u.u),t.kb.wd(this.Tb,this.kc,i.x,i.y,n.x,n.y,null,null,E,this.ze),t.kb.yi(this.Tb,this.kc,n.x,n.y,e,E.u+1.570796326794897,v,g),x.ma(v.u,g.u);1e5<(e=A*o)&&(e=1e5),this.QA=e},n.prototype.xX=function(){var t=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/t&&(t=this.rb/500),.01>t&&(t=.01),this.$n=t},n}();t.VK=n}(J||(J={})),function(t){var e=function(){function e(){}return e.Mf=function(e,i){var n=new t.h;n.L(i),e.push(n)},e.up=function(t,e){t.add(e.x),t.add(e.y)},e.hB=function(t){t.Bh(t.size-2)},e.oB=function(t,e){e.ma(t.get(t.size-2),t.get(t.size-1))},e.Qr=function(i,n,r,s,o,a){if(null==i)throw t.i.N();var h=i.getType();if(i.B()||t.aa.Rn(h))return i;var l=new e;l.Qg=n,l.Jc=t.cb.sc(n);var u=t.cb.vv(l.Jc);if(l.Ub=a,l.Tb=t.cb.ev(l.Jc),l.kc=u*(2-u),l.ec=l.Jc.Hd().ai,l.Aq=l.Jc.Kn(),l.Zs=l.Aq*l.ec,l.AA=s,l.zA=o,l.ze=r,197==h?(r=new t.Da(i.description)).ad(i,!1):t.aa.yd(h)?(r=new t.Ta(i.description)).oc(i,!0):r=i,4!=l.ze){if((n=0==l.Qg.Nb(l.Jc)?t.cb.zh(r,l.Qg,l.Jc):t.Hh.lj(r,l.Jc)).B())return n;n=e.pI(l.ec,n),n=l.Zy(n),n=t.ip.nj(n,l.Jc,l.ze),l=t.cb.zh(n,l.Jc,l.Qg)}else{if(2==t.Eg.Sb(n)?(i=t.cb.ml(),(n=t.Xj.local().V(r,i,n,a))==i&&(n=new t.Da,i.copyTo(n))):n=t.Hh.lj(r,l.Jc),n.B())return n;l=l.CX(n)}return l},e.pI=function(i,n){var r=new t.l;if(n.xc(r),3.141592653589793>r.R()*i)return n;var s=!1;r=n.Ga();for(var o=new t.h,a=new t.h;r.$a();)for(;r.Ha();){var h=r.ha();if(o.L(h.ac()),a.L(h.wc()),o.scale(i),a.scale(i),3.141592653589793<Math.abs(o.x-a.x)){var l=e.Lu(o,a);if(!l){s=!0;break}if(6.283185307179586<Math.abs(o.x-a.x)){s=!0;break}}}if(!s)return n;s=n.Ia();var u=1<n.description.Aa,c=new t.h,f=new t.h,p=new t.h,d=new t.h,v=new t.Sa;for(r.Zi();r.$a();)for(var g=NaN,y=[0];r.Ha();){if(h=r.ha(),o.L(h.ac()),a.L(h.wc()),o.scale(i),a.scale(i),isNaN(g)?(e.Wi(o.x,NaN,y),f.L(o)):f.L(p),g=f.x,l=e.Lu(o,a)){if(6.283185307179586<a.x-o.x)for(;6.283185307179586<a.x-o.x;)a.x-=6.283185307179586;if(-6.283185307179586>a.x-o.x)for(;-6.283185307179586>a.x-o.x;)a.x+=6.283185307179586;e.Wi(a.x,NaN,y),p.L(a)}else c.L(a),e.AU(c),e.Wi(c.x,g,y),p.ma(y[0]+c.x,c.y);.5>Math.abs(p.x-a.x)&&p.L(a),u?(h.Tw(0,v),d.L(f),d.scale(1/i),v.Cb(d),(l=r.vm())?s.nf(v):s.lineTo(v),r.Qn()&&!n.dc(r.gb)&&(h.Tw(1,v),d.L(p),d.scale(1/i),v.Cb(d),s.lineTo(v))):((l=r.vm())&&s.Hz(null,0),h=s.da()-1,d.L(f),d.scale(1/i),s.wf(h,-1,d),r.Qn()&&!n.dc(r.gb)&&(d.L(p),d.scale(1/i),s.wf(h,-1,d)))}return s},e.tF=function(i,n,r,s,o,a,h,l,u,c,f,p){var d=new t.h,v=new t.h,g=0<s.compare(o);e.fJ(g,s,o,d,v),e.uF(i,n,r,d,v,a,NaN,h,l,u,c,null,f,p),g&&e.fC(u,c,null,f)},e.prototype.Zy=function(i){var n=i.Ia(),r=i.Ga(),s=[],o=null,a=null,h=1<i.description.Aa;h&&(o=new t.be(0),a=new t.ig);for(var l=[0],u=new t.h,c=new t.h,f=new t.h,p=new t.h;r.$a();)for(l[0]=0;r.Ha();){var d=r.ha();u.L(d.ac()),c.L(d.wc()),u.scale(this.ec),c.scale(this.ec);var v=0<u.compare(c);e.fJ(v,u,c,f,p),s.length=0,null!=o&&o.Bh(0),0<this.AA?e.uF(this.Tb,this.kc,this.ze,f,p,this.AA,this.zA,this.Zs,null,null,null,h?o:null,s,l):e.aR(this.Tb,this.kc,this.ze,f,p,this.zA,this.Zs,h?o:null,s,l),v&&e.fC(null,null,h?o:null,s),s[0].L(d.ac()),s[s.length-1].L(d.wc());for(var g=1;g<s.length-1;g++)s[g].scale(1/this.ec);h?(v=e.eJ(v,d,a),e.TD(r.vm(),r.Qn()&&!i.dc(r.gb),d,v,o,s,n)):e.SD(r.vm(),r.Qn()&&!i.dc(r.gb),s,n)}return n},e.prototype.CX=function(i){var n=i.Ia(),r=i.Ga(),s=[],o=null,a=new t.ig,h=1<i.description.Aa;for(h&&(o=new t.be(0));r.$a();)for(;r.Ha();){var l=r.ha(),u=l.ac(),c=l.wc();u=0<u.compare(c),c=e.eJ(u,l,a),s.length=0,null!=o&&o.Bh(0),e.BX(this.Tb,this.kc,this.ec,c,this.Qg,this.AA,this.zA,h?o:null,s),u&&e.fC(null,null,h?o:null,s),h?e.TD(r.vm(),r.Qn()&&!i.dc(r.gb),l,c,o,s,n):e.SD(r.vm(),r.Qn()&&!i.dc(r.gb),s,n)}return n},e.SD=function(t,e,i,n){t&&n.Hz(null,0),t=n.da()-1;var r=i.slice(0);n.qG(t,r,r.length-1),e&&n.wf(t,-1,i[i.length-1])},e.TD=function(e,i,n,r,s,o,a){var h=new t.Sa;if(n.To(h),e?a.nf(h):a.lineTo(h),2<o.length){e=r.Qb();for(var l=1;l<o.length-1;l++){var u=r.NG(s.get(l)*e);r.Tw(u,h),h.Cb(o[l]),a.lineTo(h)}}i&&(n.Po(h),a.lineTo(h))},e.uF=function(i,n,r,s,o,a,h,l,u,c,f,p,d,v){var g=new t.ga(0),y=new t.ga(0),m=new t.ga(0);t.kb.wd(i,n,s.x,s.y,o.x,o.y,m,g,y,r),m=m.u;var _=g=g.u;0>_&&(_+=6.283185307179586),0>(y=y.u)&&(y+=6.283185307179586),null!=u&&(u[0]=m),null!=c&&(c[0]=_),null!=f&&(f[0]=y),c=u=NaN,null!=p&&(u=((c=t.F.Ah(i,n))-(f=t.F.q(i,n,s.y)))/m,c=(c+f)/m),f=e.Mu(s,o),y=e.Ku(s,o),_=f||y;var b=e.FE(s,o,l),w=new t.ga(0),x=new t.ga(0),S=new t.h,T=new t.h,A=new t.h;e.Wi(s.x,NaN,v);var E=[v[0]];if(m<=a)e.Mf(d,s),e.Wi(o.x,NaN,v),null!=p&&p.add(0),_?(f&&e.kB(s,o,p,d),y&&e.iB(s,o,p,d)):b?e.jB(s,o,g,u,c,p,d):0<h&&(T.ma(s.x-E[0],s.y),S.ma(o.x-v[0],o.y),e.Yy(i,n,r,s,m,g,T,S,0,1,h,p,d,E)),e.Mf(d,o);else{var M=m/((a=1+t.O.truncate(Math.ceil(m/a)))-1),I=new t.h,C=0;e.Mf(d,s),I.L(s),T.ma(s.x-v[0],s.y),null!=p&&p.add(0);for(var R=1;R<a;R++){if(R<a-1){t.kb.oj(i,n,s.x,s.y,R*M,g,w,x,r),S.ma(w.u,x.u),e.Wi(S.x,I.x,v),A.ma(v[0]+S.x,S.y);var N=R/(a-1)}else e.Wi(o.x,NaN,v),S.ma(o.x-v[0],o.y),A.L(o),N=1;_?(1==R&&f&&e.kB(s,A,p,d),R==a-1&&y&&e.iB(I,o,p,d)):b?e.EE(I,A,l)&&(s.x<o.x?I.x>A.x&&(v[0]+=6.283185307179586,A.ma(v[0]+S.x,S.y)):I.x<A.x&&(v[0]-=6.283185307179586,A.ma(v[0]+S.x,S.y)),e.jB(I,A,g,u,c,p,d)):0<h&&e.Yy(i,n,r,s,m,g,T,S,C,N,h,p,d,E),e.Mf(d,A),null!=p&&p.add(N),I.L(A),T.L(S),E[0]=v[0],C=N}}},e.aR=function(i,n,r,s,o,a,h,l,u,c){var f=new t.ga(0),p=new t.ga(0),d=new t.ga(0);t.kb.wd(i,n,s.x,s.y,o.x,o.y,d,f,p,r),p=d.u,f=f.u;var v=d=NaN;if(null!=l){v=t.F.Ah(i,n);var g=t.F.q(i,n,s.y);d=(v-g)/p,v=(v+g)/p}g=e.Mu(s,o);var y=e.Ku(s,o),m=g||y;h=e.FE(s,o,h);var _=e.Lu(s,o);_=m||h||_,e.Wi(s.x,NaN,c);var b=new t.h;e.Mf(u,s),b.L(s),null!=l&&l.add(0),_?(m?(g&&e.kB(s,o,l,u),y&&e.iB(s,o,l,u)):h&&e.jB(s,o,f,d,v,l,u),e.Wi(o.x,NaN,c),e.Mf(u,o)):p<=a?(e.Wi(o.x,NaN,c),e.Mf(u,o)):(d=new t.h,h=new t.h,d.L(s),h.L(o),d.x-=c[0],h.x-=c[0],-3.141592653589793>h.x?h.x+=6.283185307179586:3.141592653589793<h.x&&(h.x-=6.283185307179586),e.Yy(i,n,r,s,p,f,d,h,0,1,a,l,u,c),e.Mf(u,o),e.Wi(o.x,NaN,c)),null!=l&&l.add(1)},e.Yy=function(i,n,r,s,o,a,h,l,u,c,f,p,d,v){var g=new t.h,y=new t.h;g.ma(h.x+v[0],h.y),new t.ga(0),new t.ga(0),new t.ga(0),new t.ga(0);var m=new t.ga(0),_=new t.ga(0),b=new t.ga(0),w=new t.h,x=new t.h,S=new t.h,T=new t.h;w.L(h),x.L(l),h=new t.be(0),l=new t.be(0),e.up(h,x),l.add(c);var A=new t.h,E=new t.yb,M=[];for(e.YJ(4,M);0<h.size;){for(var I,C=!1,R=NaN,N=0;3>N;N++)if(I=M[N]*c+(1-M[N])*u,t.kb.oj(i,n,s.x,s.y,I*o,a,m,_,r),S.ma(m.u,_.u),0==N&&(R=I,T.L(S)),e.WW(w,S,x,E),E.hc(E.fe(S,!0),A),t.kb.wd(i,n,S.x,S.y,A.x,A.y,b,null,null,2),b.u>f){C=!0;break}C?(x.L(T),c=R,e.up(h,x),l.add(c)):(e.hB(h),l.En(l.size-1,1,l.size-1),0<h.size&&(e.Wi(x.x,g.x,v),y.ma(v[0]+x.x,x.y),e.Mf(d,y),g.L(y),null!=p&&p.add(c),w.L(x),u=c,e.oB(h,x),c=l.get(l.size-1)))}},e.BX=function(i,n,r,s,o,a,h,l,u){var c=new t.h,f=new t.h,p=new t.h,d=new t.h,v=new t.h,g=new t.h,y=new t.h,m=new t.h,_=new t.h,b=new t.h,w=new t.ga(0),x=new t.ga(0),S=new t.h,T=[[],[]],A=1==t.Eg.Sb(o);o=o.Xd(0);var E=s.ac(),M=s.wc();A?(g.ma(E.x*r,E.y*r),y.ma(M.x*r,M.y*r)):(T[0][0]=E.x,T[0][1]=E.y,T[1][0]=M.x,T[1][1]=M.y,t.cb.vt(),g.x=T[0][0]*r,g.y=T[0][1]*r,y.x=T[1][0]*r,y.y=T[1][1]*r);var I=0,C=0,R=1,N=s.Pn();c.L(E),f.L(M),M=new t.be(0);var O=new t.be(0),D=new t.be(0);e.up(M,f),e.up(O,y),D.add(R),e.Mf(u,c),null!=l&&l.add(C);var L=[],P=0<h?N?5:3:N?5:1;e.YJ(P,L);for(var z=new t.ga(0),F=new t.ga(0),j=new t.ga(0),V=new t.ga(0),B=new t.ga(0),U=new t.ga(0),k=new t.ga(0);0<O.size;){var G=!1,H=NaN;for(t.kb.wd(i,n,g.x,g.y,y.x,y.y,z,F,null,2),E=0;E<P;E++){if(0==E){if(!N&&0>=h&&z.u<=a&&3.141592653589793>Math.abs(g.x-y.x))break;if(s.Ux(C,R)<=o)break}var q=L[E]*R+(1-L[E])*C;if(s.hc(q,p),A?m.ma(p.x*r,p.y*r):(T[0][0]=p.x,T[0][1]=p.y,t.cb.vt(),m.x=T[0][0]*r,m.y=T[0][1]*r),0==E&&(H=q,v.L(p),b.L(m),0<a&&(z.u>a||3.141592653589793<=Math.abs(g.x-y.x)))){G=!0;break}if(N&&0<a){if(t.kb.wd(i,n,g.x,g.y,m.x,m.y,j,null,null,2),j.u>a||3.141592653589793<=Math.abs(g.x-m.x)){G=!0;break}}else if(0<h){if(N?(d.NS(c,f,L[E]),A?_.ma(d.x*r,d.y*r):(T[0][0]=d.x,T[0][1]=d.y,t.cb.vt(),_.x=T[0][0]*r,_.y=T[0][1]*r)):(d.L(p),_.L(m)),t.kb.wd(i,n,g.x,g.y,_.x,_.y,V,null,null,2),!(V.u<=z.u)){G=!0;break}if(t.kb.oj(i,n,g.x,g.y,V.u,F.u,w,x,2),S.ma(w.u,x.u),t.kb.wd(i,n,S.x,S.y,m.x,m.y,B,null,null,2),B.u>h){G=!0;break}if(N){if(t.kb.wd(i,n,S.x,S.y,_.x,_.y,U,null,null,2),U.u>h){G=!0;break}if(t.kb.wd(i,n,_.x,_.y,m.x,m.y,k,null,null,2),k.u>h){G=!0;break}}}}G?(f.L(v),y.L(b),R=H,e.up(M,f),e.up(O,y),D.add(R)):(e.hB(M),e.hB(O),D.En(D.size-1,1,D.size-1),e.Mf(u,f),I+=z.u,null!=l&&l.add(I),0<O.size&&(c.L(f),g.L(y),C=R,e.oB(M,f),e.oB(O,y),R=D.get(D.size-1)))}if(null!=l)for(i=1/I,E=0;E<l.size;E++)l.write(E,l.read(E)*i)},e.fC=function(t,e,i,n){n.reverse(),null!=i&&i.ni(0,i.size,1),i=null!=t?t[0]:NaN,n=null!=e?e[0]:NaN,null!=t&&(t[0]=n),null!=e&&(e[0]=i)},e.fJ=function(t,e,i,n,r){t?(n.L(i),r.L(e)):(n.L(e),r.L(i))},e.eJ=function(t,e,i){return t?(i.create(e.getType()),e.copyTo(i.get()),i.get().reverse(),i.get()):e},e.Wi=function(t,e,i){if(isNaN(e)){for(;3.141592653589793<i[0]-t;)i[0]-=6.283185307179586;for(;3.141592653589793<t-i[0];)i[0]+=6.283185307179586}else 3.141592653589793<i[0]+t-e?i[0]-=6.283185307179586:3.141592653589793<e-(i[0]+t)&&(i[0]+=6.283185307179586)},e.WW=function(t,e,i,n){3.141592653589793>Math.abs(e.x-t.x)?(n.Dc(t),3.141592653589793<=i.x-t.x?n.Ql(i.x-6.283185307179586,i.y):3.141592653589793<=t.x-i.x?n.Ql(i.x+6.283185307179586,i.y):n.Ql(i.x,i.y)):(n.Dc(i),3.141592653589793<=t.x-i.x?n.Ql(t.x-6.283185307179586,t.y):3.141592653589793<=i.x-t.x?n.Ql(t.x+6.283185307179586,t.y):n.Ql(t.x,t.y))},e.YJ=function(t,e){for(var i=0;i<t;i++){var n=Math.ceil(i/2)/(t+1);0!=i%2&&(n=-n),e[i]=.5+n}},e.Mu=function(e,i){return!!(t.s.Y(e.y,1.570796326794897)&&!t.s.Y(i.y,1.570796326794897)||t.s.Y(e.y,-1.570796326794897)&&!t.s.Y(i.y,-1.570796326794897))},e.Ku=function(e,i){return!!(t.s.Y(i.y,1.570796326794897)&&!t.s.Y(e.y,1.570796326794897)||t.s.Y(i.y,-1.570796326794897)&&!t.s.Y(e.y,-1.570796326794897))},e.FE=function(i,n,r){return!(!e.EE(i,n,r)||t.s.Y(i.y,1.570796326794897)||t.s.Y(i.y,-1.570796326794897)||t.s.Y(n.y,1.570796326794897)||t.s.Y(n.y,-1.570796326794897))},e.EE=function(t,e,i){return Math.abs(Math.abs(t.x-e.x)-3.141592653589793)<=i},e.Lu=function(e,i){return!!(t.s.Y(e.y,1.570796326794897)&&t.s.Y(i.y,1.570796326794897)||t.s.Y(e.y,-1.570796326794897)&&t.s.Y(i.y,-1.570796326794897))},e.kB=function(i,n,r,s){if(0<i.y){var o=new t.h;o.ma(n.x,1.570796326794897)}else(o=new t.h).ma(n.x,-1.570796326794897);t.s.Y(i.x,o.x)||t.s.Y(n.y,o.y)||(e.Mf(s,o),null!=r&&r.add(0))},e.iB=function(i,n,r,s){if(0<n.y){var o=new t.h;o.ma(i.x,1.570796326794897)}else(o=new t.h).ma(i.x,-1.570796326794897);t.s.Y(n.x,o.x)||t.s.Y(i.y,o.y)||(e.Mf(s,o),null!=r&&r.add(1))},e.jB=function(i,n,r,s,o,a,h){t.s.Cd(r)?(0<1.570796326794897-i.y&&((r=new t.h).ma(i.x,1.570796326794897),e.Mf(h,r),null!=a&&a.add(s)),0<1.570796326794897-n.y&&((r=new t.h).ma(n.x,1.570796326794897),e.Mf(h,r),null!=a&&a.add(s))):(0<1.570796326794897+i.y&&((r=new t.h).ma(i.x,-1.570796326794897),e.Mf(h,r),null!=a&&a.add(o)),0<1.570796326794897+n.y&&((r=new t.h).ma(n.x,-1.570796326794897),e.Mf(h,r),null!=a&&a.add(o)))},e.AU=function(t){if(-3.141592653589793>t.x)for(;-3.141592653589793>t.x;)t.x+=6.283185307179586;if(3.141592653589793<t.x)for(;3.141592653589793<t.x;)t.x-=6.283185307179586},e}();t.cj=e}(J||(J={})),function(t){t.ip=function(){function e(){}return e.nj=function(i,n,r){if(null==i||null==n||!t.cb.Wc(n))throw t.i.N();if(i.B())return i;var s=i,o=s.getType();if(t.aa.Hc(o)){s=t.Hh.lj(i,n),i=new t.l,s.A(i),o=t.ta.Wd(n,i,!1);for(var a=t.cb.gh(n),h=Math.floor((i.v-a.v)/a.R())*a.R()+a.v;h<i.C;)h>i.v+o&&h<i.C-o&&(s=t.Hh.ks(s,n,r,!0,h)),h+=a.R()}else{if(197==o)return(i=new t.Da(s.description)).ad(s,!1),e.nj(i,n,r);if(t.aa.yd(o))return(i=new t.Ta(s.description)).oc(s,!0),e.nj(i,n,r)}return e.Uy(s,n)},e.Uy=function(i,n){if(null==i||null==n||!t.cb.Wc(n))throw t.i.N();if(i.B())return i;var r=i.getType();return 197==r?(r=new t.Da(i.description)).ad(i,!1):t.aa.yd(r)?(r=new t.Ta(i.description)).oc(i,!0):r=i,(r=t.Hh.lj(r,n)).B()?r:1==t.Eg.Sb(n)?t.Hh.Fn(r,n,0,r!=i,0):e.NQ(r,n,r!=i)},e.NQ=function(e,i,n){if(!t.cb.Wc(i))throw t.i.N();if(e.B())return e;var r=t.cb.bf(i),s=-180*r;return r*=360,2==t.Eg.Sb(i)&&(r=(s=t.cb.gh(i)).C,r-=s=s.v),t.Hh.Hp(e,s,r,i,n,0,!0)},e}()}(J||(J={})),function(t){t.BY=function(){function t(){}return t.P=function(t){return 0>t?-t:t},t.Mb=function(e,i){return 0<=i?t.P(e):-t.P(e)},t.Y=function(e,i){return e==i||t.P(e-i)<=t.JC*(1+(t.P(e)+t.P(i))/2)},t.Cd=function(e){return 0==e||t.P(e)<=t.JC},t.Ah=function(e,i){var n=(i=(1-(i=Math.sqrt(1-i)))/(1+i))*i;return e/(1+i)*(1+n*(.25+n*(.015625+1/256*n)))*t.EL},t.EL=1.5707963267948966,t.JC=3552713678800501e-30,t}()}(J||(J={})),function(t){var e=function(t){this.Wf=t,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};t.DY=e;var i=function(){function i(t){void 0===t&&(t=null),this.Cj=null,this.Un=!1,null!==t&&(this.Cj=new e(t))}return i.prototype.Ec=function(){return null!=this.Cj?this.Cj.Kk:0},i.prototype.Of=function(){var t=new i;return this.copyTo(t),t},i.prototype.copyTo=function(t){t.Cj=this.Cj,t.Un=this.Un},i.prototype.Qz=function(){this.Un=!this.Un},i.prototype.qm=function(){return null!=this.Cj?this.Cj.Wf:null},i.prototype.LJ=function(i){if(0>=i)throw t.i.N();if(i!=this.Ec()){if(null==(i=t.pf.geogtran(i)))throw t.i.N("Geogtran not found.");this.Cj=new e(i)}},i.prototype.Bz=function(){return null==this.Cj?null:this.Cj.Wf.toString()},i.prototype.tX=function(i){if(null==i)throw t.i.N();var n=null;try{n=t.pf.fromString(t.Sc.PE_TYPE_GEOGTRAN,i)}catch(r){throw t.i.N()}this.Cj=new e(n)},i.prototype.Nb=function(t){return t==this||!(!(t instanceof i)||(0>=this.Ec()||this.Ec()!=t.Ec())&&!this.qm().isEqual(t.qm()))&&this.Un==t.Un},i.prototype.toString=function(){var t="GeographicTransformation: "+this.Bz();return 200<t.length?t.substring(0,197)+"... ("+t.length.toString()+" characters)":t},i.create=function(t,e){var n=new i;return n.LJ(t),e&&n.Qz(),n},i.uP=function(t,e){var n=new i;return n.tX(t),e&&n.Qz(),n},i}();t.Dx=i}(J||(J={})),function(t){var e=function(){function t(){}return t.construct=function(e,i,n,r){var s=new t;return s.hw=e,s.iw=i,s.QY=n,s.RY=r,s},t.Ey=function(t,e){return t.hw==e.hw?t.iw==e.iw?0:t.iw<e.iw?-1:1:t.hw<e.hw?-1:1},t}(),i=function(){function t(){this.yT=[],this.zT=[],this.qp()}return t.kz=function(){return null==t.jK&&(t.jK=new t),t.jK},t.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},t.prototype.iD=function(t){try{var i=[];i=i.sort(e.Ey);for(var n=0;n<i.length;n++)t.push(i[n])}catch(r){}},t}();t.CY=i}(J||(J={})),function(t){var e=function(){function t(){}return t.prototype.yD=function(t){this.Fk=t},t.prototype.WM=function(t){this.Fb=t},t.prototype.xD=function(t){this.zo=t},t.CE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType())},t.AE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType()||20>t.I())},t.BE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType()||20>t.I())},t}();t.Uk=e}(J||(J={})),function(t){t.$b=function(){function e(){}return e.TT=function(e){var i=new t.Da;return i.sx(e.es(),e.gs()),i.yj(e.es(),e.fs()),i.yj(e.ds(),e.fs()),i.yj(e.ds(),e.gs()),i},e.zh=function(e,i){return null===e?null:t.Hx.local().V(e,i,null)},e.jY=function(e,i){var n=t.Gh.local();return e=new t.Zc(e),n.V(e,i,null).next()},e.im=function(e,i,n){return t.kp.local().V(e,i,n,null)},e.ep=function(e,i,n){return t.Kx.local().V(e,i,n,null)},e.VX=function(e,i,n){var r=t.Kx.local();for(e=new t.Zc(e),i=new t.Zc(i),n=r.V(e,i,n,null),r=[];null!=(i=n.next());)r.push(i);return r},e.Nb=function(e,i,n){return t.dj.local().V(3,e,i,n,null)},e.TP=function(e,i,n){return t.dj.local().V(4,e,i,n,null)},e.RS=function(e,i,n){var r=t.Xj.local();for(e=new t.Zc(e),i=new t.Zc(i),n=r.V(e,i,n,null),r=[];null!=(i=n.next());)r.push(i);return r},e.QP=function(e,i,n){var r=t.kp.local();for(e=new t.Zc(e),i=new t.Zc(i),n=r.V(e,i,n,null),r=[];null!=(i=n.next());)r.push(i);return r},e.Ea=function(e,i,n){return t.Xj.local().V(e,i,n,null)},e.QS=function(e,i,n){if(null===(e=t.Xj.local().V(e,i,n,null,1)))return[];if(550===e.getType()){for(i=[],n=0;n<e.wa;n++)i.push(e.KR(n));return i}return 33===e.getType()?[e]:[]},e.qY=function(e,i,n){return t.dj.local().V(2,e,i,n,null)},e.contains=function(e,i,n){return t.dj.local().V(1,e,i,n,null)},e.BP=function(e,i,n){return t.dj.local().V(16,e,i,n,null)},e.touches=function(e,i,n){return t.dj.local().V(8,e,i,n,null)},e.DU=function(e,i,n){return t.dj.local().V(32,e,i,n,null)},e.TS=function(e,i,n){return t.dj.local().V(1073741824,e,i,n,null)},e.yB=function(e,i,n,r){return t.zL.local().V(e,i,n,r,null)},e.tb=function(e,i,n,r){var s=null;if(null!=n){if(s=n.Hd(),null!=r&&s.Ec()!=r.Ec()&&s.od!=r.od)throw t.i.Xk()}else if(null!=r)throw t.i.N();return e=t.rL.local().V(e,i,null),null!==s&&null!==r&&(e=t.Tc.Nh(e,s,r)),e},e.clip=function(e,i,n){return t.kL.local().V(e,t.l.construct(i.es(),i.gs(),i.ds(),i.fs()),n,null)},e.dl=function(e,i,n){if(null==e||null==i)return null;for(e=t.mL.local().V(!0,e,i,n,null),i=[];null!=(n=e.next());)n.B()||i.push(n);return i.slice(0)},e.MN=function(i,n,r,s,o,a,h,l){if(!0===o)return e.NN(i,n,r,s,a,h,l);if(o=r,null!=n){if(h=n.Hd(),null!=s&&h.Ec()!=s.Ec()){if(h.od!=s.od)throw t.i.Xk();o=[],t.Tc.XE(r,r.length,s,h,o)}}else if(null!=s)throw t.i.N();if(r=t.AC.local(),a){for(i=new t.Zc(i),n=r.V(i,n,o,a,null),i=[];null!=(a=n.next());)i.push(a);a=i.slice(0)}else for(a=[],s=0;s<i.length;s++)a[s]=r.V(i[s],n,o[s],null);return a},e.NN=function(e,i,n,r,s,o,a){if(null===i)throw t.i.N();if(null==r&&(r=4326!==i.Ec()?i.Hd():t.Tc.Zg(9001)),0!==r.od)throw t.i.N();if(t.Tc.XE(n,n.length,r,t.Tc.Zg(9001),n),r=t.FC.local(),s){for(e=new t.Zc(e),i=r.V(e,i,o,n,a,!1,s,null),n=[];null!=(o=i.next());)n.push(o);s=n.slice(0)}else{s=[];for(var h=0;h<e.length;h++)s[h]=r.V(e[h],i,o,n[h],a,!1,null)}return s},e.buffer=function(e,i,n,r,s,o,a){var h=n;if(!1===s){if(null!=i){if(s=i.Hd(),null!=r&&s.Ec()!=r.Ec()){if(s.od!=r.od)throw t.i.Xk();h=t.Tc.Nh(n,r,s)}}else if(null!=r)throw t.i.N();e=t.AC.local().V(e,i,h,null)}else{if(null===i)throw t.i.N();if(null==r&&(r=4326!==i.Ec()?i.Hd():t.Tc.Zg(9001)),0!==r.od)throw t.i.N();h=t.Tc.Nh(n,r,t.Tc.Zg(9001)),e=t.FC.local().V(e,i,o,h,a,!1,null)}return e},e.BU=function(e,i,n,r,s,o,a){if(null!=i){var h=i.Hd();if(null!=a&&h.Ec()!=a.Ec()){if(h.od!=a.od)throw t.i.Xk();n=t.Tc.Nh(n,a,h)}}else if(null!=a)throw t.i.N();for(e=new t.Zc(e),i=t.IC.local().V(e,i,n,r,s,o,null),n=[];null!=(r=i.next());)n.push(r);return n.slice(0)},e.offset=function(e,i,n,r,s,o,a){if(null!=i){var h=i.Hd();if(null!=a&&h.Ec()!=a.Ec()){if(h.od!=a.od)throw t.i.Xk();n=t.Tc.Nh(n,a,h)}}else if(null!=a)throw t.i.N();return t.IC.local().V(e,i,n,r,s,o,null)},e.iP=function(e){return t.CC.local().V(e,null)},e.jP=function(e,i){var n=t.CC.local();for(e=new t.Zc(e),i=n.V(e,i,null),n=[];null!=(e=i.next());)n.push(e);return n},e.nz=function(e,i,n){return t.Ix.local().nz(e,i,n)},e.oz=function(e,i){return t.Ix.local().oz(e,i)},e.pz=function(e,i,n,r){return t.Ix.local().pz(e,i,n,r)},e.eC=function(e,i){return t.Yl.local().V(e,i,!1,null)},e.dT=function(e,i){return t.Yl.local().rs(e,i,null)},e.QQ=function(e,i,n,r,s){var o=t.EC.local();if(null!=i){if(i=i.Hd(),null!=s&&i.Ec()!=s.Ec()){if(i.od!=s.od)throw t.i.Xk();n=t.Tc.Nh(n,s,i)}}else if(null!=s)throw t.i.N();return o.V(e,n,r,null)},e.Qr=function(e,i,n,r){var s=t.Xl.local();if(null!=i){if(i=i.Hd(),null!=r&&i.Ec()!=r.Ec()){if(i.od!=r.od)throw t.i.Xk();n=t.Tc.Nh(n,r,i)}}else if(null!=r)throw t.i.N();return s.V(e,n,null)},e.Wy=function(e,i,n,r,s){void 0===s&&(s=0);var o=t.tL.local();if(4==s)throw t.i.Ie();if(0!==s)throw t.i.Ie();if(null!==r){if(0!==r.od)throw t.i.N("Unit must be a linear unit type");n=t.Tc.Nh(n,r,t.Tc.Zg(9001))}return o.V(e,n,i,s,null)},e.WQ=function(i,n,r,s){if(null===i)return 0;if(4==s)throw t.i.Ie();if(0!==s)throw t.i.Ie();if(197==i.getType())i=e.TT(i);else if(1736!=i.getType())return 0;if(s=t.cb.sc(n),i=t.cb.zh(i,n,s),i=t.UK.XQ([i])[0],null!==r){if(2!==r.od)throw t.i.N("Unit must be a area unit type");i=t.Tc.Nh(i,t.Tc.Zg(109404),r)}return i},e.ZQ=function(e,i,n,r){if(e=t.vL.local().V(e,i,r,null),null!==n){if(0!==n.od)throw t.i.N("Unit must be a linear unit type");e=t.Tc.Nh(e,t.Tc.Zg(9001),n)}return e},e.JU=function(e,i,n){if(null===e)return 0;var r=null;if(null!=i){if(0==(r=i.Hd()).od&&null==(r=t.Tc.aG(r))&&null!==n)throw t.i.N();if(null!=n&&r.Ec()!=n.Ec()&&r.od!=n.od)throw t.i.Xk()}else if(null!=n)throw t.i.N();return 1736==e.getType()||197==e.getType()?(e=e.Ke(),null!==n?t.Tc.Nh(e,r,n):e):0},e.KU=function(e,i,n){if(null===e||e.B()||1>e.Db())return 0;var r=null;if(null!=i){if(r=i.Hd(),null!=n&&r.Ec()!=n.Ec()&&r.od!=n.od)throw t.i.Xk()}else if(null!=n)throw t.i.N();1736==e.getType()||197==e.getType()?i=e.mg():t.aa.yd(e.getType())?(i=new t.Ta(e.description)).oc(e,!0):i=e,e=0,i=i.Ga();for(var s=new t.h,o=new t.h;i.$a();)for(;i.Ha();){var a=i.ha();a.Yp(s),a.Tr(o),e+=t.h.tb(s,o)}return null!==r&&null!==n&&(e=t.Tc.Nh(e,r,n)),e},e.fP=function(t){return void 0!==t.points?e.mS(t,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM):void 0!==t.rings?e.lG(t.rings,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM,"P"):void 0!==t.paths?e.lG(t.paths,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM,"L"):void 0!==t.x?e.nS(t):void 0!==t.xmin?e.lS(t):null},e.nS=function(e){if(null==e.x||"NaN"==e.x)return new t.Sa;var i=new t.Sa(e.x,e.y);return void 0!==e.z&&null!==e.z&&i.wX(e.z),void 0!==e.m&&null!==e.m&&i.hX(e.m),i},e.lS=function(e){if(null==e.xmin||"NaN"==e.xmin)return new t.Fh;var i=new t.Fh(e.xmin,e.ymin,e.xmax,e.ymax);return void 0!==e.zmin&&null!==e.zmin&&i.setInterval(1,0,e.zmin,e.zmax),void 0!==e.mmin&&null!==e.mmin&&i.setInterval(2,0,e.mmin,e.mmax),i},e.mS=function(e,i,n){var r=0,s=new t.de,o=3*e.points.length;0!=o%2&&o++,2>o&&(o=2);var a=t.O.truncate(3*e.points.length/2);4>a?a=4:16>a&&(a=16),o=t.Yc.Dn(o,0);var h=t.Yc.Dn(a);a=t.Yc.Dn(a);for(var l=0;l<e.points.length;l++)o.write(2*l,e.points[l][0]),o.write(2*l+1,e.points[l][1]),h.write(l,i||n?e.points[l][2]:NaN),a.write(l,n&&i?e.points[l][3]:NaN),r++;return 0!=r&&(s.resize(r),s.hn(0,o)),i&&(s.re(1),s.hn(1,h)),n&&(s.re(2),s.hn(2,0==i?h:a)),s.Pc(16777215),s},e.lG=function(e,i,n,r){var s=0,o=2;if("P"==r){var a=new t.Da;s=1,o=3}else a=new t.Ta;for(var h=t.Yc.Oh(0),l=t.Yc.Mr(0),u=0,c=0,f=[],p=[],d=0;d<e.length;d++){var v=e[d].length;if(f[d]=!1,"P"===r&&e[d][0][0]===e[d][e[d].length-1][0]&&e[d][0][1]===e[d][e[d].length-1][1]){var g=0==n||e[d][0][3]===e[d][e[d].length-1][3]||void 0===e[d][0][3]&&void 0===e[d][e[d].length-1][3];(0==i||e[d][0][2]===e[d][e[d].length-1][2]||void 0===e[d][0][2]&&void 0===e[d][e[d].length-1][2])&&g&&(f[d]=!0,--v)}v>=o?(p[d]=!1,c+=1,h.add(u),l.add(s),u+=v):p[d]=!0}for(0!=(r=3*u)%2&&r++,2>r&&(r=2),4>(d=t.O.truncate(3*u/2))?d=4:16>d&&(d=16),r=t.Yc.Dn(r,0),s=t.Yc.Dn(d),o=t.Yc.Dn(d),d=v=0;d<e.length;d++)if(!1===p[d])for(g=0;g<e[d].length;g++){var y=!1;g===e[d].length-1&&!0===f[d]&&(y=!0),y||(r.write(2*v,e[d][g][0]),r.write(2*v+1,e[d][g][1]),s.write(v,i||n?e[d][g][2]:NaN),o.write(v,n&&i?e[d][g][3]:NaN),v++)}return 0!=u&&(e=a,h.resize(c),l.resize(c),0<u&&(h.add(u),l.add(0)),e.hn(0,r),e.PJ(l),e.QJ(h)),i&&(a.re(1),a.hn(1,s)),n&&(a.re(2),a.hn(2,0==i?s:o)),a.Pc(16777215),a},e}()}(J||(J={})),function(t){t.Ex=function(){function t(){}return t.br=function(t){var e,i=0,n=t.length,r=t[0];for(e=0;e<n-1;e++){var s=t[e+1];i+=(s[0]-r[0])*(s[1]+r[1]),r=s}return 0<=i},t.rotate=function(e,i,n){i=i*Math.PI/180;var r=Math.cos(i),s=Math.sin(i);if(void 0!==e.paths){i={paths:[]};for(var o=0;o<e.paths.length;o++){for(var a=e.paths[o],h=[],l=0;l<a.length;l++){var u=a[l].slice(0);h.push(u);var c=r*(a[l][0]-n.x)-s*(a[l][1]-n.y)+n.x,f=s*(a[l][0]-n.x)+r*(a[l][1]-n.y)+n.y;u[0]=c,u[1]=f}i.paths.push(h),void 0!==e.hasZ&&(i.hasZ=e.hasZ),void 0!==e.hasM&&(i.hasM=e.hasM)}return i}if(void 0!==e.rings){for(i={rings:[]},o=0;o<e.rings.length;o++){a=e.rings[o],h=[];var p=t.br(a);for(l=0;l<a.length;l++)u=a[l].slice(0),h.push(u),c=r*(a[l][0]-n.x)-s*(a[l][1]-n.y)+n.x,f=s*(a[l][0]-n.x)+r*(a[l][1]-n.y)+n.y,u[0]=c,u[1]=f;t.br(h)!==p&&h.reverse(),i.rings.push(h),void 0!==e.hasZ&&(i.hasZ=e.hasZ),void 0!==e.hasM&&(i.hasM=e.hasM)}return i}if(void 0!==e.x)return i={x:r*(e.x-n.x)-s*(e.y-n.y)+n.x,y:s*(e.x-n.x)+r*(e.y-n.y)+n.y},void 0!==e.z&&(i.z=e.z),void 0!==e.m&&(i.m=e.m),void 0!==e.hasZ&&(i.hasZ=e.hasZ),void 0!==e.hasM&&(i.hasM=e.hasM),i;if(void 0!==e.points){for(i={points:[]},o=e.points,l=0;l<o.length;l++)(a=o[l].slice(0))[0]=r*(o[l][0]-n.x)-s*(o[l][1]-n.y)+n.x,a[1]=s*(o[l][0]-n.x)+r*(o[l][1]-n.y)+n.y,i.points.push(a);return void 0!==e.hasZ&&(i.hasZ=e.hasZ),void 0!==e.hasM&&(i.hasM=e.hasM),i}return null},t.JQ=function(e,i){if(void 0!==e.paths){for(var n={paths:[]},r=0;r<e.paths.length;r++){for(var s=e.paths[r],o=[],a=0;a<s.length;a++){var h=s[a].slice(0);o.push(h);var l=i.x-s[a][0];h[0]=s[a][0]+2*l}n.paths.push(o)}return void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n}if(void 0!==e.rings){for(n={rings:[]},r=0;r<e.rings.length;r++){s=e.rings[r];var u=t.br(s);for(o=[],a=0;a<s.length;a++)h=s[a].slice(0),o.push(h),l=i.x-s[a][0],h[0]=s[a][0]+2*l;t.br(o)!==u&&o.reverse(),n.rings.push(o)}return void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n}if(void 0!==e.x)return l=i.x-e.x,n={x:e.x+2*l,y:e.y},void 0!==e.z&&(n.z=e.z),void 0!==e.m&&(n.m=e.m),void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n;if(void 0!==e.points){for(n={points:[]},r=e.points,a=0;a<r.length;a++)s=r[a].slice(0),l=i.x-s[0],s[0]+=2*l,n.points.push(s);return void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n}return void 0!==e.xmin?(n={v:e.xmin,G:e.ymin,C:e.xmax,H:e.ymax},void 0!==e.zmin&&(n.zmin=e.zmin,n.zmax=e.zmax),void 0!==e.mmin&&(n.mmin=e.mmin,n.mmax=e.mmax),l=i.x-e.xmin,n.xmax=e.xmin+2*l,l=i.x-e.xmax,n.xmin=e.xmax+2*l,void 0!==e.zmin&&(n.zmin=e.zmin),void 0!==e.zmax&&(n.zmax=e.zmax),void 0!==e.mmin&&(n.mmin=e.mmin),void 0!==e.mmax&&(n.mmax=e.mmax),void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n):null},t.KQ=function(e,i){if(void 0!==e.paths){for(var n={paths:[]},r=0;r<e.paths.length;r++){for(var s=e.paths[r],o=[],a=0;a<s.length;a++){var h=s[a].slice(0);o.push(h);var l=i.y-s[a][1];h[1]=s[a][1]+2*l}n.paths.push(o)}return void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n}if(void 0!==e.rings){for(n={rings:[]},r=0;r<e.rings.length;r++){s=e.rings[r];var u=t.br(s);for(o=[],a=0;a<s.length;a++)h=s[a].slice(0),o.push(h),l=i.y-s[a][1],h[1]=s[a][1]+2*l;t.br(o)!==u&&o.reverse(),n.rings.push(o)}return void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n}if(void 0!==e.x)return l=i.y-e.y,n={y:e.y+2*l,x:e.x},void 0!==e.z&&(n.z=e.z),void 0!==e.m&&(n.m=e.m),void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n;if(void 0!==e.points){for(n={points:[]},r=e.points,a=0;a<r.length;a++)s=r[a].slice(0),l=i.y-s[1],s[1]+=2*l,n.points.push(s);return void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n}return void 0!==e.xmin?(n={v:e.xmin,G:e.ymin,C:e.xmax,H:e.ymax},void 0!==e.zmin&&(n.zmin=e.zmin,n.zmax=e.zmax),void 0!==e.mmin&&(n.mmin=e.mmin,n.mmax=e.mmax),l=i.y-e.ymin,n.ymax=e.ymin+2*l,l=i.y-e.ymax,n.ymin=e.ymax+2*l,void 0!==e.zmin&&(n.zmin=e.zmin),void 0!==e.zmax&&(n.zmax=e.zmax),void 0!==e.mmin&&(n.mmin=e.mmin),void 0!==e.mmax&&(n.mmax=e.mmax),void 0!==e.hasZ&&(n.hasZ=e.hasZ),void 0!==e.hasM&&(n.hasM=e.hasM),n):null},t}()}(J||(J={})),function(t){t.ZK=function(){function e(){}return e.Ig=function(e,i){switch(null==i&&(i=t.ee.og()),e){case 33:return new t.Sa(i);case 322:return new t.yb(i);case 197:return new t.Fh(i);case 550:return new t.de(i);case 1607:return new t.Ta(i);case 1736:return new t.Da(i);default:throw t.i.fa("invalid argument.")}},e}()}(J||(J={})),function(t){var e=function(){function e(e,i){this.Te=t.ia.qf(e,-1),this.ua=new t.au,this.wl=i}return e.prototype.AW=function(t){this.ua.At(Math.min(this.Te.size,t)),this.ua.fn(t)},e.prototype.addElement=function(e,i){if(void 0===i)return this.eN(e);i=t.O.truncate(i%this.Te.size);var n=this.Te.get(i);return-1==n&&(n=this.ua.Ph(),this.Te.set(i,n)),this.ua.addElement(n,e)},e.prototype.eN=function(e){var i=this.wl.jz(e);i=t.O.truncate(i%this.Te.size);var n=this.Te.get(i);return-1==n&&(n=this.ua.Ph(),this.Te.set(i,n)),this.ua.addElement(n,e)},e.prototype.jd=function(e,i){if(void 0===i)this.KP(e);else{i=t.O.truncate(i%this.Te.size);var n=this.Te.get(i);if(-1==n)throw t.i.N();for(var r=this.ua.rc(n),s=-1;-1!=r;){var o=this.ua.lb(r);this.ua.ja(r)==e?(this.ua.jd(n,s,r),-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(i,-1))):s=r,r=o}}},e.prototype.KP=function(e){var i=this.wl.jz(e);i=t.O.truncate(i%this.Te.size);var n=this.Te.get(i);if(-1==n)throw t.i.N();for(var r=this.ua.rc(n),s=-1;-1!=r;){var o=this.ua.lb(r);this.ua.ja(r)==e?(this.ua.jd(n,s,r),-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(i,-1))):s=r,r=o}},e.prototype.rR=function(e){return e=t.O.truncate(e%this.Te.size),-1==(e=this.Te.get(e))?-1:this.ua.rc(e)},e.prototype.ER=function(t){return this.ua.lb(t)},e.prototype.vd=function(e){var i=this.wl.jz(this.ja(e));i=t.O.truncate(i%this.Te.size);var n=this.Te.get(i);if(-1==n)throw t.i.N();for(var r=this.ua.rc(n),s=-1;-1!=r;){if(r==e)return this.ua.jd(n,s,r),void(-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(i,-1)));s=r,r=this.ua.lb(r)}throw t.i.N()},e.prototype.ja=function(t){return this.ua.ja(t)},e.prototype.clear=function(){this.Te=t.ia.qf(this.Te.size,-1),this.ua.clear()},e.prototype.size=function(){return this.ua.TF()},e}();t.dL=e}(J||(J={})),function(t){var e=function(){function e(){this.Li=new t.$c(3),this.ua=new t.$c(6),this.sT=!1,this.je=-1}return e.prototype.fl=function(t){this.Li.jd(t)},e.prototype.Pw=function(){return this.Li.Ce()},e.prototype.bv=function(t){this.ua.jd(t)},e.prototype.$A=function(){return this.ua.Ce()},e.prototype.WB=function(t,e){this.Li.S(t,1,e)},e.prototype.ex=function(t,e){this.Li.S(t,2,e)},e.prototype.gX=function(t,e){this.Li.S(t,3,e)},e.prototype.UB=function(t,e){this.ua.S(t,4,e)},e.prototype.jX=function(t,e){this.ua.S(t,3,e)},e.prototype.TJ=function(t,e){this.ua.S(t,2,e)},e.prototype.Ph=function(t){var e=this.$A();return this.ua.S(e,3,this.je),this.ua.S(e,4,0),this.ua.S(e,5,t),-1!=this.je&&this.TJ(this.je,e),this.je=e},e.prototype.bh=function(t){this.LE(t);var e=this.ua.T(t,2),i=this.ua.T(t,3);return-1!=e?this.jX(e,i):this.je=i,-1!=i&&this.TJ(i,e),this.bv(t),i},e.prototype.At=function(t){this.ua.De(t)},e.prototype.PF=function(t){return this.ua.T(t,5)},e.prototype.fX=function(t,e){this.ua.S(t,5,e)},e.prototype.addElement=function(t,e){return this.tS(t,e)},e.prototype.tS=function(t,e){var i=this.Pw();this.ex(i,-1),-1==this.ua.T(t,0)&&this.ua.S(t,0,i);var n=this.ua.T(t,1);return this.WB(i,n),-1!=n&&this.ex(n,i),this.ua.S(t,1,i),this.setData(i,e),this.UB(t,this.bs(t)+1),this.sT&&this.gX(i,t),i},e.prototype.jd=function(t,e){var i=this.we(e),n=this.lb(e);return-1!=i?this.ex(i,n):this.ua.S(t,0,n),-1!=n?this.WB(n,i):this.ua.S(t,1,i),this.fl(e),this.UB(t,this.bs(t)-1),n},e.prototype.fn=function(t){this.Li.De(t)},e.prototype.getData=function(t){return this.Li.T(t,0)},e.prototype.setData=function(t,e){this.Li.S(t,0,e)},e.prototype.lb=function(t){return this.Li.T(t,2)},e.prototype.we=function(t){return this.Li.T(t,1)},e.prototype.rc=function(t){return this.ua.T(t,0)},e.prototype.Fc=function(t){return this.ua.T(t,1)},e.prototype.clear=function(){for(var t=this.je;-1!=t;)t=this.bh(t)},e.prototype.LE=function(t){for(var e=this.Fc(t);-1!=e;){var i=e;e=this.we(i),this.fl(i)}this.ua.S(t,0,-1),this.ua.S(t,1,-1),this.UB(t,0)},e.prototype.B=function(){return 0==this.Li.size},e.prototype.TF=function(){return this.Li.size},e.prototype.bs=function(t){return this.ua.T(t,4)},e.prototype.qz=function(t){return this.ua.T(t,3)},e}();t.jp=e}(J||(J={})),function(t){var e=function(){function e(e){void 0===e?(this.ug=new t.$c(2),this.ua=new t.$c(4),this.je=-1,this.Qv=!0):(this.ug=new t.$c(2),this.ua=new t.$c(e?4:2),this.je=-1,this.Qv=e)}return e.prototype.fl=function(t){this.ug.jd(t)},e.prototype.Pw=function(){return this.ug.Ce()},e.prototype.bv=function(t){this.ua.jd(t)},e.prototype.$A=function(){return this.ua.Ce()},e.prototype.Ph=function(){var t=this.$A();return this.Qv&&(this.ua.S(t,3,this.je),-1!=this.je&&this.ua.S(this.je,2,t),this.je=t),t},e.prototype.bh=function(t){for(var e=this.rc(t);-1!=e;){var i=e;e=this.lb(e),this.fl(i)}this.Qv&&(e=this.ua.T(t,2),i=this.ua.T(t,3),-1!=e?this.ua.S(e,3,i):this.je=i,-1!=i&&this.ua.S(i,2,e)),this.bv(t)},e.prototype.At=function(t){this.ua.De(t)},e.prototype.addElement=function(t,e){var i=this.ua.T(t,1),n=this.Pw();return-1!=i?this.ug.S(i,1,n):this.ua.S(t,0,n),this.ua.S(t,1,n),this.ug.S(n,0,e),n},e.prototype.fn=function(t){this.ug.De(t)},e.prototype.jd=function(t,e,i){-1!=e?(this.ug.S(e,1,this.ug.T(i,1)),this.ua.T(t,1)==i&&this.ua.S(t,1,e)):(this.ua.S(t,0,this.ug.T(i,1)),this.ua.T(t,1)==i&&this.ua.S(t,1,-1)),this.fl(i)},e.prototype.Hy=function(t,e){var i=this.ua.T(t,1),n=this.ua.T(e,0);-1!=n&&(-1!=i?this.ug.S(i,1,n):this.ua.S(t,0,n),this.ua.S(t,1,this.ua.T(e,1))),this.Qv&&(t=this.ua.T(e,2),i=this.ua.T(e,3),-1!=t?this.ua.S(t,3,i):this.je=i,-1!=i&&this.ua.S(i,2,t)),this.bv(e)},e.prototype.ja=function(t){return this.ug.T(t,0)},e.prototype.Sj=function(t,e){this.ug.S(t,0,e)},e.prototype.lb=function(t){return this.ug.T(t,1)},e.prototype.rc=function(t){return this.ua.T(t,0)},e.prototype.Jn=function(t){return this.ja(this.rc(t))},e.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},e.prototype.B=function(){return 0==this.ug.size},e.prototype.TF=function(){return this.ug.size},e.prototype.qz=function(t){return this.ua.T(t,3)},e}();t.au=e}(J||(J={})),function(t){t.ta=function(){function e(){}return e.Wd=function(t,e,i){return e=e.xr(),t=null!=t&&void 0!==t.Xd?t.Xd(0):0,i&&(e*=4,t*=1.1),Math.max(t,e)},e.Er=function(t){return 2*Math.sqrt(2)*t},e.rN=function(t){return Math.sqrt(2)*t},e.kj=function(i,n,r){var s=new t.l;return n.A(s),e.Wd(i,s,r)},e.wE=function(t,e,i){return e=e.Tg(1,0).xr(),t=null!=t?t.Xd(1):0,i&&(e*=4,t*=1.1),Math.max(t,e)},e.mv=function(e,i){var n=new t.l;return e.xc(n),e=new t.l,i.xc(e),n.Zb(e),n},e.YN=function(e){var i=new t.l;if(e.xc(i),i.B())return null;var n=new t.du(i,8),r=-1,s=new t.l,o=!1;do{for(var a=0,h=e.da();a<h;a++){if(e.Rj(a,s),-1==(r=n.Jz(a,s,r))){if(o)throw t.i.fa("internal error");e.yp(i,!1),o=!0,n.reset(i,8);break}o=!1}}while(o);return n},e.nE=function(e){var i=new t.l;e.xc(i);for(var n=new t.du(i,8),r=-1,s=e.Ga(),o=new t.l,a=!1;s.$a();)for(;s.Ha();){var h=s.ha(),l=s.wb();if(h.A(o),-1==(r=n.Jz(l,o,r))){if(a)throw t.i.Qa();e.yp(i,!1),a=!0,n.reset(i,8),s.Zi();break}}return n},e.jj=function(e,i){var n=new t.l;e.xc(n);for(var r=new t.du(n,8),s=-1,o=new t.l,a=e.Ga(),h=!1;a.$a();)for(;a.Ha();){var l=a.ha(),u=a.wb();if(l.A(o),o.isIntersecting(i)&&-1==(s=r.Jz(u,o,s))){if(h)throw t.i.fa("internal error.");e.yp(n,!1),h=!0,r.reset(n,8),a.Zi();break}}return r},e.oE=function(e,i){for(var n=new t.du(i,8),r=new t.h,s=!1,o=new t.l,a=0;a<e.I();a++)if(e.D(a,r),i.contains(r)&&(o.K(r),-1==n.vj(a,o))){if(s)throw t.i.Qa();s=!0,a=new t.l,e.yp(a,!1),n.reset(a,8),a=-1}return n},e.lR=function(e,i,n){var r=new t.l,s=new t.l;e.xc(r),i.xc(s),r.W(n,n),s.W(n,n);var o=new t.l;o.K(r),o.Ea(s),e=e.Ga(),i=i.Ga();var a=new t.xC;a.aC(n);var h=!1;for(a.pK();e.$a();)for(;e.Ha();)e.ha().A(r),r.isIntersecting(o)&&(h=!0,(n=new t.l).K(r),a.JD(e.wb(),n));if(a.iF(),!h)return null;for(r=!1,a.oK();i.$a();)for(;i.Ha();)i.ha().A(s),s.isIntersecting(o)&&(r=!0,(n=new t.l).K(s),a.ED(i.wb(),n));return a.hF(),r?a:null},e.mR=function(e,i,n,r,s){var o=e.getType(),a=i.getType(),h=new t.l,l=new t.l;e.xc(h),i.xc(l),h.W(n,n),l.W(n,n);var u=new t.l;u.K(h),u.Ea(l);var c=new t.xC;c.aC(n);var f=!1;c.pK();var p=0;for(n=e.da();p<n;p++)r&&1736==o&&!e.Ev(p)||(e.Rj(p,h),h.isIntersecting(u)&&(f=!0,c.JD(p,h)));if(c.iF(),!f)return null;for(e=!1,c.oK(),r=0,n=i.da();r<n;r++)s&&1736==a&&!i.Ev(r)||(i.Rj(r,l),l.isIntersecting(u)&&(e=!0,c.ED(r,l)));return c.hF(),e?c:null},e.Ru=function(e,i,n){if(e!=i)for(var r=0;r<n;r++)null==e[r]?e[r]=t.h.al(i[r]):e[r].L(i[r])},e.Jy=function(t,e,i,n){var r=0;for(n+=0;r<n;i++,r++)null==t[r]&&(t[r]=[0,0]),t[r][0]=e[i].x,t[r][1]=e[i].y},e.Iy=function(e,i,n,r){var s=i,o=0;for(i=r+i;s<i;o++,s++)null==e[s]?e[s]=t.h.construct(n[o][0],n[o][1]):e[s].ma(n[o][0],n[o][1])},e.kP=function(e,i,n){if(e!=i)for(var r=0;r<n;r++)null==e[r]?e[r]=new t.Sa(i[r]):i[r].copyTo(e[r])},e.vE=function(t,e,i,n){var r=0;return null!=t&&(r=t.Xd(0),n&&!i||null==t||(r+=1.01*t.vz(0))),i&&(e*=4,r*=1.01),Math.max(r,e)},e.ty=function(t,i,n){return e.vE(t,i.xr(),n,!1)},e.gO=function(i,n){var r=new t.l;return n.A(r),e.ty(i,r,!0)},e.uy=function(t,i){return e.vE(t,i.xr(),!1,!0)},e.Hu=function(i,n){var r=new t.l;return n.A(r),e.uy(i,r)},e.AG=function(e,i,n,r){r*=r;var s=new t.h;if(s.uc(e,i),(e=new t.h).uc(n,i),i=s.Sk(),n=e.Sk(),i<=r&&n<=r)return!0;var o=t.lc.ox(s.wi(e));return(o<=r*i||o<=r*n)&&0<=s.Qh(e)},e.dK=function(e,i,n,r){for(var s=0;s<i;s++){var o=e[s].y,a=t.O.Rk(o,n,r);a!=o&&(e[s].y=a)}},e}()}(J||(J={})),function(t){var e,i,n=function(){function t(t){this.Ya=t}return t.prototype.compare=function(t,e,i){t=t.ja(i),i=this.Ya.nk(e);var n=this.Ya.nk(t);return i<n?-1:i==n?o.gq(e)&&o.Gv(t)?-1:o.gq(t)&&o.Gv(e)?1:0:1},t}(),r=function(){function t(t){this.Ya=t}return t.prototype.nr=function(t,e,i){this.Ya.GX(i,t,e)},t.prototype.$p=function(t){return this.Ya.nk(t)},t}();(i=e||(e={}))[i.initialize=0]="initialize",i[i.pIn=1]="pIn",i[i.pL=2]="pL",i[i.pR=3]="pR",i[i.pT=4]="pT",i[i.right=5]="right",i[i.left=6]="left",i[i.all=7]="all";var s=function(){function e(){this.Ya=null,this.Qi=new t.Nc,this.hi=new t.ia(0),this.sg=[0,0]}return e.prototype.Xi=function(t,e){this.Qi.oa=t.oa-e,this.Qi.va=t.va+e,this.hi.resize(0),this.he=0,this.sg[0]=0},e.prototype.EB=function(e,i,n){if(e>i)throw t.i.N();this.Qi.oa=e-n,this.Qi.va=i+n,this.hi.resize(0),this.he=0,this.sg[0]=0},e.prototype.Uo=function(t,e){this.Qi.oa=t-e,this.Qi.va=t+e,this.hi.resize(0),this.he=0,this.sg[0]=0},e.prototype.next=function(){if(!this.Ya.lq)throw t.i.Hb();if(0>this.he)return-1;for(var e=!0;e;)switch(this.sg[this.he]){case 1:e=this.FU();break;case 2:e=this.GU();break;case 3:e=this.HU();break;case 4:e=this.IU();break;case 5:e=this.GW();break;case 6:e=this.kT();break;case 7:e=this.tN();break;case 0:e=this.Gz();break;default:throw t.i.Qa()}return-1!=this.Og?this.Mp()>>1:-1},e.construct=function(t){var i=new e;return i.Ya=t,i.hi.Jb(20),i.he=-1,i},e.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,null!=this.Ya.me&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},e.prototype.FU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.Og=this.he=-1,!1;var t=this.Ya.Np(this.Lc);return this.Qi.va<t?(t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=6),!0):t<this.Qi.oa?(t=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.Zr(t),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),!0)},e.prototype.GU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var t=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.Zr(t),this.sg[++this.he]=5),!0}return t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=(t=this.Ya.lk(this.Lc))&&this.hi.add(t),!0},e.prototype.HU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var t=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=6),!0}return t=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=(t=this.Ya.qj(this.Lc))&&this.hi.add(t),!0},e.prototype.IU=function(){if(0==this.hi.size)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var t=this.Ya.mk(this.Lc);return-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=this.Ya.qj(this.Lc)&&this.hi.add(this.Ya.qj(this.Lc)),-1!=this.Ya.lk(this.Lc)&&this.hi.add(this.Ya.lk(this.Lc)),!0},e.prototype.kT=function(){return this.Og=this.ei,-1!=this.Og&&o.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},e.prototype.GW=function(){return this.Og=this.ei,-1!=this.Og&&o.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},e.prototype.tN=function(){return this.Og=this.ei,-1!=this.Og&&o.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},e.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},e.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},e.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},e}();t.EY=s;var o=function(){function e(t){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=t,this.lq=this.Sv=!1}return e.prototype.kr=function(){this.Nk(!0)},e.prototype.Br=function(e,i){if(!this.Sv)throw t.i.Hb();this.Fj.push(new t.Nc(e,i))},e.prototype.Fp=function(){if(!this.Sv)throw t.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},e.prototype.vj=function(e){if(!this.Sf||!this.lq)throw t.i.N("invalid call");if(-1==this.kf){var i=this.Fj.length;if(this.iA){var n=new t.ia(0);n.Jb(2*i),this.bJ(n),this.$h.Jb(2*i),this.$h.resize(0),this.aJ(n),this.Km.resize(i,-1),this.Km.Wj(-1,0,i),this.iA=!1}else this.Km.Wj(-1,0,i);this.kf=this.Tu()}i=this.pG(e<<1,this.kf),n=this.$f.addElement(1+(e<<1),this.xz(i)),this.VJ(i,n),this.Km.set(e,i),this.Zv++},e.prototype.remove=function(e){if(!this.Sf||!this.lq)throw t.i.fa("invalid call");var i=this.Km.get(e);if(-1==i)throw t.i.N("the interval does not exist in the interval tree");this.Km.set(e,-1),this.Zv--;var n=this.xz(i),r=this.$f.ZR(n);this.$f.vd(this.wR(i),n),this.$f.vd(this.TR(i),n),0==(e=this.$f.size(n))&&(this.$f.MP(n),this.ZJ(r,-1)),this.Ej.jd(i),n=this.UF(r);var s=this.qj(r),o=this.lk(r);for(i=0;!(0<e||r==this.kf||-1!=s&&-1!=o);)r==this.qj(n)?-1!=s?(this.Ok(n,s),this.Uj(s,n),this.Ok(r,-1)):-1!=o?(this.Ok(n,o),this.Uj(o,n),this.Qk(r,-1)):this.Ok(n,-1):-1!=s?(this.Qk(n,s),this.Uj(s,n),this.Ok(r,-1)):-1!=o?(this.Qk(n,o),this.Uj(o,n),this.Qk(r,-1)):this.Qk(n,-1),this.Uj(r,-1),i++,r=n,e=-1!=(n=this.mk(r))?this.$f.size(n):0,s=this.qj(r),o=this.lk(r),n=this.UF(r)},e.prototype.reset=function(){if(!this.Sf||!this.lq)throw t.i.N("invalid call");this.Nk(!1)},e.prototype.size=function(){return this.Zv},e.prototype.getIterator=function(){return s.construct(this)},e.prototype.bJ=function(t){for(var e=this.Fj.length,i=0;i<2*e;i++)t.add(i);this.HX(t,2*e)},e.prototype.aJ=function(t){for(var e=NaN,i=0;i<t.size;i++){var n=t.get(i),r=this.nk(n);r!=e&&(this.$h.add(n),e=r)}},e.prototype.vS=function(){var e=this.Fj.length,i=new t.ia(0);i.Jb(2*e),this.bJ(i),this.$h.Jb(2*e),this.$h.resize(0),this.aJ(i),this.Ej.De(e),this.Ti.fn(2*e);var n=t.Yc.Oh(e);for(n.Wj(-1,0,e),this.kf=this.Tu(),e=0;e<i.size;e++){var r=i.get(e),s=n.get(r>>1);-1!=s?this.VJ(s,this.Ti.addElement(this.xz(s),r)):(s=this.pG(r,this.kf),n.set(r>>1,s))}},e.prototype.pG=function(e,i){var n=i,r=i,s=-1,o=0,a=this.$h.size-1,h=0,l=e>>1,u=NaN,c=NaN,f=!0,p=this.DR(l);for(l=this.AR(l);f;){o<a?(h=o+t.O.truncate((a-o)/2),-1==this.gz(n)&&this.FJ(n,this.$h.get(h),this.$h.get(h+1))):-1==this.gz(n)&&this.FJ(n,this.$h.get(o),this.$h.get(o));var d=this.Np(n);if(l<d)-1!=i&&(i==n?(r=n,u=d,c=-1!=(i=this.qj(n))?this.Np(i):NaN):c>d&&(d<u?this.Ok(r,n):this.Qk(r,n),this.Qk(n,i),this.Sf&&(this.Uj(n,r),this.Uj(i,n)),r=n,u=d,i=-1,c=NaN)),-1==(a=this.xR(n))&&(a=this.Tu(),this.dX(n,a)),n=a,a=h;else if(p>d)-1!=i&&(i==n?(r=n,u=d,c=-1!=(i=this.lk(n))?this.Np(i):NaN):c<d&&(d<u?this.Ok(r,n):this.Qk(r,n),this.Ok(n,i),this.Sf&&(this.Uj(n,r),this.Uj(i,n)),r=n,u=d,i=-1,c=NaN)),-1==(o=this.UR(n))&&(o=this.Tu(),this.oX(n,o)),n=o,o=h+1;else{-1==(f=this.mk(n))&&(f=this.zP(n),this.ZJ(n,f));var v=this.fN(f,e);s=this.xP(),this.qX(s,f),this.cX(s,v),n!=i&&(d<u?this.Ok(r,n):this.Qk(r,n),this.Sf&&this.Uj(n,r),-1!=i&&(c<d?this.Ok(n,i):this.Qk(n,i),this.Sf&&this.Uj(i,n))),f=!1}}return s},e.prototype.Tu=function(){return this.me.Ce()},e.prototype.zP=function(t){return this.Sf?this.$f.Pr(t):this.Ti.Ph(t)},e.prototype.xP=function(){return this.Ej.Ce()},e.prototype.Nk=function(e){e?(this.Sv=this.iA=!0,this.lq=!1,null==this.$h?this.$h=t.Yc.Oh(0):this.$h.resize(0),null==this.Fj?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?null==this.Km?(this.Km=t.Yc.Oh(0),this.$f=new t.Yj,this.$f.Vo(new n(this))):this.$f.clear():null==this.Ti?this.Ti=new t.jp:this.Ti.clear(),null==this.me?(this.Ej=new t.$c(3),this.me=new t.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},e.prototype.FJ=function(t,e,i){this.XW(t,e),this.YW(t,i)},e.prototype.Np=function(t){var e=this.gz(t);return-1==e?NaN:(e=this.nk(e))==(t=this.nk(this.gR(t)))?e:.5*(e+t)},e.prototype.XW=function(t,e){this.me.S(t,0,e)},e.prototype.YW=function(t,e){this.me.S(t,1,e)},e.prototype.dX=function(t,e){this.me.S(t,3,e)},e.prototype.oX=function(t,e){this.me.S(t,4,e)},e.prototype.ZJ=function(t,e){this.me.S(t,2,e)},e.prototype.Ok=function(t,e){this.me.S(t,5,e)},e.prototype.Qk=function(t,e){this.me.S(t,6,e)},e.prototype.Uj=function(t,e){this.me.S(t,7,e)},e.prototype.qX=function(t,e){this.Ej.S(t,0,e)},e.prototype.fN=function(t,e){return this.Sf?this.$f.addElement(e,t):this.Ti.addElement(t,e)},e.prototype.cX=function(t,e){this.Ej.S(t,1,e)},e.prototype.VJ=function(t,e){this.Ej.S(t,2,e)},e.prototype.kl=function(t){return this.Sf?this.$f.rc(t):this.Ti.rc(t)},e.prototype.Zr=function(t){return this.Sf?this.$f.Fc(t):this.Ti.Fc(t)},e.gq=function(t){return!(1&t)},e.Gv=function(t){return!(1&~t)},e.prototype.gz=function(t){return this.me.T(t,0)},e.prototype.gR=function(t){return this.me.T(t,1)},e.prototype.mk=function(t){return this.me.T(t,2)},e.prototype.xR=function(t){return this.me.T(t,3)},e.prototype.UR=function(t){return this.me.T(t,4)},e.prototype.qj=function(t){return this.me.T(t,5)},e.prototype.lk=function(t){return this.me.T(t,6)},e.prototype.UF=function(t){return this.me.T(t,7)},e.prototype.xz=function(t){return this.Ej.T(t,0)},e.prototype.wR=function(t){return this.Ej.T(t,1)},e.prototype.TR=function(t){return this.Ej.T(t,2)},e.prototype.DR=function(t){return this.Fj[t].oa},e.prototype.AR=function(t){return this.Fj[t].va},e.prototype.HX=function(e,i){null==this.Am&&(this.Am=new t.Xt);var n=new r(this);this.Am.sort(e,0,i,n)},e.prototype.GX=function(t,i,n){var r=this;t.Vd(i,n,(function(t,i){var n=r.nk(t),s=r.nk(i);return n<s||n==s&&e.gq(t)&&e.Gv(i)?-1:1}))},e.prototype.nk=function(t){var i=this.Fj[t>>1];return e.gq(t)?i.oa:i.va},e}();t.sr=o}(J||(J={})),function(t){var e=function(){function e(e){if(null==e)throw t.i.fa("Invalid arguement");this.hf=e;var i=e.nR();i.hS()?e.ef.IG()?this.lo=t.si.PannableFold:this.lo=t.si.Clip:this.lo=t.si.DontClip,i.iS()?e.Yf.IG()?this.Qm=t.si.PannableFold:this.Qm=t.si.Clip:this.Qm=t.si.DontClip,this.Bm=i.Jr,this.mH=i.Vu,e=this.hf.sH,this.aH=e.hs(2147483648),this.Uv=e.hs(1073741824)}return e.zh=function(t,e,i){return e.ww.zh(t,i)},e.Rt=function(t,e,i,n){return t.ww.Rt(e,i,n)},e.Qt=function(t,e,i,n){if(i=0>i?e.length:i,(t=t.ww.Rt(e,i,n))==i)return t;for(var r=e=0;r<i;r++){var s=n[r];s.isNaN()||(e<r&&n[e].L(s),e++)}for(;e<i;e++)n[e].Rc();return t},e.transform=function(i,n,r,s,o){if(i.isIdentity())return t.ta.kP(s,n,r),r;for(var a=[],h=0,l=0;l<r;){for(var u=Math.min(a.length,r-l),c=l,f=0;c<u;c++,f++)null==a[f]?a[f]=n[c].D():n[c].D(a[f]);var p=o?e.Qt(i,a,u,a):e.Rt(i,a,u,a);for(f=c=0;c<p;c++,f++)null==s[l]&&(s[l]=new t.Sa(n[l])),s[l].Cb(a[f]);l+=u,h+=p}return h},e.prototype.Rt=function(e,i,n){if(this.hf.isIdentity())return e!=n&&t.ta.Ru(n,e,i),i;var r=this.hf.ef,s=this.hf.Yf,o=r.Sb(),a=s.Sb();if(0==o&&o===a){var h=r.Qp();return s=h/(s=s.Qp()),(h=new t.Dd).setScale(s,s),h.eY(e,i,n),i}if(h=t.O.Fu(Math.min(i,64)),3==o){var l=r.Ji;o=(r=l.fk()).Sb(),n!=e&&t.ta.Ru(n,e,i),t.zb.$k(l,n,i,!0),l.Qt(t.bm.forward,n,i),t.zb.Zk(l,n,i,!0)}if(3==o||3===a)throw t.i.fa("image: transform_in_place_");if(2==o)this.lo==t.si.Clip?(n!=e&&t.ta.Ru(n,e,i),e=r.ml(),t.zb.OS(e,r,n,i)):(n!=e&&t.ta.Ru(n,e,i),r.Wc()&&(o=r.Xd(0),l=r.Oe(),t.zb.EX(n,i,l,o),t.zb.qF(n,i,r,0))),t.zb.IL(r,n,i,h);else for(o=r.Xd(0),l=r.Oe(),r=0;r<i;r++)t.zb.FX(e[r],l,o,n[r]);for(t.zb.GL(this.hf,n,i,h),e=0,(a=2==a)?e=s.zi():isNaN(this.Bm)||(e=this.Bm),a&&this.Qm!=t.si.Clip||t.zb.qF(n,i,s.sc(),e),a&&(t.zb.yG(n,i,s,this.Qm),t.zb.HL(s,n,i,h)),e=i,r=0;r<i;++r)n[r].isNaN()&&e--;return e},e.prototype.zh=function(e,i){if(this.hf.isIdentity()||e.B())return e;if(33==e.getType())return this.XI(e);var n=this.hf.ef,r=this.hf.Yf,s=n.Sb(),o=r.Sb();if(0==s&&s==o)return i=n.Qp(),i/=r=r.Qp(),(r=new t.Dd).setScale(i,i),(e=t.aa.jg(e)).Oc(r),e;switch(e.getType()){case 1607:case 1736:e=this.VI(e,i);break;case 550:e=this.fW(e,i);break;case 197:e=this.eW(e,i);break;default:throw t.i.fa("")}return e},e.prototype.XI=function(e){var i=e.D(),n=[];return n[0]=i,this.Rt(n,1,n),(e=new t.Sa(e)).Cb(n[0]),e},e.prototype.VI=function(e,i){if(e.tm())throw t.i.fa("curves not supported");var n=e.getType();if(1736==n)return this.gW(e,i);if(1607==n)return this.hW(e,i);throw t.i.fa("projectMultiPath")},e.prototype.gW=function(i,n){var r=this.hf.ef,s=this.hf.Yf,o=r.Sb(),a=s.Sb(),h=t.O.Fu(Math.min(i.I(),64)),l=t.Da.jg(i);3==o&&(o=(r=(i=r.Ji).fk()).Sb(),l=i.$k(l,!0),this.wp(i,t.bm.forward,l),l=i.Zk(l,!0)),i=null,3==a&&(a=(s=(i=s.Ji).fk()).Sb());var u=2==o,c=2==a,f=c?s.sc():s,p=!c&&!this.Uv;a=!1;var d=l;if(u){if((d=t.zb.UI(d,r,this.lo,n)).B())return d}else{if(l=new t.l,d.xc(l),o=r.Oe(),l.G<o.G||l.H>o.H){var v=t.l.construct(l.v-1,o.G,l.C+1,o.H);if((d=t.ri.Nu(d,v,r,NaN,0,n)).B())return d}l.R()>2*o.R()&&(d=t.zb.Hp(d,-2*o.R(),2*o.R(),r,!0,0,!0,n))}l=this.mH,(o=!isNaN(l))&&(d=t.Xl.local().V(d,l,n)),v=c?s.kk():null;var g=NaN;u&&(g=r.zi());var y=null!=s.Wr();if(this.aH)u&&(t.zb.ur(r,g,d,h),o&&(u=r.hh(),l*=(g=r.sc().hh())/u)),t.zb.tr(this.hf,d,p,h),o&&(u=r.sc().hh(),l*=(g=s.sc().hh())/u),r=d;else{var m=new t.Ta(d.description);m.DD(d),u&&(t.zb.ur(r,g,m,h),o&&(u=r.hh(),l*=(g=r.sc().hh())/u)),t.zb.tr(this.hf,m,p,h),o&&(u=r.sc().pm(),l*=(g=s.sc().pm())/u),p=NaN,c?(v=s.kk(),p=s.zi()):isNaN(this.Bm)||(p=this.Bm),u=e.tv(r)|e.tv(s),g=10*f.Xd(0),this.Uv&&(u=3,g=0),r=t.zb.UQ(d,r,m,f,p,n,u,g)}return y&&(r=t.zb.XD(r,s,n)),c&&(a||(c=f.Oe().R(),r.Tg(0,0).R()>=c-f.Xd(0)&&(f=v.getNorthPoleLocation(),c=v.getSouthPoleLocation(),d=v.getNorthPoleGeometry(),v=v.getSouthPoleGeometry(),p=0,d==t.Cg.PE_POLE_POINT&&f!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(p=1),v==t.Cg.PE_POLE_POINT&&c!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(p|=2),0!==p&&(a=!0))),r=t.zb.Mz(r,s,this.Qm,n),o&&(r=t.Xl.local().V(r,l,n)),t.zb.Lx(s,r,h)),r.B()||(a&&(r=t.Yl.local().V(r,s,!1,n)),null!=i&&(r=i.Zk(r,!1),this.wp(i,t.bm.reverse,r),r=i.$k(r,!1))),r},e.tv=function(e){if(2!=e.Sb())return 0;var i=0,n=e.kk();e=n.getNorthPoleLocation();var r=n.getSouthPoleLocation(),s=n.getNorthPoleGeometry();return n=n.getSouthPoleGeometry(),s==t.Cg.PE_POLE_POINT&&e!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(i=1),n==t.Cg.PE_POLE_POINT&&r!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(i|=2),i},e.prototype.hW=function(i,n){var r=this.hf.ef,s=this.hf.Yf,o=r.Sb(),a=s.Sb(),h=t.O.Fu(Math.min(i.I(),64)),l=t.Ta.jg(i);3==o&&(o=(r=(i=r.Ji).fk()).Sb(),l=i.$k(l,!0),this.wp(i,t.bm.forward,l),l=i.Zk(l,!0)),i=null,3==a&&(a=(s=(i=s.Ji).fk()).Sb());var u=2==o;o=(a=2==a)?s.sc():s;var c=!a&&!this.Uv;if(u){if((l=t.zb.UI(l,r,this.lo,n)).B())return l}else{var f=new t.l;l.xc(f);var p=r.Oe();if((f.G<p.G||f.H>p.H)&&(f=t.l.construct(f.v-1,p.G,f.C+1,p.H),(l=t.ri.Nu(l,f,r,NaN,0,n)).B()))return l}var d=NaN;u&&(d=r.zi()),f=null!=s.Wr(),p=this.mH;var v=!isNaN(p);if(v&&(l=t.Xl.local().V(l,p,n)),this.aH)u&&t.zb.ur(r,d,l,h),v&&(u=r.hh(),p*=(d=r.sc().hh())/u),t.zb.tr(this.hf,l,c,h),v&&(u=r.sc().hh(),p*=(d=s.sc().hh())/u),r=l;else{var g=new t.Ta(l.description);g.DD(l),u&&(t.zb.ur(r,d,g,h),v&&(u=r.hh(),p*=(d=r.sc().hh())/u)),t.zb.tr(this.hf,g,c,h),v&&(u=r.sc().hh(),p*=(d=s.sc().hh())/u),c=NaN,a?c=s.zi():isNaN(this.Bm)||(c=this.Bm),u=e.tv(r)|e.tv(s),d=10*o.Xd(0),this.Uv&&(u=3,d=0),r=t.zb.VQ(l,r,g,o,c,n,u,d)}return f&&(r=t.zb.XD(r,s,n)),a&&(r=t.zb.Mz(r,s,this.Qm,n),v&&(r=t.Xl.local().V(r,p,n)),t.zb.Lx(s,r,h)),r.B()||null!=i&&(r=i.Zk(r,!1),this.wp(i,t.bm.reverse,r),r=i.$k(r,!1)),r},e.prototype.eW=function(e,i){var n=(e.ca()+e.R())/400;return 0!=n?(n=t.Xl.local().V(e,n,i),n=this.VI(n,i),i=e.Ia(),n.bn(i)):(i=new t.Sa(e.Ip()),n=this.XI(i),i=e.Ia(),n.B()?i.Oa():(e.copyTo(i),e=n.D(),i.K(e.x,e.y,e.x,e.y))),i},e.prototype.fW=function(e,i){e=t.aa.jg(e);var n=this.hf.ef,r=this.hf.Yf,s=n.Sb(),o=r.Sb(),a=t.O.Fu(Math.min(e.I(),64));if(3==s){var h=n.Ji;s=(n=h.fk()).Sb(),e=h.Zk(e,!0),this.wp(h,t.bm.forward,e),e=h.$k(e,!0)}if(2==s){if(this.lo==t.si.Clip?e=t.Xj.local().V(e,n.ml(),n,i):n.Wc()&&(s=new t.l,e.xc(s),n.Oe().contains(s)||(this.lo==t.si.PannableFold&&(e=t.zb.lj(e,n)),t.zb.Jt(e,n.Oe(),n.Xd(0),!0),e=t.zb.Fn(e,n,0,!0,0,i))),e.B())return e;t.zb.ur(n,0,e,a)}else t.zb.Jt(e,n.Oe(),n.Xd(0),!0);return t.zb.tr(this.hf,e,!1,a),n=0,s=!1,h=null,3==o&&(s=!0,o=(r=(h=r.Ji).fk()).Sb()),(o=2==o)?n=r.zi():isNaN(this.Bm)||(n=this.Bm),o&&this.Qm!=t.si.Clip||(e=t.zb.Fn(e,r.sc(),n,!1,0,i)),o&&(e=t.zb.Mz(e,r,this.Qm,i),t.zb.Lx(r,e,a),e.B())||s&&(e=h.Zk(e,!0),this.wp(h,t.bm.reverse,e),e=h.$k(e,!0)),e},e.prototype.wp=function(e,i,n){var r=n.I();if(0!=r){for(var s=n.ub(0),o=t.O.lg(200,0),a=[],h=0;h<r;){var l=Math.min(100,r-h);s.Vw(2*h,2*l,o,2,!0);for(var u=0;u<l;++u)a[u]=t.h.construct(o[2*h],o[2*h+1]);e.Qt(i,a,l),h+=l}n.Pc(1993)}},e.Uy=function(e,i,n){if(null==e||null==i||!i.Wc())throw t.i.fa("Invalid Arguement");if(e.B())return e;var r=e.getType();return 197==r?(r=new t.Da(e.description)).ad(e,!1):t.aa.yd(r)?(r=new t.Ta(e.description)).oc(e,!0):r=e,(r=t.zb.lj(r,i)).B()?r:t.zb.Fn(r,i,0,r!=e,0,n)},e.nj=function(i,n,r,s){if(null==i||null==n||!n.Wc())throw t.i.fa("Invalid Arguement");if(i.B())return i;var o=i.getType();if(t.aa.Hc(o)){i=t.zb.lj(i,n),o=new t.l,i.A(o);for(var a=t.ta.ty(n,o,!1),h=n.gh(),l=Math.floor((o.v-h.v)/h.R())*h.R()+h.v;l<o.C;)l>o.v+a&&l<o.C-a&&(i=t.zb.uS(i,n,r,l)),l+=h.R()}else{if(197==o)return(o=new t.Da(i.description)).ad(i,!1),e.nj(o,n,r,s);if(t.aa.yd(o))return(o=new t.Ta(i.description)).oc(i,!0),e.nj(o,n,r,s)}return e.Uy(i,n,s)},e}();t.bu=e}(J||(J={})),function(t){var e=function(e){function i(i,n,r,s){var o=e.call(this)||this;return void 0===i?o.description=t.ee.og():void 0===r?o.description=i:(o.description=t.ee.og(),o.ZB(i,n),o.Ql(r,s)),o}return Q(i,e),i.prototype.getType=function(){return 322},i.prototype.Qb=function(){var t=this.sa-this.pa,e=this.na-this.la;return Math.sqrt(t*t+e*e)},i.prototype.Bi=function(t){var e=this.sa-this.pa,i=this.na-this.la;return Math.sqrt(e*e+i*i)<=t},i.prototype.Pn=function(){return!1},i.prototype.kg=function(){var e=new t.h;return e.uc(this.wc(),this.ac()),e},i.cP=function(t,e){return new i(t.x,t.y,e.x,e.y)},i.prototype.bn=function(e){e.Oa(),e.Nf(this.description);var i=new t.l;this.A(i),e.Xo(i),i=1;for(var n=this.description.Aa;i<n;i++)for(var r=this.description.kd(i),s=t.ra.Va(r);i<s;i++){var o=this.Tg(r,0);e.setInterval(r,0,o)}},i.prototype.A=function(t){t.K(this.sa,this.na,this.pa,this.la),t.normalize()},i.prototype.Qo=function(t){t.Oa(),t.Zb(this.sa,this.na,this.Od(0,1,0)),t.Zb(this.pa,this.la,this.Od(1,1,0))},i.prototype.Oc=function(e){if(e instanceof t.Dd){this.vc();var i=new t.h;i.x=this.sa,i.y=this.na,e.Eh(i,i),this.sa=i.x,this.na=i.y,i.x=this.pa,i.y=this.la,e.Eh(i,i),this.pa=i.x,this.la=i.y}else this.vc(),(i=new t.Nd).x=this.sa,i.y=this.na,i.z=this.Od(0,1,0),i=e.fp(i),this.sa=i.x,this.na=i.y,this.tn(0,1,0,i.z),i.x=this.pa,i.y=this.la,i.z=this.Od(1,1,0),i=e.fp(i),this.pa=i.x,this.la=i.y,this.tn(1,1,0,i.z)},i.prototype.Ia=function(){return new i(this.description)},i.prototype.Tx=function(t,e){return(this.pa-t-(this.sa-t))*(this.la-e+(this.na-e))*.5},i.prototype.vx=function(t){return t*this.Qb()},i.prototype.NG=function(t){return t/this.Qb()},i.prototype.DF=function(e){return t.lc.hq(this.sa,this.pa,e)},i.prototype.fR=function(e){return t.lc.hq(this.na,this.la,e)},i.prototype.dl=function(e,i){var n=new t.ig;return this.ah(e,i,n),n.get()},i.prototype.ah=function(e,i,n){if(null==n)throw t.i.N();n.Or(),(n=n.get()).Nf(this.description);var r=new t.h;this.hc(e,r),n.ZB(r.x,r.y),this.hc(i,r),n.Ql(r.x,r.y),r=1;for(var s=this.description.Aa;r<s;r++)for(var o=this.description.Ed(r),a=t.ra.Va(o),h=0;h<a;h++){var l=this.Uc(e,o,h);n.YB(o,h,l),l=this.Uc(i,o,h),n.OB(o,h,l)}},i.prototype.Uc=function(e,i,n){if(0==i)return 0==n?this.hc(e).x:this.hc(e).y;switch(t.ra.lz(i)){case 0:return.5>e?this.wv(i,n):this.gv(i,n);case 1:var r=this.wv(i,n);return i=this.gv(i,n),t.lc.hq(r,i,e);case 2:throw t.i.fa("not implemented")}throw t.i.Qa()},i.prototype.fe=function(t,e){var i=this.pa-this.sa,n=this.la-this.na,r=i*i+n*n;return 0==r?.5:(t=((t.x-this.sa)*i+(t.y-this.na)*n)/r,e||(0>t?t=0:1<t&&(t=1)),t)},i.prototype.cq=function(t,e,i,n){if(t){if(0==(t=this.la-this.na))return e==this.la?-1:0;if(0>(e=(e-this.na)/t)||1<e)return 0;null!=i&&(i[0]=this.DF(e))}else{if(0==(t=this.pa-this.sa))return e==this.pa?-1:0;if(0>(e=(e-this.sa)/t)||1<e)return 0;null!=i&&(i[0]=this.fR(e))}return null!=n&&(n[0]=e),1},i.prototype.Pe=function(t,e){var i=this.la-this.na;return 0==i?t==this.la?e:NaN:(t=(t-this.na)/i,e=this.DF(t),1==t&&(e=this.pa),e)},i.prototype.ru=function(t,e,i){return 0<=this.rp(t.x,t.y,e,i)},i.prototype.vi=function(t,e,i){return 0<=this.rp(t,e,i,!0)},i.prototype.qs=function(t,e){return this.ru(t,e,!1)},i.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var t=this.sa;this.sa=this.pa,this.pa=t,t=this.na,this.na=this.la,this.la=t,t=0;for(var e=this.description.Oq-2;t<e;t++){var i=this.ka[t];this.ka[t]=this.ka[t+e],this.ka[t+e]=i}}},i.prototype.uu=function(e,i){(i=t.h.construct(e,i)).sub(this.ac());var n=new t.h;return n.uc(this.wc(),this.ac()),(e=n.wi(i))>(i=8881784197001252e-31*(Math.abs(n.x*i.y)+Math.abs(n.y*i.x)))?-1:e<-i?1:0},i.prototype.rp=function(e,i,n,r){var s=this.sa,o=this.na,a=e-s,h=i-o;if((a=Math.sqrt(a*a+h*h))<=Math.max(n,6661338147750939e-31*a))return r&&0==a?NaN:0;if(a=e-this.pa,h=i-this.la,(a=Math.sqrt(a*a+h*h))<=Math.max(n,6661338147750939e-31*a))return r&&0==a?NaN:1;if(a=this.pa-this.sa,h=this.la-this.na,0<(r=Math.sqrt(a*a+h*h))){var l=1/r,u=e-s,c=i-o,f=u*(a*=l)+c*(h*=l),p=17763568394002505e-31*(Math.abs(u*a)+Math.abs(c*h)),d=a;if(a=-h,h=d,f<-(p=Math.max(n,p))||f>r+p)return NaN;if(Math.abs(u*a+c*h)<=Math.max(n,17763568394002505e-31*(Math.abs(u*a)+Math.abs(c*h)))&&(.5>=(a=t.O.Rk(f*l,0,1))?(h=this.sa+(this.pa-this.sa)*a,r=this.na+(this.la-this.na)*a):(h=this.pa-(this.pa-this.sa)*(1-a),r=this.la-(this.la-this.na)*(1-a)),t.h.Oy(h,r,e,i)<=n)){if(.5>a){if(t.h.Oy(h,r,s,o)<=n)return 0}else if(t.h.Oy(h,r,this.pa,this.la)<=n)return 1;return a}}return NaN},i.prototype.Nb=function(t){return null!=t&&(t==this||t.constructor===this.constructor&&this.FM(t))},i.prototype.rD=function(e,i,n){var r=n?this.sa:this.pa;n=n?this.na:this.la;var s=new t.h;return s.x=e.pa-r,s.y=e.la-n,!(i.Qh(s)>6661338147750939e-31*i.fD(s))||(s.x=e.sa-r,s.y=e.na-n,i.Qh(s)<=6661338147750939e-31*i.fD(s))},i.prototype.qD=function(e){var i=new t.h;return i.x=this.pa-this.sa,i.y=this.la-this.na,!!this.rD(e,i,!1)&&(i.Sq(),!!this.rD(e,i,!0))},i.NM=function(t,e){var i=t.uu(e.sa,e.na),n=t.uu(e.pa,e.la);return!(0>i&&0>n||0<i&&0<n)&&(i=e.uu(t.sa,t.na),n=e.uu(t.pa,t.la),!(0>i&&0>n||0<i&&0<n)&&((i=t.Qb())>(n=e.Qb())?t.qD(e):e.qD(t)))},i.LM=function(e,i,n){var r=t.h.construct(NaN,NaN),s=e.pa-e.sa,o=e.la-e.na,a=i.pa-i.sa,h=i.la-i.na,l=a*o-s*h;if(0==l)return r;var u=8881784197001252e-31*(Math.abs(a*o)+Math.abs(s*h)),c=i.sa-e.sa,f=i.na-e.na,p=a*f-c*h,d=p/l,v=Math.abs(l);return d<-(a=(8881784197001252e-31*(Math.abs(a*f)+Math.abs(c*h))*v+u*Math.abs(p))/(l*l)+2220446049250313e-31*Math.abs(d))||d>1+a||(a=(h=s*f-c*o)/l)<-(s=(8881784197001252e-31*(Math.abs(s*f)+Math.abs(c*o))*v+u*Math.abs(h))/(l*l)+2220446049250313e-31*Math.abs(a))||a>1+s||(d=t.O.Rk(d,0,1),s=t.O.Rk(a,0,1),o=e.hc(d),l=i.hc(s),(u=new t.h).uc(o,l),u.length()>n&&(u.add(o,l),u.scale(.5),d=e.fe(u,!1),s=i.fe(u,!1),e=e.hc(d),i=i.hc(s),e.sub(i),e.length()>n)||r.ma(d,s)),r},i.OM=function(t,e,n,r){var s=0;if((t.sa==e.sa&&t.na==e.na||t.sa==e.pa&&t.na==e.la)&&(s++,!r))return 1;if(t.pa==e.sa&&t.la==e.na||t.pa==e.pa&&t.la==e.la){if(2==++s)return 2;if(!r)return 1}return e.vi(t.sa,t.na,n)||e.vi(t.pa,t.la,n)||t.vi(e.sa,e.na,n)||t.vi(e.pa,e.la,n)?1:r&&0!=s||0==i.NM(t,e)?0:1},i.Zx=function(e,n,r,s,o,a){var h=0,l=e.rp(n.sa,n.na,a,!1),u=e.rp(n.pa,n.la,a,!1),c=n.rp(e.sa,e.na,a,!1),f=n.rp(e.pa,e.la,a,!1);return isNaN(l)||(null!=s&&(s[h]=l),null!=o&&(o[h]=0),null!=r&&(r[h]=t.h.construct(n.sa,n.na)),h++),isNaN(u)||(null!=s&&(s[h]=u),null!=o&&(o[h]=1),null!=r&&(r[h]=t.h.construct(n.pa,n.la)),h++),2==h||isNaN(c)||0==l&&0==c||0==u&&1==c||(null!=s&&(s[h]=0),null!=o&&(o[h]=c),null!=r&&(r[h]=t.h.construct(e.sa,e.na)),h++),2==h||isNaN(f)||1==l&&0==f||1==u&&1==f||(null!=s&&(s[h]=1),null!=o&&(o[h]=f),null!=r&&(r[h]=t.h.construct(n.pa,n.la)),h++),0<h?(2==h&&null!=s&&s[0]>s[1]&&(e=s[0],s[0]=s[1],s[1]=e,null!=o&&(s=o[0],o[0]=o[1],o[1]=s),null!=r&&(o=t.h.construct(r[0].x,r[0].y),r[0]=r[1],r[1]=o)),h):(h=i.LM(e,n,a),isNaN(h.x)?0:(null!=r&&(r[0]=e.hc(h.x)),null!=s&&(s[0]=h.x),null!=o&&(o[0]=h.y),1))},i.prototype.eG=function(){return 0},i.prototype.op=function(){},i.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},i}(t.SC);t.yb=e}(J||(J={})),function(t){var e=function(){function t(){this.Jm=[],this.ya=-1}return t.prototype.La=function(){return this.ya},t.prototype.next=function(){if(null!=this.Jm&&0!=this.Jm.length){this.ya++;var t=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),t}return this.Jm=null},t.prototype.ZX=function(t){this.Jm.push(t)},t.prototype.qe=function(){},t}();t.gL=e}(J||(J={})),function(t){var e;(e=t.SL||(t.SL={}))[e.enumFillRuleOddEven=0]="enumFillRuleOddEven",e[e.enumFillRuleWinding=1]="enumFillRuleWinding";var i=function(e){function i(i,n){var r=e.call(this)||this;if(r.xf=!1,r.Eq=null,r.sq=0,r.rq=0,r.Aj=null,r.Mg=!1,r.nb=null,r.mb=null,r.Ve=null,r.Lj=null,r.Sd=null,r.tq=0,r.gb=0,r.xq=0,void 0===n)r.xf=i,r.Mg=!1,r.tq=0,r.sq=0,r.rq=0,r.wa=0,r.description=t.ee.og();else{if(null==n)throw t.i.N();r.xf=i,r.Mg=!1,r.tq=0,r.sq=0,r.rq=0,r.wa=0,r.description=n}return r.Aj=null,r.gb=0,r}return Q(i,e),i.prototype.tm=function(){return 0<this.tq},i.prototype.Yx=function(){this.vc(),null==this.Eq?this.Eq=new t.Sa(this.description):this.Eq.Nf(this.description)},i.prototype.sx=function(e,i){var n=new t.h;n.x=e,n.y=i,this.Lt(n)},i.prototype.Lt=function(t){this.Yx(),this.Eq.Cb(t),this.Mg=!0},i.prototype.nf=function(e){if(e.B())throw t.i.N();this.Jl(e.description),this.Yx(),e.copyTo(this.Eq),this.Mg=!0},i.prototype.Sx=function(){var e=1;this.Mg&&(this.Yx(),null==this.nb?(this.nb=t.Yc.Oh(2),this.nb.write(0,0),this.mb=t.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),e++);var i=this.wa;this.nb.write(this.nb.size-1,this.wa+e),this.dm(i+e),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(i,this.Eq),this.Mg=!1)},i.prototype.yj=function(t,e){this.Sx(),this.Cb(this.wa-1,t,e)},i.prototype.Ci=function(t){this.Sx(),this.Cb(this.wa-1,t)},i.prototype.lineTo=function(t){this.Sx(),this.Ht(this.wa-1,t)},i.prototype.CU=function(e){if(this.vc(),this.xf)throw t.i.Qa();var i=this.da();if(e>i)throw t.i.Qa();if(this.dc(e)){if(null==this.mb)throw t.i.Qa();var n=this.wa,r=this.Ba(e),s=this.Vc(e);this.dm(this.wa+1),this.mc();for(var o=0,a=this.description.Aa;o<a;o++)if(null!=this.za[o]){var h=t.ra.Va(this.description.Ed(o));this.za[o].Mn(h*s,this.za[o],h*r,h,!0,1,h*n)}for(;i>e;i--)n=this.nb.read(i),this.nb.write(i,n+1);this.mb.KE(e,1)}},i.prototype.Ap=function(){if(this.wx(),void 0===t){this.Mg=!1;var t=this.da()-1}var e=this.mb.read(t);this.mb.write(t,1|e),null!=this.Ve&&(t=this.Vc(t)-1,this.Ve.write(t,1),this.Lj.write(t,-1))},i.prototype.dc=function(t){return!!(1&this.mb.read(t))},i.prototype.Nn=function(t){if(this.dc(t))return!0;var e=this.Ba(t);return!(e>(t=this.Vc(t)-1))&&(e=this.Na(e),t=this.Na(t),e.qb(t))},i.prototype.yv=function(t){return!!(2&this.mb.read(t))},i.prototype.oc=function(e,i){if(this.Jl(e.description),322!=e.getType())throw t.i.Qa();var n=new t.Sa;(i||this.B())&&(e.To(n),this.nf(n)),e.Po(n),this.lineTo(n)},i.prototype.tp=function(t){var e=0==this.wa;this.sx(t.v,t.G),this.yj(t.v,t.H),this.yj(t.C,t.H),this.yj(t.C,t.G),this.Ap(),this.Mg=!1,e&&this.Lf(256,!1)},i.prototype.ad=function(e,i){if(!e.B()){for(var n=0==this.wa,r=new t.Sa(this.description),s=0;4>s;s++)e.Hf(i?4-s-1:s,r),0==s?this.nf(r):this.lineTo(r);this.Ap(),this.Mg=!1,n&&!i&&this.Lf(256,!1)}},i.prototype.add=function(t,e){for(var i=0;i<t.da();i++)this.addPath(t,i,!e)},i.prototype.addPath=function(t,e,i){this.vf(-1,t,e,i)},i.prototype.Yk=function(t,e){this.Hz(t,e)},i.prototype.Dr=function(e,i,n,r,s){if(s||0!=this.da()||(s=!0),0>i&&(i=e.da()-1),i>=e.da()||0>n||0>r||r>e.rv(i))throw t.i.fa("index out of bounds");if(0!=r){var o=e.dc(i)&&n+r==e.rv(i);if(!o||1!=r){if(this.Mg=!1,this.Jl(e.description),n=e.Ba(i)+n+1,s&&(r++,n--),o&&r--,o=this.wa,this.dm(this.wa+r),this.mc(),s){if(0==r)return;this.nb.add(this.wa),s=e.mb.read(i),s&=-5,this.xf&&(s|=1),this.mb.write(this.mb.size-1,s),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);s=0;for(var a=this.description.Aa;s<a;s++){var h=this.description.kd(s),l=t.ra.Va(h),u=e.description.Pf(h);0>u||null==e.za[u]?this.za[s].Ln(l*o,t.ra.se(h),r*l,l*o):this.za[s].Mn(l*o,e.za[u],l*n,r*l,!0,l,l*o)}if(this.tm())throw t.i.Qa();if(e.yv(i))throw t.i.Qa();this.Pc(1993)}}},i.prototype.oJ=function(){for(var t=0,e=this.da();t<e;t++)this.FW(t)},i.prototype.FW=function(e){if(this.mc(),e>=this.da())throw t.i.N();var i=this.Ba(e),n=this.Ja(e);e=this.dc(e)?1:0;for(var r=0,s=this.description.Aa;r<s;r++)if(null!=this.za[r]){var o=t.ra.Va(this.description.Ed(r));this.za[r].ni(o*(i+e),o*(n-e),o)}this.Pc(1993)},i.prototype.Zq=function(e){this.mc();var i=this.da();if(0>e&&(e=i-1),e>=i)throw t.i.N();for(var n=this.Ba(e),r=this.Ja(e),s=0,o=this.description.Aa;s<o;s++)if(null!=this.za[s]){var a=t.ra.Va(this.description.Ed(s));this.za[s].En(a*n,a*r,a*this.wa)}for(n=e+1;n<=i;n++)s=this.nb.read(n),this.nb.write(n-1,s-r);if(null==this.mb)for(n=e+1;n<=i;n++)e=this.mb.read(n),this.mb.write(n-1,e);this.nb.resize(i),this.mb.resize(i),this.wa-=r,this.Pg-=r,this.Pc(1993)},i.prototype.vf=function(e,i,n,r){if(i==this)throw t.i.N();if(n>=i.da())throw t.i.N();var s=this.da();if(e>s)throw t.i.N();0>e&&(e=s),0>n&&(n=i.da()-1),this.Mg=!1,this.Jl(i.description),i.mc();var o=i.Ba(n),a=i.Ja(n),h=this.wa,l=i.dc(n)&&!r?1:0;this.dm(this.wa+a),this.mc();for(var u=e<s?this.Ba(e):h,c=0,f=this.description.Aa;c<f;c++){var p=this.description.Ed(c),d=i.description.Pf(p),v=t.ra.Va(p);0<=d&&null!=i.za[d]?(0!=l&&this.za[c].Mn(u*v,i.za[d],v*o,v,!0,v,v*h),this.za[c].Mn((u+l)*v,i.za[d],v*(o+l),v*(a-l),r,v,v*(h+l))):this.za[c].Ln(u*v,t.ra.se(p),v*a,v*h)}for(this.nb.add(h+a),r=s;r>=e+1;r--)o=this.nb.read(r-1),this.nb.write(r,o+a);for(i.yv(n),this.mb.add(0),r=s-1;r>=e+1;r--)s=this.mb.read(r),s&=-5,this.mb.write(r+1,s);s=i.JR().read(n),s&=-5,this.xf&&(s|=1),this.mb.write(e,s)},i.prototype.Hz=function(e,i){var n=-1,r=this.da();if(n>r)throw t.i.N();0>n&&(n=r),this.Mg=!1;var s=this.wa;this.dm(this.wa+i),this.mc();var o=n<r?this.Ba(n):s;if(null!=e)this.za[0].Iz(2*o,e,0,i,!0,2*s);else{var a=t.ra.se(0);this.za[0].Ln(2*o,a,2*i,2*s)}e=1;for(var h=this.description.Aa;e<h;e++){a=this.description.kd(e);var l=t.ra.Va(a);a=t.ra.se(a),this.za[e].Ln(o*l,a,l*i,l*s)}for(this.nb.add(this.wa),s=r;s>=n+1;s--)o=this.nb.read(s-1),this.nb.write(s,o+i);for(this.mb.add(0),s=r-1;s>=n+1;s--)i=this.mb.read(s),i&=-5,this.mb.write(s+1,i);this.xf&&this.mb.write(n,1)},i.prototype.qG=function(e,i,n){var r=-1;if(0>e&&(e=this.da()),e>this.da()||r>this.Ja(e)||n>i.length)throw t.i.fa("index out of bounds");if(0!=n){e==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>r&&(r=this.Ja(e)),this.mc();var s=this.wa;this.dm(this.wa+n),this.mc();for(var o=0,a=this.description.Aa;o<a;o++){var h=this.description.Ed(o),l=t.ra.Va(h);this.za[o].Ut(l*(this.Ba(e)+r+n),(s-this.Ba(e)-r)*l,this.za[o],l*(this.Ba(e)+r),!0,l),0==o?this.za[o].vC(l*(this.Ba(e)+r),n,i,0,!0):this.za[o].Wj(t.ra.se(h),(this.Ba(e)+r)*l,n*l)}for(this.tm()&&(this.Ve.Ut(this.Ba(e)+r+n,s-this.Ba(e)-r,this.Ve,this.Ba(e)+r,!0,1),this.Lj.Ut(this.Ba(e)+r+n,s-this.Ba(e)-r,this.Lj,this.Ba(e)+r,!0,1),this.Ve.Wj(1,this.Ba(e)+r,n),this.Lj.Wj(-1,this.Ba(e)+r,n)),e+=1,i=this.da();e<=i;e++)this.nb.write(e,this.nb.read(e)+n)}},i.prototype.wf=function(e,i,n){var r=this.da();if(0>e&&(e=this.da()),e>=r||i>this.Ja(e))throw t.i.fa("index out of bounds");e==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>i&&(i=this.Ja(e));var s=this.wa;this.dm(this.wa+1),this.mc();var o=this.Ba(e);this.za[0].vj(2*(o+i),n,2*s),n=1;for(var a=this.description.Aa;n<a;n++){var h=this.description.Ed(n),l=t.ra.Va(h);this.za[n].Ln(l*(o+i),t.ra.se(h),l,l*s)}for(e+=1;e<=r;e++)this.nb.write(e,this.nb.read(e)+1)},i.prototype.DB=function(e,i){var n=this.da();if(0>e&&(e=n-1),e>=n||i>=this.Ja(e))throw t.i.fa("index out of bounds");this.mc();var r=this.Ba(e);0>i&&(i=this.Ja(e)-1),i=r+i,r=0;for(var s=this.description.Aa;r<s;r++)if(null!=this.za[r]){var o=t.ra.Va(this.description.Ed(r));this.za[r].En(o*i,o,o*this.wa)}for(;n>=e+1;n--)i=this.nb.read(n),this.nb.write(n,i-1);this.wa--,this.Pg--,this.Pc(1993)},i.prototype.uE=function(e,i,n){var r=this.Ba(e)+i;if((n=this.Ba(n)+void 0)<r||0>r||n>this.I()-1)throw t.i.N();i=0,(e=this.Ga()).Vb(r);do{for(;e.Ha()&&(r=e.ha(),e.wb()!=n);)i+=r=r.Qb();if(e.wb()==n)break}while(e.$a());return i},i.prototype.fO=function(e,i,n){if(i=this.Ba(e)+i,n=this.Ba(e)+n,0>i||n>this.I()-1)throw t.i.N();var r=this.Ga();if(i>n){if(!this.dc(e))throw t.i.N("cannot iterate across an open path");r.JB()}var s=e=0;r.Vb(i);do{s+=e,e=r.ha().Qb()}while(r.wb()!=n);return s},i.prototype.mg=function(){return t.pi.gm(this,null)},i.prototype.KS=function(e,i,n){for(var r=e;r<n-1;r++)if(this.dc(r))throw t.i.N("cannot interpolate across closed paths");if(1!=(r=this.description.Aa)){var s=this.uE(e,i,n);if(0!=s)for(var o=1;o<r;o++){var a=this.description.kd(o);if(2!=t.ra.lz(a))for(var h=t.ra.Va(a),l=0;l<h;l++)this.MS(a,e,i,n,s,l)}}},i.prototype.JS=function(e,i,n){var r=this.description.Aa;if(1!=r){var s=this.fO(e,i,n);if(0!=s)for(var o=1;o<r;o++){var a=this.description.kd(o);if(2!=t.ra.lz(a))for(var h=t.ra.Va(a),l=0;l<h;l++)this.LS(a,e,i,n,s,l)}}},i.prototype.MS=function(e,i,n,r,s,o){var a=this.Ga(),h=this.Ba(i)+n;r=this.Ba(r)+void 0,i=this.Uc(e,h,o),n=this.Uc(e,r,o);var l=i,u=0;a.Vb(h);do{if(a.Ha()){if(a.ha(),a.wb()==r)break;this.setAttribute(e,a.wb(),o,l),a.li();do{if(h=a.ha(),a.ik()==r)return;u+=h=h.Qb(),l=t.lc.hq(i,n,u/s),a.On()||this.setAttribute(e,a.ik(),o,l)}while(a.Ha())}}while(a.$a())},i.prototype.LS=function(e,i,n,r,s,o){var a=this.Ga(),h=this.Ba(i)+n;if((i=this.Ba(i)+r)!=h){r=this.Uc(e,h,o),n=this.Uc(e,i,o);var l=0;a.Vb(h),a.JB(),h=r;do{var u=a.ha();this.setAttribute(e,a.wb(),o,h),l+=h=u.Qb(),h=t.lc.hq(r,n,l/s)}while(a.ik()!=i)}},i.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},i.prototype.Oc=function(e){e instanceof t.Dd?this.YD(e,-1):this.wN(e)},i.prototype.YD=function(e,i){if(!this.B()&&!e.isIdentity()){this.mc();var n=this.za[0],r=new t.h,s=new t.h;if(0>i){var o=this.tm(),a=0;i=this.wa}else o=this.yv(i),a=this.Ba(i),i=this.Vc(i);for(;a<i;a++){if(r.x=n.read(2*a),r.y=n.read(2*a+1),o){var h=this.Lj.read(a);if(0<=h)switch(7&this.Ve.read(a)){case 2:s.x=this.Sd.read(h),s.y=this.Sd.read(h+1),e.Eh(s,s),this.Sd.write(h,s.x),this.Sd.write(h+1,s.y),s.x=this.Sd.read(h+3),s.y=this.Sd.read(h+4),e.Eh(s,s),this.Sd.write(h+3,s.x),this.Sd.write(h+4,s.y);break;case 4:throw t.i.Qa()}}e.Eh(r,r),n.write(2*a,r.x),n.write(2*a+1,r.y)}this.Pc(1993)}},i.prototype.wN=function(e){if(!this.B()){this.re(1),this.mc();for(var i=this.za[0],n=this.za[1],r=new t.Nd,s=new t.Nd,o=this.tm(),a=0;a<this.wa;a++){if(r.x=i.read(2*a),r.y=i.read(2*a+1),r.z=n.read(a),o){var h=this.Lj.read(a);if(0<=h)switch(7&this.Ve.read(a)){case 2:s.x=this.Sd.read(h),s.y=this.Sd.read(h+1),s.z=this.Sd.read(h+2),s=e.fp(s),this.Sd.write(h,s.x),this.Sd.write(h+1,s.y),this.Sd.write(h+1,s.z),s.x=this.Sd.read(h+3),s.y=this.Sd.read(h+4),s.z=this.Sd.read(h+5),s=e.fp(s),this.Sd.write(h+3,s.x),this.Sd.write(h+4,s.y),this.Sd.write(h+5,s.z);break;case 4:throw t.i.Qa()}}r=e.fp(r),i.write(2*a,r.x),i.write(2*a+1,r.y),n.write(a,r.z)}this.Pc(1993)}},i.prototype.iy=function(){null==this.nb&&(this.nb=t.Yc.Oh(1,0),this.mb=t.Yc.Mr(1,0)),null!=this.Ve&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},i.prototype.op=function(e){e.Mg=!1,e.tq=this.tq,e.xq=this.xq,e.nb=null!=this.nb?t.ia.Bn(this.nb):null,e.mb=null!=this.mb?t.pn.Bn(this.mb):null,e.Lj=null!=this.Lj?t.ia.Bn(this.Lj):null,e.Ve=null!=this.Ve?t.pn.Bn(this.Ve):null,e.Sd=null!=this.Sd?t.be.Bn(this.Sd):null,e.sq=this.sq,e.rq=this.rq,e.Aj=this.ak(1024)?null:this.Aj},i.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var e=this.Ga(),i=new t.Fx(0);e.$a();)for(;e.Ha();)i.add(e.ha().Qb());return this.sq=i.rm(),this.Lf(512,!1),i.rm()},i.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof i&&e.prototype.Nb.call(this,t)))return!1;var n=this.da();return!(n!=t.da()||null!=this.nb&&!this.nb.Nb(t.nb,0,n+1)||this.xq!=t.xq||null!=this.mb&&!this.mb.Nb(t.mb,0,n))&&e.prototype.Nb.call(this,t)},i.prototype.Ga=function(){return new t.YL(this)},i.prototype.hy=function(t){if(e.prototype.hy.call(this,t),this.tm())for(t=this.Ga();t.$a();)t.Ha()},i.prototype.yp=function(t,i){if(e.prototype.yp.call(this,t,i),this.tm())for(t=this.Ga();t.$a();)t.Ha()},i.prototype.$x=function(){this.wa=null==this.nb||0==this.nb.size?0:this.nb.read(this.nb.size-1)},i.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},i.prototype.Ev=function(t){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(t)):!!(4&this.mb.read(t)))},i.prototype.Ir=function(t){return this.xf?(this.xu(),this.Aj.read(t)):0},i.prototype.xu=function(){if(this.ak(1024)){var e=this.da();null==this.Aj?this.Aj=new t.be(e):this.Aj.size!=e&&this.Aj.resize(e),e=new t.Fx(0);for(var i=new t.Fx(0),n=new t.h,r=0,s=this.Ga();s.$a();){for(i.reset(),this.D(this.Ba(s.gb),n);s.Ha();)i.add(s.ha().Tx(n.x,n.y));e.add(i.rm());var o=r++;this.Aj.write(o,i.rm())}this.rq=e.rm(),this.Lf(1024,!1)}},i.prototype.FR=function(){if(this.xf){this.fm();for(var t=this.da(),e=0;e<t;e++)this.mb.read(e)}},i.prototype.fm=function(){if(this.ak(8)){this.xu();var e=this.da();(null==this.mb||this.mb.size<e)&&(this.mb=t.Yc.Mr(e+1));for(var i=1,n=0;n<e;n++){var r=this.Aj.read(n);0==n&&(i=0<r?1:-1),0<r*i?this.mb.zJ(n,4):this.mb.KE(n,4)}this.Lf(8,!1)}},i.prototype.sz=function(e){var i=this.gb,n=this.da();if(0<=i&&i<n){if(e<this.Vc(i)){if(e>=this.Ba(i))return i;i--}else i++;if(0<=i&&i<n&&e>=this.Ba(i)&&e<this.Vc(i))return this.gb=i}if(5>n){for(i=0;i<n;i++)if(e<this.Vc(i))return this.gb=i;throw t.i.fa("corrupted geometry")}for(i=0,--n;n>i;){var r=i+(n-i>>1);if(e<this.Ba(r))n=r-1;else{if(!(e>=(i=this.Vc(r))))return this.gb=r;i=r+1}}return this.gb=i},i.prototype.yz=function(){var t=this.I();if(!this.xf){t-=this.da();for(var e=0,i=this.da();e<i;e++)this.dc(e)&&t++}return t},i.prototype.rv=function(t){var e=this.Ja(t);return this.dc(t)||e--,e},i.prototype.Ia=function(){return new i(this.xf,this.description)},i.prototype.Db=function(){return this.xf?2:1},i.prototype.getType=function(){return this.xf?1736:1607},i.prototype.QJ=function(t){this.nb=t,this.Pc(16777215)},i.prototype.VR=function(){return this.wx(),this.Ve},i.prototype.JR=function(){return this.wx(),this.mb},i.prototype.PJ=function(t){this.mb=t,this.Pc(16777215)},i.prototype.da=function(){return null!=this.nb?this.nb.size-1:0},i.prototype.Vc=function(t){return this.nb.read(t+1)},i.prototype.Ja=function(t){return this.nb.read(t+1)-this.nb.read(t)},i.prototype.Ba=function(t){return this.nb.read(t)},i.prototype.lu=function(e,i){null==this.Bb&&(this.Bb=new t.Uk),i=t.Nx.pW(i);var n=this.Bb.Fk;if(null!=n){if(!(n.Ik<e||i>n.RR()))return!0;this.Bb.yD(null)}return n=t.Nx.create(this,e,i),this.Bb.yD(n),!0},i.prototype.cc=function(){var t=e.prototype.cc.call(this);if(!this.Ac()){var i=this.da();null!=this.nb&&this.nb.An(t,0,i+1),null!=this.mb&&this.mb.An(t,0,i)}return t},i.prototype.ZF=function(t){return null!=this.Ve?this.Ve.read(t):1},i.prototype.bc=function(e,i,n){var r=this.sz(e);if(e==this.Vc(r)-1&&!this.dc(r))throw t.i.fa("index out of bounds");this.mc();var s=this.Ve,o=1;if(null!=s&&(o=7&s.read(e)),1!==o)throw t.i.Qa();if(i.Or(),i=i.get(),n?i.Nf(t.ee.og()):i.Nf(this.description),r=e==this.Vc(r)-1&&this.dc(r)?this.Ba(r):e+1,s=new t.h,this.D(e,s),i.Dc(s),this.D(r,s),i.Qc(s),!n)for(n=1,s=this.description.Aa;n<s;n++){o=this.description.Ed(n);for(var a=t.ra.Va(o),h=0;h<a;h++){var l=this.Uc(o,e,h);i.YB(o,h,l),l=this.Uc(o,r,h),i.OB(o,h,l)}}},i.prototype.Rj=function(e,i){if(e>=this.da())throw t.i.N();if(this.B())i.Oa();else{if(this.yv(e))throw t.i.fa("not implemented");var n=this.ub(0),r=new t.h,s=new t.l;s.Oa();var o=this.Ba(e);for(e=this.Vc(e);o<e;o++)n.tc(2*o,r),s.Zb(r);i.K(s)}},i.prototype.fj=function(e){return null==this.Bb&&(this.Bb=new t.Uk),!(0==e||16>this.I()||(e=t.ta.nE(this),this.Bb.WM(e),0))},i.prototype.hM=function(){if(null==this.Bb&&(this.Bb=new t.Uk),null==this.Bb.zo){this.Bb.xD(null);var e=t.ta.YN(this);this.Bb.xD(e)}},i.prototype.Yo=function(t){this.xq=t},i.prototype.In=function(){return this.xq},i.prototype.DD=function(e){if(this==e)throw t.i.fa("MultiPathImpl.add");for(var i=this.da(),n=0;n<e.da();n++)this.addPath(e,n,!0),this.CU(i),i++},i.prototype.kO=function(e){var i=this.sz(e),n=this.Ba(i);if(n!=e){if(e>=(i=this.Vc(i))||e<n)throw t.i.fa("change_ring_start_point");for(var r=0,s=this.description.Aa;r<s;r++){var o=this.description.kd(r);o=t.ra.Va(o),this.za[r].rotate(n*o,e*o,i*o)}}},i}(t.Gx);t.Vk=i}(J||(J={})),function(t){var e=function(e){function i(i){var n=e.call(this)||this;if(void 0!==i){if(null==i)throw t.i.N();n.description=i}else n.description=t.ee.og();return n.wa=0,n}return Q(i,e),i.prototype.Ia=function(){return new i(this.description)},i.prototype.add=function(t){this.resize(this.wa+1),this.Dh(this.wa-1,t)},i.prototype.Bu=function(e,i){this.resize(this.wa+1);var n=new t.h;n.ma(e,i),this.Cb(this.wa-1,n)},i.prototype.Fd=function(e,i,n){if(n=0>n?e.I():n,0>i||i>e.I()||n<i)throw t.i.N();if(i!=n){this.Jl(e.description),n-=i;var r=this.wa;this.resize(this.wa+n),this.mc();for(var s=0,o=e.description.Aa;s<o;s++){var a=e.description.Ed(s),h=t.ra.Va(a),l=this.ub(a);a=e.ub(a),l.Mn(r*h,a,i*h,n*h,!0,1,r*h)}}},i.prototype.HD=function(e,i){var n=e.length;if(i=0>i?n:i,0>n||0>i)throw t.i.N();if(0!=i){n=i-0,i=this.wa,this.resize(this.wa+n);for(var r=0;r<n;r++)this.Cb(i+r,e[0+r])}},i.prototype.DB=function(e){if(0>e||e>=this.I())throw t.i.fa("index out of bounds");this.mc();for(var i=0,n=this.description.Aa;i<n;i++)if(null!=this.za[i]){var r=t.ra.Va(this.description.Ed(i));this.za[i].En(r*e,r,r*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},i.prototype.resize=function(t){this.dm(t)},i.prototype.op=function(){},i.prototype.Oa=function(){e.prototype.wD.call(this)},i.prototype.Oc=function(e){if(e instanceof t.Dd){if(this.B())return;this.mc();for(var i=this.za[0],n=new t.h,r=0;r<this.wa;r++)n.x=i.read(2*r),n.y=i.read(2*r+1),e.Eh(n,n),i.write(2*r,n.x),i.write(2*r+1,n.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),i=this.za[0],n=this.za[1];var s=new t.Nd;for(r=0;r<this.wa;r++){s.x=i.read(2*r),s.y=i.read(2*r+1),s.z=n.read(r);var o=e.fp(s);i.write(2*r,o.x),i.write(2*r+1,o.y),n.write(r,o.z)}}this.Pc(1993)},i.prototype.Db=function(){return 0},i.prototype.getType=function(){return 550},i.prototype.Ke=function(){return 0},i.prototype.Qb=function(){return 0},i.prototype.Nb=function(t){return t==this||t instanceof i&&e.prototype.Nb.call(this,t)},i.prototype.lW=function(e,i){var n=this.wa;if(n=Math.min(n,i+1e3),0>i||i>=this.wa||n<i||1e3!=e.length)throw t.i.N();var r=n-i,s=[];for(this.ub(0).Vw(2*i,2*r,s,0,!0),i=0;i<r;i++)e[i]=t.h.construct(s[2*i],s[2*i+1]);return n},i.prototype.$x=function(){},i.prototype.iy=function(){},i.prototype.lu=function(){return!1},i.prototype.fj=function(){return!1},i.prototype.mg=function(){return null},i}(t.Gx);t.de=e}(J||(J={})),function(t){var e;(e=t.iL||(t.iL={}))[e.NotDetermined=0]="NotDetermined",e[e.Structure=1]="Structure",e[e.DegenerateSegments=2]="DegenerateSegments",e[e.Clustering=3]="Clustering",e[e.Cracking=4]="Cracking",e[e.CrossOver=5]="CrossOver",e[e.RingOrientation=6]="RingOrientation",e[e.RingOrder=7]="RingOrder",e[e.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",e[e.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",e[e.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var i=function(){function t(t,e,i){void 0===t?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=t,this.Jo=e,this.Ko=i)}return t.prototype.Wt=function(t){this.Jj=t.Jj,this.Jo=t.Jo,this.Ko=t.Ko},t}();t.Md=i}(J||(J={})),function(t){t.O=function(){function e(){}return e.assert=function(e){if(!1===e)throw t.i.GK()},e.bK=function(t){return isNaN(t)?NaN:0===t?t:0<t?1:-1},e.Fu=function(t){var i;void 0===i&&(i=0);for(var n=[],r=0;r<t;r++)n[r]=e.lg(2,i);return n},e.lg=function(t,e){void 0===e&&(e=0);for(var i=[],n=0;n<t;n++)i[n]=e;return i},e.$u=function(t,e){var i,n;for(void 0===i&&(i=0),void 0===n&&(n=t.length-1);i<=n;i++)t[i]=e},e.Rk=function(t,e,i){return t<e?e:t>i?i:t},e.Th=function(t,e){var i=5381;return((i=((i=((i=void 0!==e?(e<<5)+e+(255&t):(i<<5)+i+(255&t))<<5)+i+(t>>8&255))<<5)+i+(t>>16&255))<<5)+i+(t>>24&255)&2147483647},e.uj=function(){throw Error("Not Implemented")},e.bB=function(t){return e.aU(t)+12345&2147483647},e.XG=function(t){var i=32,n=t%e.Qx|0,r=t/e.Qx|0;return 0==(i&=63)?t:(32>i?(t=n>>>i|r<<32-i,i=r>>i):(t=r>>i-32,i=0<=r?0:-1),i*e.Qx+(t>>>0))},e.aU=function(t){var e=1103515245;return((e-20077)*(t|=0)|0)+(20077*t|0)|0},e.truncate=function(t){return 0>t?-1*Math.floor(Math.abs(t)):Math.floor(t)},e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,e.MIN_SAFE_INTEGER=-e.MAX_SAFE_INTEGER,e.VC=65536,e.Qx=e.VC*e.VC,e}()}(J||(J={})),function(t){var e;(e=t.CL||(t.CL={}))[e.Project=0]="Project",e[e.Union=1]="Union",e[e.Difference=2]="Difference",e[e.Proximity2D=3]="Proximity2D",e[e.Relate=4]="Relate",e[e.Equals=5]="Equals",e[e.Disjoint=6]="Disjoint",e[e.Intersects=7]="Intersects",e[e.Within=8]="Within",e[e.Contains=9]="Contains",e[e.Crosses=10]="Crosses",e[e.Touches=11]="Touches",e[e.Overlaps=12]="Overlaps",e[e.Buffer=13]="Buffer",e[e.Distance=14]="Distance",e[e.Intersection=15]="Intersection",e[e.Clip=16]="Clip",e[e.Cut=17]="Cut",e[e.DensifyByLength=18]="DensifyByLength",e[e.DensifyByAngle=19]="DensifyByAngle",e[e.LabelPoint=20]="LabelPoint",e[e.GeodesicBuffer=21]="GeodesicBuffer",e[e.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",e[e.ShapePreservingDensify=23]="ShapePreservingDensify",e[e.GeodeticLength=24]="GeodeticLength",e[e.GeodeticArea=25]="GeodeticArea",e[e.Simplify=26]="Simplify",e[e.SimplifyOGC=27]="SimplifyOGC",e[e.Offset=28]="Offset",e[e.Generalize=29]="Generalize",e[e.SymmetricDifference=30]="SymmetricDifference",e[e.ConvexHull=31]="ConvexHull",e[e.Boundary=32]="Boundary",e[e.SimpleRelation=33]="SimpleRelation";var i=function(){function t(){}return t.prototype.getType=function(){return null},t.prototype.wn=function(){},t.prototype.Iu=function(){return!1},t}();t.Je=i}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 13},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n,r,s){return e instanceof t.aa?(s=new t.Zc(e),this.V(s,i,[n],!1,r).next()):!0===r?(n=new t.BC(e,i,n,!1,s),t.Gh.local().V(n,i,s)):new t.BC(e,i,n,!1,s)},i.instance=null,i}(t.Je);t.AC=e}(J||(J={})),function(t){var e=function(){function e(e,i,n,r,s){this.ya=-1,this.Rd=e,this.$z=i,this.Cs=n,this.tT=new t.l,this.tT.Oa(),this.eo=-1,this.Ub=s}return e.prototype.next=function(){for(var t;null!=(t=this.Rd.next());)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(t,this.Cs[this.eo]);return null},e.prototype.La=function(){return this.ya},e.prototype.buffer=function(e,i){return t.HK.buffer(e,i,this.$z,NaN,96,this.Ub)},e.prototype.qe=function(){},e}();t.BC=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 16},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n,r){return e instanceof t.aa?(e=new t.Zc(e),this.V(e,i,n,r).next()):new t.lL(e,i,n,r)},i.instance=null,i}(t.Je);t.kL=e}(J||(J={})),function(t){var e=function(){function e(e,i,n){if(this.ya=-1,null==e)throw t.i.N();this.$=i,this.yk=e,this.qa=t.ta.Wd(n,i,!1)}return e.prototype.next=function(){var e;return null!=(e=this.yk.next())?(this.ya=this.yk.La(),t.Ud.clip(e,this.$,this.qa,0)):null},e.prototype.La=function(){return this.ya},e.prototype.qe=function(){},e}();t.lL=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 31},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n){return e instanceof t.aa?t.DC.rE(e):new t.DC(i,e,n)},i.instance=null,i}(t.Je);t.CC=e}(J||(J={})),function(t){var e=function(){function e(e,i,n){if(this.uA=new t.Zt,this.ya=-1,null==i)throw t.i.N();this.cH=e,this.Ic=!1,this.yk=i,this.Ub=n}return e.prototype.next=function(){if(this.cH){if(!this.Ic){var t=this.dO(this.yk);return this.Ic=!0,t}return null}if(!this.Ic){if(null!=(t=this.yk.next()))return this.ya=this.yk.La(),e.rE(t);this.Ic=!0}return null},e.prototype.La=function(){return this.ya},e.prototype.dO=function(t){for(var e;null!=(e=t.next());)this.uA.Ib(e);return this.uA.cR()},e.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw t.i.fa("Invalid call for non merging convex hull.");var e=this.yk.next();if(null==e)throw t.i.fa("Expects a non-null geometry.");this.uA.Ib(e)}},e.rE=function(i){if(e.VS(i))return i;var n=i.getType();if(t.Vk.yd(n))return(n=new t.Ta(i.description)).oc(i,!0),n;if(550==n&&2==i.I()){var r=new t.Sa;return n=new t.Ta(i.description),i.ve(0,r),n.nf(r),i.ve(1,r),n.lineTo(r),n}return t.Zt.RO(i)},e.VS=function(e){if(e.B())return!0;var i=e.getType();return 33==i||197==i||!t.Vk.yd(i)&&(550==i?1==e.I():1607==i?1==e.da()&&2>=e.I():1==e.da()&&(2>=e.I()||t.Zt.JG(e,0)))},e}();t.DC=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 17},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n,r,s){return new t.nL(e,i,n,r,s)},i.instance=null,i}(t.Je);t.mL=e}(J||(J={})),function(t){var e=function(){function e(e,i,n,r,s){if(this.Tf=null,null==i||null==n)throw t.i.fa("invalid argument");this.qT=e,this.nA=i,this.lH=n,e=t.ta.mv(i,n),this.qa=t.ta.Wd(r,e,!0),this.kH=-1,this.nd=s}return e.prototype.La=function(){return 0},e.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},e.prototype.RQ=function(){if(null==this.Tf)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},e.prototype.TQ=function(){var e=new t.Ta,i=new t.Ta,n=new t.Ta;this.Tf.push(e),this.Tf.push(i);var r=[];t.LK.JK(this.qT,this.nA,this.lH,this.qa,r,this.nd);for(var s=0;s<r.length;s++){var o=r[s];if(0==o.bt)e.add(o.X,!1);else if(1==o.bt||2==o.bt)i.add(o.X,!1);else if(3==o.bt)this.Tf.push(o.X);else{if(4!=o.bt)throw t.i.fa("internal");n.add(o.X,!1)}}n.B()||e.B()&&i.B()&&!(3<=this.Tf.length)||this.Tf.push(n),e.B()&&i.B()&&3>this.Tf.length&&(this.Tf.length=0)},e.prototype.SQ=function(){var e=new t.ia(0),i=new t.gd,n=i.aF(),r=i.Ib(this.nA),s=i.Ib(this.lH),o=new t.Fg;try{o.Ft(i,this.qa,this.nd),o.dl(n,r,s,e);var a=i.Ne(r),h=new t.Da,l=new t.Da;for(this.Tf.length=0,this.Tf.push(h),this.Tf.push(l),r=0;r<e.size;r++){var u=new t.gd,c=u.Ib(a),f=u.Ib(i.Ne(e.get(r)));o.dr(u,this.nd);var p=o.Av(c,f),d=u.Ne(p);if(!d.B()){var v=i.KF(e.get(r),n);2==v?h.add(d,!1):1==v?l.add(d,!1):this.Tf.push(d);var g=new t.gd;c=g.Ib(a),f=g.Ib(i.Ne(e.get(r))),o.dr(g,this.nd),a=g.Ne(o.im(c,f))}}!a.B()&&0<e.size&&this.Tf.push(a),h.B()&&l.B()&&(this.Tf.length=0)}finally{o.Ug()}},e.prototype.qe=function(){},e}();t.nL=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 18},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n){if(e instanceof t.aa)return e=new t.Zc(e),this.V(e,i,n).next();if(0>=i)throw t.i.N();return new t.oL(e,i,n)},i.instance=null,i}(t.Je);t.Xl=e}(J||(J={})),function(t){var e=function(){function e(t,e){this.ya=-1,this.Rd=t,this.Ps=e}return e.prototype.La=function(){return this.ya},e.prototype.next=function(){var t;return null!=(t=this.Rd.next())?(this.ya=this.Rd.La(),this.NP(t)):null},e.prototype.NP=function(e){if(e.B()||1>e.Db())return e;var i=e.getType();if(1736==i||1607==i)return this.Ny(e);if(t.aa.yd(i))return this.PP(e);if(197==i)return this.OP(e);throw t.i.Qa()},e.prototype.PP=function(e){if(e.Qb()<=this.Ps)return e;var i=new t.Ta(e.description);return i.oc(e,!0),this.Ny(i)},e.prototype.OP=function(e){var i=new t.Da(e.description);i.ad(e,!1);var n=new t.l;return e.A(n),e=n.ca(),n.R()<=this.Ps&&e<=this.Ps?i:this.Ny(i)},e.prototype.Ny=function(e){for(var i=e.Ia(),n=e.Ga();n.$a();)for(var r=!0;n.Ha();){var s=n.ha();if(322!=s.getType())throw t.i.fa("not implemented");var o=n.On(),a=s.Qb();if(a>this.Ps){var h=Math.ceil(a/this.Ps);a=new t.Sa(e.description),r&&(s.To(a),i.nf(a));var l=r=1/h,u=0;for(--h;u<h;u++)s.Tw(l,a),i.lineTo(a),l+=r;o?i.Ap():(s.Po(a),i.lineTo(a))}else o?i.Ap():i.oc(s,r);r=!1}return i},e.prototype.qe=function(){},e}();t.oL=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.getType=function(){return 2},i.prototype.V=function(e,i,n,r){return e instanceof t.aa?(e=new t.Zc(e),i=new t.Zc(i),this.V(e,i,n,r).next()):new t.qL(e,i,n,r)},i.im=function(e,n,r,s){if(e.B()||n.B())return e;var o=e.Db(),a=n.Db();if(o>a)return e;var h=e.getType(),l=n.getType(),u=new t.l,c=new t.l,f=new t.l;e.A(u),n.A(c),f.K(u),f.Zb(c);var p=(f=t.ta.Wd(r,f,!0))*Math.sqrt(2)*1.00001,d=new t.l;if(d.K(u),d.W(p,p),!d.isIntersecting(c))return e;if(1==o&&2==a)return i.KV(e,n,l,r,s);if(33==h)switch(t.Vk.yd(l)?(r=new t.Ta(n.description),r.oc(n,!0)):r=n,l){case 1736:return i.XU(e,r,f);case 1607:return i.YU(e,r,f);case 550:return i.VU(e,r,f);case 197:return i.UU(e,r,f);case 33:return i.WU(e,r,f);default:throw t.i.N()}else if(550==h)switch(l){case 1736:return i.nU(e,n,f);case 197:return i.lU(e,n,f);case 33:return i.mU(e,n,f)}return t.Fg.im(e,n,r,s)},i.XU=function(e,i,n){return 0==t.hd.KG(i,e,n)?e:e.Ia()},i.YU=function(e,i,n){var r=e.D();i=i.Ga();for(var s=n*Math.sqrt(2)*1.00001,o=s*s,a=new t.l;i.$a();)for(;i.Ha();){var h=i.ha();if(h.A(a),a.W(s,s),a.contains(r)){if(h.qs(r,n))return e.Ia();var l=h.ac();if(t.h.yc(r,l)<=o)return e.Ia();if(l=h.wc(),t.h.yc(r,l)<=o)return e.Ia()}}return e},i.VU=function(e,i,n){var r=i.ub(0);i=i.I();var s=e.D(),o=new t.h;n=n*Math.sqrt(2)*1.00001,n*=n;for(var a=0;a<i;a++)if(r.tc(2*a,o),t.h.yc(o,s)<=n)return e.Ia();return e},i.UU=function(e,i,n){var r=new t.l;return i.A(r),r.W(n,n),i=e.D(),r.contains(i)?e.Ia():e},i.WU=function(e,i,n){n=n*Math.sqrt(2)*1.00001,n*=n;var r=e.D();return i=i.D(),t.h.yc(r,i)<=n?e.Ia():e},i.nU=function(e,i,n){var r=new t.l;i.A(r),r.W(n,n);for(var s=e.I(),o=!1,a=[],h=0;h<s;h++)a[h]=!1;var l=new t.h;for(h=0;h<s;h++)e.D(h,l),r.contains(l)&&0!=t.hd.Yd(i,l,n)&&(o=!0,a[h]=!0);if(!o)return e;for(i=e.Ia(),h=0;h<s;h++)a[h]||i.Fd(e,h,h+1);return i},i.lU=function(e,i,n){var r=new t.l;i.A(r),r.W(n,n),i=e.I();var s=!1;n=[];for(var o=0;o<i;o++)n[o]=!1;var a=new t.h;for(o=0;o<i;o++)e.D(o,a),r.contains(a)&&(s=!0,n[o]=!0);if(!s)return e;for(r=e.Ia(),o=0;o<i;o++)n[o]||r.Fd(e,o,o+1);return r},i.mU=function(e,i,n){var r=e.ub(0),s=e.I(),o=i.D(),a=new t.h,h=!1;i=[];for(var l=0;l<s;l++)i[l]=!1;for(n=(l=n*Math.sqrt(2)*1.00001)*l,l=0;l<s;l++)r.tc(2*l,a),t.h.yc(a,o)<=n&&(h=!0,i[l]=!0);if(!h)return e;for(r=e.Ia(),l=0;l<s;l++)i[l]||r.Fd(e,l,l+1);return r},i.KV=function(e,i,n,r,s){var o=new t.Fh;e.bn(o);var a=new t.l;return i.A(a),o.Zb(a),o.W(.1*o.R(),.1*o.ca()),(a=new t.Da).ad(o,!1),1736==n?a.add(i,!0):a.ad(i,!0),t.Xj.local().V(e,a,r,s)},i.instance=null,i}(t.Je);t.kp=e}(J||(J={})),function(t){var e=function(){function e(t,e,i,n){this.ts=null==e,this.ya=-1,this.Rd=t,this.$z=i,this.wT=e.next(),this.Ub=n}return e.prototype.next=function(){return this.ts?null:null!=(e=this.Rd.next())?(this.ya=this.Rd.La(),t.kp.im(e,this.wT,this.$z,this.Ub)):null;var e},e.prototype.La=function(){return this.ya},e.prototype.qe=function(){},e}();t.qL=e}(J||(J={})),function(t){var e=function(){function e(e){this.nd=e,this.Bj=new t.l,this.Bj.Oa(),this.oh=new t.l,this.oh.Oa()}return e.prototype.Nt=function(){var t=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=t,t=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=t,t=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=t,t=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=t},e.prototype.eQ=function(e,i){if(null!=this.nd&&!this.nd.progress(-1,-1))throw t.i.fu("user_canceled");var n=!this.Bj.isIntersecting(this.oh);return t.aa.Hc(e.getType())&&t.aa.Hc(i.getType())?e.I()>i.I()?this.gE(e,i,n):(this.Nt(),e=this.gE(i,e,n),this.Nt(),e):550==e.getType()&&t.aa.Hc(i.getType())?(e=this.hE(i,e,n),this.Nt(),e):550==i.getType()&&t.aa.Hc(e.getType())?this.hE(e,i,n):550==e.getType()&&550==i.getType()?e.I()>i.I()?this.iE(e,i):(this.Nt(),e=this.iE(i,e),this.Nt(),e):0},e.prototype.gE=function(e,i,n){var r=e.Ga(),s=i.Ga(),o=new t.l,a=new t.l,h=17976931348623157e292;if(!n&&this.pY(e,i,r,s))return 0;for(;r.$a();)for(;r.Ha();)if((e=r.ha()).A(o),!(o.px(this.oh)>h)){for(;s.$a();)for(;s.Ha();)if((i=s.ha()).A(a),o.px(a)<h&&(i=e.tb(i,n),(i*=i)<h)){if(0==i)return 0;h=i}s.Zi()}return Math.sqrt(h)},e.prototype.hE=function(e,i,n){var r=e.Ga(),s=new t.l,o=17976931348623157e292,a=new t.h,h=i.I();for(n=!n&&1736==e.getType();r.$a();)for(;r.Ha();){var l=r.ha();if(l.A(s),!(1<h&&s.px(this.oh)>o)){for(var u=0;u<h;u++){if(i.D(u,a),n&&0!=t.hd.Yd(e,a,0))return 0;var c=l.fe(a,!1);if(a.sub(l.hc(c)),(c=a.Sk())<o){if(0==c)return 0;o=c}}n=!1}}return Math.sqrt(o)},e.prototype.iE=function(e,i){for(var n,r=17976931348623157e292,s=new t.h,o=new t.h,a=e.I(),h=i.I(),l=0;l<a;l++)if(e.D(l,s),!(1<h&&this.oh.iK(s)>r))for(var u=0;u<h;u++)if(i.D(u,o),(n=t.h.yc(s,o))<r){if(0==n)return 0;r=n}return Math.sqrt(r)},e.prototype.pY=function(e,i,n,r){if(1736==e.getType()){for(;r.$a();)if(r.Ha()){var s=r.ha();if(0!=t.hd.Yd(e,s.wc(),0))return!0}r.Zi()}if(1736==i.getType()){for(;n.$a();)if(n.Ha()&&(e=n.ha(),0!=t.hd.Yd(i,e.wc(),0)))return!0;n.Zi()}return!1},e.prototype.gm=function(t,e){return t.B()||e.B()?NaN:(t.A(this.Bj),e.A(this.oh),this.eQ(t,e))},e}(),i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Q(n,i),n.prototype.V=function(i,n,r){if(null==i||null==n)throw t.i.N();if(i.B()||n.B())return NaN;var s=i.getType(),o=n.getType();if(33==s){if(33==o)return t.h.tb(i.D(),n.D());if(197==o)return r=new t.l,n.A(r),r.tb(i.D());(s=new t.de).add(i),i=s}else if(197==s){if(197==o)return o=new t.l,i.A(o),r=new t.l,n.A(r),r.tb(o);(s=new t.Da).ad(i,!1),i=s}return 33==o?((o=new t.de).add(n),n=o):197==o&&((o=new t.Da).ad(n,!1),n=o),new e(r).gm(i,n)},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.getType=function(){return 14},n.instance=null,n}(t.Je);t.rL=i}(J||(J={})),function(t){var e=function(){function e(t,e,i,n){this.zH=t,this.DH=e,this.nd=n,this.$G=i}return e.prototype.next=function(){var t=this.zH.next();return null==t?null:this.zC(t)},e.prototype.La=function(){return this.zH.La()},e.prototype.zC=function(e){var i=e.getType();if(t.aa.Rn(i))return e;if(197==i)return(i=new t.Da(e.description)).ad(e,!1),this.zC(i);if(e.B())return e;if(null==e)throw t.i.Qa();i=e.Ia();for(var n=new t.yb,r=0,s=e.da();r<s;r++)this.TK(e,r,i,n);return i},e.prototype.TK=function(e,i,n,r){if(!(2>e.Ja(i))){var s=e.Ba(i),o=e.Vc(i)-1,a=e.ub(0),h=e.dc(i),l=new t.ia(0);l.Jb(e.Ja(i)+1);var u=new t.ia(0);for(u.Jb(e.Ja(i)+1),l.add(h?s:o),l.add(s),s=new t.h;1<l.size;){var c=l.Fc();l.If();var f=l.Fc();e.D(c,s),r.Dc(s),e.D(f,s),r.Qc(s),0<=(f=this.SK(r,s,a,c,f,o))?(l.add(f),l.add(c)):u.add(c)}if(h||u.add(l.get(0)),u.size==l.size)n.addPath(e,i,!0);else if(2<=u.size&&(!this.$G||2!=u.size||!(h||t.h.tb(e.Na(u.get(0)),e.Na(u.get(1)))<=this.DH))){for(i=new t.Sa,r=0,o=u.size;r<o;r++)e.ve(u.get(r),i),0==r?n.nf(i):n.lineTo(i);h&&(this.$G||2!=u.size||n.lineTo(i),n.Ap())}}},e.prototype.SK=function(t,e,i,n,r,s){var o=r-1;for(r<=n&&(o=s),s=r=-1,n+=1;n<=o;n++){i.tc(2*n,e);var a=e.x,h=e.y;t.hc(t.fe(e,!1),e),e.x-=a,e.y-=h,(a=e.length())>this.DH&&a>s&&(r=n,s=a)}return r},e.prototype.qe=function(){},e}();t.sL=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 29},i.prototype.V=function(e,i,n,r){return e instanceof t.aa?(e=new t.Zc(e),this.V(e,i,n,r).next()):new t.sL(e,i,n,r)},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.instance=null,i}(t.Je);t.EC=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 21},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n,r,s,o,a,h){return e instanceof t.aa?(h=new t.Zc(e),this.V(h,i,n,[r],s,o,!1,a).next()):!0===a?(n=new t.GC(e,i,n,r,s,!1,!1,h),t.Gh.local().V(n,i,h)):new t.GC(e,i,n,r,s,!1,!1,h)},i.instance=null,i}(t.Je);t.FC=e}(J||(J={})),function(t){var e=function(){function e(e,i,n,r,s,o,a,h){if(o)throw t.i.Ie();if(null==i)throw t.i.N();this.ya=-1,this.Ms=e,this.vg=i,this.ze=n,this.Cs=r,this.$n=s,this.eo=-1,this.Ub=h,this.uT=new t.l,this.uT.Oa()}return e.prototype.next=function(){for(var t;null!=(t=this.Ms.next());)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(t,this.Cs[this.eo]);return null},e.prototype.La=function(){return this.ya},e.prototype.$Q=function(e,i){return t.VK.buffer(e,this.vg,this.ze,i,this.$n,this.Ub)},e.prototype.qe=function(){},e}();t.GC=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 24},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n){if(null==i)throw t.i.N();if(e.B()||1>e.Db())return 0;if(4==n)throw t.i.Ie();var r=t.cb.sc(i),s=t.cb.vv(r),o=t.cb.ev(r);s*=2-s;var a=r.Hd().ai,h=e.getType();if(1736==h||197==h)var l=e.mg();else t.aa.yd(h)?(l=new t.Ta(e.description)).oc(e,!0):l=e;if(0==r.Nb(i)){if(t.cb.Wc(i)){l=t.Hh.lj(l,i),1607==h&&l==e&&(l=t.aa.jg(e)),e=new t.Nc,t.cb.gh(i).cn(e),h=0;for(var u=l.I();h<u;h++){var c=l.Na(h);c.x=t.Hh.Zm(c.x,e),l.Cb(h,c)}}e=l.Ia(),l=t.Hh.WI(i,r,l,e)?e:t.cb.zh(l,i,r)}return this.hQ(l,n,o,s,a)},i.prototype.hQ=function(e,i,n,r,s){var o=new t.ga(0),a=0;for(e=e.Ga();e.$a();)for(;e.Ha();){var h=e.ha(),l=h.ac();h=h.wc(),l.scale(s),h.scale(s),t.kb.wd(n,r,l.x,l.y,h.x,h.y,o,null,null,i),a+=o.u}return a},i.instance=null,i}(t.Je);t.vL=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 18},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n,r,s){return e instanceof t.aa?(e=new t.Zc(e),this.V(e,i,n,r,s).next()):new t.uL(e,n,r,i,-1,-1,s)},i.instance=null,i}(t.Je);t.tL=e}(J||(J={})),function(t){var e=function(){function e(e,i,n,r,s,o){if(0<o)throw t.i.Ie();if(4!=n&&0<s)throw t.i.Ie();if(null==i)throw t.i.N();this.ya=-1,this.Ms=e,this.vg=i,this.ze=n,this.DT=r,this.CT=s}return e.prototype.next=function(){for(var t;null!=(t=this.Ms.next());)return this.ya=this.Ms.La(),this.Zy(t);return null},e.prototype.La=function(){return this.ya},e.prototype.Zy=function(e){return t.cj.Qr(e,this.vg,this.ze,this.DT,this.CT,this.Ub)},e.prototype.qe=function(){},e}();t.uL=e}(J||(J={})),function(t){!function(t){t[t.Unknown=0]="Unknown",t[t.Contains=1]="Contains",t[t.Within=2]="Within",t[t.Equals=3]="Equals",t[t.Disjoint=4]="Disjoint",t[t.Touches=8]="Touches",t[t.Crosses=16]="Crosses",t[t.Overlaps=32]="Overlaps",t[t.NoThisRelation=64]="NoThisRelation",t[t.Intersects=1073741824]="Intersects",t[t.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"}(t.cL||(t.cL={})),t.wL=function(){function e(){}return e.nW=function(e,i){var n=e.getType(),r=i.getType();if(t.aa.xj(n)){var s=e.Bb;if(null!=s&&null!=(s=s.Fk)){if(33==r){var o=i.D();s=s.So(o.x,o.y)}else o=new t.l,i.A(o),s=s.Ro(o);if(1==s)return 1;if(0==s)return 4}}if(t.aa.xj(r)&&null!=(s=i.Bb)&&null!=(s=s.Fk)){if(33==n?(e=e.D(),s=s.So(e.x,e.y)):(i=new t.l,e.A(i),s=s.Ro(i)),1==s)return 2;if(0==s)return 4}return 0},e}()}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.getType=function(){return 15},i.prototype.V=function(e,i,n,r,s){return e instanceof t.aa?(e=new t.Zc(e),i=new t.Zc(i),this.V(e,i,n,r,void 0===s?-1:s).next()):void 0===s?new t.HC(e,i,n,r,-1):new t.HC(e,i,n,r,s)},i.prototype.wn=function(e,i,n){this.Iu(e)&&(i=t.ta.kj(i,e,!1),e.fj(n)||e.lu(i,n))},i.prototype.Iu=function(e){return t.Nx.zE(e)},i.instance=null,i}(t.Je);t.Xj=e}(J||(J={})),function(t){var e=function(){function e(e,i,n,r,s){if(this.ts=null==i,this.ya=-1,this.Rd=e,this.vg=n,this.Se=i.next(),this.Dj=this.Se.getType(),this.Ub=r,this.Fi=s,-1!=this.Fi&&(0>=this.Fi||7<this.Fi))throw t.i.N("bad dimension mask")}return e.prototype.next=function(){if(this.ts)return null;if(null!=this.zw){var t=this.zw.next();if(null!=t)return t;this.zw=null}for(;null!=(t=this.Rd.next());)return this.ya=this.Rd.La(),-1==this.Fi?t=this.Ea(t):(this.zw=this.PS(t),t=this.zw.next()),t;return null},e.prototype.La=function(){return this.ya},e.prototype.Ea=function(e){var i=this.zK(e);if(null!=i)return i;i=t.ta.mv(this.Se,e);var n=t.ta.Wd(this.vg,i,!0);i=new t.l,this.Se.A(i);var r=new t.l;return e.A(r),i.W(2*n,2*n),i.Ea(r),i.W(100*n,100*n),n=t.Ud.clip(this.Se,i,0,0),e=t.Ud.clip(e,i,0,0),t.Fg.Av(e,n,this.vg,this.Ub)},e.prototype.QI=function(e,i,n){var r=0;if(1&i)null==n[0]&&(n[0]=new t.de(e)),r++;else for(var s=0;s<n.length-1;s++)n[s]=n[s+1];if(2&i)null==n[r]&&(n[r]=new t.Ta(e)),r++;else for(s=r;s<n.length-1;s++)n[s]=n[s+1];if(4&i)null==n[r]&&(n[r]=new t.Da(e)),r++;else for(s=r;s<n.length-1;s++)n[s]=n[s+1];if(3!=r){for(e=[],s=0;s<r;s++)e[s]=n[s];return new t.Zc(e)}return new t.Zc(n)},e.prototype.PS=function(e){var i=this.zK(e);if(null!=i){var n=[null,null,null];return n[i.Db()]=i,this.QI(e.description,this.Fi,n)}i=t.ta.mv(this.Se,e),n=t.ta.Wd(this.vg,i,!0),i=new t.l,this.Se.A(i),i.W(2*n,2*n);var r=new t.l;return e.A(r),i.Ea(r),i.W(100*n,100*n),n=t.Ud.clip(this.Se,i,0,0),i=t.Ud.clip(e,i,0,0),n=t.Fg.Pz(i,n,this.vg,this.Ub),this.QI(e.description,this.Fi,n)},e.prototype.zK=function(i){var n=t.ta.mv(i,this.Se),r=t.ta.Wd(this.vg,n,!0);n=i.getType();var s=i.B(),o=this.Se.B();if(!(o=s||o)){o=new t.l,i.A(o);var a=new t.l;this.Se.A(a),a.W(2*r,2*r),o=!o.isIntersecting(a)}if(!o)if(4==(a=t.wL.nW(this.Se,i)))o=!0;else{if(2&a)return this.Se;if(1&a)return i}if(o)return(r=t.aa.tf(n))<(o=t.aa.tf(this.Dj))?e.HB(i,s):r>o||0==r&&550==n&&33==this.Dj?this.nJ():e.HB(i,s);if((-1==this.Fi||4==this.Fi)&&197==n&&197==this.Dj)return r=this.Se,n=new t.l,i.A(n),s=new t.l,r.A(s),n.Ea(s),r=new t.Fh,i.copyTo(r),r.Xo(n),r;if(197==n&&0==t.aa.tf(this.Dj)||197==this.Dj&&0==t.aa.tf(n))return s=197==n?i:this.Se,i=197==n?this.Se:i,n=new t.l,s.A(n),t.Ud.clip(i,n,r,0);if(0==t.aa.tf(n)&&0<t.aa.tf(this.Dj)||0<t.aa.tf(n)&&0==t.aa.tf(this.Dj)){if(r=t.ta.kj(this.vg,i,!1),550==n||33==n)return t.Fg.zG(i,this.Se,r);if(550==this.Dj||33==this.Dj)return t.Fg.zG(this.Se,i,r);throw t.i.Qa()}return-1!=this.Fi&&2!=this.Fi||1607!=n||1736!=this.Dj?-1!=this.Fi&&2!=this.Fi||1736!=n||1607!=this.Dj?null:this.wK(this.Se,i):this.wK(i,this.Se)},e.prototype.wK=function(e,i){var n=e,r=i,s=t.ta.kj(this.vg,i,!1),o=new t.l;r.A(o);var a=new t.l;n.A(a),a.W(2*s,2*s),o.Ea(a),o.W(10*s,10*s),n=e=t.Ud.clip(e,o,0,0),a=new t.ia(0);var h=-1,l=r.Bb;if(null!=l){var u=l.Fk;if(null!=u){h=0,a.Jb(n.I()+n.da());for(var c=new t.l,f=n.Ga();f.$a();)for(;f.Ha();){f.ha().A(c);var p=u.Ro(c);1==p?a.add(1):0==p?a.add(0):(a.add(-1),h++)}}}if(5<i.I()&&(l=(r=i=t.Ud.clip(i,o,0,0)).Bb),0>h&&(h=n.yz()),o=n.I()+r.I(),h*r.I()>Math.log(o)*o*4)return null;o=null,h=r.Ga(),null!=l&&null!=l.Fb&&(o=l.Fb),null==o&&20<r.I()&&(o=t.ta.nE(r)),e=e.Ia(),r=null,l=n.Ga(),u=[0,0,0,0,0,0,0,0,0],c=new t.be(0),f=new t.ig,p=-1;for(var d=0,v=0,g=0<a.size,y=-1;l.$a();){y=l.gb;var m=0;for(p=-1,d=0;l.Ha();){var _=g?t.O.truncate(a.get(v)):-1;v++;var b=l.ha();if(0>_){if(null!=o)for(null==r?r=o.vR(b,s):r.Uo(b,s),_=r.next();-1!=_;_=r.next()){h.Vb(o.ja(_)),_=h.ha();var w=b.Ea(_,null,u,null,s);for(_=0;_<w;_++)c.add(u[_])}else for(h.Zi();h.$a();)for(;h.Ha();)for(_=h.ha(),w=b.Ea(_,null,u,null,s),_=0;_<w;_++)c.add(u[_]);if(0<c.size){c.Vd(0,c.size,(function(t,e){return t-e}));var x=0;c.add(1),w=-1,_=0;for(var S=c.size;_<S;_++){var T=c.get(_);if(T!=x){var A=!1;if(0!=x||1!=T?(b.ah(x,T,f),x=f.get()):(x=b,A=!0),2<=m){if(e.Dr(n,y,p,d,3==m),1!=this.QD(i,x.ac(),s)&&1!=this.RD(i,x,s))return null;e.oc(x,!1),m=1,d=0}else switch(w=this.RD(i,x,s),w){case 1:A?2>m?(p=l.wb()-n.Ba(y),d=1,m=0==m?3:2):d++:(e.oc(x,0==m),m=1);break;case 0:m=0,p=-1,d=0;break;default:return null}x=T}}}else{if(0>(_=this.QD(i,b.ac(),s)))return null;1==_?(2>m&&(p=l.wb()-n.Ba(y),m=0==m?3:2),d++):(p=-1,d=0)}c.clear(!1)}else 0!=_&&1==_&&(0==m?(m=3,p=l.wb()-n.Ba(y)):1==m?(m=2,p=l.wb()-n.Ba(y)):d++)}2<=m&&(e.Dr(n,y,p,d,3==m),p=-1)}return e},e.prototype.QD=function(e,i,n){return t.Dg.wm(e,i,n)},e.prototype.RD=function(e,i,n){var r=i.ac();i=i.wc();var s=t.Dg.wm(e,r,n),o=t.Dg.wm(e,i,n);return 1==s&&0==o||0==s&&1==o?-1:0==s||0==o?0:1==s||1==o?1:((s=new t.h).add(r,i),s.scale(.5),0==(e=t.Dg.wm(e,s,n))?0:1==e?1:-1)},e.HB=function(t,e){return e?t:t.Ia()},e.prototype.nJ=function(){return null==this.yH&&(this.yH=this.Se.Ia()),this.yH},e.prototype.qe=function(){},e}();t.HC=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 28},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n,r,s,o,a){return e instanceof t.aa?(e=new t.Zc(e),this.V(e,i,n,r,s,o,a).next()):new t.xL(e,i,n,r,s,o,a)},i.instance=null,i}(t.Je);t.IC=e}(J||(J={})),function(t){var e=function(){function e(t,e,i,n,r,s,o){this.ya=-1,this.Rd=t,this.Mj=e,this.Ka=i,this.Ki=n,this.CA=r,this.uH=s,this.nd=o}return e.prototype.next=function(){var t=this.Rd.next();return null!=t?(this.ya=this.Rd.La(),this.jL(t)):null},e.prototype.La=function(){return this.ya},e.prototype.jL=function(e){var i=0>=this.uH?t.ta.kj(this.Mj,e,!1):this.uH;return t.IK.V(e,this.Ka,this.Ki,this.CA,i,this.nd)},e.prototype.qe=function(){},e}();t.xL=e}(J||(J={})),function(t){var e;(e=t.NK||(t.NK={}))[e.clipToDomainOnly=1]="clipToDomainOnly",e[e.clipWithHorizon=2]="clipWithHorizon",e[e.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 0},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n){return e instanceof t.aa?(e=new t.Zc(e),this.V(e,i,n).next()):new t.yL(e,i,n)},i.prototype.transform=function(e,i,n,r){return t.bu.transform(e,i,n,r,!0)},i.prototype.Qt=function(e,i,n,r){return t.bu.Qt(e,i,n,r)},i.instance=null,i}(t.Je);t.Hx=i}(J||(J={})),function(t){var e=function(){function e(t,e,i){this.ya=-1,this.Rd=t,this.MT=e,this.nd=i}return e.prototype.next=function(){var e=this.Rd.next();return null!=e?(this.ya=this.Rd.La(),t.bu.zh(e,this.MT,this.nd)):null},e.prototype.La=function(){return this.ya},e.prototype.qe=function(){},e}();t.yL=e}(J||(J={})),function(t){var e=function(){function e(){}return e.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},e.prototype.AQ=function(t,e,i){for(t.Vb(e,i);t.Ha();){var n=t.ha();if(0!=(n=n.Qb()))return t.wb()}for(t.Vb(e,i);t.Ez();)if(0!=(n=(n=t.li()).Qb()))return t.wb();return-1},e.prototype.BQ=function(t,e){for(t.Vb(e,-1);t.Ez();)if(0!=t.li().Qb())return t.wb();return-1},e.prototype.zQ=function(t,e){for(t.Vb(e,-1),t.ha();t.Ha();)if(0!=t.ha().Qb())return t.wb();return-1},e.prototype.yQ=function(e,i,n,r){if(this.xk=this.AQ(i,n,r),-1!=this.xk){i.Vb(this.xk,-1);var s=i.ha(),o=s.hc(s.fe(e,!1));if(n=t.h.yc(o,e),(r=new t.h).L(o),r.sub(s.ac()),(o=new t.h).L(e),o.sub(s.ac()),this.kq=0>r.wi(o),this.ph=this.zQ(i,this.xk),-1!=this.ph){i.Vb(this.ph,-1);var a=(s=i.ha()).fe(e,!1);a=s.hc(a);var h=t.h.yc(a,e);h>n?this.ph=-1:(r.L(a),r.sub(s.ac()),o.L(e),o.sub(s.ac()),this.us=0>r.wi(o))}-1==this.ph&&(this.ph=this.BQ(i,this.xk),-1!=this.ph&&(i.Vb(this.ph,-1),a=(s=i.ha()).fe(e,!1),a=s.hc(a),(h=t.h.yc(a,e))>n?this.ph=-1:(r.L(a),r.sub(s.ac()),o.L(e),o.sub(s.ac()),this.us=0>r.wi(o),e=this.xk,this.xk=this.ph,this.ph=e,e=this.kq,this.kq=this.us,this.us=e)))}},e.prototype.cO=function(t,e,i,n,r){return i=i.Ga(),this.yQ(t,i,n,r),-1!=this.xk&&-1==this.ph?this.kq:-1!=this.xk&&-1!=this.ph?this.kq==this.us?this.kq:(i.Vb(this.xk,-1),t=i.ha().kg(),i.Vb(this.ph,-1),e=i.ha().kg(),0<=t.wi(e)):e},e}(),i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return Q(n,i),n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.getType=function(){return 3},n.prototype.nz=function(e,i,n){var r;if(void 0===r&&(r=!1),e.B())return new t.$l;i=i.D();var s=e,o=e.getType();switch(197==o&&((s=new t.Da).ad(e,!1),o=1736),o){case 33:return this.xI(s,i);case 550:return this.jI(s,i);case 1607:case 1736:return this.bU(s,i,n,r);default:throw t.i.fa("not implemented")}},n.prototype.oz=function(e,i){if(e.B())return new t.$l;i=i.D();var n=e,r=e.getType();switch(197==r&&((n=new t.Da).ad(e,!1),r=1736),r){case 33:return this.xI(n,i);case 550:case 1607:case 1736:return this.jI(n,i);default:throw t.i.fa("not implemented")}},n.prototype.pz=function(e,i,n,r){if(0>r)throw t.i.N();if(e.B())return[];i=i.D();var s=e,o=e.getType();switch(197==o&&((s=new t.Da).ad(e,!1),o=1736),o){case 33:return this.TU(s,i,n,r);case 550:case 1607:case 1736:return this.tU(s,i,n,r);default:throw t.i.fa("not implemented")}},n.prototype.bU=function(i,n,r,s){if(1736==i.getType()&&r&&(r=new t.l,i.A(r),r=t.ta.Wd(null,r,!1),0!=(s?t.hd.Yd(i,n,0):t.hd.Yd(i,n,r)))){var o=new t.$l(n,0,0);return s&&o.WJ(!0),o}var a=i.Ga();o=new t.h;for(var h=r=-1,l=17976931348623157e292,u=0;a.$a();)for(;a.Ha();){var c=a.ha();c=c.hc(c.fe(n,!1));var f=t.h.yc(c,n);f<l?(u=1,o=c,r=a.wb(),h=a.gb,l=f):f==l&&u++}return o=new t.$l(o,r,Math.sqrt(l)),s&&(a.Vb(r,h),c=a.ha(),s=0>t.h.Uq(n,c.ac(),c.wc()),1<u&&((u=new e).reset(),s=u.cO(n,s,i,r,h)),o.WJ(s)),o},n.prototype.xI=function(e,i){return e=e.D(),i=t.h.tb(e,i),new t.$l(e,0,i)},n.prototype.jI=function(e,i){for(var n=e.ub(0),r=e.I(),s=e=0,o=0,a=17976931348623157e292,h=0;h<r;h++){var l=new t.h;n.tc(2*h,l);var u=t.h.yc(l,i);u<a&&(s=l.x,o=l.y,e=h,a=u)}return(i=new t.$l).ey(s,o,e,Math.sqrt(a)),i},n.prototype.TU=function(e,i,n,r){return 0==r?[]:(n*=n,e=e.D(),(i=t.h.yc(e,i))<=n?(n=[],(r=new t.$l).ey(e.x,e.y,0,Math.sqrt(i)),n[0]=r):n=[],n)},n.prototype.tU=function(e,i,n,r){if(0==r)return[];var s=e.ub(0),o=e.I();e=[],n*=n;for(var a=0;a<o;a++){var h=s.read(2*a),l=s.read(2*a+1),u=i.x-h,c=i.y-l;(u=u*u+c*c)<=n&&((c=new t.$l).ey(h,l,a,Math.sqrt(u)),e.push(c))}return i=e.length,e.sort((function(t,e){return t.Ka<e.Ka?-1:t.Ka==e.Ka?0:1})),r>=i||(e.length=r),e.slice(0)},n.instance=null,n}(t.Je);t.Ix=i}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 4},i.prototype.V=function(e,i,n,r,s){return t.am.yB(e,i,n,r,s)},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.Iu=function(e){return t.Vt.wy(e)},i.prototype.wn=function(e,i,n){t.Vt.CD(e,i,n)},i.instance=null,i}(t.Je);t.zL=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 33},i.prototype.V=function(e,i,n,r,s){return 1073741824===e?!t.ud.zB(i,n,r,4,s):t.ud.zB(i,n,r,e,s)},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.Iu=function(e){return t.Vt.wy(e)},i.prototype.wn=function(e,i,n){t.Vt.CD(e,i,n)},i.instance=null,i}(t.Je);t.dj=e}(J||(J={})),function(t){var e=function(){function e(e,i,n,r){if(this.nd=r,this.rT=n,this.ya=-1,null==e)throw t.i.N();this.yk=e,this.Mj=i}return e.prototype.next=function(){var e;if(null!=(e=this.yk.next())){if(this.ya=this.yk.La(),null!=this.nd&&!this.nd.progress(-1,-1))throw t.i.fu("user_canceled");return this.eC(e)}return null},e.prototype.La=function(){return this.ya},e.prototype.eC=function(e){if(null==e)throw t.i.N();return t.Jx.cK(e,this.Mj,this.rT,this.nd)},e.prototype.qe=function(){},e}();t.AL=e}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 26},i.prototype.V=function(e,i,n,r){return e instanceof t.aa?(e=new t.Zc(e),this.V(e,i,n,r).next()):new t.AL(e,i,n,r)},i.prototype.rs=function(e,i,n,r,s){return 0<(void 0!==r?t.Jx.rs(e,i,n,r,s):t.Jx.rs(e,i,!1,null,n))},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.instance=null,i}(t.Je);t.Yl=e}(J||(J={})),function(t){var e=function(){function t(){this.yq=0}return t.prototype.nX=function(t){this.yq&=-2,this.yq|=t?1:0},t.prototype.Wp=function(){return!!(1&this.yq)},t.prototype.XF=function(){return this.Wp()?0:1},t}();t.xY=e;var i=function(){},n=function(t,e,i,n){this.x=t,this.y=e,this.Ai=i,this.xm=n},r=function(){function t(t){this.Be=t}return t.prototype.compare=function(t,e,i){return t=t.ja(i),e=this.Be.lf.read(2*e),0>(e-=t=this.Be.lf.read(2*t))?-1:0<e?1:0},t}(),s=function(){function t(t){this.Be=t}return t.prototype.compare=function(t,e,i){e=this.Be.hb[e],t=this.Be.hb[t.ja(i)];var n=e.Wp(),r=t.Wp();i=e.ne.Pe(this.Be.Mo,0);var s=t.ne.Pe(this.Be.Mo,0);return i==s&&((n=.5*((i=Math.min(n?e.ne.na:e.ne.la,r?t.ne.na:t.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&(n=i),i=e.ne.Pe(n,0),s=t.ne.Pe(n,0)),i<s?-1:i>s?1:0},t}(),o=function(){function e(e,i){this.YI=new t.h,this.parent=e,this.dS=i}return e.prototype.nr=function(t,e,i){var n=this.parent,r=this.dS;i.Vd(t,e,(function(t,e){return n.Mh(t,e,r)}))},e.prototype.$p=function(t){return t=this.parent.gi.get(t),this.parent.lf.tc(2*(t>>1),this.YI),this.YI.y+(1&t?this.parent.Oj:-this.parent.Oj)},e}(),a=function(){function a(e,i,n,r,s){this.nH=e.description,this.X=e,this.Qg=i,this.Oj=t.ta.kj(this.Qg,e,!1),this.Bo=t.ta.kj(this.Qg,e,!0),this.xA=n,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new t.jp,this.fb=new t.Yj,this.ke=new t.Md,this.ZG=this.ql=s}return a.prototype.eT=function(){return this.ZG=!0,(!t.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?t.aa.Hc(this.X.getType())?this.pO()?1607==this.X.getType()?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},a.prototype.kC=function(e,i){var n=this.lf.read(2*e);e=this.lf.read(2*e+1);var r=this.lf.read(2*i);return i=this.lf.read(2*i+1),!t.Yt.Cv(n,e,r,i,this.Oj*this.Oj)||0!=this.X.Db()&&n==r&&e==i},a.prototype.GE=function(){for(var e=this.X,i=e.xf?3:2,n=0,r=e.da();n<r;n++)if(e.Ja(n)<i)return this.ke=new t.Md(1,n,0),!1;return!0},a.prototype.DE=function(e){var i=this.X,n=i.Ga(),r=i.hasAttribute(1);for(i=r?t.ta.wE(this.Qg,i,!1):0;n.$a();)for(;n.Ha();){var s=n.ha();if(!(s.Qb()>this.Oj)){if(e&&r){var o=s.wv(1,0);if(s=s.wv(1,0),Math.abs(s-o)>i)continue}return this.ke=new t.Md(2,n.wb(),-1),!1}}return!0},a.prototype.mO=function(){var e=this.X,i=null;t.aa.Hc(this.X.getType())&&(i=this.X);var n=(this.ZG||this.ql)&&null!=i,s=e.I();this.lf=e.ub(0),this.gi=new t.ia(0),this.gi.Jb(2*s),this.fi=new t.ia(0),this.fi.Jb(2*s),n&&(null==this.Fl&&(this.Fl=new t.ia(0)),this.Fl.Jb(s));for(var a=e=0;a<s;a++)if(this.gi.add(2*a),this.gi.add(2*a+1),this.fi.add(2*a),this.fi.add(2*a+1),n){for(;a>=i.Vc(e);)e++;this.Fl.add(e)}for((new t.Xt).sort(this.fi,0,2*s,new o(this,n)),this.fb.clear(),this.fb.Vo(new r(this)),this.fb.De(s),i=0,s*=2;i<s;i++)if(n=this.fi.get(i),n=(e=this.gi.get(n))>>1,1&e){if(e=this.fb.search(n,-1),a=this.fb.we(e),h=this.fb.lb(e),this.fb.vd(e,-1),-1!=a&&-1!=h&&!this.kC(this.fb.ja(a),this.fb.ja(h)))return this.ke=new t.Md(3,this.fb.ja(a),this.fb.ja(h)),!1}else{if(e=this.fb.addElement(n,-1),-1!=(a=this.fb.we(e))&&!this.kC(this.fb.ja(a),n))return this.ke=new t.Md(3,n,this.fb.ja(a)),!1;var h=this.fb.lb(e);if(-1!=h&&!this.kC(this.fb.ja(h),n))return this.ke=new t.Md(3,n,this.fb.ja(h)),!1}return!0},a.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},a.prototype.oO=function(){var e=new t.gd;e.Ib(this.X);var i=new t.Md;return!t.$t.kI(!1,e,this.Oj,i,this.nd)||(i.Jo=e.Ua(i.Jo),i.Ko=e.Ua(i.Ko),this.ke.Wt(i),!1)},a.prototype.nO=function(){var e=this.X,i=e.Ga();for(e=e.Ga();i.$a();)for(;i.Ha();){var n=i.ha();if(!i.Qn()||!i.$S()){e.BW(i);do{for(;e.Ha();){var r=e.ha();if(0!=(r=n.zr(r,this.Oj,!0)))return this.ke=new t.Md(2==r?5:4,i.wb(),e.wb()),!1}}while(e.$a())}}return!0},a.prototype.sO=function(){var e=this.X;this.hb.length=0,this.po.length=0,this.Zf=e.Ga(),this.Zf.JB();var i=new t.ia(0);i.Jb(10);var n=NaN,r=0,s=0;for(e=2*e.I();s<e;s++){var o=this.fi.get(s);if(!(1&(o=this.gi.get(o)))){o>>=1;var a=this.lf.read(2*o),h=this.lf.read(2*o+1);if(0!=i.size&&(a!=n||h!=r)){if(!this.RI(i))return!1;null!=i&&i.clear(!1)}i.add(o),n=a,r=h}}return!!this.RI(i)},a.prototype.rO=function(){for(var e=this.X,n=Array(e.da()),r=0,s=e.da();r<s;r++)n[r]=e.Nn(r);s=new i;var o=new t.h;r=this.fi.get(0);var a=(r=this.gi.get(r))>>1;this.lf.tc(2*a,o);var h=n[r=this.Fl.get(a)],l=e.Ba(r),u=e.Vc(r)-1;s.el=a==l||a==u,s.ny=this.ql?!h&&s.el:s.el,s.Ai=r,s.x=o.x,s.y=o.y,s.xm=a;for(var c=new i,f=1,p=this.fi.size;f<p;f++)if(r=this.fi.get(f),!(1&(r=this.gi.get(r)))){a=r>>1,this.lf.tc(2*a,o),(r=this.Fl.get(a))!=s.Ai&&(h=n[r],l=e.Ba(r),u=e.Vc(r)-1);var d=a==l||a==u,v=this.ql?!h&&s.el:s.el;if(c.x=o.x,c.y=o.y,c.Ai=r,c.xm=a,c.ny=v,c.el=d,c.x==s.x&&c.y==s.y)if(this.ql){if(!(c.ny&&s.ny||c.Ai==s.Ai&&(c.el||s.el)))return this.ke=new t.Md(8,c.xm,s.xm),!1}else if(!c.el||!s.el)return this.ke=new t.Md(5,c.xm,s.xm),!1;r=s,s=c,c=r}return!0},a.prototype.JE=function(){for(var e=this.X,i=[],r=-1,s=!1,o=0,a=e.da();o<a;o++)e.Ev(o)&&(s=!1,r++,o<a-1&&(e.Ev(o+1)||(s=!0))),i[o]=s?r:-1;s=new t.h,o=this.fi.get(0);var h=(o=this.gi.get(o))>>1;this.lf.tc(2*h,s),o=this.Fl.get(h),r=new n(s.x,s.y,o,h,i[o]),e=[];var l=1;for(a=this.fi.size;l<a;l++)if(o=this.fi.get(l),!(1&(o=this.gi.get(o)))){if(h=o>>1,this.lf.tc(2*h,s),o=this.Fl.get(h),(o=new n(s.x,s.y,o,h,i[o])).x==r.x&&o.y==r.y){if(o.Ai==r.Ai)return this.ke=new t.Md(9,o.xm,r.xm),!1;0<=i[o.Ai]&&i[o.Ai]==i[r.Ai]&&(0!=e.length&&e[e.length-1]==r||e.push(r),e.push(o))}r=o}if(0==e.length)return!0;for(o=new t.jp(!0),t.O.$u(i,-1),s=-1,(l=new t.h).Rc(),r=0,a=e.length;r<a;r++){(h=e[r]).x==l.x&&h.y==l.y||(s=o.Ph(0),l.x=h.x,l.y=h.y);var u=i[h.Ai];-1==u&&(u=o.Ph(2),i[h.Ai]=u),o.addElement(u,s),o.addElement(s,u)}for((a=new t.ia(0)).Jb(10),r=o.je;-1!=r;r=o.qz(r))if(!(1&(e=o.PF(r)))&&2&e){for(e=-1,a.add(r),a.add(-1);0<a.size;){if(s=a.Fc(),a.If(),l=a.Fc(),a.If(),1&(h=o.PF(l))){e=2&h?l:s;break}for(o.fX(l,1|h),h=o.rc(l);-1!=h;h=o.lb(h))(u=o.getData(h))!=s&&(a.add(u),a.add(l))}if(-1!=e){for(o=-1,r=0,a=i.length;r<a;r++)if(i[r]==e){o=r;break}return this.ke=new t.Md(10,o,-1),!1}}return!0},a.prototype.tO=function(){var e=this.X;if(0>=e.Ke())return this.ke=new t.Md(6,1==e.da()?1:-1,-1),0;if(1==e.da())return this.ql&&!this.JE()?0:2;this.to=t.ia.qf(e.da(),0),this.JA=t.ia.qf(e.da(),-1);for(var i=-1,n=0,r=0,o=e.da();r<o;r++){var a=e.Ir(r);if(this.to.write(r,0>a?0:256),0<a)i=r,n=a;else{if(0==a)return this.ke=new t.Md(6,r,-1),0;if((0>i||n<Math.abs(a))&&(this.ke=new t.Md(7,r,-1),this.ql))return 0;this.JA.write(r,i)}}for(this.dt=e.da(),this.Om=new t.ia(0),this.Om.Jb(10),o=e.I(),this.Mo=NaN,(e=new t.ia(0)).Jb(10),this.Qq=t.ia.qf(o,-1),this.Hw=t.ia.qf(o,-1),null!=this.zj?this.zj.clear(!1):this.zj=new t.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new s(this)),i=0,o*=2;0<this.dt&&i<o;i++)if(n=this.fi.get(i),!(1&(n=this.gi.get(n)))){if(n>>=1,(r=this.lf.read(2*n+1))!=this.Mo&&0!=e.size){if(!this.ut(e))return 0;null!=e&&e.clear(!1)}e.add(n),this.Mo=r}return 0<this.dt&&!this.ut(e)?0:this.ql?0==this.ke.Jj&&this.JE()?2:0:0==this.ke.Jj?2:1},a.prototype.RI=function(e){if(1==e.size)return!0;for(var i=0,n=e.size;i<n;i++){var r=e.get(i);this.Zf.Vb(r);var s=this.Zf.li();this.hb.push(this.Su(s,r,this.Zf.gb,!0)),this.Zf.ha(),s=this.Zf.ha(),this.hb.push(this.Su(s,r,this.Zf.gb,!1))}var o=this;for(this.hb.sort((function(t,e){return o.XP(t,e)})),-1==(r=this.mh.je)&&(r=this.mh.Ph(0)),this.mh.fn(this.hb.length),i=0,n=this.hb.length;i<n;i++)this.mh.addElement(r,i);i=!0;for(var a=n=-1;i&&(i=!1,-1!=(s=this.mh.rc(r)));)for(var h=this.mh.lb(s);-1!=h;)if(n=this.mh.getData(s),a=this.mh.getData(h),(n=this.hb[n].Io)!=(a=this.hb[a].Io))s=h,h=this.mh.lb(s);else if(i=!0,this.mh.jd(r,s),s=this.mh.we(h),-1==(h=this.mh.jd(r,h))||-1==s)break;if(i=this.mh.bs(r),this.mh.LE(r),0<i)return this.ke=new t.Md(5,n,a),!1;for(i=0,n=e.size;i<n;i++)this.vB(this.hb[i]);return this.hb.length=0,!0},a.prototype.ut=function(e){for(var i=0,n=e.size;i<n;i++){var r=e.get(i),s=this.Qq.read(r);if(-1!=s){var o=this.fb.ja(s);this.zj.add(o),this.fb.vd(s,-1),this.vB(this.hb[o]),this.hb[o]=null,this.Qq.write(r,-1)}-1!=(s=this.Hw.read(r))&&(o=this.fb.ja(s),this.zj.add(o),this.fb.vd(s,-1),this.vB(this.hb[o]),this.hb[o]=null,this.Hw.write(r,-1))}for(i=0,n=e.size;i<n;i++){if(r=e.get(i),this.Zf.Vb(r),(s=this.Zf.li()).na>s.la){var a=this.Zf.wb(),h=this.Su(s,r,this.Zf.gb,!0);0<this.zj.size?(o=this.zj.Fc(),this.zj.If(),this.hb[o]=h):(o=this.hb.length,this.hb.push(h)),s=this.fb.addElement(o,-1),-1==this.Qq.read(a)?this.Qq.write(a,s):this.Hw.write(a,s),!(3&this.to.read(this.Zf.gb))&&this.Om.add(s)}this.Zf.ha(),(s=this.Zf.ha()).na<s.la&&(a=this.Zf.ik(),h=this.Su(s,r,this.Zf.gb,!1),0<this.zj.size?(o=this.zj.Fc(),this.zj.If(),this.hb[o]=h):(o=this.hb.length,this.hb.push(h)),s=this.fb.addElement(o,-1),-1==this.Qq.read(a)?this.Qq.write(a,s):this.Hw.write(a,s),!(3&this.to.read(this.Zf.gb))&&this.Om.add(s))}for(i=0,n=this.Om.size;i<n&&0<this.dt;i++)if(s=this.Om.get(i),!(3&this.to.read(this.hb[this.fb.ja(s)].IA))){e=-1,r=this.fb.we(s);var l=s;h=null,o=-1;for(var u=0;-1!=r&&(o=this.fb.ja(r),o=(h=this.hb[o]).IA,!(3&(u=this.to.read(o))));)l=r,r=this.fb.we(r);-1==r?(a=1,r=l):(e=1==(3&u)?o:this.JA.read(o),a=0!=h.XF()?0:1,r=this.fb.lb(r));do{if(o=this.fb.ja(r),o=(h=this.hb[o]).IA,!(3&(l=this.to.read(o)))){if(a!=h.XF())return this.ke=new t.Md(6,o,-1),!1;if(l=252&l|(u=0==a||h.Wp()?2:1),this.to.write(o,u),2==u&&0==this.ke.Jj&&this.JA.read(o)!=e&&(this.ke=new t.Md(7,o,-1),this.ql))return!1;if(this.dt--,0==this.dt)return!0}1==(3&l)&&(e=o),l=r,r=this.fb.lb(r),a=0!=a?0:1}while(l!=s)}return null!=this.Om?this.Om.clear(!1):this.Om=new t.ia(0),!0},a.prototype.Su=function(e,i,n,r){if(322!=e.getType())throw t.i.Qa();return(e=this.sP(e)).Io=i,e.IA=n,e.yq=0,e.nX(r),e},a.prototype.sP=function(i){if(0<this.po.length){var n=this.po[this.po.length-1];--this.po.length,i.copyTo(n.ne)}else(n=new e).ne=t.SC.jg(i);return n},a.prototype.vB=function(t){322==t.ne.getType()&&this.po.push(t)},a.prototype.kU=function(){for(var e=this.X.I(),i=new t.ia(0),n=0;n<e;n++)i.add(n);var r=this;for(i.Vd(0,e,(function(t,e){return r.Ou(t,e)})),n=1;n<e;n++)if(0==this.Ou(i.get(n-1),i.get(n)))return this.ke=new t.Md(3,i.get(n-1),i.get(n)),0;return 2},a.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},a.prototype.oV=function(){return this.eT()},a.prototype.pU=function(){for(var e=this.X.I(),i=new t.ia(0),n=0;n<e;n++)i.add(n);var r=this;i.Vd(0,e,(function(t,e){return r.PO(t,e)}));var s=Array(e);for(t.O.$u(s,!1),s[i.get(0)]=!0,n=1;n<e;n++){var o=i.get(n-1),a=i.get(n);0==this.Ou(o,a)?s[a]=!1:s[a]=!0}i=this.X.Ia(),o=this.X,a=0;var h=1;for(n=0;n<e;n++)s[n]?h=n+1:(a<h&&i.Fd(o,a,h),a=n+1);return a<h&&i.Fd(o,a,h),i.Ch(2,this.Bo),i},a.prototype.NV=function(){var e=this.X,i=e.Ga(),n=e.Ga(),r=this.X.Ia(),s=this.X,o=e.hasAttribute(1),a=o?t.ta.wE(this.Qg,e,!0):0,h=new t.ia(0),l=new t.ia(0);for(h.Jb(t.O.truncate(e.I()/2+1)),l.Jb(t.O.truncate(e.I()/2+1));i.$a();)if(n.$a(),!(2>e.Ja(i.gb))){n.EW();for(var u,c,f=!0;i.Ha();){var p=i.ha(),d=n.li();if(i.wb()>n.wb())break;f&&(h.add(i.wb()),l.add(n.ik()),f=!1),c=h.Fc();var v=i.ik();if(1<v-c){var g=new t.h;g.uc(e.Na(c),e.Na(v)),u=g.length()}else u=p.Qb();c=l.Fc(),1<(v=n.wb())-c?((g=new t.h).uc(e.Na(c),e.Na(v)),c=g.length()):c=d.Qb(),u>this.Bo?h.add(i.ik()):o&&(u=e.Uc(1,h.Fc(),0),p=p.gv(1,0),Math.abs(p-u)>a&&h.add(i.ik())),c>this.Bo?l.add(n.wb()):o&&(u=e.Uc(1,l.Fc(),0),p=d.gv(1,0),Math.abs(p-u)>a&&l.add(n.wb()))}if(h.Fc()<l.Fc()?h.size>l.size?h.If():l.If():(h.Fc()!=l.Fc()&&l.If(),l.If()),2<=l.size+h.size){for(f=new t.Sa,d=0,p=h.size;d<p;d++)s.ve(h.get(d),f),0==d?r.nf(f):r.lineTo(f);for(d=l.size-1;0<d;d--)s.ve(l.get(d),f),r.lineTo(f);s.dc(i.gb)?r.Ap():0<l.size&&(s.ve(l.get(0),f),r.lineTo(f))}null!=h&&h.clear(!1),null!=l&&l.clear(!1)}return r.Ch(2,this.Bo),r},a.prototype.rV=function(){return this.DX()},a.prototype.DX=function(){return 1736==this.X.getType()&&1==this.X.In()?t.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new t.gd,this.Hi.Ib(this.X),0!=this.Hi.fd&&(1!=this.xA&&t.Tk.V(this.Hi,this.Bo,this.nd,!0),1736==this.X.getType()&&t.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),1736==this.X.getType()&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},a.rs=function(e,i,n,r,s){if(null!=r&&(r.Jj=0,r.Jo=-1,r.Ko=-1),e.B())return 1;var o=e.getType();if(33==o)return 1;var h=t.ta.kj(i,e,!1);if(197==o)return i=new t.l,e.A(i),i.Bi(h)?(null!=r&&(r.Jj=2,r.Jo=-1,r.Ko=-1),0):1;if(t.aa.yd(o))return(h=new t.Ta(e.description)).oc(e,!0),a.rs(h,i,n,r,s);var l=e.om(h);if(-1!=(n=n?-1:l))return n;if(i=new a(e,i,n,s,!1),550==o)n=i.kU();else if(1607==o)n=i.JV();else{if(1736!=o)throw t.i.Qa();n=i.oV()}return e.Ch(n,h),null!=r&&0==n&&r.Wt(i.ke),n},a.cK=function(e,i,n,r){if(e.B())return e;var s=e.getType();if(33==s)return e;var o=t.ta.kj(i,e,!1);if(197==s)return i=new t.l,e.A(i),i.Bi(o)?e.Ia():e;if(t.aa.yd(s))return(s=new t.Ta(e.description)).oc(e,!0),a.cK(s,i,n,r);if(o=e.om(o),2==(n=n?-1:o))return e;if(e=new a(e,i,n,r,!1),550==s)e=e.pU();else if(1607==s)e=e.NV();else{if(1736!=s)throw t.i.Qa();e=e.rV()}return e},a.prototype.Mh=function(e,i,n){if(e==i)return 0;e=this.gi.get(e);var r=this.gi.get(i);i=e>>1;var s=r>>1,o=new t.h,a=new t.h;return this.lf.tc(2*i,o),o.y+=1&e?this.Oj:-this.Oj,this.lf.tc(2*s,a),a.y+=1&r?this.Oj:-this.Oj,0==(e=o.compare(a))&&n?0>(n=this.Fl.get(i)-this.Fl.get(s))?-1:0<n?1:0:e},a.prototype.Ou=function(e,i){if(e==i)return 0;var n=this.X,r=n.Na(e),s=n.Na(i);if(r.x<s.x)return-1;if(r.x>s.x)return 1;if(r.y<s.y)return-1;if(r.y>s.y)return 1;for(r=1;r<this.oT;r++){s=this.nH.kd(r);for(var o=t.ra.Va(s),a=0;a<o;a++){var h=n.Uc(s,e,a),l=n.Uc(s,i,a);if(h<l)return-1;if(h>l)return 1}}return 0},a.prototype.PO=function(t,e){var i=this.Ou(t,e);return 0==i?t<e?-1:1:i},a.prototype.XP=function(t,e){if(t===e)return 0;var i=t.ne.kg();t.Wp()&&i.Sq(),t=e.ne.kg(),e.Wp()&&t.Sq(),e=i.qu();var n=t.qu();return n==e?(e=i.wi(t),Math.abs(e)<=8881784197001252e-31*(Math.abs(t.x*i.y)+Math.abs(t.y*i.x))&&(e--,e++),0>e?1:0<e?-1:0):e<n?-1:1},a}();t.Jx=a}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 30},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.prototype.V=function(e,i,n,r){return e instanceof t.aa?(e=new t.Zc(e),i=new t.Zc(i),this.V(e,i,n,r).next()):new t.BL(e,i,n,r)},i.ep=function(e,n,r,s){var o=e.Db(),a=n.Db();if(e.B()&&n.B())return o>a?e:n;if(e.B())return n;if(n.B())return e;var h=new t.l,l=new t.l,u=new t.l;return e.A(h),n.A(l),u.K(h),u.Zb(l),h=t.ta.Wd(r,u,!0),l=e.getType(),u=n.getType(),33==l&&33==u?i.aV(e,n,h):l!=u?0<o||0<a?o>a?e:n:550==l?i.iI(e,n,h):i.iI(n,e,h):t.Fg.ep(e,n,r,s)},i.aV=function(e,i,n){n=n*Math.sqrt(2)*1.00001,n*=n;var r=e.D(),s=i.D(),o=new t.de(e.description);return t.h.yc(r,s)>n&&(o.add(e),o.add(i)),o},i.iI=function(e,i,n){var r=e.ub(0),s=e.I(),o=i.D(),a=e.Ia();n=n*Math.sqrt(2)*1.00001;var h=new t.l;if(e.A(h),h.W(n,n),h.contains(o)){n*=n,h=!1;for(var l=[],u=0;u<s;u++)l[u]=!1;for(u=0;u<s;u++){var c=r.read(2*u),f=r.read(2*u+1);(c-=o.x)*c+(f-=o.y)*f<=n&&(h=!0,l[u]=!0)}if(h)for(u=0;u<s;u++)l[u]||a.Fd(e,u,u+1);else a.Fd(e,0,s),a.add(i)}else a.Fd(e,0,s),a.add(i);return a},i.instance=null,i}(t.Je);t.Kx=e}(J||(J={})),function(t){var e=function(){function e(t,e,i,n){this.ts=null==e,this.ya=-1,this.Rd=t,this.vg=i,this.NT=e.next(),this.Ub=n}return e.prototype.next=function(){return this.ts?null:null!=(e=this.Rd.next())?(this.ya=this.Rd.La(),t.Kx.ep(e,this.NT,this.vg,this.Ub)):null;var e},e.prototype.La=function(){return this.ya},e.prototype.qe=function(){},e}();t.BL=e}(J||(J={})),function(t){var e=function(){function t(){}return t.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},t}(),i=function(){function t(){this.Gr=0,this.pj=[]}return t.prototype.pN=function(t){this.Gr+=t.Ax,this.pj.push(t)},t.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},t.prototype.my=function(){return this.pj[this.pj.length-1]},t.prototype.Nb=function(t){return t===this},t}(),n=function(){function n(t,e,i){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=t,this.vg=e,this.Ub=i}return n.dE=function(t){var e=[],i=0;for(t=Object.keys(t);i<t.length;i++)e.push(Number(t[i]));return e.sort((function(t,e){return t-e})),e},n.prototype.fG=function(e){var i=this.Do[e],r=n.dE(i)[0],s=i[r],o=s.my().$y;return s=s.my().AK,delete i[r],s&&(o=t.Yl.local().V(o,this.vg,!1,this.Ub),0==e&&33==o.getType()&&(e=new t.de(o.description),o.B()||e.add(o),o=e)),o},n.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(-1==this.zk)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw t.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},n.prototype.La=function(){return this.ya},n.prototype.qK=function(){if(this.Ic)return!0;var e=null;if(null!=this.Rd&&null==(e=this.Rd.next())&&(this.Ic=!0,this.Rd=null),t.mp.zp(this.Ub),null!=e){var i=e.Db();this.AH[i]=!0,i>=this.zk&&!this.jA&&(this.ND(i,!1,e),i>this.zk&&!this.jA&&this.zW(i))}if(0<this.iq)for(i=0;i<=this.zk;i++)for(;1<this.uq[i]&&0!=(e=this.FO(i)).length;)e=t.Fg.VP(e,this.vg,this.Ub),this.ND(i,!0,e);return this.Ic},n.prototype.FO=function(t){for(var e=[],i=[],r=this.Do[t],s=n.dE(r),o=0;o<s.length;o++){var a=s[o],h=r[a];if(this.Ic||1e4<h.Gr&&1<h.pj.length){for(this.uq[t]-=h.pj.length,this.iq-=h.pj.length;0<h.pj.length;)e.push(h.my().$y),h.TV();i.push(a)}}for(o=0;o<i.length;o++)delete r[i[o]];return e},n.prototype.zW=function(t){for(var e=0;e<t;e++)this.Do[e]=[],this.iq-=this.uq[e],this.uq[e]=0},n.prototype.ND=function(t,r,s){var o=new e;if(o.Fz(),o.$y=s,s=n.eS(s),o.Ax=s,s=n.cS(s),t+1>this.Do.length)for(var a=0,h=Math.max(2,t+1);a<h;a++)this.Do.push([]);void 0===(a=this.Do[t][s])&&(a=new i,this.Do[t][s]=a),o.AK=r,a.pN(o),this.uq[t]++,this.iq++,this.zk=Math.max(this.zk,t)},n.cS=function(e){return 0<e?t.O.truncate(Math.log(e)/Math.log(4)+.5):0},n.eS=function(e){var i=e.getType();if(t.aa.xj(i))return e.I();if(33==i)return 1;if(197==i)return 4;if(t.aa.yd(i))return 2;throw t.i.Qa()},n.prototype.qe=function(){this.qK()},n}();t.DL=n}(J||(J={})),function(t){var e=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Q(i,e),i.prototype.getType=function(){return 1},i.prototype.V=function(e,i,n,r){return void 0===r?new t.DL(e,i,n):this.gQ(e,i,n,r)},i.prototype.gQ=function(e,i,n,r){return e=new t.Zc([e,i]),this.V(e,n,r).next()},i.local=function(){return null===i.instance&&(i.instance=new i),i.instance},i.instance=null,i}(t.Je);t.Gh=e}(J||(J={})),function(t){var e,i;(i=e||(e={}))[i.nextPath=0]="nextPath",i[i.nextSegment=1]="nextSegment",i[i.iterate=2]="iterate",e=function(){function e(e,i,n,r){this.Ts=new t.l,this.GT=e,this.HT=i,this.mq=r,this.uo=-1,this.rl=!1;var s=e.Bb;null!=s&&null!=(s=r?s.zo:s.Fb)&&(this.Ic=!1,this.qa=n,this.Fb=s,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,r?this.uo=i.da():this.sd=i.Ga()),this.rl||null!=(s=i.Bb)&&null!=(s=r?s.zo:s.Fb)&&(this.Ic=!1,this.qa=n,this.Fb=s,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,r?this.uo=e.da():this.sd=e.Ga()),this.rl||(this.ci=r?t.ta.mR(e,i,n,1<=e.om(0),1<=i.om(0)):t.ta.lR(e,i,n))}return e.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var e=!0;e;)switch(this.Xb){case 0:e=this.xU();break;case 1:e=this.yU();break;case 2:e=this.Uz();break;default:throw t.i.fa("internal error")}return!this.Ic}return null!=this.ci&&this.ci.next()},e.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},e.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},e.prototype.uz=function(){if(!this.mq)throw t.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},e.prototype.az=function(){if(!this.mq)throw t.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},e.prototype.xU=function(){return this.mq?-1==--this.uo?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},e.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var t=this.sd.ha();return this.xw.Uo(t,this.qa),this.Xb=2,!0},e.prototype.Uz=function(){return this.Fs=this.xw.next(),-1==this.Fs&&(this.Xb=this.mq?0:1,!0)},e}(),t.Zl=e}(J||(J={})),function(t){(t=t.OL||(t.OL={}))[t.enumClosed=1]="enumClosed",t[t.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",t[t.enumOGCStartPolygon=4]="enumOGCStartPolygon",t[t.enumCalcMask=4]="enumCalcMask"}(J||(J={})),function(t){t.QC=function(){function e(){}return e.tb=function(i,n,r,s,o,a,h,l,u){var c=[0,0,0],f=[0,0,0],p=[0,0,0],d=[0,0,0,0],v=new t.ga(0),g=new t.ga(0),y=new t.ga(0);if(null!=h||null!=l||null!=u)if(t.s.ti(n))t.Yg.tb(i,r,s,o,a,h,l,u);else{o=t.F.ba(o),r=t.F.ba(r);var m=t.F.ba(o-r);if(t.s.Y(s,a)&&(t.s.Y(r,o)||t.s.Y(t.s.P(s),1.570796326794897)))null!=h&&(h.u=0),null!=l&&(l.u=0),null!=u&&(u.u=0);else{if(t.s.Y(s,-a)){if(t.s.Y(t.s.P(s),1.570796326794897))return null!=h&&(h.u=2*t.F.Ah(i,n)),null!=l&&(l.u=0<s?t.F.ba(3.141592653589793-t.F.ba(o)):t.F.ba(o)),void(null!=u&&(u.u=0<s?t.F.ba(o):t.F.ba(3.141592653589793-t.F.ba(o))));t.s.Y(t.s.P(m),3.141592653589793)&&(null!=h&&(h.u=2*t.F.Ah(i,n)),null!=l&&(l.u=0),null!=u&&(u.u=0))}else{if(t.s.Y(t.s.P(s),1.570796326794897)||t.s.Y(t.s.P(a),1.570796326794897))return void t.Wk.tb(i,n,r,s,o,a,h,l,u);if(t.s.Y(r,o)||t.s.Y(t.s.P(m),3.141592653589793))return void t.Wk.tb(i,n,r,s,o,a,h,l,u);if(t.s.Cd(s))return void t.Wk.tb(i,n,r,s,o,a,h,l,u)}var _=Math.sqrt(1-n);o=t.F.ba(o-r),r=0,t.F.cl(1,n,s,r,0,v,g,y),c[0]=v.u,c[1]=g.u,c[2]=y.u,t.F.cl(1,n,a,o,0,v,g,y),f[0]=v.u,f[1]=g.u,f[2]=y.u,p[0]=0,p[1]=0,p[2]=-1*n*t.F.n(1,n,s)*Math.sin(s),0>o?t.F.Wq(p,f,c,d,0):t.F.Wq(p,c,f,d,0),g=[0,0,0],y=[0,0,0];var b=[0,0,0];c=[0,0,0],v=[0,0,0];var w=Math.acos(d[2]/1),x=1-n,S=Math.tan(w),T=1+S*S/x,A=2*p[2]*S/x;for(x=(-A+(S=Math.sqrt(A*A-4*T*(p[2]*p[2]/x-1))))/(T*=2),A=(-A-S)/T,S=Math.tan(w),w=(x+A)/2,p=((T=S*x+p[2])+(S*A+p[2]))/2,S=t.F.gp(x-w,T-p),x=p/_*1.570796326794897,A=0;100>A&&(T=(T=t.F.w(n,x))*T/Math.cos(x)*(Math.sin(x)-p*T/(1-n)),!t.s.Cd(T));A++)x-=T;p=t.F.n(1,n,x)*Math.cos(x),S=1-S/(p=Math.sqrt((p-w)*(p+w))),S*=2-S,T=t.F.on(g),w=t.F.on(y),x=t.F.on(b);var E=t.F.St(b,g);A=t.F.St(b,y),t.F.zx(b,g,c),t.F.zx(b,y,v),g=Math.acos(E/(x*T)),y=Math.acos(A/(x*w)),y*=t.s.Mb(1,t.F.St(c,v)),(1.570796326794897<=t.s.P(g)&&1.570796326794897<=t.s.P(y)||3.141592653589793<t.s.P(g-y))&&(g=(3.141592653589793-t.s.P(g))*t.s.Mb(1,g),y=(3.141592653589793-t.s.P(y))*t.s.Mb(1,y)),c=t.F.Qj(S,y),v=t.F.q(p,S,t.F.Qj(S,g)),c=t.F.q(p,S,c),c=t.s.P(c-v)*i,g=new t.ga(0),y=new t.ga(0),b=d[1]/1,b*=-t.s.Mb(1,m),v=Math.acos(b)*t.s.Mb(1,m),e.rf(i,n,r,s,c,v,g,y),t.s.Y(o,g.u)&&t.s.Y(a,y.u)||(S=t.F.gp(t.F.ba(o-g.u),a-y.u),e.rf(i,n,r,s,c,t.F.ba(v+3.141592653589793),g,y),(T=t.F.gp(t.F.ba(o-g.u),a-y.u))<S&&(v=t.F.ba(v+3.141592653589793))),g=[0,0,0,0],y=[0,0,0,0],S=[0,0,0],i=[0,0,0],r=[0,0,0],s=[0,0,0],b=[0,0,0],(p=[0,0,0])[0]=0,p[1]=0,p[2]=_,S[0]=0,S[1]=0,S[2]=0,t.F.Wq(S,p,f,g,0),t.s.Cd(a)?(i[0]=f[0],i[1]=f[1],i[2]=1,r[0]=1*Math.cos(o)-1*Math.sin(o),r[1]=1*Math.sin(o)+1*Math.cos(o)):(n=t.F.n(1,n,a)*Math.cos(a),i[0]=0,i[1]=0,f[2]+=Math.tan(1.570796326794897-t.s.P(a))*n*t.s.Mb(1,a),r[0]=n*Math.cos(o)-n*Math.sin(o),r[1]=n*Math.sin(o)+n*Math.cos(o)),r[2]=f[2],t.F.Wq(f,r,i,y,1),t.F.zx(y,g,s),t.F.zx(y,d,b),b=t.F.St(s,b)/(t.F.on(s)*t.F.on(b)),b*=t.s.Mb(1,m),o=Math.acos(b)*-t.s.Mb(1,m),(0<v&&0<o||0>v&&0>o)&&(o=t.F.ba(o+3.141592653589793)),null!=h&&(h.u=c),null!=l&&(l.u=v),null!=u&&(u.u=o)}}},e.rf=function(e,i,n,r,s,o,a,h){var l=[0,0,0],u=[0,0,0],c=[0,0,0],f=[0,0,0],p=[0,0,0],d=[0,0,0],v=[0,0,0],g=[0,0,0,0],y=new t.ga(0),m=new t.ga(0),_=new t.ga(0),b=new t.ga(0),w=new t.ga(0),x=new t.ga(0);if(null!=a&&null!=h)if(t.s.ti(i))t.Yg.rf(e,n,r,s,o,a,h);else if(t.s.Cd(s))null!=a&&(a.u=n),null!=h&&(h.u=r);else if(o=t.F.ba(o),0>s&&(s=t.s.P(s),o=t.F.ba(o+3.141592653589793)),n=t.F.ba(n),r=t.F.ba(r),1.570796326794897<t.s.P(r)&&(n=t.F.ba(n+3.141592653589793),r=t.s.Mb(3.141592653589793,r)-r),t.s.Y(t.s.P(r),1.570796326794897)||t.s.Cd(r)||t.s.Cd(o)||t.s.Y(t.s.P(o),3.141592653589793))t.Wk.rf(e,i,n,r,s,o,a,h);else{var S=Math.sqrt(1-i);for(e=s/e,t.F.cl(1,i,r,0,0,b,w,x),l[0]=b.u,l[1]=w.u,l[2]=w.u,v[0]=0,v[1]=0,v[2]=-1*i*t.F.n(1,i,r)*Math.sin(r),b=t.F.n(1,i,r),w=t.F.ba(1.570796326794897-o),x=Math.sin(w),s=Math.cos(r),r=Math.sin(r),p[0]=b*s-r*x,p[1]=Math.cos(w),p[2]=(1-i)*b*r+s*x,0>o?t.F.Wq(v,p,l,g,0):t.F.Wq(v,l,p,g,0),l=Math.acos(g[2]/1),g=Math.atan2(-g[1],-g[0]),r=1-i,w=1+(p=Math.tan(l))*p/r,r=(-(b=2*v[2]*p/r)+(p=Math.sqrt(b*b-4*w*(v[2]*v[2]/r-1))))/(w*=2),b=(-b-p)/w,p=Math.tan(l),l=(r+b)/2,v=((w=p*r+v[2])+(p*b+v[2]))/2,p=t.F.gp(r-l,w-v),S=v/S*1.570796326794897,r=0;100>r&&(b=(b=t.F.w(i,S))*b/Math.cos(S)*(Math.sin(S)-v*b/(1-i)),!t.s.Cd(b));r++)S-=b;S=t.F.n(1,i,S)*Math.cos(S),v=1-p/(S=Math.sqrt((S-l)*(S+l))),v*=2-v,d=Math.acos(t.F.St(d,u)/(t.F.on(d)*t.F.on(u))),d*=t.s.Mb(1,u[0]),o=(t.F.q(S,v,t.F.Qj(v,d))+e*t.s.Mb(1,o))/t.F.Ah(S,v),o=t.F.ba(1.570796326794897*o),o=t.F.Rq(v,o),t.F.n(S,v,o),p=t.F.ba(g+n),n=Math.cos(p),o=Math.sin(p),c[0]=f[0]*n+f[1]*-o,c[1]=f[0]*o+f[1]*n,c[2]=f[2],t.F.jO(i,c[0],c[1],c[2],_,m,y),null!=a&&(a.u=m.u),null!=h&&(h.u=_.u)}},e}()}(J||(J={})),function(t){var e=function(){function e(e){this.Ya=null,this.wt=new t.h,this.xt=new t.h,this.g=e}return e.prototype.compare=function(t,e,i){return this.g.Gc(e,this.wt),this.g.Gc(t.ja(i),this.xt),this.wt.compare(this.xt)},e}(),i=function(){function e(e){this.Bf=new t.h,this.Dk=new t.h,this.g=e}return e.prototype.Dh=function(t){this.Bf.L(t)},e.prototype.compare=function(t,e){return this.g.Gc(t.ja(e),this.Dk),this.Bf.compare(this.Dk)},e}(),n=function(t){function e(e){var i=t.call(this,e.g,e.qa,!1)||this;return i.ib=e,i}return Q(e,t),e.prototype.compare=function(t,e,i){if(this.rg)return-1;var n=this.ib.Qd.Jn(this.ib.Rh(e));t=t.ja(i);var r=this.ib.Qd.Jn(this.ib.Rh(t));return this.Dm=i,this.RE(e,n,t,r)},e}(t.UC),r=function(t){function e(e){var i=t.call(this,e.g,e.qa)||this;return i.ib=e,i}return Q(e,t),e.prototype.compare=function(t,e){return this.rg?-1:(t=this.ib.Qd.Jn(this.ib.Rh(t.ja(e))),this.Dm=e,this.SE(e,t))},e}(t.aM),s=function(){function s(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new t.h,this.Pi=new t.h,this.hb=new t.$c(8),this.zd=new t.$c(5),this.lh=new t.au,this.Qd=new t.au,this.Ng=!1,this.vh=new t.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new t.Yj,this.Mc=new t.Yj,this.nh=new t.ia(0),this.Gk=new t.TC,this.Ff=new t.ia(0),this.Ak=new t.ia(0),this.jo=new t.Sa}return s.prototype.PX=function(e,i){var n=new t.Dd;return n.$B(),e.Oc(n),this.er(e),this.Wn=!1,this.qa=i,this.UA=i*i,i=this.jC(),e.Oc(n),i||(this.qQ(),i||this.jC()),-1!=this.xh&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},s.prototype.TX=function(t,e){this.er(t),this.Wn=!1,this.qa=e,this.UA=e*e,this.Ng=!1,this.jC(),this.Ng||(this.Ng=1==t.Gp(e,!0,!1)),-1!=this.xh&&(this.g.Td(this.xh),this.xh=-1),this.g=null},s.prototype.pg=function(t,e){return this.hb.T(t,0+e)},s.prototype.LB=function(t,e,i){this.hb.S(t,0+e,i)},s.prototype.Rh=function(t){return this.hb.T(t,2)},s.prototype.ZW=function(t,e){this.hb.S(t,2,e)},s.prototype.RF=function(t,e){return this.hb.T(t,3+e)},s.prototype.Pp=function(t){return this.hb.T(t,7)},s.prototype.Pl=function(t,e){this.hb.S(t,7,e)},s.prototype.Rp=function(t,e){return this.hb.T(t,3+this.Op(t,e))},s.prototype.fr=function(t,e,i){this.hb.S(t,3+this.Op(t,e),i)},s.prototype.NR=function(t,e){return this.hb.T(t,5+this.Op(t,e))},s.prototype.hr=function(t,e,i){this.hb.S(t,5+this.Op(t,e),i)},s.prototype.Sr=function(t){return this.zd.T(t,0)},s.prototype.UW=function(t,e){this.zd.S(t,0,e)},s.prototype.ez=function(t){return this.zd.T(t,4)},s.prototype.cr=function(t,e){this.zd.S(t,4,e)},s.prototype.il=function(t){return this.zd.T(t,1)},s.prototype.ln=function(t,e){this.zd.S(t,1,e)},s.prototype.dz=function(t){return this.zd.T(t,3)},s.prototype.Et=function(t,e){this.zd.S(t,3,e)},s.prototype.Ym=function(t){var e=this.zd.Ce(),i=this.lh.Ph();return this.UW(e,i),-1!=t?(this.lh.addElement(i,t),this.g.Ra(t,this.xh,e),this.cr(e,this.g.Ua(t))):this.cr(e,-1),e},s.prototype.HP=function(t){this.zd.jd(t)},s.prototype.LD=function(t,e){this.lh.addElement(this.Sr(t),e),this.g.Ra(e,this.xh,t)},s.prototype.nt=function(t){var e=this.hb.Ce(),i=this.Qd.Ph();return this.ZW(e,i),-1!=t&&this.Qd.addElement(i,t),e},s.prototype.MD=function(t,e){this.Qd.addElement(this.Rh(t),e)},s.prototype.Uu=function(t){this.hb.jd(t),0<=(t=this.nh.lF(t))&&this.nh.SV(t)},s.prototype.hj=function(e,i){if(-1==this.pg(e,0))this.LB(e,0,i);else{if(-1!=this.pg(e,1))throw t.i.Qa();this.LB(e,1,i)}this.ky(e,i)},s.prototype.ky=function(t,e){var i=this.il(e);if(-1!=i){var n=this.Rp(i,e);this.hr(n,e,t),this.fr(t,e,n),this.fr(i,e,t),this.hr(t,e,i)}else this.hr(t,e,t),this.fr(t,e,t),this.ln(e,t)},s.prototype.Op=function(t,e){return this.pg(t,0)==e?0:1},s.prototype.Xm=function(t,e){var i,n=this.dz(e);if(-1!=n&&(this.df.vd(n,-1),this.Et(e,-1)),-1!=(n=this.il(e))){var r=i=n;do{var s=!1,o=this.Op(i,e),a=this.RF(i,o);if(this.pg(i,o+1&1)==t){if(this.Xu(i),this.Qd.bh(this.Rh(i)),this.Uu(i),i==a){n=-1;break}n==i&&(n=this.il(e),r=a,s=!0)}i=a}while(i!=r||s);if(-1!=n){do{o=this.Op(i,e),a=this.RF(i,o),this.LB(i,o,t),i=a}while(i!=r);-1!=(i=this.il(t))?(r=this.Rp(i,t),s=this.Rp(n,t),r==i?(this.ln(t,n),this.ky(i,t),this.ln(t,i)):s==n&&this.ky(n,t),this.fr(n,t,r),this.hr(r,t,n),this.fr(i,t,s),this.hr(s,t,i)):this.ln(t,n)}}for(n=this.Sr(t),i=this.Sr(e),r=this.lh.rc(i);-1!=r;r=this.lh.lb(r))this.g.Ra(this.lh.ja(r),this.xh,t);this.lh.Hy(n,i),this.HP(e)},s.prototype.UT=function(t,e){var i=this.pg(t,0),n=this.pg(t,1),r=this.pg(e,0),s=this.pg(e,1);this.Qd.Hy(this.Rh(t),this.Rh(e)),e==this.il(i)&&this.ln(i,t),e==this.il(n)&&this.ln(n,t),this.Xu(e),this.Uu(e),i==r&&n==s||n==r&&i==s||(this.Hn(i,this.yo),this.Hn(r,this.Pi),this.yo.qb(this.Pi)?(i!=r&&this.Xm(i,r),n!=s&&this.Xm(n,s)):(n!=r&&this.Xm(n,r),i!=s&&this.Xm(i,s)))},s.prototype.Xu=function(t){var e=this.pg(t,1);this.dF(t,this.pg(t,0)),this.dF(t,e)},s.prototype.dF=function(t,e){var i=this.Rp(t,e),n=this.NR(t,e),r=this.il(e);i!=t?(this.fr(n,e,i),this.hr(i,e,n),r==t&&this.ln(e,i)):this.ln(e,-1)},s.prototype.WD=function(t,e,i){var n=this.Qd.rc(t),r=this.Qd.ja(n);t=this.Le(r);var s=this.Le(this.g.U(r));for(this.g.jr(r,e,i,!0),n=this.Qd.lb(n);-1!=n;n=this.Qd.lb(n)){r=this.Qd.ja(n);var o=this.Le(r)==t;this.g.jr(r,e,i,o)}n=e.Vp(i,0).ac(),e=e.Vp(i,e.ol(i)-1).wc(),this.BK(t,n),this.BK(s,e)},s.prototype.ZE=function(t,e,i){var n=this.Rh(t),r=this.pg(t,0),s=this.pg(t,1),o=this.nt(-1);for(this.nh.add(o),this.Pl(o,-3),this.Ff.add(o),this.hj(o,r),t=1,e=e.ol(i);t<e;t++)i=this.Ym(-1),this.Ak.add(i),this.Ff.add(i),this.hj(o,i),o=this.nt(-1),this.nh.add(o),this.Pl(o,-3),this.Ff.add(o),this.hj(o,i);for(this.hj(o,s),n=this.Qd.rc(n);-1!=n;n=this.Qd.lb(n))if(s=this.Qd.ja(n),this.Le(s)==r){t=0;do{0<t&&(o=this.Ff.get(t-1),this.LD(o,s),-1==this.ez(o)&&this.cr(o,this.g.Ua(s))),o=this.Ff.get(t),t+=2,this.MD(o,s),s=this.g.U(s)}while(t<this.Ff.size)}else{t=this.Ff.size-1;do{t<this.Ff.size-2&&(o=this.Ff.get(t+1),this.LD(o,s),0>this.ez(o)&&this.cr(o,this.g.Ua(s))),o=this.Ff.get(t),t-=2,this.MD(o,s),s=this.g.U(s)}while(0<=t)}this.Ff.clear(!1)},s.prototype.Le=function(t){return this.g.Pa(t,this.xh)},s.prototype.TI=function(e,i,n){var r=this.pg(i,0),s=new t.h;this.Hn(r,s);var o=new t.h,a=this.pg(i,1);this.Hn(a,o);var h=n.ol(e),l=n.Vp(e,0),u=new t.h;if(l.Yp(u),!s.qb(u)){if(!this.Ng){var c=s.compare(this.vh);0>c*(u=u.compare(this.vh))&&(this.Ng=!0)}this.vF(r,this.Ff),this.Ak.add(r)}for(!this.Ng&&1<h&&(c=s.compare(o),l=l.wc(),(s.compare(l)!=c||l.compare(o)!=c||0>l.compare(this.vh))&&(this.Ng=!0)),e=(l=n.Vp(e,h-1)).wc(),o.qb(e)||(this.Ng||0>(c=o.compare(this.vh))*(u=e.compare(this.vh))&&(this.Ng=!0),this.vF(a,this.Ff),this.Ak.add(a)),this.Ff.add(i),o=0,a=this.Ff.size;o<a;o++)e=this.Ff.get(o),n=this.Pp(e),t.$c.LG(n)&&(this.Mc.vd(n,-1),this.Pl(e,-1)),e!=i&&-3!=this.Pp(e)&&(this.nh.add(e),this.Pl(e,-3));this.Ff.clear(!1)},s.prototype.lO=function(t,e){this.$d.compare(this.Mc,this.Mc.ja(t),e),this.$d.rg&&(this.$d.Kr(),this.oF(t,e))},s.prototype.oF=function(e,i){this.Wn=!0,e=this.Mc.ja(e),i=this.Mc.ja(i);var n=this.Qd.Jn(this.Rh(e)),r=this.Qd.Jn(this.Rh(i)),s=this.g.bc(n);null==s&&(null==this.ie&&(this.ie=new t.yb),this.g.ed(n,this.ie),s=this.ie),null==(n=this.g.bc(r))&&(null==this.Nm&&(this.Nm=new t.yb),this.g.ed(r,this.Nm),n=this.Nm),this.Gk.Oo(s),this.Gk.Oo(n),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(e,i,-1,this.Gk),this.Gk.clear()},s.prototype.GQ=function(e,i){this.Wn=!0,i=this.Mc.ja(i);var n=this.Qd.Jn(this.Rh(i)),r=this.g.bc(n);null==r&&(null==this.ie&&(this.ie=new t.yb),this.g.ed(n,this.ie),r=this.ie),n=this.BF(e),this.Gk.Oo(r),this.g.Vi(n,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(i,-1,e,this.Gk),this.Gk.clear()},s.prototype.xS=function(){if(0!=this.nh.size)for(;0!=this.nh.size;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var t=this.nh.Fc();this.nh.If(),this.Pl(t,-1),-1!=this.WS(t)&&this.wS(t),this.Vn=!1}},s.prototype.wS=function(t){if(this.Vn){var e=this.Mc.zu(this.MH,this.GH,t,!0);this.Vn=!1}else e=this.Mc.KD(t);-1==e?this.UT(this.Mc.ja(this.Mc.FF()),t):(this.Pl(t,e),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,e)))},s.prototype.WS=function(e){var i=this.pg(e,0);if(e=this.pg(e,1),this.Hn(i,this.yo),this.Hn(e,this.Pi),t.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var n=this.yo.compare(this.vh),r=this.Pi.compare(this.vh);return 0>=n&&0<r?e:0>=r&&0<n?i:-1},s.prototype.oQ=function(){var e=new t.ia(0);e.Jb(this.g.fd);for(var i=this.g.Yq(),n=i.next();-1!=n;n=i.next())-1!=this.g.Pa(n,this.xh)&&e.add(n);this.g.nx(e,e.size),this.pQ(e)},s.prototype.pQ=function(i){this.df.clear(),this.df.De(i.size),this.df.Vo(new e(this.g));var n=new t.h;n.Rc();for(var r=-1,s=new t.h,o=0,a=i.size;o<a;o++){var h=i.get(o);this.g.Gc(h,s),s.qb(n)?(h=this.g.Pa(h,this.xh),this.Xm(r,h)):(r=this.Le(h),this.g.Gc(h,n),h=this.df.xn(h),this.Et(r,h))}},s.prototype.qQ=function(){var e=new t.ia(0);e.Jb(this.g.fd);for(var i=this.df.rc(-1);-1!=i;i=this.df.lb(i))e.add(this.df.ja(i));this.df.clear(),this.g.nx(e,e.size),i=0;for(var n=e.size;i<n;i++){var r=e.get(i),s=this.Le(r);r=this.df.xn(r),this.Et(s,r)}},s.prototype.vF=function(e,i){var n=this.il(e);if(-1!=n){var r=n;do{t.$c.LG(this.Pp(r))&&i.add(r),r=this.Rp(r,e)}while(r!=n)}},s.prototype.BK=function(t,e){for(t=this.lh.rc(this.Sr(t));-1!=t;t=this.lh.lb(t))this.g.mf(this.lh.ja(t),e)},s.prototype.hK=function(t,e,i,n){this.Xu(t),-1!=e&&this.Xu(e),this.TI(0,t,n),-1!=e&&this.TI(1,e,n),-1!=i&&(n.Bf.D(this.yo),this.Hn(i,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(i)),i=0;for(var r=this.Ak.size;i<r;i++){var s=this.Ak.get(i),o=this.dz(s);-1!=o&&(this.df.vd(o,-1),this.Et(s,-1))}for(i=this.Rh(t),r=-1!=e?this.Rh(e):-1,this.WD(i,n,0),-1!=e&&this.WD(r,n,1),this.ZE(t,n,0),-1!=e&&this.ZE(e,n,1),this.Qd.bh(i),this.Uu(t),-1!=e&&(this.Qd.bh(r),this.Uu(e)),i=0,r=this.Ak.size;i<r;i++)(s=this.Ak.get(i))==this.Jq&&(this.Xv=!0),-1==(o=this.dz(s))&&(-1==(o=this.df.KD(this.BF(s)))?(t=this.Le(this.df.ja(this.df.FF())),this.Xm(t,s)):this.Et(s,o));this.Ak.clear(!1)},s.prototype.Hn=function(t,e){this.g.dG(this.ez(t),e)},s.prototype.BF=function(t){return this.lh.Jn(this.Sr(t))},s.prototype.jC=function(){this.Xv=!1,this.Jq=-1,null==this.$d&&(this.Mc.Rv=!1,this.$d=new n(this),this.Mc.Zn=this.$d);var e=new t.ia(0),s=null,o=null;this.GH=this.MH=-1,this.Vn=!1;for(var a=this.df.rc(-1);-1!=a;){this.Vn=!1;var h=this.df.ja(a);this.Jq=this.Le(h),this.g.Gc(h,this.vh),this.$d.$J(this.vh.y,this.vh.x);var l=this.il(this.Jq),u=-1==l;if(!u){h=l;do{var c=this.Pp(h);-1==c?(this.nh.add(h),this.Pl(h,-3)):-3!=c&&e.add(c),h=this.Rp(h,this.Jq)}while(h!=l)}if(0<e.size){for(this.Vn=1==e.size&&1==this.nh.size,u=0,l=e.size;u<l;u++)h=this.Mc.ja(e.get(u)),this.Pl(h,-2);var f=-2,p=-2;for(u=0,l=e.size;u<l;u++){if(c=e.get(u),-2==f){var d=this.Mc.we(c);-1!=d?(h=this.Mc.ja(d),-2!=(h=this.Pp(h))&&(f=d)):f=-1}if(-2==p&&(-1!=(c=this.Mc.lb(c))?(h=this.Mc.ja(c),-2!=(h=this.Pp(h))&&(p=c)):p=-1),-2!=f&&-2!=p)break}for(u=0,l=e.size;u<l;u++)c=e.get(u),h=this.Mc.ja(c),this.Mc.vd(c,-1),this.Pl(h,-1);e.clear(!1),this.MH=-1!=f?f:-1,this.GH=-1!=p?p:-1,-1!=f&&-1!=p?this.Vn||this.lO(f,p):-1==f&&-1==p&&(this.Vn=!1)}else u&&(null==s&&(s=new r(this)),s.Dh(this.vh),this.Mc.uJ(s),s.rg&&(s.Kr(),this.GQ(this.Jq,s.Dm)));this.xS(),this.Xv?(this.Xv=!1,null==o&&(o=new i(this.g)),o.Dh(this.vh),a=this.df.uJ(o)):a=this.df.lb(a)}return this.Wn},s.prototype.er=function(e){for(this.g=e,this.xh=this.g.Gd(),this.hb.De(e.fd+32),this.zd.De(e.fd),this.lh.At(e.fd),this.lh.fn(e.fd),this.Qd.At(e.fd+32),this.Qd.fn(e.fd+32),e=this.g.ld;-1!=e;e=this.g.ue(e))if(t.aa.Hc(this.g.ic(e)))for(h=this.g.Ob(e);-1!=h;h=this.g.Rb(h)){var i=this.g.Ja(h),n=this.g.Xa(h),r=this.Ym(n),s=this.nt(n);for(this.hj(s,r),l=this.g.U(n),n=0,i-=2;n<i;n++){var o=this.g.U(l),a=this.Ym(l);this.hj(s,a),s=this.nt(l),this.hj(s,a),l=o}this.g.dc(h)?(a=this.Ym(l),this.hj(s,a),s=this.nt(l),this.hj(s,a),this.hj(s,r)):(a=this.Ym(l),this.hj(s,a))}else for(var h=this.g.Ob(e);-1!=h;h=this.g.Rb(h)){var l=this.g.Xa(h);for(r=0,i=this.g.Ja(h);r<i;r++)this.Ym(l),l=this.g.U(l)}this.oQ()},s}();t.RC=s}(J||(J={})),function(t){var e=function(e){function i(n,r,s){var o=e.call(this)||this;if(void 0!==n)if(void 0!==s){o.description=t.ee.og();var a=new t.Nd;a.K(n,r,s),o.dC(a)}else if(void 0!==r)o.description=t.ee.og(),o.Cb(n,r);else if(n instanceof t.ra)o.description=n;else if(n instanceof t.h)o.description=t.ee.og(),o.Cb(n);else{if(!(n instanceof i))throw t.i.N();o.description=n.description,o.Cb(n.Lg(),n.ih()),null!==n.ka&&(o.ka=n.ka.slice(0))}else o.description=t.ee.og();return o}return Q(i,e),i.prototype.D=function(e){if(void 0===e){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return(e=new t.h).ma(this.ka[0],this.ka[1]),e}if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");e.ma(this.ka[0],this.ka[1])},i.prototype.Cb=function(t,e){"number"==typeof t?(this.vc(),null==this.ka&&this.un(),this.ka[0]=t,this.ka[1]=e):(this.vc(),this.Cb(t.x,t.y))},i.prototype.Cz=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");var e=new t.Nd;return e.x=this.ka[0],e.y=this.ka[1],e.z=this.description.iG()?this.ka[2]:t.ra.se(1),e},i.prototype.dC=function(e){this.vc();var i=this.hasAttribute(1);i||t.ra.DG(1,e.z)||(this.re(1),i=!0),null==this.ka&&this.un(),this.ka[0]=e.x,this.ka[1]=e.y,i&&(this.ka[2]=e.z)},i.prototype.Lg=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},i.prototype.cC=function(t){this.setAttribute(0,0,t)},i.prototype.ih=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},i.prototype.aK=function(t){this.setAttribute(0,1,t)},i.prototype.bS=function(){return this.Uc(1,0)},i.prototype.wX=function(t){this.setAttribute(1,0,t)},i.prototype.zR=function(){return this.Uc(2,0)},i.prototype.hX=function(t){this.setAttribute(2,0,t)},i.prototype.Ec=function(){return this.yF(3,0)},i.prototype.LJ=function(t){this.setAttribute(3,0,t)},i.prototype.Uc=function(e,i){var n=this.description.Pf(e);return 0<=n?this.ka[this.description.$j(n)+i]:t.ra.se(e)},i.prototype.yF=function(e,i){var n=this.description.Pf(e);return 0<=n?this.ka[this.description.$j(n)+i]:t.ra.se(e)},i.prototype.setAttribute=function(t,e,i){this.vc();var n=this.description.Pf(t);0>n&&(this.re(t),n=this.description.Pf(t)),null==this.ka&&this.un(),this.ka[this.description.$j(n)+e]=i},i.prototype.getType=function(){return 33},i.prototype.Db=function(){return 0},i.prototype.Oa=function(){this.vc(),null!=this.ka&&(this.ka[0]=NaN,this.ka[1]=NaN)},i.prototype.sn=function(e){if(null!=this.ka){for(var i=t.ee.Iw(e,this.description),n=[],r=0,s=0,o=e.Aa;s<o;s++){var a=e.kd(s),h=t.ra.Va(a);if(-1==i[s]){var l=t.ra.se(a);for(a=0;a<h;a++)n[r]=l,r++}else for(l=this.description.$j(i[s]),a=0;a<h;a++)n[r]=this.ka[l],r++,l++}this.ka=n}this.description=e},i.prototype.un=function(){this.lJ(this.description.Ae.length),i.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},i.prototype.Oc=function(e){if(e instanceof t.Dd){if(!this.Ac()){var i=this.D();e.Eh(i,i),this.Cb(i)}}else this.Ac()||(this.re(1),i=this.Cz(),this.dC(e.fp(i)))},i.prototype.copyTo=function(e){if(33!=e.getType())throw t.i.N();e.vc(),null==this.ka?(e.Oa(),e.ka=null,e.Nf(this.description)):(e.Nf(this.description),e.lJ(this.description.Ae.length),i.cE(this.ka,e.ka,this.description.Ae.length))},i.prototype.Ia=function(){return new i(this.description)},i.prototype.B=function(){return this.Ac()},i.prototype.Ac=function(){return null==this.ka||isNaN(this.ka[0])||isNaN(this.ka[1])},i.prototype.bn=function(t){t.Oa(),this.description!=t.description&&t.Nf(this.description),t.Zb(this)},i.prototype.A=function(t){this.Ac()?t.Oa():(t.v=this.ka[0],t.G=this.ka[1],t.C=this.ka[0],t.H=this.ka[1])},i.prototype.Qo=function(t){if(this.Ac())t.Oa();else{var e=this.Cz();t.v=e.x,t.G=e.y,t.Ye=e.z,t.C=e.x,t.H=e.y,t.Bg=e.z}},i.prototype.Tg=function(e,i){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(e=this.Uc(e,i),n.oa=e,n.va=e,n)},i.prototype.lJ=function(e){if(null==this.ka)this.ka=t.O.lg(e);else if(this.ka.length<e){for(var i=this.ka.slice(0),n=this.ka.length;n<e;n++)i[n]=0;this.ka=i}},i.cE=function(t,e,i){if(0<i)for(i=0;i<t.length;i++)e[i]=t[i]},i.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof i)||this.description!=t.description)return!1;if(this.Ac())return!!t.Ac();for(var e=0,n=this.description.Ae.length;e<n;e++)if(this.ka[e]!=t.ka[e])return!1;return!0},i.prototype.cc=function(){var e=this.description.cc();if(!this.Ac())for(var i=0,n=this.description.Ae.length;i<n;i++){var r=this.ka[i];r=t.O.truncate(r^r>>>32),e=t.O.Th(r,e)}return e},i.prototype.mg=function(){return null},i}(t.aa);t.Sa=e}(J||(J={})),function(t){var e=function(){function t(t,e,i){void 0!==t&&(this.x=t,this.y=e,this.z=i)}return t.construct=function(e,i,n){var r=new t;return r.x=e,r.y=i,r.z=n,r},t.prototype.K=function(t,e,i){this.x=t,this.y=e,this.z=i},t.prototype.lx=function(){this.z=this.y=this.x=0},t.prototype.normalize=function(){var t=this.length();0==t&&(this.x/=t,this.y/=t,this.z/=t)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y,this.z-e.z)},t.prototype.Ag=function(e){new t(this.x*e,this.y*e,this.z*e)},t.prototype.Qh=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t}();t.Nd=e}(J||(J={})),function(t){var e=function(){function e(t,e,i){this.Gw=this.DA=null,this.Xf=e,this.FT=e.y-i,this.ET=e.y+i,this.Ew=0,this.dA=t,this.qa=i,this.RT=i*i,this.eA=0!=i,this.Lv=!1}return e.prototype.result=function(){return 0!=this.Ew?1:0},e.prototype.ZM=function(e){return e=e.hc(e.fe(this.Xf,!1)),t.h.yc(e,this.Xf)<=this.RT},e.prototype.fF=function(t){if(!this.eA&&(this.dA&&this.Xf.qb(t.ac())||this.Xf.qb(t.wc())))this.Lv=!0;else if(t.na==this.Xf.y&&t.na==t.la){if(this.dA&&!this.eA){var e=Math.max(t.sa,t.pa);this.Xf.x>Math.min(t.sa,t.pa)&&this.Xf.x<e&&(this.Lv=!0)}}else{var i=!1;if(e=Math.max(t.sa,t.pa),this.Xf.x>e?i=!0:this.Xf.x>=Math.min(t.sa,t.pa)&&(i=0<t.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),i){if(this.Xf.y==t.ac().y){if(this.Xf.y<t.wc().y)return}else if(this.Xf.y==t.wc().y&&this.Xf.y<t.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(t.ac().y>t.wc().y?1:-1)}}},e.prototype.SI=function(t){var e=t.Tg(0,1);if(e.oa>this.ET||e.va<this.FT)return!1;if(this.eA&&this.ZM(t))return!0;if(e.oa>this.Xf.y||e.va<this.Xf.y)return!1;if(null==this.DA&&(this.DA=[null,null,null,null,null]),null==this.Gw&&(this.Gw=[0,0,0]),0<(e=t.eG()))for(t=0;t<e;t++){var i=this.DA[t].get();if(this.fF(i),this.Lv)return!0}else if(this.fF(t),this.Lv)return!0;return!1},e.PM=function(t,i,n){for(i=new e(0==t.In(),i,n),t=t.Ga();t.$a();)for(;t.Ha();)if(n=t.ha(),i.SI(n))return-1;return i.result()},e.QM=function(i,n,r,s){var o=new t.l;i.xc(o),o.W(s,s);var a=new e(0==i.In(),r,s);i=i.Ga();var h=new t.l;for(h.K(o),h.C=r.x+s,h.G=r.y-s,h.H=r.y+s,s=(r=n.MF(h,s)).next();-1!=s;s=r.next())if(i.Vb(n.ja(s)),i.Ha()&&(s=i.ha(),a.SI(s)))return-1;return a.result()},e.wm=function(i,n,r){if(i.B())return 0;var s=new t.l;if(i.xc(s),s.W(r,r),!s.contains(n))return 0;if(null!=(s=i.Bb)){var o=s.Fk;if(null!=o){if(1==(o=o.So(n.x,n.y)))return 1;if(0==o)return 0}if(null!=(s=s.Fb))return e.QM(i,s,n,r)}return e.PM(i,n,r)},e.bT=function(t,i,n){return i.B()?0:e.wm(t,i.D(),n)},e.Ml=function(t,e){return!(16>(t=t.I()))&&2*t+Math.log(t)/Math.log(2)*e<1*t*e},e}();t.Dg=e}(J||(J={})),function(t){var e=function(t){function e(e){return t.call(this,!0,e)||this}return Q(e,t),e.prototype.Ia=function(){return new e(this.description)},e.prototype.Db=function(){return 2},e.prototype.getType=function(){return 1736},e.prototype.xG=function(t,e,i){this.JS(t,e,i)},e.prototype.qR=function(){this.FR()},e}(t.Vk);t.Da=e}(J||(J={})),function(t){!function(t){t[t.PiPOutside=0]="PiPOutside",t[t.PiPInside=1]="PiPInside",t[t.PiPBoundary=2]="PiPBoundary"}(t.RL||(t.RL={})),t.hd=function(){function e(){}return e.KG=function(e,i,n){return 0==(e=t.Dg.bT(e,i,n))?0:1==e?1:2},e.Yd=function(e,i,n){return 0==(e=t.Dg.wm(e,i,n))?0:1==e?1:2},e.WX=function(i,n,r,s,o){if(n.length<r||o.length<r)throw t.i.N();for(var a=0;a<r;a++)o[a]=e.Yd(i,n[a],s)},e.sK=function(i,n,r,s,o){if(1736==i.getType())e.WX(i,n,r,s,o);else{if(197!=i.getType())throw t.i.fa("invalid_call");var a=new t.l;i.A(a),e.$M(a,n,r,s,o)}},e.$M=function(e,i,n,r,s){if(i.length<n||s.length<n)throw t.i.N();if(e.B())for(r=0;r<n;r++)s[r]=0;else for(e.W(.5*-r,.5*-r),e.W(.5*r,.5*r),r=0;r<n;r++)e.contains(i[r])?s[r]=1:e.contains(i[r])?s[r]=2:s[r]=0},e.YX=function(t,e,i,n,r){for(var s=0;s<i;s++)r[s]=t.qs(e[s],n)?2:0},e.XX=function(t,e,i,n,r){var s=t.Bb,o=null;null!=s&&(o=s.Fk),s=i;for(var a=0;a<i;a++)if(r[a]=1,null!=o){var h=e[a];0==o.So(h.x,h.y)&&(r[a]=0,s--)}if(0!=s)for(t=t.Ga();t.$a()&&0!=s;)for(;t.Ha()&&0!=s;)for(o=t.ha(),a=0;a<i&&0!=s;a++)1==r[a]&&o.qs(e[a],n)&&(r[a]=2,s--);for(a=0;a<i;a++)1==r[a]&&(r[a]=0)},e.tK=function(i,n,r,s,o){var a=i.getType();if(1607==a)e.XX(i,n,r,s,o);else{if(!t.aa.yd(a))throw t.i.fa("Invalid call.");e.YX(i,n,r,s,o)}},e}()}(J||(J={})),function(t){var e=function(t){function e(e,i){if(2==arguments.length){var n=t.call(this,!1,e.description)||this;n.nf(e),n.lineTo(i)}else n=t.call(this,!1,e)||this;return n}return Q(e,t),e.prototype.Ia=function(){return new e(this.description)},e.prototype.Db=function(){return 1},e.prototype.getType=function(){return 1607},e.prototype.xG=function(t,e,i){this.KS(t,e,i)},e}(t.Vk);t.Ta=e}(J||(J={})),function(t){var e=function(){function e(){}return e.prototype.progress=function(){return!0},e.zp=function(e){if(null!=e&&!e.progress(-1,-1))throw t.i.WC()},e}();t.mp=e}(J||(J={})),function(t){var e;(e=t.PK||(t.PK={}))[e.clipWithInputHorizon=1]="clipWithInputHorizon",e[e.clipWithOutputHorizon=2]="clipWithOutputHorizon";var i=function(){function t(){this.Kg=3,this.Vu=this.Jr=NaN}return t.prototype.PW=function(t){this.QB(1,t)},t.prototype.QW=function(t){this.QB(2,t)},t.prototype.hS=function(){return this.hs(1)},t.prototype.iS=function(){return this.hs(2)},t.prototype.QB=function(t,e){this.Kg=e?this.Kg|t:this.Kg&~t},t.prototype.hs=function(t){return!!(this.Kg&t)},t.prototype.Of=function(){var e=new t;return e.Jr=this.Jr,e.Vu=this.Vu,e.Kg=this.Kg,e},t}();t.yC=i,function(t){t[t.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",t[t.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(t.QK||(t.QK={}));var n=function(){function t(){this.Kg=0}return t.prototype.QB=function(t,e){this.Kg=e?this.Kg|t:this.Kg&~t},t.prototype.hs=function(t){return!!(this.Kg&t)},t.jg=function(e){var i=new t;return i.Kg=e.Kg,i},t.prototype.mM=function(t){this.Kg=t.Kg},t}();t.AY=n;var r=function(){function e(e,i,n){this.ef=e,this.Yf=i,this.Uf=new t.l,this.Uf.K(n),this.AT=e.cc()+i.cc()+this.Uf.cc().toString()}return e.prototype.cc=function(){return this.AT},e.prototype.Nb=function(t){return this==t||this.ef.Nb(t.ef)&&this.Yf.Nb(t.Yf)&&this.Uf.Nb(t.Uf)},e}();t.FY=r,r=function(){function e(){this.Yf=this.ef=null,this.rH=new i,this.sH=new n,this.ww=this.Wf=null,this.mw=this.Tn=!0}return e.Nr=function(t,i,n,r){var s;void 0===r&&(r=null),void 0===s&&(s=null);var o=new e;return o.qp(t,i,n,r,s),o},e.prototype.qp=function(e,i,n,r,s){if(null==e||null==i)throw t.i.fa("invalidArgument");if(this.ef=e,this.Yf=i,this.mw=this.Tn=!1,null!=r&&(this.rH=r.Of()),null!=s&&this.sH.mM(s),s=!1,1==i.Sb()&&null!=r&&(r=r.Jr,isNaN(r)||0==r||(s=!0)),e==i)this.Tn=!s,this.mw=!0;else{r=e.Sb();var o=i.Sb();if(0==r||0==o){if(null!=n)throw t.i.N();null!=e.Hd()&&null!=i.Hd()&&(this.Tn=e.Hd().Nb(i.Hd()))}else 3==r||3==o?this.Tn=e.Nb(i):this.ef.kS(this.Yf)?this.Tn=!s:this.Tn=!1,this.Wf=n,null!=this.Wf&&this.Wf.ix(),this.mw=(null==this.Wf||0==this.Wf.count())&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},e.prototype.isIdentity=function(){return this.Tn},e.prototype.nR=function(){return this.rH.Of()},e.prototype.Nb=function(t){return t==this||!!(t instanceof e&&this.ef.Nb(t.ef)&&this.Yf.Nb(t.Yf))&&(this.Wf==t.Wf||!(null==this.Wf||null==t.Wf||!this.Wf.Nb(t.Wf)))},e.prototype.oY=function(){this.ww=new t.bu(this)},e}(),t.vr=r}(J||(J={})),function(t){var e=function(){function e(){}return e.Cp=function(t){return t*e.oW},e.mx=function(t,i){return e.gP(i-t)},e.hP=function(e){return-360<=e&&720>e?(0>e?e+=360:360<=e&&(e-=360),e):(0>(e=t.lc.RK(e))&&(e+=360),e)},e.gP=function(t){return 180<(t=e.hP(t))&&(t-=360),t},e.oW=57.29577951308232,e}();t.qr=e,t.Hh=function(){function i(){}return i.lj=function(e,i){var n=new t.l;e.A(n);var r=t.cb.gh(i),s=new t.l;return s.K(r),s.v=n.v,s.C=n.C,s.W(.01*s.ca(),0),i=t.ta.Wd(i,n,!1),s.contains(n)?e:t.Ud.clip(e,s,i,0)},i.ks=function(e,n,r,s,o){if(!t.cb.Wc(n))throw t.i.N();var a=t.ta.kj(n,e,!1),h=t.cb.gh(n),l=t.cb.sc(n),u=l.Hd().ai,c=t.cb.vv(l);l=t.cb.ev(l),c*=2-c;var f=new t.Nc;h.cn(f);var p=[[0,0],[0,0]];if(2==t.Eg.Sb(n)?s?(p[0][0]=i.Zm(o,f),p[0][1]=h.Jp(),t.cb.vt(),h=p[0][0]*u):(p[0][0]=h.gk(),p[0][1]=o,t.cb.vt(),h=p[0][1]*u):h=o*u,!s&&0!=h)throw t.i.N();var d=new t.ga,v=new t.gd;e=v.Ib(e);for(var g=[0],y=new t.h,m=new t.h,_=new t.h,b=new t.h,w=new t.h,x=new t.h,S=v.Ob(e);-1!=S;S=v.Rb(S)){var T=v.Xa(S);v.D(T,_);for(var A=!1,E=T=v.U(T);-1!=E;E=v.U(E)){if(E==T){if(A)break;A=!0}if(v.D(E,b),s&&a<o-_.x&&b.x-o>a||a<o-b.x&&_.x-o>a||!s&&a<-_.y&&b.y>a||a<-b.y&&_.y>a)do{if(!(Math.abs(_.x-b.x)>=.5*f.R())){if(2==t.Eg.Sb(n)?(p[0][0]=i.Zm(_.x,f),p[0][1]=_.y,p[1][0]=i.Zm(b.x,f),p[1][1]=b.y,t.cb.dW(),w.x=p[0][0]*u,w.y=p[0][1]*u,x.x=p[1][0]*u,x.y=p[1][1]*u):(w.x=_.x*u,w.y=_.y*u,x.x=b.x*u,x.y=b.y*u),x.x=6.283185307179586*(b.x-_.x)/f.R()+w.x,s){if(m.x=h,m.y=i.Nz(l,c,w,x,h,r),isNaN(m.y))break}else{if(m.x=i.Lz(l,c,w,x,r),isNaN(m.x))break;m.y=0}t.kb.wd(l,c,w.x,w.y,x.x,x.y,d,null,null,r);var M=d.u;t.kb.wd(l,c,w.x,w.y,m.x,m.y,d,null,null,r);var I=d.u;2==t.Eg.Sb(n)?(p[0][0]=m.x/u,p[0][1]=m.y/u,t.cb.bR(),s?(y.y=p[0][1],y.x=o):(y.x=i.os(p[0][0],_.x,b.x,f),y.y=o)):s?(y.x=o,y.y=m.y/u):(y.x=i.os(m.x/u,_.x,b.x,f),y.y=o),g[0]=0<M?t.O.Rk(I/M,0,1):.5,0!=g[0]&&1!=g[0]&&(M=v.Ma(E),v.Ul(M,g,1),v.Cb(v.U(M),y.x,y.y))}}while(0);_.L(b)}}return v.Ne(e)},i.Fn=function(e,n,r,s,o){if(e.B())return e;var a=t.cb.bf(n);return i.Hp(e,r-180*a,360*a,n,s,o,!0)},i.Nz=function(e,n,r,s,o,a){if(3.141592653589793<=Math.abs(r.x-s.x)||!i.Sn(r.x,s.x,o))return NaN;if(r.x>s.x)var h=s;else h=r,r=s;s=new t.ga(0);var l=new t.ga(0),u=new t.ga(0);t.kb.wd(e,n,h.x,h.y,r.x,r.y,l,s,null,a);var c=l.u,f=0,p=1,d=new t.h;for(d.L(h);c*(p-f)>1e-12*e;){var v=.5*(f+p);if(t.kb.oj(e,n,h.x,h.y,c*v,s.u,l,u,a),d.x=l.u,d.y=u.u,d.x==o)break;if(i.Sn(h.x,d.x,o))p=v;else{if(!i.Sn(r.x,d.x,o))return NaN;f=v}}return d.y},i.Sn=function(t,i,n){return t=e.Cp(t),i=e.mx(t,e.Cp(i)),0==(n=e.mx(t,e.Cp(n)))||0<i&&0<n&&n<=i||0>i&&0>n&&n>=i},i.Zm=function(t,e){var i=e.va-e.oa;return e.It(t-Math.floor((t-e.oa)/i)*i)},i.os=function(e,i,n,r){var s=new t.Nc;for(s.K(i,n),n=r.R(),e=Math.floor((e-i)/n)*n+e,s=s.sf();Math.abs(e-s)>Math.abs(e+n-s);)e+=n;return e},i.Lz=function(e,i,n,r,s){if(n.y>r.y)var o=r;else o=n,n=r;if((r=new t.Nc).K(o.y,n.y),!r.contains(0)||3.141592653589793<=Math.abs(o.x-n.x))return NaN;if(o.x==n.x)return o.x;var a=new t.ga(0),h=new t.ga(0),l=new t.ga(0);t.kb.wd(e,i,o.x,o.y,n.x,n.y,h,a,null,s);var u=h.u,c=0,f=1,p=new t.h;for(p.L(o);u*(f-c)>1e-12*e;){var d=.5*(c+f);if(t.kb.oj(e,i,o.x,o.y,u*d,a.u,h,l,s),p.x=h.u,p.y=l.u,r.K(o.y,p.y),0==p.y)break;if(r.contains(0))f=d;else{if(r.K(n.y,p.y),!r.contains(0))return NaN;c=d}}return p.x},i.Hp=function(e,i,n,r,s,o,a){var h=new t.l;if(e.A(h),h.B())return e;var l=new t.Nc;h.cn(l);var u=new t.Nc;if(u.K(i,i+n),u.contains(l)&&u.va!=l.va)return e;var c=new t.l;c.K(h);var f=e.getType();if(33==f)return((h=(c=s?e:e.Of()).Lg())<u.oa||h>=u.va||a&&h==u.va)&&(h+=Math.ceil((u.oa-h)/n)*n,h=u.It(h),c.cC(h)),c;if(550==f){for(r=(c=s?e:e.Of()).ub(0),f=2*c.I(),e=!1,s=0;s<f;s+=2)((h=r.read(s))<u.oa||h>=u.va||a&&h==u.va)&&(e=!0,h+=Math.ceil((u.oa-h)/n)*n,h=u.It(h),r.write(s,h));return e&&c.Pc(1993),c}if(u.contains(l))return e;if(197==f)return n=s?e:e.Of(),h.Ea(c),n.Xo(h),n;var p=.1*Math.max(h.ca(),h.R());for(c.W(0,p),a=e,u=r.Xd(0),e=t.Gh.local(),s=new t.Dd;;){var d=Math.floor((l.oa-i)/n),v=Math.ceil((l.va-i)/n);if(!(3<v-d))break;d=Math.floor(.5*(v+d)),c.v=h.v-p,c.C=i+n*d;var g=t.Ud.clip(a,c,u,o);c.v=c.C,c.C=h.C+p;var y=t.Ud.clip(a,c,u,o);s.gg((d-v)*n,0),y.Oc(s),1736==f?a=e.V(g,y,r,null):(a=g).add(y,!1),a.A(h),h.cn(l)}for(c.v=i,c.C=i+n,(i=new t.l).K(c),i.W(u,0),0!=(i=Math.floor((h.v-c.v)/n)*n)?(c.move(i,0),s.gg(-i,0)):s.RB(),i=1607==f?new t.Ta(a.description):new t.Da(a.description),o=new t.l,l=new t.l;h.C>c.v;)(p=t.Ud.clip(a,c,u,0)).A(l),(1607==f?!p.B()&&(l.R()>u||l.ca()>u):!p.B()&&(1736!=f||l.R()>u))&&(p.Oc(s),p.A(l),i.A(o),o.W(u,u),o.isIntersecting(l)&&1736==f?i=e.V(i,p,r,null):i.add(p,!1)),c.move(n,0),s.shift(-n,0);return i},i.WI=function(e,i,n,r){var s=new t.de(n.description);s.Fd(n,0,-1),s=t.cb.zh(s,e,i);var o=n.I();if(r.Oa(),!t.cb.Wc(e)||o!=s.I())return!1;var a=new t.l;n.A(a);var h=new t.l;if(s.A(h),a=a.R(),h=h.R(),0!=a&&0!=h){if(h/=a,e=t.cb.gh(i).R()/t.cb.gh(e).R(),1e-10<Math.abs(h/e-1))return!1}else if(0!=a||0!=h)return!1;for(r.add(n,!1),n=0;n<o;n++)e=s.Na(n),r.Cb(n,e);return!0},i.Oz=function(){throw t.i.Ie()},i}()}(J||(J={})),function(t){var e,i,n;(i=e=t.si||(t.si={}))[i.Clip=0]="Clip",i[i.DontClip=1]="DontClip",i[i.PannableFold=2]="PannableFold",function(t){t[t.Geodesic=0]="Geodesic",t[t.Loxodrome=1]="Loxodrome",t[t.GreatElliptic=2]="GreatElliptic",t[t.NormalSection=3]="NormalSection",t[t.ShapePreserving=4]="ShapePreserving"}(n=t.WK||(t.WK={})),t.zb=function(){function i(){}return i.xv=function(e,i,n){if(n||0<i){for(e=e.toString(t.Sc.PE_STR_NAME_CANON|t.Sc.PE_STR_AUTH_NONE),i=[],n=0;n<e.length;n++)i[n]="a"<=e[n]&&"z">=e[n]?i[n]=e[n].toUpperCase():e[n];return i.join()}return e.toString(t.Sc.PE_STR_AUTH_TOP)},i.ur=function(e,i,n,r){var s=r.length,o=n.I();if(0!=o){var a=n.ub(0),h=Math.min(o,s),l=0,u=e.eh();isNaN(i)&&(i=0);for(var c=e.Wc(),f=179*(e=c?e.sc().Oe().R():0)/360;0<o;){if(a.uB(l<<1,h,r),t.ej.projToGeogCenter(u,h,r,i),c)for(var p=0;p<h;p++){var d=r[p][0]-i,v=t.lc.sign(d),g=a.read(2*(l+p));0>v*t.lc.sign(g)&&Math.abs(d)>f&&(r[p][0]+=-v*e)}a.uC(l<<1,h,r),l+=h,o-=h,h=Math.min(o,s)}n.Pc(1993)}},i.IL=function(e,i,n,r){var s=0,o=e.eh();isNaN(s)&&(s=0);var a=e.Wc(),h=e.bf();e=360*h,h*=179;for(var l=r.length,u=0;u<n;){for(var c=u;c<n&&i[c].isNaN();++c)u++;var f=Math.min(l,n-u);if(0<f){c=1;for(var p=u+1;c<f;++c,++p)if(i[p].isNaN()){f=c;break}if(t.ta.Jy(r,i,u,f),t.ej.projToGeogCenter(o,f,r,s),a)for(c=0,p=u;c<f;++c,++p){var d=i[p].x,v=r[c][0]-s,g=t.lc.sign(v);0>g*t.lc.sign(d)&&Math.abs(v)>h&&(r[c][0]-=g*e)}t.ta.Iy(i,u,r,f),u+=f}}},i.Lx=function(e,i,n){var r=n.length,s=i.I();if(!(1>s)){var o=i.ub(0),a=Math.min(s,r),h=0,l=e.eh(),u=e.Wc(),c=u?e.Oe().R():0,f=179*c/360,p=0;for(u&&(p=e.zi());0<s;){if(o.uB(h<<1,a,n),t.ej.geogToProj(l,a,n),u)for(e=0;e<a;e++){var d=n[e][0],v=t.lc.sign(d),g=o.read(2*(h+e))-p;0>v*t.lc.sign(g)&&Math.abs(d)>f&&(n[e][0]+=-v*c)}o.uC(h<<1,a,n),h+=a,s-=a,a=Math.min(s,r)}i.Pc(1993)}},i.HL=function(e,i,n,r){if(0!=n){var s=e.eh(),o=e.Wc(),a=o?e.Oe().R():0,h=179*a/360,l=0;for(o&&(l=e.zi()),e=0;e<n;){for(var u=e;u<n&&i[u].isNaN();++u)e++;var c=Math.min(r.length,n-e);if(0<c){u=1;for(var f=e+1;u<c;++u,++f)if(i[f].isNaN()){c=u;break}if(t.ta.Jy(r,i,e,c),t.ej.geogToProj(s,c,r),o)for(u=0,f=e;u<c;u++){var p=r[u][0],d=t.lc.sign(p);0>d*t.lc.sign(i[f].x-l)&&Math.abs(p)>h&&(r[u][0]-=d*a)}t.ta.Iy(i,e,r,c),e+=c}}}},i.tr=function(e,i,n,r){var s=i.I();if(0!=s){var o=i.ub(0),a=e.ef,h=e.Yf,l=a.sc().Qp(),u=h.sc().Qp(),c=a.bf(),f=h.bf();if(null==(e=e.Wf)||0==e.count()){for(n=l/u,r=(a.Up()-h.Up())*f,u=-90*c,e=90*c,l=!1,f=1,a=2*s;f<a;)c=o.get(f),(h=t.O.Rk(c,u,e))!=c&&(o.set(f,h),l=!0),f+=2;if(0!=r||1!=n)for(l=!0,u=new t.h,f=0;f<s;f++)o.tc(2*f,u),u.x*=n,u.x+=r,u.y*=n,o.Tt(2*f,u);l&&i.Pc(1993)}else{a=r.length,h=Math.min(s,a);var p=t.O.lg(h),d=null,v=0,g=NaN,y=NaN,m=360*f,_=f/c;n&&(y=90*f,g=89.9*c,d=t.O.lg(h));for(var b=!0,w=0;0!=s;){for(c=!1,o.uB(v<<1,h,r),f=0;f<h;f++)p[f]=r[f][0];if(n)for(f=0;f<h;f++){var x=Math.abs(r[f][1])-g;0<x&&(c=r[f][1],r[f][1]=t.lc.Cn(g,c),d[f]=t.lc.Cn(x,c),c=!0)}for(f=r[0][0],e.transform(r,h,l,u),b&&(w=r[0][0]-_*f,b=!1),f=0;f<h;f++)x=r[f][0]-p[f]*_-w,200<Math.abs(x)&&(r[f][0]=0<x?r[f][0]-m:r[f][0]+m);if(c){for(f=0;f<h;f++)0!=d[f]&&(r[f][1]+=_*d[f],r[f][1]>y?r[f][1]=y:r[f][1]<-y&&(r[f][1]=-y));for(c=0;c<h;c++)d[c]=0}o.uC(v<<1,h,r),v+=h,s-=h,h=Math.min(s,a)}i.Pc(1993)}}},i.GL=function(e,i,n,r){if(e.mw)r=90*e.ef.bf(),t.ta.dK(i,n,-r,r);else{var s=e.Wf,o=e.ef,a=e.Yf;e=o.Xr();var h=a.Xr(),l=o.bf(),u=90*l,c=a.bf();if(null==s||0==s.count()){if(r=e/h,s=(o.Up()-a.Up())*c,t.ta.dK(i,n,-u,u),0!=s||1!=r)for(c=0;c<n;c++)i[c].x*=r,i[c].x+=s,i[c].y*=r}else{o=Math.min(n,r.length),u=t.O.lg(o),a=360*c,l=c/l;for(var f=!0,p=0,d=0;0!=n;){for(c=0;c<o;c++)u[c]=i[c+d].x;for(c=i[0].x,t.ta.Jy(r,i,d,o),s.transform(r,o,e,h),t.ta.Iy(i,d,r,o),f&&(p=i[0].x-l*c,f=!1),c=0;c<o;c++){var v=i[d+c].x-u[c]*l-p;200<Math.abs(v)&&(i[d+c].x=0<v?i[d+c].x-a:i[d+c].x+a)}d+=o,n-=o,o=Math.min(n,r.length)}}}},i.dv=function(t,e){return t=t.gh(),isNaN(e)||t.Ju(e,0),t},i.UQ=function(e,n,r,s,o,a,h,l){for(var u=i.dv(s,o),c=u.R(),f=c/360,p=i.pE*f,d=e.ub(0),v=n.Wc(),g=v?c/n.Oe().R():0,y=!1,m=new t.Da(r.description),_=0,b=r.da();_<b;++_){var w=v,x=new t.Ta(r.description);if(x.addPath(r,_,!0),0!=h){var S=i.PD(!0,x,u.H-l,u.H,h);(y=y||S)&&(w=!1)}var T=-1;w&&(T=e.Ba(_));var A=x.ub(0),E=x.I(),M=0,I=A.read(0),C=0;S=3*s.Xd(0);var R=!1,N=new t.h;N.Rc();var O=new t.h;O.Rc();for(var D=!1,L=1;L<E;++L){var P=t.h.construct(A.eg(2*L),A.eg(2*L+1)),z=P.x,F=z+M,j=F-I;if(P.x=F,Math.abs(j)>p){if(w){var V=T+(L+1<E?L:0),B=d.read(2*(T+L-1));V=(d.read(2*V)-B)*g,Math.abs(j-V)>1*f&&(w=!1)}w||(F=z+(M-=t.lc.Cn(c,F-I)),++C,D=0!=M,P.x=F)}else R||t.ta.AG(O,N,P,S)&&(R=!0);D&&A.write(2*L,F),I=F,O.L(N),N.L(P)}0<C&&x.Pc(1993),w=x.Na(0),E=x.Na(E-1),x=t.h.tb(w,E)<S?i.uQ(x,s,o,a,R):i.vQ(e,_,x,s,o),m.add(x,!1)}return o=s.Xd(0),r=u.R()/180,i.Jt(m,u,.1*o,!1),m=m!=(o=t.ri.clip(m,u,o,r,a)),e=e.Ke(),h=0,0<(l=o.Ke())&&0>e?h=1:0>=l&&0<e&&(0==l?(l=NaN,2==n.Sb()?l=n.ml().Ke():1==n.Sb()&&(l=n.Oe().wF()),e>.99*l&&(h=-1)):h=-1),0!=h&&((n=new t.Da(o.description)).tp(u),(n=t.Xl.local().V(n,r,a)).add(o,!1),m=!0,o=n),m&&(o=t.Yl.local().V(o,s,!1,a)),o},i.vQ=function(e,n,r,s,o){var a=r.I(),h=r.Na(0),l=r.Na(a-1);o=(s=i.dv(s,o)).R(),h=t.lc.sign(l.x-h.x);var u=new t.l;r.xc(u);var c=s.gk();if(l=c-o,c+=o,0<=h){var f=Math.ceil((l-u.v)/o);for(f*=o;l>u.v+f;)f+=o;for(;l<u.C+f;)f-=o;var p=f;720<u.R()&&(c=l+360*Math.ceil(u.R()/360))}else{for(f=Math.ceil((c-u.C)/o),f*=o;c<u.C+f;)f-=o;for(;c>u.v+f;)f+=o;p=f,720<u.R()&&(l=c-360*Math.ceil(u.R()/360))}f=h*o;var d=t.l.construct(u.v,u.G,u.C,u.H);d.move(p,0);var v=new t.Dd;v.gg(p,0),r.Oc(v),(u=new t.Ta(r.description)).add(r,!1),p=r.Na(a-1),o=0;for(var g=u.Na(0).x,y=0;0<h?d.C<c:d.v>l;)1024<=y&&(y=0),d.move(f,0),v.Gb=f,r.Oc(v),g+=f,s.v<=g&&s.C>=g&&(o=u.I()-1),r.Cb(0,p),p=r.Na(a-1),u.Dr(r,0,0,a-1,!1);return r=new t.Da(u.description),a=0<e.Ir(n),r.add(u,!1),e=u.Na(0),l=u.Na(u.I()-1),n=r.da()-1,(0>h?a:!a)?(h=t.h.construct(l.x,s.H),r.Ci(h),h=t.h.construct(s.gk(),s.H),r.Ci(h),s=t.h.construct(e.x,s.H)):(h=t.h.construct(l.x,s.G),r.Ci(h),h=t.h.construct(s.gk(),s.G),r.Ci(h),s=t.h.construct(e.x,s.G)),r.Ci(s),r.xG(0,n,0),r.kO(o),r},i.uQ=function(e,n,r,s,o){var a=new t.Da(e.description);a.add(e,!1),a.DB(0,a.I()-1);var h=new t.l;a.xc(h);var l=(r=i.dv(n,r)).R(),u=Math.ceil((r.v-h.v)/l);for(u*=l;r.v>h.v+u;)u+=l;for(;r.v<h.C+u;)u-=l;if(0!=(u+=l)){h.move(u,0);var c=new t.Dd;c.gg(u,0),a.Oc(c)}if(r.v<=h.v&&r.C>h.C)return o&&(o=a.Ke(),n=(a=t.Yl.local().V(a,n,!0,s)).Ke(),(n=t.lc.sign(o)!=t.lc.sign(n))&&a.oJ()),a;for((e=new t.Da(e.description)).add(a,!1),o=o||h.R()>l-n.Xd(0);h.v<r.C;)h.move(l,0),(c=new t.Dd).gg(l,0),a.Oc(c),e.add(a,!1);return o&&(o=e.Ke(),e.Yo(1),n=(e=t.Yl.local().V(e,n,!0,s)).Ke(),(n=t.lc.sign(o)!=t.lc.sign(n))&&e.oJ()),e},i.PD=function(e,i,n,r,s){for(var o=i.ub(0),a=i.I(),h=!1,l=0;l<a;l++){var u=t.h.construct(o.eg(2*l),o.eg(2*l+1));if(1&s&&u.y>=n){h=!0;break}if(2&s&&u.y<=-n){h=!0;break}}if(!h)return!1;o=!1,e&&(o=i.Nn(0)),a=(e=new t.gd).Ib(i),h=e.Ob(a);var c=-1,f=!0,p=new t.h;p.Rc(),l=new t.Sa;for(var d=-1,v=e.Xa(h);-1!=v;v=e.U(v)){u=e.Na(v);var g=1&s&&90<=u.y?1:0;if(g|=2&s&&u.y<=-n?2:0,0<c&&c!=g){if(p.x!=u.x){p.x=u.x,e.Vi(e.Ma(v),l);var y=e.wj(h,v,l);e.mf(y,p)}if(o)for(d=-1!=d?e.U(d):e.Xa(h),y=e.Ma(v);d!=y;)d=e.pd(d,!1);d=-1}0<g&&(u.y=t.lc.Cn(r,u.y),e.mf(v,u),f||c==g||(u.x!=p.x?(e.Vi(v,l),y=e.wj(h,v,l),e.Cb(y,p.x,u.y),d=y):d=v)),c=g,p=u,f=!1}if(o){if(-1!=d)for(d=e.U(d);-1!=d;)d=e.pd(d,!1);n=e.Xa(h),e.fq(n,e.rj(h))||(e.Vi(n,l),e.wj(h,-1,l))}return e.Ne(a).copyTo(i),!0},i.Mz=function(n,r,s,o){var a=n;if(a.B()||s==e.DontClip)return a;var h=a.getType();if(33==h)return a=[(o=a).D()],i.yG(a,1,r,s),a[0].isNaN()?o.Oa():o.Cb(a[0]),n;var l=(n=r.sc()).bf(),u=90*l,c=180*l,f=360*l,p=r.zi(),d=.5*l,v=new t.l;a.A(v);var g=r.Vr(),y=r.PQ(),m=197==g.getType();if(r=new t.l,g.A(r),s==e.PannableFold&&(s=n.Oe().R(),r.v=p-.5*s,r.C=r.v+s),v.G<-u||v.H>u){if((new t.l).K(v.v-l,-u,v.C+l,u),(a=t.ri.Nu(a,r,n,NaN,0,o)).B())return a;a.A(v)}if(y&&(r.H<v.G||r.G>v.H))return a.Ia();if(v.R()>f&&(a=i.Hp(a,p-c,f,n,!0,0,!0,o)).A(v),0!=(u=i.eO(v.v,v.C,r.v,r.C,f))&&v.move(u,0),v.C>r.C||v.v<r.v){if(v.C>r.C)for(;v.v>=r.C;)v.move(-f,0),u-=f;for(;v.v<r.C-f;)v.move(f,0),u+=f}if(s=t.ta.Hu(n,g),0!=u&&((l=new t.Dd).gg(u,0),a.Oc(l)),y){if(m&&r.contains(v))return a;for(y=[null,null],u=0;2>u;u++){if(m?l=t.aa.Hc(h)?t.ri.clip(a,r,s,d,o):t.ri.clip(a,r,s,0,o):(l=t.Xj.local().V(a,g,n,o))==g&&(l=t.aa.jg(l)),r.v<=v.v&&r.C>=v.C||r.v>=v.v&&r.C<=v.C)return l;y[u]=l,0==u&&(v.move(-f,0),(l=new t.Dd).gg(-f,0),a.Oc(l))}if(550==h)y[0].Fd(y[1],0,-1);else if(t.aa.Hc(h))y[0].add(y[1],!1);else{if(33!=h)throw t.i.fa("intersect_with_GCS_horizon: unexpected geometry type");y[0].B()&&(y[0]=y[1])}return y[0]}if(r.H<v.G||r.G>v.H)return a;for(h=0;!a.B()&&v.C>r.v;)0!=h&&((l=new t.Dd).gg(h,0),a.Oc(l)),t.dj.local().V(4,a,g,n,o)||g==(a=t.kp.local().V(a,g,n,o))&&(a=t.aa.jg(a)),0!=h&&((d=new t.Dd).gg(-h,0),a.Oc(d)),h-=f,v.move(-f,0);return a},i.yG=function(n,r,s,o){if(0!=r&&o!=e.DontClip)if(o==e.PannableFold){o=s.HR();for(var a=r,h=0;h<r;h++)(n[h].y>o.H||n[h].y<o.G)&&(n[h].Rc(),a--);0!=a&&i.av(n,r,o.v,o.R())}else{var l=90*(o=s.bf()),u=180*o;for(o*=360,a=r,h=0;h<r;h++)(n[h].y>l||n[h].y<-l)&&(n[h].Rc(),a--);if(0!=a){(a=new t.l).Zw(n,r),l=s.Vr();var c=s.hv();h=197==l.getType();var f=new t.l;if(l.A(f),!c||!(f.H<a.G||f.G>a.H))if(c)if(i.av(n,r,f.gk()-u,o),a=r,h)for(h=0;h<r;h++)f.contains(n[h])||(n[h].Rc(),a--);else for(s=t.ta.Hu(s.sc(),l),h=0;h<r;h++)(u=0!=t.hd.Yd(l,n[h],s))||(n[h].Rc(),a--);else for(i.av(n,r,-u,o),a=r,s=t.ta.Hu(s.sc(),l),h=0;h<r;h++)(u=n[h]).isNaN()&&a--,c=i.tE(u.x,f.v,f.C,o),u.x+=c,(u=0!=t.hd.Yd(l,u,s))&&(n[h].Rc(),a--)}}},i.Hp=function(e,i,n,r,s,o,a,h){var l=e.getType(),u=i+n;if(33===l){var c=(r=s?e:e.Of()).Lg();return(c<i||c>=u||a&&c==u)&&(c+=Math.ceil((i-c)/n)*n,c=t.O.Rk(c,i,u),r.cC(c)),r}if(e.B())return e;if(c=new t.l,e.A(c),c.B())return e;var f=new t.Nc;c.cn(f);var p=new t.Nc;if(p.K(i,u),p.contains(f))return e;if((u=new t.l).K(c),550===l){for(h=(r=s?e:e.Of()).ub(0),l=2*r.I(),u=!1,i=0;i<l;i+=2)((c=h.read(i))<p.oa||c>=p.va||a&&c==p.va)&&(u=!0,c+=Math.ceil((p.oa-c)/n)*n,c=p.It(c),h.write(i,c));return u&&r.Pc(1993),r}if(197==l)return n=s?e:e.Of(),c.Ea(u),n.Xo(c),n;var d=.1*Math.max(c.ca(),c.R());for(u.W(0,d),a=e,p=r.Xd(0),e=t.Gh.local(),s=new t.Dd;;){var v=Math.floor((f.oa-i)/n),g=Math.ceil((f.va-i)/n);if(!(3<g-v))break;v=Math.floor(.5*(g+v)),u.v=c.v-d,u.C=i+n*v;var y=t.ri.clip(a,u,p,o,h);u.v=u.C,u.C=c.C+d;var m=t.ri.clip(a,u,p,o,h);s.gg((v-g)*n,0),m.Oc(s),1736==l?a=e.V(y,m,r,null):(a=y).add(m,!1),a.A(c),c.cn(f)}for(u.v=i,u.C=i+n,(i=new t.l).K(u),i.W(p,0),0!=(i=Math.floor((c.v-u.v)/n)*n)?(u.move(i,0),s.gg(-i,0)):s.RB(),i=1607==l?new t.Ta(a.description):new t.Da(a.description),o=new t.l,f=new t.l;c.C>u.v;)(d=t.ri.clip(a,u,p,0,h)).A(f),(1607==l?!d.B()&&(f.R()>p||f.ca()>p):!d.B()&&(1736!=l||f.R()>p))&&(d.Oc(s),d.A(f),i.A(o),o.W(p,p),o.isIntersecting(f)&&1736==l?i=e.V(i,d,r,null):i.add(d,!1)),u.move(n,0),s.shift(-n,0);return i},i.av=function(e,i,n,r){for(var s=n+r,o=0;o<i;o++){var a=e[o].x;n<=a&&a<s||!(a<n||a>s||a==s)||(a+=Math.ceil((n-a)/r)*r,a=t.O.Rk(a,n,s),e[o].x=a)}},i.Fn=function(e,n,r,s,o,a){if(!n.Wc())throw t.i.fa("fold_into_360_degree_range");if(e.B())return e;if(2==n.Sb()){r=n.pv();var h=n.ov()-r}else{var l=n.bf();h=360*l,r-=180*l}return i.Hp(e,r,h,n,s,o,!0,a)},i.qF=function(t,e,n,r){if(2==n.Sb())r=n.pv(),n=n.ov()-r;else{var s=n.bf();n=360*s,r-=180*s}i.av(t,e,r,n)},i.lj=function(e,i){var n=i.Oe();if(33==e.getType()){var r=e.ih();return n.G<=r&&r<=n.H?e:e.Ia()}r=new t.l,e.A(r);var s=new t.l;return s.K(n),s.v=r.v,s.C=r.C,s.W(.01*s.ca(),0),n=t.ta.uy(i,r),s.contains(r)?e:t.ri.clip(e,s,n,0,null)},i.ir=function(t,e,i){return t>e.C&&t-e.C<i?e.C:t<e.v&&e.v-t<i?e.v:t},i.FX=function(t,e,n,r){r.x=i.ir(t.x,e,n),r.y=t.y},i.EX=function(t,e,n,r){for(var s=0;s<e;s++)t[s].y<n.G||t[s].y>n.H?t[s].Rc():t[s].x=i.ir(t[s].x,n,r)},i.Jt=function(e,n,r,s){if(!e.B()){var o=e.getType();if(!s||1736!=o)if(t.aa.xj(o)){s=e.ub(0),o=0;for(var a=e.I();o<a;o++){var h=s.read(2*o),l=i.ir(h,n,r);l!=h&&s.write(2*o,l)}e.Pc(1993)}else if(197==o)s=new t.l,e.A(s),s.v=i.ir(s.v,n,r),s.C=i.ir(s.C,n,r),e.Xo(s);else{if(33!=o)throw t.i.fa("internal error");e.cC(i.ir(e.Lg(),n,r))}}},i.uS=function(e,n,r,s){var o=new t.gd,a=o.Ib(e);return e=t.ta.Hu(n,e),i.ks(o,a,n,e,r,!0,s),o.Ne(a)},i.ks=function(e,r,s,o,a,h,l){if(!s.Wc())throw t.i.N("invalid call");var u=s.Oe(),c=s.sc(),f=c.eh().getDatum().getSpheroid();c=c.Hd().ai;var p=f.getFlattening();f=f.getAxis(),p*=2-p;var d=new t.Nc;u.cn(d);var v=null,g=[[0,0],[0,0]];if(2==s.Sb()?(v=s.eh(),h?(g[0][0]=i.Zm(l,d),g[0][1]=u.Jp(),t.ej.projToGeog(v,1,g),u=g[0][0]*c):(g[0][0]=u.gk(),g[0][1]=l,t.ej.projToGeog(v,1,g),u=g[0][1]*c)):u=l*c,!h&&0!=u&&a!=n.GreatElliptic)throw t.i.fa("invalid argument");var y=new t.ga,m=[0],_=new t.h,b=new t.h,w=new t.h,x=[null,null],S=new t.h,T=new t.h,A=new t.h,E=new t.h;for(r=e.Ob(r);-1!=r;r=e.Rb(r)){var M=e.Xa(r);e.D(M,S);for(var I=!1,C=M=e.U(M);-1!=C;C=e.U(C)){if(C==M){if(I)break;I=!0}if(e.D(C,T),h&&(o<l-S.x&&T.x-l>o||o<l-T.x&&S.x-l>o)||!h&&(0!=l||o<-S.y&&T.y>o||o<-T.y&&S.y>o))do{if(!(Math.abs(S.x-T.x)>=.5*d.R())){if(2==s.Sb()?(g[0][0]=i.Zm(S.x,d),g[0][1]=S.y,g[1][0]=i.Zm(T.x,d),g[1][1]=T.y,t.ej.projToGeogCenter(v,2,g,0),A.x=g[0][0]*c,A.y=g[0][1]*c,E.y=g[1][1]*c):(A.x=S.x*c,A.y=S.y*c,E.y=T.y*c),E.x=2*(T.x-S.x)*Math.PI/d.R()+A.x,h){if(b.x=u,b.y=i.Nz(f,p,A,E,u,a),isNaN(b.y))break;x[0]=b;var R=1}else if(a==n.GreatElliptic){var N=[0,0];if(0==(R=t.Ox.Oz(p,A,E,u,N)))break;b.x=N[0],b.y=u,x[0]=b,2==R&&(w.x=N[1],w.y=u,x[1]=w)}else{if(b.x=i.Lz(f,p,A,E,a),isNaN(b.x))break;b.y=0,x[0]=b,R=1}var O=-1;for(N=0;N<R;N++){t.kb.wd(f,p,A.x,A.y,E.x,E.y,y,null,null,a);var D=y.u;t.kb.wd(f,p,A.x,A.y,x[N].x,x[N].y,y,null,null,a);var L=y.u;if(2==s.Sb()?(g[0][0]=x[N].x/c,g[0][1]=x[N].y/c,t.ej.geogToProj(v,1,g),h?(_.y=g[0][1],_.x=l):(_.x=i.os(g[0][0],S.x,T.x,d),_.y=l)):h?(_.x=l,_.y=x[N].y/c):(_.x=i.os(x[N].x/c,S.x,T.x,d),_.y=l),m[0]=0<D?t.O.Rk(L/D,0,1):.5,0==m[0]||1==m[0])break;O>m[0]||(O=e.Ma(C),e.Ul(O,m,1),e.Cb(e.U(O),_.x,_.y),O=m[0])}}}while(0);S.L(T)}}},i.Zm=function(t,e){var i=e.va-e.oa;return e.It(t-Math.floor((t-e.oa)/i)*i)},i.os=function(e,i,n,r){var s=new t.Nc;for(s.K(i,n),n=r.R(),e=Math.floor((e-i)/n)*n+e,s=s.sf();Math.abs(e-s)>Math.abs(e+n-s);)e+=n;return e},i.Sn=function(e,i,n){return e=t.qr.Cp(e),i=t.qr.mx(e,t.qr.Cp(i)),0==(n=t.qr.mx(e,t.qr.Cp(n)))||0<i&&0<n&&n<=i||0>i&&0>n&&n>=i},i.Nz=function(e,r,s,o,a,h){if(h==n.GreatElliptic)return t.Ox.SS(r,s,o,a);if(Math.abs(s.x-o.x)>=Math.PI||!i.Sn(s.x,o.x,a))return NaN;if(s.x>o.x)var l=o;else l=s,s=o;o=new t.ga;var u=new t.ga,c=new t.ga;t.kb.wd(e,r,l.x,l.y,s.x,s.y,u,o,null,h);var f=u.u,p=0,d=1,v=new t.h;for(v.L(l);f*(d-p)>1e-12*e;){var g=.5*(p+d);if(t.kb.oj(e,r,l.x,l.y,f*g,o.u,u,c,h),v.x=u.u,v.y=c.u,v.x==a)break;if(i.Sn(l.x,v.x,a))d=g;else{if(!i.Sn(s.x,v.x,a))return NaN;p=g}}return v.y},i.Lz=function(e,i,r,s,o){if(o==n.GreatElliptic)return e=[0,0],t.Ox.Oz(i,r,s,0,e),e[0];if(r.y>s.y)var a=s;else a=r,r=s;if((s=new t.Nc).K(a.y,r.y),!s.contains(0)||Math.abs(a.x-r.x)>=Math.PI)return NaN;if(a.x==r.x)return a.x;var h=new t.ga,l=new t.ga,u=new t.ga;t.kb.wd(e,i,a.x,a.y,r.x,r.y,l,h,null,o);var c=l.u,f=0,p=1,d=new t.h;for(d.L(a);c*(p-f)>1e-12*e;){var v=.5*(f+p);if(t.kb.oj(e,i,a.x,a.y,c*v,h.u,l,u,o),d.x=l.u,d.y=u.u,s.K(a.y,d.y),0==d.y)break;if(s.contains(0))p=v;else{if(s.K(r.y,d.y),!s.contains(0))return NaN;f=v}}return d.x},i.WI=function(e,i,n,r){if(!e.ef.Wc())return!1;var s=new t.de(i.description);if(s.Fd(i,0,-1),r=t.Hx.local().V(s,e,r),s=i.I(),n.Oa(),s!=r.I())return!1;var o=new t.l;i.A(o);var a=new t.l;if(r.A(a),o=o.R(),a=a.R(),0!=o&&0!=a){if(a/=o,e=e.Yf.gh().R()/e.ef.gh().R(),1e-10<Math.abs(a/e-1))return!1}else if(0!=o||0!=a)return!1;for(n.add(i,!1),i=new t.h,e=0;e<s;e++)r.D(e,i),n.Cb(e,i);return!0},i.qN=function(t,e){return(t%=360*e)>=180*e&&(t-=360*e),t},i.UI=function(n,r,s,o){if(s==e.Clip){var a=r.ml();197==a.getType()?(s=new t.l,a.A(s),a=t.ta.uy(r,s),n=t.ri.clip(n,s,a,5e4*r.pm(),o)):t.dj.local().V(1,a,n,r,o)||(n=t.Xj.local().V(n,a,r,o))==a&&(n=t.Vk.jg(n))}else r.Wc()&&(o=new t.l,n.xc(o),r.Oe().contains(o)||(i.Jt(n,r.Oe(),r.Xd(0),!0),s==e.PannableFold&&(n=i.lj(n,r)),n=i.Fn(n,r,0,!0,1e5*r.pm(),null)));return n},i.XD=function(e,i,n){var r=i.Wr();if(null==r)return e;var s=(i=i.sc()).Oe().R(),o=new t.l;e.xc(o);var a=new t.Nc;o.cn(a),o=r.Ga(),r=null;for(var h=new t.Dd;o.$a();)for(;o.Ha();){var l=o.ha(),u=l.Tg(0,0),c=new t.Nc;for(c.K(u.oa,u.va),u=0;c.va>a.oa;)c.move(-s),--u;for(;c.oa<=a.va;){if(c.isIntersecting(a)){null==r&&(r=new t.Ta);var f=t.yb.cP(l.ac(),l.wc());0!=u&&(h.gg(u*s,0),f.Oc(h)),r.oc(f,!0)}c.move(s),++u}}return null!=r?(i=t.ta.gO(i,r),i=t.ta.Er(i),t.$t.lP(e,r,i,n)):e},i.eO=function(t,e,n,r,s){return t>=n&&e<=r?0:i.tE(.5*(e+t),n,r,s)},i.tE=function(e,i,n,r){return t.lc.round((.5*(n+i)-e)/r)*r},i.VQ=function(e,n,r,s,o,a,h,l){var u=i.dv(s,o),c=u.R(),f=c/360,p=i.pE*f,d=e.ub(0),v=n.Wc(),g=v?c/n.Oe().R():0;n=e.Ia();for(var y=0,m=r.da();y<m;++y){var _=v,b=new t.Ta(r.description);b.addPath(r,y,!0);var w=r.dc(y);0!=h&&(w=i.PD(w,b,u.H-l,u.H,h))&&(_=!1);var x=-1;w=b.I();var S=!1;_&&(x=e.Ba(y),S=e.dc(y));var T=b.ub(0),A=0,E=T.read(0),M=0,I=3*s.Xd(0),C=!1,R=new t.h;R.Rc();var N=new t.h;N.Rc();for(var O=!1,D=1;D<w;++D){var L=t.h.construct(T.eg(2*D),T.eg(2*D+1)),P=L.x,z=P+A,F=z-E;if(L.x=z,Math.abs(F)>p){if(_){var j=x+D-1,V=x;(!S||D+1<w)&&(V+=D),j=d.read(2*j),V=(d.read(2*V)-j)*g,Math.abs(F-V)>1*f&&(v=!1)}_||(z=P+(A-=t.lc.Cn(c,z-E)),++M,O=0!=A,L.x=z)}else C||t.ta.AG(R,N,L,I)&&(C=!0);O&&T.write(2*D,z),E=z,R.L(N),N.L(L)}0!=M&&b.Pc(1993),_=b.Na(0),w=b.Na(w-1),t.h.tb(_,w),b=i.wQ(b,s,isNaN(o)?0:o,a),n.add(b,!1)}return e=s.Xd(0),r=u.R()/180,i.Jt(n,u,.1*e,!1),t.ri.clip(n,u,e,r,a)},i.wQ=function(t,e,n,r){return i.Fn(t,e,n,!0,0,r)},i.OS=function(e,i,n,r){var s=e.getType();if(1736==s)for(i=null!=i?i.Xd(0):0,s=0;s<r;s++)1!=t.hd.Yd(e,n[s],i)&&n[s].Rc();else{if(197!=s)throw t.i.N();for(s=0;s<r;s++)e.dP(n[s])||n[s].Rc()}},i.$k=function(e,i,n,r){if(32>n)for(var s=new t.Sa,o=0;o<n;o++)s.Cb(i[o]),e.$k(s,r).D(i[o]);else{var a=new t.de;for(a.re(3),a.HD(i,n),s=a.ub(3),o=0;o<n;o++)s.write(o,o);for(o=e.$k(a,r),e=o.ub(0),s=o.ub(3),r=t.h.construct(NaN,NaN),a=0;a<n;a++)i[a]=r;for(n=o.I(),o=0;o<n;o++)r=s.read(o),e.tc(2*o,i[r])}},i.Zk=function(e,i,n,r){if(32>n)for(var s=new t.Sa,o=0;o<n;o++)s.Cb(i[o]),e.Zk(s,r).D(i[o]);else{var a=new t.de;for(a.re(3),a.HD(i,n),s=a.ub(3),o=0;o<n;o++)s.write(o,o);for(o=e.Zk(a,r),e=o.ub(0),s=o.ub(3),r=t.h.construct(NaN,NaN),a=0;a<n;a++)i[a]=r;for(n=o.I(),o=0;o<n;o++)r=s.read(o),e.tc(2*o,i[r])}},i.pE=210,i}()}(J||(J={})),function(t){var e;(e=t.UL||(t.UL={}))[e.rightSide=1]="rightSide";var i=function(){function e(e,i,n){this.Bs=new t.h,void 0===e?this.Io=-1:(this.Bs.L(e),this.Io=i,this.Ka=n,this.nw=0)}return e.prototype.WJ=function(t){this.nw=t?1|this.nw:-2&this.nw},e.prototype.B=function(){return 0>this.Io},e.prototype.fz=function(){if(this.B())throw t.i.fa("invalid call");return new t.Sa(this.Bs.x,this.Bs.y)},e.prototype.Ua=function(){if(this.B())throw t.i.fa("invalid call");return this.Io},e.prototype.hz=function(){if(this.B())throw t.i.fa("invalid call");return this.Ka},e.prototype.Sz=function(){return!!(1&this.nw)},e.prototype.ey=function(t,e,i,n){this.Bs.x=t,this.Bs.y=e,this.Io=i,this.Ka=n},e}();t.$l=i}(J||(J={})),function(t){var e=function(){function e(){}return e.prototype.Uo=function(e,i){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,e.xc(this.Ek),this.Ek.W(i,i),this.Ek.isIntersecting(this.Fb.Ca)){var n=e.getType();(this.vs=t.aa.yd(n))?(this.TH=e.ac(),this.SH=e.wc(),this.qa=i):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},e.prototype.Xi=function(t,e){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(t),this.Ek.W(e,e),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},e.prototype.next=function(){if(0==this.th.size)return-1;this.tk=this.Qs;var e=null,n=null,r=null,s=null;this.vs&&(e=new t.h,n=new t.h,r=new t.l);for(var o=!1;!o;){for(;-1!=this.tk;){var a=this.Fb.bz(this.Fb.fv(this.tk));if(a.isIntersecting(this.Ek)){if(!this.vs){o=!0;break}if(e.L(this.TH),n.L(this.SH),r.K(a),r.W(this.qa,this.qa),0<r.zy(e,n)){o=!0;break}}this.tk=this.Fb.nv(this.tk)}if(-1==this.tk){a=this.th.Fc();var h=this.Ii[this.Ii.length-1];for(null==s&&((s=[])[0]=new t.l,s[1]=new t.l,s[2]=new t.l,s[3]=new t.l),i.EJ(h,s),this.th.If(),--this.Ii.length,h=0;4>h;h++){var l=this.Fb.Lp(a,h);if(-1!=l&&0<this.Fb.WR(l)&&s[h].isIntersecting(this.Ek))if(this.vs){if(e.L(this.TH),n.L(this.SH),r.K(s[h]),r.W(this.qa,this.qa),0<r.zy(e,n)){var u=new t.l;u.K(s[h]),this.th.add(l),this.Ii.push(u)}}else(u=new t.l).K(s[h]),this.th.add(l),this.Ii.push(u)}if(0==this.th.size)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},e.bP=function(i,n,r){var s=new e;return s.Fb=i,s.Ek=new t.l,s.th=new t.ia(0),s.Ii=[],s.Uo(n,r),s},e.aP=function(i,n,r){var s=new e;return s.Fb=i,s.Ek=new t.l,s.th=new t.ia(0),s.Ii=[],s.Xi(n,r),s},e.$O=function(i){var n=new e;return n.Fb=i,n.Ek=new t.l,n.th=new t.ia(0),n.Ii=[],n},e}();t.GY=e;var i=function(){function i(e,i){this.jf=new t.$c(11),this.Zh=new t.$c(5),this.ws=[],this.gw=new t.ia(0),this.Ca=new t.l,this.Nk(e,i)}return i.prototype.reset=function(t,e){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(t,e)},i.prototype.vj=function(t,e){return this.zv(t,e,0,this.Ca,this.kf,!1,-1)},i.prototype.Jz=function(t,e,i){i=-1==i?this.kf:this.WF(i);var n=this.ca(i),r=this.oR(i);return this.zv(t,e,n,r,i,!1,-1)},i.prototype.ja=function(t){return this.jR(t)},i.prototype.GF=function(t){return this.bz(this.fv(t))},i.prototype.ca=function(t){return this.jv(t)},i.prototype.oR=function(e){var i=new t.l;i.K(this.Ca);var n=this.jv(e);e=this.QF(e);for(var r=0;r<2*n;r+=2){var s=t.O.truncate(3&e>>r);0==s?(i.v=.5*(i.v+i.C),i.G=.5*(i.G+i.H)):1==s?(i.C=.5*(i.v+i.C),i.G=.5*(i.G+i.H)):(2==s?i.C=.5*(i.v+i.C):i.v=.5*(i.v+i.C),i.H=.5*(i.G+i.H))}return i},i.prototype.WR=function(t){return this.Az(t)},i.prototype.vR=function(t,i){return e.bP(this,t,i)},i.prototype.MF=function(t,i){return e.aP(this,t,i)},i.prototype.getIterator=function(){return e.$O(this)},i.prototype.Nk=function(e,i){if(0>i||32<2*i)throw t.i.N("invalid height");this.BT=i,this.Ca.K(e),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},i.prototype.zv=function(e,n,r,s,o,a,h){if(!s.contains(n))return 0==r?-1:this.zv(e,n,0,this.Ca,this.kf,a,h);if(!a)for(var l=o;-1!=l;l=this.IR(l))this.jx(l,this.Az(l)+1);(l=new t.l).K(s),s=o;var u=[];for(u[0]=new t.l,u[1]=new t.l,u[2]=new t.l,u[3]=new t.l;r<this.BT&&this.iO(s);r++){i.EJ(l,u);for(var c=!1,f=0;4>f;f++)if(u[f].contains(n)){c=!0;var p=this.Lp(s,f);-1==p&&(p=this.rP(s,f)),this.jx(p,this.Az(p)+1),s=p,l.K(u[f]);break}if(!c)break}return this.sS(e,n,r,l,s,a,o,h)},i.prototype.sS=function(t,e,i,n,r,s,o,a){var h=this.NF(r);if(s){if(r==o)return a;this.SP(a),s=a}else s=this.tP(),this.NB(s,t),this.KW(this.fv(s),e);return this.mX(s,r),-1!=h?(this.hx(s,h),this.bx(h,s)):this.GJ(r,s),this.SB(r,s),this.ax(r,this.lv(r)+1),this.hO(r)&&this.MQ(i,n,r),s},i.prototype.SP=function(t){var e=this.WF(t),i=this.NF(e),n=this.OR(t),r=this.nv(t);this.Ur(e)==t?(-1!=r?this.hx(r,-1):this.SB(e,-1),this.GJ(e,r)):i==t?(this.bx(n,-1),this.SB(e,n)):(this.hx(r,n),this.bx(n,r)),this.hx(t,-1),this.bx(t,-1),this.ax(e,this.lv(e)-1)},i.EJ=function(t,e){var i=.5*(t.v+t.C),n=.5*(t.G+t.H);e[0].K(i,n,t.C,t.H),e[1].K(t.v,n,i,t.H),e[2].K(t.v,t.G,i,n),e[3].K(i,t.G,t.C,n)},i.prototype.hO=function(t){return 8==this.lv(t)&&!this.gG(t)},i.prototype.MQ=function(t,e,i){var n=this.Ur(i);do{var r=this.fv(n),s=this.Zh.T(n,0);r=this.bz(r),this.zv(s,r,t,e,i,!0,n),n=s=this.nv(n)}while(-1!=n)},i.prototype.iO=function(t){return 8<=this.lv(t)||this.gG(t)},i.prototype.gG=function(t){return-1!=this.Lp(t,0)||-1!=this.Lp(t,1)||-1!=this.Lp(t,2)||-1!=this.Lp(t,3)},i.prototype.rP=function(t,e){var i=this.jf.Ce();return this.OW(t,e,i),this.jx(i,0),this.ax(i,0),this.Pk(i,t),this.KJ(i,this.jv(t)+1),this.NJ(i,e<<2*this.jv(t)|this.QF(t)),i},i.prototype.tP=function(){var e=this.Zh.Ce();if(0<this.gw.size){var i=this.gw.Fc();this.gw.If()}else i=this.ws.length,this.ws.push(new t.l);return this.LW(e,i),e},i.prototype.Lp=function(t,e){return this.jf.T(t,e)},i.prototype.OW=function(t,e,i){this.jf.S(t,e,i)},i.prototype.Ur=function(t){return this.jf.T(t,4)},i.prototype.GJ=function(t,e){this.jf.S(t,4,e)},i.prototype.NF=function(t){return this.jf.T(t,5)},i.prototype.SB=function(t,e){this.jf.S(t,5,e)},i.prototype.QF=function(t){return this.jf.T(t,6)},i.prototype.NJ=function(t,e){this.jf.S(t,6,e)},i.prototype.lv=function(t){return this.jf.T(t,7)},i.prototype.Az=function(t){return this.jf.T(t,8)},i.prototype.ax=function(t,e){this.jf.S(t,7,e)},i.prototype.jx=function(t,e){this.jf.S(t,8,e)},i.prototype.IR=function(t){return this.jf.T(t,9)},i.prototype.Pk=function(t,e){this.jf.S(t,9,e)},i.prototype.jv=function(t){return this.jf.T(t,10)},i.prototype.KJ=function(t,e){this.jf.S(t,10,e)},i.prototype.jR=function(t){return this.Zh.T(t,0)},i.prototype.NB=function(t,e){this.Zh.S(t,0,e)},i.prototype.OR=function(t){return this.Zh.T(t,1)},i.prototype.nv=function(t){return this.Zh.T(t,2)},i.prototype.hx=function(t,e){this.Zh.S(t,1,e)},i.prototype.bx=function(t,e){this.Zh.S(t,2,e)},i.prototype.WF=function(t){return this.Zh.T(t,3)},i.prototype.mX=function(t,e){this.Zh.S(t,3,e)},i.prototype.fv=function(t){return this.Zh.T(t,4)},i.prototype.LW=function(t,e){this.Zh.S(t,4,e)},i.prototype.bz=function(t){return this.ws[t]},i.prototype.KW=function(t,e){this.ws[t].K(e)},i}();t.du=i}(J||(J={})),function(t){var e;(e=t.aL||(t.aL={}))[e.Outside=0]="Outside",e[e.Inside=1]="Inside",e[e.Border=2]="Border";var i=function(){function t(t,e){this.PT=e,this.Vh=t}return t.prototype.setColor=function(t,e){this.iH!=e&&t.flush(),this.iH=e},t.prototype.gF=function(t,e){for(var i=0;i<e;)for(var n=t[i++],r=t[i++],s=t[i++]*this.PT;n<r;n++)this.Vh[s+(n>>4)]|=this.iH<<2*(15&n)},t}();t.HY=i;var n=function(){function e(t,e,i){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(t,e,i)}return e.create=function(i,n,r){if(!e.zE(i))throw t.i.N();return e.wP(i,n,r)},e.pW=function(e){switch(e){case 0:e=1024;break;case 1:e=16384;break;case 2:e=262144;break;default:throw t.i.fa("Internal Error")}return e},e.zE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType())},e.prototype.rQ=function(e,i){i=i.Ga();for(var n=new t.h,r=new t.h;i.$a();)for(;i.Ha();){var s=i.ha();if(322!=s.getType())throw t.i.fa("Internal Error");e.Eh(s.ac(),n),e.Eh(s.wc(),r),this.Ri.jy(n.x,n.y,r.x,r.y)}this.Ri.iJ(t.Px.Cx)},e.prototype.sQ=function(){throw t.i.fa("Internal Error")},e.prototype.Ry=function(e,i){for(var n=1;4>n;n++)e.jy(i[n-1].x,i[n-1].y,i[n].x,i[n].y);e.jy(i[3].x,i[3].y,i[0].x,i[0].y),this.Ri.iJ(t.Px.Cx)},e.prototype.rK=function(e,i,n){for(var r=[null,null,null,null],s=0;s<r.length;s++)r[s]=new t.h;i=i.Ga(),n=this.Jk.dY(n)+1.5,s=new t.h;for(var o=new t.h,a=new t.h,h=new t.h,l=new t.h,u=new t.l,c=new t.h;i.$a();){var f=!1,p=!0;for(c.ma(0,0);i.Ha();){var d=i.ha();if(h.x=d.sa,h.y=d.na,l.x=d.pa,l.y=d.la,u.Oa(),u.Zb(h.x,h.y),u.Lk(l.x,l.y),this.vl.HG(u)){this.Jk.Eh(l,l),p?(this.Jk.Eh(h,h),c.L(h),p=!1):h.L(c),s.uc(l,h);var v=.5>(d=s.length());0==d?s.ma(1,0):(v||c.L(l),s.scale(n/d),o.ma(-s.y,s.x),a.ma(s.y,-s.x),h.sub(s),l.add(s),r[0].add(h,o),r[1].add(h,a),r[2].add(l,a),r[3].add(l,o),v?f=!0:this.Ry(e,r))}else f&&(this.Ry(e,r),f=!1),p=!0}f&&this.Ry(e,r)}},e.prototype.sC=function(e){return t.O.truncate(e*this.qH+this.aI)},e.prototype.tC=function(e){return t.O.truncate(e*this.Es+this.cI)},e.wP=function(t,i,n){return new e(t,i,n)},e.prototype.Fz=function(e,n,r){this.Gf=Math.max(t.O.truncate(2*Math.sqrt(r)+.5),64),this.Um=t.O.truncate((2*this.Gf+31)/32),this.vl=new t.l,this.Ik=n,r=0;for(var s=this.Gf,o=this.Um;8<=s;)r+=s*o,s=t.O.truncate(s/2),o=t.O.truncate((2*s+31)/32);this.Vh=t.O.lg(r,0),this.Ri=new t.Px,r=new i(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,r),e.A(this.vl),this.vl.W(n,n),s=new t.l;var a=n*(o=t.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(n*=o.ca(),s.K(this.vl.sf(),Math.max(a,this.vl.R()),Math.max(n,this.vl.ca())),this.SA=this.Ik,this.Jk=new t.Dd,this.Jk.pS(s,o),new t.Dd,e.getType()){case 550:r.setColor(this.Ri,2),this.sQ();break;case 1607:r.setColor(this.Ri,2),this.rK(this.Ri,e,this.SA);break;case 1736:r.setColor(this.Ri,1),this.rQ(this.Jk,e),r.setColor(this.Ri,2),this.rK(this.Ri,e,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},e.prototype.XN=function(){this.Ri.flush();for(var e=0,i=this.Gf*this.Um,n=this.Gf,r=t.O.truncate(this.Gf/2),s=this.Um,o=t.O.truncate((2*r+31)/32);8<n;){for(n=0;n<r;n++)for(var a=2*n,h=2*n+1,l=0;l<r;l++){var u=2*l,c=2*l+1,f=u>>4;u=2*(15&u);var p=c>>4;c=2*(15&c);var d=this.Vh[e+s*a+f]>>u&3;d|=this.Vh[e+s*a+p]>>c&3,d|=this.Vh[e+s*h+f]>>u&3,d|=this.Vh[e+s*h+p]>>c&3,this.Vh[i+o*n+(l>>4)]|=d<<2*(15&l)}n=r,s=o,e=i,r=t.O.truncate(n/2),o=t.O.truncate((2*r+31)/32),i=e+s*n}},e.prototype.So=function(t,e){return this.vl.contains(t,e)?(t=this.sC(t),e=this.tC(e),0>t||t>=this.Gf||0>e||e>=this.Gf||0==(e=this.Vh[this.Um*e+(t>>4)]>>2*(15&t)&3)?0:1==e?1:2):0},e.prototype.Ro=function(e){if(!e.Ea(this.vl))return 0;var i=this.sC(e.v),n=this.sC(e.C),r=this.tC(e.G);if(e=this.tC(e.H),0>i&&(i=0),0>r&&(r=0),n>=this.Gf&&(n=this.Gf-1),e>=this.Gf&&(e=this.Gf-1),i>n||r>e)return 0;for(var s=Math.max(n-i,1)*Math.max(e-r,1),o=0,a=this.Um,h=this.Gf,l=0;;){if(32>s||16>h){for(s=r;s<=e;s++)for(var u=i;u<=n;u++)if(1<(l=this.Vh[o+a*s+(u>>4)]>>2*(15&u)&3))return 2;if(0==l)return 0;if(1==l)return 1}o+=a*h,h=t.O.truncate(h/2),a=t.O.truncate((2*h+31)/32),i=t.O.truncate(i/2),r=t.O.truncate(r/2),n=t.O.truncate(n/2),e=t.O.truncate(e/2),s=Math.max(n-i,1)*Math.max(e-r,1)}},e.prototype.RR=function(){return this.Gf*this.Um},e}();t.Nx=n}(J||(J={})),function(t){var e;(e=t.VL||(t.VL={}))[e.contains=1]="contains",e[e.within=2]="within",e[e.equals=3]="equals",e[e.disjoint=4]="disjoint",e[e.touches=8]="touches",e[e.crosses=16]="crosses",e[e.overlaps=32]="overlaps",e[e.unknown=0]="unknown",e[e.intersects=1073741824]="intersects";var i=function(){function t(){}return t.construct=function(e,i,n,r,s,o,a,h){var l=new t;return l.pw=e,l.Mm=i,l.Kj=n,l.Si=r,l.BH=s,l.SY=o,l.TY=a,l.UY=h,l},t}();t.Vt=function(){function e(){}return e.CD=function(i,n,r){if(e.wy(i)){var s=t.ta.kj(n,i,!1);n=!1,t.Uk.CE(i)&&(n=n||i.lu(s,r)),1736!=(s=i.getType())&&1607!=s||!t.Uk.AE(i)||0==r||(n=n||i.fj(r)),1736!=s&&1607!=s||!t.Uk.BE(i)||0==r||n||i.hM()}},e.wy=function(e){return t.Uk.CE(e)||t.Uk.AE(e)||t.Uk.BE(e)},e}();var n=function(){function e(){this.rh=[]}return e.zB=function(i,n,r,s,o){var a=i.getType(),h=n.getType();if(197==a){if(197==h)return e.tW(i,n,r,s);if(33==h)return 2==s?s=1:1==s&&(s=2),e.hJ(n,i,r,s)}else if(33==a){if(197==h)return e.hJ(i,n,r,s);if(33==h)return e.vW(i,n,r,s)}if(i.B()||n.B())return 4==s;var l=new t.l;i.A(l);var u=new t.l;n.A(u);var c=new t.l;if(c.K(l),c.Zb(u),r=t.ta.Wd(r,c,!1),e.dk(l,u,r))return 4==s;switch(l=!1,t.Vk.yd(a)&&((a=new t.Ta(i.description)).oc(i,!0),i=a,a=1607),t.Vk.yd(h)&&((h=new t.Ta(n.description)).oc(n,!0),n=h,h=1607),197!=a&&197!=h?(i.Db()<n.Db()||33==a&&550==h)&&(2==s?s=1:1==s&&(s=2)):1736!=a&&197!=h&&(2==s?s=1:1==s&&(s=2)),a){case 1736:switch(h){case 1736:l=e.rt(i,n,r,s,o);break;case 1607:l=e.$m(i,n,r,s,o);break;case 33:l=e.qt(i,n,r,s);break;case 550:l=e.pt(i,n,r,s,o);break;case 197:l=e.GI(i,n,r,s,o)}break;case 1607:switch(h){case 1736:l=e.$m(n,i,r,s,o);break;case 1607:l=e.gB(i,n,r,s,o);break;case 33:l=e.tt(i,n,r,s,o);break;case 550:l=e.st(i,n,r,s,o);break;case 197:l=e.MI(i,n,r,s)}break;case 33:switch(h){case 1736:l=e.qt(n,i,r,s);break;case 1607:l=e.tt(n,i,r,s,o);break;case 550:l=e.lt(n,i,r,s)}break;case 550:switch(h){case 1736:l=e.pt(n,i,r,s,o);break;case 1607:l=e.st(n,i,r,s,o);break;case 550:l=e.ZA(i,n,r,s,o);break;case 33:l=e.lt(i,n,r,s);break;case 197:l=e.hI(i,n,r,s)}break;case 197:switch(h){case 1736:l=e.GI(n,i,r,s,o);break;case 1607:l=e.MI(n,i,r,s);break;case 550:l=e.hI(n,i,r,s)}}return l},e.tW=function(i,n,r,s){if(i.B()||n.B())return 4==s;var o=new t.l,a=new t.l,h=new t.l;switch(i.A(o),n.A(a),h.K(o),h.Zb(a),i=t.ta.Wd(r,h,!1),s){case 4:return e.dk(o,a,i);case 2:return e.jF(a,o,i);case 1:return e.jF(o,a,i);case 3:return e.ek(o,a,i);case 8:return e.cQ(o,a,i);case 32:return e.bQ(o,a,i);case 16:return e.aQ(o,a,i)}return!1},e.hJ=function(i,n,r,s){if(i.B()||n.B())return 4==s;i=i.D();var o=new t.l,a=new t.l;switch(n.A(o),a.K(i),a.Zb(o),n=t.ta.Wd(r,a,!1),s){case 4:return e.Rw(i,o,n);case 2:return e.eB(i,o,n);case 1:return e.RU(i,o,n);case 3:return e.vI(i,o,n);case 8:return e.dB(i,o,n)}return!1},e.vW=function(i,n,r,s){if(i.B()||n.B())return 4==s;i=i.D(),n=n.D();var o=new t.l;switch(o.K(i),o.Zb(n),r=t.ta.Wd(r,o,!1),s){case 4:return e.SU(i,n,r);case 2:return e.uI(n,i,r);case 1:return e.uI(i,n,r);case 3:return e.wI(i,n,r)}return!1},e.rt=function(t,i,n,r,s){switch(r){case 4:return e.kV(t,i,n);case 2:return e.Sw(i,t,n,s);case 1:return e.Sw(t,i,n,s);case 3:return e.nV(t,i,n);case 8:return e.vV(t,i,n);case 32:return e.qV(t,i,n,s)}return!1},e.$m=function(t,i,n,r,s){switch(r){case 4:return e.lV(t,i,n);case 1:return e.fB(t,i,n,s);case 8:return e.wV(t,i,n,s);case 16:return e.gV(t,i,n)}return!1},e.qt=function(t,i,n,r){switch(r){case 4:return e.jV(t,i,n);case 1:return e.dV(t,i,n);case 8:return e.uV(t,i,n)}return!1},e.pt=function(t,i,n,r){switch(r){case 4:return e.iV(t,i,n);case 1:return e.cV(t,i,n);case 8:return e.tV(t,i,n);case 16:return e.fV(t,i,n)}return!1},e.GI=function(t,i,n,r,s){if(e.hV(t,i,n))return 4==r;if(4==r)return!1;switch(r){case 2:return e.xV(t,i,n);case 1:return e.bV(t,i,n);case 3:return e.mV(t,i,n);case 8:return e.sV(t,i,n,s);case 32:return e.pV(t,i,n,s);case 16:return e.eV(t,i,n,s)}return!1},e.gB=function(t,i,n,r){switch(r){case 4:return e.GV(t,i,n);case 2:return e.KI(i,t,n);case 1:return e.KI(t,i,n);case 3:return e.IV(t,i,n);case 8:return e.NI(t,i,n);case 32:return e.MV(t,i,n);case 16:return e.LI(t,i,n)}return!1},e.tt=function(t,i,n,r){switch(r){case 4:return e.FV(t,i,n);case 1:return e.AV(t,i,n);case 8:return e.QV(t,i,n)}return!1},e.st=function(t,i,n,r){switch(r){case 4:return e.EV(t,i,n);case 1:return e.zV(t,i,n);case 8:return e.PV(t,i,n);case 16:return e.CV(t,i,n)}return!1},e.MI=function(t,i,n,r){if(e.DV(t,i,n))return 4==r;if(4==r)return!1;switch(r){case 2:return e.RV(t,i,n);case 1:return e.yV(t,i,n);case 3:return e.HV(t,i,n);case 8:return e.OV(t,i,n);case 32:return e.LV(t,i,n);case 16:return e.BV(t,i,n)}return!1},e.ZA=function(t,i,n,r){switch(r){case 4:return e.gU(t,i,n);case 2:return e.eI(i,t,n);case 1:return e.eI(t,i,n);case 3:return e.iU(t,i,n);case 32:return e.oU(t,i,n)}return!1},e.lt=function(t,i,n,r){switch(r){case 4:return e.fI(t,i,n);case 2:return e.sU(t,i,n);case 1:return e.dU(t,i,n);case 3:return e.Nw(t,i,n)}return!1},e.hI=function(t,i,n,r){switch(r){case 4:return e.fU(t,i,n);case 2:return e.rU(t,i,n);case 1:return e.cU(t,i,n);case 3:return e.hU(t,i,n);case 8:return e.qU(t,i,n);case 16:return e.eU(t,i,n)}return!1},e.nV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.ek(s,o,r)&&4!=(s=e.qc(i,n,!1))&&1!=s&&2!=s&&(!!e.dI(i,n,r)||(s=i.Qb(),o=n.Qb(),!(Math.abs(s-o)>4*Math.max(i.I(),n.I())*r)&&e.Wz(i,n,r,!0)))},e.kV=function(t,i,n){var r=e.qc(t,i,!0);return 4==r||1!=r&&2!=r&&1073741824!=r&&e.EI(t,i,n)},e.vV=function(t,i,n){var r=e.qc(t,i,!1);return 4!=r&&1!=r&&2!=r&&e.II(t,i,n,null)},e.qV=function(t,i,n,r){var s=e.qc(t,i,!1);return 4!=s&&1!=s&&2!=s&&e.FI(t,i,n,r)},e.Sw=function(i,n,r,s){var o=new t.l,a=new t.l;return i.A(o),n.A(a),!!e.zc(o,a,r)&&4!=(o=e.qc(i,n,!1))&&2!=o&&(1==o||e.BI(i,n,r,s))},e.lV=function(t,i,n){var r=e.qc(t,i,!0);return 4==r||1!=r&&1073741824!=r&&e.EI(t,i,n)},e.wV=function(t,i,n,r){var s=e.qc(t,i,!1);return 4!=s&&1!=s&&e.JI(t,i,n,r)},e.gV=function(t,i,n){var r=e.qc(t,i,!1);return 4!=r&&1!=r&&e.DI(t,i,n,null)},e.fB=function(i,n,r,s){var o=new t.l,a=new t.l;return i.A(o),n.A(a),!!e.zc(o,a,r)&&4!=(o=e.qc(i,n,!1))&&(1==o||e.CI(i,n,r,s))},e.jV=function(e,i,n){return 0==t.hd.KG(e,i,n)},e.uV=function(t,i,n){return i=i.D(),e.HI(t,i,n)},e.dV=function(t,i,n){return i=i.D(),e.AI(t,i,n)},e.iV=function(i,n,r){var s=e.qc(i,n,!1);if(4==s)return!0;if(1==s)return!1;s=new t.l,i.A(s),s.W(r,r);for(var o=new t.h,a=0;a<n.I();a++)if(n.D(a,o),s.contains(o)){var h=t.hd.Yd(i,o,r);if(1==h||2==h)return!1}return!0},e.tV=function(e,i,n){var r=this.qc(e,i,!1);if(4==r||1==r)return!1;r=new t.l,e.A(r),r.W(n,n);for(var s=!1,o=e,a=!1,h=0;h<i.I();h++){var l=i.Na(h);if(r.contains(l))if(2==(l=t.hd.Yd(o,l,n)))s=!0;else if(1==l)return!1;a||(!t.Dg.Ml(e,i.I()-1)||null!=e.Bb&&null!=e.Bb.Fb?o=e:(o=new t.Da,e.copyTo(o),o.fj(1)),a=!0)}return!!s},e.fV=function(e,i,n){var r=this.qc(e,i,!1);if(4==r||1==r)return!1;var s=new t.l;r=new t.l;var o=new t.l;e.A(s),i.A(o),r.K(s),r.W(n,n),o=s=!1;for(var a=e,h=!1,l=0;l<i.I();l++){var u=i.Na(l);if(r.contains(u)?0==(u=t.hd.Yd(a,u,n))?o=!0:1==u&&(s=!0):o=!0,s&&o)return!0;h||(!t.Dg.Ml(e,i.I()-1)||null!=e.Bb&&null!=e.Bb.Fb?a=e:(a=new t.Da,e.copyTo(a),a.fj(1)),h=!0)}return!1},e.cV=function(e,i,n){var r=new t.l,s=new t.l;if(e.A(r),i.A(s),!this.zc(r,s,n))return!1;if(4==(s=this.qc(e,i,!1)))return!1;if(1==s)return!0;s=!1;for(var o=e,a=!1,h=0;h<i.I();h++){var l=i.Na(h);if(!r.contains(l))return!1;if(1==(l=t.hd.Yd(o,l,n)))s=!0;else if(0==l)return!1;a||(!t.Dg.Ml(e,i.I()-1)||null!=e.Bb&&null!=e.Bb.Fb?o=e:(o=new t.Da,e.copyTo(o),o.fj(1)),a=!0)}return s},e.mV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.ek(s,o,r)&&((s=new t.Da).ad(n,!1),e.Wz(i,s,r,!0))},e.hV=function(i,n,r){var s=e.qc(i,n,!1);if(4==s)return!0;if(1==s||2==s)return!1;var o=new t.l;if(s=new t.l,i.A(o),n.A(s),e.zc(s,o,r))return!1;if(o=new t.h,s.dn(o),0!=(n=t.hd.Yd(i,o,r)))return!1;if(s.$I(o),0!=(n=t.hd.Yd(i,o,r)))return!1;if(s.en(o),0!=(n=t.hd.Yd(i,o,r)))return!1;if(s.cJ(o),0!=(n=t.hd.Yd(i,o,r)))return!1;n=i.ub(0),(o=new t.l).K(s),o.W(r,r);for(var a=0,h=i.I();a<h;a++){var l=n.read(2*a),u=n.read(2*a+1);if(o.contains(l,u))return!1}return!e.TG(i,s,r)},e.sV=function(i,n,r,s){var o=e.qc(i,n,!1);if(4==o||1==o||2==o)return!1;o=new t.l;var a=new t.l;return i.A(o),n.A(a),!e.zc(a,o,r)&&(a.R()<=r&&a.ca()<=r?(n=n.Ip(),e.HI(i,n,r)):a.R()<=r||a.ca()<=r?(o=new t.Ta,a=new t.Sa,n.Hf(0,a),o.nf(a),n.Hf(2,a),o.lineTo(a),e.JI(i,o,r,s)):((o=new t.Da).ad(n,!1),e.II(i,o,r,s)))},e.pV=function(i,n,r,s){var o=e.qc(i,n,!1);if(4==o||1==o||2==o)return!1;o=new t.l;var a=new t.l;return i.A(o),n.A(a),!(e.zc(a,o,r)||a.R()<=r||a.ca()<=r)&&((o=new t.Da).ad(n,!1),e.FI(i,o,r,s))},e.xV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),e.zc(o,s,r)},e.bV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.zc(s,o,r)&&4!=(s=e.qc(i,n,!1))&&2!=s&&(1==s||(o.R()<=r&&o.ca()<=r?(n=n.Ip(),e.AI(i,n,r)):o.R()<=r||o.ca()<=r?(o=new t.Ta,s=new t.Sa,n.Hf(0,s),o.nf(s),n.Hf(2,s),o.lineTo(s),e.CI(i,o,r,null)):((o=new t.Da).ad(n,!1),e.BI(i,o,r,null))))},e.eV=function(i,n,r,s){var o=new t.l,a=new t.l;return i.A(o),n.A(a),!(e.zc(a,o,r)||a.ca()>r&&a.R()>r||a.ca()<=r&&a.R()<=r)&&(o=new t.Ta,a=new t.Sa,n.Hf(0,a),o.nf(a),n.Hf(2,a),o.lineTo(a),e.DI(i,o,r,s))},e.IV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(!e.ek(s,o,r)||4==e.qc(i,n,!1))&&(!!e.dI(i,n,r)||e.Wz(i,n,r,!1))},e.GV=function(e,i,n){return 4==this.qc(e,i,!1)||!!new t.Zl(e,i,n,!0).next()&&!this.UG(e,i,n)},e.NI=function(i,n,r){if(4==e.qc(i,n,!1))return!1;var s=new t.be(0);if(0!=e.Xz(i,n,r,s))return!1;for(var o=new t.de,a=0;a<s.size;a+=2){var h=s.read(a),l=s.read(a+1);o.Bu(h,l)}return i=i.mg(),n=n.mg(),i.Fd(n,0,n.I()),e.Mw(i,o,r)},e.LI=function(i,n,r){if(4==e.qc(i,n,!1))return!1;var s=new t.be(0);if(0!=e.Xz(i,n,r,s))return!1;for(var o=new t.de,a=0;a<s.size;a+=2){var h=s.read(a),l=s.read(a+1);o.Bu(h,l)}return i=i.mg(),n=n.mg(),i.Fd(n,0,n.I()),!e.Mw(i,o,r)},e.MV=function(t,i,n){return 4!=e.qc(t,i,!1)&&e.WG(t,i,n)},e.KI=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(!e.zc(s,o,r)||4==e.qc(i,n,!1))&&e.ym(n,i,r,!1)},e.FV=function(t,i,n){return 4==e.qc(t,i,!1)||(i=i.D(),!e.Yz(t,i,n))},e.QV=function(t,i,n){return 4!=e.qc(t,i,!1)&&(i=i.D(),e.Zz(t,i,n))},e.AV=function(t,i,n){return 4!=e.qc(t,i,!1)&&(i=i.D(),e.SG(t,i,n))},e.EV=function(t,i,n){return 4==e.qc(t,i,!1)||!e.VG(t,i,n,!1)},e.PV=function(e,i,n){if(4==this.qc(e,i,!1))return!1;var r=e.Ga(),s=new t.l,o=new t.l,a=new t.l;e.A(s),i.A(o),s.W(n,n),o.W(n,n),a.K(s),a.Ea(o),s=null;var h=e.Bb;if(null!=h){var l=h.Fb;s=h.zo,null==l&&(l=h=t.ta.jj(e,a))}else l=h=t.ta.jj(e,a);var u=l.getIterator(),c=null;null!=s&&(c=s.getIterator());var f=new t.h,p=new t.h,d=!1,v=n*n;for(s=new t.pn(i.I()),h=0;h<i.I();h++)s.write(h,0);for(h=0;h<i.I();h++)if(i.D(h,f),a.contains(f)){if(o.K(f.x,f.y,f.x,f.y),null!=c&&(c.Xi(o,n),-1==c.next()))continue;u.Xi(o,n);for(var g=u.next();-1!=g;g=u.next())if(r.Vb(l.ja(g)),(g=r.ha()).hc(g.fe(f,!1),p),t.h.yc(f,p)<=v){s.write(h,1),d=!0;break}}if(!d)return!1;for(e=e.mg(),r=new t.de,o=new t.h,h=0;h<i.I();h++)0!=s.read(h)&&(i.D(h,o),r.Bu(o.x,o.y));return this.Mw(e,r,n)},e.CV=function(e,i,n){if(4==this.qc(e,i,!1))return!1;var r=e.Ga(),s=new t.l,o=new t.l,a=new t.l;e.A(s),i.A(o),s.W(n,n),o.W(n,n),a.K(s),a.Ea(o),s=null;var h=e.Bb;if(null!=h){var l=h.Fb;s=h.zo,null==l&&(l=h=t.ta.jj(e,a))}else l=h=t.ta.jj(e,a);var u=l.getIterator(),c=null;null!=s&&(c=s.getIterator());var f=new t.h,p=new t.h,d=!1,v=!1,g=n*n;for(s=new t.pn(i.I()),h=0;h<i.I();h++)s.write(h,0);for(h=0;h<i.I();h++)if(i.D(h,f),a.contains(f)){if(o.K(f.x,f.y,f.x,f.y),null!=c&&(c.Xi(o,n),-1==c.next())){v=!0;continue}u.Xi(o,n);for(var y=!1,m=u.next();-1!=m;m=u.next())if(r.Vb(l.ja(m)),(m=r.ha()).hc(m.fe(f,!1),p),t.h.yc(f,p)<=g){s.write(h,1),y=d=!0;break}y||(v=!0)}else v=!0;if(!d||!v)return!1;for(e=e.mg(),r=new t.de,o=new t.h,h=0;h<i.I();h++)0!=s.read(h)&&(i.D(h,o),r.Bu(o.x,o.y));return!this.Mw(e,r,n)},e.zV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(!e.zc(s,o,r)||4==e.qc(i,n,!1)||!e.VG(i,n,r,!0)||(i=i.mg(),e.gI(i,n,r)))},e.HV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(o.ca()>r&&o.R()>r)&&e.ek(s,o,r)},e.DV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!e.zc(o,s,r)&&!e.TG(i,o,r)},e.OV=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),o.ca()<=r&&o.R()<=r)return o=n.Ip(),e.Zz(i,o,r);if(o.ca()<=r||o.R()<=r)return o=new t.Ta,s=new t.Sa,n.Hf(0,s),o.nf(s),n.Hf(2,s),o.lineTo(s),e.NI(i,o,r);i=i.Ga(),n=new t.l,s=new t.l,n.K(o),s.K(o),n.W(-r,-r),s.W(r,r),o=!1;for(var a=new t.l,h=new t.l;i.$a();)for(;i.Ha();){if(i.ha().A(a),h.K(n),h.Ea(a),!h.B()&&(h.ca()>r||h.R()>r))return!1;h.K(s),h.Ea(a),h.B()||(o=!0)}return o},e.LV=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(e.zc(s,o,r)||e.zc(o,s,r)||e.zc(o,s,r)||o.ca()>r&&o.R()>r||o.ca()<=r&&o.R()<=r)&&(s=new t.Ta,o=new t.Sa,n.Hf(0,o),s.nf(o),n.Hf(2,o),s.lineTo(o),e.WG(i,s,r))},e.RV=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),!e.zc(o,s,r)||o.ca()<=r&&o.R()<=r)return!1;if(o.ca()<=r||o.R()<=r)return e.zc(o,s,r);i=i.Ga(),(n=new t.l).K(o),n.W(-r,-r),o=!1,s=new t.l;for(var a=new t.l;i.$a();)for(;i.Ha();)i.ha().A(s),n.hm(s)?o=!0:(a.K(n),a.Ea(s),!a.B()&&(a.ca()>r||a.R()>r)&&(o=!0));return o},e.yV=function(i,n,r){var s=new t.l,o=new t.l;return n.A(o),i.A(s),!(!e.zc(s,o,r)||o.ca()>r&&o.R()>r)&&(o.ca()<=r&&o.R()<=r?(n=n.Ip(),e.SG(i,n,r)):(s=new t.Ta,o=new t.Sa,n.Hf(0,o),s.nf(o),n.Hf(2,o),s.lineTo(o),e.ym(s,i,r,!1)))},e.BV=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),e.zc(o,s,r)||o.ca()<=r&&o.R()<=r)return!1;if(o.ca()<=r||o.R()<=r)return s=new t.Ta,o=new t.Sa,n.Hf(0,o),s.nf(o),n.Hf(2,o),s.lineTo(o),e.LI(i,s,r);i=i.Ga(),n=new t.l,(s=new t.l).K(o),n.K(o),s.W(-r,-r),n.W(r,r);for(var a=o=!1,h=new t.l,l=new t.l;i.$a();)for(;i.Ha();)if(i.ha().A(h),a||n.contains(h)||(a=!0),o||(l.K(s),l.Ea(h),!l.B()&&(l.ca()>r||l.R()>r)&&(o=!0)),o&&a)return!0;return!1},e.iU=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.ek(s,o,r)&&(!!e.jU(i,n,r)||e.YA(i,n,r,!1,!0,!1))},e.gU=function(t,i,n){return!e.gI(t,i,n)},e.oU=function(t,i,n){return e.YA(t,i,n,!1,!1,!0)},e.eI=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!!e.zc(s,o,r)&&e.YA(n,i,r,!0,!1,!1)},e.Mw=function(e,i,n){n*=n;for(var r=new t.h,s=new t.h,o=0;o<i.I();o++){i.D(o,s);for(var a=!1,h=0;h<e.I();h++)if(e.D(h,r),t.h.yc(r,s)<=n){a=!0;break}if(!a)return!1}return!0},e.Nw=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),e.ek(s,o,r)},e.fI=function(t,i,n){return i=i.D(),e.kt(t,i,n)},e.sU=function(t,i,n){return e.Nw(t,i,n)},e.dU=function(t,i,n){return!e.fI(t,i,n)},e.hU=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(o.ca()>r||o.R()>r)&&e.ek(s,o,r)},e.fU=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),e.zc(o,s,r))return!1;for((n=new t.l).K(o),n.W(r,r),r=new t.h,o=0;o<i.I();o++)if(i.D(o,r),n.contains(r))return!1;return!0},e.qU=function(e,i,n){var r=new t.l,s=new t.l,o=new t.l;if(i.A(r),r.ca()<=n&&r.R()<=n)return!1;if(r.ca()<=n||r.R()<=n){i=new t.h;var a=!1;s.K(r),o.K(r),s.W(n,n),r.ca()>n?o.W(0,-n):o.W(-n,0);for(var h=0;h<e.I();h++)if(e.D(h,i),s.contains(i)){if(r.ca()>n){if(i.y>o.G&&i.y<o.H)return!1}else if(i.x>o.v&&i.x<o.C)return!1;a=!0}return a}for(s.K(r),o.K(r),s.W(n,n),o.W(-n,-n),i=new t.h,a=!1,h=0;h<e.I();h++)if(e.D(h,i),s.contains(i)){if(o.hm(i))return!1;a=!0}return a},e.rU=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),!e.zc(o,s,r))return!1;if(o.ca()<=r&&o.R()<=r)return e.ek(s,o,r);if(o.ca()<=r||o.R()<=r){n=!1,s=new t.l;var a=new t.l;s.K(o),a.K(o),o.ca()>r?s.W(0,-r):s.W(-r,0),a.W(r,r);for(var h=new t.h,l=0;l<i.I();l++){if(i.D(l,h),!a.contains(h))return!1;o.ca()>r?h.y>s.G&&h.y<s.H&&(n=!0):h.x>s.v&&h.x<s.C&&(n=!0)}return n}for(n=!1,s=new t.l,a=new t.l,s.K(o),a.K(o),s.W(-r,-r),a.W(r,r),h=new t.h,l=0;l<i.I();l++){if(i.D(l,h),!a.contains(h))return!1;s.hm(h)&&(n=!0)}return n},e.cU=function(i,n,r){var s=new t.l,o=new t.l;return i.A(s),n.A(o),!(!e.zc(s,o,r)||o.ca()>r||o.R()>r||(n=n.Ip(),e.kt(i,n,r)))},e.eU=function(i,n,r){var s=new t.l,o=new t.l;if(i.A(s),n.A(o),e.zc(o,s,r)||o.ca()<=r&&o.R()<=r)return!1;if(o.ca()<=r||o.R()<=r){n=new t.l,s=new t.l,n.K(o),o.ca()>r?n.W(0,-r):n.W(-r,0),s.K(o),s.W(r,r);for(var a=new t.h,h=!1,l=!1,u=0;u<i.I();u++)if(i.D(u,a),h||(o.ca()>r?a.y>n.G&&a.y<n.H&&(h=!0):a.x>n.v&&a.x<n.C&&(h=!0)),l||s.contains(a)||(l=!0),h&&l)return!0;return!1}for(n=new t.l,s=new t.l,n.K(o),n.W(-r,-r),s.K(o),s.W(r,r),a=new t.h,l=h=!1,u=0;u<i.I();u++)if(i.D(u,a),!h&&n.hm(a)&&(h=!0),l||s.contains(a)||(l=!0),h&&l)return!0;return!1},e.wI=function(e,i,n){return t.h.yc(e,i)<=n*n},e.SU=function(e,i,n){return t.h.yc(e,i)>n*n},e.uI=function(t,i,n){return e.wI(t,i,n)},e.vI=function(i,n,r){var s=new t.l;return s.K(i),e.ek(s,n,r)},e.Rw=function(e,i,n){var r=new t.l;return r.K(i),r.W(n,n),!r.contains(e)},e.dB=function(e,i,n){if(i.ca()<=n&&i.R()<=n)return!1;var r=new t.l,s=new t.l;if(r.K(i),r.W(n,n),!r.contains(e))return!1;if(i.ca()<=n||i.R()<=n){if(s.K(i),i.ca()>n?s.W(0,-n):s.W(-n,0),i.ca()>n){if(e.y>s.G&&e.y<s.H)return!1}else if(e.x>s.v&&e.x<s.C)return!1;return!0}return s.K(i),s.W(-n,-n),!s.hm(e)},e.eB=function(e,i,n){if(i.ca()<=n&&i.R()<=n)return!0;if(i.ca()<=n||i.R()<=n){var r=new t.l;r.K(i),i.ca()>n?r.W(0,-n):r.W(-n,0);var s=!1;return i.ca()>n?e.y>r.G&&e.y<r.H&&(s=!0):e.x>r.v&&e.x<r.C&&(s=!0),s}return(r=new t.l).K(i),r.W(-n,-n),r.hm(e)},e.RU=function(t,i,n){return e.vI(t,i,n)},e.ek=function(t,i,n){return e.zc(t,i,n)&&e.zc(i,t,n)},e.dk=function(e,i,n){var r=new t.l;return r.K(i),r.W(n,n),!e.isIntersecting(r)},e.cQ=function(i,n,r){if(i.ca()<=r&&i.R()<=r){var s=i.sf();return e.dB(s,n,r)}if(n.ca()<=r&&n.R()<=r)return s=n.sf(),e.dB(s,i,r);if(i.ca()>r&&i.R()>r&&(n.ca()<=r||n.R()<=r)?s=n:(s=i,i=n),s.ca()<=r||s.R()<=r){if(i.ca()<=r||i.R()<=r){n=new t.yb;var o=new t.yb,a=[0,0],h=[0,0],l=new t.h;return s.dn(l),n.Dc(l),s.en(l),n.Qc(l),i.dn(l),o.Dc(l),i.en(l),o.Qc(l),n.Ea(o,null,a,h,r),1==n.Ea(o,null,null,null,r)&&(0==a[0]||1==a[1]||0==h[0]||1==h[1])}return n=new t.l,o=new t.l,n.K(i),n.W(-r,-r),o.K(n),o.Ea(s),!(!o.B()&&(o.ca()>r||o.R()>r))}return i.W(r,r),(o=new t.l).K(s),o.Ea(i),!(o.B()||!o.B()&&o.ca()>r&&o.R()>r)},e.bQ=function(i,n,r){if(e.zc(i,n,r)||e.zc(n,i,r)||i.ca()<=r&&i.R()<=r||n.ca()<=r&&n.R()<=r)return!1;if(i.ca()<=r||i.R()<=r){if(n.ca()>r&&n.R()>r)return!1;var s=new t.yb,o=new t.yb,a=[0,0],h=[0,0],l=new t.h;return i.dn(l),s.Dc(l),i.en(l),s.Qc(l),n.dn(l),o.Dc(l),n.en(l),o.Qc(l),s.Ea(o,null,a,h,r),2==s.Ea(o,null,null,null,r)&&(0<a[0]||1>a[1])&&(0<h[0]||1>h[1])}return!(n.ca()<=r||n.R()<=r||((s=new t.l).K(i),s.Ea(n),s.B()||s.ca()<=r||s.R()<=r))},e.jF=function(i,n,r){if(!e.zc(i,n,r))return!1;if(i.ca()<=r&&i.R()<=r)return i=i.sf(),e.eB(i,n,r);if(n.ca()<=r&&n.R()<=r)return n=n.sf(),e.eB(n,i,r);if(i.ca()<=r||i.R()<=r)return e.zc(i,n,r);if(n.ca()<=r||n.R()<=r){var s=new t.l;return s.K(i),s.W(-r,-r),!!s.hm(n)||((i=new t.l).K(s),i.Ea(n),!(i.B()||i.ca()<=r&&i.R()<=r))}return e.zc(i,n,r)},e.aQ=function(i,n,r){if(e.zc(i,n,r)||e.zc(n,i,r)||i.ca()<=r&&i.R()<=r||n.ca()<=r&&n.R()<=r||n.ca()>r&&n.R()>r&&i.ca()>r&&i.R()>r)return!1;if(i.ca()>r&&i.R()>r)var s=n;else s=i,i=n;if(i.ca()>r&&i.R()>r){n=new t.l;var o=new t.l;return o.K(i),o.W(-r,-r),n.K(o),n.Ea(s),!(n.B()||n.ca()<=r&&n.R()<=r)}n=new t.yb,o=new t.yb;var a=[0,0],h=[0,0],l=new t.h;return s.dn(l),n.Dc(l),s.en(l),n.Qc(l),i.dn(l),o.Dc(l),i.en(l),o.Qc(l),n.Ea(o,null,a,h,r),1==n.Ea(o,null,null,null,r)&&0<a[0]&&1>a[1]&&0<h[0]&&1>h[1]},e.EI=function(e,i,n){var r=new t.l,s=new t.l,o=new t.Zl(e,i,n,!0);if(!o.next())return!0;if(this.UG(e,i,n))return!1;var a=e,h=null;1736==i.getType()&&(h=i);var l=!1,u=!1;do{var c=o.nl(),f=o.hl();if(f=i.Na(i.Ba(f)),r.K(o.uz()),r.W(n,n),r.contains(f)&&0!=(f=t.hd.Yd(a,f,0))||1736==i.getType()&&(c=e.Na(e.Ba(c)),s.K(o.az()),s.W(n,n),s.contains(c)&&0!=(f=t.hd.Yd(h,c,0))))return!1;l||(!t.Dg.Ml(e,i.da()-1)||null!=e.Bb&&null!=e.Bb.Fb?a=e:(a=new t.Da,e.copyTo(a),a.fj(1)),l=!0),1736!=i.getType()||u||(u=i,!t.Dg.Ml(u,e.da()-1)||null!=i.Bb&&null!=i.Bb.Fb?h=i:(h=new t.Da,u.copyTo(h),h.fj(1)),u=!0)}while(o.next());return!0},e.zc=function(e,i,n){var r=new t.l;return r.K(e),r.W(n,n),r.contains(i)},e.ls=function(e,i,n){var r=new t.l;return r.K(i),r.W(n,n),i=new t.h,e.dn(i),!(r.contains(i)&&(e.$I(i),r.contains(i)&&(e.cJ(i),r.contains(i)&&(e.en(i),r.contains(i)))))},e.dI=function(e,i,n){if(e.da()!=i.da()||e.I()!=i.I())return!1;var r=new t.h,s=new t.h,o=!0;n*=n;for(var a=0;a<e.da();a++){if(e.Vc(a)!=i.Vc(a)){o=!1;break}for(var h=e.Ba(a);h<i.Vc(a);h++)if(e.D(h,r),i.D(h,s),t.h.yc(r,s)>n){o=!1;break}if(!o)break}return!!o},e.jU=function(e,i,n){if(e.I()!=i.I())return!1;var r=new t.h,s=new t.h,o=!0;n*=n;for(var a=0;a<e.I();a++)if(e.D(a,r),i.D(a,s),t.h.yc(r,s)>n){o=!1;break}return!!o},e.YA=function(e,i,n,r,s,o){var a=!1;if(e.I()>i.I()){r&&(r=!1,a=!0);var h=i}else h=e,e=i;if(i=null,s||o||a){i=new t.pn(e.I());for(var l=0;l<e.I();l++)i.write(l,0)}l=new t.l;var u=new t.l,c=new t.l;h.A(l),e.A(u),l.W(n,n),u.W(n,n),c.K(l),c.Ea(u),u=new t.h;for(var f=new t.h,p=!0,d=t.ta.oE(e,c),v=d.getIterator(),g=n*n,y=0;y<h.I();y++)if(h.D(y,u),c.contains(u)){var m=!1;l.K(u.x,u.y,u.x,u.y),v.Xi(l,n);for(var _=v.next();-1!=_&&(_=d.ja(_),e.D(_,f),!(t.h.yc(u,f)<=g&&((s||o||a)&&i.write(_,1),m=!0,r)));_=v.next());if(!m&&(p=!1,s||r))return!1}else{if(s||r)return!1;p=!1}if(o&&p)return!1;if(r)return!0;for(l=0;l<e.I();l++)if(1==i.read(l)){if(o)return!0}else if(s||a)return!1;return!o},e.gI=function(e,i,n){if(e.I()>i.I())var r=i;else r=e,e=i;i=new t.l;var s=new t.l,o=new t.l;r.A(i),e.A(s),i.W(n,n),s.W(n,n),o.K(i),o.Ea(s),s=new t.h;for(var a=new t.h,h=n*n,l=t.ta.oE(e,o),u=l.getIterator(),c=0;c<r.I();c++)if(r.D(c,s),o.contains(s)){i.K(s.x,s.y,s.x,s.y),u.Xi(i,n);for(var f=u.next();-1!=f;f=u.next())if(e.D(l.ja(f),a),t.h.yc(s,a)<=h)return!0}return!1},e.Wz=function(t,i,n,r){return e.ym(t,i,n,r)&&e.ym(i,t,n,r)},e.ym=function(n,r,s,o){function a(t,e){return p.QE(t,e)}var h,l=[0,0],u=[0,0],c=0,f=new t.ia(0),p=new e,d=new t.l,v=new t.l,g=new t.l;n.A(d),r.A(v),d.W(s,s),v.W(s,s),g.K(d),g.Ea(v),n=n.Ga(),v=r.Ga();var y=null,m=y=null,_=r.Bb;for(null!=_?(y=_.Fb,m=_.zo,null==y&&(y=t.ta.jj(r,g))):y=t.ta.jj(r,g),r=y.getIterator(),_=null,null!=m&&(_=m.getIterator());n.$a();)for(;n.Ha();){var b=!1,w=n.ha();if(w.A(d),!d.isIntersecting(g))return!1;if(null!=_&&(_.Xi(d,s),-1==_.next()))return!1;for(m=w.Qb(),r.Uo(w,s),h=r.next();-1!=h;h=r.next()){v.Vb(y.ja(h)),h=v.ha();var x=w.Ea(h,null,l,u,s);if(2==x&&(!o||u[0]<=u[1])){var S=l[1],T=u[0],A=u[1];if((x=l[0])*m<=s&&(1-S)*m<=s){b=!0,c=0,f.resize(0),p.rh.length=0;var E=n.wb();for(T=!0;T;){if(n.Ha()){if(m=(w=n.ha()).Qb(),2==(x=w.Ea(h,null,l,u,s))&&(!o||u[0]<=u[1])&&(S=l[1],(x=l[0])*m<=s&&(1-S)*m<=s)){E=n.wb();continue}if(v.Ha()&&(h=v.ha(),2==(x=w.Ea(h,null,l,u,s))&&(!o||u[0]<=u[1])&&(S=l[1],(x=l[0])*m<=s&&(1-S)*m<=s))){E=n.wb();continue}}T=!1}E!=n.wb()&&(n.Vb(E),n.ha());break}E=n.wb(),h=i.construct(E,n.gb,x,S,v.wb(),v.gb,T,A),p.rh.push(h),f.add(f.size)}}if(!b){if(c==p.rh.length)return!1;for(1<f.size-c&&f.Vd(c,f.size,a),b=0;c<p.rh.length;c++)if(!((h=p.rh[f.get(c)]).Kj<b&&h.Si<b)){if(m*(h.Kj-b)>s)return!1;if(m*(1-(b=h.Si))<=s||1==b)break}if(m*(1-b)>s)return!1;c=0,f.resize(0),p.rh.length=0}}return!0},e.WG=function(i,n,r){if(1>e.Xz(i,n,r,null))return!1;var s=new t.l,o=new t.l;i.A(s),n.A(o);var a=e.ls(s,o,r);return s=e.ls(o,s,r),!((!a||!s)&&(a&&!s?e.ym(n,i,r,!1):s&&!a?e.ym(i,n,r,!1):e.ym(i,n,r,!1)||e.ym(n,i,r,!1)))},e.Xz=function(n,r,s,o){function a(t,e){return v.QE(t,e)}if(n.yz()>r.yz())var h=r,l=n;else h=n,l=r;n=h.Ga(),r=l.Ga();var u=[0,0],c=[0,0],f=-1,p=0,d=new t.ia(0),v=new e,g=new t.l,y=new t.l,m=new t.l;h.A(g),l.A(y),g.W(s,s),y.W(s,s),m.K(g),m.Ea(y),h=null,null!=o&&(h=new t.h);var _=y=y=null,b=l.Bb;for(null!=b?(y=b.Fb,_=b.zo,null==y&&(y=t.ta.jj(l,m))):y=t.ta.jj(l,m),l=y.getIterator(),b=null,null!=_&&(b=_.getIterator());n.$a();)for(_=0;n.Ha();){var w=n.ha();if(w.A(g),g.isIntersecting(m)){if(null!=b&&(b.Xi(g,s),-1==b.next()))continue;var x=w.Qb();l.Uo(w,s);for(var S=l.next();-1!=S;S=l.next()){var T=y.ja(S);r.Vb(T);var A=r.ha(),E=A.Qb(),M=w.Ea(A,null,u,c,s);if(0<M){S=u[0],f=c[0];var I=2==M?u[1]:NaN,C=2==M?c[1]:NaN;if(2==M){if(x*(I-S)>s)return 1;var R=x*(I-S);if(r.Ha()){if(A=r.ha(),2==(M=w.Ea(A,null,u,null,s))){var N=u[1];if(R+(M=x*(N-(M=u[0])))>s)return 1}r.Vb(T),r.ha()}if(!r.vm()){if(r.li(),A=r.li(),2==(M=w.Ea(A,null,u,null,s))&&R+(M=x*((N=u[1])-(M=u[0])))>s)return 1;r.Vb(T),r.ha()}if(n.Ha()){if(T=n.wb(),2==(M=(w=n.ha()).Ea(A,null,u,null,s))&&R+(M=x*((N=u[1])-(M=u[0])))>s)return 1;n.Vb(T),n.ha()}if(!n.vm()){if(T=n.wb(),n.li(),2==(M=(w=n.li()).Ea(A,null,u,null,s))&&R+(M=E*((N=u[1])-(M=u[0])))>s)return 1;n.Vb(T),n.ha()}A=i.construct(n.wb(),n.gb,S,I,r.wb(),r.gb,f,C),v.rh.push(A),d.add(d.size)}f=0,null!=o&&(w.hc(S,h),o.add(h.x),o.add(h.y))}}if(p<v.rh.length){for(d.Vd(p,d.size,a),w=0,S=v.rh[d.get(p)].Mm;p<v.rh.length;p++)if(!((A=v.rh[d.get(p)]).Kj<w&&A.Si<w))if(x*(A.Kj-w)>s)_=x*(A.Si-A.Kj),w=A.Si,S=A.Mm;else{if(A.Mm!=S?(_=x*(A.Si-A.Kj),S=A.Mm):_+=x*(A.Si-A.Kj),_>s)return 1;if(1==(w=A.Si))break}x*(1-w)>s&&(_=0),p=0,d.resize(0),v.rh.length=0}}}return f},e.UG=function(e,i,n){var r=e.Ga(),s=i.Ga();for(e=new t.Zl(e,i,n,!1);e.next();){i=e.nl();var o=e.hl();if(r.Vb(i),s.Vb(o),i=r.ha(),0<s.ha().Ea(i,null,null,null,n))return!0}return!1},e.VG=function(e,i,n,r){var s=e.Ga(),o=new t.l,a=new t.l,h=new t.l;e.A(o),i.A(a),o.W(n,n),o.contains(a),a.W(n,n),h.K(o),h.Ea(a),null!=(o=e.Bb)?null==(o=o.Fb)&&(o=t.ta.jj(e,h)):o=t.ta.jj(e,h),e=o.getIterator();for(var l=new t.h,u=new t.h,c=n*n,f=0;f<i.I();f++)if(i.D(f,l),h.contains(l)){a.K(l.x,l.y,l.x,l.y),e.Xi(a,n);for(var p=!1,d=e.next();-1!=d;d=e.next())if(s.Vb(o.ja(d)),(d=s.ha()).hc(d.fe(l,!1),u),t.h.yc(u,l)<=c){p=!0;break}if(r){if(!p)return!1}else if(p)return!0}return!!r},e.Yz=function(e,i,n){var r=new t.h,s=n*n,o=e.Ga();if(null!=(e=e.Bb)&&null!=(e=e.Fb)){var a=new t.l;for(a.K(i),a=(n=e.MF(a,n)).next();-1!=a;a=n.next())if(o.Vb(e.ja(a)),o.Ha()){var h=(a=o.ha()).fe(i,!1);if(a.hc(h,r),t.h.yc(i,r)<=s)return!0}return!1}for(e=new t.l;o.$a();)for(;o.Ha();)if((a=o.ha()).A(e),e.W(n,n),e.contains(i)&&(h=a.fe(i,!1),a.hc(h,r),t.h.yc(i,r)<=s))return!0;return!1},e.SG=function(t,i,n){return e.Yz(t,i,n)&&!e.Zz(t,i,n)},e.Zz=function(t,i,n){return t=t.mg(),!e.kt(t,i,n)},e.TG=function(e,i,n){if(e.tm()){var r=new t.yb(i.v,i.G,i.v,i.H),s=new t.yb(i.v,i.H,i.C,i.H),o=new t.yb(i.C,i.H,i.C,i.G);for(i=new t.yb(i.C,i.G,i.v,i.G),e=e.Ga();e.$a();)for(;e.Ha();){var a=e.ha();if(a.isIntersecting(r,n)||a.isIntersecting(s,n)||a.isIntersecting(o,n)||a.isIntersecting(i,n))return!0}}else{(r=new t.l).K(i),r.W(n,n),n=e.ub(0),s=new t.h,o=new t.h,i=new t.h,a=new t.h;for(var h=0,l=e.da();h<l;h++)for(var u=!0,c=e.Ba(h),f=e.Vc(h);c<f;c++)if(u)n.tc(2*c,o),u=!1;else{if(n.tc(2*c,s),i.L(o),a.L(s),0!=r.zy(i,a))return!0;o.L(s)}}return!1},e.qc=function(i,n,r){var s=i.getType(),o=n.getType();if(t.aa.xj(s)){var a=i.Bb;if(null!=a&&null!=(a=a.Fk))if(33==o){var h=n.D();if(1==(h=a.So(h.x,h.y)))return 1;if(0==h)return 4}else{if(h=new t.l,n.A(h),1==(h=a.Ro(h)))return 1;if(0==h)return 4;if(r&&t.aa.xj(o)&&e.HE(n,a))return 1073741824}}if(t.aa.xj(o)&&null!=(a=n.Bb)&&null!=(a=a.Fk))if(33==s){if(i=i.D(),1==(h=a.So(i.x,i.y)))return 2;if(0==h)return 4}else{if(n=new t.l,i.A(n),1==(h=a.Ro(n)))return 2;if(0==h)return 4;if(r&&t.aa.xj(s)&&e.HE(i,a))return 1073741824}return 0},e.HE=function(e,i){for(var n=e.I(),r=new t.h,s=0;s<n;s++)if(e.D(s,r),1==i.So(r.x,r.y))return!0;return!1},e.II=function(e,i,n,r){for(var s=1<=e.om(0)&&1<=i.om(0),o=e.Ga(),a=i.Ga(),h=[0,0],l=[0,0],u=new t.Zl(e,i,n,!1),c=!1;u.next();){var f=u.nl(),p=u.hl();if(o.Vb(f),a.Vb(p),f=o.ha(),2==(p=a.ha().Ea(f,null,l,h,n))){if(c=h[0],p=h[1],f=f.Qb(),s&&(p-c)*f>n)return!1;c=!0}else if(0!=p){if(f=l[0],0<(c=h[0])&&1>c&&0<f&&1>f)return!1;c=!0}}return!!c&&(o=new t.l,a=new t.l,s=new t.l,e.A(o),i.A(a),o.W(1e3*n,1e3*n),a.W(1e3*n,1e3*n),s.K(o),s.Ea(a),!(10<e.I()&&(e=t.Ud.clip(e,s,n,0),e.B())||10<i.I()&&(i=t.Ud.clip(i,s,n,0),i.B()))&&t.am.rt(e,i,n,"F********",r))},e.FI=function(i,n,r,s){var o=1<=i.om(0)&&1<=n.om(0),a=new t.l,h=new t.l,l=new t.l;i.A(a),n.A(h);for(var u=!1,c=e.ls(a,h,r),f=e.ls(h,a,r),p=i.Ga(),d=n.Ga(),v=[0,0],g=[0,0],y=new t.Zl(i,n,r,!1);y.next();){var m=y.nl(),_=y.hl();if(p.Vb(m),d.Vb(_),_=p.ha(),2==(m=d.ha().Ea(_,null,g,v,r))){m=v[0];var b=v[1];if(_=_.Qb(),o&&(b-m)*_>r&&(u=!0,c&&f))return!0}else if(0!=m&&(_=g[0],0<(m=v[0])&&1>m&&0<_&&1>_))return!0}if(o=new t.l,p=new t.l,o.K(a),o.W(1e3*r,1e3*r),p.K(h),p.W(1e3*r,1e3*r),l.K(o),l.Ea(p),a="",a=u?a+"**":a+"T*",c){if(10<n.I()&&(n=t.Ud.clip(n,l,r,0)).B())return!1;a+="****"}else a+="T***";if(f){if(10<i.I()&&(i=t.Ud.clip(i,l,r,0)).B())return!1;a+="***"}else a+="T**";return t.am.rt(i,n,r,a.toString(),s)},e.BI=function(i,n,r,s){var o=[!1],a=e.zI(i,n,r,o);return o[0]?a:(o=new t.l,n.A(o),o.W(1e3*r,1e3*r),!(10<i.I()&&(i=t.Ud.clip(i,o,r,0),i.B()))&&t.am.Sw(i,n,r,s))},e.zI=function(e,i,n,r){r[0]=!1;for(var s=e.Ga(),o=i.Ga(),a=[0,0],h=[0,0],l=new t.Zl(e,i,n,!1),u=!1;l.next();){var c=l.nl(),f=l.hl();if(s.Vb(c,-1),o.Vb(f,-1),c=s.ha(),0!=(c=o.ha().Ea(c,null,h,a,n))&&(u=!0,1==c&&(c=a[0],f=h[0],0<c&&1>c&&0<f&&1>f)))return r[0]=!0,!1}if(!u){for(r[0]=!0,a=new t.l,e.A(a),a.W(n,n),l=e,u=!1,h=new t.l,r=0,s=i.da();r<s;r++)if(0<i.Ja(r)){if(i.Rj(r,h),!a.isIntersecting(h))return!1;if(o=i.Na(i.Ba(r)),0==(o=t.Dg.wm(l,o,0)))return!1;u||(!t.Dg.Ml(e,i.da()-1)||null!=e.Bb&&null!=e.Bb.Fb?l=e:(o=new t.Da,e.copyTo(o),o.fj(1),l=o),u=!0)}if(1==e.da()||1607==i.getType())return!0;for(a=new t.l,i.A(a),a.W(n,n),h=i,l=!1,n=new t.l,r=0,s=e.da();r<s;r++)if(0<e.Ja(r)){if(e.Rj(r,n),a.isIntersecting(n)&&(o=e.Na(e.Ba(r)),1==(o=t.Dg.wm(h,o,0))))return!1;l||(!t.Dg.Ml(i,e.da()-1)||null!=i.Bb&&null!=i.Bb.Fb?h=i:(o=new t.Da,i.copyTo(o),o.fj(1),h=o),l=!0)}return!0}return!1},e.JI=function(e,i,n,r){for(var s=e.Ga(),o=i.Ga(),a=[0,0],h=[0,0],l=new t.Zl(e,i,n,!1),u=!1;l.next();){var c=l.nl(),f=l.hl();if(s.Vb(c),o.Vb(f),c=s.ha(),2==(c=o.ha().Ea(c,null,h,a,n)))u=!0;else if(0!=c){if(u=a[0],c=h[0],0<u&&1>u&&0<c&&1>c)return!1;u=!0}}return!!u&&(o=new t.l,a=new t.l,s=new t.l,e.A(o),i.A(a),o.W(1e3*n,1e3*n),a.W(1e3*n,1e3*n),s.K(o),s.Ea(a),!(10<e.I()&&(e=t.Ud.clip(e,s,n,0),e.B())||10<i.I()&&(i=t.Ud.clip(i,s,n,0),i.B()))&&t.am.$m(e,i,n,"F********",r))},e.DI=function(i,n,r,s){for(var o=i.Ga(),a=n.Ga(),h=[0,0],l=[0,0],u=new t.Zl(i,n,r,!1),c=!1;u.next();){var f=u.nl(),p=u.hl();if(o.Vb(f),a.Vb(p),f=o.ha(),2==(f=a.ha().Ea(f,null,l,h,r)))c=!0;else if(0!=f){if(c=h[0],f=l[0],0<c&&1>c&&0<f&&1>f)return!0;c=!0}}return!!c&&(a=new t.l,h=new t.l,l=new t.l,u=new t.l,o=new t.l,i.A(a),n.A(h),e.ls(h,a,r)?(l.K(a),l.W(1e3*r,1e3*r),u.K(h),u.W(1e3*r,1e3*r),o.K(l),o.Ea(u),!(10<i.I()&&(i=t.Ud.clip(i,o,r,0),i.B())||10<n.I()&&(n=t.Ud.clip(n,o,r,0),n.B()))&&(r=t.am.$m(i,n,r,"T********",s))):r=t.am.$m(i,n,r,"T*****T**",s))},e.CI=function(i,n,r,s){var o=[!1],a=e.zI(i,n,r,o);return o[0]?a:(o=new t.l,n.A(o),o.W(1e3*r,1e3*r),!(10<i.I()&&(i=t.Ud.clip(i,o,r,0),i.B()))&&t.am.fB(i,n,r,s))},e.AI=function(e,i,n){return 1==t.hd.Yd(e,i,n)},e.HI=function(e,i,n){return 2==t.hd.Yd(e,i,n)},e.kt=function(e,i,n){var r=new t.h;n*=n;for(var s=0;s<e.I();s++)if(e.D(s,r),t.h.yc(r,i)<=n)return!1;return!0},e.prototype.QE=function(t,e){return t=this.rh[t],e=this.rh[e],t.Mm<e.Mm||t.Mm==e.Mm&&(t.pw<e.pw||t.pw==e.pw&&(t.Kj<e.Kj||t.Kj==e.Kj&&(t.Si<e.Si||t.Si==e.Si&&t.BH<e.BH)))?-1:1},e}();t.ud=n}(J||(J={})),function(t){var e,i,n;(i=e||(e={}))[i.InteriorInterior=0]="InteriorInterior",i[i.InteriorBoundary=1]="InteriorBoundary",i[i.InteriorExterior=2]="InteriorExterior",i[i.BoundaryInterior=3]="BoundaryInterior",i[i.BoundaryBoundary=4]="BoundaryBoundary",i[i.BoundaryExterior=5]="BoundaryExterior",i[i.ExteriorInterior=6]="ExteriorInterior",i[i.ExteriorBoundary=7]="ExteriorBoundary",i[i.ExteriorExterior=8]="ExteriorExterior",function(t){t[t.AreaAreaPredicates=0]="AreaAreaPredicates",t[t.AreaLinePredicates=1]="AreaLinePredicates",t[t.LineLinePredicates=2]="LineLinePredicates",t[t.AreaPointPredicates=3]="AreaPointPredicates",t[t.LinePointPredicates=4]="LinePointPredicates",t[t.PointPointPredicates=5]="PointPointPredicates"}(n||(n={})),e=function(){function e(){this.le=0,this.j=new t.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return e.yB=function(e,i,n,r,s){if(9!=r.length)throw t.i.fa("relation string length has to be 9 characters");for(var o=0;9>o;o++){var a=r.charAt(o);if("*"!=a&&"T"!=a&&"F"!=a&&"0"!=a&&"1"!=a&&"2"!=a)throw t.i.fa("relation string")}if(0!=(o=this.MR(r,e.Db(),i.Db())))return t.ud.zB(e,i,n,o,s);o=new t.l,e.A(o),a=new t.l,i.A(a);var h=new t.l;if(h.K(o),h.Zb(a),n=t.ta.Wd(n,h,!1),e=this.WE(e,n),i=this.WE(i,n),e.B()||i.B())return this.uW(e,i,r);switch(o=e.getType(),a=i.getType(),h=!1,o){case 1736:switch(a){case 1736:h=this.rt(e,i,n,r,s);break;case 1607:h=this.$m(e,i,n,r,s);break;case 33:h=this.qt(e,i,n,r);break;case 550:h=this.pt(e,i,n,r,s)}break;case 1607:switch(a){case 1736:h=this.$m(i,e,n,this.Zp(r),s);break;case 1607:h=this.gB(e,i,n,r,s);break;case 33:h=this.tt(e,i,n,r,s);break;case 550:h=this.st(e,i,n,r,s)}break;case 33:switch(a){case 1736:h=this.qt(i,e,n,this.Zp(r));break;case 1607:h=this.tt(i,e,n,this.Zp(r),s);break;case 33:h=this.$U(e,i,n,r);break;case 550:h=this.lt(i,e,n,this.Zp(r))}break;case 550:switch(a){case 1736:h=this.pt(i,e,n,this.Zp(r),s);break;case 1607:h=this.st(i,e,n,this.Zp(r),s);break;case 550:h=this.ZA(e,i,n,r,s);break;case 33:h=this.lt(e,i,n,r)}break;default:h=!1}return h},e.rt=function(i,n,r,s,o){var a=new e;a.Yi(),a.bj(s),a.xJ();var h=new t.l,l=new t.l;return i.A(h),n.A(l),s=!1,t.ud.dk(h,l,r)&&(a.Cu(i,n),s=!0),s||(4==(h=t.ud.qc(i,n,!1))?(a.Cu(i,n),s=!0):1==h?(a.ly(n),s=!0):2==h&&(a.ZD(i),s=!0)),s||(i=(s=new t.gd).Ib(i),n=s.Ib(n),a.Wo(s,r,o),a.Bp(i,n),a.j.Ug()),e.fg(a.J,a.Xc)},e.Sw=function(i,n,r,s){var o=new e;o.Yi(),o.bj("T*****F**"),o.xJ();var a=new t.l,h=new t.l;i.A(a),n.A(h);var l=!1;return t.ud.dk(a,h,r)&&(o.Cu(i,n),l=!0),l||(4==(a=t.ud.qc(i,n,!1))?(o.Cu(i,n),l=!0):1==a?(o.ly(n),l=!0):2==a&&(o.ZD(i),l=!0)),l?this.fg(o.J,o.Xc):(i=(l=new t.gd).Ib(i),a=l.Ib(n),t.Tk.V(l,r,s,!1),r=l.Ne(a).mg(),l.Gp(0,!0,!0),t.rn.V(l,i,-1,!1,s),0!=l.I(i)&&(t.rn.V(l,a,-1,!1,s),o.er(l,s),(n=0==l.I(a))||(o.Bp(i,a),o.j.Ug(),a=this.fg(o.J,o.Xc))?(i=l.Ne(i),i=(l=new t.gd).Ib(i),a=l.Ib(r),o.er(l,s),o.le=0,o.Yi(),o.bj(n?"T*****F**":"******F**"),o.IB(),o.Bp(i,a),o.j.Ug(),this.fg(o.J,o.Xc)):a))},e.$m=function(i,n,r,s,o){var a=new e;a.Yi(),a.bj(s),a.IB();var h=new t.l,l=new t.l;return i.A(h),n.A(l),s=!1,t.ud.dk(h,l,r)&&(a.Du(i,n),s=!0),s||(4==(h=t.ud.qc(i,n,!1))?(a.Du(i,n),s=!0):1==h&&(a.$D(n),s=!0)),s||(i=(s=new t.gd).Ib(i),n=s.Ib(n),a.Wo(s,r,o),a.kh=a.j.Dp(),e.Jw(n,a.j,a.kh),a.Bp(i,n),a.j.Ep(a.kh),a.j.Ug()),e.fg(a.J,a.Xc)},e.fB=function(i,n,r,s){var o=new e;o.Yi(),o.bj("T*****F**"),o.IB();var a=new t.l,h=new t.l;i.A(a),n.A(h);var l=!1;return t.ud.dk(a,h,r)&&(o.Du(i,n),l=!0),l||(4==(a=t.ud.qc(i,n,!1))?(o.Du(i,n),l=!0):1==a&&(o.$D(n),l=!0)),l?this.fg(o.J,o.Xc):(i=(l=new t.gd).Ib(i),n=l.Ib(n),o.Wo(l,r,s),0!=l.I(i)&&(o.Bp(i,n),o.j.Ug(),this.fg(o.J,o.Xc)))},e.pt=function(i,n,r,s,o){var a=new e;a.Yi(),a.bj(s),a.yJ();var h=new t.l,l=new t.l;return i.A(h),n.A(l),s=!1,t.ud.dk(h,l,r)&&(a.Eu(i),s=!0),s||(4==(h=t.ud.qc(i,n,!1))?(a.Eu(i),s=!0):1==h&&(a.zN(),s=!0)),s||(i=(s=new t.gd).Ib(i),n=s.Ib(n),a.Wo(s,r,o),a.Gy(i,n),a.j.Ug()),e.fg(a.J,a.Xc)},e.gB=function(i,n,r,s,o){var a=new e;a.Yi(),a.bj(s),a.eX(),s=new t.l;var h=new t.l;i.A(s),n.A(h);var l=!1;return t.ud.dk(s,h,r)&&(a.PG(i,n),l=!0),l||4!=t.ud.qc(i,n,!1)||(a.PG(i,n),l=!0),l||(i=(s=new t.gd).Ib(i),n=s.Ib(n),a.Wo(s,r,o),a.Yh=a.j.Dp(),a.kh=a.j.Dp(),e.Jw(i,a.j,a.Yh),e.Jw(n,a.j,a.kh),a.Bp(i,n),a.j.Ep(a.Yh),a.j.Ep(a.kh),a.j.Ug()),e.fg(a.J,a.Xc)},e.st=function(i,n,r,s,o){var a=new e;a.Yi(),a.bj(s),a.MJ(),s=new t.l;var h=new t.l;i.A(s),n.A(h);var l=!1;return t.ud.dk(s,h,r)&&(a.Vz(i),l=!0),l||4!=t.ud.qc(i,n,!1)||(a.Vz(i),l=!0),l||(i=(s=new t.gd).Ib(i),n=s.Ib(n),a.Wo(s,r,o),a.Yh=a.j.Dp(),e.Jw(i,a.j,a.Yh),a.Gy(i,n),a.j.Ep(a.Yh),a.j.Ug()),e.fg(a.J,a.Xc)},e.ZA=function(i,n,r,s,o){var a=new e;a.Yi(),a.bj(s),a.RJ(),s=new t.l;var h=new t.l;i.A(s),n.A(h);var l=!1;return t.ud.dk(s,h,r)&&(a.yI(),l=!0),l||(i=(s=new t.gd).Ib(i),n=s.Ib(n),a.Wo(s,r,o),a.Gy(i,n),a.j.Ug()),e.fg(a.J,a.Xc)},e.qt=function(i,n,r,s){var o=new e;o.Yi(),o.bj(s),o.yJ();var a=new t.l;i.A(a),n=n.D();var h=!1;return t.ud.Rw(n,a,r)&&(o.Eu(i),h=!0),h||(1==(r=t.hd.Yd(i,n,r))?(o.J[0]=0,o.J[2]=2,o.J[3]=-1,o.J[5]=1,o.J[6]=-1):2==r?(o.J[6]=-1,0!=i.Ke()?(o.J[0]=-1,o.J[3]=0,o.J[2]=2,o.J[5]=1):(o.J[0]=0,o.J[3]=-1,o.J[5]=-1,r=new t.l,i.A(r),o.J[2]=0==r.ca()&&0==r.R()?-1:1)):o.Eu(i)),this.fg(o.J,s)},e.tt=function(i,n,r,s,o){var a=new e;a.Yi(),a.bj(s),a.MJ();var h=new t.l;i.A(h),s=n.D();var l=!1;if(t.ud.Rw(s,h,r)&&(a.Vz(i),l=!0),!l){h=null;var u=l=!1;(a.ea[0]||a.ea[6])&&(t.ud.Yz(i,s,r)?(a.ea[0]&&(h=t.pi.gm(i,o),u=!t.ud.kt(h,s,r),l=!0,a.J[0]=u?-1:0),a.J[6]=-1):(a.J[0]=-1,a.J[6]=0)),a.ea[3]&&(null!=h&&h.B()?a.J[3]=-1:(l||(null==h&&(h=t.pi.gm(i,o)),u=!t.ud.kt(h,s,r),l=!0),a.J[3]=u?0:-1)),a.ea[5]&&(null!=h&&h.B()?a.J[5]=-1:l&&!u?a.J[5]=0:(null==h&&(h=t.pi.gm(i,o)),o=t.ud.Nw(h,n,r),a.J[5]=o?-1:0)),a.ea[2]&&(0!=i.Qb()?a.J[2]=1:((o=new t.de(i.description)).Fd(i,0,i.I()),i=t.ud.Nw(o,n,r),a.J[2]=i?-1:0))}return this.fg(a.J,a.Xc)},e.lt=function(i,n,r,s){var o=new e;o.Yi(),o.bj(s),o.RJ();var a=new t.l;i.A(a),n=n.D();var h=!1;if(t.ud.Rw(n,a,r)&&(o.yI(),h=!0),!h){a=!1,h=!0,r*=r;for(var l=0;l<i.I();l++){var u=i.Na(l);if(t.h.yc(u,n)<=r?a=!0:h=!1,a&&!h)break}a?(o.J[0]=0,o.J[2]=h?-1:0,o.J[6]=-1):(o.J[0]=-1,o.J[2]=0,o.J[6]=0)}return e.fg(o.J,s)},e.$U=function(i,n,r,s){i=i.D(),n=n.D();for(var o=[],a=0;9>a;a++)o[a]=-1;return t.h.yc(i,n)<=r*r?o[0]=0:(o[2]=0,o[6]=0),o[8]=2,e.fg(o,s)},e.fg=function(t,e){for(var i=0;9>i;i++)switch(e.charAt(i)){case"T":if(-1==t[i])return!1;break;case"F":if(-1!=t[i])return!1;break;case"0":if(0!=t[i])return!1;break;case"1":if(1!=t[i])return!1;break;case"2":if(2!=t[i])return!1}return!0},e.uW=function(e,i,n){var r=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(e.B()&&i.B()){for(var s=0;9>s;s++)r[s]=-1;return this.fg(r,n)}return s=!1,e.B()&&(e=i,s=!0),r[0]=-1,r[1]=-1,r[3]=-1,r[4]=-1,r[6]=-1,r[7]=-1,r[8]=2,i=e.getType(),t.aa.Hc(i)?1736==i?0!=e.Ke()?(r[2]=2,r[5]=1):(r[5]=-1,i=new t.l,e.A(i),r[2]=0==i.ca()&&0==i.R()?0:1):(i=0!=e.Qb(),r[2]=i?1:0,r[5]=t.pi.aq(e)?0:-1):(r[2]=0,r[5]=-1),s&&this.vK(r),this.fg(r,n)},e.MR=function(t,i,n){return e.dQ(t)?3:e.UP(t)?4:e.cY(t,i,n)?8:e.CP(t,i,n)?16:e.eP(t)?1:e.EU(t,i,n)?32:0},e.dQ=function(t){return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"F"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"F"==t.charAt(5)&&"F"==t.charAt(6)&&"F"==t.charAt(7)&&"*"==t.charAt(8)},e.UP=function(t){return"F"==t.charAt(0)&&"F"==t.charAt(1)&&"*"==t.charAt(2)&&"F"==t.charAt(3)&&"F"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)},e.cY=function(t,e,i){return(0!=e||0!=i)&&((2!=e||2!=i)&&("F"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"T"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)||1==e&&1==i&&"F"==t.charAt(0)&&"T"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))||0!=i&&"F"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"T"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))},e.CP=function(t,e,i){return e>i?"T"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8):1==e&&1==i&&"0"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)},e.eP=function(t){return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"F"==t.charAt(6)&&"F"==t.charAt(7)&&"*"==t.charAt(8)},e.EU=function(t,e,i){if(e==i){if(1!=e)return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"T"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8);if("1"==t.charAt(0)&&"*"==t.charAt(1)&&"T"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))return!0}return!1},e.Jw=function(t,e,i){t=e.La(t);for(var n=e.Re;-1!=n;n=e.Rf(n))if(e.xd(n)&t){var r=e.Me(n);if(-1==r)e.nn(n,i,0);else{var s=r,o=0;do{!!(e.dh(s)&t)&&o++,s=e.jc(e.xa(s))}while(s!=r);e.nn(n,i,o)}}},e.Zp=function(t){var e=""+t.charAt(0);return e+=t.charAt(3),e+=t.charAt(6),e+=t.charAt(1),e+=t.charAt(4),e+=t.charAt(7),e+=t.charAt(2),(e+=t.charAt(5))+t.charAt(8)},e.prototype.Yi=function(){for(var t=0;9>t;t++)this.J[t]=-2,this.Za[t]=-2},e.vK=function(t){var e=t[1],i=t[2],n=t[5];t[1]=t[3],t[2]=t[6],t[5]=t[7],t[3]=e,t[6]=i,t[7]=n},e.prototype.bj=function(t){for(this.Xc=t,t=0;9>t;t++)"*"!=this.Xc.charAt(t)?(this.ea[t]=!0,this.le++):this.ea[t]=!1},e.prototype.UJ=function(){for(var t=0;9>t;t++)this.ea[t]&&-2==this.J[t]&&(this.J[t]=-1,this.ea[t]=!1)},e.prototype.pc=function(t){return!(-2==this.J[t]||(-1==this.J[t]?(this.ea[t]=!1,this.le--,0):"T"!=this.Xc.charAt(t)&&"F"!=this.Xc.charAt(t)&&this.J[t]<this.Za[t]||(this.ea[t]=!1,this.le--,0)))},e.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},e.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},e.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},e.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},e.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},e.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},e.prototype.xN=function(t,e,i){var n=!0;return this.ea[0]&&(this.CS(t,e,i),n=n&&this.pc(0)),this.ea[1]&&(this.sG(t,e,1),n=n&&this.pc(1)),this.ea[2]&&(this.tG(t,e,i,2),n=n&&this.pc(2)),this.ea[3]&&(this.sG(t,i,3),n=n&&this.pc(3)),this.ea[4]&&(this.BN(t,e,i),n=n&&this.pc(4)),this.ea[5]&&(this.eE(t,i,5),n=n&&this.pc(5)),this.ea[6]&&(this.tG(t,i,e,6),n=n&&this.pc(6)),this.ea[7]&&(this.eE(t,e,7),n=n&&this.pc(7)),n},e.prototype.Cu=function(t,e){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(t,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(e,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},e.prototype.Fr=function(e,i,n,r,s){-1==i&&-1==r||(("T"!=n&&"F"!=n&&-1!=i||"T"!=s&&"F"!=s&&-1!=r)&&0==e.Ke()?(-1!=r&&(this.J[r]=-1),-1!=i&&(n=new t.l,e.A(n),this.J[i]=0==n.ca()&&0==n.R()?0:1)):(-1!=i&&(this.J[i]=2),-1!=r&&(this.J[r]=1)))},e.prototype.ly=function(t){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(t,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},e.prototype.ZD=function(t){this.ly(t),e.vK(this.J)},e.prototype.Du=function(e,i){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var n=this.Xc.charAt(6);n="T"==n||"F"==n||0!=i.Qb(),this.J[6]=n?1:0}this.ea[7]&&(i=t.pi.aq(i),this.J[7]=i?0:-1),this.Fr(e,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},e.prototype.$D=function(e){if(this.ea[0]){var i=this.Xc.charAt(0);i="T"==i||"F"==i||0!=e.Qb(),this.J[0]=i?1:0}this.ea[1]&&(e=t.pi.aq(e),this.J[1]=e?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},e.prototype.Eu=function(t){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(t,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},e.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},e.prototype.PG=function(e,i){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var n=this.Xc.charAt(2);n="T"==n||"F"==n||0!=e.Qb(),this.J[2]=n?1:0}this.ea[5]&&(e=t.pi.aq(e),this.J[5]=e?0:-1),this.ea[6]&&(n="T"==(n=this.Xc.charAt(6))||"F"==n||0!=i.Qb(),this.J[6]=n?1:0),this.ea[7]&&(i=t.pi.aq(i),this.J[7]=i?0:-1)},e.prototype.Vz=function(e){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var i=this.Xc.charAt(2);i="T"==i||"F"==i||0!=e.Qb(),this.J[2]=i?1:0}this.ea[5]&&(e=t.pi.aq(e),this.J[5]=e?0:-1),this.J[6]=0},e.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},e.prototype.yN=function(t,e,i){var n=!0;return this.ea[0]&&(this.DS(t,e),n=n&&this.pc(0)),this.ea[1]&&(this.zS(t,e,i,this.kh),n=n&&this.pc(1)),this.ea[2]&&(this.AS(t,e),n=n&&this.pc(2)),this.ea[3]&&(this.FN(t,e,i,this.kh),n=n&&this.pc(3)),this.ea[4]&&(this.CN(t,e,i,this.kh),n=n&&this.pc(4)),this.ea[5]&&(this.DN(t,e,i),n=n&&this.pc(5)),this.ea[6]&&(this.lQ(t,e),n=n&&this.pc(6)),this.ea[7]&&(this.kQ(t,e,i,this.kh),n=n&&this.pc(7)),n},e.prototype.mT=function(t,e,i){var n=!0;return this.ea[0]&&(this.GS(t,e,i,this.Yh,this.kh),n=n&&this.pc(0)),this.ea[1]&&(this.uG(t,e,i,this.Yh,this.kh,1),n=n&&this.pc(1)),this.ea[2]&&(this.vG(t,e,i,2),n=n&&this.pc(2)),this.ea[3]&&(this.uG(t,i,e,this.kh,this.Yh,3),n=n&&this.pc(3)),this.ea[4]&&(this.HN(t,e,i,this.Yh,this.kh),n=n&&this.pc(4)),this.ea[5]&&(this.fE(t,i,this.Yh,5),n=n&&this.pc(5)),this.ea[6]&&(this.vG(t,i,e,6),n=n&&this.pc(6)),this.ea[7]&&(this.fE(t,e,this.kh,7),n=n&&this.pc(7)),n},e.prototype.aE=function(t,e,i){var n=!0;return this.ea[0]&&(this.ES(t,e),n=n&&this.pc(0)),this.ea[2]&&(this.BS(t,e),n=n&&this.pc(2)),this.ea[3]&&(this.GN(t,e,i),n=n&&this.pc(3)),this.ea[5]&&(this.EN(t,e),n=n&&this.pc(5)),this.ea[6]&&(this.mQ(t,e),n=n&&this.pc(6)),n},e.prototype.QG=function(t,e,i){var n=!0;return this.ea[0]&&(this.HS(t,e,i,this.Yh),n=n&&this.pc(0)),this.ea[2]&&(this.FS(t,i),n=n&&this.pc(2)),this.ea[3]&&(this.JN(t,e,i,this.Yh),n=n&&this.pc(3)),this.ea[5]&&(this.IN(t,e,i,this.Yh),n=n&&this.pc(5)),this.ea[6]&&(this.nQ(t,e,i),n=n&&this.pc(6)),n},e.prototype.ZU=function(t,e,i){var n=!0;return this.ea[0]&&(this.IS(t,e,i),n=n&&this.pc(0)),this.ea[2]&&(this.wG(t,e,i,2),n=n&&this.pc(2)),this.ea[6]&&(this.wG(t,i,e,6),n=n&&this.pc(6)),n},e.prototype.CS=function(t,e,i){2!=this.J[0]&&(t=this.j.af(t))&e&&t&i&&(this.J[0]=2)},e.prototype.sG=function(t,e,i){if(1!=this.J[i]){var n=this.j.af(this.j.xa(t));this.j.af(t)&e&&n&e&&(this.J[i]=1)}},e.prototype.tG=function(t,e,i,n){2!=this.J[n]&&(t=this.j.af(t))&e&&!(t&i)&&(this.J[n]=2)},e.prototype.BN=function(t,e,i){if(1!=this.J[4]){var n=this.j.dh(t);n&e&&n&i?this.J[4]=1:0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(t=this.j.xd(this.j.uf(t)))&e&&t&i&&(this.J[4]=0)}},e.prototype.eE=function(t,e,i){if(1!=this.J[i]){var n=this.j.af(this.j.xa(t));!(this.j.af(t)&e)&&!(n&e)&&(this.J[i]=1)}},e.prototype.DS=function(t,e){if(1!=this.J[0]){var i=this.j.af(this.j.xa(t));this.j.af(t)&e&&i&e&&(this.J[0]=1)}},e.prototype.zS=function(t,e,i,n){if(0!=this.J[1]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var r=this.j.uf(t),s=this.j.xd(r);!(s&e)&&this.j.af(t)&e&&(t=this.j.ng(r,n),s&i&&0!=t%2&&(this.J[1]=0))}},e.prototype.AS=function(t,e){2!=this.J[2]&&this.j.dh(t)&e&&(this.J[2]=2)},e.prototype.FN=function(t,e,i,n){if(1!=this.J[3]){var r=this.j.dh(t);r&e&&r&i?this.J[3]=1:0!=this.J[3]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(r=this.j.uf(t),(t=this.j.xd(r))&e&&(e=this.j.ng(r,n),t&i&&0==e%2&&(this.J[3]=0)))}},e.prototype.CN=function(t,e,i,n){if(0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var r=this.j.uf(t);(t=this.j.xd(r))&e&&(e=this.j.ng(r,n),t&i&&0!=e%2&&(this.J[4]=0))}},e.prototype.DN=function(t,e,i){1!=this.J[5]&&(t=this.j.dh(t))&e&&!(t&i)&&(this.J[5]=1)},e.prototype.lQ=function(t,e){if(1!=this.J[6]){var i=this.j.af(this.j.xa(t));!(this.j.af(t)&e)&&!(i&e)&&(this.J[6]=1)}},e.prototype.kQ=function(t,e,i,n){if(0!=this.J[7]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var r=this.j.uf(t),s=this.j.xd(r);!(s&e)&&!(this.j.af(t)&e)&&(t=this.j.ng(r,n),s&i&&0!=t%2&&(this.J[7]=0))}},e.prototype.GS=function(t,e,i,n,r){if(1!=this.J[0]){var s=this.j.dh(t);s&e&&s&i?this.J[0]=1:0!=this.J[0]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(t=this.j.uf(t),(s=this.j.xd(t))&e&&s&i&&(e=this.j.ng(t,n),r=this.j.ng(t,r),0==e%2&&0==r%2&&(this.J[0]=0)))}},e.prototype.uG=function(t,e,i,n,r,s){if(0!=this.J[s]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){t=this.j.uf(t);var o=this.j.xd(t);o&e&&o&i&&(e=this.j.ng(t,n),r=this.j.ng(t,r),0==e%2&&0!=r%2&&(this.J[s]=0))}},e.prototype.vG=function(t,e,i,n){1!=this.J[n]&&(t=this.j.dh(t))&e&&!(t&i)&&(this.J[n]=1)},e.prototype.HN=function(t,e,i,n,r){if(0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){t=this.j.uf(t);var s=this.j.xd(t);s&e&&s&i&&(e=this.j.ng(t,n),r=this.j.ng(t,r),0!=e%2&&0!=r%2&&(this.J[4]=0))}},e.prototype.fE=function(t,e,i,n){0!=this.J[n]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(t=this.j.uf(t),!(this.j.xd(t)&e)&&0!=this.j.ng(t,i)%2&&(this.J[n]=0))},e.prototype.ES=function(t,e){0!=this.J[0]&&!(this.j.xd(t)&e)&&this.j.hk(this.j.cz(t))&e&&(this.J[0]=0)},e.prototype.BS=function(t,e){2!=this.J[2]&&this.j.xd(t)&e&&(this.J[2]=2)},e.prototype.GN=function(t,e,i){0!=this.J[3]&&(t=this.j.xd(t))&e&&t&i&&(this.J[3]=0)},e.prototype.EN=function(t,e){1!=this.J[5]&&this.j.xd(t)&e&&(this.J[5]=1)},e.prototype.mQ=function(t,e){0!=this.J[6]&&!(this.j.xd(t)&e)&&!(this.j.hk(this.j.cz(t))&e)&&(this.J[6]=0)},e.prototype.HS=function(t,e,i,n){if(0!=this.J[0]){var r=this.j.xd(t);r&e&&r&i&&0==this.j.ng(t,n)%2&&(this.J[0]=0)}},e.prototype.FS=function(t,e){1!=this.J[2]&&(-1!=this.j.Me(t)?this.J[2]=1:0!=this.J[2]&&!(this.j.xd(t)&e)&&(this.J[2]=0))},e.prototype.JN=function(t,e,i,n){if(0!=this.J[3]){var r=this.j.xd(t);r&e&&r&i&&0!=this.j.ng(t,n)%2&&(this.J[3]=0)}},e.prototype.IN=function(t,e,i,n){if(0!=this.J[5]){var r=this.j.xd(t);r&e&&!(r&i)&&0!=this.j.ng(t,n)%2&&(this.J[5]=0)}},e.prototype.nQ=function(t,e,i){0!=this.J[6]&&!((t=this.j.xd(t))&e)&&t&i&&(this.J[6]=0)},e.prototype.IS=function(t,e,i){0!=this.J[0]&&(t=this.j.xd(t))&e&&t&i&&(this.J[0]=0)},e.prototype.wG=function(t,e,i,n){0!=this.J[n]&&(t=this.j.xd(t))&e&&!(t&i)&&(this.J[n]=0)},e.prototype.Bp=function(e,i){var n=!1;e=this.j.La(e),i=this.j.La(i),this.Ui=this.j.$g();for(var r=this.j.Re;-1!=r;r=this.j.Rf(r)){var s=this.j.Me(r);if(-1==s){if(-1!=this.Sm)switch(this.Sm){case 3:n=this.aE(r,e,i);break;case 4:n=this.QG(r,e,i);break;default:throw t.i.fa("internal error")}}else{var o=s;do{var a=o;if(1!=this.j.Ab(a,this.Ui))do{switch(this.vw){case 0:n=this.xN(a,e,i);break;case 1:n=this.yN(a,e,i);break;case 2:n=this.mT(a,e,i);break;default:throw t.i.fa("internal error")}if(n)break;this.j.Kb(a,this.Ui,1),a=this.j.jc(a)}while(a!=o&&!n);if(n)break;o=this.j.jc(this.j.xa(a))}while(o!=s);if(n)break}}n||this.UJ(),this.j.Jg(this.Ui)},e.prototype.Gy=function(e,i){var n=!1;e=this.j.La(e),i=this.j.La(i);for(var r=this.j.Re;-1!=r;r=this.j.Rf(r)){switch(this.Sm){case 3:n=this.aE(r,e,i);break;case 4:n=this.QG(r,e,i);break;case 5:n=this.ZU(r,e,i);break;default:throw t.i.Qa()}if(n)break}n||this.UJ()},e.prototype.er=function(t,e){this.j.dr(t,e)},e.prototype.Wo=function(t,e,i){this.YP(t,e,i),this.er(t,i)},e.prototype.YP=function(e,i,n){for(t.Tk.V(e,i,n,!1),e.Gp(0,!0,!0),i=e.ld;-1!=i;i=e.ue(i))1736==e.ic(i)&&t.rn.V(e,i,-1,!1,n)},e.WE=function(e,i){var n=e.getType();return t.aa.yd(n)?((i=new t.Ta(e.description)).oc(e,!0),i):197==n?(n=new t.l,e.A(n),n.ca()<=i&&n.R()<=i?(i=new t.Sa(e.description),e.sf(i),i):n.ca()<=i||n.R()<=i?(i=new t.Ta(e.description),n=new t.Sa,e.Hf(0,n),i.nf(n),e.Hf(2,n),i.lineTo(n),i):((i=new t.Da(e.description)).ad(e,!1),i)):e},e}(),t.am=e}(J||(J={})),function(t){var e=function(){function e(e){this.Em=new t.ia(0),this.dw=new t.ia(0),this.wt=new t.h,this.xt=new t.h,this.g=e,this.Hs=-1}return e.prototype.bc=function(t){return this.g.bc(this.zz(t))},e.prototype.Bv=function(t){var e=this.iz(t);if(t=this.HF(t),this.g.Ma(e)==t){var i=e;e=t,t=i}return this.g.Gc(e,this.wt),this.g.Gc(t,this.xt),this.wt.y<this.xt.y},e.prototype.zz=function(t){var e=this.iz(t);return t=this.HF(t),this.g.U(e)==t?e:t},e.prototype.iz=function(t){return this.Em.get(t)},e.prototype.HF=function(t){return this.dw.get(t)},e.prototype.rF=function(t){this.Em.set(t,this.Hs),this.Hs=t},e.prototype.nI=function(e){if(-1!=this.Hs){var i=this.Hs;return this.Hs=this.Em.get(i),this.Em.set(i,e),this.dw.set(i,this.g.U(e)),i}return null==this.Em&&(this.Em=new t.ia(0),this.dw=new t.ia(0)),i=this.Em.size,this.Em.add(e),this.dw.add(this.g.U(e)),i},e.prototype.rz=function(t){return this.g.bd(this.iz(t))},e}();t.yY=e;var i=function(){function e(e){this.Be=e,this.ie=new t.yb,this.Nm=new t.yb,this.CH=0,this.Ao=null,this.yA=-1}return e.prototype.compare=function(t,e,i){i=t.ja(i);var n=this.Be.hb;if(this.yA==e)var r=this.CH;else this.Ao=n.bc(e),null==this.Ao?((t=n.g).ed(n.zz(e),this.ie),this.Ao=this.ie,r=this.ie.Pe(this.Be.yh,0)):r=this.Ao.Pe(this.Be.yh,0),this.CH=r,this.yA=e;if(null==(t=n.bc(i))){(t=n.g).ed(n.zz(i),this.Nm),t=this.Nm;var s=this.Nm.Pe(this.Be.yh,0)}else s=t.Pe(this.Be.yh,0);return r==s&&(e=n.Bv(e),i=n.Bv(i),(e=.5*((i=Math.min(e?this.Ao.la:this.Ao.na,i?t.la:t.na))+this.Be.yh))==this.Be.yh&&(e=i),r=this.Ao.Pe(e,0),s=t.Pe(e,0)),r<s?-1:r>s?1:0},e.prototype.reset=function(){this.yA=-1},e}(),n=function(){function n(){this.Wm=this.Gl=null,this.fb=new t.Yj,this.fb.RP(),this.$d=new i(this),this.fb.Vo(this.$d)}return n.prototype.HQ=function(){var e=!1;if(this.fw&&(e=this.IQ()),1==this.g.da(this.X)){var i=this.g.Ob(this.X);return e=this.g.wz(i),this.g.PB(i,!0),0>e&&(e=this.g.Xa(i),this.g.pJ(e),this.g.Wg(i,this.g.Ma(e)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),i=this.g.Ob(this.X);-1!=i;i=this.g.Rb(i))this.g.gr(i,this.El,0),this.g.gr(i,this.wo,-1);i=new t.ia(0),this.yh=NaN;var n=new t.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var r=this.Gl.rc(this.Gl.je);-1!=r;r=this.Gl.lb(r)){var s=this.Gl.getData(r);if(this.g.Gc(s,n),n.y!=this.yh&&0!=i.size&&(e=this.ut(i)||e,this.$d.reset(),i.clear(!1)),i.add(s),this.yh=n.y,0==this.et)break}for(0<this.et&&(e=this.ut(i)||e,i.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),i=this.g.Ob(this.X);-1!=i;)if(3==this.g.sj(i,this.El)){for(this.g.PB(i,!0),n=i,i=this.g.sj(i,this.wo);-1!=i;)r=this.g.sj(i,this.wo),this.g.ZT(this.X,this.g.Rb(n),i),n=i,i=r;i=this.g.Rb(n)}else this.g.PB(i,!1),i=this.g.Rb(i);return this.g.CB(this.El),this.g.CB(this.wo),e},n.prototype.ut=function(t){return this.$V(t)},n.prototype.$V=function(i){var n=!1;null==this.hb&&(this.hb=new e(this.g)),null==this.Wm?(this.Wm=new t.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(i);for(var r=0,s=i.size;r<s;r++){var o=i.get(r);-1!=o&&this.oG(o,-1)}for(r=0;r<this.Wm.size&&0<this.et;r++)if(i=this.Wm.get(r),o=this.hb.rz(this.fb.ja(i)),s=-1,0==this.g.sj(o,this.El)){o=this.fb.we(i);for(var a,h=i;-1!=o;){var l=this.fb.ja(o),u=this.hb.rz(l),c=this.g.sj(u,this.El);if(0!=c){s=u;break}h=o,o=this.fb.we(o)}-1==o?(a=!0,o=h):(l=this.fb.ja(o),a=this.hb.Bv(l),o=this.fb.lb(o),a=!a);do{if(l=this.fb.ja(o),u=this.hb.rz(l),0==(c=this.g.sj(u,this.El))&&(a!=this.hb.Bv(l)&&(n=this.g.Xa(u),this.g.pJ(n),this.g.Wg(u,this.g.Ma(n)),n=!0),this.g.gr(u,this.El,a?3:2),a||(h=this.g.sj(s,this.wo),this.g.gr(s,this.wo,u),this.g.gr(u,this.wo,h)),this.et--,0==this.et))return n;s=u,h=o,o=this.fb.lb(o),a=!a}while(h!=i)}return n},n.prototype.ZV=function(t){for(var e=0,i=t.size;e<i;e++){var n=t.get(e),r=this.g.Pa(n,this.ro),s=this.g.Pa(n,this.Rs);if(-1!=r){var o=this.fb.ja(r);this.hb.rF(o),this.g.Ra(n,this.ro,-1)}-1!=s&&(o=this.fb.ja(s),this.hb.rF(o),this.g.Ra(n,this.Rs,-1)),o=-1,-1!=r&&-1!=s?(this.fb.vd(r,-1),this.fb.vd(s,-1),t.set(e,-1)):o=-1!=r?r:s,-1!=o&&(this.oG(n,o)||this.fb.vd(o,-1),t.set(e,-1))}},n.prototype.oG=function(e,i){var n=new t.h,r=new t.h;this.g.Gc(e,n);var s=this.g.U(e);this.g.Gc(s,r);var o=!1;if(n.y<r.y){o=!0;var a=this.hb.nI(e);if(-1==i)var h=this.fb.addElement(a,-1);else h=i,this.fb.Sj(h,a);-1==(a=this.g.Pa(s,this.ro))?this.g.Ra(s,this.ro,h):this.g.Ra(s,this.Rs,h),s=this.g.bd(e),0==this.g.sj(s,this.El)&&this.Wm.add(h)}return s=this.g.Ma(e),this.g.Gc(s,r),n.y<r.y&&(o=!0,a=this.hb.nI(s),-1==i?h=this.fb.addElement(a,-1):(h=i,this.fb.Sj(h,a)),-1==(a=this.g.Pa(s,this.ro))?this.g.Ra(s,this.ro,h):this.g.Ra(s,this.Rs,h),s=this.g.bd(e),0==this.g.sj(s,this.El)&&this.Wm.add(h)),o},n.V=function(t,e,i,r){var s=new n;return s.g=t,s.X=e,s.Gl=i,s.fw=r,s.HQ()},n.prototype.IQ=function(){var e=new t.ia(0),i=new t.ia(0),n=-1,r=-1,s=new t.h;s.Rc();for(var o=-1,a=-1,h=-1,l=new t.h,u=this.Gl.rc(this.Gl.je);-1!=u;u=this.Gl.lb(u)){var c=this.Gl.getData(u);this.g.Gc(c,l);var f=this.g.bd(c);s.qb(l)&&a==f?(-1==r&&(n=this.g.Ky(),r=this.g.Gd()),-1==h&&(h=i.size,this.g.Ra(o,r,h),i.add(1),-1==this.g.sj(f,n)&&(this.g.gr(f,n,o),e.add(f))),this.g.Ra(c,r,h),i.bX(i.Fc()+1)):(h=-1,s.L(l)),o=c,a=f}if(0==e.size)return!1;for(s=new t.ia(0),o=new t.ia(0),a=0,h=e.size;a<h;a++){f=e.get(a);var p=this.g.sj(f,n);for(c=this.g.Pa(p,r),s.clear(!1),o.clear(!1),s.add(p),o.add(c),c=this.g.U(p);c!=p;c=this.g.U(c)){var d=c;if(-1!=(l=this.g.Pa(d,r)))if(0==o.size)o.add(l),s.add(d);else if(o.Fc()==l){u=s.Fc();var v=this.g.U(u);p=this.g.U(d),this.g.Bc(u,p),this.g.Cc(p,u),this.g.Bc(d,v),this.g.Cc(v,d),d=[!1],v=this.g.nG(this.X,v,this.g.Xa(f),d),this.g.Ra(c,r,-1),d[0]&&this.g.Jf(f,p),c=this.g.Ja(f),c-=p=this.g.Ja(v),this.g.Vj(f,c),i.set(l,i.get(l)-1),1==i.get(l)&&(i.set(l,0),o.If(),s.If()),c=p=u}else s.add(c),o.add(l)}}return this.g.CB(n),this.g.Td(r),!0},n}();t.WL=n}(J||(J={})),function(t){var e=function(){function e(){}return e.prototype.ig=function(){this.PA=this.sb=null},e.prototype.get=function(){return this.PA},e.prototype.set=function(e){if(this.PA=e,null!=e)throw 322==e.getType()&&(this.sb=e),t.i.Qa()},e.prototype.create=function(e){if(322!=e)throw t.i.fa("Not Implemented");this.Or()},e.prototype.Or=function(){null==this.sb&&(this.sb=new t.yb),this.PA=this.sb},e}();t.ig=e}(J||(J={})),function(t){(t=t.XL||(t.XL={}))[t.enumLineSeg=1]="enumLineSeg",t[t.enumBezierSeg=2]="enumBezierSeg",t[t.enumArcSeg=4]="enumArcSeg",t[t.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",t[t.enumSegmentMask=7]="enumSegmentMask",t[t.enumDensified=8]="enumDensified"}(J||(J={})),function(t){var e=function(t){this.$i=t,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},i=function(){function i(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new t.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return i.prototype.wB=function(t){if(null!=t){for(var e=0,i=t.length;e<i;e++)this.rW(t[e]);t.length=0}},i.prototype.rW=function(t){t.$i=null,this.Iq.push(t)},i.prototype.Ow=function(t){if(0===this.Iq.length)var i=new e(t);else(i=this.Iq[this.Iq.length-1]).$i=t,--this.Iq.length;return i},i.prototype.SR=function(t,e){return 0==t?this.$s[e]:this.yw[e]},i.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new t.ig);var e=this.MA[this.Cw];return this.Cw++,e},i.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},i.prototype.Oo=function(t){this.mo.push(this.Ow(t))},i.prototype.ol=function(t){return 0==t?this.$s.length:this.yw.length},i.prototype.Vp=function(t,e){return this.SR(t,e).$i},i.prototype.Ea=function(e,i){if(2!=this.mo.length)throw t.i.Qa();this.qa=e;var n=t.lc.ox(.01*e),r=!1,s=this.mo[0],o=this.mo[1];if(i||5&s.$i.zr(o.$i,e,!0)){if(322==s.$i.getType()){var a=s.$i;if(322==o.$i.getType()){i=o.$i;var h=t.yb.Zx(a,i,null,this.Fq,this.Bk,e);if(0==h)throw t.yb.Zx(a,i,null,this.Fq,this.Bk,e),t.i.Qa();e=Array(9),t.O.$u(e,null);for(var l=0;l<h;l++){var u=this.Fq[l],c=this.Bk[l],f=s.sB,p=1;0==u?(f=s.tB,p=s.rC):1==u&&(f=s.rB,p=s.qC);var d=o.sB,v=1;0==c?(d=o.tB,v=o.rC):1==c&&(d=o.rB,v=o.qC);var g=new t.h;f==d?(f=new t.h,a.hc(u,f),u=new t.h,i.hc(c,u),v/=c=p+v,t.lc.OG(f,u,v,g),t.h.yc(g,f)+t.h.yc(g,u)>n&&(r=!0)):f>d?(a.hc(u,g),u=new t.h,i.hc(c,u),t.h.yc(g,u)>n&&(r=!0)):(i.hc(c,g),f=new t.h,a.hc(u,f),t.h.yc(g,f)>n&&(r=!0)),e[l]=g}for(s=0,o=-1,l=0;l<=h;l++)(v=l<h?this.Fq[l]:1)!=s&&(n=this.aB(),a.ah(s,v,n),-1!=o&&n.get().Dc(e[o]),l!=h&&n.get().Qc(e[l]),s=v,this.$s.push(this.Ow(n.get()))),o=l;for(a=[0,0,0,0,0,0,0,0,0],l=0;l<h;l++)a[l]=l;for(1<h&&this.Bk[0]>this.Bk[1]&&(v=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=v,l=a[0],a[0]=a[1],a[1]=l),s=0,o=-1,l=0;l<=h;l++)(v=l<h?this.Bk[l]:1)!=s&&(n=this.aB(),i.ah(s,v,n),-1!=o&&(s=a[o],n.get().Dc(e[s])),l!=h&&(s=a[l],n.get().Qc(e[s])),s=v,this.yw.push(this.Ow(n.get()))),o=l;return r}}throw t.i.Qa()}return!1},i.prototype.Kz=function(e,i,n){if(i.copyTo(this.Bf),1!=this.mo.length)throw t.i.Qa();this.qa=e;var r=this.mo[0];if(n||r.$i.ru(i.D(),e,!0)){if(322!=r.$i.getType())throw t.i.Qa();var s=(e=r.$i).fe(i.D(),!1);this.Fq[0]=s;var o=r.sB;for(n=1,0==s?(o=r.tB,n=r.rC):1==s&&(o=r.rB,n=r.qC),r=new t.h,0==o?(o=new t.h,e.hc(s,o),i=i.D(),t.lc.OG(o,i,1/(n+1),r)):0<o?(r=new t.h,e.hc(s,r)):r=i.D(),n=0,s=-1,o=0;1>=o;o++){if((i=1>o?this.Fq[o]:1)!=n){var a=this.aB();e.ah(n,i,a),-1!=s&&a.get().Dc(r),1!=o&&a.get().Qc(r),n=i,this.$s.push(this.Ow(a.get()))}s=o}this.Bf.Cb(r)}},i}();t.TC=i}(J||(J={})),function(t){var e=function(){function e(e){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=e,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new t.h}return e.prototype.BW=function(e){if(this.ib!=e.ib)throw t.i.Hb();this.zf=e.zf,this.Jd=e.Jd,this.gb=e.gb,this.Cl=e.Cl,this.ag=e.ag,this.zm=e.zm,this.rk=null},e.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw t.i.ce();this.Jd++}return this.rk},e.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(0==this.Jd)throw t.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},e.prototype.DW=function(){this.zf=-1,this.Jd=0},e.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},e.prototype.Vb=function(t,e){if(void 0===e&&(e=-1),0<=this.gb&&this.gb<this.ib.da()){var i=this.IM();if(t>=i&&t<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=t-i)}e=0<=e&&e<this.ib.da()&&t>=this.ib.Ba(e)&&t<this.ib.Vc(e)?e:this.ib.sz(t),this.Cl=e+1,this.gb=e,this.zf=-1,this.Jd=t-this.ib.Ba(e),this.ag=this.Wx(e),this.ib.Ba(this.gb),this.ib.dc(this.gb)},e.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da()||(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,0))},e.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},e.prototype.Wx=function(t){if(this.ib.Ac())return 0;var e=1;return this.ib.dc(t)&&(e=0),this.ib.Ja(t)-e},e.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},e.prototype.JB=function(){this.zm=!0},e.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},e.prototype.IM=function(){return this.ib.Ba(this.gb)},e.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},e.prototype.vm=function(){return 0==this.zf},e.prototype.Qn=function(){return this.zf==this.ag-1},e.prototype.Ha=function(){return this.Jd<this.ag},e.prototype.Ez=function(){return 0<this.Jd},e.prototype.Of=function(){var t=new e(this.ib);return t.zf=this.zf,t.Jd=this.Jd,t.ag=this.ag,t.gb=this.gb,t.Cl=this.Cl,t.ib=this.ib,t.zm=this.zm,t},e.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw t.i.ce();this.zf=this.Jd;var e=this.wb();this.ib.mc();var i=this.ib.Ve,n=1;switch(null!=i&&(n=7&i.read(e)),i=this.ib.description,n){case 1:null==this.sb&&(this.sb=new t.yb),this.rk=this.sb;break;case 2:throw t.i.fa("internal error");default:throw t.i.Qa()}this.rk.Nf(i),n=this.ik(),this.ib.Gc(e,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(n,this.Ds),this.rk.Qc(this.Ds);for(var r=1,s=i.Aa;r<s;r++)for(var o=i.kd(r),a=t.ra.Va(o),h=0;h<a;h++){var l=this.ib.Uc(o,e,h);this.rk.YB(o,h,l),l=this.ib.Uc(o,n,h),this.rk.OB(o,h,l)}},e.prototype.$S=function(){return this.gb==this.ib.da()-1},e.prototype.Pn=function(){var t=this.ib.VR();return null!=t&&1!=(7&t.read(this.zf))},e}();t.YL=e}(J||(J={})),function(t){var e=function(){function e(e){e instanceof t.aa?(this.xH=e,this.ya=-1,this.Ei=1):(this.vT=e.slice(0),this.ya=-1,this.Ei=e.length)}return e.prototype.La=function(){return this.ya},e.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,null!=this.xH?this.xH:this.vT[this.ya]):null},e.prototype.qe=function(){},e}();t.Zc=e}(J||(J={})),function(t){var e=function(){this.next=null},i=function(){function i(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return i.prototype.AX=function(e,i,n){this.oi=e,this.pl=i,this.Jh=this.Wl=null,this.Tq=0,this.vy=n,null==this.gn&&(this.gn=t.O.lg(384,0)),this.nK()},i.prototype.R=function(){return this.oi},i.prototype.ca=function(){return this.pl},i.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},i.prototype.nK=function(){if(0<this.Tq){for(var t=0;t<this.pl;t++){for(var e=this.Wl[t];null!=e;){var i=e;e=e.next,i.next=null}this.Wl[t]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},i.prototype.iJ=function(t){for(this.kF=t==i.Cx,t=this.Lw;t<=this.Kw;t++)this.sN(),this.lN(t),this.ZP();this.nK()},i.prototype.jy=function(i,n,r,s){if(n!=s){var o=1;if(n>s&&(o=i,i=r,r=o,o=n,n=s,s=o,o=-1),!(0>s||n>=this.pl)){0>i&&0>r?r=i=-1:i>=this.oi&&r>=this.oi&&(r=i=this.oi);var a=(r-i)/(s-n);s>this.pl&&(r=a*((s=this.pl)-n)+i),0>n&&(i=a*(0-n)+i,n=0);var h=Math.max(this.oi+1,8388607);-8388607>i?(n=(0-i)/a+n,i=0):i>h&&(n=(this.oi-i)/a+n,i=this.oi),-8388607>r?s=(0-i)/a+n:r>h&&(s=(this.oi-i)/a+n),(n=t.O.truncate(n))!=(s=t.O.truncate(s))&&((r=new e).x=t.O.truncate(4294967296*i),r.y=n,r.H=s,r.WP=t.O.truncate(4294967296*a),r.dir=o,null==this.Wl&&(this.Wl=t.O.lg(this.pl,null)),r.next=this.Wl[r.y],this.Wl[r.y]=r,r.y<this.Lw&&(this.Lw=r.y),r.H>this.Kw&&(this.Kw=r.H),this.Tq++)}}},i.prototype.sN=function(){if(null!=this.Jh){for(var t=!1,e=null,i=this.Jh;null!=i;)if(i.y++,i.y==i.H){var n=i;i=i.next,null!=e?e.next=i:this.Jh=i,n.next=null}else i.x+=i.WP,null!=e&&e.x>i.x&&(t=!0),e=i,i=i.next;t&&(this.Jh=this.fK(this.Jh))}},i.prototype.lN=function(t){if(!(t>=this.pl)){var e=this.Wl[t];if(null!=e){this.Wl[t]=null,e=this.fK(e),this.Tq-=this.gK,t=this.Jh;for(var i=!0,n=e,r=null;null!=t&&null!=n;)t.x>n.x?(i&&(this.Jh=n),i=n.next,n.next=t,null!=r&&(r.next=n),r=n,n=i):(i=t.next,t.next=n,null!=r&&(r.next=t),r=t,t=i),i=!1;null==this.Jh&&(this.Jh=e)}}},i.eK=function(t,e){return 0>t?0:t>e?e:t},i.prototype.ZP=function(){if(null!=this.Jh)for(var e=0,n=this.Jh,r=t.O.truncate(t.O.XG(n.x)),s=n.next;null!=s;s=s.next)if(e=this.kF?1^e:e+s.dir,s.x>n.x){var o=t.O.truncate(t.O.XG(s.x));0!=e&&(n=i.eK(r,this.oi),(r=i.eK(o,this.oi))>n&&n<this.oi&&(this.gn[this.Ol++]=n,this.gn[this.Ol++]=r,this.gn[this.Ol++]=s.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),n=s,r=o}},i.prototype.fK=function(e){for(var n=0,r=e;null!=r;r=r.next)n++;if(this.gK=n,1==n)return e;null==this.Kf?this.Kf=t.O.lg(Math.max(n,16),null):this.Kf.length<n&&(this.Kf=t.O.lg(Math.max(n,2*this.Kf.length),null));var s=0;for(r=e;null!=r;r=r.next)this.Kf[s++]=r;for(2==n?this.Kf[0].x>this.Kf[1].x&&(e=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=e):i.AN(this.Kf,n,(function(t,e){return t==e?0:t.x<e.x?-1:t.x>e.x?1:0})),e=this.Kf[0],this.Kf[0]=null,r=e,s=1;s<n;s++)r.next=this.Kf[s],r=this.Kf[s],this.Kf[s]=null;return r.next=null,e},i.AN=function(t,e,i){if(e==t.length)t.sort(i);else{var n=t.slice(0,0),r=t.slice(e);e=t.slice(0,e).sort(i),t.length=0,t.push.apply(t,n.concat(e).concat(r))}},i.Cx=0,i}();t.Px=i}(J||(J={})),function(t){var e=function(){function e(){}return e.prototype.ui=function(t,e){var i=this.g.Pa(t,this.Pq);if(this.Dl==i&&(this.Dl=this.oe.lb(this.Dl)),this.ho==i&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,i),this.bk(t),e&&-1!=(e=this.g.bd(t))&&this.g.Xa(e)==t){var n=this.g.U(t);if(n!=t){if((i=this.g.bd(n))==e)return void this.g.Jf(e,n);if((n=this.g.Ma(t))!=t&&(i=this.g.bd(n))==e)return void this.g.Jf(e,n)}this.g.Jf(e,-1),this.g.Wg(e,-1)}},e.prototype.pD=function(){for(var e=!1,i=new t.h;;){null==this.Wh?(this.Wh=new t.ia(0),this.zs=new t.ia(0),this.xe=new t.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var n=this.ho,r=0,s=!0;n!=this.Dl;){var o=this.oe.getData(n),a=new t.h;this.g.Gc(o,a),s&&(this.g.Gc(o,i),s=!1),a=this.g.Ma(o);var h=this.g.U(o);-559038737!=this.g.Pa(a,this.zg)&&(this.Wh.add(a),this.g.Ra(a,this.zg,-559038737),this.zs.add(o),this.xe.add(r++)),-559038737!=this.g.Pa(h,this.zg)&&(this.Wh.add(h),this.g.Ra(h,this.zg,-559038737),this.zs.add(o),this.xe.add(r++)),n=this.oe.lb(n)}if(2>this.Wh.size)break;var l=this;for(this.xe.Vd(0,this.xe.size,(function(t,e){return l.pM(t,e)})),n=0,r=this.xe.size;n<r;n++)s=this.xe.get(n),s=this.Wh.get(s),this.g.Ra(s,this.zg,n),a=new t.h,this.g.Gc(s,a);for(a=this.TM(i),n=0,r=this.xe.size;n<r;n++)-1!=(s=this.xe.get(n))&&(s=this.Wh.get(s),this.g.Ra(s,this.zg,-1));if(!a)break;e=!0}return e},e.prototype.TM=function(t){for(var e=!1,i=!0;i;){i=!1;var n=0;-1==this.xe.get(n)&&(n=this.cm(n));for(var r=this.cm(n),s=0,o=this.xe.size;s<o&&-1!=n&&-1!=r&&n!=r;s++){var a=this.xe.get(n);r=this.xe.get(r),a=this.Wh.get(a),r=this.Wh.get(r);var h=this.g.U(a);this.g.Dv(h,t)||(h=this.g.Ma(a));var l=this.g.U(r);this.g.Dv(l,t)||(l=this.g.Ma(r));var u=this.pu(h,a),c=this.pu(l,r),f=u?this.g.Ma(h):this.g.U(h),p=c?this.g.Ma(l):this.g.U(l),d=!1;(this.sp(h)||this.sp(l)||this.sp(a)||this.sp(r)||this.sp(f)||this.sp(p))&&(d=!0),!d&&this.g.fq(a,r)&&(d=!0,this.tD(u,c,h,a,l,r)),!d&&this.g.fq(f,p)&&(d=!0,this.tD(!u,!c,h,f,l,p)),d&&(e=!0),i=i||d,n=this.cm(n),r=this.cm(n)}}if(!e)for(n=0,-1==this.xe.get(n)&&(n=this.cm(n)),r=this.cm(n),s=0,o=this.xe.size;s<o&&-1!=n&&-1!=r&&n!=r;s++)a=this.xe.get(n),r=this.xe.get(r),a=this.Wh.get(a),r=this.Wh.get(r),h=this.g.U(a),this.g.Dv(h,t)||(h=this.g.Ma(a)),l=this.g.U(r),this.g.Dv(l,t)||(l=this.g.Ma(r)),u=this.pu(h,a),c=this.pu(l,r),f=u?this.g.Ma(h):this.g.U(h),p=c?this.g.Ma(l):this.g.U(l),this.DM(u,c,a,h,f,r,l,p)&&(e=!0),n=this.cm(n),r=this.cm(n);return e},e.prototype.XM=function(){1736==this.g.ic(this.X)&&1==this.g.In(this.X)&&(new t.Fg).MU(this.fw,this.g,this.X,this.nd);var e=!1,i=!0;this.zg=this.Pq=-1;var n=this.g.I(this.X),r=new t.ia(0);r.Jb(n);for(var s=this.g.Ob(this.X);-1!=s;s=this.g.Rb(s))for(var o=this.g.Xa(s),a=0,h=this.g.Ja(s);a<h;a++)r.add(o),o=this.g.U(o);var l=this.g.td.o,u=this.g.td.stride;this.g.vb.mc();var c=this.g.vb.za[0].o;for(r.Vd(0,n,(function(t,e){var i=l[u*t],n=l[u*e],r=c[2*i];i=c[2*i+1];var s=c[2*n];return 0==(r=i<(n=c[2*n+1])?-1:i>n?1:r<s?-1:r>s?1:0)&&(r=(t=l[u*t+3])<(e=l[u*e+3])?-1:t==e?0:1),r})),this.Pq=this.g.Gd(),this.oe=new t.jp,this.RA=this.oe.Ph(0),this.oe.fn(n),s=0;s<n;s++)o=r.get(s),a=this.oe.addElement(this.RA,o),this.g.Ra(o,this.Pq,a);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(e=!0);i;){i=!1,n=0,r=!1;do{r=!1,this.ho=-1,h=0,s=new t.h,a=new t.h;for(var f=this.oe.rc(this.RA);-1!=f;)o=this.oe.getData(f),-1!=this.ho?(this.g.Gc(o,a),s.qb(a)?h++:(s.L(a),this.Dl=f,0<h&&(o=this.pD())&&(r=!0,-1!=this.Dl&&(o=this.oe.getData(this.Dl),this.g.Gc(o,s))),this.ho=f=this.Dl,h=0)):(this.ho=f,this.g.Gc(this.oe.getData(f),s),h=0),-1!=f&&(f=this.oe.lb(f));if(this.Dl=-1,0<h&&(o=this.pD())&&(r=!0),10<n++)throw t.i.Qa();r&&this.GM(),this.cD()&&(r=!0),i=i||r&&!1,e=e||r}while(r)}return this.g.Td(this.Pq),this.g.Td(this.zg),t.WL.V(this.g,this.X,this.oe,this.fw)||e},e.prototype.pu=function(t,e){return this.g.U(e)!=t},e.prototype.DM=function(t,e,i,n,r,s,o,a){if(n==o)return this.bk(i),this.bk(s),!1;var h=this.g.Pa(i,this.zg),l=this.g.Pa(r,this.zg),u=this.g.Pa(s,this.zg),c=this.g.Pa(a,this.zg),f=[0,0,0,0];for((i=[0,0,0,0,0,0,0,0])[0]=0,f[0]=h,i[1]=0,f[1]=l,i[2]=1,f[2]=u,i[3]=1,f[3]=c,h=1;4>h;h++){for(l=f[h],u=i[h],c=h-1;0<=c&&f[c]>l;)f[c+1]=f[c],i[c+1]=i[c],c--;f[c+1]=l,i[c+1]=u}return f=0,0!=i[0]&&(f|=1),0!=i[1]&&(f|=2),0!=i[2]&&(f|=4),0!=i[3]&&(f|=8),(5==f||10==f)&&(t==e?t?(this.g.Bc(a,n),this.g.Cc(n,a),this.g.Bc(r,o),this.g.Cc(o,r)):(this.g.Cc(a,n),this.g.Bc(n,a),this.g.Cc(r,o),this.g.Bc(o,r)):t?(this.g.Cc(n,s),this.g.Bc(s,n),this.g.Cc(o,r),this.g.Bc(r,o)):(this.g.Bc(n,s),this.g.Cc(s,n),this.g.Bc(o,r),this.g.Cc(r,o)),!0)},e.prototype.tD=function(t,e,i,n,r,s){this.MY?this.VM():this.UM(t,e,i,n,r,s)},e.prototype.VM=function(){throw t.i.fa("not implemented.")},e.prototype.UM=function(t,e,i,n,r,s){if(t!=e)t?(this.g.Bc(i,r),this.g.Cc(r,i),this.g.Bc(s,n),this.g.Cc(n,s),this.vn(r,i),this.ui(r,!0),this.g.mi(r,!0),this.bk(i),this.vn(s,n),this.ui(s,!0),this.g.mi(s,!1)):(this.g.Bc(r,i),this.g.Cc(i,r),this.g.Bc(n,s),this.g.Cc(s,n),this.vn(r,i),this.ui(r,!0),this.g.mi(r,!1),this.bk(i),this.vn(s,n),this.ui(s,!0),this.g.mi(s,!0)),this.bk(n);else{var o=t?i:n,a=e?r:s;for(t=t?n:i,e=e?s:r,r=!1,this.g.Bc(o,a),this.g.Bc(a,o),this.g.Cc(t,e),this.g.Cc(e,t),s=e;s!=a;)i=this.g.Ma(s),n=this.g.U(s),this.g.Cc(s,n),this.g.Bc(s,i),r=r||s==o,s=n;r||(i=this.g.Ma(a),n=this.g.U(a),this.g.Cc(a,n),this.g.Bc(a,i)),this.vn(a,o),this.ui(a,!0),this.g.mi(a,!1),this.bk(o),this.vn(e,t),this.ui(e,!0),this.g.mi(e,!1),this.bk(t)}},e.prototype.cD=function(){for(var t=!1,e=this.g.Ob(this.X);-1!=e;){for(var i=this.g.Xa(e),n=0,r=this.g.Ja(e);n<r&&1<r;){var s=this.g.Ma(i),o=this.g.U(i);this.g.fq(s,o)?(t=!0,this.ui(i,!1),this.g.pd(i,!0),this.ui(o,!1),this.g.pd(o,!0),i=s,n=0,r=this.g.Ja(e)):(i=o,n++)}if(2>this.g.Ja(e)){for(t=this.g.Xa(e),n=0,r=this.g.Ja(e);n<r;n++)this.ui(t,!1),t=this.g.U(t);e=this.g.Zq(e),t=!0}else e=this.g.Rb(e)}return t},e.prototype.sp=function(t){for(var e=!1;;){var i=this.g.U(t),n=this.g.Ma(t);if(i==t)return this.ui(t,!0),this.g.mi(t,!1),!0;if(!this.g.fq(i,n))break;if(e=!0,this.bk(n),this.bk(i),this.ui(t,!0),this.g.mi(t,!1),this.vn(i,n),this.ui(i,!0),this.g.mi(i,!0),i==n)break;t=n}return e},e.prototype.GM=function(){for(var t=0,e=this.oe.rc(this.oe.je);-1!=e;e=this.oe.lb(e)){var i=this.oe.getData(e);this.g.aj(i,-1)}for(var n=0,r=this.g.Ob(this.X);-1!=r;)if(-1==(e=this.g.Xa(r))||-1!=this.g.bd(e))i=r,r=this.g.Rb(r),this.g.$q(i);else{this.g.aj(e,r);var s=1;for(i=this.g.U(e);i!=e;i=this.g.U(i))this.g.aj(i,r),s++;this.g.cp(r,!1),this.g.Vj(r,s),this.g.Wg(r,this.g.Ma(e)),n+=s,t++,r=this.g.Rb(r)}for(e=this.oe.rc(this.oe.je);-1!=e;e=this.oe.lb(e))i=this.oe.getData(e),-1==this.g.bd(i)&&(r=this.g.nG(this.X,i,i,null),n+=this.g.Ja(r),t++);for(this.g.Rl(this.X,t),this.g.Tj(this.X,n),t=0,n=this.g.ld;-1!=n;n=this.g.ue(n))t+=this.g.I(n);this.g.bC(t)},e.prototype.cm=function(t){for(var e=0,i=this.xe.size-1;e<i;e++)if(t=(t+1)%this.xe.size,-1!=this.xe.get(t))return t;return-1},e.prototype.vn=function(t,e){var i=this.g.Pa(e,this.Pq),n=this.g.Pa(e,this.zg);this.g.lC(t,e),this.g.Ra(e,this.Pq,i),this.g.Ra(e,this.zg,n)},e.prototype.bk=function(t){var e=this.g.Pa(t,this.zg);-1!=e&&(this.xe.set(e,-1),this.g.Ra(t,this.zg,-1))},e.V=function(t,i,n,r,s){var o=new e;return o.g=t,o.X=i,o.xA=n,o.fw=r,o.nd=s,o.XM()},e.prototype.pM=function(e,i){var n=this.Wh.get(e),r=new t.h;this.g.Gc(n,r),n=new t.h;var s=this.Wh.get(i);return this.g.Gc(s,n),r.qb(n)?0:(s=this.zs.get(e),e=new t.h,this.g.Gc(s,e),s=this.zs.get(i),i=new t.h,this.g.Gc(s,i),(s=new t.h).uc(r,e),(r=new t.h).uc(n,i),t.h.nu(s,r))},e}();t.rn=e}(J||(J={})),function(t){var e;(e=t.$L||(t.$L={}))[e.Local=0]="Local",e[e.Geographic=1]="Geographic",e[e.Projected=2]="Projected",e[e.Image=3]="Image",e[e.Unknown=4]="Unknown",function(t){t[t.Integer32=0]="Integer32",t[t.Integer64=1]="Integer64",t[t.FloatingPoint=2]="FloatingPoint"}(t.TL||(t.TL={}));var i=function(){function e(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return e.prototype.Ec=function(){return this.dg},e.prototype.VF=function(){return 1},e.prototype.VW=function(t){this.mA=t},e.prototype.Xd=function(){if(null!==this.mA)return this.mA;var e=.001;return 0!=this.dg?e=t.wr.CQ(this.dg):null!=this.wh&&(e=t.XC.DQ(this.wh)),e},e.prototype.Bz=function(){return this.wh},e.prototype.Hd=function(){return 0!=this.dg?t.Tc.Zg(t.wr.Sy(this.dg)):null!=this.wh?t.XC.EQ(this.wh):void 0},e.Sb=function(e){if(0!=e.dg){if(!0===t.wr.ZS(e.dg))return 1;if(!0===t.wr.aT(e.dg))return 2}return 4},e.prototype.$r=function(){var e=this.Ec();return-1!=this.Ho?this.Ho:(this.Ho=t.wr.FK(e),-1!=this.Ho?this.Ho:e)},e.create=function(i){if(0>=i)throw t.i.N("Invalid or unsupported wkid: "+i);var n=new e;return n.dg=i,n},e.qP=function(i){if(null==i||0==i.length)throw t.i.N("Cannot create SpatialReference from null or empty text.");var n=new e;return n.wh=i,n},e.prototype.Nb=function(t){return this==t||null!=t&&this.constructor==t.constructor&&this.dg==t.dg&&(0!=this.dg||this.wh===t.wh)},e.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},e.prototype.cc=function(){if(""!==this.pp)return this.pp;var t=this.toString();if(Array.prototype.reduce)return this.pp="S"+t.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0);var e=0;if(0===t.length)return"";for(var i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e&=e;return this.pp="S"+e},e.prototype.Kn=function(){return this.Xd(0)},e.prototype.fh=function(){return null!==this.su?this.su:this.su=t.gu.yP(this)},e.ZN=2147483645,e.$N=9007199254740990,e}();t.Eg=i}(J||(J={})),function(t){var e=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.Ji=null,i.ST=null,i.Hq=new t.ZL,i.Eo=null,i.jw=null,i}return Q(i,e),i.yP=function(e){var n=new i;if(n.dg=e.dg,n.Ho=e.Ho,n.ZH=e.ZH,n.wh=e.wh,""!==n.wh&&null!==n.wh){e=i.kM(n.wh);var r=i.iM(n.wh);n.Hq.Xx(e,r,t.hu.Integer64),n.by(e),n.gy(r),n.dg=e.$r()}else e=i.jM(n.dg),n.by(e),n.gy(null),n.Hq.Xx(e,null,t.hu.Integer64);return n},i.prototype.Xd=function(t){return this.Hq.Kn(t)},i.iM=function(e){if(0>=e.length)throw t.i.N();var n=null;try{n=t.NC.fromString(e)}catch(r){n=null}return null==n?null:i.bD(n,!0)},i.prototype.by=function(t){this.Kd=t,this.Eo=this.Kd.Hd()},i.prototype.gy=function(t){this.KH=t,this.ST=null!=this.KH?this.KH.Eo:null},i.prototype.Wc=function(){return 0!=this.Sb()&&3!=this.Sb()&&this.Kd.Wc()},i.prototype.IG=function(){return 0!=this.Sb()&&(3==this.Sb()?this.Ji.fk().Wc():this.Kd.Wc())},i.prototype.eh=function(){return null!=this.Kd?this.Kd.Ue:null},i.prototype.pm=function(){return this.Kd.pm()},i.prototype.bf=function(){return this.Kd.bf()},i.prototype.hh=function(){return null!=this.Kd?this.Kd.sw:NaN},i.prototype.Up=function(){return this.Kd.Up()},i.prototype.Wr=function(){return this.Kd.Wr()},i.prototype.kk=function(){return this.Kd.kk()},i.prototype.kS=function(e){return t.OC.Py(this.Kd,e.Kd)},i.prototype.ml=function(){return this.Kd.ml()},i.prototype.Vr=function(){return this.Kd.Vr()},i.prototype.zi=function(){return 3==this.Sb()?this.Ji.fk().zi():this.Kd.zi()},i.prototype.gh=function(){if(!this.Wc())throw t.i.N("!isPannable()");var e=new t.l;return this.Kd.gh(e),e},i.prototype.Oe=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.so},i.prototype.HR=function(){if(!this.Wc())throw t.i.N("!isPannable()");var e=new t.l;return this.Kd.GR(e),e},i.prototype.pv=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.pv()},i.prototype.ov=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.ov()},i.prototype.Xr=function(){return null!=this.Ji?this.Ji.fk().Xr():this.Kd.Xr()},i.prototype.PQ=function(){return this.Kd.hv()},i.prototype.Qp=function(){return this.Eo.getUnitFactor()},i.prototype.vz=function(t){return this.Hq.vz(t)},i.prototype.sc=function(){var e=this.Sb();if(1==e)return this;if(3==e)return this.Ji.fk().sc();if(0==e)throw t.i.fa("invalid call");if(4===e)throw t.i.fa("invalid call");if(null!==this.jw)return this.jw;if(null==(e=this.eh().getGeogcs()))throw t.i.Qa();return this.jw=i.bF(e,this.Hq.VF())},i.bF=function(e,n){if(null==e)throw t.i.N("null pointer.");var r=new i;return e=i.mu(e,!0),r.Hq.Xx(e,null,n),r.by(e),r.gy(null),r.dg=e.$r(),r},i.prototype.Sb=function(){var e=this.eh();if(null!=e)switch(e.getType()){case t.Sc.PE_TYPE_GEOGCS:return 1;case t.Sc.PE_TYPE_PROJCS:return 2}return 4},i.prototype.hv=function(){return this.Kd.hv()},i.mu=function(e,n){var r=e.getCode();if(0>=r&&0<(r=t.pf.getCode(e))){if(null==(e=t.pf.coordsys(r)))throw t.i.N("Text to wkid mapping had failed: "+r);return i.mu(e,n)}return n&&0<r&&(n=i.qx[r])?n:(n=t.zb.xv(e,r,!1),i.lK[n]||(e=0>=r?e:t.pf.coordsys(r),e=new t.OC(e),i.lK[n]=e,0<r&&(i.qx[r]=e),e))},i.jM=function(e){if(0>=e)throw t.i.N("Invalid or unsupported wkid: "+e);var n=i.qx[e];if(null!=n)return n;if(null==(n=t.pf.coordsys(e)))throw t.i.N("Invalid or unsupported wkid: "+e);return(n=i.mu(n,!1)).$r()!=e&&(i.qx[e]=n),n},i.kM=function(e){if(null==e||void 0===e||0==e.length)throw t.i.N("Cannot create SpatialReference from null or empty text.");var n=null;try{n=t.pf.fromString(t.Sc.PE_TYPE_COORDSYS,e)}catch(r){throw t.i.N("Cannot create SpatialReference from text. "+r.message)}if(null===n)throw t.i.N("Cannot create SpatialReference from text. ");return i.mu(n,!0)},i.bD=function(e,n){var r,s=e.getCode();if(0>=s&&0<(s=t.pf.getCode(e))){if(null===(s=t.pf.vertcs(s)))throw t.i.N();return i.bD(s,n)}if(n&&0<s&&(n=i.kK[s]))return n;if(e=t.zb.xv(e,s,!1),n=i.mK[e])return n;if(0>=s||(r=t.pf.vertcs(s)),null===r)throw t.i.N();return r=new t.PL(r),i.mK[e]=r,0<s&&(i.kK[s]=r),r},i.sI=function(e,i){if(null===i||i.B())return null;var n=new t.l;if(null!==i&&1!=e.Sb()){var r=e.sc(),s=r.eh();e=t.vr.Nr(e,r,null,null),(i=t.Hx.local().V(i,e,null)).A(n)}else s=e.eh(),i.A(n);return i=s.getPrimem().getLongitude(),s=s.getUnit().getUnitFactor(),new t.LC(n.v,n.G,n.C,n.H,i,s)},i.lD=function(t){var e={name:"",steps:[],_pt:null,_entry:null},i=0;for(t=t.getEntries();i<t.length;i++){var n=t[i],r={LY:!1,ZY:"",YY:-1,geogtran:null};0===n.getDirection()?r.isInverse=!1:r.isInverse=!0;var s=n.getGeogtran().getCode();-1<s?r.wkid=s:r.wkt=n.getGeogtran().toString(),e.steps.push(r)}return e},i.XR=function(e,n,r,s){return void 0===r&&(r=null),r=i.sI(s,r),e=t.lp.getGTlist(e.eh(),n.eh(),2,t.lp.PE_GTLIST_OPTS_COMMON,r,1),n=null,e&&0<e.length&&(n=this.lD(e[0]),t.Mx.destroy(e)),null!==r&&r.destroy(),n},i.YR=function(e,n,r,s){var o;if(void 0===r&&(r=null),void 0===s&&(s=null),void 0===o&&(o=30),r=i.sI(s,r),e=t.lp.getGTlist(e.eh(),n.eh(),2,t.lp.PE_GTLIST_OPTS_COMMON,r,o),n=[],e&&0<e.length){for(o=0;o<e.length;o++)n.push(this.lD(e[o]));t.Mx.destroy(e)}return null!==r&&r.destroy(),n},i.qx={},i.lK={},i.kK={},i.mK={},i}(t.Eg);t.gu=e}(J||(J={})),function(t){var e,i;(i=e=t.hu||(t.hu={}))[i.Integer32=0]="Integer32",i[i.Integer64=1]="Integer64",i[i.FloatingPoint=2]="FloatingPoint";var n=function(){function i(){this.qp()}return i.prototype.assign=function(t){this.Fm=t.Fm,this.Gm=t.Gm,this.Pj=t.Pj,this.sA=t.sA,this.Fo=t.Fo,this.rA=t.rA,this.Ik=t.Ik,this.Mq=t.Mq,this.Lq=t.Lq,this.Rm=t.Rm},i.prototype.VF=function(){return this.Rm},i.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=e.FloatingPoint},i.prototype.Xx=function(i,n,r){if(this.qp(),this.Rm=r,r!=e.FloatingPoint){var s=new t.l;i.hR(s),this.Fm=s.v,this.Gm=s.G}else this.Gm=this.Fm=-17976931348623157e292;(s=i.Ue.getType())==t.Sc.PE_TYPE_GEOGCS?(s=(r==e.Integer64?1e-9:1/18e5)*i.bf(),this.Pj=1/s):s==t.Sc.PE_TYPE_PROJCS&&(s=(r==e.Integer64?1e-4:.001)*i.pm(),this.Pj=1/s),null!=n?(s=(r==e.Integer32?.001:1e-4)*n.IH,this.Fo=1/s):this.Fo=1e4,this.YM(),this.Ik=i.sw,this.Mq=null!=n?.001*n.IH:.001,this.Lq=2220446049250313e-29},i.prototype.YM=function(){if(this.Rm!=e.FloatingPoint){var i=this.Rm==e.Integer64?t.Eg.$N:t.Eg.ZN,n=i/this.Pj,r=this.Fm+n,s=t.O.truncate((r-this.Fm)*this.Pj);s>i&&(this.Pj=i/(r-this.Fm)),n=this.Gm+n,(s=t.O.truncate((n-this.Gm)*this.Pj))>i&&(this.Pj=i/(n-this.Gm))}},i.prototype.aC=function(t){switch(t){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},i.prototype.Kn=function(t){switch(t){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},i.prototype.vz=function(t){if(this.Rm==e.FloatingPoint)return 0;switch(t){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},i.prototype.toString=function(){var t="SRPD [m_toleranceXY: "+this.Ik.toString();return(t=(t=(t=(t=(t=(t=(t=(t=(t=t+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},i}();t.ZL=n}(J||(J={})),function(t){function e(t,e){return 89.99999<e?e=89.99999:-89.99999>e&&(e=-89.99999),e*=.017453292519943,[111319.49079327169*t,3189068.5*Math.log((1+Math.sin(e))/(1-Math.sin(e)))]}function i(t,e,i){return t=t/6378137*57.29577951308232,i?[t,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*e/6378137)))]:[t-360*Math.floor((t+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*e/6378137)))]}function n(e,i,n){var r=e.Of();if(33===e.getType())i=i(r.Lg(),r.ih()),r.Cb(i[0],i[1]);else if(197===e.getType()){var s=i(e.es(),e.gs(),n);i=i(e.ds(),e.fs(),n),r.K(s[0],s[1],i[0],i[1])}else for(s=new t.h,e=0;e<r.I();e++){r.D(e,s);var o=i(s.x,s.y,n);s.ma(o[0],o[1]),r.Cb(e,s)}return r}function r(t){return n(t,i,!0)}function s(t){return n(t,e,!0)}var o=Math.PI/180;t.UK=function(){function e(){}return e.vu=function(e){var i=Math.sqrt(.006694379990197414),n=Math.sin(e.y*o);return t.h.construct(6378137*e.x*o,3167719.6636462314*(n/(1-.006694379990197414*n*n)-1/(2*i)*Math.log((1-i*n)/(1+i*n))))},e.Vx=function(e,i,n,r){var s=1/298.257223563,a=Math.sin(n);n=Math.cos(n);var h=(1-s)*Math.tan(e),l=h*(e=1/Math.sqrt(1+h*h)),u=Math.atan2(h,n),c=(h=e*a)*h,f=1-c,p=272331606107.54688*f/40408299984661.45,d=1+p/16384*(4096+p*(p*(320-175*p)-768)),v=p/1024*(256+p*(p*(74-47*p)-128));p=r/(6356752.31424518*d);for(var g,y,m,_=2*Math.PI;1e-12<Math.abs(p-_);)m=Math.cos(2*u+p),_=p,p=r/(6356752.31424518*d)+v*(g=Math.sin(p))*(m+v/4*((y=Math.cos(p))*(2*m*m-1)-v/6*m*(4*g*g-3)*(4*m*m-3)));return r=l*g-e*y*n,f=s/16*f*(4+s*(4-3*f)),t.h.construct((i+(Math.atan2(g*a,e*y-l*g*n)-(1-f)*s*h*(p+f*g*(m+f*y*(2*m*m-1)))))/o,Math.atan2(l*y+e*g*n,(1-s)*Math.sqrt(c+r*r))/o)},e.MM=function(t,e,i,n){var r=1/298.257223563,s=n-e,o=Math.atan((1-r)*Math.tan(t)),a=Math.atan((1-r)*Math.tan(i)),h=Math.sin(o);o=Math.cos(o);var l=Math.sin(a);a=Math.cos(a);var u=s,c=1e3;do{var f=Math.sin(u),p=Math.cos(u),d=Math.sqrt(a*f*a*f+(o*l-h*a*p)*(o*l-h*a*p));if(0===d)return 0;p=h*l+o*a*p;var v=Math.atan2(d,p),g=o*a*f/d,y=1-g*g;f=p-2*h*l/y,isNaN(f)&&(f=0);var m=r/16*y*(4+r*(4-3*y)),_=u;u=s+(1-m)*r*g*(v+m*d*(f+m*p*(2*f*f-1)))}while(1e-12<Math.abs(u-_)&&0<--c);return 0===c?(h=n-e,{azimuth:Math.atan2(Math.sin(h)*Math.cos(i),Math.cos(t)*Math.sin(i)-Math.sin(t)*Math.cos(i)*Math.cos(h)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(t)*Math.sin(i)+Math.cos(t)*Math.cos(i)*Math.cos(n-e))}):(e=(t=272331606107.54688*y/40408299984661.45)/1024*(256+t*(t*(74-47*t)-128)),{azimuth:Math.atan2(a*Math.sin(u),o*l-h*a*Math.cos(u)),YQ:6356752.31424518*(1+t/16384*(4096+t*(t*(320-175*t)-768)))*(v-e*d*(f+e/4*(p*(2*f*f-1)-e/6*f*(4*d*d-3)*(4*f*f-3)))),XY:Math.atan2(o*Math.sin(u),o*l*Math.cos(u)-h*a)})},e.jQ=function(e){var i=e.hasAttribute(1),n=e.hasAttribute(2),r=[],s=e.da(),o=null,a=null;i&&(o=e.ub(1)),n&&(a=e.ub(2));for(var h=new t.h,l=0;l<s;l++){for(var u=e.Ba(l),c=e.Ja(l),f=0,p=0,d=NaN,v=NaN,g=NaN,y=NaN,m=e.dc(l),_=[],b=u;b<u+c;b++){e.D(b,h),y=g=NaN;var w=[h.x,h.y];i&&(g=o.get(b),w.push(g)),n&&(s=a.get(b),w.push(y)),b==u&&m&&(f=h.x,p=h.y,d=g,v=y),_.push(w)}!m||f==h.x&&p==h.y&&(!i||isNaN(d)&&isNaN(g)||d==g)&&(!n||isNaN(v)&&isNaN(y)||v==y)||_.push(_[0].slice(0)),r.push(_)}return r},e.Wy=function(t,i){t=e.jQ(t),637.100877141506>i&&(i=637.100877141506);for(var n,r=[],s=0;s<t.length;s++){var a,h,l=t[s];r.push(n=[]),n.push([l[0][0],l[0][1]]);var u=l[0][0]*o,c=l[0][1]*o;for(a=0;a<l.length-1;a++){var f=l[a+1][0]*o,p=l[a+1][1]*o;if(u!==f||c!==p){f=(p=e.MM(c,u,p,f)).azimuth;var d=(p=p.YQ)/i;if(1<d){for(h=1;h<=d-1;h++){var v=e.Vx(c,u,f,h*i);n.push([v.x,v.y])}h=e.Vx(c,u,f,(p+Math.floor(d-1)*i)/2),n.push([h.x,h.y])}c=e.Vx(c,u,f,p),n.push([c.x,c.y]),u=c.x*o,c=c.y*o}}}return{qJ:r}},e.XQ=function(i){for(var n=[],r=0;r<i.length;r++){var s=i[r];s=e.Wy(s,1e4),n.push(s)}i=[];for(var o=0;o<n.length;o++){s=n[o];var a=0;for(r=0;r<s.qJ.length;r++){var h,l=s.qJ[r],u=e.vu(t.h.construct(l[0][0],l[0][1])),c=e.vu(t.h.construct(l[l.length-1][0],l[l.length-1][1])),f=c.x*u.y-u.x*c.y;for(h=0;h<l.length-1;h++)u=e.vu(t.h.construct(l[h+1][0],l[h+1][1])),f+=(c=e.vu(t.h.construct(l[h][0],l[h][1]))).x*u.y-u.x*c.y;a+=f}a/=1,i.push(a/-2)}return i},e}(),t.cb=function(){function e(){}return e.xB=function(t,i,n,r,s,o,a){e.gD[t.cc()]=i,0==isNaN(n)&&(e.mD[t.cc()]=n),0==isNaN(r)&&(e.zD[t.cc()]=r),0==isNaN(s)&&(e.aD[t.cc()]=s),e.nD[t.cc()]=o,null!==a&&(e.oD[t.cc()]=a)},e.Ww=function(t,i,n){e.sD[t.cc()+"-"+i.cc()]=n},e.sc=function(i){if(null==(i=e.gD[i.cc()]))throw t.i.Ie();return i},e.bf=function(i){if(null==(i=e.mD[i.cc()]))throw t.i.Ie();return i},e.vv=function(i){if(null==(i=e.zD[i.cc()]))throw t.i.Ie();return i},e.ev=function(i){if(null==(i=e.aD[i.cc()]))throw t.i.Ie();return i},e.gh=function(i){if(null==(i=e.oD[i.cc()]))throw t.i.Ie();return t.l.construct(i[0],i[1],i[2],i[3])},e.Wc=function(i){if(null==(i=e.nD[i.cc()]))throw t.i.Ie();return i},e.zh=function(i,n,r){if(n.Nb(r))return i;var s=e.sD[n.cc()+"-"+r.cc()];if(void 0!==s)return s(i,n,r);throw t.i.Ie()},e.vt=function(){throw t.i.Ie()},e.bR=function(){throw t.i.Ie()},e.dW=function(){throw t.i.Ie()},e.ml=function(){throw t.i.Ie()},e.sW=function(){var e=t.Eg.create(102100),i=t.Eg.create(3857),n=t.Eg.create(4326);t.cb.xB(e,n,NaN,NaN,NaN,!1,null),t.cb.xB(n,n,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),t.cb.xB(i,n,NaN,NaN,NaN,!1,null),t.cb.Ww(e,n,r),t.cb.Ww(n,e,s),t.cb.Ww(i,n,r),t.cb.Ww(n,i,s)},e.gD=[],e.mD=[],e.zD=[],e.aD=[],e.nD=[],e.oD=[],e.sD=[],e}()}(J||(J={})),J.cb.sW(),function(t){var e=function(){function e(t){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=t}return e.prototype.jd=function(t){t<this.Bl?(this.o[t*this.stride]=this.io,this.io=t):this.Bl--,this.size--},e.prototype.T=function(t,e){return this.o[t*this.stride+e]},e.prototype.S=function(t,e,i){this.o[t*this.stride+e]=i},e.prototype.Ce=function(){var e=this.io;if(-1==e){if(this.Bl==this.Hg){if(2147483647<(e=0!=this.Hg?t.O.truncate(3*(this.Hg+1)/2):1)&&(e=2147483647),e==this.Hg)throw t.i.ce();this.Dz(e)}e=this.Bl,this.Bl++}else this.io=this.o[e*this.stride];this.size++;for(var i=e*this.stride;i<e*this.stride+this.stride;i++)this.o[i]=-1;return e},e.prototype.Ll=function(e){var i=this.io;if(-1==i){if(this.Bl==this.Hg){if(2147483647<(i=0!=this.Hg?t.O.truncate(3*(this.Hg+1)/2):1)&&(i=2147483647),i==this.Hg)throw t.i.ce();this.Dz(i)}i=this.Bl,this.Bl++}else this.io=this.o[i*this.stride];this.size++;for(var n=i*this.stride,r=0;r<e.length;r++)this.o[n+r]=e[r];return i},e.prototype.mj=function(t){this.io=-1,this.size=this.Bl=0,t&&(this.o=null,this.Hg=0)},e.prototype.De=function(t){t>this.Hg&&this.Dz(t)},e.prototype.tx=function(t,e){t*=this.stride,e*=this.stride;for(var i=0;i<this.stride;i++){var n=this.o[e+i];this.o[e+i]=this.o[t+i],this.o[t+i]=n}},e.prototype.gC=function(t,e,i){var n=this.o[this.stride*e+i];this.o[this.stride*e+i]=this.o[this.stride*t+i],this.o[this.stride*t+i]=n},e.LG=function(t){return 0<=t},e.prototype.Dz=function(t){null==this.o&&(this.o=new Int32Array(0));var e=new Int32Array(this.stride*t);e.set(this.o,0),this.o=e,this.Hg=t},e}();t.$c=e}(J||(J={})),function(t){var e,i;(i=e||(e={}))[i.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",i[i.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",i[i.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",i[i.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var n=function(){function e(e){this.Be=e,this.yh=NaN,this.eH=new t.ig,this.fH=new t.ig,this.ms=new t.Nc,this.ns=new t.Nc}return e.prototype.compare=function(t,e,i){if(t=t.ja(i),this.Be.pB(e,this.eH),this.Be.pB(t,this.fH),e=this.eH.get(),t=this.fH.get(),this.ms.K(e.sa,e.pa),this.ns.K(t.sa,t.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;i=e.na==e.la;var n=t.na==t.la;if(i||n){if(i&&n)return 0;if(e.na==t.na&&e.sa==t.sa)return i?1:-1;if(e.la==t.la&&e.pa==t.pa)return i?-1:1}return(i=e.Pe(this.yh,this.ms.oa))==(n=t.Pe(this.yh,this.ns.oa))&&((n=.5*((i=Math.min(e.la,t.la))+this.yh))==this.yh&&(n=i),i=e.Pe(n,this.ms.oa),n=t.Pe(n,this.ns.oa)),i<n?-1:i>n?1:0},e.prototype.aK=function(t){this.yh=t},e}(),r=function(){function e(e){this.ib=e,this.WH=new t.ig,this.Bf=new t.h,this.wA=new t.Nc}return e.prototype.kX=function(t){this.Bf.L(t)},e.prototype.compare=function(t,e){return this.ib.pB(t.ja(e),this.WH),t=this.WH.get(),this.wA.K(t.sa,t.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(t=t.Pe(this.Bf.y,this.Bf.x),this.Bf.x<t?-1:this.Bf.x>t?1:0)},e}();e=function(){function e(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new t.Md,this.bO=2147483647,this.aO=t.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return e.prototype.yy=function(t){this.lA=t},e.prototype.Ym=function(){null==this.ge&&(this.ge=new t.$c(8));var e=this.ge.Ce();return this.ge.S(e,1,0),e},e.prototype.vU=function(){null==this.Kc&&(this.Kc=new t.$c(8));var e=this.Kc.Ce();this.Kc.S(e,2,0),this.Kc.S(e,3,0);var i=this.Kc.Ce();return this.Kc.S(i,2,0),this.Kc.S(i,3,0),this.JJ(e,i),this.JJ(i,e),e},e.prototype.mI=function(){null==this.ye&&(this.ye=new t.$c(8));var e=this.ye.Ce();return this.ye.S(e,2,0),e},e.prototype.TW=function(t,e){this.ge.S(t,7,e)},e.prototype.mn=function(t,e){this.ge.S(t,2,e)},e.prototype.SW=function(t,e){this.ge.S(t,1,e)},e.prototype.lX=function(t,e){this.ge.S(t,3,e)},e.prototype.iX=function(t,e){this.ge.S(t,4,e)},e.prototype.cr=function(t,e){this.ge.S(t,5,e)},e.prototype.eR=function(t){return this.ge.T(t,5)},e.prototype.RW=function(t,e){this.ge.S(t,6,e)},e.prototype.cN=function(t,e){this.RW(e,t)},e.prototype.IJ=function(t,e){this.Kc.S(t,1,e)},e.prototype.JJ=function(t,e){this.Kc.S(t,4,e)},e.prototype.Tl=function(t,e){this.Kc.S(t,5,e)},e.prototype.Sl=function(t,e){this.Kc.S(t,6,e)},e.prototype.$W=function(t,e){this.Kc.S(t,2,e)},e.prototype.$w=function(t,e){this.Kc.S(t,3,e)},e.prototype.LF=function(t){return this.Kc.T(t,3)},e.prototype.Gt=function(t,e){this.Kc.S(t,7,e)},e.prototype.EK=function(t,e){if(-1!=this.mm(t))for(e=e?-1:t,t=this.mm(t);-1!=t;t=this.js(t))this.g.Ra(this.tj(t),this.Cq,e)},e.prototype.yx=function(t,e){-1!=t&&(this.EK(t,e),this.EK(this.xa(t),e))},e.prototype.Dt=function(t,e){this.ye.S(t,1,e)},e.prototype.Vg=function(t,e){this.ye.S(t,2,e)},e.prototype.jn=function(t,e){this.ye.S(t,3,e),this.NW(t,this.dR(e)),this.MW(e,t)},e.prototype.MW=function(t,e){this.ye.S(t,4,e)},e.prototype.NW=function(t,e){this.ye.S(t,5,e)},e.prototype.DJ=function(t,e){this.ye.S(t,6,e)},e.prototype.BJ=function(t,e){this.ye.S(t,7,e)},e.prototype.AJ=function(t,e){this.Yn.write(t,e)},e.prototype.CJ=function(t,e){this.kA.write(t,e)},e.prototype.kY=function(e){var i=0,n=0,r=this.AF(e),s=new t.h,o=new t.h,a=new t.h;this.Yr(r,s),o.L(s);var h=r;do{this.lm(h,a),n+=t.h.tb(o,a),this.$e(this.xa(h))!=e&&(i+=(a.x-s.x-(o.x-s.x))*(a.y-s.y+(o.y-s.y))*.5),o.L(a),h=this.jc(h)}while(h!=r);this.Yn.write(e,i),this.kA.write(e,n)},e.prototype.PU=function(e,i){var s=new n(this),o=new t.Yj;o.De(t.O.truncate(this.wa/2)),o.Vo(s);for(var a=new t.ia(0),h=this.$g(),l=null,u=0,c=new t.h,f=this.Re;-1!=f;f=this.Rf(f)){if(!(255&++u||null==i||i.progress(-1,-1)))throw t.i.WC();var p=this.Me(f);if(-1!=p){if(a.Bh(0),!this.gY(o,h,a,p)){this.D(f,c),s.aK(c.y);var d=p;do{var v=this.Ab(d,h);-1!=v&&(o.vd(v,-1),this.Kb(d,h,-2)),d=this.jc(this.xa(d))}while(p!=d);d=p;do{-1==(v=this.Ab(d,h))&&(v=o.addElement(d,-1),a.add(v)),d=this.jc(this.xa(d))}while(p!=d)}for(p=a.size-1;0<=p;p--)v=a.get(p),d=o.ja(v),this.Kb(this.xa(d),h,v),this.OU(o,v,e)}else-1==this.cz(f)&&(null==l&&(l=new r(this)),this.D(f,c),l.kX(c),d=o.IW(l),p=this.Hl,-1!=d&&(v=o.ja(d),this.$e(v)==this.$e(this.xa(v))&&(v=this.OF(o,d)),-1!=v&&(p=this.$e(v))),this.cN(p,f))}this.Jg(h)},e.prototype.OU=function(t,e,i){var n=t.ja(e),r=this.$e(n);if(-1==this.Gn(r)){var s=this.OF(t,e),o=this.xa(n),a=this.$e(o);this.Kp(r),this.Kp(a);var h=this.Gn(r),l=this.Gn(a);if(-1==s&&-1==h&&(a==r?(this.jn(a,this.Hl),h=l=this.Hl):(-1==l&&(this.jn(a,this.Hl),l=this.Hl),this.jn(r,a),h=a)),-1!=s){var u=this.$e(s);-1==l&&(0>=this.Kp(u)?(l=this.Gn(u),this.jn(a,l)):(this.jn(a,u),l=u),a==r&&(h=l))}-1==h&&this.hY(r,a),0==i?this.jW(t,e,n,s,r,a):5==i?this.kW(t,e,n,o,r,a):4==i&&this.iW(n,s,r,a)}},e.prototype.jW=function(t,e,i,n,r,s){var o=this.hk(r);if(-1!=n){var a=this.hk(s),h=this.hk(this.$e(n));n=o&a&h,h^=h&this.dh(i),0!=(h|=n)&&(this.Vg(s,a|h),this.Vg(r,h|o),o=o||h)}for(e=t.lb(e);-1!=e&&(n=t.ja(e),i=this.$e(this.xa(n)),r=this.hk(i),s=this.dh(n),a=this.$e(n),n=r&(h=this.hk(a))&o,o^=o&s,0!=(o|=n));e=t.lb(e))this.Vg(i,r|o),this.Vg(a,h|o)},e.prototype.kW=function(e,i,n,r,s,o){if(s!=o){n=this.Ab(n,this.cg),n+=this.Ab(r,this.cg),r=0;var a=new t.ia(0),h=new t.ia(0);h.add(0);for(var l=e.rc(-1);l!=i;l=e.lb(l)){var u=e.ja(l),c=this.xa(u),f=this.$e(u),p=this.$e(c);if(f!=p){if(u=this.Ab(u,this.cg),r+=u+=this.Ab(c,this.cg),c=!1,0!=a.size&&a.Fc()==p&&(h.If(),a.If(),c=!0),-1==this.Gn(p))throw t.i.Qa();c&&this.Gn(p)==f||(h.add(r),a.add(f))}}r+=n,0!=a.size&&a.Fc()==o&&(h.If(),a.If()),0!=r?0==h.Fc()&&(e=this.g.ld,e=this.La(e),this.Vg(s,e)):0!=h.Fc()&&(e=this.g.ld,e=this.La(e),this.Vg(s,e))}},e.prototype.iW=function(t,e,i,n){var r=this.La(this.g.ld);if(-1==e)this.Vg(n,this.Go),1&(t=this.Ab(t,this.xg))?this.Vg(i,r):this.Vg(i,this.Go);else{var s=this.hk(n);0==s?(s=this.hk(this.$e(e)),this.Vg(n,s),1&(t=this.Ab(t,this.xg))?this.Vg(i,s==r?this.Go:r):this.Vg(i,s)):1&(t=this.Ab(t,this.xg))?this.Vg(i,s==r?this.Go:r):this.Vg(i,s)}},e.prototype.gY=function(t,e,i,n){var r=n,s=-1,o=-1,a=0;do{if(2==a)return!1;var h=this.Ab(r,e);if(-1!=h){if(-1!=s)return!1;s=h}else{if(-1!=o)return!1;o=r}a++,r=this.jc(this.xa(r))}while(n!=r);return-1!=o&&-1!=s&&(this.Kb(t.ja(s),e,-2),t.Sj(s,o),i.add(s),!0)},e.prototype.hY=function(t,e){var i=this.Kp(t);if(0!=i){var n=this.Kp(e);(0<i&&0>n||0>i&&0<n||-1!=(e=this.Gn(e)))&&this.jn(t,e)}},e.prototype.vP=function(e,i){this.Cq=this.g.Gd();for(var n=0,r=i.size;n<r;n++){var s=i.get(n),o=this.g.Pa(s,this.Cm),a=this.g.Qf(this.g.bd(s)),h=this.g.ic(a);if(t.aa.Hc(h)){var l=this.g.U(s);if(-1!=l){var u=this.g.Pa(l,this.Cm);if(o!=u){var c=this.vU(),f=this.xa(c),p=this.jh.Ce();this.jh.S(p,0,s),this.jh.S(p,1,-1),this.Gt(c,p),this.IJ(c,o),-1==(p=this.Me(o))?(this.mn(o,c),this.Tl(c,f),this.Sl(f,c)):(o=this.te(p),this.Tl(p,f),this.Sl(f,p),this.Sl(o,c),this.Tl(c,o)),this.IJ(f,u),-1==(o=this.Me(u))?(this.mn(u,f),this.Sl(c,f),this.Tl(f,c)):(u=this.te(o),this.Tl(o,c),this.Sl(c,o),this.Sl(u,f),this.Tl(f,u)),a=this.La(a),0==e?(this.Kb(f,this.ae,0),this.Kb(c,this.ae,1736==h?a:0)):5==e?(u=new t.h,this.g.D(s,u),s=new t.h,this.g.D(l,s),o=l=0,0>u.compare(s)?l=1:o=-1,this.Kb(f,this.ae,0),this.Kb(c,this.ae,0),this.Kb(c,this.cg,l),this.Kb(f,this.cg,o)):7==e?(this.Kb(f,this.ae,this.Go),this.Kb(c,this.ae,1736==h?a:0)):4==e&&(this.Kb(f,this.ae,0),this.Kb(c,this.ae,0),this.Kb(c,this.xg,1),this.Kb(f,this.xg,1)),h=1736==h?this.aO:0,this.$w(c,a|h),this.$w(f,a|h)}}}}},e.prototype.VT=function(t,e){var i=this.mm(e);if(-1!=i){var n=this.mm(t);this.jh.S(i,1,n),this.Gt(t,i),this.Gt(e,-1)}t=this.xa(t),e=this.xa(e),-1!=(i=this.mm(e))&&(n=this.mm(t),this.jh.S(i,1,n),this.Gt(t,i),this.Gt(e,-1))},e.prototype.IX=function(e){function i(t,e){return r.HO(t,e)}var n=new t.ia(0);n.Jb(10);for(var r=this,s=this.Re;-1!=s;s=this.Rf(s)){n.clear(!1);var o=this.Me(s);if(-1!=o){var a=o;do{n.add(a),a=this.jc(this.xa(a))}while(a!=o);if(1<n.size){if(a=!0,2<n.size)n.Vd(0,n.size,i),n.add(n.get(0));else if(0<this.GO(n.get(0),n.get(1))){var h=n.get(0);n.set(0,n.get(1)),n.set(1,h)}else a=!1;for(var l=h=n.get(0),u=this.uf(l),c=this.xa(l),f=-1,p=1,d=n.size;p<d;p++){var v=n.get(p),g=this.xa(v),y=this.jk(g);if(y==u&&v!=l){if(0==e)f=this.LF(l)|this.LF(v),this.$w(l,f),this.$w(c,f),this.Kb(l,this.ae,this.Ab(l,this.ae)|this.Ab(v,this.ae)),this.Kb(c,this.ae,this.Ab(c,this.ae)|this.Ab(g,this.ae));else if(-1!=this.cg)f=this.Ab(l,this.cg)+this.Ab(v,this.cg),g=this.Ab(c,this.cg)+this.Ab(g,this.cg),this.Kb(l,this.cg,f),this.Kb(c,this.cg,g);else{if(7==e)return void(this.Ni=new t.Md(5,s,-1));-1!=this.xg&&(f=this.Ab(l,this.xg)+this.Ab(v,this.xg),g=this.Ab(c,this.xg)+this.Ab(g,this.xg),this.Kb(l,this.xg,f),this.Kb(c,this.xg,g))}this.VT(l,v),this.Ly(v),f=l,n.set(p,-1),v==h&&(n.set(0,-1),h=-1)}else this.yx(f,!1),f=-1,l=v,u=y,c=g}if(this.yx(f,!1),f=-1,a){for(h=-1,p=0,d=n.size;p<d;p++)if(-1!=(v=n.get(p)))if(-1==h)l=h=v,u=this.uf(l),c=this.xa(l);else if(v!=l&&(g=this.xa(v),y=this.jk(g),this.Sl(c,v),this.Tl(v,c),l=v,u=y,c=g,7==e&&(this.Ab(v,this.ae)|this.Ab(this.te(v),this.ae))==(1|this.Go)))return void(this.Ni=new t.Md(5,s,-1));this.mn(s,h)}else{for(h=-1,p=0,d=n.size;p<d;p++)if(-1!=(v=n.get(p))){h=v;break}o!=h&&this.mn(s,h)}}}}},e.prototype.WN=function(){for(var e=-1,i=this.$g(),n=this.Re;-1!=n;n=this.Rf(n)){var r=this.Me(n);if(-1!=r){var s=r;do{if(1!=this.Ab(s,i)){var o=this.mI();this.Dt(o,s),this.BJ(o,e),-1!=e&&this.DJ(e,o),e=o;var a=0,h=s;do{a|=this.Ab(h,this.ae),this.$W(h,o),this.Kb(h,i,1),h=this.jc(h)}while(h!=s);this.Vg(o,a)}s=this.jc(this.xa(s))}while(s!=r)}}o=this.mI(),this.Dt(o,-1),this.BJ(o,e),-1!=e&&this.DJ(e,o),this.Hl=o,this.Yn=t.be.qf(this.ye.size,NaN),this.kA=t.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(i)},e.prototype.sR=function(t,e,i){if(-1==(e=-1!=e?e:this.Me(t)))return-1;for(t=e;;){if(1!=this.Ab(e,i))return e;if((e=this.jc(this.xa(e)))==t)return-1}},e.prototype.yW=function(){for(var t=this.$g(),e=this.Re;-1!=e;e=this.Rf(e))for(var i=-1;;){var n=this.sR(e,i,t);if(-1==n)break;i=this.jc(this.xa(n));for(var r=n;;){var s=this.jc(r),o=this.te(r),a=this.xa(r);if(o==a){if(this.IP(r),i!=r&&i!=a||(i=-1),r==n||o==n){if(r==(n=s)||o==n)break;r=s;continue}}else this.Kb(r,t,1);if((r=s)==n)break}}this.Jg(t)},e.prototype.MB=function(e,i,n,r,s){this.Ug(),this.gH=s,this.g=e,this.Bq=this.g.aF(),(e=new t.ia(0)).Jb(null!=n?this.g.I(n.get(0)):this.g.fd);var o=0,a=1,h=null!=n?n.get(0):this.g.ld;for(s=1;-1!=h;){this.g.HJ(h,this.Bq,a),a<<=1;for(var l=this.g.Ob(h);-1!=l;l=this.g.Rb(l))for(var u=this.g.Xa(l),c=0,f=this.g.Ja(l);c<f;c++)e.add(u),u=this.g.U(u);t.aa.Rn(this.g.ic(h))||(o+=this.g.da(h)),null!=n?(h=s<n.size?n.get(s):-1,s++):h=this.g.ue(h)}for(this.Go=a,this.wa=e.size,this.g.nx(e,this.wa),null==this.jh&&(this.jh=new t.$c(2),this.ge=new t.$c(8),this.Kc=new t.$c(8),this.ye=new t.$c(8)),this.jh.De(this.wa),t.mp.zp(r),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,o)),this.Cm=this.g.Gd(),n=new t.h,s=0,o=new t.h,n.Rc(),a=0;a<=this.wa;a++)if(a<this.wa?(u=e.get(a),this.g.D(u,o)):o.Rc(),!n.qb(o)){if(s<a){for(u=this.Ym(),f=c=-1;s<a;s++)f=e.get(s),this.g.Ra(f,this.Cm,u),h=this.jh.Ce(),this.jh.S(h,0,f),this.jh.S(h,1,c),c=h,l=this.g.bd(f),h=this.g.Qf(l),h=this.La(h),this.SW(u,this.xd(u)|h);this.TW(u,c),this.cr(u,this.g.Ua(f)),-1!=this.Os&&this.iX(this.Os,u),this.lX(u,this.Os),this.Os=u,-1==this.Re&&(this.Re=u)}s=a,n.L(o)}t.mp.zp(r),this.ae=this.$g(),5==i&&(this.cg=this.$g()),4==i&&(this.xg=this.$g()),this.vP(i,e),0==this.Ni.Jj&&(this.IX(i),0==this.Ni.Jj&&(isNaN(this.lA)||this.xO()?(this.WN(),0==this.Ni.Jj&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(i,r))):this.pA=!0))},e.prototype.Ly=function(t){var e=this.jc(t),i=this.te(t),n=this.xa(t),r=this.jc(n),s=this.te(n);e!=n&&(this.Sl(s,e),this.Tl(e,s)),i!=n&&(this.Sl(i,r),this.Tl(r,i)),i=this.jk(t),this.Me(i)==t&&(r!=t?this.mn(i,r):this.mn(i,-1)),r=this.jk(n),this.Me(r)==n&&(e!=n?this.mn(r,e):this.mn(r,-1)),this.Kc.jd(t),this.Kc.jd(n)},e.prototype.OF=function(t,e){for(;;){if(-1==(e=t.we(e)))return-1;var i=t.ja(e);if(this.$e(i)!=this.$e(this.xa(i)))return i}},e.prototype.dr=function(t,e){var i;void 0===i&&(i=!0),this.MB(t,0,null,e,i)},e.prototype.vJ=function(e,i,n){var r=new t.ia(0);r.add(i),this.MB(e,4,r,n,1736==e.ic(i))},e.prototype.wJ=function(e,i,n){var r=new t.ia(0);r.add(i),this.MB(e,5,r,n,!0)},e.prototype.Ug=function(){null!=this.g&&(-1!=this.Bq&&(this.g.xW(this.Bq),this.Bq=-1),-1!=this.Cm&&(this.g.Td(this.Cm),this.Cm=-1),-1!=this.Cq&&(this.g.Td(this.Cq),this.Cq=-1),-1!=this.ae&&(this.Jg(this.ae),this.ae=-1),-1!=this.cg&&(this.Jg(this.cg),this.cg=-1),-1!=this.xg&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,null!=this.Kc&&this.Kc.mj(!0),null!=this.Gi&&(this.Gi.length=0),null!=this.Di&&(this.Di.length=0),null!=this.hH&&(this.hH.length=0),null!=this.ye&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},e.prototype.Me=function(t){return this.ge.T(t,2)},e.prototype.D=function(t,e){this.g.dG(this.eR(t),e)},e.prototype.xd=function(t){return this.ge.T(t,1)},e.prototype.Rf=function(t){return this.ge.T(t,4)},e.prototype.cz=function(t){return this.ge.T(t,6)},e.prototype.km=function(t){return this.ge.T(t,7)},e.prototype.js=function(t){return this.jh.T(t,1)},e.prototype.tj=function(t){return this.jh.T(t,0)},e.prototype.ng=function(t,e){return(e=this.Di[e]).size<=t?-1:e.read(t)},e.prototype.nn=function(t,e,i){(e=this.Di[e]).size<=t&&e.resize(this.ge.size,-1),e.write(t,i)},e.prototype.Dp=function(){null==this.Di&&(this.Di=[]);for(var e=t.ia.qf(this.ge.Hg,-1),i=0,n=this.Di.length;i<n;i++)if(null==this.Di[i])return this.Di[i]=e,i;return this.Di.push(e),this.Di.length-1},e.prototype.Ep=function(t){this.Di[t]=null},e.prototype.jk=function(t){return this.Kc.T(t,1)},e.prototype.uf=function(t){return this.jk(this.xa(t))},e.prototype.xa=function(t){return this.Kc.T(t,4)},e.prototype.te=function(t){return this.Kc.T(t,5)},e.prototype.jc=function(t){return this.Kc.T(t,6)},e.prototype.$e=function(t){return this.Kc.T(t,2)},e.prototype.af=function(t){return this.hk(this.Kc.T(t,2))},e.prototype.mm=function(t){return this.Kc.T(t,7)},e.prototype.Yr=function(t,e){this.D(this.jk(t),e)},e.prototype.lm=function(t,e){this.D(this.uf(t),e)},e.prototype.dh=function(t){return this.Kc.T(t,3)&this.bO},e.prototype.Ab=function(t,e){return(e=this.Gi[e]).size<=t?-1:e.read(t)},e.prototype.Kb=function(t,e,i){(e=this.Gi[e]).size<=t&&e.resize(this.Kc.size,-1),e.write(t,i)},e.prototype.$g=function(){null==this.Gi&&(this.Gi=[]);for(var e=t.ia.qf(this.Kc.Hg,-1),i=0,n=this.Gi.length;i<n;i++)if(null==this.Gi[i])return this.Gi[i]=e,i;return this.Gi.push(e),this.Gi.length-1},e.prototype.Jg=function(t){this.Gi[t]=null},e.prototype.IP=function(t){var e=this.$e(t),i=this.xa(t),n=this.jc(t);n==i&&(n=this.jc(n))==t&&(n=-1);var r=this.AF(e);r!==t&&r!=i||this.Dt(e,n),i=this.Yn.read(e),isNaN(i)||(this.AJ(e,NaN),this.CJ(e,NaN)),this.yx(t,!0),this.Ly(t)},e.prototype.JP=function(t){for(var e=0,i=t.size;e<i;e++){var n=t.get(e),r=this.$e(this.xa(n));this.Dt(this.$e(n),-1),this.Dt(r,-1),this.yx(n,!0),this.Ly(n)}},e.prototype.AF=function(t){return this.ye.T(t,1)},e.prototype.hk=function(t){return this.ye.T(t,2)},e.prototype.Gn=function(t){return this.ye.T(t,3)},e.prototype.dR=function(t){return this.ye.T(t,4)},e.prototype.Kp=function(t){var e=this.Yn.read(t);return isNaN(e)&&(this.kY(t),e=this.Yn.read(t)),e},e.prototype.La=function(t){return this.g.KF(t,this.Bq)},e.prototype.Le=function(t){return this.g.Pa(t,this.Cm)},e.prototype.uR=function(t){return this.g.Pa(t,this.Cq)},e.prototype.tR=function(t,e){var i=this.Me(t);if(-1==i)return-1;var n=i,r=-1,s=-1;do{if(this.uf(n)==e)return n;if(-1==r){if(-1==(r=this.Me(e)))break;s=r}if(this.uf(s)==t)return this.xa(s);n=this.jc(this.xa(n)),s=this.jc(this.xa(s))}while(n!=i&&s!=r);return-1},e.prototype.pB=function(e,i){i.Or(),i=i.get();var n=new t.h;this.Yr(e,n),i.Dc(n),this.lm(e,n),i.Qc(n)},e.prototype.HO=function(e,i){if(e==i)return 0;var n=new t.h;this.lm(e,n);var r=new t.h;return this.lm(i,r),n.qb(r)?0:(i=new t.h,this.Yr(e,i),(e=new t.h).uc(n,i),(n=new t.h).uc(r,i),t.h.nu(e,n))},e.prototype.GO=function(e,i){if(e==i)return 0;var n=new t.h;this.lm(e,n);var r=new t.h;return this.lm(i,r),n.qb(r)?0:(i=new t.h,this.Yr(e,i),(e=new t.h).uc(n,i),(n=new t.h).uc(r,i),0<=n.y&&0<e.y?t.h.nu(e,n):0)},e.prototype.xO=function(){for(var e=t.lc.ox(this.lA),i=new t.h,n=new t.h,r=new t.h,s=new t.h,o=new t.h,a=this.Re;-1!=a;a=this.Rf(a)){var h=this.Me(a);if(-1!=h){var l=h;this.Yr(l,i),this.lm(l,n),o.uc(n,i);var u=o.Sk();do{var c=l;if((l=this.jc(this.xa(l)))!=c){this.lm(l,r),s.uc(r,i),c=s.Sk();var f=s.wi(o);if(f*f/(c*u)*Math.min(c,u)<=e)return!1;o.L(s),u=c,n.L(r)}}while(l!=h)}}return!0},e}(),t.iu=e}(J||(J={})),function(t){var e=function(){function e(){this.j=null,this.oH=new t.h,this.pH=new t.h,this.Gj=null,this.Mv=!1,this.tl=-1}return e.prototype.cf=function(t){return t<this.Gj.length&&this.Gj[t]},e.prototype.dl=function(e,i,n,r){var s=t.aa.tf(this.j.g.ic(n));if(2!=t.aa.tf(this.j.g.ic(i))||1!=s)throw t.i.Qa();this.FP(e,i,n,r)},e.prototype.dr=function(e,i){null==this.j&&(this.j=new t.iu),this.j.dr(e,i)},e.prototype.Ft=function(e,i,n){for(t.Tk.V(e,i,n,!0),i=e.ld;-1!=i;i=e.ue(i))1736==e.ic(i)&&t.rn.V(e,i,-1,this.Mv,n);this.dr(e,n)},e.prototype.ME=function(t,e,i,n,r){var s=this.j.g;if(1736==s.ic(t))for(t=s.Ob(t);-1!=t;t=s.Rb(t)){var o=s.Xa(t);this.j.Le(o),this.j.Le(s.U(o));var a=this.j.uR(o);if(-1!=a){var h=this.j.Ab(a,i);if(1!=h&&2!=h)if(this.cf(this.j.af(a))){this.j.Kb(a,i,1),h=s.vf(e,-1);var l=a,u=this.j.Le(o),c=1;do{var f=this.sm(o,r);s.ij(h,f),-1!=n&&this.j.nn(u,n,1),this.j.Kb(l,i,1),l=this.j.jc(l);do{var p=-1!=(f=1==c?s.U(o):s.Ma(o))?this.j.Le(f):-1}while(p==u);var d=this.j.jk(l);if(d!=p){do{p=-1!=(f=1==c?s.Ma(o):s.U(o))?this.j.Le(f):-1}while(p==u);d!=p?(p=d,f=this.j.tj(this.j.km(p))):c=-c}u=p,o=f}while(l!=a);s.kn(h,!0)}else this.j.Kb(a,i,2)}}},e.prototype.eF=function(){for(var e=this.j.$g(),i=new t.ia(0),n=this.j.Re;-1!=n;n=this.j.Rf(n)){var r=this.j.Me(n),s=r;if(-1!=r)do{if(1!=this.j.Ab(s,e)){var o=this.j.xa(s);this.j.Kb(o,e,1),this.j.Kb(s,e,1),this.cf(this.j.af(s))&&this.cf(this.j.af(o))&&i.add(s)}s=this.j.jc(this.j.xa(s))}while(s!=r)}this.j.Jg(e),this.j.JP(i)},e.prototype.sm=function(t,e){return-1==e?t:this.aS(t,e)},e.prototype.aS=function(t,e){var i=this.j.g,n=this.j.km(this.j.Le(t));do{var r=this.j.tj(n);if(i.Qf(i.bd(r))==e)return r;n=this.j.js(n)}while(-1!=n);return t},e.prototype.Ot=function(e,i,n){this.eF();var r=this.j.g,s=r.Ig(1736),o=this.j.$g();return this.uK(e,i,s,n,o,-1),this.j.Jg(o),t.rn.V(r,s,1,this.Mv,null),s},e.prototype.uK=function(t,e,i,n,r,s){for(this.ME(t,i,r,s,n),-1!=e&&this.ME(e,i,r,s,n),t=this.j.g,e=this.j.Re;-1!=e;e=this.j.Rf(e)){var o=this.j.Me(e);if(-1!=o){var a=o;do{var h=this.j.Ab(a,r);if(1!=h&&2!=h)if(this.cf(this.j.af(a))){h=t.vf(i,-1);var l=a;do{var u=this.j.mm(l);-1!=u?u=this.j.tj(u):(u=this.j.tj(this.j.mm(this.j.xa(l))),u=this.j.g.U(u)),u=this.sm(u,n),t.ij(h,u),this.j.Kb(l,r,1),-1!=s&&(u=this.j.Le(u),this.j.nn(u,s,1)),l=this.j.jc(l)}while(l!=a);t.kn(h,!0)}else this.j.Kb(a,r,2);a=this.j.jc(this.j.xa(a))}while(a!=o)}}},e.prototype.aY=function(e,i,n){var r=this.j.g,s=r.Ig(1736),o=r.Ig(1607),a=r.Ig(550);this.eF();var h=-1,l=this.j.$g(),u=this.j.Dp();for(this.uK(e,i,s,n,l,u),e=this.j.Re;-1!=e;e=this.j.Rf(e))if(-1!=(i=this.j.Me(e))){var c=i;do{var f=this.j.Ab(c,l),p=this.j.Ab(this.j.xa(c),l);if(2==(f|=p))if(f=this.j.dh(c),this.cf(f)){var d=r.vf(o,-1),v=c;f=this.Yw(e,r),f=this.sm(f,n),r.ij(d,f),this.j.nn(e,u,1);do{if(f=this.j.uf(v),p=this.Yw(f,r),p=this.sm(p,n),r.ij(d,p),this.j.Kb(v,l,1),this.j.Kb(this.j.xa(v),l,1),this.j.nn(f,u,1),v=this.j.jc(v),f=this.j.Ab(v,l),2!=(f|=p=this.j.Ab(this.j.xa(v),l)))break;if(f=this.j.dh(v),!this.cf(f)){this.j.Kb(v,l,1),this.j.Kb(this.j.xa(v),l,1);break}}while(v!=c)}else this.j.Kb(c,l,1),this.j.Kb(this.j.xa(c),l,1);c=this.j.jc(this.j.xa(c))}while(c!=i)}for(e=this.j.Re;-1!=e;e=this.j.Rf(e))1!=(f=this.j.ng(e,u))&&(f=this.j.xd(e),this.cf(f)&&(-1==h&&(h=r.vf(a,-1)),-1!=(i=this.j.km(e))&&(i=this.j.tj(i),f=this.sm(i,n),r.ij(h,f))));return this.j.Ep(u),this.j.Jg(l),t.rn.V(r,s,1,this.Mv,null),(n=[])[0]=a,n[1]=o,n[2]=s,n},e.prototype.Yw=function(t,e){var i=-1;for(t=this.j.km(t);-1!=t;t=this.j.js(t)){var n=this.j.tj(t);-1==i&&(i=n);var r=this.j.La(e.Qf(e.bd(n)));if(this.cf(r)){i=n;break}}return i},e.prototype.lB=function(e,i){for(var n=this.jl(i),r=this.j.jk(i),s=this.j.uf(i),o=0,a=0,h=this.j.km(r);-1!=h;h=this.j.js(h)){var l=this.j.tj(h),u=e.bd(l),c=this.j.La(e.Qf(u));u=e.Xa(u),(c=!!(c&n))&&u==l&&(this.tl=i);var f=e.U(l);-1!=f&&this.j.Le(f)==s?(o++,c&&(-1===this.tl&&u==f&&(l=this.j.jc(i),this.cf(this.jl(l))&&(this.tl=l)),a++)):-1!=(l=e.Ma(l))&&this.j.Le(l)==s&&(o--,c&&(-1===this.tl&&u===l&&(l=this.j.jc(i),this.cf(this.jl(l))&&(this.tl=l)),a--))}return this.j.D(r,this.oH),this.j.D(s,this.pH),(0!=a?a:o)*t.h.tb(this.oH,this.pH)},e.prototype.jl=function(t){return this.j.dh(t)|this.j.af(t)|this.j.af(this.j.xa(t))},e.prototype.xK=function(t){for(var e=this.j.xa(this.j.te(t)),i=-1;e!=t;){if(this.cf(this.jl(e))){if(-1!=i)return-1;i=e}e=this.j.xa(this.j.te(e))}return-1!=i?this.j.xa(i):-1},e.prototype.yK=function(t){for(var e=this.j.xa(this.j.jc(t)),i=-1;e!=t;){if(this.cf(this.jl(e))){if(-1!=i)return-1;i=e}e=this.j.xa(this.j.jc(e))}return-1!=i?this.j.xa(i):-1},e.prototype.mJ=function(e,i,n,r,s){var o=this.j.g,a=e,h=this.j.xa(a);this.j.Kb(a,n,1),this.j.Kb(h,n,1),this.tl=-1;for(var l=this.lB(o,a),u=a,c=-1,f=!1,p=1;;){var d=this.j.te(a);if(d==h)break;if(h=this.j.jc(h),this.j.xa(d)!=h){if(-1==(a=this.xK(a))){f=!0;break}h=this.j.xa(a)}else a=d;if(a==e){c=e;break}if(d=this.jl(a),!this.cf(d))break;this.j.Kb(a,n,1),this.j.Kb(h,n,1),u=a,l+=this.lB(o,a),p++}if(-1==c)for(a=e,h=this.j.xa(a),c=a;(e=this.j.jc(a))!=h;){if(h=this.j.te(h),this.j.xa(e)!=h){if(-1==(a=this.yK(a))){f=!0;break}h=this.j.xa(a)}else a=e;if(d=this.jl(a),!this.cf(d))break;this.j.Kb(a,n,1),this.j.Kb(h,n,1),c=a,l+=this.lB(o,a),p++}else if(-1!=this.tl&&(u=this.tl,c=this.j.te(this.tl),this.j.xa(c)!=this.j.jc(this.j.xa(u))&&-1==(c=this.xK(u))))throw t.i.Qa();for(0<=l||(a=c,c=this.j.xa(u),u=this.j.xa(a)),n=o.vf(i,-1),a=u,u=this.j.jk(u),f=this.j.uf(c)==u&&f,l=this.Yw(u,o),l=this.sm(l,s),o.ij(n,l),-1!=r&&this.j.nn(u,r,1),u=0,p=f?t.O.truncate((p+1)/2):-1;e=this.j.uf(a),l=this.Yw(e,o),l=this.sm(l,s),o.ij(n,l),u++,-1!=r&&this.j.nn(e,r,1),f&&u==p&&(n=o.vf(i,-1),o.ij(n,l)),a!=c;)if(e=this.j.jc(a),this.j.te(this.j.xa(a))!=this.j.xa(e)){if(-1==(a=this.yK(a)))throw t.i.Qa()}else a=e},e.prototype.Pt=function(t){for(var e=this.j.g.Ig(1607),i=this.j.$g(),n=this.j.Re;-1!=n;n=this.j.Rf(n)){var r=this.j.Me(n),s=r;do{1!=this.j.Ab(s,i)&&this.cf(this.jl(s))&&this.mJ(s,e,i,-1,t),s=this.j.jc(this.j.xa(s))}while(s!=r)}return this.j.Jg(i),e},e.prototype.bY=function(t){for(var e=this.j.g,i=e.Ig(1607),n=e.Ig(550),r=this.j.$g(),s=this.j.Dp(),o=-1,a=this.j.Re;-1!=a;a=this.j.Rf(a)){var h=this.j.Me(a),l=h;do{var u=this.j.Ab(l,r);1!=u&&(u=this.jl(l),this.cf(u)&&this.mJ(l,i,r,s,t)),l=this.j.jc(this.j.xa(l))}while(l!=h)}for(a=this.j.Re;-1!=a;a=this.j.Rf(a))1!=(u=this.j.ng(a,s))&&(u=this.j.xd(a),this.cf(u)&&(-1==o&&(o=e.vf(n,-1)),-1!=(h=this.j.km(a))&&(h=this.j.tj(h),h=this.sm(h,t),e.ij(o,h))));return this.j.Jg(r),this.j.Ep(s),(t=[])[0]=n,t[1]=i,t},e.prototype.mr=function(){for(var t=this.j.g,e=t.Ig(550),i=t.vf(e,-1),n=this.j.Re;-1!=n;n=this.j.Rf(n))if(this.cf(this.j.xd(n))){for(var r=-1,s=this.j.km(n);-1!=s;s=this.j.js(s)){var o=this.j.tj(s);-1==r&&(r=o);var a=this.j.La(t.Qf(t.bd(o)));if(this.cf(a)){r=o;break}}t.ij(i,r)}return e},e.prototype.bq=function(t){this.Gj=[];for(var e=0;e<t;e++)this.Gj[e]=!1},e.aW=function(e,i,n){var r=e.Ia(),s=Array(1e3);t.O.$u(s,null);var o=t.O.lg(1e3,0),a=e.I(),h=!0,l=2==i.Db();if(1!=i.Db()&&2!=i.Db())throw t.i.Qa();for(var u=0;u<a;){var c=t.O.truncate(e.lW(s,u)-u);l?t.hd.sK(i,s,c,n,o):t.hd.tK(i,s,c,n,o);for(var f=0,p=0;p<c;p++)0==o[p]&&(h&&(h=!1,r.Fd(e,0,u)),f!=p&&r.Fd(e,u+f,u+p),f=p+1);h||f==c||r.Fd(e,u+f,u+c),u+=c}return h?e:r},e.zG=function(i,n,r){return i instanceof t.de?e.aW(i,n,r):n instanceof t.Sa?i.B()||n.B()?i.Ia():t.Tk.zU(r,i,n)?t.Tk.CO(i,n):i.Ia():e.bW(i,n,r)},e.Av=function(i,n,r,s){var o=new t.l;i.A(o);var a=new t.l;n.A(a);var h=new t.l;if(h.K(o),h.Zb(a),r=t.ta.Wd(r,h,!0),(h=new t.l).K(a),a=t.ta.Er(r),h.W(a,a),!o.isIntersecting(h)){if(i.Db()<=n.Db())return e.ki(e.Xe(i.Ia()),i,"&");if(i.Db()>n.Db())return e.ki(e.Xe(n.Ia()),i,"&")}return a=new e,h=(o=new t.gd).Ib(e.Xe(i)),n=o.Ib(e.Xe(n)),a.Ft(o,r,s),s=a.Av(h,n),i=e.ki(o.Ne(s),i,"&"),t.aa.Hc(i.getType())&&(i.Ch(2,r),1736==i.getType()&&i.fm()),i},e.bW=function(e,i,n){if(e.B()||i.B())return e.Ia();var r=[null],s=[0],o=2==i.Db();if(1!=i.Db()&&2!=i.Db())throw t.i.Qa();return r[0]=e.D(),o?t.hd.sK(i,r,1,n,s):t.hd.tK(i,r,1,n,s),0==s[0]?e.Ia():e},e.prototype.LU=function(e,i,n,r,s){if(e.B())return e;var o=new t.gd;return e=o.Ib(e),this.Mk(o,e,i,n,r,s)},e.prototype.NU=function(e,i,n,r,s,o){if(s&&550!=e.ic(i)){var a=new t.RC;a.TX(e,n),a.Ng?(t.Tk.V(e,n,o,!0),s=!1):this.j.yy(n)}else t.Tk.V(e,n,o,!0),s=!1;if(r&&550!=e.ic(i)?this.j.wJ(e,i,o):this.j.vJ(e,i,o),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(e,i,n,r,!1,o);if(this.j.yy(NaN),o=this.j.La(i),this.bq(o+1),this.Gj[o]=!0,1736==e.ic(i)||r&&550!=e.ic(i))return e.Yo(i,0),i=this.Ot(i,-1,-1),(e=e.Ne(i)).Yo(0),s?e.Ch(1,0):(e.Ch(2,n),e.fm()),e;if(1607==e.ic(i))return i=this.Pt(-1),e=e.Ne(i),s||e.Ch(2,n),e;if(550==e.ic(i))return i=this.mr(),e=e.Ne(i),s||e.Ch(2,n),e;throw t.i.Qa()},e.prototype.Mk=function(e,i,n,r,s,o){this.j=new t.iu;try{return this.NU(e,i,n,r,s,o)}finally{this.j.Ug()}},e.Mk=function(t,i,n,r,s){return(new e).LU(t,i,n,r,s)},e.prototype.MU=function(e,i,n,r){this.Mv=e,this.j=new t.iu,e=i.In(n);var s=i.ic(n);if(1!=e||550==s?this.j.vJ(i,n,r):this.j.wJ(i,n,r),!this.j.pA)if(this.j.yy(NaN),r=this.j.La(n),this.bq(r+1),this.Gj[r]=!0,1736==i.ic(n)||1==e&&550!=i.ic(n))i.Yo(n,0),r=this.Ot(n,-1,-1),i.hC(r,n),i.BB(r);else if(1607==i.ic(n))r=this.Pt(-1),i.hC(r,n),i.BB(r);else{if(550!=i.ic(n))throw t.i.fa("internal error");r=this.mr(),i.hC(r,n),i.BB(r)}},e.prototype.im=function(e,i){var n=t.aa.tf(this.j.g.ic(e)),r=t.aa.tf(this.j.g.ic(i));if(n>r)return e;var s=this.j.La(e),o=this.j.La(i);if(this.bq(1+(s|o)),this.Gj[this.j.La(e)]=!0,2==n&&2==r)return this.Ot(e,i,-1);if(1==n&&2==r||1==n&&1==r)return this.Pt(-1);if(0==n)return this.mr();throw t.i.Qa()},e.prototype.Av=function(e,i){var n=t.aa.tf(this.j.g.ic(e)),r=t.aa.tf(this.j.g.ic(i)),s=this.j.La(e),o=this.j.La(i);if(this.bq(1+(s|o)),this.Gj[this.j.La(e)|this.j.La(i)]=!0,s=-1,1<this.j.g.ht.Aa&&(s=e),2==n&&2==r)return this.Ot(e,i,s);if(1==n&&0<r||1==r&&0<n)return this.Pt(s);if(0==n||0==r)return this.mr();throw t.i.Qa()},e.prototype.Pz=function(e,i){var n=t.aa.tf(this.j.g.ic(e)),r=t.aa.tf(this.j.g.ic(i)),s=this.j.La(e),o=this.j.La(i);if(this.bq(1+(s|o)),this.Gj[this.j.La(e)|this.j.La(i)]=!0,s=-1,1<this.j.g.ht.Aa&&(s=e),2==n&&2==r)return this.aY(e,i,s);if(1==n&&0<r||1==r&&0<n)return this.bY(s);if(0==n||0==r)return(e=[])[0]=this.mr(),e;throw t.i.Qa()},e.prototype.ep=function(e,i){var n=t.aa.tf(this.j.g.ic(e)),r=t.aa.tf(this.j.g.ic(i)),s=this.j.La(e),o=this.j.La(i);if(this.bq(1+(s|o)),this.Gj[this.j.La(e)]=!0,this.Gj[this.j.La(i)]=!0,2==n&&2==r)return this.Ot(e,i,-1);if(1==n&&1==r)return this.Pt(-1);if(0==n&&0==r)return this.mr();throw t.i.Qa()},e.Xe=function(e){var i=e.getType();return 197==i?(i=new t.Da(e.description),e.B()||i.ad(e,!1),i):33==i?(i=new t.de(e.description),e.B()||i.add(e),i):322==i?(i=new t.Ta(e.description),e.B()||i.oc(e,!0),i):e},e.ki=function(e,i,n){var r=e.getType();return 197==r?(i=new t.Da(e.description),e.B()||i.ad(e,!1),i):33!=r||"|"!=n&&"^"!=n?322==r?(i=new t.Ta(e.description),e.B()||i.oc(e,!0),i):33==r&&"-"==n&&33==i.getType()||550==r&&"&"==n&&33==i.getType()?(i=new t.Sa(e.description),e.B()||e.ve(0,i),i):e:(i=new t.de(e.description),e.B()||i.add(e),i)},e.im=function(i,n,r,s){if(i.B()||n.B()||i.Db()>n.Db())return e.ki(e.Xe(i),i,"-");var o=new t.l;i.A(o);var a=new t.l;if(n.A(a),!o.isIntersecting(a))return e.ki(e.Xe(i),i,"-");var h=new t.l;return h.K(o),h.Zb(a),r=t.ta.Wd(r,h,!0),a=new e,h=(o=new t.gd).Ib(e.Xe(i)),n=o.Ib(e.Xe(n)),a.Ft(o,r,s),s=a.im(h,n),s=o.Ne(s),i=e.ki(s,i,"-"),t.aa.Hc(i.getType())&&(i.Ch(2,r),1736==i.getType()&&i.fm()),i},e.VP=function(i,n,r){if(2>i.length)throw t.i.N("not enough geometries to dissolve");for(var s=0,o=0,a=i.length;o<a;o++)s=Math.max(i[o].Db(),s);var h=new t.l;h.Oa();var l=new t.gd,u=-1,c=0,f=-1;for(o=0,a=i.length;o<a;o++)if(i[o].Db()==s)if(i[o].B())-1==f&&(f=o);else{f=o,-1==u?u=l.Ib(e.Xe(i[o])):l.uN(u,e.Xe(i[o]));var p=new t.l;i[o].xc(p),h.Zb(p),c++}return 2>c?e.Xe(i[f]):(i=2==s,n=t.ta.Wd(0==s?n:null,h,!0),(new e).Mk(l,u,n,i,!0,r))},e.Pz=function(i,n,r,s){var o=[null,null,null],a=new t.l;i.A(a);var h=new t.l;n.A(h);var l=new t.l;if(l.K(a),l.Zb(h),r=t.ta.Wd(r,l,!0),(l=new t.l).K(h),h=t.ta.Er(r),l.W(h,h),!a.isIntersecting(l)){if(i.Db()<=n.Db())return o[(i=e.ki(e.Xe(i.Ia()),i,"&")).Db()]=i,o;if(i.Db()>n.Db())return o[(i=e.ki(e.Xe(n.Ia()),i,"&")).Db()]=i,o}for(h=new e,l=(a=new t.gd).Ib(e.Xe(i)),n=a.Ib(e.Xe(n)),h.Ft(a,r,s),s=h.Pz(l,n),n=0;n<s.length;n++)h=e.ki(a.Ne(s[n]),i,"&"),t.aa.Hc(h.getType())&&(h.Ch(2,r),1736==h.getType()&&h.fm()),o[h.Db()]=h;return o},e.ep=function(i,n,r,s){if(i.Db()>n.Db())return e.ki(e.Xe(i),i,"^");if(i.Db()<n.Db()||i.B())return e.ki(e.Xe(n),i,"^");if(n.B())return e.ki(e.Xe(i),i,"^");var o=new t.l;i.A(o);var a=new t.l;n.A(a);var h=new t.l;return h.K(o),h.Zb(a),r=t.ta.Wd(r,h,!0),a=new e,h=(o=new t.gd).Ib(e.Xe(i)),n=o.Ib(e.Xe(n)),a.Ft(o,r,s),s=a.ep(h,n),i=e.ki(o.Ne(s),i,"^"),t.aa.Hc(i.getType())&&(i.Ch(2,r),1736==i.getType()&&i.fm()),i},e.prototype.LQ=function(t,e){var i=this.j.g;t=i.vf(t,-1);for(var n=e.size,r=0;r<n;r++){var s=e.get(r);i.ij(t,s)}i.kn(t,!0)},e.prototype.aX=function(t,e){for(var i=this.j.g,n=i.ld;-1!=n;n=i.ue(n))if(n==e)for(var r=i.Ob(n);-1!=r;r=i.Rb(r)){var s=i.Xa(r);if(-1!=s)for(var o=i.U(s);-1!=o;){s=this.j.Le(s);var a=this.j.Le(o);-1!=(s=this.j.tR(s,a))&&(a=this.j.xa(s),this.j.Kb(s,t,1),this.j.Kb(a,t,2)),s=o,o=i.U(s)}}},e.prototype.cW=function(e,i,n,r){n=this.j.La(n),r=this.j.La(r);var s=new t.ia(0);s.Jb(256);for(var o=this.j.g,a=this.j.$g(),h=this.j.Re;-1!=h;h=this.j.Rf(h)){var l=this.j.Me(h);if(-1!=l){var u=l;do{if(1!=this.j.Ab(u,a)){var c=u,f=u,p=!1,d=0;do{if(this.j.Kb(c,a,1),!p){var v=this.j.dh(c);v&r&&this.j.af(c)&n&&(f=c,p=!0)}p&&(s.add(this.j.tj(this.j.km(this.j.jk(c)))),-1!=e&&!!((v=this.j.dh(c))&r)&&(d|=v=this.j.Ab(c,e))),c=this.j.jc(c)}while(c!=f);p&&0<this.j.Kp(this.j.$e(f))&&(c=o.Ig(1736),this.LQ(c,s),-1!=i&&o.HJ(c,i,d)),s.clear(!1)}u=this.j.jc(this.j.xa(u))}while(u!=l)}}this.j.Jg(a)},e.prototype.FP=function(t,e,i,n){this.j.yW();var r=-1;-1!=t&&(r=this.j.$g(),this.aX(r,i)),this.cW(r,t,e,i),-1!=r&&(this.j.Jg(r),r=-1);var s=this.j.g;for(t=0,r=s.ld;-1!=r;r=s.ue(r))r!=e&&r!=i&&(n.add(r),t++);n.Vd(0,t,(function(t,e){return(t=s.wz(s.Ob(t)))<(e=s.wz(s.Ob(e)))?-1:t==e?0:1}))},e.prototype.Ug=function(){null!=this.j&&(this.j.Ug(),this.j=null)},e}();t.Fg=e}(J||(J={})),function(t){var e=function(){function e(t){void 0!==t?this.setScale(t):this.RB()}return e.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},e.prototype.Nb=function(t){return this==t||t instanceof e&&this.bb==t.bb&&this.eb==t.eb&&this.Gb==t.Gb&&this.jb==t.jb&&this.ab==t.ab&&this.Lb==t.Lb},e.prototype.cc=function(){return t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj()},e.prototype.Eh=function(t,e){var i=this.jb*t.x+this.ab*t.y+this.Lb;e.x=this.bb*t.x+this.eb*t.y+this.Gb,e.y=i},e.prototype.eY=function(e,i,n){for(var r=0;r<i;r++){var s=e[r].x,o=e[r].y,a=this.bb*s+this.eb*o+this.Gb;s=this.jb*s+this.ab*o+this.Lb,null!=n[r]?n[r].ma(a,s):n[r]=t.h.construct(a,s)}},e.prototype.multiply=function(t){e.multiply(this,t,this)},e.multiply=function(t,e,i){var n=t.bb*e.bb+t.jb*e.eb,r=t.eb*e.bb+t.ab*e.eb,s=t.Gb*e.bb+t.Lb*e.eb+e.Gb,o=t.bb*e.jb+t.jb*e.ab,a=t.eb*e.jb+t.ab*e.ab;t=t.Gb*e.jb+t.Lb*e.ab+e.Lb,i.bb=n,i.eb=r,i.Gb=s,i.jb=o,i.ab=a,i.Lb=t},e.prototype.Of=function(){var t=new e;return t.bb=this.bb,t.eb=this.eb,t.Gb=this.Gb,t.jb=this.jb,t.ab=this.ab,t.Lb=this.Lb,t},e.prototype.mC=function(e){if(!e.B()){for(var i=[],n=0;4>n;n++)i[n]=new t.h;e.nB(i),this.fY(i,i),e.Zw(i,4)}},e.prototype.fY=function(e,i){for(var n=0;n<e.length;n++){var r=new t.h,s=e[n];r.x=this.bb*s.x+this.eb*s.y+this.Gb,r.y=this.jb*s.x+this.ab*s.y+this.Lb,i[n]=r}},e.prototype.pS=function(t,e){t.B()||e.B()||0==t.R()||0==t.ca()?this.lx():(this.eb=this.jb=0,this.bb=e.R()/t.R(),this.ab=e.ca()/t.ca(),this.Gb=e.v-t.v*this.bb,this.Lb=e.G-t.G*this.ab)},e.prototype.dY=function(e){var i=new t.h,n=new t.h;i.ma(this.bb,this.jb),n.ma(this.eb,this.ab),i.sub(i);var r=.5*i.Sk();return i.ma(this.bb,this.jb),n.ma(this.eb,this.ab),i.add(n),e*(r>(i=.5*i.Sk())?Math.sqrt(r):Math.sqrt(i))},e.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},e.prototype.isIdentity=function(e){if(void 0!==e){var i=t.h.construct(0,1);return this.Eh(i,i),i.sub(t.h.construct(0,1)),!(i.Sk()>e*e)&&(i.ma(0,0),this.Eh(i,i),!(i.Sk()>e*e)&&(i.ma(1,0),this.Eh(i,i),i.sub(t.h.construct(1,0)),i.Sk()<=e*e))}return 1==this.bb&&1==this.ab&&0==this.eb&&0==this.Gb&&0==this.jb&&0==this.Lb},e.prototype.Bi=function(t){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*t*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},e.prototype.gg=function(t,e){this.bb=1,this.eb=0,this.Gb=t,this.jb=0,this.ab=1,this.Lb=e},e.prototype.setScale=function(t,e){void 0!==e?(this.bb=t,this.jb=this.Gb=this.eb=0,this.ab=e,this.Lb=0):this.setScale(t,t)},e.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},e.prototype.setRotate=function(t){this.pX(Math.cos(t),Math.sin(t))},e.prototype.pX=function(t,e){this.bb=t,this.eb=-e,this.Gb=0,this.jb=e,this.ab=t,this.Lb=0},e.prototype.shift=function(t,e){this.Gb+=t,this.Lb+=e},e.prototype.scale=function(t,e){this.bb*=t,this.eb*=t,this.Gb*=t,this.jb*=e,this.ab*=e,this.Lb*=e},e.prototype.flipX=function(t,e){this.bb=-this.bb,this.eb=-this.eb,this.Gb=t+e-this.Gb},e.prototype.flipY=function(t,e){this.jb=-this.jb,this.ab=-this.ab,this.Lb=t+e-this.Lb},e.prototype.rotate=function(t){var i=new e;i.setRotate(t),this.multiply(i)},e.prototype.inverse=function(t){if(void 0!==t){var e=this.bb*this.ab-this.eb*this.jb;0==e?t.lx():(e=1/e,t.Gb=(this.eb*this.Lb-this.Gb*this.ab)*e,t.Lb=(this.Gb*this.jb-this.bb*this.Lb)*e,t.bb=this.ab*e,t.eb=-this.eb*e,t.jb=-this.jb*e,t.ab=this.bb*e)}else this.inverse(this)},e}();t.Dd=e}(J||(J={})),function(t){var e=function(){function e(){}return e.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},e.prototype.setScale=function(t,e,i){this.bb=t,this.eb=this.Ze=this.jb=0,this.ab=e,this.Fe=this.Ee=this.Ge=0,this.He=i,this.hg=this.Lb=this.Gb=0},e.prototype.setTranslate=function(t,e,i){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=t,this.Lb=e,this.hg=i},e.prototype.translate=function(t,e,i){this.Gb+=t,this.Lb+=e,this.hg+=i},e.prototype.mC=function(e){if(!e.B()){for(var i=new t.Nd[8],n=0;8>n;n++)i[n]=new t.Nd;e.nB(i),this.transform(i,8,i),e.Zw(i)}},e.prototype.transform=function(e,i,n){for(var r=0;r<i;r++){var s=new t.Nd,o=e[r];s.x=this.bb*o.x+this.eb*o.y+this.Ee*o.z+this.Gb,s.y=this.jb*o.x+this.ab*o.y+this.Fe*o.z+this.Lb,s.z=this.Ze*o.x+this.Ge*o.y+this.He*o.z+this.hg,n[r]=s}},e.prototype.fp=function(e){var i=new t.Nd;return i.x=this.bb*e.x+this.eb*e.y+this.Ee*e.z+this.Gb,i.y=this.jb*e.x+this.ab*e.y+this.Fe*e.z+this.Lb,i.z=this.Ze*e.x+this.Ge*e.y+this.He*e.z+this.hg,i},e.prototype.Ag=function(t){e.multiply(this,t,this)},e.multiply=function(t,e,i){var n=t.bb*e.bb+t.jb*e.eb+t.Ze*e.Ee,r=t.bb*e.jb+t.jb*e.ab+t.Ze*e.Fe,s=t.bb*e.Ze+t.jb*e.Ge+t.Ze*e.He,o=t.eb*e.bb+t.ab*e.eb+t.Ge*e.Ee,a=t.eb*e.jb+t.ab*e.ab+t.Ge*e.Fe,h=t.eb*e.Ze+t.ab*e.Ge+t.Ge*e.He,l=t.Ee*e.bb+t.Fe*e.eb+t.He*e.Ee,u=t.Ee*e.jb+t.Fe*e.ab+t.He*e.Fe,c=t.Ee*e.Ze+t.Fe*e.Ge+t.He*e.He,f=t.Gb*e.bb+t.Lb*e.eb+t.hg*e.Ee+e.Gb,p=t.Gb*e.jb+t.Lb*e.ab+t.hg*e.Fe+e.Lb;t=t.Gb*e.Ze+t.Lb*e.Ge+t.hg*e.He+e.hg,i.bb=n,i.jb=r,i.Ze=s,i.eb=o,i.ab=a,i.Ge=h,i.Ee=l,i.Fe=u,i.He=c,i.Gb=f,i.Lb=p,i.hg=t},e.inverse=function(e,i){var n=e.bb*(e.ab*e.He-e.Ge*e.Fe)-e.jb*(e.eb*e.He-e.Ge*e.Ee)+e.Ze*(e.eb*e.Fe-e.ab*e.Ee);if(0==n)throw t.i.fa("math singularity");var r=1/n;n=(e.ab*e.He-e.Ge*e.Fe)*r;var s=-(e.eb*e.He-e.Ge*e.Ee)*r,o=(e.eb*e.Fe-e.ab*e.Ee)*r,a=-(e.jb*e.He-e.Fe*e.Ze)*r,h=(e.bb*e.He-e.Ze*e.Ee)*r,l=-(e.bb*e.Fe-e.jb*e.Ee)*r,u=(e.jb*e.Ge-e.Ze*e.ab)*r,c=-(e.bb*e.Ge-e.Ze*e.eb)*r;r*=e.bb*e.ab-e.jb*e.eb;var f=-(e.Gb*n+e.Lb*s+e.hg*o),p=-(e.Gb*a+e.Lb*h+e.hg*l);e=-(e.Gb*u+e.Lb*c+e.hg*r),i.bb=n,i.jb=a,i.Ze=u,i.eb=s,i.ab=h,i.Ge=c,i.Ee=o,i.Fe=l,i.He=r,i.Gb=f,i.Lb=p,i.hg=e},e.prototype.Of=function(){var t=new e;return t.bb=this.bb,t.jb=this.jb,t.Ze=this.Ze,t.eb=this.eb,t.ab=this.ab,t.Ge=this.Ge,t.Ee=this.Ee,t.Fe=this.Fe,t.He=this.He,t.Gb=this.Gb,t.Lb=this.Lb,t.hg=this.hg,t},e}();t.JY=e}(J||(J={})),function(t){var e=function(e){function n(t){if(void 0!==t)t=e.call(this,t.cc(),t)||this;else{(t=e.call(this)||this).bg=[],t.bg[0]=0,t.Aa=1,t.uh=[];for(var i=0;10>i;i++)t.uh[i]=-1;t.uh[t.bg[0]]=0}return t.jq=!0,t}return Q(n,e),n.prototype.re=function(t){this.hasAttribute(t)||(this.uh[t]=0,this.jD())},n.prototype.removeAttribute=function(e){if(0==e)throw t.i.N("Position attribue cannot be removed");this.hasAttribute(e)&&(this.uh[e]=-1,this.jD())},n.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var t=0;t<this.uh.length;t++)this.uh[t]=-1;this.uh[this.bg[0]]=0,this.jq=!0},n.prototype.EF=function(){return i.kz().add(this)},n.og=function(){return i.kz().$R()},n.prototype.tM=function(){var e=this.cc();return new t.ra(e,this)},n.prototype.jD=function(){for(var t=this.Aa=0,e=0;10>t;t++)0<=this.uh[t]&&(this.bg[e]=t,this.uh[t]=e,e++,this.Aa++);this.jq=!0},n.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},n.prototype.Nb=function(t){if(null==t)return!1;if(t==this)return!0;if(!(t instanceof n)||t.Aa!=this.Aa)return!1;for(var e=0;e<this.Aa;e++)if(this.bg[e]!=t.bg[e])return!1;return this.jq==t.jq},n.prototype.GG=function(t){if(t.Aa!=this.Aa)return!1;for(var e=0;e<this.Aa;e++)if(this.bg[e]!=t.bg[e])return!1;return!0},n.Iw=function(t,e){for(var i=[],n=0;n<t.Aa;n++)i[n]=-1;n=0;for(var r=t.Aa;n<r;n++)i[n]=e.Pf(t.kd(n));return i},n.BR=function(t,e){return(t=new n(t)).re(e),t.EF()},n.CR=function(t,e){for(var i=null,r=0;10>r;r++)!t.hasAttribute(r)&&e.hasAttribute(r)&&(null==i&&(i=new n(t)),i.re(r));return null!=i?i.EF():t},n}(t.ra);t.ee=e;var i=function(){function t(){this.map=[];var t=new e;this.add(t),(t=new e).re(1),this.add(t)}return t.kz=function(){return t.bL},t.prototype.$R=function(){return t.ft},t.prototype.add=function(e){var i=e.cc();if(null!=t.ft&&t.ft.cc()==i&&e.GG(t.ft))return t.ft;if(null!=t.Dw&&t.Dw.cc()==i&&e.GG(t.Dw))return t.Dw;var n=null;return void 0!==this.map[i]&&(n=this.map[i]),null==n&&(1==(n=e.tM()).Aa?t.ft=n:2==n.Aa&&1==n.kd(1)?t.Dw=n:this.map[i]=n),n},t.bL=new t,t}()}(J||(J={}));var st={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},ot={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},at=new(function(){function t(){this.RM=50,this.np=new Map,this.gj=[]}return t.prototype.clear=function(){this.gj.length=0,this.np.clear()},t.prototype.delete=function(t){return!!this.np.delete(t)&&(this.gj.splice(this.gj.indexOf(t),1),!0)},t.prototype.get=function(t){var e=this.np.get(t);if(void 0!==e)return this.gj[0]!==t&&(this.gj.splice(this.gj.indexOf(t),1),this.gj.unshift(t)),e},t.prototype.has=function(t){return this.np.has(t)},t.prototype.set=function(t,e){return void 0!==this.get(t)&&this.delete(t),this.gj.unshift(t),this.np.set(t,e),this.oM(),this},t.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var t=this.gj.pop();this.np.delete(t)}},t}()),ht=((K={}).convertJSONToGeometry=function(t){return J.$b.fP(t)},K.hasM=function(t){return t.hasAttribute(J.Ih.M)},K.hasZ=function(t){return t.hasAttribute(J.Ih.Z)},K.getPointX=function(t){return t.Lg()},K.getPointY=function(t){return t.ih()},K.getPointZ=function(t){return t.bS()},K.getPointM=function(t){return t.zR()},K.getXMin=function(t){return t.es()},K.getYMin=function(t){return t.gs()},K.getXMax=function(t){return t.ds()},K.getYMax=function(t){return t.fs()},K.getZExtent=function(t){return t.Tg(J.Ih.Z,0)},K.getMExtent=function(t){return t.Tg(J.Ih.M,0)},K.exportPaths=function(t){var e=[],i=t.da(),n=null,r=null,s=t.hasAttribute(J.Ih.Z),o=t.hasAttribute(J.Ih.M);s&&(n=t.ub(J.Ih.Z)),o&&(r=t.ub(J.Ih.M));for(var a=new J.h,h=0;h<i;h++){for(var l=t.Ba(h),u=t.Ja(h),c=0,f=0,p=NaN,d=NaN,v=NaN,g=NaN,y=t.dc(h),m=[],_=l;_<l+u;_++){t.D(_,a),g=v=NaN;var b=[a.x,a.y];s&&(v=n.get(_),b.push(v)),o&&(g=r.get(_),b.push(g)),_==l&&y&&(c=a.x,f=a.y,p=v,d=g),m.push(b)}!y||c==a.x&&f==a.y&&(!s||isNaN(p)&&isNaN(v)||p==v)&&(!o||isNaN(d)&&isNaN(g)||d==g)||m.push(m[0].slice(0)),e.push(m)}return e},K.exportPathsFlat=function(){},K.exportPoints=function(t){var e=t.hasAttribute(J.Ih.Z),i=t.hasAttribute(J.Ih.M),n=null,r=null;e&&(n=t.ub(J.Ih.Z)),i&&(r=t.ub(J.Ih.M));for(var s=new J.h,o=t.I(),a=[],h=0;h<o;h++){t.D(h,s);var l=[s.x,s.y];e&&l.push(n.get(h)),i&&l.push(r.get(h)),a.push(l)}return a},K.exportPointsFlat=function(){},K),lt=new Map;return function(){function t(){}return t.buffer=I,t.clip=h,t.contains=u,t.convexHull=x,t.crosses=c,t.cut=l,t.densify=P,t.difference=S,t.disjoint=y,t.distance=f,t.equals=p,t.extendedSpatialReferenceInfo=a,t.generalize=L,t.geodesicArea=V,t.geodesicBuffer=C,t.geodesicDensify=z,t.geodesicLength=B,t.intersect=A,t.intersects=d,t.isSimple=b,t.nearestCoordinate=N,t.nearestVertex=O,t.nearestVertices=D,t.offset=M,t.overlaps=m,t.planarArea=F,t.planarLength=j,t.relate=_,t.simplify=w,t.symmetricDifference=T,t.touches=v,t.union=E,t.within=g,t.rotate=J.Ex.rotate,t.flipHorizontal=J.Ex.JQ,t.flipVertical=J.Ex.KQ,t.intersectLinesToPoints=Y,t.ExtendedParams=J.yC,t.clearDefaultSpatialReferenceTolerance=W,t.changeDefaultSpatialReferenceTolerance=Z,t._enableProjection=U,t._project=H,t._getTransformation=k,t._getTransformationBySuitability=G,t}()}();void 0!==e&&(t.exports=e)}(r);var s=r.exports;const o=(0,n.g)(s),a=function(t,e){for(var i=0;i<e.length;i++){const n=e[i];if("string"!=typeof n&&!Array.isArray(n))for(const e in n)if("default"!==e&&!(e in t)){const i=Object.getOwnPropertyDescriptor(n,e);i&&Object.defineProperty(t,e,i.get?i:{enumerable:!0,get:()=>n[e]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}({__proto__:null,default:o},[s])},80952:(t,e,i)=>{function n(){return new Float32Array(3)}function r(t){const e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(t,e,i){const n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=i,n}function o(){return n()}function a(){return s(1,1,1)}function h(){return s(1,0,0)}function l(){return s(0,1,0)}function u(){return s(0,0,1)}i.d(e,{a:()=>r,c:()=>n,f:()=>s});const c=o(),f=a(),p=h(),d=l(),v=u();Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:p,UNIT_Y:d,UNIT_Z:v,ZEROS:c,clone:r,create:n,createView:function(t,e){return new Float32Array(t,e,3)},fromValues:s,ones:a,unitX:h,unitY:l,unitZ:u,zeros:o},Symbol.toStringTag,{value:"Module"}))},20035:(t,e,i)=>{function n(){return new Float32Array(4)}function r(t){const e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(t,e,i,n){const r=new Float32Array(4);return r[0]=t,r[1]=e,r[2]=i,r[3]=n,r}function o(){return n()}function a(){return s(1,1,1,1)}function h(){return s(1,0,0,0)}function l(){return s(0,1,0,0)}function u(){return s(0,0,1,0)}function c(){return s(0,0,0,1)}i.d(e,{c:()=>r,f:()=>s});const f=o(),p=a(),d=h(),v=l(),g=u(),y=c();Object.freeze(Object.defineProperty({__proto__:null,ONES:p,UNIT_W:y,UNIT_X:d,UNIT_Y:v,UNIT_Z:g,ZEROS:f,clone:r,create:n,createView:function(t,e){return new Float32Array(t,e,4)},fromValues:s,ones:a,unitW:c,unitX:h,unitY:l,unitZ:u,zeros:o},Symbol.toStringTag,{value:"Module"}))},52712:(t,e,i)=>{function n(){return[0,0,0,0]}function r(t){return[t[0],t[1],t[2],t[3]]}function s(t,e,i,n){return[t,e,i,n]}function o(t,e=[0,0,0,0]){const i=Math.min(4,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function a(t,e){return new Float64Array(t,e,4)}function h(){return[0,0,0,0]}function l(){return s(1,1,1,1)}function u(){return s(1,0,0,0)}function c(){return s(0,1,0,0)}function f(){return s(0,0,1,0)}function p(){return s(0,0,0,1)}i.d(e,{O:()=>v,Z:()=>d,a:()=>a,b:()=>o,c:()=>n,d:()=>r,f:()=>s});const d=[0,0,0,0],v=l(),g=u(),y=c(),m=f(),_=p();Object.freeze(Object.defineProperty({__proto__:null,ONES:v,UNIT_W:_,UNIT_X:g,UNIT_Y:y,UNIT_Z:m,ZEROS:d,clone:r,create:n,createView:a,fromArray:o,fromValues:s,ones:l,unitW:p,unitX:u,unitY:c,unitZ:f,zeros:h},Symbol.toStringTag,{value:"Module"}))},87176:(t,e,i)=>{i.d(e,{A:()=>E});const n=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["\xab","\xbb"],["\xbb","\xab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],r=["\u0622","\u0623","\u0625","\u0627"],s=["\ufef5","\ufef7","\ufef9","\ufefb"],o=["\ufef6","\ufef8","\ufefa","\ufefc"],a=["\u0627","\u0628","\u062a","\u062b","\u062c","\u062d","\u062e","\u062f","\u0630","\u0631","\u0632","\u0633","\u0634","\u0635","\u0636","\u0637","\u0638","\u0639","\u063a","\u0641","\u0642","\u0643","\u0644","\u0645","\u0646","\u0647","\u0648","\u064a","\u0625","\u0623","\u0622","\u0629","\u0649","\u0644","\u0645","\u0646","\u0647","\u0648","\u064a","\u0625","\u0623","\u0622","\u0629","\u0649","\u06cc","\u0626","\u0624"],h=["\ufe8d","\ufe8f","\ufe95","\ufe99","\ufe9d","\ufea1","\ufea5","\ufea9","\ufeab","\ufead","\ufeaf","\ufeb1","\ufeb5","\ufeb9","\ufebd","\ufec1","\ufec5","\ufec9","\ufecd","\ufed1","\ufed5","\ufed9","\ufedd","\ufee1","\ufee5","\ufee9","\ufeed","\ufef1","\ufe87","\ufe83","\ufe81","\ufe93","\ufeef","\ufbfc","\ufe89","\ufe85","\ufe70","\ufe72","\ufe74","\ufe76","\ufe78","\ufe7a","\ufe7c","\ufe7e","\ufe80","\ufe89","\ufe85"],l=["\ufe8e","\ufe90","\ufe96","\ufe9a","\ufe9e","\ufea2","\ufea6","\ufeaa","\ufeac","\ufeae","\ufeb0","\ufeb2","\ufeb6","\ufeba","\ufebe","\ufec2","\ufec6","\ufeca","\ufece","\ufed2","\ufed6","\ufeda","\ufede","\ufee2","\ufee6","\ufeea","\ufeee","\ufef2","\ufe88","\ufe84","\ufe82","\ufe94","\ufef0","\ufbfd","\ufe8a","\ufe86","\ufe70","\ufe72","\ufe74","\ufe76","\ufe78","\ufe7a","\ufe7c","\ufe7e","\ufe80","\ufe8a","\ufe86"],u=["\ufe8e","\ufe92","\ufe98","\ufe9c","\ufea0","\ufea4","\ufea8","\ufeaa","\ufeac","\ufeae","\ufeb0","\ufeb4","\ufeb8","\ufebc","\ufec0","\ufec4","\ufec8","\ufecc","\ufed0","\ufed4","\ufed8","\ufedc","\ufee0","\ufee4","\ufee8","\ufeec","\ufeee","\ufef4","\ufe88","\ufe84","\ufe82","\ufe94","\ufef0","\ufbff","\ufe8c","\ufe86","\ufe71","\ufe72","\ufe74","\ufe77","\ufe79","\ufe7b","\ufe7d","\ufe7f","\ufe80","\ufe8c","\ufe86"],c=["\ufe8d","\ufe91","\ufe97","\ufe9b","\ufe9f","\ufea3","\ufea7","\ufea9","\ufeab","\ufead","\ufeaf","\ufeb3","\ufeb7","\ufebb","\ufebf","\ufec3","\ufec7","\ufecb","\ufecf","\ufed3","\ufed7","\ufedb","\ufedf","\ufee3","\ufee7","\ufeeb","\ufeed","\ufef3","\ufe87","\ufe83","\ufe81","\ufe93","\ufeef","\ufbfe","\ufe8b","\ufe85","\ufe70","\ufe72","\ufe74","\ufe76","\ufe78","\ufe7a","\ufe7c","\ufe7e","\ufe80","\ufe8b","\ufe85"],f=["\u0621","\u0622","\u0623","\u0624","\u0625","\u0627","\u0629","\u062f","\u0630","\u0631","\u0632","\u0648","\u0649"],p=["\u064b","\u064b","\u064c","\u061f","\u064d","\u061f","\u064e","\u064e","\u064f","\u064f","\u0650","\u0650","\u0651","\u0651","\u0652","\u0652","\u0621","\u0622","\u0622","\u0623","\u0623","\u0624","\u0624","\u0625","\u0625","\u0626","\u0626","\u0626","\u0626","\u0627","\u0627","\u0628","\u0628","\u0628","\u0628","\u0629","\u0629","\u062a","\u062a","\u062a","\u062a","\u062b","\u062b","\u062b","\u062b","\u062c","\u062c","\u062c","\u062c","\u062d","\u062d","\u062d","\u062d","\u062e","\u062e","\u062e","\u062e","\u062f","\u062f","\u0630","\u0630","\u0631","\u0631","\u0632","\u0632","\u0633","\u0633","\u0633","\u0633","\u0634","\u0634","\u0634","\u0634","\u0635","\u0635","\u0635","\u0635","\u0636","\u0636","\u0636","\u0636","\u0637","\u0637","\u0637","\u0637","\u0638","\u0638","\u0638","\u0638","\u0639","\u0639","\u0639","\u0639","\u063a","\u063a","\u063a","\u063a","\u0641","\u0641","\u0641","\u0641","\u0642","\u0642","\u0642","\u0642","\u0643","\u0643","\u0643","\u0643","\u0644","\u0644","\u0644","\u0644","\u0645","\u0645","\u0645","\u0645","\u0646","\u0646","\u0646","\u0646","\u0647","\u0647","\u0647","\u0647","\u0648","\u0648","\u0649","\u0649","\u064a","\u064a","\u064a","\u064a","\ufef5","\ufef6","\ufef7","\ufef8","\ufef9","\ufefa","\ufefb","\ufefc","\u061f","\u061f","\u061f"],d=["\u0621","\u0641"],v=["\u063a","\u064a"],g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m=10,_=11,b=12,w=18,x=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],S=100,T=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107],A=[[w,w,w,w,w,w,w,w,w,6,5,6,8,5,w,w,w,w,w,w,w,w,w,w,w,w,w,w,5,5,5,6,8,4,4,_,_,_,4,4,4,4,4,m,9,m,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,w,w,w,w,w,w,5,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,w,9,4,_,_,_,_,4,4,4,4,0,4,4,w,4,4,_,_,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,1,b,1,b,b,1,b,b,1,b,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,_,_,7,9,7,4,4,b,b,b,b,b,b,b,b,b,b,b,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,3,3,3,3,3,3,3,3,3,3,_,3,3,7,7,7,b,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,b,b,b,b,b,b,b,3,4,b,b,b,b,b,b,7,7,b,b,4,b,b,b,b,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,b,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,b,b,b,b,b,b,b,b,b,b,b,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,b,b,b,b,b,b,b,b,b,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,w,w,w,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,_,_,_,_,_,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,w,w,w,w,w,4,4,4,4,4,w,w,w,w,w,w,2,0,4,4,2,2,2,2,2,2,m,m,4,4,4,0,2,2,2,2,2,2,2,2,2,2,m,m,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,4,4,4,4,4,1,b,1,1,1,1,1,1,1,1,1,1,m,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,b,b,b,b,b,b,b,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,_,4,4,m,m,4,4,4,4,4,_,_,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,w],[4,4,4,_,_,_,4,4,4,4,4,m,9,m,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,_,_,4,4,4,_,_,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];class E{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(t,e,i){if(this.sourceToTarget=[],this.targetToSource=[],!t)return"";if(function(t,e,i){Y=[],J=[];for(let n=0;n<i;n++)t[n]=n,e[n]=n,Y[n]=n}(this.sourceToTarget,this.targetToSource,t.length),!this.checkParameters(e,i))return t;e=this.inputFormat,i=this.outputFormat;let n=t;const a=$,u=H(e.charAt(1)),f=H(i.charAt(1)),d=("I"===e.charAt(0)?"L":e.charAt(0))+u,v=("I"===i.charAt(0)?"L":i.charAt(0))+f,g=e.charAt(2)+i.charAt(2);a.defInFormat=d,a.defOutFormat=v,a.defSwap=g;const y=M(t,d,v,g,a);let m=!1;return"R"===i.charAt(1)?m=!0:"C"!==i.charAt(1)&&"D"!==i.charAt(1)||(m="rtl"===this.checkContextual(y)),this.sourceToTarget=Y,this.targetToSource=function(t){const e=new Array(t.length);for(let i=0;i<t.length;i++)e[t[i]]=i;return e}(this.sourceToTarget),K=this.targetToSource,n=e.charAt(3)===i.charAt(3)?y:"S"===i.charAt(3)?function(t,e,i){if(0===e.length)return"";void 0===t&&(t=!0),void 0===i&&(i=!0);const n=(e=String(e)).split("");let r=0,a=1,u=n.length;t||(r=n.length-1,a=-1,u=1);const f=function(t,e,i,n,r){let a=0;const u=[];let f=0;for(let p=e;p*i<n;p+=i)if(L(t[p])||G(t[p])){if("\u0644"===t[p]&&z(t,p+i,i,n)){t[p]=Z(t[p+i],0===a?s:o),p+=i,q(t,p,i,n),r&&(u[f]=p,f++),a=0;continue}const e=t[p];1===a?t[p]=P(t,p+i,i,n)?U(t[p]):k(t[p],l):!0===P(t,p+i,i,n)?t[p]=k(t[p],c):t[p]=k(t[p],h),G(e)||(a=1),!0===B(e)&&(a=0)}else a=0;return u}(n,r,a,u,i);let p="";for(let s=0;s<n.length;s++)i&&D(f,f.length,s)>-1?(W(K,s,!t,-1),Y.splice(s,1)):p+=n[s];return p}(m,y,!0):function(t,e,i){if(0===t.length)return"";void 0===i&&(i=!0),void 0===e&&(e=!0);let n="";const s=(t=String(t)).split("");for(let o=0;o<t.length;o++){let a=!1;if(s[o]>="\ufe70"&&s[o]<"\ufeff"){const h=t.charCodeAt(o);s[o]>="\ufef5"&&s[o]<="\ufefc"?(e?(o>0&&i&&" "===s[o-1]?n=n.substring(0,n.length-1)+"\u0644":(n+="\u0644",a=!0),n+=r[(h-65269)/2]):(n+=r[(h-65269)/2],n+="\u0644",o+1<t.length&&i&&" "===s[o+1]?o++:a=!0),a&&(W(K,o,!0,1),Y.splice(o,0,Y[o]))):n+=p[h-65136]}else n+=s[o]}return n}(y,m,!0),this.sourceToTarget=Y,this.targetToSource=K,this.levels=J,n}_inputFormatSetter(t){if(!it.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=t}_outputFormatSetter(t){if(!it.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=t}checkParameters(t,e){return t?this._inputFormatSetter(t):t=this.inputFormat,e?this._outputFormatSetter(e):e=this.outputFormat,t!==e}checkContextual(t){let e=I(t);if("ltr"!==e&&"rtl"!==e){try{e=document.dir.toLowerCase()}catch(y){}"ltr"!==e&&"rtl"!==e&&(e="ltr")}return e}hasBidiChar(t){return nt.test(t)}}function M(t,e,i,n,r){const s=function(t,e,i){if(void 0===e.inFormat&&(e.inFormat=i.defInFormat),void 0===e.outFormat&&(e.outFormat=i.defOutFormat),void 0===e.swap&&(e.swap=i.defSwap),e.inFormat===e.outFormat)return e;const n=e.inFormat.substring(0,1),r=e.outFormat.substring(0,1);let s,o=e.inFormat.substring(1,4),a=e.outFormat.substring(1,4);return"C"===o.charAt(0)&&(s=I(t),o="ltr"===s||"rtl"===s?s.toUpperCase():"L"===e.inFormat.charAt(2)?"LTR":"RTL",e.inFormat=n+o),"C"===a.charAt(0)&&(s=I(t),"rtl"===s?a="RTL":"ltr"===s?(s=function(t){const e=t.split("");return e.reverse(),I(e.join(""))}(t),a=s.toUpperCase()):a="L"===e.outFormat.charAt(2)?"LTR":"RTL",e.outFormat=r+a),e}(t,{inFormat:e,outFormat:i,swap:n},r);if(s.inFormat===s.outFormat)return t;e=s.inFormat,i=s.outFormat,n=s.swap;const o=e.substring(0,1),a=e.substring(1,4),h=i.substring(0,1),l=i.substring(1,4);if(r.inFormat=e,r.outFormat=i,r.swap=n,"L"===o&&"VLTR"===i){if("LTR"===a)return r.dir=tt,C(t,r);if("RTL"===a)return r.dir=et,C(t,r)}if("V"===o&&"V"===h)return r.dir="RTL"===a?et:tt,O(t,r);if("L"===o&&"VRTL"===i)return"LTR"===a?(r.dir=tt,t=C(t,r)):(r.dir=et,t=C(t,r)),O(t);if("VLTR"===e&&"LLTR"===i)return r.dir=tt,C(t,r);if("V"===o&&"L"===h&&a!==l)return t=O(t),"RTL"===a?M(t,"LLTR","VLTR",n,r):M(t,"LRTL","VRTL",n,r);if("VRTL"===e&&"LRTL"===i)return M(t,"LRTL","VRTL",n,r);if("L"===o&&"L"===h){const e=r.swap;return r.swap=e.substr(0,1)+"N","RTL"===a?(r.dir=et,t=C(t,r),r.swap="N"+e.substr(1,2),r.dir=tt,t=C(t,r)):(r.dir=tt,t=C(t,r),r.swap="N"+e.substr(1,2),t=M(t,"VLTR","LRTL",r.swap,r)),t}return t}function I(t){const e=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return e?e[0]<="z"?"ltr":"rtl":""}function C(t,e){const i=t.split(""),n=[];return R(i,n,e),function(t,e,i){if(0!==i.hiLevel&&i.swap.substr(0,1)!==i.swap.substr(1,2))for(let n=0;n<t.length;n++)1===e[n]&&(t[n]=V(t[n]))}(i,n,e),F(2,i,n,e),F(1,i,n,e),J=n,i.join("")}function R(t,e,i){const n=t.length,r=i.dir?y:g;let s=0,o=-1;const a=[],h=[];i.hiLevel=i.dir,i.lastArabic=!1,i.hasUbatAl=!1,i.hasUbatB=!1,i.hasUbatS=!1;for(let l=0;l<n;l++)a[l]=N(t[l]);for(let l=0;l<n;l++){const n=s,u=j(t,a,h,l,i);h[l]=u,s=r[n][u];const c=240&s;s&=15;const f=r[s][X];if(e[l]=f,c>0)if(16===c){for(let t=o;t<l;t++)e[t]=1;o=-1}else o=-1;if(r[s][Q])-1===o&&(o=l);else if(o>-1){for(let t=o;t<l;t++)e[t]=f;o=-1}5===a[l]&&(e[l]=0),i.hiLevel|=f}i.hasUbatS&&function(t,e,i,n){for(let r=0;r<i;r++)if(6===t[r]){e[r]=n.dir;for(let i=r-1;i>=0&&8===t[i];i--)e[i]=n.dir}}(a,e,n,i)}function N(t){const e=t.charCodeAt(0),i=T[e>>8];return i<S?i:A[i-S][255&e]}function O(t,e){const i=t.split("");if(e){const t=[];R(i,t,e),J=t}return i.reverse(),Y.reverse(),i.join("")}function D(t,e,i){for(let n=0;n<e;n++)if(t[n]===i)return n;return-1}function L(t){for(let e=0;e<d.length;e++)if(t>=d[e]&&t<=v[e])return!0;return!1}function P(t,e,i,n){for(;e*i<n&&G(t[e]);)e+=i;return!!(e*i<n&&L(t[e]))}function z(t,e,i,n){for(;e*i<n&&G(t[e]);)e+=i;let s=" ";if(!(e*i<n))return!1;s=t[e];for(let o=0;o<r.length;o++)if(r[o]===s)return!0;return!1}function F(t,e,i,n){if(n.hiLevel<t)return;if(1===t&&n.dir===et&&!n.hasUbatB)return e.reverse(),void Y.reverse();const r=e.length;let s,o,a,h,l,u=0;for(;u<r;){if(i[u]>=t){for(s=u+1;s<r&&i[s]>=t;)s++;for(o=u,a=s-1;o<a;o++,a--)h=e[o],e[o]=e[a],e[a]=h,l=Y[o],Y[o]=Y[a],Y[a]=l;u=s}u++}}function j(t,e,i,n,r){const s=e[n];return{UBAT_L:()=>(r.lastArabic=!1,0),UBAT_R:()=>(r.lastArabic=!1,1),UBAT_ON:()=>4,UBAT_AN:()=>3,UBAT_EN:()=>r.lastArabic?3:2,UBAT_AL:()=>(r.lastArabic=!0,r.hasUbatAl=!0,1),UBAT_WS:()=>4,UBAT_CS:()=>{let t,s;return n<1||n+1>=e.length||2!==(t=i[n-1])&&3!==t||2!==(s=e[n+1])&&3!==s?4:(r.lastArabic&&(s=3),s===t?s:4)},UBAT_ES:()=>2===(n>0?i[n-1]:5)&&n+1<e.length&&2===e[n+1]?2:4,UBAT_ET:()=>{if(n>0&&2===i[n-1])return 2;if(r.lastArabic)return 4;let t=n+1;const s=e.length;for(;t<s&&e[t]===_;)t++;return t<s&&2===e[t]?2:4},UBAT_NSM:()=>{if("VLTR"===r.inFormat){const i=e.length;let r=n+1;for(;r<i&&e[r]===b;)r++;if(r<i){const i=t[n].charCodeAt(0),s=i>=1425&&i<=2303||64286===i,o=e[r];if(s&&(1===o||7===o))return 1}}return n<1||5===e[n-1]?4:i[n-1]},UBAT_B:()=>(r.lastArabic=!0,r.hasUbatB=!0,r.dir),UBAT_S:()=>(r.hasUbatS=!0,4),UBAT_LRE:()=>(r.lastArabic=!1,4),UBAT_RLE:()=>(r.lastArabic=!1,4),UBAT_LRO:()=>(r.lastArabic=!1,4),UBAT_RLO:()=>(r.lastArabic=!1,4),UBAT_PDF:()=>(r.lastArabic=!1,4),UBAT_BN:()=>4}[x[s]]()}function V(t){let e,i=0,r=n.length-1;for(;i<=r;)if(e=Math.floor((i+r)/2),t<n[e][0])r=e-1;else{if(!(t>n[e][0]))return n[e][1];i=e+1}return t}function B(t){for(let e=0;e<f.length;e++)if(f[e]===t)return!0;return!1}function U(t){for(let e=0;e<a.length;e++)if(t===a[e])return u[e];return t}function k(t,e){for(let i=0;i<a.length;i++)if(t===a[i])return e[i];return t}function G(t){return t>="\u064b"&&t<="\u0655"}function H(t){return"L"===t?"LTR":"R"===t?"RTL":"C"===t?"CLR":"D"===t?"CRL":""}function q(t,e,i,n){for(;e*i<n&&G(t[e]);)e+=i;return e*i<n&&(t[e]=" ",!0)}function Z(t,e){for(let i=0;i<r.length;i++)if(t===r[i])return e[i];return t}function W(t,e,i,n){for(let r=0;r<t.length;r++)(t[r]>e||!i&&t[r]===e)&&(t[r]+=n)}let Y=[],K=[],J=[];const $={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},X=5,Q=6,tt=0,et=1,it=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,nt=/[\u0591-\u06ff\ufb1d-\ufefc]/},89926:(t,e,i)=>{i.d(e,{q:()=>r});var n=i(40210);class r{constructor(t,e){this._storage=new n.F,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),e&&this._storage.registerRemoveFunc("",e)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,e,i=1){this._storage.put(this,t,e,i,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}}},69075:(t,e,i)=>{i.d(e,{T:()=>n,d:()=>v});const n={Base64:0,Hex:1,String:2,Raw:3},r=8,s=(1<<r)-1;function o(t,e){const i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function a(t){const e=[];for(let i=0,n=t.length*r;i<n;i+=r)e[i>>5]|=(t.charCodeAt(i/r)&s)<<i%32;return e}function h(t){const e=[];for(let i=0,n=32*t.length;i<n;i+=r)e.push(String.fromCharCode(t[i>>5]>>>i%32&s));return e.join("")}function l(t,e,i,n,r,s){return o(function(t,e){return t<<e|t>>>32-e}(o(o(e,t),o(n,s)),r),i)}function u(t,e,i,n,r,s,o){return l(e&i|~e&n,t,e,r,s,o)}function c(t,e,i,n,r,s,o){return l(e&n|i&~n,t,e,r,s,o)}function f(t,e,i,n,r,s,o){return l(e^i^n,t,e,r,s,o)}function p(t,e,i,n,r,s,o){return l(i^(e|~n),t,e,r,s,o)}function d(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let i=1732584193,n=-271733879,r=-1732584194,s=271733878;for(let a=0;a<t.length;a+=16){const e=i,h=n,l=r,d=s;i=u(i,n,r,s,t[a],7,-680876936),s=u(s,i,n,r,t[a+1],12,-389564586),r=u(r,s,i,n,t[a+2],17,606105819),n=u(n,r,s,i,t[a+3],22,-1044525330),i=u(i,n,r,s,t[a+4],7,-176418897),s=u(s,i,n,r,t[a+5],12,1200080426),r=u(r,s,i,n,t[a+6],17,-1473231341),n=u(n,r,s,i,t[a+7],22,-45705983),i=u(i,n,r,s,t[a+8],7,1770035416),s=u(s,i,n,r,t[a+9],12,-1958414417),r=u(r,s,i,n,t[a+10],17,-42063),n=u(n,r,s,i,t[a+11],22,-1990404162),i=u(i,n,r,s,t[a+12],7,1804603682),s=u(s,i,n,r,t[a+13],12,-40341101),r=u(r,s,i,n,t[a+14],17,-1502002290),n=u(n,r,s,i,t[a+15],22,1236535329),i=c(i,n,r,s,t[a+1],5,-165796510),s=c(s,i,n,r,t[a+6],9,-1069501632),r=c(r,s,i,n,t[a+11],14,643717713),n=c(n,r,s,i,t[a],20,-373897302),i=c(i,n,r,s,t[a+5],5,-701558691),s=c(s,i,n,r,t[a+10],9,38016083),r=c(r,s,i,n,t[a+15],14,-660478335),n=c(n,r,s,i,t[a+4],20,-405537848),i=c(i,n,r,s,t[a+9],5,568446438),s=c(s,i,n,r,t[a+14],9,-1019803690),r=c(r,s,i,n,t[a+3],14,-187363961),n=c(n,r,s,i,t[a+8],20,1163531501),i=c(i,n,r,s,t[a+13],5,-1444681467),s=c(s,i,n,r,t[a+2],9,-51403784),r=c(r,s,i,n,t[a+7],14,1735328473),n=c(n,r,s,i,t[a+12],20,-1926607734),i=f(i,n,r,s,t[a+5],4,-378558),s=f(s,i,n,r,t[a+8],11,-2022574463),r=f(r,s,i,n,t[a+11],16,1839030562),n=f(n,r,s,i,t[a+14],23,-35309556),i=f(i,n,r,s,t[a+1],4,-1530992060),s=f(s,i,n,r,t[a+4],11,1272893353),r=f(r,s,i,n,t[a+7],16,-155497632),n=f(n,r,s,i,t[a+10],23,-1094730640),i=f(i,n,r,s,t[a+13],4,681279174),s=f(s,i,n,r,t[a],11,-358537222),r=f(r,s,i,n,t[a+3],16,-722521979),n=f(n,r,s,i,t[a+6],23,76029189),i=f(i,n,r,s,t[a+9],4,-640364487),s=f(s,i,n,r,t[a+12],11,-421815835),r=f(r,s,i,n,t[a+15],16,530742520),n=f(n,r,s,i,t[a+2],23,-995338651),i=p(i,n,r,s,t[a],6,-198630844),s=p(s,i,n,r,t[a+7],10,1126891415),r=p(r,s,i,n,t[a+14],15,-1416354905),n=p(n,r,s,i,t[a+5],21,-57434055),i=p(i,n,r,s,t[a+12],6,1700485571),s=p(s,i,n,r,t[a+3],10,-1894986606),r=p(r,s,i,n,t[a+10],15,-1051523),n=p(n,r,s,i,t[a+1],21,-2054922799),i=p(i,n,r,s,t[a+8],6,1873313359),s=p(s,i,n,r,t[a+15],10,-30611744),r=p(r,s,i,n,t[a+6],15,-1560198380),n=p(n,r,s,i,t[a+13],21,1309151649),i=p(i,n,r,s,t[a+4],6,-145523070),s=p(s,i,n,r,t[a+11],10,-1120210379),r=p(r,s,i,n,t[a+2],15,718787259),n=p(n,r,s,i,t[a+9],21,-343485551),i=o(i,e),n=o(n,h),r=o(r,l),s=o(s,d)}return[i,n,r,s]}function v(t,e=n.Hex){const i=e||n.Base64,s=d(a(t),t.length*r);switch(i){case n.Raw:return s;case n.Hex:return function(t){const e="0123456789abcdef",i=[];for(let n=0,r=4*t.length;n<r;n++)i.push(e.charAt(t[n>>2]>>n%4*8+4&15)+e.charAt(t[n>>2]>>n%4*8&15));return i.join("")}(s);case n.String:return h(s);case n.Base64:return function(t){const e=[];for(let i=0,n=4*t.length;i<n;i+=3){const n=(t[i>>2]>>i%4*8&255)<<16|(t[i+1>>2]>>(i+1)%4*8&255)<<8|t[i+2>>2]>>(i+2)%4*8&255;for(let r=0;r<4;r++)8*i+6*r>32*t.length?e.push("="):e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n>>6*(3-r)&63))}return e.join("")}(s)}}},40210:(t,e,i)=>{i.d(e,{F:()=>a,Mn:()=>o,Xs:()=>r,k2:()=>s});var n=i(63678);const r=-3;var s;!function(t){t[t.ALL=0]="ALL",t[t.SOME=1]="SOME"}(s||(s={}));class o{constructor(t,e,i){this.name=t,this._storage=e,this.id=h+++":",this.size=0,this.maxSize=0,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),i&&(this._storage.registerRemoveFunc(this.id,i),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get sizeAll(){return this._storage.size}resetHitRate(){this._hit=this._miss=0}put(t,e,i,n=0){this._storage.put(this,t,e,i,n)}get(t){const e=this._storage.get(this,t);return void 0===e?++this._miss:++this._hit,e}peek(t){return this._storage.peek(this,t)}pop(t){const e=this._storage.pop(this,t);return void 0===e?++this._miss:++this._hit,e}updateSize(t,e,i){this._storage.updateSize(this,t,e,i)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class a{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new n.A,this._users=new n.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace((e=>e[0]!==t))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,0),this._checkSizeLimits()}put(t,e,i,n,o){e=t.id+e;const a=this._db.get(e);if(a&&(this._size-=a.size,t.size-=a.size,this._db.delete(e),a.entry!==i&&this._notifyRemove(e,a.entry,s.ALL)),n>this._maxSize)return void this._notifyRemove(e,i,s.ALL);if(void 0===i)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return console.warn(`Refusing to cache entry with size ${n} for key ${e}`),void this._notifyRemove(e,i,s.ALL);const h=1+Math.max(o,r)-r;this._db.set(e,{entry:i,size:n,lifetime:h,lives:h}),this._size+=n,t.size+=n,this._checkSizeLimits()}updateSize(t,e,i,n){e=t.id+e;const r=this._db.get(e);if(r&&r.entry===i){for(this._size-=r.size,t.size-=r.size;n>this._maxSize;){const t=this._notifyRemove(e,i,s.SOME);if(!(null!=t&&t>0))return void this._db.delete(e);n=t}r.size=n,this._size+=n,t.size+=n,this._checkSizeLimits()}}pop(t,e){e=t.id+e;const i=this._db.get(e);if(i)return this._size-=i.size,t.size-=i.size,this._db.delete(e),++this._hit,i.entry;++this._miss}get(t,e){e=t.id+e;const i=this._db.get(e);if(void 0!==i)return this._db.delete(e),i.lives=i.lifetime,this._db.set(e,i),++this._hit,i.entry;++this._miss}peek(t,e){const i=this._db.get(t.id+e);return i?++this._hit:++this._miss,i?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},i=new Array;this._db.forEach(((t,n)=>{const r=t.lifetime;i[r]=(i[r]||0)+t.size,this._users.forAll((i=>{const{id:r,name:s}=i;if(n.startsWith(r)){const i=e[s]||0;e[s]=i+t.size}}))}));const n={};this._users.forAll((t=>{const i=t.name;if("hitRate"in t&&"number"==typeof t.hitRate&&!isNaN(t.hitRate)&&t.hitRate>0){const r=e[i]||0;e[i]=r,n[i]=Math.round(100*t.hitRate)+"%"}else n[i]="0%"}));const s=Object.keys(e);s.sort(((t,i)=>e[i]-e[t])),s.forEach((i=>t[i]=Math.round(e[i]/2**20)+"MB / "+n[i]));for(let o=i.length-1;o>=0;--o){const e=i[o];e&&(t["Priority "+(o+r-1)]=Math.round(e/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){const e=t.id;this._db.forEach(((t,i)=>{i.startsWith(e)&&(this._size-=t.size,this._db.delete(i),this._notifyRemove(i,t.entry,s.ALL))})),t.size=0}clearAll(){this._db.forEach(((t,e)=>this._notifyRemove(e,t.entry,s.ALL))),this._users.forEach((t=>t.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,i){let n;return this._removeFuncs.some((r=>{if(t.startsWith(r[0])){const t=r[1](e,i);return"number"==typeof t&&(n=t),!0}return!1})),n}_checkSizeLimits(){if(this._size>this._maxSize)for(const[t,e]of this._db)if(this._purgeItem(t,e),this._size<=.9*this.maxSize)return;this._users.forEach((t=>{if(t.maxSize>0&&t.size>t.maxSize)for(const[e,i]of this._db)if(e.startsWith(t.id)&&(this._purgeItem(e,i,t),t.size<=.9*t.maxSize))return}))}_purgeItem(t,e,i=this._users.find((e=>t.startsWith(e.id)))){if(this._db.delete(t),e.lives<=1){this._size-=e.size,i&&(i.size-=e.size);const n=this._notifyRemove(t,e.entry,s.SOME);null!=n&&n>0&&(this._size+=n,i&&(i.size+=n),e.lives=e.lifetime,e.size=n,this._db.set(t,e))}else--e.lives,this._db.set(t,e)}}let h=0},35775:(t,e,i)=>{i.d(e,{P:()=>_,L:()=>b});var n=i(66866),r=i(52495),s=i(52700),o=i(19251),a=i(94255);class h{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(a.Qg),this._values=new Map,this.multipleOriginsSupported=!0}clone(t){const e=new h,i=this._originStores[a.Gr.DEFAULTS];i&&i.forEach(((t,i)=>{e.set(i,(0,o.o8)(t),a.Gr.DEFAULTS)}));for(let n=a.Gr.SERVICE;n<a.Qg;n++){const i=this._originStores[n];i&&i.forEach(((i,r)=>{t&&t.has(r)||e.set(r,(0,o.o8)(i),n)}))}return e}get(t,e){const i=void 0===e?this._values:this._originStores[e];return i?i.get(t):void 0}keys(t){const e=null==t?this._values:this._originStores[t];return e?[...e.keys()]:[]}set(t,e,i=a.Gr.USER){let n=this._originStores[i];if(n||(n=new Map,this._originStores[i]=n),n.set(t,e),!this._values.has(t)||this._propertyOriginMap.get(t)<=i){const n=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,i),n!==e}return!1}delete(t,e=a.Gr.USER){const i=this._originStores[e];if(!i)return;const n=i.get(t);if(i.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===e){this._values.delete(t);for(let i=e-1;i>=0;i--){const e=this._originStores[i];if(e&&e.has(t)){this._values.set(t,e.get(t)),this._propertyOriginMap.set(t,i);break}}}return n}has(t,e){const i=void 0===e?this._values:this._originStores[e];return!!i&&i.has(t)}revert(t,e){for(;e>0&&!this.has(t,e);)--e;const i=this._originStores[e],n=i?.get(t),r=this._values.get(t);return this._values.set(t,n),this._propertyOriginMap.set(t,e),r!==n}originOf(t){return this._propertyOriginMap.get(t)||a.Gr.DEFAULTS}forEach(t){this._values.forEach(t)}}var l=i(83312),u=i(55135),c=i(63863);const f=t=>{let e=class extends t{constructor(...t){super(...t);const e=(0,u.oY)(this),i=e.store,n=new h;e.store=n,(0,s.k)(e,i,n)}read(t,e){(0,l.L)(this,t,e)}getAtOrigin(t,e){const i=p(this),n=(0,a.aB)(e);if("string"==typeof t)return i.get(t,n);const r={};return t.forEach((t=>{r[t]=i.get(t,n)})),r}originOf(t){return(0,a.OL)(this.originIdOf(t))}originIdOf(t){return p(this).originOf(t)}revert(t,e){const i=p(this),n=(0,a.aB)(e),r=(0,u.oY)(this);let s;s="string"==typeof t?"*"===t?i.keys(n):[t]:t,s.forEach((t=>{r.invalidate(t),i.revert(t,n),r.commit(t)}))}};return e=(0,n._)([(0,c.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],e),e};function p(t){return(0,u.oY)(t).store}let d=class extends(f(r.A)){};d=(0,n._)([(0,c.$)("esri.core.ReadOnlyMultiOriginJSONSupport")],d);var v=i(45066),g=i(77373);const y=t=>{let e=class extends t{constructor(...t){super(...t)}clear(t,e="user"){return m(this).delete(t,(0,a.aB)(e))}write(t,e){return(0,g.M)(this,t=t||{},e),t}setAtOrigin(t,e,i){(0,u.oY)(this).setAtOrigin(t,e,(0,a.aB)(i))}removeOrigin(t){const e=m(this),i=(0,a.aB)(t),n=e.keys(i);for(const r of n)e.originOf(r)===i&&e.set(r,e.get(r,i),a.Gr.USER)}updateOrigin(t,e){const i=m(this),n=(0,a.aB)(e),r=(0,v.Jt)(this,t);for(let s=n+1;s<a.Qg;++s)i.delete(t,s);i.set(t,r,n)}toJSON(t){return this.write({},t)}};return e=(0,n._)([(0,c.$)("esri.core.WriteableMultiOriginJSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function m(t){return(0,u.oY)(t).store}const _=t=>{let e=class extends(y(f(t))){constructor(...t){super(...t)}};return e=(0,n._)([(0,c.$)("esri.core.MultiOriginJSONSupport")],e),e};let b=class extends(_(r.A)){};b=(0,n._)([(0,c.$)("esri.core.MultiOriginJSONSupport")],b)},50579:(t,e,i)=>{i.d(e,{R:()=>r});var n=i(98849);let r=class{constructor(t,e,i=""){this.major=t,this.minor=e,this._context=i}lessThan(t,e){return this.major<t||t===this.major&&this.minor<e}since(t,e){return!this.lessThan(t,e)}validate(t){if(this.major!==t.major){const e=this._context&&this._context+":",i=this._context&&this._context+" ";throw new n.A(e+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new r(this.major,this.minor,this._context)}static parse(t,e=""){const[i,s]=t.split("."),o=/^\s*\d+\s*$/;if(!i?.match||!o.test(i))throw new n.A((e&&e+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!s?.match||!o.test(s))throw new n.A((e&&e+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(i,10),h=parseInt(s,10);return new r(a,h,e)}}},64442:(t,e,i)=>{i.d(e,{EB:()=>f,Im:()=>v,Ui:()=>d,ir:()=>p});var n=i(52495),r=i(48982),s=i(55135);const o=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function a(t){return t instanceof n.A}function h(t){return t instanceof r.A?Object.keys(t.items):a(t)?(0,s.oY)(t).keys():t?Object.keys(t):[]}function l(t,e){return t instanceof r.A?t.items[e]:t[e]}function u(t){return t?t.declaredClass:null}function c(t,e){const i=t.diff;if(i&&"function"==typeof i)return i(t,e);const n=h(t),r=h(e);if(0===n.length&&0===r.length)return;if(!n.length||!r.length||function(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}(t,e))return{type:"complete",oldValue:t,newValue:e};const s=r.filter((t=>!n.includes(t))),f=n.filter((t=>!r.includes(t))),p=n.filter((i=>r.includes(i)&&l(t,i)!==l(e,i))).concat(s,f).sort(),d=u(t);if(d&&o.has(d)&&p.length)return{type:"complete",oldValue:t,newValue:e};let v;const g=a(t)&&a(e);for(const o of p){const n=l(t,o),r=l(e,o);let s;if((g||"function"!=typeof n&&"function"!=typeof r)&&n!==r&&(null!=n||null!=r)){if(i&&i[o]&&"function"==typeof i[o])s=i[o]?.(n,r);else if(n instanceof Date&&r instanceof Date){if(n.getTime()===r.getTime())continue;s={type:"complete",oldValue:n,newValue:r}}else s="object"==typeof n&&"object"==typeof r&&u(n)===u(r)?c(n,r):{type:"complete",oldValue:n,newValue:r};null!=s&&(null!=v?v.diff[o]=s:v={type:"partial",diff:{[o]:s}})}}return v}function f(t,e){if(null==t)return!1;const i=e.split(".");let n=t;for(const r of i){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;{const t=n.diff[r];if(!t)return!1;n=t}}return!0}function p(t,e){for(const i of e)if(f(t,i))return!0;return!1}function d(t,e){if("function"!=typeof t&&"function"!=typeof e&&(null!=t||null!=e))return null==t||null==e||"object"==typeof t&&"object"==typeof e&&u(t)!==u(e)?{type:"complete",oldValue:t,newValue:e}:c(t,e)}function v(t){if(null==t)return!0;switch(t.type){case"complete":return!1;case"collection":{const e=t;for(const t of e.added)if(!v(t))return!1;for(const t of e.removed)if(!v(t))return!1;for(const t of e.changed)if(!v(t))return!1;return!0}case"partial":for(const e in t.diff)if(!v(t.diff[e]))return!1;return!0}}},73324:(t,e,i)=>{i.d(e,{K:()=>n});const n=["operational-layers","basemap","ground"]},51859:(t,e,i)=>{i.d(e,{T:()=>s,U:()=>r});var n=i(92504);function r(t,e,i=0){const r=(0,n.qE)(t,0,h);for(let n=0;n<4;n++)e[i+n]=Math.floor(256*l(r*o[n]))}function s(t,e=0){let i=0;for(let n=0;n<4;n++)i+=t[e+n]*a[n];return i}const o=[1,256,65536,16777216],a=[1/256,1/65536,1/16777216,1/4294967296],h=s(new Uint8ClampedArray([255,255,255,255]));function l(t){return t-Math.floor(t)}},72777:(t,e,i)=>{i.d(e,{Al:()=>l,NZ:()=>u,Vb:()=>r,af:()=>c,rK:()=>f});var n=i(21121);const r="arial-unicode-ms",s="woff2",o=new Map,a=new Set;class h{constructor(t,e){this.fontFace=t,this.promise=e}}async function l(t){const e=f(t),i=o.get(e);if(i)return i.promise;const r=new FontFace(t.family,`url('${n.A.fontsUrl}/woff2/${e}.${s}') format('${s}')`,{style:t.style,weight:t.weight}),l=document.fonts;if(l.has(r)&&"loading"===r.status)return r.loaded;const u=r.load().then((()=>(l.add(r),r)));return o.set(e,new h(r,u)),a.add(r),u}function u(t){return a.has(t)}function c(t){if(!t)return r;const e=t.toLowerCase().split(" ").join("-");switch(e){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return e}}function f(t){const e=function(t){if(!t.weight)return"";switch(t.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}(t)+function(t){if(!t.style)return"";switch(t.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}(t);return c(t.family)+(e.length>0?e:"-regular")}},66471:(t,e,i)=>{i.d(e,{A:()=>l});var n,r=i(39831),s=i(90086);!function(t){t[t.varint=0]="varint",t[t.fixed64=1]="fixed64",t[t.delimited=2]="delimited",t[t.fixed32=5]="fixed32",t[t.unknown=99]="unknown"}(n||(n={}));const o=4294967296,a=new TextDecoder("utf-8"),h=(0,r.A)("safari")||(0,r.A)("ios")?6:(0,r.A)("ff")?12:32;class l{constructor(t,e,i=0,r=(t?t.byteLength:0)){this._tag=0,this._dataType=n.unknown,this._init(t,e,i,r)}_init(t,e,i,n){this._data=t,this._dataView=e,this._pos=i,this._end=n}asUnsafe(){return this}clone(){return new l(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(t){this._pos=t}nextTag(t){for(;;){if(this._pos===this._end)return!1;const e=this._decodeVarint();if(this._tag=e>>3,this._dataType=7&e,!t||t===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const t=this._decodeVarint();return this._tag=t>>3,this._dataType=7&t,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let t=4294967295;return t=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128?t:(t=(t|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128?t:(t=(t|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128?t:void 0))))}getUInt64(){return this._decodeVarint()}getSInt32(){const t=this.getUInt32();if(void 0!==t)return t>>>1^-(1&t)}getSInt64(){return this._decodeSVarint()}getBool(){const t=0!==this._data[this._pos];return this._skip(1),t}getEnum(){return this._decodeVarint()}getFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getUint32(e+4,!0)*o;return this._skip(8),i}getSFixed64(){const t=this._dataView,e=this._pos,i=t.getUint32(e,!0)+t.getInt32(e+4,!0)*o;return this._skip(8),i}getDouble(){const t=this._dataView.getFloat64(this._pos,!0);return this._skip(8),t}getFixed32(){const t=this._dataView.getUint32(this._pos,!0);return this._skip(4),t}getSFixed32(){const t=this._dataView.getInt32(this._pos,!0);return this._skip(4),t}getFloat(){const t=this._dataView.getFloat32(this._pos,!0);return this._skip(4),t}getString(){const t=this._getLength(),e=this._pos,i=this._toString(this._data,e,e+t);return this._skip(t),i}getBytes(){const t=this._getLength(),e=this._pos,i=this._toBytes(this._data,e,e+t);return this._skip(t),i}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(t,e,i,n){const r=this.getMessage(),s=t(r,e,i,n);return r.release(),s}processMessage(t){const e=this.getMessage(),i=t(e);return e.release(),i}getMessage(){const t=this._getLength(),e=l.pool.acquire();return e._init(this._data,this._dataView,this._pos,this._pos+t),this._skip(t),e}release(){l.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case n.varint:this._decodeVarint();break;case n.fixed64:this._skip(8);break;case n.delimited:this._skip(this._getLength());break;case n.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(t){this._skip(t)}_skip(t){if(this._pos+t>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=t}_decodeVarint(){const t=this._data;let e=this._pos,i=0,n=0;if(this._end-e>=10)do{if(n=t[e++],i|=127&n,!(128&n))break;if(n=t[e++],i|=(127&n)<<7,!(128&n))break;if(n=t[e++],i|=(127&n)<<14,!(128&n))break;if(n=t[e++],i|=(127&n)<<21,!(128&n))break;if(n=t[e++],i+=268435456*(127&n),!(128&n))break;if(n=t[e++],i+=34359738368*(127&n),!(128&n))break;if(n=t[e++],i+=4398046511104*(127&n),!(128&n))break;if(n=t[e++],i+=562949953421312*(127&n),!(128&n))break;if(n=t[e++],i+=72057594037927940*(127&n),!(128&n))break;if(n=t[e++],i+=0x8000000000000000*(127&n),!(128&n))break;throw new Error("Varint too long!")}while(0);else{let r=1;for(;e!==this._end&&(n=t[e],128&n);)++e,i+=(127&n)*r,r*=128;if(e===this._end)throw new Error("Varint overrun!");++e,i+=n*r}return this._pos=e,i}_decodeSVarint(){const t=this._data;let e,i=0,n=0;const r=1&t[this._pos];if(n=t[this._pos++],i|=127&n,!(128&n))return r?-(i+1)/2:i/2;if(n=t[this._pos++],i|=(127&n)<<7,!(128&n))return r?-(i+1)/2:i/2;if(n=t[this._pos++],i|=(127&n)<<14,!(128&n))return r?-(i+1)/2:i/2;if(n=t[this._pos++],i|=(127&n)<<21,!(128&n))return r?-(i+1)/2:i/2;if(n=t[this._pos++],i+=268435456*(127&n),!(128&n))return r?-(i+1)/2:i/2;if(n=t[this._pos++],i+=34359738368*(127&n),!(128&n))return r?-(i+1)/2:i/2;if(n=t[this._pos++],i+=4398046511104*(127&n),!(128&n))return r?-(i+1)/2:i/2;if(e=BigInt(i),n=t[this._pos++],e+=0x2000000000000n*BigInt(127&n),!(128&n))return Number(r?-(e+1n)/2n:e/2n);if(n=t[this._pos++],e+=0x100000000000000n*BigInt(127&n),!(128&n))return Number(r?-(e+1n)/2n:e/2n);if(n=t[this._pos++],e+=0x8000000000000000n*BigInt(127&n),!(128&n))return Number(r?-(e+1n)/2n:e/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==n.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(t,e,i){if((i=Math.min(this._end,i))-e>h){const n=t.subarray(e,i);return a.decode(n)}let n="",r="";for(let s=e;s<i;++s){const e=t[s];128&e?r+="%"+e.toString(16):(n+=decodeURIComponent(r)+String.fromCharCode(e),r="")}return r.length&&(n+=decodeURIComponent(r)),n}_toBytes(t,e,i){return i=Math.min(this._end,i),new Uint8Array(t.buffer,e,i-e)}}l.pool=new s.A(l,void 0,(t=>{t._data=null,t._dataView=null}))},45132:(t,e,i)=>{i.d(e,{n:()=>a});var n=i(98918),r=i(91109),s=i(34495);function o(t){t=t.replaceAll(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let e="";const i=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const n of t.match(i)||[])switch(n){case"D":e+="d";break;case"DD":e+="dd";break;case"DDD":e+="o";break;case"d":e+="c";break;case"ddd":e+="ccc";break;case"dddd":e+="cccc";break;case"M":e+="L";break;case"MM":e+="LL";break;case"MMM":e+="LLL";break;case"MMMM":e+="LLLL";break;case"YY":e+="yy";break;case"Y":case"YYYY":e+="yyyy";break;case"Q":e+="q";break;case"X":case"x":e+=n;break;default:n.length>=2&&"["===n.slice(0,1)&&"]"===n.slice(-1)?e+=`'${n.slice(1,-1)}'`:e+=`'${n}'`}return e}class a{constructor(t,e,i){this._year=t,this._month=e,this._day=i,this.declaredRootClass="esri.core.sql.dateonly"}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(t){return t instanceof a&&t.day===this.day&&t.month===this.month&&t.year===this.year}clone(){return new a(this._year,this._month,this._day)}toDateTime(t){return s.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,n.mT)(t)})}toDateTimeLuxon(t){return s.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,n.mT)(t)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(t=null){if(null===t||""===t)return this.toString();if(!(t=o(t)))return"";const e=this.toDateTime("unknown");return n.lY.dateTimeToArcadeDate(e).toFormat(t,{locale:(0,r.JK)(),numberingSystem:"latn"})}toArcadeDate(){const t=this.toDateTime("unknown");return n.lY.dateTimeToArcadeDate(t)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd")}toSQLValue(){return this.toFormat("yyyy-LL-dd")}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd")+"'"}plus(t,e){return a.fromDateTime(this.toUTCDateTime().plus({[t]:e}))}toUTCDateTime(){return s.c9.utc(this.year,this.month,this.day,0,0,0,0)}difference(t,e){switch(e.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===e?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}static fromMilliseconds(t){const e=s.c9.fromMillis(t,{zone:s.mQ.utcInstance});return e.isValid?a.fromParts(e.year,e.month,e.day):null}static fromSeconds(t){const e=s.c9.fromSeconds(t,{zone:s.mQ.utcInstance});return e.isValid?a.fromParts(e.year,e.month,e.day):null}static fromReader(t){if(!t)return null;const e=t.split("-");return 3!==e.length?null:new a(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10))}static fromParts(t,e,i){const n=new a(t,e,i);return!1===n.isValid?null:n}static fromDateJS(t){return a.fromParts(t.getFullYear(),t.getMonth()+1,t.getDay())}static fromDateTime(t){return a.fromParts(t.year,t.month,t.day)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,e=null){if(""===t)return null;if(null===t)return null;const i=[];if(e)(e=o(e))&&i.push(e);else if(null===e||""===e){const e=s.c9.fromISO(t,{setZone:!0});return e.isValid?a.fromParts(e.year,e.month,e.day):null}for(const n of i){const i=s.c9.fromFormat(t,e??n);if(i.isValid)return new a(i.year,i.month,i.day)}return null}static fromNow(t="system"){const e=s.c9.fromJSDate(new Date).setZone((0,n.mT)(t));return new a(e.year,e.month,e.day)}}},40845:(t,e,i)=>{i.d(e,{k:()=>a});var n=i(47303),r=i(91109),s=i(34495);function o(t){if(!t)return"";const e=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let i="";for(const n of t.match(e)||[])switch(n){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":i+=n;break;case"A":case"a":i+="a";break;default:i+=`'${n}'`}return i}class a{constructor(t,e,i,n){this._hour=t,this._minute=e,this._second=i,this._millisecond=n,this.declaredRootClass="esri.core.sql.timeonly"}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(t){return t instanceof a&&t.hour===this.hour&&t.minute===this.minute&&t.second===this.second&&t.millisecond===this.millisecond}clone(){return new a(this.hour,this.minute,this.second,this.millisecond)}isValid(){return(0,n.Fq)(this.hour)&&(0,n.Fq)(this.minute)&&(0,n.Fq)(this.second)&&(0,n.Fq)(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(t=null){return null===t||""===t?this.toString():(t=o(t))?s.c9.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(t,{locale:(0,r.JK)(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(t,e,i,n){const r=new a(t,e,i,n);return r.isValid()?r:null}static fromReader(t){if(!t)return null;const e=t.split(":");return 3!==e.length?null:new a(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),0)}static fromMilliseconds(t){if(t>864e5||t<0)return null;const e=Math.floor(t/1e3%60),i=Math.floor(t/6e4%60),n=Math.floor(t/36e5%24),r=Math.floor(t%1e3);return new a(n,i,e,r)}static fromDateJS(t){return new a(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}static fromDateTime(t){return new a(t.hour,t.minute,t.second,t.millisecond)}static fromSqlTimeStampOffset(t){return this.fromDateTime(t.toDateTime())}static fromString(t,e=null){if(""===t)return null;if(null===t)return null;const i=[];e?(e=o(e))&&i.push(e):null!==e&&""!==e||(i.push("HH:mm:ss"),i.push("HH:mm:ss.SSS"),i.push("hh:mm:ss a"),i.push("hh:mm:ss.SSS a"),i.push("HH:mm"),i.push("hh:mm a"),i.push("H:mm"),i.push("h:mm a"),i.push("H:mm:ss"),i.push("h:mm:ss a"),i.push("H:mm:ss.SSS"),i.push("h:mm:ss.SSS a"));for(const n of i){const e=s.c9.fromFormat(t,n);if(e.isValid)return new a(e.hour,e.minute,e.second,e.millisecond)}return null}plus(t,e){switch(t){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return a.fromDateTime(this.toUTCDateTime().plus({[t]:e}))}return null}toUTCDateTime(){return s.c9.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(t,e){switch(e.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(t.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===e?this.toUTCDateTime().diff(t.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(t.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(t.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(t.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(t.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(t.toUTCDateTime(),"years").years}}}},90709:(t,e,i)=>{i.d(e,{GB:()=>r,Qo:()=>o,Y4:()=>s});var n=i(34495);class r{}function s(t){return t instanceof n.bo?t===r.instance:"unknown"===t?.toString().toLowerCase()}function o(t){return s(t)?r.instance:t}r.instance=new n.oh("Etc/UTC")},27243:(t,e,i)=>{i.d(e,{g:()=>n});const n={convertToGEGeometry:function(t,e){return null==e?null:t.convertJSONToGeometry(e)},exportPoint:function(t,e,i){const n=new r(t.getPointX(e),t.getPointY(e),i),s=t.hasZ(e),o=t.hasM(e);return s&&(n.z=t.getPointZ(e)),o&&(n.m=t.getPointM(e)),n},exportPolygon:function(t,e,i){return new s(t.exportPaths(e),i,t.hasZ(e),t.hasM(e))},exportPolyline:function(t,e,i){return new o(t.exportPaths(e),i,t.hasZ(e),t.hasM(e))},exportMultipoint:function(t,e,i){return new a(t.exportPoints(e),i,t.hasZ(e),t.hasM(e))},exportExtent:function(t,e,i){const n=t.hasZ(e),r=t.hasM(e),s=new h(t.getXMin(e),t.getYMin(e),t.getXMax(e),t.getYMax(e),i);if(n){const i=t.getZExtent(e);s.zmin=i.vmin,s.zmax=i.vmax}if(r){const i=t.getMExtent(e);s.mmin=i.vmin,s.mmax=i.vmax}return s}};class r{constructor(t,e,i){this.x=t,this.y=e,this.spatialReference=i,this.z=void 0,this.m=void 0}}class s{constructor(t,e,i,n){this.rings=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}class o{constructor(t,e,i,n){this.paths=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}class a{constructor(t,e,i,n){this.points=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,i&&(this.hasZ=i),n&&(this.hasM=n)}}class h{constructor(t,e,i,n,r){this.xmin=t,this.ymin=e,this.xmax=i,this.ymax=n,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},87569:(t,e,i)=>{i.d(e,{O3:()=>a,Ox:()=>h,bR:()=>s,dC:()=>n});var n,r;!function(t){t[t.Unknown=0]="Unknown",t[t.Point=1]="Point",t[t.LineString=2]="LineString",t[t.Polygon=3]="Polygon"}(n||(n={}));class s{constructor(t,e){this.x=t,this.y=e}clone(){return new s(this.x,this.y)}equals(t,e){return t===this.x&&e===this.y}isEqual(t){return t.x===this.x&&t.y===this.y}setCoords(t,e){this.x=t,this.y=e}normalize(){const t=this.x,e=this.y,i=Math.sqrt(t*t+e*e);this.x/=i,this.y/=i}rightPerpendicular(){const t=this.x;this.x=this.y,this.y=-t}move(t,e){this.x+=t,this.y+=e}assign(t){this.x=t.x,this.y=t.y}assignAdd(t,e){this.x=t.x+e.x,this.y=t.y+e.y}assignSub(t,e){this.x=t.x-e.x,this.y=t.y-e.y}rotate(t,e){const i=this.x,n=this.y;this.x=i*t-n*e,this.y=i*e+n*t}scale(t){this.x*=t,this.y*=t}length(){const t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}static distance(t,e){const i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}static add(t,e){return new s(t.x+e.x,t.y+e.y)}static sub(t,e){return new s(t.x-e.x,t.y-e.y)}}class o{constructor(t,e,i){this.ratio=t,this.x=e,this.y=i}}class a{constructor(t,e,i,n=8,r=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=n,this._pixelMargin=r,this._tileSize=512*n,this._dz=t,this._yPos=e,this._xPos=i}setPixelMargin(t){t!==this._pixelMargin&&(this._pixelMargin=t,this.setExtent(this._extent))}setExtent(t){this._extent=t,this._finalRatio=this._tileSize/t*(1<<this._dz);let e=this._pixelRatio*this._pixelMargin;e/=this._finalRatio;const i=t>>this._dz;e>i&&(e=i),this._margin=e,this._xmin=i*this._xPos-e,this._ymin=i*this._yPos-e,this._xmax=this._xmin+i+2*e,this._ymax=this._ymin+i+2*e}reset(t){this._type=t,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(t,e){this._pushLine(),this._prevIsIn=this._isIn(t,e),this._moveTo(t,e,this._prevIsIn),this._prevPt=new s(t,e),this._firstPt=new s(t,e),this._dist=0}lineTo(t,e){const i=this._isIn(t,e),n=new s(t,e),r=s.distance(this._prevPt,n);let a,h,l,u,c,f,p,d;if(i)this._prevIsIn?this._lineTo(t,e,!0):(a=this._prevPt,h=n,l=this._intersect(h,a),this._start=this._dist+r*(1-this._r),this._lineTo(l.x,l.y,!0),this._lineTo(h.x,h.y,!0));else if(this._prevIsIn)h=this._prevPt,a=n,l=this._intersect(h,a),this._lineTo(l.x,l.y,!0),this._lineTo(a.x,a.y,!1);else{const t=this._prevPt,e=n;if(t.x<=this._xmin&&e.x<=this._xmin||t.x>=this._xmax&&e.x>=this._xmax||t.y<=this._ymin&&e.y<=this._ymin||t.y>=this._ymax&&e.y>=this._ymax)this._lineTo(e.x,e.y,!1);else{const i=[];if((t.x<this._xmin&&e.x>this._xmin||t.x>this._xmin&&e.x<this._xmin)&&(u=(this._xmin-t.x)/(e.x-t.x),d=t.y+u*(e.y-t.y),d<=this._ymin?f=!1:d>=this._ymax?f=!0:i.push(new o(u,this._xmin,d))),(t.x<this._xmax&&e.x>this._xmax||t.x>this._xmax&&e.x<this._xmax)&&(u=(this._xmax-t.x)/(e.x-t.x),d=t.y+u*(e.y-t.y),d<=this._ymin?f=!1:d>=this._ymax?f=!0:i.push(new o(u,this._xmax,d))),(t.y<this._ymin&&e.y>this._ymin||t.y>this._ymin&&e.y<this._ymin)&&(u=(this._ymin-t.y)/(e.y-t.y),p=t.x+u*(e.x-t.x),p<=this._xmin?c=!1:p>=this._xmax?c=!0:i.push(new o(u,p,this._ymin))),(t.y<this._ymax&&e.y>this._ymax||t.y>this._ymax&&e.y<this._ymax)&&(u=(this._ymax-t.y)/(e.y-t.y),p=t.x+u*(e.x-t.x),p<=this._xmin?c=!1:p>=this._xmax?c=!0:i.push(new o(u,p,this._ymax))),0===i.length)c?f?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):f?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(i.length>1&&i[0].ratio>i[1].ratio)this._start=this._dist+r*i[1].ratio,this._lineTo(i[1].x,i[1].y,!0),this._lineTo(i[0].x,i[0].y,!0);else{this._start=this._dist+r*i[0].ratio;for(let t=0;t<i.length;t++)this._lineTo(i[t].x,i[t].y,!0)}this._lineTo(e.x,e.y,!1)}}this._dist+=r,this._prevIsIn=i,this._prevPt=n}close(){if(this._line.length>2){const t=this._firstPt,e=this._prevPt;t.x===e.x&&t.y===e.y||this.lineTo(t.x,t.y);const i=this._line;let n=i.length;for(;n>=4&&(i[0].x===i[1].x&&i[0].x===i[n-2].x||i[0].y===i[1].y&&i[0].y===i[n-2].y);)i.pop(),i[0].x=i[n-2].x,i[0].y=i[n-2].y,--n}}result(t=!0){return this._pushLine(),0===this._lines.length?null:(this._type===n.Polygon&&t&&l.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==n.LineString)throw new Error("Only valid for lines");this._pushLine();const t=this._lines,e=t.length;if(0===e)return null;const i=[];for(let n=0;n<e;n++)i.push({line:t[n],start:this._starts[n]||0});return i}_isIn(t,e){return t>=this._xmin&&t<=this._xmax&&e>=this._ymin&&e<=this._ymax}_intersect(t,e){let i,n,r;if(e.x>=this._xmin&&e.x<=this._xmax)n=e.y<=this._ymin?this._ymin:this._ymax,r=(n-t.y)/(e.y-t.y),i=t.x+r*(e.x-t.x);else if(e.y>=this._ymin&&e.y<=this._ymax)i=e.x<=this._xmin?this._xmin:this._xmax,r=(i-t.x)/(e.x-t.x),n=t.y+r*(e.y-t.y);else{n=e.y<=this._ymin?this._ymin:this._ymax,i=e.x<=this._xmin?this._xmin:this._xmax;const s=(i-t.x)/(e.x-t.x),o=(n-t.y)/(e.y-t.y);s<o?(r=s,n=t.y+s*(e.y-t.y)):(r=o,i=t.x+o*(e.x-t.x))}return this._r=r,new s(i,n)}_pushLine(){this._line&&(this._type===n.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===n.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===n.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(t,e,i){this._type!==n.Polygon?i&&(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.push(new s(t,e))):(i||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),e<this._ymin&&(e=this._ymin),e>this._ymax&&(e=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.push(new s(t,e)),this._isH=!1,this._isV=!1)}_lineTo(t,e,i){let r,o;if(this._type!==n.Polygon)if(i){if(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(r=this._line[this._line.length-1],r.equals(t,e)))return;this._line.push(new s(t,e))}else this._line&&this._line.length>0&&this._pushLine();else if(i||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),e<this._ymin&&(e=this._ymin),e>this._ymax&&(e=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){r=this._line[this._line.length-1];const i=r.x===t,n=r.y===e;if(i&&n)return;this._isH&&i||this._isV&&n?(r.x=t,r.y=e,o=this._line[this._line.length-2],o.x===t&&o.y===e?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(o=this._line[this._line.length-2],this._isH=o.x===t,this._isV=o.y===e)):(this._isH=o.x===t,this._isV=o.y===e)):(this._line.push(new s(t,e)),this._isH=i,this._isV=n)}else this._line.push(new s(t,e))}}class h{setExtent(t){this._ratio=4096===t?1:4096/t}get validateTessellation(){return this._ratio<1}reset(t){this._lines=[],this._line=null}moveTo(t,e){this._line&&this._lines.push(this._line),this._line=[];const i=this._ratio;this._line.push(new s(t*i,e*i))}lineTo(t,e){const i=this._ratio;this._line.push(new s(t*i,e*i))}close(){const t=this._line;t&&!t[0].isEqual(t[t.length-1])&&t.push(t[0])}result(){return this._line&&this._lines.push(this._line),0===this._lines.length?null:this._lines}}!function(t){t[t.sideLeft=0]="sideLeft",t[t.sideRight=1]="sideRight",t[t.sideTop=2]="sideTop",t[t.sideBottom=3]="sideBottom"}(r||(r={}));class l{static simplify(t,e,i){if(!i)return;const n=-e,s=t+e,o=-e,a=t+e,h=[],u=[],c=i.length;for(let l=0;l<c;++l){const t=i[l];if(!t||t.length<2)continue;let e,c=t[0];const f=t.length;for(let i=1;i<f;++i)e=t[i],c.x===e.x&&(c.x<=n&&(c.y>e.y?(h.push(l),h.push(i),h.push(r.sideLeft),h.push(-1)):(u.push(l),u.push(i),u.push(r.sideLeft),u.push(-1))),c.x>=s&&(c.y<e.y?(h.push(l),h.push(i),h.push(r.sideRight),h.push(-1)):(u.push(l),u.push(i),u.push(r.sideRight),u.push(-1)))),c.y===e.y&&(c.y<=o&&(c.x<e.x?(h.push(l),h.push(i),h.push(r.sideTop),h.push(-1)):(u.push(l),u.push(i),u.push(r.sideTop),u.push(-1))),c.y>=a&&(c.x>e.x?(h.push(l),h.push(i),h.push(r.sideBottom),h.push(-1)):(u.push(l),u.push(i),u.push(r.sideBottom),u.push(-1)))),c=e}if(0===h.length||0===u.length)return;l.fillParent(i,u,h),l.fillParent(i,h,u);const f=[];l.calcDeltas(f,u,h),l.calcDeltas(f,h,u),l.addDeltas(f,i)}static fillParent(t,e,i){const n=i.length,s=e.length;for(let o=0;o<s;o+=4){const s=e[o],a=e[o+1],h=e[o+2],l=t[s][a-1],c=t[s][a];let f=8092,p=-1;for(let e=0;e<n;e+=4){if(i[e+2]!==h)continue;const n=i[e],s=i[e+1],o=t[n][s-1],a=t[n][s];switch(h){case r.sideLeft:case r.sideRight:if(u(l.y,o.y,a.y)&&u(c.y,o.y,a.y)){const t=Math.abs(a.y-o.y);t<f&&(f=t,p=e)}break;case r.sideTop:case r.sideBottom:if(u(l.x,o.x,a.x)&&u(c.x,o.x,a.x)){const t=Math.abs(a.x-o.x);t<f&&(f=t,p=e)}}}e[o+3]=p}}static calcDeltas(t,e,i){const n=e.length;for(let r=0;r<n;r+=4){const n=[],s=l.calcDelta(r,e,i,n);t.push(e[r]),t.push(e[r+1]),t.push(e[r+2]),t.push(s)}}static calcDelta(t,e,i,n){const r=e[t+3];if(-1===r)return 0;const s=n.length;return s>1&&n[s-2]===r?0:(n.push(r),l.calcDelta(r,i,e,n)+1)}static addDeltas(t,e){const i=t.length;let n=0;for(let r=0;r<i;r+=4){const e=t[r+3];e>n&&(n=e)}for(let s=0;s<i;s+=4){const i=e[t[s]],o=t[s+1],a=n-t[s+3];switch(t[s+2]){case r.sideLeft:i[o-1].x-=a,i[o].x-=a,1===o&&(i[i.length-1].x-=a),o===i.length-1&&(i[0].x-=a);break;case r.sideRight:i[o-1].x+=a,i[o].x+=a,1===o&&(i[i.length-1].x+=a),o===i.length-1&&(i[0].x+=a);break;case r.sideTop:i[o-1].y-=a,i[o].y-=a,1===o&&(i[i.length-1].y-=a),o===i.length-1&&(i[0].y-=a);break;case r.sideBottom:i[o-1].y+=a,i[o].y+=a,1===o&&(i[i.length-1].y+=a),o===i.length-1&&(i[0].y+=a)}}}}const u=(t,e,i)=>t>=e&&t<=i||t>=i&&t<=e},20698:(t,e,i)=>{i.d(e,{$X:()=>x,Gy:()=>g,P5:()=>S,SW:()=>b,Tr:()=>w,VV:()=>a,qj:()=>_});var n=i(1171);const r=(t,e,i)=>[e,i],s=(t,e,i)=>[e,i,t[2]],o=(t,e,i)=>[e,i,t[2],t[3]];function a(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:null!=t.extent?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function h({scale:t,translate:e},i){return Math.round((i-e[0])/t[0])}function l({scale:t,translate:e},i){return Math.round((e[1]-i)/t[1])}function u(t,e,i){const n=[];let r,s,o,a;for(let u=0;u<i.length;u++){const c=i[u];u>0?(o=h(t,c[0]),a=l(t,c[1]),o===r&&a===s||(n.push(e(c,o-r,a-s)),r=o,s=a)):(r=h(t,c[0]),s=l(t,c[1]),n.push(e(c,r,s)))}return n.length>0?n:null}function c({scale:t,translate:e},i){return i*t[0]+e[0]}function f({scale:t,translate:e},i){return e[1]-i*t[1]}function p(t,e,i){const n=new Array(i.length);if(!i.length)return n;const[r,s]=t.scale;let o=c(t,i[0][0]),a=f(t,i[0][1]);n[0]=e(i[0],o,a);for(let h=1;h<i.length;h++){const t=i[h];o+=t[0]*r,a-=t[1]*s,n[h]=e(t,o,a)}return n}function d(t,e,i){const n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=p(t,e,i[r]);return n}function v(t,e,i,n,a){return e.points=function(t,e,i,n){return u(t,i?n?o:s:n?s:r,e)}(t,i.points,n,a)??[],e}function g(t,e,i,n,r){return e.x=h(t,i.x),e.y=l(t,i.y),e!==i&&(n&&(e.z=i.z),r&&(e.m=i.m)),e}function y(t,e,i,n,a){const h=function(t,e,i,n){const a=[],h=i?n?o:s:n?s:r;for(let r=0;r<e.length;r++){const i=u(t,h,e[r]);i&&i.length>=3&&a.push(i)}return a.length?a:null}(t,i.rings,n,a);return h?(e.rings=h,e):null}function m(t,e,i,n,a){const h=function(t,e,i,n){const a=[],h=i?n?o:s:n?s:r;for(let r=0;r<e.length;r++){const i=u(t,h,e[r]);i&&i.length>=2&&a.push(i)}return a.length?a:null}(t,i.paths,n,a);return h?(e.paths=h,e):null}function _(t,e){return t&&e?(0,n.fT)(e)?g(t,{},e,!1,!1):(0,n.Rg)(e)?m(t,{},e,!1,!1):(0,n.Bi)(e)?y(t,{},e,!1,!1):(0,n.U9)(e)?v(t,{},e,!1,!1):(0,n.ZC)(e)?function(t,e,i,n,r){return e.xmin=h(t,i.xmin),e.ymin=l(t,i.ymin),e.xmax=h(t,i.xmax),e.ymax=l(t,i.ymax),e!==i&&(n&&(e.zmin=i.zmin,e.zmax=i.zmax),r&&(e.mmin=i.mmin,e.mmax=i.mmax)),e}(t,{},e,!1,!1):null:null}function b(t,e,i,n,a){return null!=i&&(e.points=function(t,e,i,n){return p(t,i?n?o:s:n?s:r,e)}(t,i.points,n,a)),e}function w(t,e,i,n,r){return null==i||(e.x=c(t,i.x),e.y=f(t,i.y),e!==i&&(n&&(e.z=i.z),r&&(e.m=i.m))),e}function x(t,e,i,n,a){return null!=i&&(e.rings=function(t,e,i,n){return d(t,i?n?o:s:n?s:r,e)}(t,i.rings,n,a)),e}function S(t,e,i,n,a){return null!=i&&(e.paths=function(t,e,i,n){return d(t,i?n?o:s:n?s:r,e)}(t,i.paths,n,a)),e}},61781:(t,e,i)=>{i.d(e,{X_:()=>o,eU:()=>h,i1:()=>a,zx:()=>l});var n=i(92504),r=i(92976);const s=96;function o(t,e){const i=e||t.extent,n=t.width,o=(0,r.GA)(i?.spatialReference);return i&&n?i.width/n*o*r.dy*s:0}function a(t,e){return t/((0,r.GA)(e)*r.dy*s)}function h(t,e){const i=t.extent,n=t.width-(t.padding?t.padding.left+t.padding.right:0),r=a(e,i.spatialReference);return i.clone().expand(r*n/i.width)}function l(t,e,i){return function(t,e){return 0===e||(0,n.Sp)(t,e)||t<e}(t,e)&&function(t,e){return 0===e||(0,n.Sp)(t,e)||t>e}(t,i)}},57079:(t,e,i)=>{i.d(e,{$B:()=>p});var n=i(66866),r=i(52495),s=i(39831),o=i(19251),a=i(539),h=i(21564),l=(i(73446),i(63863)),u=i(81816),c=i(57922);const f=-1;let p=class extends r.A{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,s.A)("mapview-transitions-duration"),this.effects=[]}set effect(t){if(this._get("effect")!==(t=t||"")){this._set("effect",t);try{this._transitionTo(d(t))}catch(e){this._transitionTo([]),a.A.getLogger(this).warn("Invalid Effect",{effect:t,error:e})}}}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&v(this._current,d(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}endTransitions(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&v(this._current,t,this.scale)?(this._final=t,this._to=(0,o.o8)(t),function(t,e,i){const n=t.length>e.length?t:e,r=t.length>e.length?e:t,s=r[r.length-1],o=s?.scale??i,a=s?.effects??[];for(let h=r.length;h<n.length;h++)r.push({scale:o,effects:[...a]});for(let h=0;h<n.length;h++)r[h].scale=r[h].scale===f?i:r[h].scale,n[h].scale=n[h].scale===f?i:n[h].scale,(0,c.O9)(r[h].effects,n[h].effects)}(this._current,this._to,this.scale),this._from=(0,o.o8)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set("effects",this._current[0]?(0,o.o8)(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let i=0;i<this._current.length;i++){const t=this._current[i],n=this._from[i],r=this._to[i];t.scale=g(n.scale,r.scale,e);for(let i=0;i<t.effects.length;i++){const s=t.effects[i],o=n.effects[i],a=r.effects[i];s.interpolate(o,a,e)}}1===e&&(this._current=this._final,this._set("effects",this._current[0]?(0,o.o8)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set("scale",t),0===this._current.length)return;const e=this._current,i=this._current.length-1;let n,r,s=1;if(1===e.length||t>=e[0].scale)r=n=e[0].effects;else if(t<=e[i].scale)r=n=e[i].effects;else for(let o=0;o<i;o++){const i=e[o],a=e[o+1];if(i.scale>=t&&a.scale<=t){s=(t-i.scale)/(a.scale-i.scale),n=i.effects,r=a.effects;break}}for(let o=0;o<this.effects.length;o++)this.effects[o].interpolate(n[o],r[o],s)}};function d(t){const e=(0,u.q)(t)||[];return function(t){const e=t[0];return!!e&&"type"in e}(e)?[{scale:f,effects:e}]:e}function v(t,e,i){return!t[0]?.effects||!e[0]?.effects||!((t[0]?.scale===f||e[0]?.scale===f)&&(t.length>1||e.length>1)&&i<=0)&&(0,c.mj)(t[0].effects,e[0].effects)}function g(t,e,i){return t+(e-t)*i}(0,n._)([(0,h.MZ)()],p.prototype,"_to",void 0),(0,n._)([(0,h.MZ)()],p.prototype,"duration",void 0),(0,n._)([(0,h.MZ)({value:""})],p.prototype,"effect",null),(0,n._)([(0,h.MZ)({readOnly:!0})],p.prototype,"effects",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],p.prototype,"hasEffects",null),(0,n._)([(0,h.MZ)({value:0})],p.prototype,"scale",null),(0,n._)([(0,h.MZ)({readOnly:!0})],p.prototype,"transitioning",null),p=(0,n._)([(0,l.$)("esri.layers.effects.EffectView")],p)},27664:(t,e,i)=>{i.d(e,{LF:()=>a,M9:()=>h,zu:()=>l});var n=i(98849),r=i(76724),s=i(81816),o=i(57922);function a(t,e,i){try{return function(t){if(!t||0===t.length)return null;if(function(t){const e=t[0];return!!e&&"scale"in e}(t)){const e=[];for(const i of t)e.push({scale:i.scale,value:l(i.value)});return e}return l(t)}(t)}catch(n){i?.messages?.push(n)}return null}function h(t,e,i,n){try{const n=function(t){const e=(0,s.q)(t);return e?(0,o.dw)(e)?e.map((t=>t.toJSON())):e.map((({scale:t,effects:e})=>({scale:t,value:e.map((t=>t.toJSON()))}))):null}(t);(0,r.sM)(i,n,e)}catch(h){n.messages&&n.messages.push(h)}}function l(t){if(!t?.length)return"";const e=[];for(const i of t){let t=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":t=[u(i,"amount")];break;case"blur":t=[u(i,"radius","pt")];break;case"hue-rotate":t=[u(i,"angle","deg")];break;case"drop-shadow":t=[u(i,"xoffset","pt"),u(i,"yoffset","pt"),u(i,"blurRadius","pt"),c(i,"color")];break;case"bloom":t=[u(i,"strength"),u(i,"radius","pt"),u(i,"threshold")]}const n=`${i.type}(${t.filter(Boolean).join(" ")})`;(0,s.q)(n),e.push(n)}return e.join(" ")}function u(t,e,i){if(null==t[e])throw new n.A("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return i?t[e]+i:""+t[e]}function c(t,e){if(null==t[e])throw new n.A("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const i=t[e];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}},81816:(t,e,i)=>{i.d(e,{q:()=>c});var n,r,s=i(31415),o=i(98849),a=i(78138),h=(i(42784),i(57922)),l={exports:{}};r=function(){function t(e,i,n,r){var s=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(s,t.prototype),s.expected=i,s.found=n,s.location=r,s.name="SyntaxError",s}function e(t,e,i){return i=i||" ",t.length>e?t:(e-=t.length,t+(i+=i.repeat(e)).slice(0,e))}return function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(t,Error),t.prototype.format=function(t){var i="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){r=t[n].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,o=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(s):s,a=this.location.source+":"+o.line+":"+o.column;if(r){var h=this.location.end,l=e("",o.line.toString().length," "),u=r[s.line-1],c=(s.line===h.line?h.column:u.length+1)-s.column||1;i+="\n --\x3e "+a+"\n"+l+" |\n"+o.line+" | "+u+"\n"+l+" | "+e("",s.column-1," ")+e("",c,"^")}else i+="\n at "+a}return i},t.buildMessage=function(t,e){var i={literal:function(t){return'"'+r(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?s(t[0])+"-"+s(t[1]):s(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function s(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function o(t){return i[t.type](t)}return"Expected "+function(t){var e,i,n=t.map(o);if(n.sort(),n.length>0){for(e=1,i=1;e<n.length;e++)n[e-1]!==n[e]&&(n[i]=n[e],i++);n.length=i}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+r(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:function(e,i){var n,r={},s=(i=void 0!==i?i:{}).grammarSource,o={start:qt},a=qt,h="none",l=")",u=",",c="(",f="%",p="px",d="cm",v="mm",g="in",y="pt",m="pc",_="deg",b="rad",w="grad",x="turn",S="#",T=".",A="e",E=/^[ \t\n\r]/,M=/^[a-z\-]/,I=/^[0-9a-fA-F]/,C=/^[+\-]/,R=/^[0-9]/,N=Ut("none"),O=Vt("none",!1),D=Vt(")",!1),L=Vt(",",!1),P=Ut("whitespace"),z=Bt([" ","\t","\n","\r"],!1,!1),F=Ut("function"),j=Vt("(",!1),V=Ut("identifier"),B=Bt([["a","z"],"-"],!1,!1),U=Ut("percentage"),k=Vt("%",!1),G=Ut("length"),H=Vt("px",!1),q=Vt("cm",!1),Z=Vt("mm",!1),W=Vt("in",!1),Y=Vt("pt",!1),K=Vt("pc",!1),J=Ut("angle"),$=Vt("deg",!1),X=Vt("rad",!1),Q=Vt("grad",!1),tt=Vt("turn",!1),et=Ut("number"),it=Ut("color"),nt=Vt("#",!1),rt=Bt([["0","9"],["a","f"],["A","F"]],!1,!1),st=Bt(["+","-"],!1,!1),ot=Bt([["0","9"]],!1,!1),at=Vt(".",!1),ht=Vt("e",!1),lt=function(){return[]},ut=function(t,e){return{type:"function",name:t,parameters:e||[]}},ct=function(t,e){return e.length>0?function(t,e,i){return[t].concat(function(t,e){return t.map((function(t){return t[e]}))}(e,i))}(t,e,3):[t]},ft=function(t){return{type:"quantity",value:t.value,unit:t.unit}},pt=function(t){return{type:"color",colorType:t.type,value:t.value}},dt=function(t){return t},vt=function(){return jt()},gt=function(t){return{value:t,unit:"%"}},yt=function(t){return{value:t,unit:"px"}},mt=function(t){return{value:t,unit:"cm"}},_t=function(t){return{value:t,unit:"mm"}},bt=function(t){return{value:t,unit:"in"}},wt=function(t){return{value:t,unit:"pt"}},xt=function(t){return{value:t,unit:"pc"}},St=function(t){return{value:t,unit:"deg"}},Tt=function(t){return{value:t,unit:"rad"}},At=function(t){return{value:t,unit:"grad"}},Et=function(t){return{value:t,unit:"turn"}},Mt=function(t){return{value:t,unit:null}},It=function(){return{type:"hex",value:jt()}},Ct=function(t){return{type:"function",value:t}},Rt=function(){return{type:"named",value:jt()}},Nt=function(){return parseFloat(jt())},Ot=0,Dt=0,Lt=[{line:1,column:1}],Pt=0,zt=[],Ft=0;if("startRule"in i){if(!(i.startRule in o))throw new Error("Can't start parsing from rule \""+i.startRule+'".');a=o[i.startRule]}function jt(){return e.substring(Dt,Ot)}function Vt(t,e){return{type:"literal",text:t,ignoreCase:e}}function Bt(t,e,i){return{type:"class",parts:t,inverted:e,ignoreCase:i}}function Ut(t){return{type:"other",description:t}}function kt(t){var i,n=Lt[t];if(n)return n;for(i=t-1;!Lt[i];)i--;for(n={line:(n=Lt[i]).line,column:n.column};i<t;)10===e.charCodeAt(i)?(n.line++,n.column=1):n.column++,i++;return Lt[t]=n,n}function Gt(t,e,i){var n=kt(t),r=kt(e),o={source:s,start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}};return i&&s&&"function"==typeof s.offset&&(o.start=s.offset(o.start),o.end=s.offset(o.end)),o}function Ht(t){Ot<Pt||(Ot>Pt&&(Pt=Ot,zt=[]),zt.push(t))}function qt(){var t;return(t=Zt())===r&&(t=function(){var t,e;if(t=[],(e=Wt())!==r)for(;e!==r;)t.push(e),e=Wt();else t=r;return t}()),t}function Zt(){var t,i;return Ft++,t=Ot,Kt(),e.substr(Ot,4)===h?(i=h,Ot+=4):(i=r,0===Ft&&Ht(O)),i!==r?(Kt(),Dt=t,t=lt()):(Ot=t,t=r),Ft--,t===r&&0===Ft&&Ht(N),t}function Wt(){var t,i,n,s;return t=Ot,Kt(),(i=function(){var t,i,n;return Ft++,t=Ot,(i=Jt())!==r?(40===e.charCodeAt(Ot)?(n=c,Ot++):(n=r,0===Ft&&Ht(j)),n!==r?(Dt=t,t=dt(i)):(Ot=t,t=r)):(Ot=t,t=r),Ft--,t===r&&(i=r,0===Ft&&Ht(F)),t}())!==r?(Kt(),(n=function(){var t,i,n,s,o,a,h,l;if(t=Ot,(i=Yt())!==r){for(n=[],s=Ot,o=Kt(),44===e.charCodeAt(Ot)?(a=u,Ot++):(a=r,0===Ft&&Ht(L)),a===r&&(a=null),h=Kt(),(l=Yt())!==r?s=o=[o,a,h,l]:(Ot=s,s=r);s!==r;)n.push(s),s=Ot,o=Kt(),44===e.charCodeAt(Ot)?(a=u,Ot++):(a=r,0===Ft&&Ht(L)),a===r&&(a=null),h=Kt(),(l=Yt())!==r?s=o=[o,a,h,l]:(Ot=s,s=r);Dt=t,t=ct(i,n)}else Ot=t,t=r;return t}())===r&&(n=null),Kt(),41===e.charCodeAt(Ot)?(s=l,Ot++):(s=r,0===Ft&&Ht(D)),s!==r?(Kt(),Dt=t,t=ut(i,n)):(Ot=t,t=r)):(Ot=t,t=r),t}function Yt(){var t,e;return t=Ot,(e=$t())===r&&(e=Xt())===r&&(e=Qt())===r&&(e=function(){var t,e;return Ft++,t=Ot,Kt(),(e=ee())!==r?(Dt=t,t=Mt(e)):(Ot=t,t=r),Ft--,t===r&&0===Ft&&Ht(et),t}()),e!==r&&(Dt=t,e=ft(e)),(t=e)===r&&(t=Ot,(e=te())!==r&&(Dt=t,e=pt(e)),t=e),t}function Kt(){var t,i;for(Ft++,t=[],E.test(e.charAt(Ot))?(i=e.charAt(Ot),Ot++):(i=r,0===Ft&&Ht(z));i!==r;)t.push(i),E.test(e.charAt(Ot))?(i=e.charAt(Ot),Ot++):(i=r,0===Ft&&Ht(z));return Ft--,i=r,0===Ft&&Ht(P),t}function Jt(){var t,i,n;if(Ft++,t=Ot,i=[],M.test(e.charAt(Ot))?(n=e.charAt(Ot),Ot++):(n=r,0===Ft&&Ht(B)),n!==r)for(;n!==r;)i.push(n),M.test(e.charAt(Ot))?(n=e.charAt(Ot),Ot++):(n=r,0===Ft&&Ht(B));else i=r;return i!==r&&(Dt=t,i=vt()),Ft--,(t=i)===r&&(i=r,0===Ft&&Ht(V)),t}function $t(){var t,i,n;return Ft++,t=Ot,Kt(),(i=ee())!==r?(37===e.charCodeAt(Ot)?(n=f,Ot++):(n=r,0===Ft&&Ht(k)),n!==r?(Dt=t,t=gt(i)):(Ot=t,t=r)):(Ot=t,t=r),Ft--,t===r&&0===Ft&&Ht(U),t}function Xt(){var t,i,n;return Ft++,t=Ot,Kt(),(i=ee())!==r?(e.substr(Ot,2)===p?(n=p,Ot+=2):(n=r,0===Ft&&Ht(H)),n!==r?(Dt=t,t=yt(i)):(Ot=t,t=r)):(Ot=t,t=r),t===r&&(t=Ot,Kt(),(i=ee())!==r?(e.substr(Ot,2)===d?(n=d,Ot+=2):(n=r,0===Ft&&Ht(q)),n!==r?(Dt=t,t=mt(i)):(Ot=t,t=r)):(Ot=t,t=r),t===r&&(t=Ot,Kt(),(i=ee())!==r?(e.substr(Ot,2)===v?(n=v,Ot+=2):(n=r,0===Ft&&Ht(Z)),n!==r?(Dt=t,t=_t(i)):(Ot=t,t=r)):(Ot=t,t=r),t===r&&(t=Ot,Kt(),(i=ee())!==r?(e.substr(Ot,2)===g?(n=g,Ot+=2):(n=r,0===Ft&&Ht(W)),n!==r?(Dt=t,t=bt(i)):(Ot=t,t=r)):(Ot=t,t=r),t===r&&(t=Ot,Kt(),(i=ee())!==r?(e.substr(Ot,2)===y?(n=y,Ot+=2):(n=r,0===Ft&&Ht(Y)),n!==r?(Dt=t,t=wt(i)):(Ot=t,t=r)):(Ot=t,t=r),t===r&&(t=Ot,Kt(),(i=ee())!==r?(e.substr(Ot,2)===m?(n=m,Ot+=2):(n=r,0===Ft&&Ht(K)),n!==r?(Dt=t,t=xt(i)):(Ot=t,t=r)):(Ot=t,t=r)))))),Ft--,t===r&&0===Ft&&Ht(G),t}function Qt(){var t,i,n;return Ft++,t=Ot,(i=ee())!==r?(e.substr(Ot,3)===_?(n=_,Ot+=3):(n=r,0===Ft&&Ht($)),n!==r?(Dt=t,t=St(i)):(Ot=t,t=r)):(Ot=t,t=r),t===r&&(t=Ot,(i=ee())!==r?(e.substr(Ot,3)===b?(n=b,Ot+=3):(n=r,0===Ft&&Ht(X)),n!==r?(Dt=t,t=Tt(i)):(Ot=t,t=r)):(Ot=t,t=r),t===r&&(t=Ot,(i=ee())!==r?(e.substr(Ot,4)===w?(n=w,Ot+=4):(n=r,0===Ft&&Ht(Q)),n!==r?(Dt=t,t=At(i)):(Ot=t,t=r)):(Ot=t,t=r),t===r&&(t=Ot,(i=ee())!==r?(e.substr(Ot,4)===x?(n=x,Ot+=4):(n=r,0===Ft&&Ht(tt)),n!==r?(Dt=t,t=Et(i)):(Ot=t,t=r)):(Ot=t,t=r)))),Ft--,t===r&&(i=r,0===Ft&&Ht(J)),t}function te(){var t,i,n,s;if(Ft++,t=Ot,35===e.charCodeAt(Ot)?(i=S,Ot++):(i=r,0===Ft&&Ht(nt)),i!==r){if(n=[],I.test(e.charAt(Ot))?(s=e.charAt(Ot),Ot++):(s=r,0===Ft&&Ht(rt)),s!==r)for(;s!==r;)n.push(s),I.test(e.charAt(Ot))?(s=e.charAt(Ot),Ot++):(s=r,0===Ft&&Ht(rt));else n=r;n!==r?(Dt=t,t=It()):(Ot=t,t=r)}else Ot=t,t=r;return t===r&&(t=Ot,(i=Wt())!==r&&(Dt=t,i=Ct(i)),(t=i)===r&&(t=Ot,(i=Jt())!==r&&(Dt=t,i=Rt()),t=i)),Ft--,t===r&&(i=r,0===Ft&&Ht(it)),t}function ee(){var t,i,n,s,o,a,h;for(t=Ot,C.test(e.charAt(Ot))?(e.charAt(Ot),Ot++):0===Ft&&Ht(st),i=Ot,n=[],R.test(e.charAt(Ot))?(s=e.charAt(Ot),Ot++):(s=r,0===Ft&&Ht(ot));s!==r;)n.push(s),R.test(e.charAt(Ot))?(s=e.charAt(Ot),Ot++):(s=r,0===Ft&&Ht(ot));if(46===e.charCodeAt(Ot)?(s=T,Ot++):(s=r,0===Ft&&Ht(at)),s!==r){if(o=[],R.test(e.charAt(Ot))?(a=e.charAt(Ot),Ot++):(a=r,0===Ft&&Ht(ot)),a!==r)for(;a!==r;)o.push(a),R.test(e.charAt(Ot))?(a=e.charAt(Ot),Ot++):(a=r,0===Ft&&Ht(ot));else o=r;o!==r?i=n=[n,s,o]:(Ot=i,i=r)}else Ot=i,i=r;if(i===r)if(i=[],R.test(e.charAt(Ot))?(n=e.charAt(Ot),Ot++):(n=r,0===Ft&&Ht(ot)),n!==r)for(;n!==r;)i.push(n),R.test(e.charAt(Ot))?(n=e.charAt(Ot),Ot++):(n=r,0===Ft&&Ht(ot));else i=r;if(i!==r){if(n=Ot,101===e.charCodeAt(Ot)?(s=A,Ot++):(s=r,0===Ft&&Ht(ht)),s!==r){if(C.test(e.charAt(Ot))?(o=e.charAt(Ot),Ot++):(o=r,0===Ft&&Ht(st)),o===r&&(o=null),a=[],R.test(e.charAt(Ot))?(h=e.charAt(Ot),Ot++):(h=r,0===Ft&&Ht(ot)),h!==r)for(;h!==r;)a.push(h),R.test(e.charAt(Ot))?(h=e.charAt(Ot),Ot++):(h=r,0===Ft&&Ht(ot));else a=r;a!==r?n=s=[s,o,a]:(Ot=n,n=r)}else Ot=n,n=r;n===r&&(n=null),Dt=t,t=Nt()}else Ot=t,t=r;return t}if((n=a())!==r&&Ot===e.length)return n;throw n!==r&&Ot<e.length&&Ht({type:"end"}),function(e,i,n){return new t(t.buildMessage(e,i),e,i,n)}(zt,Pt<e.length?e.charAt(Pt):null,Pt<e.length?Gt(Pt,Pt+1):Gt(Pt,Pt))}}},(n=l).exports&&(n.exports=r());var u=l.exports;function c(t){if(!t||0===t.length)return null;if("string"==typeof t){const e=f(t);return e&&0!==e.length?e:null}const e=t.map((t=>{if(!Number.isFinite(t.scale)||t.scale<=0)throw new o.A("effect:invalid-scale","scale must be finite and greater than 0",{stop:t});return{scale:t.scale,effects:f(t.value)}}));e.sort(((t,e)=>e.effects.length-t.effects.length));for(let i=0;i<e.length-1;i++){if(!(0,h.mj)(e[i].effects,e[i+1].effects))throw new o.A("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[i].effects,b:e[i+1].effects});(0,h.O9)(e[i].effects,e[i+1].effects)}return e.sort(((t,e)=>e.scale-t.scale)),e}function f(t){let e;if(!t)return[];try{e=u.parse(t)}catch(i){throw new o.A("effect:invalid-syntax","Invalid effect syntax",{value:t,error:i})}return e.map((t=>function(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function(t){let e=1;return p(t.parameters,1),1===t.parameters.length&&(e=m(t.parameters[0])),new a.yG(t.name,e)}(t);case"opacity":return function(t){let e=1;return p(t.parameters,1),1===t.parameters.length&&(e=m(t.parameters[0])),new a.jm(e)}(t);case"hue-rotate":return function(t){let e=0;return p(t.parameters,1),1===t.parameters.length&&(e=function(t){return function(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=g[t.unit]))throw new o.A("effect:type-error",`Expected <angle>, Actual: ${d(t)}`,{term:t})}(t),t.value*g[t.unit]||0}(t.parameters[0])),new a.Nd(e)}(t);case"blur":return function(t){let e=0;return p(t.parameters,1),1===t.parameters.length&&(e=b(t.parameters[0]),v(e,t.parameters[0])),new a.Fk(e)}(t);case"drop-shadow":return function(t){const e=[];let i=null;for(const n of t.parameters)if("color"===n.type){if(e.length&&Object.freeze(e),i)throw new o.A("effect:type-error","Accepts only one color",{});i=w(n)}else{const t=b(n);if(Object.isFrozen(e))throw new o.A("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(t),3===e.length&&v(t,n)}if(e.length<2||e.length>3)throw new o.A("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new a.$b(e[0],e[1],e[2]||0,i||x("black"))}(t);case"bloom":return function(t){let e=1,i=0,n=0;return p(t.parameters,3),t.parameters[0]&&(e=m(t.parameters[0])),t.parameters[1]&&(i=b(t.parameters[1]),v(i,t.parameters[1])),t.parameters[2]&&(n=m(t.parameters[2])),new a.bv(e,i,n)}(t)}}catch(e){throw e.details.filter=t,e}throw new o.A("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}(t)))}function p(t,e){if(t.length>e)throw new o.A("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function d(t){if("color"===t.type)return"<color>";if(t.unit){if(t.unit in y)return"<length>";if(t.unit in g)return"<angle>";if("%"===t.unit)return"<percentage>"}return"<double>"}function v(t,e){if(t<0)throw new o.A("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}const g={deg:1,grad:.9,rad:180/Math.PI,turn:360};const y={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function m(t){!function(t){if("quantity"!==t.type||null!==t.unit&&"%"!==t.unit)throw new o.A("effect:type-error",`Expected <double> or <percentage>, Actual: ${d(t)}`,{term:t})}(t);const e=t.value;return v(e,t),"%"===t.unit?.01*e:e}function _(t){return function(t){if("quantity"!==t.type||null!==t.unit)throw new o.A("effect:type-error",`Expected <double>, Actual: ${d(t)}`,{term:t})}(t),v(t.value,t),t.value}function b(t){return function(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=y[t.unit]))throw new o.A("effect:type-error",`Expected <length>, Actual: ${d(t)}`,{term:t})}(t),t.value*y[t.unit]||0}function w(t){switch(t.colorType){case"hex":return(0,s.qh)(t.value);case"named":return x(t.value);case"function":return function(t){if(p(t.parameters,4),S.test(t.name))return[m(t.parameters[0]),m(t.parameters[1]),m(t.parameters[2]),t.parameters[3]?m(t.parameters[3]):1];if(T.test(t.name))return(0,s.z$)(_(t.parameters[0]),m(t.parameters[1]),m(t.parameters[2]),t.parameters[3]?m(t.parameters[3]):1);throw new o.A("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}(t.value)}}function x(t){if(!(0,s.V6)(t))throw new o.A("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return(0,s.c4)(t)}const S=/^rgba?/i,T=/^hsla?/i},32597:(t,e,i)=>{i.d(e,{Ib:()=>s,N3:()=>r,Om:()=>n});class n{constructor(t=null,e={},i,n){this.geometry=t,this.attributes=e,this.centroid=i,this.objectId=n,this.displayId=0,this.geohashX=0,this.geohashY=0}weakClone(){const t=new n(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function r(t){return!!t.geometry?.coords?.length}class s extends n{}},46461:(t,e,i)=>{i.d(e,{A:()=>n});class n{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new n;return t.objectIdFieldName=this.objectIdFieldName,t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}},88443:(t,e,i)=>{i.d(e,{A:()=>n});class n{constructor(t=[],e=[],i=!1){this.lengths=t??[],this.coords=e??[],this.hasIndeterminateRingOrder=i}static fromRect(t){const[e,i,r,s]=t,o=r-e,a=s-i;return new n([5],[e,i,o,0,0,a,-o,0,0,-a])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,e)=>t+e))}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let i=0;i<this.lengths.length;i++){const n=this.lengths[i];for(let i=0;i<n;i++)t(this.coords[2*(i+e)],this.coords[2*(i+e)+1]);e+=n}}clone(t){return t?(t.set(this.coords),new n(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new n(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}},23783:(t,e,i)=>{i.d(e,{Cv:()=>g,Nk:()=>p,lK:()=>m});var n=i(85569),r=i(40189),s=i(97303),o=i(27243),a=i(87926),h=i(96082);const l=[0,0];function u(t,e){if(!e)return null;if("x"in e){const i={x:0,y:0};return[i.x,i.y]=t(e.x,e.y,l),null!=e.z&&(i.z=e.z),null!=e.m&&(i.m=e.m),i}if("xmin"in e){const i={xmin:0,ymin:0,xmax:0,ymax:0};return[i.xmin,i.ymin]=t(e.xmin,e.ymin,l),[i.xmax,i.ymax]=t(e.xmax,e.ymax,l),e.hasZ&&(i.zmin=e.zmin,i.zmax=e.zmax,i.hasZ=!0),e.hasM&&(i.mmin=e.mmin,i.mmax=e.mmax,i.hasM=!0),i}return"rings"in e?{rings:c(e.rings,t),hasM:e.hasM,hasZ:e.hasZ}:"paths"in e?{paths:c(e.paths,t),hasM:e.hasM,hasZ:e.hasZ}:"points"in e?{points:f(e.points,t),hasM:e.hasM,hasZ:e.hasZ}:null}function c(t,e){const i=[];for(const n of t)i.push(f(n,e));return i}function f(t,e){const i=[];for(const n of t){const t=e(n[0],n[1],[0,0]);i.push(t),n.length>2&&t.push(n[2]),n.length>3&&t.push(n[3])}return i}async function p(t,e){if(!t||!e)return;const i=Array.isArray(t)?t.map((t=>null!=t.geometry?t.geometry.spatialReference:null)).filter(n.Ru):[t];await(0,s.initializeProjection)(i.map((t=>({source:t,dest:e}))))}const d=u.bind(null,h.je),v=u.bind(null,h.tD);function g(t,e,i,n){if(!t)return t;if(i||(i=e,e=t.spatialReference),!(0,a.fn)(e)||!(0,a.fn)(i)||(0,a.aI)(e,i))return t;if((0,h.y7)(e,i)){const e=(0,a.K8)(i)?d(t):v(t);return e.spatialReference=i,e}return(0,s.projectMany)(o.g,[t],e,i,null,n)[0]}const y=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(t,e,i,n){if(!t?.length||!e||!i||(0,a.aI)(e,i))return t;const s={geometries:t,inSpatialReference:e,outSpatialReference:i,geographicTransformation:n,resolve:(0,r.Tw)()};return this._jobs.push(s),this._timer??=setTimeout(this._process,10),s.resolve.promise}_process(){this._timer=null;const t=this._jobs.shift();if(!t)return;const{geometries:e,inSpatialReference:i,outSpatialReference:n,resolve:r,geographicTransformation:l}=t;(0,h.y7)(i,n)?(0,a.K8)(n)?r(e.map(d)):r(e.map(v)):r((0,s.projectMany)(o.g,e,i,n,l,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function m(t,e,i,n){return y.push(t,e,i,n)}},21355:(t,e,i)=>{i.d(e,{Ap:()=>B,B2:()=>w,BW:()=>j,Ch:()=>lt,DF:()=>S,Di:()=>Y,E2:()=>W,IE:()=>b,Nl:()=>rt,Q4:()=>ut,Rk:()=>ft,Ux:()=>$,X9:()=>K,Ye:()=>G,ZF:()=>tt,eU:()=>H,eY:()=>it,jH:()=>nt,jQ:()=>ht,kz:()=>st,oN:()=>J,q3:()=>et,qK:()=>P,qN:()=>L,z5:()=>U,zv:()=>X});var n=i(98849),r=i(539),s=i(6267),o=i(4675),a=i(80510),h=i(1171),l=i(32597),u=i(46461),c=i(88443);function f(t,e){return t?e?4:3:e?3:2}const p=r.A.getLogger("esri.layers.graphics.featureConversionUtils"),d={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},v=(t,e,i,n,r,s)=>{t[i]=r,t[i+1]=s},g=(t,e,i,n,r,s)=>{t[i]=r,t[i+1]=s,t[i+2]=e[n+2]},y=(t,e,i,n,r,s)=>{t[i]=r,t[i+1]=s,t[i+2]=e[n+3]},m=(t,e,i,n,r,s)=>{t[i]=r,t[i+1]=s,t[i+2]=e[n+2],t[i+3]=e[n+3]};function _(t,e,i,n){if(t){if(i)return e&&n?m:g;if(e&&n)return y}else if(e&&n)return g;return v}function b({scale:t,translate:e},i){return Math.round((i-e[0])/t[0])}function w({scale:t,translate:e},i){return Math.round((e[1]-i)/t[1])}function x({scale:t,translate:e},i,n){return i*t[n]+e[n]}function S(t,e,i){return t?e?i?R(t):E(t):i?I(t):T(t):null}function T(t){const e=t.coords;return{x:e[0],y:e[1]}}function A(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t}function E(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2]}}function M(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t}function I(t){const e=t.coords;return{x:e[0],y:e[1],m:e[2]}}function C(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.m,t}function R(t){const e=t.coords;return{x:e[0],y:e[1],z:e[2],m:e[3]}}function N(t,e){return t.coords[0]=e.x,t.coords[1]=e.y,t.coords[2]=e.z,t.coords[3]=e.m,t}function O(t,e){return t&&e?N:t?M:e?C:A}function D(t,e,i,n,r){const s=O(i,n);for(const{geometry:o,attributes:a}of e){const e=null!=o?s(new c.A,o):null;t.push(new l.Om(e,a,null,r?a[r]:void 0))}return t}function L(t,e,i=O(null!=e.z,null!=e.m)){return i(t,e)}function P(t,e,i){if(null==t)return null;const n=f(e,i),r=[];for(let s=0;s<t.coords.length;s+=n){const e=[];for(let i=0;i<n;i++)e.push(t.coords[s+i]);r.push(e)}return e?i?{points:r,hasZ:e,hasM:i}:{points:r,hasZ:e}:i?{points:r,hasM:i}:{points:r}}function z(t,e,i,n,r){const s=f(i,n);for(const{geometry:o,attributes:a}of e){const e=null!=o?F(new c.A,o,s):null;t.push(new l.Om(e,a,null,r?a[r]:void 0))}return t}function F(t,e,i=f(e.hasZ,e.hasM)){t.lengths[0]=e.points.length;const n=t.coords;let r=0;for(const s of e.points)for(let t=0;t<i;t++)n[r++]=s[t];return t}function j(t,e,i){if(!t)return null;const n=f(e,i),{coords:r,lengths:s}=t,o=[];let a=0;for(const h of s){const t=[];for(let e=0;e<h;e++){const e=[];for(let t=0;t<n;t++)e.push(r[a++]);t.push(e)}o.push(t)}return e?i?{paths:o,hasZ:e,hasM:i}:{paths:o,hasZ:e}:i?{paths:o,hasM:i}:{paths:o}}function V(t,e,i,n,r){const s=f(i,n);for(const{geometry:o,attributes:a}of e){const e=null!=o?B(new c.A,o,s):null;t.push(new l.Om(e,a,null,r?a[r]:void 0))}return t}function B(t,e,i=f(e.hasZ,e.hasM)){const{lengths:n,coords:r}=t;let s=0;for(const o of e.paths){for(const t of o)for(let e=0;e<i;e++)r[s++]=t[e];n.push(o.length)}return t}function U(t,e,i){if(!t)return null;const n=f(e,i),{coords:r,lengths:s}=t,o=[];let a=0;for(const h of s){const t=[];for(let e=0;e<h;e++){const e=[];for(let t=0;t<n;t++)e.push(r[a++]);t.push(e)}o.push(t)}return e?i?{rings:o,hasZ:e,hasM:i}:{rings:o,hasZ:e}:i?{rings:o,hasM:i}:{rings:o}}function k(t,e,i,n,r){for(const{geometry:s,centroid:o,attributes:a}of e){const e=null!=s?G(new c.A,s,i,n):null,h=r?a[r]:void 0;null!=o?t.push(new l.Om(e,a,A(new c.A,o),h)):t.push(new l.Om(e,a,null,h))}return t}function G(t,e,i=e.hasZ,n=e.hasM){return H(t,e.rings,i,n)}function H(t,e,i,n){const r=f(i,n),{lengths:s,coords:o}=t;let a=0;pt(t);for(const h of e){for(const t of h)for(let e=0;e<r;e++)o[a++]=t[e];s.push(h.length)}return t}const q=[],Z=[];function W(t,e,i,n,r){q[0]=t;const[s]=Y(Z,q,e,i,n,r);return dt(q),dt(Z),s}function Y(t,e,i,r,s,o){if(dt(t),!i){for(const i of e){const e=o?i.attributes[o]:void 0;t.push(new l.Om(null,i.attributes,null,e))}return t}switch(i){case"esriGeometryPoint":return D(t,e,r,s,o);case"esriGeometryMultipoint":return z(t,e,r,s,o);case"esriGeometryPolyline":return V(t,e,r,s,o);case"esriGeometryPolygon":return k(t,e,r,s,o);default:p.error("convertToFeatureSet:unknown-geometry",new n.A(`Unable to parse unknown geometry type '${i}'`)),dt(t)}return t}function K(t,e,i,r,s,o){const a=t.length;switch(i){case"esriGeometryPoint":D(t,e,r,s,o);break;case"esriGeometryMultipoint":z(t,e,r,s,o);break;case"esriGeometryPolyline":V(t,e,r,s,o);break;case"esriGeometryPolygon":k(t,e,r,s,o);break;default:p.error("convertToFeatureSet:unknown-geometry",new n.A(`Unable to parse unknown geometry type '${i}'`))}for(let n=0;n<e.length;n++)t[n+a].geometryType=i,t[n+a].insertAfter=e[n].insertAfter,t[n+a].groupId=e[n].groupId;return t}function J(t,e,i,n){Z[0]=t,Q(q,Z,e,i,n);const r=q[0];return dt(q),dt(Z),r}function $(t,e,i){if(null==t)return null;const r=new c.A;return"hasZ"in t&&null==e&&(e=t.hasZ),"hasM"in t&&null==i&&(i=t.hasM),(0,h.fT)(t)?O(null!=e?e:null!=t.z,null!=i?i:null!=t.m)(r,t):(0,h.Bi)(t)?G(r,t,e,i):(0,h.Rg)(t)?B(r,t,f(e,i)):(0,h.U9)(t)?F(r,t,f(e,i)):void p.error("convertFromGeometry:unknown-geometry",new n.A(`Unable to parse unknown geometry type '${t}'`))}function X(t,e,i,r){const s=t&&("coords"in t?t:t.geometry);if(null==s)return null;switch(e){case"esriGeometryPoint":{let t=T;return i&&r?t=R:i?t=E:r&&(t=I),t(s)}case"esriGeometryMultipoint":return P(s,i,r);case"esriGeometryPolyline":return j(s,i,r);case"esriGeometryPolygon":return U(s,i,r);default:return p.error("convertToGeometry:unknown-geometry",new n.A(`Unable to parse unknown geometry type '${e}'`)),null}}function Q(t,e,i,r,s){if(dt(t),null==i)return function(t,e){for(const i of e)t.push({attributes:i.attributes});return t}(t,e);switch(i){case"esriGeometryPoint":return function(t,e,i,n){let r=T;i&&n?r=R:i?r=E:n&&(r=I);for(const s of e){const{geometry:e,attributes:i}=s,n=null!=e?r(e):null;t.push({attributes:i,geometry:n})}return t}(t,e,r,s);case"esriGeometryMultipoint":return function(t,e,i,n){for(const{geometry:r,attributes:s}of e)t.push({attributes:s,geometry:null!=r?P(r,i,n):null});return t}(t,e,r,s);case"esriGeometryPolyline":return function(t,e,i,n){for(const{geometry:r,attributes:s}of e)t.push({attributes:s,geometry:null!=r?j(r,i,n):null});return t}(t,e,r,s);case"esriGeometryPolygon":return function(t,e,i,n){for(const{geometry:r,attributes:s,centroid:o}of e){const e=null!=r?U(r,i,n):null;if(null!=o){const i=T(o);t.push({attributes:s,centroid:i,geometry:e})}else t.push({attributes:s,geometry:e})}return t}(t,e,r,s);default:p.error("convertToFeatureSet:unknown-geometry",new n.A(`Unable to parse unknown geometry type '${i}'`))}return t}function tt(t){const{objectIdFieldName:e,spatialReference:i,transform:n,fields:r,hasM:s,hasZ:o,features:a,geometryType:h,exceededTransferLimit:l,uniqueIdField:u,queryGeometry:c,queryGeometryType:f}=t,p={features:Q([],a,h,o,s),fields:r,geometryType:h,objectIdFieldName:e,spatialReference:i,uniqueIdField:u,queryGeometry:X(c,f,!1,!1)};return n&&(p.transform=n),l&&(p.exceededTransferLimit=l),s&&(p.hasM=s),o&&(p.hasZ=o),p}function et(t,e){const i=new u.A,{hasM:r,hasZ:s,features:o,objectIdFieldName:a,spatialReference:h,geometryType:l,exceededTransferLimit:c,transform:f,fields:d}=t;return d&&(i.fields=d),i.geometryType=l??null,i.objectIdFieldName=a??e??null,i.spatialReference=h??null,i.objectIdFieldName?(o&&Y(i.features,o,l,s,r,i.objectIdFieldName),c&&(i.exceededTransferLimit=c),r&&(i.hasM=r),s&&(i.hasZ=s),f&&(i.transform=f),i):(p.error(new n.A("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),i)}function it(t){const{transform:e,features:i,hasM:n,hasZ:r}=t;if(!e)return t;for(const s of i)null!=s.geometry&&lt(s.geometry,s.geometry,n,r,e),null!=s.centroid&&lt(s.centroid,s.centroid,n,r,e);return t.transform=null,t}function nt(t,e){const{geometryType:i,features:n,hasM:r,hasZ:s}=e;if(!t)return e;for(let o=0;o<n.length;o++){const e=n[o],a=e.weakClone();a.geometry=new c.A,rt(a.geometry,e.geometry,r,s,i,t),e.centroid&&(a.centroid=new c.A,rt(a.centroid,e.centroid,r,s,"esriGeometryPoint",t)),n[o]=a}return e.transform=t,e}function rt(t,e,i,n,r,s,o=i,a=n){if(pt(t),!e?.coords.length)return null;const h=d[r],{coords:l,lengths:u}=e,c=f(i,n),p=f(i&&o,n&&a),v=_(i,n,o,a);if(!u.length)return v(t.coords,l,0,0,b(s,l[0]),w(s,l[1])),pt(t,c,0),t;let g,y,m,x,S=0,T=0,A=T;for(const f of u){if(f<h)continue;let e=0;T=A,m=g=b(s,l[S]),x=y=w(s,l[S+1]),v(t.coords,l,T,S,m,x),e++,S+=c,T+=p;for(let i=1;i<f;i++,S+=c)m=b(s,l[S]),x=w(s,l[S+1]),m===g&&x===y||(v(t.coords,l,T,S,m-g,x-y),T+=p,e++,g=m,y=x);e>=h&&(t.lengths.push(e),A=T)}return dt(t.coords,A),t.coords.length?t:null}function st(t,e,i,n,r,s,o=i,a=n){if(pt(t),!e?.coords.length)return null;const h=d[r],{coords:l,lengths:u}=e,c=f(i,n),p=f(i&&o,n&&a),v=_(i,n,o,a);if(!u.length)return v(t.coords,l,0,0,l[0],l[1]),pt(t,c,0),t;let g=0;const y=s*s;for(const f of u){if(f<h){g+=f*c;continue}const e=t.coords.length/p,i=g,n=g+(f-1)*c;v(t.coords,l,t.coords.length,i,l[i],l[i+1]),at(t.coords,l,c,y,v,i,n),v(t.coords,l,t.coords.length,n,l[n],l[n+1]);const r=t.coords.length/p-e;r>=h?t.lengths.push(r):dt(t.coords,e*p),g+=f*c}return t.coords.length?t:null}function ot(t,e,i,n){const r=t[e],s=t[e+1],o=t[i],a=t[i+1],h=t[n],l=t[n+1];let u=o,c=a,f=h-u,p=l-c;if(0!==f||0!==p){const t=((r-u)*f+(s-c)*p)/(f*f+p*p);t>1?(u=h,c=l):t>0&&(u+=f*t,c+=p*t)}return f=r-u,p=s-c,f*f+p*p}function at(t,e,i,n,r,s,o){let a,h=n,l=0;for(let u=s+i;u<o;u+=i)a=ot(e,u,s,o),a>h&&(l=u,h=a);h>n&&(l-s>i&&at(t,e,i,n,r,s,l),r(t,e,t.length,l,e[l],e[l+1]),o-l>i&&at(t,e,i,n,r,l,o))}function ht(t,e,i,n){if(!e?.coords?.length)return null;const r=f(i,n);let s=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY;if(e&&e.coords){const t=e.coords;for(let e=0;e<t.length;e+=r){const i=t[e],n=t[e+1];s=Math.min(s,i),l=Math.max(l,i),h=Math.min(h,n),u=Math.max(u,n)}}return(0,o.is)(t)?(0,o.BI)(t,s,h,l,u):(0,a.fA)(s,h,l,u,t),t}function lt(t,e,i,n,r){const{coords:o,lengths:a}=e,h=f(i,n);if(!o.length)return t!==e&&pt(t),t;(0,s.Lw)(r);const{originPosition:l,scale:u,translate:c}=r,p=vt;p.originPosition=l;const d=p.scale;d[0]=u[0]??1,d[1]=-(u[1]??1),d[2]=u[2]??1,d[3]=u[3]??1;const v=p.translate;if(v[0]=c[0]??0,v[1]=c[1]??0,v[2]=c[2]??0,v[3]=c[3]??0,!a.length){for(let e=0;e<h;++e)t.coords[e]=x(p,o[e],e);return t!==e&&pt(t,h,0),t}let g=0;for(let s=0;s<a.length;s++){const e=a[s];t.lengths[s]=e;for(let r=0;r<h;++r)t.coords[g+r]=x(p,o[g+r],r);let i=t.coords[g],n=t.coords[g+1];g+=h;for(let r=1;r<e;r++,g+=h){i+=o[g]*d[0],n+=o[g+1]*d[1],t.coords[g]=i,t.coords[g+1]=n;for(let e=2;e<h;++e)t.coords[g+e]=x(p,o[g+e],e)}}return t!==e&&pt(t,o.length,a.length),t}function ut(t,e,i,n,r,s){if(pt(t),t.lengths.push(...e.lengths),i===r&&n===s)for(let o=0;o<e.coords.length;o++)t.coords.push(e.coords[o]);else{const o=f(i,n),a=_(i,n,r,s),h=e.coords;for(let e=0;e<h.length;e+=o)a(t.coords,h,t.coords.length,e,h[e],h[e+1])}return t}function ct(t,e,i,n){let r=0,s=t[n*e],o=t[n*(e+1)];for(let a=1;a<i;a++){const i=s+t[n*(e+a)],h=o+t[n*(e+a)+1],l=(i-s)*(h+o);s=i,o=h,r+=l}return.5*r}function ft(t,e){const{coords:i,lengths:n}=t;let r=0,s=0;for(let o=0;o<n.length;o++){const t=n[o];s+=ct(i,r,t,e),r+=t}return Math.abs(s)}function pt(t,e=0,i=0){dt(t.lengths,i),dt(t.coords,e)}function dt(t,e=0){t.length!==e&&(t.length=e)}const vt={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},50193:(t,e,i)=>{i.d(e,{p:()=>o});var n=i(66866),r=i(21564),s=(i(73446),i(85569),i(39831),i(63863));const o=t=>{let e=class extends t{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(t){null!=t?this._override("apiKey",t):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,n._)([(0,r.MZ)({type:String})],e.prototype,"apiKey",null),e=(0,n._)([(0,s.$)("esri.layers.mixins.APIKeyMixin")],e),e}},45681:(t,e,i)=>{i.d(e,{b:()=>h});var n=i(66866),r=i(539),s=i(21564),o=(i(73446),i(85569),i(39831),i(63863)),a=i(16123);const h=t=>{let e=class extends t{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=(0,a.qg)(this.url);if(null!=t&&t.title)return t.title}return this._get("title")||""}set title(t){this._set("title",t)}set url(t){this._set("url",(0,a.Jf)(t,r.A.getLogger(this)))}};return(0,n._)([(0,s.MZ)()],e.prototype,"title",null),(0,n._)([(0,s.MZ)({type:String})],e.prototype,"url",null),e=(0,n._)([(0,o.$)("esri.layers.mixins.ArcGISService")],e),e}},15305:(t,e,i)=>{i.d(e,{d:()=>h});var n=i(66866),r=i(21564),s=(i(73446),i(85569),i(39831),i(63863)),o=i(27664);const a={read:{reader:o.LF},write:{allowNull:!0,writer:o.M9}},h=t=>{let e=class extends t{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,n._)([(0,r.MZ)({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],e.prototype,"blendMode",void 0),(0,n._)([(0,r.MZ)({json:{read:!1,write:!1,origins:{"web-map":a,"portal-item":a}}})],e.prototype,"effect",void 0),e=(0,n._)([(0,s.$)("esri.layers.mixins.BlendLayer")],e),e}},16161:(t,e,i)=>{i.d(e,{d:()=>o});var n=i(66866),r=i(21564),s=(i(73446),i(85569),i(39831),i(63863));const o=t=>{let e=class extends t{constructor(){super(...arguments),this.customParameters=null}};return(0,n._)([(0,r.MZ)({type:Object,json:{write:{overridePolicy:t=>({enabled:!!(t&&Object.keys(t).length>0)})}}})],e.prototype,"customParameters",void 0),e=(0,n._)([(0,s.$)("esri.layers.mixins.CustomParametersMixin")],e),e}},41506:(t,e,i)=>{i.d(e,{q:()=>m});var n=i(66866),r=i(98849),s=i(20909),o=i(21564),a=(i(73446),i(85569),i(39831),i(75094)),h=i(63863),l=i(77542),u=i(73324),c=i(83312),f=i(77373);const p={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},d={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},v={ArcGISFeatureLayer:!0},g={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":p,"web-map/basemap":d,"web-map/tables":v,"link-chart/operational-layers":{...p,LinkChartLayer:!0},"link-chart/basemap":d,"link-chart/tables":v,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISImageServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0}};var y=i(84356);const m=t=>{let e=class extends t{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(t,e,i){return"Group Layer"===i?.portalItem?.type?void 0:t}writeListMode(t,e,i,n){(n&&"ground"===n.layerContainerType||t&&(0,f.R)(this,i,{},n))&&(e[i]=t)}writeOperationalLayerType(t,e,i,n){t&&"tables"!==n?.layerContainerType&&(e.layerType=t)}writeTitle(t,e){e.title=t??"Layer"}read(t,e){e&&(e.layer=this),(0,c.t)(this,t,(e=>super.read(t,e)),e)}write(t,e){if(!this.persistenceEnabled)return null;if(e?.origin){const t=`${e.origin}/${e.layerContainerType||"operational-layers"}`,i=g[t];let n=!!i?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===t&&(n=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===t&&(n=!1),!n)return e.messages?.push(new r.A("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${t}'`,{layer:this})),null}const i=super.write(t,{...e,layer:this}),n=!!e&&!!e.messages&&!!e.messages.filter((t=>t instanceof r.A&&"web-document-write:property-required"===t.name)).length;return(0,s.w8)(i?.url)?(e?.messages?.push(new r.A("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&n?null:i}beforeSave(){}};return(0,n._)([(0,o.MZ)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],e.prototype,"id",void 0),(0,n._)([(0,a.w)("id",["id"])],e.prototype,"readId",null),(0,n._)([(0,o.MZ)(y.C1)],e.prototype,"listMode",void 0),(0,n._)([(0,l.K)("listMode")],e.prototype,"writeListMode",null),(0,n._)([(0,o.MZ)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:u.K}}}}})],e.prototype,"operationalLayerType",void 0),(0,n._)([(0,l.K)("operationalLayerType")],e.prototype,"writeOperationalLayerType",null),(0,n._)([(0,o.MZ)(y.ke)],e.prototype,"opacity",void 0),(0,n._)([(0,o.MZ)({type:Boolean,readOnly:!1})],e.prototype,"persistenceEnabled",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],e.prototype,"title",void 0),(0,n._)([(0,l.K)("title"),(0,l.K)(["web-scene"],"title")],e.prototype,"writeTitle",null),(0,n._)([(0,o.MZ)({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:u.K}}},name:"visibility",write:!0}})],e.prototype,"visible",void 0),e=(0,n._)([(0,h.$)("esri.layers.mixins.OperationalLayer")],e),e}},34722:(t,e,i)=>{i.d(e,{A:()=>x});var n=i(66866),r=i(21121),s=i(28830),o=i(86394),a=i(12690),h=i(98849),l=i(539),u=i(6267),c=i(40189),f=i(20909),p=i(21564),d=(i(73446),i(85569),i(39831),i(75094)),v=i(63863),g=i(77542),y=i(40454),m=i(10282),_=i(26099),b=i(68770),w=i(39532);const x=t=>{let e=class extends t{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,u.pR)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,e,i){if(e.itemId)return new _.default({id:e.itemId,portal:i?.portal})}writePortalItem(t,e){t?.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem?.id)try{const{load:n}=await i.e(4085).then(i.bind(i,14085));return(0,c.Te)(e),await n({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(n){throw(0,c.zf)(n)||l.A.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${n}`),n}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(t).catch((t=>((0,c.QP)(t),!0))))}async setUserPrivileges(t,e){if(!r.A.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(e);if(this.url)try{const{features:{edit:i,fullEdit:n},content:{updateItem:r}}=await this._fetchUserPrivileges(t,e);this._set("userHasEditingPrivileges",i),this._set("userHasFullEditingPrivileges",n),this._set("userHasUpdateItemPrivileges",r)}catch(i){(0,c.QP)(i)}}async _fetchUserPrivileges(t,e){let i=this.portalItem;if(!t||!i||!i.loaded||i.sourceUrl)return this._fetchFallbackUserPrivileges(e);const n=t===i.id;if(n&&i.portal.user)return(0,w.It)(i);let r,o;if(n)r=i.portal.url;else try{r=await(0,y.wI)(this.url,e)}catch(u){(0,c.QP)(u)}if(!r||!(0,f.b8)(r,i.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;o=await(s.id?.getCredential(`${r}/sharing`,{prompt:!1,signal:t}))}catch(u){(0,c.QP)(u)}const a=!0,h=!1,l=!1;if(!o)return{features:{edit:a,fullEdit:h},content:{updateItem:l}};try{if(n?await i.reload():(i=new _.default({id:t,portal:{url:r}}),await i.load(e)),i.portal.user)return(0,w.It)(i)}catch(u){(0,c.QP)(u)}return{features:{edit:a,fullEdit:h},content:{updateItem:l}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(i){(0,c.QP)(i)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?s.id?.findCredential(this.url):null;if(!e)return!0;const i=S.credential===e?S.user:await this._fetchEditingUser(t);return S.credential=e,S.user=i,null==i?.privileges||i.privileges.includes("features:user:edit")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const i=s.id.findServerInfo(this.url??"");if(!i?.owningSystemUrl)return null;const n=`${i.owningSystemUrl}/sharing/rest`,r=m.A.getDefault();if(r&&r.loaded&&(0,f.S8)(r.restUrl)===(0,f.S8)(n))return r.user;const h=`${n}/community/self`,l=null!=t?t.signal:null,u=await(0,a.Ke)((0,o.A)(h,{authMode:"no-prompt",query:{f:"json"},signal:l}));return u.ok?b.A.fromJSON(u.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const i=e?.portal,n=this.portalItem?.id&&(this.portalItem.portal||m.A.getDefault());return i&&n&&!(0,f.ut)(n.restUrl,i.restUrl)?(e.messages&&e.messages.push(new h.A("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return(0,n._)([(0,p.MZ)({type:_.default})],e.prototype,"portalItem",null),(0,n._)([(0,d.w)("web-document","portalItem",["itemId"])],e.prototype,"readPortalItem",null),(0,n._)([(0,g.K)("web-document","portalItem",{itemId:{type:String}})],e.prototype,"writePortalItem",null),(0,n._)([(0,p.MZ)({clonable:!1})],e.prototype,"resourceReferences",void 0),(0,n._)([(0,p.MZ)({type:Boolean,readOnly:!0})],e.prototype,"userHasEditingPrivileges",void 0),(0,n._)([(0,p.MZ)({type:Boolean,readOnly:!0})],e.prototype,"userHasFullEditingPrivileges",void 0),(0,n._)([(0,p.MZ)({type:Boolean,readOnly:!0})],e.prototype,"userHasUpdateItemPrivileges",void 0),e=(0,n._)([(0,v.$)("esri.layers.mixins.PortalLayer")],e),e},S={credential:null,user:null}},50508:(t,e,i)=>{i.d(e,{J:()=>b});var n=i(66866),r=i(539),s=i(40189),o=i(21564),a=i(4130),h=(i(85569),i(39831),i(63863)),l=i(73324),u=i(48982),c=(i(12690),i(98849),i(39425),i(97996));const f=new u.A,p=new WeakMap;function d(t){v(t)&&f.push(new WeakRef(t))}function v(t){return null!=t&&"object"==typeof t&&"refreshInterval"in t&&"refresh"in t}function g(t,e){return Number.isFinite(t)&&Number.isFinite(e)?e<=0?t:g(e,t%e):0}let y=0,m=0;function _(){const t=Date.now();let e=!1;for(const i of f){const n=i.deref();n?n.refreshInterval&&t-(p.get(n)??0)+5>=6e4*n.refreshInterval&&(p.set(n,t),n.refresh(t)):e=!0}if(e)for(let i=f.length-1;i>=0;i--)f.at(i).deref()||f.removeAt(i)}(0,c.fm)((()=>{const t=Date.now();let e=0;for(const i of f){const n=i.deref();n&&(e=g(Math.round(6e4*n.refreshInterval),e),n.refreshInterval?p.get(n)||p.set(n,t):p.delete(n))}if(e!==m){if(m=e,clearInterval(y),0===m)return void(y=0);y=setInterval(_,m)}}));const b=t=>{let e=class extends t{constructor(...t){super(...t),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,s.sg)((()=>this.hasDataChanged())),this.when().then((()=>{this.destroyed||d(this)}),(()=>{}))}destroy(){!function(t){const e=f.find((e=>e.deref()===t));e&&f.remove(e)}(this)}castRefreshInterval(t){return t>=.1?t:t<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(t=Date.now()){(0,s.QZ)(this._debounceHasDataChanged()).then((e=>{e&&this._set("refreshTimestamp",t),this.emit("refresh",{dataChanged:e})}),(t=>{r.A.getLogger(this).error(t),this.emit("refresh",{dataChanged:!1,error:t})}))}async hasDataChanged(){return!0}get test(){const t=this;return{set refreshInterval(e){t._set("refreshInterval",e)}}}};return(0,n._)([(0,o.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:l.K}}}}})],e.prototype,"refreshInterval",void 0),(0,n._)([(0,a.w)("refreshInterval")],e.prototype,"castRefreshInterval",null),(0,n._)([(0,o.MZ)({readOnly:!0})],e.prototype,"refreshTimestamp",void 0),(0,n._)([(0,o.MZ)({readOnly:!0})],e.prototype,"refreshParameters",null),e=(0,n._)([(0,h.$)("esri.layers.mixins.RefreshableLayer")],e),e}},25389:(t,e,i)=>{i.d(e,{j:()=>o});var n=i(66866),r=i(21564),s=(i(73446),i(85569),i(39831),i(63863));const o=t=>{let e=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const t={minScale:this.minScale,maxScale:this.maxScale},e=this.parent;e&&"effectiveScaleRange"in e&&function(t,e){t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale}(t,e.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===t.minScale&&i.maxScale===t.maxScale?i:t}};return(0,n._)([(0,r.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0),(0,n._)([(0,r.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],e.prototype,"effectiveScaleRange",null),e=(0,n._)([(0,s.$)("esri.layers.mixins.ScaleRangeLayer")],e),e}},90826:(t,e,i)=>{i.d(e,{e:()=>f});var n=i(66866),r=i(19790),s=i(50019),o=i(21564),a=(i(73446),i(85569),i(39831),i(75094)),h=i(63863),l=i(42453),u=i(83849),c=i(55134);const f=t=>{let e=class extends t{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(t,e){const i=e.timeInfo.exportOptions;if(!i)return null;const n=i.timeOffset,r=c.j.fromJSON(i.timeOffsetUnits);return n&&r?new s.A({value:n,unit:r}):null}set timeInfo(t){(0,l.sv)(t,this.fieldsIndex),this._set("timeInfo",t)}};return(0,n._)([(0,o.MZ)({type:r.A,json:{write:!1}})],e.prototype,"timeExtent",void 0),(0,n._)([(0,o.MZ)({type:s.A})],e.prototype,"timeOffset",void 0),(0,n._)([(0,a.w)("service","timeOffset",["timeInfo.exportOptions"])],e.prototype,"readOffset",null),(0,n._)([(0,o.MZ)({value:null,type:u.A,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],e.prototype,"timeInfo",null),(0,n._)([(0,o.MZ)({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],e.prototype,"useViewTime",void 0),e=(0,n._)([(0,h.$)("esri.layers.mixins.TemporalLayer")],e),e}},94301:(t,e,i)=>{i.d(e,{A:()=>c});var n,r=i(66866),s=i(21877),o=i(19251),a=i(21564),h=(i(73446),i(63863)),l=i(54746);let u=n=class extends s.oY{constructor(t){super(t),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new n({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,o.o8)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"isAutoGenerated",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"alias",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"onStatisticField",void 0),(0,r._)([(0,a.MZ)({type:l.A,json:{write:!0}})],u.prototype,"onStatisticExpression",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"statisticType",void 0),u=n=(0,r._)([(0,h.$)("esri.layers.support.AggregateField")],u);const c=u},54746:(t,e,i)=>{i.d(e,{A:()=>l});var n=i(66866),r=i(24793),s=i(21877),o=i(21564),a=(i(73446),i(85569),i(39831),i(63863));let h=class extends((0,r.O)(s.oY)){constructor(t){super(t),this.expression=null,this.title=null,this.returnType=null}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"expression",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"returnType",void 0),h=(0,n._)([(0,a.$)("esri.layers.support.ExpressionInfo")],h);const l=h},76137:(t,e,i)=>{i.d(e,{A:()=>g});var n,r=i(66866),s=i(98849),o=i(21877),a=i(76724),h=i(21564),l=(i(73446),i(85569),i(39831),i(63863)),u=i(27664),c=i(25758);const f={read:{reader:u.LF},write:{writer:u.M9,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},p={read:{reader:u.LF},write:{writer:u.M9,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},d={name:"showExcludedLabels",default:!0};let v=n=class extends o.oY{constructor(t){super(t),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(t,e){const i=super.write(t,e);if(e?.origin){if(i.filter){const t=Object.keys(i.filter);if(t.length>1||"where"!==t[0])return e.messages?.push(new s.A("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}if("showExcludedLabels"in i)return e.messages?.push(new s.A("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:e.layer,effect:this})),null}return i}clone(){return new n({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,r._)([(0,h.MZ)({type:c.A,json:{write:{allowNull:!0,writer(t,e,i,n){const r=t?.write({},n);r&&0!==Object.keys(r).length?(0,a.sM)(i,r,e):(0,a.sM)(i,null,e)}}}})],v.prototype,"filter",void 0),(0,r._)([(0,h.MZ)({json:{write:!0,origins:{"web-map":f,"portal-item":f}}})],v.prototype,"includedEffect",void 0),(0,r._)([(0,h.MZ)({json:{write:!0,origins:{"web-map":p,"portal-item":p}}})],v.prototype,"excludedEffect",void 0),(0,r._)([(0,h.MZ)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":d,"portal-item":d}}})],v.prototype,"excludedLabelsVisible",void 0),v=n=(0,r._)([(0,l.$)("esri.layers.support.FeatureEffect")],v);const g=v},25758:(t,e,i)=>{i.d(e,{A:()=>g});var n,r=i(66866),s=i(17639),o=i(19790),a=i(59851),h=i(21877),l=i(19251),u=i(21564),c=(i(73446),i(63863)),f=i(14474);const p=new a.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),d=new a.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let v=n=class extends h.oY{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){const{where:e,geometry:i,spatialRelationship:n,timeExtent:r,objectIds:s,units:o,distance:a}=this;return new f.A({geometry:(0,l.o8)(i),objectIds:(0,l.o8)(s),spatialRelationship:n,timeExtent:(0,l.o8)(r),where:e,units:o,distance:a,...t})}clone(){const{where:t,geometry:e,spatialRelationship:i,timeExtent:r,objectIds:s,units:o,distance:a}=this;return new n({geometry:(0,l.o8)(e),objectIds:(0,l.o8)(s),spatialRelationship:i,timeExtent:(0,l.o8)(r),where:t,units:o,distance:a})}};(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],v.prototype,"where",void 0),(0,r._)([(0,u.MZ)({types:s.yR,json:{write:!0}})],v.prototype,"geometry",void 0),(0,r._)([(0,u.MZ)({type:p.apiValues,json:{name:"spatialRel",read:{reader:p.read},write:{allowNull:!1,writer:p.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],v.prototype,"spatialRelationship",void 0),(0,r._)([(0,u.MZ)({type:Number,json:{write:{overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],v.prototype,"distance",void 0),(0,r._)([(0,u.MZ)({type:[Number],json:{write:!0}})],v.prototype,"objectIds",void 0),(0,r._)([(0,u.MZ)({type:d.apiValues,json:{read:d.read,write:{writer:d.write,overridePolicy(t){return{enabled:null!=t&&null!=this.geometry}}}}})],v.prototype,"units",void 0),(0,r._)([(0,u.MZ)({type:o.A,json:{write:!0}})],v.prototype,"timeExtent",void 0),v=n=(0,r._)([(0,c.$)("esri.layers.support.FeatureFilter")],v);const g=v},24738:(t,e,i)=>{i.d(e,{A:()=>g});var n,r=i(66866),s=i(59851),o=i(21877),a=i(21564),h=i(73446),l=(i(85569),i(39831),i(28902)),u=i(75094),c=i(63863),f=i(38938),p=i(17930);const d=new s.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let v=n=class extends o.oY{constructor(t){super(t),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(t,{description:e}){let i=null;try{i=e?JSON.parse(e):null}catch(n){}return i?.value??null}readValueType(t,{description:e}){let i=null;try{i=e?JSON.parse(e):null}catch(n){}return i?d.fromJSON(i.fieldValueType):null}clone(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"alias",void 0),(0,r._)([(0,a.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],v.prototype,"defaultValue",void 0),(0,r._)([(0,a.MZ)()],v.prototype,"description",void 0),(0,r._)([(0,u.w)("description")],v.prototype,"readDescription",null),(0,r._)([(0,a.MZ)({types:f.gK,json:{read:{reader:f.rS},write:!0}})],v.prototype,"domain",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"editable",void 0),(0,r._)([(0,a.MZ)({type:h.jz,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],v.prototype,"length",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"name",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"nullable",void 0),(0,r._)([(0,l.e)(p.m)],v.prototype,"type",void 0),(0,r._)([(0,a.MZ)()],v.prototype,"valueType",void 0),(0,r._)([(0,u.w)("valueType",["description"])],v.prototype,"readValueType",null),(0,r._)([(0,a.MZ)({type:Boolean,json:{read:!1}})],v.prototype,"visible",void 0),v=n=(0,r._)([(0,c.$)("esri.layers.support.Field")],v);const g=v},79005:(t,e,i)=>{i.d(e,{A:()=>f});var n=i(98849),r=i(21877),s=i(539),o=i(82256),a=i(90709),h=i(42453),l=i(12129),u=i(34495);const c=new Map;class f{static fromJSON(t){return new f(t.fields,t.timeZoneByFieldName)}static fromLayer(t){return new f(t.fields??[],g(t))}static fromLayerJSON(t){return new f(t.fields??[],g(t))}constructor(t=[],e){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=t||[],this._timeZoneByFieldName=e?new Map(e):null;const i=[];for(const n of this.fields){const t=n?.name,e=d(t);if(t&&e){const r=p(t);this._fieldsMap.set(t,n),this._fieldsMap.set(r,n),this._normalizedFieldsMap.set(e,n),i.push(`${r}:${n.type}:${this._timeZoneByFieldName?.get(t)}`),(0,h.vE)(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):(0,h.WA)(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),(0,h.te)(n)||(0,h.Xz)(n)||(n.editable=null==n.editable||!!n.editable,n.nullable=null==n.nullable||!!n.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const t of this.fields)(0,h.te)(t)||(0,h.Xz)(t)||t.nullable||void 0!==(0,h.lD)(t)||this._requiredFields.push(t)}return this._requiredFields}equals(t){return this.uid===t?.uid}has(t){return null!=this.get(t)}get(t){if(!t)return;let e=this._fieldsMap.get(t);return e||(e=this._fieldsMap.get(p(t))??this._normalizedFieldsMap.get(d(t)),e&&this._fieldsMap.set(t,e),e)}getTimeZone(t){const e=this.get(t&&"string"!=typeof t?t.name:t);return e?this._timeZoneByFieldName?this._timeZoneByFieldName.get(e.name):"date"===e.type||"esriFieldTypeDate"===e.type?(s.A.getLogger("esri.layers.support.FieldsIndex").error(new n.A("getTimeZone:no-timezone-information",`no time zone information for field '${e.name}'`)),l.n$):v.has(e.type)?l.L5:null:null}getLuxonTimeZone(t){const e=this.getTimeZone(t);return e?e===l.L5?a.GB.instance:e===l.n$?u.mQ.utcInstance:(0,o.tE)(c,e,(()=>u.oh.create(e))):null}isDateField(t){return this._dateFieldsSet.has(this.get(t))}isTimeOnlyField(t){return(0,h.OH)(this.get(t))}isNumericField(t){return this._numericFieldsSet.has(this.get(t))}normalizeFieldName(t){return this.get(t)?.name??void 0}toJSON(){return{fields:this.fields.map((t=>(0,r.Wj)(t)?t.toJSON():t)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function p(t){return t.trim().toLowerCase()}function d(t){return(0,h.rS)(t)?.toLowerCase()??""}const v=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function g(t){const e=new Map;if(!t.fields)return e;const i=!0===t.datesInUnknownTimezone,{timeInfo:n,editFieldsInfo:r}=t,s=(n?"startField"in n?n.startField:n.startTimeField:"")??"",o=(n?"endField"in n?n.endField:n.endTimeField:"")??"",a=function(t){return"dateFieldsTimeZone"in t}(t)?t.dateFieldsTimeZone??null:t.dateFieldsTimeReference?(0,l.ZS)(t.dateFieldsTimeReference):null,h=r?function(t){return"timeZone"in t}(r)?r.timeZone??a:r.dateFieldsTimeReference?(0,l.ZS)(r.dateFieldsTimeReference):a??l.n$:null,u=n?function(t){return"timeZone"in t}(n)?n.timeZone??a:n.timeReference?(0,l.ZS)(n.timeReference):a:null,c=new Map([[p(r?.creationDateField??""),h],[p(r?.editDateField??""),h],[p(s),u],[p(o),u]]);for(const{name:f,type:d}of t.fields)if(v.has(d))e.set(f,l.L5);else if("date"!==d&&"esriFieldTypeDate"!==d)e.set(f,null);else if(i)e.set(f,l.L5);else{const t=c.get(p(f??""))??a;e.set(f,t)}return e}},86155:(t,e,i)=>{i.d(e,{A:()=>E});var n,r=i(66866),s=i(30822),o=i(59851),a=i(21877),h=i(19251),l=i(89882),u=i(21564),c=(i(73446),i(75094)),f=i(63863),p=i(77542),d=(i(85569),i(39831),i(74639));let v=n=class extends a.oY{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(t,e){return e.value?(0,d.mX)(e.value):t}writeExpression(t,e,i){null!=this.value&&(t=(0,d.mX)(this.value)),null!=t&&(e[i]=t)}clone(){return new n({expression:this.expression,title:this.title,value:this.value})}};(0,r._)([(0,u.MZ)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],v.prototype,"expression",void 0),(0,r._)([(0,c.w)("expression",["expression","value"])],v.prototype,"readExpression",null),(0,r._)([(0,p.K)("expression")],v.prototype,"writeExpression",null),(0,r._)([(0,u.MZ)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],v.prototype,"title",void 0),(0,r._)([(0,u.MZ)({json:{read:!1,write:!1}})],v.prototype,"value",void 0),v=n=(0,r._)([(0,f.$)("esri.layers.support.LabelExpressionInfo")],v);const g=v;var y,m=i(40454),_=i(26207),b=i(57974);const w=new o.J({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function x(t,e,i){return{enabled:!(0,m.TU)(i?.layer)}}function S(t){return!t||"service"!==t.origin&&!("map-image"===t.layer?.type)}function T(t){return!!function(t){return"map-image"===t?.type}(t)&&!!t.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let A=y=class extends a.oY{static evaluateWhere(t,e){const i=(t,e,i)=>{switch(e){case"=":return t==i;case"<>":return t!=i;case">":return t>i;case">=":return t>=i;case"<":return t<i;case"<=":return t<=i}return!1};try{if(null==t)return!0;const n=t.split(" ");if(3===n.length)return i(e[n[0]],n[1],n[2]);if(7===n.length){const t=i(e[n[0]],n[1],n[2]),r=n[3],s=i(e[n[4]],n[5],n[6]);switch(r){case"AND":return t&&s;case"OR":return t||s}}return!1}catch(n){console.log("Error.: can't parse = "+t)}}constructor(t){super(t),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=_.Hk,this.useCodedValues=void 0,this.where=null}readLabelExpression(t,e){const i=e.labelExpressionInfo;if(!i||!i.value&&!i.expression)return t}writeLabelExpression(t,e,i){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)t=(0,d.D3)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const e=(0,d.tH)(this.labelExpressionInfo.expression);e&&(t="["+e+"]")}null!=t&&(e[i]=t)}writeLabelExpressionInfo(t,e,i,n){if(null==t&&null!=this.labelExpression&&S(n))t=new g({expression:this.getLabelExpressionArcade()});else if(!t)return;const r=t.toJSON(n);r.expression&&(e[i]=r)}writeMaxScale(t,e){(t||this.minScale)&&(e.maxScale=t)}writeMinScale(t,e){(t||this.maxScale)&&(e.minScale=t)}getLabelExpression(){return(0,d.XJ)(this)}getLabelExpressionArcade(){return(0,d.BI)(this)}getLabelExpressionSingleField(){return(0,d.rU)(this)}hash(){return JSON.stringify(this)}clone(){return new y({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,h.o8)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,h.o8)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],A.prototype,"name",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:x}}}}})],A.prototype,"allowOverrun",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:x}}}}})],A.prototype,"deconflictionStrategy",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:{overridePolicy(t,e,i){return this.labelExpressionInfo&&"service"===i?.origin&&T(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],A.prototype,"labelExpression",void 0),(0,r._)([(0,c.w)("labelExpression")],A.prototype,"readLabelExpression",null),(0,r._)([(0,p.K)("labelExpression")],A.prototype,"writeLabelExpression",null),(0,r._)([(0,u.MZ)({type:g,json:{write:{overridePolicy:(t,e,i)=>function(t){return S(t)||T(t?.layer)}(i)?{allowNull:!0}:{enabled:!1}}}})],A.prototype,"labelExpressionInfo",void 0),(0,r._)([(0,p.K)("labelExpressionInfo")],A.prototype,"writeLabelExpressionInfo",null),(0,r._)([(0,u.MZ)({type:w.apiValues,json:{type:w.jsonValues,read:w.read,write:w.write}})],A.prototype,"labelPlacement",void 0),(0,r._)([(0,u.MZ)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],A.prototype,"labelPosition",void 0),(0,r._)([(0,u.MZ)({type:Number})],A.prototype,"maxScale",void 0),(0,r._)([(0,p.K)("maxScale")],A.prototype,"writeMaxScale",null),(0,r._)([(0,u.MZ)({type:Number})],A.prototype,"minScale",void 0),(0,r._)([(0,p.K)("minScale")],A.prototype,"writeMinScale",null),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:x}}}}})],A.prototype,"repeatLabel",void 0),(0,r._)([(0,u.MZ)({type:Number,cast:l.cr,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:x}}}}})],A.prototype,"repeatLabelDistance",void 0),(0,r._)([(0,u.MZ)({types:s.em,json:{origins:{"web-scene":{types:s.Rv,write:b.oO,default:null}},write:b.oO,default:null}})],A.prototype,"symbol",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],A.prototype,"useCodedValues",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],A.prototype,"where",void 0),A=y=(0,r._)([(0,f.$)("esri.layers.support.LabelClass")],A);const E=A},83849:(t,e,i)=>{i.d(e,{A:()=>v});var n=i(66866),r=i(19790),s=i(50019),o=i(24793),a=i(21877),h=i(21564),l=(i(73446),i(85569),i(39831),i(75094)),u=i(63863),c=i(77542),f=i(12129);function p(t,e){return s.A.fromJSON({value:t,unit:e})}let d=class extends((0,o.O)(a.oY)){constructor(t){super(t),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(t,e){if(!e.timeExtent||!Array.isArray(e.timeExtent)||2!==e.timeExtent.length)return null;const i=new Date(e.timeExtent[0]),n=new Date(e.timeExtent[1]);return new r.A({start:i,end:n})}writeFullTimeExtent(t,e){null!=t?.start&&null!=t.end?e.timeExtent=[t.start.getTime(),t.end.getTime()]:e.timeExtent=null}readInterval(t,e){return e.timeInterval&&e.timeIntervalUnits?p(e.timeInterval,e.timeIntervalUnits):e.defaultTimeInterval&&e.defaultTimeIntervalUnits?p(e.defaultTimeInterval,e.defaultTimeIntervalUnits):null}writeInterval(t,e){e.timeInterval=t?.toJSON().value??null,e.timeIntervalUnits=t?.toJSON().unit??null}};(0,n._)([(0,h.MZ)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],d.prototype,"cumulative",void 0),(0,n._)([(0,h.MZ)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"endField",void 0),(0,n._)([(0,h.MZ)({type:r.A,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"fullTimeExtent",void 0),(0,n._)([(0,l.w)("fullTimeExtent",["timeExtent"])],d.prototype,"readFullTimeExtent",null),(0,n._)([(0,c.K)("fullTimeExtent")],d.prototype,"writeFullTimeExtent",null),(0,n._)([(0,h.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"hasLiveData",void 0),(0,n._)([(0,h.MZ)({type:s.A,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"interval",void 0),(0,n._)([(0,l.w)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],d.prototype,"readInterval",null),(0,n._)([(0,c.K)("interval")],d.prototype,"writeInterval",null),(0,n._)([(0,h.MZ)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"startField",void 0),(0,n._)([(0,h.MZ)((0,f.P6)("timeReference",!0))],d.prototype,"timeZone",void 0),(0,n._)([(0,h.MZ)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"trackIdField",void 0),(0,n._)([(0,h.MZ)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],d.prototype,"useTime",void 0),d=(0,n._)([(0,u.$)("esri.layers.support.TimeInfo")],d);const v=d},84356:(t,e,i)=>{i.d(e,{ui:()=>w,Yj:()=>g,id:()=>S,kF:()=>p,fV:()=>v,C1:()=>E,hG:()=>A,hn:()=>T,ke:()=>_,Ih:()=>b,M6:()=>f,Qo:()=>y,Fm:()=>x,PY:()=>c,OZ:()=>d});var n=i(19790),r=i(73324),s=i(84698),o=i(78983),a=i(63680),h=(i(85569),i(46437));var l=i(60973),u=i(48904);const c={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:r.K}}},f={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(t,e)=>!e.disablePopup},write:{enabled:!0,writer(t,e,i){e[i]=!t}}}},p={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:r.K}}},d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:a.w}}},v={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:r.K}}},g={value:null,type:l.A,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:r.K}}};function y(t){return{type:t,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const m={write:{enabled:!0,layerContainerTypes:r.K},read:!0},_={type:Number,json:{origins:{"web-document":m,"portal-item":{write:!0}}}},b={..._,json:{..._.json,origins:{"web-document":{...m,write:{enabled:!0,layerContainerTypes:r.K,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(t,e,i)=>i&&"service"!==i.origin||!e.drawingInfo||void 0===e.drawingInfo.transparency?e.layerDefinition?.drawingInfo&&void 0!==e.layerDefinition.drawingInfo.transparency?(0,u.D)(e.layerDefinition.drawingInfo.transparency):void 0:(0,u.D)(e.drawingInfo.transparency)}}},w={type:n.A,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:t,timeOffset:e,useViewTime:i}=this.layer,r=this.view?.timeExtent;let s=this.layer.timeExtent;t&&(s=function(t){if(!t)return t;const{start:e,end:i}=t;return new n.A({start:null!=e?(0,h.S1)(e,e.getTimezoneOffset(),"minutes"):e,end:null!=i?(0,h.S1)(i,i.getTimezoneOffset(),"minutes"):i})}(s));let o=i?r&&s?r.intersection(s):r||s:s;if(!o||o.isEmpty||o.isAllTime)return o;e&&(o=o.offset(-e.value,e.unit)),t&&(o=function(t){if(!t)return t;const{start:e,end:i}=t;return new n.A({start:null!=e?(0,h.S1)(e,-e.getTimezoneOffset(),"minutes"):e,end:null!=i?(0,h.S1)(i,-i.getTimezoneOffset(),"minutes"):i})}(o));const a=this._get("timeExtent");return o.equals(a)?a:o}},x={type:s.A,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(t,e)=>{const i=s.A.fromJSON(t);return null!=e.spatialReference&&"object"==typeof e.spatialReference&&(i.spatialReference=o.A.fromJSON(e.spatialReference)),i}}}},read:!1}},S={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},T={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:r.K}}},name:"layerDefinition.minScale",write:!0}},A={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:r.K}}},name:"layerDefinition.maxScale",write:!0}},E={json:{write:{ignoreOrigin:!0,layerContainerTypes:r.K},origins:{"web-map":{read:!1,write:!1}}}}},38938:(t,e,i)=>{i.d(e,{rS:()=>T,gK:()=>S});i(39831);var n,r=i(66866),s=i(19251),o=i(21564),a=(i(73446),i(28902)),h=i(63863),l=i(21877);i(85569);let u=n=class extends l.oY{constructor(t){super(t),this.name=null,this.code=null}clone(){return new n({name:this.name,code:this.code})}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,r._)([(0,o.MZ)({type:[String,Number],json:{write:!0}})],u.prototype,"code",void 0),u=n=(0,r._)([(0,h.$)("esri.layers.support.CodedValue")],u);const c=new(i(59851).J)({inherited:"inherited",codedValue:"coded-value",range:"range"});let f=class extends l.oY{constructor(t){super(t),this.name=null,this.type=null}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],f.prototype,"name",void 0),(0,r._)([(0,a.e)(c)],f.prototype,"type",void 0),f=(0,r._)([(0,h.$)("esri.layers.support.Domain")],f);const p=f;var d;let v=d=class extends p{constructor(t){super(t),this.codedValues=null,this.type="coded-value"}getName(t){let e=null;if(this.codedValues){const i=String(t);this.codedValues.some((t=>(String(t.code)===i&&(e=t.name),!!e)))}return e}clone(){return new d({codedValues:(0,s.o8)(this.codedValues),name:this.name})}};(0,r._)([(0,o.MZ)({type:[u],json:{write:!0}})],v.prototype,"codedValues",void 0),(0,r._)([(0,a.e)({codedValue:"coded-value"})],v.prototype,"type",void 0),v=d=(0,r._)([(0,h.$)("esri.layers.support.CodedValueDomain")],v);const g=v;var y;i(539),i(98849);let m=y=class extends p{constructor(t){super(t),this.type="inherited"}clone(){return new y}};(0,r._)([(0,a.e)({inherited:"inherited"})],m.prototype,"type",void 0),m=y=(0,r._)([(0,h.$)("esri.layers.support.InheritedDomain")],m);const _=m;var b;let w=b=class extends p{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new b({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,r._)([(0,o.MZ)({json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]}}}})],w.prototype,"maxValue",void 0),(0,r._)([(0,o.MZ)({json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range?.[0]},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]}}}})],w.prototype,"minValue",void 0),(0,r._)([(0,a.e)({range:"range"})],w.prototype,"type",void 0),w=b=(0,r._)([(0,h.$)("esri.layers.support.RangeDomain")],w);const x=w,S={key:"type",base:p,typeMap:{range:w,"coded-value":g,inherited:_}};function T(t){if(!t?.type)return null;switch(t.type){case"range":return x.fromJSON(t);case"codedValue":return g.fromJSON(t);case"inherited":return _.fromJSON(t)}return null}},77567:(t,e,i)=>{i.d(e,{p:()=>h});var n=i(39831),r=i(539),s=i(24738),o=i(79005),a=i(42453);function h(){return{fields:{type:[s.A],value:null,set:function(t){if(t&&(0,n.A)("big-integer-warning-enabled")){const e=t.filter((t=>"big-integer"===t.type||"oid"===t.type&&(t.length||0)>=8));if(e.length){const t=e.map((t=>`'${t.name}'`)).join(", ");r.A.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${t}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",t)}},fieldsIndex:{readOnly:!0,get(){return o.A.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(t){this._userOutFields=t,this.notifyChange("outFields")},get:function(){const t=this._userOutFields;if(!t?.length)return null;if(t.includes("*"))return["*"];if(!this.fields)return t;for(const e of t){const i=this.fieldsIndex?.has(e);i||r.A.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${e} found in outFields`,{layer:this,outFields:t})}return(0,a.DB)(this.fieldsIndex,t)}}}}},17930:(t,e,i)=>{i.d(e,{m:()=>n});const n=new(i(59851).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},74639:(t,e,i)=>{i.d(e,{BI:()=>v,D3:()=>p,XJ:()=>d,mX:()=>y,rU:()=>g,tH:()=>x});var n=i(96274);const r="__begin__",s="__end__",o=new RegExp(r,"ig"),a=new RegExp(s,"ig"),h=new RegExp("^"+r,"i"),l=new RegExp(s+"$","i"),u='"',c=u+" + ",f=" + "+u;function p(t){return t.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function d(t){const e={expression:"",type:"none"};return t.labelExpressionInfo?t.labelExpressionInfo.value?(e.expression=t.labelExpressionInfo.value,e.type="conventional"):t.labelExpressionInfo.expression&&(e.expression=t.labelExpressionInfo.expression,e.type="arcade"):null!=t.labelExpression&&(e.expression=function(t){return t.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}(t.labelExpression),e.type="conventional"),e}function v(t){const e=d(t);if(!e)return null;switch(e.type){case"conventional":return y(e.expression);case"arcade":return e.expression}return null}function g(t){const e=d(t);if(!e)return null;switch(e.type){case"conventional":return function(t){const e=t?.match(m);return e?.[1].trim()||null}(e.expression);case"arcade":return x(e.expression)}return null}function y(t){let e;return t?(e=(0,n.HC)(t,(t=>r+'$feature["'+t+'"]'+s)),e=h.test(e)?e.replace(h,""):u+e,e=l.test(e)?e.replace(l,""):e+u,e=e.replaceAll(o,c).replaceAll(a,f)):e='""',e}const m=/^\s*\{([^}]+)\}\s*$/i;const _=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,w=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function x(t){if(!t)return null;let e=_.exec(t)||b.exec(t);return e?e[1]||e[3]:(e=w.exec(t),e?e[2]:null)}},79682:(t,e,i)=>{i.d(e,{w:()=>l,z:()=>c});var n=i(98849),r=i(19251),s=i(539),o=i(86155);const a=s.A.getLogger("esri.layers.support.labelingInfo"),h=/\[([^\[\]]+)\]/gi;function l(t,e,i){return t?t.map((t=>{const n=new o.A;if(n.read(t,i),n.labelExpression){const t=e.fields||e.layerDefinition?.fields||this.fields;n.labelExpression=n.labelExpression.replaceAll(h,((e,i)=>`[${function(t,e){if(!e)return t;const i=t.toLowerCase();for(let n=0;n<e.length;n++){const t=e[n].name;if(t.toLowerCase()===i)return t}return t}(i,t)}]`))}return n})):null}const u={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function c(t,e){const i=(0,r.o8)(t);return i.some((t=>function(t,e){const i=t.labelPlacement,r=u[e];if(!t.symbol)return a.warn("No ILabelClass symbol specified."),!0;if(!r)return a.error(new n.A("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${e}' is not supported`)),!0;if(!r.includes(i)){const n=r[0];i&&a.warn(`Found invalid label placement type ${i} for ${e}. Defaulting to ${n}`),t.labelPlacement=n}return!1}(t,e)))?[]:i}},44360:(t,e,i)=>{i.d(e,{L:()=>O});var n,r=i(66866),s=i(59851),o=i(21877),a=i(21564),h=i(4130),l=i(28902),u=i(75094),c=i(63863),f=i(73446),p=i(61985),d=i(24738),v=i(30750),g=(i(17639),i(85569),i(39831),i(78983)),y=i(12433);let m=n=class extends o.oY{constructor(t){super(t),this.type="query-table"}clone(){const{workspaceId:t,query:e,oidFields:i,spatialReference:r,geometryType:s}=this,o={workspaceId:t,query:e,oidFields:i,spatialReference:r?.clone()??void 0,geometryType:s};return new n(o)}};var _;(0,r._)([(0,l.e)({queryTable:"query-table"})],m.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"workspaceId",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"query",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"oidFields",void 0),(0,r._)([(0,a.MZ)({type:g.A,json:{write:!0}})],m.prototype,"spatialReference",void 0),(0,r._)([(0,l.e)(y.g)],m.prototype,"geometryType",void 0),m=n=(0,r._)([(0,c.$)("esri.layers.support.source.QueryTableDataSource")],m);let b=_=class extends o.oY{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new _({workspaceId:t,dataSourceName:e})}};var w;(0,r._)([(0,l.e)({raster:"raster"})],b.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],b.prototype,"dataSourceName",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],b.prototype,"workspaceId",void 0),b=_=(0,r._)([(0,c.$)("esri.layers.support.source.RasterDataSource")],b);let x=w=class extends o.oY{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new w({workspaceId:t,gdbVersion:e,dataSourceName:i})}};var S,T;(0,r._)([(0,l.e)({table:"table"})],x.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"workspaceId",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"gdbVersion",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],x.prototype,"dataSourceName",void 0),x=w=(0,r._)([(0,c.$)("esri.layers.support.source.TableDataSource")],x);const A=(0,s.O)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let E=S=class extends o.oY{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return I()(t,e,i)}castLeftTableSource(t){return(0,f.aq)(R(),t)}readRightTableSource(t,e,i){return I()(t,e,i)}castRightTableSource(t){return(0,f.aq)(R(),t)}clone(){const{leftTableKey:t,rightTableKey:e,leftTableSource:i,rightTableSource:n,joinType:r}=this,s={leftTableKey:t,rightTableKey:e,leftTableSource:i?.clone()??void 0,rightTableSource:n?.clone()??void 0,joinType:r};return new S(s)}};(0,r._)([(0,l.e)({joinTable:"join-table"})],E.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],E.prototype,"leftTableKey",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],E.prototype,"rightTableKey",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],E.prototype,"leftTableSource",void 0),(0,r._)([(0,u.w)("leftTableSource")],E.prototype,"readLeftTableSource",null),(0,r._)([(0,h.w)("leftTableSource")],E.prototype,"castLeftTableSource",null),(0,r._)([(0,a.MZ)({json:{write:!0}})],E.prototype,"rightTableSource",void 0),(0,r._)([(0,u.w)("rightTableSource")],E.prototype,"readRightTableSource",null),(0,r._)([(0,h.w)("rightTableSource")],E.prototype,"castRightTableSource",null),(0,r._)([(0,l.e)(A)],E.prototype,"joinType",void 0),E=S=(0,r._)([(0,c.$)("esri.layers.support.source.JoinTableDataSource")],E);let M=null;function I(){return M||(M=(0,p.C)({types:R()})),M}let C=null;function R(){return C||(C={key:"type",base:null,typeMap:{"data-layer":O,"map-layer":v.f}}),C}const N={key:"type",base:null,typeMap:{"join-table":E,"query-table":m,raster:b,table:x}};let O=T=class extends o.oY{constructor(t){super(t),this.type="data-layer"}clone(){const{fields:t,dataSource:e}=this;return new T({fields:t,dataSource:e})}};(0,r._)([(0,l.e)({dataLayer:"data-layer"})],O.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:[d.A],json:{write:!0}})],O.prototype,"fields",void 0),(0,r._)([(0,a.MZ)({types:N,json:{write:!0}})],O.prototype,"dataSource",void 0),O=T=(0,r._)([(0,c.$)("esri.layers.support.source.DataLayerSource")],O),O.from=(0,f.dp)(O)},30750:(t,e,i)=>{i.d(e,{f:()=>u});var n,r=i(66866),s=i(21877),o=i(21564),a=i(73446),h=(i(85569),i(39831),i(28902)),l=i(63863);let u=n=class extends s.oY{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new n({mapLayerId:t,gdbVersion:e})}};(0,r._)([(0,h.e)({mapLayer:"map-layer"})],u.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:a.jz,json:{write:!0}})],u.prototype,"mapLayerId",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=n=(0,r._)([(0,l.$)("esri.layers.support.source.MapLayerSource")],u)},39532:(t,e,i)=>{i.d(e,{Ce:()=>c,It:()=>f,LG:()=>o,OM:()=>l,Y:()=>a,bK:()=>h,sQ:()=>u});var n=i(97303),r=i(78983),s=i(96082);function o(t,e){if(!a(t,e)){const i=t.typeKeywords;i?i.push(e):t.typeKeywords=[e]}}function a(t,e){return!!t.typeKeywords?.includes(e)}function h(t){return a(t,c.HOSTED_SERVICE)}function l(t,e){const i=t.typeKeywords;if(i){const t=i.indexOf(e);t>-1&&i.splice(t,1)}}async function u(t){const e=t.clone().normalize();let i;if(e.length>1)for(const n of e)i?n.width>i.width&&(i=n):i=n;else i=e[0];return async function(t){const e=t.spatialReference;if(e.isWGS84)return t.clone();if(e.isWebMercator)return(0,s.ci)(t);const i=r.A.WGS84;return await(0,n.initializeProjection)(e,i),(0,n.project)(t,i)}(i)}const c={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};function f(t){const{portal:e,isOrgItem:i,itemControl:n}=t,r=e.user?.privileges;let s=!r||r.includes("features:user:edit"),o=!!i&&!!r?.includes("features:user:fullEdit");const a="update"===n||"admin"===n;return a?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:a}}}},55134:(t,e,i)=>{i.d(e,{j:()=>n});const n=(0,i(59851).O)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0})},17671:(t,e,i)=>{i.d(e,{A:()=>I});var n,r=i(66866),s=i(30822),o=i(59851),a=i(19251),h=i(539),l=i(21564),u=i(4130),c=i(28902),f=i(75094),p=i(63863),d=i(77542),v=i(73446),g=i(42453),y=i(76589),m=i(63501),_=i(87729),b=i(16758),w=i(38785),x=i(28965);const S="percent-of-total",T="field",A=new o.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:S,esriNormalizeByField:T}),E=(0,v.dp)(_.A);let M=n=class extends((0,m.h)(y.A)){constructor(t){super(t),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(t,e,i){if(!Array.isArray(t))return;let n=e.minValue;return t.map((t=>{const e=new _.A;return e.read(t,i),null==e.minValue&&(e.minValue=n),null==e.maxValue&&(e.maxValue=e.minValue),n=e.maxValue,e}))}writeClassBreakInfos(t,e,i,n){const r=t.map((t=>t.write({},n)));this._areClassBreaksConsecutive()&&r.forEach((t=>delete t.classMinValue)),e[i]=r}castField(t){return null==t?t:"function"==typeof t?(h.A.getLogger(this).error(".field: field must be a string value"),null):(0,v.GX)(t)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let t=this._get("normalizationType");const e=!!this.normalizationField,i=null!=this.normalizationTotal;return e||i?(t=e&&T||i&&S||null,e&&i&&h.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):t!==T&&t!==S||(t=null),t}set normalizationType(t){this._set("normalizationType",t)}addClassBreakInfo(t,e,i){let n=null;n="number"==typeof t?new _.A({minValue:t,maxValue:e,symbol:(0,s.dp)(i)}):E((0,a.o8)(t)),this.classBreakInfos.push(n),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(t,e){const i=this.classBreakInfos.length;for(let n=0;n<i;n++){const i=[this.classBreakInfos[n].minValue,this.classBreakInfos[n].maxValue];if(i[0]===t&&i[1]===e){this.classBreakInfos.splice(n,1);break}}}getBreakIndex(t,e){return this.valueExpression&&null==e?.arcade&&h.A.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(t,e):this._getBreakIndexForField(t)}async getClassBreakInfo(t,e){let i=e;this.valueExpression&&null==e?.arcade&&(i={...i,arcade:await(0,x.lw)()});const n=this.getBreakIndex(t,i);return-1!==n?this.classBreakInfos[n]:null}getSymbol(t,e){if(this.valueExpression&&null==e?.arcade)return void h.A.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(t,e);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&null==e?.arcade){const t=await(0,x.lw)(),{arcadeUtils:e}=t;e.hasGeometryOperations(this.valueExpression)&&await e.enableGeometryOperations(),i={...i,arcade:t}}const n=this.getBreakIndex(t,i);return n>-1?this.classBreakInfos[n].symbol:this.defaultSymbol}getSymbols(){const t=[];return this.classBreakInfos.forEach((e=>{e.symbol&&t.push(e.symbol)})),this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((t,e)=>t+e.getAttributeHash()),"")}getMeshHash(){const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${t}.${e}.${this.classBreakInfos.reduce(((t,e)=>t+e.getMeshHash()),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new n({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,a.o8)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,a.o8)(this.visualVariables),legendOptions:(0,a.o8)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.getSymbols().map((i=>i.collectRequiredFields(t,e))),(0,g.Dx)(t,e,this.valueExpression)];(0,g.rq)(t,e,this.field),(0,g.rq)(t,e,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(t,e){const{viewingMode:i,scale:n,spatialReference:r,arcade:s,timeZone:o}=e??{},{valueExpression:a}=this;let h=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const l=s.arcadeUtils;if(!h){const t=l.createSyntaxTree(a);h=l.createFunction(t),this._compiledValueExpression.compiledFunction=h}this._compiledValueExpression.valueExpression=a;const u=l.executeFunction(h,l.createExecContext(t,l.getViewInfo({viewingMode:i,scale:n,spatialReference:r}),o));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(t){const e=this.field,i=t.attributes,n=this.normalizationType;let r=parseFloat(i[e]);if(n){const t=this.normalizationTotal,e=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if("log"===n)r=Math.log(r)*Math.LOG10E;else if(n!==S||null==t||isNaN(t)){if(n===T&&!isNaN(e)){if(isNaN(r)||isNaN(e))return-1;r/=e}}else r=r/t*100}return this._getBreakIndexfromInfos(r)}_getBreakIndexfromInfos(t){const e=this.isMaxInclusive;if(null!=t&&"number"==typeof t&&!isNaN(t))for(let i=0;i<this.classBreakInfos.length;i++){const n=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(n[0]<=t&&(e?t<=n[1]:t<n[1]))return i}return-1}_areClassBreaksConsecutive(){const t=this.classBreakInfos,e=t.length;for(let i=1;i<e;i++)if(t[i-1].maxValue!==t[i].minValue)return!1;return!0}};(0,r._)([(0,l.MZ)(b.As)],M.prototype,"backgroundFillSymbol",void 0),(0,r._)([(0,l.MZ)({type:[_.A]})],M.prototype,"classBreakInfos",void 0),(0,r._)([(0,f.w)("classBreakInfos")],M.prototype,"readClassBreakInfos",null),(0,r._)([(0,d.K)("classBreakInfos")],M.prototype,"writeClassBreakInfos",null),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],M.prototype,"defaultLabel",void 0),(0,r._)([(0,l.MZ)(b.z4)],M.prototype,"defaultSymbol",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],M.prototype,"field",void 0),(0,r._)([(0,u.w)("field")],M.prototype,"castField",null),(0,r._)([(0,l.MZ)({type:Boolean})],M.prototype,"isMaxInclusive",void 0),(0,r._)([(0,l.MZ)({type:w.q,json:{write:!0}})],M.prototype,"legendOptions",void 0),(0,r._)([(0,l.MZ)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],M.prototype,"minValue",null),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],M.prototype,"normalizationField",void 0),(0,r._)([(0,l.MZ)({type:Number,cast:t=>(0,v.GB)(t),json:{write:!0}})],M.prototype,"normalizationTotal",void 0),(0,r._)([(0,l.MZ)({type:A.apiValues,value:null,json:{type:A.jsonValues,read:A.read,write:A.write}})],M.prototype,"normalizationType",null),(0,r._)([(0,c.e)({classBreaks:"class-breaks"})],M.prototype,"type",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],M.prototype,"valueExpression",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],M.prototype,"valueExpressionTitle",void 0),M=n=(0,r._)([(0,p.$)("esri.renderers.ClassBreaksRenderer")],M);const I=M},84685:(t,e,i)=>{i.d(e,{A:()=>d});var n,r=i(66866),s=i(19251),o=i(21564),a=(i(73446),i(63863)),h=i(77542),l=i(42453),u=i(76589),c=i(63501),f=i(57081);let p=n=class extends((0,c.h)(u.A)){constructor(t){super(t),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new f.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(t,e){t&&(e.scalingExpressionInfo={expression:t,returnType:"number"})}writeVisualVariables(t,e,i,n){n?.origin||super.writeVisualVariables(t,e,i,n)}clone(){return new n({config:(0,s.o8)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,s.o8)(this.fieldMap),url:(0,s.o8)(this.url),visualVariables:(0,s.o8)(this.visualVariables)})}async getSymbolAsync(t,e){return this._loader.getSymbolAsync(t,e)}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e),this.scaleExpression&&await(0,l.Dx)(t,e,this.scaleExpression);for(const i in this.fieldMap){const n=this.fieldMap[i];e.has(n)&&t.add(n)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((t,e)=>t+e.getAttributeHash()),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};(0,r._)([(0,o.MZ)({type:f.DictionaryLoader})],p.prototype,"_loader",null),(0,r._)([(0,o.MZ)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],p.prototype,"config",void 0),(0,r._)([(0,o.MZ)({type:Object,json:{write:!0}})],p.prototype,"fieldMap",void 0),(0,r._)([(0,o.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],p.prototype,"scaleExpression",void 0),(0,r._)([(0,h.K)("scaleExpression")],p.prototype,"writeData",null),(0,r._)([(0,o.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(t){return{enabled:!!t&&!!this.scaleExpression}}}}})],p.prototype,"scaleExpressionTitle",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"url",void 0),(0,r._)([(0,h.K)("visualVariables")],p.prototype,"writeVisualVariables",null),p=n=(0,r._)([(0,a.$)("esri.renderers.DictionaryRenderer")],p);const d=p},20299:(t,e,i)=>{i.d(e,{A:()=>w});var n,r=i(66866),s=i(96220),o=i(19251),a=i(21564),h=(i(73446),i(28902)),l=i(63863),u=i(42453),c=i(76589),f=i(63501),p=i(93101),d=i(21877);i(85569),i(39831);let v=n=class extends d.oY{constructor(){super(...arguments),this.unit=null}clone(){return new n({unit:this.unit})}};(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],v.prototype,"unit",void 0),v=n=(0,r._)([(0,l.$)("esri.renderers.support.DotDensityLegendOptions")],v);const g=v;var y,m=i(68882),_=i(40241);let b=y=class extends((0,f.h)(c.A)){constructor(t){super(t),this.attributes=null,this.backgroundColor=new s.A([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new _.A,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(t){if(null==this.referenceScale)return this.dotValue;const e=t/this.referenceScale*this.dotValue;return e<1?1:e}getSymbol(){return new m.A({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce(((t,e)=>t+e.getAttributeHash()),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new y({attributes:(0,o.o8)(this.attributes),backgroundColor:(0,o.o8)(this.backgroundColor),dotBlendingEnabled:(0,o.o8)(this.dotBlendingEnabled),dotShape:(0,o.o8)(this.dotShape),dotSize:(0,o.o8)(this.dotSize),dotValue:(0,o.o8)(this.dotValue),legendOptions:(0,o.o8)(this.legendOptions),outline:(0,o.o8)(this.outline),referenceScale:(0,o.o8)(this.referenceScale),visualVariables:(0,o.o8)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){const t=this.attributes?.map((t=>t.field||t.valueExpression||""));return`${t}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e);for(const i of this.attributes??[])i.valueExpression&&await(0,u.Dx)(t,e,i.valueExpression),i.field&&t.add(i.field)}};(0,r._)([(0,a.MZ)({type:[p.A],json:{write:!0}})],b.prototype,"attributes",void 0),(0,r._)([(0,a.MZ)({type:s.A,json:{write:!0}})],b.prototype,"backgroundColor",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],b.prototype,"dotBlendingEnabled",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!1}})],b.prototype,"dotShape",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],b.prototype,"dotSize",void 0),(0,r._)([(0,a.MZ)({type:g,json:{write:!0}})],b.prototype,"legendOptions",void 0),(0,r._)([(0,a.MZ)({type:_.A,json:{default:null,write:!0}})],b.prototype,"outline",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],b.prototype,"dotValue",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],b.prototype,"referenceScale",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],b.prototype,"seed",void 0),(0,r._)([(0,h.e)({dotDensity:"dot-density"})],b.prototype,"type",void 0),b=y=(0,r._)([(0,l.$)("esri.renderers.DotDensityRenderer")],b);const w=b},25498:(t,e,i)=>{i.d(e,{A:()=>I});var n=i(66866),r=i(96220),s=(i(30822),i(50220)),o=i(19251),a=i(539),h=i(61449),l=i(89882),u=i(21564),c=(i(73446),i(55135)),f=i(28902),p=i(63863),d=i(42453),v=i(76589),g=i(20699),y=i(50769),m=i(24793),_=i(21877);i(85569),i(39831);let b=class extends((0,m.O)(_.oY)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],b.prototype,"minLabel",void 0),(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],b.prototype,"maxLabel",void 0),(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],b.prototype,"title",void 0),b=(0,n._)([(0,p.$)("esri.renderers.support.HeatmapLegendOptions")],b);var w,x=i(27927),S=i(23369);const T="esri.renderers.HeatmapRenderer",A=a.A.getLogger(T);function E(t){if(null!=t){const{maxDensity:e,minDensity:i,radius:n}=t;if(null!=e||null!=i||null!=n){const{blurRadius:e,maxPixelIntensity:i,minPixelIntensity:n,...r}=t;return r}}return t}let M=w=class extends v.A{constructor(t){super(t),this.authoringInfo=null,this.colorStops=[new y.A({ratio:0,color:new r.A("rgba(255, 140, 0, 0)")}),new y.A({ratio:.75,color:new r.A("rgba(255, 140, 0, 1)")}),new y.A({ratio:.9,color:new r.A("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(t){return E(t)}get blurRadius(){return(0,x.PU)(this.radius)}set blurRadius(t){const e=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",(0,x.zp)(t)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",e*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(t){this._set("maxDensity",t*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(t){this._set("minDensity",t*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(x.ex**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(t,e){this._warnedProps[t]||"user"===(0,c.oY)(this).getDefaultOrigin()&&(this._warnedProps[t]=!0,(0,h._)((()=>{(0,s.Lx)(A,t,{replacement:`${String(e)} (suggested value: ${this._get(e)})`,version:"4.24"})})))}read(t,e){t=E(t),super.read(t,e)}getSymbol(){return new S.A}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(t,e){const i=this.field,n=this.valueExpression;i&&"string"==typeof i&&(0,d.rq)(t,e,i),n&&"string"==typeof n&&await(0,d.Dx)(t,e,n)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new w({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,o.o8)(this.colorStops),field:this.field,legendOptions:(0,o.o8)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,n._)([(0,u.MZ)({type:g.A,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],M.prototype,"authoringInfo",void 0),(0,n._)([(0,u.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],M.prototype,"blurRadius",null),(0,n._)([(0,u.MZ)({type:[y.A],json:{write:!0}})],M.prototype,"colorStops",void 0),(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],M.prototype,"field",void 0),(0,n._)([(0,u.MZ)({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:null==i})},origins:{"web-scene":{write:!1}}}})],M.prototype,"fieldOffset",void 0),(0,n._)([(0,u.MZ)({type:b,json:{write:!0}})],M.prototype,"legendOptions",void 0),(0,n._)([(0,u.MZ)({type:Number,json:{write:!0}})],M.prototype,"maxDensity",void 0),(0,n._)([(0,u.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],M.prototype,"maxPixelIntensity",null),(0,n._)([(0,u.MZ)({type:Number,json:{write:!0}})],M.prototype,"minDensity",void 0),(0,n._)([(0,u.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],M.prototype,"minPixelIntensity",null),(0,n._)([(0,u.MZ)({type:Number,cast:l.cr,json:{write:!0}})],M.prototype,"radius",void 0),(0,n._)([(0,u.MZ)({type:Number,range:{min:0},json:{default:0,write:!0}})],M.prototype,"referenceScale",void 0),(0,n._)([(0,f.e)({heatmap:"heatmap"})],M.prototype,"type",void 0),(0,n._)([(0,u.MZ)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],M.prototype,"valueExpression",void 0),(0,n._)([(0,u.MZ)({type:String})],M.prototype,"valueExpressionTitle",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],M.prototype,"_pixelIntensityToDensity",null),M=w=(0,n._)([(0,p.$)(T)],M);const I=M},79300:(t,e,i)=>{i.d(e,{A:()=>x});var n=i(66866),r=i(96220),s=(i(30822),i(85569)),o=i(24793),a=i(89882),h=i(21564),l=(i(73446),i(39831),i(28902)),u=i(63863),c=i(42453),f=i(76589),p=i(63501),d=i(93101),v=i(21877);let g=class extends((0,o.O)(v.oY)){constructor(){super(...arguments),this.color=new r.A([0,0,0,0]),this.label=null,this.threshold=0}};(0,n._)([(0,h.MZ)({type:r.A,json:{write:!0}})],g.prototype,"color",void 0),(0,n._)([(0,h.MZ)({type:String,json:{write:!0}})],g.prototype,"label",void 0),(0,n._)([(0,h.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],g.prototype,"threshold",void 0),g=(0,n._)([(0,u.$)("esri.renderers.support.OthersCategory")],g);let y=class extends((0,o.O)(v.oY)){constructor(){super(...arguments),this.title=null}};(0,n._)([(0,h.MZ)({type:String,json:{write:!0}})],y.prototype,"title",void 0),y=(0,n._)([(0,u.$)("esri.renderers.support.PieChartLegendOptions")],y);var m=i(23369),_=i(68882),b=i(40241);let w=class extends((0,p.h)((0,o.O)(f.A))){constructor(t){super(t),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new r.A([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new g,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){return new m.A({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(s.Ru)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((t,e)=>t+e.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((t,e)=>t+JSON.stringify(e)),"")}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e);for(const i of this.attributes)i.valueExpression&&await(0,c.Dx)(t,e,i.valueExpression),i.field&&t.add(i.field)}};(0,n._)([(0,h.MZ)({type:[d.A],json:{write:!0}})],w.prototype,"attributes",void 0),(0,n._)([(0,h.MZ)({type:_.A,json:{default:null,write:!0}})],w.prototype,"backgroundFillSymbol",void 0),(0,n._)([(0,h.MZ)({type:r.A,json:{write:!0}})],w.prototype,"defaultColor",void 0),(0,n._)([(0,h.MZ)({type:String,json:{write:!0}})],w.prototype,"defaultLabel",void 0),(0,n._)([(0,h.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],w.prototype,"holePercentage",void 0),(0,n._)([(0,h.MZ)({type:g,json:{write:!0}})],w.prototype,"othersCategory",void 0),(0,n._)([(0,h.MZ)({type:y,json:{write:!0}})],w.prototype,"legendOptions",void 0),(0,n._)([(0,h.MZ)({type:b.A,json:{default:null,write:!0}})],w.prototype,"outline",void 0),(0,n._)([(0,h.MZ)({type:Number,cast:a.cr,json:{write:!0}})],w.prototype,"size",void 0),(0,n._)([(0,l.e)({pieChart:"pie-chart"})],w.prototype,"type",void 0),w=(0,n._)([(0,u.$)("esri.renderers.PieChartRenderer")],w);const x=w},76589:(t,e,i)=>{i.d(e,{A:()=>c});var n=i(66866),r=i(59851),s=i(21877),o=i(21564),a=(i(73446),i(85569),i(39831),i(63863)),h=i(20699);const l=new r.J({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let u=class extends s.oY{constructor(t){super(t),this.authoringInfo=null,this.type=null}async getRequiredFields(t){if(!this.collectRequiredFields)return[];const e=new Set;return await this.collectRequiredFields(e,t),Array.from(e).sort()}getSymbol(t,e){}async getSymbolAsync(t,e){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};(0,n._)([(0,o.MZ)({type:h.A,json:{write:!0}})],u.prototype,"authoringInfo",void 0),(0,n._)([(0,o.MZ)({type:l.apiValues,readOnly:!0,json:{type:l.jsonValues,read:!1,write:{writer:l.write,ignoreOrigin:!0}}})],u.prototype,"type",void 0),u=(0,n._)([(0,a.$)("esri.renderers.Renderer")],u);const c=u},47347:(t,e,i)=>{i.d(e,{A:()=>p});var n,r=i(66866),s=i(19251),o=i(21564),a=(i(73446),i(28902)),h=i(63863),l=i(76589),u=i(63501),c=i(16758);let f=n=class extends((0,u.h)(l.A)){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(t,e){await Promise.all([this.collectSymbolFields(t,e),this.collectVVRequiredFields(t,e)])}async collectSymbolFields(t,e){await Promise.all(this.getSymbols().map((i=>i.collectRequiredFields(t,e))))}getSymbol(t,e){return this.symbol}async getSymbolAsync(t,e){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((t,e)=>t+e.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((t,e)=>t+JSON.stringify(e)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new n({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:(0,s.o8)(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],f.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,r._)([(0,o.MZ)(c.Wp)],f.prototype,"symbol",void 0),(0,r._)([(0,a.e)({simple:"simple"})],f.prototype,"type",void 0),f=n=(0,r._)([(0,h.$)("esri.renderers.SimpleRenderer")],f);const p=f},2692:(t,e,i)=>{i.d(e,{A:()=>q});var n=i(66866),r=i(30822),s=i(98849),o=i(19251),a=i(539),h=i(76724),l=i(85251),u=i(21564),c=i(4130),f=i(28902),p=i(75094),d=i(63863),v=i(77542),g=i(64442),y=i(73446),m=i(42453),_=i(10282),b=i(76589),w=i(63501),x=i(16758),S=i(38785),T=i(24793),A=i(21877),E=i(85569);i(39831);let M=class extends((0,T.O)(A.oY)){constructor(t){super(t),this.value=null,this.value2=null,this.value3=null}};(0,n._)([(0,u.MZ)(x.Ug)],M.prototype,"value",void 0),(0,n._)([(0,u.MZ)(x.Ug)],M.prototype,"value2",void 0),(0,n._)([(0,u.MZ)(x.Ug)],M.prototype,"value3",void 0),M=(0,n._)([(0,d.$)("esri.renderers.support.UniqueValue")],M);const I=M;let C=class extends((0,T.O)(A.oY)){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(t){if(null==t)return null;const e=typeof(t=Array.isArray(t)?t:[t])[0];return"string"===e||"number"===e?t.map((t=>new I({value:t}))):"object"===e?t[0]instanceof I?t:t.map((t=>new I(t))):null}};(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],C.prototype,"description",void 0),(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],C.prototype,"label",void 0),(0,n._)([(0,u.MZ)(x.z4)],C.prototype,"symbol",void 0),(0,n._)([(0,u.MZ)({type:[I],json:{type:[[String]],read:{reader:t=>t?t.map((t=>new I({value:t[0],value2:t[1],value3:t[2]}))):null},write:{writer:(t,e)=>{const i=[];for(const n of t){const t=[n.value,n.value2,n.value3].filter(E.Ru).map((t=>t.toString()));i.push(t)}e.values=i}}}})],C.prototype,"values",void 0),(0,n._)([(0,c.w)("values")],C.prototype,"castValues",null),C=(0,n._)([(0,d.$)("esri.renderers.support.UniqueValueClass")],C);const R=C;let N=class extends((0,T.O)(A.oY)){constructor(t){super(t),this.heading=null,this.classes=null}};(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],N.prototype,"heading",void 0),(0,n._)([(0,u.MZ)({type:[R],json:{write:!0}})],N.prototype,"classes",void 0),N=(0,n._)([(0,d.$)("esri.renderers.support.UniqueValueGroup")],N);const O=N;var D,L=i(3324),P=i(28965),z=i(63680),F=i(28051),j=i(75162);const V="esri.renderers.UniqueValueRenderer",B=a.A.getLogger(V),U="uvInfos-watcher",k="uvGroups-watcher",G=(0,y.dp)(L.A);let H=D=class extends((0,w.h)(b.A)){constructor(t){super(t),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(t,e){if(!t&&!e)return;if(!t||!e)return{type:"complete",oldValue:t,newValue:e};let i=!1;const n={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let r=0;r<e.length;r++){const s=t.find((t=>t.value===e[r].value));s?(0,g.Ui)(s,e[r])?(n.changed.push({type:"complete",oldValue:s,newValue:e[r]}),i=!0):n.unchanged.push({oldValue:s,newValue:e[r]}):(n.added.push(e[r]),i=!0)}for(let r=0;r<t.length;r++)e.find((e=>e.value===t[r].value))||(n.removed.push(t[r]),i=!0);return i?n:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(t){this._set("field",t),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(t){return null==t||"function"==typeof t?t:(0,y.GX)(t)}writeField(t,e,i,n){"string"==typeof t?e[i]=t:n?.messages?n.messages.push(new s.A("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):B.error(".field: cannot write field to JSON since it's not a string value")}set field2(t){this._set("field2",t),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(t){this._set("field3",t),this._updateUniqueValues()}set valueExpression(t){this._set("valueExpression",t),this._updateUniqueValues()}set defaultSymbol(t){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",t)}set fieldDelimiter(t){this._set("fieldDelimiter",t),this._updateUniqueValues()}readPortal(t,e,i){return i.portal||_.A.getDefault()}readStyleOrigin(t,e,i){if(e.styleName)return Object.freeze({styleName:e.styleName});if(e.styleUrl){const t=(0,z.f)(e.styleUrl,i);return Object.freeze({styleUrl:t})}}writeStyleOrigin(t,e,i,n){t.styleName?e.styleName=t.styleName:t.styleUrl&&(e.styleUrl=(0,z.t)(t.styleUrl,n))}set uniqueValueGroups(t){this.styleOrigin?B.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",t),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(t){this.styleOrigin?B.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(t,e){if(this.styleOrigin)return void B.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i="object"==typeof t?G(t):new L.A({value:t,symbol:(0,r.dp)(e)}),this.uniqueValueInfos?.push(i),this._valueInfoMap[i.value]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(t){if(this.styleOrigin)return void B.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const e=this.uniqueValueInfos;if(e)for(let i=0;i<e.length;i++){const n=e[i];if(String(n.value)===String(t)){delete this._valueInfoMap[t],e.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(t,e){let i=e;return this.valueExpression&&null==e?.arcade&&(i={...i,arcade:await(0,P.lw)()}),this._getUniqueValueInfo(t,i)}getSymbol(t,e){if(this.valueExpression&&null==e?.arcade)return void B.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(t,e);return i?.symbol||this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&null==i?.arcade){const t=await(0,P.lw)(),{arcadeUtils:e}=t;e.hasGeometryOperations(this.valueExpression)&&await e.enableGeometryOperations(),i={...i,arcade:t}}const n=this._getUniqueValueInfo(t,i);return n?.symbol||this.defaultSymbol}getSymbols(){const t=[];for(const e of this.uniqueValueInfos??[])e.symbol&&t.push(e.symbol);return this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((t,e)=>t+e.getAttributeHash()),"")}getMeshHash(){const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=this.uniqueValueInfos?.reduce(((t,e)=>t+e.getMeshHash()),"");return`${t}.${e}.${i}.${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}.${this.valueExpression}`}clone(){const t=new D({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:(0,o.o8)(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:(0,o.o8)(this.visualVariables),legendOptions:(0,o.o8)(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:(0,o.o8)(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(t._isDefaultSymbolDerived=!0),t._set("portal",this.portal);const e=(0,o.o8)(this.uniqueValueInfos),i=(0,o.o8)(this.uniqueValueGroups);return this.styleOrigin&&(t._set("styleOrigin",Object.freeze((0,o.o8)(this.styleOrigin))),Object.freeze(e),Object.freeze(i)),t._set("uniqueValueInfos",e),t._updateValueInfoMap(),t._set("uniqueValueGroups",i),t._isInfosSource=this._isInfosSource,t._watchUniqueValueInfosAndGroups(),t}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.getSymbols().map((i=>i.collectRequiredFields(t,e))),(0,m.Dx)(t,e,this.valueExpression)];(0,m.rq)(t,e,this.field),(0,m.rq)(t,e,this.field2),(0,m.rq)(t,e,this.field3),await Promise.all(i)}populateFromStyle(){return(0,F.cF)(this.styleOrigin,{portal:this.portal}).then((t=>{const e=[];return this._valueInfoMap={},t&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach((i=>{const n=new j.A({styleUrl:t.styleUrl,styleName:t.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==t.data.defaultItem||(this.defaultSymbol=n,this._isDefaultSymbolDerived=!0);const r=new L.A({value:i.name,symbol:n});e.push(r),this._valueInfoMap[i.name]=r})),this._set("uniqueValueInfos",Object.freeze(e)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:t}=this;if(t)for(const e of t)this._valueInfoMap[e.value+""]=e}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(U);const{uniqueValueInfos:t}=this;if(t){const e=[];for(const i of t)e.push((0,l.wB)((()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description})),((t,e)=>{t!==e&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)}),{sync:!0}));this.addHandles(e,U)}}_watchUniqueValueGroups(){this.removeHandles(k);const{uniqueValueGroups:t}=this;if(t){const e=[];for(const i of t){e.push((0,l.wB)((()=>({classes:i.classes})),((t,e)=>{t!==e&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}));for(const t of i.classes??[])e.push((0,l.wB)((()=>({symbol:t.symbol,values:t.values,label:t.label,description:t.description})),((t,e)=>{t!==e&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}))}this.addHandles(e,k)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const t=[],{field:e,field2:i,field3:n,fieldDelimiter:r,uniqueValueGroups:s,valueExpression:o}=this;if(!e&&!o)return this._set("uniqueValueInfos",t),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!e||!i);for(const h of s)for(const e of h.classes??[]){const{symbol:s,label:o,values:h,description:l}=e;for(const e of h??[]){const{value:h,value2:u,value3:c}=e,f=[h];i&&f.push(u),n&&f.push(c);const p=a?f.join(r||""):f[0];t.push(new L.A({symbol:s,label:o,value:p,description:l}))}}this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(t=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:e,field2:i,valueExpression:n,fieldDelimiter:r,uniqueValueInfos:s}=this;if(!e&&!n||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!e||!i),a=s.map((t=>{const{symbol:e,label:i,value:n,description:s}=t,[a,h,l]=o?n?.toString()?.split(r||"")||[]:[n];return new R({symbol:e,label:i,description:s,values:[new I({value:a,value2:h,value3:l})]})})),h=[new O({classes:a})];t&&Object.freeze(h),this._set("uniqueValueGroups",h),this._watchUniqueValueGroups()}_getUniqueValueInfo(t,e){return this.valueExpression?this._getUnqiueValueInfoForExpression(t,e):this._getUnqiueValueInfoForFields(t)}_getUnqiueValueInfoForExpression(t,e){const{viewingMode:i,scale:n,spatialReference:r,arcade:s,timeZone:o}=e??{};let a=this._cache.compiledFunc;const h=s.arcadeUtils;if(!a){const t=h.createSyntaxTree(this.valueExpression);a=h.createFunction(t),this._cache.compiledFunc=a}const l=h.executeFunction(a,h.createExecContext(t,h.getViewInfo({viewingMode:i,scale:n,spatialReference:r}),o));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(t){const e=this.field,i=t.attributes;let n;if("function"!=typeof e&&this.field2){const t=this.field2,r=this.field3,s=[];e&&s.push(i[e]),t&&s.push(i[t]),r&&s.push(i[r]),n=s.join(this.fieldDelimiter||"")}else"function"==typeof e?n=e(t):e&&(n=i[e]);return this._valueInfoMap[n+""]}static fromPortalStyle(t,e){const i=new D(e?.properties);i._set("styleOrigin",Object.freeze({styleName:t})),i._set("portal",e?.portal||_.A.getDefault());const n=i.populateFromStyle();return n.catch((e=>{B.error(`#fromPortalStyle('${t}'[, ...])`,"Failed to create unique value renderer from style name",e)})),n}static fromStyleUrl(t,e){const i=new D(e?.properties);i._set("styleOrigin",Object.freeze({styleUrl:t}));const n=i.populateFromStyle();return n.catch((e=>{B.error(`#fromStyleUrl('${t}'[, ...])`,"Failed to create unique value renderer from style URL",e)})),n}};(0,n._)([(0,u.MZ)({readOnly:!0})],H.prototype,"_cache",null),(0,n._)([(0,f.e)({uniqueValue:"unique-value"})],H.prototype,"type",void 0),(0,n._)([(0,u.MZ)(x.As)],H.prototype,"backgroundFillSymbol",void 0),(0,n._)([(0,u.MZ)({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],H.prototype,"field",null),(0,n._)([(0,c.w)("field")],H.prototype,"castField",null),(0,n._)([(0,v.K)("field")],H.prototype,"writeField",null),(0,n._)([(0,u.MZ)({type:String,value:null,json:{write:!0}})],H.prototype,"field2",null),(0,n._)([(0,u.MZ)({type:String,value:null,json:{write:!0}})],H.prototype,"field3",null),(0,n._)([(0,u.MZ)({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],H.prototype,"orderByClassesEnabled",void 0),(0,n._)([(0,u.MZ)({type:String,value:null,json:{write:!0}})],H.prototype,"valueExpression",null),(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],H.prototype,"valueExpressionTitle",void 0),(0,n._)([(0,u.MZ)({type:S.q,json:{write:!0}})],H.prototype,"legendOptions",void 0),(0,n._)([(0,u.MZ)({type:String,json:{write:!0}})],H.prototype,"defaultLabel",void 0),(0,n._)([(0,u.MZ)((0,h.$N)({...x.z4},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],H.prototype,"defaultSymbol",null),(0,n._)([(0,u.MZ)({type:String,value:null,json:{write:!0}})],H.prototype,"fieldDelimiter",null),(0,n._)([(0,u.MZ)({type:_.A,readOnly:!0})],H.prototype,"portal",void 0),(0,n._)([(0,p.w)("portal",["styleName"])],H.prototype,"readPortal",null),(0,n._)([(0,u.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],H.prototype,"styleOrigin",void 0),(0,n._)([(0,p.w)("styleOrigin",["styleName","styleUrl"])],H.prototype,"readStyleOrigin",null),(0,n._)([(0,v.K)("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],H.prototype,"writeStyleOrigin",null),(0,n._)([(0,u.MZ)({type:[O],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(t,e,i)=>(e.uniqueValueGroups||function(t){const{field1:e,field2:i,field3:n,fieldDelimiter:r,uniqueValueInfos:s,valueExpression:o}=t,a=!(!e||!i);return[{classes:(s??[]).map((t=>{const{symbol:s,label:h,value:l,description:u}=t,[c,f,p]=a?l?.toString()?.split(r||"")||[]:[l],d=[];return(e||o)&&d.push(c),i&&d.push(f),n&&d.push(p),{symbol:s,label:h,values:[d],description:u}}))}]}(e)).map((t=>O.fromJSON(t,i)))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],H.prototype,"uniqueValueGroups",null),(0,n._)([(0,u.MZ)({type:[L.A],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],H.prototype,"uniqueValueInfos",null),H=D=(0,n._)([(0,d.$)(V)],H);const q=H},63501:(t,e,i)=>{i.d(e,{h:()=>z});var n=i(66866),r=i(21564),s=i(73446),o=(i(85569),i(39831),i(75094)),a=i(63863),h=i(77542),l=i(42453);const u=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var c,f=i(57860),p=i(5001);let d=c=class extends f.A{constructor(t){super(t),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter((t=>!!t))).sort(((t,e)=>t.value-e.value)),this._set("stops",t)}clone(){return new c({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((t=>t.clone())),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((t=>t.value||0))}};(0,n._)([(0,r.MZ)({readOnly:!0})],d.prototype,"cache",null),(0,n._)([(0,r.MZ)({type:["color"],json:{type:["colorInfo"]}})],d.prototype,"type",void 0),(0,n._)([(0,r.MZ)({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0),(0,n._)([(0,r.MZ)({type:[p.A],json:{write:!0}})],d.prototype,"stops",null),d=c=(0,n._)([(0,a.$)("esri.renderers.visualVariables.ColorVariable")],d);const v=d;var g,y=i(21877),m=i(48904);let _=g=class extends y.oY{constructor(t){super(t),this.label=null,this.opacity=null,this.value=null}readOpacity(t,e){return(0,m.D)(e.transparency)}writeOpacity(t,e,i){e[i]=(0,m.p)(t)}clone(){return new g({label:this.label,opacity:this.opacity,value:this.value})}};(0,n._)([(0,r.MZ)({type:String,json:{write:!0}})],_.prototype,"label",void 0),(0,n._)([(0,r.MZ)({type:Number,json:{type:s.jz,write:{target:"transparency"}}})],_.prototype,"opacity",void 0),(0,n._)([(0,o.w)("opacity",["transparency"])],_.prototype,"readOpacity",null),(0,n._)([(0,h.K)("opacity")],_.prototype,"writeOpacity",null),(0,n._)([(0,r.MZ)({type:Number,json:{write:!0}})],_.prototype,"value",void 0),_=g=(0,n._)([(0,a.$)("esri.renderers.visualVariables.support.OpacityStop")],_);const b=_;var w;let x=w=class extends f.A{constructor(t){super(t),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter((t=>!!t))).sort(((t,e)=>t.value-e.value)),this._set("stops",t)}clone(){return new w({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((t=>t.clone())),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((t=>t.value||0))}};(0,n._)([(0,r.MZ)({readOnly:!0})],x.prototype,"cache",null),(0,n._)([(0,r.MZ)({type:["opacity"],json:{type:["transparencyInfo"]}})],x.prototype,"type",void 0),(0,n._)([(0,r.MZ)({type:String,json:{write:!0}})],x.prototype,"normalizationField",void 0),(0,n._)([(0,r.MZ)({type:[b],json:{write:!0}})],x.prototype,"stops",null),x=w=(0,n._)([(0,a.$)("esri.renderers.visualVariables.OpacityVariable")],x);const S=x;var T=i(68090),A=i(44237),E=i(52495),M=i(59851),I=i(539),C=i(68659);const R={color:v,size:A.A,opacity:S,rotation:T.A},N=new M.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),O=/^\[([^\]]+)\]$/i;let D=class extends E.A{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(t){if(this._resetVariables(),t=t&&t.filter((t=>!!t)),t?.length){for(const e of t)switch(e.type){case"color":this.colorVariables.push(e);break;case"opacity":this.opacityVariables.push(e);break;case"rotation":this.rotationVariables.push(e);break;case"size":this.sizeVariables.push(e)}this.sizeVariables.length&&this.sizeVariables.some((t=>!!t.target))&&t.sort(((t,e)=>{let i=null;return i=t.target===e.target?0:t.target?1:-1,i}));for(let e=0;e<t.length;e++)t[e].index=e;this._set("visualVariables",t)}else this._set("visualVariables",t)}readVariables(t,e,i){const{rotationExpression:n,rotationType:r}=e,s=n?.match(O),o=s?.[1];if(o&&(t||(t=[]),t.push({type:"rotationInfo",rotationType:r,field:o})),t)return t.map((t=>{const e=N.read(t.type),n=R[e];n||(I.A.getLogger(this).warn(`Unknown variable type: ${e}`),i?.messages&&i.messages.push(new C.A("visual-variable:unsupported",`visualVariable of type '${e}' is not supported`,{definition:t,context:i})));const r=new n;return r.read(t,i),r}))}writeVariables(t,e){const i=[];for(const n of t){const t=n.toJSON(e);t&&i.push(t)}return i}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};(0,n._)([(0,r.MZ)()],D.prototype,"visualVariables",null),D=(0,n._)([(0,a.$)("esri.renderers.visualVariables.VisualVariableFactory")],D);const L=D,P={base:f.A,key:"type",typeMap:{opacity:S,color:v,rotation:T.A,size:A.A}},z=t=>{let e=class extends t{constructor(){super(...arguments),this._vvFactory=new L}set visualVariables(t){this._vvFactory.visualVariables=t,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(t,e,i){return this._vvFactory.readVariables(t,e,i)}writeVisualVariables(t,e,i,n){e[i]=this._vvFactory.writeVariables(t,n)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const t of this.visualVariables)if(t.arcadeRequired)return!0;return!1}hasVisualVariables(t,e){return t?this.getVisualVariablesForType(t,e).length>0:this.getVisualVariablesForType("size",e).length>0||this.getVisualVariablesForType("color",e).length>0||this.getVisualVariablesForType("opacity",e).length>0||this.getVisualVariablesForType("rotation",e).length>0}getVisualVariablesForType(t,e){const i=this.visualVariables;return i?i.filter((i=>i.type===t&&("string"==typeof e?i.target===e:!1!==e||!i.target))):[]}async collectVVRequiredFields(t,e){let i=[];this.visualVariables&&(i=i.concat(this.visualVariables));for(const n of i)n&&(n.field&&(0,l.rq)(t,e,n.field),n.normalizationField&&(0,l.rq)(t,e,n.normalizationField),n.valueExpression&&(F(n.valueExpression,t,e)||await(0,l.Dx)(t,e,n.valueExpression)))}};return(0,n._)([(0,r.MZ)({types:[P],value:null,json:{write:!0}})],e.prototype,"visualVariables",null),(0,n._)([(0,o.w)("visualVariables",["visualVariables","rotationType","rotationExpression"])],e.prototype,"readVisualVariables",null),(0,n._)([(0,h.K)("visualVariables")],e.prototype,"writeVisualVariables",null),e=(0,n._)([(0,a.$)("esri.renderers.mixins.VisualVariablesMixin")],e),e};function F(t,e,i){const n=function(t){return t.match(u)?.[1]?.replace(/\\'/g,"'")??null}(t);return null!=n&&((0,l.rq)(e,i,n),!0)}},93101:(t,e,i)=>{i.d(e,{A:()=>p});var n,r=i(66866),s=i(96220),o=i(21877),a=i(539),h=i(21564),l=i(4130),u=(i(85569),i(39831),i(63863)),c=i(73446);let f=n=class extends o.oY{constructor(t){super(t),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(t){return null==t?t:"function"==typeof t?(a.A.getLogger(this).error(".field: field must be a string value"),null):(0,c.GX)(t)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new n({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,r._)([(0,h.MZ)({type:s.A,json:{type:[Number],write:!0}})],f.prototype,"color",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],f.prototype,"field",void 0),(0,r._)([(0,l.w)("field")],f.prototype,"castField",null),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],f.prototype,"valueExpressionTitle",void 0),f=n=(0,r._)([(0,u.$)("esri.renderers.support.AttributeColorInfo")],f);const p=f},20699:(t,e,i)=>{i.d(e,{A:()=>O});var n,r=i(66866),s=i(59851),o=i(21877),a=i(19251),h=i(21564),l=i(73446),u=i(75094),c=i(63863);i(85569),i(39831);let f=n=class extends o.oY{constructor(t){super(t),this.minValue=0,this.maxValue=0}clone(){return new n({minValue:this.minValue,maxValue:this.maxValue})}};var p;(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],f.prototype,"minValue",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],f.prototype,"maxValue",void 0),f=n=(0,r._)([(0,c.$)("esri.renderer.support.AuthoringInfoClassBreakInfo")],f);let d=p=class extends o.oY{constructor(t){super(t),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new p({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:(0,a.o8)(this.classBreakInfos)})}};(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],d.prototype,"field",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],d.prototype,"normalizationField",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],d.prototype,"label",void 0),(0,r._)([(0,h.MZ)({type:[f],json:{write:!0}})],d.prototype,"classBreakInfos",void 0),d=p=(0,r._)([(0,c.$)("esri.renderers.support.AuthoringInfoFieldInfo")],d);var v,g=i(4130);const y=new s.J({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),m=new s.J({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),_={key:t=>"number"==typeof t?"number":"string",typeMap:{number:Number,string:String},base:null},b=["high-to-low","above-and-below","centered-on","extremes"],w=[...new Set(["high-to-low","above-and-below","centered-on","extremes","90-10","above","below","high-to-low","above-and-below","90-10","above","below"])],x=["seconds","minutes","hours","days","months","years"];let S=v=class extends o.oY{constructor(t){super(t),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(t){return"string"==typeof t||"number"==typeof t?t:null}castStartTime(t){return"string"==typeof t||"number"==typeof t?t:null}get style(){return"color"===this.type?this._get("style"):null}set style(t){this._set("style",t)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(t){this._set("theme",t)}clone(){return new v({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};(0,r._)([(0,h.MZ)({types:_,json:{write:!0}})],S.prototype,"endTime",void 0),(0,r._)([(0,g.w)("endTime")],S.prototype,"castEndTime",null),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],S.prototype,"field",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],S.prototype,"maxSliderValue",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],S.prototype,"minSliderValue",void 0),(0,r._)([(0,h.MZ)({types:_,json:{write:!0}})],S.prototype,"startTime",void 0),(0,r._)([(0,g.w)("startTime")],S.prototype,"castStartTime",null),(0,r._)([(0,h.MZ)({type:y.apiValues,value:null,json:{type:y.jsonValues,read:y.read,write:y.write}})],S.prototype,"style",null),(0,r._)([(0,h.MZ)({type:w,value:null,json:{type:w,origins:{"web-scene":{type:b,write:{writer:(t,e)=>{b.includes(t)&&(e.theme=t)}}}},write:!0}})],S.prototype,"theme",null),(0,r._)([(0,h.MZ)({type:m.apiValues,json:{type:m.jsonValues,read:m.read,write:m.write}})],S.prototype,"type",void 0),(0,r._)([(0,h.MZ)({type:x,json:{type:x,write:!0}})],S.prototype,"units",void 0),S=v=(0,r._)([(0,c.$)("esri.renderers.support.AuthoringInfoVisualVariable")],S);const T=S;var A,E=i(59740);const M=new s.J({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),I=new s.J({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),C=new s.J({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),R=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"];let N=A=class extends o.oY{constructor(t){super(t),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const t=this._get("classificationMethod"),e=this.type;return e&&"relationship"!==e?"class-breaks-size"===e||"class-breaks-color"===e?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?(0,E.r)(t):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",t)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&"relationship"!==t&&"class-breaks-size"!==t&&"class-breaks-color"!==t||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",t)}get type(){return this._get("type")}set type(t){let e=t;"classed-size"===t?e="class-breaks-size":"classed-color"===t&&(e="class-breaks-color"),this._set("type",e)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",t)}clone(){return new A({classificationMethod:this.classificationMethod,colorRamp:(0,a.o8)(this.colorRamp),fadeRatio:(0,a.o8)(this.fadeRatio),fields:this.fields?.slice(0),field1:(0,a.o8)(this.field1),field2:(0,a.o8)(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((t=>t.clone())),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};(0,r._)([(0,h.MZ)({type:M.apiValues,value:null,json:{type:M.jsonValues,read:M.read,write:M.write,origins:{"web-document":{default:"manual",type:M.jsonValues,read:M.read,write:M.write}}}})],N.prototype,"classificationMethod",null),(0,r._)([(0,h.MZ)({types:E.g,json:{write:!0}})],N.prototype,"colorRamp",void 0),(0,r._)([(0,u.w)("colorRamp")],N.prototype,"readColorRamp",null),(0,r._)([(0,h.MZ)({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"fadeRatio",void 0),(0,r._)([(0,h.MZ)({type:[String],value:null,json:{write:!0}})],N.prototype,"fields",null),(0,r._)([(0,h.MZ)({type:d,value:null,json:{write:!0}})],N.prototype,"field1",null),(0,r._)([(0,h.MZ)({type:d,value:null,json:{write:!0}})],N.prototype,"field2",null),(0,r._)([(0,h.MZ)({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],N.prototype,"flowTheme",null),(0,r._)([(0,h.MZ)({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],N.prototype,"focus",null),(0,r._)([(0,h.MZ)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],N.prototype,"isAutoGenerated",void 0),(0,r._)([(0,h.MZ)({type:Number,value:null,json:{type:l.jz,write:!0}})],N.prototype,"numClasses",null),(0,r._)([(0,h.MZ)({type:R,json:{type:R,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],N.prototype,"lengthUnit",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"maxSliderValue",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"minSliderValue",void 0),(0,r._)([(0,h.MZ)({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],N.prototype,"statistics",null),(0,r._)([(0,h.MZ)({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],N.prototype,"standardDeviationInterval",null),(0,r._)([(0,h.MZ)({type:I.apiValues,value:null,json:{type:I.jsonValues,read:I.read,write:I.write,origins:{"web-scene":{type:C.jsonValues,write:{writer:C.write,overridePolicy:t=>({enabled:"flow"!==t})}}}}})],N.prototype,"type",null),(0,r._)([(0,h.MZ)({type:[T],json:{write:!0}})],N.prototype,"visualVariables",void 0),(0,r._)([(0,h.MZ)({type:["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],N.prototype,"univariateSymbolStyle",null),(0,r._)([(0,h.MZ)({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],N.prototype,"univariateTheme",null),N=A=(0,r._)([(0,c.$)("esri.renderers.support.AuthoringInfo")],N);const O=N},87729:(t,e,i)=>{i.d(e,{A:()=>u});var n,r=i(66866),s=i(21877),o=i(21564),a=(i(73446),i(85569),i(39831),i(63863)),h=i(16758);let l=n=class extends s.oY{constructor(t){super(t),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new n({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const t=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${t}`}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"label",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],l.prototype,"minValue",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],l.prototype,"maxValue",void 0),(0,r._)([(0,o.MZ)(h.Wp)],l.prototype,"symbol",void 0),l=n=(0,r._)([(0,a.$)("esri.renderers.support.ClassBreakInfo")],l);const u=l},57081:(t,e,i)=>{i.r(e),i.d(e,{DictionaryLoader:()=>g});var n=i(96220),r=i(86394),s=i(98849),o=(i(39831),i(539)),a=i(89926),h=i(40189),l=i(96274),u=i(50579),c=i(79005),f=i(28965),p=i(54394);const d="esri.renderers.support.DictionaryLoader",v={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class g{constructor(t,e,i){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new a.q(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=t,this.config=e,this.fieldMap=i}getSymbolFields(){return this._symbolFields}async getSymbolAsync(t,e){let i;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(e));try{i=await this._dictionaryPromise}catch(m){if((0,h.zf)(m))return this._dictionaryPromise=null,null}const r=this._dictionaryVersion&&this._dictionaryVersion.since(4,0),s={};if(this.fieldMap)for(const n of this._symbolFields){const e=this._getFieldName(this.fieldMap[n]);if(e){const i=t.attributes[e];s[n]=r?i:null!=i?""+t.attributes[e]:""}else s[n]=""}let o=null;try{o=i?.(s,e)}catch(g){return null}if(!o||"string"!=typeof o)return null;const a=(0,l.Wm)(o).toString(),u=this._symbolCache.get(a);if(u)return u.catch((()=>{this._symbolCache.pop(a)})),u;const c=o.split(";"),f=[],p=[];for(const h of c)if(h)if(h.includes("po:")){const t=h.substr(3).split("|");if(3===t.length){const e=t[0],i=t[1];let r=t[2];if("DashTemplate"===i)r=r.split(" ").map((t=>Number(t)));else if("Color"===i){const t=new n.A(r).toRgba();r=[t[0],t[1],t[2],255*t[3]]}else r=Number(r);p.push({primitiveName:e,propertyName:i,value:r})}}else if(h.includes("|")){for(const t of h.split("|"))if(this._itemNames.has(t)){f.push(t);break}}else this._itemNames.has(h)&&f.push(h);const d=null==t.geometry||!t.geometry.hasZ&&"point"===t.geometry.type,v=this._cimPartsToCIMSymbol(f,p,d,e);return this._symbolCache.put(a,v,1),v}async fetchResources(t){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void o.A.getLogger(d).error("no valid URL!");const e=(0,r.A)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=t?t.signal:null}),[{data:i}]=await Promise.all([e,(0,f.lw)()]);if(!i)throw this._dictionaryPromise=null,new s.A("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:n,dictionary_version:a,expression:h,itemsNames:l}=i,p=h;let v=!1;a&&(this._dictionaryVersion=u.R.parse(a),v=this._dictionaryVersion.since(4,0)),this._refSymbolUrlTemplate=this.url+"/"+i.cimRefTemplateUrl,this._itemNames=new Set(l),this._symbolFields=n.symbol;const g={};if(this.config){const t=this.config;for(const e in t)g[e]=t[e]}if(n.configuration)for(const r of n.configuration)g.hasOwnProperty(r.name)||(g[r.name]=r.value);const y=[];if(t?.fields&&this.fieldMap)for(const r of this._symbolFields){const e=this.fieldMap[r],i=t.fields.filter((t=>t.name.toLowerCase()===e?.toLowerCase()));i.length>0&&y.push({...i[0],type:v?i[0].type:"esriFieldTypeString"})}y.length>0&&(this._fieldIndex=new c.A(y));const m=(0,f.xR)(p,null!=t?t.spatialReference:null,y,g).then((t=>{const e={scale:0};return(i,n)=>{if(null==t)return null;const r=t.repurposeFeature({geometry:null,attributes:i});return e.scale=null!=n?n.scale??void 0:void 0,t.evaluate({$feature:r,$view:e},t.services)}})).catch((t=>(o.A.getLogger(d).error("Creating dictinoary expression failed:",t),null)));return this._dictionaryPromise=m,m}async _cimPartsToCIMSymbol(t,e,i,n){const r=new Array(t.length);for(let a=0;a<t.length;a++)r[a]=this._getSymbolPart(t[a],n);const s=await Promise.all(r),o=this.fieldMap;if(o)for(const a of s)y(a,o);return new p.A({data:this._combineSymbolParts(s,e,i)})}async _getSymbolPart(t,e){if(this._ongoingRequests.has(t))return this._ongoingRequests.get(t).then((t=>t.data));const i=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,t),n=(0,r.A)(i,{responseType:"json",query:{f:"json"},...e});this._ongoingRequests.set(t,n);try{return(await n).data}catch(s){throw this._ongoingRequests.delete(t),s}}_combineSymbolParts(t,e,i){if(!t||0===t.length)return null;const n={...t[0]};if(t.length>1){n.symbolLayers=[];for(const e of t){const t=e;n.symbolLayers.unshift(...t.symbolLayers)}}return i&&(n.callout=v),{type:"CIMSymbolReference",symbol:n,primitiveOverrides:e}}_getFieldName(t){if(null!==this._fieldIndex){const e=this._fieldIndex.get(t);return e?e.name:t}return t}}function y(t,e){if(!t)return;const i=t.symbolLayers;if(!i)return;let n=i.length;for(;n--;){const t=i[n];t&&!1!==t.enable&&"CIMVectorMarker"===t.type&&m(t,e)}}function m(t,e){const i=t.markerGraphics;if(i)for(const n of i){if(!n)continue;const t=n.symbol;if(t)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":y(t,e);break;case"CIMTextSymbol":t.fieldMap=e}}}},50769:(t,e,i)=>{i.d(e,{A:()=>c});var n,r=i(66866),s=i(96220),o=i(21877),a=i(21564),h=i(73446),l=(i(85569),i(39831),i(63863));let u=n=class extends o.oY{constructor(t){super(t),this.color=null,this.ratio=null}clone(){return new n({color:this.color,ratio:this.ratio})}};(0,r._)([(0,a.MZ)({type:s.A,json:{type:[h.jz],default:null,write:!0}})],u.prototype,"color",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],u.prototype,"ratio",void 0),u=n=(0,r._)([(0,l.$)("esri.renderers.support.HeatmapColorStop")],u);const c=u},38785:(t,e,i)=>{i.d(e,{q:()=>h});var n,r=i(66866),s=i(21877),o=i(21564),a=(i(73446),i(85569),i(39831),i(63863));let h=n=class extends s.oY{constructor(){super(...arguments),this.title=null}clone(){return new n({title:this.title})}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"title",void 0),h=n=(0,r._)([(0,a.$)("esri.renderers.support.LegendOptions")],h)},3324:(t,e,i)=>{i.d(e,{A:()=>u});var n,r=i(66866),s=i(21877),o=i(21564),a=(i(73446),i(85569),i(39831),i(63863)),h=i(16758);let l=n=class extends s.oY{constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new n({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const t=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${t}`}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"label",void 0),(0,r._)([(0,o.MZ)(h.Wp)],l.prototype,"symbol",void 0),(0,r._)([(0,o.MZ)(h.Ug)],l.prototype,"value",void 0),l=n=(0,r._)([(0,a.$)("esri.renderers.support.UniqueValueInfo")],l);const u=l},16758:(t,e,i)=>{i.d(e,{As:()=>c,Ug:()=>f,Wp:()=>u,z4:()=>l});var n=i(30822),r=i(76724),s=i(61985),o=i(57974),a=i(77441),h=i(65216);const l={types:n.xK,json:{write:{writer:o.M9},origins:{"web-scene":{types:n.On,write:{writer:o.M9},read:{reader:(0,s.C)({types:n.On})}}}}},u=(0,r.$N)({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},l),c={types:{base:a.A,key:"type",typeMap:{"simple-fill":n.Es.typeMap["simple-fill"],"picture-fill":n.Es.typeMap["picture-fill"],"polygon-3d":n.Es.typeMap["polygon-3d"]}},json:{write:{writer:o.M9},origins:{"web-scene":{type:h.A,write:{writer:o.M9}}}}},f={cast:t=>null==t||"string"==typeof t||"number"==typeof t?t:`${t}`,json:{type:String,write:{writer:(t,e)=>{e.value=t?.toString()}}}}},27927:(t,e,i)=>{i.d(e,{Lh:()=>p,O3:()=>c,PU:()=>l,YW:()=>v,ex:()=>a,hv:()=>d,oQ:()=>f,zp:()=>h});var n=i(92504),r=i(89882),s=i(25102),o=i(52712);const a=2.4;function h(t){return(0,r.PN)(t*a)}function l(t){return(0,r.Lz)(t)/a}function u(t,e,i,r){let{color:o,ratio:a}=e,{color:h,ratio:l}=i;if(l===a){const t=1e-6;1===l?a-=t:l+=t}const u=(0,n.qE)((r-a)/(l-a),0,1);(0,s.l)(t,o.toArray(),h.toArray(),u)}function c(t){const e=new Uint8ClampedArray(2048);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,e)=>t.ratio-e.ratio)).map((({color:t,ratio:e})=>({color:t,ratio:Math.max(e,.001)}))),t.length<1)return e;let i=t[0],n=t[0],r=1;const s=(0,o.c)();for(let o=0;o<512;o++){const a=(o+.5)/512;for(;a>n.ratio&&r<t.length;)i=n,n=t[r++];u(s,i,n,a),e.set(s,4*o)}return e}function f(t,e,i,n){const{radius:s,fieldOffset:o,field:a}=e,h=Math.round((0,r.Lz)(s)),l=new Float64Array(i*n);let u,c=Number.NEGATIVE_INFINITY;const f=function(t,e){return null!=t?"string"==typeof e?e=>-1*+e.readAttribute(t):i=>+i.readAttribute(t)+e:t=>1}(a,o),p=new Set;for(const r of t){const t=r.getCursor();for(;t.next();){const e=t.getObjectId();if(p.has(e))continue;p.add(e);const r=t.readLegacyPointGeometry(),s=128;if(r.x<-s||r.x>=i+s||r.y<-s||r.y>n+s)continue;const o=+f(t),a=Math.max(0,Math.round(r.x)-h),v=Math.max(0,Math.round(r.y)-h),g=Math.min(n,Math.round(r.y)+h),y=Math.min(i,Math.round(r.x)+h);for(let t=v;t<g;t++)for(let e=a;e<y;e++){const n=t*i+e,s=d(r.x-e,r.y-t,h);u=l[n]+=s*o,u>c&&(c=u)}}}return{matrix:l.buffer,max:c}}function p(t,e,i,r,s,o){t.canvas.width=t.canvas.height=e,t.clearRect(0,0,e,e);const a=t.getImageData(0,0,e,e);i&&r&&a.data.set(new Uint8ClampedArray(function(t,e,i,r,s){const o=new Uint32Array(t*t),a="buffer"in e?e:new Float64Array(e),h="buffer"in i?new Uint32Array(i.buffer):new Uint32Array(new Uint8Array(i).buffer),l=h.length/(s-r);for(let u=0;u<a.length;u++){const t=a[u],e=Math.floor((t-r)*l);o[u]=h[(0,n.qE)(e,0,h.length-1)]}return o.buffer}(e,i,r,s,o))),t.putImageData(a,0,0)}function d(t,e,i){const n=Math.sqrt(t**2+e**2)/i;return n>1?0:3/(Math.PI*i**2)*(1-n**2)**2}function v(t,e){return"function"==typeof t?t:t?"string"==typeof e?e=>-1*+e[t]:i=>+i[t]+e:()=>1}},48887:(t,e,i)=>{i.d(e,{L:()=>h,r:()=>o});var n=i(68659),r=i(61985),s=i(49169);function o(t,e){return h(t,null,e)}const a=(0,r.C)({types:s.H});function h(t,e,i){return t?t&&(t.styleName||t.styleUrl)&&"uniqueValue"!==t.type?(i?.messages&&i.messages.push(new n.A("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+t.type+"'",{definition:t,context:i})),null):a(t,e,i):null}},10301:(t,e,i)=>{i.d(e,{j:()=>s});var n=i(92976),r=i(99817);const s={unknown:1,inches:(0,n.oU)(1,"meters","inches"),feet:(0,n.oU)(1,"meters","feet"),"us-feet":(0,n.oU)(1,"meters","us-feet"),yards:(0,n.oU)(1,"meters","yards"),miles:(0,n.oU)(1,"meters","miles"),"nautical-miles":(0,n.oU)(1,"meters","nautical-miles"),millimeters:(0,n.oU)(1,"meters","millimeters"),centimeters:(0,n.oU)(1,"meters","centimeters"),decimeters:(0,n.oU)(1,"meters","decimeters"),meters:(0,n.oU)(1,"meters","meters"),kilometers:(0,n.oU)(1,"meters","kilometers"),"decimal-degrees":1/(0,n.vl)(1,"meters",r.$O.radius)}},49169:(t,e,i)=>{i.d(e,{H:()=>f,X:()=>p});var n=i(539),r=i(17671),s=i(84685),o=i(20299),a=i(25498),h=i(79300),l=i(76589),u=i(47347),c=i(2692);const f={key:"type",base:l.A,typeMap:{heatmap:a.A,simple:u.A,"unique-value":c.A,"class-breaks":r.A,"dot-density":o.A,dictionary:s.A,"pie-chart":h.A},errorContext:"renderer"},p={key:"type",base:l.A,typeMap:{simple:u.A,"unique-value":c.A,"class-breaks":r.A,heatmap:a.A},errorContext:"renderer",validate:function(t){switch(t.type){case"simple":return function(t){if(t.symbol)return t;n.A.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}(t);case"unique-value":return function(t){const e=t.uniqueValueInfos,i=e?.filter((({symbol:t,label:e},i)=>(t||n.A.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${i}] ${e}) without a symbol from web scene.`),!!t)));return i?.length!==e?.length&&(t.uniqueValueInfos=i),t}(t);case"class-breaks":return function(t){const e=t.classBreakInfos,i=e?.filter((({symbol:t,label:e},i)=>(t||n.A.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${i}] ${e}) without a symbol from web scene.`),!!t)));return i?.length!==e?.length&&(t.classBreakInfos=i),t}(t);case"heatmap":return t}}}},68090:(t,e,i)=>{i.d(e,{A:()=>c});var n,r=i(66866),s=i(98849),o=i(21564),a=(i(73446),i(85569),i(39831),i(63863)),h=i(77542),l=i(57860);let u=n=class extends l.A{constructor(t){super(t),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(t,e,i,n){if(n?.messages){const t=`visualVariables[${this.index}]`;n.messages.push(new s.A("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:t+".valueExpressionTitle",context:n}))}}clone(){return new n({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};(0,r._)([(0,o.MZ)({readOnly:!0})],u.prototype,"cache",null),(0,r._)([(0,o.MZ)({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],u.prototype,"axis",void 0),(0,r._)([(0,o.MZ)({type:["rotation"],json:{type:["rotationInfo"]}})],u.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],u.prototype,"rotationType",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"valueExpressionTitle",void 0),(0,r._)([(0,h.K)("web-scene","valueExpressionTitle")],u.prototype,"writeValueExpressionTitleWebScene",null),u=n=(0,r._)([(0,a.$)("esri.renderers.visualVariables.RotationVariable")],u);const c=u},44237:(t,e,i)=>{i.d(e,{A:()=>T});var n,r=i(66866),s=i(98849),o=i(59851),a=i(539),h=i(89882),l=i(21564),u=i(4130),c=i(75094),f=i(63863),p=i(77542),d=i(57860),v=i(68745),g=i(82140),y=i(99412),m=i(28479);const _=new o.J({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),b=new o.J({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function w(t){if(null!=t)return"string"==typeof t||"number"==typeof t?(0,h.cr)(t):"size"===t.type?(0,y.of)(t)?t:(delete(t={...t}).type,new S(t)):void 0}function x(t,e,i){if("object"!=typeof t)return t;const n=new S;return n.read(t,i),n}let S=n=class extends d.A{constructor(t){super(t),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&m.viewScaleRE.test(this.valueExpression)}}set expression(t){a.A.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===t?(this.valueExpression="$view.scale",this._set("expression",t)):this._set("expression",null)}set index(t){(0,y.of)(this.maxSize)&&(this.maxSize.index=`visualVariables[${t}].maxSize`),(0,y.of)(this.minSize)&&(this.minSize.index=`visualVariables[${t}].minSize`),this._set("index",t)}get inputValueType(){return(0,y.eh)(this)}set maxDataValue(t){t&&this.stops&&(a.A.getLogger(this).warn("cannot set maxDataValue when stops is not null."),t=null),this._set("maxDataValue",t)}set maxSize(t){t&&this.stops&&(a.A.getLogger(this).warn("cannot set maxSize when stops is not null."),t=null),this._set("maxSize",t)}castMaxSize(t){return w(t)}readMaxSize(t,e,i){return x(t,0,i)}set minDataValue(t){t&&this.stops&&(a.A.getLogger(this).warn("cannot set minDataValue when stops is not null."),t=null),this._set("minDataValue",t)}set minSize(t){t&&this.stops&&(a.A.getLogger(this).warn("cannot set minSize when stops is not null."),t=null),this._set("minSize",t)}castMinSize(t){return w(t)}readMinSize(t,e,i){return x(t,0,i)}get arcadeRequired(){return!!this.valueExpression||null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(t){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?t&&Array.isArray(t)&&(t=t.filter((t=>!!t))).sort(((t,e)=>t.value-e.value)):t&&(a.A.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),t=null),this._set("stops",t)}get transformationType(){return(0,y.KZ)(this,this.inputValueType)}readValueExpression(t,e){return t||e.expression&&"$view.scale"}writeValueExpressionWebScene(t,e,i,n){if("$view.scale"===t){if(n?.messages){const t=this.index,e="string"==typeof t?t:`visualVariables[${t}]`;n.messages.push(new s.A("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:e+".valueExpression",context:n}))}}else e[i]=t}readValueUnit(t){return t?b.read(t):null}clone(){return new n({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,y.of)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,y.of)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map((t=>t.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===y._w.ClampedLinear){const{minSize:t,maxSize:e}=this;return this.minSize=e,this.maxSize=t,this}if(this.transformationType===y._w.Stops){const t=this.stops;if(!t)return this;const e=t.map((t=>t.size)).reverse(),i=t.length;for(let n=0;n<i;n++)t[n].size=e[n];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map((t=>t.value||0))}};(0,r._)([(0,l.MZ)({readOnly:!0})],S.prototype,"cache",null),(0,r._)([(0,l.MZ)({type:_.apiValues,json:{type:_.jsonValues,origins:{"web-map":{read:!1}},read:_.read,write:_.write}})],S.prototype,"axis",void 0),(0,r._)([(0,l.MZ)({type:String,value:null,json:{read:!1}})],S.prototype,"expression",null),(0,r._)([(0,l.MZ)()],S.prototype,"index",null),(0,r._)([(0,l.MZ)({type:String,readOnly:!0})],S.prototype,"inputValueType",null),(0,r._)([(0,l.MZ)({type:g.A,json:{write:!0}})],S.prototype,"legendOptions",void 0),(0,r._)([(0,l.MZ)({type:Number,value:null,json:{write:!0}})],S.prototype,"maxDataValue",null),(0,r._)([(0,l.MZ)({type:Number,value:null,json:{write:!0}})],S.prototype,"maxSize",null),(0,r._)([(0,u.w)("maxSize")],S.prototype,"castMaxSize",null),(0,r._)([(0,c.w)("maxSize")],S.prototype,"readMaxSize",null),(0,r._)([(0,l.MZ)({type:Number,value:null,json:{write:!0}})],S.prototype,"minDataValue",null),(0,r._)([(0,l.MZ)({type:Number,value:null,json:{write:!0}})],S.prototype,"minSize",null),(0,r._)([(0,u.w)("minSize")],S.prototype,"castMinSize",null),(0,r._)([(0,c.w)("minSize")],S.prototype,"readMinSize",null),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],S.prototype,"normalizationField",void 0),(0,r._)([(0,l.MZ)({readOnly:!0})],S.prototype,"arcadeRequired",null),(0,r._)([(0,l.MZ)({type:String})],S.prototype,"scaleBy",void 0),(0,r._)([(0,l.MZ)({type:[v.A],value:null,json:{write:!0}})],S.prototype,"stops",null),(0,r._)([(0,l.MZ)({type:["outline"],json:{write:!0}})],S.prototype,"target",void 0),(0,r._)([(0,l.MZ)({type:String,readOnly:!0})],S.prototype,"transformationType",null),(0,r._)([(0,l.MZ)({type:["size"],json:{type:["sizeInfo"]}})],S.prototype,"type",void 0),(0,r._)([(0,l.MZ)({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],S.prototype,"useSymbolValue",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],S.prototype,"valueExpression",void 0),(0,r._)([(0,c.w)("valueExpression",["valueExpression","expression"])],S.prototype,"readValueExpression",null),(0,r._)([(0,p.K)("web-scene","valueExpression")],S.prototype,"writeValueExpressionWebScene",null),(0,r._)([(0,l.MZ)({type:["radius","diameter","area","width","distance"],json:{write:!0}})],S.prototype,"valueRepresentation",void 0),(0,r._)([(0,l.MZ)({type:b.apiValues,json:{write:b.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],S.prototype,"valueUnit",void 0),(0,r._)([(0,c.w)("valueUnit")],S.prototype,"readValueUnit",null),S=n=(0,r._)([(0,f.$)("esri.renderers.visualVariables.SizeVariable")],S);const T=S},57860:(t,e,i)=>{i.d(e,{A:()=>d});var n=i(66866),r=i(59851),s=i(21877),o=i(539),a=i(21564),h=i(4130),l=i(63863),u=i(73446),c=i(45327);const f=new r.J({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let p=class extends s.oY{constructor(t){super(t),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(t){return null==t?t:"function"==typeof t?(o.A.getLogger(this).error(".field: field must be a string value"),null):(0,u.GX)(t)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};(0,n._)([(0,a.MZ)()],p.prototype,"index",void 0),(0,n._)([(0,a.MZ)({type:f.apiValues,readOnly:!0,json:{read:f.read,write:f.write}})],p.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"field",void 0),(0,n._)([(0,h.w)("field")],p.prototype,"castField",null),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"valueExpression",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"valueExpressionTitle",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],p.prototype,"arcadeRequired",null),(0,n._)([(0,a.MZ)({type:c.A,json:{write:!0}})],p.prototype,"legendOptions",void 0),p=(0,n._)([(0,l.$)("esri.renderers.visualVariables.VisualVariable")],p);const d=p},5001:(t,e,i)=>{i.d(e,{A:()=>f});var n,r=i(66866),s=i(96220),o=i(21877),a=i(21564),h=i(73446),l=(i(85569),i(39831),i(63863)),u=i(77542);let c=n=class extends o.oY{constructor(t){super(t),this.color=null,this.label=null,this.value=null}writeValue(t,e,i){e[i]=t??0}clone(){return new n({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};(0,r._)([(0,a.MZ)({type:s.A,json:{type:[h.jz],write:!0}})],c.prototype,"color",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],c.prototype,"value",void 0),(0,r._)([(0,u.K)("value")],c.prototype,"writeValue",null),c=n=(0,r._)([(0,l.$)("esri.renderers.visualVariables.support.ColorStop")],c);const f=c},68745:(t,e,i)=>{i.d(e,{A:()=>u});var n,r=i(66866),s=i(21877),o=i(89882),a=i(21564),h=(i(73446),i(85569),i(39831),i(63863));let l=n=class extends s.oY{constructor(t){super(t),this.label=null,this.size=null,this.value=null}clone(){return new n({label:this.label,size:this.size,value:this.value})}};(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],l.prototype,"label",void 0),(0,r._)([(0,a.MZ)({type:Number,cast:o.cr,json:{write:!0}})],l.prototype,"size",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],l.prototype,"value",void 0),l=n=(0,r._)([(0,h.$)("esri.renderers.visualVariables.support.SizeStop")],l);const u=l},82140:(t,e,i)=>{i.d(e,{A:()=>l});var n,r=i(66866),s=i(21564),o=(i(73446),i(85569),i(39831),i(63863)),a=i(45327);let h=n=class extends a.A{constructor(){super(...arguments),this.customValues=null}clone(){return new n({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};(0,r._)([(0,s.MZ)({type:[Number],json:{write:!0}})],h.prototype,"customValues",void 0),h=n=(0,r._)([(0,o.$)("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],h);const l=h},45327:(t,e,i)=>{i.d(e,{A:()=>l});var n,r=i(66866),s=i(21564),o=(i(73446),i(85569),i(39831),i(63863)),a=i(38785);let h=n=class extends a.q{constructor(){super(...arguments),this.showLegend=null}clone(){return new n({title:this.title,showLegend:this.showLegend})}};(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],h.prototype,"showLegend",void 0),h=n=(0,r._)([(0,o.$)("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],h);const l=h},99412:(t,e,i)=>{var n,r;function s(t){return t&&"esri.renderers.visualVariables.SizeVariable"===t.declaredClass}function o(t){return null!=t&&!isNaN(t)&&isFinite(t)}function a(t){return t.valueExpression?n.Expression:t.field&&"string"==typeof t.field?n.Field:n.Unknown}function h(t,e){const i=e||a(t),s=t.valueUnit||"unknown";return i===n.Unknown?r.Constant:t.stops?r.Stops:null!=t.minSize&&null!=t.maxSize&&null!=t.minDataValue&&null!=t.maxDataValue?r.ClampedLinear:"unknown"===s?null!=t.minSize&&null!=t.minDataValue?t.minSize&&t.minDataValue?r.Proportional:r.Additive:r.Identity:r.RealWorldSize}i.d(e,{KZ:()=>h,Yf:()=>n,_w:()=>r,eh:()=>a,gf:()=>o,of:()=>s}),function(t){t.Unknown="unknown",t.Expression="expression",t.Field="field"}(n||(n={})),function(t){t.Unknown="unknown",t.Stops="stops",t.ClampedLinear="clamped-linear",t.Proportional="proportional",t.Additive="additive",t.Constant="constant",t.Identity="identity",t.RealWorldSize="real-world-size"}(r||(r={}))},28479:(t,e,i)=>{i.r(e),i.d(e,{getAllSizes:()=>S,getColor:()=>p,getOpacity:()=>d,getRotationAngle:()=>v,getSize:()=>g,getSizeForValue:()=>_,getSizeFromNumberOrVariable:()=>y,getSizeRangeAtScale:()=>b,getVisualVariableValues:()=>w,viewScaleRE:()=>f});var n=i(96220),r=i(25707),s=i(73345),o=i(539),a=i(10301),h=i(99412);const l=o.A.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),u=new r.A,c=Math.PI,f=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function p(t,e,i){const r="visualVariables"in t&&t.visualVariables?t.visualVariables.find((t=>"color"===t.type)):t;if(!r)return;if("esri.renderers.visualVariables.ColorVariable"!==r.declaredClass)return void l.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const s="number"==typeof e,o=s?null:e,a=o?.attributes;let h=s?e:null;const u=r.field,{ipData:c,hasExpression:f}=r.cache;let p=r.cache.compiledFunc;if(!u&&!f){const t=r.stops;return t&&t[0]&&t[0].color}if("number"!=typeof h)if(f){if(null==i?.arcade)return void l.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},e=i.arcade.arcadeUtils,n=e.getViewInfo(t),s=e.createExecContext(o,n,i.timeZone);if(!p){const t=e.createSyntaxTree(r.valueExpression);p=e.createFunction(t),r.cache.compiledFunc=p}h=e.executeFunction(p,s)}else a&&(h=a[u]);const d=r.normalizationField,v=null!=a&&null!=d?parseFloat(a[d]):void 0;if(null!=h&&(!d||s||!isNaN(v)&&0!==v)){isNaN(v)||s||(h/=v);const t=x(h,c);if(t){const e=t[0],s=t[1],o=e===s?r.stops[e].color:n.A.blendColors(r.stops[e].color,r.stops[s].color,t[2],null!=i?i.color:void 0);return new n.A(o)}}}function d(t,e,i){const n="visualVariables"in t&&t.visualVariables?t.visualVariables.find((t=>"opacity"===t.type)):t;if(!n)return;if("esri.renderers.visualVariables.OpacityVariable"!==n.declaredClass)return void l.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const r="number"==typeof e,s=r?null:e,o=s?.attributes;let a=r?e:null;const h=n.field,{ipData:u,hasExpression:c}=n.cache;let f=n.cache.compiledFunc;if(!h&&!c){const t=n.stops;return t&&t[0]&&t[0].opacity}if("number"!=typeof a)if(c){if(null==i?.arcade)return void l.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},e=i.arcade.arcadeUtils,r=e.getViewInfo(t),o=e.createExecContext(s,r,i.timeZone);if(!f){const t=e.createSyntaxTree(n.valueExpression);f=e.createFunction(t),n.cache.compiledFunc=f}a=e.executeFunction(f,o)}else o&&(a=o[h]);const p=n.normalizationField,d=null!=o&&null!=p?parseFloat(o[p]):void 0;if(null!=a&&(!p||r||!isNaN(d)&&0!==d)){isNaN(d)||r||(a/=d);const t=x(a,u);if(t){const e=t[0],i=t[1];if(e===i)return n.stops[e].opacity;{const r=n.stops[e].opacity;return r+(n.stops[i].opacity-r)*t[2]}}}}function v(t,e,i){const n="visualVariables"in t&&t.visualVariables?t.visualVariables.find((t=>"rotation"===t.type)):t;if(!n)return;if("esri.renderers.visualVariables.RotationVariable"!==n.declaredClass)return void l.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const r=n.axis||"heading",s="heading"===r&&"arithmetic"===n.rotationType?90:0,o="heading"===r&&"arithmetic"===n.rotationType?-1:1,a="number"==typeof e?null:e,h=a?.attributes,u=n.field,{hasExpression:c}=n.cache;let f=n.cache.compiledFunc,p=0;if(!u&&!c)return p;if(c){if(null==i?.arcade)return void l.error("Use of arcade expressions requires an arcade context");const t={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},e=i.arcade.arcadeUtils,r=e.getViewInfo(t),s=e.createExecContext(a,r,i.timeZone);if(!f){const t=e.createSyntaxTree(n.valueExpression);f=e.createFunction(t),n.cache.compiledFunc=f}p=e.executeFunction(f,s)}else h&&(p=h[u]||0);return p="number"!=typeof p||isNaN(p)?null:s+o*p,p}function g(t,e,i){const n="visualVariables"in t&&t.visualVariables?t.visualVariables.find((t=>"size"===t.type)):t;if(!n)return;if("esri.renderers.visualVariables.SizeVariable"!==n.declaredClass)return void l.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const r=_(function(t,e,i){const n="number"==typeof e,r=n?null:e,s=r?.attributes;let o=n?e:null;const{isScaleDriven:a}=t.cache;let u=t.cache.compiledFunc;if(a){const e=null!=i?i.scale:void 0,n=null!=i?i.view:void 0;o=null==e||"3d"===n?function(t){let e=null,i=null;const n=t.stops;return n?(e=n[0].value,i=n[n.length-1].value):(e=t.minDataValue||0,i=t.maxDataValue||0),(e+i)/2}(t):e}else if(!n)switch(t.inputValueType){case h.Yf.Expression:{if(null==i?.arcade)return void l.error("Use of arcade expressions requires an arcade context");const e={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},n=i.arcade.arcadeUtils,s=n.getViewInfo(e),a=n.createExecContext(r,s,i.timeZone);if(!u){const e=n.createSyntaxTree(t.valueExpression);u=n.createFunction(e),t.cache.compiledFunc=u}o=n.executeFunction(u,a);break}case h.Yf.Field:s&&(o=s[t.field]);break;case h.Yf.Unknown:o=null}if(!(0,h.gf)(o))return null;if(n||!t.normalizationField)return o;const c=s?parseFloat(s[t.normalizationField]):null;return(0,h.gf)(c)&&0!==c?o/c:null}(n,e,i),n,e,i,n.cache.ipData);return null==r||isNaN(r)?0:r}function y(t,e,i){return null==t?null:(0,h.of)(t)?g(t,e,i):(0,h.gf)(t)?t:null}function m(t,e,i){return(0,h.gf)(i)&&t>i?i:(0,h.gf)(e)&&t<e?e:t}function _(t,e,i,n,r){switch(e.transformationType){case h._w.Additive:return function(t,e,i,n){return t+((y(e.minSize,i,n)||e.minDataValue)??0)}(t,e,i,n);case h._w.Constant:return function(t,e,i){const n=t.stops;let r=n?.length&&n[0].size;return null==r&&(r=t.minSize),y(r,e,i)}(e,i,n);case h._w.ClampedLinear:return function(t,e,i,n){const r=(t-e.minDataValue)/(e.maxDataValue-e.minDataValue),s=y(e.minSize,i,n),o=y(e.maxSize,i,n),a=null!=n?n.shape:void 0;if(t<=e.minDataValue)return s;if(t>=e.maxDataValue)return o;if(null==s||null==o)return null;if("area"===e.scaleBy&&a){const t="circle"===a,e=t?c*(s/2)**2:s*s,i=e+r*((t?c*(o/2)**2:o*o)-e);return t?2*Math.sqrt(i/c):Math.sqrt(i)}return s+r*(o-s)}(t,e,i,n);case h._w.Proportional:return function(t,e,i,n){const r=null!=n?n.shape:void 0,s=t/e.minDataValue,o=y(e.minSize,i,n),a=y(e.maxSize,i,n);let h=null;return h="circle"===r?2*Math.sqrt(s*(o/2)**2):"square"===r||"diamond"===r||"image"===r?Math.sqrt(s*o**2):s*o,m(h,o,a)}(t,e,i,n);case h._w.Stops:return function(t,e,i,n,r){const[s,o,a]=x(t,r);if(s===o)return y(e.stops?.[s].size,i,n);{const t=y(e.stops?.[s].size,i,n);return t+(y(e.stops?.[o].size,i,n)-t)*a}}(t,e,i,n,r);case h._w.RealWorldSize:return function(t,e,i,n){const r=(n?.resolution??1)*a.j[e.valueUnit],s=y(e.minSize,i,n),o=y(e.maxSize,i,n),{valueRepresentation:h}=e;let l=null;return l="area"===h?2*Math.sqrt(t/c)/r:"radius"===h||"distance"===h?2*t/r:t/r,m(l,s,o)}(t,e,i,n);case h._w.Identity:return t;case h._w.Unknown:return null}}function b(t,e,i){const{isScaleDriven:n}=t.cache;if(!(n&&"3d"===i||e))return null;const r={scale:e,view:i};let s=y(t.minSize,u,r),o=y(t.maxSize,u,r);if(null!=s||null!=o){if(s>o){const t=o;o=s,s=t}return{minSize:s,maxSize:o}}}function w(t,e,i){if(!t.visualVariables)return;const n=[],r=[],s=[],o=[],a=[];for(const h of t.visualVariables)switch(h.type){case"color":r.push(h);break;case"opacity":s.push(h);break;case"rotation":a.push(h);break;case"size":o.push(h)}return r.forEach((t=>{const r=p(t,e,i);n.push({variable:t,value:r})})),s.forEach((t=>{const r=d(t,e,i);n.push({variable:t,value:r})})),a.forEach((t=>{const r=v(t,e,i);n.push({variable:t,value:r})})),o.forEach((t=>{const r=g(t,e,i);n.push({variable:t,value:r})})),n.filter((t=>null!=t.value))}function x(t,e){if(!e)return;let i=0,n=e.length-1;return e.some(((e,r)=>t<e?(n=r,!0):(i=r,!1))),[i,n,(t-e[i])/(e[n]-e[i])]}function S(t,e,i){const n=["proportional","proportional","proportional"];for(const r of t){const t=r.useSymbolValue?"symbol-value":g(r,e,i);switch(r.axis){case"width":n[0]=t;break;case"depth":n[1]=t;break;case"height":n[2]=t;break;case"width-and-depth":n[0]=t,n[1]=t;break;case"all":case void 0:case null:n[0]=t,n[1]=t,n[2]=t;break;default:(0,s.Xb)(r.axis)}}return n}},80196:(t,e,i)=>{i.d(e,{A:()=>p});var n,r=i(66866),s=i(96220),o=i(19251),a=i(21564),h=i(73446),l=i(28902),u=i(63863),c=i(87673);let f=n=class extends c.A{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new n({fromColor:(0,o.o8)(this.fromColor),toColor:(0,o.o8)(this.toColor),algorithm:this.algorithm})}};(0,r._)([(0,l.e)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],f.prototype,"algorithm",void 0),(0,r._)([(0,a.MZ)({type:s.A,json:{type:[h.jz],write:!0}})],f.prototype,"fromColor",void 0),(0,r._)([(0,a.MZ)({type:s.A,json:{type:[h.jz],write:!0}})],f.prototype,"toColor",void 0),(0,r._)([(0,a.MZ)({type:["algorithmic"]})],f.prototype,"type",void 0),f=n=(0,r._)([(0,u.$)("esri.rest.support.AlgorithmicColorRamp")],f);const p=f},27973:(t,e,i)=>{i.d(e,{A:()=>f});var n,r=i(66866),s=i(21877),o=i(19251),a=i(21564),h=i(73446),l=i(63863),u=i(77542);let c=n=class extends s.oY{constructor(t){super(t),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10}clone(){return new n((0,o.o8)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};(0,r._)([(0,a.MZ)({type:[String],json:{write:!0}})],c.prototype,"attachmentTypes",void 0),(0,r._)([(0,a.MZ)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],c.prototype,"attachmentsWhere",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],c.prototype,"cacheHint",void 0),(0,r._)([(0,a.MZ)({type:[String],json:{write:!0}})],c.prototype,"keywords",void 0),(0,r._)([(0,a.MZ)({type:[Number],json:{write:!0}})],c.prototype,"globalIds",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],c.prototype,"name",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],c.prototype,"num",void 0),(0,r._)([(0,a.MZ)({type:[Number],json:{write:!0}})],c.prototype,"objectIds",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{default:!1,write:!0}})],c.prototype,"returnMetadata",void 0),(0,r._)([(0,a.MZ)({type:[Number],json:{write:!0}})],c.prototype,"size",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],c.prototype,"start",void 0),(0,r._)([(0,u.K)("start"),(0,u.K)("num")],c.prototype,"writeStart",null),(0,r._)([(0,a.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],c.prototype,"where",void 0),c=n=(0,r._)([(0,l.$)("esri.rest.support.AttachmentQuery")],c),c.from=(0,h.dp)(c);const f=c},87673:(t,e,i)=>{i.d(e,{A:()=>h});var n=i(66866),r=i(21877),s=i(21564),o=(i(73446),i(85569),i(39831),i(63863));let a=class extends r.oY{constructor(t){super(t),this.type=null}};(0,n._)([(0,s.MZ)({readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,n._)([(0,o.$)("esri.rest.support.ColorRamp")],a);const h=a},57822:(t,e,i)=>{i.d(e,{A:()=>_});var n,r=i(66866),s=i(17639),o=i(25707),a=i(59851),h=i(21877),l=i(19251),u=i(21564),c=(i(73446),i(75094)),f=i(63863),p=i(77542),d=i(78983),v=i(1171),g=i(24738);const y=new a.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let m=n=class extends h.oY{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,e){const i=d.A.fromJSON(e.spatialReference),n=[];for(let r=0;r<t.length;r++){const e=t[r],s=o.A.fromJSON(e),a=e.geometry?.spatialReference;null==s.geometry||a||(s.geometry.spatialReference=i);const h=e.aggregateGeometries,l=s.aggregateGeometries;if(h&&null!=l)for(const t in l){const e=l[t],n=h[t],r=n?.spatialReference;null==e||r||(e.spatialReference=i)}n.push(s)}return n}writeGeometryType(t,e,i,n){if(t)return void y.write(t,e,i,n);const{features:r}=this;if(r)for(const s of r)if(null!=s?.geometry)return void y.write(s.geometry.type,e,i,n)}readQueryGeometry(t,e){if(!t)return null;const i=!!t.spatialReference,n=(0,v.rS)(t);return n&&!i&&e.spatialReference&&(n.spatialReference=d.A.fromJSON(e.spatialReference)),n}writeSpatialReference(t,e){if(t)return void(e.spatialReference=t.toJSON());const{features:i}=this;if(i)for(const n of i)if(n&&null!=n.geometry&&n.geometry.spatialReference)return void(e.spatialReference=n.geometry.spatialReference.toJSON())}clone(){return new n(this.cloneProperties())}cloneProperties(){return(0,l.o8)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){const e=this.write();if(e.features&&Array.isArray(t)&&t.length>0)for(let i=0;i<e.features.length;i++){const n=e.features[i];if(n.geometry){const e=t?.[i];n.geometry=e?.toJSON()||n.geometry}}return e}quantize(t){const{scale:[e,i],translate:[n,r]}=t,s=this.features,o=this._getQuantizationFunction(this.geometryType,(t=>Math.round((t-n)/e)),(t=>Math.round((r-t)/i)));for(let a=0,h=s.length;a<h;a++)o?.(s[a].geometry)||(s.splice(a,1),a--,h--);return this.transform=t,this}unquantize(){const{geometryType:t,features:e,transform:i}=this;if(!i)return this;const{translate:[n,r],scale:[s,o]}=i;let a=null,h=null;if(this.hasZ&&null!=i?.scale?.[2]){const{translate:[,,t],scale:[,,e]}=i;a=i=>i*e+t}if(this.hasM&&null!=i?.scale?.[3]){const{translate:[,,,t],scale:[,,,e]}=i;h=i=>null==i?i:i*e+t}const l=this._getHydrationFunction(t,(t=>t*s+n),(t=>r-t*o),a,h);for(const{geometry:u}of e)null!=u&&l&&l(u);return this.transform=null,this}_quantizePoints(t,e,i){let n,r;const s=[];for(let o=0,a=t.length;o<a;o++){const a=t[o];if(o>0){const t=e(a[0]),o=i(a[1]);t===n&&o===r||(s.push([t-n,o-r]),n=t,r=o)}else n=e(a[0]),r=i(a[1]),s.push([n,r])}return s.length>0?s:null}_getQuantizationFunction(t,e,i){return"point"===t?t=>(t.x=e(t.x),t.y=i(t.y),t):"polyline"===t||"polygon"===t?t=>{const n=(0,v.Bi)(t)?t.rings:t.paths,r=[];for(let s=0,o=n.length;s<o;s++){const t=n[s],o=this._quantizePoints(t,e,i);o&&r.push(o)}return r.length>0?((0,v.Bi)(t)?t.rings=r:t.paths=r,t):null}:"multipoint"===t?t=>{const n=this._quantizePoints(t.points,e,i);return n&&n.length>0?(t.points=n,t):null}:"extent"===t?t=>t:null}_getHydrationFunction(t,e,i,n,r){return"point"===t?t=>{t.x=e(t.x),t.y=i(t.y),n&&(t.z=n(t.z))}:"polyline"===t||"polygon"===t?t=>{const s=(0,v.Bi)(t)?t.rings:t.paths;let o,a;for(let n=0,r=s.length;n<r;n++){const t=s[n];for(let n=0,r=t.length;n<r;n++){const r=t[n];n>0?(o+=r[0],a+=r[1]):(o=r[0],a=r[1]),r[0]=e(o),r[1]=i(a)}}if(n&&r)for(let e=0,i=s.length;e<i;e++){const t=s[e];for(let e=0,i=t.length;e<i;e++){const i=t[e];i[2]=n(i[2]),i[3]=r(i[3])}}else if(n)for(let e=0,i=s.length;e<i;e++){const t=s[e];for(let e=0,i=t.length;e<i;e++){const i=t[e];i[2]=n(i[2])}}else if(r)for(let e=0,i=s.length;e<i;e++){const t=s[e];for(let e=0,i=t.length;e<i;e++){const i=t[e];i[2]=r(i[2])}}}:"extent"===t?t=>{t.xmin=e(t.xmin),t.ymin=i(t.ymin),t.xmax=e(t.xmax),t.ymax=i(t.ymax),n&&null!=t.zmax&&null!=t.zmin&&(t.zmax=n(t.zmax),t.zmin=n(t.zmin)),r&&null!=t.mmax&&null!=t.mmin&&(t.mmax=r(t.mmax),t.mmin=r(t.mmin))}:"multipoint"===t?t=>{const s=t.points;let o,a;for(let n=0,r=s.length;n<r;n++){const t=s[n];n>0?(o+=t[0],a+=t[1]):(o=t[0],a=t[1]),t[0]=e(o),t[1]=i(a)}if(n&&r)for(let e=0,i=s.length;e<i;e++){const t=s[e];t[2]=n(t[2]),t[3]=r(t[3])}else if(n)for(let e=0,i=s.length;e<i;e++){const t=s[e];t[2]=n(t[2])}else if(r)for(let e=0,i=s.length;e<i;e++){const t=s[e];t[2]=r(t[2])}}:null}};(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],m.prototype,"displayFieldName",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],m.prototype,"exceededTransferLimit",void 0),(0,r._)([(0,u.MZ)({type:[o.A],json:{write:!0}})],m.prototype,"features",void 0),(0,r._)([(0,c.w)("features")],m.prototype,"readFeatures",null),(0,r._)([(0,u.MZ)({type:[g.A],json:{write:!0}})],m.prototype,"fields",void 0),(0,r._)([(0,u.MZ)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:y.read}}})],m.prototype,"geometryType",void 0),(0,r._)([(0,p.K)("geometryType")],m.prototype,"writeGeometryType",null),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],m.prototype,"hasM",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],m.prototype,"hasZ",void 0),(0,r._)([(0,u.MZ)({types:s.yR,json:{write:!0}})],m.prototype,"queryGeometry",void 0),(0,r._)([(0,c.w)("queryGeometry")],m.prototype,"readQueryGeometry",null),(0,r._)([(0,u.MZ)({type:d.A,json:{write:!0}})],m.prototype,"spatialReference",void 0),(0,r._)([(0,p.K)("spatialReference")],m.prototype,"writeSpatialReference",null),(0,r._)([(0,u.MZ)({json:{write:!0}})],m.prototype,"transform",void 0),m=n=(0,r._)([(0,f.$)("esri.rest.support.FeatureSet")],m),m.prototype.toJSON.isDefaultToJSON=!0;const _=m},44146:(t,e,i)=>{i.d(e,{A:()=>l});var n=i(66866),r=i(24793),s=i(21877),o=i(21564),a=(i(73446),i(85569),i(39831),i(63863));let h=class extends((0,r.O)(s.oY)){constructor(t){super(t),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,n._)([(0,o.MZ)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],h.prototype,"onFields",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"operator",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"searchTerm",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"searchType",void 0),h=(0,n._)([(0,a.$)("esri.rest.support.FullTextSearch")],h);const l=h},17771:(t,e,i)=>{i.d(e,{A:()=>c});var n,r=i(66866),s=i(19251),o=i(21564),a=(i(73446),i(63863)),h=i(80196),l=i(87673);let u=n=class extends l.A{constructor(t){super(t),this.colorRamps=null,this.type="multipart"}clone(){return new n({colorRamps:(0,s.o8)(this.colorRamps)})}};(0,r._)([(0,o.MZ)({type:[h.A],json:{write:!0}})],u.prototype,"colorRamps",void 0),(0,r._)([(0,o.MZ)({type:["multipart"]})],u.prototype,"type",void 0),u=n=(0,r._)([(0,a.$)("esri.rest.support.MultipartColorRamp")],u);const c=u},14474:(t,e,i)=>{i.d(e,{A:()=>E});var n,r=i(66866),s=i(17639),o=i(19790),a=i(59851),h=i(21877),l=i(19251),u=i(21564),c=i(4130),f=i(28902),p=i(63863),d=i(77542),v=i(73446),g=i(1171),y=i(44360),m=i(44146),_=i(19925),b=i(41969),w=i(78983),x=i(78632);const S=new a.J({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),T=new a.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let A=n=class extends h.oY{static from(t){return(0,v.PZ)(n,t)}constructor(t){super(t),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(t){return"number"==typeof t||"object"==typeof t?t:null}writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}writeParameterValues(t,e){if(t){const i={};for(const e in t){const n=t[e];Array.isArray(n)?i[e]=n.map((t=>t instanceof Date?t.getTime():t)):n instanceof Date?i[e]=n.getTime():i[e]=n}e.parameterValues=i}}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,e.where="1=1"}writeWhere(t,e){e.where=t||"1=1"}clone(){return new n((0,l.o8)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};A.MAX_MAX_RECORD_COUNT_FACTOR=5,(0,r._)([(0,u.MZ)({json:{write:!0}})],A.prototype,"aggregateIds",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],A.prototype,"cacheHint",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"compactGeometryEnabled",void 0),(0,r._)([(0,u.MZ)({json:{write:!0}})],A.prototype,"datumTransformation",void 0),(0,r._)([(0,c.w)("datumTransformation")],A.prototype,"castDatumTransformation",null),(0,r._)([(0,u.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"defaultSpatialReferenceEnabled",void 0),(0,r._)([(0,u.MZ)({type:Number,json:{write:{overridePolicy:t=>({enabled:t>0})}}})],A.prototype,"distance",void 0),(0,r._)([(0,u.MZ)({type:y.L,json:{write:!0}})],A.prototype,"dynamicDataSource",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],A.prototype,"formatOf3DObjects",void 0),(0,r._)([(0,u.MZ)({type:[m.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],A.prototype,"fullText",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],A.prototype,"gdbVersion",void 0),(0,r._)([(0,u.MZ)({types:s.yR,json:{read:g.rS,write:!0}})],A.prototype,"geometry",void 0),(0,r._)([(0,u.MZ)({type:Number,json:{write:!0}})],A.prototype,"geometryPrecision",void 0),(0,r._)([(0,u.MZ)({type:[String],json:{write:!0}})],A.prototype,"groupByFieldsForStatistics",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],A.prototype,"having",void 0),(0,r._)([(0,u.MZ)({type:Date})],A.prototype,"historicMoment",void 0),(0,r._)([(0,d.K)("historicMoment")],A.prototype,"writeHistoricMoment",null),(0,r._)([(0,u.MZ)({type:Number,json:{write:!0}})],A.prototype,"maxAllowableOffset",void 0),(0,r._)([(0,u.MZ)({type:Number,cast:t=>t<1?1:t>A.MAX_MAX_RECORD_COUNT_FACTOR?A.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],A.prototype,"maxRecordCountFactor",void 0),(0,r._)([(0,u.MZ)({type:["xyFootprint"],json:{write:!0}})],A.prototype,"multipatchOption",void 0),(0,r._)([(0,u.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],A.prototype,"num",void 0),(0,r._)([(0,u.MZ)({json:{write:!0}})],A.prototype,"objectIds",void 0),(0,r._)([(0,u.MZ)({type:[String],json:{write:!0}})],A.prototype,"orderByFields",void 0),(0,r._)([(0,u.MZ)({type:[String],json:{write:!0}})],A.prototype,"outFields",void 0),(0,r._)([(0,u.MZ)({type:w.A,json:{name:"outSR",write:!0}})],A.prototype,"outSpatialReference",void 0),(0,r._)([(0,u.MZ)({type:[b.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],A.prototype,"outStatistics",void 0),(0,r._)([(0,u.MZ)({json:{write:!0}})],A.prototype,"parameterValues",void 0),(0,r._)([(0,d.K)("parameterValues")],A.prototype,"writeParameterValues",null),(0,r._)([(0,u.MZ)({type:x.A,json:{write:!0}})],A.prototype,"pixelSize",void 0),(0,r._)([(0,u.MZ)({type:_.A,json:{write:!0}})],A.prototype,"quantizationParameters",void 0),(0,r._)([(0,u.MZ)({type:[Object],json:{write:!0}})],A.prototype,"rangeValues",void 0),(0,r._)([(0,u.MZ)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],A.prototype,"relationParameter",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],A.prototype,"resultType",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnCentroid",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnDistinctValues",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{default:!0,write:!0}})],A.prototype,"returnExceededLimitFeatures",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],A.prototype,"returnGeometry",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnQueryGeometry",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"returnM",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],A.prototype,"returnZ",void 0),(0,r._)([(0,u.MZ)({type:w.A,json:{write:!0}})],A.prototype,"sourceSpatialReference",void 0),(0,r._)([(0,f.e)(S,{ignoreUnknown:!1,name:"spatialRel"})],A.prototype,"spatialRelationship",void 0),(0,r._)([(0,u.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],A.prototype,"start",void 0),(0,r._)([(0,d.K)("start"),(0,d.K)("num")],A.prototype,"writeStart",null),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],A.prototype,"sqlFormat",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],A.prototype,"text",void 0),(0,r._)([(0,u.MZ)({type:o.A,json:{write:!0}})],A.prototype,"timeExtent",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{default:!1,write:!0}})],A.prototype,"timeReferenceUnknownClient",void 0),(0,r._)([(0,f.e)(T,{ignoreUnknown:!1}),(0,u.MZ)({json:{write:{overridePolicy(t){return{enabled:!!t&&null!=this.distance&&this.distance>0}}}}})],A.prototype,"units",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:{overridePolicy(t){return{enabled:null!=t||null!=this.start&&this.start>0}}}}})],A.prototype,"where",void 0),(0,r._)([(0,d.K)("where")],A.prototype,"writeWhere",null),A=n=(0,r._)([(0,p.$)("esri.rest.support.Query")],A);const E=A},97724:(t,e,i)=>{i.r(e),i.d(e,{default:()=>d});var n,r=i(66866),s=(i(17639),i(21877)),o=i(19251),a=i(21564),h=i(73446),l=i(63863),u=i(77542),c=i(44360),f=i(78983);let p=n=class extends s.oY{constructor(t){super(t),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(e.definitionExpression="1=1")}clone(){return new n((0,o.o8)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};(0,r._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"cacheHint",void 0),(0,r._)([(0,a.MZ)({type:c.L,json:{write:!0}})],p.prototype,"dynamicDataSource",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],p.prototype,"gdbVersion",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],p.prototype,"geometryPrecision",void 0),(0,r._)([(0,a.MZ)({type:Date})],p.prototype,"historicMoment",void 0),(0,r._)([(0,u.K)("historicMoment")],p.prototype,"_writeHistoricMoment",null),(0,r._)([(0,a.MZ)({type:Number,json:{write:!0}})],p.prototype,"maxAllowableOffset",void 0),(0,r._)([(0,a.MZ)({type:[Number],json:{write:!0}})],p.prototype,"objectIds",void 0),(0,r._)([(0,a.MZ)({type:[String],json:{write:!0}})],p.prototype,"orderByFields",void 0),(0,r._)([(0,a.MZ)({type:[String],json:{write:!0}})],p.prototype,"outFields",void 0),(0,r._)([(0,a.MZ)({type:f.A,json:{read:{source:"outSR"},write:{target:"outSR"}}})],p.prototype,"outSpatialReference",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],p.prototype,"relationshipId",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],p.prototype,"start",void 0),(0,r._)([(0,u.K)("start"),(0,u.K)("num")],p.prototype,"writeStart",null),(0,r._)([(0,a.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],p.prototype,"num",void 0),(0,r._)([(0,a.MZ)({json:{write:!0}})],p.prototype,"returnGeometry",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],p.prototype,"returnM",void 0),(0,r._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],p.prototype,"returnZ",void 0),(0,r._)([(0,a.MZ)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],p.prototype,"where",void 0),p=n=(0,r._)([(0,l.$)("esri.rest.support.RelationshipQuery")],p),p.from=(0,h.dp)(p);const d=p},41969:(t,e,i)=>{i.d(e,{A:()=>p});var n,r=i(66866),s=i(59851),o=i(21877),a=i(19251),h=i(21564),l=(i(73446),i(63863)),u=i(77542);const c=new s.J({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let f=n=class extends o.oY{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,e){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(e.statisticParameters=(0,a.o8)(t))}clone(){return new n({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,a.o8)(this.statisticParameters)})}};(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],f.prototype,"maxPointCount",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],f.prototype,"maxRecordCount",void 0),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],f.prototype,"maxVertexCount",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],f.prototype,"onStatisticField",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],f.prototype,"outStatisticFieldName",void 0),(0,r._)([(0,h.MZ)({type:String,json:{read:{source:"statisticType",reader:c.read},write:{target:"statisticType",writer:c.write}}})],f.prototype,"statisticType",void 0),(0,r._)([(0,h.MZ)({type:Object})],f.prototype,"statisticParameters",void 0),(0,r._)([(0,u.K)("statisticParameters")],f.prototype,"writeStatisticParameters",null),f=n=(0,r._)([(0,l.$)("esri.rest.support.StatisticDefinition")],f);const p=f},59740:(t,e,i)=>{i.d(e,{g:()=>o,r:()=>a});var n=i(80196),r=i(87673),s=i(17771);const o={key:"type",base:r.A,typeMap:{algorithmic:n.A,multipart:s.A}};function a(t){return t?.type?"algorithmic"===t.type?n.A.fromJSON(t):"multipart"===t.type?s.A.fromJSON(t):null:null}},59346:(t,e,i)=>{i.d(e,{Vd:()=>r,Vo:()=>a});var n=i(39831);const r=()=>!!(0,n.A)("enable-feature:force-wosr"),s=()=>n.A.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),o=()=>n.A.add("enable-i3s-patching",!1,!0,!0),a=()=>!!(0,n.A)("enable-feature:SceneLayer-editing");((t="i3s-patching")=>{switch(o(),s(),n.A.add("enable-feature:SceneLayer-editing",!0,!0,!0),t){case"feature-layer-view":n.A.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":n.A.add("enable-i3s-patching",!0,!0,!0)}})("i3s-patching")},44116:(t,e,i)=>{i.d(e,{tn:()=>l});var n=i(56542),r=i(42453),s=i(51777),o=(i(27597),i(80004),i(44395),i(3082)),a=(i(53155),i(73875),i(23676),i(31386)),h=i(56473);function l({displayField:t,editFieldsInfo:e,fields:i,objectIdField:a,title:h},l){if(!i)return null;const u=f({editFieldsInfo:e,fields:i,objectIdField:a},l);if(!u.length)return null;const c=function(t){const e=(0,r.mB)(t),{titleBase:i}=t;return e?`${i}: {${e.trim()}}`:i??""}({titleBase:h,fields:i,displayField:t}),p=[new o.A,new s.A];return new n.A({title:c,content:p,fieldInfos:u})}const u=(t,e)=>e.visibleFieldNames?e.visibleFieldNames.has(t.name):(0,r.Bz)(t,e);function c(t,e){return"oid"===t.type?-1:"oid"===e.type?1:d(t)?-1:d(e)?1:(t.alias||t.name).toLocaleLowerCase().localeCompare((e.alias||e.name).toLocaleLowerCase())}function f(t,e){const i=e?.visibleFieldNames;return function(t,e){const i=t;return e&&(t=t.filter((t=>!e.includes(t.type)))),t===i&&(t=t.slice()),t.sort(c),t}(t.fields??[],e?.ignoreFieldTypes||v).map((e=>new a.A({fieldName:e.name,isEditable:(0,r.R$)(e,t),label:e.alias,format:p(e),visible:u(e,{...t,visibleFieldNames:i})})))}function p(t){switch(t.type){case"small-integer":case"integer":case"single":return new h.A({digitSeparator:!0,places:0});case"double":return new h.A({digitSeparator:!0,places:2});case"string":return(0,r.JL)(t.name)?new h.A({digitSeparator:!0,places:0}):null;default:return null}}function d(t){return"name"===(t.name&&t.name.toLowerCase())||"name"===(t.alias&&t.alias.toLowerCase())}const v=["geometry","blob","raster","guid","xml"]},63643:(t,e,i)=>{var n,r,s,o,a,h,l,u,c,f,p,d,v,g,y,m,_,b,w,x,S,T,A,E,M,I,C,R,N,O,D,L,P,z,F,j,V,B,U,k,G,H,q,Z,W,Y,K,J,$,X,Q,tt,et,it,nt,rt,st,ot,at,ht,lt;i.d(e,{$2:()=>a,C1:()=>s,JO:()=>r,M1:()=>T,O$:()=>st,Q1:()=>Y,TZ:()=>m,WE:()=>R,Y:()=>l,YI:()=>J,bj:()=>u,e_:()=>W,f0:()=>rt,fu:()=>p,g7:()=>c,ip:()=>K,mU:()=>N,oF:()=>x,uQ:()=>S,uT:()=>j,vG:()=>at,wd:()=>k,xR:()=>n,xn:()=>_,xw:()=>M,yS:()=>V}),function(t){t[t.BUTT=0]="BUTT",t[t.ROUND=1]="ROUND",t[t.SQUARE=2]="SQUARE",t[t.UNKNOWN=4]="UNKNOWN"}(n||(n={})),function(t){t[t.BEVEL=0]="BEVEL",t[t.ROUND=1]="ROUND",t[t.MITER=2]="MITER",t[t.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(t){t[t.SCREEN=0]="SCREEN",t[t.MAP=1]="MAP"}(s||(s={})),function(t){t[t.Tint=0]="Tint",t[t.Ignore=1]="Ignore",t[t.Multiply=99]="Multiply"}(o||(o={})),function(t){t.Both="Both",t.JustBegin="JustBegin",t.JustEnd="JustEnd",t.None="None"}(a||(a={})),function(t){t[t.Mosaic=0]="Mosaic",t[t.Centered=1]="Centered"}(h||(h={})),function(t){t[t.Normal=0]="Normal",t[t.Superscript=1]="Superscript",t[t.Subscript=2]="Subscript"}(l||(l={})),function(t){t[t.MSSymbol=0]="MSSymbol",t[t.Unicode=1]="Unicode"}(u||(u={})),function(t){t[t.Unspecified=0]="Unspecified",t[t.TrueType=1]="TrueType",t[t.PSOpenType=2]="PSOpenType",t[t.TTOpenType=3]="TTOpenType",t[t.Type1=4]="Type1"}(c||(c={})),function(t){t[t.Display=0]="Display",t[t.Map=1]="Map"}(f||(f={})),function(t){t.None="None",t.Loop="Loop",t.Oscillate="Oscillate"}(p||(p={})),function(t){t[t.Z=0]="Z",t[t.X=1]="X",t[t.Y=2]="Y"}(d||(d={})),function(t){t[t.XYZ=0]="XYZ",t[t.ZXY=1]="ZXY",t[t.YXZ=2]="YXZ"}(v||(v={})),function(t){t[t.Rectangle=0]="Rectangle",t[t.RoundedRectangle=1]="RoundedRectangle",t[t.Oval=2]="Oval"}(g||(g={})),function(t){t[t.None=0]="None",t[t.Alpha=1]="Alpha",t[t.Screen=2]="Screen",t[t.Multiply=3]="Multiply",t[t.Add=4]="Add"}(y||(y={})),function(t){t[t.TTB=0]="TTB",t[t.RTL=1]="RTL",t[t.BTT=2]="BTT"}(m||(m={})),function(t){t[t.None=0]="None",t[t.SignPost=1]="SignPost",t[t.FaceNearPlane=2]="FaceNearPlane"}(_||(_={})),function(t){t[t.Float=0]="Float",t[t.String=1]="String",t[t.Boolean=2]="Boolean"}(b||(b={})),function(t){t[t.Intersect=0]="Intersect",t[t.Subtract=1]="Subtract"}(w||(w={})),function(t){t.OpenEnded="OpenEnded",t.Block="Block",t.Crossed="Crossed"}(x||(x={})),function(t){t.FullGeometry="FullGeometry",t.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",t.ReversedFirstSegment="ReversedFirstSegment",t.PerpendicularToSecondSegment="PerpendicularToSecondSegment",t.SecondSegmentWithTicks="SecondSegmentWithTicks",t.DoublePerpendicular="DoublePerpendicular",t.OppositeToFirstSegment="OppositeToFirstSegment",t.TriplePerpendicular="TriplePerpendicular",t.HalfCircleFirstSegment="HalfCircleFirstSegment",t.HalfCircleSecondSegment="HalfCircleSecondSegment",t.HalfCircleExtended="HalfCircleExtended",t.OpenCircle="OpenCircle",t.CoverageEdgesWithTicks="CoverageEdgesWithTicks",t.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",t.GapExtentMidline="GapExtentMidline",t.Chevron="Chevron",t.PerpendicularWithArc="PerpendicularWithArc",t.ClosedHalfCircle="ClosedHalfCircle",t.TripleParallelExtended="TripleParallelExtended",t.ParallelWithTicks="ParallelWithTicks",t.Parallel="Parallel",t.PerpendicularToFirstSegment="PerpendicularToFirstSegment",t.ParallelOffset="ParallelOffset",t.OffsetOpposite="OffsetOpposite",t.OffsetSame="OffsetSame",t.CircleWithArc="CircleWithArc",t.DoubleJog="DoubleJog",t.PerpendicularOffset="PerpendicularOffset",t.LineExcludingLastSegment="LineExcludingLastSegment",t.MultivertexArrow="MultivertexArrow",t.CrossedArrow="CrossedArrow",t.ChevronArrow="ChevronArrow",t.ChevronArrowOffset="ChevronArrowOffset",t.PartialFirstSegment="PartialFirstSegment",t.Arch="Arch",t.CurvedParallelTicks="CurvedParallelTicks",t.Arc90Degrees="Arc90Degrees"}(S||(S={})),function(t){t.Mitered="Mitered",t.Bevelled="Bevelled",t.Rounded="Rounded",t.Square="Square",t.TrueBuffer="TrueBuffer"}(T||(T={})),function(t){t.ClosePath="ClosePath",t.ConvexHull="ConvexHull",t.RectangularBox="RectangularBox"}(A||(A={})),function(t){t.BeginningOfLine="BeginningOfLine",t.EndOfLine="EndOfLine"}(E||(E={})),function(t){t.Mitered="Mitered",t.Bevelled="Bevelled",t.Rounded="Rounded",t.Square="Square"}(M||(M={})),function(t){t.Fast="Fast",t.Accurate="Accurate"}(I||(I={})),function(t){t.BeginningOfLine="BeginningOfLine",t.EndOfLine="EndOfLine"}(C||(C={})),function(t){t.Sinus="Sinus",t.Square="Square",t.Triangle="Triangle",t.Random="Random"}(R||(R={})),function(t){t[t.None=0]="None",t[t.Default=1]="Default",t[t.Force=2]="Force"}(N||(N={})),function(t){t[t.Buffered=0]="Buffered",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.AlongLine=3]="AlongLine"}(O||(O={})),function(t){t[t.Linear=0]="Linear",t[t.Rectangular=1]="Rectangular",t[t.Circular=2]="Circular",t[t.Buffered=3]="Buffered"}(D||(D={})),function(t){t[t.Discrete=0]="Discrete",t[t.Continuous=1]="Continuous"}(L||(L={})),function(t){t[t.AcrossLine=0]="AcrossLine",t[t.AloneLine=1]="AloneLine"}(P||(P={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Justify=3]="Justify"}(z||(z={})),function(t){t[t.Base=0]="Base",t[t.MidPoint=1]="MidPoint",t[t.ThreePoint=2]="ThreePoint",t[t.FourPoint=3]="FourPoint",t[t.Underline=4]="Underline",t[t.CircularCW=5]="CircularCW",t[t.CircularCCW=6]="CircularCCW"}(F||(F={})),function(t){t.Butt="Butt",t.Round="Round",t.Square="Square"}(j||(j={})),function(t){t.NoConstraint="NoConstraint",t.HalfPattern="HalfPattern",t.HalfGap="HalfGap",t.FullPattern="FullPattern",t.FullGap="FullGap",t.Custom="Custom"}(V||(V={})),function(t){t[t.None=-1]="None",t[t.Custom=0]="Custom",t[t.Circle=1]="Circle",t[t.OpenArrow=2]="OpenArrow",t[t.ClosedArrow=3]="ClosedArrow",t[t.Diamond=4]="Diamond"}(B||(B={})),function(t){t[t.ExtraLeading=0]="ExtraLeading",t[t.Multiple=1]="Multiple",t[t.Exact=2]="Exact"}(U||(U={})),function(t){t.Bevel="Bevel",t.Round="Round",t.Miter="Miter"}(k||(k={})),function(t){t[t.Default=0]="Default",t[t.String=1]="String",t[t.Numeric=2]="Numeric"}(G||(G={})),function(t){t[t.InsidePolygon=0]="InsidePolygon",t[t.PolygonCenter=1]="PolygonCenter",t[t.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(H||(H={})),function(t){t[t.Tint=0]="Tint",t[t.Replace=1]="Replace",t[t.Multiply=2]="Multiply"}(q||(q={})),function(t){t[t.ClipAtBoundary=0]="ClipAtBoundary",t[t.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",t[t.DoNotTouchBoundary=2]="DoNotTouchBoundary",t[t.DoNotClip=3]="DoNotClip"}(Z||(Z={})),function(t){t.NoConstraint="NoConstraint",t.WithMarkers="WithMarkers",t.WithFullGap="WithFullGap",t.WithHalfGap="WithHalfGap",t.Custom="Custom"}(W||(W={})),function(t){t.Fixed="Fixed",t.Random="Random",t.RandomFixedQuantity="RandomFixedQuantity"}(Y||(Y={})),function(t){t.LineMiddle="LineMiddle",t.LineBeginning="LineBeginning",t.LineEnd="LineEnd",t.SegmentMidpoint="SegmentMidpoint"}(K||(K={})),function(t){t.OnPolygon="OnPolygon",t.CenterOfMass="CenterOfMass",t.BoundingBoxCenter="BoundingBoxCenter"}(J||(J={})),function(t){t[t.Low=0]="Low",t[t.Medium=1]="Medium",t[t.High=2]="High"}($||($={})),function(t){t[t.MarkerCenter=0]="MarkerCenter",t[t.MarkerBounds=1]="MarkerBounds"}(X||(X={})),function(t){t[t.None=0]="None",t[t.PropUniform=1]="PropUniform",t[t.PropNonuniform=2]="PropNonuniform",t[t.DifUniform=3]="DifUniform",t[t.DifNonuniform=4]="DifNonuniform"}(Q||(Q={})),function(t){t.Tube="Tube",t.Strip="Strip",t.Wall="Wall"}(tt||(tt={})),function(t){t[t.Random=0]="Random",t[t.Increasing=1]="Increasing",t[t.Decreasing=2]="Decreasing",t[t.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(et||(et={})),function(t){t[t.Relative=0]="Relative",t[t.Absolute=1]="Absolute"}(it||(it={})),function(t){t[t.Normal=0]="Normal",t[t.LowerCase=1]="LowerCase",t[t.Allcaps=2]="Allcaps"}(nt||(nt={})),function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(rt||(rt={})),function(t){t.Draft="Draft",t.Picture="Picture",t.Text="Text"}(st||(st={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Baseline=2]="Baseline",t[t.Bottom=3]="Bottom"}(ot||(ot={})),function(t){t[t.Right=0]="Right",t[t.Upright=1]="Upright"}(at||(at={})),function(t){t[t.Small=0]="Small",t[t.Medium=1]="Medium",t[t.Large=2]="Large"}(ht||(ht={})),function(t){t[t.Calm=0]="Calm",t[t.Rippled=1]="Rippled",t[t.Slight=2]="Slight",t[t.Moderate=3]="Moderate"}(lt||(lt={}))},50072:(t,e,i)=>{function n(t){return"function"==typeof t}function r(t,e,i,r){return n(t)?t(e,i,r):t}function s(t){return[t.r,t.g,t.b,t.a]}i.d(e,{Bu:()=>R,DW:()=>E,FM:()=>l,G9:()=>s,Go:()=>f,Kn:()=>T,MM:()=>v,Nl:()=>N,Ny:()=>b,O2:()=>O,P3:()=>u,UE:()=>D,ZT:()=>p,_1:()=>I,_H:()=>x,_W:()=>_,_d:()=>A,gQ:()=>h,jn:()=>y,lO:()=>c,lW:()=>d,mA:()=>g,n5:()=>L,pM:()=>M,pV:()=>S,qJ:()=>n,s4:()=>r,xo:()=>C,yH:()=>w,zr:()=>m});const o=" /-,\n";function a(t){let e=t.length;for(;e--;)if(!o.includes(t.charAt(e)))return!1;return!0}function h(t,e){const i=[];let n=0,r=-1;do{if(r=t.indexOf("[",n),r>=n){if(r>n){const e=t.substr(n,r-n);i.push([e,null,a(e)])}if(n=r+1,r=t.indexOf("]",n),r>=n){if(r>n){const s=e[t.substr(n,r-n)];s&&i.push([null,s,!1])}n=r+1}}}while(-1!==r);if(n<t.length-1){const e=t.substr(n);i.push([e,null,a(e)])}return i}function l(t,e,i){let n="",r=null;for(const s of e){const[e,i,o]=s;if(e)o?r=e:(r&&(n+=r,r=null),n+=e);else{const e=t.attributes[i];e&&(r&&(n+=r,r=null),n+=e)}}return c(n,i)}function u(t,e,i){const n=h(e,t);return t=>l(t,n,i)}function c(t,e){switch("string"!=typeof t&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function f(t,e,i,n,r,s,o=!0){const a=e/r,h=i/s,l=Math.ceil(a/2),u=Math.ceil(h/2);for(let c=0;c<s;c++)for(let i=0;i<r;i++){const f=4*(i+(o?s-c-1:c)*r);let p=0,d=0,v=0,g=0,y=0,m=0,_=0;const b=(c+.5)*h;for(let n=Math.floor(c*h);n<(c+1)*h;n++){const r=Math.abs(b-(n+.5))/u,s=(i+.5)*a,o=r*r;for(let h=Math.floor(i*a);h<(i+1)*a;h++){let i=Math.abs(s-(h+.5))/l;const r=Math.sqrt(o+i*i);r>=-1&&r<=1&&(p=2*r*r*r-3*r*r+1,p>0&&(i=4*(h+n*e),_+=p*t[i+3],v+=p,t[i+3]<255&&(p=p*t[i+3]/250),g+=p*t[i],y+=p*t[i+1],m+=p*t[i+2],d+=p))}}n[f]=g/d,n[f+1]=y/d,n[f+2]=m/d,n[f+3]=_/v}}function p(t){return t?{r:t[0],g:t[1],b:t[2],a:t[3]/255}:{r:0,g:0,b:0,a:0}}function d(t){return t.data?.symbol??null}function v(t){return"CIMVectorMarker"===t.type||"CIMPictureMarker"===t.type||"CIMBarChartMarker"===t.type||"CIMCharacterMarker"===t.type||"CIMPieChartMarker"===t.type||"CIMStackedBarChartMarker"===t.type}function g(t){return"CIMGradientStroke"===t.type||"CIMPictureStroke"===t.type||"CIMSolidStroke"===t.type}function y(t){return null!=t&&("CIMGradientFill"===t.type||"CIMHatchFill"===t.type||"CIMPictureFill"===t.type||"CIMSolidFill"===t.type||"CIMWaterFill"===t.type)}function m(t){return null!=t&&("CIMMarkerPlacementAlongLineRandomSize"===t.type||"CIMMarkerPlacementAlongLineSameSize"===t.type||"CIMMarkerPlacementAlongLineVariableSize"===t.type||"CIMMarkerPlacementAtExtremities"===t.type||"CIMMarkerPlacementAtMeasuredUnits"===t.type||"CIMMarkerPlacementAtRatioPositions"===t.type||"CIMMarkerPlacementOnLine"===t.type||"CIMMarkerPlacementOnVertices"===t.type)}const _=(t,e=0)=>null==t||isNaN(t)?e:t,b=t=>t.tintColor?p(t.tintColor):{r:255,g:255,b:255,a:1},w=t=>{if(!t)return!1;for(const e of t)switch(e.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function x(){return Promise.all([i.e(2076),i.e(3366)]).then(i.bind(i,53366))}function S(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function T(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function A(t){let e="normal",i="normal";if(t){const n=t.toLowerCase();n.includes("italic")?e="italic":n.includes("oblique")&&(e="oblique"),n.includes("bold")?i="bold":n.includes("light")&&(i="lighter")}return{style:e,weight:i}}function E(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function M(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const t=M(e);if(null!=t)return t}break;case"CIMTextSymbol":return M(t.symbol);case"CIMSolidFill":return t.color}}function I(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const e=t.symbolLayers;if(e)for(const t of e){const e=I(t);if(null!=e)return e}break}case"CIMTextSymbol":return I(t.symbol);case"CIMSolidStroke":return t.color}}function C(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const t=C(e);if(void 0!==t)return t}break;case"CIMTextSymbol":return C(t.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}}function R(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function N(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function O(t){return(t?Object.keys(t):[]).map((e=>({name:e,alias:e,type:"string"==typeof t[e]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const D=t=>t.includes("data:image/svg+xml");function L(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}},60973:(t,e,i)=>{i.d(e,{A:()=>b});var n,r=i(66866),s=i(59851),o=i(21877),a=i(6267),h=i(21564),l=(i(73446),i(85569),i(39831),i(75094)),u=i(63863),c=i(77542),f=i(42453);let p=n=class extends o.oY{constructor(t){super(t)}async collectRequiredFields(t,e){return(0,f.Dx)(t,e,this.expression)}clone(){return new n({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],p.prototype,"expression",void 0),(0,r._)([(0,h.MZ)({type:String,json:{write:!0}})],p.prototype,"title",void 0),p=n=(0,r._)([(0,u.$)("esri.layers.support.FeatureExpressionInfo")],p);const d=p;var v,g=i(97046);const y=(0,s.O)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),m=new s.J({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let _=v=class extends o.oY{constructor(t){super(t),this.offset=null}readFeatureExpressionInfo(t,e){return null!=t?t:e.featureExpression&&0===e.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(t,e,i,n){e[i]=t.write({},n),"0"===t.expression&&(e.featureExpression={value:0})}get mode(){const{offset:t,featureExpressionInfo:e}=this;return this._isOverridden("mode")?this._get("mode"):null!=t||e?"relative-to-ground":"on-the-ground"}set mode(t){this._override("mode",t)}set unit(t){this._set("unit",t)}write(t,e){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(t,e):null}clone(){return new v({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(t){return this.mode===t.mode&&this.offset===t.offset&&this.unit===t.unit&&(0,a.CM)(this.featureExpressionInfo,t.featureExpressionInfo)}};(0,r._)([(0,h.MZ)({type:d,json:{write:!0}})],_.prototype,"featureExpressionInfo",void 0),(0,r._)([(0,l.w)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],_.prototype,"readFeatureExpressionInfo",null),(0,r._)([(0,c.K)("featureExpressionInfo",{featureExpressionInfo:{type:d},"featureExpression.value":{type:[0]}})],_.prototype,"writeFeatureExpressionInfo",null),(0,r._)([(0,h.MZ)({type:y.apiValues,nonNullable:!0,json:{type:y.jsonValues,read:y.read,write:{writer:y.write,isRequired:!0}}})],_.prototype,"mode",null),(0,r._)([(0,h.MZ)({type:Number,json:{write:!0}})],_.prototype,"offset",void 0),(0,r._)([(0,h.MZ)({type:g.KQ,json:{type:String,read:m.read,write:m.write}})],_.prototype,"unit",null),_=v=(0,r._)([(0,u.$)("esri.layers.support.ElevationInfo")],_);const b=_},26207:(t,e,i)=>{i.d(e,{A7:()=>l,Cx:()=>u,Hk:()=>c,JJ:()=>v,SF:()=>f,UK:()=>h,jM:()=>p,x3:()=>d});i(39831);var n=i(68882),r=i(40241),s=i(23369),o=i(42602),a=i(23173);const h=s.A.fromJSON(a.Cb),l=r.A.fromJSON(a.yM),u=n.A.fromJSON(a.WR),c=o.A.fromJSON(a.JZ);function f(t){if(null==t)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return h;case"polyline":return l;case"polygon":case"extent":return u}return null}const p=s.A.fromJSON(a.nC),d=r.A.fromJSON(a.HW),v=n.A.fromJSON(a.b6)},23173:(t,e,i)=>{i.d(e,{Cb:()=>s,HW:()=>u,JR:()=>r,JZ:()=>h,WR:()=>a,b6:()=>c,fT:()=>n,nC:()=>l,yM:()=>o});const n=[252,146,31,255],r=[153,153,153,255],s={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},h={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},l={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},c={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},57974:(t,e,i)=>{i.d(e,{M9:()=>l,oO:()=>u,rS:()=>p});var n=i(30822),r=i(98849),s=i(40454),o=i(50626),a=i(79689),h=i(75162);function l(t,e,i,n){const r=f(t,{},{context:n,isLabelSymbol:!1});null!=r&&(e[i]=r)}function u(t,e,i,n){const r=f(t,{},{context:n,isLabelSymbol:!0});null!=r&&(e[i]=r)}function c(t){return t instanceof o.A||t instanceof h.A}function f(t,e,i){if(null==t)return null;const{context:n,isLabelSymbol:o}=i,h=n?.origin,l=n?.messages;if("web-scene"===h&&!c(t)){const i=(0,a.t)(t,{retainCIM:!0,hasLabelingContext:o});return null!=i.symbol?i.symbol.write(e,n):(l?.push(new r.A("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:n,error:i.error})),null)}return("web-map"===h||"portal-item"===h&&!(0,s.TU)(n?.layer))&&c(t)?(l?.push(new r.A("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:n})),null):t.write(e,n)}function p(t,e){return(0,n.Bu)(t,null,e)}},28051:(t,e,i)=>{i.d(e,{bo:()=>p,cF:()=>f,jg:()=>m,o5:()=>d,yA:()=>v});var n=i(86394),r=i(98849),s=i(40189),o=i(20909),a=i(10282),h=i(99990),l=i(59346);let u={};function c(t,e,i){const n=null!=e.portal?e.portal:a.A.getDefault();let s;const o=`${n.url} - ${n.user&&n.user.username} - ${t}`;return u[o]||(u[o]=function(t,e,i){return e.load(i).then((()=>{const n=new h.A({disableExtraQuery:!0,query:`owner:${g} AND type:${y} AND typekeywords:"${t}"`});return e.queryItems(n,i)})).then((({results:e})=>{let n=null;const s=t.toLowerCase();if(e&&Array.isArray(e))for(const t of e){const e=t.typeKeywords?.some((t=>t.toLowerCase()===s));if(e&&t.type===y&&t.owner===g){n=t;break}}if(!n)throw new r.A("symbolstyleutils:style-not-found",`The style '${t}' could not be found`,{styleName:t});return n.load(i)}))}(t,n,i).then((t=>(s=t,t.fetchData()))).then((e=>({data:e,baseUrl:s.itemUrl??"",styleName:t})))),u[o]}function f(t,e,i){return null!=t?.styleUrl?async function(t,e){try{return{data:(await v(t,e)).data,baseUrl:(0,o.nM)(t),styleUrl:t}}catch(i){return(0,s.QP)(i),null}}(t.styleUrl,i):null!=t?.styleName?c(t.styleName,e,i):Promise.reject(new r.A("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function p(t){return null===t||"CIMSymbolReference"===t.type?t:{type:"CIMSymbolReference",symbol:t}}function d(t,e,i=["gltf"]){if("cimRef"===e)return t.cimRef;if(t.formatInfos&&!(0,l.Vd)())for(const n of i){const e=t.formatInfos.find((t=>t.type===n));if(e)return e.href}return t.webRef}function v(t,e){const i={responseType:"json",query:{f:"json"},...e};return(0,n.A)((0,o.S8)(t),i)}const g="esri_en",y="Style",m="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},79689:(t,e,i)=>{i.d(e,{c:()=>g,t:()=>y});var n=i(30822),r=i(98849),s=i(75162),o=i(66960),a=i(40241),h=i(68324),l=i(23369),u=i(72001),c=i(68882),f=i(50151),p=i(65216),d=i(42602),v=i(27372);const g={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function y(t,e=g){if(!t)return{symbol:null};const{retainId:i=g.retainId,ignoreDrivers:y=g.ignoreDrivers,hasLabelingContext:m=g.hasLabelingContext,retainCIM:_=g.retainCIM}=e;let b=null;if((0,n.wk)(t)||t instanceof s.A)b=t.clone();else if("cim"===t.type){const e=t.data?.symbol?.type;if("CIMPointSymbol"!==e)return{error:new r.A("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${e||"unknown"}' is unsupported in 3D`,{symbol:t})};b=_?t.clone():o.A.fromCIMSymbol(t)}else if(t instanceof a.A)b=h.A.fromSimpleLineSymbol(t);else if(t instanceof l.A)b=o.A.fromSimpleMarkerSymbol(t);else if(t instanceof u.A)b=o.A.fromPictureMarkerSymbol(t);else if(t instanceof c.A)b=e.geometryType&&"mesh"===e.geometryType?f.A.fromSimpleFillSymbol(t):p.A.fromSimpleFillSymbol(t);else{if(!(t instanceof d.A))return{error:new r.A("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};b=m?v.A.fromTextSymbol(t):o.A.fromTextSymbol(t)}return i&&b&&"cim"!==b.type&&(b.id=t.id),y&&(0,n.wk)(b)&&b.symbolLayers.forEach((t=>t.ignoreDrivers=!0)),{symbol:b}}},97046:(t,e,i)=>{i.d(e,{Ao:()=>s,KQ:()=>o,Tg:()=>r});var n=i(10301);function r(t){return!!t&&null!=n.j[t]}function s(t){return 1/(n.j[t]||1)}const o=function(){const t=Object.keys(n.j);return t.sort(),t}()},7715:(t,e,i)=>{i.d(e,{m:()=>a});var n=i(21360),r=i(57079),s=i(37353),o=i(25024);class a extends s.q{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null,this._highlightOptions=null,this._highlightGradient=null}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t,this.requestRender()}get clips(){return this._clips}set clips(t){this._clips=t,this.children.forEach((e=>e.clips=t))}get computedEffects(){return this._effectView?.effects??null}get effect(){return this._effectView?.effect??""}set effect(t){(this._effectView||t)&&(this._effectView||(this._effectView=new r.$B),this._effectView.effect=t,this.requestRender())}get highlightOptions(){return this._highlightOptions}set highlightOptions(t){if(!t)return this._highlightOptions=null,void(this._highlightGradient&&(this._highlightGradient.destroy(),this._highlightGradient=null,this.requestRender()));this._highlightOptions&&this._highlightOptions.equals(t)||(this._highlightOptions=t,this._highlightGradient||(this._highlightGradient=new o.A),this._highlightGradient.setHighlightOptions(t),this.requestRender())}get hasBlending(){return!!this.blendMode}get hasHighlight(){return this.children.some((t=>t.hasHighlight))}get hasLabels(){return this.children.some((t=>t.hasLabels))}get requiresDedicatedFBO(){return this.children.some((t=>"blendMode"in t&&t.blendMode&&"normal"!==t.blendMode))}updateTransitionProperties(t,e){super.updateTransitionProperties(t,e),this._effectView&&(this._effectView.transitionStep(t,e),this._effectView.transitioning&&this.requestRender())}doRender(t){const e=this.createRenderParams(t),{painter:i}=e;i.beforeRenderLayer(e,this._clips?.length?255:0,this.computedOpacity),this.renderChildren(e),i.afterRenderLayer(e,this.computedOpacity)}addChild(t){return this.addChildAt(t,this.children.length)}addChildAt(t,e=this.children.length){if(!t)return t;if(this.contains(t))return t;this._needsSort=!0;const i=t.parent;return i&&i!==this&&i.removeChild(t),e>=this.children.length?this.children.push(t):this.children.splice(e,0,t),this._childrenSet.add(t),t.parent=this,t.stage=this.stage,this!==this.stage&&(t.clips=this.clips),this.requestRender(),t}contains(t){return this._childrenSet.has(t)}endTransitions(){super.endTransitions(),this._effectView&&(this._effectView.endTransitions(),this.requestRender())}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const t of this.children)this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null;this.children.length=0}removeChild(t){return this.contains(t)?this.removeChildAt(this.children.indexOf(t)):t}removeChildAt(t){if(t<0||t>=this.children.length)return null;this._needsSort=!0;const e=this.children.splice(t,1)[0];return this._childrenSet.delete(e),this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null,e}sortChildren(t){this._needsSort&&(this.children.sort(t),this._needsSort=!1)}beforeRender(t){super.beforeRender(t);for(const e of this.children)e.beforeRender(t)}afterRender(t){super.afterRender(t);for(const e of this.children)e.afterRender(t)}_createTransforms(){return{dvs:(0,n.c)()}}onAttach(){super.onAttach();const t=this.stage;for(const e of this.children)e.stage=t}onDetach(){super.onDetach();for(const t of this.children)t.stage=null}renderChildren(t){for(const e of this.children)e.processRender(t)}createRenderParams(t){return{...t,requireFBO:this.requiresDedicatedFBO,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:t.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition,highlightGradient:this._highlightGradient||t.highlightGradient}}}},37353:(t,e,i)=>{i.d(e,{q:()=>a});var n=i(17306),r=i(39831),s=i(40189);const o=1/(0,r.A)("mapview-transitions-duration");class a extends n.A{constructor(){super(...arguments),this._fadeOutResolver=null,this._fadeInResolver=null,this._clips=null,this.computedVisible=!0,this.computedOpacity=1,this.fadeTransitionEnabled=!1,this.inFadeTransition=!1,this._isReady=!1,this._opacity=1,this.parent=null,this._stage=null,this._visible=!0}get clips(){return this._clips}set clips(t){this._clips=t,this.requestRender()}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(t){this._opacity!==t&&(this._opacity=Math.min(1,Math.max(t,0)),this.requestRender())}get stage(){return this._stage}set stage(t){if(this._stage===t)return;const e=this._stage;this._stage=t,t?this._stage?.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):e?.trashDisplayObject(this)}get transforms(){return this._getTransforms()}_getTransforms(){return null==this._transforms&&(this._transforms=this._createTransforms()),this._transforms}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this.requestRender())}get hasLabels(){return!1}get hasHighlight(){return!1}get hasBlending(){return!1}fadeIn(){return this._fadeInResolver||(this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.opacity=1,this.computedOpacity=0,this.fadeTransitionEnabled=!0,this._fadeInResolver=(0,s.Tw)(),this.requestRender()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this.fadeTransitionEnabled=!0,this._fadeOutResolver=(0,s.Tw)(),this.requestRender()),this._fadeOutResolver.promise}endTransitions(){this._fadeInResolver?.(),this._fadeInResolver=null,this._fadeOutResolver?.(),this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0,this.requestRender()}beforeRender(t){this.updateTransitionProperties(t.deltaTime,t.state.scale),this.setTransform(t.state)}afterRender(t){this._fadeInResolver&&this.computedOpacity===this.opacity?(this._fadeInResolver(),this._fadeInResolver=null):this._fadeOutResolver&&0===this.computedOpacity&&(this._fadeOutResolver(),this._fadeOutResolver=null)}remove(){this.parent?.removeChild(this)}setTransform(t){}processRender(t){this.stage&&this.computedVisible&&this.doRender(t)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this._fadeInResolver&&(this._fadeInResolver(),this._fadeInResolver=null),this._fadeOutResolver&&(this._fadeOutResolver(),this._fadeOutResolver=null),this.onDetach(),this.emit("detach")}updateTransitionProperties(t,e){if(this.fadeTransitionEnabled){const e=this._fadeOutResolver||!this.visible?0:this.opacity,i=this.computedOpacity;if(i===e)this.computedVisible=this.visible;else{const n=t*o;this.computedOpacity=i>e?Math.max(e,i-n):Math.min(e,i+n),this.computedVisible=this.computedOpacity>0;const r=e===this.computedOpacity;this.inFadeTransition=!r,r||this.requestRender()}}else this.computedOpacity=this.opacity,this.computedVisible=this.visible}onAttach(){}onDetach(){}doRender(t){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}},98949:(t,e,i)=>{i.d(e,{d:()=>K});var n=i(18806),r=i(20035),s=i(38403),o=i(95031),a=i(97394),h=i(41746),l=i(50122);class u extends o.A{constructor(){super(...arguments),this._color=(0,r.f)(0,1,0,1)}dispose(){this._program&&this._program.dispose()}prepareState({context:t}){t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setFaceCullingEnabled(!1),t.setColorMask(!1,!1,!1,!1),t.setStencilOp(h.eA.KEEP,h.eA.KEEP,h.eA.REPLACE),t.setStencilWriteMask(255),t.setStencilFunction(h.MT.ALWAYS,0,255)}draw(t,e){const{context:i,state:n,requestRender:r,allowDelayedRender:o}=t,u=(0,s.ES)("clip",{geometry:[{location:0,name:"a_pos",count:2,type:h.pe.SHORT}]}),c=e.getVAO(i,n,u.attributes,u.bufferLayouts);null!=c.indexBuffer&&(this._program||(this._program=(0,l.r)(i,a.T)),!o||null==r||this._program.compiled?(i.useProgram(this._program),this._program.setUniform2fv("u_coord_range",[1,1]),this._program.setUniform4fv("u_color",this._color),this._program.setUniformMatrix3fv("u_dvsMat3",n.displayMat3),i.bindVAO(c),i.drawElements(h.WR.TRIANGLES,c.indexBuffer.size,h.pe.UNSIGNED_INT,0),i.bindVAO()):r())}}var c=i(43556);class f extends o.A{constructor(){super(...arguments),this._desc={vsPath:"overlay/overlay",fsPath:"overlay/overlay",attributes:new Map([["a_pos",0],["a_uv",1]])}}dispose(){}prepareState({context:t}){t.setBlendingEnabled(!0),t.setColorMask(!0,!0,!0,!0),t.setBlendFunctionSeparate(h.dn.ONE,h.dn.ONE_MINUS_SRC_ALPHA,h.dn.ONE,h.dn.ONE_MINUS_SRC_ALPHA),t.setStencilWriteMask(0),t.setStencilTestEnabled(!0),t.setStencilFunction(h.MT.GREATER,255,255)}draw(t,e){const{context:i,painter:n,requestRender:r,allowDelayedRender:o}=t;if(!e.isReady)return;const{computedOpacity:a,dvsMat3:l,isWrapAround:u,perspectiveTransform:f,texture:p}=e;t.timeline.begin(this.name);const d=n.materialManager.getProgram(this._desc);if(o&&null!=r&&!d.compiled)return void r();const v=(0,s.ES)("overlay",{geometry:[{location:0,name:"a_pos",count:2,type:h.pe.FLOAT}],tex:[{location:1,name:"a_uv",count:2,type:h.pe.UNSIGNED_SHORT}]}),g=e.getVAO(i,v.bufferLayouts,v.attributes);if(!g)return;i.bindVAO(g),i.useProgram(d),i.bindTexture(p,c.YS),d.setUniformMatrix3fv("u_dvsMat3",l),d.setUniform1i("u_texture",c.YS),d.setUniform1f("u_opacity",a),d.setUniform2fv("u_perspective",f);const y=u?10:4;i.drawArrays(h.WR.TRIANGLE_STRIP,0,y),i.bindVAO(),t.timeline.end(this.name)}}var p=i(6267),d=i(9272),v=i(79432),g=i(67095),y=i(59601),m=i(97025);class _ extends g.A{dispose(){}getGeometryType(){return v.ZG.FILL}supportsSymbology(t){return t!==v.w4.DOT_DENSITY}drawGeometry(t,e,i,n){const{context:r,painter:o,rendererInfo:a,requiredLevel:l,passOptions:u,requestRender:f,allowDelayedRender:p}=t,d=y.K_.load(i.materialKey),g=(0,m.JW)(d.data),_=null!=u&&"hittest"===u.type,b=o.materialManager,{shader:w,vertexLayout:x,hittestAttributes:S}=g.programSpec??function(t){const e={geometry:[{location:0,name:"a_pos",count:2,type:h.pe.SHORT},{location:1,name:"a_id",count:3,type:h.pe.UNSIGNED_BYTE},{location:2,name:"a_bitset",count:1,type:h.pe.UNSIGNED_BYTE},{location:3,name:"a_color",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:4,name:"a_aux1",count:4,type:h.pe.UNSIGNED_SHORT},{location:5,name:"a_aux2",count:4,type:h.pe.SHORT},{location:6,name:"a_aux3",count:4,type:h.pe.UNSIGNED_BYTE},{location:7,name:"a_zoomRange",count:2,type:h.pe.UNSIGNED_SHORT}]};switch(t.symbologyType){case v.w4.SIMPLE:case v.w4.OUTLINE_FILL_SIMPLE:e.geometry.splice(7,1),e.geometry.splice(4,1)}return{shader:"materials/fill",vertexLayout:e}}(d);let T=h.WR.TRIANGLES,A=(0,s.ES)(d.data,x);_&&(A=this._getTriangleDesc(i.materialKey,A,S),T=h.WR.POINTS);const{attributes:E,bufferLayouts:M}=A,I=b.getMaterialProgram(t,d,w,E,n);if(p&&null!=f&&!I.compiled)return void f();r.useProgram(I),this._setSharedUniforms(I,t,e);const{row:C,col:R}=e.key,N=R*c.CQ,O=C*c.CQ;if(I.setUniform2f("u_tileOffset",N%c.YV,O%c.YV),I.setUniform2f("u_maxIntNumOfCrossing",Math.floor(N/c.YV),Math.floor(O/c.YV)),d.textureBinding){o.textureManager.bindTextures(r,I,d);const t=1/2**(l-e.key.level);I.setUniform1f("u_zoomFactor",t)}const D=1/t.pixelRatio;I.setUniform1f("u_blur",D),I.setUniform1f("u_antialiasing",D),this._setSizeVVUniforms(d,I,a,e),this._setColorAndOpacityVVUniforms(d,I,a);const L=i.target.getVAO(r,M,E,_);let P=i.indexCount,z=i.indexFrom*Uint32Array.BYTES_PER_ELEMENT;_&&(P/=3,z/=3),r.bindVAO(L),this._drawFills(t,e,I,T,P,z)}_drawFills(t,e,i,n,r,s){t.context.drawElements(n,r,h.pe.UNSIGNED_INT,s)}}var b=i(89423),w=i(84852),x=i(74416),S=i(94669),T=i(6940),A=i(45758),E=i(80976);var M=i(83739),I=i(10803),C=i(74373);class R extends C.A{supportsSymbology(t){return t===v.w4.PIE_CHART}_drawMarkers(t,e,i,n,r,s,o){const{context:a}=t,{rendererInfo:l}=t,{rendererSchema:u}=l;(0,m.R7)(u,"pie-chart"),i.setUniform4fv("u_colors",u.colors),i.setUniform4fv("u_defaultColor",u.defaultColor),i.setUniform4fv("u_othersColor",u.othersColor),i.setUniform4fv("u_outlineColor",u.outlineColor),i.setUniform1f("u_donutRatio",u.holePercentage),i.setUniform1f("u_sectorThreshold",u.sectorThreshold),i.setUniform1f("u_outlineWidth",u.outlineWidth),a.drawElements(n,r,h.pe.UNSIGNED_INT,s)}}var N=i(46419),O=i(92504),D=i(21360),L=i(55429);class P extends o.A{constructor(){super(...arguments),this._color=(0,r.f)(1,0,0,1),this._patternMatrix=(0,D.c)(),this._programOptions={id:!1,pattern:!1}}dispose(){this._vao&&(this._vao.dispose(),this._vao=null)}drawMany(t,e){const{context:i,painter:n,styleLayerUID:r,requestRender:s,allowDelayedRender:o}=t;this._loadWGLResources(t);const a=t.displayLevel,l=t.styleLayer,u=l.backgroundMaterial,f=n.vectorTilesMaterialManager,p=l.getPaintValue("background-color",a),d=l.getPaintValue("background-opacity",a),g=l.getPaintValue("background-pattern",a),y=void 0!==g,m=p[3]*d,_=1|window.devicePixelRatio,b=t.spriteMosaic;let w,x;const S=_>c.C_?2:1,T=t.drawPhase===v.S5.HITTEST,A=this._programOptions;A.id=T,A.pattern=y;const E=f.getMaterialProgram(i,u,A);if(!o||null==s||E.compiled){if(i.bindVAO(this._vao),i.useProgram(E),y){const t=b.getMosaicItemPosition(g,!0);if(null!=t){const{tl:e,br:n,page:r}=t;w=n[0]-e[0],x=n[1]-e[1];const s=b.getPageSize(r);null!=s&&(b.bind(i,h.Cj.LINEAR,r,c.$U),E.setUniform4f("u_tlbr",e[0],e[1],n[0],n[1]),E.setUniform2fv("u_mosaicSize",s),E.setUniform1i("u_texture",c.$U))}E.setUniform1f("u_opacity",d)}else this._color[0]=m*p[0],this._color[1]=m*p[1],this._color[2]=m*p[2],this._color[3]=m,E.setUniform4fv("u_color",this._color);if(E.setUniform1f("u_depth",l.z||0),T){const t=(0,L.Pl)(r+1);E.setUniform4fv("u_id",t)}for(const t of e){if(E.setUniform1f("u_coord_range",t.rangeX),E.setUniformMatrix3fv("u_dvsMat3",t.transforms.dvs),y){const e=Math.max(2**(Math.round(a)-t.key.level),1),i=S*t.width*e,n=i/(0,O.yR)(w),r=i/(0,O.yR)(x);this._patternMatrix[0]=n,this._patternMatrix[4]=r,E.setUniformMatrix3fv("u_pattern_matrix",this._patternMatrix)}i.setStencilFunction(h.MT.EQUAL,0,255),i.drawArrays(h.WR.TRIANGLE_STRIP,0,4)}}else s()}_loadWGLResources(t){if(this._vao)return;const{context:e,styleLayer:i}=t,n=i.backgroundMaterial,r=new Int8Array([0,0,1,0,0,1,1,1]),s=b.g.createVertex(e,h._U.STATIC_DRAW,r),o=new E.Z(e,n.getAttributeLocations(),n.getLayoutInfo(),{geometry:s});this._vao=o}}var z=i(31541);class F extends o.A{constructor(){super(...arguments),this._programOptions={id:!1}}dispose(){}drawMany(t,e){const{context:i,displayLevel:n,requiredLevel:r,state:s,drawPhase:o,painter:a,spriteMosaic:l,styleLayerUID:u,requestRender:c,allowDelayedRender:f}=t;if(!e.some((t=>t.layerData.get(u)?.circleIndexCount??!1)))return;const p=t.styleLayer,d=p.circleMaterial,g=a.vectorTilesMaterialManager,y=p.getPaintValue("circle-translate",n),m=p.getPaintValue("circle-translate-anchor",n),_=o===v.S5.HITTEST,b=this._programOptions;b.id=_;const w=g.getMaterialProgram(i,d,b);if(f&&null!=c&&!w.compiled)return void c();i.useProgram(w),w.setUniformMatrix3fv("u_displayMat3",m===z.Cq.VIEWPORT?s.displayMat3:s.displayViewMat3),w.setUniform2fv("u_circleTranslation",y),w.setUniform1f("u_depth",p.z),w.setUniform1f("u_antialiasingWidth",1.2);let x=-1;if(_){const t=(0,L.Pl)(u+1);w.setUniform4fv("u_id",t)}for(const v of e){if(!v.layerData.has(u))continue;v.key.level!==x&&(x=v.key.level,d.setDataUniforms(w,n,p,x,l));const t=v.layerData.get(u);if(!t.circleIndexCount)continue;t.prepareForRendering(i);const e=t.vao;null!=e&&(i.bindVAO(e),w.setUniformMatrix3fv("u_dvsMat3",v.transforms.dvs),r!==v.key.level?i.setStencilFunction(h.MT.EQUAL,v.stencilRef,255):i.setStencilFunction(h.MT.GREATER,255,255),i.drawElements(h.WR.TRIANGLES,t.circleIndexCount,h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t.circleIndexStart),v.triangleCount+=t.circleIndexCount/3)}}}const j=1/65536;class V extends o.A{constructor(){super(...arguments),this._fillProgramOptions={id:!1,pattern:!1},this._outlineProgramOptions={id:!1}}dispose(){}drawMany(t,e){const{displayLevel:i,drawPhase:n,renderPass:r,spriteMosaic:s,styleLayerUID:o}=t;let a=!1;for(const v of e)if(v.layerData.has(o)){const t=v.layerData.get(o);if(t.fillIndexCount>0||t.outlineIndexCount>0){a=!0;break}}if(!a)return;const h=t.styleLayer,l=h.getPaintProperty("fill-pattern"),u=void 0!==l,c=u&&l.isDataDriven;let f;if(u&&!c){const t=l.getValue(i);f=s.getMosaicItemPosition(t,!0)}const p=!u&&h.getPaintValue("fill-antialias",i);let d,g=!0,y=1;if(!u){const t=h.getPaintProperty("fill-color"),e=h.getPaintProperty("fill-opacity");if(!t?.isDataDriven&&!e?.isDataDriven){const t=h.getPaintValue("fill-color",i);y=h.getPaintValue("fill-opacity",i)*t[3],y>=1&&(g=!1)}}if(g&&"opaque"===r)return;n===v.S5.HITTEST&&(d=(0,L.Pl)(o+1));const m=h.getPaintValue("fill-translate",i),_=h.getPaintValue("fill-translate-anchor",i);(g||"translucent"!==r)&&this._drawFill(t,o,h,e,m,_,u,f,c,d);const b=!h.hasDataDrivenOutlineColor&&h.outlineUsesFillColor&&y<1;p&&"opaque"!==r&&!b&&this._drawOutline(t,o,h,e,m,_,d)}_drawFill(t,e,i,n,r,s,o,a,l,u){if(o&&!l&&null==a)return;const{context:f,displayLevel:p,state:d,drawPhase:g,painter:y,pixelRatio:m,spriteMosaic:_,requestRender:b,allowDelayedRender:w}=t,x=i.fillMaterial,S=y.vectorTilesMaterialManager,T=m>c.C_?2:1,A=g===v.S5.HITTEST,E=this._fillProgramOptions;E.id=A,E.pattern=o;const M=S.getMaterialProgram(f,x,E);if(w&&null!=b&&!M.compiled)return void b();if(f.useProgram(M),null!=a){const{page:t}=a,e=_.getPageSize(t);null!=e&&(_.bind(f,h.Cj.LINEAR,t,c.$U),M.setUniform2fv("u_mosaicSize",e),M.setUniform1i("u_texture",c.$U))}M.setUniformMatrix3fv("u_displayMat3",s===z.Cq.VIEWPORT?d.displayMat3:d.displayViewMat3),M.setUniform2fv("u_fillTranslation",r),M.setUniform1f("u_depth",i.z+j),A&&M.setUniform4fv("u_id",u);let I=-1;for(const v of n){if(!v.layerData.has(e))continue;v.key.level!==I&&(I=v.key.level,x.setDataUniforms(M,p,i,I,_));const t=v.layerData.get(e);if(!t.fillIndexCount)continue;t.prepareForRendering(f);const n=t.fillVAO;if(null!=n){if(f.bindVAO(n),M.setUniformMatrix3fv("u_dvsMat3",v.transforms.dvs),f.setStencilFunction(h.MT.EQUAL,v.stencilRef,255),o){const t=Math.max(2**(Math.round(p)-v.key.level),1),e=v.rangeX/(T*v.width*t);M.setUniform1f("u_patternFactor",e)}if(l){const e=t.patternMap;if(!e)continue;for(const[t,i]of e){const e=_.getPageSize(t);null!=e&&(_.bind(f,h.Cj.LINEAR,t,c.$U),M.setUniform2fv("u_mosaicSize",e),M.setUniform1i("u_texture",c.$U),f.drawElements(h.WR.TRIANGLES,i[1],h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i[0]))}}else f.drawElements(h.WR.TRIANGLES,t.fillIndexCount,h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t.fillIndexStart);v.triangleCount+=t.fillIndexCount/3}}}_drawOutline(t,e,i,n,r,s,o){const{context:a,displayLevel:l,state:u,drawPhase:c,painter:f,pixelRatio:p,spriteMosaic:d,requestRender:g,allowDelayedRender:y}=t,m=i.outlineMaterial,_=f.vectorTilesMaterialManager,b=.75/p,w=c===v.S5.HITTEST,x=this._outlineProgramOptions;x.id=w;const S=_.getMaterialProgram(a,m,x);if(y&&null!=g&&!S.compiled)return void g();a.useProgram(S),S.setUniformMatrix3fv("u_displayMat3",s===z.Cq.VIEWPORT?u.displayMat3:u.displayViewMat3),S.setUniform2fv("u_fillTranslation",r),S.setUniform1f("u_depth",i.z+j),S.setUniform1f("u_outline_width",b),w&&S.setUniform4fv("u_id",o);let T=-1;for(const v of n){if(!v.layerData.has(e))continue;v.key.level!==T&&(T=v.key.level,m.setDataUniforms(S,l,i,T,d));const t=v.layerData.get(e);if(t.prepareForRendering(a),!t.outlineIndexCount)continue;const n=t.outlineVAO;null!=n&&(a.bindVAO(n),S.setUniformMatrix3fv("u_dvsMat3",v.transforms.dvs),a.setStencilFunction(h.MT.EQUAL,v.stencilRef,255),a.drawElements(h.WR.TRIANGLES,t.outlineIndexCount,h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*t.outlineIndexStart),v.triangleCount+=t.outlineIndexCount/3)}}}class B extends o.A{constructor(){super(...arguments),this._programOptions={id:!1,pattern:!1,sdf:!1}}dispose(){}drawMany(t,e){const{context:i,displayLevel:n,state:r,drawPhase:s,painter:o,pixelRatio:a,spriteMosaic:l,styleLayerUID:u,requestRender:f,allowDelayedRender:p}=t;if(!e.some((t=>t.layerData.get(u)?.lineIndexCount??!1)))return;const d=t.styleLayer,g=d.lineMaterial,y=o.vectorTilesMaterialManager,m=d.getPaintValue("line-translate",n),_=d.getPaintValue("line-translate-anchor",n),b=d.getPaintProperty("line-pattern"),w=void 0!==b,x=w&&b.isDataDriven;let S,T;if(w&&!x){const t=b.getValue(n);S=l.getMosaicItemPosition(t)}let A=!1;if(!w){const t=d.getPaintProperty("line-dasharray");if(T=void 0!==t,A=T&&t.isDataDriven,T&&!A){const e=t.getValue(n),i=d.getDashKey(e,d.getLayoutValue("line-cap",n));S=l.getMosaicItemPosition(i)}}const E=1/a,M=s===v.S5.HITTEST,I=this._programOptions;I.id=M,I.pattern=w,I.sdf=T;const C=y.getMaterialProgram(i,g,I);if(p&&null!=f&&!C.compiled)return void f();if(i.useProgram(C),C.setUniformMatrix3fv("u_displayViewMat3",r.displayViewMat3),C.setUniformMatrix3fv("u_displayMat3",_===z.Cq.VIEWPORT?r.displayMat3:r.displayViewMat3),C.setUniform2fv("u_lineTranslation",m),C.setUniform1f("u_depth",d.z),C.setUniform1f("u_antialiasing",E),M){const t=(0,L.Pl)(u+1);C.setUniform4fv("u_id",t)}if(S&&null!=S){const{page:t}=S,e=l.getPageSize(t);null!=e&&(l.bind(i,h.Cj.LINEAR,t,c.$U),C.setUniform2fv("u_mosaicSize",e),C.setUniform1i("u_texture",c.$U))}let R=-1;for(const v of e){if(!v.layerData.has(u))continue;v.key.level!==R&&(R=v.key.level,g.setDataUniforms(C,n,d,R,l));const t=2**(n-R)/a;C.setUniform1f("u_zoomFactor",t);const e=v.layerData.get(u);if(!e.lineIndexCount)continue;e.prepareForRendering(i);const r=e.vao;if(null!=r){if(i.bindVAO(r),C.setUniformMatrix3fv("u_dvsMat3",v.transforms.dvs),i.setStencilFunction(h.MT.EQUAL,v.stencilRef,255),x||A){const t=e.patternMap;if(!t)continue;for(const[e,n]of t){const t=l.getPageSize(e);null!=t&&(l.bind(i,h.Cj.LINEAR,e,c.$U),C.setUniform2fv("u_mosaicSize",t),C.setUniform1i("u_texture",c.$U),i.drawElements(h.WR.TRIANGLES,n[1],h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*n[0]))}}else i.drawElements(h.WR.TRIANGLES,e.lineIndexCount,h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*e.lineIndexStart);v.triangleCount+=e.lineIndexCount/3}}}}var U=i(48325),k=i(59992),G=i(59339);const H=1/65536;class q extends o.A{constructor(){super(...arguments),this._iconProgramOptions={id:!1,sdf:!1},this._sdfProgramOptions={id:!1},this._spritesTextureSize=(0,U.c)()}dispose(){}drawMany(t,e){const{drawPhase:i,styleLayerUID:n}=t,r=t.styleLayer;let s;i===v.S5.HITTEST&&(s=(0,L.Pl)(n+1)),this._drawIcons(t,r,e,s),this._drawText(t,r,e,s)}_drawIcons(t,e,i,n){const{context:r,displayLevel:s,drawPhase:o,painter:a,spriteMosaic:h,state:l,styleLayerUID:u,requestRender:f,allowDelayedRender:p}=t,d=e.iconMaterial,g=a.vectorTilesMaterialManager;let y,m=!1;for(const c of i)if(c.layerData.has(u)&&(y=c.layerData.get(u),y.iconPerPageElementsMap.size>0)){m=!0;break}if(!m)return;const _=e.getPaintValue("icon-translate",s),b=e.getPaintValue("icon-translate-anchor",s);let w=e.getLayoutValue("icon-rotation-alignment",s);w===z.I5.AUTO&&(w=e.getLayoutValue("symbol-placement",s)===z.kt.POINT?z.I5.VIEWPORT:z.I5.MAP);const x=w===z.I5.MAP,S=e.getLayoutValue("icon-keep-upright",s)&&x,T=y.isIconSDF,A=o===v.S5.HITTEST,E=this._iconProgramOptions;E.id=A,E.sdf=T;const M=g.getMaterialProgram(r,d,E);if(p&&null!=f&&!M.compiled)return void f();r.useProgram(M),M.setUniformMatrix3fv("u_displayViewMat3",w===z.I5.MAP?l.displayViewMat3:l.displayMat3),M.setUniformMatrix3fv("u_displayMat3",b===z.Cq.VIEWPORT?l.displayMat3:l.displayViewMat3),M.setUniform2fv("u_iconTranslation",_),M.setUniform1f("u_depth",e.z),M.setUniform1f("u_mapRotation",(0,G.wV)(l.rotation)),M.setUniform1f("u_keepUpright",S?1:0),M.setUniform1f("u_level",10*s),M.setUniform1i("u_texture",c.$U),M.setUniform1f("u_fadeDuration",k.zk/1e3),A&&M.setUniform4fv("u_id",n);let I=-1;for(const c of i){if(!c.layerData.has(u))continue;if(c.key.level!==I&&(I=c.key.level,d.setDataUniforms(M,s,e,I,h)),y=c.layerData.get(u),0===y.iconPerPageElementsMap.size)continue;y.prepareForRendering(r),y.updateOpacityInfo();const i=y.iconVAO;if(null!=i){r.bindVAO(i),M.setUniformMatrix3fv("u_dvsMat3",c.transforms.dvs),M.setUniform1f("u_time",(performance.now()-y.lastOpacityUpdate)/1e3);for(const[e,i]of y.iconPerPageElementsMap)this._renderIconRange(t,M,i,e,c)}}}_renderIconRange(t,e,i,n,r){const{context:s,spriteMosaic:o}=t;this._spritesTextureSize[0]=o.getWidth(n)/4,this._spritesTextureSize[1]=o.getHeight(n)/4,e.setUniform2fv("u_mosaicSize",this._spritesTextureSize),o.bind(s,h.Cj.LINEAR,n,c.$U),this._setStencilState(t,r),s.drawElements(h.WR.TRIANGLES,i[1],h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*i[0]),r.triangleCount+=i[1]/3}_drawText(t,e,i,n){const{context:r,displayLevel:s,drawPhase:o,glyphMosaic:a,painter:h,pixelRatio:l,spriteMosaic:u,state:f,styleLayerUID:p,requestRender:d,allowDelayedRender:g}=t,y=e.textMaterial,m=h.vectorTilesMaterialManager;let _,b=!1;for(const c of i)if(c.layerData.has(p)&&(_=c.layerData.get(p),_.glyphPerPageElementsMap.size>0)){b=!0;break}if(!b)return;const w=e.getPaintProperty("text-opacity");if(w&&!w.isDataDriven&&0===w.getValue(s))return;const x=e.getPaintProperty("text-color"),S=!x||x.isDataDriven||x.getValue(s)[3]>0,T=e.getPaintProperty("text-halo-width"),A=e.getPaintProperty("text-halo-color"),E=(!T||T.isDataDriven||T.getValue(s)>0)&&(!A||A.isDataDriven||A.getValue(s)[3]>0);if(!S&&!E)return;let M=e.getLayoutValue("text-rotation-alignment",s);M===z.I5.AUTO&&(M=e.getLayoutValue("symbol-placement",s)===z.kt.POINT?z.I5.VIEWPORT:z.I5.MAP);const I=M===z.I5.MAP,C=e.getLayoutValue("text-keep-upright",s)&&I,R=o===v.S5.HITTEST,N=.8*3/l;this._glyphTextureSize||(this._glyphTextureSize=(0,U.f)(a.width/4,a.height/4));const O=e.getPaintValue("text-translate",s),D=e.getPaintValue("text-translate-anchor",s),L=this._sdfProgramOptions;L.id=R;const P=m.getMaterialProgram(r,y,L);if(g&&null!=d&&!P.compiled)return void d();r.useProgram(P),P.setUniformMatrix3fv("u_displayViewMat3",M===z.I5.MAP?f.displayViewMat3:f.displayMat3),P.setUniformMatrix3fv("u_displayMat3",D===z.Cq.VIEWPORT?f.displayMat3:f.displayViewMat3),P.setUniform2fv("u_textTranslation",O),P.setUniform1f("u_depth",e.z+H),P.setUniform2fv("u_mosaicSize",this._glyphTextureSize),P.setUniform1f("u_mapRotation",(0,G.wV)(f.rotation)),P.setUniform1f("u_keepUpright",C?1:0),P.setUniform1f("u_level",10*s),P.setUniform1i("u_texture",c.mg),P.setUniform1f("u_antialiasingWidth",N),P.setUniform1f("u_fadeDuration",k.zk/1e3),R&&P.setUniform4fv("u_id",n);let F=-1;for(const c of i){if(!c.layerData.has(p))continue;if(c.key.level!==F&&(F=c.key.level,y.setDataUniforms(P,s,e,F,u)),_=c.layerData.get(p),0===_.glyphPerPageElementsMap.size)continue;_.prepareForRendering(r),_.updateOpacityInfo();const i=_.textVAO;if(null==i)continue;r.bindVAO(i),P.setUniformMatrix3fv("u_dvsMat3",c.transforms.dvs),this._setStencilState(t,c);const n=(performance.now()-_.lastOpacityUpdate)/1e3;P.setUniform1f("u_time",n),_.glyphPerPageElementsMap.forEach(((t,e)=>{this._renderGlyphRange(r,t,e,a,P,E,S,c)}))}}_renderGlyphRange(t,e,i,n,r,s,o,a){n.bind(t,h.Cj.LINEAR,i,c.mg),s&&(r.setUniform1f("u_halo",1),t.drawElements(h.WR.TRIANGLES,e[1],h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*e[0]),a.triangleCount+=e[1]/3),o&&(r.setUniform1f("u_halo",0),t.drawElements(h.WR.TRIANGLES,e[1],h.pe.UNSIGNED_INT,Uint32Array.BYTES_PER_ELEMENT*e[0]),a.triangleCount+=e[1]/3)}_setStencilState(t,e){const{context:i,is3D:n,stencilSymbols:r}=t;if(i.setStencilTestEnabled(!0),r)return i.setStencilWriteMask(255),void i.setStencilFunction(h.MT.ALWAYS,e.stencilRef,255);i.setStencilWriteMask(0),n?i.setStencilFunction(h.MT.EQUAL,e.stencilRef,255):i.setStencilFunction(h.MT.GREATER,255,255)}}class Z extends g.A{dispose(){}getGeometryType(){return v.ZG.LABEL}supportsSymbology(t){return!0}drawGeometry(t,e,i,n){const{context:r,painter:o,state:a,rendererInfo:l,requestRender:u,allowDelayedRender:c}=t,f=y.dZ.load(i.materialKey),p=f.mapAligned?1:0;if(!p&&Math.abs(e.key.level-Math.round(100*t.displayLevel)/100)>=1)return;const{bufferLayouts:d,attributes:v}=(t=>(0,s.ES)(t.data,{geometry:[{location:0,name:"a_pos",count:2,type:h.pe.SHORT},{location:1,name:"a_id",count:4,type:h.pe.UNSIGNED_BYTE},{location:2,name:"a_color",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:3,name:"a_haloColor",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:4,name:"a_texAndSize",count:4,type:h.pe.UNSIGNED_BYTE},{location:5,name:"a_refSymbolAndPlacementOffset",count:4,type:h.pe.UNSIGNED_BYTE},{location:6,name:"a_glyphData",count:4,type:h.pe.UNSIGNED_BYTE},{location:7,name:"a_vertexOffset",count:2,type:h.pe.SHORT},{location:8,name:"a_texCoords",count:2,type:h.pe.UNSIGNED_SHORT}]}))(f),g=o.materialManager.getMaterialProgram(t,f,"materials/label",v,n);if(c&&null!=u&&!g.compiled)return void u();t.context.setStencilFunction(h.MT.EQUAL,0,255),r.useProgram(g),this._setSharedUniforms(g,t,e),o.textureManager.bindTextures(r,g,f);const m=1===p?a.displayViewMat3:a.displayMat3;this._setSizeVVUniforms(f,g,l,e),g.setUniform1f("u_mapRotation",Math.floor(a.rotation/360*254)),g.setUniform1f("u_mapAligned",p),g.setUniformMatrix3fv("u_displayMat3",m),g.setUniform1f("u_opacity",1),g.setUniform2fv("u_screenSize",t.state.size);const _=i.target.getVAO(r,d,v),b=i.indexFrom*Uint32Array.BYTES_PER_ELEMENT;r.bindVAO(_),g.setUniform1f("u_isHaloPass",0),g.setUniform1f("u_isBackgroundPass",1),r.drawElements(h.WR.TRIANGLES,i.indexCount,h.pe.UNSIGNED_INT,b),g.setUniform1f("u_isHaloPass",1),g.setUniform1f("u_isBackgroundPass",0),r.drawElements(h.WR.TRIANGLES,i.indexCount,h.pe.UNSIGNED_INT,b),g.setUniform1f("u_isHaloPass",0),g.setUniform1f("u_isBackgroundPass",0),r.drawElements(h.WR.TRIANGLES,i.indexCount,h.pe.UNSIGNED_INT,b),r.setStencilTestEnabled(!0),r.setBlendingEnabled(!0)}}class W extends g.A{dispose(){}getGeometryType(){return v.ZG.LINE}supportsSymbology(t){return!0}drawGeometry(t,e,i,n){const{context:r,painter:o,rendererInfo:a,displayLevel:l,passOptions:u,requestRender:c,allowDelayedRender:f}=t,p=y.r9.load(i.materialKey),d=null!=u&&"hittest"===u.type;let v=(t=>(0,s.ES)(t.data,{geometry:[{location:0,name:"a_pos",count:2,type:h.pe.SHORT},{location:1,name:"a_id",count:4,type:h.pe.UNSIGNED_BYTE},{location:2,name:"a_color",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:3,name:"a_offsetAndNormal",count:4,type:h.pe.BYTE},{location:4,name:"a_accumulatedDistanceAndHalfWidth",count:2,type:h.pe.UNSIGNED_SHORT},{location:5,name:"a_tlbr",count:4,type:h.pe.UNSIGNED_SHORT},{location:6,name:"a_segmentDirection",count:4,type:h.pe.BYTE},{location:7,name:"a_aux",count:2,type:h.pe.UNSIGNED_SHORT},{location:8,name:"a_zoomRange",count:2,type:h.pe.UNSIGNED_SHORT}]}))(p),g=h.WR.TRIANGLES;d&&(v=this._getTriangleDesc(i.materialKey,v),g=h.WR.POINTS);const{attributes:m,bufferLayouts:_}=v,b=o.materialManager.getMaterialProgram(t,p,"materials/line",m,n);if(f&&null!=c&&!b.compiled)return void c();const w=1/t.pixelRatio;r.useProgram(b),this._setSharedUniforms(b,t,e),p.textureBinding&&o.textureManager.bindTextures(r,b,p);const x=2**(l-e.key.level);b.setUniform1f("u_zoomFactor",x),b.setUniform1f("u_blur",0+w),b.setUniform1f("u_antialiasing",w),this._setSizeVVUniforms(p,b,a,e),this._setColorAndOpacityVVUniforms(p,b,a),r.setFaceCullingEnabled(!1);const S=i.target.getVAO(r,_,m,d);let T=i.indexCount,A=i.indexFrom*Uint32Array.BYTES_PER_ELEMENT;d&&(T/=3,A/=3),r.bindVAO(S),r.drawElements(g,T,h.pe.UNSIGNED_INT,A)}}class Y extends g.A{dispose(){}getGeometryType(){return v.ZG.TEXT}supportsSymbology(t){return!0}drawGeometry(t,e,i,n){const{context:r,painter:o,rendererInfo:a,state:l,passOptions:u,requestRender:c,allowDelayedRender:f}=t,p=y.ir.load(i.materialKey),d=null!=u&&"hittest"===u.type,{bufferLayouts:v,attributes:g}=(t=>(0,s.ES)(t.data,{geometry:[{location:0,name:"a_pos",count:2,type:h.pe.SHORT},{location:1,name:"a_id",count:4,type:h.pe.UNSIGNED_BYTE},{location:2,name:"a_color",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:3,name:"a_haloColor",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:4,name:"a_texFontSize",count:4,type:h.pe.UNSIGNED_BYTE},{location:5,name:"a_aux",count:4,type:h.pe.BYTE},{location:6,name:"a_zoomRange",count:2,type:h.pe.UNSIGNED_SHORT},{location:7,name:"a_vertexOffset",count:2,type:h.pe.SHORT},{location:8,name:"a_texCoords",count:2,type:h.pe.UNSIGNED_SHORT}]}))(p),m=o.materialManager.getMaterialProgram(t,p,"materials/text",g,n);if(f&&null!=c&&!m.compiled)return void c();r.useProgram(m);let _=h.WR.TRIANGLES;d&&(_=h.WR.POINTS),this._setSharedUniforms(m,t,e),o.textureManager.bindTextures(r,m,p),m.setUniformMatrix3fv("u_displayMat3",l.displayMat3),m.setUniformMatrix3fv("u_displayViewMat3",l.displayViewMat3),this._setSizeVVUniforms(p,m,a,e),this._setColorAndOpacityVVUniforms(p,m,a),this._setRotationVVUniforms(p,m,a);const b=i.target.getVAO(r,v,g),w=i.indexFrom*Uint32Array.BYTES_PER_ELEMENT;r.bindVAO(b),m.setUniform1f("u_isHaloPass",0),m.setUniform1f("u_isBackgroundPass",1),r.drawElements(_,i.indexCount,h.pe.UNSIGNED_INT,w),m.setUniform1f("u_isHaloPass",1),m.setUniform1f("u_isBackgroundPass",0),r.drawElements(h.WR.TRIANGLES,i.indexCount,h.pe.UNSIGNED_INT,w),m.setUniform1f("u_isHaloPass",0),m.setUniform1f("u_isBackgroundPass",0),r.drawElements(_,i.indexCount,h.pe.UNSIGNED_INT,w)}}const K={marker:C.A,line:W,fill:_,text:Y,label:Z,clip:u,stencil:N.A,bitmap:n.A,overlay:f,tileInfo:I.A,vtlBackground:P,vtlFill:V,vtlLine:B,vtlCircle:F,vtlSymbol:q,dotDensity:class extends _{constructor(){super(...arguments),this._dotTextureSize=0,this._dotTextures=null,this._dotSamplers=new Int32Array([c.Cp,c.vN]),this._dotVAO=null,this._dotDesc={vsPath:"dot/dot",fsPath:"dot/dot",attributes:new Map([["a_pos",0]])}}dispose(){super.dispose(),this._disposeTextures(),this._dotFBO=(0,p.WD)(this._dotFBO),this._dotVAO=(0,p.WD)(this._dotVAO)}getGeometryType(){return v.ZG.FILL}supportsSymbology(t){return t===v.w4.DOT_DENSITY}_drawFills(t,e,i,n,r,s){const{passOptions:o}=t;if(null!=o&&"hittest"===o.type)super._drawFills(t,e,i,n,r,s);else{const n=this._drawDotLocations(t,e,i,r,s);this._drawDotDensity(t,e,n)}}_drawDotDensity(t,e,i){const{context:n,painter:r,rendererInfo:s,requestRender:o,allowDelayedRender:a}=t,l=r.materialManager.getProgram(this._dotDesc);if(a&&null!=o&&!l.compiled)return void o();const{rendererSchema:u}=s;(0,m.R7)(u,"dot-density");const c=this._createDotDensityMesh(n,this._dotDesc.attributes,{geometry:[{name:"a_pos",count:2,type:h.pe.SHORT,divisor:0,normalized:!1,offset:0,stride:4}]});n.setStencilTestEnabled(!0),n.useProgram(l),l.setUniform1f("u_tileZoomFactor",1),l.setUniform1i("u_texture",this._dotSamplers[0]),l.setUniform1f("u_dotSize",Math.max(u.dotSize,1)),l.setUniform1f("u_pixelRatio",window.devicePixelRatio),this._setSharedUniforms(l,t,e),n.bindTexture(i,this._dotSamplers[0]),n.bindVAO(c),n.drawArrays(h.WR.POINTS,0,262144)}_drawDotLocations(t,e,i,n,r){const{context:s,rendererInfo:o,requiredLevel:a}=t,l=s.getViewport(),{rendererSchema:u}=o;(0,m.R7)(u,"dot-density");const{dotScale:f,colors:p,activeDots:d,backgroundColor:v,dotValue:g}=u;s.setViewport(0,0,512,512);const y=s.getBoundFramebufferObject(),_=this._createFBO(s);s.bindFramebuffer(_),s.setClearColor(0,0,0,0),s.clear(s.gl.COLOR_BUFFER_BIT|s.gl.STENCIL_BUFFER_BIT),s.setStencilTestEnabled(!1);const b=1/2**(a-e.key.level),w=c.CQ,x=w*window.devicePixelRatio*w*window.devicePixelRatio,S=1/b*(1/b),T=f?t.state.scale/f:1;return i.setUniform1f("u_tileZoomFactor",b),i.setUniform1f("u_tileDotsOverArea",x/(c.CQ*window.devicePixelRatio*c.CQ*window.devicePixelRatio)),i.setUniformMatrix4fv("u_dotColors",p),i.setUniform4fv("u_isActive",d),i.setUniform4fv("u_dotBackgroundColor",v),i.setUniform1f("u_dotValue",Math.max(1,g*T*S)),this._bindDotDensityTextures(s,i,o,w),s.drawElements(h.WR.TRIANGLES,n,h.pe.UNSIGNED_INT,r),s.setViewport(l.x,l.y,l.width,l.height),s.bindFramebuffer(y),_.colorTexture}_createFBO(t){if(null==this._dotFBO){const e=512,i=512,n=new A.R(e,i);n.samplingMode=h.Cj.NEAREST,n.wrapMode=h.pF.CLAMP_TO_EDGE;const r=new x.l(t,new S.q(h.yQ.DEPTH_STENCIL,e,i));this._dotFBO=new w.H(t,n,r)}return this._dotFBO}_disposeTextures(){if(this._dotTextures){for(let t=0;t<this._dotTextures.length;t++)this._dotTextures[t].dispose();this._dotTextures=null}}_bindDotDensityTextures(t,e,i,n){const{rendererSchema:r}=i;(0,m.R7)(r,"dot-density");const s=this._createDotDensityTextures(t,n,r.seed);e.setUniform1iv("u_dotTextures",this._dotSamplers);for(let o=0;o<s.length;o++)t.bindTexture(s[o],this._dotSamplers[o])}_createDotDensityMesh(t,e,i){if(null==this._dotVAO){const n=2,r=new Int16Array(262144*n);for(let t=0;t<512;t++)for(let e=0;e<512;e++)r[n*(e+512*t)]=e,r[n*(e+512*t)+1]=t;const s=b.g.createVertex(t,h._U.STATIC_DRAW,r);this._dotVAO=new E.Z(t,e,i,{geometry:s},null)}return this._dotVAO}_createDotDensityTextures(t,e,i){if(this._dotTextureSize===e&&this._seed===i||(this._disposeTextures(),this._dotTextureSize=e,this._seed=i),null===this._dotTextures){const n=new d.A(i);this._dotTextures=[this._allocDotDensityTexture(t,e,n),this._allocDotDensityTexture(t,e,n)]}return this._dotTextures}_allocDotDensityTexture(t,e,i){const n=new Float32Array(e*e*4);for(let s=0;s<n.length;s++)n[s]=i.getFloat();const r=new A.R;return r.dataType=h.ld.FLOAT,r.samplingMode=h.Cj.NEAREST,r.width=e,r.height=e,new T.g(t,r,n)}},heatmap:M.A,pieChart:R}},15946:(t,e,i)=>{i.d(e,{GW:()=>f,Jo:()=>r,MG:()=>n,Wh:()=>l,os:()=>a,p6:()=>c,pJ:()=>s,z0:()=>u});const n=Number.POSITIVE_INFINITY,r=Math.PI,s=2*r,o=128/r,a=r/180,h=1/Math.LN2;function l(t,e){return(t%=e)>=0?t:t+e}function u(t){return l(t*o,256)}function c(t){return Math.log(t)*h}function f(t,e,i){return t*(1-i)+e*i}},59992:(t,e,i)=>{i.d(e,{IT:()=>n,av:()=>s,o2:()=>r,zk:()=>o});const n=!0,r=32,s=1.5,o=200},31541:(t,e,i)=>{i.d(e,{$u:()=>p,Cq:()=>u,Dc:()=>n,I5:()=>o,KI:()=>h,Ms:()=>l,O6:()=>a,bv:()=>r,kt:()=>s,v9:()=>c});var n,r,s,o,a,h,l,u,c,f=i(63643);!function(t){t[t.BACKGROUND=0]="BACKGROUND",t[t.FILL=1]="FILL",t[t.LINE=2]="LINE",t[t.SYMBOL=3]="SYMBOL",t[t.CIRCLE=4]="CIRCLE"}(n||(n={})),function(t){t[t.VISIBLE=0]="VISIBLE",t[t.NONE=1]="NONE"}(r||(r={})),function(t){t[t.POINT=0]="POINT",t[t.LINE=1]="LINE",t[t.LINE_CENTER=2]="LINE_CENTER"}(s||(s={})),function(t){t[t.MAP=0]="MAP",t[t.VIEWPORT=1]="VIEWPORT",t[t.AUTO=2]="AUTO"}(o||(o={})),function(t){t[t.AUTO=0]="AUTO",t[t.LEFT=1]="LEFT",t[t.CENTER=2]="CENTER",t[t.RIGHT=3]="RIGHT"}(a||(a={})),function(t){t[t.CENTER=0]="CENTER",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.TOP=3]="TOP",t[t.BOTTOM=4]="BOTTOM",t[t.TOP_LEFT=5]="TOP_LEFT",t[t.TOP_RIGHT=6]="TOP_RIGHT",t[t.BOTTOM_LEFT=7]="BOTTOM_LEFT",t[t.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"}(h||(h={})),function(t){t[t.NONE=0]="NONE",t[t.UPPERCASE=1]="UPPERCASE",t[t.LOWERCASE=2]="LOWERCASE"}(l||(l={})),function(t){t[t.MAP=0]="MAP",t[t.VIEWPORT=1]="VIEWPORT"}(u||(u={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(c||(c={}));class p{}p.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:r.VISIBLE}},p.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:r.VISIBLE}},p.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:r.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:f.xR.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:f.JO.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},p.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:r.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:s.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:h.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:o.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:h.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:a.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:o.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:l.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[c.HORIZONTAL]}},p.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:r.VISIBLE}},p.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}},p.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:u.MAP}},p.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:u.MAP},"line-width":{type:"number",minimum:0,default:1}},p.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:u.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:u.MAP}},p.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},p.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:u.MAP}}},7370:(t,e,i)=>{i.d(e,{Pd:()=>s,VS:()=>a,oI:()=>o});var n=i(41746),r=i(69955);const s={geometry:[new r._("a_pos",2,n.pe.BYTE,0,2)]},o={geometry:[new r._("a_pos",2,n.pe.BYTE,0,4),new r._("a_tex",2,n.pe.BYTE,2,4)]},a={geometry:[new r._("a_pos",2,n.pe.UNSIGNED_SHORT,0,4)]}},59339:(t,e,i)=>{i.d(e,{p6:()=>a,wV:()=>o});Math.PI;const n=256/360,r=1/Math.LN2;function s(t,e){return(t%=e)>=0?t:t+e}function o(t){return s(t*n,256)}function a(t){return Math.log(t)*r}},60470:(t,e,i)=>{i.d(e,{A:()=>n});class n{constructor(t=0,e=0,i=0,n=0){this.x=t,this.y=e,this.width=i,this.height=n}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}},61409:(t,e,i)=>{i.d(e,{Y:()=>o});var n=i(46615),r=i(37353),s=i(42482);class o extends r.q{constructor(t,e,i,n,r,o,a=r,h=o){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new s.A(t),this.resolution=e,this.x=i,this.y=n,this.width=r,this.height=o,this.rangeX=a,this.rangeY=h}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(t){const e=this.resolution/(t.resolution*t.pixelRatio),i=this.transforms.tileMat3,[r,s]=t.toScreenNoRotation([0,0],[this.x,this.y]),o=this.width/this.rangeX*e,a=this.height/this.rangeY*e;(0,n.s)(i,o,0,0,0,a,0,r,s,1),(0,n.m)(this.transforms.dvs,t.displayViewMat3,i)}}},38403:(t,e,i)=>{i.d(e,{AV:()=>Z,Bh:()=>U,ES:()=>$,Ee:()=>tt,Et:()=>j,Gb:()=>ot,Hp:()=>k,ID:()=>et,JK:()=>H,Jg:()=>z,Mj:()=>ft,NM:()=>P,O9:()=>F,Pg:()=>B,Qz:()=>W,Th:()=>X,bX:()=>ut,ds:()=>ht,hi:()=>V,jG:()=>M,p2:()=>nt,pn:()=>at,rO:()=>G,sJ:()=>st,uk:()=>lt,vq:()=>L,z3:()=>Q});var n=i(98849),r=i(539),s=i(63643),o=i(79432),a=i(41746),h=i(69955);const l=r.A.getLogger("esri.views.2d.engine.webgl.Utils"),u="geometry",c=[{name:u,strideInBytes:12}],f=[{name:u,strideInBytes:36}],p=[{name:u,strideInBytes:24}],d=[{name:u,strideInBytes:12}],v=[{name:u,strideInBytes:40}],g=[{name:u,strideInBytes:36}],y=[{name:u,strideInBytes:36}];function m(t){const e={};for(const i of t)e[i.name]=i.strideInBytes;return e}const _=m([{name:u,strideInBytes:36}]),b=m(c),w=m(f),x=m(p),S=m(d),T=m(v),A=m(g),E=m(y);function M(t,e){switch(t){case o.ZG.MARKER:return e===o.w4.HEATMAP?b:_;case o.ZG.FILL:switch(e){case o.w4.DOT_DENSITY:return S;case o.w4.SIMPLE:case o.w4.OUTLINE_FILL_SIMPLE:return x;default:return w}case o.ZG.LINE:return T;case o.ZG.TEXT:return A;case o.ZG.LABEL:return E}}const I=[u],C=[u],R=[u],N=[u],O=[u];function D(t){switch(t){case o.ZG.MARKER:return I;case o.ZG.FILL:return C;case o.ZG.LINE:return R;case o.ZG.TEXT:return N;case o.ZG.LABEL:return O}}function L(t){switch(t%4){case 0:case 2:return 4;case 1:case 3:return 1}}function P(t,e){switch(e%4){case 0:case 2:return new Uint32Array(Math.floor(t*e/4));case 1:case 3:return new Uint8Array(t*e)}}function z(t,e){switch(e%4){case 0:case 2:return new Uint32Array(t);case 1:case 3:return new Uint8Array(t)}}function F(t){return null!=t}function j(t){return"number"==typeof t}function V(t){switch(t){case"butt":return s.xR.BUTT;case"round":return s.xR.ROUND;case"square":return s.xR.SQUARE;default:return l.error(new n.A("mapview-invalid-type",`Cap type ${t} is not a valid option. Defaulting to round`)),s.xR.ROUND}}function B(t){switch(t){case"miter":return s.JO.MITER;case"bevel":return s.JO.BEVEL;case"round":return s.JO.ROUND;default:return l.error(new n.A("mapview-invalid-type",`Join type ${t} is not a valid option. Defaulting to round`)),s.JO.ROUND}}function U(t){switch(t){case"opacity":return o.Js.OPACITY;case"color":return o.Js.COLOR;case"rotation":return o.Js.ROTATION;case"size":return o.Js.SIZE;default:return l.error(`Cannot interpret unknown vv: ${t}`),null}}function k(t,e,i,n,r,s,o){for(const a in s){const e=s[a].stride,n=L(e),o=s[a].data,h=i[a].data;if(null==o||null==h)continue;const l=e*r.vertexCount/n,u=e*t/n,c=e*r.vertexFrom/n;for(let t=0;t<l;++t)h[t+u]=o[t+c]}if(null!=o&&null!=n){const i=r.indexCount;for(let s=0;s<i;++s)n[s+e]=o[s+r.indexFrom]-r.vertexFrom+t}}const G={[u]:a._U.STATIC_DRAW};function H(t,e){const i=[];for(let n=0;n<5;++n){const r=D(n),s={};for(const t of r)s[t]={data:e(n,t)};i.push({data:t(n),buffers:s})}return i}function q(t){switch(t){case a.pe.BYTE:case a.pe.UNSIGNED_BYTE:return 1;case a.pe.SHORT:case a.pe.UNSIGNED_SHORT:return 2;case a.pe.FLOAT:case a.pe.INT:case a.pe.UNSIGNED_INT:return 4}}function Z(t){switch(t){case a.ld.UNSIGNED_BYTE:return 1;case a.ld.UNSIGNED_SHORT_4_4_4_4:return 2;case a.ld.FLOAT:return 4;default:return void l.error(new n.A("webgl-utils",`Unable to handle type ${t}`))}}function W(t){switch(t){case a.ld.UNSIGNED_BYTE:return Uint8Array;case a.ld.UNSIGNED_SHORT_4_4_4_4:return Uint16Array;case a.ld.FLOAT:return Float32Array;default:return void l.error(new n.A("webgl-utils",`Unable to handle type ${t}`))}}const Y=t=>{const e=new Map;for(const i in t)for(const n of t[i])e.set(n.name,n.location);return e},K=t=>{const e={};for(const i in t){const n=t[i];e[i]=n?.length?n[0].stride:0}return e},J=new Map,$=(t,e)=>{if(!J.has(t)){const i=function(t){const e={};for(const i in t){const n=t[i];let r=0;e[i]=n.map((t=>{const e=new h._(t.name,t.count,t.type,r,0,t.normalized||!1);return r+=t.count*q(t.type),e})),e[i]?.forEach((t=>t.stride=r))}return e}(e),n={strides:K(i),bufferLayouts:i,attributes:Y(e)};J.set(t,n)}return J.get(t)};function X(t){t(o.ZG.FILL),t(o.ZG.LINE),t(o.ZG.MARKER),t(o.ZG.TEXT),t(o.ZG.LABEL)}const Q=t=>"path"in t&&ct(t.path),tt=t=>!(!("url"in t)||!t.url)||!(!("imageData"in t)||!t.imageData),et=t=>"imageData"in t&&t.imageData&&"contentType"in t&&t.contentType?`data:${t.contentType};base64,${t.imageData}`:"url"in t?t.url:null,it=t=>null!=t&&t.startsWith("data:image/gif"),nt=t=>"url"in t&&t.url&&(t.url.includes(".gif")||it(t.url))||"contentType"in t&&"image/gif"===t.contentType||"imageData"in t&&it(t.imageData),rt=t=>null!=t&&t.startsWith("data:image/png"),st=t=>"url"in t&&t.url&&(t.url.includes(".png")||rt(t.url))||"contentType"in t&&"image/png"===t.contentType||"imageData"in t&&rt(t.imageData),ot=t=>t.type&&t.type.toLowerCase().includes("3d");function at(t){switch(t.type){case"line":{const e=t;return"CIMSolidStroke"===e.cim.type&&!e.dashTemplate}case"fill":return"CIMSolidFill"===t.cim.type;case"esriSFS":return"esriSFSSolid"===t.style||"esriSFSNull"===t.style;case"esriSLS":return"esriSLSSolid"===t.style||"esriSLSNull"===t.style;default:return!1}}function ht(t){switch("cim"in t?t.cim.type:t.type){case"esriSMS":case"esriPMS":case"CIMPointSymbol":return!1;case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":return ft(t);default:return!0}}function lt(t){const e="maxVVSize"in t&&t.maxVVSize,i="width"in t&&t.width||"size"in t&&t.size||0;return e||i}function ut(t){const e=[];for(let i=0;i<t.length;i++)e.push(t.charCodeAt(i));return e}const ct=t=>!!t&&(t=t.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4)),ft=t=>"fill"===t.type&&"CIMMarkerPlacementInsidePolygon"===t?.cim?.markerPlacement?.type},43438:(t,e,i)=>{i.d(e,{A:()=>a});var n=i(89423),r=i(41746),s=i(80976),o=i(69955);class a{constructor(t,e){this._rctx=t,this._vertexBuffer=n.g.createVertex(t,r._U.STATIC_DRAW,new Uint16Array(e)),this._vao=new s.Z(t,new Map([["a_position",0]]),{geometry:[new o._("a_position",2,r.pe.SHORT,0,4)]},{geometry:this._vertexBuffer}),this._count=e.length/2}bind(){this._rctx.bindVAO(this._vao)}unbind(){this._rctx.bindVAO(null)}dispose(){this._vao.dispose()}draw(){this._rctx.bindVAO(this._vao),this._rctx.drawArrays(r.WR.TRIANGLE_STRIP,0,this._count)}}},49195:(t,e,i)=>{i.d(e,{A:()=>A});i(39831);var n=i(98949),r=i(7715),s=i(98849),o=i(539),a=i(85251),h=i(21360),l=i(37353),u=i(16528),c=i(58680),f=i(78286),p=i(21355),d=i(88443),v=i(55429),g=i(89423),y=i(41746);const m=(t,e,i,n)=>{let r=0;for(let s=1;s<i;s++){const i=t[2*(e+s-1)],n=t[2*(e+s-1)+1];r+=(t[2*(e+s)]-i)*(t[2*(e+s)+1]+n)}return n?r>0:r<0},_=({coords:t,lengths:e},i)=>{const n=[];for(let r=0,s=0;r<e.length;s+=e[r],r+=1){const o=s,a=[];for(;r<e.length-1&&m(t,s+e[r],e[r+1],i);r+=1,s+=e[r])a.push(s+e[r]-o);const h=t.slice(2*o,2*(s+e[r])),l=(0,u.e)(h,a,2);for(const t of l)n.push(t+o)}return n};class b{constructor(t,e,i,n=!1){this._cache={},this.vertices=t,this.indices=e,this.primitiveType=i,this.isMapSpace=n}static fromRect({x:t,y:e,width:i,height:n}){const r=t,s=e,o=r+i,a=s+n;return b.fromScreenExtent({xmin:r,ymin:s,xmax:o,ymax:a})}static fromPath(t){const e=(0,p.eU)(new d.A,t.path,!1,!1),i=e.coords,n=new Uint32Array(_(e,!0)),r=new Uint32Array(i.length/2);for(let s=0;s<r.length;s++)r[s]=(0,v.M9)(Math.floor(i[2*s]),Math.floor(i[2*s+1]));return new b({geometry:r},n,y.WR.TRIANGLES)}static fromGeometry(t,e){const i=e.geometry?.type;switch(i){case"polygon":return b.fromPolygon(t,e.geometry);case"extent":return b.fromMapExtent(t,e.geometry);default:return o.A.getLogger("esri.views.2d.engine.webgl.Mesh2D").error(new s.A("mapview-bad-type",`Unable to create a mesh from type ${i}`,e)),b.fromRect({x:0,y:0,width:1,height:1})}}static fromPolygon(t,e){const i=(0,p.Ye)(new d.A,e,!1,!1),n=i.coords,r=new Uint32Array(_(i,!1)),s=new Uint32Array(n.length/2),o=(0,f.a)(),a=(0,f.a)();for(let h=0;h<s.length;h++)(0,c.s)(o,n[2*h],n[2*h+1]),t.toScreen(a,o),s[h]=(0,v.M9)(Math.floor(a[0]),Math.floor(a[1]));return new b({geometry:s},r,y.WR.TRIANGLES,!0)}static fromScreenExtent({xmin:t,xmax:e,ymin:i,ymax:n}){const r={geometry:new Uint32Array([(0,v.M9)(t,i),(0,v.M9)(e,i),(0,v.M9)(t,n),(0,v.M9)(t,n),(0,v.M9)(e,i),(0,v.M9)(e,n)])},s=new Uint32Array([0,1,2,3,4,5]);return new b(r,s,y.WR.TRIANGLES)}static fromMapExtent(t,e){const[i,n]=t.toScreen([0,0],[e.xmin,e.ymin]),[r,s]=t.toScreen([0,0],[e.xmax,e.ymax]),o={geometry:new Uint32Array([(0,v.M9)(i,n),(0,v.M9)(r,n),(0,v.M9)(i,s),(0,v.M9)(i,s),(0,v.M9)(r,n),(0,v.M9)(r,s)])},a=new Uint32Array([0,1,2,3,4,5]);return new b(o,a,y.WR.TRIANGLES)}destroy(){null!=this._cache.indexBuffer&&this._cache.indexBuffer.dispose();for(const t in this._cache.vertexBuffers)null!=this._cache.vertexBuffers[t]&&this._cache.vertexBuffers[t].dispose()}get elementType(){return(t=>{switch(t.BYTES_PER_ELEMENT){case 1:return y.pe.UNSIGNED_BYTE;case 2:return y.pe.UNSIGNED_SHORT;case 4:return y.pe.UNSIGNED_INT;default:throw new s.A("Cannot get DataType of array")}})(this.indices)}getIndexBuffer(t,e=y._U.STATIC_DRAW){return this._cache.indexBuffer||(this._cache.indexBuffer=g.g.createIndex(t,e,this.indices)),this._cache.indexBuffer}getVertexBuffers(t,e=y._U.STATIC_DRAW){return this._cache.vertexBuffers||(this._cache.vertexBuffers=Object.keys(this.vertices).reduce(((i,n)=>({...i,[n]:g.g.createVertex(t,e,this.vertices[n])})),{})),this._cache.vertexBuffers}}var w=i(80976);const x=t=>parseFloat(t)/100;class S extends l.q{constructor(t,e){super(),this._clip=e,this._cache={},this.stage=t,this._handle=(0,a.wB)((()=>e.version),(()=>this._invalidate())),this.ready()}static fromClipArea(t,e){return new S(t,e)}_destroyGL(){null!=this._cache.mesh&&(this._cache.mesh.destroy(),this._cache.mesh=null),null!=this._cache.vao&&(this._cache.vao.dispose(),this._cache.vao=null)}destroy(){this._destroyGL(),this._handle.remove()}getVAO(t,e,i,n){const[r,s]=e.size;if("geometry"!==this._clip.type&&this._lastWidth===r&&this._lastHeight===s||(this._lastWidth=r,this._lastHeight=s,this._destroyGL()),null==this._cache.vao){const r=this._createMesh(e,this._clip),s=r.getIndexBuffer(t),o=r.getVertexBuffers(t);this._cache.mesh=r,this._cache.vao=new w.Z(t,i,n,o,s)}return this._cache.vao}_createTransforms(){return{dvs:(0,h.c)()}}_invalidate(){this._destroyGL(),this.requestRender()}_createScreenRect(t,e){const[i,n]=t.size,r="string"==typeof e.left?x(e.left)*i:e.left,s="string"==typeof e.right?x(e.right)*i:e.right,o="string"==typeof e.top?x(e.top)*n:e.top,a="string"==typeof e.bottom?x(e.bottom)*n:e.bottom,h=r,l=o;return{x:h,y:l,width:Math.max(i-s-h,0),height:Math.max(n-a-l,0)}}_createMesh(t,e){switch(e.type){case"rect":return b.fromRect(this._createScreenRect(t,e));case"path":return b.fromPath(e);case"geometry":return b.fromGeometry(t,e);default:return o.A.getLogger("esri.views.2d.engine.webgl.ClippingInfo").error(new s.A("mapview-bad-type","Unable to create ClippingInfo mesh from clip of type: ${clip.type}")),b.fromRect({x:0,y:0,width:1,height:1})}}}var T=i(79432);class A extends r.m{set clips(t){super.clips=t,this._updateClippingInfo(t)}renderChildren(t){null==this._renderPasses&&(this._renderPasses=this.prepareRenderPasses(t.painter));for(const i of this._renderPasses)try{i.render(t)}catch(e){}}prepareRenderPasses(t){return[t.registerRenderPass({name:"clip",brushes:[n.d.clip],target:()=>this._clippingInfos,drawPhase:T.S5.MAP|T.S5.LABEL|T.S5.LABEL_ALPHA|T.S5.DEBUG|T.S5.HIGHLIGHT})]}_updateClippingInfo(t){null!=this._clippingInfos&&(this._clippingInfos.forEach((t=>t.destroy())),this._clippingInfos=null),null!=t&&t.length&&(this._clippingInfos=t.items.map((t=>S.fromClipArea(this.stage,t)))),this.requestRender()}}},22610:(t,e,i)=>{var n,r;function s(t){switch(t){case"left":return n.Left;case"right":return n.Right;case"center":return n.Center}}function o(t){switch(t){case"top":return r.Top;case"middle":return r.Center;case"baseline":return r.Baseline;case"bottom":return r.Bottom}}function a(t){switch(t){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[n.Right,r.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[n.Center,r.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[n.Left,r.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[n.Right,r.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[n.Center,r.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[n.Left,r.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[n.Right,r.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[n.Center,r.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[n.Left,r.Top];default:return console.debug(`Found invalid placement type ${t}`),[n.Center,r.Center]}}function h(t){switch(t){case n.Right:return-1;case n.Center:return 0;case n.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function l(t){switch(t){case r.Top:return 1;case r.Center:return 0;case r.Bottom:case r.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${t}`),0}}function u(t){switch(t){case"left":return n.Left;case"right":return n.Right;case"center":return n.Center}}function c(t){switch(t){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}i.d(e,{Dy:()=>l,UD:()=>o,fO:()=>a,gy:()=>r,iT:()=>h,nE:()=>c,oX:()=>n,p1:()=>u,xy:()=>s}),function(t){t[t.Left=-1]="Left",t[t.Center=0]="Center",t[t.Right=1]="Right"}(n||(n={})),function(t){t[t.Top=1]="Top",t[t.Center=0]="Center",t[t.Bottom=-1]="Bottom",t[t.Baseline=2]="Baseline"}(r||(r={}))},18806:(t,e,i)=>{i.d(e,{A:()=>l});var n=i(43556),r=i(43438),s=i(95031),o=i(41746);const a={nearest:{defines:[],samplingMode:o.Cj.NEAREST,mips:!1},bilinear:{defines:[],samplingMode:o.Cj.LINEAR,mips:!1},bicubic:{defines:["bicubic"],samplingMode:o.Cj.LINEAR,mips:!1},trilinear:{defines:[],samplingMode:o.Cj.LINEAR_MIPMAP_LINEAR,mips:!0}},h=(t,e,i)=>{if("dynamic"===i.samplingMode){const{state:i}=t,n=e.resolution/e.pixelRatio/i.resolution,r=Math.round(t.pixelRatio)!==t.pixelRatio,s=n>1.05||n<.95;return i.rotation||s||r||e.isSourceScaled||e.rotation?a.bilinear:a.nearest}return a[i.samplingMode]};class l extends s.A{constructor(){super(...arguments),this._desc={vsPath:"raster/bitmap",fsPath:"raster/bitmap",attributes:new Map([["a_pos",0]])}}dispose(){this._quad&&this._quad.dispose()}prepareState({context:t}){t.setBlendingEnabled(!0),t.setColorMask(!0,!0,!0,!0),t.setStencilWriteMask(0),t.setStencilTestEnabled(!0)}draw(t,e){const{context:i,renderingOptions:s,painter:a,requestRender:l,allowDelayedRender:u}=t;if(!e.source||!e.isReady)return;const c=h(t,e,s),f=a.materialManager.getProgram(this._desc,c.defines);if(u&&null!=l&&!f.compiled)return void l();t.timeline.begin(this.name),"additive"===e.blendFunction?i.setBlendFunctionSeparate(o.dn.ONE,o.dn.ONE,o.dn.ONE,o.dn.ONE):i.setBlendFunctionSeparate(o.dn.ONE,o.dn.ONE_MINUS_SRC_ALPHA,o.dn.ONE,o.dn.ONE_MINUS_SRC_ALPHA),i.setStencilFunction(o.MT.EQUAL,e.stencilRef,255),this._quad||(this._quad=new r.A(i,[0,0,1,0,0,1,1,1]));const{coordScale:p,computedOpacity:d,transforms:v}=e;e.setSamplingProfile(c),e.bind(t.context,n.YS),i.useProgram(f),f.setUniformMatrix3fv("u_dvsMat3",v.dvs),f.setUniform1i("u_texture",n.YS),f.setUniform2fv("u_coordScale",p),f.setUniform1f("u_opacity",d),this._quad.draw(),t.timeline.end(this.name)}}},95031:(t,e,i)=>{i.d(e,{A:()=>n});class n{constructor(){this.name=this.constructor.name||"UnnamedBrush",this.brushEffect=null}prepareState(t,e){}draw(t,e,i){}drawMany(t,e,i){for(const n of e)n.visible&&this.draw(t,n,i)}}},83739:(t,e,i)=>{i.d(e,{A:()=>x});var n=i(539),r=i(6267),s=i(79432),o=i(43438),a=i(74373),h=i(25586),l=i(97025),u=i(21946),c=i(41746),f=i(84852),p=i(98849);class d{constructor(t,e,i,n){this.dataType=t,this.samplingMode=e,this.pixelFormat=i,this.internalFormat=n}}var v=i(74416),g=i(94669),y=i(6940),m=i(45758);const _=n.A.getLogger("esri.views.2d.engine.webgl.brushes.WGLBrushHeatmap");function b(t){return"heatmap"===t.type}function w(t,e){const{referenceScale:i,radius:n}=t;return n*(0!==i?i/e.scale:1)}class x extends a.A{constructor(){super(...arguments),this.brushEffect=new A}supportsSymbology(t){return t===s.w4.HEATMAP}dispose(){super.dispose(),this.brushEffect.dispose(),this.brushEffect=null}prepareState(){}drawGeometry(t,e,i,n){const{defines:r}=this.brushEffect.loadQualityProfile(t.context);super.drawGeometry(t,e,i,n?[...n,...r]:r)}_drawMarkers(t,e,i,n,r,s,o){const{context:a,rendererInfo:h,state:u}=t,{rendererSchema:f}=h;(0,l.R7)(f,"heatmap");const{isFieldActive:p}=f;i.setUniform1f("u_radius",w(f,u)),o||(i.setUniform1f("u_isFieldActive",p),a.setStencilFunction(c.MT.GEQUAL,e.stencilRef,255)),a.drawElements(n,r,c.pe.UNSIGNED_INT,s)}}const S={vsPath:"heatmap/heatmapResolve",fsPath:"heatmap/heatmapResolve",attributes:new Map([["a_position",0]])},T=.25;class A extends h.M{constructor(){super(...arguments),this.name=this.constructor.name}createOptions({passOptions:t}){return t}dispose(){this._prevFBO=null,null!=this._accumulateFramebuffer&&this._accumulateFramebuffer.detachDepthStencilBuffer(),this._accumulateOutputStencilBuffer=(0,r.WD)(this._accumulateOutputStencilBuffer),this._accumulateFramebuffer=(0,r.WD)(this._accumulateFramebuffer),this._resolveGradientTexture=(0,r.WD)(this._resolveGradientTexture),this._tileQuad=(0,r.WD)(this._tileQuad)}bind(t){const{context:e,rendererInfo:i,passOptions:n,state:r}=t,{rendererSchema:s}=i;(null==n||"hittest"!==n.type)&&b(s)&&(this._prevFBO=e.getBoundFramebufferObject(),this._prevViewport=e.getViewport(),(0,l.R7)(s,"heatmap"),this._loadResources(t),this._updateResources(e,s,r),e.bindFramebuffer(this._accumulateFramebuffer),e.setViewport(0,0,this._accumulateFramebuffer.width,this._accumulateFramebuffer.height),e.setStencilTestEnabled(!0),e.setBlendingEnabled(!0),e.setBlendFunction(c.dn.ONE,c.dn.ONE),e.setClearColor(0,0,0,0),e.clear(c.hn.COLOR_BUFFER_BIT))}unbind(){this._prevFBO=null,this._prevViewport=null}draw(t){const{context:e,painter:i,rendererInfo:n,passOptions:r}=t,{rendererSchema:s}=n;if(null!=r&&"hittest"===r.type||!b(s))return;const{defines:o}=this.loadQualityProfile(e),a=i.materialManager.getProgram(S,o);e.useProgram(a),e.bindFramebuffer(this._prevFBO),e.setViewport(0,0,this._prevViewport.width,this._prevViewport.height),e.setBlendFunction(c.dn.ONE,c.dn.ONE_MINUS_SRC_ALPHA),e.setStencilTestEnabled(!1);const{radius:h,minDensity:l,densityRange:u}=s;e.bindTexture(this._accumulateFramebuffer.colorTexture,8),e.bindTexture(this._resolveGradientTexture,9),a.setUniform1i("u_texture",8),a.setUniform1i("u_gradient",9),a.setUniform2f("u_densityMinAndInvRange",l,1/u),a.setUniform1f("u_densityNormalization",3/(h*h*Math.PI)),this._tileQuad.draw()}_loadResources({context:t,painter:e}){const{dataType:i,samplingMode:n,pixelFormat:r,internalFormat:s,requiresSharedStencilBuffer:a}=this.loadQualityProfile(t),{width:h,height:l}=this._prevViewport,u=a?1:T,p=h*u,d=l*u;let _=new m.R(p,d);_.pixelFormat=r,_.internalFormat=s,_.dataType=i,_.samplingMode=n,_.wrapMode=c.pF.CLAMP_TO_EDGE,a||(this._accumulateOutputStencilBuffer??=new v.l(t,new g.q(c.yQ.DEPTH_STENCIL,p,d))),this._accumulateFramebuffer??=new f.H(t,_,a?e.getSharedStencilBuffer():this._accumulateOutputStencilBuffer),_=new m.R,_.wrapMode=c.pF.CLAMP_TO_EDGE,this._resolveGradientTexture??=new y.g(t,_),this._tileQuad??=new o.A(t,[0,0,1,0,0,1,1,1])}_updateResources(t,e,i){const{gradientHash:n,gradient:r}=e;this._prevGradientHash!==n&&(this._resolveGradientTexture.resize(r.length/4,1),this._resolveGradientTexture.setData(r),this._prevGradientHash=n);const{requiresSharedStencilBuffer:s}=this.loadQualityProfile(t),o=s?1:function(t){return t<2?1:T}(w(e,i)),{width:a,height:h}=this._prevViewport,l=a*o,u=h*o,{width:f,height:p}=this._accumulateFramebuffer;if(f!==l||p!==u){const t=this._accumulateFramebuffer.depthStencil;if(s&&null!=t){const{width:e,height:i}=t.descriptor;e===l&&i===u||(_.errorOnce("Attempted to resize shared stencil buffer! Detaching instead."),this._accumulateFramebuffer.detachDepthStencilBuffer())}this._accumulateFramebuffer.resize(l,u)}s||t.blitFramebuffer(this._prevFBO,this._accumulateFramebuffer,0,0,this._prevFBO.width,this._prevFBO.height,0,0,this._accumulateFramebuffer.width,this._accumulateFramebuffer.height,c.hn.STENCIL_BUFFER_BIT,c.Cj.NEAREST)}loadQualityProfile(t){if(null==this._qualityProfile){const e=function(t,e){const{textureFloat:i,colorBufferFloat:n}=t.capabilities,r=i?.textureFloat,s=i?.textureFloatLinear,o=i?.textureHalfFloat,a=i?.textureHalfFloatLinear,h=n?.textureFloat,l=n?.textureHalfFloat,u=n?.floatBlend,f=t.driverTest.floatBufferBlend.result;if(!r&&!o)throw new p.A("heatmap:missing-texture-float","HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.");if(!h&&!l)throw new p.A("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(u&&f||l))throw new p.A("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(f?"":" This device claims support for EXT_float_blend, but does not actually support it."));const v=r&&h&&u&&f,g=o&&l,y=s,m=a,_=!!n?.R32F,b=!!n?.R16F;if(v&&(y||!m))return y||e.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new d(c.ld.FLOAT,y?c.Cj.LINEAR:c.Cj.NEAREST,_?c.Ab.RED:c.Ab.RGBA,_?c.H0.R32F:c.Ab.RGBA);if(g)return m||e.warnOnce("Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced."),new d(c.ld.HALF_FLOAT,m?c.Cj.LINEAR:c.Cj.NEAREST,b?c.Ab.RED:c.Ab.RGBA,b?c.H0.R16F:c.Ab.RGBA);throw new p.A("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}(t,_),i=t.type===u.EL.WEBGL1;this._qualityProfile={...e,requiresSharedStencilBuffer:i,defines:e.dataType!==c.ld.FLOAT?["heatmapPrecisionHalfFloat"]:[]}}return this._qualityProfile}}},10803:(t,e,i)=>{i.d(e,{A:()=>g});var n=i(20035),r=i(7370),s=i(95031),o=i(97394),a=i(13294),h=i(89423),l=i(41746),u=i(50122),c=i(6940),f=i(45758),p=i(80976),d=i(49251);const v=300;class g extends s.A{constructor(){super(...arguments),this._color=(0,n.f)(1,0,0,1)}dispose(){this._outlineProgram?.dispose(),this._outlineProgram=null,this._tileInfoProgram?.dispose(),this._tileInfoProgram=null,this._outlineVertexArrayObject?.dispose(),this._outlineVertexArrayObject=null,this._tileInfoVertexArrayObject?.dispose(),this._tileInfoVertexArrayObject=null,this._canvas=null}prepareState({context:t}){t.setBlendingEnabled(!0),t.setBlendFunctionSeparate(l.dn.ONE,l.dn.ONE_MINUS_SRC_ALPHA,l.dn.ONE,l.dn.ONE_MINUS_SRC_ALPHA),t.setColorMask(!0,!0,!0,!0),t.setStencilWriteMask(0),t.setStencilTestEnabled(!1)}draw(t,e){const{context:i,requestRender:n,allowDelayedRender:r}=t;if(!e.isReady)return;if(this._loadWGLResources(i),r&&null!=n&&(!this._outlineProgram.compiled||!this._tileInfoProgram.compiled))return void n();i.bindVAO(this._outlineVertexArrayObject),i.useProgram(this._outlineProgram),this._outlineProgram.setUniformMatrix3fv("u_dvsMat3",e.transforms.dvs),this._outlineProgram.setUniform2f("u_coord_range",e.rangeX,e.rangeY),this._outlineProgram.setUniform1f("u_depth",0),this._outlineProgram.setUniform4fv("u_color",this._color),i.drawArrays(l.WR.LINE_STRIP,0,4);const s=this._getTexture(i,e);s?(i.bindVAO(this._tileInfoVertexArrayObject),i.useProgram(this._tileInfoProgram),i.bindTexture(s,0),this._tileInfoProgram.setUniformMatrix3fv("u_dvsMat3",e.transforms.dvs),this._tileInfoProgram.setUniform1f("u_depth",0),this._tileInfoProgram.setUniform2f("u_coord_ratio",e.rangeX/e.width,e.rangeY/e.height),this._tileInfoProgram.setUniform2f("u_delta",8,8),this._tileInfoProgram.setUniform2f("u_dimensions",s.descriptor.width,s.descriptor.height),i.drawArrays(l.WR.TRIANGLE_STRIP,0,4),i.bindVAO()):i.bindVAO()}_loadWGLResources(t){if(this._outlineProgram&&this._tileInfoProgram)return;const e=(0,u.r)(t,o.T),i=(0,u.r)(t,a.H),n=new Int8Array([0,0,1,0,1,1,0,1]),s=h.g.createVertex(t,l._U.STATIC_DRAW,n),c=new p.Z(t,o.T.attributes,r.Pd,{geometry:s}),f=new Int8Array([0,0,1,0,0,1,1,1]),d=h.g.createVertex(t,l._U.STATIC_DRAW,f),v=new p.Z(t,a.H.attributes,r.Pd,{geometry:d});this._outlineProgram=e,this._tileInfoProgram=i,this._outlineVertexArrayObject=c,this._tileInfoVertexArrayObject=v}_getTexture(t,e){if(e.texture&&e.triangleCountReportedInDebug===e.triangleCount)return e.texture;e.triangleCountReportedInDebug=e.triangleCount,this._canvas||(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("id","tileCanvas2d"),this._canvas.setAttribute("width","300"),this._canvas.setAttribute("height","32"),this._canvas.setAttribute("style","display:none"));const i=e.triangleCount;let n=e.key.id;e.triangleCount>0&&(n+=`, ${i}`);const r=this._canvas,s=r.getContext("2d");s.font="24px sans-serif",s.textAlign="left",s.textBaseline="top",s.clearRect(0,0,v,32),i>1e5?(s.fillStyle="red",s.fillRect(0,0,v,32),s.fillStyle="black"):(s.clearRect(0,0,v,32),s.fillStyle="blue"),s.fillText(n,0,0);const o=new f.R;return o.wrapMode=l.pF.CLAMP_TO_EDGE,o.samplingMode=l.Cj.NEAREST,o.isImmutable=(0,d.A)(t.gl),e.texture=new c.g(t,o,r),e.texture}}},46419:(t,e,i)=>{i.d(e,{A:()=>c});var n=i(20035),r=i(7370),s=i(95031),o=i(97394),a=i(89423),h=i(41746),l=i(50122),u=i(80976);class c extends s.A{constructor(){super(...arguments),this._color=(0,n.f)(1,0,0,1),this._initialized=!1}dispose(){this._solidProgram&&(this._solidProgram.dispose(),this._solidProgram=null),this._solidVertexArrayObject&&(this._solidVertexArrayObject.dispose(),this._solidVertexArrayObject=null)}prepareState({context:t}){t.setDepthWriteEnabled(!1),t.setDepthTestEnabled(!1),t.setStencilTestEnabled(!0),t.setBlendingEnabled(!1),t.setColorMask(!1,!1,!1,!1),t.setStencilOp(h.eA.KEEP,h.eA.KEEP,h.eA.REPLACE),t.setStencilWriteMask(255)}draw(t,e){const{context:i,requestRender:n,allowDelayedRender:r}=t;this._initialized||this._initialize(i),!r||null==n||this._solidProgram.compiled?(i.setStencilFunctionSeparate(h.Y7.FRONT_AND_BACK,h.MT.GREATER,e.stencilRef,255),i.bindVAO(this._solidVertexArrayObject),i.useProgram(this._solidProgram),this._solidProgram.setUniformMatrix3fv("u_dvsMat3",e.transforms.dvs),this._solidProgram.setUniform2fv("u_coord_range",[e.rangeX,e.rangeY]),this._solidProgram.setUniform1f("u_depth",0),this._solidProgram.setUniform4fv("u_color",this._color),i.drawArrays(h.WR.TRIANGLE_STRIP,0,4),i.bindVAO()):n()}_initialize(t){if(this._initialized)return!0;const e=(0,l.r)(t,o.T);if(!e)return!1;const i=new Int8Array([0,0,1,0,0,1,1,1]),n=a.g.createVertex(t,h._U.STATIC_DRAW,i),s=new u.Z(t,o.T.attributes,r.Pd,{geometry:n});return this._solidProgram=e,this._solidVertexArrayObject=s,this._initialized=!0,!0}}},67095:(t,e,i)=>{i.d(e,{A:()=>a});var n=i(43556),r=i(95031),s=i(59601),o=i(41746);class a extends r.A{constructor(){super(...arguments),this._computeDesc=new Map}prepareState({context:t},e){e&&e.includes("hittest")?t.setBlendFunctionSeparate(o.dn.ONE,o.dn.ONE,o.dn.ONE,o.dn.ONE):t.setBlendFunctionSeparate(o.dn.ONE,o.dn.ONE_MINUS_SRC_ALPHA,o.dn.ONE,o.dn.ONE_MINUS_SRC_ALPHA),t.setBlendingEnabled(!0),t.setColorMask(!0,!0,!0,!0),t.setStencilWriteMask(0),t.setStencilTestEnabled(!0)}draw(t,e,i){const n=this.getGeometryType();e.commit(t);const r=e.getGeometry(n);null!=r&&(t.timeline.begin(this.name),t.attributeView.bindTextures(t.context),t.context.setStencilFunction(o.MT.EQUAL,e.stencilRef,255),r.forEachCommand((n=>{const r=s.ar.load(n.materialKey).symbologyType;this.supportsSymbology(r)&&this.drawGeometry(t,e,n,i)})))}_setSharedUniforms(t,e,i){const{displayLevel:r,pixelRatio:s,state:o,passOptions:a}=e;null!=a&&"hittest"===a.type&&(t.setUniform2fv("u_hittestPos",a.position),t.setUniform1f("u_hittestDist",a.distance)),t.setUniform1f("u_pixelRatio",s),t.setUniformMatrix3fv("u_tileMat3",i.transforms.tileMat3),t.setUniformMatrix3fv("u_viewMat3",o.viewMat3),t.setUniformMatrix3fv("u_dvsMat3",i.transforms.dvs),t.setUniformMatrix3fv("u_displayViewMat3",o.displayViewMat3),t.setUniform1f("u_currentZoom",Math.floor(r*n.fq)),t.setUniform1i("u_attributeTextureSize",e.attributeView.size),t.setUniform1i("u_attributeData0",n.do),t.setUniform1i("u_attributeData1",n.k2),t.setUniform1i("u_attributeData2",n.rE),t.setUniform1i("u_attributeData3",n.yg),t.setUniform1i("u_attributeData4",n.rZ),t.setUniform1i("u_attributeData5",n.kW)}_setSizeVVUniforms(t,e,i,n){if(t.vvSizeMinMaxValue&&e.setUniform4fv("u_vvSizeMinMaxValue",i.vvSizeMinMaxValue),t.vvSizeScaleStops&&e.setUniform1f("u_vvSizeScaleStopsValue",i.vvSizeScaleStopsValue),t.vvSizeFieldStops){const t=i.getSizeVVFieldStops(n.key.level);null!=t&&(e.setUniform1fv("u_vvSizeFieldStopsValues",t.values),e.setUniform1fv("u_vvSizeFieldStopsSizes",t.sizes))}t.vvSizeUnitValue&&e.setUniform1f("u_vvSizeUnitValueWorldToPixelsRatio",i.vvSizeUnitValueToPixelsRatio)}_setColorAndOpacityVVUniforms(t,e,i){t.vvColor&&(e.setUniform1fv("u_vvColorValues",i.vvColorValues),e.setUniform4fv("u_vvColors",i.vvColors)),t.vvOpacity&&(e.setUniform1fv("u_vvOpacityValues",i.vvOpacityValues),e.setUniform1fv("u_vvOpacities",i.vvOpacities))}_setRotationVVUniforms(t,e,i){t.vvRotation&&e.setUniform1f("u_vvRotationType","geographic"===i.vvMaterialParameters.vvRotationType?0:1)}_getTriangleDesc(t,e,i=["a_pos"]){const n=e.bufferLayouts.geometry,r=i.map((t=>n.findIndex((e=>e.name===t)))),s=`${t}-${r.join("-")}`;let o=this._computeDesc.get(s);if(!o){const t=e.strides,i=e.strides.geometry,a=new Map(e.attributes),h=n.map((t=>({...t}))),l=Math.max(...e.attributes.values()),u={geometry:h};let c=0;for(const e of r){const t=n[e];u.geometry.push({count:t.count,name:t.name+"1",divisor:t.divisor,normalized:t.normalized,offset:i+t.offset,stride:i,type:t.type}),u.geometry.push({count:t.count,name:t.name+"2",divisor:t.divisor,normalized:t.normalized,offset:2*i+t.offset,stride:i,type:t.type}),a.set(t.name+"1",l+ ++c),a.set(t.name+"2",l+ ++c)}o={bufferLayouts:u,attributes:a,strides:t},this._computeDesc.set(s,o)}return o}}},74373:(t,e,i)=>{i.d(e,{A:()=>u});var n=i(79432),r=i(38403),s=i(67095),o=i(59601),a=i(97025),h=i(41746);const l={shader:"materials/icon",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.pe.SHORT},{location:1,name:"a_vertexOffset",count:2,type:h.pe.SHORT},{location:2,name:"a_texCoords",count:2,type:h.pe.UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:h.pe.UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:h.pe.UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:h.pe.UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:h.pe.UNSIGNED_SHORT}]},hittestAttributes:["a_vertexOffset","a_texCoords"]};class u extends s.A{dispose(){}getGeometryType(){return n.ZG.MARKER}supportsSymbology(t){return t!==n.w4.HEATMAP&&t!==n.w4.PIE_CHART}drawGeometry(t,e,i,n){const{context:s,painter:u,rendererInfo:c,state:f,passOptions:p,requestRender:d,allowDelayedRender:v}=t,g=o.PH.load(i.materialKey),y=(0,a.JW)(g.data),m=null!=p&&"hittest"===p.type,{shader:_,vertexLayout:b,hittestAttributes:w}=y.programSpec??l;let x=h.WR.TRIANGLES,S=(0,r.ES)(g.data,b);m&&(S=this._getTriangleDesc(i.materialKey,S,w),x=h.WR.POINTS);const{attributes:T,bufferLayouts:A}=S,E=u.materialManager.getMaterialProgram(t,g,_,T,n);if(v&&null!=d&&!E.compiled)return void d();s.useProgram(E),g.textureBinding&&u.textureManager.bindTextures(s,E,g,!0),this._setSharedUniforms(E,t,e);const M=g.vvRotation?f.displayViewMat3:f.displayMat3;E.setUniformMatrix3fv("u_displayMat3",M),this._setSizeVVUniforms(g,E,c,e),this._setColorAndOpacityVVUniforms(g,E,c),this._setRotationVVUniforms(g,E,c);const I=i.target.getVAO(s,A,T,m);let C=i.indexCount,R=i.indexFrom*Uint32Array.BYTES_PER_ELEMENT;m&&(C/=3,R/=3),s.bindVAO(I),this._drawMarkers(t,e,E,x,C,R,m),s.bindVAO(null)}_drawMarkers(t,e,i,n,r,s,o){t.context.drawElements(n,r,h.pe.UNSIGNED_INT,s)}}},83253:(t,e,i)=>{i.d(e,{IG:()=>r,Nm:()=>o,cz:()=>s,tb:()=>a});var n=i(55429);function r(t,e=0,i=!1){const n=t[e+3];return t[e]*=n,t[e+1]*=n,t[e+2]*=n,i||(t[e+3]*=255),t}function s(t){if(!t)return 0;const{r:e,g:i,b:r,a:s}=t;return(0,n.Ss)(e*s,i*s,r*s,255*s)}function o(t){if(!t)return 0;const[e,i,r,s]=t;return(0,n.Ss)(e*(s/255),i*(s/255),r*(s/255),s)}function a(t,e,i=0){if(null==e)return t[i]=0,t[i+1]=0,t[i+2]=0,void(t[i+3]=0);const{r:n,g:r,b:s,a:o}=e;t[i]=n*o/255,t[i+1]=r*o/255,t[i+2]=s*o/255,t[i+3]=o}},43556:(t,e,i)=>{i.d(e,{$U:()=>U,CQ:()=>o,CR:()=>M,C_:()=>G,Cp:()=>I,DY:()=>f,Fz:()=>rt,Gh:()=>V,Hi:()=>s,KM:()=>P,LH:()=>v,LY:()=>F,MJ:()=>Q,Nb:()=>N,O7:()=>O,Oe:()=>A,PT:()=>J,Pq:()=>g,Qb:()=>ht,Sh:()=>L,Tv:()=>h,Vx:()=>$,X3:()=>z,Xx:()=>nt,YS:()=>m,YV:()=>l,Yw:()=>d,ZX:()=>W,_j:()=>q,aS:()=>R,bg:()=>a,c5:()=>B,cR:()=>Z,cn:()=>et,do:()=>_,dx:()=>D,eG:()=>p,fq:()=>Y,g0:()=>j,hA:()=>tt,hM:()=>H,ij:()=>c,iw:()=>at,jM:()=>X,ju:()=>u,k2:()=>b,kW:()=>T,kx:()=>it,mg:()=>k,nW:()=>ut,ni:()=>ot,qM:()=>r,r1:()=>lt,rE:()=>w,rZ:()=>S,ue:()=>y,vN:()=>C,vd:()=>E,xB:()=>st,yg:()=>x,yv:()=>K});var n=i(39831);const r=1e-30,s=4294967295,o=512,a=128,h=511,l=16777216,u=8,c=10,f=29,p=24,d=8,v={metrics:{width:15,height:17,left:0,top:-7,advance:14}},g=0,y=0,m=0,_=1,b=2,w=3,x=4,S=5,T=6,A=12,E=5,M=6,I=5,C=6,R=0,N=1,O=2,D=3,L=4,P=2,z=1,F=2,j=4,V=1.05,B=(0,n.A)("featurelayer-force-marker-text-draw-order")?.5:3,U=5,k=6,G=1.15,H=2,q=128-2*H,Z=8,W=500,Y=10,K=1024,J=2,$=0,X=1,Q=4,tt=8,et=16,it=4,nt=1,rt=4,st=8,ot=32,at=64,ht=128,lt=4,ut=2},25586:(t,e,i)=>{i.d(e,{M:()=>n});class n{constructor(){this.name=this.constructor.name}createOptions(t,e){return null}}},25024:(t,e,i)=>{i.d(e,{A:()=>c});var n=i(539),r=i(43556),s=i(17746),o=i(41746),a=i(6940),h=i(45758);const l=n.A.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");const u=[0,0,0,0];class c{constructor(){this._convertedHighlightOptions={fillColor:[.2*.75,.6*.75,.675,.75],outlineColor:[.2*.9,.54,.81,.9],outlinePosition:s.No.outlinePosition,outlineWidth:s.No.outlineWidth,innerHaloWidth:s.No.innerHaloWidth,outerHaloWidth:s.No.outerHaloWidth},this._shadeTexChanged=!0,this._texelData=new Uint8Array(4*s.Ci),this._minMaxDistance=[0,0]}setHighlightOptions(t){const e=this._convertedHighlightOptions;!function(t,e){e.fillColor[0]=t.color.r/255,e.fillColor[1]=t.color.g/255,e.fillColor[2]=t.color.b/255,e.fillColor[3]=t.color.a,t.haloColor?(e.outlineColor[0]=t.haloColor.r/255,e.outlineColor[1]=t.haloColor.g/255,e.outlineColor[2]=t.haloColor.b/255,e.outlineColor[3]=t.haloColor.a):(e.outlineColor[0]=e.fillColor[0],e.outlineColor[1]=e.fillColor[1],e.outlineColor[2]=e.fillColor[2],e.outlineColor[3]=e.fillColor[3]),e.fillColor[3]*=t.fillOpacity,e.outlineColor[3]*=t.haloOpacity,e.fillColor[0]*=e.fillColor[3],e.fillColor[1]*=e.fillColor[3],e.fillColor[2]*=e.fillColor[3],e.outlineColor[0]*=e.outlineColor[3],e.outlineColor[1]*=e.outlineColor[3],e.outlineColor[2]*=e.outlineColor[3],e.outlineWidth=s.No.outlineWidth,e.outerHaloWidth=s.No.outerHaloWidth,e.innerHaloWidth=s.No.innerHaloWidth,e.outlinePosition=s.No.outlinePosition}(t,e);const i=e.outlinePosition-e.outlineWidth/2-e.outerHaloWidth,n=e.outlinePosition-e.outlineWidth/2,r=e.outlinePosition+e.outlineWidth/2,o=e.outlinePosition+e.outlineWidth/2+e.innerHaloWidth,a=Math.sqrt(Math.PI/2)*s.aY,h=Math.abs(i)>a?Math.round(10*(Math.abs(i)-a))/10:0,c=Math.abs(o)>a?Math.round(10*(Math.abs(o)-a))/10:0;let f;h&&!c?l.error("The outer rim of the highlight is "+h+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!h&&c?l.error("The inner rim of the highlight is "+c+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):h&&c&&l.error("The highlight is "+Math.max(h,c)+"px away from the edge of the feature; consider reducing some width values.");const p=[void 0,void 0,void 0,void 0];function d(t,e,i){p[0]=(1-i)*t[0]+i*e[0],p[1]=(1-i)*t[1]+i*e[1],p[2]=(1-i)*t[2]+i*e[2],p[3]=(1-i)*t[3]+i*e[3]}const{_texelData:v}=this;for(let l=0;l<s.Ci;++l)f=i+l/(s.Ci-1)*(o-i),f<i?(p[0]=0,p[1]=0,p[2]=0,p[3]=0):f<n?d(u,e.outlineColor,(f-i)/(n-i)):f<r?[p[0],p[1],p[2],p[3]]=e.outlineColor:f<o?d(e.outlineColor,e.fillColor,(f-r)/(o-r)):[p[0],p[1],p[2],p[3]]=e.fillColor,v[4*l]=255*p[0],v[4*l+1]=255*p[1],v[4*l+2]=255*p[2],v[4*l+3]=255*p[3];this._minMaxDistance[0]=i,this._minMaxDistance[1]=o,this._shadeTexChanged=!0}applyHighlightOptions(t,e){if(!this._shadeTex){const e=new h.R;e.wrapMode=o.pF.CLAMP_TO_EDGE,e.width=s.Ci,e.height=1,this._shadeTex=new a.g(t,e)}this._shadeTexChanged&&(this._shadeTex.updateData(0,0,0,s.Ci,1,this._texelData),this._shadeTexChanged=!1),t.bindTexture(this._shadeTex,r.CR),e.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}}},17746:(t,e,i)=>{i.d(e,{Ci:()=>o,HQ:()=>r,No:()=>a,XK:()=>s,aY:()=>n});const n=1,r=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=256,a={outlineWidth:1.3,outerHaloWidth:.4,innerHaloWidth:.4,outlinePosition:0}},79432:(t,e,i)=>{var n,r,s,o,a,h,l;i.d(e,{Be:()=>h,Js:()=>s,S5:()=>r,ZG:()=>n,q0:()=>a,rU:()=>o,w4:()=>l}),function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT",t[t.LABEL=4]="LABEL"}(n||(n={})),function(t){t[t.NONE=0]="NONE",t[t.MAP=1]="MAP",t[t.LABEL=2]="LABEL",t[t.LABEL_ALPHA=4]="LABEL_ALPHA",t[t.HITTEST=8]="HITTEST",t[t.HIGHLIGHT=16]="HIGHLIGHT",t[t.CLIP=32]="CLIP",t[t.DEBUG=64]="DEBUG",t[t.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(r||(r={})),function(t){t[t.SIZE=0]="SIZE",t[t.COLOR=1]="COLOR",t[t.OPACITY=2]="OPACITY",t[t.ROTATION=3]="ROTATION"}(s||(s={})),function(t){t[t.NONE=0]="NONE",t[t.OPACITY=1]="OPACITY",t[t.COLOR=2]="COLOR",t[t.ROTATION=4]="ROTATION",t[t.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",t[t.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",t[t.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",t[t.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(o||(o={})),function(t){t[t.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",t[t.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",t[t.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",t[t.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(a||(a={})),function(t){t[t.SPRITE=0]="SPRITE",t[t.GLYPH=1]="GLYPH"}(h||(h={})),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SIMPLE=1]="SIMPLE",t[t.DOT_DENSITY=2]="DOT_DENSITY",t[t.OUTLINE_FILL=3]="OUTLINE_FILL",t[t.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",t[t.HEATMAP=5]="HEATMAP",t[t.PIE_CHART=6]="PIE_CHART"}(l||(l={}))},59601:(t,e,i)=>{i.d(e,{A1:()=>c,Fb:()=>l,K_:()=>y,PH:()=>m,Zl:()=>u,ar:()=>f,dZ:()=>w,ir:()=>b,q7:()=>h,r9:()=>_,tq:()=>a});var n=i(98849),r=i(22610),s=i(79432);const o=Object.keys(s.w4).filter((t=>"number"==typeof s.w4[t])).reduce(((t,e)=>({...t,[e]:s.w4[e]})),{});function a(t){return t===s.w4.OUTLINE_FILL||t===s.w4.OUTLINE_FILL_SIMPLE}function h(t){return function(t){return t===s.w4.SIMPLE||t===s.w4.OUTLINE_FILL_SIMPLE}(t.symbologyType)}function l(t){return a(t.symbologyType)}function u(t,e){switch(t){case s.ZG.FILL:return y.from(e);case s.ZG.LINE:return _.from(e);case s.ZG.MARKER:return m.from(e);case s.ZG.TEXT:return b.from(e);case s.ZG.LABEL:return w.from(e);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${t}`)}}function c(t){switch(f.load(t).geometryType){case s.ZG.MARKER:return new m(t);case s.ZG.FILL:return new y(t);case s.ZG.LINE:return new _(t);case s.ZG.TEXT:return new b(t);case s.ZG.LABEL:return new w(t)}}class f{static load(t){const e=this.shared;return e.data=t,e}constructor(t){this._data=0,this._data=t}set data(t){this._data=t??0}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(t){this.setBits(t,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(t){this.setBit(20,t)}get sdf(){return!!this.bit(11)}set sdf(t){this.setBit(11,t??!1)}get pattern(){return!!this.bit(12)}set pattern(t){this.setBit(12,t)}get textureBinding(){return this.bits(0,8)}set textureBinding(t){this.setBits(t,0,8)}get symbologyType(){return this.bits(21,26)}set symbologyType(t){this.setBits(t,21,26)}get geometryTypeString(){switch(this.geometryType){case s.ZG.FILL:return"fill";case s.ZG.MARKER:return"marker";case s.ZG.LINE:return"line";case s.ZG.TEXT:return"text";case s.ZG.LABEL:return"label";default:throw new n.A(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(t,e){const i=1<<t;e?this._data|=i:this._data&=~i}bit(t){return(this._data&1<<t)>>t}setBits(t,e,i){for(let n=e,r=0;n<i;n++,r++)this.setBit(n,!!(t&1<<r))}bits(t,e){let i=0;for(let n=t,r=0;n<e;n++,r++)i|=this.bit(n)<<r;return i}hasVV(){return!1}setVV(t,e){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:s.w4[this.symbologyType],options:o,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(7&this.textureBinding)}}f.shared=new f(0);const p=t=>class extends t{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(t){this.setBit(16,t)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(t){this.setBit(17,t)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(t){this.setBit(18,t)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(t){this.setBit(19,t)}hasSizeVV(){return this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}hasVV(){return super.hasVV()||this.hasSizeVV()}setVV(t,e){super.setVV(t,e);const i=function(t,e,i){const n=s.rU.SIZE_FIELD_STOPS|s.rU.SIZE_MINMAX_VALUE|s.rU.SIZE_SCALE_STOPS|s.rU.SIZE_UNIT_VALUE,r=(e&(s.q0.FIELD_TARGETS_OUTLINE|s.q0.MINMAX_TARGETS_OUTLINE|s.q0.SCALE_TARGETS_OUTLINE|s.q0.UNIT_TARGETS_OUTLINE))>>>4;return t===s.ZG.LINE&&i.isOutline||t===s.ZG.FILL&&a(i.symbologyType)?n&r:n&~r}(this.geometryType,t,e)&t;this.vvSizeMinMaxValue=!!(i&s.rU.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(i&s.rU.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(i&s.rU.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(i&s.rU.SIZE_SCALE_STOPS)}},d=t=>class extends t{get vvRotation(){return 0!==this.bit(15)}set vvRotation(t){this.setBit(15,t)}hasVV(){return super.hasVV()||this.vvRotation}setVV(t,e){super.setVV(t,e),this.vvRotation=!e.isOutline&&!!(t&s.rU.ROTATION)}},v=t=>class extends t{get vvColor(){return 0!==this.bit(13)}set vvColor(t){this.setBit(13,t)}hasVV(){return super.hasVV()||this.vvColor}setVV(t,e){super.setVV(t,e),this.vvColor=!e.isOutline&&!!(t&s.rU.COLOR)}},g=t=>class extends t{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(t){this.setBit(14,t)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(t,e){super.setVV(t,e),this.vvOpacity=!e.isOutline&&!!(t&s.rU.OPACITY)}};class y extends(v(g(p(f)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:i}=t,n=this.load(0);return n.geometryType=s.ZG.FILL,n.symbologyType=e,e!==s.w4.DOT_DENSITY&&n.setVV(i,t),n.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}y.shared=new y(0);class m extends(v(g(d(p(f))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const{symbologyType:e,vvFlags:i}=t,n=this.load(0);return n.geometryType=s.ZG.MARKER,n.symbologyType=e,e!==s.w4.HEATMAP&&n.setVV(i,t),n.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}m.shared=new m(0);class _ extends(v(g(p(f)))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.ZG.LINE,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}_.shared=new _(0);class b extends(v(g(d(p(f))))){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.ZG.TEXT,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}b.shared=new b(0);class w extends(p(f)){static load(t){const e=this.shared;return e.data=t,e}static from(t){const e=this.load(0);return e.geometryType=s.ZG.LABEL,e.symbologyType=t.symbologyType,e.setVV(t.vvFlags,t),e.mapAligned=(0,r.nE)(t.placement),e.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}w.shared=new w(0)},55429:(t,e,i)=>{i.d(e,{M9:()=>s,Pl:()=>r,Ss:()=>o});const n=new Float32Array(1);new Uint32Array(n.buffer);function r(t){return[255&t,(65280&t)>>>8,(16711680&t)>>>16,(4278190080&t)>>>24]}function s(t,e){return 65535&t|e<<16}function o(t,e,i,n){return 255&t|(255&e)<<8|(255&i)<<16|n<<24}},97394:(t,e,i)=>{i.d(e,{T:()=>r});var n=i(75472);const r={shaders:{vertexShader:(0,n.Q)("background/background.vert"),fragmentShader:(0,n.Q)("background/background.frag")},attributes:new Map([["a_pos",0]])}},13294:(t,e,i)=>{i.d(e,{H:()=>r});var n=i(75472);const r={shaders:{vertexShader:(0,n.Q)("tileInfo/tileInfo.vert"),fragmentShader:(0,n.Q)("tileInfo/tileInfo.frag")},attributes:new Map([["a_pos",0]])}},75472:(t,e,i)=>{i.d(e,{Q:()=>s});const n={background:{"background.frag":"uniform lowp vec4 u_color;\nvoid main() {\ngl_FragColor = u_color;\n}","background.vert":"attribute vec2 a_pos;\nuniform highp mat3 u_dvsMat3;\nuniform mediump vec2 u_coord_range;\nuniform mediump float u_depth;\nvoid main() {\nvec3 v_pos = u_dvsMat3 * vec3(u_coord_range * a_pos, 1.0);\ngl_Position = vec4(v_pos.xy, 0.0, 1.0);\n}"},bitBlit:{"bitBlit.frag":"uniform lowp sampler2D u_tex;\nuniform lowp float u_opacity;\nvarying mediump vec2 v_uv;\nvoid main() {\nlowp vec4 color = texture2D(u_tex, v_uv);\ngl_FragColor = color * u_opacity;\n}","bitBlit.vert":"attribute vec2 a_pos;\nattribute vec2 a_tex;\nvarying mediump vec2 v_uv;\nvoid main(void) {\ngl_Position = vec4(a_pos , 0.0, 1.0);\nv_uv = a_tex;\n}"},blend:{"blend.frag":"precision mediump float;\nuniform sampler2D u_layerTexture;\nuniform lowp float u_opacity;\nuniform lowp float u_inFadeOpacity;\n#ifndef NORMAL\nuniform sampler2D u_backbufferTexture;\n#endif\nvarying mediump vec2 v_uv;\nfloat rgb2v(in vec3 c) {\nreturn max(c.x, max(c.y, c.z));\n}\nvec3 rgb2hsv(in vec3 c) {\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\nvec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);\n}\nvec3 hsv2rgb(in vec3 c) {\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nvec3 tint(in vec3 Cb, in vec3 Cs) {\nfloat vIn = rgb2v(Cb);\nvec3 hsvTint = rgb2hsv(Cs);\nvec3 hsvOut = vec3(hsvTint.x, hsvTint.y, vIn * hsvTint.z);\nreturn hsv2rgb(hsvOut);\n}\nfloat overlay(in float Cb, in float Cs) {\nreturn (1.0 - step(0.5, Cs)) * (1.0 - 2.0 * (1.0 - Cs ) * (1.0 - Cb)) + step(0.5, Cs) * (2.0 * Cs * Cb);\n}\nfloat colorDodge(in float Cb, in float Cs) {\nreturn (Cb == 0.0) ? 0.0 : (Cs == 1.0) ? 1.0 : min(1.0, Cb / (1.0 - Cs));\n}\nfloat colorBurn(in float Cb, in float Cs) {\nreturn (Cb == 1.0) ? 1.0 : (Cs == 0.0) ? 0.0 : 1.0 - min(1.0, (1.0 - Cb) / Cs);\n}\nfloat hardLight(in float Cb, in float Cs) {\nreturn (1.0 - step(0.5, Cs)) * (2.0 * Cs * Cb) + step(0.5, Cs) * (1.0 - 2.0 * (1.0 - Cs) * (1.0 - Cb));\n}\nfloat reflectBlend(in float Cb, in float Cs) {\nreturn (Cs == 1.0) ? Cs : min(Cb * Cb / (1.0 - Cs), 1.0);\n}\nfloat softLight(in float Cb, in float Cs) {\nif (Cs <= 0.5) {\nreturn Cb - (1.0 - 2.0 * Cs) * Cb * (1.0 - Cb);\n}\nif (Cb <= 0.25) {\nreturn Cb + (2.0 * Cs - 1.0) * Cb * ((16.0 * Cb - 12.0) * Cb + 3.0);\n}\nreturn Cb + (2.0 * Cs - 1.0) * (sqrt(Cb) - Cb);\n}\nfloat vividLight(in float Cb, in float Cs) {\nreturn (1.0 - step(0.5, Cs)) * colorBurn(Cb, 2.0 * Cs) + step(0.5, Cs) * colorDodge(Cb, (2.0 * (Cs - 0.5)));\n}\nfloat minv3(in vec3 c) {\nreturn min(min(c.r, c.g), c.b);\n}\nfloat maxv3(in vec3 c) {\nreturn max(max(c.r, c.g), c.b);\n}\nfloat lumv3(in vec3 c) {\nreturn dot(c, vec3(0.3, 0.59, 0.11));\n}\nfloat satv3(vec3 c) {\nreturn maxv3(c) - minv3(c);\n}\nvec3 clipColor(vec3 color) {\nfloat lum = lumv3(color);\nfloat mincol = minv3(color);\nfloat maxcol = maxv3(color);\nif (mincol < 0.0) {\ncolor = lum + ((color - lum) * lum) / (lum - mincol);\n}\nif (maxcol > 1.0) {\ncolor = lum + ((color - lum) * (1.0 - lum)) / (maxcol - lum);\n}\nreturn color;\n}\nvec3 setLum(vec3 cbase, vec3 clum) {\nfloat lbase = lumv3(cbase);\nfloat llum = lumv3(clum);\nfloat ldiff = llum - lbase;\nvec3 color = cbase + vec3(ldiff);\nreturn clipColor(color);\n}\nvec3 setLumSat(vec3 cbase, vec3 csat, vec3 clum)\n{\nfloat minbase = minv3(cbase);\nfloat sbase = satv3(cbase);\nfloat ssat = satv3(csat);\nvec3 color;\nif (sbase > 0.0) {\ncolor = (cbase - minbase) * ssat / sbase;\n} else {\ncolor = vec3(0.0);\n}\nreturn setLum(color, clum);\n}\nvoid main() {\nvec4 src = texture2D(u_layerTexture, v_uv);\n#ifdef NORMAL\ngl_FragColor = src *  u_opacity;\n#else\nvec4 dst = texture2D(u_backbufferTexture, v_uv);\nvec3 Cs = src.a == 0.0 ? src.rgb : vec3(src.rgb / src.a);\nvec3 Cb = dst.a == 0.0 ? dst.rgb : vec3(dst.rgb / dst.a);\nfloat as = u_opacity * src.a;\nfloat ab = dst.a;\n#ifdef DESTINATION_OVER\ngl_FragColor = vec4(as * Cs * (1.0 - ab) + ab * Cb, as + ab - as * ab);\n#endif\n#ifdef SOURCE_IN\nvec4 color = vec4(as * Cs * ab, as * ab);\nvec4 fadeColor = (1.0 - u_opacity) * u_inFadeOpacity * vec4(ab * Cb, ab);\ngl_FragColor = color + fadeColor;\n#endif\n#ifdef DESTINATION_IN\nvec4 color = vec4(ab * Cb * as, ab * as);\nvec4 fadeColor = (1.0 - u_opacity) * u_inFadeOpacity * vec4(ab * Cb, ab);\ngl_FragColor = color + fadeColor;\n#endif\n#ifdef SOURCE_OUT\ngl_FragColor = vec4(as * Cs * (1.0 - ab), as * (1.0 - ab));\n#endif\n#ifdef DESTINATION_OUT\ngl_FragColor = vec4(ab * Cb * (1.0 - as), ab * (1.0 - as));\n#endif\n#ifdef SOURCE_ATOP\ngl_FragColor = vec4(as * Cs * ab + ab * Cb * (1.0 - as), ab);\n#endif\n#ifdef DESTINATION_ATOP\ngl_FragColor = vec4(as * Cs * (1.0 - ab) + ab * Cb * as, as);\n#endif\n#ifdef XOR\ngl_FragColor = vec4(as * Cs * (1.0 - ab) + ab * Cb * (1.0 - as),\nas * (1.0 - ab) + ab * (1.0 - as));\n#endif\n#ifdef MULTIPLY\ngl_FragColor = vec4(as * Cs * ab * Cb + (1.0 - ab) * as * Cs + (1.0 - as) * ab * Cb,\nas + ab * (1.0 - as));\n#endif\n#ifdef SCREEN\ngl_FragColor = vec4((Cs + Cb - Cs * Cb) * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef OVERLAY\nvec3 f = vec3(overlay(Cb.r, Cs.r), overlay(Cb.g, Cs.g), overlay(Cb.b, Cs.b));\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef DARKEN\ngl_FragColor = vec4(min(Cs, Cb) * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef LIGHTER\ngl_FragColor = vec4(as * Cs + ab * Cb, as + ab);\n#endif\n#ifdef LIGHTEN\ngl_FragColor = vec4(max(Cs, Cb) * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef COLOR_DODGE\nvec3 f = clamp(vec3(colorDodge(Cb.r, Cs.r), colorDodge(Cb.g, Cs.g), colorDodge(Cb.b, Cs.b)), vec3(0.0), vec3(1.0));\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef COLOR_BURN\nvec3 f = vec3(colorBurn(Cb.r, Cs.r), colorBurn(Cb.g, Cs.g), colorBurn(Cb.b, Cs.b));\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef HARD_LIGHT\nvec3 f = vec3(hardLight(Cb.r, Cs.r), hardLight(Cb.g, Cs.g), hardLight(Cb.b, Cs.b));\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef SOFT_LIGHT\nvec3 f = vec3(softLight(Cb.r, Cs.r), softLight(Cb.g, Cs.g), softLight(Cb.b, Cs.b));\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef DIFFERENCE\ngl_FragColor = vec4(abs(Cb - Cs) * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef EXCLUSION\nvec3 f = Cs + Cb - 2.0 * Cs * Cb;\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef INVERT\ngl_FragColor = vec4((1.0 - Cb) * as * ab + Cb * ab * (1.0 - as), ab);\n#endif\n#ifdef VIVID_LIGHT\nvec3 f = vec3(clamp(vividLight(Cb.r, Cs.r), 0.0, 1.0),\nclamp(vividLight(Cb.g, Cs.g), 0.0, 1.0),\nclamp(vividLight(Cb.b, Cs.b), 0.0, 1.0));\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef HUE\nvec3 f = setLumSat(Cs,Cb,Cb);\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef SATURATION\nvec3 f = setLumSat(Cb,Cs,Cb);\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef COLOR\nvec3 f = setLum(Cs,Cb);\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef LUMINOSITY\nvec3 f = setLum(Cb,Cs);\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef PLUS\ngl_FragColor = clamp(vec4(src.r + Cb.r, src.g + Cb.g, src.b + Cb.b, as + ab), 0.0, 1.0);\n#endif\n#ifdef MINUS\ngl_FragColor = vec4(clamp(vec3(Cb.r - src.r, Cb.g - src.g, Cb.b - src.b), 0.0, 1.0), ab * as);\n#endif\n#ifdef AVERAGE\nvec3 f = (Cb + Cs) / 2.0;\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#ifdef REFLECT\nvec3 f = clamp(vec3(reflectBlend(Cb.r, Cs.r),\nreflectBlend(Cb.g, Cs.g),\nreflectBlend(Cb.b, Cs.b)), vec3(0.0), vec3(1.0));\ngl_FragColor = vec4(f * as * ab + Cs * as * (1.0 - ab) + Cb * ab *(1.0 - as),\nas + ab * (1.0 - as));\n#endif\n#endif\n}","blend.vert":"attribute vec2 a_position;\nvarying mediump vec2 v_uv;\nvoid main(void) {\ngl_Position = vec4(a_position , 0.0, 1.0);\nv_uv = (a_position + 1.0) / 2.0;\n}"},debug:{overlay:{"overlay.frag":"precision mediump float;\nvarying vec4 v_color;\nvoid main(void) {\ngl_FragColor = v_color;\n}","overlay.vert":"attribute vec3 a_PositionAndFlags;\nuniform mat3 u_dvsMat3;\nuniform vec4 u_colors[4];\nuniform float u_opacities[4];\nvarying vec4 v_color;\nvoid main(void) {\nvec2 position = a_PositionAndFlags.xy;\nfloat flags = a_PositionAndFlags.z;\nint colorIndex = int(mod(flags, 4.0));\nvec4 color;\nfor (int i = 0; i < 4; i++) {\ncolor = u_colors[i];\nif (i == colorIndex) {\nbreak;\n}\n}\nint opacityIndex = int(mod(floor(flags / 4.0), 4.0));\nfloat opacity;\nfor (int i = 0; i < 4; i++) {\nopacity = u_opacities[i];\nif (i == opacityIndex) {\nbreak;\n}\n}\nv_color = color * opacity;\ngl_Position = vec4((u_dvsMat3 * vec3(position, 1.0)).xy, 0.0, 1.0);\n}"}},dot:{dot:{"dot.frag":"precision mediump float;\nvarying vec4 v_color;\nvarying float v_dotRatio;\nvarying float v_invEdgeRatio;\nuniform highp float u_tileZoomFactor;\nvoid main()\n{\nfloat dist = length(gl_PointCoord - vec2(.5, .5)) * 2.;\nfloat alpha = smoothstep(0., 1., v_invEdgeRatio * (dist - v_dotRatio) + 1.);\ngl_FragColor = v_color * alpha;\n}","dot.vert":"precision highp float;\nattribute vec2 a_pos;\nuniform sampler2D u_texture;\nuniform highp mat3 u_dvsMat3;\nuniform highp float u_tileZoomFactor;\nuniform highp float u_dotSize;\nuniform highp float u_pixelRatio;\nvarying vec2 v_pos;\nvarying vec4 v_color;\nvarying float v_dotRatio;\nvarying float v_invEdgeRatio;\nconst float EPSILON = 0.000001;\nvoid main()\n{\nmat3 tileToTileTexture = mat3(  1., 0., 0.,\n0., -1., 0.,\n0., 1., 1.  );\nvec3 texCoords = tileToTileTexture * vec3(a_pos.xy / 512., 1.);\nv_color = texture2D(u_texture, texCoords.xy);\nfloat smoothEdgeWidth = max(u_dotSize / 2., 1.) ;\nfloat z = 0.;\nz += 2.0 * step(v_color.a, EPSILON);\ngl_PointSize = (smoothEdgeWidth + u_dotSize);\ngl_Position = vec4((u_dvsMat3 * vec3(a_pos + .5, 1.)).xy, z, 1.);\nv_dotRatio = u_dotSize / gl_PointSize;\nv_invEdgeRatio = -1. / ( smoothEdgeWidth / gl_PointSize );\ngl_PointSize  *= (u_pixelRatio * u_tileZoomFactor);\n}"}},filtering:{"bicubic.glsl":"vec4 computeWeights(float v) {\nfloat b = 1.0 / 6.0;\nfloat v2 = v * v;\nfloat v3 = v2 * v;\nfloat w0 = b * (-v3 + 3.0 * v2 - 3.0 * v + 1.0);\nfloat w1 = b * (3.0 * v3  - 6.0 * v2 + 4.0);\nfloat w2 = b * (-3.0 * v3 + 3.0 * v2 + 3.0 * v + 1.0);\nfloat w3 = b * v3;\nreturn vec4(w0, w1, w2, w3);\n}\nvec4 bicubicOffsetsAndWeights(float v) {\nvec4 w = computeWeights(v);\nfloat g0 = w.x + w.y;\nfloat g1 = w.z + w.w;\nfloat h0 = 1.0 - (w.y / g0) + v;\nfloat h1 = 1.0 + (w.w / g1) - v;\nreturn vec4(h0, h1, g0, g1);\n}\nvec4 sampleBicubicBSpline(sampler2D sampler, vec2 coords, vec2 texSize) {\nvec2 eX = vec2(1.0 / texSize.x, 0.0);\nvec2 eY = vec2(0.0, 1.0 / texSize.y);\nvec2 texel = coords * texSize - 0.5;\nvec3 hgX = bicubicOffsetsAndWeights(fract(texel).x).xyz;\nvec3 hgY = bicubicOffsetsAndWeights(fract(texel).y).xyz;\nvec2 coords10 = coords + hgX.x * eX;\nvec2 coords00 = coords - hgX.y * eX;\nvec2 coords11 = coords10 + hgY.x * eY;\nvec2 coords01 = coords00 + hgY.x * eY;\ncoords10 = coords10 - hgY.y * eY;\ncoords00 = coords00 - hgY.y * eY;\nvec4 color00 = texture2D(sampler, coords00);\nvec4 color10 = texture2D(sampler, coords10);\nvec4 color01 = texture2D(sampler, coords01);\nvec4 color11 = texture2D(sampler, coords11);\ncolor00 = mix(color00, color01, hgY.z);\ncolor10 = mix(color10, color11, hgY.z);\ncolor00 = mix(color00, color10, hgX.z);\nreturn color00;\n}","bilinear.glsl":"vec4 sampleBilinear(sampler2D sampler, vec2 coords, vec2 texSize) {\nvec2 texelStart = floor(coords * texSize);\nvec2 coord0 = texelStart / texSize;\nvec2 coord1 = (texelStart +  vec2(1.0, 0.0)) / texSize;\nvec2 coord2 = (texelStart +  vec2(0.0, 1.0)) / texSize;\nvec2 coord3 = (texelStart +  vec2(1.0, 1.0)) / texSize;\nvec4 color0 = texture2D(sampler, coord0);\nvec4 color1 = texture2D(sampler, coord1);\nvec4 color2 = texture2D(sampler, coord2);\nvec4 color3 = texture2D(sampler, coord3);\nvec2 blend = fract(coords * texSize);\nvec4 color01 = mix(color0, color1, blend.x);\nvec4 color23 = mix(color2, color3, blend.x);\nvec4 color = mix(color01, color23, blend.y);\n#ifdef NNEDGE\nfloat alpha = floor(color0.a * color1.a * color2.a * color3.a + 0.5);\ncolor = color * alpha + (1.0 - alpha) * texture2D(sampler, coords);\n#endif\nreturn color;\n}","epx.glsl":"vec4 sampleEPX(sampler2D sampler, float size, vec2 coords, vec2 texSize) {\nvec2 invSize = 1.0 / texSize;\nvec2 texel = coords * texSize;\nvec2 texel_i = floor(texel);\nvec2 texel_frac = fract(texel);\nvec4 colorP = texture2D(sampler, texel_i * invSize);\nvec4 colorP1 = vec4(colorP);\nvec4 colorP2 = vec4(colorP);\nvec4 colorP3 = vec4(colorP);\nvec4 colorP4 = vec4(colorP);\nvec4 colorA = texture2D(sampler, (texel_i - vec2(0.0, 1.0)) * invSize);\nvec4 colorB = texture2D(sampler, (texel_i + vec2(1.0, 0.0)) * invSize);\nvec4 colorC = texture2D(sampler, (texel_i - vec2(1.0, 0.0)) * invSize);\nvec4 colorD = texture2D(sampler, (texel_i + vec2(0.0, 1.0)) * invSize);\nif (colorC == colorA && colorC != colorD && colorA != colorB) {\ncolorP1 = colorA;\n}\nif (colorA == colorB && colorA != colorC && colorB != colorD) {\ncolorP2 = colorB;\n}\nif (colorD == colorC && colorD != colorB && colorC != colorA) {\ncolorP3 = colorC;\n}\nif (colorB == colorD && colorB != colorA && colorD != colorC) {\ncolorP4 = colorD;\n}\nvec4 colorP12 = mix(colorP1, colorP2, texel_frac.x);\nvec4 colorP34 = mix(colorP1, colorP2, texel_frac.x);\nreturn mix(colorP12, colorP34, texel_frac.y);\n}"},fx:{integrate:{"integrate.frag":"precision mediump float;\nuniform lowp sampler2D u_sourceTexture;\nuniform lowp sampler2D u_maskTexture;\nuniform mediump float u_zoomLevel;\nuniform highp float u_timeDelta;\nuniform highp float u_animationTime;\nvarying highp vec2 v_texcoord;\n#include <materials/utils.glsl>\nvoid main()\n{\n#ifdef DELTA\nvec4 texel = texture2D(u_sourceTexture, v_texcoord);\nvec4 data0 = texture2D(u_maskTexture, v_texcoord);\nfloat flags = data0.r * 255.0;\nfloat groupMinZoom = data0.g * 255.0;\nfloat isVisible = getFilterBit(flags, 0);\nfloat wouldClip = step(groupMinZoom, u_zoomLevel);\nfloat direction = wouldClip * 1.0 + (1.0 - wouldClip) * -1.0;\nfloat dt = u_timeDelta / max(u_animationTime, 0.0001);\nvec4 nextState = vec4(texel + direction * dt);\ngl_FragColor =  vec4(nextState);\n#elif defined(UPDATE)\nvec4 texel = texture2D(u_sourceTexture, v_texcoord);\ngl_FragColor = texel;\n#endif\n}","integrate.vert":"precision mediump float;\nattribute vec2 a_pos;\nvarying highp vec2 v_texcoord;\nvoid main()\n{\nv_texcoord = a_pos;\ngl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\n}"}},heatmap:{heatmapResolve:{"heatmapResolve.frag":"precision highp float;\n#ifdef HEATMAP_PRECISION_HALF_FLOAT\n#define COMPRESSION_FACTOR 4.0\n#else\n#define COMPRESSION_FACTOR 1.0\n#endif\nuniform sampler2D u_texture;\nuniform sampler2D u_gradient;\nuniform vec2 u_densityMinAndInvRange;\nuniform float u_densityNormalization;\nvarying vec2 v_uv;\nvoid main() {\nvec4 data = texture2D(u_texture, v_uv);\nfloat density = data.r * COMPRESSION_FACTOR;\ndensity *= u_densityNormalization;\ndensity = (density - u_densityMinAndInvRange.x) * u_densityMinAndInvRange.y;\nvec4 color = texture2D(u_gradient, vec2(density, 0.5));\ngl_FragColor = vec4(color.rgb * color.a, color.a);\n}","heatmapResolve.vert":"precision highp float;\nattribute vec2 a_pos;\nvarying vec2 v_uv;\nvoid main() {\nv_uv = a_pos;\ngl_Position = vec4(a_pos * 2.0 - 1.0, 1., 1.);\n}"}},highlight:{"blur.frag":"varying mediump vec2 v_texcoord;\nuniform mediump vec4 u_direction;\nuniform mediump mat4 u_channelSelector;\nuniform mediump float u_sigma;\nuniform sampler2D u_texture;\nmediump float gauss1(mediump vec2 dir) {\nreturn exp(-dot(dir, dir) / (2.0 * u_sigma * u_sigma));\n}\nmediump vec4 selectChannel(mediump vec4 sample) {\nreturn u_channelSelector * sample;\n}\nvoid accumGauss1(mediump float i, inout mediump float tot, inout mediump float weight) {\nmediump float w = gauss1(i * u_direction.xy);\ntot += selectChannel(texture2D(u_texture, v_texcoord + i * u_direction.zw))[3] * w;\nweight += w;\n}\nvoid main(void) {\nmediump float tot = 0.0;\nmediump float weight = 0.0;\naccumGauss1(-5.0, tot, weight);\naccumGauss1(-4.0, tot, weight);\naccumGauss1(-3.0, tot, weight);\naccumGauss1(-2.0, tot, weight);\naccumGauss1(-1.0, tot, weight);\naccumGauss1(0.0, tot, weight);\naccumGauss1(1.0, tot, weight);\naccumGauss1(2.0, tot, weight);\naccumGauss1(3.0, tot, weight);\naccumGauss1(4.0, tot, weight);\naccumGauss1(5.0, tot, weight);\ngl_FragColor = vec4(0.0, 0.0, 0.0, tot / weight);\n}","highlight.frag":"varying mediump vec2 v_texcoord;\nuniform sampler2D u_texture;\nuniform mediump float u_sigma;\nuniform sampler2D u_shade;\nuniform mediump vec2 u_minMaxDistance;\nmediump float estimateDistance() {\nmediump float y = texture2D(u_texture, v_texcoord)[3];\nconst mediump float y0 = 0.5;\nmediump float m0 = 1.0 / (sqrt(2.0 * 3.1415) * u_sigma);\nmediump float d = (y - y0) / m0;\nreturn d;\n}\nmediump vec4 shade(mediump float d) {\nmediump float mappedDistance = (d - u_minMaxDistance.x) / (u_minMaxDistance.y - u_minMaxDistance.x);\nmappedDistance = clamp(mappedDistance, 0.0, 1.0);\nreturn texture2D(u_shade, vec2(mappedDistance, 0.5));\n}\nvoid main(void) {\nmediump float d = estimateDistance();\ngl_FragColor = shade(d);\n}","textured.vert":"attribute mediump vec2 a_position;\nattribute mediump vec2 a_texcoord;\nvarying mediump vec2 v_texcoord;\nvoid main(void) {\ngl_Position = vec4(a_position, 0.0, 1.0);\nv_texcoord = a_texcoord;\n}"},magnifier:{"magnifier.frag":"uniform lowp vec4 u_background;\nuniform mediump sampler2D u_readbackTexture;\nuniform mediump sampler2D u_maskTexture;\nuniform mediump sampler2D u_overlayTexture;\nuniform bool u_maskEnabled;\nuniform bool u_overlayEnabled;\nvarying mediump vec2 v_texCoord;\nconst lowp float barrelFactor = 1.1;\nlowp vec2 barrel(lowp vec2 uv) {\nlowp vec2 uvn = uv * 2.0 - 1.0;\nif (uvn.x == 0.0 && uvn.y == 0.0) {\nreturn vec2(0.5, 0.5);\n}\nlowp float theta = atan(uvn.y, uvn.x);\nlowp float r = pow(length(uvn), barrelFactor);\nreturn r * vec2(cos(theta), sin(theta)) * 0.5 + 0.5;\n}\nvoid main(void)\n{\nlowp vec4 color = texture2D(u_readbackTexture, barrel(v_texCoord));\ncolor = (color + (1.0 - color.a) * u_background);\nlowp float mask = u_maskEnabled ? texture2D(u_maskTexture, v_texCoord).a : 1.0;\ncolor *= mask;\nlowp vec4 overlayColor = u_overlayEnabled ? texture2D(u_overlayTexture, v_texCoord) : vec4(0);\ngl_FragColor = overlayColor + (1.0 - overlayColor.a) * color;\n}","magnifier.vert":"precision mediump float;\nattribute mediump vec2 a_pos;\nuniform mediump vec4 u_drawPos;\nvarying mediump vec2 v_texCoord;\nvoid main(void)\n{\nv_texCoord = a_pos;\ngl_Position = vec4(u_drawPos.xy + vec2(a_pos - 0.5) * u_drawPos.zw, 0.0, 1.0);\n}"},materials:{"attributeData.glsl":"uniform highp sampler2D u_attributeData0;\nuniform highp sampler2D u_attributeData1;\nuniform highp sampler2D u_attributeData2;\nuniform highp sampler2D u_attributeData3;\nuniform highp sampler2D u_attributeData4;\nuniform highp sampler2D u_attributeData5;\nuniform highp int u_attributeTextureSize;\nhighp vec2 getAttributeDataCoords(in highp vec3 id) {\nhighp vec3  texel = unpackDisplayIdTexel(id);\nhighp float size = float(u_attributeTextureSize);\nhighp float u32 = float(int(texel.r) + int(texel.g) * 256 + int(texel.b) * 256 * 256);\nhighp float col = mod(u32, size);\nhighp float row = (u32 - col) / size;\nhighp float u = col / size;\nhighp float v = row / size;\nreturn vec2(u, v);\n}\nhighp vec2 getAttributeDataTextureCoords(in highp vec3 id) {\nreturn (getAttributeDataCoords(id) * 2.0) - 1.0 + (.5 / vec2(u_attributeTextureSize));\n}\nhighp vec4 getAttributeData0(in highp vec3 id) {\nvec2 coords = getAttributeDataCoords(id);\nreturn texture2D(u_attributeData0, coords);\n}\nhighp vec4 getAttributeData1(in highp vec3 id) {\nhighp vec2 coords = getAttributeDataCoords(id);\nreturn texture2D(u_attributeData1, coords);\n}\nhighp vec4 getAttributeData2(in highp vec3 id) {\nhighp vec2 coords = getAttributeDataCoords(id);\nreturn texture2D(u_attributeData2, coords);\n}\nhighp vec4 getAttributeData3(in highp vec3 id) {\nhighp vec2 coords = getAttributeDataCoords(id);\nreturn texture2D(u_attributeData3, coords);\n}\nhighp vec4 getAttributeData4(in highp vec3 id) {\nhighp vec2 coords = getAttributeDataCoords(id);\nreturn texture2D(u_attributeData4, coords);\n}\nhighp vec4 getAttributeData5(in highp vec3 id) {\nhighp vec2 coords = getAttributeDataCoords(id);\nreturn texture2D(u_attributeData5, coords);\n}\nfloat u88VVToFloat(in vec2 v) {\nbool isMagic = v.x == 255.0 && v.y == 255.0;\nif (isMagic) {\nreturn NAN_MAGIC_NUMBER;\n}\nreturn (v.x + v.y * float(0x100)) - 32768.0;\n}","barycentric.glsl":"float inTriangle(vec3 bary) {\nvec3 absBary = abs(bary);\nreturn step((absBary.x + absBary.y + absBary.z), 1.05);\n}\nvec3 xyToBarycentric(in vec2 pos, in vec2 v0,  in vec2 v1, in vec2 v2) {\nmat3 xyToBarycentricMat3 = mat3(\nv1.x * v2.y - v2.x * v1.y, v2.x * v0.y - v0.x * v2.y, v0.x * v1.y - v1.x * v0.y,\nv1.y - v2.y, v2.y - v0.y, v0.y - v1.y,\nv2.x - v1.x, v0.x - v2.x, v1.x - v0.x\n);\nfloat A2 = v0.x * (v1.y - v2.y) + v1.x * (v2.y - v0.y) + v2.x * (v0.y - v1.y);\nreturn (1. / A2) * xyToBarycentricMat3 * vec3(1., pos);\n}","constants.glsl":"const float C_DEG_TO_RAD = 3.14159265359 / 180.0;\nconst float C_256_TO_RAD = 3.14159265359 / 128.0;\nconst float C_RAD_TO_DEG = 180.0 / 3.141592654;\nconst float POSITION_PRECISION = 1.0 / 8.0;\nconst float FILL_POSITION_PRECISION = 1.0 / 1.0;\nconst float SOFT_EDGE_RATIO = 1.0;\nconst float THIN_LINE_WIDTH_FACTOR = 1.1;\nconst float THIN_LINE_HALF_WIDTH = 1.0;\nconst float EXTRUDE_SCALE_PLACEMENT_PADDING = 1.0 / 4.0;\nconst float OFFSET_PRECISION = 1.0 / 8.0;\nconst float OUTLINE_SCALE = 1.0 / 5.0;\nconst float SDF_FONT_SIZE = 24.0;\nconst float MAX_SDF_DISTANCE = 8.0;\nconst float PLACEMENT_PADDING = 8.0;\nconst float EPSILON = 0.00001;\nconst float EPSILON_HITTEST = 0.05;\nconst int MAX_FILTER_COUNT = 2;\nconst int ATTR_VV_SIZE = 0;\nconst int ATTR_VV_COLOR = 1;\nconst int ATTR_VV_OPACITY = 2;\nconst int ATTR_VV_ROTATION = 3;\nconst highp float NAN_MAGIC_NUMBER = 1e-30;\nconst int BITSET_GENERIC_LOCK_COLOR = 1;\nconst int BITSET_GENERIC_CONSIDER_ALPHA_ONLY = 4;\nconst int BITSET_MARKER_ALIGNMENT_MAP = 0;\nconst int BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE = 2;\nconst int BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY = 3;\nconst int BITSET_TYPE_FILL_OUTLINE = 0;\nconst int BITSET_FILL_RANDOM_PATTERN_OFFSET = 2;\nconst int BITSET_FILL_HAS_UNRESOLVED_REPLACEMENT_COLOR = 3;\nconst int BITSET_FILL_HAS_PATTERN_HEIGHT_PRECISION_FACTOR = 5;\nconst int BITSET_FILL_HAS_PATTERN_WIDTH_PRECISION_FACTOR = 6;\nconst int BITSET_LINE_SCALE_DASH = 2;",fill:{"common.glsl":"#include <materials/symbologyTypeUtils.glsl>\n#ifdef PATTERN\nuniform mediump vec2 u_mosaicSize;\nvarying mediump float v_sampleAlphaOnly;\n#endif\n#if SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_DOT_DENSITY\nuniform lowp vec4 u_isActive[ 2 ];\nuniform highp float u_dotValue;\nuniform highp float u_tileDotsOverArea;\nuniform highp float u_dotTextureDotCount;\nuniform mediump float u_tileZoomFactor;\n#endif\nvarying highp vec3 v_id;\nvarying lowp vec4 v_color;\nvarying lowp float v_opacity;\nvarying mediump vec4 v_aux1;\n#ifdef PATTERN\nvarying mediump vec2 v_tileTextureCoord;\n#endif\n#ifdef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\nvarying lowp float v_isOutline;\n#endif\n#if SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_DOT_DENSITY\nvarying highp vec2 v_dotTextureCoords;\nvarying highp vec4 v_dotThresholds[ 2 ];\n#endif","fill.frag":"precision highp float;\n#include <materials/constants.glsl>\n#include <materials/utils.glsl>\n#include <materials/fill/common.glsl>\n#ifdef PATTERN\nuniform lowp sampler2D u_texture;\n#endif\n#if SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_DOT_DENSITY\nuniform mediump mat4 u_dotColors[ 2 ];\nuniform sampler2D u_dotTextures[ 2 ];\nuniform vec4 u_dotBackgroundColor;\n#endif\n#ifdef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\n#include <materials/shared/line/common.glsl>\n#include <materials/shared/line/line.frag>\nlowp vec4 drawLine() {\nfloat v_lineWidth = v_aux1.x;\nvec2  v_normal    = v_aux1.yz;\nLineData inputs = LineData(\nv_color,\nv_normal,\nv_lineWidth,\nv_opacity,\nv_id\n);\nreturn shadeLine(inputs);\n}\n#endif\nlowp vec4 drawFill() {\nlowp vec4 out_color = vec4(0.);\n#ifdef HITTEST\nout_color = v_color;\n#elif defined(PATTERN)\nmediump vec4 v_tlbr = v_aux1;\nmediump vec2 normalizedTextureCoord = mod(v_tileTextureCoord, 1.0);\nmediump vec2 samplePos = mix(v_tlbr.xy, v_tlbr.zw, normalizedTextureCoord);\nlowp vec4 color = texture2D(u_texture, samplePos);\nif (v_sampleAlphaOnly > 0.5) {\ncolor.rgb = vec3(color.a);\n}\nout_color = v_opacity * v_color * color;\n#elif SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_DOT_DENSITY && !defined(HIGHLIGHT)\nvec4 textureThresholds0 = texture2D(u_dotTextures[0], v_dotTextureCoords);\nvec4 textureThresholds1 = texture2D(u_dotTextures[1], v_dotTextureCoords);\nvec4 difference0 = v_dotThresholds[0] - textureThresholds0;\nvec4 difference1 = v_dotThresholds[1] - textureThresholds1;\n#ifdef DD_DOT_BLENDING\nvec4 isPositive0 = step(0.0, difference0);\nvec4 isPositive1 = step(0.0, difference1);\nfloat weightSum = dot(isPositive0, difference0) + dot(isPositive1, difference1);\nfloat lessThanEqZero = step(weightSum, 0.0);\nfloat greaterThanZero = 1.0 - lessThanEqZero ;\nfloat divisor = (weightSum + lessThanEqZero);\nvec4 weights0 = difference0 * isPositive0 / divisor;\nvec4 weights1 = difference1 * isPositive1 / divisor;\nvec4 dotColor = u_dotColors[0] * weights0 + u_dotColors[1] * weights1;\nvec4 preEffectColor = greaterThanZero * dotColor + lessThanEqZero * u_dotBackgroundColor;\n#else\nfloat diffMax = max(max4(difference0), max4(difference1));\nfloat lessThanZero = step(diffMax, 0.0);\nfloat greaterOrEqZero = 1.0 - lessThanZero;\nvec4 isMax0 = step(diffMax, difference0);\nvec4 isMax1 = step(diffMax, difference1);\nvec4 dotColor = u_dotColors[0] * isMax0 + u_dotColors[1] * isMax1;\nvec4 preEffectColor = greaterOrEqZero * dotColor + lessThanZero * u_dotBackgroundColor;\n#endif\nout_color = preEffectColor;\n#else\nout_color = v_opacity * v_color;\n#endif\n#ifdef HIGHLIGHT\nout_color.a = 1.0;\n#endif\nreturn out_color;\n}\nvoid main() {\n#ifdef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\nif (v_isOutline > 0.5) {\ngl_FragColor = drawLine();\n} else {\ngl_FragColor = drawFill();\n}\n#else\ngl_FragColor = drawFill();\n#endif\n}","fill.vert":"#include <materials/symbologyTypeUtils.glsl>\n#define PACKED_LINE\nprecision highp float;\nattribute float a_bitset;\n#if SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_DOT_DENSITY\nattribute float a_inverseArea;\nvec4 a_color = vec4(0.0, 0.0, 0.0, 1.0);\nvec2 a_zoomRange = vec2(0.0, 10000.0);\n#else\nattribute vec4 a_color;\nattribute vec4 a_aux2;\nattribute vec4 a_aux3;\n#ifndef SYMBOLOGY_TYPE_IS_SIMPLE_LIKE\nattribute vec4 a_aux1;\nattribute vec2 a_zoomRange;\n#else\nvec2 a_zoomRange = vec2(0.0, 10000.0);\n#endif\n#endif\nuniform vec2 u_tileOffset;\nuniform vec2 u_maxIntNumOfCrossing;\n#include <util/encoding.glsl>\n#include <materials/vcommon.glsl>\n#include <materials/fill/common.glsl>\n#include <materials/fill/hittest.glsl>\nconst float INV_SCALE_COMPRESSION_FACTOR = 1.0 / 128.0;\nconst float MAX_REPRESENTABLE_INT = 16777216.0;\n#if SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_DOT_DENSITY\nvec4 dotThreshold(vec4 featureAttrOverFeatureArea, float dotValue, float tileDotsOverArea) {\nreturn featureAttrOverFeatureArea * (1.0 / dotValue)  * (1.0 / tileDotsOverArea);\n}\n#endif\n#ifdef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\n#include <materials/shared/line/common.glsl>\n#include <materials/shared/line/line.vert>\nvoid drawLine(out lowp vec4 out_color, out highp vec3 out_pos) {\nLineData outputs = buildLine(\nout_pos,\na_id,\na_pos,\na_color,\n(a_aux3.xy - 128.) / 16.,\n(a_aux3.zw - 128.) / 16.,\n0.,\na_aux2.z / 16.,\na_bitset,\nvec4(0.),\nvec2(0.),\na_aux2.w / 16.\n);\nv_id      = outputs.id;\nv_opacity = outputs.opacity;\nv_aux1    = vec4(outputs.lineHalfWidth, outputs.normal, 0.);\nout_color = outputs.color;\n}\n#endif\nvoid drawFill(out lowp vec4 out_color, out highp vec3 out_pos) {\nfloat a_bitSet = a_bitset;\nout_color = getColor(a_color, a_bitSet, BITSET_GENERIC_LOCK_COLOR);\nv_opacity = getOpacity();\nv_id      = norm(a_id);\n#if SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_DOT_DENSITY\nmat3 tileToTileNormalized = mat3(  2. / 512.,  0.,  0.,\n0., -2. / 512.,  0.,\n-1.,  1.,  1.  );\nout_pos   = tileToTileNormalized * vec3((a_pos * FILL_POSITION_PRECISION), 1.);\n#else\nout_pos   = u_dvsMat3 * vec3(a_pos * FILL_POSITION_PRECISION, 1.);\n#endif\n#ifdef PATTERN\nvec4  a_tlbr   = a_aux1;\nfloat a_width  = a_aux2.x;\nfloat a_height = a_aux2.y;\nvec2  a_offset = a_aux2.zw;\nvec2  a_scale  = a_aux3.xy;\nfloat a_angle  = a_aux3.z;\nif (getBit(a_bitset, BITSET_FILL_HAS_PATTERN_WIDTH_PRECISION_FACTOR) > 0.5) {\na_width *= INV_SCALE_COMPRESSION_FACTOR;\n}\nif (getBit(a_bitset, BITSET_FILL_HAS_PATTERN_HEIGHT_PRECISION_FACTOR) > 0.5) {\na_height *= INV_SCALE_COMPRESSION_FACTOR;\n}\nvec2 scale = INV_SCALE_COMPRESSION_FACTOR * a_scale;\nfloat width = u_zoomFactor * a_width * scale.x;\nfloat height = u_zoomFactor * a_height * scale.y;\nfloat angle = C_256_TO_RAD * a_angle;\nfloat sinA = sin(angle);\nfloat cosA = cos(angle);\nfloat dx = 0.0;\nfloat dy = 0.0;\nif (getBit(a_bitset, BITSET_FILL_RANDOM_PATTERN_OFFSET) > 0.5) {\nfloat id = rgba2float(vec4(a_id, 0.0));\ndx = rand(vec2(id, 0.0));\ndy = rand(vec2(0.0, id));\n}\nmat3 patternMatrix = mat3(cosA / width, sinA / height, 0,\n-sinA / width, cosA / height, 0,\ndx,            dy,           1);\nvec2 patternSize = vec2(a_width, a_height);\nvec2 numPatternsPerMaxInt = vec2(MAX_REPRESENTABLE_INT) / patternSize;\nvec2 maxIntCrossingOffsetCorrection = patternSize * fract(u_maxIntNumOfCrossing * numPatternsPerMaxInt);\nvec2 tileOffset = u_tileOffset + maxIntCrossingOffsetCorrection - 0.5 * patternSize;\ntileOffset = vec2(tileOffset.x * cosA - tileOffset.y * sinA, tileOffset.x * sinA + tileOffset.y * cosA);\ntileOffset = mod(tileOffset, patternSize);\nvec2 symbolOffset = u_zoomFactor * scale * vec2(a_offset - tileOffset) / vec2(width, height);\nv_tileTextureCoord = (patternMatrix * vec3(a_pos * FILL_POSITION_PRECISION, 1.0)).xy - symbolOffset;\nv_aux1 = a_tlbr / u_mosaicSize.xyxy;\nv_sampleAlphaOnly = getBit(a_bitset, BITSET_GENERIC_CONSIDER_ALPHA_ONLY);\nif (getBit(a_bitSet, BITSET_FILL_HAS_UNRESOLVED_REPLACEMENT_COLOR) > 0.5) {\n#ifdef VV_COLOR\nv_sampleAlphaOnly *= (1.0 - float(isNan(VV_ADATA[ATTR_VV_COLOR]))) * (1.0 - getBit(a_bitSet, BITSET_GENERIC_LOCK_COLOR));\n#else\nv_sampleAlphaOnly = 0.0;\n#endif\n}\n#elif SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_DOT_DENSITY\nvec4 ddAttributeData0 = getAttributeData2(a_id) * u_isActive[0] * a_inverseArea;\nvec4 ddAttributeData1 = getAttributeData3(a_id) * u_isActive[1] * a_inverseArea;\nfloat size = u_tileZoomFactor * 512.0 * 1.0 / u_pixelRatio;\nv_dotThresholds[0] = dotThreshold(ddAttributeData0, u_dotValue, u_tileDotsOverArea);\nv_dotThresholds[1] = dotThreshold(ddAttributeData1, u_dotValue, u_tileDotsOverArea);\nv_dotTextureCoords = (a_pos * FILL_POSITION_PRECISION + 0.5) / size;\n#endif\n}\n#ifdef HITTEST\nvoid draw(out lowp vec4 out_color, out highp vec3 out_pos) {\n#ifdef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\nif (getBit(a_bitset, BITSET_TYPE_FILL_OUTLINE) > 0.5) {\nout_pos = vec3(0., 0., 2.);\nreturn;\n}\n#endif\nhittestFill(out_color, out_pos);\ngl_PointSize = 1.0;\n}\n#elif defined(SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE)\nvoid draw(out lowp vec4 out_color, out highp vec3 out_pos) {\nv_isOutline = getBit(a_bitset, BITSET_TYPE_FILL_OUTLINE);\nif (v_isOutline > 0.5) {\ndrawLine(out_color, out_pos);\n} else {\ndrawFill(out_color, out_pos);\n}\n}\n#else\n#define draw drawFill\n#endif\nvoid main()\n{\nINIT;\nhighp vec3 pos  = vec3(0.);\nhighp vec4 color  = vec4(0.);\ndraw(color, pos);\nv_color = color;\ngl_Position = vec4(clip(v_color, pos, getFilterFlags(), a_zoomRange), 1.0);\n}","hittest.glsl":"#ifdef HITTEST\n#include <materials/hittest/common.glsl>\nattribute vec2 a_pos1;\nattribute vec2 a_pos2;\nvoid hittestFill(\nout lowp vec4 out_color,\nout highp vec3 out_pos\n) {\nvec3 pos        = u_viewMat3 * u_tileMat3 * vec3(a_pos  * FILL_POSITION_PRECISION, 1.);\nvec3 pos1       = u_viewMat3 * u_tileMat3 * vec3(a_pos1 * FILL_POSITION_PRECISION, 1.);\nvec3 pos2       = u_viewMat3 * u_tileMat3 * vec3(a_pos2 * FILL_POSITION_PRECISION, 1.);\nfloat hittestDist = u_hittestDist;\nfloat dist = distPointTriangle(u_hittestPos, pos.xy, pos1.xy, pos2.xy);\nout_pos = vec3(getAttributeDataTextureCoords(a_id), 0.0);\nif (dist < 0. || dist >= hittestDist) {\nout_pos.z += 2.0;\n}\nout_color = vec4(1. / 255., 0, 0, dist == 0. ? (1. / 255.) : 0.);\n}\n#endif"},hittest:{"common.glsl":"#ifdef HITTEST\nuniform float u_hittestDist;\nuniform highp vec2 u_hittestPos;\nfloat projectScalar(vec2 a, vec2 b) {\nreturn dot(a, normalize(b));\n}\nfloat distPointSegment(vec2 p0, vec2 p1, vec2 p2) {\nvec2 L = p2 - p1;\nvec2 A = p0 - p1;\nfloat projAL = projectScalar(A, L);\nfloat t = clamp(projAL / length(L), 0., 1.);\nreturn distance(p0, p1 + t * (p2 - p1));\n}\nvoid hittestMarker(out lowp vec4 out_color, out highp vec3 out_pos, in highp vec3 pos, float size) {\nfloat dist = distance(pos, vec3(u_hittestPos, 1.));\nout_pos = vec3(getAttributeDataTextureCoords(a_id), 0.0);\nif ((dist - size) > u_hittestDist) {\nout_pos.z += 2.0;\n}\nout_color = vec4(1. / 255., 0, 0, (dist - size) < 0. ? (1. / 255.) : 0.);\n}\nfloat intersectPointTriangleBary(vec2 p, vec2 a, vec2 b, vec2 c) {\nreturn inTriangle(xyToBarycentric(p, a, b, c));\n}\nfloat distPointTriangle(vec2 p, vec2 a, vec2 b, vec2 c) {\nvec2 ba = b - a;\nvec2 ca = c - a;\nfloat crossProduct = ba.x * ca.y - ca.x * ba.y;\nbool isParallel = crossProduct < EPSILON_HITTEST && crossProduct > -EPSILON_HITTEST;\nif (isParallel) {\nreturn -1.;\n}\nif (intersectPointTriangleBary(p.xy, a, b, c) == 1.) {\nreturn 0.;\n}\nfloat distAB = distPointSegment(p, a, b);\nfloat distBC = distPointSegment(p, b, c);\nfloat distCA = distPointSegment(p, c, a);\nreturn min(min(distAB, distBC), distCA);\n}\n#endif"},icon:{"common.glsl":"#include <util/encoding.glsl>\nuniform lowp vec2 u_mosaicSize;\nvarying lowp vec4 v_color;\nvarying highp vec3 v_id;\nvarying highp vec4 v_sizeTex;\nvarying mediump vec3 v_pos;\nvarying lowp float v_opacity;\nuniform lowp sampler2D u_texture;\n#ifdef SDF\nvarying lowp vec4 v_outlineColor;\nvarying mediump float v_outlineWidth;\nvarying mediump float v_distRatio;\nvarying mediump float v_overridingOutlineColor;\nvarying mediump float v_isThin;\n#endif\n#ifdef SDF\nvec4 getColor(vec2 v_size, vec2 v_tex) {\n#ifdef HITTEST\nlowp vec4 fillPixelColor = vec4(1.0);\n#else\nlowp vec4 fillPixelColor = v_color;\n#endif\nfloat d = 0.5 - rgba2float(texture2D(u_texture, v_tex));\nfloat size = max(v_size.x, v_size.y);\nfloat dist = d * size * SOFT_EDGE_RATIO * v_distRatio;\nfillPixelColor *= clamp(0.5 - dist, 0.0, 1.0);\nfloat outlineWidth = v_outlineWidth;\n#ifdef HIGHLIGHT\noutlineWidth = max(outlineWidth, 4.0 * v_isThin);\n#endif\nif (outlineWidth > 0.25) {\nlowp vec4 outlinePixelColor = v_overridingOutlineColor * v_color + (1.0 - v_overridingOutlineColor) * v_outlineColor;\nfloat clampedOutlineSize = min(outlineWidth, size);\noutlinePixelColor *= clamp(0.5 - abs(dist) + clampedOutlineSize * 0.5, 0.0, 1.0);\nreturn v_opacity * ((1.0 - outlinePixelColor.a) * fillPixelColor + outlinePixelColor);\n}\nreturn v_opacity * fillPixelColor;\n}\n#else\nvec4 getColor(vec2 _v_size, vec2 v_tex) {\nlowp vec4 texColor = texture2D(u_texture, v_tex);\nreturn v_opacity * texColor * v_color;\n}\n#endif",heatmapAccumulate:{"common.glsl":"varying lowp vec4 v_hittestResult;\nvarying mediump vec2 v_offsetFromCenter;\nvarying highp float v_fieldValue;","heatmapAccumulate.frag":"precision mediump float;\n#include <materials/icon/heatmapAccumulate/common.glsl>\n#ifdef HEATMAP_PRECISION_HALF_FLOAT\n#define COMPRESSION_FACTOR 0.25\n#else\n#define COMPRESSION_FACTOR 1.0\n#endif\nuniform lowp sampler2D u_texture;\nvoid main() {\n#ifdef HITTEST\ngl_FragColor = v_hittestResult;\n#else\nfloat radius = length(v_offsetFromCenter);\nfloat shapeWeight = step(radius, 1.0);\nfloat oneMinusRadiusSquared = 1.0 - radius * radius;\nfloat kernelWeight = oneMinusRadiusSquared * oneMinusRadiusSquared;\ngl_FragColor = vec4(shapeWeight * kernelWeight * v_fieldValue * COMPRESSION_FACTOR);\n#endif\n}","heatmapAccumulate.vert":"precision highp float;\nattribute vec2 a_vertexOffset;\nvec4 a_color = vec4(0.0);\nvec2 a_zoomRange = vec2(0.0, 10000.0);\nuniform float u_radius;\nuniform float u_isFieldActive;\n#include <materials/vcommon.glsl>\n#include <materials/hittest/common.glsl>\n#include <materials/icon/heatmapAccumulate/common.glsl>\nvoid main() {\nfloat filterFlags = getFilterFlags();\n#ifdef HITTEST\nhighp vec4 out_hittestResult = vec4(0.);\nhighp vec3 out_pos = vec3(0.);\nvec3 pos = u_viewMat3 * u_tileMat3 * vec3(a_pos * POSITION_PRECISION, 1.0);\nhittestMarker(out_hittestResult, out_pos, pos, u_radius);\nv_hittestResult = out_hittestResult;\ngl_PointSize = 1.;\ngl_Position = vec4(clip(a_color, out_pos, filterFlags, a_zoomRange), 1.0);\n#else\nv_offsetFromCenter = sign(a_vertexOffset);\nv_fieldValue = getAttributeData2(a_id).x * u_isFieldActive + 1.0 - u_isFieldActive;\nvec3 centerPos = u_dvsMat3 * vec3(a_pos * POSITION_PRECISION, 1.0);\nvec3 vertexPos = centerPos + u_displayViewMat3 * vec3(v_offsetFromCenter, 0.0) * u_radius;\ngl_Position = vec4(clip(a_color, vertexPos, filterFlags, a_zoomRange), 1.0);\n#endif\n}"},"hittest.glsl":"#ifdef HITTEST\n#include <materials/hittest/common.glsl>\nattribute vec2 a_vertexOffset1;\nattribute vec2 a_vertexOffset2;\nattribute vec2 a_texCoords1;\nattribute vec2 a_texCoords2;\nvec2 getTextureCoords(in vec3 bary, in vec2 texCoords0, in vec2 texCoords1, in vec2 texCoords2) {\nreturn texCoords0 * bary.x + texCoords1 * bary.y + texCoords2 * bary.z;\n}\nvoid hittestIcon(\ninout lowp vec4 out_color,\nout highp vec3 out_pos,\nin vec3 pos,\nin vec3 offset,\nin vec2 size,\nin float scaleFactor,\nin float isMapAligned\n) {\nout_pos = vec3(getAttributeDataTextureCoords(a_id), 0.0);\nvec3 posBase = u_viewMat3 * u_tileMat3  * pos;\nvec3 offset1 = scaleFactor * vec3(a_vertexOffset1 / 16.0, 0.);\nvec3 offset2 = scaleFactor * vec3(a_vertexOffset2 / 16.0, 0.);\nvec2 pos0    = (posBase + getMatrixNoDisplay(isMapAligned) * offset).xy;\nvec2 pos1    = (posBase + getMatrixNoDisplay(isMapAligned) * offset1).xy;\nvec2 pos2    = (posBase + getMatrixNoDisplay(isMapAligned) * offset2).xy;\nvec3 bary0 = xyToBarycentric(u_hittestPos + vec2(-u_hittestDist, -u_hittestDist), pos0, pos1, pos2);\nvec3 bary1 = xyToBarycentric(u_hittestPos + vec2(0., -u_hittestDist), pos0, pos1, pos2);\nvec3 bary2 = xyToBarycentric(u_hittestPos + vec2(u_hittestDist, -u_hittestDist), pos0, pos1, pos2);\nvec3 bary3 = xyToBarycentric(u_hittestPos + vec2(-u_hittestDist, 0.), pos0, pos1, pos2);\nvec3 bary4 = xyToBarycentric(u_hittestPos, pos0, pos1, pos2);\nvec3 bary5 = xyToBarycentric(u_hittestPos + vec2(u_hittestDist, 0.), pos0, pos1, pos2);\nvec3 bary6 = xyToBarycentric(u_hittestPos + vec2(-u_hittestDist, u_hittestDist), pos0, pos1, pos2);\nvec3 bary7 = xyToBarycentric(u_hittestPos + vec2(0., u_hittestDist), pos0, pos1, pos2);\nvec3 bary8 = xyToBarycentric(u_hittestPos + vec2(u_hittestDist, u_hittestDist), pos0, pos1, pos2);\nvec2 tex0 = a_texCoords  / u_mosaicSize;\nvec2 tex1 = a_texCoords1 / u_mosaicSize;\nvec2 tex2 = a_texCoords2 / u_mosaicSize;\nfloat alphaSum = 0.;\nalphaSum += inTriangle(bary0) * getColor(size, getTextureCoords(bary0, tex0, tex1, tex2)).a;\nalphaSum += inTriangle(bary1) * getColor(size, getTextureCoords(bary1, tex0, tex1, tex2)).a;\nalphaSum += inTriangle(bary2) * getColor(size, getTextureCoords(bary2, tex0, tex1, tex2)).a;\nalphaSum += inTriangle(bary3) * getColor(size, getTextureCoords(bary3, tex0, tex1, tex2)).a;\nalphaSum += inTriangle(bary4) * getColor(size, getTextureCoords(bary4, tex0, tex1, tex2)).a;\nalphaSum += inTriangle(bary5) * getColor(size, getTextureCoords(bary5, tex0, tex1, tex2)).a;\nalphaSum += inTriangle(bary6) * getColor(size, getTextureCoords(bary6, tex0, tex1, tex2)).a;\nalphaSum += inTriangle(bary7) * getColor(size, getTextureCoords(bary7, tex0, tex1, tex2)).a;\nout_pos.z += step(alphaSum, .05) * 2.0;\nout_color = vec4(1. / 255., 0., 0., alphaSum / 255.);\n}\n#endif","icon.frag":"precision mediump float;\n#include <materials/constants.glsl>\n#include <materials/utils.glsl>\n#include <materials/icon/common.glsl>\nvoid main()\n{\n#ifdef HITTEST\nvec4 color = v_color;\n#else\nvec4 color = getColor(v_sizeTex.xy, v_sizeTex.zw);\n#endif\n#ifdef HIGHLIGHT\ncolor.a = step(1.0 / 255.0, color.a);\n#endif\ngl_FragColor = color;\n}","icon.vert":"precision highp float;\nattribute vec4 a_color;\nattribute vec4 a_outlineColor;\nattribute vec4 a_sizeAndOutlineWidth;\nattribute vec2 a_vertexOffset;\nattribute vec2 a_texCoords;\nattribute vec2 a_bitSetAndDistRatio;\nattribute vec2 a_zoomRange;\n#include <materials/vcommon.glsl>\n#include <materials/icon/common.glsl>\n#include <materials/icon/hittest.glsl>\nfloat getMarkerScaleFactor(inout vec2 size, in float referenceSize) {\n#ifdef VV_SIZE\nfloat f = getSize(size.y) / size.y;\nfloat sizeFactor = size.y / referenceSize;\nreturn getSize(referenceSize) / referenceSize;\n#else\nreturn 1.;\n#endif\n}\nvoid main()\n{\nINIT;\nfloat a_bitSet = a_bitSetAndDistRatio.x;\nvec3  pos           = vec3(a_pos * POSITION_PRECISION, 1.0);\nvec2  size          = a_sizeAndOutlineWidth.xy * a_sizeAndOutlineWidth.xy / 128.0;\nvec3  offset        = vec3(a_vertexOffset / 16.0, 0.);\nfloat outlineSize   = a_sizeAndOutlineWidth.z * a_sizeAndOutlineWidth.z / 128.0;\nfloat isMapAligned  = getBit(a_bitSet, BITSET_MARKER_ALIGNMENT_MAP);\nfloat referenceSize = a_sizeAndOutlineWidth.w * a_sizeAndOutlineWidth.w / 128.0;\nfloat scaleSymbolProportionally = getBit(a_bitSet, BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY);\nfloat scaleFactor               = getMarkerScaleFactor(size, referenceSize);\nsize.xy     *= scaleFactor;\noffset.xy   *= scaleFactor;\noutlineSize *= scaleSymbolProportionally * (scaleFactor - 1.0) + 1.0;\nvec2 v_tex   = a_texCoords / u_mosaicSize;\nfloat filterFlags = getFilterFlags();\nv_color    = getColor(a_color, a_bitSet, BITSET_GENERIC_LOCK_COLOR);\nv_opacity  = getOpacity();\nv_id       = norm(a_id);\nv_pos      = u_dvsMat3 * pos + getMatrix(isMapAligned) * getRotation()  * offset;\nv_sizeTex  = vec4(size.xy, v_tex.xy);\n#ifdef SDF\nv_isThin   = getBit(a_bitSet, BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE);\n#ifdef VV_COLOR\nv_overridingOutlineColor = v_isThin;\n#else\nv_overridingOutlineColor = 0.0;\n#endif\nv_outlineWidth = min(outlineSize, max(max(size.x, size.y) - 0.99, 0.0));\nv_outlineColor = a_outlineColor;\nv_distRatio = a_bitSetAndDistRatio.y / 128.0;\n#endif\n#ifdef HITTEST\nhighp vec4 out_color = vec4(0.);\nhighp vec3 out_pos   = vec3(0.);\nhittestIcon(out_color, out_pos, pos, offset, size, scaleFactor, isMapAligned);\nv_color = out_color;\ngl_PointSize = 1.;\ngl_Position = vec4(clip(v_color, out_pos, filterFlags, a_zoomRange), 1.0);\n#else\ngl_Position = vec4(clip(v_color, v_pos, filterFlags, a_zoomRange), 1.0);\n#endif\n}"},label:{"common.glsl":"uniform mediump float u_zoomLevel;\nuniform mediump float u_mapRotation;\nuniform mediump float u_mapAligned;\nuniform mediump vec2 u_mosaicSize;\nvarying mediump float v_antialiasingWidth;\nvarying mediump float v_edgeDistanceOffset;\nvarying mediump vec2 v_tex;\nvarying mediump vec4 v_color;\nvarying lowp vec4 v_animation;","label.frag":"#include <materials/text/text.frag>","label.vert":"precision highp float;\n#include <materials/vcommon.glsl>\n#include <materials/text/common.glsl>\nattribute vec4 a_color;\nattribute vec4 a_haloColor;\nattribute vec4 a_texAndSize;\nattribute vec4 a_refSymbolAndPlacementOffset;\nattribute vec4 a_glyphData;\nattribute vec2 a_vertexOffset;\nattribute vec2 a_texCoords;\nuniform float u_isHaloPass;\nuniform float u_isBackgroundPass;\nuniform float u_mapRotation;\nuniform float u_mapAligned;\nfloat getZ(in float minZoom, in float maxZoom, in float angle) {\nfloat glyphAngle = angle * 360.0 / 254.0;\nfloat mapAngle = u_mapRotation * 360.0 / 254.0;\nfloat diffAngle = min(360.0 - abs(mapAngle - glyphAngle), abs(mapAngle - glyphAngle));\nfloat z = 0.0;\nz += u_mapAligned * (2.0 * (1.0 - step(minZoom, u_currentZoom)));\nz += u_mapAligned * 2.0 * step(90.0, diffAngle);\nz += 2.0 * (1.0 - step(u_currentZoom, maxZoom));\nreturn z;\n}\nvoid main()\n{\nINIT;\nfloat groupMinZoom    = getMinZoom();\nfloat glyphMinZoom    = a_glyphData.x;\nfloat glyphMaxZoom    = a_glyphData.y;\nfloat glyphAngle      = a_glyphData.z;\nfloat a_isBackground  = a_glyphData.w;\nfloat a_minZoom          = max(groupMinZoom, glyphMinZoom);\nfloat a_placementPadding = a_refSymbolAndPlacementOffset.x * EXTRUDE_SCALE_PLACEMENT_PADDING;\nvec2  a_placementDir     = unpack_u8_nf32(a_refSymbolAndPlacementOffset.zw);\nfloat a_refSymbolSize    = a_refSymbolAndPlacementOffset.y;\nfloat fontSize           = a_texAndSize.z;\nfloat haloSize           = a_texAndSize.w * OUTLINE_SCALE;\nvec2  vertexOffset = a_vertexOffset * OFFSET_PRECISION;\nvec3  pos          = vec3(a_pos * POSITION_PRECISION, 1.0);\nfloat z            = getZ(a_minZoom, glyphMaxZoom, glyphAngle);\nfloat fontScale    = fontSize / SDF_FONT_SIZE;\nfloat halfSize     = getSize(a_refSymbolSize) / 2.0;\nfloat animation    = pow(getAnimationState(), vec4(2.0)).r;\nfloat isText = 1.0 - a_isBackground;\nfloat isBackground = u_isBackgroundPass * a_isBackground;\nvec4  nonHaloColor = (isBackground + isText) * a_color;\nv_color     = animation * ((1.0 - u_isHaloPass) * nonHaloColor + (u_isHaloPass * a_haloColor));\nv_opacity   = 1.0;\nv_tex       = a_texCoords / u_mosaicSize;\nv_edgeDistanceOffset = u_isHaloPass * haloSize / fontScale / MAX_SDF_DISTANCE;\nv_antialiasingWidth  = 0.105 * SDF_FONT_SIZE / fontSize / u_pixelRatio;\nvec2 placementOffset = a_placementDir * (halfSize + a_placementPadding);\nvec3 glyphOffset     = u_displayMat3 * vec3(vertexOffset + placementOffset, 0.0);\nvec3 v_pos           = vec3((u_dvsMat3 * pos + glyphOffset).xy, z);\nfloat isHidden = u_isBackgroundPass * isText + (1.0 - u_isBackgroundPass) * a_isBackground;\nv_pos.z += 2.0 * isHidden;\ngl_Position = vec4(v_pos, 1.0);\n#ifdef DEBUG\nv_color = vec4(a_color.rgb, z == 0.0 ? 1.0 : 0.645);\n#endif\n}"},line:{"common.glsl":"varying lowp vec4 v_color;\nvarying highp vec3 v_id;\nvarying mediump vec2 v_normal;\nvarying mediump float v_lineHalfWidth;\nvarying lowp float v_opacity;\n#ifdef PATTERN\nvarying mediump vec4 v_tlbr;\nvarying mediump vec2 v_patternSize;\n#endif\n#if defined(PATTERN) || defined(SDF)\nvarying highp float v_accumulatedDistance;\n#endif\n#ifdef SDF\nvarying mediump float v_lineWidthRatio;\n#endif","hittest.glsl":"#include <materials/hittest/common.glsl>\n#ifdef HITTEST\nattribute vec2 a_pos1;\nattribute vec2 a_pos2;\nvoid hittestLine(out lowp vec4 out_color, out highp vec3 out_pos, float halfWidth) {\nvec3 pos        = u_viewMat3 * u_tileMat3 * vec3(a_pos  * POSITION_PRECISION, 1.);\nvec3 pos1       = u_viewMat3 * u_tileMat3 * vec3(a_pos1 * POSITION_PRECISION, 1.);\nvec3 pos2       = u_viewMat3 * u_tileMat3 * vec3(a_pos2 * POSITION_PRECISION, 1.);\nvec3 outTextureCoords = vec3(getAttributeDataTextureCoords(a_id), 0.0);\nfloat dist = min(distPointSegment(u_hittestPos, pos.xy, pos1.xy),\ndistPointSegment(u_hittestPos, pos.xy, pos2.xy)) - halfWidth;\nout_pos = vec3(getAttributeDataTextureCoords(a_id), 0.0);\nif (dist >= u_hittestDist) {\nout_pos.z += 2.0;\n}\nout_color = vec4(1. / 255., 0, 0, dist <= 0. ? (1. / 255.) : 0.);\n}\n#endif","line.frag":"precision lowp float;\n#include <util/encoding.glsl>\n#include <materials/constants.glsl>\n#include <materials/symbologyTypeUtils.glsl>\n#include <materials/line/common.glsl>\n#include <materials/shared/line/common.glsl>\n#include <materials/shared/line/line.frag>\n#ifdef HITTEST\nvoid main() {\ngl_FragColor = v_color;\n}\n#else\nvoid main() {\nLineData inputs = LineData(\nv_color,\nv_normal,\nv_lineHalfWidth,\nv_opacity,\n#ifndef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\n#ifdef PATTERN\nv_tlbr,\nv_patternSize,\n#endif\n#ifdef SDF\nv_lineWidthRatio,\n#endif\n#if defined(PATTERN) || defined(SDF)\nv_accumulatedDistance,\n#endif\n#endif\nv_id\n);\ngl_FragColor = shadeLine(inputs);\n}\n#endif","line.vert":"precision highp float;\nattribute vec4 a_color;\nattribute vec4 a_offsetAndNormal;\nattribute vec2 a_accumulatedDistanceAndHalfWidth;\nattribute vec4 a_tlbr;\nattribute vec4 a_segmentDirection;\nattribute vec2 a_aux;\nattribute vec2 a_zoomRange;\n#include <materials/vcommon.glsl>\n#include <materials/symbologyTypeUtils.glsl>\n#include <materials/line/common.glsl>\n#include <materials/line/hittest.glsl>\n#include <materials/shared/line/common.glsl>\n#include <materials/shared/line/line.vert>\n#ifdef HITTEST\nvoid draw() {\nfloat aa        = 0.5 * u_antialiasing;\nfloat a_halfWidth = a_accumulatedDistanceAndHalfWidth.y / 16.;\nfloat a_cimHalfWidth = a_aux.x / 16. ;\nvec2  a_offset = a_offsetAndNormal.xy / 16.;\nfloat baseWidth = getBaseLineHalfWidth(a_halfWidth, a_cimHalfWidth);\nfloat halfWidth = getLineHalfWidth(baseWidth, aa);\nhighp vec3 pos  = vec3(0.);\nv_color = vec4(0.);\nhittestLine(v_color, pos, halfWidth);\ngl_PointSize = 1.;\ngl_Position = vec4(clip(v_color, pos, getFilterFlags(), a_zoomRange), 1.0);\n}\n#else\nvoid draw()\n{\nhighp vec3 pos = vec3(0.);\nLineData outputs = buildLine(\npos,\na_id,\na_pos,\na_color,\na_offsetAndNormal.xy / 16.,\na_offsetAndNormal.zw / 16.,\na_accumulatedDistanceAndHalfWidth.x,\na_accumulatedDistanceAndHalfWidth.y / 16.,\na_segmentDirection.w,\na_tlbr,\na_segmentDirection.xy / 16.,\na_aux.x / 16.\n);\nv_id              = outputs.id;\nv_color           = outputs.color;\nv_normal          = outputs.normal;\nv_lineHalfWidth   = outputs.lineHalfWidth;\nv_opacity         = outputs.opacity;\n#ifndef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\n#ifdef PATTERN\nv_tlbr          = outputs.tlbr;\nv_patternSize   = outputs.patternSize;\n#endif\n#ifdef SDF\nv_lineWidthRatio = outputs.lineWidthRatio;\n#endif\n#if defined(PATTERN) || defined(SDF)\nv_accumulatedDistance = outputs.accumulatedDistance;\n#endif\n#endif\ngl_Position = vec4(clip(outputs.color, pos, getFilterFlags(), a_zoomRange), 1.0);\n}\n#endif\nvoid main() {\nINIT;\ndraw();\n}"},pie:{"pie.frag":"precision mediump float;\n#include <util/atan2.glsl>\n#include <materials/constants.glsl>\n#include <materials/utils.glsl>\n#include <materials/icon/common.glsl>\nvarying float v_size;\nvarying vec2 v_offset;\nvarying vec2 v_filteredSectorToColorId[NUMBER_OF_FIELDS];\nvarying float v_numOfEntries;\nvarying float v_maxSectorAngle;\nuniform lowp vec4 u_colors[NUMBER_OF_FIELDS];\nuniform lowp vec4 u_defaultColor;\nuniform lowp vec4 u_othersColor;\nuniform lowp vec4 u_outlineColor;\nuniform float u_donutRatio;\nuniform float u_sectorThreshold;\nstruct FilteredChartInfo {\nfloat endSectorAngle;\nint colorId;\n};\nlowp vec4 getSectorColor(in int index, in vec2 filteredSectorToColorId[NUMBER_OF_FIELDS]) {\n#if __VERSION__ == 300\nmediump int colorIndex = int(filteredSectorToColorId[index].y);\nreturn u_colors[colorIndex];\n#else\nmediump int colorIndex;\nfor (int i = 0; i < NUMBER_OF_FIELDS; ++i) {\nif (i == index) {\ncolorIndex = int(filteredSectorToColorId[i].y);\n}\n}\nfor (int i = 0; i < NUMBER_OF_FIELDS; ++i) {\nif (i == colorIndex) {\nreturn u_colors[i];\n}\n}\nreturn u_colors[NUMBER_OF_FIELDS - 1];\n#endif\n}\nconst int OTHER_SECTOR_ID = 255;\n#ifdef HITTEST\nvec4 getColor() {\nreturn v_color;\n}\n#else\nvec4 getColor() {\nfloat angle = 90.0 - C_RAD_TO_DEG * atan2(v_offset.y, v_offset.x);\nif (angle < 0.0) {\nangle += 360.0;\n} else if (angle > 360.0) {\nangle = mod(angle, 360.0);\n}\nint numOfEntries = int(v_numOfEntries);\nfloat maxSectorAngle = v_maxSectorAngle;\nlowp vec4 fillColor = (maxSectorAngle > 0.0 || u_sectorThreshold > 0.0) ? u_othersColor : u_defaultColor;\nlowp vec4 prevColor = vec4(0.0);\nlowp vec4 nextColor = vec4(0.0);\nfloat startSectorAngle = 0.0;\nfloat endSectorAngle = 0.0;\nif (angle < maxSectorAngle) {\nfor (int index = 0; index < NUMBER_OF_FIELDS; ++index) {\nstartSectorAngle = endSectorAngle;\nendSectorAngle = v_filteredSectorToColorId[index].x;\nif (endSectorAngle > angle) {\nfillColor = getSectorColor(index, v_filteredSectorToColorId);\nprevColor = u_sectorThreshold != 0.0 && index == 0 && abs(360.0 - maxSectorAngle) < EPSILON ? u_othersColor :\ngetSectorColor(index > 0 ? index - 1 : numOfEntries - 1, v_filteredSectorToColorId);\nnextColor = u_sectorThreshold != 0.0 && abs(endSectorAngle - maxSectorAngle) < EPSILON ? u_othersColor :\ngetSectorColor(index < numOfEntries - 1 ? index + 1 : 0, v_filteredSectorToColorId);\nbreak;\n}\nif (index == numOfEntries - 1) {\nbreak;\n}\n}\n} else {\nprevColor = getSectorColor(numOfEntries - 1, v_filteredSectorToColorId);\nnextColor = getSectorColor(0, v_filteredSectorToColorId);\nstartSectorAngle = maxSectorAngle;\nendSectorAngle = 360.0;\n}\nlowp vec4 outlineColor = u_outlineColor;\nfloat offset = length(v_offset);\nfloat distanceSize = offset * v_size;\nif (startSectorAngle != 0.0 || endSectorAngle != 360.0) {\nfloat distanceToStartSector = (angle - startSectorAngle);\nfloat distanceToEndSector = (endSectorAngle - angle);\nfloat sectorThreshold = 0.6;\nfloat beginSectorAlpha = smoothstep(0.0, sectorThreshold, distanceToStartSector * offset);\nfloat endSectorAlpha = smoothstep(0.0, sectorThreshold, distanceToEndSector * offset);\nif (endSectorAlpha > 0.0) {\nfillColor = mix(nextColor, fillColor, endSectorAlpha);\n} else if (beginSectorAlpha > 0.0) {\nfillColor = mix(prevColor, fillColor, beginSectorAlpha);\n}\n}\nfloat donutSize = u_donutRatio * (v_size - v_outlineWidth);\nfloat endOfDonut = donutSize - v_outlineWidth;\nfloat aaThreshold = 0.75;\nfloat innerCircleAlpha = endOfDonut - aaThreshold > 0.0 ? smoothstep(endOfDonut - aaThreshold, endOfDonut + aaThreshold, distanceSize) : 1.0;\nfloat outerCircleAlpha = 1.0 - smoothstep(v_size - aaThreshold, v_size + aaThreshold , distanceSize);\nfloat circleAlpha = innerCircleAlpha * outerCircleAlpha;\nfloat startOfOutline = v_size - v_outlineWidth;\nif (startOfOutline > 0.0 && v_outlineWidth > 0.25) {\nfloat outlineFactor = smoothstep(startOfOutline - aaThreshold, startOfOutline + aaThreshold, distanceSize);\nfloat innerLineFactor = donutSize - aaThreshold > 0.0 ? 1.0 - smoothstep(donutSize - aaThreshold, donutSize + aaThreshold , distanceSize) : 0.0;\nfillColor = mix(fillColor, outlineColor, innerLineFactor + outlineFactor);\n}\nreturn v_opacity * circleAlpha * fillColor;\n}\n#endif\nvoid main()\n{\nvec4 color = getColor();\n#ifdef HIGHLIGHT\ncolor.a = step(1.0 / 255.0, color.a);\n#endif\ngl_FragColor = color;\n}","pie.vert":"precision highp float;\nattribute vec4 a_color;\nattribute vec4 a_outlineColor;\nattribute vec4 a_sizeAndOutlineWidth;\nattribute vec2 a_vertexOffset;\nattribute vec2 a_texCoords;\nattribute vec2 a_bitSetAndDistRatio;\nattribute vec2 a_zoomRange;\nuniform float u_outlineWidth;\nuniform mediump float u_sectorThreshold;\nvarying float v_size;\nvarying vec2 v_offset;\nvarying vec2 v_filteredSectorToColorId[NUMBER_OF_FIELDS];\nvarying float v_numOfEntries;\nvarying float v_maxSectorAngle;\nstruct FilteredChartInfo {\nfloat endSectorAngle;\nint colorId;\n};\nint filter(in float sectorAngle,\nin int currentIndex,\ninout FilteredChartInfo filteredInfo,\ninout vec2 filteredSectorToColorId[NUMBER_OF_FIELDS]) {\nif (sectorAngle > u_sectorThreshold * 360.0) {\nfilteredInfo.endSectorAngle += sectorAngle;\n#if __VERSION__ == 300\nfilteredSectorToColorId[filteredInfo.colorId] = vec2(filteredInfo.endSectorAngle, currentIndex);\n#else\nfor (int i = 0; i < NUMBER_OF_FIELDS; i++) {\nif (i == filteredInfo.colorId) {\nfilteredSectorToColorId[i] = vec2(filteredInfo.endSectorAngle, currentIndex);\n}\n}\n#endif\n++filteredInfo.colorId;\n}\nreturn 0;\n}\nint filterValues(inout vec2 filteredSectorToColorId[NUMBER_OF_FIELDS],\ninout FilteredChartInfo filteredInfo,\nin float sectorAngles[NUMBER_OF_FIELDS]) {\nfor (int index = 0; index < NUMBER_OF_FIELDS; ++index) {\nfloat sectorValue = sectorAngles[index];\nfilter(sectorValue, index, filteredInfo, filteredSectorToColorId);\n}\nreturn filteredInfo.colorId;\n}\n#include <materials/vcommon.glsl>\n#include <materials/icon/common.glsl>\n#include <materials/hittest/common.glsl>\nvec2 getMarkerSize(inout vec2 offset, inout vec2 baseSize, inout float outlineSize, in float referenceSize, in float bitSet) {\nvec2 outSize = baseSize;\n#ifdef VV_SIZE\nfloat r = 0.5 * getSize(referenceSize) / referenceSize;\noutSize.xy *= r;\noffset.xy *= r;\nfloat scaleSymbolProportionally = getBit(bitSet, BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY);\noutlineSize *= scaleSymbolProportionally * (r - 1.0) + 1.0;\n#endif\nreturn outSize;\n}\nvec3 getOffset(in vec2 in_offset, float a_bitSet) {\nfloat isMapAligned = getBit(a_bitSet, BITSET_MARKER_ALIGNMENT_MAP);\nvec3  offset       = vec3(in_offset, 0.0);\nreturn getMatrix(isMapAligned) * offset;\n}\nfloat filterNaNValues(in float value) {\nreturn value != NAN_MAGIC_NUMBER && value > 0.0 ? value : 0.0;\n}\nvoid main()\n{\nINIT;\nvec2  a_size   = a_sizeAndOutlineWidth.xy * a_sizeAndOutlineWidth.xy / 128.0;\nvec2  a_offset = a_vertexOffset / 16.0;\nfloat outlineSize = u_outlineWidth;\nfloat a_bitSet = a_bitSetAndDistRatio.x;\nvec2 size = getMarkerSize(a_offset, a_size, outlineSize, a_sizeAndOutlineWidth.w * a_sizeAndOutlineWidth.w / 128.0, a_bitSet);\nfloat filterFlags = getFilterFlags();\nvec3  pos         = vec3(a_pos * POSITION_PRECISION, 1.0);\nv_opacity      = getOpacity();\nv_id           = norm(a_id);\nv_pos          = u_dvsMat3 * pos + getOffset(a_offset, a_bitSet);\nv_offset       = sign(a_texCoords - 0.5);\nv_size         = max(size.x, size.y);\nv_outlineWidth = outlineSize;\nfloat attributeData[10];\nvec4 attributeData0 = getAttributeData3(a_id);\nattributeData[0] = filterNaNValues(attributeData0.x);\nattributeData[1] = filterNaNValues(attributeData0.y);\nattributeData[2] = filterNaNValues(attributeData0.z);\nattributeData[3] = filterNaNValues(attributeData0.w);\n#if (NUMBER_OF_FIELDS > 4)\nvec4 attributeData1 = getAttributeData4(a_id);\nattributeData[4] = filterNaNValues(attributeData1.x);\nattributeData[5] = filterNaNValues(attributeData1.y);\nattributeData[6] = filterNaNValues(attributeData1.z);\nattributeData[7] = filterNaNValues(attributeData1.w);\n#endif\n#if (NUMBER_OF_FIELDS > 8)\nvec4 attributeData2 = getAttributeData5(a_id);\nattributeData[8] = filterNaNValues(attributeData2.x);\nattributeData[9] = filterNaNValues(attributeData2.y);\n#endif\nfloat sum = 0.0;\nfor (int i = 0; i < NUMBER_OF_FIELDS; ++i) {\nsum += attributeData[i];\n}\nfloat sectorAngles[NUMBER_OF_FIELDS];\nfor (int i = 0; i < NUMBER_OF_FIELDS; ++i) {\nsectorAngles[i] = 360.0 * attributeData[i] / sum;\n}\nvec2 filteredSectorToColorId[NUMBER_OF_FIELDS];\nFilteredChartInfo filteredInfo = FilteredChartInfo(0.0, 0);\nint numOfEntries = filterValues(filteredSectorToColorId, filteredInfo, sectorAngles);\nv_numOfEntries = float(numOfEntries);\nv_maxSectorAngle = filteredInfo.endSectorAngle;\n#if __VERSION__ == 300\nv_filteredSectorToColorId = filteredSectorToColorId;\n#else\nfor (int i = 0; i < NUMBER_OF_FIELDS; ++i) {\nif (i == numOfEntries) {\nbreak;\n}\nv_filteredSectorToColorId[i] = filteredSectorToColorId[i];\n}\n#endif\n#ifdef HITTEST\nhighp vec3 out_pos = vec3(0.0);\nv_color            = vec4(0.0);\nhittestMarker(v_color, out_pos, u_viewMat3 * u_tileMat3 *  pos, v_size);\ngl_PointSize = 1.0;\ngl_Position = vec4(clip(v_color, out_pos, filterFlags, a_zoomRange), 1.0);\n#else\ngl_Position = vec4(clip(v_color, v_pos, filterFlags, a_zoomRange), 1.0);\n#endif\n}"},shared:{line:{"common.glsl":"#if !defined(SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE) && defined(PATTERN)\nuniform mediump vec2 u_mosaicSize;\nvarying mediump float v_sampleAlphaOnly;\n#endif\nstruct LineData {\nlowp vec4 color;\nmediump vec2 normal;\nmediump float lineHalfWidth;\nlowp float opacity;\n#ifndef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\n#ifdef PATTERN\nmediump vec4 tlbr;\nmediump vec2 patternSize;\n#endif\n#ifdef SDF\nmediump float lineWidthRatio;\n#endif\n#if defined(PATTERN) || defined(SDF)\nhighp float accumulatedDistance;\n#endif\n#endif\nhighp vec3 id;\n};","line.frag":"uniform lowp float u_blur;\n#if !defined(SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE) && !defined(HIGHLIGHT)\n#if defined(PATTERN) || defined(SDF)\nuniform sampler2D u_texture;\nuniform highp float u_pixelRatio;\n#endif\n#endif\n#if defined(SDF) && !defined(HIGHLIGHT) && !defined(SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE)\nlowp vec4 getLineColor(LineData line) {\nmediump float adjustedPatternWidth = line.patternSize.x * 2.0 * line.lineWidthRatio;\nmediump float relativeTexX = fract(line.accumulatedDistance / adjustedPatternWidth);\nmediump float relativeTexY = 0.5 + 0.25 * line.normal.y;\nmediump vec2 texCoord = mix(line.tlbr.xy, line.tlbr.zw, vec2(relativeTexX, relativeTexY));\nmediump float d = rgba2float(texture2D(u_texture, texCoord)) - 0.5;\nfloat dist = d * line.lineHalfWidth;\nreturn line.opacity * clamp(0.5 - dist, 0.0, 1.0) * line.color;\n}\n#elif defined(PATTERN) && !defined(HIGHLIGHT) && !defined(SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE)\nlowp vec4 getLineColor(LineData line) {\nmediump float lineHalfWidth = line.lineHalfWidth;\nmediump float adjustedPatternHeight = line.patternSize.y * 2.0 * lineHalfWidth / line.patternSize.x;\nmediump float relativeTexY = fract(line.accumulatedDistance / adjustedPatternHeight);\nmediump float relativeTexX = 0.5 + 0.5 * line.normal.y;\nmediump vec2 texCoord = mix(line.tlbr.xy, line.tlbr.zw, vec2(relativeTexX, relativeTexY));\nlowp vec4 color = texture2D(u_texture, texCoord);\n#ifdef VV_COLOR\nif (v_sampleAlphaOnly > 0.5) {\ncolor.rgb = vec3(color.a);\n}\n#endif\nreturn line.opacity * line.color * color;\n}\n#else\nlowp vec4 getLineColor(LineData line) {\nreturn line.opacity * line.color;\n}\n#endif\nvec4 shadeLine(LineData line)\n{\nmediump float thinLineFactor = max(THIN_LINE_WIDTH_FACTOR * step(line.lineHalfWidth, THIN_LINE_HALF_WIDTH), 1.0);\nmediump float fragDist = length(line.normal) * line.lineHalfWidth;\nlowp float alpha = clamp(thinLineFactor * (line.lineHalfWidth - fragDist) / (u_blur + thinLineFactor - 1.0), 0.0, 1.0);\nlowp vec4 out_color = getLineColor(line) * alpha;\n#ifdef HIGHLIGHT\nout_color.a = step(1.0 / 255.0, out_color.a);\n#endif\n#ifdef ID\nif (out_color.a < 1.0 / 255.0) {\ndiscard;\n}\nout_color = vec4(line.id, 0.0);\n#endif\nreturn out_color;\n}","line.vert":"float getBaseLineHalfWidth(in float lineHalfWidth, in float referenceHalfWidth) {\n#ifdef VV_SIZE\nfloat refLineWidth = 2.0 * referenceHalfWidth;\nreturn 0.5 * (lineHalfWidth / max(referenceHalfWidth, EPSILON)) * getSize(refLineWidth);\n#else\nreturn lineHalfWidth;\n#endif\n}\nfloat getLineHalfWidth(in float baseWidth, in float aa) {\nfloat halfWidth = max(baseWidth + aa, 0.45) + 0.1 * aa;\n#ifdef HIGHLIGHT\nhalfWidth = max(halfWidth, 2.0);\n#endif\nreturn halfWidth;\n}\nvec2 getDist(in vec2 offset, in float halfWidth) {\nfloat thinLineFactor = max(THIN_LINE_WIDTH_FACTOR * step(halfWidth, THIN_LINE_HALF_WIDTH), 1.0);\nreturn thinLineFactor * halfWidth * offset;\n}\nLineData buildLine(\nout vec3 out_pos,\nin vec3 in_id,\nin vec2 in_pos,\nin vec4 in_color,\nin vec2 in_offset,\nin vec2 in_normal,\nin float in_accumulatedDist,\nin float in_lineHalfWidth,\nin float in_bitSet,\nin vec4 in_tlbr,\nin vec2 in_segmentDirection,\nin float in_referenceHalfWidth\n)\n{\nfloat aa        = 0.5 * u_antialiasing;\nfloat baseWidth = getBaseLineHalfWidth(in_lineHalfWidth, in_referenceHalfWidth);\nfloat halfWidth = getLineHalfWidth(baseWidth, aa);\nfloat z         = 2.0 * step(baseWidth, 0.0);\nvec2  dist      = getDist(in_offset, halfWidth);\nvec3  offset    = u_displayViewMat3 * vec3(dist, 0.0);\nvec3  pos       = u_dvsMat3 * vec3(in_pos * POSITION_PRECISION, 1.0) + offset;\n#ifdef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\nvec4  color     = in_color;\nfloat opacity   = 1.0;\n#else\nvec4  color     = getColor(in_color, in_bitSet, BITSET_GENERIC_LOCK_COLOR);\nfloat opacity   = getOpacity();\n#ifdef SDF\nconst float SDF_PATTERN_HALF_WIDTH = 15.5;\nfloat scaleDash = getBit(in_bitSet, BITSET_LINE_SCALE_DASH);\nfloat lineWidthRatio = (scaleDash * max(halfWidth - 0.55 * u_antialiasing, 0.25) + (1.0 - scaleDash)) / SDF_PATTERN_HALF_WIDTH;\n#endif\n#endif\n#if !defined(SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE) && defined(PATTERN)\nv_sampleAlphaOnly = getBit(in_bitSet, BITSET_GENERIC_CONSIDER_ALPHA_ONLY);\n#endif\nout_pos = vec3(pos.xy, z);\nreturn LineData(\ncolor,\nin_normal,\nhalfWidth,\nopacity,\n#ifndef SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\n#ifdef PATTERN\nin_tlbr / u_mosaicSize.xyxy,\nvec2(in_tlbr.z - in_tlbr.x, in_tlbr.w - in_tlbr.y),\n#endif\n#ifdef SDF\nlineWidthRatio,\n#endif\n#if defined(PATTERN) || defined(SDF)\nin_accumulatedDist * u_zoomFactor + dot(in_segmentDirection, dist),\n#endif\n#endif\nnorm(in_id)\n);\n}"}},"symbologyTypeUtils.glsl":"#if SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_OUTLINE_FILL || SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_OUTLINE_FILL_SIMPLE\n#define SYMBOLOGY_TYPE_IS_OUTLINE_FILL_LIKE\n#endif\n#if SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_SIMPLE || SYMBOLOGY_TYPE == SYMBOLOGY_TYPE_OUTLINE_FILL_SIMPLE\n#define SYMBOLOGY_TYPE_IS_SIMPLE_LIKE\n#endif",text:{"common.glsl":"uniform highp vec2 u_mosaicSize;\nvarying highp vec3 v_id;\nvarying mediump vec3 v_pos;\nvarying lowp float v_opacity;\nvarying lowp vec4 v_color;\nvarying highp vec2 v_tex;\nvarying mediump float v_antialiasingWidth;\nvarying mediump float v_edgeDistanceOffset;\nvarying lowp float v_transparency;","hittest.glsl":"#include <materials/hittest/common.glsl>","text.frag":"precision mediump float;\n#include <materials/text/common.glsl>\nuniform lowp sampler2D u_texture;\n#ifdef HITTEST\nvec4 getColor() {\nreturn v_color;\n}\n#else\nvec4 getColor()\n{\nfloat SDF_CUTOFF = (2.0 / 8.0);\nfloat SDF_BASE_EDGE_DIST = 1.0 - SDF_CUTOFF;\nlowp float dist = texture2D(u_texture, v_tex).a;\nmediump float edge = SDF_BASE_EDGE_DIST - v_edgeDistanceOffset;\n#ifdef HIGHLIGHT\nedge /= 2.0;\n#endif\nlowp float aa = v_antialiasingWidth;\nlowp float alpha = smoothstep(edge - aa, edge + aa, dist);\nreturn alpha * v_color * v_opacity;\n}\n#endif\nvoid main()\n{\ngl_FragColor = getColor();\n}","text.vert":"precision highp float;\n#include <materials/utils.glsl>\n#include <materials/vcommon.glsl>\n#include <materials/text/common.glsl>\n#include <materials/text/hittest.glsl>\nattribute vec4 a_color;\nattribute vec4 a_haloColor;\nattribute vec4 a_texFontSize;\nattribute vec4 a_aux;\nattribute vec2 a_zoomRange;\nattribute vec2 a_vertexOffset;\nattribute vec2 a_texCoords;\nuniform float u_isHaloPass;\nuniform float u_isBackgroundPass;\nfloat getTextSize(inout vec2 offset, inout float baseSize, in float referenceSize) {\n#ifdef VV_SIZE\nfloat r = getSize(referenceSize) / referenceSize;\nbaseSize *= r;\noffset.xy *= r;\nreturn baseSize;\n#endif\nreturn baseSize;\n}\nvoid main()\n{\nINIT;\nfloat a_isBackground  = a_aux.y;\nfloat a_referenceSize = a_aux.z * a_aux.z / 256.0;\nfloat a_bitSet        = a_aux.w;\nfloat a_fontSize      = a_texFontSize.z;\nvec2  a_offset        = a_vertexOffset * OFFSET_PRECISION;\nvec3  in_pos        = vec3(a_pos * POSITION_PRECISION, 1.0);\nfloat fontSize      = getTextSize(a_offset, a_fontSize, a_referenceSize);\nfloat fontScale     = fontSize / SDF_FONT_SIZE;\nvec3  offset        = getRotation() * vec3(a_offset, 0.0);\nmat3  extrudeMatrix = getBit(a_bitSet, 0) == 1.0 ? u_displayViewMat3 : u_displayMat3;\nfloat isText = 1.0 - a_isBackground;\nfloat isBackground = u_isBackgroundPass * a_isBackground;\nvec4  nonHaloColor  = (isBackground * a_color) + (isText * getColor(a_color, a_bitSet, 1));\nv_color   = u_isHaloPass * a_haloColor + (1.0 - u_isHaloPass) * nonHaloColor;\nv_opacity = getOpacity();\nv_id      = norm(a_id);\nv_tex     = a_texCoords / u_mosaicSize;\nv_pos     = u_dvsMat3 * in_pos + extrudeMatrix * offset;\nfloat isHidden = u_isBackgroundPass * isText + (1.0 - u_isBackgroundPass) * a_isBackground;\nv_pos.z += 2.0 * isHidden;\nv_edgeDistanceOffset = u_isHaloPass * OUTLINE_SCALE * a_texFontSize.w / fontScale / MAX_SDF_DISTANCE;\nv_antialiasingWidth  = 0.105 * SDF_FONT_SIZE / fontSize / u_pixelRatio;\n#ifdef HITTEST\nhighp vec3 out_pos  = vec3(0.);\nv_color = vec4(0.);\nhittestMarker(v_color, out_pos, u_viewMat3 * u_tileMat3 *  vec3(a_pos * POSITION_PRECISION, 1.0)\n+ u_tileMat3 * offset, fontSize / 2.);\ngl_PointSize = 1.;\ngl_Position = vec4(clip(v_color, out_pos, getFilterFlags(), a_zoomRange), 1.0);\n#else\ngl_Position =  vec4(clip(v_color, v_pos, getFilterFlags(), a_zoomRange), 1.0);\n#endif\n}"},"utils.glsl":"float rshift(in float u32, in int amount) {\nreturn floor(u32 / pow(2.0, float(amount)));\n}\nfloat getBit(in float bitset, in int bitIndex) {\nfloat offset = pow(2.0, float(bitIndex));\nreturn mod(floor(bitset / offset), 2.0);\n}\nfloat getFilterBit(in float bitset, in int bitIndex) {\nreturn getBit(bitset, bitIndex + 1);\n}\nfloat getHighlightBit(in float bitset) {\nreturn getBit(bitset, 0);\n}\nhighp vec3 unpackDisplayIdTexel(in highp vec3 bitset) {\nfloat isAggregate = getBit(bitset.b, 7);\nreturn (1.0 - isAggregate) * bitset + isAggregate * (vec3(bitset.rgb) - vec3(0.0, 0.0, float(0x80)));\n}\nvec4 unpack(in float u32) {\nfloat r = mod(rshift(u32, 0), 255.0);\nfloat g = mod(rshift(u32, 8), 255.0);\nfloat b = mod(rshift(u32, 16), 255.0);\nfloat a = mod(rshift(u32, 24), 255.0);\nreturn vec4(r, g, b, a);\n}\nvec3 norm(in vec3 v) {\nreturn v /= 255.0;\n}\nvec4 norm(in vec4 v) {\nreturn v /= 255.0;\n}\nfloat max4(vec4 target) {\nreturn max(max(max(target.x, target.y), target.z), target.w);\n}\nvec2 unpack_u8_nf32(vec2 bytes) {\nreturn (bytes - 127.0) / 127.0;\n}\nhighp float rand(in vec2 co) {\nhighp float a = 12.9898;\nhighp float b = 78.233;\nhighp float c = 43758.5453;\nhighp float dt = dot(co, vec2(a,b));\nhighp float sn = mod(dt, 3.14);\nreturn fract(sin(sn) * c);\n}","vcommon.glsl":"#include <materials/constants.glsl>\n#include <materials/utils.glsl>\n#include <materials/attributeData.glsl>\n#include <materials/vv.glsl>\n#include <materials/barycentric.glsl>\nattribute vec2 a_pos;\nattribute highp vec3 a_id;\nuniform highp mat3 u_dvsMat3;\nuniform highp mat3 u_displayMat3;\nuniform highp mat3 u_displayViewMat3;\nuniform highp mat3 u_tileMat3;\nuniform highp mat3 u_viewMat3;\nuniform highp float u_pixelRatio;\nuniform mediump float u_zoomFactor;\nuniform mediump float u_antialiasing;\nuniform mediump float u_currentZoom;\nvec4 VV_ADATA = vec4(0.0);\nvoid loadVisualVariableData(inout vec4 target) {\n#ifdef SUPPORTS_TEXTURE_FLOAT\ntarget.rgba = getAttributeData2(a_id);\n#else\nvec4 data0 = getAttributeData2(a_id);\nvec4 data1 = getAttributeData3(a_id);\ntarget.r = u88VVToFloat(data0.rg * 255.0);\ntarget.g = u88VVToFloat(data0.ba * 255.0);\ntarget.b = u88VVToFloat(data1.rg * 255.0);\ntarget.a = u88VVToFloat(data1.ba * 255.0);\n#endif\n}\n#ifdef VV\n#define INIT loadVisualVariableData(VV_ADATA)\n#else\n#define INIT\n#endif\nvec4 getColor(in vec4 a_color, in float a_bitSet, int index) {\n#ifdef VV_COLOR\nfloat isColorLocked   = getBit(a_bitSet, index);\nreturn getVVColor(VV_ADATA[ATTR_VV_COLOR], a_color, isColorLocked);\n#else\nreturn a_color;\n#endif\n}\nfloat getOpacity() {\n#ifdef VV_OPACITY\nreturn getVVOpacity(VV_ADATA[ATTR_VV_OPACITY]);\n#else\nreturn 1.0;\n#endif\n}\nfloat getSize(in float in_size) {\n#ifdef VV_SIZE\nreturn getVVSize(in_size, VV_ADATA[ATTR_VV_SIZE]);\n#else\nreturn in_size;\n#endif\n}\nmat3 getRotation() {\n#ifdef VV_ROTATION\nreturn getVVRotationMat3(mod(VV_ADATA[ATTR_VV_ROTATION], 360.0));\n#else\nreturn mat3(1.0);\n#endif\n}\nfloat getFilterFlags() {\n#ifdef IGNORES_SAMPLER_PRECISION\nreturn ceil(getAttributeData0(a_id).x * 255.0);\n#else\nreturn getAttributeData0(a_id).x * 255.0;\n#endif\n}\nvec4 getAnimationState() {\nreturn getAttributeData1(a_id);\n}\nfloat getMinZoom() {\nvec4 data0 = getAttributeData0(a_id) * 255.0;\nreturn data0.g;\n}\nmat3 getMatrixNoDisplay(float isMapAligned) {\nreturn isMapAligned * u_viewMat3 * u_tileMat3 + (1.0 - isMapAligned) * u_tileMat3;\n}\nmat3 getMatrix(float isMapAligned) {\nreturn isMapAligned * u_displayViewMat3 + (1.0 - isMapAligned) * u_displayMat3;\n}\nvec3 clip(inout vec4 color, inout vec3 pos, in float filterFlags, in vec2 minMaxZoom) {\npos.z += 2.0 * (1.0 - getFilterBit(filterFlags, 0));\n#ifdef INSIDE\npos.z += 2.0 * (1.0 - getFilterBit(filterFlags, 1));\n#elif defined(OUTSIDE)\npos.z += 2.0 * getFilterBit(filterFlags, 1);\n#elif defined(HIGHLIGHT)\n#if !defined(HIGHLIGHT_ALL)\npos.z += 2.0 * (1.0 - getHighlightBit(filterFlags));\n#endif\n#endif\npos.z += 2.0 * (step(minMaxZoom.y, u_currentZoom) + (1.0 - step(minMaxZoom.x, u_currentZoom)));\nreturn pos;\n}","vv.glsl":"#if defined(VV_SIZE_MIN_MAX_VALUE) || defined(VV_SIZE_SCALE_STOPS) || defined(VV_SIZE_FIELD_STOPS) || defined(VV_SIZE_UNIT_VALUE)\n#define VV_SIZE\n#endif\n#if defined(VV_COLOR) || defined(VV_SIZE) || defined(VV_OPACITY) || defined(VV_ROTATION)\n#define VV\n#endif\n#ifdef VV_COLOR\nuniform highp float u_vvColorValues[8];\nuniform vec4 u_vvColors[8];\n#endif\n#ifdef VV_SIZE_MIN_MAX_VALUE\nuniform highp vec4 u_vvSizeMinMaxValue;\n#endif\n#ifdef VV_SIZE_SCALE_STOPS\nuniform highp float u_vvSizeScaleStopsValue;\n#endif\n#ifdef VV_SIZE_FIELD_STOPS\nuniform highp float u_vvSizeFieldStopsValues[6];\nuniform float u_vvSizeFieldStopsSizes[6];\n#endif\n#ifdef VV_SIZE_UNIT_VALUE\nuniform highp float u_vvSizeUnitValueWorldToPixelsRatio;\n#endif\n#ifdef VV_OPACITY\nuniform highp float u_vvOpacityValues[8];\nuniform float u_vvOpacities[8];\n#endif\n#ifdef VV_ROTATION\nuniform lowp float u_vvRotationType;\n#endif\nbool isNan(float val) {\nreturn (val == NAN_MAGIC_NUMBER);\n}\n#ifdef VV_SIZE_MIN_MAX_VALUE\nfloat getVVMinMaxSize(float sizeValue, float fallback) {\nif (isNan(sizeValue)) {\nreturn fallback;\n}\nfloat interpolationRatio = (sizeValue  - u_vvSizeMinMaxValue.x) / (u_vvSizeMinMaxValue.y - u_vvSizeMinMaxValue.x);\ninterpolationRatio = clamp(interpolationRatio, 0.0, 1.0);\nreturn u_vvSizeMinMaxValue.z + interpolationRatio * (u_vvSizeMinMaxValue.w - u_vvSizeMinMaxValue.z);\n}\n#endif\n#ifdef VV_SIZE_FIELD_STOPS\nconst int VV_SIZE_N = 6;\nfloat getVVStopsSize(float sizeValue, float fallback) {\nif (isNan(sizeValue)) {\nreturn fallback;\n}\nif (sizeValue <= u_vvSizeFieldStopsValues[0]) {\nreturn u_vvSizeFieldStopsSizes[0];\n}\nfor (int i = 1; i < VV_SIZE_N; ++i) {\nif (u_vvSizeFieldStopsValues[i] >= sizeValue) {\nfloat f = (sizeValue - u_vvSizeFieldStopsValues[i-1]) / (u_vvSizeFieldStopsValues[i] - u_vvSizeFieldStopsValues[i-1]);\nreturn mix(u_vvSizeFieldStopsSizes[i-1], u_vvSizeFieldStopsSizes[i], f);\n}\n}\nreturn u_vvSizeFieldStopsSizes[VV_SIZE_N - 1];\n}\n#endif\n#ifdef VV_SIZE_UNIT_VALUE\nfloat getVVUnitValue(float sizeValue, float fallback) {\nif (isNan(sizeValue)) {\nreturn fallback;\n}\nreturn u_vvSizeUnitValueWorldToPixelsRatio * sizeValue;\n}\n#endif\n#ifdef VV_OPACITY\nconst int VV_OPACITY_N = 8;\nfloat getVVOpacity(float opacityValue) {\nif (isNan(opacityValue)) {\nreturn 1.0;\n}\nif (opacityValue <= u_vvOpacityValues[0]) {\nreturn u_vvOpacities[0];\n}\nfor (int i = 1; i < VV_OPACITY_N; ++i) {\nif (u_vvOpacityValues[i] >= opacityValue) {\nfloat f = (opacityValue - u_vvOpacityValues[i-1]) / (u_vvOpacityValues[i] - u_vvOpacityValues[i-1]);\nreturn mix(u_vvOpacities[i-1], u_vvOpacities[i], f);\n}\n}\nreturn u_vvOpacities[VV_OPACITY_N - 1];\n}\n#endif\n#ifdef VV_ROTATION\nmat4 getVVRotation(float rotationValue) {\nif (isNan(rotationValue)) {\nreturn mat4(1, 0, 0, 0,\n0, 1, 0, 0,\n0, 0, 1, 0,\n0, 0, 0, 1);\n}\nfloat rotation = rotationValue;\nif (u_vvRotationType == 1.0) {\nrotation = 90.0 - rotation;\n}\nfloat angle = C_DEG_TO_RAD * rotation;\nfloat sinA = sin(angle);\nfloat cosA = cos(angle);\nreturn mat4(cosA, sinA, 0, 0,\n-sinA,  cosA, 0, 0,\n0,     0, 1, 0,\n0,     0, 0, 1);\n}\nmat3 getVVRotationMat3(float rotationValue) {\nif (isNan(rotationValue)) {\nreturn mat3(1, 0, 0,\n0, 1, 0,\n0, 0, 1);\n}\nfloat rotation = rotationValue;\nif (u_vvRotationType == 1.0) {\nrotation = 90.0 - rotation;\n}\nfloat angle = C_DEG_TO_RAD * -rotation;\nfloat sinA = sin(angle);\nfloat cosA = cos(angle);\nreturn mat3(cosA, -sinA, 0,\nsinA, cosA, 0,\n0,    0,    1);\n}\n#endif\n#ifdef VV_COLOR\nconst int VV_COLOR_N = 8;\nvec4 getVVColor(float colorValue, vec4 fallback, float isColorLocked) {\nif (isNan(colorValue) || isColorLocked == 1.0) {\nreturn fallback;\n}\nif (colorValue <= u_vvColorValues[0]) {\nreturn u_vvColors[0];\n}\nfor (int i = 1; i < VV_COLOR_N; ++i) {\nif (u_vvColorValues[i] >= colorValue) {\nfloat f = (colorValue - u_vvColorValues[i-1]) / (u_vvColorValues[i] - u_vvColorValues[i-1]);\nreturn mix(u_vvColors[i-1], u_vvColors[i], f);\n}\n}\nreturn u_vvColors[VV_COLOR_N - 1];\n}\n#endif\nfloat getVVSize(in float size, in float vvSize)  {\n#ifdef VV_SIZE_MIN_MAX_VALUE\nreturn getVVMinMaxSize(vvSize, size);\n#elif defined(VV_SIZE_SCALE_STOPS)\nreturn u_vvSizeScaleStopsValue;\n#elif defined(VV_SIZE_FIELD_STOPS)\nfloat outSize = getVVStopsSize(vvSize, size);\nreturn isNan(outSize) ? size : outSize;\n#elif defined(VV_SIZE_UNIT_VALUE)\nreturn getVVUnitValue(vvSize, size);\n#else\nreturn size;\n#endif\n}"},overlay:{overlay:{"overlay.frag":"precision lowp float;\nuniform lowp sampler2D u_texture;\nuniform lowp float u_opacity;\nvarying mediump vec2 v_uv;\nvoid main() {\nvec4 color = texture2D(u_texture, v_uv);\ngl_FragColor = color *  u_opacity;\n}","overlay.vert":"precision mediump float;\nattribute vec2 a_pos;\nattribute vec2 a_uv;\nuniform highp mat3 u_dvsMat3;\nuniform mediump vec2 u_perspective;\nvarying mediump vec2 v_uv;\nvoid main(void) {\nv_uv = a_uv;\nfloat w = 1.0 + dot(a_uv, u_perspective);\nvec3 pos = u_dvsMat3 * vec3(a_pos, 1.0);\ngl_Position = vec4(w * pos.xy, 0.0, w);\n}"}},"post-processing":{blit:{"blit.frag":"precision mediump float;\nuniform sampler2D u_texture;\nvarying vec2 v_uv;\nvoid main() {\ngl_FragColor = texture2D(u_texture, v_uv);\n}"},bloom:{composite:{"composite.frag":"precision mediump float;\nvarying vec2 v_uv;\nuniform sampler2D u_blurTexture1;\nuniform sampler2D u_blurTexture2;\nuniform sampler2D u_blurTexture3;\nuniform sampler2D u_blurTexture4;\nuniform sampler2D u_blurTexture5;\nuniform float u_bloomStrength;\nuniform float u_bloomRadius;\nuniform float u_bloomFactors[NUMMIPS];\nuniform vec3 u_bloomTintColors[NUMMIPS];\nfloat lerpBloomFactor(const in float factor) {\nfloat mirrorFactor = 1.2 - factor;\nreturn mix(factor, mirrorFactor, u_bloomRadius);\n}\nvoid main() {\nvec4 color = u_bloomStrength * (\nlerpBloomFactor(u_bloomFactors[0]) * vec4(u_bloomTintColors[0], 1.0) * texture2D(u_blurTexture1, v_uv) +\nlerpBloomFactor(u_bloomFactors[1]) * vec4(u_bloomTintColors[1], 1.0) * texture2D(u_blurTexture2, v_uv) +\nlerpBloomFactor(u_bloomFactors[2]) * vec4(u_bloomTintColors[2], 1.0) * texture2D(u_blurTexture3, v_uv) +\nlerpBloomFactor(u_bloomFactors[3]) * vec4(u_bloomTintColors[3], 1.0) * texture2D(u_blurTexture4, v_uv) +\nlerpBloomFactor(u_bloomFactors[4]) * vec4(u_bloomTintColors[4], 1.0) * texture2D(u_blurTexture5, v_uv)\n);\ngl_FragColor = clamp(color, 0.0, 1.0);\n}"},gaussianBlur:{"gaussianBlur.frag":"precision mediump float;\nuniform sampler2D u_colorTexture;\nuniform vec2 u_texSize;\nuniform vec2 u_direction;\nvarying vec2 v_uv;\n#define KERNEL_RADIUS RADIUS\n#define SIGMA RADIUS\nfloat gaussianPdf(in float x, in float sigma) {\nreturn 0.39894 * exp(-0.5 * x * x / ( sigma * sigma)) / sigma;\n}\nvoid main() {\nvec2 invSize = 1.0 / u_texSize;\nfloat fSigma = float(SIGMA);\nfloat weightSum = gaussianPdf(0.0, fSigma);\nvec4 pixelColorSum = texture2D(u_colorTexture, v_uv) * weightSum;\nfor (int i = 1; i < KERNEL_RADIUS; i ++) {\nfloat x = float(i);\nfloat w = gaussianPdf(x, fSigma);\nvec2 uvOffset = u_direction * invSize * x;\nvec4 sample1 = texture2D(u_colorTexture, v_uv + uvOffset);\nvec4 sample2 = texture2D(u_colorTexture, v_uv - uvOffset);\npixelColorSum += (sample1 + sample2) * w;\nweightSum += 2.0 * w;\n}\ngl_FragColor = pixelColorSum /weightSum;\n}"},luminosityHighPass:{"luminosityHighPass.frag":"precision mediump float;\nuniform sampler2D u_texture;\nuniform vec3 u_defaultColor;\nuniform float u_defaultOpacity;\nuniform float u_luminosityThreshold;\nuniform float u_smoothWidth;\nvarying vec2 v_uv;\nvoid main() {\nvec4 texel = texture2D(u_texture, v_uv);\nvec3 luma = vec3(0.299, 0.587, 0.114);\nfloat v = dot(texel.xyz, luma);\nvec4 outputColor = vec4(u_defaultColor.rgb, u_defaultOpacity);\nfloat alpha = smoothstep(u_luminosityThreshold, u_luminosityThreshold + u_smoothWidth, v);\ngl_FragColor = mix(outputColor, texel, alpha);\n}"}},blur:{gaussianBlur:{"gaussianBlur.frag":"precision mediump float;\nuniform sampler2D u_colorTexture;\nuniform vec2 u_texSize;\nuniform vec2 u_direction;\nuniform float u_sigma;\nvarying vec2 v_uv;\n#define KERNEL_RADIUS RADIUS\nfloat gaussianPdf(in float x, in float sigma) {\nreturn 0.39894 * exp(-0.5 * x * x / ( sigma * sigma)) / sigma;\n}\nvoid main() {\nvec2 invSize = 1.0 / u_texSize;\nfloat fSigma = u_sigma;\nfloat weightSum = gaussianPdf(0.0, fSigma);\nvec4 pixelColorSum = texture2D(u_colorTexture, v_uv) * weightSum;\nfor (int i = 1; i < KERNEL_RADIUS; i ++) {\nfloat x = float(i);\nfloat w = gaussianPdf(x, fSigma);\nvec2 uvOffset = u_direction * invSize * x;\nvec4 sample1 = texture2D(u_colorTexture, v_uv + uvOffset);\nvec4 sample2 = texture2D(u_colorTexture, v_uv - uvOffset);\npixelColorSum += (sample1 + sample2) * w;\nweightSum += 2.0 * w;\n}\ngl_FragColor = pixelColorSum /weightSum;\n}"},"radial-blur":{"radial-blur.frag":"precision mediump float;\nuniform sampler2D u_colorTexture;\nvarying vec2 v_uv;\nconst float sampleDist = 1.0;\nconst float sampleStrength = 2.2;\nvoid main(void) {\nfloat samples[10];\nsamples[0] = -0.08;\nsamples[1] = -0.05;\nsamples[2] = -0.03;\nsamples[3] = -0.02;\nsamples[4] = -0.01;\nsamples[5] =  0.01;\nsamples[6] =  0.02;\nsamples[7] =  0.03;\nsamples[8] =  0.05;\nsamples[9] =  0.08;\nvec2 dir = 0.5 - v_uv;\nfloat dist = sqrt(dir.x * dir.x + dir.y * dir.y);\ndir = dir / dist;\nvec4 color = texture2D(u_colorTexture,v_uv);\nvec4 sum = color;\nfor (int i = 0; i < 10; i++) {\nsum += texture2D(u_colorTexture, v_uv + dir * samples[i] * sampleDist);\n}\nsum *= 1.0 / 11.0;\nfloat t = dist * sampleStrength;\nt = clamp(t, 0.0, 1.0);\ngl_FragColor = mix(color, sum, t);\n}"}},dra:{"dra.frag":"precision mediump float;\nuniform sampler2D u_minColor;\nuniform sampler2D u_maxColor;\nuniform sampler2D u_texture;\nvarying vec2 v_uv;\nvoid main() {\nvec4 minColor = texture2D(u_minColor, vec2(0.5));\nvec4 maxColor = texture2D(u_maxColor, vec2(0.5));\nvec4 color = texture2D(u_texture, v_uv);\nvec3 minColorUnpremultiply = minColor.rgb / minColor.a;\nvec3 maxColorUnpremultiply = maxColor.rgb / maxColor.a;\nvec3 colorUnpremultiply = color.rgb / color.a;\nvec3 range = maxColorUnpremultiply - minColorUnpremultiply;\ngl_FragColor = vec4(color.a * (colorUnpremultiply - minColorUnpremultiply) / range, color.a);\n}","min-max":{"min-max.frag":"#extension GL_EXT_draw_buffers : require\nprecision mediump float;\n#define CELL_SIZE 2\nuniform sampler2D u_minTexture;\nuniform sampler2D u_maxTexture;\nuniform vec2 u_srcResolution;\nuniform vec2 u_dstResolution;\nvarying vec2 v_uv;\nvoid main() {\nvec2 srcPixel = floor(gl_FragCoord.xy) * float(CELL_SIZE);\nvec2 onePixel = vec2(1.0) / u_srcResolution;\nvec2 uv = (srcPixel + 0.5) / u_srcResolution;\nvec4 minColor = vec4(1.0);\nvec4 maxColor = vec4(0.0);\nfor (int y = 0; y < CELL_SIZE; ++y) {\nfor (int x = 0; x < CELL_SIZE; ++x) {\nvec2 offset = uv + vec2(x, y) * onePixel;\nminColor = min(minColor, texture2D(u_minTexture, offset));\nmaxColor = max(maxColor, texture2D(u_maxTexture, offset));\n}\n}\ngl_FragData[0] = minColor;\ngl_FragData[1] = maxColor;\n}"}},"drop-shadow":{composite:{"composite.frag":"precision mediump float;\nuniform sampler2D u_layerFBOTexture;\nuniform sampler2D u_blurTexture;\nuniform vec4 u_shadowColor;\nuniform vec2 u_shadowOffset;\nuniform highp mat3 u_displayViewMat3;\nvarying vec2 v_uv;\nvoid main() {\nvec3 offset = u_displayViewMat3 * vec3(u_shadowOffset, 0.0);\nvec4 layerColor = texture2D(u_layerFBOTexture, v_uv);\nvec4 blurColor = texture2D(u_blurTexture, v_uv - offset.xy / 2.0);\ngl_FragColor = ((1.0 - layerColor.a) * blurColor.a * u_shadowColor + layerColor);\n}"}},"edge-detect":{"frei-chen":{"frei-chen.frag":"precision mediump float;\nuniform sampler2D u_colorTexture;\nuniform vec2 u_texSize;\nvarying vec2 v_uv;\nvec2 texel = vec2(1.0 / u_texSize.x, 1.0 / u_texSize.y);\nmat3 G[9];\nconst mat3 g0 = mat3( 0.3535533845424652, 0, -0.3535533845424652, 0.5, 0, -0.5, 0.3535533845424652, 0, -0.3535533845424652 );\nconst mat3 g1 = mat3( 0.3535533845424652, 0.5, 0.3535533845424652, 0, 0, 0, -0.3535533845424652, -0.5, -0.3535533845424652 );\nconst mat3 g2 = mat3( 0, 0.3535533845424652, -0.5, -0.3535533845424652, 0, 0.3535533845424652, 0.5, -0.3535533845424652, 0 );\nconst mat3 g3 = mat3( 0.5, -0.3535533845424652, 0, -0.3535533845424652, 0, 0.3535533845424652, 0, 0.3535533845424652, -0.5 );\nconst mat3 g4 = mat3( 0, -0.5, 0, 0.5, 0, 0.5, 0, -0.5, 0 );\nconst mat3 g5 = mat3( -0.5, 0, 0.5, 0, 0, 0, 0.5, 0, -0.5 );\nconst mat3 g6 = mat3( 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.6666666865348816, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204 );\nconst mat3 g7 = mat3( -0.3333333432674408, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, 0.6666666865348816, 0.1666666716337204, -0.3333333432674408, 0.1666666716337204, -0.3333333432674408 );\nconst mat3 g8 = mat3( 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408, 0.3333333432674408 );\nvoid main() {\nG[0] = g0,\nG[1] = g1,\nG[2] = g2,\nG[3] = g3,\nG[4] = g4,\nG[5] = g5,\nG[6] = g6,\nG[7] = g7,\nG[8] = g8;\nmat3 I;\nfloat cnv[9];\nvec3 sample;\nfor (float i = 0.0; i < 3.0; i++) {\nfor (float j = 0.0; j < 3.0; j++) {\nsample = texture2D(u_colorTexture, v_uv + texel * vec2(i - 1.0,j - 1.0)).rgb;\nI[int(i)][int(j)] = length(sample);\n}\n}\nfor (int i = 0; i < 9; i++) {\nfloat dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);\ncnv[i] = dp3 * dp3;\n}\nfloat M = (cnv[0] + cnv[1]) + (cnv[2] + cnv[3]);\nfloat S = (cnv[4] + cnv[5]) + (cnv[6] + cnv[7]) + (cnv[8] + M);\ngl_FragColor = vec4(vec3(sqrt(M / S)), texture2D(u_colorTexture, v_uv).a);\n}"},sobel:{"sobel.frag":"precision mediump float;\nuniform sampler2D u_colorTexture;\nvarying vec2 v_uv;\nuniform vec2 u_texSize;\nvec2 texel = vec2(1.0 / u_texSize.x, 1.0 / u_texSize.y);\nmat3 G[2];\nconst mat3 g0 = mat3( 1.0, 2.0, 1.0, 0.0, 0.0, 0.0, -1.0, -2.0, -1.0 );\nconst mat3 g1 = mat3( 1.0, 0.0, -1.0, 2.0, 0.0, -2.0, 1.0, 0.0, -1.0 );\nvoid main() {\nmat3 I;\nfloat cnv[2];\nvec3 sample;\nG[0] = g0;\nG[1] = g1;\nfor (float i = 0.0; i < 3.0; i++) {\nfor (float j = 0.0; j < 3.0; j++) {\nsample = texture2D( u_colorTexture, v_uv + texel * vec2(i-1.0,j-1.0) ).rgb;\nI[int(i)][int(j)] = length(sample);\n}\n}\nfor (int i = 0; i < 2; i++) {\nfloat dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);\ncnv[i] = dp3 * dp3;\n}\ngl_FragColor = vec4(vec3(0.5 * sqrt(cnv[0] * cnv[0] + cnv[1] * cnv[1])), texture2D(u_colorTexture, v_uv).a);\n}"}},"edge-enhance":{"edge-enhance.frag":"precision mediump float;\nuniform sampler2D u_colorTexture;\nvarying vec2 v_uv;\nuniform vec2 u_texSize;\nvec2 texel = vec2(1.0 / u_texSize.x, 1.0 / u_texSize.y);\nmat3 G[2];\nconst mat3 g0 = mat3( 1.0, 0.0, -1.0, 1.0, 0.0, -1.0, 1.0, 0.0, -1.0 );\nconst mat3 g1 = mat3( 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, -1.0, -1.0, -1.0 );\nvoid main() {\nmat3 I;\nfloat cnv[2];\nvec3 sample;\nG[0] = g0;\nG[1] = g1;\nfor (float i = 0.0; i < 3.0; i++) {\nfor (float j = 0.0; j < 3.0; j++) {\nsample = texture2D( u_colorTexture, v_uv + texel * vec2(i-1.0,j-1.0) ).rgb;\nI[int(i)][int(j)] = length(sample);\n}\n}\nfor (int i = 0; i < 2; i++) {\nfloat dp3 = dot(G[i][0], I[0]) + dot(G[i][1], I[1]) + dot(G[i][2], I[2]);\ncnv[i] = dp3 * dp3;\n}\nvec4 color = texture2D(u_colorTexture, v_uv);\ngl_FragColor = vec4(0.5 * sqrt(cnv[0] * cnv[0] + cnv[1] * cnv[1]) * color);\n}"},filterEffect:{"filterEffect.frag":"precision mediump float;\nuniform sampler2D u_colorTexture;\nuniform mat4 u_coefficients;\nvarying vec2 v_uv;\nvoid main() {\nvec4 color = texture2D(u_colorTexture, v_uv);\nvec4 rgbw = u_coefficients * vec4(color.a > 0.0 ? color.rgb / color.a : vec3(0.0), 1.0);\nfloat a = color.a;\ngl_FragColor = vec4(a * rgbw.rgb, a);\n}"},pp:{"pp.vert":"precision mediump float;\nattribute vec2 a_position;\nvarying vec2 v_uv;\nvoid main() {\ngl_Position = vec4(a_position, 0.0, 1.0);\nv_uv = (a_position + 1.0) / 2.0;\n}"}},raster:{bitmap:{"bitmap.frag":"precision mediump float;\nvarying highp vec2 v_texcoord;\nuniform sampler2D u_texture;\nuniform highp vec2 u_coordScale;\nuniform lowp float u_opacity;\n#include <filtering/bicubic.glsl>\nvoid main() {\n#ifdef BICUBIC\nvec4 color = sampleBicubicBSpline(u_texture, v_texcoord, u_coordScale);\n#else\nvec4 color = texture2D(u_texture, v_texcoord);\n#endif\ngl_FragColor = vec4(color.rgb * u_opacity, color.a * u_opacity);\n}","bitmap.vert":"precision mediump float;\nattribute vec2 a_pos;\nuniform highp mat3 u_dvsMat3;\nuniform highp vec2 u_coordScale;\nvarying highp vec2 v_texcoord;\nvoid main()\n{\nv_texcoord = a_pos;\ngl_Position = vec4(u_dvsMat3 * vec3(a_pos * u_coordScale, 1.0), 1.0);\n}"},common:{"common.glsl":"uniform sampler2D u_image;\nuniform int u_bandCount;\nuniform bool u_flipY;\nuniform float u_opacity;\nuniform int u_resampling;\nuniform vec2 u_srcImageSize;\n#ifdef APPLY_PROJECTION\n#include <raster/common/projection.glsl>\n#endif\n#ifdef BICUBIC\n#include <filtering/bicubic.glsl>\n#endif\n#ifdef BILINEAR\n#include <filtering/bilinear.glsl>\n#endif\nvec2 getPixelLocation(vec2 coords) {\nvec2 targetLocation = u_flipY ? vec2(coords.s, 1.0 - coords.t) : coords;\n#ifdef APPLY_PROJECTION\ntargetLocation = projectPixelLocation(targetLocation);\n#endif\nreturn targetLocation;\n}\nbool isOutside(vec2 coords){\nif (coords.t>1.00001 ||coords.t<-0.00001 || coords.s>1.00001 ||coords.s<-0.00001) {\nreturn true;\n} else {\nreturn false;\n}\n}\nvec4 getPixel(vec2 pixelLocation) {\n#ifdef BICUBIC\nvec4 color = sampleBicubicBSpline(u_image, pixelLocation, u_srcImageSize);\n#elif defined(BILINEAR)\nvec4 color = sampleBilinear(u_image, pixelLocation, u_srcImageSize);\n#else\nvec4 color = texture2D(u_image, pixelLocation);\n#endif\nreturn color;\n}","common.vert":"precision mediump float;\nattribute vec2 a_pos;\nuniform highp mat3 u_dvsMat3;\nuniform highp vec2 u_coordScale;\nuniform highp float u_scale;\nuniform highp vec2 u_offset;\nvarying highp vec2 v_texcoord;\nvoid main()\n{\nv_texcoord = a_pos * u_scale + u_offset;\ngl_Position = vec4(u_dvsMat3 * vec3(a_pos * u_coordScale, 1.0), 1.0);\n}","contrastBrightness.glsl":"uniform float u_contrastOffset;\nuniform float u_brightnessOffset;\nvec4 adjustContrastBrightness(vec4 currentPixel, bool isFloat) {\nvec4 pixelValue = isFloat ? currentPixel * 255.0 : currentPixel;\nfloat maxI = 255.0;\nfloat mid = 128.0;\nfloat c = u_contrastOffset;\nfloat b = u_brightnessOffset;\nvec4 v;\nif (c > 0.0 && c < 100.0) {\nv = (200.0 * pixelValue - 100.0 * maxI + 2.0 * maxI * b) / (2.0 * (100.0 - c)) + mid;\n} else if (c <= 0.0 && c > -100.0) {\nv = (200.0 * pixelValue - 100.0 * maxI + 2.0 * maxI * b) * (100.0 + c) / 20000.0 + mid;\n} else if (c == 100.0) {\nv = (200.0 * pixelValue - 100.0 * maxI + (maxI + 1.0) * (100.0 - c) + 2.0 * maxI * b);\nv = (sign(v) + 1.0) / 2.0;\n} else if (c == -100.0) {\nv = vec4(mid, mid, mid, currentPixel.a);\n}\nvec3 rgb = clamp(v.rgb / 255.0, 0.0, 1.0);\nreturn vec4(rgb, currentPixel.a);\n}","getSurfaceValues.glsl":"#include <raster/common/mirror.glsl>\nvoid getSurfaceValues(sampler2D imageTexture, vec2 texCoord, vec2 srcImageSize, inout float values[10]) {\nvec2 onePixel = 1.0 / srcImageSize;\nvec4 va = texture2D(imageTexture, mirror(texCoord + onePixel * vec2(-1.0, -1.0)));\nvec4 vb = texture2D(imageTexture, mirror(texCoord + onePixel * vec2(0.0, -1.0)));\nvec4 vc = texture2D(imageTexture, mirror(texCoord + onePixel * vec2(1.0, -1.0)));\nvec4 vd = texture2D(imageTexture, mirror(texCoord + onePixel * vec2(-1.0, 0.0)));\nvec4 ve = texture2D(imageTexture, mirror(texCoord));\nvec4 vf = texture2D(imageTexture, mirror(texCoord + onePixel * vec2(1.0, 0.0)));\nvec4 vg = texture2D(imageTexture, mirror(texCoord + onePixel * vec2(-1.0, 1.0)));\nvec4 vh = texture2D(imageTexture, mirror(texCoord + onePixel * vec2(0.0, 1.0)));\nvec4 vi = texture2D(imageTexture, mirror(texCoord + onePixel * vec2(1.0, 1.0)));\nfloat alpha = va.a * vb.a * vc.a * vd.a * ve.a * vf.a * vg.a * vh.a * vi.a;\nvalues[0] = va.r;\nvalues[1] = vb.r;\nvalues[2] = vc.r;\nvalues[3] = vd.r;\nvalues[4] = ve.r;\nvalues[5] = vf.r;\nvalues[6] = vg.r;\nvalues[7] = vh.r;\nvalues[8] = vi.r;\nvalues[9] = alpha;\n}","inverse.glsl":"float invertValue(float value) {\nfloat s = sign(value);\nreturn (s * s) / (value + abs(s) - 1.0);\n}","mirror.glsl":"vec2 mirror(vec2 pos) {\nvec2 pos1 = abs(pos);\nreturn step(pos1, vec2(1.0, 1.0)) * pos1 + step(1.0, pos1) * (2.0 - pos1);\n}","projection.glsl":"uniform sampler2D u_transformGrid;\nuniform vec2 u_transformSpacing;\nuniform vec2 u_transformGridSize;\nuniform vec2 u_targetImageSize;\nvec2 projectPixelLocation(vec2 coords) {\n#ifdef LOOKUP_PROJECTION\nvec4 pv = texture2D(u_transformGrid, coords);\nreturn vec2(pv.r, pv.g);\n#endif\nvec2 index_image = floor(coords * u_targetImageSize);\nvec2 oneTransformPixel = vec2(0.25 / u_transformGridSize.s, 1.0 / u_transformGridSize.t);\nvec2 index_transform = floor(index_image / u_transformSpacing) / u_transformGridSize;\nvec2 pos = fract((index_image + vec2(0.5, 0.5)) / u_transformSpacing);\nvec2 srcLocation;\nvec2 transform_location = index_transform + oneTransformPixel * 0.5;\nif (pos.s <= pos.t) {\nvec4 ll_abc = texture2D(u_transformGrid, vec2(transform_location.s, transform_location.t));\nvec4 ll_def = texture2D(u_transformGrid, vec2(transform_location.s + oneTransformPixel.s, transform_location.t));\nsrcLocation.s = dot(ll_abc.rgb, vec3(pos, 1.0));\nsrcLocation.t = dot(ll_def.rgb, vec3(pos, 1.0));\n} else {\nvec4 ur_abc = texture2D(u_transformGrid, vec2(transform_location.s + 2.0 * oneTransformPixel.s, transform_location.t));\nvec4 ur_def = texture2D(u_transformGrid, vec2(transform_location.s + 3.0 * oneTransformPixel.s, transform_location.t));\nsrcLocation.s = dot(ur_abc.rgb, vec3(pos, 1.0));\nsrcLocation.t = dot(ur_def.rgb, vec3(pos, 1.0));\n}\nreturn srcLocation;\n}"},flow:{"getFadeOpacity.glsl":"uniform float u_decayRate;\nuniform float u_fadeToZero;\nfloat getFadeOpacity(float x) {\nfloat cutOff = mix(0.0, exp(-u_decayRate), u_fadeToZero);\nreturn (exp(-u_decayRate * x) - cutOff) / (1.0 - cutOff);\n}","getFragmentColor.glsl":"vec4 getFragmentColor(vec4 color, float dist, float size, float featheringSize) {\nfloat featheringStart = clamp(0.5 - featheringSize / size, 0.0, 0.5);\nif (dist > featheringStart) {\ncolor *= 1.0 - (dist - featheringStart) / (0.5 - featheringStart);\n}\nreturn color;\n}",imagery:{"imagery.frag":"precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\nuniform float u_Min;\nuniform float u_Max;\nuniform float u_featheringSize;\n#include <raster/flow/vv.glsl>\nfloat getIntensity(float v) {\nreturn u_Min + v * (u_Max - u_Min);\n}\nvoid main(void) {\nvec4 sampled = texture2D(u_texture, v_texcoord);\nfloat intensity = getIntensity(sampled.r);\ngl_FragColor = getColor(intensity);\ngl_FragColor.a *= getOpacity(sampled.r);\ngl_FragColor.a *= sampled.a;\ngl_FragColor.rgb *= gl_FragColor.a;\n}","imagery.vert":"attribute vec2 a_position;\nattribute vec2 a_texcoord;\nuniform mat3 u_dvsMat3;\nvarying vec2 v_texcoord;\nvoid main(void) {\nvec2 xy = (u_dvsMat3 * vec3(a_position, 1.0)).xy;\ngl_Position = vec4(xy, 0.0, 1.0);\nv_texcoord = a_texcoord;\n}"},particles:{"particles.frag":"precision highp float;\nvarying vec4 v_color;\nvarying vec2 v_texcoord;\nvarying float v_size;\nuniform float u_featheringSize;\n#include <raster/flow/getFragmentColor.glsl>\nvoid main(void) {\ngl_FragColor = getFragmentColor(v_color, length(v_texcoord - 0.5), v_size, u_featheringSize);\n}","particles.vert":"attribute vec4 a_xyts0;\nattribute vec4 a_xyts1;\nattribute vec4 a_typeIdDurationSeed;\nattribute vec4 a_extrudeInfo;\nuniform mat3 u_dvsMat3;\nuniform mat3 u_displayViewMat3;\nuniform float u_time;\nuniform float u_trailLength;\nuniform float u_flowSpeed;\nvarying vec4 v_color;\nvarying vec2 v_texcoord;\nvarying float v_size;\nuniform float u_featheringSize;\nuniform float u_introFade;\n#include <raster/flow/vv.glsl>\n#include <raster/flow/getFadeOpacity.glsl>\nvoid main(void) {\nvec2 position0 = a_xyts0.xy;\nfloat t0 = a_xyts0.z;\nfloat speed0 = a_xyts0.w;\nvec2 position1 = a_xyts1.xy;\nfloat t1 = a_xyts1.z;\nfloat speed1 = a_xyts1.w;\nfloat type = a_typeIdDurationSeed.x;\nfloat id = a_typeIdDurationSeed.y;\nfloat duration = a_typeIdDurationSeed.z;\nfloat seed = a_typeIdDurationSeed.w;\nvec2 e0 = a_extrudeInfo.xy;\nvec2 e1 = a_extrudeInfo.zw;\nfloat animationPeriod = duration + u_trailLength;\nfloat scaledTime = u_time * u_flowSpeed;\nfloat randomizedTime = scaledTime + seed * animationPeriod;\nfloat t = mod(randomizedTime, animationPeriod);\nfloat fUnclamped = (t - t0) / (t1 - t0);\nfloat f = clamp(fUnclamped, 0.0, 1.0);\nfloat clampedTime = mix(t0, t1, f);\nfloat speed = mix(speed0, speed1, f);\nvec2 extrude;\nvec2 position;\nfloat fadeOpacity;\nfloat introOpacity;\nif (type == 2.0) {\nif (fUnclamped < 0.0 || (fUnclamped > 1.0 && t1 != duration)) {\ngl_Position = vec4(0.0, 0.0, -2.0, 1.0);\nreturn;\n}\nvec2 ortho = mix(e0, e1, f);\nvec2 parallel;\nparallel = normalize(position1 - position0) * 0.5;\nif (id == 1.0) {\nextrude = ortho;\nv_texcoord = vec2(0.5, 0.0);\n} else if (id == 2.0) {\nextrude = -ortho;\nv_texcoord = vec2(0.5, 1.0);\n} else if (id == 3.0) {\nextrude = ortho + parallel;\nv_texcoord = vec2(1.0, 0.0);\n} else if (id == 4.0) {\nextrude = -ortho + parallel;\nv_texcoord = vec2(1.0, 1.0);\n}\nfadeOpacity = getFadeOpacity((t - clampedTime) / u_trailLength);\nintroOpacity = 1.0 - exp(-clampedTime);\nv_size = getSize(speed);\nv_color = getColor(speed);\nv_color.a *= getOpacity(speed);\nposition = mix(position0, position1, f);\n} else {\nif (fUnclamped < 0.0) {\ngl_Position = vec4(0.0, 0.0, -2.0, 1.0);\nreturn;\n}\nif (id == 1.0) {\nextrude = e0;\nv_texcoord = vec2(0.5, 0.0);\nfadeOpacity = getFadeOpacity((t - t0) / u_trailLength);\nintroOpacity = 1.0 - exp(-t0);\nv_size = getSize(speed0);\nv_color = getColor(speed0);\nv_color.a *= getOpacity(speed0);\nposition = position0;\n} else if (id == 2.0) {\nextrude = -e0;\nv_texcoord = vec2(0.5, 1.0);\nfadeOpacity = getFadeOpacity((t - t0) / u_trailLength);\nintroOpacity = 1.0 - exp(-t0);\nv_size = getSize(speed0);\nv_color = getColor(speed0);\nv_color.a *= getOpacity(speed0);\nposition = position0;\n} else if (id == 3.0) {\nextrude = mix(e0, e1, f);\nv_texcoord = vec2(0.5, 0.0);\nfadeOpacity = getFadeOpacity((t - clampedTime) / u_trailLength);\nintroOpacity = 1.0 - exp(-clampedTime);\nv_size = getSize(speed);\nv_color = getColor(speed);\nv_color.a *= getOpacity(speed);\nposition = mix(position0, position1, f);\n} else if (id == 4.0) {\nextrude = -mix(e0, e1, f);\nv_texcoord = vec2(0.5, 1.0);\nfadeOpacity = getFadeOpacity((t - clampedTime) / u_trailLength);\nintroOpacity = 1.0 - exp(-clampedTime);\nv_size = getSize(speed);\nv_color = getColor(speed);\nv_color.a *= getOpacity(speed);\nposition = mix(position0, position1, f);\n}\n}\nvec2 xy = (u_dvsMat3 * vec3(position, 1.0) + u_displayViewMat3 * vec3(extrude * v_size, 0.0)).xy;\ngl_Position = vec4(xy, 0.0, 1.0);\nv_color.a *= fadeOpacity;\nv_color.a *= mix(1.0, introOpacity, u_introFade);\nv_color.rgb *= v_color.a;\n}"},streamlines:{"streamlines.frag":"precision highp float;\nvarying float v_side;\nvarying float v_time;\nvarying float v_totalTime;\nvarying float v_timeSeed;\nvarying vec4 v_color;\nvarying float v_size;\nuniform float u_time;\nuniform float u_trailLength;\nuniform float u_flowSpeed;\nuniform float u_featheringSize;\nuniform float u_introFade;\n#include <raster/flow/getFragmentColor.glsl>\n#include <raster/flow/getFadeOpacity.glsl>\nvoid main(void) {\nfloat t = mod(v_timeSeed * (v_totalTime + u_trailLength) + u_time * u_flowSpeed, v_totalTime + u_trailLength) - v_time;\nvec4 color = v_color * step(0.0, t) * getFadeOpacity(t / u_trailLength);\ncolor *= mix(1.0, 1.0 - exp(-v_time), u_introFade);\ngl_FragColor = getFragmentColor(color, length((v_side + 1.0) / 2.0 - 0.5), v_size, u_featheringSize);\n}","streamlines.vert":"attribute vec3 a_positionAndSide;\nattribute vec3 a_timeInfo;\nattribute vec2 a_extrude;\nattribute float a_speed;\nuniform mat3 u_dvsMat3;\nuniform mat3 u_displayViewMat3;\nvarying float v_time;\nvarying float v_totalTime;\nvarying float v_timeSeed;\nvarying vec4 v_color;\nvarying float v_side;\nvarying float v_size;\nuniform float u_featheringSize;\n#include <raster/flow/vv.glsl>\nvoid main(void) {\nvec4 lineColor = getColor(a_speed);\nfloat lineOpacity = getOpacity(a_speed);\nfloat lineSize = getSize(a_speed);\nvec2 position = a_positionAndSide.xy;\nv_side = a_positionAndSide.z;\nvec2 xy = (u_dvsMat3 * vec3(position, 1.0) + u_displayViewMat3 * vec3(a_extrude * lineSize, 0.0)).xy;\ngl_Position = vec4(xy, 0.0, 1.0);\nv_time = a_timeInfo.x;\nv_totalTime = a_timeInfo.y;\nv_timeSeed = a_timeInfo.z;\nv_color = lineColor;\nv_color.a *= lineOpacity;\nv_color.rgb *= v_color.a;\nv_size = lineSize;\n}"},"vv.glsl":"#define MAX_STOPS 8\n#ifdef VV_COLOR\nuniform float u_color_stops[MAX_STOPS];\nuniform vec4 u_color_values[MAX_STOPS];\nuniform int u_color_count;\n#else\nuniform vec4 u_color;\n#endif\n#ifdef VV_OPACITY\nuniform float u_opacity_stops[MAX_STOPS];\nuniform float u_opacity_values[MAX_STOPS];\nuniform int u_opacity_count;\n#else\nuniform float u_opacity;\n#endif\n#ifdef VV_SIZE\nuniform float u_size_stops[MAX_STOPS];\nuniform float u_size_values[MAX_STOPS];\nuniform int u_size_count;\n#else\nuniform float u_size;\n#endif\nuniform float u_featheringOffset;\nvec4 getColor(float x) {\n#ifdef VV_COLOR\nvec4 color = u_color_values[0];\n{\nfor (int i = 1; i < MAX_STOPS; i++) {\nif (i >= u_color_count) {\nbreak;\n}\nfloat x1 = u_color_stops[i - 1];\nif (x < x1) {\nbreak;\n}\nfloat x2 = u_color_stops[i];\nvec4 y2 = u_color_values[i];\nif (x < x2) {\nvec4 y1 = u_color_values[i - 1];\ncolor = y1 + (y2 - y1) * (x - x1) / (x2 - x1);\n} else {\ncolor = y2;\n}\n}\n}\n#else\nvec4 color = u_color;\n#endif\nreturn color;\n}\nfloat getOpacity(float x) {\n#ifdef VV_OPACITY\nfloat opacity = u_opacity_values[0];\n{\nfor (int i = 1; i < MAX_STOPS; i++) {\nif (i >= u_opacity_count) {\nbreak;\n}\nfloat x1 = u_opacity_stops[i - 1];\nif (x < x1) {\nbreak;\n}\nfloat x2 = u_opacity_stops[i];\nfloat y2 = u_opacity_values[i];\nif (x < x2) {\nfloat y1 = u_opacity_values[i - 1];\nopacity = y1 + (y2 - y1) * (x - x1) / (x2 - x1);\n} else {\nopacity = y2;\n}\n}\n}\n#else\nfloat opacity = u_opacity;\n#endif\nreturn opacity;\n}\nfloat getSize(float x) {\n#ifdef VV_SIZE\nfloat size = u_size_values[0];\n{\nfor (int i = 1; i < MAX_STOPS; i++) {\nif (i >= u_size_count) {\nbreak;\n}\nfloat x1 = u_size_stops[i - 1];\nif (x < x1) {\nbreak;\n}\nfloat x2 = u_size_stops[i];\nfloat y2 = u_size_values[i];\nif (x < x2) {\nfloat y1 = u_size_values[i - 1];\nsize = y1 + (y2 - y1) * (x - x1) / (x2 - x1);\n} else {\nsize = y2;\n}\n}\n}\n#else\nfloat size = u_size;\n#endif\nreturn size + 2.0 * u_featheringSize * u_featheringOffset;\n}"},hillshade:{"hillshade.frag":"precision mediump float;\nvarying highp vec2 v_texcoord;\n#include <raster/common/common.glsl>\nuniform int u_hillshadeType;\nuniform float u_sinZcosAs[6];\nuniform float u_sinZsinAs[6];\nuniform float u_cosZs[6];\nuniform float u_weights[6];\nuniform vec2 u_factor;\nuniform float u_minValue;\nuniform float u_maxValue;\n#include <raster/lut/colorize.glsl>\n#include <raster/common/getSurfaceValues.glsl>\nvec3 rgb2hsv(vec3 c) {\nvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\nvec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\nvec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\nfloat d = q.x - min(q.w, q.y);\nfloat e = 1.0e-10;\nreturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);\n}\nvec3 hsv2rgb(vec3 c) {\nvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\nvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\nreturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nvec4 overlay(float val, float minValue, float maxValue, float hillshade) {\nval = clamp((val - minValue) / (maxValue - minValue), 0.0, 1.0);\nvec4 rgb = colorize(vec4(val, val, val, 1.0), 255.0);\nvec3 hsv = rgb2hsv(rgb.xyz);\nhsv.z = hillshade;\nreturn vec4(hsv2rgb(hsv), 1.0) * rgb.a;\n}\nvoid main() {\nvec2 pixelLocation = getPixelLocation(v_texcoord);\nif (isOutside(pixelLocation)) {\ngl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\nreturn;\n}\nvec4 currentPixel = getPixel(pixelLocation);\nif (currentPixel.a == 0.0) {\ngl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\nreturn;\n}\nfloat pv[10];\ngetSurfaceValues(u_image, pixelLocation, u_srcImageSize, pv);\nfloat alpha = pv[9];\nfloat dzx = (pv[2] + 2.0 * pv[5] + pv[8] - pv[0] - 2.0 * pv[3] - pv[6]) * u_factor.s;\nfloat dzy = (pv[6] + 2.0 * pv[7] + pv[8] - pv[0] - 2.0 * pv[1] - pv[2]) * u_factor.t;\nfloat dzd = sqrt(1.0 + dzx * dzx + dzy * dzy);\nfloat hillshade = 0.0;\nif (u_hillshadeType == 0){\nfloat cosDelta = u_sinZsinAs[0] * dzy - u_sinZcosAs[0] * dzx;\nfloat z = (u_cosZs[0] + cosDelta) / dzd;\nif (z < 0.0)  z = 0.0;\nhillshade = z;\n} else {\nfor (int k = 0; k < 6; k++) {\nfloat cosDelta = u_sinZsinAs[k] * dzy - u_sinZcosAs[k] * dzx;\nfloat z = (u_cosZs[k] + cosDelta) / dzd;\nif (z < 0.0) z = 0.0;\nhillshade = hillshade + z * u_weights[k];\nif (k == 5) break;\n}\n}\n#ifdef APPLY_COLORMAP\ngl_FragColor = overlay(pv[4], u_minValue, u_maxValue, hillshade) * alpha * u_opacity;\n#else\ngl_FragColor = vec4(hillshade, hillshade, hillshade, 1.0) * alpha * u_opacity;\n#endif\n}"},lut:{"colorize.glsl":"uniform sampler2D u_colormap;\nuniform float u_colormapOffset;\nuniform float u_colormapMaxIndex;\nvec4 colorize(vec4 currentPixel, float scaleFactor) {\nfloat clrIndex = clamp(currentPixel.r * scaleFactor - u_colormapOffset, 0.0, u_colormapMaxIndex);\nvec2 clrPosition = vec2((clrIndex + 0.5) / (u_colormapMaxIndex + 1.0), 0.0);\nvec4 color = texture2D(u_colormap, clrPosition);\nvec4 result = vec4(color.rgb, color.a * currentPixel.a);\nreturn result;\n}","lut.frag":"precision mediump float;\nvarying highp vec2 v_texcoord;\n#include <raster/common/common.glsl>\n#include <raster/lut/colorize.glsl>\nvoid main() {\nvec2 pixelLocation = getPixelLocation(v_texcoord);\nif (isOutside(pixelLocation)) {\ngl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\nreturn;\n}\nvec4 currentPixel = getPixel(pixelLocation);\nvec4 result = colorize(currentPixel, 1.0);\ngl_FragColor = vec4(result.xyz, 1.0) * result.a * u_opacity;\n}"},magdir:{"magdir.frag":"precision mediump float;\nvarying vec4 v_color;\nuniform lowp float u_opacity;\nvoid main() {\ngl_FragColor = v_color * u_opacity;\n}","magdir.vert":"precision mediump float;\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_vv;\nuniform highp mat3 u_dvsMat3;\nuniform highp vec2 u_coordScale;\nuniform vec2 u_symbolSize;\nuniform vec2 u_symbolPercentRange;\nuniform vec2 u_dataRange;\nuniform float u_rotation;\nuniform vec4 u_colors[12];\nvarying vec4 v_color;\nvoid main()\n{\nfloat angle = a_offset.y + u_rotation;\n#ifndef ROTATION_GEOGRAPHIC\nangle = 3.14159265359 * 2.0 - angle - 3.14159265359 / 2.0;\n#endif\nvec2 offset = vec2(cos(angle), sin(angle)) * a_offset.x;\n#ifdef DATA_RANGE\nfloat valuePercentage = clamp((a_vv.y - u_dataRange.x) / (u_dataRange.y - u_dataRange.x), 0.0, 1.0);\nfloat sizeRatio = u_symbolPercentRange.x + valuePercentage * (u_symbolPercentRange.y - u_symbolPercentRange.x);\nfloat sizePercentage = clamp(sizeRatio, u_symbolPercentRange.x, u_symbolPercentRange.y);\n#else\nfloat sizePercentage = (u_symbolPercentRange.x + u_symbolPercentRange.y) / 2.0;\n#endif\nvec2 pos = a_pos + offset * sizePercentage * u_symbolSize;\nv_color = u_colors[int(a_vv.x)];\ngl_Position = vec4(u_dvsMat3 * vec3(pos * u_coordScale, 1.0), 1.0);\n}"},reproject:{"reproject.frag":"precision mediump float;\nvarying vec2 v_texcoord;\n#include <raster/common/common.glsl>\nvoid main() {\nvec2 pixelLocation = getPixelLocation(v_texcoord);\nif (isOutside(pixelLocation)) {\ngl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\nreturn;\n}\nvec4 currentPixel = getPixel(pixelLocation);\ngl_FragColor = vec4(currentPixel.rgb, 1.0) * currentPixel.a * u_opacity;\n}","reproject.vert":"precision mediump float;\nattribute vec2 a_position;\nvarying highp vec2 v_texcoord;\nvoid main()\n{\nv_texcoord = a_position;\ngl_Position = vec4(2.0 * (a_position - 0.5), 0.0, 1.0);\n}"},rfx:{aspect:{"aspect.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\nuniform vec2 u_cellSize;\nuniform vec2 u_srcImageSize;\n#include <raster/common/getSurfaceValues.glsl>\nconst float pi = 3.14159265359;\nvoid main() {\nfloat pv[10];\ngetSurfaceValues(u_image, v_texcoord, u_srcImageSize, pv);\nfloat alpha = pv[9];\nfloat dzx = (pv[2] + 2.0 * pv[5] + pv[8] - pv[0] - 2.0 * pv[3] - pv[6]) / (8.0 * u_cellSize[0]);\nfloat dzy = -(pv[6] + 2.0 * pv[7] + pv[8] - pv[0] - 2.0 * pv[1] - pv[2]) / (8.0 * u_cellSize[1]);\nalpha *= sign(abs(dzx) + abs(dzy));\nfloat aspect_rad = (dzx == 0.0) ? (step(0.0, dzy) * 0.5 * pi + step(dzy, 0.0) * 1.5 * pi) : mod((2.5 * pi + atan(dzy, -dzx)), 2.0 * pi);\nfloat aspect = aspect_rad * 180.0 / pi;\ngl_FragColor = vec4(aspect, aspect, aspect, 1.0) * alpha;\n}"},bandarithmetic:{"bandarithmetic.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\nuniform mediump mat3 u_bandIndexMat3;\nuniform float u_adjustments[3];\n#include <raster/common/inverse.glsl>\nvoid main() {\nvec4 pv = texture2D(u_image, v_texcoord);\nvec3 pv2 = u_bandIndexMat3 * pv.rgb;\nfloat nir = pv2.r;\nfloat red = pv2.g;\nfloat index;\n#ifdef NDXI\nindex = (nir - red) * invertValue(nir + red);\n#elif defined(SR)\nindex = nir * invertValue(red);\n#elif defined(CI)\nindex = nir * invertValue(red) - 1.0;\n#elif defined(SAVI)\nindex = (nir - red) * invertValue(nir + red + u_adjustments[0]) * (1.0 + u_adjustments[0]);\n#elif defined(TSAVI)\nfloat s = u_adjustments[0];\nfloat a = u_adjustments[1];\nfloat x = u_adjustments[2];\nfloat y = -a * s + x * (1.0 + s * s);\nindex = (s * (nir - s * red - a)) * invertValue(a * nir + red + y);\n#elif defined(MAVI)\nindex = 0.5 * (2.0 * (nir + 1.0) - sqrt(pow((2.0 * nir + 1.0), 2.0) - 8.0 * (nir - red)));\n#elif defined(GEMI)\nfloat eta = (2.0 * (nir * nir - red * red) + 1.5 * nir + 0.5 * red) * invertValue(nir + red + 0.5);\nindex = eta * (1.0 - 0.25 * eta) - (red - 0.125) * invertValue(1.0 - red);\n#elif defined(PVI)\nfloat a = u_adjustments[0];\nfloat b = u_adjustments[1];\nfloat y = sqrt(1.0 + a * a);\nindex = (nir - a * red - b) * invertValue(y);\n#elif defined(VARI)\nindex = (pv2.g - pv2.r) * invertValue(pv2.g + pv2.r - pv2.b);\n#elif defined(MTVI2)\nfloat green = pv2.b;\nfloat v = pow(sqrt((2.0 * nir + 1.0), 2.0) - 6.0 * nir - 5.0 * sqrt(red) - 0.5);\nindex = 1.5 * (1.2 * (nir - green) - 2.5 * (red - green)) * v;\n#elif defined(RTVICORE)\nfloat green = pv2.b;\nindex = 100.0 * (nir - red) - 10.0 * (nir - green);\n#elif defined(EVI)\nfloat blue = pv2.b;\nfloat denom = nir + 6.0 * red - 7.5 * blue + 1.0;\nindex =  (2.5 * (nir - red)) * invertValue(denom);\n#elif defined(WNDWI)\nfloat g = pv2.r;\nfloat n = pv2.g;\nfloat s = pv2.s;\nfloat a = u_adjustments[0];\nfloat denom = g + a * n + (1.0 - a) * s;\nindex = (g - a * n - (1 - a) * s) * invertValue(denom);\n#elif defined(BAI)\nindex = invertValue(pow((0.1 - red), 2.0) + pow((0.06 - nir), 2.0));\n#else\ngl_FragColor = pv;\nreturn;\n#endif\ngl_FragColor = vec4(index, index, index, pv.a);\n}"},compositeband:{"compositeband.frag":"precision mediump float;\nuniform sampler2D u_image;\nuniform sampler2D u_image1;\nuniform sampler2D u_image2;\nvarying vec2 v_texcoord;\nvoid main() {\nvec4 p0 = texture2D(u_image, v_texcoord);\nvec4 p1 = texture2D(u_image1, v_texcoord);\nvec4 p2 = texture2D(u_image2, v_texcoord);\ngl_FragColor = vec4(p0.r, p1.r, p2.r, p0.a * p1.a * p2.a);\n}"},contrast:{"contrast.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\n#include <raster/common/contrastBrightness.glsl>\nvoid main() {\nvec4 pv = texture2D(u_image, v_texcoord);\nvec4 result = adjustContrastBrightness(pv, false) ;\ngl_FragColor = vec4(result.rgb * 255.0, result.a);\n}"},convolution:{"convolution.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\nuniform vec2 u_srcImageSize;\n#define KERNEL_SIZE_ROWS ROWS\n#define KERNEL_SIZE_COLS COLS\nuniform vec2 u_clampRange;\nuniform float u_kernel[25];\n#include <raster/common/mirror.glsl>\nvoid main() {\nvec3 rgb = vec3(0.0, 0.0, 0.0);\nvec2 resolution = 1.0 / u_srcImageSize;\nfloat rowOffset = -float(floor(float(KERNEL_SIZE_ROWS) / 2.0));\nfloat colOffset = -float(floor(float(KERNEL_SIZE_COLS) / 2.0));\nfloat alpha = 1.0;\nfor (int row = 0; row < KERNEL_SIZE_ROWS; row++) {\nfloat pos_row = rowOffset + float(row);\nfor (int col = 0; col < KERNEL_SIZE_COLS; col++) {\nvec2 pos = v_texcoord + vec2(colOffset + float(col), pos_row) * resolution;\nvec4 pv = texture2D(u_image, mirror(pos));\nrgb += pv.rgb * u_kernel[row * KERNEL_SIZE_COLS + col];\nalpha *= pv.a;\n}\n}\nrgb = clamp(rgb, u_clampRange.s, u_clampRange.t);\ngl_FragColor = vec4(rgb * alpha, alpha);\n}"},curvature:{"curvature.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\nuniform float u_zlFactor;\nuniform vec2 u_srcImageSize;\n#include <raster/common/getSurfaceValues.glsl>\nvoid main() {\nfloat pv[10];\ngetSurfaceValues(u_image, v_texcoord, u_srcImageSize, pv);\nfloat alpha = pv[9];\nfloat d = ((pv[3] + pv[5]) * 0.5 - pv[4]);\nfloat e = ((pv[1] + pv[7]) * 0.5 - pv[4]);\nfloat curvature = 0.0;\n#ifdef STANDARD\ncurvature = -u_zlFactor * (d + e);\ngl_FragColor = vec4(curvature, curvature, curvature, alpha);\n#else\nfloat f = (-pv[0] + pv[2] + pv[6] - pv[8]) / 4.0;\nfloat g = (-pv[3] + pv[5]) / 2.0;\nfloat h = (pv[1] - pv[7]) / 2.0;\nfloat g2 = g * g;\nfloat h2 = h * h;\n#ifdef PROFILE\ncurvature = (u_zlFactor * (d * g2 + e * h2 + f * g * h)) / (g2 + h2);\n#else\ncurvature = (-u_zlFactor * (d * h2 + e * g2 - f * g * h)) / (g2 + h2);\n#endif\n#endif\ngl_FragColor = vec4(curvature, curvature, curvature, alpha);\n}"},extractband:{"extractband.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\nuniform mediump mat3 u_bandIndexMat3;\nvoid main() {\nvec4 pv = texture2D(u_image, v_texcoord);\nvec3 pv2 = u_bandIndexMat3 * pv.rgb;\ngl_FragColor = vec4(pv2, pv.a);\n}"},focalstatistics:{"focalstatistics.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\nuniform vec2 u_srcImageSize;\n#define KERNEL_SIZE_ROWS ROWS\n#define KERNEL_SIZE_COLS COLS\nuniform vec2 u_clampRange;\n#include <raster/common/mirror.glsl>\n#include <raster/common/inverse.glsl>\nvoid main() {\nvec2 resolution = 1.0 / u_srcImageSize;\nfloat rowOffset = -float(floor(float(KERNEL_SIZE_ROWS) / 2.0));\nfloat colOffset = -float(floor(float(KERNEL_SIZE_COLS) / 2.0));\nfloat count = 0.0;\n#ifdef STDDEV\nvec3 sum = vec3(0.0, 0.0, 0.0);\nvec3 sum2 = vec3(0.0, 0.0, 0.0);\n#endif\nvec4 currentPixel = texture2D(u_image, v_texcoord);\nvec3 rgb = currentPixel.rgb;\nfor (int row = 0; row < KERNEL_SIZE_ROWS; row++) {\nfloat pos_row = rowOffset + float(row);\nfor (int col = 0; col < KERNEL_SIZE_COLS; col++) {\nvec2 pos = v_texcoord + vec2(colOffset + float(col), pos_row) * resolution;\nvec4 pv = texture2D(u_image, mirror(pos));\ncount += pv.a;\n#ifdef MIN\nrgb = min(rgb, pv.rgb);\n#elif defined(MAX)\nrgb = max(rgb, pv.rgb);\n#elif defined(MEAN)\nrgb += pv.rgb;\n#elif defined(STDDEV)\nsum += pv.rgb;\nsum2 += (pv.rgb * pv.rgb);\n#endif\n}\n}\n#ifdef MEAN\nrgb *= invertValue(count);\n#elif defined(STDDEV)\nrgb = sqrt((sum2 - sum * sum * invertValue(count)) * invertValue(count));\n#endif\nfloat alpha = step(0.9999, count);\nrgb = clamp(rgb, u_clampRange.s, u_clampRange.t);\n#ifdef FILL\nrgb = (1.0 - currentPixel.a) * rgb + currentPixel.a * currentPixel.rgb;\n#endif\ngl_FragColor = vec4(rgb * alpha, alpha);\n}"},local:{"local.frag":"precision mediump float;\nuniform sampler2D u_image;\nuniform sampler2D u_image1;\n#ifdef ONE_CONSTANT\nuniform float u_image1Const;\n#ifdef TWO_CONSTANT\nuniform float u_image2Const;\n#endif\nuniform mat3 u_imageSwap;\n#endif\nvarying vec2 v_texcoord;\nuniform vec2 u_domainRange;\n#include <raster/common/inverse.glsl>\nvoid main() {\nvec4 pv0 = texture2D(u_image, v_texcoord);\nfloat a = pv0.r;\n#ifdef TWO_IMAGES\n#ifdef ONE_CONSTANT\nfloat b = u_image1Const;\nvec3 abc = u_imageSwap * vec3(a, b, 0);\na = abc.s;\nb = abc.t;\n#else\nvec4 pv1 = texture2D(u_image1, v_texcoord);\nfloat b = pv1.r;\n#endif\n#elif defined(CONDITIONAL)\n#ifdef TWO_CONSTANT\nfloat b = u_image1Const;\nfloat c = u_image2Const;\nvec3 abc = u_imageSwap * vec3(a, b, c);\na = abc.s;\nb = abc.t;\nc = abc.p;\n#elif defined(ONE_CONSTANT)\nvec4 pv1 = texture2D(u_image1, v_texcoord);\nfloat b = pv1.r;\nfloat c = u_image1Const;\nvec3 abc = u_imageSwap * vec3(a, b, c);\na = abc.s;\nb = abc.t;\nc = abc.p;\n#else\nvec4 pv1 = texture2D(u_image1, v_texcoord);\nvec4 pv2 = texture2D(u_image2, v_texcoord);\nfloat b = pv1.r;\nfloat c = pv2.r;\n#endif\n#endif\nfloat result = a;\nfloat alpha = pv0.a;\n#ifdef PLUS\nresult = a + b;\n#elif defined(MINUS)\nresult = a - b;\n#elif defined(TIMES)\nresult = a * b;\n#elif defined(DIVIDE)\nresult = a * invertValue(b);\nalpha *= float(abs(sign(b)));\n#elif defined(FLOATDIVIDE)\nresult = a * invertValue(b);\nalpha *= float(abs(sign(b)));\n#elif defined(FLOORDIVIDE)\nresult = floor(a * invertValue(b));\nalpha *= float(abs(sign(b)));\n#elif defined(SQUARE)\nresult = a * a;\n#elif defined(SQRT)\nresult = sqrt(a);\n#elif defined(POWER)\nresult = pow(a, b);\n#elif defined(LN)\nresult = a <= 0.0 ? 0.0: log(a);\nalpha *= float(a > 0.0);\n#elif defined(LOG_1_0)\nresult = a <= 0.0 ? 0.0: log2(a) * invertValue(log2(10.0));\nalpha *= float(a > 0.0);\n#elif defined(LOG_2)\nresult = a <= 0.0 ? 0.0: log2(a);\nalpha *= float(a > 0.0);\n#elif defined(EXP)\nresult = exp(a);\n#elif defined(EXP_1_0)\nresult = pow(10.0, a);\n#elif defined(EXP_2)\nresult = pow(2.0, a);\n#elif defined(ROUNDDOWN)\nresult = floor(a);\n#elif defined(ROUNDUP)\nresult = ceil(a);\n#elif defined(INT)\nresult = float(sign(a)) * floor(abs(a));\n#elif defined(MOD)\nresult = mod(a, b);\n#elif defined(NEGATE)\nresult = -a;\n#elif defined(ABS)\nresult = abs(a);\n#elif defined(ACOS)\nresult = abs(a) > 1.0 ? 0.0: acos(a);\nalpha *= step(abs(a), 1.00001);\n#elif defined(ACOSH)\nresult = acosh(a);\n#elif defined(POLYFILLACOSH)\nresult = log(a + sqrt(a * a - 1.0));\n#elif defined(ASIN)\nresult = abs(a) > 1.0 ? 0.0: asin(a);\nalpha *= step(abs(a), 1.00001);\n#elif defined(ASINH)\nresult = asinh(a);\n#elif defined(POLYFILLASINH)\nresult = log(a + sqrt(a * a + 1.0));\n#elif defined(ATAN)\nresult = atan(a);\n#elif defined(ATANH)\nresult = abs(a) > 1.0 ? 0.0: atanh(a);\nalpha *= step(abs(a), 1.0);\n#elif defined(POLYFILLATANH)\nresult = a == 1.0 ? 0.0 : 0.5 * log((1.0 + a)/(1.0 -a));\n#elif defined(ATAN_2)\nresult = atan(a, b);\n#elif defined(COS)\nresult = cos(a);\n#elif defined(COSH)\nresult = cosh(a);\n#elif defined(POLYFILLCOSH)\nfloat halfexp = exp(a) / 2.0;\nresult = halfexp + 1.0 / halfexp;\n#elif defined(SIN)\nresult = sin(a);\n#elif defined(SINH)\nresult = sinh(a);\n#elif defined(POLYFILLSINH)\nfloat halfexp = exp(a) / 2.0;\nresult = halfexp - 1.0 / halfexp;\n#elif defined(TAN)\nresult = tan(a);\n#elif defined(TANH)\nresult = tanh(a);\n#elif defined(POLYFILLTANH)\nfloat expx = exp(a);\nresult = (expx - 1.0 / expx) / (expx + 1.0 / expx);\n#elif defined(BITWISEAND)\nresult = a & b;\n#elif defined(BITWISEOR)\nresult = a | b;\n#elif defined(BITWISELEFTSHIFT)\nresult = a << b;\n#elif defined(BITWISERIGHTSHIFT)\nresult = a >> b;\n#elif defined(BITWISENOT)\nresult = ~a;\n#elif defined(BITWISEXOR)\nresult = a ^ b;\n#elif defined(BOOLEANAND)\nresult = float((a != 0.0) && (b != 0.0));\n#elif defined(BOOLEANNOT)\nresult = float(a == 0.0);\n#elif defined(BOOLEANOR)\nresult = float((a != 0.0) || (b != 0.0));\n#elif defined(BOOLEANXOR)\nresult = float((a != 0.0) ^^ (b != 0.0));\n#elif defined(GREATERTHAN)\nresult = float(a > b);\n#elif defined(GREATERTHANEQUAL)\nresult = float(a >= b);\n#elif defined(LESSTHAN)\nresult = float(a < b);\n#elif defined(LESSTHANEQUAL)\nresult = float(a <= b);\n#elif defined(EQUALTO)\nresult = float(a == b);\n#elif defined(NOTEQUAL)\nresult = float(a != b);\n#elif defined(ISNULL)\nresult = float(alpha == 0.0);\nalpha = 1.0;\n#elif defined(SETNULL)\nfloat maskValue = float(a == 0.0);\nresult = maskValue * b;\nalpha *= maskValue;\n#elif defined(CONDITIONAL)\nfloat weight = float(abs(sign(a)));\nresult = weight * b + (1.0 - weight) * c;\n#endif\nbool isInvalid = result < u_domainRange.s || result > u_domainRange.t;\nresult = isInvalid ? 0.0 : result;\nalpha *= float(!isInvalid);\n#ifdef ROUND_OUTPUT\nresult = floor(result + 0.5);\n#endif\ngl_FragColor = vec4(result, result, result, alpha);\n}"},mask:{"mask.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\n#define LEN_INCLUDED_RANGES 6\n#define LEN_NODATA_VALUES 6\nuniform highp float u_includedRanges[6];\nuniform highp float u_noDataValues[6];\nfloat maskFactor(float bandValue, float fromValue, float to) {\nfloat factor = 1.0;\nfor (int i = 0; i < LEN_NODATA_VALUES; i++) {\nfactor *= float(u_noDataValues[i] != bandValue);\n}\nfactor *= step(fromValue, bandValue) * step(bandValue, to);\nreturn factor;\n}\nvoid main() {\nvec4 pv = texture2D(u_image, v_texcoord);\nfloat redFactor = maskFactor(pv.r, u_includedRanges[0], u_includedRanges[1]);\n#ifdef MULTI_BAND\nfloat greenFactor = maskFactor(pv.g, u_includedRanges[2], u_includedRanges[3]);\nfloat blueFactor = maskFactor(pv.b, u_includedRanges[4], u_includedRanges[5]);\nfloat maskFactor = redFactor * greenFactor * blueFactor;\ngl_FragColor = pv * maskFactor;\n#else\ngl_FragColor = pv * redFactor;\n#endif\n}"},ndvi:{"ndvi.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\nuniform mediump mat3 u_bandIndexMat3;\n#include <raster/common/inverse.glsl>\nvoid main() {\nvec4 pv = texture2D(u_image, v_texcoord);\nvec3 pv2 = u_bandIndexMat3 * pv.rgb;\nfloat nir = pv2.r;\nfloat red = pv2.g;\nfloat index = (nir - red) * invertValue(nir + red);\n#ifdef SCALED\nindex = floor((index + 1.0) * 100.0 + 0.5);\n#endif\ngl_FragColor = vec4(index, index, index, pv.a);\n}"},remap:{"remap.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\n#define LEN_REMAP_RANGES 18\n#define LEN_NODATA_RANGES 12\nuniform highp float u_rangeMaps[18];\nuniform highp float u_noDataRanges[12];\nuniform highp float u_unmatchMask;\nuniform vec2 u_clampRange;\nvoid main() {\nvec4 pv = texture2D(u_image, v_texcoord);\nfloat factor = 1.0;\nfloat bandValue = pv.r;\nfor (int i = 0; i < LEN_NODATA_RANGES; i+=2) {\nfloat inside = 1.0 - step(u_noDataRanges[i], bandValue) * step(bandValue, u_noDataRanges[i+1]);\nfactor *= inside;\n}\nfloat mapValue = 0.0;\nfloat includeMask = 0.0;\nfor (int i = 0; i < LEN_REMAP_RANGES; i+=3) {\nfloat stepMask = step(u_rangeMaps[i], bandValue) * step(bandValue, u_rangeMaps[i+1]);\nincludeMask = (1.0 - stepMask) * includeMask + stepMask;\nmapValue = (1.0 - stepMask) * mapValue + stepMask * u_rangeMaps[i+2];\n}\nbandValue = factor * (mapValue + (1.0 - includeMask) * u_unmatchMask * pv.r);\nfloat bandMask = factor * max(u_unmatchMask, includeMask);\nbandValue = clamp(bandValue, u_clampRange.s, u_clampRange.t);\ngl_FragColor = vec4(bandValue, bandValue, bandValue, bandMask * pv.a);\n}"},slope:{"slope.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying vec2 v_texcoord;\nuniform vec2 u_cellSize;\nuniform float u_zFactor;\nuniform vec2 u_srcImageSize;\nuniform float u_pixelSizePower;\nuniform float u_pixelSizeFactor;\n#include <raster/common/getSurfaceValues.glsl>\nvoid main() {\nfloat pv[10];\ngetSurfaceValues(u_image, v_texcoord, u_srcImageSize, pv);\nfloat alpha = pv[9];\nfloat xf = (u_zFactor + pow(u_cellSize[0], u_pixelSizePower) * u_pixelSizeFactor) / (8.0 * u_cellSize[0]);\nfloat yf = (u_zFactor + pow(u_cellSize[1], u_pixelSizePower) * u_pixelSizeFactor) / (8.0 * u_cellSize[1]);\nfloat dzx = (pv[2] + 2.0 * pv[5] + pv[8] - pv[0] - 2.0 * pv[3] - pv[6]) * xf;\nfloat dzy = -(pv[6] + 2.0 * pv[7] + pv[8] - pv[0] - 2.0 * pv[1] - pv[2]) * yf;\nfloat rise2run = sqrt(dzx * dzx + dzy * dzy);\n#ifdef PERCENT_RISE\nfloat percentRise = rise2run * 100.0;\ngl_FragColor = vec4(percentRise, percentRise, percentRise, alpha);\n#else\nfloat degree = atan(rise2run) * 57.2957795;\ngl_FragColor = vec4(degree, degree, degree, alpha);\n#endif\n}"},stretch:{"stretch.frag":"precision mediump float;\nuniform sampler2D u_image;\nvarying highp vec2 v_texcoord;\nuniform float u_minCutOff[3];\nuniform float u_maxCutOff[3];\nuniform float u_minOutput;\nuniform float u_maxOutput;\nuniform float u_factor[3];\nuniform float u_gamma[3];\nuniform float u_gammaCorrection[3];\nfloat stretchOneValue(float val, float minCutOff, float maxCutOff, float minOutput, float maxOutput, float factor, float gamma, float gammaCorrection) {\nval = clamp(val, minCutOff, maxCutOff);\nfloat stretchedVal;\n#ifdef USE_GAMMA\nfloat tempf = 1.0;\nfloat outRange = maxOutput - minOutput;\nfloat relativeVal = (val - minCutOff) / (maxCutOff - minCutOff);\ntempf -= step(1.0, gamma) * sign(gamma - 1.0) * pow(1.0 / outRange, relativeVal * gammaCorrection);\nstretchedVal = tempf * outRange * pow(relativeVal, 1.0 / gamma) + minOutput;\nstretchedVal = clamp(stretchedVal, minOutput, maxOutput);\n#else\nstretchedVal = minOutput + (val - minCutOff) * factor;\n#endif\n#ifdef ROUND_OUTPUT\nstretchedVal = floor(stretchedVal + 0.5);\n#endif\nreturn stretchedVal;\n}\nvoid main() {\nvec4 currentPixel = texture2D(u_image, v_texcoord);\nfloat redVal = stretchOneValue(currentPixel.r, u_minCutOff[0], u_maxCutOff[0], u_minOutput, u_maxOutput, u_factor[0], u_gamma[0], u_gammaCorrection[0]);\n#ifdef MULTI_BAND\nfloat greenVal = stretchOneValue(currentPixel.g, u_minCutOff[1], u_maxCutOff[1], u_minOutput, u_maxOutput, u_factor[1], u_gamma[1], u_gammaCorrection[1]);\nfloat blueVal = stretchOneValue(currentPixel.b, u_minCutOff[2], u_maxCutOff[2], u_minOutput, u_maxOutput, u_factor[2], u_gamma[2], u_gammaCorrection[2]);\ngl_FragColor = vec4(redVal, greenVal, blueVal, currentPixel.a);\n#else\ngl_FragColor = vec4(redVal, redVal, redVal, currentPixel.a);\n#endif\n}"},vs:{"vs.vert":"precision mediump float;\nattribute vec2 a_pos;\nuniform highp mat3 u_dvsMat3;\nuniform highp vec2 u_coordScale;\nvarying highp vec2 v_texcoord;\nvoid main()\n{\nv_texcoord = a_pos;\ngl_Position = vec4(u_dvsMat3 * vec3(a_pos * u_coordScale, 1.0), 1.0);\n}"}},scalar:{"scalar.frag":"precision mediump float;\nuniform lowp float u_opacity;\nvarying vec2 v_pos;\nconst vec4 outlineColor = vec4(0.2, 0.2, 0.2, 1.0);\nconst float outlineSize = 0.02;\nconst float innerRadius = 0.25;\nconst float outerRadius = 0.42;\nconst float innerSquareLength = 0.15;\nvoid main() {\nmediump float dist = length(v_pos);\nmediump float fillalpha1 = smoothstep(outerRadius, outerRadius + outlineSize, dist);\nfillalpha1 *= (1.0-smoothstep(outerRadius + outlineSize, outerRadius + 0.1 + outlineSize, dist));\n#ifdef INNER_CIRCLE\nmediump float fillalpha2 = smoothstep(innerRadius, innerRadius + outlineSize, dist);\nfillalpha2 *= (1.0-smoothstep(innerRadius + outlineSize, innerRadius + 0.1 + outlineSize, dist));\n#else\nmediump float fillalpha2 = (abs(v_pos.x) < innerSquareLength ? 1.0 : 0.0) * (abs(v_pos.y) < innerSquareLength ? 1.0 : 0.0);\n#endif\ngl_FragColor = (fillalpha2 + fillalpha1) * outlineColor * u_opacity;\n}","scalar.vert":"precision mediump float;\nattribute vec2 a_pos;\nattribute vec2 a_offset;\nattribute vec2 a_vv;\nuniform highp mat3 u_dvsMat3;\nuniform highp vec2 u_coordScale;\nuniform vec2 u_symbolSize;\nuniform vec2 u_symbolPercentRange;\nuniform vec2 u_dataRange;\nvarying vec2 v_pos;\nvoid main()\n{\n#ifdef DATA_RANGE\nfloat valuePercentage = clamp((a_vv.y - u_dataRange.x) / (u_dataRange.y - u_dataRange.x), 0.0, 1.0);\nfloat sizeRatio = u_symbolPercentRange.x + valuePercentage * (u_symbolPercentRange.y - u_symbolPercentRange.x);\nfloat sizePercentage = clamp(sizeRatio, u_symbolPercentRange.x, u_symbolPercentRange.y);\n#else\nfloat sizePercentage = (u_symbolPercentRange.x + u_symbolPercentRange.y) / 2.0;\n#endif\nvec2 size = u_symbolSize * sizePercentage;\nvec2 pos = a_pos + a_offset * size;\nv_pos = a_offset;\ngl_Position = vec4(u_dvsMat3 * vec3(pos * u_coordScale, 1.0), 1.0);\n}"},stretch:{"stretch.frag":"precision mediump float;\nvarying highp vec2 v_texcoord;\n#include <raster/common/common.glsl>\nuniform float u_minCutOff[3];\nuniform float u_maxCutOff[3];\nuniform float u_minOutput;\nuniform float u_maxOutput;\nuniform float u_factor[3];\nuniform bool u_useGamma;\nuniform float u_gamma[3];\nuniform float u_gammaCorrection[3];\n#include <raster/lut/colorize.glsl>\nfloat stretchOneValue(float val, float minCutOff, float maxCutOff, float minOutput, float maxOutput, float factor, bool useGamma, float gamma, float gammaCorrection) {\nif (val >= maxCutOff) {\nreturn maxOutput;\n} else if (val <= minCutOff) {\nreturn minOutput;\n}\nfloat stretchedVal;\nif (useGamma) {\nfloat tempf = 1.0;\nfloat outRange = maxOutput - minOutput;\nfloat relativeVal = (val - minCutOff) / (maxCutOff - minCutOff);\nif (gamma > 1.0) {\ntempf -= pow(1.0 / outRange, relativeVal * gammaCorrection);\n}\nstretchedVal = (tempf * outRange * pow(relativeVal, 1.0 / gamma) + minOutput) / 255.0;\n} else {\nstretchedVal = minOutput + (val - minCutOff) * factor;\n}\nreturn stretchedVal;\n}\nvoid main() {\nvec2 pixelLocation = getPixelLocation(v_texcoord);\nif (isOutside(pixelLocation)) {\ngl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\nreturn;\n}\nvec4 currentPixel = getPixel(pixelLocation);\n#ifdef NOOP\ngl_FragColor = vec4(currentPixel.rgb, 1.0) * currentPixel.a * u_opacity;\nreturn;\n#endif\nif (u_bandCount == 1) {\nfloat grayVal = stretchOneValue(currentPixel.r, u_minCutOff[0], u_maxCutOff[0], u_minOutput, u_maxOutput, u_factor[0], u_useGamma, u_gamma[0], u_gammaCorrection[0]);\n#ifdef APPLY_COLORMAP\nvec4 result = colorize(vec4(grayVal, grayVal, grayVal, 1.0), u_useGamma ? 255.0 : 1.0);\ngl_FragColor = vec4(result.xyz, 1.0) * result.a * currentPixel.a * u_opacity;\n#else\ngl_FragColor = vec4(grayVal, grayVal, grayVal, 1.0) * currentPixel.a * u_opacity;\n#endif\n} else {\nfloat redVal = stretchOneValue(currentPixel.r, u_minCutOff[0], u_maxCutOff[0], u_minOutput, u_maxOutput, u_factor[0], u_useGamma, u_gamma[0], u_gammaCorrection[0]);\nfloat greenVal = stretchOneValue(currentPixel.g, u_minCutOff[1], u_maxCutOff[1], u_minOutput, u_maxOutput, u_factor[1], u_useGamma, u_gamma[1], u_gammaCorrection[1]);\nfloat blueVal = stretchOneValue(currentPixel.b, u_minCutOff[2], u_maxCutOff[2], u_minOutput, u_maxOutput, u_factor[2], u_useGamma, u_gamma[2], u_gammaCorrection[2]);\ngl_FragColor = vec4(redVal, greenVal, blueVal, 1.0) * currentPixel.a * u_opacity;\n}\n}"}},stencil:{"stencil.frag":"void main() {\ngl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n}","stencil.vert":"attribute vec2 a_pos;\nuniform mat3 u_worldExtent;\nvoid main() {\ngl_Position = vec4(u_worldExtent * vec3(a_pos, 1.0), 1.0);\n}"},tileInfo:{"tileInfo.frag":"uniform mediump sampler2D u_texture;\nvarying mediump vec2 v_tex;\nvoid main(void) {\nlowp vec4 color = texture2D(u_texture, v_tex);\ngl_FragColor = 0.75 * color;\n}","tileInfo.vert":"attribute vec2 a_pos;\nuniform highp mat3 u_dvsMat3;\nuniform mediump float u_depth;\nuniform mediump vec2 u_coord_ratio;\nuniform mediump vec2 u_delta;\nuniform mediump vec2 u_dimensions;\nvarying mediump vec2 v_tex;\nvoid main() {\nmediump vec2 offset = u_coord_ratio * vec2(u_delta + a_pos * u_dimensions);\nvec3 v_pos = u_dvsMat3 * vec3(offset, 1.0);\ngl_Position = vec4(v_pos.xy, 0.0, 1.0);\nv_tex = a_pos;\n}"},util:{"atan2.glsl":"float atan2(in float y, in float x) {\nfloat t0, t1, t2, t3, t4;\nt3 = abs(x);\nt1 = abs(y);\nt0 = max(t3, t1);\nt1 = min(t3, t1);\nt3 = 1.0 / t0;\nt3 = t1 * t3;\nt4 = t3 * t3;\nt0 =         - 0.013480470;\nt0 = t0 * t4 + 0.057477314;\nt0 = t0 * t4 - 0.121239071;\nt0 = t0 * t4 + 0.195635925;\nt0 = t0 * t4 - 0.332994597;\nt0 = t0 * t4 + 0.999995630;\nt3 = t0 * t3;\nt3 = (abs(y) > abs(x)) ? 1.570796327 - t3 : t3;\nt3 = x < 0.0 ?  3.141592654 - t3 : t3;\nt3 = y < 0.0 ? -t3 : t3;\nreturn t3;\n}","encoding.glsl":"const vec4 rgba2float_factors = vec4(\n255.0 / (256.0),\n255.0 / (256.0 * 256.0),\n255.0 / (256.0 * 256.0 * 256.0),\n255.0 / (256.0 * 256.0 * 256.0 * 256.0)\n);\nfloat rgba2float(vec4 rgba) {\nreturn dot(rgba, rgba2float_factors);\n}"}};const r=new(i(29638).Z)((function(t){let e=n;return t.split("/").forEach((t=>{e&&(e=e[t])})),e}));function s(t){return r.resolveIncludes(t)}},97066:(t,e,i)=>{i.d(e,{j:()=>n});class n{static getStorageSpec(t){return null}static createOrUpdateRendererSchema(t,e){return null!=t&&"default"===t.type?t:{type:"default"}}static getVariation(t){return{}}static getVariationHash(t){return 0}}n.type="default",n.programSpec=null},37555:(t,e,i)=>{i.d(e,{w:()=>a});var n=i(83253),r=i(43556),s=i(97066),o=i(41746);class a extends s.j{static getStorageSpec({attributes:t}){return{visualVariables:!1,attributes:t??null}}static _createRendererSchema(){return{type:"dot-density",colors:new Float32Array(32),dotValue:-1,dotSize:-1,dotScale:-1,dotBlending:!1,backgroundColor:new Float32Array(4),activeDots:new Float32Array(8),seed:-1}}static createOrUpdateRendererSchema(t,e){const{attributes:i,dotValue:s,referenceScale:o,dotSize:a,dotBlendingEnabled:h,seed:l,backgroundColor:u}=e,c=null!=t&&"dot-density"===t.type?t:this._createRendererSchema();c.dotValue=s,c.dotSize=a,c.dotScale=o,c.dotBlending=h,c.seed=l;const{colors:f,activeDots:p,backgroundColor:d}=c;for(let v=0;v<r.ju;v++){const t=v>=i.length?null:i[v].color;(0,n.tb)(f,t,4*v)}for(let n=0;n<8;n++)p[n]=n<e.attributes.length?1:0;return(0,n.tb)(d,u),c}static getVariation(t){return{ddDotBlending:t.dotBlending}}static getVariationHash(t){return t.dotBlending?1:0}}a.type="dot-density",a.programSpec={shader:"materials/fill",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:o.pe.SHORT},{location:1,name:"a_id",count:3,type:o.pe.UNSIGNED_BYTE},{location:2,name:"a_bitset",count:1,type:o.pe.UNSIGNED_BYTE},{location:3,name:"a_inverseArea",count:1,type:o.pe.FLOAT}]}}},33605:(t,e,i)=>{i.d(e,{x:()=>a});var n=i(89882),r=i(27927),s=i(97066),o=i(41746);class a extends s.j{static getStorageSpec({field:t,valueExpression:e}){return{visualVariables:!1,attributes:t||e?[{field:t,valueExpression:e}]:null}}static _createRendererSchema(){return{type:"heatmap",radius:-1,referenceScale:-1,isFieldActive:0,minDensity:-1,densityRange:-1,kernel:null,gradient:null,gradientHash:"invalid"}}static createOrUpdateRendererSchema(t,e){const{radius:i,minDensity:s,maxDensity:o,referenceScale:a,field:h,valueExpression:l,colorStops:u}=e,c=o-s,f=h||l?1:0,p=u.map((({color:t,ratio:e})=>`${e}:${t.toString()}`)).join();let d,v=!0;return null!=t&&"heatmap"===t.type?(d=t,v=p!==t.gradientHash):d=this._createRendererSchema(),d.radius=(0,n.Lz)(i),d.minDensity=s,d.densityRange=c,d.referenceScale=a,d.isFieldActive=f,v&&(d.gradient=(0,r.O3)(u),d.gradientHash=p),d}}a.type="heatmap",a.programSpec={shader:"materials/icon/heatmapAccumulate",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:o.pe.SHORT},{location:1,name:"a_vertexOffset",count:2,type:o.pe.SHORT},{location:4,name:"a_id",count:4,type:o.pe.UNSIGNED_BYTE}]}}},41575:(t,e,i)=>{i.d(e,{h:()=>l});var n=i(96220),r=i(89882),s=i(83253),o=i(43556),a=i(97066),h=i(41746);class l extends a.j{static getStorageSpec({attributes:t}){return{visualVariables:!0,attributes:t??null}}static _createRendererSchema(){return{type:"pie-chart",colors:new Float32Array(4*o.ij),defaultColor:new Float32Array(4),othersColor:new Float32Array(4),outlineColor:new Float32Array(4),holePercentage:0,sectorThreshold:0,outlineWidth:1,numberOfFields:10}}static createOrUpdateRendererSchema(t,e){const{attributes:i,defaultColor:a,holePercentage:h,othersCategory:l,outline:u}=e,c=null!=t&&"pie-chart"===t.type?t:this._createRendererSchema();for(let r=0;r<o.ij;r++){const t=r>=i.length?new n.A([0,0,0,0]):i[r].color;(0,s.tb)(c.colors,t,4*r)}return(0,s.tb)(c.defaultColor,a),(0,s.tb)(c.othersColor,l?.color),(0,s.tb)(c.outlineColor,u?.color),c.outlineWidth=(0,r.Lz)(u?.width||0),c.holePercentage=h,c.sectorThreshold=l?.threshold||0,c.numberOfFields=i.length,c}static getVariation(t){return{numberOfFields:t.numberOfFields}}static getVariationHash(t){return t.numberOfFields}}l.type="pie-chart",l.programSpec={shader:"materials/pie",vertexLayout:{geometry:[{location:0,name:"a_pos",count:2,type:h.pe.SHORT},{location:1,name:"a_vertexOffset",count:2,type:h.pe.SHORT},{location:2,name:"a_texCoords",count:2,type:h.pe.UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:h.pe.UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:h.pe.UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:6,name:"a_outlineColor",count:4,type:h.pe.UNSIGNED_BYTE,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:h.pe.UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:h.pe.UNSIGNED_SHORT}]},hittestAttributes:["a_vertexOffset","a_texCoords"]}},97025:(t,e,i)=>{i.d(e,{JW:()=>f,R7:()=>u,SS:()=>c});var n=i(98849),r=i(79432),s=i(59601),o=i(97066),a=i(37555),h=i(33605),l=i(41575);function u(t,e){if(t.type!==e)throw new n.A("material-view-model:unexpected-renderer-schema",`expected to find renderer schema of type "${e}" but found type "${t.type}"`)}function c(t){switch(t?.type){case"dot-density":return a.w;case"heatmap":return h.x;case"pie-chart":return l.h;default:return o.j}}function f(t){const{geometryType:e,symbologyType:i}=s.ar.load(t);switch(e){case r.ZG.FILL:if(i===r.w4.DOT_DENSITY)return a.w;break;case r.ZG.MARKER:switch(i){case r.w4.HEATMAP:return h.x;case r.w4.PIE_CHART:return l.h}}return o.j}},40231:(t,e,i)=>{i.d(e,{e:()=>R});var n=i(66866),r=i(48982),s=i(4194),o=i(98849),a=i(85251),h=i(21564),l=(i(73446),i(85569),i(39831),i(63863)),u=i(61781),c=i(7715),f=i(14931),p=i(21877);let d=class extends p.oY{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,n._)([(0,h.MZ)({readOnly:!0})],d.prototype,"version",null),d=(0,n._)([(0,l.$)("esri.views.layers.support.ClipArea")],d);const v=d;var g;let y=g=class extends v{constructor(t){super(t),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new g({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,n._)([(0,h.MZ)({type:[Number,String],json:{write:!0}})],y.prototype,"left",void 0),(0,n._)([(0,h.MZ)({type:[Number,String],json:{write:!0}})],y.prototype,"right",void 0),(0,n._)([(0,h.MZ)({type:[Number,String],json:{write:!0}})],y.prototype,"top",void 0),(0,n._)([(0,h.MZ)({type:[Number,String],json:{write:!0}})],y.prototype,"bottom",void 0),y=g=(0,n._)([(0,l.$)("esri.views.layers.support.ClipRect")],y);const m=y;i(17639);var _,b=i(88266),w=i(1171),x=i(84698),S=i(62802);const T={base:b.A,key:"type",typeMap:{extent:x.A,polygon:S.A}};let A=_=class extends v{constructor(t){super(t),this.type="geometry",this.geometry=null}clone(){return new _({geometry:this.geometry?.clone()??null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,n._)([(0,h.MZ)({types:T,json:{read:w.rS,write:!0}})],A.prototype,"geometry",void 0),A=_=(0,n._)([(0,l.$)("esri.views.layers.support.Geometry")],A);const E=A;let M=class extends v{constructor(t){super(t),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,n._)([(0,h.MZ)({type:[[[Number]]],json:{write:!0}})],M.prototype,"path",void 0),M=(0,n._)([(0,l.$)("esri.views.layers.support.Path")],M);const I=M,C=r.A.ofType({key:"type",base:null,typeMap:{rect:m,path:I,geometry:E}}),R=t=>{let e=class extends t{constructor(){super(...arguments),this.attached=!1,this.clips=new C,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){const t=this.view?.spatialReferenceLocked??!0,e=this.view?.spatialReference;e&&t&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new o.A("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new c.m),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,a.wB)((()=>this.suspended),(t=>{this.container&&(this.container.visible=!t),this.view&&!t&&this.updateRequested&&this.view.requestUpdate()}),a.pc),(0,a.wB)((()=>this.layer?.opacity??1),(t=>{this.container&&(this.container.opacity=t)}),a.pc),(0,a.wB)((()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal"),(t=>{this.container&&(this.container.blendMode=t)}),a.pc),(0,a.wB)((()=>this.layer&&"effect"in this.layer?this.layer.effect:null),(t=>{this.container&&(this.container.effect=t)}),a.pc),(0,a.wB)((()=>this.highlightOptions),(t=>this.container.highlightOptions=t),a.pc),(0,a.on)((()=>this.clips),"change",(()=>{this.container&&(this.container.clips=this.clips)}),a.pc),(0,a.wB)((()=>({scale:this.view?.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null})),(({scale:t})=>{const e=null!=t&&this.isVisibleAtScale(t);e!==this.visibleAtCurrentScale&&this._set("visibleAtCurrentScale",e)}),a.pc)],"constructor"),this.view?.whenLayerView?this.view.whenLayerView(this.layer).then((t=>{t===this&&this.processAttach()}),(()=>{})):this.when().then((()=>{this.processAttach()}),(()=>{})))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){const t=this.view?.spatialReference;return null==t||this.supportsSpatialReference(t)}get updating(){return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!!this._updatingHandles?.updating)}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(t){const e=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!e)return!0;const{minScale:i,maxScale:n}=e;return(0,u.zx)(t,i,n)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(t){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",t),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(t))):this.updateRequested=!1}hitTest(t,e){return Promise.resolve(null)}supportsSpatialReference(t){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const t=super.getSuspendInfo(),e=!this.spatialReferenceSupported,i=this.visibleAtCurrentScale;return e&&(t.spatialReferenceNotSupported=e),i&&(t.outsideScaleRange=i),t}addAttachHandles(t){this.addHandles(t,"attach")}};return(0,n._)([(0,h.MZ)()],e.prototype,"attached",void 0),(0,n._)([(0,h.MZ)({type:C,set(t){const e=(0,s.V)(t,this._get("clips"),C);this._set("clips",e)}})],e.prototype,"clips",void 0),(0,n._)([(0,h.MZ)()],e.prototype,"container",void 0),(0,n._)([(0,h.MZ)()],e.prototype,"moving",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],e.prototype,"spatialReferenceSupported",null),(0,n._)([(0,h.MZ)({readOnly:!0})],e.prototype,"updateParameters",void 0),(0,n._)([(0,h.MZ)()],e.prototype,"updateRequested",void 0),(0,n._)([(0,h.MZ)()],e.prototype,"updating",null),(0,n._)([(0,h.MZ)()],e.prototype,"view",void 0),(0,n._)([(0,h.MZ)({readOnly:!0})],e.prototype,"visibleAtCurrentScale",void 0),(0,n._)([(0,h.MZ)({type:f.A})],e.prototype,"highlightOptions",void 0),e=(0,n._)([(0,l.$)("esri.views.2d.layers.LayerView2D")],e),e}},85205:(t,e,i)=>{i.d(e,{zf:()=>E,ur:()=>x,Np:()=>S,tc:()=>T,kZ:()=>M});var n,r=i(98849),s=i(39831),o=i(539),a=i(69075),h=i(94301),l=i(54746),u=i(20699),c=i(44237),f=i(68745),p=i(66866),d=i(19251),v=i(21564),g=(i(73446),i(63863)),y=i(77542),m=i(99412);let _=n=class extends c.A{writeLevels(t,e,i){for(const n in t){const t=this.levels[n];return void(e.stops=t)}}clone(){return new n({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,m.of)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,m.of)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map((t=>t.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone(),levels:(0,d.o8)(this.levels)})}};(0,p._)([(0,v.MZ)()],_.prototype,"levels",void 0),(0,p._)([(0,y.K)("levels")],_.prototype,"writeLevels",null),_=n=(0,p._)([(0,g.$)("esri.views.2d.engine.LevelDependentSizeVariable")],_);const b=o.A.getLogger("esri.views.2d.layers.support.clusterUtils");s.A.add("esri-cluster-arcade-enabled",!0);const w=(0,s.A)("esri-cluster-arcade-enabled"),x=(t,e,i,n,r)=>{const s=e.clone();if(!M(s))return s;if(s.authoringInfo||(s.authoringInfo=new u.A),s.authoringInfo.isAutoGenerated=!0,"visualVariables"in s){const e=(s.visualVariables||[]).filter((t=>"$view.scale"!==t.valueExpression)),o=S(e);e.forEach((e=>{"rotation"===e.type?e.field?e.field=C(t,e.field,"avg_angle","number"):e.valueExpression&&(e.field=I(t,e.valueExpression,"avg_angle","number"),e.valueExpression=null):e.normalizationField?(e.field=C(t,e.field,"avg_norm","number",e.normalizationField),e.normalizationField=null):e.field?e.field=C(t,e.field,"avg","number"):e.valueExpression&&(e.field=I(t,e.valueExpression,"avg","number"),e.valueExpression=null)})),null==o&&!A(e)&&r&&(e.push(E(i,n)),s.dynamicClusterSize=!0),s.visualVariables=e}switch(s.type){case"simple":break;case"pie-chart":for(const e of s.attributes)e.field?e.field=C(t,e.field,"sum","number"):e.valueExpression&&(e.field=I(t,e.valueExpression,"sum","number"),e.valueExpression=null);break;case"unique-value":s.field?s.field=C(t,s.field,"mode","string"):s.valueExpression&&(s.field=I(t,s.valueExpression,"mode","string"),s.valueExpression=null);break;case"class-breaks":s.normalizationField?(s.field=C(t,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=C(t,s.field,"avg","number"):s.valueExpression&&(s.field=I(t,s.valueExpression,"avg","number"),s.valueExpression=null)}return s},S=t=>{for(const e of t)if("size"===e.type)return e;return null};function T(t,e,i){const n=t.clone();let r=!1;if("visualVariables"in n){const t=(n.visualVariables||[]).filter((t=>"$view.scale"!==t.valueExpression));null==S(t)&&(n.visualVariables||(n.visualVariables=[]),n.visualVariables.push(E(e,i)),n.dynamicClusterSize=!0,r=!0)}return{renderer:n,didInject:r}}const A=t=>{for(const e of t)if("cluster_count"===e.field)return!0;return!1},E=(t,e)=>{const i=[new f.A({value:0,size:0}),new f.A({value:1})];if(null==e)return new c.A({field:"cluster_count",stops:[...i,new f.A({value:2,size:0})]});const n=Object.keys(e).reduce(((n,r)=>({...n,[r]:[...i,new f.A({value:Math.max(2,e[r].minValue),size:t.clusterMinSize}),new f.A({value:Math.max(3,e[r].maxValue),size:t.clusterMaxSize})]})),{});return new _({field:"cluster_count",levels:n})},M=t=>{const e=e=>b.error(new r.A("Unsupported-renderer",e,{renderer:t}));if(!t)return!1;switch(t.type){case"unique-value":if(t.field2||t.field3)return e("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(t.normalizationField){const i=t.normalizationType;if("field"!==i)return e(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return e(`FeatureReductionCluster does not support renderers of type ${t.type}`),!1}if(!w){if("valueExpression"in t&&t.valueExpression)return e("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in t&&t.visualVariables||[]).some((t=>!(!("valueExpression"in t)||!t.valueExpression))))return e("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function I(t,e,i,n){const r=(0,a.d)(e),s="mode"===i?`cluster_type_${r}`:"sum"===i?`cluster_sum_${r}`:`cluster_avg_${r}`;return t.some((t=>t.name===s))||t.push(new h.A({name:s,isAutoGenerated:!0,onStatisticExpression:new l.A({expression:e,returnType:n}),statisticType:i})),s}function C(t,e,i,n,r){if("cluster_count"===e||t.some((t=>t.name===e)))return e;const s=function(t,e,i){switch(t){case"sum":return`cluster_sum_${e}`;case"avg":case"avg_angle":return`cluster_avg_${e}`;case"mode":return`cluster_type_${e}`;case"avg_norm":{const t=i,n="field",r=e.toLowerCase()+",norm:"+n+","+t.toLowerCase();return"cluster_avg_"+(0,a.d)(r)}}}(i,e,r);return t.some((t=>t.name===s))||("avg_norm"===i?t.push(new h.A({name:s,isAutoGenerated:!0,onStatisticExpression:new l.A({expression:`$feature.${e} / $feature.${r}`,returnType:n}),statisticType:"avg"})):t.push(new h.A({name:s,isAutoGenerated:!0,onStatisticField:e,statisticType:i}))),s}},9049:(t,e,i)=>{i.d(e,{A:()=>d});var n=i(66866),r=i(52495),s=i(17306),o=i(65667),a=i(539),h=i(6267),l=i(84410),u=i(21564),c=(i(73446),i(85569),i(39831),i(63863)),f=i(4238);let p=class extends((0,o.sA)((0,l.g)(s.A.EventedMixin(r.A)))){constructor(t){super(t),this._updatingHandles=new f.U,this.layer=null,this.parent=null}initialize(){this.when().catch((t=>{if("layerview:create-error"!==t.name){const e=this.layer&&this.layer.id||"no id",i=this.layer?.title||"no title";a.A.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${i}', id: '${e}')`,t)}}))}destroy(){this._updatingHandles=(0,h.pR)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(t){this._overrideIfSome("visible",t)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const t=this.parent?.suspended?this.parent.suspendInfo:{};return this.view?.ready||(t.viewNotReady=!0),this.layer&&this.layer.loaded||(t.layerNotLoaded=!0),this.visible||(t.layerInvisible=!0),t}isUpdating(){return!1}};(0,n._)([(0,u.MZ)()],p.prototype,"fullOpacity",null),(0,n._)([(0,u.MZ)()],p.prototype,"layer",void 0),(0,n._)([(0,u.MZ)()],p.prototype,"parent",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],p.prototype,"suspended",null),(0,n._)([(0,u.MZ)({readOnly:!0})],p.prototype,"suspendInfo",null),(0,n._)([(0,u.MZ)({readOnly:!0})],p.prototype,"legendEnabled",null),(0,n._)([(0,u.MZ)({type:Boolean,readOnly:!0})],p.prototype,"updating",null),(0,n._)([(0,u.MZ)({readOnly:!0})],p.prototype,"updatingProgress",null),(0,n._)([(0,u.MZ)()],p.prototype,"visible",null),(0,n._)([(0,u.MZ)()],p.prototype,"view",void 0),p=(0,n._)([(0,c.$)("esri.views.layers.LayerView")],p);const d=p},89423:(t,e,i)=>{i.d(e,{g:()=>u});var n=i(85569),r=i(539),s=i(86942),o=i(16541),a=i(21946),h=i(41746);const l=r.A.getLogger("esri.views.webgl.BufferObject");class u{static createIndex(t,e,i){return new u(t,h.NZ.ELEMENT_ARRAY_BUFFER,e,i)}static createVertex(t,e,i){return new u(t,h.NZ.ARRAY_BUFFER,e,i)}static createUniform(t,e,i){if(t.type!==a.EL.WEBGL2)throw new Error("Uniform buffers are supported in WebGL2 only!");return new u(t,h.NZ.UNIFORM_BUFFER,e,i)}static createPixelPack(t,e=h._U.STREAM_READ,i){if(t.type!==a.EL.WEBGL2)throw new Error("Pixel pack buffers are supported in WebGL2 only!");const n=new u(t,h.NZ.PIXEL_PACK_BUFFER,e);return i&&n.setSize(i),n}static createPixelUnpack(t,e=h._U.STREAM_DRAW,i){if(t.type!==a.EL.WEBGL2)throw new Error("Pixel unpack buffers are supported in WebGL2 only!");return new u(t,h.NZ.PIXEL_UNPACK_BUFFER,e,i)}constructor(t,e,i,n){this._context=t,this.bufferType=e,this.usage=i,this._glName=null,this._size=-1,this._indexType=void 0,t.instanceCounter.increment(h.vt.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,o.Y2)(this._context.gl),n&&this.setData(n)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteLength(){return this.bufferType===h.NZ.ELEMENT_ARRAY_BUFFER?this._indexType===h.pe.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===h.NZ.ELEMENT_ARRAY_BUFFER||this.bufferType===h.NZ.ARRAY_BUFFER}dispose(){this._context?.gl?(this._glName&&(this._context.gl.deleteBuffer(this._glName),this._glName=null),this._context.instanceCounter.decrement(h.vt.BufferObject,this),this._context=null):this._glName&&l.warn("Leaked WebGL buffer object")}setSize(t,e=null){if(t<=0&&l.error("Buffer size needs to be positive!"),this.bufferType===h.NZ.ELEMENT_ARRAY_BUFFER&&null!=e)switch(this._indexType=e,e){case h.pe.UNSIGNED_SHORT:t*=2;break;case h.pe.UNSIGNED_INT:t*=4}this._setBufferData(t)}setData(t){if(!t)return;let e=t.byteLength;this.bufferType===h.NZ.ELEMENT_ARRAY_BUFFER&&((0,s.jq)(t)&&(e/=2,this._indexType=h.pe.UNSIGNED_SHORT),(0,s.XJ)(t)&&(e/=4,this._indexType=h.pe.UNSIGNED_INT)),this._setBufferData(e,t)}_setBufferData(t,e=null){this._size=t;const i=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const n=this._context.gl;null!=e?n.bufferData(this.bufferType,e,this.usage):n.bufferData(this.bufferType,t,this.usage),(0,o.Y2)(n),this._isVAOAware&&this._context.bindVAO(i)}setSubData(t,e,i,n){if(!t)return;(e<0||e*t.BYTES_PER_ELEMENT>=this.byteLength)&&l.error("offset is out of range!"),i>=n&&l.error("end must be bigger than start!"),(e+(n-i))*t.BYTES_PER_ELEMENT>this.byteLength&&l.error("An attempt to write beyond the end of the buffer!");const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const s=this._context.gl;if(this._context.type===a.EL.WEBGL2)s.bufferSubData(this.bufferType,e*t.BYTES_PER_ELEMENT,t,i,n-i);else{const r=0===i&&n===t.length?t:t.subarray(i,n);s.bufferSubData(this.bufferType,e*t.BYTES_PER_ELEMENT,r)}(0,o.Y2)(s),this._isVAOAware&&this._context.bindVAO(r)}getSubData(t,e=0,i,r){if(this._context.type!==a.EL.WEBGL2)return void l.error("Get buffer subdata is supported in WebGL2 only!");if(i<0||r<0)return void l.error("Problem getting subdata: offset and length were less than zero!");const s=function(t){return(0,n.Xj)(t)}(t)?t.BYTES_PER_ELEMENT:1;if(s*((i??0)+(r??0))>t.byteLength)return void l.error("Problem getting subdata: offset and length exceeded destination size!");e+s*(r??0)>this.byteLength&&l.warn("Potential problem getting subdata: requested data exceeds buffer size!");const o=this._context.gl;this._context.bindBuffer(this,h.NZ.COPY_READ_BUFFER),o.getBufferSubData(h.NZ.COPY_READ_BUFFER,e,t,i,r),this._context.unbindBuffer(h.NZ.COPY_READ_BUFFER)}async getSubDataAsync(t,e=0,i,n){this._context.type===a.EL.WEBGL2?(await this._context.clientWaitAsync(),this.getSubData(t,e,i,n)):l.error("Get buffer subdata is supported in WebGL2 only!")}}},84852:(t,e,i)=>{i.d(e,{H:()=>p});i(39831);var n=i(539),r=i(6267),s=i(89423),o=i(16541),a=i(21946),h=i(41746),l=i(12966),u=i(74416),c=i(6940);const f=n.A.getLogger("esri.views.webgl.FramebufferObject");class p{constructor(t,e,i=null){this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(h.vt.FramebufferObject,this);const n=d(e)?e:new c.g(this._context,e);if(this._colorAttachments.set(h.Nm.COLOR_ATTACHMENT0,n),this._validateTextureDescriptor(n.descriptor),this._validateColorAttachmentPoint(h.Nm.COLOR_ATTACHMENT0),null!=i)if(function(t){return d(t)||null!=t&&"pixelFormat"in t}(i))this._context.capabilities.depthTexture||console.error("Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2"),this._depthStencilTexture=d(i)?i:new c.g(this._context,i),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=function(t){return null!=t&&"type"in t&&t.type===l.p.RenderBuffer}(i)?i:new u.l(this._context,i);this._depthStencilBuffer=t,this._validateRenderBufferDescriptor(t.descriptor)}}dispose(){if(0===this._colorAttachments.size&&!this._glName)return;const t=this._context.getBoundFramebufferObject();this._colorAttachments.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),this._glName&&(this._context.gl.deleteFramebuffer(this._glName),this._glName=null),this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(h.vt.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(h.Nm.COLOR_ATTACHMENT0)}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(h.Nm.COLOR_ATTACHMENT0);return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(h.Nm.COLOR_ATTACHMENT0);return t?.descriptor?.height??0}get gpuMemoryUsage(){return[...this._colorAttachments].reduce(((t,[e,i])=>t+i.gpuMemoryUsage),this.depthStencil?.gpuMemoryUsage??0)}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&d(e)?e:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(t,e=h.Nm.COLOR_ATTACHMENT0){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;this._validateTextureDescriptor(i),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=h.Nm.COLOR_ATTACHMENT0){const e=this._colorAttachments.get(t);if(e){if(this._initialized){const e=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t),this._context.bindFramebuffer(e)}return this._colorAttachments.delete(t),e}}setColorTextureTarget(t,e=h.Nm.COLOR_ATTACHMENT0){const i=this._colorAttachments.get(e);i&&this._framebufferTexture2D(i.glName,e,t)}attachDepthStencil(t){if(t)switch(t.type){case l.p.Texture:return this._attachDepthStencilTexture(t);case l.p.RenderBuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const e=t.descriptor;e.pixelFormat!==h.Ab.DEPTH_STENCIL&&e.pixelFormat!==h.Ab.DEPTH24_STENCIL8&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),e.dataType!==h.ld.UNSIGNED_INT_24_8&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,h.nI)),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,h.nI)),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(this._validateRenderBufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl,n=this._getGLAttachmentPoint(e);i.framebufferRenderbuffer(h.R.FRAMEBUFFER,n,i.RENDERBUFFER,t.glName)}this._depthStencilBuffer=t}detachDepthStencilBuffer(){const t=this._depthStencilBuffer;if(t&&this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=this._getGLAttachmentPoint(t.descriptor);e.framebufferRenderbuffer(h.R.FRAMEBUFFER,i,e.RENDERBUFFER,null)}return this._depthStencilBuffer=null,t}copyToTexture(t,e,i,n,r,s,o){(t<0||e<0||r<0||s<0)&&console.error("Offsets cannot be negative!"),(i<=0||n<=0)&&console.error("Copy width and height must be greater than zero!");const a=o.descriptor;o.descriptor.target!==h.Ap.TEXTURE_2D&&console.error("Texture target must be TEXTURE_2D!"),(null==a?.width||null==a?.height||t+i>this.width||e+n>this.height||r+i>a.width||s+n>a.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");const l=this._context,u=l.bindTexture(o,c.g.TEXTURE_UNIT_FOR_UPDATES);l.setActiveTexture(c.g.TEXTURE_UNIT_FOR_UPDATES),l.bindFramebuffer(this),l.gl.copyTexSubImage2D(h.Ap.TEXTURE_2D,0,r,s,t,e,i,n),l.bindTexture(u,c.g.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,i,n,r,s,o){(i<=0||n<=0)&&console.error("Copy width and height must be greater than zero!"),o||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,i,n,r,s,o)}async readPixelsAsync(t,e,i,n,r,l,u){if(this._context.type!==a.EL.WEBGL2)return(0,o.en)()&&console.warn("Attempting to read pixels using pixel buffer object without WebGL2"),void this.readPixels(t,e,i,n,r,l,u);const c=this._context.gl,f=s.g.createPixelPack(this._context,h._U.STREAM_READ,u.byteLength);this._context.bindBuffer(f),this._context.bindFramebuffer(this),c.readPixels(t,e,i,n,r,l,0),this._context.unbindBuffer(h.NZ.PIXEL_PACK_BUFFER),await f.getSubDataAsync(u),f.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const i={width:t,height:e};v(i,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(i.width,i.height))),this._depthStencilTexture?.resize(i.width,i.height),this._initialized&&(v(i,this._context.parameters.maxRenderbufferSize),this._depthStencilBuffer?.resize(i.width,i.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=h.R.FRAMEBUFFER){const e=this._context.gl;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const i=e.createFramebuffer();if(e.bindFramebuffer(t,i),this._colorAttachments.forEach(((e,i)=>this._framebufferTexture2D(e.glName,i,g(e),t))),this._depthStencilBuffer){const i=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);e.framebufferRenderbuffer(t,i,e.RENDERBUFFER,this._depthStencilBuffer.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,e.DEPTH_STENCIL_ATTACHMENT,g(this._depthStencilTexture),t);(0,o.en)()&&e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!"),this._glName=i,this._initialized=!0}_framebufferTexture2D(t,e=h.Nm.COLOR_ATTACHMENT0,i=h.Ap.TEXTURE_2D,n=h.R.FRAMEBUFFER,r=0){this._context.gl.framebufferTexture2D(n,e,i,t,r)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);t.framebufferRenderbuffer(h.R.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthStencilBuffer=(0,r.WD)(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=(0,r.WD)(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==h.Ap.TEXTURE_2D&&t.target!==h.Ap.TEXTURE_CUBE_MAP&&console.error("Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!"),v(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderBufferDescriptor(t){v(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error("Attachment size must match framebuffer size!"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case h.yQ.DEPTH_COMPONENT16:case h.yQ.DEPTH_COMPONENT24:case h.yQ.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case h.yQ.DEPTH24_STENCIL8:case h.yQ.DEPTH32F_STENCIL8:case h.yQ.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case h.yQ.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(t){if(-1===p._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;p._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS)}else p._MAX_COLOR_ATTACHMENTS=1}const e=t-h.Nm.COLOR_ATTACHMENT0;e+1>p._MAX_COLOR_ATTACHMENTS&&n.A.getLogger("esri.views.webgl.FrameBufferObject").error("esri.FrameBufferObject",`illegal attachment point for color attachment: ${e+1}. Implementation supports up to ${p._MAX_COLOR_ATTACHMENTS} color attachments`)}}function d(t){return null!=t&&"type"in t&&t.type===l.p.Texture}function v(t,e){const i=Math.max(t.width,t.height);if(i>e){f.warn(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const n=e/i;return t.width=Math.round(t.width*n),t.height=Math.round(t.height*n),!1}return!0}function g(t){return t.descriptor.target===h.Ap.TEXTURE_CUBE_MAP?h.Ap.TEXTURE_CUBE_MAP_POSITIVE_X:h.Ap.TEXTURE_2D}p._MAX_COLOR_ATTACHMENTS=-1},12966:(t,e,i)=>{var n;i.d(e,{p:()=>n}),function(t){t[t.Texture=0]="Texture",t[t.RenderBuffer=1]="RenderBuffer"}(n||(n={}))},68449:(t,e,i)=>{i.d(e,{B:()=>S});var n=i(85569),r=(i(39831),i(16541)),s=i(21946),o=i(41746);const a=["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"],h=!1;var l=i(30860),u=999,c=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function f(){var t,e,i,n=0,r=0,s=u,o=[],a=[],h=1,f=0,p=0,d=!1,v=!1,g="";return function(t){return a=[],null!==t?m(t.replace?t.replace(/\r\n/g,"\n"):t):(o.length&&y(o.join("")),s=10,y("(eof)"),a)};function y(t){t.length&&a.push({type:c[s],data:t,position:p,line:h,column:f})}function m(e){var o;for(n=0,i=(g+=e).length;t=g[n],n<i;){switch(o=n,s){case 0:n=x();break;case 1:case 2:n=w();break;case 3:n=S();break;case 4:n=E();break;case 11:n=A();break;case 5:n=M();break;case 9999:n=I();break;case 9:n=b();break;case u:n=_()}o!==n&&("\n"===g[o]?(f=0,++h):++f)}return r+=n,g=g.slice(n),a}function _(){return o=o.length?[]:o,"/"===e&&"*"===t?(p=r+n-1,s=0,e=t,n+1):"/"===e&&"/"===t?(p=r+n-1,s=1,e=t,n+1):"#"===t?(s=2,p=r+n,n):/\s/.test(t)?(s=9,p=r+n,n):(d=/\d/.test(t),v=/[^\w_]/.test(t),p=r+n,s=d?4:v?3:9999,n)}function b(){return/[^\s]/g.test(t)?(y(o.join("")),s=u,n):(o.push(t),e=t,n+1)}function w(){return"\r"!==t&&"\n"!==t||"\\"===e?(o.push(t),e=t,n+1):(y(o.join("")),s=u,n)}function x(){return"/"===t&&"*"===e?(o.push(t),y(o.join("")),s=u,n+1):(o.push(t),e=t,n+1)}function S(){if("."===e&&/\d/.test(t))return s=5,n;if("/"===e&&"*"===t)return s=0,n;if("/"===e&&"/"===t)return s=1,n;if("."===t&&o.length){for(;T(o););return s=5,n}if(";"===t||")"===t||"("===t){if(o.length)for(;T(o););return y(t),s=u,n+1}var i=2===o.length&&"="!==t;if(/[\w_\d\s]/.test(t)||i){for(;T(o););return s=u,n}return o.push(t),e=t,n+1}function T(t){for(var e,i,n=0;;){if(e=l.o.indexOf(t.slice(0,t.length+n).join("")),i=l.o[e],-1===e){if(n--+t.length>0)continue;i=t.slice(0,1).join("")}return y(i),p+=i.length,(o=o.slice(i.length)).length}}function A(){return/[^a-fA-F0-9]/.test(t)?(y(o.join("")),s=u,n):(o.push(t),e=t,n+1)}function E(){return"."===t||/[eE]/.test(t)?(o.push(t),s=5,e=t,n+1):"x"===t&&1===o.length&&"0"===o[0]?(s=11,o.push(t),e=t,n+1):/[^\d]/.test(t)?(y(o.join("")),s=u,n):(o.push(t),e=t,n+1)}function M(){return"f"===t&&(o.push(t),e=t,n+=1),/[eE]/.test(t)||"-"===t&&/[eE]/.test(e)?(o.push(t),e=t,n+1):/[^\d]/.test(t)?(y(o.join("")),s=u,n):(o.push(t),e=t,n+1)}function I(){if(/[^\d\w_]/.test(t)){var i=o.join("");return s=l.l.indexOf(i)>-1?8:l.b.indexOf(i)>-1?7:6,y(o.join("")),s=u,n}return o.push(t),e=t,n+1}}function p(t){return function(t){var e=f(),i=[];return(i=i.concat(e(t))).concat(e(null))}(t)}const d=new Set(["GL_OES_standard_derivatives","GL_EXT_frag_depth","GL_EXT_draw_buffers","GL_EXT_shader_texture_lod"]);function v(t,e){for(let i=e-1;i>=0;i--){const e=t[i];if("whitespace"!==e.type&&"block-comment"!==e.type){if("keyword"!==e.type)break;if("attribute"===e.data||"in"===e.data)return!0}}return!1}function g(t,e,i,n){n=n||i;for(const r of t)if("ident"===r.type&&r.data===i)return n in e?e[n]++:e[n]=0,g(t,e,n+"_"+e[n],n);return i}function y(t,e,i="afterVersion"){function n(t,e){for(let i=e;i<t.length;i++){const e=t[i];if("operator"===e.type&&";"===e.data)return i}return null}const r={data:"\n",type:"whitespace"},s=e=>e<t.length&&/[^\r\n]$/.test(t[e].data);let o=function(t){let e=-1,r=0,s=-1;for(let o=0;o<t.length;o++){const a=t[o];if("preprocessor"===a.type&&(/\#(if|ifdef|ifndef)\s+.+/.test(a.data)?++r:/\#endif\s*.*/.test(a.data)&&--r),"afterVersion"!==i&&"afterPrecision"!==i||"preprocessor"===a.type&&a.data.startsWith("#version")&&(s=Math.max(s,o)),"afterPrecision"===i&&"keyword"===a.type&&"precision"===a.data){const e=n(t,o);if(null===e)throw new Error("precision statement not followed by any semicolons!");s=Math.max(s,e)}e<s&&0===r&&(e=o)}return e+1}(t);s(o-1)&&t.splice(o++,0,r);for(const a of e)t.splice(o++,0,a);s(o-1)&&s(o)&&t.splice(o,0,r)}function m(t,e,i,n="lowp"){y(t,[{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:n},{type:"whitespace",data:" "},{type:"keyword",data:i},{type:"whitespace",data:" "},{type:"ident",data:e},{type:"operator",data:";"}],"afterPrecision")}function _(t,e,i,n,r="lowp"){y(t,[{type:"keyword",data:"layout"},{type:"operator",data:"("},{type:"keyword",data:"location"},{type:"whitespace",data:" "},{type:"operator",data:"="},{type:"whitespace",data:" "},{type:"integer",data:n.toString()},{type:"operator",data:")"},{type:"whitespace",data:" "},{type:"keyword",data:"out"},{type:"whitespace",data:" "},{type:"keyword",data:r},{type:"whitespace",data:" "},{type:"keyword",data:i},{type:"whitespace",data:" "},{type:"ident",data:e},{type:"operator",data:";"}],"afterPrecision")}function b(t,e){let i,n,r=-1;for(let s=e;s<t.length;s++){const e=t[s];if("operator"===e.type&&("["===e.data&&(i=s),"]"===e.data)){n=s;break}"integer"===e.type&&(r=parseInt(e.data,10))}return i&&n&&t.splice(i,n-i+1),r}function w(t,e){if(t.startsWith("#version 300"))return t;const i=function(t){return h?x.get(t):null}(t);if(null!=i)return i;const n=p(t);if("300 es"===function(t,e="100",i="300 es"){const n=/^\s*\#version\s+([0-9]+(\s+[a-zA-Z]+)?)\s*/;for(const r of t)if("preprocessor"===r.type){const t=n.exec(r.data);if(t){const n=t[1].replaceAll(/\s\s+/g," ");if(n===i)return n;if(n===e)return r.data="#version "+i,e;throw new Error("unknown glsl version: "+n)}}return t.splice(0,0,{type:"preprocessor",data:"#version "+i},{type:"whitespace",data:"\n"}),null}(n,"100","300 es"))return t;let r=null,s=null;const l={},u={};for(let h=0;h<n.length;++h){const t=n[h];switch(t.type){case"keyword":e===o.Co.VERTEX_SHADER&&"attribute"===t.data?t.data="in":"varying"===t.data&&(t.data=e===o.Co.VERTEX_SHADER?"out":"in");break;case"builtin":if(/^texture(2D|Cube)(Proj)?(Lod|Grad)?(EXT)?$/.test(t.data.trim())&&(t.data=t.data.replaceAll(/(2D|Cube|EXT)/g,"")),e===o.Co.FRAGMENT_SHADER&&"gl_FragColor"===t.data&&(r||(r=g(n,l,"fragColor"),m(n,r,"vec4")),t.data=r),e===o.Co.FRAGMENT_SHADER&&"gl_FragData"===t.data){const e=b(n,h+1),i=g(n,l,"fragData");_(n,i,"vec4",e,"mediump"),t.data=i}else e===o.Co.FRAGMENT_SHADER&&"gl_FragDepthEXT"===t.data&&(s||(s=g(n,l,"gl_FragDepth")),t.data=s);break;case"ident":if(a.includes(t.data)){if(e===o.Co.VERTEX_SHADER&&v(n,h))throw new Error("attribute in vertex shader uses a name that is a reserved word in glsl 300 es");t.data in u||(u[t.data]=g(n,l,t.data)),t.data=u[t.data]}}}for(let o=n.length-1;o>=0;--o){const t=n[o];if("preprocessor"===t.type){const e=t.data.match(/\#extension\s+(.*)\:/);if(e&&e[1]&&d.has(e[1].trim())){const t=n[o+1];n.splice(o,t&&"whitespace"===t.type?2:1)}const i=t.data.match(/\#ifdef\s+(.*)/);i&&i[1]&&d.has(i[1].trim())&&(t.data="#if 1");const r=t.data.match(/\#ifndef\s+(.*)/);r&&r[1]&&d.has(r[1].trim())&&(t.data="#if 0")}}return function(t,e){return h&&x.set(t,e),e}(t,function(t){return t.map((t=>"eof"!==t.type?t.data:"")).join("")}(n))}const x=new Map;class S{constructor(t,e,i,n,a=new Map){this._context=t,this._locations=n,this._uniformBlockBindings=a,this._refCount=1,this._compiled=!1,this._linesOfCode=0,this._nameToUniformLocation=new Map,this._nameToUniform1=new Map,this._nameToUniform1v=new Map,this._nameToUniform2=new Map,this._nameToUniform3=new Map,this._nameToUniform4=new Map,this._nameToUniformMatrix3=new Map,this._nameToUniformMatrix4=new Map,t||console.error("RenderingContext isn't initialized!"),0===e.length&&console.error("Shaders source should not be empty!"),this._context.type===s.EL.WEBGL2&&(e=w(e,o.Co.VERTEX_SHADER),i=w(i,o.Co.FRAGMENT_SHADER)),this._vShader=T(this._context,o.Co.VERTEX_SHADER,e),this._fShader=T(this._context,o.Co.FRAGMENT_SHADER,i),E.enabled&&(this._linesOfCode=e.match(/\n/g).length+i.match(/\n/g).length+2,this._context.instanceCounter.increment(o.vt.LinesOfCode,this._vShader,this._linesOfCode)),this._vShader&&this._fShader||console.error("Error loading shaders!"),this._context.instanceCounter.increment(o.vt.Shader,this),(0,r.Xc)()&&(this.vertexShader=e,this.fragmentShader=i);const h=this._context.gl,l=h.createProgram();if(h.attachShader(l,this._vShader),h.attachShader(l,this._fShader),this._locations.forEach(((t,e)=>h.bindAttribLocation(l,t,e))),h.linkProgram(l),(0,r.Xc)()&&!h.getProgramParameter(l,h.LINK_STATUS)&&console.error(`Could not link shader\nvalidated: ${h.getProgramParameter(l,h.VALIDATE_STATUS)}, gl error ${h.getError()}, vertex: ${h.getShaderParameter(this._vShader,h.COMPILE_STATUS)}, fragment: ${h.getShaderParameter(this._fShader,h.COMPILE_STATUS)}, info log: ${h.getProgramInfoLog(l)}, vertex source: ${this.vertexShader}, fragment source: ${this.fragmentShader}`),this._context.type===s.EL.WEBGL2){const t=h;for(const[e,i]of this._uniformBlockBindings){const n=t.getUniformBlockIndex(l,e);n<4294967295&&t.uniformBlockBinding(l,n,i)}}this._glName=l,this._context.instanceCounter.increment(o.vt.Program,this)}get glName(){return this._glName}get hasGLName(){return null!=this._glName}get compiled(){if(this._compiled)return!0;const t=this._context.gl.getExtension("KHR_parallel_shader_compile");return null==t||null==this.glName?(this._compiled=!0,!0):(this._compiled=!!this._context.gl.getProgramParameter(this.glName,t.COMPLETION_STATUS_KHR),this._compiled)}dispose(){if(--this._refCount>0)return;const t=this._context.gl,e=this._context.instanceCounter;this._nameToUniformLocation.forEach((t=>t&&e.decrement(o.vt.Uniform,t))),this._nameToUniformLocation.clear(),this._vShader&&(this._linesOfCode>0&&(e.decrement(o.vt.LinesOfCode,this._vShader,this._linesOfCode),this._linesOfCode=0),t.deleteShader(this._vShader),this._vShader=null,e.decrement(o.vt.Shader,this)),this._fShader&&(t.deleteShader(this._fShader),this._fShader=null),this._glName&&(t.deleteProgram(this._glName),this._glName=null,e.decrement(o.vt.Program,this))}ref(){++this._refCount}_getUniformLocation(t){const e=this._nameToUniformLocation.get(t);if(void 0!==e)return e;if(this.glName){const e=this._context.gl.getUniformLocation(this.glName,t);return this._nameToUniformLocation.set(t,e),e&&this._context.instanceCounter.increment(o.vt.Uniform,e),e}return null}hasUniform(t){return null!=this._getUniformLocation(t)}setUniform1i(t,e){const i=this._nameToUniform1.get(t);void 0!==i&&e===i||(this._context.gl.uniform1i(this._getUniformLocation(t),e),this._nameToUniform1.set(t,e))}setUniform1iv(t,e){A(this._nameToUniform1v,t,e)&&this._context.gl.uniform1iv(this._getUniformLocation(t),e)}setUniform2iv(t,e){A(this._nameToUniform2,t,e)&&this._context.gl.uniform2iv(this._getUniformLocation(t),e)}setUniform3iv(t,e){A(this._nameToUniform3,t,e)&&this._context.gl.uniform3iv(this._getUniformLocation(t),e)}setUniform4iv(t,e){A(this._nameToUniform4,t,e)&&this._context.gl.uniform4iv(this._getUniformLocation(t),e)}setUniform1f(t,e){const i=this._nameToUniform1.get(t);void 0!==i&&e===i||(this._context.gl.uniform1f(this._getUniformLocation(t),e),this._nameToUniform1.set(t,e))}setUniform1fv(t,e){A(this._nameToUniform1v,t,e)&&this._context.gl.uniform1fv(this._getUniformLocation(t),e)}setUniform2f(t,e,i){const n=this._nameToUniform2.get(t);void 0===n?(this._context.gl.uniform2f(this._getUniformLocation(t),e,i),this._nameToUniform2.set(t,[e,i])):e===n[0]&&i===n[1]||(this._context.gl.uniform2f(this._getUniformLocation(t),e,i),n[0]=e,n[1]=i)}setUniform2fv(t,e){A(this._nameToUniform2,t,e)&&this._context.gl.uniform2fv(this._getUniformLocation(t),e)}setUniform3f(t,e,i,n){const r=this._nameToUniform3.get(t);void 0===r?(this._context.gl.uniform3f(this._getUniformLocation(t),e,i,n),this._nameToUniform3.set(t,[e,i,n])):e===r[0]&&i===r[1]&&n===r[2]||(this._context.gl.uniform3f(this._getUniformLocation(t),e,i,n),r[0]=e,r[1]=i,r[2]=n)}setUniform3fv(t,e){A(this._nameToUniform3,t,e)&&this._context.gl.uniform3fv(this._getUniformLocation(t),e)}setUniform4f(t,e,i,n,r){const s=this._nameToUniform4.get(t);void 0===s?(this._context.gl.uniform4f(this._getUniformLocation(t),e,i,n,r),this._nameToUniform4.set(t,[e,i,n,r])):void 0!==s&&e===s[0]&&i===s[1]&&n===s[2]&&r===s[3]||(this._context.gl.uniform4f(this._getUniformLocation(t),e,i,n,r),s[0]=e,s[1]=i,s[2]=n,s[3]=r)}setUniform4fv(t,e){A(this._nameToUniform4,t,e)&&this._context.gl.uniform4fv(this._getUniformLocation(t),e)}setUniformMatrix3fv(t,e,i=!1){A(this._nameToUniformMatrix3,t,e)&&this._context.gl.uniformMatrix3fv(this._getUniformLocation(t),i,e)}setUniformMatrix4fv(t,e,i=!1){A(this._nameToUniformMatrix4,t,e)&&this._context.gl.uniformMatrix4fv(this._getUniformLocation(t),i,e)}stop(){}}function T(t,e,i){const n=t.gl,s=n.createShader(e);return n.shaderSource(s,i),n.compileShader(s),(0,r.Xc)()&&!n.getShaderParameter(s,n.COMPILE_STATUS)&&(console.error("Compile error in ".concat(e===o.Co.VERTEX_SHADER?"vertex":"fragment"," shader")),console.error(n.getShaderInfoLog(s)),console.error(function(t){let e=2;return t.replaceAll("\n",(()=>"\n"+function(t){return t>=1e3?t.toString():("  "+t).slice(-3)}(e++)+":"))}(i))),s}function A(t,e,i){const r=t.get(e);return r?(0,n.yo)(r,i):(t.set(e,Array.from(i)),!0)}const E={enabled:!1}},50122:(t,e,i)=>{i.d(e,{r:()=>r});var n=i(68449);function r(t,e,i=""){return new n.B(t,i+e.shaders.vertexShader,i+e.shaders.fragmentShader,e.attributes)}},74416:(t,e,i)=>{i.d(e,{l:()=>a});var n=i(21946),r=i(41746),s=i(12966),o=i(94669);class a{constructor(t,e){this._context=t,this._descriptor=e,this.type=s.p.RenderBuffer,this._context.instanceCounter.increment(r.vt.Renderbuffer,this);const i=this._context.gl;this.glName=i.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:o,height:a,internalFormat:h,multisampled:l}=e;if(l){if(this._context.type!==n.EL.WEBGL2)throw new Error("Multisampled renderbuffers are not supported in WebGL1!");i.renderbufferStorageMultisample(i.RENDERBUFFER,this.samples,h,o,a)}else i.renderbufferStorage(i.RENDERBUFFER,h,o,a)}get descriptor(){return this._descriptor}get samples(){const t=this._descriptor.samples,e=this._context.parameters.maxSamples;return t?Math.min(t,e):e}get gpuMemoryUsage(){return(0,o.e)(this._descriptor)}resize(t,e){const i=this._descriptor;if(i.width===t&&i.height===e)return;i.width=t,i.height=e;const n=this._context.gl;this._context.bindRenderbuffer(this),i.multisampled?n.renderbufferStorageMultisample(n.RENDERBUFFER,this.samples,i.internalFormat,i.width,i.height):n.renderbufferStorage(n.RENDERBUFFER,i.internalFormat,i.width,i.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(r.vt.Renderbuffer,this),this._context=null)}}},94669:(t,e,i)=>{i.d(e,{e:()=>s,q:()=>r});var n=i(19282);class r{constructor(t,e,i=e){this.internalFormat=t,this.width=e,this.height=i,this.multisampled=!1,this.samples=1}}function s(t){return t.width<=0||t.height<=0||null==t.internalFormat?0:t.width*t.height*(0,n.IB)(t.internalFormat)}},29638:(t,e,i)=>{i.d(e,{Z:()=>n});class n{constructor(t){this._readFile=t}resolveIncludes(t){return this._resolve(t)}_resolve(t,e=new Map){if(e.has(t))return e.get(t);const i=this._read(t);if(!i)throw new Error(`cannot find shader file ${t}`);const n=/^[^\S\n]*#include\s+<(\S+)>[^\S\n]?/gm;let r=n.exec(i);const s=[];for(;null!=r;)s.push({path:r[1],start:r.index,length:r[0].length}),r=n.exec(i);let o=0,a="";return s.forEach((t=>{a+=i.slice(o,t.start),a+=e.has(t.path)?"":this._resolve(t.path,e),o=t.start+t.length})),a+=i.slice(o),e.set(t,a),a}_read(t){return this._readFile(t)}}},6940:(t,e,i)=>{i.d(e,{g:()=>c});var n=i(98849),r=(i(39831),i(92504)),s=i(16541),o=i(21946),a=i(41746),h=i(12966),l=i(45758);class u extends l.R{constructor(t,e){switch(super(),this.context=t,Object.assign(this,e),this.internalFormat){case a.H0.R16F:case a.H0.R16I:case a.H0.R16UI:case a.H0.R32F:case a.H0.R32I:case a.H0.R32UI:case a.H0.R8_SNORM:case a.H0.R8:case a.H0.R8I:case a.H0.R8UI:this.pixelFormat=a.Ab.RED}}static validate(t,e){return new u(t,e)}}let c=class{constructor(t,e=null,i=null){if(this.type=h.p.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,"context"in t)this._descriptor=t,i=e;else{const i=u.validate(t,e);if(!i)throw new n.A("Texture descriptor invalid");this._descriptor=i}if(this._descriptor.context.type!==o.EL.WEBGL2&&(this._descriptor.isImmutable&&(this._descriptor.isImmutable=!1),y(this._descriptor.target)))throw new n.A("3D and array textures are not supported in WebGL1");this._descriptor.target===a.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get gpuMemoryUsage(){return _.delete(this),(0,l.e)(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}dispose(){this._glName&&this._descriptor.context.instanceCounter.decrement(a.vt.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(t,e){const i=this._descriptor;if(i.width!==t||i.height!==e){if(this._wasImmutablyAllocated)throw new n.A("Immutable textures can't be resized!");i.width=t,i.height=e,this._descriptor.target===a.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}_setDataCubeMap(t=null){for(let e=a.Ap.TEXTURE_CUBE_MAP_POSITIVE_X;e<=a.Ap.TEXTURE_CUBE_MAP_NEGATIVE_Z;e++)this._setData(t,e)}setData(t){this._setData(t)}_setData(t,e){if(!this._descriptor.context?.gl)return;const i=this._descriptor.context.gl;(0,s.Y2)(i),this._glName||(this._glName=i.createTexture(),this._glName&&this._descriptor.context.instanceCounter.increment(a.vt.Texture,this)),void 0===t&&(t=null);const r=this._descriptor,o=e??r.target,h=y(o);null===t&&(r.width=r.width||4,r.height=r.height||4,h&&(r.depth=r.depth??1));const l=this._descriptor.context.bindTexture(this,c.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(c.TEXTURE_UNIT_FOR_UPDATES),f(this._descriptor.context,r),this._configurePixelStorage(),(0,s.Y2)(i);const u=this._deriveInternalFormat();if(g(t)){let e="width"in t?t.width:t.codedWidth,n="height"in t?t.height:t.codedHeight;const a=1;t instanceof HTMLVideoElement&&(e=t.videoWidth,n=t.videoHeight),r.width&&r.height,h&&r.depth,r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,u,r.hasMipmap,e,n,a),this._texImage(o,0,u,e,n,a,t),(0,s.Y2)(i),r.hasMipmap&&this.generateMipmap(),r.width||(r.width=e),r.height||(r.height=n),h&&!r.depth&&(r.depth=a)}else{const{width:e,height:l,depth:c}=r;if(null==e||null==l)throw new n.A("Width and height must be specified!");if(h&&null==c)throw new n.A("Depth must be specified!");if(r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,u,r.hasMipmap,e,l,c),v(t)){const s=t.levels,h=m(o,e,l,c),f=Math.min(h-1,s.length-1);null!=this._descriptor.context.gl2?i.texParameteri(r.target,this._descriptor.context.gl2.TEXTURE_MAX_LEVEL,f):r.hasMipmap=r.hasMipmap&&h===s.length;const p=u;if(!function(t){return t in a.CQ}(p))throw new n.A("Attempting to use compressed data with an uncompressed format!");this._forEachMipmapLevel(((t,e,i,n)=>{const r=s[Math.min(t,s.length-1)];this._compressedTexImage(o,t,p,e,i,n,r)}),f)}else this._texImage(o,0,u,e,l,c,t),(0,s.Y2)(i),r.hasMipmap&&this.generateMipmap()}p(i,this._descriptor),d(i,this._descriptor),function(t,e){const i=t.capabilities.textureFilterAnisotropic;if(!i)return;t.gl.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}(this._descriptor.context,this._descriptor),(0,s.Y2)(i),this._descriptor.context.bindTexture(l,c.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,e,i,r,s,o,a=0){o||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const h=this._descriptor.context.gl,l=this._descriptor.context.gl2,u=this._descriptor,f=this._deriveInternalFormat(),{pixelFormat:p,dataType:d,target:y,isImmutable:m}=u;if(m&&!this._wasImmutablyAllocated)throw new n.A("Cannot update immutable texture before allocation!");const _=this._descriptor.context.bindTexture(this,c.TEXTURE_UNIT_FOR_UPDATES,!0);if((e<0||i<0||r>u.width||s>u.height||e+r>u.width||i+s>u.height)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage(),a){if(!l)return void console.error("Webgl2 must be enabled to use dataRowOffset!");h.pixelStorei(l.UNPACK_SKIP_ROWS,a)}if(g(o)?l?l.texSubImage2D(y,t,e,i,r,s,p,d,o):h.texSubImage2D(y,t,e,i,p,d,o):v(o)?h.compressedTexSubImage2D(y,t,e,i,r,s,f,o.levels[t]):h.texSubImage2D(y,t,e,i,r,s,p,d,o),a){if(!l)return void console.error("Webgl2 must be enabled to use dataRowOffset!");h.pixelStorei(l.UNPACK_SKIP_ROWS,0)}this._descriptor.context.bindTexture(_,c.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,e,i,r,s,o,a,h){h||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const l=this._descriptor.context.gl2;if(null==l)throw new n.A("3D textures are not supported in WebGL1");const u=this._descriptor,f=this._deriveInternalFormat(),{pixelFormat:p,dataType:d,isImmutable:g,target:m}=u;if(g&&!this._wasImmutablyAllocated)throw new n.A("Cannot update immutable texture before allocation!");y(m)||console.warn("Attempting to set 3D texture data on a non-3D texture");const _=this._descriptor.context.bindTexture(this,c.TEXTURE_UNIT_FOR_UPDATES);if(this._descriptor.context.setActiveTexture(c.TEXTURE_UNIT_FOR_UPDATES),(e<0||i<0||r<0||s>u.width||o>u.height||a>u.depth||e+s>u.width||i+o>u.height||r+a>u.depth)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage(),v(h))h=h.levels[t],l.compressedTexSubImage3D(m,t,e,i,r,s,o,a,f,h);else{const n=h;l.texSubImage3D(m,t,e,i,r,s,o,a,p,d,n)}this._descriptor.context.bindTexture(_,c.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new n.A("Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,f(this._descriptor.context,t)}t.samplingMode===a.Cj.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=a.Cj.LINEAR_MIPMAP_NEAREST):t.samplingMode===a.Cj.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=a.Cj.NEAREST_MIPMAP_NEAREST);const e=this._descriptor.context.bindTexture(this,c.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(c.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(e,c.TEXTURE_UNIT_FOR_UPDATES)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,f(this._descriptor.context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._descriptor.context.gl,e=this._descriptor;this._samplingModeDirty&&(p(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(d(t,e),this._wrapModeDirty=!1)}_deriveInternalFormat(){if(this._descriptor.context.type===o.EL.WEBGL1)return this._descriptor.internalFormat=this._descriptor.pixelFormat;if(null!=this._descriptor.internalFormat)return this._descriptor.internalFormat===a.Ab.DEPTH_STENCIL&&(this._descriptor.internalFormat=a.Ab.DEPTH24_STENCIL8),this._descriptor.internalFormat;switch(this._descriptor.dataType){case a.ld.FLOAT:switch(this._descriptor.pixelFormat){case a.Ab.RGBA:return this._descriptor.internalFormat=a.H0.RGBA32F;case a.Ab.RGB:return this._descriptor.internalFormat=a.H0.RGB32F;default:throw new n.A("Unable to derive format")}case a.ld.UNSIGNED_BYTE:switch(this._descriptor.pixelFormat){case a.Ab.RGBA:return this._descriptor.internalFormat=a.H0.RGBA8;case a.Ab.RGB:return this._descriptor.internalFormat=a.H0.RGB8}}return this._descriptor.internalFormat=this._descriptor.pixelFormat===a.Ab.DEPTH_STENCIL?a.Ab.DEPTH24_STENCIL8:this._descriptor.pixelFormat}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:e,flipped:i,preMultiplyAlpha:n}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n?1:0)}_texStorage(t,e,i,r,s,o){const h=this._descriptor.context.gl2;if(null==h)throw new n.A("Immutable textures are not supported in WebGL1");if(!function(t){return t in a.H0}(e))throw new n.A("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=i?m(t,r,s,o):1;if(y(t)){if(null==o)throw new n.A("Missing depth dimension for 3D texture upload");h.texStorage3D(t,l,e,r,s,o)}else h.texStorage2D(t,l,e,r,s);this._wasImmutablyAllocated=!0}_texImage(t,e,i,r,s,a,h){const l=this._descriptor.context.gl,u=y(t),{isImmutable:c,pixelFormat:f,dataType:p}=this._descriptor,d=this._descriptor.context.type===o.EL.WEBGL2,v=d?l:null;if(d||!g(h))if(c){if(null!=h){const i=h;if(u){if(null==a)throw new n.A("Missing depth dimension for 3D texture upload");v.texSubImage3D(t,e,0,0,0,r,s,a,f,p,i)}else l.texSubImage2D(t,e,0,0,r,s,f,p,i)}}else{const o=h;if(u){if(null==a)throw new n.A("Missing depth dimension for 3D texture upload");v.texImage3D(t,e,i,r,s,a,0,f,p,o)}else l.texImage2D(t,e,i,r,s,0,f,p,o)}else l.texImage2D(t,0,i,f,p,h)}_compressedTexImage(t,e,i,r,s,a,h){const l=this._descriptor.context.gl;let u=null;const c=y(t),f=this._descriptor.isImmutable;if(c){if(this._descriptor.context.type!==o.EL.WEBGL2)throw new n.A("3D textures are not supported in WebGL1");u=l}if(f){if(null!=h)if(c){if(null==a)throw new n.A("Missing depth dimension for 3D texture upload");u.compressedTexSubImage3D(t,e,0,0,0,r,s,a,i,h)}else l.compressedTexSubImage2D(t,e,0,0,r,s,i,h)}else if(c){if(null==a)throw new n.A("Missing depth dimension for 3D texture upload");u.compressedTexImage3D(t,e,i,r,s,a,0,h)}else l.compressedTexImage2D(t,e,i,r,s,0,h)}_forEachMipmapLevel(t,e=1/0){let{width:i,height:r,depth:s,hasMipmap:o,target:h}=this._descriptor;const l=h===a.Ap.TEXTURE_3D;if(null==i||null==r||l&&null==s)throw new n.A("Missing texture dimensions for mipmap calculation");for(let n=0;t(n,i,r,s),o&&(1!==i||1!==r||l&&1!==s)&&!(n>=e);++n)i=Math.max(1,i>>1),r=Math.max(1,r>>1),l&&(s=Math.max(1,s>>1))}};function f(t,e){(null!=e.width&&e.width<0||null!=e.height&&e.height<0||null!=e.depth&&e.depth<0)&&console.error("Negative dimension parameters are not allowed!");const i=t.type===o.EL.WEBGL2;i||!e.isImmutable&&!y(e.target)||console.error("Immutable and 3D-like textures are not supported in WebGL1!"),i||null!=e.width&&(0,r.r6)(e.width)&&null!=e.height&&(0,r.r6)(e.height)||("number"==typeof e.wrapMode?e.wrapMode!==a.pF.CLAMP_TO_EDGE&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):e.wrapMode.s===a.pF.CLAMP_TO_EDGE&&e.wrapMode.t===a.pF.CLAMP_TO_EDGE||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),e.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}function p(t,e){let i=e.samplingMode,n=e.samplingMode;i===a.Cj.LINEAR_MIPMAP_NEAREST||i===a.Cj.LINEAR_MIPMAP_LINEAR?(i=a.Cj.LINEAR,e.hasMipmap||(n=a.Cj.LINEAR)):i!==a.Cj.NEAREST_MIPMAP_NEAREST&&i!==a.Cj.NEAREST_MIPMAP_LINEAR||(i=a.Cj.NEAREST,e.hasMipmap||(n=a.Cj.NEAREST)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,i),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,n)}function d(t,e){"number"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}function v(t){return null!=t&&"type"in t&&"compressed"===t.type}function g(t){return null!=t&&!v(t)&&!function(t){return null!=t&&"byteLength"in t}(t)}function y(t){return t===a.Ap.TEXTURE_3D||t===a.Ap.TEXTURE_2D_ARRAY}function m(t,e,i,n=1){let r=Math.max(e,i);return t===a.Ap.TEXTURE_3D&&(r=Math.max(r,n)),Math.round(Math.log(r)/Math.LN2)+1}c.TEXTURE_UNIT_FOR_UPDATES=0;const _=new Map},45758:(t,e,i)=>{i.d(e,{R:()=>s,e:()=>o});var n=i(41746),r=i(19282);class s{constructor(t=0,e=t){this.width=t,this.height=e,this.target=n.Ap.TEXTURE_2D,this.pixelFormat=n.Ab.RGBA,this.dataType=n.ld.UNSIGNED_BYTE,this.samplingMode=n.Cj.LINEAR,this.wrapMode=n.pF.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.depth=1,this.isImmutable=!1}}function o(t){return t.width<=0||t.height<=0?0:t.width*t.height*(t.hasMipmap?4/3:1)*(null==t.internalFormat?4:(0,r.IB)(t.internalFormat))}},19282:(t,e,i)=>{i.d(e,{Hi:()=>o,IB:()=>a,WH:()=>r,yu:()=>s});i(39831);var n=i(41746);function r(t){const e=t.gl;switch(e.getError()){case e.NO_ERROR:return null;case e.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case e.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case e.INVALID_OPERATION:return"The specified command is not allowed for the current state";case e.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case e.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case e.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function s(t,e,i,n,r=0){const s=t.gl;t.bindBuffer(i);for(const o of n){const i=e.get(o.name);void 0===i&&console.error(`There is no location for vertex attribute '${o.name}' defined.`);const n=r*o.stride;if(o.count<=4)s.vertexAttribPointer(i,o.count,o.type,o.normalized,o.stride,o.offset+n),s.enableVertexAttribArray(i),o.divisor>0&&t.gl2?.vertexAttribDivisor(i,o.divisor);else if(9===o.count)for(let e=0;e<3;e++)s.vertexAttribPointer(i+e,3,o.type,o.normalized,o.stride,o.offset+12*e+n),s.enableVertexAttribArray(i+e),o.divisor>0&&t.gl2?.vertexAttribDivisor(i+e,o.divisor);else if(16===o.count)for(let e=0;e<4;e++)s.vertexAttribPointer(i+e,4,o.type,o.normalized,o.stride,o.offset+16*e+n),s.enableVertexAttribArray(i+e),o.divisor>0&&t.gl2?.vertexAttribDivisor(i+e,o.divisor);else console.error("Unsupported vertex attribute element count: "+o.count)}}function o(t,e,i,r){const s=t.gl;t.bindBuffer(i);for(const n of r){const i=e.get(n.name);if(n.count<=4)s.disableVertexAttribArray(i),n.divisor&&n.divisor>0&&t.gl2?.vertexAttribDivisor(i,0);else if(9===n.count)for(let e=0;e<3;e++)s.disableVertexAttribArray(i+e),n.divisor&&n.divisor>0&&t.gl2?.vertexAttribDivisor(i+e,0);else if(16===n.count)for(let e=0;e<4;e++)s.disableVertexAttribArray(i+e),n.divisor&&n.divisor>0&&t.gl2?.vertexAttribDivisor(i+e,0);else console.error("Unsupported vertex attribute element count: "+n.count)}t.unbindBuffer(n.NZ.ARRAY_BUFFER)}function a(t){switch(t){case n.Ab.ALPHA:case n.Ab.LUMINANCE:case n.Ab.RED:case n.Ab.RED_INTEGER:case n.H0.R8:case n.H0.R8I:case n.H0.R8UI:case n.H0.R8_SNORM:case n.yQ.STENCIL_INDEX8:return 1;case n.Ab.LUMINANCE_ALPHA:case n.Ab.RG:case n.Ab.RG_INTEGER:case n.H0.RGBA4:case n.H0.R16F:case n.H0.R16I:case n.H0.R16UI:case n.H0.RG8:case n.H0.RG8I:case n.H0.RG8UI:case n.H0.RG8_SNORM:case n.H0.RGB565:case n.H0.RGB5_A1:case n.yQ.DEPTH_COMPONENT16:return 2;case n.Ab.DEPTH_COMPONENT:case n.Ab.RGB:case n.Ab.RGB_INTEGER:case n.H0.RGB8:case n.H0.RGB8I:case n.H0.RGB8UI:case n.H0.RGB8_SNORM:case n.H0.SRGB8:case n.yQ.DEPTH_COMPONENT24:return 3;case n.Ab.DEPTH_STENCIL:case n.Ab.DEPTH24_STENCIL8:case n.Ab.RGBA:case n.Ab.RGBA_INTEGER:case n.H0.RGBA8:case n.H0.R32F:case n.H0.R11F_G11F_B10F:case n.H0.RG16F:case n.H0.R32I:case n.H0.R32UI:case n.H0.RG16I:case n.H0.RG16UI:case n.H0.RGBA8I:case n.H0.RGBA8UI:case n.H0.RGBA8_SNORM:case n.H0.SRGB8_ALPHA8:case n.H0.RGB9_E5:case n.H0.RGB10_A2UI:case n.H0.RGB10_A2:case n.yQ.DEPTH_STENCIL:case n.yQ.DEPTH_COMPONENT32F:case n.yQ.DEPTH24_STENCIL8:return 4;case n.yQ.DEPTH32F_STENCIL8:return 5;case n.H0.RGB16F:case n.H0.RGB16I:case n.H0.RGB16UI:return 6;case n.H0.RG32F:case n.H0.RG32I:case n.H0.RG32UI:case n.H0.RGBA16F:case n.H0.RGBA16I:case n.H0.RGBA16UI:return 8;case n.H0.RGB32F:case n.H0.RGB32I:case n.H0.RGB32UI:return 12;case n.H0.RGBA32F:case n.H0.RGBA32I:case n.H0.RGBA32UI:return 16;case n.CQ.COMPRESSED_RGB_S3TC_DXT1_EXT:case n.CQ.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case n.CQ.COMPRESSED_RGBA_S3TC_DXT3_EXT:case n.CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case n.CQ.COMPRESSED_R11_EAC:case n.CQ.COMPRESSED_SIGNED_R11_EAC:case n.CQ.COMPRESSED_RGB8_ETC2:case n.CQ.COMPRESSED_SRGB8_ETC2:case n.CQ.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case n.CQ.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case n.CQ.COMPRESSED_RG11_EAC:case n.CQ.COMPRESSED_SIGNED_RG11_EAC:case n.CQ.COMPRESSED_RGBA8_ETC2_EAC:case n.CQ.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}},80976:(t,e,i)=>{i.d(e,{Z:()=>l});var n=i(539),r=i(6267),s=i(86942),o=i(41746),a=i(19282);const h=n.A.getLogger("esri.views.webgl.VertexArrayObject");let l=class{constructor(t,e,i,n,r=null){this._context=t,this._locations=e,this._layout=i,this._buffers=n,this._indexBuffer=r,this._glName=null,this._initialized=!1}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get byteSize(){return Object.keys(this._buffers).reduce(((t,e)=>t+this._buffers[e].byteLength),null!=this._indexBuffer?this._indexBuffer.byteLength:0)}get layout(){return this._layout}get locations(){return this._locations}get usedMemory(){return this.byteSize+(Object.keys(this._buffers).length+(this._indexBuffer?1:0))*s.zQ}dispose(){if(this._context){this._context.getBoundVAO()===this&&this._context.bindVAO(null);for(const t in this._buffers)this._buffers[t]?.dispose(),delete this._buffers[t];this._indexBuffer=(0,r.WD)(this._indexBuffer),this.disposeVAOOnly()}else(this._glName||Object.getOwnPropertyNames(this._buffers).length>0)&&h.warn("Leaked WebGL VAO")}disposeVAOOnly(){if(this._glName){const t=this._context?.capabilities?.vao;t.deleteVertexArray(this._glName),this._glName=null,this._context.instanceCounter.decrement(o.vt.VertexArrayObject,this)}this._context=null}initialize(){if(this._initialized)return;const t=this._context.capabilities.vao;if(t){const e=t.createVertexArray();t.bindVertexArray(e),this._bindLayout(),t.bindVertexArray(null),this._glName=e,this._context.instanceCounter.increment(o.vt.VertexArrayObject,this)}this._initialized=!0}bind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const{_buffers:t,_layout:e,_indexBuffer:i}=this;t||h.error("Vertex buffer dictionary is empty!");const n=this._context.gl;for(const r in t){const i=t[r];i||h.error("Vertex buffer is uninitialized!");const n=e[r];n||h.error("Vertex element descriptor is empty!"),(0,a.yu)(this._context,this._locations,i,n)}null!=i&&(this._context.capabilities.vao?n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,i.glName):this._context.bindBuffer(i))}unbind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const{_buffers:t,_layout:e}=this;t||h.error("Vertex buffer dictionary is empty!");for(const i in t){const n=t[i];n||h.error("Vertex buffer is uninitialized!");const r=e[i];(0,a.Hi)(this._context,this._locations,n,r)}null!=this._indexBuffer&&this._context.unbindBuffer(this._indexBuffer.bufferType)}}},69955:(t,e,i)=>{i.d(e,{_:()=>n});class n{constructor(t,e,i,n,r,s=!1,o=0){this.name=t,this.count=e,this.type=i,this.offset=n,this.stride=r,this.normalized=s,this.divisor=o}}},49251:(t,e,i)=>{function n(t){return window.WebGL2RenderingContext&&t instanceof window.WebGL2RenderingContext}i.d(e,{A:()=>n})},16541:(t,e,i)=>{i.d(e,{Xc:()=>h,Y2:()=>l,en:()=>a});var n=i(98849),r=i(39831);const s=i(539).A.getLogger("esri.views.webgl.checkWebGLError");const o=!!(0,r.A)("enable-feature:webgl-debug");function a(){return o}function h(){return o}function l(t){if(a()){const e=t.getError();if(e){const i=function(t,e){switch(e){case t.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case t.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case t.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case t.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case t.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case t.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(t,e),r=(new Error).stack;s.error(new n.A("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}},41746:(t,e,i)=>{var n,r,s,o,a,h,l,u,c,f,p,d,v,g,y,m,_,b,w,x;i.d(e,{Ab:()=>g,Ac:()=>l,Ap:()=>v,CQ:()=>I,Cj:()=>p,Co:()=>w,H0:()=>y,Hr:()=>E,MT:()=>c,NZ:()=>a,Nm:()=>A,R:()=>x,Tb:()=>o,WR:()=>r,Y7:()=>h,_U:()=>b,dn:()=>s,eA:()=>f,hn:()=>n,ld:()=>m,nI:()=>M,pF:()=>d,pe:()=>u,sS:()=>O,tx:()=>D,vt:()=>T,xM:()=>S,xV:()=>C,yQ:()=>_}),function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"}(n||(n={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(r||(r={})),function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(s||(s={})),function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(o||(o={})),function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"}(a||(a={})),function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(h||(h={})),function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"}(l||(l={})),function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT"}(u||(u={})),function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"}(c||(c={})),function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"}(f||(f={})),function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(p||(p={})),function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(d||(d={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(v||(v={})),function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"}(g||(g={})),function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"}(y||(y={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(m||(m={})),function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(_||(_={})),function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"}(b||(b={})),function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"}(w||(w={})),function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(x||(x={}));const S=33984;var T,A,E;!function(t){t[t.Texture=0]="Texture",t[t.BufferObject=1]="BufferObject",t[t.VertexArrayObject=2]="VertexArrayObject",t[t.Shader=3]="Shader",t[t.Program=4]="Program",t[t.FramebufferObject=5]="FramebufferObject",t[t.Renderbuffer=6]="Renderbuffer",t[t.Sync=7]="Sync",t[t.UNCOUNTED=8]="UNCOUNTED",t[t.LinesOfCode=8]="LinesOfCode",t[t.Uniform=9]="Uniform",t[t.COUNT=10]="COUNT"}(T||(T={})),function(t){t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"}(A||(A={})),function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"}(E||(E={}));const M=33306;var I,C,R,N,O,D,L;!function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(I||(I={})),function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(C||(C={})),function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"}(R||(R={})),function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"}(N||(N={})),function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"}(O||(O={})),function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(D||(D={})),function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}(L||(L={}))},12599:(t,e,i)=>{function n(t){return"l"===t?"m":"s"}i.d(e,{g:()=>n})},47859:(t,e,i)=>{i.d(e,{g:()=>n});const n=()=>[2,1,1,1,3].map((t=>{let e="";for(let i=0;i<t;i++)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e})).join("-")},70999:(t,e,i)=>{i.d(e,{I:()=>c,d:()=>f});var n=i(36705),r=i(72936),s=i(36691);const o="flip-rtl",a={},h={},l={s:16,m:24,l:32};async function u({icon:t,scale:e}){const i=l[e],r=function(t){const e=!isNaN(Number(t.charAt(0))),i=t.split("-");if(i.length>0){const e=/[a-z]/i;t=i.map(((t,i)=>t.replace(e,(function(t,e){return 0===i&&0===e?t:t.toUpperCase()})))).join("")}return e?`i${t}`:t}(t),s="F"===r.charAt(r.length-1),o=`${s?r.substring(0,r.length-1):r}${i}${s?"F":""}`;if(a[o])return a[o];h[o]||(h[o]=fetch((0,n.OX)(`./assets/icon/${o}.json`)).then((t=>t.json())).catch((()=>(console.error(`"${o}" is not a valid calcite-ui-icon name`),""))));const u=await h[o];return a[o]=u,u}const c=(0,n.w$)(class extends n.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.icon=null,this.flipRtl=!1,this.scale="m",this.textLabel=void 0,this.pathData=void 0,this.visible=!1}connectedCallback(){this.waitUntilVisible((()=>{this.visible=!0,this.loadIconPathData()}))}disconnectedCallback(){this.intersectionObserver?.disconnect(),this.intersectionObserver=null}async componentWillLoad(){this.loadIconPathData()}render(){const{el:t,flipRtl:e,pathData:i,scale:s,textLabel:a}=this,h=(0,r.b)(t),u=l[s],c=!!a,f=[].concat(i||"");return(0,n.h)(n.xr,{"aria-hidden":(0,r.t)(!c),"aria-label":c?a:null,role:c?"img":null},(0,n.h)("svg",{"aria-hidden":"true",class:{[o]:"rtl"===h&&e,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${u} ${u}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},f.map((t=>"string"==typeof t?(0,n.h)("path",{d:t}):(0,n.h)("path",{d:t.d,opacity:"opacity"in t?t.opacity:1})))))}async loadIconPathData(){const{icon:t,scale:e,visible:i}=this;if(!n.L2.isBrowser||!t||!i)return;const r=await u({icon:t,scale:e});t===this.icon&&(this.pathData=r)}waitUntilVisible(t){this.intersectionObserver=(0,s.c)("intersection",(e=>{e.forEach((e=>{e.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,t())}))}),{rootMargin:"50px"}),this.intersectionObserver?this.intersectionObserver.observe(this.el):t()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return":host{display:inline-flex;color:var(--calcite-ui-icon-color)}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}"}},[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]}]);function f(){if("undefined"==typeof customElements)return;["calcite-icon"].forEach((t=>{if("calcite-icon"===t)customElements.get(t)||customElements.define(t,c)}))}f()},50768:(t,e,i)=>{i.d(e,{c:()=>v,d:()=>g,u:()=>c});var n=i(36705);const r=/firefox/i.test(function(){if(!n.L2.isBrowser)return"";const t=navigator.userAgentData;return t?.brands?t.brands.map((({brand:t,version:e})=>`${t}/${e}`)).join(" "):navigator.userAgent}()),s=r?new WeakMap:null;function o(){const{disabled:t}=this;t||HTMLElement.prototype.click.call(this)}function a(t){const e=t.target;if(r&&!s.get(e))return;const{disabled:i}=e;i&&t.preventDefault()}const h=["mousedown","mouseup","click"];function l(t){if(r&&!s.get(t.target))return;const{disabled:e}=t.target;e&&(t.stopImmediatePropagation(),t.preventDefault())}const u={capture:!0};function c(t,e=!1){if(t.disabled)return t.el.setAttribute("tabindex","-1"),t.el.setAttribute("aria-disabled","true"),t.el.contains(document.activeElement)&&document.activeElement.blur(),void f(t);d(t),"function"==typeof e?t.el.setAttribute("tabindex",e.call(t)?"0":"-1"):!0===e?t.el.setAttribute("tabindex","0"):!1===e&&t.el.removeAttribute("tabindex"),t.el.removeAttribute("aria-disabled")}function f(t){t.el.click=o,function(t){if(!t)return;t.addEventListener("pointerdown",a,u),h.forEach((e=>t.addEventListener(e,l,u)))}(r?p(t):t.el)}function p(t){return s.get(t.el)}function d(t){delete t.el.click,function(t){if(!t)return;t.removeEventListener("pointerdown",a,u),h.forEach((e=>t.removeEventListener(e,l,u)))}(r?p(t):t.el)}function v(t){if(!t.disabled||!r)return;const e=t.el.parentElement||t.el;s.set(t.el,e),f(t)}function g(t){r&&(s.delete(t.el),d(t))}},66760:(t,e,i)=>{function n(t){return"Enter"===t||" "===t}i.d(e,{i:()=>n,n:()=>r});const r=["0","1","2","3","4","5","6","7","8","9"]},82850:(t,e,i)=>{i.d(e,{a:()=>o,c:()=>h,s:()=>a});var n=i(36705);const r=new WeakMap,s=new WeakMap;function o(t){s.set(t,new Promise((e=>r.set(t,e))))}function a(t){r.get(t)()}async function h(t){if(await function(t){return s.get(t)}(t),n.L2.isBrowser)return(0,n.$x)(t),new Promise((t=>requestAnimationFrame((()=>t()))))}},48877:(t,e,i)=>{i.d(e,{L:()=>s,d:()=>o});var n=i(36705),r=i(47859);const s=(0,n.w$)(class extends n.wt{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inline=!1,this.label=void 0,this.scale="m",this.type=void 0,this.value=0,this.text=""}render(){const{el:t,inline:e,label:i,scale:s,text:o,type:a,value:h}=this,l=t.id||(0,r.g)(),u=e?this.getInlineSize(s):this.getSize(s),c=.45*u,f=`0 0 ${u} ${u}`,p="determinate"===a,d=2*c*Math.PI,v=h/100*d,g=d-v,y=Math.floor(h),m={"aria-valuenow":y,"aria-valuemin":0,"aria-valuemax":100,complete:100===y},_={r:c,cx:u/2,cy:u/2},b={"stroke-dasharray":`${v} ${g}`};return(0,n.h)(n.xr,{"aria-label":i,id:l,role:"progressbar",...p?m:{}},(0,n.h)("div",{class:"loader__svgs"},(0,n.h)("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--1",viewBox:f},(0,n.h)("circle",{..._})),(0,n.h)("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--2",viewBox:f},(0,n.h)("circle",{..._})),(0,n.h)("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--3",viewBox:f,...p?{style:b}:{}},(0,n.h)("circle",{..._}))),o&&(0,n.h)("div",{class:"loader__text"},o),p&&(0,n.h)("div",{class:"loader__percentage"},h))}getSize(t){return{s:32,m:56,l:80}[t]}getInlineSize(t){return{s:12,m:16,l:20}[t]}get el(){return this}static get style(){return'@charset "UTF-8";@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{position:relative;margin-inline:auto;display:none;align-items:center;justify-content:center;opacity:1;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke:var(--calcite-ui-brand);stroke-width:3;fill:none;transform:scale(1, 1);animation:loader-color-shift calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) alternate-reverse infinite linear;padding-block:var(--calcite-loader-padding, 4rem)}:host([scale=s]){--calcite-loader-font-size:var(--calcite-font-size--2);--calcite-loader-size:2rem;--calcite-loader-size-inline:0.75rem}:host([scale=m]){--calcite-loader-font-size:var(--calcite-font-size-0);--calcite-loader-size:4rem;--calcite-loader-size-inline:1rem}:host([scale=l]){--calcite-loader-font-size:var(--calcite-font-size-2);--calcite-loader-size:6rem;--calcite-loader-size-inline:1.5rem}:host([no-padding]){padding-block:0px}:host{display:flex}.loader__text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);margin-block-start:calc(var(--calcite-loader-size) + 1.5rem)}.loader__percentage{position:absolute;display:block;text-align:center;color:var(--calcite-ui-text-1);font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size);inset-inline-start:50%;margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);line-height:0.25;transform:scale(1, 1)}.loader__svgs{position:absolute;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);inset-inline-start:50%;margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);animation-iteration-count:infinite;animation-timing-function:linear;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 6.66 / var(--calcite-internal-duration-factor));animation-name:loader-clockwise}.loader__svg{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);animation-iteration-count:infinite;animation-timing-function:linear}@supports (display: grid){.loader__svg--1{animation-name:loader-offset-1}.loader__svg--2{animation-name:loader-offset-2}.loader__svg--3{animation-name:loader-offset-3}}:host([type=determinate]){animation:none;stroke:var(--calcite-ui-border-3)}:host([type=determinate]) .loader__svgs{animation:none}:host([type=determinate]) .loader__svg--3{animation:none;stroke:var(--calcite-ui-brand);stroke-dasharray:150.79632;transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([inline]){position:relative;margin:0px;animation:none;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size-inline);min-block-size:var(--calcite-loader-size-inline);inline-size:var(--calcite-loader-size-inline);margin-inline-end:calc(var(--calcite-loader-size-inline) * 0.5);vertical-align:calc(var(--calcite-loader-size-inline) * -1 * 0.2)}:host([inline]) .loader__svgs{inset-block-start:0px;margin:0px;inset-inline-start:0;inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([inline]) .loader__svg{inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([complete]){opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms}:host([complete]) .loader__svgs{opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms}:host([complete]) .loader__percentage{color:var(--calcite-ui-brand);transform:scale(1.05, 1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear}.loader__svg--1{stroke-dasharray:27.9252444444 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 4.8 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444 251.3272;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-83.7757333333}100%{stroke-dasharray:27.9252444444 251.3272;stroke-dashoffset:-279.2524444444}}.loader__svg--2{stroke-dasharray:55.8504888889 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 6.4 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889 223.4019555556;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-97.7383555556}100%{stroke-dasharray:55.8504888889 223.4019555556;stroke-dashoffset:-279.2524444444}}.loader__svg--3{stroke-dasharray:13.9626222222 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 7.734 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222 265.2898222222;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-76.7944222222}100%{stroke-dasharray:13.9626222222 265.2898222222;stroke-dashoffset:-279.2524444444}}@keyframes loader-color-shift{0%{stroke:var(--calcite-ui-brand)}33%{stroke:var(--calcite-ui-brand-press)}66%{stroke:var(--calcite-ui-brand-hover)}100%{stroke:var(--calcite-ui-brand)}}@keyframes loader-clockwise{100%{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}'}},[1,"calcite-loader",{inline:[516],label:[1],scale:[513],type:[513],value:[2],text:[1]}]);function o(){if("undefined"==typeof customElements)return;["calcite-loader"].forEach((t=>{if("calcite-loader"===t)customElements.get(t)||customElements.define(t,s)}))}o()},52572:(t,e,i)=>{i.d(e,{B:()=>h,c:()=>I,d:()=>C,e:()=>m,g:()=>E,i:()=>l,n:()=>N,p:()=>u,s:()=>g});var n=i(72936),r=i(66760),s=i(36691);const o=new RegExp("\\.(0+)?$"),a=new RegExp("0+$");class h{constructor(t){if(t instanceof h)return t;const[e,i]=function(t){const e=t.split(/[eE]/);if(1===e.length)return t;const i=+t;if(Number.isSafeInteger(i))return`${i}`;const n="-"===t.charAt(0),r=+e[1],s=e[0].split("."),a=(n?s[0].substring(1):s[0])||"",h=s[1]||"",l=(t,e)=>{const i=Math.abs(e)-t.length,n=i>0?`${"0".repeat(i)}${t}`:t;return`${n.slice(0,e)}.${n.slice(e)}`},u=(t,e)=>{const i=e>t.length?`${t}${"0".repeat(e-t.length)}`:t;return`${i.slice(0,e)}.${i.slice(e)}`},f=r>0?`${a}${u(h,r)}`:`${l(a,r)}${h}`;return`${n?"-":""}${"."===f.charAt(0)?"0":""}${f.replace(o,"").replace(c,"")}`}(t).split(".").concat("");this.value=BigInt(e+i.padEnd(h.DECIMALS,"0").slice(0,h.DECIMALS))+BigInt(h.ROUNDED&&i[h.DECIMALS]>="5"),this.isNegative="-"===t.charAt(0)}getIntegersAndDecimals(){const t=this.value.toString().replace("-","").padStart(h.DECIMALS+1,"0");return{integers:t.slice(0,-h.DECIMALS),decimals:t.slice(-h.DECIMALS).replace(a,"")}}toString(){const{integers:t,decimals:e}=this.getIntegersAndDecimals();return`${this.isNegative?"-":""}${t}${e.length?"."+e:""}`}formatToParts(t){const{integers:e,decimals:i}=this.getIntegersAndDecimals(),n=t.numberFormatter.formatToParts(BigInt(e));return this.isNegative&&n.unshift({type:"minusSign",value:t.minusSign}),i.length&&(n.push({type:"decimal",value:t.decimal}),i.split("").forEach((t=>n.push({type:"fraction",value:t})))),n}format(t){const{integers:e,decimals:i}=this.getIntegersAndDecimals();return`${`${this.isNegative?t.minusSign:""}${t.numberFormatter.format(BigInt(e))}`}${i.length?`${t.decimal}${i.split("").map((e=>t.numberFormatter.format(Number(e)))).join("")}`:""}`}add(t){return h.fromBigInt(this.value+new h(t).value)}subtract(t){return h.fromBigInt(this.value-new h(t).value)}multiply(t){return h._divRound(this.value*new h(t).value,h.SHIFT)}divide(t){return h._divRound(this.value*h.SHIFT,new h(t).value)}}function l(t){return!(!t||isNaN(Number(t)))}function u(t){return t&&(e=t,r.n.some((t=>e.includes(t))))?y(t,(t=>{let e=!1;const i=t.split("").filter(((t,i)=>t.match(/\./g)&&!e?(e=!0,!0):!(!t.match(/\-/g)||0!==i)||r.n.includes(t))).join("");return l(i)?new h(i).toString():""})):"";var e}h.DECIMALS=100,h.ROUNDED=!0,h.SHIFT=BigInt("1"+"0".repeat(h.DECIMALS)),h._divRound=(t,e)=>h.fromBigInt(t/e+(h.ROUNDED?t*BigInt(2)/e%BigInt(2):BigInt(0))),h.fromBigInt=t=>Object.assign(Object.create(h.prototype),{value:t,isNegative:t<BigInt(0)});const c=/^([-0])0+(?=\d)/,f=/(?!^\.)\.$/,p=/(?!^-)-/g,d=/^-\b0\b\.?0*$/,v=/0*$/,g=t=>y(t,(t=>{const e=t.replace(p,"").replace(f,"").replace(c,"$1");return l(e)?d.test(e)?e:function(t){const e=t.split(".")[1],i=new h(t).toString(),[n,r]=i.split(".");return e&&r!==e?`${n}.${e}`:i}(e):t}));function y(t,e){if(!t)return t;const i=t.toLowerCase().indexOf("e")+1;return i?t.replace(/[eE]*$/g,"").substring(0,i).concat(t.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map(((t,i)=>e(1===i?t.replace(/\./g,""):t))).join("e").replace(/^e/,"1e"):e(t)}function m(t,e,i){const n=e.split(".")[1];if(n){const r=n.match(v)[0];if(r&&i.delocalize(t).length!==e.length&&-1===n.indexOf("e")){const e=i.decimal;return(t=t.includes(e)?t:`${t}${e}`).padEnd(t.length+r.length,i.localize("0"))}}return t}const _="en",b=["ar","bg","bs","ca","cs","da","de","el",_,"es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","no","nl","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],w=["ar","bg","bs","ca","cs","da","de","de-AT","de-CH","el",_,"en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],x=["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"],S=t=>x.includes(t),T=(new Intl.NumberFormat).resolvedOptions().numberingSystem,A="arab"!==T&&S(T)?T:"latn";function E(t,e="cldr"){const i="cldr"===e?w:b;return t?i.includes(t)?t:"nb"===(t=t.toLowerCase())?"no":"t9n"===e&&"pt"===t?"pt-BR":(t.includes("-")&&(t=t.replace(/(\w+)-(\w+)/,((t,e,i)=>`${e}-${i.toUpperCase()}`)),i.includes(t)||(t=t.split("-")[0])),"zh"===t?"zh-CN":i.includes(t)?t:(console.warn(`Translations for the "${t}" locale are not available and will fall back to the default, English (en).`),_)):_}const M=new Set;function I(t){!function(t){t.effectiveLocale=function(t){return t.el.lang||(0,n.c)(t.el,"[lang]")?.lang||document.documentElement.lang||_}(t)}(t),0===M.size&&R?.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],subtree:!0}),M.add(t)}function C(t){M.delete(t),0===M.size&&R.disconnect()}const R=(0,s.c)("mutation",(t=>{t.forEach((t=>{const e=t.target;M.forEach((t=>{if(!(0,n.x)(e,t.el))return;const i=(0,n.c)(t.el,"[lang]");if(!i)return void(t.effectiveLocale=_);const r=i.lang;t.effectiveLocale=i.hasAttribute("lang")&&""===r?_:r}))}))}));const N=new class{constructor(){this.delocalize=t=>this._numberFormatOptions?y(t,(t=>t.replace(new RegExp(`[${this._minusSign}]`,"g"),"-").replace(new RegExp(`[${this._group}]`,"g"),"").replace(new RegExp(`[${this._decimal}]`,"g"),".").replace(new RegExp(`[${this._digits.join("")}]`,"g"),this._getDigitIndex))):t,this.localize=t=>this._numberFormatOptions?y(t,(t=>l(t.trim())?new h(t.trim()).format(this).replace(new RegExp(`[${this._actualGroup}]`,"g"),this._group):t)):t}get group(){return this._group}get decimal(){return this._decimal}get minusSign(){return this._minusSign}get digits(){return this._digits}get numberFormatter(){return this._numberFormatter}get numberFormatOptions(){return this._numberFormatOptions}set numberFormatOptions(t){var e;if(t.locale=E(t?.locale),t.numberingSystem=(e=t?.numberingSystem,S(e)?e:A),!this._numberFormatOptions&&t.locale===_&&t.numberingSystem===A&&2===Object.keys(t).length||JSON.stringify(this._numberFormatOptions)===JSON.stringify(t))return;this._numberFormatOptions=t,this._numberFormatter=new Intl.NumberFormat(this._numberFormatOptions.locale,this._numberFormatOptions),this._digits=[...new Intl.NumberFormat(this._numberFormatOptions.locale,{useGrouping:!1,numberingSystem:this._numberFormatOptions.numberingSystem}).format(9876543210)].reverse();const i=new Map(this._digits.map(((t,e)=>[t,e]))),n=new Intl.NumberFormat(this._numberFormatOptions.locale,{numberingSystem:this._numberFormatOptions.numberingSystem}).formatToParts(-12345678.9);this._actualGroup=n.find((t=>"group"===t.type)).value,this._group=0===this._actualGroup.trim().length||" "==this._actualGroup?"\xa0":this._actualGroup,this._decimal=n.find((t=>"decimal"===t.type)).value,this._minusSign=n.find((t=>"minusSign"===t.type)).value,this._getDigitIndex=t=>i.get(t)}}},36691:(t,e,i)=>{i.d(e,{c:()=>r});var n=i(36705);function r(t,e,i){if(!n.L2.isBrowser)return;const r=function(t){class e extends window.MutationObserver{constructor(t){super(t),this.observedEntry=[],this.callback=t}observe(t,e){return this.observedEntry.push({target:t,options:e}),super.observe(t,e)}unobserve(t){const e=this.observedEntry.filter((e=>e.target!==t));this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),e.forEach((t=>this.observe(t.target,t.options)))}}return"intersection"===t?window.IntersectionObserver:"mutation"===t?e:window.ResizeObserver}(t);return new r(e,i)}},49263:(t,e,i)=>{i.d(e,{c:()=>c,d:()=>f,s:()=>h,u:()=>u});var n=i(36705),r=i(52572);const s={};function o(){throw new Error("could not fetch component message bundle")}function a(t){t.messages={...t.defaultMessages,...t.messageOverrides}}async function h(t){t.defaultMessages=await l(t,t.effectiveLocale),a(t)}async function l(t,e){if(!n.L2.isBrowser)return{};const{el:i}=t,a=i.tagName.toLowerCase().replace("calcite-","");return async function(t,e){const i=`${e}_${t}`;return s[i]||(s[i]=fetch((0,n.OX)(`./assets/${e}/t9n/messages_${t}.json`)).then((t=>(t.ok||o(),t.json()))).catch((()=>o()))),s[i]}((0,r.g)(e,"t9n"),a)}async function u(t,e){t.defaultMessages=await l(t,e),a(t)}function c(t){t.onMessagesChange=p}function f(t){t.onMessagesChange=void 0}function p(){a(this)}}}]);