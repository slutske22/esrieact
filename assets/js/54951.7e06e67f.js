"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[54951],{80347:(t,e,r)=>{r.d(e,{A:()=>h,B:()=>d,C:()=>l,D:()=>p,E:()=>z,F:()=>J,H:()=>T,a:()=>E,b:()=>g,c:()=>s,d:()=>u,e:()=>_,f:()=>c,g:()=>y,h:()=>S,i:()=>a,j:()=>M,k:()=>A,l:()=>i,m:()=>j,n:()=>w,o:()=>N,q:()=>U,r:()=>b,s:()=>v,t:()=>I,u:()=>x,v:()=>R,w:()=>f,x:()=>K,y:()=>L,z:()=>m});var n=r(19913),o=r(78115);function i(t){const e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function a(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function c(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function u(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function p(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function f(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function d(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function h(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function m(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function y(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function g(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function M(t,e){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(r*r+n*n+o*o)}function v(t,e){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2];return r*r+n*n+o*o}function A(t){const e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function x(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function b(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function w(t,e){const r=e[0],n=e[1],o=e[2];let i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function _(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function S(t,e,r){const n=e[0],o=e[1],i=e[2],s=r[0],a=r[1],c=r[2];return t[0]=o*c-i*a,t[1]=i*s-n*c,t[2]=n*a-o*s,t}function j(t,e,r,n){const o=e[0],i=e[1],s=e[2];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t[2]=s+n*(r[2]-s),t}function I(t,e,r){const n=e[0],o=e[1],i=e[2];return t[0]=r[0]*n+r[4]*o+r[8]*i+r[12],t[1]=r[1]*n+r[5]*o+r[9]*i+r[13],t[2]=r[2]*n+r[6]*o+r[10]*i+r[14],t}function N(t,e,r){const n=e[0],o=e[1],i=e[2];return t[0]=n*r[0]+o*r[3]+i*r[6],t[1]=n*r[1]+o*r[4]+i*r[7],t[2]=n*r[2]+o*r[5]+i*r[8],t}function R(t,e,r){const n=r[0],o=r[1],i=r[2],s=r[3],a=e[0],c=e[1],u=e[2],l=o*u-i*c,p=i*a-n*u,f=n*c-o*a,d=o*f-i*p,h=i*l-n*f,m=n*p-o*l,y=2*s;return t[0]=a+l*y+2*d,t[1]=c+p*y+2*h,t[2]=u+f*y+2*m,t}const O=(0,n.vt)(),P=(0,n.vt)();function U(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function z(t,e,r){const n=r[0]-e[0],o=r[1]-e[1],i=r[2]-e[2];let s=n*n+o*o+i*i;return s>0?(s=1/Math.sqrt(s),t[0]=n*s,t[1]=o*s,t[2]=i*s,t):(t[0]=0,t[1]=0,t[2]=0,t)}const E=u,Z=l,q=p,J=M,K=v,T=i,L=A;Object.freeze(Object.defineProperty({__proto__:null,abs:f,add:c,angle:function(t,e){w(O,t),w(P,e);const r=_(O,P);return r>1?0:r<-1?Math.PI:Math.acos(r)},bezier:function(t,e,r,n,o,i){const s=1-i,a=s*s,c=i*i,u=a*s,l=3*i*a,p=3*c*s,f=c*i;return t[0]=e[0]*u+r[0]*l+n[0]*p+o[0]*f,t[1]=e[1]*u+r[1]*l+n[1]*p+o[1]*f,t[2]=e[2]*u+r[2]*l+n[2]*p+o[2]*f,t},ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},clamp:function(t,e=0,r=1){return t[0]=Math.min(Math.max(t[0],e),r),t[1]=Math.min(Math.max(t[1],e),r),t[2]=Math.min(Math.max(t[2],e),r),t},copy:s,cross:S,crossAndNormalize:function(t,e,r){const n=e[0],o=e[1],i=e[2],s=r[0],a=r[1],c=r[2],u=o*c-i*a,l=i*s-n*c,p=n*a-o*s,f=Math.sqrt(u*u+l*l+p*p);return t[0]=u/f,t[1]=l/f,t[2]=p/f,t},direction:z,dist:J,distance:M,div:q,divide:p,dot:_,equals:function(t,e){if(t===e)return!0;const r=t[0],n=t[1],i=t[2],s=e[0],a=e[1],c=e[2],u=(0,o.FD)();return Math.abs(r-s)<=u*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-a)<=u*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-c)<=u*Math.max(1,Math.abs(i),Math.abs(c))},exactEquals:U,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},hermite:function(t,e,r,n,o,i){const s=i*i,a=s*(2*i-3)+1,c=s*(i-2)+i,u=s*(i-1),l=s*(3-2*i);return t[0]=e[0]*a+r[0]*c+n[0]*u+o[0]*l,t[1]=e[1]*a+r[1]*c+n[1]*u+o[1]*l,t[2]=e[2]*a+r[2]*c+n[2]*u+o[2]*l,t},inverse:b,len:T,length:i,lerp:j,max:m,min:h,mul:Z,multiply:l,negate:x,normalize:w,random:function(t,e=1){const r=o.Ov,n=2*r()*Math.PI,i=2*r()-1,s=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*s,t[1]=Math.sin(n)*s,t[2]=i*e,t},rotateX:function(t,e,r,n){const o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0],i[1]=o[1]*Math.cos(n)-o[2]*Math.sin(n),i[2]=o[1]*Math.sin(n)+o[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},rotateY:function(t,e,r,n){const o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[2]*Math.sin(n)+o[0]*Math.cos(n),i[1]=o[1],i[2]=o[2]*Math.cos(n)-o[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},rotateZ:function(t,e,r,n){const o=[],i=[];return o[0]=e[0]-r[0],o[1]=e[1]-r[1],o[2]=e[2]-r[2],i[0]=o[0]*Math.cos(n)-o[1]*Math.sin(n),i[1]=o[0]*Math.sin(n)+o[1]*Math.cos(n),i[2]=o[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:y,scaleAndAdd:g,set:a,sign:d,sqrDist:K,sqrLen:L,squaredDistance:v,squaredLength:A,str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},sub:E,subtract:u,transformMat3:N,transformMat4:I,transformQuat:R},Symbol.toStringTag,{value:"Module"}))},18031:(t,e,r)=>{r.d(e,{P:()=>d});var n=r(62991),o=r(89809),i=r(47980),s=r(19759),a=r(1874),c=r(88135),u=r(91101),l=r(81482),p=r(80925),f=r(55714);function d(t){const e=t?.origins??[void 0];return(r,n)=>{const o=function(t,e,r){if("resource"===t?.type)return function(t,e,r){const n=(0,c.z4)(e,r);return{type:String,read:(t,e,r)=>{const o=(0,f.r)(t,e,r);return n.type===String?o:"function"==typeof n.type?new n.type({url:o}):void 0},write:{isRequired:n.json?.write?.isRequired,writer(e,o,a,c){if(!c?.resources)return"string"==typeof e?void(o[a]=(0,f.t)(e,c)):void(o[a]=e.write({},c));const l=function(t){return null==t?null:"string"==typeof t?t:t.url}(e),d=(0,f.t)(l,{...c,verifyItemRelativeUrls:c?.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},f.M.NO),g=n.type!==String&&(!(0,i.H)(this)||c?.origin&&this.originIdOf(r)>(0,u.aB)(c.origin)),M={object:this,propertyName:r,value:e,targetUrl:d,dest:o,targetPropertyName:a,context:c,params:t};c?.portalItem&&d&&!(0,s.oP)(d)?g&&t?.contentAddressed?h(M):g?function(t){const{context:e,targetUrl:r,params:n,value:o,dest:i,targetPropertyName:a}=t;if(!e.portalItem)return;const c=e.portalItem.resourceFromPath(r),u=y(o,r,e),l=(0,p.n)(u),f=(0,s.Zo)(c.path),d=n?.compress??!1;l===f?(e.resources&&m({...t,resource:c,content:u,compress:d,updates:e.resources.toUpdate}),i[a]=r):h(t)}(M):function({context:t,targetUrl:e,dest:r,targetPropertyName:n}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),r[n]=e)}(M):c?.portalItem&&(null==d||null!=(0,f.i)(d)||(0,s.w8)(d)||g)?h(M):o[a]=d}}}}(t,e,r);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:e}=f.b;return{read:t,write:e}}}}(t,r,n);for(const t of e){const e=(0,l.rM)(r,t,n);for(const t in o)e[t]=o[t]}}}function h(t){const{targetUrl:e,params:r,value:i,context:c,dest:u,targetPropertyName:l}=t;if(!c.portalItem)return;const d=(0,f.p)(e),h=y(i,e,c);if(r?.contentAddressed&&"json"!==h.type)return void c.messages?.push(new n.A("persistable:contentAddressingUnsupported",`Property "${l}" is trying to serializing a resource with content of type ${h.type} with content addressing. Content addressing is only supported for json resources.`,{content:h}));const g=r?.contentAddressed&&"json"===h.type?(0,o.d)(h.jsonString):d?.filename??(0,a.lk)(),M=(0,s.fj)(r?.prefix??d?.prefix,g),v=`${M}.${(0,p.n)(h)}`;if(r?.contentAddressed&&c.resources&&"json"===h.type){const t=c.resources.toKeep.find((({resource:t})=>t.path===v))??c.resources.toAdd.find((({resource:t})=>t.path===v));if(t)return void(u[l]=t.resource.itemRelativeUrl)}const A=c.portalItem.resourceFromPath(v);(0,s.w8)(e)&&c.resources&&c.resources.pendingOperations.push((0,s.tk)(e).then((t=>{A.path=`${M}.${(0,p.n)({type:"blob",blob:t})}`,u[l]=A.itemRelativeUrl})).catch((()=>{})));const x=r?.compress??!1;c.resources&&m({...t,resource:A,content:h,compress:x,updates:c.resources.toAdd}),u[l]=A.itemRelativeUrl}function m({object:t,propertyName:e,updates:r,resource:n,content:o,compress:i}){r.push({resource:n,content:o,compress:i,finish:r=>{!function(t,e,r){"string"==typeof t[e]?t[e]=r.url:t[e].url=r.url}(t,e,r)}})}function y(t,e,r){return"string"==typeof t?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(r))}}},47980:(t,e,r)=>{function n(t){return t&&"getAtOrigin"in t&&"originOf"in t}r.d(e,{H:()=>n})},54951:(t,e,r)=>{r.r(e),r.d(e,{default:()=>z});var n=r(82392),o=r(38116),i=r(62991),s=r(80861),a=r(4506),c=r(33125),u=r(49175),l=r(61985),p=r(81482),f=(r(6273),r(67498),r(25376)),d=r(26325),h=r(18031),m=r(80347),y=r(19913),g=r(34670),M=r(8e3),v=r(44153),A=r(88133),x=r(41247),b=r(94763),w=r(30179),_=r(27303),S=r(90296),j=r(60368),I=r(22111),N=r(9014),R=r(8638),O=r(19541),P=r(55714);let U=class extends((0,w.b)((0,S.q)((0,j.A)((0,I.j)((0,c.P)((0,_.d)((0,b.p)(x.A)))))))){readModifications(t,e,r){this._modificationsSource={url:(0,P.f)(t,r),context:r}}initialize(){this.addHandles((0,l.on)((()=>this.modifications),"after-changes",(()=>this.modifications=this.modifications),l.OH))}constructor(t){super(t),this.operationalLayerType="IntegratedMesh3DTilesLayer",this.modifications=null,this._modificationsSource=null,this.spatialReference=new v.A({wkid:4326,vcsWkid:115700}),this.fullExtent=new M.A(-180,-90,180,90,this.spatialReference),this.url=null,this.type="integrated-mesh-3dtiles",this.path=null,this.minScale=0,this.maxScale=0,this.rootTilesetJSON=null}set elevationInfo(t){null!=t&&"absolute-height"!==t.mode||this._set("elevationInfo",t),this._validateElevationInfo(t)}_verifyArray(t,e){if(!Array.isArray(t)||t.length<e)return!1;for(const r of t)if("number"!=typeof r)return!1;return!0}_initFullExtent(){const t=this.rootTilesetJSON?.root?.boundingVolume;if(!t)return;if(t.box){const e=t?.box;if(e[3]>7645211&&e[7]>7645211&&e[11]>7645211)return}const e=this.rootTilesetJSON?.root?.transform,r=(0,y.vt)();if(t.region&&this._verifyArray(t.region,6)){const e=t.region,r=(0,a.KJ)(e[0]),n=(0,a.KJ)(e[1]),o=e[4],i=(0,a.KJ)(e[2]),s=(0,a.KJ)(e[3]),c=e[5];this.fullExtent=new M.A({xmin:r,ymin:n,zmin:o,xmax:i,ymax:s,zmax:c,spatialReference:this.spatialReference})}else if(t.sphere&&this._verifyArray(t.sphere,4)){const n=t.sphere,o=(0,y.fA)(n[0],n[1],n[2]),i=n[3]/Math.sqrt(3),s=(0,y.vt)();(0,m.d)(s,o,(0,y.fA)(i,i,i));const a=(0,y.vt)();if((0,m.f)(a,o,(0,y.fA)(i,i,i)),e&&this._verifyArray(e,16)){const t=e;(0,m.t)(r,s,t),(0,m.c)(s,r),(0,m.t)(r,a,t),(0,m.c)(a,r)}(0,A.projectBuffer)(s,g.Ro,0,s,v.A.WGS84,0),(0,A.projectBuffer)(a,g.Ro,0,a,v.A.WGS84,0);const c=(0,y.vt)(),u=(0,y.vt)();(0,m.A)(c,s,a),(0,m.z)(u,s,a),this.fullExtent=new M.A({xmin:c[0],ymin:c[1],zmin:c[2],xmax:u[0],ymax:u[1],zmax:u[2],spatialReference:this.spatialReference})}else if(t.box&&this._verifyArray(t.box,12)){const r=t.box,n=(0,y.fA)(r[0],r[1],r[2]),o=(0,y.fA)(r[3],r[4],r[5]),i=(0,y.fA)(r[6],r[7],r[8]),s=(0,y.fA)(r[9],r[10],r[11]),a=[];for(let t=0;t<8;++t)a.push((0,y.vt)());if((0,m.f)(a[0],n,o),(0,m.f)(a[0],a[0],i),(0,m.f)(a[0],a[0],s),(0,m.a)(a[1],n,o),(0,m.f)(a[1],a[1],i),(0,m.f)(a[1],a[1],s),(0,m.f)(a[2],n,o),(0,m.a)(a[2],a[2],i),(0,m.f)(a[2],a[2],s),(0,m.a)(a[3],n,o),(0,m.a)(a[3],a[3],i),(0,m.f)(a[3],a[3],s),(0,m.f)(a[4],n,o),(0,m.f)(a[4],a[4],i),(0,m.a)(a[4],a[4],s),(0,m.a)(a[5],n,o),(0,m.f)(a[5],a[5],i),(0,m.a)(a[5],a[5],s),(0,m.f)(a[6],n,o),(0,m.a)(a[6],a[6],i),(0,m.a)(a[6],a[6],s),(0,m.a)(a[7],n,o),(0,m.a)(a[7],a[7],i),(0,m.a)(a[7],a[7],s),e&&this._verifyArray(e,16)){const t=e;for(let e=0;e<8;++e)(0,m.t)(a[e],a[e],t)}const c=(0,y.fA)(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),u=(0,y.fA)(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let t=0;t<8;++t)(0,A.projectBuffer)(a[t],g.Ro,0,a[t],v.A.WGS84,0),(0,m.A)(u,u,a[t]),(0,m.z)(c,c,a[t]);this.fullExtent=new M.A({xmin:u[0],ymin:u[1],zmin:u[2],xmax:c[0],ymax:c[1],zmax:c[2],spatialReference:this.spatialReference})}}async load(t){return this.addResolvingPromise(this._doLoad(t)),this}async _doLoad(t){const e=null!=t?t.signal:null;try{await this.loadFromPortal({supportedTypes:["3DTiles Service"],validateItem:t=>{if(t.typeKeywords?.includes("IntegratedMesh"))return!0;throw new i.A("portal:invalid-layer-item-type","Invalid layer item, expected '${expectedType}' ",{expectedType:"3DTiles Service containing IntegratedMesh"})}},t)}catch(r){(0,u.QP)(r)}if(null!=this._modificationsSource){const e=await R.A.fromUrl(this._modificationsSource.url,this.spatialReference,t);this.setAtOrigin("modifications",e,this._modificationsSource.context.origin),this._modificationsSource=null}if(this.url){const t=(0,o.A)(this.url,{query:{...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then((t=>{this.rootTilesetJSON=t.data,this._initFullExtent()}),(t=>{(0,u.QP)(t)}));await t}}beforeSave(){if(null!=this._modificationsSource)return this.load().then((()=>{}),(()=>{}))}async fetchAttributionData(){return this.load().then((()=>({})))}_validateElevationInfo(t){const e="Integrated mesh 3d tiles layers";(0,O.XF)(s.A.getLogger(this),(0,O.B)(e,"absolute-height",t)),(0,O.XF)(s.A.getLogger(this),(0,O.tW)(e,t))}};(0,n._)([(0,p.MZ)({type:["IntegratedMesh3DTilesLayer"]})],U.prototype,"operationalLayerType",void 0),(0,n._)([(0,p.MZ)({type:R.A,clonable:t=>t.clone()}),(0,h.P)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],U.prototype,"modifications",void 0),(0,n._)([(0,f.w)(["web-scene","portal-item"],"modifications")],U.prototype,"readModifications",null),(0,n._)([(0,p.MZ)({type:v.A})],U.prototype,"spatialReference",void 0),(0,n._)([(0,p.MZ)({type:M.A})],U.prototype,"fullExtent",void 0),(0,n._)([(0,p.MZ)(N.Yj)],U.prototype,"elevationInfo",null),(0,n._)([(0,p.MZ)({type:["show","hide"]})],U.prototype,"listMode",void 0),(0,n._)([(0,p.MZ)(N.OZ)],U.prototype,"url",void 0),(0,n._)([(0,p.MZ)({readOnly:!0})],U.prototype,"type",void 0),(0,n._)([(0,p.MZ)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],U.prototype,"path",void 0),(0,n._)([(0,p.MZ)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:!1,write:!1}}}})],U.prototype,"minScale",void 0),(0,n._)([(0,p.MZ)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:!1,write:!1}}}})],U.prototype,"maxScale",void 0),U=(0,n._)([(0,d.$)("esri.layers.IntegratedMesh3DTilesLayer")],U);const z=U},94763:(t,e,r)=>{r.d(e,{p:()=>s});var n=r(82392),o=r(81482),i=(r(6273),r(80861),r(67498),r(26325));const s=t=>{let e=class extends t{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):function(t){return"portalItem"in t}(this)?this.portalItem?.apiKey:null}set apiKey(t){null!=t?this._override("apiKey",t):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,n._)([(0,o.MZ)({type:String})],e.prototype,"apiKey",null),e=(0,n._)([(0,i.$)("esri.layers.mixins.APIKeyMixin")],e),e}},8638:(t,e,r)=>{r.d(e,{A:()=>v});var n,o=r(82392),i=r(38116),s=r(54192),a=r(22395),c=r(19759),u=r(81482),l=(r(6273),r(80861),r(67498),r(26325)),p=r(15565),f=r(97629),d=r(48524),h=r(18031),m=r(65648),y=r(27646);let g=n=class extends a.A{constructor(t){super(t),this.geometry=null,this.type="clip"}writeGeometry(t,e,r,n){if(n.layer?.spatialReference&&!n.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,y.canProjectWithoutEngine)(t.spatialReference,n.layer.spatialReference))return void(n?.messages&&n.messages.push(new f.A("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:n.layer.spatialReference,context:n})));const o=new m.A;(0,y.projectPolygon)(t,o,n.layer.spatialReference),e[r]=o.toJSON(n)}else e[r]=t.toJSON(n);delete e[r].spatialReference}clone(){return new n({geometry:(0,p.o8)(this.geometry),type:this.type})}};var M;(0,o._)([(0,u.MZ)({type:m.A}),(0,h.P)()],g.prototype,"geometry",void 0),(0,o._)([(0,d.K)(["web-scene","portal-item"],"geometry")],g.prototype,"writeGeometry",null),(0,o._)([(0,u.MZ)({type:["clip","mask","replace"],nonNullable:!0}),(0,h.P)()],g.prototype,"type",void 0),g=n=(0,o._)([(0,l.$)("esri.layers.support.SceneModification")],g);let v=M=class extends(a.A.JSONSupportMixin(s.A.ofType(g))){constructor(t){super(t),this.url=null}clone(){return new M({url:this.url,items:this.items.map((t=>t.clone()))})}toJSON(t){return this.toArray().map((e=>e.toJSON(t))).filter((t=>!!t.geometry))}static fromJSON(t,e){const r=new M;for(const n of t)r.add(g.fromJSON(n,e));return r}static async fromUrl(t,e,r){const n={url:(0,c.An)(t),origin:"service"},o=await(0,i.A)(t,{responseType:"json",signal:r?.signal}),s=e.toJSON(),a=[];for(const i of o.data)a.push(g.fromJSON({...i,geometry:{...i.geometry,spatialReference:s}},n));return new M({url:t,items:a})}};(0,o._)([(0,u.MZ)({type:String})],v.prototype,"url",void 0),v=M=(0,o._)([(0,l.$)("esri.layers.support.SceneModifications")],v)},80925:(t,e,r)=>{r.d(e,{n:()=>o});var n=r(19759);function o(t){return i[function(t){return"json"===t.type?"application/json":"blob"===t.type?t.blob.type:function(t){const e=(0,n.Zo)(t);return c[e]||s}(t.url)}(t)]||a}const i={},s="text/plain",a=i[s],c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const u in c)i[c[u]]=u},19541:(t,e,r)=>{r.d(e,{$7:()=>s,B:()=>i,XF:()=>c,tW:()=>a,w7:()=>o});r(5262),r(69172);function n(t){return t?u:l}function o(t,e){return function(t,e){return e?.mode?e.mode:n(t).mode}(null==t||(t.hasZ??!1),e)}function i(t,e,r){return r&&r.mode!==e?`${t} only support ${e} elevation mode`:null}function s(t,e,r){return r?.mode===e?`${t} do not support ${e} elevation mode`:null}function a(t,e){return null!=e?.featureExpressionInfo&&"0"!==e.featureExpressionInfo.expression?`${t} do not support featureExpressionInfo`:null}function c(t,e){e&&t.warn(".elevationInfo=",e)}const u={mode:"absolute-height",offset:0},l={mode:"on-the-ground",offset:null}}}]);