"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[98407],{6371:(e,t,r)=>{function o(e){let t,r,o=[],i=!1;return function(...n){return i&&t===this&&function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(n,o)||(r=e.apply(this,n),t=this,o=n,i=!0),r}}r.d(t,{B:()=>o})},97557:(e,t,r)=>{r.d(t,{A:()=>p});var o,i=r(66866),n=r(24793),s=r(21877),a=r(21564),l=(r(39831),r(539),r(9272),r(28902)),c=r(63863);let p=class extends(n.A.ClonableMixin(s.A)){static{o=this}constructor(e){super(e),this.type="georeferenced",this.origin=null}static{this.absolute=new o}};(0,i._)([(0,l.e)({georeferenced:"georeferenced"},{readOnly:!0})],p.prototype,"type",void 0),(0,i._)([(0,a.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],p.prototype,"origin",void 0),p=o=(0,i._)([(0,c.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],p)},99218:(e,t,r)=>{r.d(t,{A:()=>p});var o=r(66866),i=r(24793),n=r(21877),s=r(21564),a=(r(39831),r(539),r(9272),r(28902)),l=r(63863),c=r(58359);let p=class extends(i.A.ClonableMixin(n.A)){constructor(e){super(e),this.type="local",this.origin=(0,c.vt)()}};(0,o._)([(0,a.e)({local:"local"},{readOnly:!0})],p.prototype,"type",void 0),(0,o._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],p.prototype,"origin",void 0),p=(0,o._)([(0,l.$)("esri.geometry.support.MeshLocalVertexSpace")],p)},1114:(e,t,r)=>{r.d(t,{CK:()=>c,E9:()=>a,Hq:()=>l,MW:()=>p,TE:()=>d,yJ:()=>u});var o=r(24121),i=r(97066),n=r(97557),s=r(99218);function a(e){return null==e.origin}function l(e){return null!=e.origin}function c(e){return l(e.vertexSpace)}function p(e,t){if(!l(e))return null;const[r,o,n]=e.origin;return new i.A({x:r,y:o,z:n,spatialReference:t})}function d(e,t){const{x:r,y:o,z:i,spatialReference:a}=e,l=[r,o,i??0];return"local"===(t?.vertexSpace??function(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}(a))?new s.A({origin:l}):new n.A({origin:l})}function u(e,t){return e.type===t.type&&(e.origin===t.origin||null!=e.origin&&null!=t.origin&&(0,o.q)(e.origin,t.origin))}},9723:(e,t,r)=>{r.d(t,{CI:()=>n,fk:()=>s});r(39831);var o=r(92504),i=r(87926);function n(e,t){return e===t||null!=e&&null!=t&&(0,i.aI)(e.spatialReference,t.spatialReference)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.m===t.m}function s(e,t,r){return e===t||null!=e&&null!=t&&(0,i.aI)(e.spatialReference,t.spatialReference)&&(0,o.Sp)(e.x,t.x,r)&&(0,o.Sp)(e.y,t.y,r)&&(0,o.Sp)(e.z??0,t.z??0,r)&&(0,o.Sp)(e.m??0,t.m??0,r)}},87290:(e,t,r)=>{r.r(t),r.d(t,{DrawScreenTool:()=>f,geometryTypeToDrawOperationGeometryType:()=>w});var o=r(66866),i=r(17306),n=r(20464),s=r(6267),a=r(21564),l=(r(39831),r(539),r(9272),r(63863)),c=r(50424),p=r(96453),d=r(12019),u=r(83372),h=r(7388),y=r(37413),g=r(52495),v=r(80510),m=(r(99484),r(96704));let _=class extends g.A{constructor(e){super(e),this.coordinates=void 0,this.strokeDash=[],this.strokeWidth=1,this.strokeColor=[0,0,0,1],this.strokeDashColor=[255,255,255,1],this.fillColor=[0,0,0,0],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const e=this.strokeColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}get _strokeBackgroundStyle(){const e=this.strokeDashColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}get _fillStyle(){const e=this.fillColor;return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}get _renderCoordinates(){const e=[];if(!this.coordinates)return{coordinates:e,rect:v.qv};const t=(0,v.eV)((0,v.Jf)((0,v.vt)(v.qv),this.coordinates),2*this.strokeWidth);t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]+.5),t[3]=Math.ceil(t[3]+.5);for(const r of this.coordinates)e.push([Math.floor(r[0]-t[0])+.5,Math.floor(r[1]-t[1])+.5]);return e.reverse(),{coordinates:e,rect:t}}render(){const{coordinates:e,rect:t}=this._renderCoordinates,r=(0,v.VL)(t),o=(0,v.uJ)(t);return(0,m.K)("div",{classes:{"esri-outline-overlay-item":!0},styles:{left:t[0]+"px",top:t[1]+"px",width:r+"px",height:o+"px",visibility:this.visible?"visible":"hidden"}},(0,m.K)("svg",{height:o,styles:{display:"block"},width:r},(0,m.K)("polygon",{fill:this._fillStyle,points:e.map((([e,t])=>`${e},${t}`)).join(" "),stroke:this._strokeBackgroundStyle,"stroke-width":this.strokeWidth}),(0,m.K)("polygon",{fill:"transparent",points:e.map((([e,t])=>`${e},${t}`)).join(" "),stroke:this._strokeStyle,"stroke-dasharray":this.strokeDash.length?this.strokeDash.join(" "):void 0,"stroke-width":this.strokeWidth})))}renderCanvas(){}};(0,o._)([(0,a.MZ)()],_.prototype,"coordinates",void 0),(0,o._)([(0,a.MZ)()],_.prototype,"strokeDash",void 0),(0,o._)([(0,a.MZ)()],_.prototype,"strokeWidth",void 0),(0,o._)([(0,a.MZ)()],_.prototype,"strokeColor",void 0),(0,o._)([(0,a.MZ)()],_.prototype,"strokeDashColor",void 0),(0,o._)([(0,a.MZ)()],_.prototype,"fillColor",void 0),(0,o._)([(0,a.MZ)()],_.prototype,"visible",void 0),(0,o._)([(0,a.MZ)()],_.prototype,"isDecoration",void 0),(0,o._)([(0,a.MZ)({readOnly:!0})],_.prototype,"_strokeStyle",null),(0,o._)([(0,a.MZ)({readOnly:!0})],_.prototype,"_strokeBackgroundStyle",null),(0,o._)([(0,a.MZ)({readOnly:!0})],_.prototype,"_fillStyle",null),(0,o._)([(0,a.MZ)({readOnly:!0})],_.prototype,"_renderCoordinates",null),_=(0,o._)([(0,l.$)("esri.views.overlay.OutlineOverlayItem")],_);let f=class extends(i.A.EventedMixin(y.g)){constructor(e){super(e),this.drawOperation=null,this._overlayItem=void 0,this.geometryType=null,this.mode=null,this.type="draw-screen"}initialize(){this.drawOperation=this._makeDrawOperation();const e=e=>this.drawOperation?.on(e,(t=>{this._updateVisuals(),this.emit(e,t)}))??(0,n.hA)();this.addHandles([e("vertex-add"),e("vertex-remove"),e("vertex-update"),e("cursor-update"),e("complete")]),this.finishToolCreation()}destroy(){this.drawOperation=(0,s.pR)(this.drawOperation),this._set("view",null)}get canRedo(){return!!this.drawOperation?.canRedo}get canUndo(){return!!this.drawOperation?.canUndo}set centeredToggled(e){this._set("centeredToggled",e),this._updateVisuals()}set enabled(e){const{drawOperation:t}=this;t&&(t.interactive=e),this._set("enabled",e)}set uniformSizeToggled(e){this._set("uniformSizeToggled",e),this._updateVisuals()}get updating(){return this.drawOperation?.updating??!1}get cursor(){return this._get("cursor")??"crosshair"}set cursor(e){this._set("cursor",e);const{drawOperation:t}=this;t&&(t.cursor=e)}completeCreateOperation(){this.drawOperation?.complete()}onInputEvent(e){this.destroyed||this.drawOperation?.onInputEvent(e)}redo(){this.drawOperation?.redo()}undo(){this.drawOperation?.undo()}reset(){}_makeDrawOperation(){const{view:e}=this;return new p.O0({view:e,manipulators:this.manipulators,geometryType:w(this.geometryType),drawingMode:this.mode,hasZ:!1,defaultZ:0,snapToSceneEnabled:!1,drawSurface:new d.Sl,hasM:!1,snappingManager:null,snappingVisualizer:null,graphic:null,cursor:this.cursor,automaticLengthMeasurementUtils:this.automaticLengthMeasurementUtils})}get coordinates(){const{drawOperation:e}=this;if(!e?.geometryIncludingUncommittedVertices.length)return[];const{coordinateHelper:t}=e,r=e.committableVertex,o=e.committedVertices.slice();null!=r&&o.push(t.pointToArray(r));const i=o.length;switch(this.geometryType){case"point":return o.slice(0,1);case"circle":case"rectangle":{const t=new h.vz(c.zK,d.Sl.spatialReference),r="circle"===this.geometryType?u.zV:u.GF,n="circle"===this.geometryType?u.zd:u._T;if(1===i&&e.isCompleted){const e=o[0],i=t.makeMapPoint(e[0]+M,e[1]);return r([e,i],t,!0)?.geometry.rings[0]??[]}if(2===i){const e="rectangle"!==this.geometryType,i=this.centeredToggled!==e,s="rectangle"!==this.geometryType;return(this.uniformSizeToggled!==s?r(o,t,i)?.geometry.rings[0]:n(o,t,i)?.geometry.rings[0])??[]}return[]}}return o}_updateVisuals(){if(!this._overlayItem){const e=new _({strokeDash:[5],strokeDashColor:[255,255,255,255]});this.view.overlay?.addItem(e),this.addHandles((0,n.hA)((()=>{this.view.overlay?.removeItem(e),e?.destroy(),this._overlayItem=void 0}))),this._overlayItem=e}this._overlayItem.coordinates=this.coordinates}onDeactivate(){this.drawOperation?.isCompleted||this.drawOperation?.cancel()}};function w(e){switch(e){case"polygon":case"point":return e;case"circle":case"rectangle":return"segment"}}(0,o._)([(0,a.MZ)({value:!1})],f.prototype,"centeredToggled",null),(0,o._)([(0,a.MZ)()],f.prototype,"drawOperation",void 0),(0,o._)([(0,a.MZ)({value:!0})],f.prototype,"enabled",null),(0,o._)([(0,a.MZ)({value:!1})],f.prototype,"uniformSizeToggled",null),(0,o._)([(0,a.MZ)({constructOnly:!0})],f.prototype,"geometryType",void 0),(0,o._)([(0,a.MZ)({constructOnly:!0})],f.prototype,"mode",void 0),(0,o._)([(0,a.MZ)({readOnly:!0})],f.prototype,"type",void 0),(0,o._)([(0,a.MZ)({readOnly:!0})],f.prototype,"updating",null),(0,o._)([(0,a.MZ)({constructOnly:!0,nonNullable:!0})],f.prototype,"view",void 0),(0,o._)([(0,a.MZ)({constructOnly:!0})],f.prototype,"automaticLengthMeasurementUtils",void 0),(0,o._)([(0,a.MZ)()],f.prototype,"cursor",null),f=(0,o._)([(0,l.$)("esri.views.draw.DrawScreenTool")],f);const M=48}}]);