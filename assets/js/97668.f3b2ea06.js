"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[97668],{85470:(e,n,t)=>{t.d(n,{A:()=>d});var a,r=t(66866),i=t(21877),l=t(19251),s=t(21564),o=t(73446),u=t(63863);let d=a=class extends i.A{constructor(e){super(e),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new a({variableName:this.variableName,dimensionName:this.dimensionName,values:(0,l.o8)(this.values),isSlice:this.isSlice})}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],d.prototype,"variableName",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],d.prototype,"dimensionName",void 0),(0,r._)([(0,s.MZ)({type:o.gK.array(o.gK.oneOf([o.gK.native(Number),o.gK.array(o.gK.native(Number))])),json:{write:!0}})],d.prototype,"values",void 0),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"isSlice",void 0),d=a=(0,r._)([(0,u.$)("esri.layers.support.DimensionalDefinition")],d)},52775:(e,n,t)=>{t.d(n,{C:()=>l,m:()=>i});var a=t(98849),r=t(40189);async function i(e,n,t){let i;try{i=await createImageBitmap(e)}catch(l){throw new a.A("request:server",`Unable to load ${n}`,{url:n,error:l})}return(0,r.Te)(t),i}async function l(e,n,t,i,l){let s;try{s=await createImageBitmap(e)}catch(o){throw new a.A("request:server",`Unable to load tile ${n}/${t}/${i}`,{error:o,level:n,row:t,col:i})}return(0,r.Te)(l),s}},28582:(e,n,t)=>{function a(e){return"Function"===e?.datasetFormat}function r(e){return a(e)?e.primaryRasters.rasters:[e]}t.d(n,{p:()=>r,q:()=>a})},75792:(e,n,t)=>{t.d(n,{$E:()=>D,DY:()=>b,NG:()=>S,QW:()=>l,Rp:()=>m,XU:()=>h,Xg:()=>N,ct:()=>v,fy:()=>g,sx:()=>f,xx:()=>s,z2:()=>y});var a=t(85569),r=t(85470);function i(e,n,t){const a=n.shift();if(0===t.length){const e=[];t.push({sliceId:-1,multidimensionalDefinition:e})}const r=t.length;for(let i=0;i<r;i++){const n=t.shift().multidimensionalDefinition;a.values?.forEach((r=>{t.push({sliceId:-1,multidimensionalDefinition:[...n,{variableName:e,dimensionName:a.name,values:[r]}]})}))}n.length&&i(e,n,t)}function l(e,n){const t=[];let a=0;return(n?e.variables.filter((e=>e.name.toLowerCase()===n.toLowerCase())):[...e.variables].sort(((e,n)=>e.name>n.name?1:-1))).forEach((e=>{const n=[],r=[...e.dimensions].sort(((e,n)=>e.name>n.name?-1:1));i(e.name,r,n),n.forEach((e=>{t.push({...e,sliceId:a++})}))})),t}function s(e,n,t){let a=e;if(n&&(n=[...n].sort(((e,n)=>e.dimensionName<n.dimensionName?-1:1))).forEach((({dimensionName:e,values:n,isSlice:t})=>{n.length&&(a=a.filter((a=>{const r=a.multidimensionalDefinition.find((n=>n.dimensionName===e));if(null==r)return!1;const i=r.values[0];return"number"==typeof i?"number"==typeof n[0]?n.includes(i):n.some((e=>e[0]<=i&&e[1]>=i)):"number"==typeof n[0]?n.some((e=>i[0]<=e&&i[1]>=e)):t?n.some((e=>e[0]===i[0]&&e[0]===i[1])):n.some((e=>e[0]>=i[0]&&e[0]<=i[1]||e[1]>=i[0]&&e[1]<=i[1]||e[0]<i[0]&&e[1]>i[1]))})))})),a.length&&null!=t?.start&&null!=t.end){const e=t.start.getTime(),n=t.end.getTime(),r=a[0].multidimensionalDefinition.findIndex((e=>"StdTime"===e.dimensionName));r>-1&&(a=a.filter((t=>{const a=t.multidimensionalDefinition[r].values[0];return e<=a&&n>=a})))}return a.map((e=>e.sliceId))}function o(e,n){return Array.isArray(e)?n[0]===n[1]?e[0]===n[0]||e[1]===n[0]:e[0]>=n[0]&&e[0]<=n[1]&&e[1]>=n[0]&&e[1]<=n[1]:e>=n[0]&&e<=n[1]}function u(e,n){return e[0]<=n[0]&&e[1]>=n[0]||e[0]<=n[1]&&e[1]>=n[1]||e[0]>=n[0]&&e[1]<=n[1]}function d(e){return 1===e.length?[e[0],e[0]]:[e[0],e[e.length-1]]}function c(e,n,t){if(!n?.subsetDefinitions?.length)return e;let a;if(t){const{variables:r}=n;if(r.length&&!r.includes(t))return null;const i=n.subsetDefinitions.find((n=>n.dimensionName===e.name&&n.variableName===t));if(!i?.values?.length)return e;a=d(i.values)}else{const t=n.dimensions.find((({name:n})=>n===e.name));a=t?.extent}const r=a;if(!r?.length)return e;const i=e.values.filter((e=>o(e,r)));return{...e,extent:[...r],values:i}}function f(e,n,t){if(!n?.subsetDefinitions?.length)return!1;const{variables:a}=n;if(a.length&&e.some((({variableName:e})=>e&&!a.includes(e))))return!0;for(let r=0;r<e.length;r++){const a=e[r],i=n.subsetDefinitions.find((e=>(""===a.variableName||e.variableName===a.variableName)&&e.dimensionName===a.dimensionName));if(i?.values.length){const e=d(i.values);if(a.isSlice||2!==a.values.length||Array.isArray(a.values[0])||a.values[0]===a.values[1]||!t){if(a.values.some((n=>!o(n,e))))return!0}else if(!u(a.values,e))return!0}}return!1}function m(e,n){if(null==e)return{isOutside:!1};const{geometry:t,timeExtent:a,multidimensionalDefinition:i}=n;let l=null;if(null!=a&&(l=function(e,n){const t=e.dimensions.find((({name:e})=>"StdTime"===e));if(null==t||null==n.start&&null==n.end)return n;n=n.clone();const{start:a,end:i}=n.toJSON(),l=a===i?[a]:null!=a&&null!=i?[a,i]:[a??i];return 2===l.length&&t?.extent.length&&(l[0]=Math.max(l[0],t.extent[0]),l[1]=Math.min(l[1],t.extent[1]??t.extent[0]),l[1]<l[0])||f([new r.A({variableName:"",dimensionName:"StdTime",isSlice:1===l.length,values:l})],e,!0)?null:(n.start=new Date(l[0]),n.end=new Date(l[1]??l[0]),n)}(e,a),null==l))return{isOutside:!0};const{areaOfInterest:s}=e;if(s&&t){const e="point"===t.type?t:"extent"===t.type?t.center:"polygon"===t.type?t.centroid:null;if(e&&!s.contains(e))return{isOutside:!0}}return null!=i&&i.length&&f(i,e,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:t,timeExtent:l,multidimensionalDefinition:i}}}function h(e){const{rasterInfo:n,multidimensionalSubset:t}=e,{multidimensionalInfo:a}=n;if(null==a)return null;let r=e.multidimensionalDefinition?.length?e.multidimensionalDefinition:g(n,{multidimensionalSubset:t});if(!r?.length)return null;if(r.some((e=>!e.dimensionName))){const{variableName:e}=r[0],a=g(n,{multidimensionalSubset:t,variableName:e});a?.forEach((e=>{const n=r?.find((({dimensionName:n})=>n===e.dimensionName));n?.values?.length&&(e.values=n.values,e.isSlice=n.isSlice)})),r=a}const{timeExtent:i}=e;if(null!=r&&null!=i&&(null!=i.start||null!=i.end)){r=r.map((e=>e.clone()));const e=a.variables.find((({name:e})=>e===r[0].variableName))?.dimensions?.find((({name:e})=>"StdTime"===e)),n=r.find((({dimensionName:e})=>"StdTime"===e));if(!e||!n)return null;const{start:t,end:l}=i,s=null==t?null:t.getTime(),o=null==l?null:l.getTime(),u=s??o,d=o??s;if(null!=e.values){const t=e.values.filter((e=>{if(Array.isArray(e)){if(u===d)return e[0]<=u&&e[1]>=u;const n=e[0]<=u&&e[1]>u||e[0]<d&&e[1]>=d,t=e[0]>=u&&e[1]<=d||e[0]<u&&e[1]>d;return n||t}return u===d?e===u:e>=u&&e<=d}));if(t.length){const e=t.sort(((e,n)=>{const t=Array.isArray(e)?e[0]:e,a=Array.isArray(e)?e[1]:e,r=Array.isArray(n)?n[0]:n,i=Array.isArray(n)?n[1]:n;return u===d?t-r:Math.abs(a-d)-Math.abs(i-d)}))[0];n.values=[e]}else r=null}else if(e.hasRegularIntervals&&e.extent){const[t,a]=e.extent;u>a||d<t?r=null:n.values=u===d?[u]:[Math.max(t,u),Math.min(a,d)]}}return null!=r&&f(r,t)?null:r}function v(e,n={}){const{multidimensionalInfo:t,keyProperties:a}=e;if(null==t)return null;const{variableName:r,multidimensionalSubset:i,multidimensionalDefinition:l}=n,s=null!=l?l[0]?.variableName:null,o=r||s||a?.DefaultVariable;let{variables:u}=t;return i?.variables?.length&&(u=u.filter((({name:e})=>i.variables.includes(e)))),o?u.find((({name:e})=>e===o))??u[0]:u[0]}function g(e,n={}){const t=v(e,n);if(!t)return null;const a=[],{dimensions:i,name:l}=t;if(0===i.length)return[new r.A({variableName:l,dimensionName:"",values:[],isSlice:!0})];for(let s=0;s<i.length;s++){const e=c(i[s],n.multidimensionalSubset,l);if(!e)return null;const{values:t,extent:o}=e;let u=t?.[0]??o?.[0];"stdz"===e.name.toLowerCase()&&!e.hasRanges&&o&&Math.abs(o[1])<=Math.abs(o[0])&&(u=t?.length?t[t.length-1]:o[1]),a.push(new r.A({variableName:l,dimensionName:e.name,values:[u],isSlice:!n.useRangeForRangedDimensionInfo||!!e.hasRanges}))}return a}function b(e){return!!e?.length&&e.some((e=>{if(null==e.values)return!0;const n=e.values.length;return 0===n||n>1||!e.isSlice&&Array.isArray(e.values[0])}))}function y(e,n){if(null==n||null==e)return null;let t=n.variables.map((e=>({...e})));return e?.variables?.length&&(t=t.filter((({name:n})=>e.variables.includes(n))),t.forEach((n=>{n.dimensions=n.dimensions.map((t=>c(t,e,n.name))).filter(a.Ru)}))),t}function p(e,n){const{values:t}=n;if(t?.length){const n=Array.isArray(t[0]),a=Array.isArray(e);return n!==a?-1:n&&a?t.findIndex((n=>n[0]===e[0]&&n[1]===e[1])):t.indexOf(e)}const{extent:a}=n;if(Array.isArray(e)||!a||e<a[0]||e>a[1])return-1;const r=n.interval||1;if("ISO8601"!==n.unit)return Math.round((e-a[0])/r);const i=a[0];let l=-1;switch(n.intervalUnit?.toLowerCase()||"days"){case"seconds":l=Math.round((e-i)/1e3/r);break;case"minutes":l=Math.round((e-i)/6e4/r);break;case"hours":l=Math.round((e-i)/36e5/r);break;case"days":l=Math.round((e-i)/864e5/r);break;case"months":{const n=new Date(e).getUTCFullYear()-new Date(i).getUTCFullYear(),t=new Date(i).getUTCMonth(),a=new Date(e).getUTCMonth();l=0===n?a-t:a+11-t+12*(n-1)}break;case"years":l=Math.round((new Date(e).getUTCFullYear()-new Date(i).getUTCFullYear())/r);break;case"decades":l=Math.round((new Date(e).getUTCFullYear()-new Date(i).getUTCFullYear())/10/r)}return l}function w(e){let n=e.values?.length;if(n)return n;const{extent:t,unit:a}=e,r=e.interval||1,i=t?t[1]-t[0]:0;if("ISO8601"!==a)return Math.round(i/r);switch(e.intervalUnit?.toLowerCase()??"seconds"){case"seconds":n=Math.round(i/1e3/r);break;case"minutes":n=Math.round(i/6e4/r);break;case"hours":n=Math.round(i/36e5/r);break;case"days":n=Math.round(i/864e5/r);break;case"months":if(t){const e=new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear(),a=new Date(t[0]).getUTCMonth(),r=new Date(t[1]).getUTCMonth();n=0===e?r-a+1:r+11-a+12*(e-1)+1}else n=0;break;case"years":n=t?Math.round((new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear())/r):0;break;case"decades":n=t?Math.round((new Date(t[1]).getUTCFullYear()-new Date(t[0]).getUTCFullYear())/10/r):0;break;default:n=0}return n}function N(e){if(2!==e.extent?.length||!e.interval)return[];const{extent:[n,t],interval:a}=e;if("ISO8601"===e.unit){const r=e.intervalUnit?.toLowerCase()??"days";return["decades","years","months","days","hours","minutes","seconds"].includes(r)?function(e,n,t,a){const r=[];let i=e;const l=new Date(e);for(;i<=n;)switch(r.push(i),a){case"decades":l.setUTCFullYear(l.getUTCFullYear()+10*t),i=l.getTime();break;case"years":l.setUTCFullYear(l.getUTCFullYear()+t),i=l.getTime();break;case"months":l.setUTCMonth(l.getUTCMonth()+t),i=l.getTime();break;case"days":i+=864e5*t;break;case"hours":i+=36e5*t;break;case"minutes":i+=6e4*t;break;case"seconds":i+=1e3*t}return 1===r.length?r[1]=n:r[r.length-1]=n,r}(n,t,a,r):[]}const r=Math.round((t-n)/a);return Array.from({length:r},((e,i)=>i===r-1?t:n+i*a))}function S(e,n){let t=0;const a=e[0].variableName,r=[...n.variables].sort(((e,n)=>e.name>n.name?1:-1));for(let i=0;i<r.length;i++){const n=r[i],l=[...n.dimensions].sort(((e,n)=>e.name>n.name?-1:1));if(n.name!==a){t+=l.map((e=>w(e))).reduce(((e,n)=>e*n));continue}const s=l.map((e=>w(e))),o=l.length;for(let a=0;a<o;a++){const n=e.find((e=>e.dimensionName===l[a].name));if(null==n)return null;const r=p(n.values[0],l[a]);if(-1===r)return null;s.shift(),t+=a===o-1?r:r*s.reduce(((e,n)=>e*n))}break}return t}function D(e){return Math.round(24*(e-25569)*3600*1e3)}},49012:(e,n,t)=>{t.d(n,{AL:()=>y,DV:()=>v,ER:()=>r,F_:()=>s,Nd:()=>m,Oo:()=>i,dy:()=>f,eS:()=>S,h4:()=>D,jC:()=>b,nq:()=>h,rZ:()=>c,y6:()=>g});var a=t(24738);const r="Raster.",i="Raster.Dim.",l=".Max",s={servicePixelValue:"Raster.ServicePixelValue",rawServicePixelValue:"Raster.ServicePixelValue.Raw",itemPixelValue:"Raster.ItemPixelValue",magnitude:"Raster.Magnitude",direction:"Raster.Direction",variable:"Raster.Variable"},o=new Map([["quarters","Quarter"],["months","Month"],["weeks","Week of the year"],["days","Day of the year"]]);function u(e,n){return new a.A({name:e,alias:n,domain:null,editable:!1,length:50,type:"string"})}function d(e,n){return new a.A({name:e,alias:n,domain:null,editable:!1,type:"double"})}function c(e){return u(s.servicePixelValue,e??"Service Pixel Value")}function f(e){return u(s.rawServicePixelValue,e??"Raw Service Pixel Value")}function m(){return u(s.itemPixelValue,"Item Pixel Value")}function h(e){return u(`${s.servicePixelValue}.${e}`,e)}function v(e){return d(`${s.magnitude}`,"Magnitude"+(e?` (${e})`:""))}function g(){return d(`${s.direction}`,"Direction (\xb0)")}function b(e){return e.fields.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const n=e.clone();return n.name=`${r}${e.name}`,n}))}function y(e){const n=new Set,t=new Set,r=new Map;return e.variables.forEach((({dimensions:e})=>{e.forEach((e=>{if(e.recurring)r.set(e.name,e.unit);else{const a="ISO8601"===e.unit?.trim()?n:t;a.add(e.name),e.hasRanges&&a.add(`${e.name}${l}`)}}))})),[u(s.variable,"Variable"),...[...n].map((e=>function(e,n){return new a.A({name:e,alias:n,domain:null,editable:!1,type:"date"})}(`${i}${e}`,w(e)))),...[...t].map((e=>d(`${i}${e}`,w(e)))),...[...r].map((([e,n])=>d(`${i}${e}`,p(e,n))))]}function p(e,n){return n=n?.toLowerCase(),n&&o.has(n)?o.get(n):w(e)}function w(e){const n=e.endsWith(l),t=n?e.slice(0,-4):e,a="StdTime"===t?"Standard Time":"StdZ"===t?"Standard Z":t;return n?`${a} Max`:a}function N(e,n){return n?new Date(e):e}function S(e,n,t){t?.length&&(n[s.variable]=t[0].variableName,t.forEach((({dimensionName:t,values:a})=>{if(t&&a?.length){const r=`${i}${t}`,s=e.find((({name:e})=>e===r));if(!s)return;const o="date"===s.type,u=a[0];if(Array.isArray(u)){if(n[`${i}${t}`]=N(u[0],o),null!=u[1]){const a=`${i}${t}${l}`;if(e.some((({name:e})=>e===a))){const e=N(u[1],o);n[a]=e}}}else n[`${i}${t}`]=N(u,o)}})))}function D(e,n){if(n.pixelType.startsWith("f")&&e.forEach((({format:e,fieldName:n})=>{e&&n&&/^raster\.(item|service)pixelvalue/i.test(n)&&(e.places=2)})),n.multidimensionalInfo){const t=n.multidimensionalInfo.variables.flatMap((({dimensions:e})=>e));e.forEach((({format:e,fieldName:n})=>{if(e&&n?.startsWith(i)){const a=n.slice(i.length),r=`${a}${l}`,s=t.find((({name:e})=>e===a||e===r));s?.values?.every((e=>Number.isInteger(e)))&&(e.places=0)}}))}}},93797:(e,n,t)=>{t.d(n,{D:()=>i});var a=t(16123);const r=[];function i(e,n){if((0,a.Wo)(e.url??""))return!0;const{wkid:t}=n;for(const a of r){if((e.version??0)>=a[0])return!0;if("function"==typeof a[1]&&(a[1]=a[1]()),a[1].has(t))return!1}return!0}r.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let n=9712;n<=9713;n++)e.add(n);for(let n=9748;n<=9749;n++)e.add(n);for(let n=20904;n<=20932;n++)e.add(n);for(let n=21004;n<=21032;n++)e.add(n);for(let n=21207;n<=21264;n++)e.add(n);for(let n=21307;n<=21364;n++)e.add(n);for(let n=23301;n<=23333;n++)e.add(n);for(let n=102759;n<=102760;n++)e.add(n);for(let n=102934;n<=102955;n++)e.add(n);return e}]),r.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let n=9356;n<=9360;n++)e.add(n);for(let n=9404;n<=9407;n++)e.add(n);for(let n=9476;n<=9482;n++)e.add(n);for(let n=9487;n<=9494;n++)e.add(n);for(let n=9697;n<=9699;n++)e.add(n);return e}]),r.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let n=9248;n<=9254;n++)e.add(n);for(let n=9271;n<=9273;n++)e.add(n);for(let n=9284;n<=9285;n++)e.add(n);for(let n=21453;n<=21463;n++)e.add(n);return e}]),r.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let n=8035;n<=8036;n++)e.add(n);for(let n=8455;n<=8456;n++)e.add(n);for(let n=8518;n<=8529;n++)e.add(n);for(let n=8533;n<=8536;n++)e.add(n);for(let n=8538;n<=8540;n++)e.add(n);for(let n=8677;n<=8679;n++)e.add(n);for(let n=8902;n<=8903;n++)e.add(n);for(let n=8907;n<=8910;n++)e.add(n);for(let n=8949;n<=8951;n++)e.add(n);for(let n=8972;n<=8987;n++)e.add(n);for(let n=9039;n<=9040;n++)e.add(n);for(let n=9068;n<=9069;n++)e.add(n);for(let n=9140;n<=9141;n++)e.add(n);for(let n=9148;n<=9150;n++)e.add(n);for(let n=9153;n<=9159;n++)e.add(n);for(let n=9205;n<=9218;n++)e.add(n);for(let n=9221;n<=9222;n++)e.add(n);for(let n=54098;n<=54101;n++)e.add(n);return e}]),r.push([10.71,()=>{const e=new Set([6316]);for(let n=8351;n<=8353;n++)e.add(n);for(let n=9294;n<=9297;n++)e.add(n);for(let n=22619;n<=22621;n++)e.add(n);for(let n=103586;n<=103594;n++)e.add(n);return e}])},60920:(e,n,t)=>{t.d(n,{I:()=>l});var a=t(11499),r=t(8132),i=t(14474);async function l(e,n,t,l){const s=(0,a.Dl)(e),{data:o}=await(0,r.gW)(s,i.A.from(n),t,l);return o.count}},1177:(e,n,t)=>{t.d(n,{V:()=>l});var a=t(11499),r=t(8132),i=t(14474);async function l(e,n,t,l){const o=(0,a.Dl)(e),{data:u}=await(0,r.Pk)(o,i.A.from(n),t,l);return u.objectIds??s(u.uniqueIds)??[]}function s(e){if(e)return function(e){return!Array.isArray(e[0])}(e)?e:e.map((e=>JSON.stringify(e)))}},27604:(e,n,t)=>{t.d(n,{q:()=>r});var a=t(8034);function r(e,n,t){if(!t?.features||!t.hasZ)return;const r=(0,a.N)(t.geometryType,n,e.outSpatialReference);if(null!=r)for(const a of t.features)r(a.geometry)}}}]);