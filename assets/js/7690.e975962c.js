"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7690],{84858:(e,t,n)=>{var o;n.d(t,{u:()=>o}),function(e){e[e.KILOBYTES=1024]="KILOBYTES",e[e.MEGABYTES=1048576]="MEGABYTES",e[e.GIGABYTES=1073741824]="GIGABYTES"}(o||(o={}))},83763:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(66866),l=n(59851),r=n(21877),a=n(21564),i=(n(73446),n(85569),n(39831),n(28902)),s=n(63863);const c=new l.J({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),f=new l.J({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let u=class extends r.oY{constructor(e){super(e),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};(0,o._)([(0,i.e)({classBreaksDef:"class-breaks-definition"})],u.prototype,"type",void 0),(0,o._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"breakCount",void 0),(0,o._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"classificationField",void 0),(0,o._)([(0,a.MZ)({type:String,json:{read:c.read,write:c.write}})],u.prototype,"classificationMethod",void 0),(0,o._)([(0,a.MZ)({json:{write:!0}})],u.prototype,"normalizationField",void 0),(0,o._)([(0,a.MZ)({json:{read:f.read,write:f.write}})],u.prototype,"normalizationType",void 0),(0,o._)([(0,a.MZ)({value:null,json:{write:!0}})],u.prototype,"standardDeviationInterval",null),(0,o._)([(0,a.MZ)({value:null,json:{write:!0}})],u.prototype,"definedInterval",null),u=(0,o._)([(0,s.$)("esri.rest.support.ClassBreaksDefinition")],u);const m=u},47003:(e,t,n)=>{n.d(t,{t:()=>r});const o=n(539).A.getLogger("esri.rest.support.generateRendererUtils");function l(e,t){return Number(e.toFixed(t))}function r(e){const{normalizationTotal:t}=e;return{classBreaks:a(e),normalizationTotal:t}}function a(e){const t=e.definition,{classificationMethod:n,normalizationType:o,definedInterval:r}=t,a=t.breakCount??1,f=[];let u=e.values;if(0===u.length)return[];u=u.sort(((e,t)=>e-t));const m=u[0],h=u[u.length-1];if("equal-interval"===n)if(u.length>=a){const e=(h-m)/a;let t=m;for(let n=1;n<a;n++){const r=l(m+n*e,6);f.push({minValue:t,maxValue:r,label:i(t,r,o)}),t=r}f.push({minValue:t,maxValue:h,label:i(t,h,o)})}else u.forEach((e=>{f.push({minValue:e,maxValue:e,label:i(e,e,o)})}));else if("natural-breaks"===n){const t=s(u),n=e.valueFrequency||t.valueFrequency,r=c(t.uniqueValues,n,a);let d=m;for(let e=1;e<a;e++)if(t.uniqueValues.length>e){const n=l(t.uniqueValues[r[e]],6);f.push({minValue:d,maxValue:n,label:i(d,n,o)}),d=n}f.push({minValue:d,maxValue:h,label:i(d,h,o)})}else if("quantile"===n)if(u.length>=a&&m!==h){let e=m,t=Math.ceil(u.length/a),n=0;for(let l=1;l<a;l++){let r=t+n-1;r>u.length&&(r=u.length-1),r<0&&(r=0),f.push({minValue:e,maxValue:u[r],label:i(e,u[r],o)}),e=u[r],n+=t,t=Math.ceil((u.length-n)/(a-l))}f.push({minValue:e,maxValue:h,label:i(e,h,o)})}else{let e=-1;for(let t=0;t<u.length;t++){const n=u[t];n!==e&&(e=n,f.push({minValue:e,maxValue:n,label:i(e,n,o)}),e=n)}}else if("standard-deviation"===n){const e=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/=e.length,t}(u),t=function(e,t){let n=0;for(let o=0;o<e.length;o++){const l=e[o];n+=(l-t)*(l-t)}return n/=e.length,Math.sqrt(n)}(u,e);if(0===t)f.push({minValue:u[0],maxValue:u[0],label:i(u[0],u[0],o)});else{const n=function(e,t,n,o,l){let r=Math.max(o-e,t-o)/l/n;return r=r>=1?1:r>=.5?.5:.25,r}(m,h,a,e,t)*t;let r=0,s=m;for(let t=a;t>=1;t--){const a=l(e-(t-.5)*n,6);f.push({minValue:s,maxValue:a,label:i(s,a,o)}),s=a,r++}let c=l(e+.5*n,6);f.push({minValue:s,maxValue:c,label:i(s,c,o)}),s=c,r++;for(let t=1;t<=a;t++)c=r===2*a?h:l(e+(t+.5)*n,6),f.push({minValue:s,maxValue:c,label:i(s,c,o)}),s=c,r++}}else if("defined-interval"===n){if(!r)return f;const e=u[0],t=u[u.length-1],n=Math.ceil((t-e)/r);let a=e;for(let s=1;s<n;s++){const t=l(e+s*r,6);f.push({minValue:a,maxValue:t,label:i(a,t,o)}),a=t}f.push({minValue:a,maxValue:t,label:i(a,t,o)})}return f}function i(e,t,n){let o=null;return o=e===t?n&&"percent-of-total"===n?e+"%":e.toString():n&&"percent-of-total"===n?e+"% - "+t+"%":e+" - "+t,o}function s(e){const t=[],n=[];let o=Number.MIN_VALUE,l=1,r=-1;for(let a=0;a<e.length;a++){const i=e[a];i===o?(l++,n[r]=l):null!==i&&(t.push(i),o=i,l=1,n.push(l),r++)}return{uniqueValues:t,valueFrequency:n}}function c(e,t,n){const o=e.length,l=[];n>o&&(n=o);for(let a=0;a<n;a++)l.push(Math.round(a*o/n-1));l.push(o-1);let r=f(l,e,t,n);return function(e,t,n,o,l,r){let a=0,i=0,s=0,c=0,f=!0;for(let m=0;m<2&&f;m++){0===m&&(f=!1);for(let m=0;m<r-1;m++)for(;n[m+1]+1!==n[m+2];){n[m+1]=n[m+1]+1;const r=u(m,n,o,l);s=r.sbMean,a=r.sbSdcm;const h=u(m+1,n,o,l);if(c=h.sbMean,i=h.sbSdcm,!(a+i<t[m]+t[m+1])){n[m+1]=n[m+1]-1;break}t[m]=a,t[m+1]=i,e[m]=s,e[m+1]=c,f=!0}for(let m=r-1;m>0;m--)for(;n[m]!==n[m-1]+1;){n[m]=n[m]-1;const r=u(m-1,n,o,l);s=r.sbMean,a=r.sbSdcm;const h=u(m,n,o,l);if(c=h.sbMean,i=h.sbSdcm,!(a+i<t[m-1]+t[m])){n[m]=n[m]+1;break}t[m-1]=a,t[m]=i,e[m-1]=s,e[m]=c,f=!0}}return f}(r.mean,r.sdcm,l,e,t,n)&&(r=f(l,e,t,n)),l}function f(e,t,n,o){let l=[],r=[],a=[],i=0;const s=[],c=[];for(let d=0;d<o;d++){const o=u(d,e,t,n);s.push(o.sbMean),c.push(o.sbSdcm),i+=c[d]}let f,m=i,h=!0;for(;h||i<m;){h=!1,l=[];for(let t=0;t<o;t++)l.push(e[t]);for(let n=0;n<o;n++)for(let l=e[n]+1;l<=e[n+1];l++)if(f=t[l],n>0&&l!==e[n+1]&&Math.abs(f-s[n])>Math.abs(f-s[n-1]))e[n]=l;else if(n<o-1&&e[n]!==l-1&&Math.abs(f-s[n])>Math.abs(f-s[n+1])){e[n+1]=l-1;break}m=i,i=0,r=[],a=[];for(let l=0;l<o;l++){r.push(s[l]),a.push(c[l]);const o=u(l,e,t,n);s[l]=o.sbMean,c[l]=o.sbSdcm,i+=c[l]}}if(i>m){for(let t=0;t<o;t++)e[t]=l[t],s[t]=r[t],c[t]=a[t];i=m}return{mean:s,sdcm:c}}function u(e,t,n,l){let r=0,a=0;for(let o=t[e]+1;o<=t[e+1];o++){const e=l[o];r+=n[o]*e,a+=e}a<=0&&o.warn("Exception in Natural Breaks calculation");const i=r/a;let s=0;for(let o=t[e]+1;o<=t[e+1];o++)s+=l[o]*(n[o]-i)**2;return{sbMean:i,sbSdcm:s}}},77573:(e,t,n)=>{n.d(t,{Fe:()=>u,Nk:()=>s,mR:()=>a});var o=n(96220),l=n(50072);function r(e,t,n,o){if(e)if("CIMTextSymbol"!==e.type){if(n&&e.effects)for(const n of e.effects)i(n,t);if(e.symbolLayers)for(const n of e.symbolLayers)switch(n.type){case"CIMPictureMarker":case"CIMVectorMarker":a(n,t,o);break;case"CIMPictureStroke":case"CIMSolidStroke":!o?.preserveOutlineWidth&&n.width&&(n.width*=t);break;case"CIMPictureFill":n.height&&(n.height*=t),n.offsetX&&(n.offsetX*=t),n.offsetY&&(n.offsetY*=t);break;case"CIMHatchFill":r(n.lineSymbol,t,!0,{...o,preserveOutlineWidth:!1}),n.offsetX&&(n.offsetX*=t),n.offsetY&&(n.offsetY*=t),n.separation&&(n.separation*=t)}}else null!=e.height&&(e.height*=t)}function a(e,t,n){if(e&&(e.markerPlacement&&function(e,t){switch((0,l.zr)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const n=e.placementTemplate.map((e=>e*t));e.placementTemplate=n}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const n=e.placementTemplate.map((e=>e*t));e.placementTemplate=n}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const o of e.markerGraphics)e.scaleSymbolsProportionally||r(o.symbol,t,!0,n)}function i(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const n=e.dashTemplate.map((e=>e*t));e.dashTemplate=n}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function s(e){const t=[];return c((0,l.lW)(e),t),t.length?new o.A((0,l.ZT)(t[0])):null}function c(e,t){if(!e)return;let n;n="CIMTextSymbol"===e.type?e.symbol:e;const o="CIMPolygonSymbol"===e.type;if(n?.symbolLayers)for(const r of n.symbolLayers)if(!(r.colorLocked||o&&((0,l.mA)(r)||(0,l.MM)(r)&&r.markerPlacement&&(0,l.zr)(r.markerPlacement))))switch(r.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":r.tintColor&&f(t,r.tintColor);break;case"CIMVectorMarker":r.markerGraphics?.forEach((e=>{c(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":f(t,r.color);break;case"CIMHatchFill":c(r.lineSymbol,t)}}function f(e,t){for(const n of e)if(n.join(".")===t.join("."))return;e.push(t)}function u(e,t,n){t instanceof o.A||(t=new o.A(t));const r=(0,l.lW)(e);r&&m(r,t,n)}function m(e,t,n){if(!e)return;let o;o="CIMTextSymbol"===e.type?e.symbol:e;const r="CIMPolygonSymbol"===o?.type;if(o?.symbolLayers)for(const a of o.symbolLayers){if(a.colorLocked)continue;if(r)if(n){const{layersToColor:e}=n;if(((0,l.mA)(a)||(0,l.MM)(a)&&a.markerPlacement&&(0,l.zr)(a.markerPlacement))&&"fill"===e||(0,l.jn)(a)&&"outline"===e)continue}else if((0,l.mA)(a)||(0,l.MM)(a)&&a.markerPlacement&&(0,l.zr)(a.markerPlacement))continue;const e=t.toArray();switch(a.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":a.tintColor=e;break;case"CIMVectorMarker":a.markerGraphics?.forEach((e=>{m(e.symbol,t,n)}));break;case"CIMSolidStroke":case"CIMSolidFill":a.color=e;break;case"CIMHatchFill":m(a.lineSymbol,t,n)}}}},41977:(e,t,n)=>{n.d(t,{$4:()=>k,O1:()=>M,Sw:()=>g,eH:()=>y,rc:()=>b});var o=n(99050),l=n(96220),r=n(86394),a=n(89926),i=n(89882),s=n(77573);const c="picture-fill",f="simple-fill",u="simple-line",m="simple-marker",h="text",d="cim",p=new a.q(1e3);function y(e){const t=e.style;let n=null;if(e)switch(e.type){case m:"cross"!==t&&"x"!==t&&(n=e.color);break;case f:"solid"===t?n=e.color:"none"!==t&&(n={type:"pattern",x:0,y:0,src:(0,o.s)(`esri/symbols/patterns/${t}.png`),width:5,height:5});break;case c:n={type:"pattern",src:e.url,width:(0,i.Lz)(e.width)*e.xscale,height:(0,i.Lz)(e.height)*e.yscale,x:(0,i.Lz)(e.xoffset),y:(0,i.Lz)(e.yoffset)};break;case h:n=e.color;break;case d:n=(0,s.Nk)(e)}return n}function b(e,t){const n=e+"-"+t;return void 0!==p.get(n)?Promise.resolve(p.get(n)):(0,r.A)(e,{responseType:"image"}).then((e=>{const o=e.data,l=o.naturalWidth,r=o.naturalHeight,a=document.createElement("canvas");a.width=l,a.height=r;const i=a.getContext("2d");i.fillStyle=t,i.fillRect(0,0,l,r),i.globalCompositeOperation="destination-in",i.drawImage(o,0,0);const s=a.toDataURL();return p.put(n,s),s}))}function k(e){if(!e)return null;let t=null;switch(e.type){case f:case c:case m:t=k(e.outline);break;case u:{const n=(0,i.Lz)(e.width);null!=e.style&&"none"!==e.style&&0!==n&&(t={color:e.color,style:M(e.style),width:n,cap:e.cap,join:"miter"===e.join?(0,i.Lz)(e.miterLimit):e.join});break}default:t=null}return t}const M=(()=>{const e={};return t=>{if(e[t])return e[t];const n=t.replaceAll("-","");return e[t]=n,n}})(),g=new l.A([128,128,128])},55056:(e,t,n)=>{n.d(t,{$d:()=>d,GG:()=>S,N7:()=>p,Sx:()=>y,UQ:()=>I,di:()=>v,dt:()=>k,f3:()=>P,k_:()=>h,yG:()=>L});var o=n(96220),l=n(30822),r=n(12690),a=(n(39831),n(89882)),i=n(22279),s=n(27664),c=n(77573),f=n(41977),u=n(63299);const m=new o.A("white");function h(e){if(!e)return 0;if((0,l.wk)(e)){const t=function(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.size}(e);return null!=t?t:0}return(0,a.PN)((0,f.$4)(e)?.width)}function d(e){if(null==e||!("symbolLayers"in e)||null==e.symbolLayers)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((e=>"object"===e.type));case"line-3d":return e.symbolLayers.some((e=>"path"===e.type));case"polygon-3d":return e.symbolLayers.some((e=>"object"===e.type||"extrude"===e.type));default:return!1}}function p(e){return e.resource?.href??""}function y(e,t){if(!e)return null;let n=null;return(0,l.wk)(e)?n=function(e){const t=e.symbolLayers;if(!t)return null;let n=null;return t.forEach((e=>{"object"===e.type&&e.resource?.href||(n="water"===e.type?e.color:e.material?e.material.color:null)})),n?new o.A(n):null}(e):(0,l.$y)(e)&&(n="cim"===e.type?(0,c.Nk)(e):e.color?new o.A(e.color):null),n?b(n,t):null}function b(e,t){if(null==t||null==e)return e;const n=e.toRgba();return n[3]=n[3]*t,new o.A(n)}function k(e,t,n){e&&(t||null!=n)&&(t&&(t=new o.A(t)),(0,l.wk)(e)?function(e,t,n){const o=e.symbolLayers;if(!o)return;const l=e=>b(t=t??e??(null!=n?m:null),n);o.forEach((e=>{if("object"!==e.type||!e.resource?.href||t)if("water"===e.type)e.color=l(e.color);else{const t=null!=e.material?e.material.color:null,o=l(t);null==e.material?e.material=new u.N({color:o}):e.material.color=o,null!=n&&"outline"in e&&null!=e.outline?.color&&(e.outline.color=b(e.outline.color,n))}}))}(e,t,n):(0,l.$y)(e)&&function(e,t,n){(t=t??e.color)&&(e.color=b(t,n)),null!=n&&"outline"in e&&e.outline?.color&&(e.outline.color=b(e.outline.color,n))}(e,t,n))}async function M(e,t){const o=e.symbolLayers;o&&await(0,r.jJ)(o,(async e=>async function(e,t){switch(e.type){case"extrude":!function(e,t){e.size="number"==typeof t[2]?t[2]:0}(e,t);break;case"icon":case"line":case"text":!function(e,t){const n=g(t);null!=n&&(e.size=n)}(e,t);break;case"path":!function(e,t){const n=C(t,i.O,[e.width,void 0,e.height]);e.width=w(t[0],e.width,1,n),e.height=w(t[2],e.height,1,n)}(e,t);break;case"object":await async function(e,t){const{resourceSize:o,symbolSize:l}=await async function(e){const{computeObjectLayerResourceSize:t}=await n.e(3867).then(n.bind(n,63867)),o=await t(e,10),{width:l,height:r,depth:a}=e,i=[l,a,r];let s=1;for(let n=0;n<3;n++){const e=i[n];if(null!=e){s=e/o[n];break}}for(let n=0;n<3;n++)null==i[n]&&(i[n]=o[n]*s);return{resourceSize:o,symbolSize:i}}(e),r=C(t,o,l);e.width=w(t[0],l[0],o[0],r),e.depth=w(t[1],l[1],o[1],r),e.height=w(t[2],l[2],o[2],r)}(e,t)}}(e,t)))}function g(e){for(const t of e)if("number"==typeof t)return t;return null}function C(e,t,n){for(let o=0;o<3;o++){const l=e[o];switch(l){case"symbol-value":{const e=n[o];return null!=e?e/t[o]:1}case"proportional":break;default:if(l&&t[o])return l/t[o]}}return 1}function w(e,t,n,o){switch(e){case"proportional":return n*o;case"symbol-value":return null!=t?t:n;default:return e}}async function I(e,t){if(e&&t)return(0,l.wk)(e)?M(e,t):void((0,l.$y)(e)&&function(e,t){const n=g(t);if(null!=n)switch(e.type){case"simple-marker":e.size=n;break;case"picture-marker":{const t=e.width/e.height;t>1?(e.width=n,e.height=n*t):(e.width=n*t,e.height=n);break}case"simple-line":e.width=n;break;case"text":e.font.size=n}}(e,t))}function S(e,t,n){if(e&&null!=t)if((0,l.wk)(e)){const o=e.symbolLayers;o&&o.forEach((e=>{if(e&&"object"===e.type)switch(n){case"tilt":e.tilt=t;break;case"roll":e.roll=t;break;default:e.heading=t}}))}else(0,l.$y)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle=t))}function v(e){if(!e)return null;const t=e.effects.filter((e=>"bloom"!==e.type)).map((e=>e.toJSON()));return(0,s.zu)(t)}function P(e){return null!=e&&"polygon-3d"===e.type&&e.symbolLayers.some((e=>"extrude"===e.type))}async function L(e,t){return await e.fetchSymbol(t)||e.fetchCIMSymbol(t)}},15954:(e,t,n)=>{var o;n.d(t,{X:()=>o}),function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"}(o||(o={}))}}]);