"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[80521,45970],{80521:(t,e,i)=>{i.r(e),i.d(e,{executeAttributeBinsQuery:()=>m});var r=i(11499),n=i(86394),o=i(20909),s=i(1171),a=i(65231),u=i(87926),l=i(80323);function p(t){const e=t.geometry,i=t.toJSON(),r=i;let n,o,a;if(null!=e&&(o=e.spatialReference,a=(0,u.YX)(o),r.geometryType=(0,s.$B)(e),r.geometry=JSON.stringify(e),r.inSR=a),i.outSR?(r.outSR=(0,u.YX)(i.outSR),n=t.outSpatialReference):e&&(r.outSR=r.inSR,n=o),r.bin&&=JSON.stringify(r.bin),r.quantizationParameters&&=JSON.stringify(r.quantizationParameters),r.outStatistics&&=JSON.stringify(r.outStatistics),r.outTimeReference&&=JSON.stringify(r.outTimeReference),i.timeExtent){const t=i.timeExtent,{start:e,end:n}=t;null==e&&null==n||(r.time=e===n?e:`${e??"null"},${n??"null"}`),delete i.timeExtent}return t.defaultSpatialReference&&(0,u.aI)(o,n)&&(r.defaultSR=r.inSR,delete r.inSR,delete r.outSR),r}async function d(t,e,i){return null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await async function(t,e,i={}){const r="string"==typeof t?(0,o.An)(t):t,s=e.geometry?[e.geometry]:[],u=await(0,a.el)(s,null,{signal:i.signal}),d=u?.[0];null!=d&&((e=e.clone()).geometry=d);const c=(0,l.z)({...r.query,f:"json",...p(e)});return(0,n.A)((0,o.fj)(r.path,"queryBins"),{...i,query:{...c,...i.query}})}(t,e,i)}var c=i(36628),y=i(45970);async function m(t,e,i){const{data:n}=await d((0,r.Dl)(t),y.default.from(e),i);return c.A.fromJSON(n)}},36628:(t,e,i)=>{i.d(e,{A:()=>y});var r,n=i(66866),o=i(25707),s=i(24793),a=i(19251),u=i(21564),l=(i(39831),i(539),i(63863));let p=class extends(s.A.ClonableMixin(o.A)){static{r=this}constructor(t){super(t),this.stackedAttributes=null}cloneShallow(){return new r({...super.cloneShallow(),stackedAttributes:this.stackedAttributes})}toJSON(){return{...super.toJSON(),stackedAttributes:(0,a.o8)(this.stackedAttributes)}}};(0,n._)([(0,u.MZ)()],p.prototype,"stackedAttributes",void 0),p=r=(0,n._)([(0,l.$)("esri.AttributeBinsGraphic")],p);i(9272);var d=i(75094),c=i(57822);let y=class extends(s.A.ClonableMixin(c.A)){constructor(){super(...arguments),this.features=[]}readFeatures(t,e){return this.readFeaturesWithClass(t,e,p)}};(0,n._)([(0,u.MZ)({type:[p],json:{write:!0}})],y.prototype,"features",void 0),(0,n._)([(0,d.w)("features")],y.prototype,"readFeatures",null),y=(0,n._)([(0,l.$)("esri.rest.support.AttributeBinsFeatureSet")],y)},45970:(t,e,i)=>{i.r(e),i.d(e,{default:()=>j});var r=i(66866),n=i(24793),o=i(59851),s=i(21877),a=i(539),u=i(21564),l=i(73446),p=(i(39831),i(9272),i(28902)),d=i(63863),c=i(78983),y=i(1171),m=i(12433),f=i(35746),h=i(30245),S=i(18370),w=i(24465),A=i(35985),v=i(34344),b=i(66723),g=i(41969),R=i(17197),_=i(12129);const Z=new o.J({asc:"ascending",desc:"descending"}),M={base:S.A,key:"type",typeMap:{"auto-interval":h.A,date:w.A,"fixed-boundaries":A.A,"fixed-interval":v.A}};let j=class extends(n.A.ClonableMixin(s.A)){constructor(t){super(t),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.timeExtent=null,this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(t){this._set("outTimeZone",t),t&&!(0,_.wr)(t)&&a.A.getLogger(this).warn("#outTimeZone",`the parsed value '${t}' may not be a valid IANA time zone`)}};(0,r._)([(0,u.MZ)({types:M,json:{name:"bin",write:!0}})],j.prototype,"binParameters",void 0),(0,r._)([(0,p.e)(Z)],j.prototype,"binOrder",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],j.prototype,"cacheHint",void 0),(0,r._)([(0,u.MZ)({json:{write:!0}})],j.prototype,"datumTransformation",void 0),(0,r._)([(0,u.MZ)({type:c.A,json:{name:"defaultSR",write:!0}})],j.prototype,"defaultSpatialReference",void 0),(0,r._)([(0,u.MZ)({type:Number,json:{write:{overridePolicy:t=>({enabled:t>0})}}})],j.prototype,"distance",void 0),(0,r._)([(0,u.MZ)({types:m.yR,json:{read:y.rS,write:!0}})],j.prototype,"geometry",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],j.prototype,"lowerBoundaryAlias",void 0),(0,r._)([(0,u.MZ)({type:c.A,json:{name:"outSR",write:!0}})],j.prototype,"outSpatialReference",void 0),(0,r._)([(0,u.MZ)({type:[g.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],j.prototype,"outStatistics",void 0),(0,r._)([(0,u.MZ)({value:null,json:{name:"outTimeReference",read:{reader:t=>t.ianaTimeZone},write:{writer:(t,e,i)=>{t&&(e[i]={ianaTimeZone:t})}}}})],j.prototype,"outTimeZone",null),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],j.prototype,"returnDistinctValues",void 0),(0,r._)([(0,p.e)(b.x,{name:"spatialRel"})],j.prototype,"spatialRelationship",void 0),(0,r._)([(0,u.MZ)({type:R.T,json:{write:!0}})],j.prototype,"timeExtent",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],j.prototype,"upperBoundaryAlias",void 0),(0,r._)([(0,u.MZ)({type:String,json:{read:f.VY.read,write:{writer:f.VY.write,overridePolicy(t){return{enabled:null!=t&&null!=this.distance}}}}})],j.prototype,"units",void 0),(0,r._)([(0,u.MZ)({type:String,json:{write:!0}})],j.prototype,"where",void 0),j=(0,r._)([(0,d.$)("esri.rest.support.AttributeBinsQuery")],j),j.from=(0,l.dp)(j)}}]);