"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[91717],{71164:(e,t,i)=>{i.r(t),i.d(t,{classBreaks:()=>r,heatmapStatistics:()=>u,histogram:()=>l,summaryStatistics:()=>o,uniqueValues:()=>s});var n=i(96568),a=i(27218);async function o(e){const{attribute:t,features:i}=e,{normalizationType:o,normalizationField:s,minValue:r,maxValue:l,fieldType:u,outStatisticTypes:m}=t,f=await(0,n.Jc)({field:t.field,valueExpression:t.valueExpression,normalizationType:o,normalizationField:s,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},i),d=(0,a.Vb)({normalizationType:o,normalizationField:s,minValue:r,maxValue:l}),c={value:.5,fieldType:u},p="esriFieldTypeString"===u?(0,a.z9)({values:f,supportsNullCount:d,percentileParams:c,outStatisticTypes:m}):(0,a.G_)({values:f,minValue:r,maxValue:l,useSampleStdDev:!o,supportsNullCount:d,percentileParams:c,outStatisticTypes:m});return(0,a.oZ)(p,m,"esriFieldTypeDate"===u)}async function s(e){const{attribute:t,features:i}=e,o=await(0,n.Jc)({field:t.field,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},i,!1),s=(0,a.b3)(o);return(0,a.lv)(s,t.domains,t.returnAllCodedValues,t.fieldDelimiter)}async function r(e){const{attribute:t,features:i}=e,{field:o,normalizationType:s,normalizationField:r,normalizationTotal:l,classificationMethod:u}=t,m=await(0,n.Jc)({field:o,valueExpression:t.valueExpression,normalizationType:s,normalizationField:r,normalizationTotal:l,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},i),f=(0,a.Rw)(m,{field:o,normalizationType:s,normalizationField:r,normalizationTotal:l,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return(0,a.jM)(f,u)}async function l(e){const{attribute:t,features:i}=e,{field:o,normalizationType:s,normalizationField:r,normalizationTotal:l,classificationMethod:u}=t,m=await(0,n.Jc)({field:o,valueExpression:t.valueExpression,normalizationType:s,normalizationField:r,normalizationTotal:l,viewInfoParams:t.viewInfoParams,timeZone:t.timeZone,fieldInfos:t.fieldInfos},i);return(0,a.$y)(m,{field:o,normalizationType:s,normalizationField:r,normalizationTotal:l,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})}async function u(e){const{attribute:t,features:i}=e,{field:a,radius:o,transform:s,spatialReference:r}=t,l=t.size??[0,0],u=(0,n.$r)(i??[],s,r,l);return(0,n.gV)(u,o??void 0,a,l[0],l[1])}},99340:(e,t,i)=>{i.d(t,{EG:()=>c,Ll:()=>z,R3:()=>h,UH:()=>l,aM:()=>v,fs:()=>d,i0:()=>g});var n=i(76459),a=i(42453),o=(i(30405),i(35387)),s=i(54088),r=i(12129);const l=",",u={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},m=new Set(["integer","small-integer"]);let f=null;function d(e){return(0,a.vE)(e)||(0,a.zD)(e)||(0,a.Ah)(e)}async function c(e){const{field:t,field2:i,field3:n,normalizationField:a,valueExpression:s}=e;let r=[];if(s){if(!f){const{arcadeUtils:e}=await(0,o.l)();f=e}r=f.extractFieldNames(s)}return t&&r.push(t),i&&r.push(i),n&&r.push(n),a&&r.push(a),r}function p(e){return String(e).padStart(2,"0")}function y(e,t,i){let n;return"date"===t||"number"===t?("number"===t&&(e=new Date(e)),n=`TIMESTAMP'${i?e.getFullYear():e.getUTCFullYear()}-${p((i?e.getMonth():e.getUTCMonth())+1)}-${p(i?e.getDate():e.getUTCDate())} ${p(i?e.getHours():e.getUTCHours())}:${p(i?e.getMinutes():e.getUTCMinutes())}:${p(i?e.getSeconds():e.getUTCSeconds())}'`):n=e,n}function v(e,t,i,n){const{hasQueryEngine:a}=e,o=`(${y(i,T(e,i),a)} - ${y(t,T(e,t),a)})`;let s=u[n],r="/";return s<1&&(s=1/s,r="*"),{sqlExpression:1===s?o:`(${o} ${r} ${s})`,sqlWhere:null}}function T(e,t){if(t instanceof Date)return"date";if("number"==typeof t)return"number";if("string"==typeof t){const i=e.getField(t);if("<now>"===t.toLowerCase())return;if((0,a.vE)(i))return"field"}}function h(e,t){const i=t&&e.getField(t);return!!i&&m.has(i.type)}function z(e){return`cast(${e} as float)`}function g(e,t){const{format:i,timeZoneOptions:a,fieldType:o}=t??{};let l,u;if(a&&({timeZone:l,timeZoneName:u}=(0,r.hv)(a.layerTimeZone,a.datesInUnknownTimezone,a.viewTimeZone,(0,n.J2)(i||"short-date-short-time"),o)),"string"==typeof e&&isNaN(Date.parse("time-only"===o?`1970-01-01T${e}Z`:e)))return e;switch(o){case"date-only":{const t=(0,n.J2)(i||"short-date");return"string"==typeof e?(0,n.iS)(e,{...t}):(0,n.Yq)(e,{...t,timeZone:s.n$})}case"time-only":{const t=(0,n.J2)(i||"short-time");return"string"==typeof e?(0,n.F8)(e,t):(0,n.Yq)(e,{...t,timeZone:s.n$})}case"timestamp-offset":{if(!l&&"string"==typeof e&&new Date(e).toISOString()!==e)return e;const t=i||a?(0,n.J2)(i||"short-date-short-time"):void 0,o=t?{...t,timeZone:l,timeZoneName:u}:void 0;return"string"==typeof e?(0,n.Ey)(e,o):(0,n.Yq)(e,o)}default:{const t=i||a?(0,n.J2)(i||"short-date-short-time"):void 0;return(0,n.Yq)("string"==typeof e?new Date(e):e,t?{...t,timeZone:l,timeZoneName:u}:void 0)}}}}}]);