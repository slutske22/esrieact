"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[52862],{96582:(t,e,s)=>{s.d(e,{O:()=>c});var n=s(66866),r=s(50256),i=s(62188),a=s(74642),l=s(75992),o=s(86330),h=s(1804);class c{getOperatorType(){return 10204}supportsCurves(){return!0}accelerateGeometry(t,e,s){return!1}canAccelerateGeometry(t){return!1}executeMany(t,e,s,n){return new m(t,e,s,n)}execute(t,e,s,n){return t||(0,i.a)("null param is not allowed."),new m(null,e,s,n).generalize(t)}}class m extends r.G{constructor(t,e,s,n){super(),this.m_pline=null,this.m_point=new l.P,this.m_stack=[],this.m_resultstack=[],this.m_callCount=0,this.m_progressTracker=n,this.m_geoms=t,this.m_maxDeviation=e,this.m_bRemoveDegenerateParts=s}tock(){return!0}getRank(){return 1}next(){const t=this.m_geoms.next();return null===t?null:((0,i.c)(t),this.generalize(t))}getGeometryID(){return this.m_geoms.getGeometryID()}generalize(t){const e=t.getGeometryType();if((0,i.e)(e))return t;if(e===i.G.enumEnvelope){const e=new a.a({vd:t.getDescription()});return e.addEnvelope(t,!1),this.generalize(e)}if((0,i.f)(e)){const e=new a.P({vd:t.getDescription()});return e.addSegment(t,!0),this.generalize(e)}if((0,i.h)(e)||(0,i.t)(""),t.isEmpty()||this.m_maxDeviation<=0)return t;const s=(new h.O).execute(t,0,.05*this.m_maxDeviation,0,this.m_progressTracker);t.hasNonLinearSegments()&&(this.m_maxDeviation*=.95);const r=s,l=t.createInstance();l.getGeometryType()===i.G.enumPolygon&&l.setFillRule(t.getFillRule()),this.m_xy=r.getAttributeStreamRef(0);{const t={stack:[],error:void 0,hasError:!1};try{const e=new a.L;this.m_pline=e,(0,n.b)(t,(0,o.h)((()=>{this.m_pline=null}),!1),!1);for(let t=0,s=r.getPathCount();t<s;t++)this.generalizePath(r.getImpl(),t,l.getImpl())}catch(c){t.error=c,t.hasError=!0}finally{(0,n.c)(t)}}return this.m_resultstack.length=0,this.m_stack.length=0,l}generalizePath(t,e,s){if(t.getPathSize(e)<2)return;this.m_resultstack.length=0,this.m_stack.length=0;const n=t.getPathStart(e),r=t.getPathEnd(e)-1,i=t.isClosedPath(e),a=t.isClosedPathInXYPlane(e);let l=0,h=-1;this.m_stack.push(i?n:r),this.m_stack.push(n);let c=!1,m=!1;for(!this.m_bRemoveDegenerateParts&&a&&(c=!0,m=!0);this.m_stack.length>1;){const e=this.m_stack.at(-1);this.m_stack.pop();const s=this.m_stack.at(-1);let n=t.getXY(e);this.m_pline.setStartXY(n),n=t.getXY(s),this.m_pline.setEndXY(n);const i=[Number.NaN];let a=this.findGreatestDistance(e,s,r,i);a>=0&&(c?c=!1:(m&&i[0]>l&&(l=i[0],h=a),i[0]<=this.m_maxDeviation&&(a=-1))),a>=0?(this.m_stack.push(a),this.m_stack.push(e)):this.m_resultstack.push(e)}i||this.m_resultstack.push(this.m_stack[0]);const u=this.m_resultstack.length;if(u===t.getPathSize(e)&&u===this.m_stack.length)s.addPath(t,e,!0);else if(this.m_resultstack.length>0){if(this.m_bRemoveDegenerateParts&&this.m_resultstack.length<=2){if(i||1===this.m_resultstack.length)return;if(o.P.distance(t.getXY(this.m_resultstack[0]),t.getXY(this.m_resultstack[1]))<=this.m_maxDeviation)return}if(m&&h>=0&&l<=this.m_maxDeviation){const t=this.m_resultstack.at(-1)>h;this.m_resultstack.push(h),t&&(this.m_resultstack[this.m_resultstack.length-2]=(0,o.c)(this.m_resultstack[this.m_resultstack.length-1],this.m_resultstack[this.m_resultstack.length-1]=this.m_resultstack[this.m_resultstack.length-2]))}for(let e=0,n=this.m_resultstack.length;e<n;e++)t.getPointByVal(this.m_resultstack[e],this.m_point),0===e?s.startPathPoint(this.m_point):s.lineToPoint(this.m_point);if(i){for(let t=this.m_resultstack.length;t<3;t++)s.lineToPoint(this.m_point);s.closePathWithLine()}}}findGreatestDistance(t,e,s,n){let r=e-1;e<=t&&(r=s);let i=-1,a=0;const l=new o.P;for(let o=t+1;o<=r;o++){this.m_xy.queryPoint2D(2*o,l);const t=l.x,e=l.y,s=this.m_pline.getClosestCoordinate(l,!1);l.assign(this.m_pline.getCoord2D(s)),l.x-=t,l.y-=e;const n=l.length();n>a&&(i=o,a=n),this.m_callCount++}return n[0]=a,i}}},99502:(t,e,s)=>{s.d(e,{a:()=>o,e:()=>l,g:()=>c,s:()=>h});var n=s(85569),r=s(92976),i=s(87784),a=s(62900);function l(t,e,s={}){const{removeDegenerateParts:n=!1,unit:l}=s,o=(0,a.getSpatialReference)(t);return l&&(e=(0,r.UW)(e,l,o)),(0,a.toGeometry)((0,i.g7)((0,a.fromGeometry)(t),e,n),o)}function o(t,e,s={}){const{removeDegenerateParts:l=!1,unit:o}=s,h=t.map(a.fromGeometry),c=(0,a.getSpatialReference)(t);return o&&(e=(0,r.UW)(e,o,c)),(0,i.zo)(h,e,l).map((t=>(0,a.toGeometry)(t,c))).filter(n.Ru)}const h=(0,i.fz)(),c=Object.freeze(Object.defineProperty({__proto__:null,execute:l,executeMany:o,supportsCurves:h},Symbol.toStringTag,{value:"Module"}))},52862:(t,e,s)=>{s.r(e),s.d(e,{execute:()=>n.e,executeMany:()=>n.a,supportsCurves:()=>n.s});s(85569),s(92976),s(87784),s(62900);var n=s(99502)},87784:(t,e,s)=>{s.d(e,{fz:()=>l,g7:()=>i,zo:()=>a});var n=s(50256);const r=new(s(96582).O);function i(t,e,s){return r.execute(t,e,s,null)}function a(t,e,s){const i=r.executeMany(new n.S(t),e,s,null);return Array.from(i)}function l(){return r.supportsCurves()}}}]);