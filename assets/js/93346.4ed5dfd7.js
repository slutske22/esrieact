"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[93346],{2981:(e,t,r)=>{r.d(t,{A:()=>f});var o=r(66866),n=r(24793),i=r(21877),a=r(21564),s=(r(39831),r(539),r(9272),r(63863)),l=r(97066),u=r(62802),c=r(42238);let f=class extends(n.A.ClonableMixin(i.A)){constructor(e){super(e),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,o._)([(0,a.MZ)({type:l.A})],f.prototype,"frameCenter",void 0),(0,o._)([(0,a.MZ)({type:u.A})],f.prototype,"frameOutline",void 0),(0,o._)([(0,a.MZ)({type:c.A})],f.prototype,"lineOfSight",void 0),(0,o._)([(0,a.MZ)({type:l.A})],f.prototype,"sensorLocation",void 0),(0,o._)([(0,a.MZ)({type:c.A})],f.prototype,"sensorTrail",void 0),f=(0,o._)([(0,s.$)("esri.layers.support.TelemetryData")],f)},38383:(e,t,r)=>{r.d(t,{A:()=>u});var o=r(66866),n=r(24793),i=r(21877),a=r(21564),s=(r(39831),r(539),r(9272),r(63863));const l={type:Boolean,json:{write:!0}};let u=class extends(n.A.ClonableMixin(i.A)){constructor(e){super(e),this.frame=!1,this.frameCenter=!1,this.frameOutline=!0,this.lineOfSight=!0,this.sensorLocation=!0,this.sensorTrail=!0}};(0,o._)([(0,a.MZ)(l)],u.prototype,"frame",void 0),(0,o._)([(0,a.MZ)(l)],u.prototype,"frameCenter",void 0),(0,o._)([(0,a.MZ)(l)],u.prototype,"frameOutline",void 0),(0,o._)([(0,a.MZ)(l)],u.prototype,"lineOfSight",void 0),(0,o._)([(0,a.MZ)(l)],u.prototype,"sensorLocation",void 0),(0,o._)([(0,a.MZ)(l)],u.prototype,"sensorTrail",void 0),u=(0,o._)([(0,s.$)("esri.layers.support.TelemetryDisplay")],u)},70168:(e,t,r)=>{r.d(t,{A:()=>f});var o=r(66866),n=r(24793),i=r(21877),a=r(21564),s=(r(39831),r(539),r(9272),r(75094)),l=r(63863),u=r(77542);let c=class extends(n.A.ClonableMixin(i.A)){constructor(e){super(e),this.duration=null,this.end=null,this.start=null,this.timezone="UTC"}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}};(0,o._)([(0,a.MZ)({type:Number,json:{write:{allowNull:!0}}})],c.prototype,"duration",void 0),(0,o._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"end",void 0),(0,o._)([(0,s.w)("end")],c.prototype,"readEnd",null),(0,o._)([(0,u.K)("end")],c.prototype,"writeEnd",null),(0,o._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],c.prototype,"start",void 0),(0,o._)([(0,s.w)("start")],c.prototype,"readStart",null),(0,o._)([(0,u.K)("start")],c.prototype,"writeStart",null),(0,o._)([(0,a.MZ)({type:String})],c.prototype,"timezone",void 0),c=(0,o._)([(0,l.$)("esri.layers.support.VideoTimeExtent")],c);const f=c},24388:(e,t,r)=>{r.d(t,{A_:()=>b,Gv:()=>p,I0:()=>g,K5:()=>P,SC:()=>L,YI:()=>C,Yv:()=>M,a1:()=>d,dr:()=>k,nX:()=>y,yQ:()=>h});var o=r(97066),n=r(62802),i=r(42238),a=r(2981),s=r(70168),l=r(77573),u=r(55056);const c="application/x-mpegURL",f="video/mp4",m="video/webm",d={UASDatalinkLocalSet:1e4,PrecisionTimeStamp:10002,MissionId:10003,PlatformTailNumber:10004,PlatformHeadingAngle:10005,PlatformPitchAngle:10006,PlatformRollAngle:10007,PlatformTrueAirspeed:10008,PlatformIndicatedAirspeed:10009,PlatformDesignation:10010,ImageSourceSensor:10011,ImageCoordinateSystem:10012,SensorLatitude:10013,SensorLongitude:10014,SensorTrueAltitude:10015,SensorHorizontalFOV:10016,SensorVerticalFOV:10017,SensorAzimuthAngle:10018,SensorElevationAngle:10019,SensorRollAngle:10020,PlatformSlantRange:10021,TargetWidth:10022,FrameCenterLatitude:10023,FrameCenterLongitude:10024,FrameCenterElevation:10025,OffsetCorner1Latitude:10026,OffsetCorner1Longitude:10027,OffsetCorner2Latitude:10028,OffsetCorner2Longitude:10029,OffsetCorner3Latitude:10030,OffsetCorner3Longitude:10031,OffsetCorner4Latitude:10032,OffsetCorner4Longitude:10033,TargetLocationLatitude:10040,TargetLocationLongitude:10041,TargetLocationElevation:10042,TargetTrackGateWidth:10043,TargetTrackGateHeight:10044,TargetErrorEstimateHorizontal:10045,TargetErrorEstimateLateral:10046,GenericFlagData:10047,PlatformGroundSpeed:10056,PlatformGroundRange:10057,PlatformRemainingFuel:10058,PlatformCallSign:10059,SensorFOVName:10063,PlatformMagneticHeading:10064,LDSVersionNumber:10065,AlternatePlatformName:10070,EventStartTimeUTC:10072,VMTIDataSet:10074,SensorEllipsoidHeight:10075,OperationalMode:10077,FrameCenterAboveEllipsoid:10078,CornerLatitudePoint1:10082,CornerLongitudePoint1:10083,CornerLatitudePoint2:10084,CornerLongitudePoint2:10085,CornerLatitudePoint3:10086,CornerLongitudePoint3:10087,CornerLatitudePoint4:10088,CornerLongitudePoint4:10089,SARMotionImageryMetadata:10095,SecurityClassification:20001,SecurityClassifyingAuthority:20002,SecurityClassifyingCountry:20003,SecuritySCI:20004,SecurityCaveats:20005,SecurityReleaseInstructions:20006,SecurityLDSVersion:20022,EsriVideoWidth:90001,EsriVideoHeight:90002,EsriFrameCenterLatitude:90050,EsriFrameCenterLongitude:90051,EsriCornerLatitudePt1:90052,EsriCornerLongitudePt1:90053,EsriCornerLatitudePt2:90054,EsriCornerLongitudePt2:90055,EsriCornerLatitudePt3:90056,EsriCornerLongitudePt3:90057,EsriCornerLatitudePt4:90058,EsriCornerLongitudePt4:90059,EsriFrameOutline:90060,EsriSensorPosition:90061,EsriHorizonPixelPack:90063,EsriGroundControlPoints:90064};function p(e,t=1e4){if(!e||!e.length)return[];let r=[],o=[];for(let i=0;i<e.length;i++){const t=e[i],o=t?.text?JSON.parse(t.text):null;"EsriVideoServer"===o?.source&&(r=[...o.data])}const n=r.find((e=>e.tagId===t));return Array.isArray(n?.value)&&(o=[...n.value]),o}function y(e){const{duration:t,end:r,start:o,timezone:n="UTC"}=e||{};return"number"!=typeof t?null:new s.A({duration:t||null,end:"number"==typeof r?new Date(r):null,start:"number"==typeof o?new Date(o):null,timezone:n})}function h(e,t){const r=[...t],o=r.findIndex((t=>t.equals(e)));return o>-1&&r.splice(o),r.push(e),r}function C(e){if(!e?.size)return new a.A;const t=function(e){if(!e?.size)return null;if(e.has(d.EsriSensorPosition)){const t=e.get(d.EsriSensorPosition)?.value;if(t)return o.A.fromJSON(t.geometry)}return e.has(d.SensorLongitude)&&e.has(d.SensorLatitude)?new o.A({x:e.get(d.SensorLongitude)?.value,y:e.get(d.SensorLatitude)?.value,z:e.get(d.SensorTrueAltitude)?.value}):null}(e),r=function(e){return function(e){return e&&e.has(d.EsriFrameCenterLatitude)&&e.has(d.EsriFrameCenterLongitude)?new o.A({x:e.get(d.EsriFrameCenterLongitude).value,y:e.get(d.EsriFrameCenterLatitude).value,z:e.get(d.FrameCenterAboveEllipsoid)?.value??e.get(d.FrameCenterElevation)?.value}):null}(e)??function(e){return e&&e.has(d.FrameCenterLatitude)&&e.has(d.FrameCenterLongitude)?new o.A({x:e.get(d.FrameCenterLongitude)?.value,y:e.get(d.FrameCenterLatitude)?.value,z:e.get(d.FrameCenterElevation)?.value}):null}(e)}(e),s=function(e){if(!e)return null;const t=e.get(d.EsriFrameOutline)?.value;return t?n.A.fromJSON(t.geometry):function(e){if(!(e.has(d.EsriCornerLatitudePt1)&&e.has(d.EsriCornerLongitudePt1)&&e.has(d.EsriCornerLatitudePt2)&&e.has(d.EsriCornerLongitudePt2)&&e.has(d.EsriCornerLatitudePt3)&&e.has(d.EsriCornerLongitudePt3)&&e.has(d.EsriCornerLatitudePt4)&&e.has(d.EsriCornerLongitudePt4)))return null;const t=[e.get(d.EsriCornerLongitudePt1)?.value,e.get(d.EsriCornerLatitudePt1)?.value],r=[e.get(d.EsriCornerLongitudePt2)?.value,e.get(d.EsriCornerLatitudePt2)?.value],o=[e.get(d.EsriCornerLongitudePt3)?.value,e.get(d.EsriCornerLatitudePt3)?.value],i=[e.get(d.EsriCornerLongitudePt4)?.value,e.get(d.EsriCornerLatitudePt4)?.value];return new n.A({rings:[[t,r,o,i]]})}(e)??function(e){if(!(e.has(d.OffsetCorner1Latitude)&&e.has(d.OffsetCorner1Longitude)&&e.has(d.OffsetCorner2Latitude)&&e.has(d.OffsetCorner2Longitude)&&e.has(d.OffsetCorner3Latitude)&&e.has(d.OffsetCorner3Longitude)&&e.has(d.OffsetCorner4Latitude)&&e.has(d.OffsetCorner4Longitude)&&e.has(d.FrameCenterLatitude)&&e.has(d.FrameCenterLongitude)))return null;const t=e.get(d.FrameCenterLatitude)?.value,r=e.get(d.FrameCenterLongitude)?.value,o=t+e.get(d.OffsetCorner1Latitude)?.value,i=r+e.get(d.OffsetCorner1Longitude)?.value,a=t+e.get(d.OffsetCorner2Latitude)?.value,s=r+e.get(d.OffsetCorner2Longitude)?.value,l=t+e.get(d.OffsetCorner3Latitude)?.value,u=r+e.get(d.OffsetCorner3Longitude)?.value,c=t+e.get(d.OffsetCorner4Latitude)?.value,f=r+e.get(d.OffsetCorner4Longitude)?.value;return new n.A({rings:[[[i,o],[s,a],[u,l],[f,c]]]})}(e)}(e),l=function(e,t){if(!e||!t)return null;const r=[e.x,e.y,e.z??0],o=[t.x,t.y,t.z??0];return new i.A({paths:[[r,o]]})}(t,r);return new a.A({frameCenter:r,frameOutline:s,lineOfSight:l,sensorLocation:t})}function g(e){return e?.size?e.get(d.EsriGroundControlPoints)?.value??null??null:null}function L(e){return e?.size?e.get(d.EsriHorizonPixelPack)?.value??null:null}function b(e){if(!e)return c;const t=e.match(/\.(\w{3,4})(?:$|\?)/i);if(!t)return c;switch(t[1].toLowerCase()){case"mp4":return f;case"webm":return m;default:return c}}function M(e){const t=e?.layers;return t?.length?t.map((e=>({layerId:e.id,posterUrl:e.poster,sourceType:e.serviceType,title:e.name,type:e.type||"Video Layer"}))):[]}function k(e,t,r){if(!e)return null;const o=e.clone();switch(o.type){case"simple-fill":(0,u.dt)(o,r),o.outline.color=t;break;case"simple-line":(0,u.dt)(o,t);break;case"simple-marker":(0,u.dt)(o,t),o?.outline?.color&&(o.outline.color=t);break;case"cim":(0,l.Fe)(o,t)}return o}function P(e){const{cameraAzimuth:t,platformHeading:r,source:o=null,symbolOffset:n=0}=e||{};let i=0;if(!o)return i;i="platformHeading"===o?r+n:r+t+n;const a=i>360?i-360:i;return Math.round(Math.abs(a))}},77573:(e,t,r)=>{r.d(t,{Fe:()=>d,KU:()=>C,Km:()=>i,Nk:()=>l});var o=r(96220),n=r(50072);function i(e,t,r,o){if(e)if("CIMTextSymbol"!==e.type){if(r&&e.effects)for(const r of e.effects)s(r,t);if(e.symbolLayers)for(const r of e.symbolLayers){switch(r.type){case"CIMPictureMarker":case"CIMVectorMarker":a(r,t,o);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!o?.preserveOutlineWidth&&r.width&&(r.width*=t);break;case"CIMPictureFill":r.height&&(r.height*=t),r.offsetX&&(r.offsetX*=t),r.offsetY&&(r.offsetY*=t);break;case"CIMHatchFill":i(r.lineSymbol,t,!0,{...o,preserveOutlineWidth:!1}),r.offsetX&&(r.offsetX*=t),r.offsetY&&(r.offsetY*=t),r.separation&&(r.separation*=t)}if(r.effects)for(const e of r.effects)s(e,t)}}else null!=e.height&&(e.height*=t)}function a(e,t,r){if(e&&(e.markerPlacement&&function(e,t){switch((0,n.zr)(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const r=e.placementTemplate.map((e=>e*t));e.placementTemplate=r}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const r=e.placementTemplate.map((e=>e*t));e.placementTemplate=r}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const o of e.markerGraphics)e.scaleSymbolsProportionally||i(o.symbol,t,!0,r)}function s(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const r=e.dashTemplate.map((e=>e*t));e.dashTemplate=r}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function l(e){const t=[];return u((0,n.lW)(e),t),t.length?new o.A((0,n.e6)(t[0])):null}function u(e,t){if(!e)return;let r;r="CIMTextSymbol"===e.type?e.symbol:e;const o="CIMPolygonSymbol"===e.type;if(r?.symbolLayers)for(const i of r.symbolLayers)if(!(i.colorLocked||o&&((0,n.mA)(i)||(0,n.MM)(i)&&i.markerPlacement&&(0,n.zr)(i.markerPlacement))))switch(i.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":i.tintColor&&c(t,i.tintColor);break;case"CIMVectorMarker":i.markerGraphics?.forEach((e=>{u(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":c(t,i.color);break;case"CIMGradientFill":f(t,i);break;case"CIMHatchFill":u(i.lineSymbol,t)}}function c(e,t){for(const r of e)if(r.join(".")===t.join("."))return;e.push(t)}function f(e,t){const r=t.colorRamp?.type;switch(r){case"CIMMultipartColorRamp":t.colorRamp.colorRamps?.forEach((t=>{"CIMLinearContinuousColorRamp"===t.type&&m(e,t)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":m(e,t.colorRamp)}}function m(e,t){t&&(t.fromColor&&c(e,t.fromColor),t.toColor&&c(e,t.toColor))}function d(e,t,r){t instanceof o.A||(t=new o.A(t));const i=(0,n.lW)(e);i&&p(i,t,r)}function p(e,t,r){if(!e)return;let o;o="CIMTextSymbol"===e.type?e.symbol:e;const i="CIMPolygonSymbol"===o?.type;if(o?.symbolLayers)for(const a of o.symbolLayers){if(a.colorLocked)continue;if(i)if(r){const{layersToColor:e}=r;if(((0,n.mA)(a)||(0,n.MM)(a)&&a.markerPlacement&&(0,n.zr)(a.markerPlacement))&&"fill"===e||(0,n.jn)(a)&&"outline"===e)continue}else if((0,n.mA)(a)||(0,n.MM)(a)&&a.markerPlacement&&(0,n.zr)(a.markerPlacement))continue;const e=t.toArray();switch(a.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":a.tintColor=e;break;case"CIMVectorMarker":a.markerGraphics?.forEach((e=>{p(e.symbol,t,r)}));break;case"CIMSolidStroke":case"CIMSolidFill":a.color=e;break;case"CIMGradientFill":y(a,t);break;case"CIMHatchFill":p(a.lineSymbol,t,r)}}}function y(e,t){const r=e.colorRamp?.type;switch(r){case"CIMMultipartColorRamp":e.colorRamp.colorRamps?.forEach((e=>{"CIMLinearContinuousColorRamp"===e.type&&h(e,t)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":h(e.colorRamp,t)}}function h(e,t){if(e&&(e.fromColor&&(e.fromColor=t.toArray()),e.toColor)){const r=t.clone();r.a=0,e.toColor=r.toArray()}}function C(e,t,r=!1){const o=(0,n.lW)(e);if(r&&(t=360-t),"CIMTextSymbol"!==o?.type){if("CIMPointSymbol"===o?.type&&o.symbolLayers){const e=t-(o.angle||0);for(const t of o.symbolLayers)if((0,n.MM)(t)){let r=t.rotation||0;t.rotateClockwise?r-=e:r+=e,t.rotation=r}o.angle=t}}else o.angle=t}},41977:(e,t,r)=>{r.d(t,{$4:()=>L,O0:()=>b,O1:()=>M,Sw:()=>k,eH:()=>C,rc:()=>g});var o=r(99050),n=r(96220),i=r(86394),a=r(89926),s=r(89882),l=r(77573);const u="picture-fill",c="simple-fill",f="simple-line",m="simple-marker",d="text",p="cim",y=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),h=new a.q(1e3);function C(e){const t=e.style;let r=null;if(e)switch(e.type){case m:"cross"!==t&&"x"!==t&&(r=e.color);break;case c:t&&"solid"!==t?"none"!==t&&(r={type:"pattern",x:0,y:0,src:(0,o.s)(`esri/symbols/patterns/${t}.png`),width:5,height:5}):r=e.color;break;case u:r={type:"pattern",src:e.url,width:(0,s.Lz)(e.width)*e.xscale,height:(0,s.Lz)(e.height)*e.yscale,x:(0,s.Lz)(e.xoffset),y:(0,s.Lz)(e.yoffset)};break;case d:r=e.color;break;case p:r=(0,l.Nk)(e)}return r}function g(e,t){const r=e+"-"+t;return void 0!==h.get(r)?Promise.resolve(h.get(r)):(0,i.A)(e,{responseType:"image"}).then((e=>{const o=e.data,n=o.naturalWidth,i=o.naturalHeight,a=document.createElement("canvas");a.width=n,a.height=i;const s=a.getContext("2d");s.fillStyle=t,s.fillRect(0,0,n,i),s.globalCompositeOperation="destination-in",s.drawImage(o,0,0);const l=a.toDataURL();return h.put(r,l),l}))}function L(e){if(!e)return null;let t=null;switch(e.type){case c:case u:case m:t=L(e.outline);break;case f:{const r=(0,s.Lz)(e.width);null!=e.style&&"none"!==e.style&&0!==r&&(t={color:e.color,style:M(e.style),width:r,cap:e.cap,join:"miter"===e.join?(0,s.Lz)(e.miterLimit):e.join},t.dashArray=b(t).join(",")||"none");break}default:t=null}return t}function b(e){if(!e?.style)return[];const{dashArray:t,style:r,width:o}=e;if("string"==typeof t&&"none"!==t)return t.split(",").map((e=>Number(e)));const n=o??0,i=y.has(r)?y.get(r).map((e=>e*n)):[];if("butt"!==e.cap)for(const[a,s]of i.entries())i[a]=a%2==1?s+n:Math.max(s-n,1);return i}const M=(()=>{const e={};return t=>{if(e[t])return e[t];const r=t.replaceAll("-","");return e[t]=r,r}})(),k=new n.A([128,128,128])},55056:(e,t,r)=>{r.d(t,{$d:()=>p,GG:()=>w,N7:()=>y,Sx:()=>h,UQ:()=>P,di:()=>S,dt:()=>g,f3:()=>E,k_:()=>d});var o=r(96220),n=r(12690),i=(r(39831),r(89882)),a=r(58359),s=r(27664),l=r(77573),u=r(41977),c=r(5159),f=r(66961);const m=new o.A("white");function d(e){if(!e)return 0;if((0,f.wk)(e)){const t=function(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.size}(e);return null!=t?t:0}return(0,i.PN)((0,u.$4)(e)?.width)}function p(e){if(null==e||!("symbolLayers"in e)||null==e.symbolLayers)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((e=>"object"===e.type));case"line-3d":return e.symbolLayers.some((e=>"path"===e.type));case"polygon-3d":return e.symbolLayers.some((e=>"object"===e.type||"extrude"===e.type));default:return!1}}function y(e){return e.resource?.href??""}function h(e,t){if(!e)return null;let r=null;return(0,f.wk)(e)?r=function(e){const t=e.symbolLayers;if(!t)return null;let r=null;return t.forEach((e=>{"object"===e.type&&e.resource?.href||(r="water"===e.type?e.color:e.material?e.material.color:null)})),r?new o.A(r):null}(e):(0,f.$y)(e)&&(r="cim"===e.type?(0,l.Nk)(e):e.color?new o.A(e.color):null),r?C(r,t):null}function C(e,t){if(null==t||null==e)return e;const r=e.toRgba();return r[3]=r[3]*t,new o.A(r)}function g(e,t,r){e&&(t||null!=r)&&(t&&(t=new o.A(t)),(0,f.wk)(e)?function(e,t,r){const o=e.symbolLayers;if(!o)return;const n=e=>C(t??e??(null!=r?m:null),r);o.forEach((e=>{if("object"!==e.type||!e.resource?.href||t)if("water"===e.type)e.color=n(e.color);else{const t=null!=e.material?e.material.color:null,o=n(t);if(null==e.material?e.material=new c.N({color:o}):e.material.color=o,null!=r&&"outline"in e&&null!=e.outline?.color&&(e.outline.color=C(e.outline.color,r)),"marker"in e&&null!=e.marker){const t=n(e.marker.color);e.marker.color=t}}}))}(e,t,r):(0,f.$y)(e)&&function(e,t,r){(t=t??e.color)&&(e.color=C(t,r)),null!=r&&"outline"in e&&e.outline?.color&&(e.outline.color=C(e.outline.color,r))}(e,t,r))}async function L(e,t){const o=e.symbolLayers;o&&await(0,n.jJ)(o,(async e=>async function(e,t){switch(e.type){case"extrude":!function(e,t){const r=t[2];"number"==typeof r&&(e.size=r)}(e,t);break;case"icon":case"line":case"text":!function(e,t){const r=b(t);null!=r&&(e.size=r)}(e,t);break;case"path":!function(e,t){const r=M(t,a.Un,[e.width,void 0,e.height]);null!=r&&(e.width=k(t[0],e.width,1,r),e.height=k(t[2],e.height,1,r))}(e,t);break;case"object":await async function(e,t){const{resourceSize:o,symbolSize:n}=await async function(e){const{computeObjectLayerResourceSize:t}=await r.e(63867).then(r.bind(r,63867)),o=await t(e,10),{width:n,height:i,depth:a}=e,s=[n,a,i];let l=1;for(let r=0;r<3;r++){const e=s[r];if(null!=e){l=e/o[r];break}}for(let r=0;r<3;r++)null==s[r]&&(s[r]=o[r]*l);return{resourceSize:o,symbolSize:s}}(e),i=M(t,o,n);null!=i&&(e.width=k(t[0],n[0],o[0],i),e.depth=k(t[1],n[1],o[1],i),e.height=k(t[2],n[2],o[2],i))}(e,t)}}(e,t)))}function b(e){for(const t of e)if("number"==typeof t)return t;return null}function M(e,t,r){for(let o=0;o<3;o++){const n=e[o];switch(n){case"symbol-value":{const e=r[o];return null!=e?e/t[o]:1}case"proportional":break;default:if(n&&t[o])return n/t[o]}}return null}function k(e,t,r,o){switch(e){case"proportional":return r*o;case"symbol-value":return null!=t?t:r;default:return e}}async function P(e,t){if(e&&t)return(0,f.wk)(e)?L(e,t):void((0,f.$y)(e)&&function(e,t){const r=b(t);if(null!=r)switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":{const t=e.width/e.height;t>1?(e.width=r,e.height=r*t):(e.width=r*t,e.height=r);break}case"simple-line":e.width=r;break;case"text":e.font.size=r}}(e,t))}function w(e,t,r){if(e&&null!=t)if((0,f.wk)(e)){const o=e.symbolLayers;o&&o.forEach((e=>{if("object"===e.type)switch(r){case"tilt":e.tilt=(e.tilt??0)+t;break;case"roll":e.roll=(e.roll??0)+t;break;default:e.heading=(e.heading??0)+t}"icon"===e.type&&(e.angle+=t)}))}else(0,f.$y)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle+=t))}function S(e){if(!e)return null;const t=e.effects.filter((e=>"bloom"!==e.type)).map((e=>e.toJSON()));return(0,s.zu)(t)}function E(e){return null!=e&&"polygon-3d"===e.type&&e.symbolLayers.some((e=>"extrude"===e.type))}}}]);