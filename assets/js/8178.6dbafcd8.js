/*! For license information please see 8178.6dbafcd8.js.LICENSE.txt */
(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8178],{77842:(e,t,i)=>{e=i.nmd(e);var r="__lodash_hash_undefined__",n=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",f="[object Promise]",m="[object RegExp]",y="[object Set]",g="[object String]",_="[object Symbol]",v="[object WeakMap]",w="[object ArrayBuffer]",b="[object DataView]",M=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[s]=S[o]=S[w]=S[a]=S[b]=S[l]=S[c]=S[u]=S[h]=S[d]=S[p]=S[m]=S[y]=S[g]=S[v]=!1;var T="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,E="object"==typeof self&&self&&self.Object===Object&&self,x=T||E||Function("return this")(),P=t&&!t.nodeType&&t,C=P&&e&&!e.nodeType&&e,I=C&&C.exports===P,O=I&&T.process,R=function(){try{return O&&O.binding&&O.binding("util")}catch(e){}}(),N=R&&R.isTypedArray;function k(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}function L(e){var t=-1,i=Array(e.size);return e.forEach((function(e,r){i[++t]=[r,e]})),i}function D(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e})),i}var Z,F,U,j=Array.prototype,G=Function.prototype,z=Object.prototype,$=x["__core-js_shared__"],V=G.toString,B=z.hasOwnProperty,q=(Z=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+Z:"",H=z.toString,W=RegExp("^"+V.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=I?x.Buffer:void 0,K=x.Symbol,Y=x.Uint8Array,X=z.propertyIsEnumerable,Q=j.splice,ee=K?K.toStringTag:void 0,te=Object.getOwnPropertySymbols,ie=J?J.isBuffer:void 0,re=(F=Object.keys,U=Object,function(e){return F(U(e))}),ne=Re(x,"DataView"),se=Re(x,"Map"),oe=Re(x,"Promise"),ae=Re(x,"Set"),le=Re(x,"WeakMap"),ce=Re(Object,"create"),ue=De(ne),he=De(se),de=De(oe),pe=De(ae),fe=De(le),me=K?K.prototype:void 0,ye=me?me.valueOf:void 0;function ge(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function _e(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new ve;++t<i;)this.add(e[t])}function be(e){var t=this.__data__=new _e(e);this.size=t.size}function Me(e,t){var i=Ue(e),r=!i&&Fe(e),n=!i&&!r&&je(e),s=!i&&!r&&!n&&Be(e),o=i||r||n||s,a=o?function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}(e.length,String):[],l=a.length;for(var c in e)!t&&!B.call(e,c)||o&&("length"==c||n&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Le(c,l))||a.push(c);return a}function Ae(e,t){for(var i=e.length;i--;)if(Ze(e[i][0],t))return i;return-1}function Se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ee&&ee in Object(e)?function(e){var t=B.call(e,ee),i=e[ee];try{e[ee]=void 0;var r=!0}catch(s){}var n=H.call(e);r&&(t?e[ee]=i:delete e[ee]);return n}(e):function(e){return H.call(e)}(e)}function Te(e){return Ve(e)&&Se(e)==s}function Ee(e,t,i,r,n){return e===t||(null==e||null==t||!Ve(e)&&!Ve(t)?e!=e&&t!=t:function(e,t,i,r,n,u){var f=Ue(e),v=Ue(t),M=f?o:ke(e),A=v?o:ke(t),S=(M=M==s?p:M)==p,T=(A=A==s?p:A)==p,E=M==A;if(E&&je(e)){if(!je(t))return!1;f=!0,S=!1}if(E&&!S)return u||(u=new be),f||Be(e)?Ce(e,t,i,r,n,u):function(e,t,i,r,n,s,o){switch(i){case b:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!s(new Y(e),new Y(t)));case a:case l:case d:return Ze(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case h:var u=L;case y:var p=1&r;if(u||(u=D),e.size!=t.size&&!p)return!1;var f=o.get(e);if(f)return f==t;r|=2,o.set(e,t);var v=Ce(u(e),u(t),r,n,s,o);return o.delete(e),v;case _:if(ye)return ye.call(e)==ye.call(t)}return!1}(e,t,M,i,r,n,u);if(!(1&i)){var x=S&&B.call(e,"__wrapped__"),P=T&&B.call(t,"__wrapped__");if(x||P){var C=x?e.value():e,I=P?t.value():t;return u||(u=new be),n(C,I,i,r,u)}}if(!E)return!1;return u||(u=new be),function(e,t,i,r,n,s){var o=1&i,a=Ie(e),l=a.length,c=Ie(t),u=c.length;if(l!=u&&!o)return!1;var h=l;for(;h--;){var d=a[h];if(!(o?d in t:B.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var f=!0;s.set(e,t),s.set(t,e);var m=o;for(;++h<l;){var y=e[d=a[h]],g=t[d];if(r)var _=o?r(g,y,d,t,e,s):r(y,g,d,e,t,s);if(!(void 0===_?y===g||n(y,g,i,r,s):_)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var v=e.constructor,w=t.constructor;v==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,i,r,n,u)}(e,t,i,r,Ee,n))}function xe(e){return!(!$e(e)||function(e){return!!q&&q in e}(e))&&(Ge(e)?W:M).test(De(e))}function Pe(e){if(i=(t=e)&&t.constructor,r="function"==typeof i&&i.prototype||z,t!==r)return re(e);var t,i,r,n=[];for(var s in Object(e))B.call(e,s)&&"constructor"!=s&&n.push(s);return n}function Ce(e,t,i,r,n,s){var o=1&i,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var u=-1,h=!0,d=2&i?new we:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var p=e[u],f=t[u];if(r)var m=o?r(f,p,u,t,e,s):r(p,f,u,e,t,s);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!k(t,(function(e,t){if(o=t,!d.has(o)&&(p===e||n(p,e,i,r,s)))return d.push(t);var o}))){h=!1;break}}else if(p!==f&&!n(p,f,i,r,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Ie(e){return function(e,t,i){var r=t(e);return Ue(e)?r:function(e,t){for(var i=-1,r=t.length,n=e.length;++i<r;)e[n+i]=t[i];return e}(r,i(e))}(e,qe,Ne)}function Oe(e,t){var i,r,n=e.__data__;return("string"==(r=typeof(i=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?n["string"==typeof t?"string":"hash"]:n.map}function Re(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return xe(i)?i:void 0}ge.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(ce){var i=t[e];return i===r?void 0:i}return B.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return ce?void 0!==t[e]:B.call(t,e)},ge.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=ce&&void 0===t?r:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,i=Ae(t,e);return!(i<0)&&(i==t.length-1?t.pop():Q.call(t,i,1),--this.size,!0)},_e.prototype.get=function(e){var t=this.__data__,i=Ae(t,e);return i<0?void 0:t[i][1]},_e.prototype.has=function(e){return Ae(this.__data__,e)>-1},_e.prototype.set=function(e,t){var i=this.__data__,r=Ae(i,e);return r<0?(++this.size,i.push([e,t])):i[r][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(se||_e),string:new ge}},ve.prototype.delete=function(e){var t=Oe(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Oe(this,e).get(e)},ve.prototype.has=function(e){return Oe(this,e).has(e)},ve.prototype.set=function(e,t){var i=Oe(this,e),r=i.size;return i.set(e,t),this.size+=i.size==r?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,r),this},we.prototype.has=function(e){return this.__data__.has(e)},be.prototype.clear=function(){this.__data__=new _e,this.size=0},be.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},be.prototype.get=function(e){return this.__data__.get(e)},be.prototype.has=function(e){return this.__data__.has(e)},be.prototype.set=function(e,t){var i=this.__data__;if(i instanceof _e){var r=i.__data__;if(!se||r.length<199)return r.push([e,t]),this.size=++i.size,this;i=this.__data__=new ve(r)}return i.set(e,t),this.size=i.size,this};var Ne=te?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,r=null==e?0:e.length,n=0,s=[];++i<r;){var o=e[i];t(o,i,e)&&(s[n++]=o)}return s}(te(e),(function(t){return X.call(e,t)})))}:function(){return[]},ke=Se;function Le(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function De(e){if(null!=e){try{return V.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ze(e,t){return e===t||e!=e&&t!=t}(ne&&ke(new ne(new ArrayBuffer(1)))!=b||se&&ke(new se)!=h||oe&&ke(oe.resolve())!=f||ae&&ke(new ae)!=y||le&&ke(new le)!=v)&&(ke=function(e){var t=Se(e),i=t==p?e.constructor:void 0,r=i?De(i):"";if(r)switch(r){case ue:return b;case he:return h;case de:return f;case pe:return y;case fe:return v}return t});var Fe=Te(function(){return arguments}())?Te:function(e){return Ve(e)&&B.call(e,"callee")&&!X.call(e,"callee")},Ue=Array.isArray;var je=ie||function(){return!1};function Ge(e){if(!$e(e))return!1;var t=Se(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function $e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ve(e){return null!=e&&"object"==typeof e}var Be=N?function(e){return function(t){return e(t)}}(N):function(e){return Ve(e)&&ze(e.length)&&!!S[Se(e)]};function qe(e){return null!=(t=e)&&ze(t.length)&&!Ge(t)?Me(e):Pe(e);var t}e.exports=function(e,t){return Ee(e,t)}},37685:(e,t,i)=>{"use strict";i.d(t,{UF:()=>c,ao:()=>u,cY:()=>r,hd:()=>v,j1:()=>b,kn:()=>g,oK:()=>A});class r{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}const n=(e,t,i)=>(0,o(t).subscribe)((t=>{const r=t.some((t=>((e,t)=>{let i=e;for(;i;){if(i===t)return!0;if(!i.parentNode)return!1;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e,t.target)));r&&i()})),s={},o=e=>{const t=e.join(","),i=s[t];if(void 0!==i)return i;const r=new Set,n=new MutationObserver((e=>r.forEach((t=>t(e)))));globalThis.document&&n.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});const o={subscribe:e=>(r.add(e),()=>{r.delete(e),0===r.size&&(n.disconnect(),s[t]=void 0)})};return s[t]=o,o},a=(e,t)=>{let i=e;for(;i;){const e=i.closest?.(t);if(e)return e;const r=i.getRootNode?.();if(r===globalThis.document)return null;i=r.host}return null},l=(e,t,i)=>{const r=a(e,`[${t}]`);return r?.getAttribute(t)??i},c=(e,t,...i)=>{try{return e?.call(t,...i)}catch(r){console.error(r,e)}},u=async(e,t,...i)=>{try{const r=e?.call(t,...i);return await r}catch(r){console.error(r,e)}},h="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),d=new Set(h),p="en",f={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},m={},y=async(e,t)=>{const i=`${t}${e}.json`;try{const e=await fetch(i);if(e.ok)return await e.json()}catch(r){return console.error(r),{}}return e===p?{}:await y(p,t)},g=e=>{const t=l(e,"lang",globalThis.navigator?.language||p);return{lang:t,t9nLocale:_(t)}},_=e=>{const[t,i]=e.split("-"),r=t.toLowerCase();let n=r;return i&&(n=`${r}-${i.toUpperCase()}`),n=f[n]??n,d.has(n)?n:i?_(r):p},v=(e,t,i,r)=>{let s;const o=()=>w(e,t(),r).then((e=>{s?.lang===e.lang&&s.t9nLocale===e.t9nLocale&&s.t9nStrings===e.t9nStrings||i(e),s=e})).catch(console.error);return queueMicrotask(o),n(e,["lang"],o)},w=async(e,t,i=e.localName.split("-").slice(1).join("-"))=>{const{lang:r,t9nLocale:n}=g(e),s=`${t}/${i}/t9n`,o=null===i?{}:await(async(e,t,i="")=>{const r=`${t}/${i}`,n=`${r}${e}.json`;return m[n]??(m[n]=y(e,r)),await m[n]})(n,s,"messages.");return{lang:r,t9nLocale:n,t9nStrings:o}},b=e=>e.replace(M,((e,t)=>`${0===t?"":"-"}${e.toLowerCase()}`)),M=/[A-Z]+(?![a-z])|[A-Z]/gu,A=(e,t)=>{const i=t>S?T:t/E;let r=0;const n=setInterval((()=>{r+=i,r>=t&&(clearInterval(n),e())}),i);return n},S=4e3,T=2e3,E=4},58556:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>k});var r=i(66866),n=i(21121),s=i(86394),o=i(48982),a=i(4194),l=i(21877),c=i(19251),u=i(45307),h=i(6412),d=i(539),p=i(6267),f=i(40189),m=i(20909),y=i(21564),g=(i(39831),i(63863)),_=i(77542),v=i(78983),w=i(10282),b=i(26099),M=i(84910),A=(i(17791),i(52495)),S=(i(9272),i(91109)),T=i(15131);let E=class extends A.A{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const e=this.language;let t="local"===e||"global"===e?e:(0,T.xO)(e??(0,S.JK)())??"global";return t="no"===t?"nb":t,t}};(0,r._)([(0,y.MZ)()],E.prototype,"apiKey",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"id",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"language",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"places",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"serviceUrl",void 0),(0,r._)([(0,y.MZ)()],E.prototype,"worldview",void 0),E=(0,r._)([(0,g.$)("esri.support.BasemapStyle")],E);const x=E;var P,C=i(91146);let I=0,O=P=class extends(l.A.JSONSupportMixin(u.A)){constructor(e){super(e),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+I++,this.baseLayers=new o.A,this.referenceLayers=new o.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"===e.type&&d.A.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=e=>{e.parent=null};this.addHandles([this.baseLayers.on("after-add",(e=>t(e.item))),this.referenceLayers.on("after-add",(e=>t(e.item))),this.baseLayers.on("after-remove",(e=>i(e.item))),this.referenceLayers.on("after-remove",(e=>i(e.item)))])}initialize(){this.when().catch((e=>{d.A.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const i of e)i.destroy();const t=this.referenceLayers.toArray();for(const i of t)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=(0,p.pR)(this.portalItem)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",(0,a.V)(e,this._get("baseLayers")))}_writeBaseLayers(e,t,i){const r=[];e?(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach((e=>{const t=(0,C.CJ)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);null!=t&&r.push(t)})),this.referenceLayers.forEach((e=>{const t=(0,C.CJ)(e,i.webmap?i.webmap.getLayerJSONFromResourceInfo(e):null,i);null!=t&&("scene"!==e.type&&(t.isReference=!0),r.push(t))})),t.baseMapLayers=r):t.baseMapLayers=r}set referenceLayers(e){this._set("referenceLayers",(0,a.V)(e,this._get("referenceLayers")))}writeTitle(e,t){t.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,h.g)(this,(e=>{e(this.baseLayers,this.referenceLayers)}))}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>(0,c.Nb)(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>(0,c.Nb)(e)?e.clone():e))};return this.loaded&&(e.loadStatus="loaded"),new P({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}write(e,t){return e=e||{},t?.origin||(t={origin:"web-map",...t}),super.write(e,t),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((e=>{const t=(0,c.o8)(e);return t.url&&(0,m.BQ)(t.url)&&(t.url=`https:${t.url}`),t.templateUrl&&(0,m.BQ)(t.templateUrl)&&(t.templateUrl=`https:${t.templateUrl}`),t}))),e}async _loadFromSource(e){const{resourceInfo:t,portalItem:i,style:r}=this;(0,f.Te)(e);const n=[];if(t){const i=t.context?t.context.url:null;if(n.push(this._loadLayersFromJSON(t.data,i,e)),t.data.id&&!t.data.title){const e=t.data.id;n.push((0,M.q)(e).then((e=>{e&&this.read({title:e},t.context)})))}}else i?n.push(this._loadFromItem(i,e)):r&&n.push(this._loadFromStylesService(r,e));await Promise.all(n)}async _loadLayersFromJSON(e,t,r){const n=this.resourceInfo?.context,s=this.portalItem?.portal||n?.portal||null,o=N[n?.origin||""]??"web-map",{populateOperationalLayers:a}=await Promise.all([i.e(72076),i.e(86452)]).then(i.bind(i,86452)),l=[];if((0,f.Te)(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const i={context:{...n,origin:o,url:t,portal:s,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},r=e=>"web-scene"===o&&"ArcGISSceneServiceLayer"===e.layerType||e.isReference,c=a(this.baseLayers,e.baseMapLayers.filter((e=>!r(e))),i);l.push(c);const u=a(this.referenceLayers,e.baseMapLayers.filter(r),i);l.push(u)}await Promise.allSettled(l)}async _loadFromItem(e,t){const i=await e.load(t),r=await i.fetchData("json",t),n=(0,m.An)(e.itemUrl??"");return this._set("resourceInfo",{data:r.baseMap??{},context:{origin:R[e.type||""]??"web-map",portal:e.portal||w.A.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:r.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||w.A.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,t)}async _loadFromStylesService(e,t){const i=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,r=`${i}/styles/${e.id}/self`,o=`${i}/webmaps/${e.id}`,a=e.apiKey??n.A.apiKeys.basemapStyles,[l,c]=await Promise.all([(await(0,s.A)(r,{query:{token:a},signal:t?.signal})).data,(await(0,s.A)(o,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:a},signal:t?.signal})).data]);this.thumbnailUrl??=l.thumbnailUrl;const u=(0,m.An)(o);if(this._set("resourceInfo",{data:c.baseMap??{},context:{origin:"web-map",url:u}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:c.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,u,t),a)for(const n of[...this.baseLayers,...this.referenceLayers])"apiKey"in n&&(n.apiKey=a)}static fromId(e){const t=M.H[e];return t?t.itemId?new P({portalItem:{id:t.itemId,portal:{url:"https://www.arcgis.com"}}}):P.fromJSON(t,t.is3d?{origin:"web-scene",portal:new w.A({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}};(0,r._)([(0,y.MZ)({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(e,t,i,r){this._writeBaseLayers(e,t,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:o.A}},writer(e,t,i,r){this._writeBaseLayers(e,t,r)}}}}}})],O.prototype,"baseLayers",null),(0,r._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:!0}}}})],O.prototype,"id",void 0),(0,r._)([(0,y.MZ)({type:b.default})],O.prototype,"portalItem",void 0),(0,r._)([(0,y.MZ)()],O.prototype,"referenceLayers",null),(0,r._)([(0,y.MZ)({readOnly:!0})],O.prototype,"resourceInfo",void 0),(0,r._)([(0,y.MZ)({type:v.A})],O.prototype,"spatialReference",void 0),(0,r._)([(0,y.MZ)({type:x})],O.prototype,"style",void 0),(0,r._)([(0,y.MZ)()],O.prototype,"thumbnailUrl",void 0),(0,r._)([(0,y.MZ)({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],O.prototype,"title",void 0),(0,r._)([(0,_.K)("title")],O.prototype,"writeTitle",null),O=P=(0,r._)([(0,g.$)("esri.Basemap")],O);const R={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},N={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},k=O},96220:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(31415),n=i(92504),s=i(73446);function o(e){return(0,n.qE)((0,s.Vr)(e),0,255)}function a(e,t){const i=e.toString(16).padStart(2,"0");return t?i.slice(0,1):i}class l{static blendColors(e,t,i,r=new l){return r.r=Math.round(e.r+(t.r-e.r)*i),r.g=Math.round(e.g+(t.g-e.g)*i),r.b=Math.round(e.b+(t.b-e.b)*i),r.a=e.a+(t.a-e.a)*i,r._sanitize()}static fromRgb(e,t){const i=(0,r.lT)(e);return i?l.fromArray(i,t):null}static fromHex(e,t=new l){const i=(0,r.oW)(e);return i?l.fromArray(i,t):null}static fromArray(e,t=new l){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const i=(0,r.Eq)(e);return i?l.fromArray(i,t):null}static fromJSON(e){return null!=e?new l([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?l.fromString(e,this):Array.isArray(e)?l.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof l||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const t=e?.capitalize??!1,i=e?.digits??6,r=3===i||4===i,n=4===i||8===i,s=`#${a(this.r,r)}${a(this.g,r)}${a(this.b,r)}${n?a(Math.round(255*this.a),r):""}`;return t?s.toUpperCase():s}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=l.AlphaMode.ALWAYS){const t=o(this.r),i=o(this.g),r=o(this.b);return e===l.AlphaMode.ALWAYS||1!==this.a?[t,i,r,o(255*this.a)]:[t,i,r]}clone(){return new l(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=(0,r.c1)(this.r),this.g=(0,r.c1)(this.g),this.b=(0,r.c1)(this.b),this.a=(0,r.G1)(this.a),this}_set(e,t,i,r){this.r=e,this.g=t,this.b=i,this.a=r}}l.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(l||(l={}));const c=l},25707:(e,t,i)=>{"use strict";i.d(t,{A:()=>w});var r,n=i(66866),s=i(56542),o=i(24793),a=i(50220),l=i(21877),c=i(539),u=i(85251),h=i(65061),d=i(21564),p=(i(39831),i(9272),i(63863)),f=i(59372),m=i(1171),y=i(12433),g=i(17324),_=i(66961);function v(e){if(null==e)return null;const t={};for(const i in e){const r=e[i];r&&(t[i]=r.toJSON())}return 0!==Object.keys(t).length?t:null}let w=class extends(o.A.ClonableMixin(l.A)){static{r=this}constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:(0,h.c)(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&(0,a.eF)(c.A.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),"mesh"!==e?.type&&this._notifyLayer("geometry",t,e))}set popupTemplate(e){const t=this._get("popupTemplate");t!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new r({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[t,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(e&&"defaultPopupTemplate"in i&&null!=i.defaultPopupTemplate)return i.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const i=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",i,t,e)}else this.attributes={[e]:t}}getObjectId(){const e=this.sourceLayer??this.layer;return e?(0,g.r)(this,e):null}getGlobalId(){const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:v(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:(0,f.W)(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if("mesh"===t?.type){const i={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",i,i,e.action)}}_notifyLayer(e,t,i,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:i};"origin-transform"===e&&(n.action=r),"attributes"===e&&(n.attributeName=r),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([(0,u.z7)((()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0),(({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())})),(0,u.z7)((()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0),(()=>{const e=this.geometry;"mesh"===e?.type&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)}),{equals:(e,t)=>e===t,sync:!0})])}};(0,n._)([(0,d.MZ)({value:null,json:{read:function(e){if(!e)return null;const t={};for(const i in e){const r=(0,m.rS)(e[i]);r&&(t[i]=r)}return 0!==Object.keys(t).length?t:null}}})],w.prototype,"aggregateGeometries",null),(0,n._)([(0,d.MZ)({value:null})],w.prototype,"attributes",null),(0,n._)([(0,d.MZ)({value:null,types:y.yR,json:{read:m.rS}})],w.prototype,"geometry",null),(0,n._)([(0,d.MZ)({type:Boolean})],w.prototype,"isAggregate",void 0),(0,n._)([(0,d.MZ)({clonable:!1})],w.prototype,"layer",void 0),(0,n._)([(0,d.MZ)({clonable:"reference"})],w.prototype,"origin",void 0),(0,n._)([(0,d.MZ)({type:s.A,value:null})],w.prototype,"popupTemplate",null),(0,n._)([(0,d.MZ)({clonable:"reference"})],w.prototype,"sourceLayer",void 0),(0,n._)([(0,d.MZ)({value:null,types:_.Es})],w.prototype,"symbol",null),(0,n._)([(0,d.MZ)({clonable:!1,json:{read:!1,write:!1}})],w.prototype,"_version",void 0),(0,n._)([(0,d.MZ)({type:Boolean,value:!0})],w.prototype,"visible",null),w=r=(0,n._)([(0,p.$)("esri.Graphic")],w)},53174:(e,t,i)=>{"use strict";i.d(t,{A:()=>te});var r,n=i(66866),s=i(58556),o=i(96220),a=i(48982),l=i(4194),c=i(73345),u=i(98849),h=i(21877),d=i(19251),p=i(45307),f=i(6412),m=i(539),y=i(6267),g=i(40189),_=i(21564),v=i(73446),w=i(63863),b=i(77542),M=(i(39831),i(9272),i(28902));let A=r=class extends h.A{constructor(e){super(e),this.type="none"}clone(){return new r({type:this.type})}};(0,n._)([(0,M.e)({none:"none",stayAbove:"stay-above"}),(0,_.MZ)({json:{write:{isRequired:!0}}})],A.prototype,"type",void 0),A=r=(0,n._)([(0,w.$)("esri.ground.NavigationConstraint")],A);const S=Symbol("GroundInstance");var T,E,x=i(48904);let P=E=class extends(h.A.JSONSupportMixin(p.A)){static{T=S}constructor(e){super(e),this[T]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new a.A;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&m.A.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};this.addHandles([this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>(e=>{e.parent=null})(e.item)))])}initialize(){this.when().catch((e=>{(0,g.zf)(e)||m.A.getLogger(this).error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)(0,y.pR)(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}get layers(){return this._get("layers")}set layers(e){this._set("layers",(0,l.V)(e,this._get("layers")))}writeLayers(e,t,i,r){const n=[];e?(r={...r,layerContainerType:"ground"},e.forEach((e=>{if("write"in e){const t={};(0,c.GB)(e)().write(t,r)&&n.push(t)}else r?.messages&&r.messages.push(new u.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))})),t.layers=n):t.layers=n}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,f.g)(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await i.e(75323).then(i.bind(i,75323));(0,g.Te)(t);const n=new r,s=this.layers.filter(C).toArray();return n.queryAll(s,e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{ElevationQuery:r}=await i.e(75323).then(i.bind(i,75323));(0,g.Te)(t);const n=new r,s=this.layers.filter(C).toArray();return n.createSamplerAll(s,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:(0,d.o8)(this.surfaceColor),navigationConstraint:(0,d.o8)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new E({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,r){const n=t?.origin||"web-scene",s=t?.portal||null,o=t?.url||null,{populateOperationalLayers:a}=await Promise.all([i.e(72076),i.e(86452)]).then(i.bind(i,86452));(0,g.Te)(r);const l=[];if(e.layers&&Array.isArray(e.layers)){const t={context:{origin:n,url:o,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(a(this.layers,e.layers,t))}await Promise.allSettled(l)}};function C(e){return"elevation"===e.type||function(e){return e&&"createElevationSampler"in e}(e)}(0,n._)([(0,_.MZ)({json:{read:!1,write:{isRequired:!0}}})],P.prototype,"layers",null),(0,n._)([(0,b.K)("layers")],P.prototype,"writeLayers",null),(0,n._)([(0,_.MZ)({readOnly:!0})],P.prototype,"resourceInfo",void 0),(0,n._)([(0,_.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:v.jz,read:{reader:x.D,source:"transparency"},write:{writer:(e,t)=>{t.transparency=(0,x.p)(e)},target:"transparency"}}})],P.prototype,"opacity",void 0),(0,n._)([(0,_.MZ)({type:o.A,json:{type:[v.jz],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],P.prototype,"surfaceColor",void 0),(0,n._)([(0,_.MZ)({type:A,json:{write:!0}})],P.prototype,"navigationConstraint",void 0),P=E=(0,n._)([(0,w.$)("esri.Ground")],P);const I=P;var O=i(52495),R=i(14798),N=i(17306),k=i(4130),L=i(24793),D=i(86394),Z=i(33880),F=i(75094),U=i(77841);let j=class extends(L.A.ClonableMixin(h.A)){constructor(e){super(e),this.color=null}};(0,n._)([(0,_.MZ)({type:o.A,json:{type:[v.jz],write:!0}})],j.prototype,"color",void 0),j=(0,n._)([(0,w.$)("esri.effects.FocusAreaOutline")],j);const G=j;var z=i(32532),$=i(63680);let V=class extends(h.A.JSONSupportMixin(L.A)){constructor(e){super(e),this.id=`focusarea-${(0,Z.lk)()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new z.A}readGeometries(e,t,i){Array.isArray(e)?this.geometries=z.A.fromJSON(e,i):i.hooks?.onAfterLoad?.((()=>this._loadGeometries((0,$.f)(e,i),i)))}async _loadGeometries(e,t){const i=await(0,D.A)(e,{responseType:"json"});this.geometries=z.A.fromJSON(i.data,t)}};(0,n._)([(0,_.MZ)({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),(0,_.MZ)()],V.prototype,"id",void 0),(0,n._)([(0,_.MZ)({type:String,json:{write:!0}})],V.prototype,"title",void 0),(0,n._)([(0,_.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],V.prototype,"enabled",void 0),(0,n._)([(0,_.MZ)({type:G,json:{write:!0}})],V.prototype,"outline",void 0),(0,n._)([(0,_.MZ)({type:z.A,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new z.A(e.items.map((e=>e.clone())))}),(0,U.P)({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],V.prototype,"geometries",void 0),(0,n._)([(0,F.w)(["web-scene","portal-item"],"geometries")],V.prototype,"readGeometries",null),V=(0,n._)([(0,w.$)("esri.effects.FocusArea")],V);const B=V;let q=class extends(h.A.JSONSupportMixin(L.A)){constructor(e){super(e),this.areas=new a.A,this.style="bright"}};(0,n._)([(0,_.MZ)({type:a.A.ofType(B),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:e=>new a.A(e.items.map((e=>e.clone())))})],q.prototype,"areas",void 0),(0,n._)([(0,_.MZ)({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],q.prototype,"style",void 0),q=(0,n._)([(0,w.$)("esri.effects.FocusAreas")],q);const H=q;var W=i(8746),J=i(66488),K=i(62090);const Y={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};var X=i(82576),Q=i(18437);let ee=class extends((0,Q.l)((0,X.Q)(N.A.EventedMixin(O.A)))){constructor(e){super(e),this.allLayers=new R.A({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:e=>"layers"in e?e.layers:null}),this.focusAreas=new H,this.allTables=(0,K.Z)(this),this.basemap=null,this.editableLayers=new R.A({getCollections:()=>[this.allLayers],itemFilterFunction:W.S}),this.ground=new I,this._basemapCache=(0,J.VC)()}destroy(){(0,J.jj)(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,y.pR)(this.basemap),(0,y.pR)(this.ground),this._set("ground",null)}castBasemap(e){return(0,J.es)(e,this._basemapCache)}castGround(e){const t=function(e){let t=null;"string"==typeof e?e in Y?t=new I({resourceInfo:{data:{layers:[Y[e]]}}}):m.A.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`):t=(0,v.dp)(I,e);return t}(e);return t??this._get("ground")}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}};(0,n._)([(0,_.MZ)({readOnly:!0,dependsOn:[]})],ee.prototype,"allLayers",void 0),(0,n._)([(0,_.MZ)({type:H,nonNullable:!0,json:{write:{overridePolicy:e=>({enabled:e.areas.length>0,ignoreOrigin:!0})}}})],ee.prototype,"focusAreas",void 0),(0,n._)([(0,_.MZ)({readOnly:!0})],ee.prototype,"allTables",void 0),(0,n._)([(0,_.MZ)({type:s.default,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],ee.prototype,"basemap",void 0),(0,n._)([(0,k.w)("basemap")],ee.prototype,"castBasemap",null),(0,n._)([(0,_.MZ)({readOnly:!0})],ee.prototype,"editableLayers",void 0),(0,n._)([(0,_.MZ)({type:I,nonNullable:!0})],ee.prototype,"ground",void 0),(0,n._)([(0,k.w)("ground")],ee.prototype,"castGround",null),(0,n._)([(0,_.MZ)()],ee.prototype,"undoRedo",void 0),ee=(0,n._)([(0,w.$)("esri.Map")],ee);const te=ee},56542:(e,t,i)=>{"use strict";i.d(t,{A:()=>W});var r=i(66866),n=i(24793),s=i(48982),o=i(21877),a=i(19251),l=i(539),c=i(40189),u=i(21564),h=i(4130),d=i(75094),p=i(63863),f=i(77542),m=i(73446),y=i(42453),g=i(51777),_=i(27597),v=i(80004),w=i(44395),b=i(3082),M=i(53155),A=i(73875),S=i(23676),T=i(39723);const E={base:null,key:"type",typeMap:{attachment:g.A,media:M.A,text:S.A,expression:w.A,field:b.A,relationship:A.A,utilityNetworkAssociations:T.A}},x={base:null,key:"type",typeMap:{attachment:g.A,media:M.A,text:S.A,expression:w.A,field:b.A,relationship:A.A}};var P,C=i(57026),I=i(31386);i(39831),i(9272);let O=P=class extends o.A{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new P({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],O.prototype,"returnTopmostRaster",void 0),(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],O.prototype,"showNoDataRecords",void 0),O=P=(0,r._)([(0,p.$)("esri.popup.LayerOptions")],O);const R=O;var N,k=i(33083);let L=N=class extends o.A{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new N({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?(0,a.o8)(this.orderByFields):null})}};(0,r._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],L.prototype,"showRelatedRecords",void 0),(0,r._)([(0,u.MZ)({type:[k.A],json:{write:!0}})],L.prototype,"orderByFields",void 0),L=N=(0,r._)([(0,p.$)("esri.popup.RelatedRecordsInfo")],L);const D=L;var Z=i(44379),F=i(44072),U=i(88121),j=i(67241);const G="relationships/",z="expression/",$=s.A.ofType({key:"type",defaultKeyValue:"button",base:F.A,typeMap:{button:U.A,toggle:j.A}}),V={base:_.A,key:"type",typeMap:{media:M.A,custom:v.A,text:S.A,attachments:g.A,fields:b.A,expression:w.A,relationship:A.A,utilityNetworkAssociations:T.A}},B=new Set(["attachments","fields","media","text","expression","relationship"]),q=new Set([...B,"utility-network-associations"]);let H=class extends(n.A.ClonableMixin(o.A)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map((e=>(0,m.aq)(V,e))):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||(0,c.$X)(e)?e:(l.A.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:i}=t;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,i):this._readPopupInfo(t)}writeWebSceneContent(e,t,i,r){this._writePopupTemplateContent(e,t,r)}writeWebMapContent(e,t,i,r){this._writePopupTemplateContent(e,t,r)}writeFieldInfos(e,t,i,r){const{content:n}=this,s=Array.isArray(n)?n:null;if(e){const i=s?s.filter((e=>"fields"===e.type)):[],n=i.length&&i.every((e=>e.fieldInfos?.length));t.fieldInfos=e.filter(Boolean).map((e=>{const t=e.toJSON(r);return n&&(t.visible=!1),t}))}if(s)for(const o of s)"fields"===o.type&&this._writeFieldsContent(o,t)}writeLayerOptions(e,t,i,r){t[i]=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON(r)}writeTitle(e,t){t.title=e||""}async collectRequiredFields(e,t){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...i,...this._getContentExpressionInfos(this.content,i)]),(0,y._w)(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writePopupTemplateContent(e,t,i){"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((e=>"web-scene"===i?.origin?B.has(e.type):q.has(e.type))).map((e=>e?.toJSON(i))),t.popupElements.forEach((e=>{"attachments"===e.type?this._writeAttachmentContent(t):"media"===e.type?this._writeMediaContent(e,t):"text"===e.type?this._writeTextContent(e,t):"relationship"===e.type&&this._writeRelationshipContent(e,t)}))):t.description=e}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const i=(0,a.o8)(e.fieldInfos);Array.isArray(t.fieldInfos)?i.forEach((e=>{const i=t.fieldInfos.find((t=>t.fieldName?.toLowerCase()===e.fieldName?.toLowerCase()));i?i.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=i}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,t){const i=e.orderByFields?.map((t=>this._toFieldOrderJSON(t,e.relationshipId)))||[],r=[...t.relatedRecordsInfo?.orderByFields||[],...i];t.relatedRecordsInfo={showRelatedRecords:!0,...r?.length&&{orderByFields:r}}}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const i=(0,a.o8)(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...i]:t.mediaInfos=i}_readPopupInfoElements(e,t,i){const r={description:!1,mediaInfos:!1};return i.map((i=>"media"===i.type?(i.mediaInfos||!t||r.mediaInfos||(i.mediaInfos=t,r.mediaInfos=!0),M.A.fromJSON(i)):"text"===i.type?(i.text||!e||r.description||(i.text=e,r.description=!0),S.A.fromJSON(i)):"attachments"===i.type?g.A.fromJSON(i):"fields"===i.type?b.A.fromJSON(i):"expression"===i.type?w.A.fromJSON(i):"relationship"===i.type?A.A.fromJSON(i):"utilityNetworkAssociations"===i.type?T.A.fromJSON(i):void 0)).filter(Boolean)}_toRelationshipContent(e){const{field:t,order:i}=e;if(!t?.startsWith(G))return null;const r=t.replace(G,"").split("/");if(2!==r.length)return null;const n=parseInt(r[0],10),s=r[1];return!Number.isNaN(n)&&s?A.A.fromJSON({relationshipId:n,orderByFields:[{field:s,order:i}]}):null}_toFieldOrderJSON(e,t){const{order:i,field:r}=e;return{field:`${G}${t}/${r}`,order:i}}_readPopupInfo({description:e,mediaInfos:t,showAttachments:i,relatedRecordsInfo:r={showRelatedRecords:!1}}){const n=[];e?n.push(new S.A({text:e})):n.push(new b.A),Array.isArray(t)&&t.length&&n.push(M.A.fromJSON({mediaInfos:t})),i&&n.push(g.A.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:o}=r;return s&&o?.length&&o.forEach((e=>{const t=this._toRelationshipContent(e);t&&n.push(t)})),n.length?n:e}_getContentElementFields(e){const t=e?.type;if("attachments"===t)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if("custom"===t)return e.outFields||[];if("fields"===t)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if("media"===t){const t=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...t.reduce(((e,t)=>[...e,...this._getMediaInfoFields(t)]),[])]}return"text"===t?this._extractFieldNames(e.text):"relationship"===t||"utility-network-associations"===t?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:t,title:i,value:r}=e,n=r||{},{fields:s,normalizeField:o,tooltipField:a,sourceURL:l,linkURL:c}=n,u=[...this._extractFieldNames(i),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(c),...s??[]];return o&&u.push(o),a&&u.push(a),u}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce(((e,t)=>[...e,..."expression"===t.type&&t.expressionInfo?[t.expressionInfo]:[]]),t):[]}_getContentFields(e){return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce(((e,t)=>[...e,...this._getContentElementFields(t)]),[]):[]}async _collectExpressionInfoFields(e,t,i){i&&await Promise.all(i.map((i=>(0,y.Dx)(e,t,i.expression))))}_getFieldInfoFields(e){return e?e.filter((({fieldName:e,visible:t})=>!(void 0!==t&&!t||!e||e.startsWith(G)||e.startsWith(z)))).map((e=>e.fieldName)):[]}_getActionsFields(e){return e?e.toArray().reduce(((e,t)=>[...e,...this._getActionFields(t)]),[]):[]}_getActionFields(e){const{className:t,title:i,type:r}=e,n="button"===r||"toggle"===r?e.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(t),...this._extractFieldNames(n)]}_getTitleFields(e){return"string"==typeof e?this._extractFieldNames(e):[]}_extractFieldNames(e){return(0,y.nw)(e).filter((e=>!(0===e.indexOf(G)||0===e.indexOf(z))))}};(0,r._)([(0,u.MZ)({type:$})],H.prototype,"actions",void 0),(0,r._)([(0,u.MZ)()],H.prototype,"content",void 0),(0,r._)([(0,h.w)("content")],H.prototype,"castContent",null),(0,r._)([(0,d.w)("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],H.prototype,"readContent",null),(0,r._)([(0,f.K)("web-scene","content",{popupElements:{type:s.A.ofType(x)},showAttachments:{type:Boolean},mediaInfos:{type:s.A.ofType(Z.g)},description:{type:String},relatedRecordsInfo:{type:D}})],H.prototype,"writeWebSceneContent",null),(0,r._)([(0,f.K)("content",{popupElements:{type:s.A.ofType(E)},showAttachments:{type:Boolean},mediaInfos:{type:s.A.ofType(Z.g)},description:{type:String},relatedRecordsInfo:{type:D}})],H.prototype,"writeWebMapContent",null),(0,r._)([(0,u.MZ)({type:[C.A],json:{write:!0}})],H.prototype,"expressionInfos",void 0),(0,r._)([(0,u.MZ)({type:[I.A]})],H.prototype,"fieldInfos",void 0),(0,r._)([(0,f.K)("fieldInfos")],H.prototype,"writeFieldInfos",null),(0,r._)([(0,u.MZ)({type:R})],H.prototype,"layerOptions",void 0),(0,r._)([(0,f.K)("layerOptions")],H.prototype,"writeLayerOptions",null),(0,r._)([(0,u.MZ)({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],H.prototype,"lastEditInfoEnabled",void 0),(0,r._)([(0,u.MZ)()],H.prototype,"outFields",void 0),(0,r._)([(0,u.MZ)()],H.prototype,"overwriteActions",void 0),(0,r._)([(0,u.MZ)()],H.prototype,"returnGeometry",void 0),(0,r._)([(0,u.MZ)({json:{type:String}})],H.prototype,"title",void 0),(0,r._)([(0,f.K)("title")],H.prototype,"writeTitle",null),H=(0,r._)([(0,p.$)("esri.PopupTemplate")],H);const W=H},29107:(e,t,i)=>{"use strict";i.d(t,{A:()=>A});var r=i(66866),n=i(24793),s=i(21564),o=(i(39831),i(539),i(9272),i(63863));let a=class extends n.A{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return null!=e&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"row",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"column",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"rows",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],a.prototype,"columns",void 0),a=(0,r._)([(0,o.$)("esri.CameraLayout")],a);const l=a;var c=i(17505),u=i(21877),h=i(92504),d=i(4130),p=i(75094),f=i(77542),m=i(73446),y=i(97066);let g=class extends(n.A.ClonableMixin(u.A)){constructor(...e){super(...e),this.position=new y.A([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new l}normalizeCtorArgs(e,t,i,r){if(e&&"object"==typeof e&&("x"in e||Array.isArray(e))){const n={position:e};return null!=t&&(n.heading=t),null!=i&&(n.tilt=i),null!=r&&(n.fov=r),n}return e}writePosition(e,t,i,r){const n=e.clone();n.x=(0,m.GB)(e.x||0),n.y=(0,m.GB)(e.y||0),n.z=e.hasZ?(0,m.GB)(e.z||0):e.z,t[i]=n.write({},r)}readPosition(e,t){const i=new y.A;return i.read(e,t),i.x=(0,m.GB)(i.x||0),i.y=(0,m.GB)(i.y||0),i.z=i.hasZ?(0,m.GB)(i.z||0):i.z,i}equals(e){return null!=e&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};(0,r._)([(0,s.MZ)({type:y.A,json:{write:{isRequired:!0}}})],g.prototype,"position",void 0),(0,r._)([(0,f.K)("position")],g.prototype,"writePosition",null),(0,r._)([(0,p.w)("position")],g.prototype,"readPosition",null),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,d.w)((e=>c.ie.normalize((0,m.GB)(e))))],g.prototype,"heading",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,d.w)((e=>(0,h.qE)((0,m.GB)(e),-180,180)))],g.prototype,"tilt",void 0),(0,r._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{default:55,write:!0}}),(0,d.w)((e=>(0,h.qE)((0,m.GB)(e,55),1,170)))],g.prototype,"fov",void 0),(0,r._)([(0,s.MZ)({type:l,nonNullable:!0,json:{read:!1,write:!1}})],g.prototype,"layout",void 0),g=(0,r._)([(0,o.$)("esri.Camera")],g);const _=g;var v,w=i(1171),b=i(12433);let M=v=class extends u.A{constructor(e){super(e),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(e){return(e%=360)<0&&(e+=360),e}clone(){return new v({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};(0,r._)([(0,s.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:S}}}}})],M.prototype,"rotation",void 0),(0,r._)([(0,d.w)("rotation")],M.prototype,"castRotation",null),(0,r._)([(0,s.MZ)({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:S}}}}})],M.prototype,"scale",void 0),(0,r._)([(0,s.MZ)({types:b.yR,json:{read:w.rS,write:!0,origins:{"web-scene":{read:w.rS,write:{overridePolicy:S}}}}})],M.prototype,"targetGeometry",void 0),(0,r._)([(0,s.MZ)({type:_,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],M.prototype,"camera",void 0),M=v=(0,r._)([(0,o.$)("esri.Viewpoint")],M);const A=M;function S(){return{enabled:!this.camera}}},99050:(e,t,i)=>{"use strict";i.d(t,{s:()=>a});var r=i(21121),n=(i(86394),i(98849)),s=i(539),o=i(20909);function a(e){if(!r.A.assetsPath)throw s.A.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new n.A("assets:path-not-set","config.assetsPath is not set");return(0,o.fj)(r.A.assetsPath,e)}},17197:(e,t,i)=>{"use strict";i.d(t,{T:()=>d});var r,n=i(66866),s=i(21877),o=i(46437),a=i(21564),l=(i(39831),i(539),i(9272),i(75094)),c=i(63863),u=i(77542),h=i(54088);let d=class extends s.A{static{r=this}static get allTime(){return p}static get empty(){return f}static fromArray(e){return new r({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(r.allTime)}get isEmpty(){return this.equals(r.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new r({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,i=this.end?.getTime()??this.end,r=e.start?.getTime()??e.start,n=e.end?.getTime()??e.end;return t===r&&i===n}expandTo(e,t=h.qU){if(this.isEmpty||this.isAllTime)return this.clone();let i=this.start;i&&(i=(0,o.lL)(i,e,t));let n=this.end;if(n){const i=(0,o.lL)(n,e,t);n=n.getTime()===i.getTime()?i:(0,o.S1)(i,1,e,t)}return new r({start:i,end:n})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return r.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,i=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,s=e.end?.getTime()??1/0;let o,a;return n>=t&&n<=i?o=n:t>=n&&t<=s&&(o=t),i>=n&&i<=s?a=i:s>=t&&s<=i&&(a=s),null==o||null==a||isNaN(o)||isNaN(a)?r.empty:new r({start:o===-1/0?null:new Date(o),end:a===1/0?null:new Date(a)})}offset(e,t,i=h.qU){if(this.isEmpty||this.isAllTime)return this.clone();const n=new r,{start:s,end:a}=this;return null!=s&&(n.start=(0,o.S1)(s,e,t,i)),null!=a&&(n.end=(0,o.S1)(a,e,t,i)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return p.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,i=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new r({start:t,end:i})}};(0,n._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),(0,n._)([(0,l.w)("end")],d.prototype,"readEnd",null),(0,n._)([(0,u.K)("end")],d.prototype,"writeEnd",null),(0,n._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),(0,n._)([(0,a.MZ)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),(0,n._)([(0,a.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),(0,n._)([(0,l.w)("start")],d.prototype,"readStart",null),(0,n._)([(0,u.K)("start")],d.prototype,"writeStart",null),d=r=(0,n._)([(0,c.$)("esri.time.TimeExtent")],d);const p=new d,f=new d({start:void 0,end:void 0})},47063:(e,t,i)=>{"use strict";i.d(t,{P:()=>d,a:()=>u,b:()=>v,c:()=>b,d:()=>M,e:()=>w,g:()=>A,h:()=>c,i:()=>a,j:()=>y,l:()=>l,p:()=>I});var r=i(99050),n=i(39831);let s,o=null;function a(){return!!o}function l(){return s||(s=i.e(11100).then(i.bind(i,11100)).then((({default:e})=>e({locateFile:e=>(0,r.s)(`esri/geometry/support/${e}`)}))).then((e=>{T(e)})),s)}var c,u;!function(e){function t(e,t,i){o.ensureCache.prepare();const r=P(i),n=i===r,s=o.ensureFloat64(r),a=o._pe_geog_to_proj(o.getPointer(e),t,s);return a&&C(i,t,s,n),a}function i(e,t,i){return r(e,t,i,0)}function r(e,t,i,r){o.ensureCache.prepare();const n=P(i),s=i===n,a=o.ensureFloat64(n),l=o._pe_proj_to_geog_center(o.getPointer(e),t,a,r);return l&&C(i,t,a,s),l}e.geogToProj=t,e.projGeog=function(e,r,n,s){switch(s){case u.PE_TRANSFORM_P_TO_G:return i(e,r,n);case u.PE_TRANSFORM_G_TO_P:return t(e,r,n)}return 0},e.projToGeog=i,e.projToGeogCenter=r}(c||(c={})),function(e){e.init=function(){e.PE_BUFFER_MAX=o.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=o.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=o.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=o.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=o.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=o.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=o.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=o.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=o.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=o.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=o.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=o.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=o.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=o.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=o.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=o.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=o.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=o.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=o.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=o.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=o.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=o.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=o.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=o.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=o.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=o.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=o.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=o.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=o.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=o.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=o.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=o.PeDefs.prototype.PE_HORIZON_DELTA}}(u||(u={}));let h=null;var d;!function(e){const t={},i={},r=e=>{const t=e.getType();switch(t){case u.PE_TYPE_GEOGCS:e=o.castObject(e,o.PeGeogcs);break;case u.PE_TYPE_PROJCS:e=o.castObject(e,o.PeProjcs);break;case u.PE_TYPE_GEOGTRAN:e=o.castObject(e,o.PeGeogtran);break;default:t&u.PE_TYPE_UNIT&&(e=o.castObject(e,o.PeUnit))}return e};function n(e,i){let n=null,s=t[e];if(s||(s={},t[e]=s),s.hasOwnProperty(String(i))&&(n=s[i],o.compare(n,o.NULL)&&(n=null)),!n){const t=o.PeFactory.prototype.factoryByType(e,i);o.compare(t,o.NULL)||(n=r(t),s[i]=n)}return n}e.initialize=function(){o.PeFactory.prototype.initialize(null)},e.coordsys=function(e){return n(u.PE_TYPE_COORDSYS,e)},e.factoryByType=n,e.fromString=function(e,t){let n=null,s=i[e];if(s||(s={},i[e]=s),s.hasOwnProperty(t)&&(n=s[t],o.compare(n,o.NULL)&&(n=null)),!n){const i=o.PeFactory.prototype.fromString(e,t);o.compare(i,o.NULL)||(n=r(i),s[t]=n)}return n},e.geogcs=function(e){return n(u.PE_TYPE_GEOGCS,e)},e.geogtran=function(e){return n(u.PE_TYPE_GEOGTRAN,e)},e.getCode=function(e){return o.PeFactory.prototype.getCode(e)},e.projcs=function(e){return n(u.PE_TYPE_PROJCS,e)},e.unit=function(e){return n(u.PE_TYPE_UNIT,e)}}(d||(d={}));let p=null;var f,m,y,g,_,v,w,b,M,A,S;function T(e){function t(e,t,i){e[t]=i(e[t])}o=e,u.init(),f.init(),w.init(),M.init(),A.init(),h=class extends o.PeDouble{constructor(e=NaN){super(e)}destroy(){o.destroy(this)}[Symbol.dispose](){this.destroy()}},p=class extends o.PeGCSExtent{destroy(){o.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[o.PeAngunit,o.PeDatum,o.PeGeogcs,o.PeGeogtran,o.PeObject,o.PeParameter,o.PePrimem,o.PeProjcs,o.PeSpheroid,o.PeUnit];for(const s of i)t(s.prototype,"getName",(e=>function(){return e.call(this,new Array(u.PE_NAME_MAX))}));for(const s of[o.PeGeogtran,o.PeProjcs])t(s.prototype,"getParameters",(e=>function(){const t=new Array(u.PE_PARM_MAX);let i=e.call(this);for(let e=0;e<t.length;e++){const r=o.getValue(i,"*");t[e]=r?o.wrapPointer(r,o.PeParameter):null,i+=Int32Array.BYTES_PER_ELEMENT}return t}));t(o.PeHorizon.prototype,"getCoord",(e=>function(t=!1){const i=this.getSize();if(!i)return null;const r=[];return C(r,i,e.call(this),t),r})),t(o.PeGTlistExtendedEntry.prototype,"getEntries",(e=>{const t=o._pe_getPeGTlistExtendedGTsSize();return function(){let i=null;const r=e.call(this);if(!o.compare(r,o.NULL)){i=[r];const e=this.getSteps();if(e>1){const n=o.getPointer(r);for(let r=1;r<e;r++)i.push(o.wrapPointer(n+t*r,o.PeGTlistExtendedGTs))}}return i}}));const r=o._pe_getPeHorizonSize(),n=e=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);let i=null;const n=e.call(this);if(!o.compare(n,o.NULL)){i=[n];const e=n.getNump();if(e>1){const t=o.getPointer(n);for(let n=1;n<e;n++)i.push(o.wrapPointer(t+r*n,o.PeHorizon))}}return t.set(e,i),i};t(o.PeProjcs.prototype,"horizonGcsGenerate",n),t(o.PeProjcs.prototype,"horizonPcsGenerate",n),o.PeObject.prototype.toString=function(e=u.PE_STR_OPTS_NONE){o.ensureCache.prepare();const t=o.getPointer(this),i=o.ensureInt8(new Array(u.PE_BUFFER_MAX));return o.UTF8ToString(o._pe_object_to_string_ext(t,e,i))},o.PeGeogcs.prototype.destroy=function(){this.Delete(),E(this),this.ptr=0},o.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},o.PeProjcs.prototype.destroy=function(){this.Delete(),E(this),this.ptr=0},o.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function E(e){if(!e)return;const t=o.getClass(e);if(!t)return;const i=o.getCache(t);if(!i)return;const r=o.getPointer(e);r&&delete i[r]}function x(e,t){const i=[],r=new Array(t);for(let n=0;n<e;n++)i.push(o.ensureInt8(r));return i}function P(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function C(e,t,i,r=!1){if(r)for(let n=0;n<2*t;n++)e[n]=o.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=0===e.length;for(let n=0;n<t;n++)r&&(e[n]=new Array(2)),e[n][0]=o.getValue(i,"double"),e[n][1]=o.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}!function(e){let t;e.init=function(){e.PE_GTLIST_OPTS_COMMON=o.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=o._pe_getPeGTlistExtendedEntrySize()},e.getGTlist=function(e,i,r,n,s,a){let l=null;const c=new o.PeInteger(a);try{const u=o.PeGTlistExtended.prototype.getGTlist(e,i,r,n,s,c);if((a=c.val)&&(l=[u],a>1)){const e=o.getPointer(u);for(let i=1;i<a;i++)l.push(o.wrapPointer(e+t*i,o.PeGTlistExtendedEntry))}}finally{o.destroy(c)}return l}}(f||(f={})),function(e){e.destroy=function(e){if(e?.length){for(const t of e)E(t),t.getEntries().forEach((e=>{E(e);const t=e.getGeogtran();E(t),t.getParameters().forEach(E),[t.getGeogcs1(),t.getGeogcs2()].forEach((e=>{E(e);const t=e.getDatum();E(t),E(t.getSpheroid()),E(e.getPrimem()),E(e.getUnit())}))}));o.PeGTlistExtendedEntry.prototype.Delete(e[0])}}}(m||(m={})),function(e){e.geogToGeog=function(e,t,i,r,n){o.ensureCache.prepare();const s=P(i),a=i===s,l=o.ensureFloat64(s);let c=0;r&&(c=o.ensureFloat64(r));const u=o._pe_geog_to_geog(o.getPointer(e),t,l,c,n);return u&&C(i,t,l,a),u}}(y||(y={})),function(e){e.geodesicCoordinate=function(e,t,i,r,n,s,a,l){o.PeLineType.prototype.geodesic_coordinate(e,t,i,r,n,s,a,l)},e.geodeticCoordinate=function(e,t,i,r,n,s,a,l,c){o.PeLineType.prototype.geodetic_coordinate(e,t,i,r,n,s,a,l,c)},e.geodeticDistance=function(e,t,i,r,n,s,a,l,c,u){o.PeLineType.prototype.geodetic_distance(e,t,i,r,n,s,a,l,c,u)},e.greatEllipticDistance=function(e,t,i,r,n,s,a,l,c){o.PeLineType.prototype.great_elliptic_distance(e,t,i,r,n,s,a,l,c)}}(g||(g={})),function(e){e.phiToEta=function(e,t){return o.PeMath.prototype.phi_to_eta(e,t)},e.etaToPhi=function(e,t){return o.PeMath.prototype.eta_to_phi(e,t)},e.phiToPhig=function(e,t){return o.PeMath.prototype.phi_to_phig(e,t)},e.q=function(e,t,i){return o.PeMath.prototype.q(e,t,i)},e.q90=function(e,t){return o.PeMath.prototype.q90(e,t)}}(_||(_={})),function(e){const t=(e,t,i,r,n,s)=>{let a,l;switch(o.ensureCache.prepare(),e){case"dd":a=o._pe_geog_to_dd,l=u.PE_DD_MAX;break;case"ddm":a=o._pe_geog_to_ddm,l=u.PE_DDM_MAX;break;case"dms":a=o._pe_geog_to_dms,l=u.PE_DMS_MAX}let c=0;t&&(c=o.getPointer(t));const h=P(r),d=o.ensureFloat64(h),p=x(i,l),f=a(c,i,d,n,o.ensureInt32(p));if(f)for(let u=0;u<i;u++)s[u]=o.UTF8ToString(p[u]);return f},i=(e,t,i,r,n)=>{let s;switch(o.ensureCache.prepare(),e){case"dd":s=o._pe_dd_to_geog;break;case"ddm":s=o._pe_ddm_to_geog;break;case"dms":s=o._pe_dms_to_geog}let a=0;t&&(a=o.getPointer(t));const l=r.map((e=>o.ensureString(e))),c=o.ensureInt32(l),u=o.ensureFloat64(new Array(2*i)),h=s(a,i,c,u);return h&&C(n,i,u),h};e.geogToDms=function(e,i,r,n,s){return t("dms",e,i,r,n,s)},e.dmsToGeog=function(e,t,r,n){return i("dms",e,t,r,n)},e.geogToDdm=function(e,i,r,n,s){return t("ddm",e,i,r,n,s)},e.ddmToGeog=function(e,t,r,n){return i("ddm",e,t,r,n)},e.geogToDd=function(e,i,r,n,s){return t("dd",e,i,r,n,s)},e.ddToGeog=function(e,t,r,n){return i("dd",e,t,r,n)}}(v||(v={})),function(e){e.init=function(){e.PE_MGRS_STYLE_NEW=o.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=o.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=o.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=o.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=o.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES},e.geogToMgrsExtended=function(e,t,i,r,n,s,a){o.ensureCache.prepare();let l=0;e&&(l=o.getPointer(e));const c=P(i),h=o.ensureFloat64(c),d=x(t,u.PE_MGRS_MAX),p=o.ensureInt32(d),f=o._pe_geog_to_mgrs_extended(l,t,h,r,n,s,p);if(f)for(let u=0;u<t;u++)a[u]=o.UTF8ToString(d[u]);return f},e.mgrsToGeogExtended=function(e,t,i,r,n){o.ensureCache.prepare();let s=0;e&&(s=o.getPointer(e));const a=i.map((e=>o.ensureString(e))),l=o.ensureInt32(a),c=o.ensureFloat64(new Array(2*t)),u=o._pe_mgrs_to_geog_extended(s,t,l,r,c);return u&&C(n,t,c),u}}(w||(w={})),function(e){e.geogToUsng=function(e,t,i,r,n,s,a){o.ensureCache.prepare();let l=0;e&&(l=o.getPointer(e));const c=P(i),h=o.ensureFloat64(c),d=x(t,u.PE_MGRS_MAX),p=o.ensureInt32(d),f=o._pe_geog_to_usng(l,t,h,r,n,s,p);if(f)for(let u=0;u<t;u++)a[u]=o.UTF8ToString(d[u]);return f},e.usngToGeog=function(e,t,i,r){o.ensureCache.prepare();let n=0;e&&(n=o.getPointer(e));const s=i.map((e=>o.ensureString(e))),a=o.ensureInt32(s),l=o.ensureFloat64(new Array(2*t)),c=o._pe_usng_to_geog(n,t,a,l);return c&&C(r,t,l),c}}(b||(b={})),function(e){e.init=function(){e.PE_UTM_OPTS_NONE=o.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=o.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=o.PeNotationUtm.prototype.PE_UTM_OPTS_NS},e.geogToUtm=function(e,t,i,r,n){o.ensureCache.prepare();let s=0;e&&(s=o.getPointer(e));const a=P(i),l=o.ensureFloat64(a),c=x(t,u.PE_UTM_MAX),h=o.ensureInt32(c),d=o._pe_geog_to_utm(s,t,l,r,h);if(d)for(let u=0;u<t;u++)n[u]=o.UTF8ToString(c[u]);return d},e.utmToGeog=function(e,t,i,r,n){o.ensureCache.prepare();let s=0;e&&(s=o.getPointer(e));const a=i.map((e=>o.ensureString(e))),l=o.ensureInt32(a),c=o.ensureFloat64(new Array(2*t)),u=o._pe_utm_to_geog(s,t,l,r,c);return u&&C(n,t,c),u}}(M||(M={})),function(e){const t=new Map;e.init=function(){e.PE_PCSINFO_OPTION_NONE=o.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=o.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=o.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=o.PePCSInfo.prototype.PE_POLE_POINT},e.generate=function(i,r=e.PE_PCSINFO_OPTION_DOMAIN){let n=null,s=null;return t.has(i)&&(s=t.get(i),s[r]&&(n=s[r])),n||(n=o.PePCSInfo.prototype.generate(i,r),s||(s=[],t.set(i,s)),s[r]=n),n}}(A||(A={})),function(e){e.versionString=function(){return o.PeVersion.prototype.version_string()}}(S||(S={}));const I=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return c},get PeDefs(){return u},get PeDouble(){return h},get PeFactory(){return d},get PeGCSExtent(){return p},get PeGTTransformations(){return y},get PeGTlistExtended(){return f},get PeGTlistExtendedEntry(){return m},get PeLineType(){return g},get PeMath(){return _},get PeNotationDms(){return v},get PeNotationMgrs(){return w},get PeNotationUsng(){return b},get PeNotationUtm(){return M},get PePCSInfo(){return A},get PeVersion(){return S},_init:T,get _pe(){return o},isLoaded:a,isSupported:function(){return!!(0,n.A)("esri-wasm")},load:l},Symbol.toStringTag,{value:"Module"}))},63680:(e,t,i)=>{"use strict";i.d(t,{M:()=>_,a:()=>y,b:()=>v,e:()=>f,f:()=>o,i:()=>d,p:()=>p,r:()=>l,t:()=>a,w:()=>c});var r=i(28830),n=i(20909),s=i(11210);function o(e,t){const i=t?.url?.path;if(e&&i&&(e=(0,n.s2)(e,i,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=(0,n.V1)(e,t.portalItem.itemUrl);null!=i&&h.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return(e=m(e,t?.portal))&&u.test(e)?y(e):e}function a(e,t,i=_.YES){if(null==(e=e&&u.test(e)?g(e):e))return e;!(0,n.oP)(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let r=(0,n.s2)(e);if(t){const i=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(i){const s=m(i,t.portal),o=m(r,t.portal);r=(0,n.V1)(o,s,s),null!=r&&r!==o&&r!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=f(r,t?.portal),(0,n.oP)(r)&&(r=(0,n.S8)(r)),t?.resources&&t?.portalItem&&!(0,n.oP)(r)&&!(0,n.DB)(r)&&i===_.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(r),compress:!1}),r}function l(e,t,i){return o(e,i)}function c(e,t,i,r){const n=a(e,r);void 0!==n&&(t[i]=n)}const u=/\/items\/([^/]+)\/resources\/(.*)/,h=/^\.\/resources\//;function d(e){const t=e?.match(u)??null;return t?.[1]??null}function p(e){const t=e?.match(u)??null;if(null==t)return null;const i=t[2],r=i.lastIndexOf("/");if(-1===r){const{path:e,extension:t}=(0,n.xw)(i);return{prefix:null,filename:e,extension:t}}const{path:s,extension:o}=(0,n.xw)(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:o}}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?(0,n.T1)(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function m(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const i=`${t.urlKey}.${t.customBaseUrl}`,r=(0,n.Xq)();return(0,n.FX)(r,`${r.scheme}://${i}`)?(0,n.T1)(e,t.portalHostname,i):(0,n.T1)(e,i,t.portalHostname)}function y(e){if(!e)return e||null;let t=e;return t&&r.id&&!r.id.findCredential(t)&&(t=(0,s.qG)(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function g(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&r.id&&!r.id.findCredential(t)&&(t=(0,s.qG)(t)),t}var _;!function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"}(_||(_={}));const v=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return _},ensureMainOnlineDomain:f,fromCDNUrl:g,fromJSON:o,itemIdFromResourceUrl:d,prefixAndFilenameFromResourceUrl:p,read:l,toCDNUrl:y,toJSON:a,write:c},Symbol.toStringTag,{value:"Module"}))},45973:(e,t,i)=>{"use strict";function r(e,t,i,r,s){n(e,t,i||0,r||e.length-1,s||o)}function n(e,t,i,r,o){for(;r>i;){if(r-i>600){var a=r-i+1,l=t-i+1,c=Math.log(a),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(a-u)/a)*(l-a/2<0?-1:1);n(e,t,Math.max(i,Math.floor(t-l*u/a+h)),Math.min(r,Math.floor(t+(a-l)*u/a+h)),o)}var d=e[t],p=i,f=r;for(s(e,i,t),o(e[r],d)>0&&s(e,i,r);p<f;){for(s(e,p,f),p++,f--;o(e[p],d)<0;)p++;for(;o(e[f],d)>0;)f--}0===o(e[i],d)?s(e,i,f):s(e,++f,r),f<=t&&(i=f+1),t<=f&&(r=f-1)}}function s(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function o(e,t){return e<t?-1:e>t?1:0}i.d(t,{q:()=>r})},73030:(e,t,i)=>{"use strict";i.d(t,{r:()=>n});var r=i(45973);function n(e,t){if(!(this instanceof n))return new n(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&("function"==typeof t?this.toBBox=t:this._initFormat(t)),this.clear()}function s(e,t,i){if(!i)return t.indexOf(e);for(var r=0;r<t.length;r++)if(i(e,t[r]))return r;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,i,r,n){n||(n=g(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s,o=t;o<i;o++)s=e.children[o],l(n,e.leaf?r(s):s);return n}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function c(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function h(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){var i=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),n=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,n-i)*Math.max(0,s-r)}function m(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function g(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,t,i,n,s){for(var o,a=[t,i];a.length;)(i=a.pop())-(t=a.pop())<=n||(o=t+Math.ceil((i-t)/n/2)*n,(0,r.q)(e,o,t,i,s),a.push(t,o,o,i))}n.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,i=[],r=this.toBBox;if(!y(e,t))return i;for(var n,s,o,a,l=[];t;){for(n=0,s=t.children.length;n<s;n++)o=t.children[n],y(e,a=t.leaf?r(o):o)&&(t.leaf?i.push(o):m(e,a)?this._all(o,i):l.push(o));t=l.pop()}return i},collides:function(e){var t=this.data,i=this.toBBox;if(!y(e,t))return!1;for(var r,n,s,o,a=[];t;){for(r=0,n=t.children.length;r<n;r++)if(s=t.children[r],y(e,o=t.leaf?i(s):s)){if(t.leaf||m(e,o))return!0;a.push(s)}t=a.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,i=e.length;t<i;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return null!=e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(e,t){if(null==e)return this;for(var i,r,n,o,a=this.data,l=this.toBBox(e),c=[],u=[];a||c.length;){if(a||(a=c.pop(),r=c[c.length-1],i=u.pop(),o=!0),a.leaf&&-1!==(n=s(e,a.children,t)))return a.children.splice(n,1),c.push(a),this._condense(c),this;o||a.leaf||!m(a,l)?r?(i++,a=r.children[i],o=!1):a=null:(c.push(a),u.push(i),i=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:c,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var i=[];e;)e.leaf?t.push.apply(t,e.children):i.push.apply(i,e.children),e=i.pop();return t},_build:function(e,t,i,r){var n,s=i-t+1,a=this._maxEntries;if(s<=a)return o(n=g(e.slice(t,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(n=g([])).leaf=!1,n.height=r;var l,c,u,h,d=Math.ceil(s/a),p=d*Math.ceil(Math.sqrt(a));for(_(e,t,i,p,this.compareMinX),l=t;l<=i;l+=p)for(_(e,l,u=Math.min(l+p-1,i),d,this.compareMinY),c=l;c<=u;c+=d)h=Math.min(c+d-1,u),n.children.push(this._build(e,c,h,r-1));return o(n,this.toBBox),n},_chooseSubtree:function(e,t,i,r){for(var n,s,o,a,l,c,u,d;r.push(t),!t.leaf&&r.length-1!==i;){for(u=d=1/0,n=0,s=t.children.length;n<s;n++)l=h(o=t.children[n]),(c=p(e,o)-l)<d?(d=c,u=l<u?l:u,a=o):c===d&&l<u&&(u=l,a=o);t=a||t.children[0]}return t},_insert:function(e,t,i){var r=this.toBBox,n=i?e:r(e),s=[],o=this._chooseSubtree(n,this.data,t,s);for(o.children.push(e),l(o,n);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(n,s,t)},_split:function(e,t){var i=e[t],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),a=g(i.children.splice(s,i.children.length-s));a.height=i.height,a.leaf=i.leaf,o(i,this.toBBox),o(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)},_splitRoot:function(e,t){this.data=g([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,i){var r,n,s,o,l,c,u,d;for(c=u=1/0,r=t;r<=i-t;r++)o=f(n=a(e,0,r,this.toBBox),s=a(e,r,i,this.toBBox)),l=h(n)+h(s),o<c?(c=o,d=r,u=l<u?l:u):o===c&&l<u&&(u=l,d=r);return d},_chooseSplitAxis:function(e,t,i){var r=e.leaf?this.compareMinX:c,n=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,i,r)<this._allDistMargin(e,t,i,n)&&e.children.sort(r)},_allDistMargin:function(e,t,i,r){e.children.sort(r);var n,s,o=this.toBBox,c=a(e,0,t,o),u=a(e,i-t,i,o),h=d(c)+d(u);for(n=t;n<i-t;n++)s=e.children[n],l(c,e.leaf?o(s):s),h+=d(c);for(n=i-t-1;n>=t;n--)s=e.children[n],l(u,e.leaf?o(s):s),h+=d(u);return h},_adjustParentBBoxes:function(e,t,i){for(var r=i;r>=0;r--)l(t[r],e)},_condense:function(e){for(var t,i=e.length-1;i>=0;i--)0===e[i].children.length?i>0?(t=e[i-1].children).splice(t.indexOf(e[i]),1):this.clear():o(e[i],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},66866:(e,t,i)=>{"use strict";function r(e,t,i,r){var n,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o}function n(e,t){return function(i,r){t(i,r,e)}}function s(e,t,i,r){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?i(e.value):n(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function o(e,t,i){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,n;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],i&&(n=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:i})}else i&&e.stack.push({async:!0});return t}i.d(t,{_:()=>r,a:()=>n,b:()=>o,c:()=>l,d:()=>s});var a="function"==typeof SuppressedError?SuppressedError:function(e,t,i){var r=new Error(i);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function l(e){function t(t){e.error=e.hasError?new a(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var i,r=0;return function n(){for(;i=e.stack.pop();)try{if(!i.async&&1===r)return r=0,e.stack.push(i),Promise.resolve().then(n);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(s).then(n,(function(e){return t(e),n()}))}else r|=1}catch(o){t(o)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}},24121:(e,t,i)=>{"use strict";i.d(t,{A:()=>f,B:()=>p,C:()=>u,D:()=>h,E:()=>D,F:()=>j,G:()=>L,H:()=>z,K:()=>I,a:()=>Z,b:()=>g,c:()=>o,d:()=>c,e:()=>S,f:()=>l,g:()=>y,h:()=>T,i:()=>a,j:()=>_,k:()=>w,l:()=>s,m:()=>E,n:()=>A,o:()=>P,p:()=>O,q:()=>k,r:()=>M,s:()=>v,t:()=>x,u:()=>b,v:()=>C,w:()=>d,x:()=>G,y:()=>$,z:()=>m});var r=i(58359),n=i(65257);function s(e){const t=e[0],i=e[1],r=e[2];return Math.sqrt(t*t+i*i+r*r)}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(e,t,i,r){return e[0]=t,e[1]=i,e[2]=r,e}function l(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e}function c(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e}function u(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e[2]=t[2]*i[2],e}function h(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e[2]=t[2]/i[2],e}function d(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function p(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function f(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e[2]=Math.min(t[2],i[2]),e}function m(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e[2]=Math.max(t[2],i[2]),e}function y(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function g(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e}function _(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(i*i+r*r+n*n)}function v(e,t){const i=t[0]-e[0],r=t[1]-e[1],n=t[2]-e[2];return i*i+r*r+n*n}function w(e){const t=e[0],i=e[1],r=e[2];return t*t+i*i+r*r}function b(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function M(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function A(e,t){const i=t[0],r=t[1],n=t[2];let s=i*i+r*r+n*n;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function S(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function T(e,t,i){const r=t[0],n=t[1],s=t[2],o=i[0],a=i[1],l=i[2];return e[0]=n*l-s*a,e[1]=s*o-r*l,e[2]=r*a-n*o,e}function E(e,t,i,r){const n=t[0],s=t[1],o=t[2];return e[0]=n+r*(i[0]-n),e[1]=s+r*(i[1]-s),e[2]=o+r*(i[2]-o),e}function x(e,t,i){const r=t[0],n=t[1],s=t[2];return e[0]=i[0]*r+i[4]*n+i[8]*s+i[12],e[1]=i[1]*r+i[5]*n+i[9]*s+i[13],e[2]=i[2]*r+i[6]*n+i[10]*s+i[14],e}function P(e,t,i){const r=t[0],n=t[1],s=t[2];return e[0]=r*i[0]+n*i[3]+s*i[6],e[1]=r*i[1]+n*i[4]+s*i[7],e[2]=r*i[2]+n*i[5]+s*i[8],e}function C(e,t,i){const r=i[0],n=i[1],s=i[2],o=i[3],a=t[0],l=t[1],c=t[2],u=n*c-s*l,h=s*a-r*c,d=r*l-n*a,p=n*d-s*h,f=s*u-r*d,m=r*h-n*u,y=2*o;return e[0]=a+u*y+2*p,e[1]=l+h*y+2*f,e[2]=c+d*y+2*m,e}function I(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),s[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),s[2]=n[2],e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e}function O(e,t){A(R,e),A(N,t);const i=S(R,N);return i>1?0:i<-1?Math.PI:Math.acos(i)}const R=(0,r.vt)(),N=(0,r.vt)();function k(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function L(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],o=t[0],a=t[1],l=t[2],c=(0,n.FD)();return Math.abs(i-o)<=c*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-a)<=c*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-l)<=c*Math.max(1,Math.abs(s),Math.abs(l))}function D(e,t,i){const r=i[0]-t[0],n=i[1]-t[1],s=i[2]-t[2];let o=r*r+n*n+s*s;return o>0?(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const Z=c,F=u,U=h,j=_,G=v,z=s,$=w;Object.freeze(Object.defineProperty({__proto__:null,abs:d,add:l,angle:O,bezier:function(e,t,i,r,n,s){const o=1-s,a=o*o,l=s*s,c=a*o,u=3*s*a,h=3*l*o,d=l*s;return e[0]=t[0]*c+i[0]*u+r[0]*h+n[0]*d,e[1]=t[1]*c+i[1]*u+r[1]*h+n[1]*d,e[2]=t[2]*c+i[2]*u+r[2]*h+n[2]*d,e},ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e},clamp:function(e,t=0,i=1){return e[0]=Math.min(Math.max(e[0],t),i),e[1]=Math.min(Math.max(e[1],t),i),e[2]=Math.min(Math.max(e[2],t),i),e},copy:o,cross:T,crossAndNormalize:function(e,t,i){const r=t[0],n=t[1],s=t[2],o=i[0],a=i[1],l=i[2],c=n*l-s*a,u=s*o-r*l,h=r*a-n*o,d=Math.sqrt(c*c+u*u+h*h);return e[0]=c/d,e[1]=u/d,e[2]=h/d,e},direction:D,dist:j,distance:_,div:U,divide:h,dot:S,equals:L,exactEquals:k,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e},hermite:function(e,t,i,r,n,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,c=o*(s-1),u=o*(3-2*s);return e[0]=t[0]*a+i[0]*l+r[0]*c+n[0]*u,e[1]=t[1]*a+i[1]*l+r[1]*c+n[1]*u,e[2]=t[2]*a+i[2]*l+r[2]*c+n[2]*u,e},inverse:M,len:z,length:s,lerp:E,max:m,min:f,mul:F,multiply:u,negate:b,normalize:A,random:function(e,t=1){const i=n.Ov,r=2*i()*Math.PI,s=2*i()-1,o=Math.sqrt(1-s*s)*t;return e[0]=Math.cos(r)*o,e[1]=Math.sin(r)*o,e[2]=s*t,e},rotateX:function(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[0],s[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),s[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e},rotateY:function(e,t,i,r){const n=[],s=[];return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n[2]=t[2]-i[2],s[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),s[1]=n[1],s[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),e[0]=s[0]+i[0],e[1]=s[1]+i[1],e[2]=s[2]+i[2],e},rotateZ:I,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e},scale:y,scaleAndAdd:g,set:a,sign:p,sqrDist:G,sqrLen:$,squaredDistance:v,squaredLength:w,str:function(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"},sub:Z,subtract:c,transformMat3:P,transformMat4:x,transformQuat:C},Symbol.toStringTag,{value:"Module"}))},31415:(e,t,i)=>{"use strict";i.d(t,{Eq:()=>p,G1:()=>m,TS:()=>s,Tf:()=>_,V6:()=>n,Vm:()=>f,ay:()=>l,c1:()=>y,c4:()=>o,j5:()=>c,lT:()=>h,oW:()=>u});const r={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function n(e){return!!r[e]||!!r[e.toLowerCase()]}function s(e){return r[e]??r[e.toLowerCase()]}function o(e){return[...s(e)]}function a(e,t,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?e+(t-e)*r:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function l(e,t,i,r=1){const n=(e%360+360)%360/360,s=i<=.5?i*(t+1):i+t-i*t,o=2*i-s;return[Math.round(255*a(o,s,n+1/3)),Math.round(255*a(o,s,n)),Math.round(255*a(o,s,n-1/3)),r]}function c(e){const t=e.length>5,i=t?8:4,r=(1<<i)-1,n=t?1:17,s=t?9===e.length:5===e.length;let o=Number("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&r,o>>=i,a[3]=n*l/255),l=o&r,o>>=i,a[2]=n*l,l=o&r,o>>=i,a[1]=n*l,l=o&r,o>>=i,a[0]=n*l,a}function u(e){if("#"!==e[0]||isNaN(Number(`0x${e.slice(1)}`)))return null;switch(e.length){case 4:case 5:{const t=parseInt(e.slice(1,2),16),i=parseInt(e.slice(2,3),16),r=parseInt(e.slice(3,4),16),n=4===e.length?15:parseInt(e.slice(4),16);return[t+16*t,i+16*i,r+16*r,(n+16*n)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(7===e.length?255:parseInt(e.slice(7),16))/255];default:return null}}function h(e){const t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){const e=t[2].split(/\s*,\s*/),i=t[1];if("rgb"===i&&3===e.length||"rgba"===i&&4===e.length){const t=e[0];if("%"===t.charAt(t.length-1)){const t=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(t[3]=parseFloat(e[3])),d(t)}return d(e.map((e=>parseFloat(e))))}if("hsl"===i&&3===e.length||"hsla"===i&&4===e.length)return l(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3]??"1"))}return null}function d(e){return e[0]=y(e[0]),e[1]=y(e[1]),e[2]=y(e[2]),e[3]=4===e.length?m(e[3]):1,e}function p(e){let t=n(e)?s(e):null;return t??=h(e),t??=u(e),t}function f(e){const t=p(e);return null!=t?[t[0]/255,t[1]/255,t[2]/255,t[3]]:null}function m(e){return g(e,0,1)}function y(e){return Math.round(g(e,0,255))}function g(e,t,i){return e=Number(e),isNaN(e)?i:e<t?t:e>i?i:e}const _=2.2},21121:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});i(39831);var r=i(76724);const n={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&((0,r.$N)(n,globalThis.esriConfig,!0),delete n.has),!n.assetsPath){{const e="4.33";n.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}n.defaultAssetsPath=n.assetsPath}},52495:(e,t,i)=>{"use strict";i.d(t,{A:()=>D});var r=i(50220),n=i(1436),s=i(539),o=i(6267),a=i(69957),l=i(45066),c=i(20002),u=i(10245),h=(i(39831),i(19251)),d=i(90086),p=i(99277),f=i(94255),m=i(41573),y=i(35193),g=i(20488);class _ extends p.T{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new g.R(this),this.flags=0,this.flags=y.i.Dirty|(t.nonNullable?y.i.NonNullable:0)|(t.hasOwnProperty("value")?y.i.HasDefaultValue:0)|(void 0===t.get?y.i.DepTrackingInitialized:0)|(void 0===t.dependsOn?y.i.AutoTracked:0)}destroy(){this.flags&y.i.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&(0,m.gc)(this);const t=e.store,i=this.propertyName,r=this.flags,n=t.get(i);if(r&y.i.Computing)return n;if(~r&y.i.Dirty&&t.has(i))return n;this.flags|=y.i.Computing;const s=e.host;let o;r&y.i.AutoTracked?o=(0,m.a)(this.trackingTarget,this.metadata.get,s):((0,m.Xr)(s,this),o=this.metadata.get.call(s)),this.flags|=y.i.DepTrackingInitialized,t.set(i,o,f.Gr.COMPUTED);const a=t.get(i);return a===n?this.flags&=~y.i.Dirty:(0,m.F_)(this.commit,this),this.flags&=~y.i.Computing,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~y.i.Dirty,this.onCommitted()}onInvalidated(){~this.flags&y.i.Overridden&&(this.flags|=y.i.Dirty);const e=this._observers;if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onCommitted()}}}class v{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new v;return this._values.forEach(((i,r)=>{e&&e.has(r)||t.set(r,(0,h.o8)(i))})),t}get(e){return this._values.get(e)}originOf(){return f.Gr.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,t){return this.has(e)}isBelowOrigin(e,t){return!this.has(e)}forEach(e){this._values.forEach(e)}}function w(e,t,i){return void 0!==e}function b(e,t,i,r){return!(void 0===e||null==i&&e.flags&y.i.NonNullable&&(r.lifecycle,c.v.INITIALIZING,1))}class M{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=c.v.INITIALIZING,this.store=new v,this.mutable=!0,this._origin=f.Gr.USER;const t=this.host.constructor.__accessorMetadata__;for(const i in t){const e=new _(i,t[i]);this.propertiesByName.set(i,e)}this.metadata=t}initialize(){this.lifecycle=c.v.CONSTRUCTING}constructed(){this.lifecycle=c.v.CONSTRUCTED}destroy(){this.lifecycle=c.v.DESTROYED,this.propertiesByName.forEach((e=>e.destroy()))}get initialized(){return this.lifecycle!==c.v.INITIALIZING}get(e){const t=this.propertiesByName.get(e);if(!w(t))return;if(t.metadata.get)return t.getComputed(this);this.mutable&&(0,m.gc)(t);const i=this.store;return i.has(e)?i.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.propertiesByName.get(e);if(void 0!==t&&t.flags&y.i.HasDefaultValue)return"defaults"}return(0,f.OL)(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const t=this.propertiesByName.get(e);if(w(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const i=this.propertiesByName.get(e);w(i)&&this._internalSet(i,t)}getDependsInfo(e,t,i){const r=this.propertiesByName.get(t);if(!w(r))return"";const n=new g.R,s=(0,m.a)(n,(()=>r.metadata.get?.call(e)));let o=`${i}${e.declaredClass.split(".").pop()}.${t}: ${s}\n`;const a=n.accessed??new Set;if(0===a.size)return o;i+="  ";for(const l of a)l instanceof _&&(o+=`${i}${l.propertyName}: undefined\n`);return o}setAtOrigin(e,t,i){const r=this.propertiesByName.get(e);if(w(r))return this._setAtOrigin(r,t,i)}isOverridden(e){const t=this.propertiesByName.get(e);return void 0!==t&&!!(t.flags&y.i.Overridden)}clearOrigin(e,t){const i=this.store,r=this.propertiesByName.get(e);if(!w(r))return;const n=i.isAtOrigin(e,t)&&!(r.flags&y.i.Overridden);i.delete(e,t),n&&r.notifyChange()}clearOverride(e){const t=this.propertiesByName.get(e);t&&t.flags&y.i.Overridden&&(t.flags&=~y.i.Overridden,t.notifyChange())}override(e,t){const i=this.propertiesByName.get(e);if(!b(i,0,t,this))return;const r=i.metadata.cast;if(r){const e=this._cast(r,t),{valid:i,value:n}=e;if(A.release(e),!i)return;t=n}i.flags|=y.i.Overridden,this._internalSet(i,t)}set(e,t){const i=this.propertiesByName.get(e);if(!b(i,0,t,this))return;const r=i.metadata.cast;if(r){const e=this._cast(r,t),{valid:i,value:n}=e;if(A.release(e),!i)return;t=n}const n=i.metadata.set;n?n.call(this.host,t):this._internalSet(i,t)}setDefaultOrigin(e){this._origin=(0,f.aB)(e)}getDefaultOrigin(){return(0,f.OL)(this._origin)}notifyChange(e){const t=this.propertiesByName.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.propertiesByName.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.propertiesByName.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const i=this.lifecycle!==c.v.INITIALIZING?this._origin:f.Gr.DEFAULTS;this._setAtOrigin(e,t,i)}_setAtOrigin(e,t,i){const r=this.store,n=e.propertyName;if(r.isAtOrigin(n,i)&&(0,h.aI)(t,r.get(n))&&~e.flags&y.i.Overridden)return;const s=r.isBelowOrigin(n,i)||r.isAtOrigin(n,i);s&&e.invalidate(),r.set(n,t,i),s&&e.commit(),(0,m.fE)(this.host,e)}_cast(e,t){const i=A.acquire();return i.valid=!0,i.value=t,e&&(i.value=e.call(this.host,t,i)),i}}const A=new d.A(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});var S=i(95350);let T;function E(){return T}var x;!function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"}(x||(x={}));var P,C,I=i(39425),O=i(21564),R=i(63863);function N(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const k=Symbol("Accessor-Handles"),L=Symbol("Accessor-Initialized");class D{static{P=k,C=L}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:i,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const n=this;class s extends n{constructor(...e){super(...e),this.inherited=null,r&&r.apply(this,e)}}(0,u.tD)(s.prototype);for(const o in e){const t=e[o];s.prototype[o]="function"==typeof t?function(...e){const i=this.inherited;let r;this.inherited=function(...e){if(n.prototype[o])return n.prototype[o].apply(this,e)};try{r=t.apply(this,e)}catch(s){throw this.inherited=i,s}return this.inherited=i,r}:e[o]}for(const o in t){const e=N(t[o]);(0,O.MZ)(e)(s.prototype,o)}return(0,R.$)(i)(s)}static freeze(e){return e instanceof D?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof D?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[P]=null,this[C]=!1,this.constructor===D)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const t=new M(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:t}),e.length>0&&(t.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0]),E()?.onInstanceConstruct(this)}postscript(){const e=this.__accessor__,t=e.ctorArgs;e.initialize(),t&&(this.set(t),e.ctorArgs=null),e.constructed(),this.initialize(),this[L]=!0}initialize(){}[a.G](){this[k]=(0,o.pR)(this[k])}destroy(){this.destroyed||((0,I.iS)(this),this.__accessor__.destroy(),E()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[L]}get destroyed(){return this.__accessor__?.lifecycle===c.v.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===c.v.DESTROYING||!1}commitProperty(e){(0,l.Jt)(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return(0,S.h)(this,e,t),this}watch(e,t,i){return(0,r.eO)(s.A.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),(0,I.wB)(this,e,t,i)}addHandles(e,t){if(this.destroyed){const t=Array.isArray(e)?e:[e];for(const e of t)e.remove()}else(this[k]??=new n.A).add(e,t)}removeHandles(e){this[k]?.remove(e)}removeAllHandles(){this[k]?.removeAll()}removeHandlesReference(e){this[k]?.removeReference(e)}hasHandles(e){return!0===this[k]?.has(e)}_override(e,t){void 0===t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){null==t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}},58392:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(90086);function n(e){e.length=0}class s{constructor(e=50,t=50){this._pool=new r.A(Array,void 0,n,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return o.acquire()}static release(e){return o.release(e)}static prune(){o.prune()}}const o=new s(100)},24793:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r=i(66866),n=i(52495),s=(i(39831),i(19251)),o=(i(539),i(6267)),a=i(94255),l=i(55135),c=i(63863);const u=e=>{let t=class extends e{clone(){const e=(0,l.oY)(this);(0,o.Lw)(e,"unable to clone instance of non-accessor class");const t=e.metadata,i=e.store,r={},n=new Map;for(const o in t){const e=t[o],l=i?.originOf(o),c=e.clonable;if(e.readOnly||!1===c||l!==a.Gr.USER&&l!==a.Gr.DEFAULTS&&l!==a.Gr.WEB_MAP&&l!==a.Gr.WEB_SCENE)continue;const u=this[o];let h=null;h="function"==typeof c?c(u):"reference"===c?u:(0,s.TU)(u),null!=u&&null==h||(l===a.Gr.DEFAULTS?n.set(o,h):r[o]=h)}const c=new(0,Object.getPrototypeOf(this).constructor)(r);if(n.size){const e=(0,l.oY)(c)?.store;if(e)for(const[t,i]of n)e.set(t,i,a.Gr.DEFAULTS)}return c}};return t=(0,r._)([(0,c.$)("esri.core.Clonable")],t),t};let h=class extends(u(n.A)){};h=(0,r._)([(0,c.$)("esri.core.Clonable")],h),function(e){e.ClonableMixin=u}(h||(h={}));const d=h},48982:(e,t,i)=>{"use strict";i.d(t,{A:()=>R});var r,n=i(66866),s=i(58392),o=i(17306),a=i(20464),l=i(19251),c=i(90086);!function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"}(r||(r={}));var u,h=i(61449),d=i(73446),p=i(41573),f=i(21564),m=i(64996),y=i(63863),g=i(62879),_=i(59372);class v{constructor(e,t,i,r,n){this.target=e,this.added=t,this.removed=i,this.start=r,this.deleteCount=n}}const w=new c.A(class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1}));function b(e){e&&"object"==typeof e&&"destroy"in e&&"function"==typeof e.destroy&&e.destroy()}function M(e){return e?e instanceof O?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function A(e){if(e?.length)return e[0]}function S(e,t,i,r){const n=Math.min(e.length-i,t.length-r);let s=0;for(;s<n&&e[i+s]===t[r+s];)s++;return s}function T(e,t,i,r){t&&t.forEach(((t,n,s)=>{e.push(t),T(e,i.call(r,t,n,s),i,r)}))}const E=new Set,x=new Set,P=new Set,C=new Map;let I=0,O=class extends o.A.EventedAccessor{static{u=this}static{this.ofType=e=>{if(!e)return u;if(C.has(e))return C.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const i=e.typeMap[r].prototype.declaredClass;t?t+=` | ${i}`:t=i}let i=class extends u{};return(0,n._)([(0,m.u)({Type:e,ensureType:"function"==typeof e?(0,d.dp)(e):(0,d.aq)(e)})],i.prototype,"itemType",void 0),i=(0,n._)([(0,y.$)(`esri.core.Collection<${t}>`)],i),C.set(e,i),i}}static isCollection(e){return null!=e&&e instanceof u}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new g.I,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:I++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof u?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return(0,p.gc)(this._observable),this._items}set items(e){this._emitBeforeChanges(r.ADD)||(this._splice(0,this.length,M(e)),this._emitAfterChanges(r.ADD))}hasEventListener(e){return!this.destroyed&&("change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return(0,a.hA)();if("change"===e){const e=this._chgListeners,i={removed:!1,callback:t};return e.push(i),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),(0,a.hA)((()=>{i.removed=!0,e.splice(e.indexOf(i),1)}))}return this._emitter.on(e,t)}once(e,t){const i="deref"in t?()=>t.deref():()=>t,r=this.on(e,(e=>{i()?.call(null,e),r.remove()}));return r}add(e,t){if((0,p.gc)(this._observable),this._emitBeforeChanges(r.ADD))return this;const i=this.getNextIndex(t??null);return this._splice(i,0,[e]),this._emitAfterChanges(r.ADD),this}addMany(e,t=this._items.length){if((0,p.gc)(this._observable),!e?.length)return this;if(this._emitBeforeChanges(r.ADD))return this;const i=this.getNextIndex(t);return this._splice(i,0,M(e)),this._emitAfterChanges(r.ADD),this}at(e){if((0,p.gc)(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(r.REMOVE),e}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return(0,p.gc)(this._observable),this._createNewInstance({items:this._items.map(l.o8)})}concat(...e){(0,p.gc)(this._observable);const t=e.map(M);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.REMOVE))return;const i=this._splice(0,this.length),n=i.length;for(let r=0;r<n;r++)e.call(t,i[r],r,i);this._emitAfterChanges(r.REMOVE)}destroyAll(){this.drain(b)}destroyMany(e){const t=this.removeMany(e);return t.forEach(b),t}every(e,t){return(0,p.gc)(this._observable),this._items.every(e,t)}filter(e,t){(0,p.gc)(this._observable);const i=2===arguments.length?this._items.filter(e,t):this._items.filter(e);return this._createNewInstance({items:i})}find(e,t){return(0,p.gc)(this._observable),this._items.find(e,t)}findIndex(e,t){return(0,p.gc)(this._observable),this._items.findIndex(e,t)}flatten(e,t){(0,p.gc)(this._observable);const i=[];return T(i,this,e,t),new u(i)}forEach(e,t){return(0,p.gc)(this._observable),this._items.forEach(e,t)}getItemAt(e){return(0,p.gc)(this._observable),this._items[e]}getNextIndex(e){(0,p.gc)(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return(0,p.gc)(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return(0,p.gc)(this._observable),this._items.indexOf(e,t)}join(e=","){return(0,p.gc)(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return(0,p.gc)(this._observable),this._items.lastIndexOf(e,t)}map(e,t){(0,p.gc)(this._observable);const i=this._items.map(e,t);return new u({items:i})}reorder(e,t=this.length-1){(0,p.gc)(this._observable);const i=this.indexOf(e);if(-1!==i){if(t<0?t=0:t>=this.length&&(t=this.length-1),i!==t){if(this._emitBeforeChanges(r.MOVE))return e;this._splice(i,1),this._splice(t,0,[e]),this._emitAfterChanges(r.MOVE)}return e}}pop(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.REMOVE))return;const e=A(this._splice(this.length-1,1));return this._emitAfterChanges(r.REMOVE),e}push(...e){return(0,p.gc)(this._observable),this._emitBeforeChanges(r.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(r.ADD)),this.length}reduce(e,t){(0,p.gc)(this._observable);const i=this._items;return 2===arguments.length?i.reduce(e,t):i.reduce(e)}reduceRight(e,t){(0,p.gc)(this._observable);const i=this._items;return 2===arguments.length?i.reduceRight(e,t):i.reduceRight(e)}remove(e){return(0,p.gc)(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if((0,p.gc)(this._observable),e<0||e>=this.length||this._emitBeforeChanges(r.REMOVE))return;const t=A(this._splice(e,1));return this._emitAfterChanges(r.REMOVE),t}removeMany(e){if((0,p.gc)(this._observable),!e?.length||this._emitBeforeChanges(r.REMOVE))return[];const t=e instanceof u?e.toArray():e,i=this._items,n=[],s=t.length;for(let r=0;r<s;r++){const e=t[r],s=i.indexOf(e);if(s>-1){const e=1+S(t,i,r+1,s+1),o=this._splice(s,e);o&&o.length>0&&n.push.apply(n,o),r+=e-1}}return this._emitAfterChanges(r.REMOVE),n}reverse(){if((0,p.gc)(this._observable),this._emitBeforeChanges(r.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(r.MOVE),this}shift(){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.REMOVE))return;const e=A(this._splice(0,1));return this._emitAfterChanges(r.REMOVE),e}slice(e=0,t=this.length){return(0,p.gc)(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return(0,p.gc)(this._observable),this._items.some(e,t)}sort(e){if((0,p.gc)(this._observable),!this.length||this._emitBeforeChanges(r.MOVE)||!this._requiresSort(e))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(r.MOVE),this}_requiresSort(e=(e,t)=>e===t?0:e<t?-1:1){const t=this.length-1;for(let i=0;i<t;i++)if(e(this.items[i],this.items[i+1])>0)return!0;return!1}splice(e,t,...i){(0,p.gc)(this._observable),1===arguments.length&&(t=this.length),t??=0;const n=(t?r.REMOVE:0)|(i.length?r.ADD:0);if(this._emitBeforeChanges(n))return[];const s=this._splice(e,t,i)||[];return this._emitAfterChanges(n),s}toArray(){return(0,p.gc)(this._observable),this._items.slice()}toJSON(e){return(0,p.gc)(this._observable),this.toArray().map((t=>(0,_.W)(t)?t.toJSON(e):t))}toLocaleString(){return(0,p.gc)(this._observable),this._items.toLocaleString()}toString(){return(0,p.gc)(this._observable),this._items.toString()}unshift(...e){return(0,p.gc)(this._observable),!e.length||this._emitBeforeChanges(r.ADD)||(this._splice(0,0,e),this._emitAfterChanges(r.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,i){const r=this._items,n=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=(0,h._)((()=>this._dispatchChange()))),e<0&&(e+=this.length),t){if(o=r.splice(e,t),this.hasEventListener("before-remove")){const t=w.acquire();t.target=this,t.cancellable=!0;for(let i=0,n=o.length;i<n;i++)s=o[i],t.reset(s),this.emit("before-remove",t),t.defaultPrevented&&(o.splice(i,1),r.splice(e,0,s),e+=1,i-=1,n-=1);w.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=w.acquire();e.target=this,e.cancellable=!1;const t=o.length;for(let i=0;i<t;i++)e.reset(o[i]),this.emit("after-remove",e);w.release(e)}}if(i?.length){if(n){const e=[];for(const t of i){const i=n.ensureType(t);null==i&&null!=t||e.push(i)}i=e}const t=this.hasEventListener("before-add"),s=this.hasEventListener("after-add"),o=e===this.length;if(t||s){const n=w.acquire();n.target=this,n.cancellable=!0;const a=w.acquire();a.target=this,a.cancellable=!1;for(const l of i)t?(n.reset(l),this.emit("before-add",n),n.defaultPrevented||(o?r.push(l):r.splice(e++,0,l),this._set("length",r.length),s&&(a.reset(l),this.emit("after-add",a)))):(o?r.push(l):r.splice(e++,0,l),this._set("length",r.length),a.reset(l),this.emit("after-add",a));w.release(a),w.release(n)}else{if(o)for(const e of i)r.push(e);else r.splice(e,0,...i);this._set("length",r.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const r=new v(this,i,o,e,t);this.emit("after-splice",r)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const i=w.acquire();i.target=this,i.cancellable=!0,i.type=e,this.emit("before-changes",i),t=i.defaultPrevented,w.release(i)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=w.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),w.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;E.clear(),x.clear(),P.clear();for(const{added:t,removed:s}of e){if(t)if(0===P.size&&0===x.size)for(const e of t)E.add(e);else for(const e of t)x.has(e)?(P.add(e),x.delete(e)):P.has(e)||E.add(e);if(s)if(0===P.size&&0===E.size)for(const e of s)x.add(e);else for(const e of s)E.has(e)?E.delete(e):(P.delete(e),x.add(e))}const i=s.A.acquire();E.forEach((e=>{i.push(e)}));const r=s.A.acquire();x.forEach((e=>{r.push(e)}));const n=this._items,o=t.items,a=s.A.acquire();if(P.forEach((e=>{o.indexOf(e)!==n.indexOf(e)&&a.push(e)})),t.listeners&&(i.length||r.length||a.length)){const e={target:this,added:i,removed:r,moved:a},n=t.listeners.length;for(let i=0;i<n;i++){const r=t.listeners[i];r.removed||r.callback.call(this,e)}}s.A.release(i),s.A.release(r),s.A.release(a)}E.clear(),x.clear(),P.clear()}};(0,n._)([(0,f.MZ)()],O.prototype,"_updating",void 0),(0,n._)([(0,f.MZ)()],O.prototype,"length",void 0),(0,n._)([(0,f.MZ)()],O.prototype,"items",null),(0,n._)([(0,f.MZ)({readOnly:!0})],O.prototype,"updating",null),O=u=(0,n._)([(0,y.$)("esri.core.Collection")],O);const R=O},14798:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(66866),n=i(48982),s=i(85251),o=i(21564),a=i(63863),l=i(97996);let c=class extends n.A{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles((0,l.fm)((()=>this._refresh()),s.OH))}destroy(){this.getCollections=null}_refresh(){const e=null!=this.getCollections?this.getCollections():null;if(null==e)return void this.removeAll();let t=0;for(const i of e)null!=i&&(t=this._processCollection(t,i));this.splice(t)}_createNewInstance(e){return new n.A(e)}_processCollection(e,t){if(!t)return e;const i=this.itemFilterFunction??(e=>!!e);for(const r of t)if(r){if(i(r)){const t=this.indexOf(r,e);t>=0?t!==e&&this.reorder(r,e):this.add(r,e),++e}if(this.getChildrenFunction){const t=this.getChildrenFunction(r);if(Array.isArray(t))for(const i of t)e=this._processCollection(e,i);else e=this._processCollection(e,t)}}return e}};(0,r._)([(0,o.MZ)()],c.prototype,"getCollections",void 0),(0,r._)([(0,o.MZ)()],c.prototype,"getChildrenFunction",void 0),(0,r._)([(0,o.MZ)()],c.prototype,"itemFilterFunction",void 0),c=(0,r._)([(0,a.$)("esri.core.CollectionFlattener")],c)},17505:(e,t,i)=>{"use strict";i.d(t,{hr:()=>n,ie:()=>c,uC:()=>a,wf:()=>l});var r=i(92504);class n{constructor(e,t){this.min=e,this.max=t,this.range=t-e}normalize(e,t=0,i=!1){return s(this.range,this.min,this.max,e,t,i)}clamp(e,t=0){return(0,r.qE)(e-t,this.min,this.max)+t}monotonic(e,t,i){return e<t?t:t+o(this.range,e-t,i)}minimalMonotonic(e,t,i){return s(this.range,e,e+this.range,t,i)}center(e,t,i){return t=this.monotonic(e,t,i),this.normalize((e+t)/2,i)}diff(e,t,i){return this.monotonic(e,t,i)-e}shortestSignedDiff(e,t){e=this.normalize(e);const i=(t=this.normalize(t))-e,r=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(i)<Math.abs(r)?i:r}contains(e,t,i){return t=this.minimalMonotonic(e,t),(i=this.minimalMonotonic(e,i))>e&&i<t}}function s(e,t,i,r,n=0,s=!1){return(r-=n)<t?r+=o(e,t-r):r>i&&(r-=o(e,r-i)),s&&r===i&&(r=t),r+n}function o(e,t,i=0){return Math.ceil((t-i)/e)*e+i}const a=new n(0,2*Math.PI),l=new n(-Math.PI,Math.PI),c=new n(0,360)},98849:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var r=i(19251),n=i(539),s=i(74308);class o extends s.A{constructor(e,t,i){super(e,t,i)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return(0,r.o8)(t)}catch(o){return"[object]"}})))}}catch(e){throw n.A.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new o(e.name,e.message,e.details)}}o.prototype.type="error"},17306:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(66866),n=i(52495),s=i(20464),o=i(63863);class a{constructor(){this._emitter=new a.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this._target=e,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(e,t){let i=this._listenersMap?.get(e);if(!i)return!1;const r=this._target||this;let n=!1;for(const s of i.slice()){const e="deref"in s?s.deref():s;e?e?.call(r,t):n=!0}return n&&(i=i.filter((e=>!("deref"in e)||null!=e.deref())),this._listenersMap.set(e,i)),i.length>0}on(e,t){if(Array.isArray(e)){const i=e.map((e=>this.on(e,t)));return(0,s.vE)(i)}if(e.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const i=this._listenersMap.get(e)||[];return i.push(t),this._listenersMap.set(e,i),(0,s.hA)((()=>{const i=this._listenersMap?.get(e),r=i?.indexOf(t)??-1;r>=0&&i.splice(r,1)}))}once(e,t){const i=this.on(e,(e=>{i.remove();const r="deref"in t?t.deref():t;r?.call(null,e)}));return i}hasEventListener(e){const t=this._listenersMap?.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let i=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return i=(0,r._)([(0,o.$)("esri.core.Evented")],i),i};let i=class extends n.A{constructor(){super(...arguments),this._emitter=new a.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};i=(0,r._)([(0,o.$)("esri.core.Evented.EventedAccessor")],i),e.EventedAccessor=i}(a||(a={}));const l=a},1436:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r=i(20092);class n{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if((0,r.xZ)(e)){const i=this._getOrCreateGroup(t);for(const t of e)a(t)&&i.push(t)}else a(e)&&this._getOrCreateGroup(t).push(e);return this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const i=this._getGroup(e);i&&t&&i.forEach(t)}}has(e){return this._groups.has(s(e))}remove(e){if("string"!=typeof e&&(0,r.xZ)(e)){for(const t of e)this.remove(t);return this}return this.has(e)?(o(this._getGroup(e)),this._groups.delete(s(e)),this):this}removeAll(){return this._groups.forEach(o),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(s(e),t),t}_getGroup(e){return this._groups.get(s(e))}}function s(e){return e||"_default_"}function o(e){for(const t of e)t instanceof n?t.removeAll():t.remove()}function a(e){return null!=e&&(!!e.remove||e instanceof n)}},65667:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(66866),n=i(63863);let s=0;const o=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+s++})}};return t=(0,r._)([(0,n.$)("esri.core.Identifiable")],t),t},a=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:s++})}};return t=(0,r._)([(0,n.$)("esri.core.Identifiable.NumericIdentifiable")],t),t};let l=class extends(o(class{})){};l=(0,r._)([(0,n.$)("esri.core.Identifiable")],l),function(e){e.IdentifiableMixin=o,e.NumericIdentifiableMixin=a}(l||(l={}));const c=l},21877:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var r=i(66866),n=i(52495),s=i(19251),o=i(94255);class a{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new a;return this._values.forEach(((i,r)=>{e&&e.has(r)||t.set(r,(0,s.o8)(i.value),i.origin)})),t}get(e,t){t=this._normalizeOrigin(t);const i=this._values.get(e);return null==t||i?.origin===t?i?.value:void 0}originOf(e){return this._values.get(e)?.origin??o.Gr.USER}keys(e){e=this._normalizeOrigin(e);const t=[...this._values.keys()];return null==e?t:t.filter((t=>this._values.get(t)?.origin===e))}set(e,t,i){if((i=this._normalizeOrigin(i))===o.Gr.DEFAULTS){const t=this._values.get(e);if(null!=t?.origin&&t.origin>i)return}this._values.set(e,new l(t,i))}delete(e,t){null!=(t=this._normalizeOrigin(t))&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return null!=(t=this._normalizeOrigin(t))?this._values.get(e)?.origin===t:this._values.has(e)}isAtOrigin(e,t){return t=this._normalizeOrigin(t),this.has(e,t)&&this.originOf(e)===t}isBelowOrigin(e,t){return t=this._normalizeOrigin(t),!this.has(e)||this.originOf(e)<t}forEach(e){this._values.forEach((({value:t},i)=>e(t,i)))}_normalizeOrigin(e){if(null!=e)return e===o.Gr.DEFAULTS?e:o.Gr.USER}}class l{constructor(e,t){this.value=e,this.origin=t}}var c=i(52700),u=i(83312),h=i(55135),d=i(77373),p=i(63863);const f=e=>{let t=class extends e{constructor(...e){super(...e);const t=(0,h.oY)(this),i=t.store,r=new a;t.store=r,(0,c.k)(t,i,r)}read(e,t){(0,u.L)(this,e,t)}write(e,t){return(0,d.M)(this,e??{},t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return m.call(this,e,t)}};return t=(0,r._)([(0,p.$)("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function m(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(e,t),i}let y=class extends(f(n.A)){};y=(0,r._)([(0,p.$)("esri.core.JSONSupport")],y),function(e){e.JSONSupportMixin=f}(y||(y={}));const g=y},45307:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var r=i(66866),n=i(98849),s=i(6267),o=i(84410),a=i(40189),l=i(68659),c=i(21564),u=i(63863);const h="loaded",d=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=i=>{const r=new Promise(((e,t)=>{const r=(0,a.NY)(i,t);this.destroyed&&t(new n.A("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(e,t).finally((()=>{r&&r.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=new AbortController;t({signal:e.signal})}return e(),r}}))),this.when((()=>{this._set("loadStatus",h),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=(0,s.DC)(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===h}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new n.A("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"loaded",null),(0,r._)([(0,c.MZ)({readOnly:!0})],t.prototype,"loadError",void 0),(0,r._)([(0,c.MZ)({clonable:!1})],t.prototype,"loadStatus",void 0),(0,r._)([(0,c.MZ)({type:[l.A],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,r._)([(0,u.$)("esri.core.Loadable")],t),t};let p=class extends(d(o.A)){};p=(0,r._)([(0,u.$)("esri.core.Loadable")],p),function(e){e.LoadableMixin=d,e.isLoadable=function(e){return!(!e||!e.load)}}(p||(p={}))},539:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var r=i(21121),n=(i(39831),i(96274));const s={info:0,warn:1,error:2,none:3};class o{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,o._loggers.set(this.module,this);const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=o.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e="string"!=typeof e?e.declaredClass:e,o._loggers.get(e)||new o({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(e,t,...i){if(this._matchLevel(e)){if("always"!==t&&!o._throttlingDisabled){const r=function(...e){const t=(e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]";return(0,n.Wm)(JSON.stringify(e,t))}(i),s=this._loggedMessages[e].get(r);if("once"===t&&null!=s||"oncePerTick"===t&&s&&s>=o._tickCounter)return;this._loggedMessages[e].set(r,o._tickCounter),o._scheduleTickCounterIncrement()}for(const t of r.A.log.interceptors)if(t(e,this.module,...i))return;this._inheritedWriter()(e,this.module,...i)}}_parentWithMember(e,t){let i=this;for(;null!=i;){const t=i[e];if(null!=t)return t;i=i.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",a)}_matchLevel(e){const t=r.A.log.level||"warn";return s[this._parentWithMember("level",t)]<=s[e]}static _scheduleTickCounterIncrement(){o._tickCounterScheduled||(o._tickCounterScheduled=!0,Promise.resolve().then((()=>{o._tickCounter++,o._tickCounterScheduled=!1})))}}function a(e,t,...i){console[e](`[${t}]`,...i)}},69075:(e,t,i)=>{"use strict";i.d(t,{T:()=>r,d:()=>m});const r={Base64:0,Hex:1,String:2,Raw:3},n=8,s=(1<<n)-1;function o(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function a(e){const t=[];for(let i=0,r=e.length*n;i<r;i+=n)t[i>>5]|=(e.charCodeAt(i/n)&s)<<i%32;return t}function l(e){const t=[];for(let i=0,r=32*e.length;i<r;i+=n)t.push(String.fromCharCode(e[i>>5]>>>i%32&s));return t.join("")}function c(e,t,i,r,n,s){return o(function(e,t){return e<<t|e>>>32-t}(o(o(t,e),o(r,s)),n),i)}function u(e,t,i,r,n,s,o){return c(t&i|~t&r,e,t,n,s,o)}function h(e,t,i,r,n,s,o){return c(t&r|i&~r,e,t,n,s,o)}function d(e,t,i,r,n,s,o){return c(t^i^r,e,t,n,s,o)}function p(e,t,i,r,n,s,o){return c(i^(t|~r),e,t,n,s,o)}function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,n=-1732584194,s=271733878;for(let a=0;a<e.length;a+=16){const t=i,l=r,c=n,f=s;i=u(i,r,n,s,e[a],7,-680876936),s=u(s,i,r,n,e[a+1],12,-389564586),n=u(n,s,i,r,e[a+2],17,606105819),r=u(r,n,s,i,e[a+3],22,-1044525330),i=u(i,r,n,s,e[a+4],7,-176418897),s=u(s,i,r,n,e[a+5],12,1200080426),n=u(n,s,i,r,e[a+6],17,-1473231341),r=u(r,n,s,i,e[a+7],22,-45705983),i=u(i,r,n,s,e[a+8],7,1770035416),s=u(s,i,r,n,e[a+9],12,-1958414417),n=u(n,s,i,r,e[a+10],17,-42063),r=u(r,n,s,i,e[a+11],22,-1990404162),i=u(i,r,n,s,e[a+12],7,1804603682),s=u(s,i,r,n,e[a+13],12,-40341101),n=u(n,s,i,r,e[a+14],17,-1502002290),r=u(r,n,s,i,e[a+15],22,1236535329),i=h(i,r,n,s,e[a+1],5,-165796510),s=h(s,i,r,n,e[a+6],9,-1069501632),n=h(n,s,i,r,e[a+11],14,643717713),r=h(r,n,s,i,e[a],20,-373897302),i=h(i,r,n,s,e[a+5],5,-701558691),s=h(s,i,r,n,e[a+10],9,38016083),n=h(n,s,i,r,e[a+15],14,-660478335),r=h(r,n,s,i,e[a+4],20,-405537848),i=h(i,r,n,s,e[a+9],5,568446438),s=h(s,i,r,n,e[a+14],9,-1019803690),n=h(n,s,i,r,e[a+3],14,-187363961),r=h(r,n,s,i,e[a+8],20,1163531501),i=h(i,r,n,s,e[a+13],5,-1444681467),s=h(s,i,r,n,e[a+2],9,-51403784),n=h(n,s,i,r,e[a+7],14,1735328473),r=h(r,n,s,i,e[a+12],20,-1926607734),i=d(i,r,n,s,e[a+5],4,-378558),s=d(s,i,r,n,e[a+8],11,-2022574463),n=d(n,s,i,r,e[a+11],16,1839030562),r=d(r,n,s,i,e[a+14],23,-35309556),i=d(i,r,n,s,e[a+1],4,-1530992060),s=d(s,i,r,n,e[a+4],11,1272893353),n=d(n,s,i,r,e[a+7],16,-155497632),r=d(r,n,s,i,e[a+10],23,-1094730640),i=d(i,r,n,s,e[a+13],4,681279174),s=d(s,i,r,n,e[a],11,-358537222),n=d(n,s,i,r,e[a+3],16,-722521979),r=d(r,n,s,i,e[a+6],23,76029189),i=d(i,r,n,s,e[a+9],4,-640364487),s=d(s,i,r,n,e[a+12],11,-421815835),n=d(n,s,i,r,e[a+15],16,530742520),r=d(r,n,s,i,e[a+2],23,-995338651),i=p(i,r,n,s,e[a],6,-198630844),s=p(s,i,r,n,e[a+7],10,1126891415),n=p(n,s,i,r,e[a+14],15,-1416354905),r=p(r,n,s,i,e[a+5],21,-57434055),i=p(i,r,n,s,e[a+12],6,1700485571),s=p(s,i,r,n,e[a+3],10,-1894986606),n=p(n,s,i,r,e[a+10],15,-1051523),r=p(r,n,s,i,e[a+1],21,-2054922799),i=p(i,r,n,s,e[a+8],6,1873313359),s=p(s,i,r,n,e[a+15],10,-30611744),n=p(n,s,i,r,e[a+6],15,-1560198380),r=p(r,n,s,i,e[a+13],21,1309151649),i=p(i,r,n,s,e[a+4],6,-145523070),s=p(s,i,r,n,e[a+11],10,-1120210379),n=p(n,s,i,r,e[a+2],15,718787259),r=p(r,n,s,i,e[a+9],21,-343485551),i=o(i,t),r=o(r,l),n=o(n,c),s=o(s,f)}return[i,r,n,s]}function m(e,t=r.Hex){const i=t||r.Base64,s=f(a(e),e.length*n);switch(i){case r.Raw:return s;case r.Hex:return function(e){const t="0123456789abcdef",i=[];for(let r=0,n=4*e.length;r<n;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}(s);case r.String:return l(s);case r.Base64:return function(e){const t=[];for(let i=0,r=4*e.length;i<r;i+=3){const r=(e[i>>2]>>i%4*8&255)<<16|(e[i+1>>2]>>(i+1)%4*8&255)<<8|e[i+2>>2]>>(i+2)%4*8&255;for(let n=0;n<4;n++)8*i+6*n>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-n)&63))}return t.join("")}(s)}}},82256:(e,t,i)=>{"use strict";function r(e,t){for(const i of e.values())if(t(i))return!0;return!1}function n(e,t){for(const i of e.values())if(t(i))return i;return null}function s(e,t,i){const r=e.get(t);if(void 0!==r)return r;const n=i();return e.set(t,n),n}function o(e){const t=new Map;return i=>(t.has(i)||t.set(i,e(i)),t.get(i))}i.d(t,{$n:()=>n,Bj:()=>o,Bs:()=>r,tE:()=>s})},74308:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r=i(76724);class n{constructor(e,t,i=void 0){this.name=e,this.details=i,this.message=(t&&function(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,((e,i)=>""===i?"$":((0,r.wc)(i,t)??"").toString()))}(t,i))??""}toString(){return"["+this.name+"]: "+this.message}}},90086:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});class r{constructor(e,t,i,r=1,n=0){this._ctor=e,this._acquireFunction=t,this._releaseFunction=i,this.allocationSize=r,this._pool=new Array(n),this._initialSize=n;for(let s=0;s<n;s++)this._pool[s]=new this._ctor;this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let t;if(r.test.disabled)t=new this._ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this._ctor}t=this._pool.pop()}return this._acquireFunction?this._acquireFunction(t,...e):function(e){return e?.acquire&&"function"==typeof e.acquire}(t)&&t.acquire(...e),t}release(e){e&&!r.test.disabled&&(this._releaseFunction?this._releaseFunction(e):function(e){return e?.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}static{this.test={disabled:!1}}}},77701:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});class r{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}push(e){null!=e&&(this._samples[++this._counter%this._samples.length]=e)}set(e){null!=e&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort(((e,t)=>e-t))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((e,t)=>e+t),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}},63678:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var r,n=i(85569),s=i(73345);!function(e){const t=(e,t,i,r)=>{let n=t,s=t;const o=i>>>1,a=e[n-1];for(;s<=o;){s=n<<1,s<i&&r(e[s-1],e[s])<0&&++s;const t=e[s-1];if(r(t,a)<=0)break;e[n-1]=t,n=s}e[n-1]=a},i=(e,t)=>e<t?-1:e>t?1:0;e.sort=function(e,r,n,s){void 0===r&&(r=0),void 0===n&&(n=e.length),void 0===s&&(s=i);for(let i=n>>>1;i>r;i--)t(e,i,n,s);const o=r+1;for(let i=n-1;i>r;i--){const n=e[r];e[r]=e[i],e[i]=n,t(e,o,i,s)}},e.iterableSort=function*(e,r,n,s){void 0===r&&(r=0),void 0===n&&(n=e.length),void 0===s&&(s=i);for(let i=n>>>1;i>r;i--)t(e,i,n,s),yield;const o=r+1;for(let i=n-1;i>r;i--){const n=e[r];e[r]=e[i],e[i]=n,t(e,o,i,s),yield}}}(r||(r={}));const o=r;class a{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new n.vW,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>l(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array;for(let i=0;i<this._length;i++){const r=this.data[i];e(r)&&t.push(r)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){const i=this.data.indexOf(e,t);return-1!==i&&i<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let i=0;i<t;i++)this.data[this._length++]=e[i]}fill(e,t){for(let i=0;i<t;i++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,l(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=(0,n.qh)(this.data,(0,s.zI)(e),this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex((0,n.qh)(this.data,(0,s.zI)(e),this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,i){this.length=(0,n.mW)(this.data,e,this.length,t,this._hint,i),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;const i=this.data[e];this.data[e]=this.data[t],this.data[t]=i}sort(e){o.sort(this.data,0,this.length,e)}iterableSort(e){return o.iterableSort(this.data,0,this.length,e)}some(e,t){for(let i=0;i<this.length;++i)if(e.call(t,this.data[i],i,this.data))return!0;return!1}find(e,t){const{data:i,length:r}=this;for(let n=0;n<r;++n)if(e.call(t,i[n]))return i[n]}filterInPlace(e,t){let i=0;for(let r=0;r<this._length;++r){const n=this.data[r];e.call(t,n,r,this.data)&&(this.data[r]=this.data[i],this.data[i]=n,i++)}if(this._deallocator)for(let r=i;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=i,this._shrink(),this}forAll(e,t){const{data:i,length:r}=this;for(let n=0;n<r;++n)e.call(t,i[n],n,i)}forEach(e,t){this.data.slice(0,this.length).forEach(e,t)}map(e,t){const i=new Array(this.length);for(let r=0;r<this.length;++r)i[r]=e.call(t,this.data[r],r,this.data);return i}reduce(e,t){let i=t;for(let r=0;r<this.length;++r)i=e(i,this.data[r],r,this.data);return i}has(e){const t=this.length,i=this.data;for(let r=0;r<t;++r)if(i[r]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}}function l(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}},84410:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r,n=i(66866),s=i(52495),o=i(40189),a=i(63863);!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(r||(r={}));class l{constructor(){this._resolver=(0,o.Tw)(),this._status=r.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=r.RESOLVED,this._cleanUp()}),(()=>{this._status=r.REJECTED,this._cleanUp()})),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===r.RESOLVED}isRejected(){return this._status===r.REJECTED}isFulfilled(){return this._status!==r.PENDING}abort(){this._resolver.reject((0,o.NK)())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=(0,o.Tw)(),t=[...this._resolvingPromises,e.promise],i=this._allPromise=Promise.all(t);i.then((()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()}),(e=>{this.isFulfilled()||this._allPromise!==i||(0,o.zf)(e)||this._resolver.reject(e)})),e.resolve()}}const c=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new l,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return this._promiseProps.promise.then((()=>this)).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=(0,n._)([(0,a.$)("esri.core.Promise")],t),t};let u=class extends(c(s.A)){};u=(0,n._)([(0,a.$)("esri.core.Promise")],u),function(e){e.EsriPromiseMixin=c}(u||(u={}))},20748:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(41573),n=i(62879);class s{constructor(e=e=>e.values().next().value){this._peeker=e,this._observable=new n.I,this._items=new Set}get length(){return(0,r.gc)(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let e;for(e of this._items);return e}peek(){if(0!==this.length)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return(0,r.gc)(this._observable),this._items.has(e)}pop(){if(0===this.length)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(0===this.length)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const t=this.length;return this._items.forEach((t=>{e(t)||this._items.delete(t)})),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){(0,r.gc)(this._observable),yield*this._items}}},9272:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});class r{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*r._m}getInt(){return this._seed=(r._a*this._seed+r._c)%r._m,this._seed}getFloat(){return this.getInt()/(r._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const i=t-e;return e+this.getInt()/r._m*i}}},71416:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(41573),n=i(62879);class s{constructor(e){this._observable=new n.I,this._map=new Map(e)}get size(){return(0,r.gc)(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const t=this._map.delete(e);return t&&this._observable.notify(),t}entries(){return(0,r.gc)(this._observable),this._map.entries()}forEach(e,t){(0,r.gc)(this._observable),this._map.forEach(((i,r)=>e.call(t,i,r,this)),t)}get(e){return(0,r.gc)(this._observable),this._map.get(e)}has(e){return(0,r.gc)(this._observable),this._map.has(e)}keys(){return(0,r.gc)(this._observable),this._map.keys()}set(e,t){return this._map.set(e,t),this._observable.notify(),this}values(){return(0,r.gc)(this._observable),this._map.values()}[Symbol.iterator](){return(0,r.gc)(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}},33127:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});var r=i(90086);class n extends r.A{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}},76286:(e,t,i)=>{"use strict";function r(e,t){for(const i of e.values())if(t(i))return!0;return!1}function n(e,t){if(!t)return e;for(const i of t)null!=i&&e.add(i);return e}function s(e,t){return null!=t&&e.add(t),e}function o(e,t){const i=new Set;return n(i,e),n(i,t),i}function a(e,t){const i=new Set;for(const r of t)e.has(r)&&i.add(r);return i}function l(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const i of e)if(!t.has(i))return!1;return!0}function c(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}function u(e,t){const i=new Set(e);for(const r of t)i.delete(r);return i}function h(e,t){return u(o(e,t),a(e,t))}i.d(t,{BT:()=>h,E$:()=>a,FB:()=>n,KC:()=>o,Yy:()=>l,aI:()=>c,bw:()=>r,iv:()=>u,kb:()=>s})},50579:(e,t,i)=>{"use strict";i.d(t,{R:()=>n});var r=i(98849);let n=class e{constructor(e,t,i=""){this.major=e,this.minor=t,this._context=i}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",i=this._context&&this._context+" ";throw new r.A(t+"unsupported-version",`Required major ${i}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t,i=""){const[n,s]=t.split("."),o=/^\s*\d+\s*$/;if(!n?.match||!o.test(n))throw new r.A((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!s?.match||!o.test(s))throw new r.A((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(n,10),l=parseInt(s,10);return new e(a,l,i)}}},68659:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r=i(74308);class n extends r.A{constructor(e,t,i){super(e,t,i)}}n.prototype.type="warning"},77058:(e,t,i)=>{"use strict";i.d(t,{O:()=>n});var r=i(21121);const n=()=>r.A.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},20002:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});const r={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4}},99277:(e,t,i)=>{"use strict";i.d(t,{T:()=>o});var r=i(20464),n=i(85569);class s{constructor(e,t){this._observers=e,this._observer=t}remove(){(0,n.TF)(this._observers,this._observer)}}class o{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return a;null==this._observers&&(this._observers=[]);const t=this._observers;let i=!1,r=!1;const n=t.length;for(let s=0;s<n;++s){const n=t[s];if(n.destroyed)r=!0;else if(n===e){i=!0;break}}return i||(t.push(e),r&&this._removeDestroyedObservers()),new s(t,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const t=e.length;let i=0;for(let r=0;r<t;++r){for(;r+i<t&&e[r+i].destroyed;)++i;if(i>0){if(!(r+i<t))break;e[r]=e[r+i]}}e.length=t-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const t of e)t.onCommitted();this._observers=null}}}const a=(0,r.hA)()},94255:(e,t,i)=>{"use strict";var r;i.d(t,{AU:()=>n,Gr:()=>r,OL:()=>o,aB:()=>s,in:()=>a}),function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"}(r||(r={}));const n=r.USER+1;function s(e){switch(e){case"defaults":return r.DEFAULTS;case"service":return r.SERVICE;case"portal-item":return r.PORTAL_ITEM;case"web-scene":return r.WEB_SCENE;case"web-map":return r.WEB_MAP;case"link-chart":return r.LINK_CHART;case"user":return r.USER;default:return null}}function o(e){switch(e){case r.DEFAULTS:return"defaults";case r.SERVICE:return"service";case r.PORTAL_ITEM:return"portal-item";case r.WEB_SCENE:return"web-scene";case r.WEB_MAP:return"web-map";case r.LINK_CHART:return"link-chart";case r.USER:return"user"}}function a(e){return o(e)}},69957:(e,t,i)=>{"use strict";i.d(t,{G:()=>r});const r=Symbol("Accessor-beforeDestroy")},4130:(e,t,i)=>{"use strict";i.d(t,{w:()=>l});var r=i(73446),n=i(10245);const s=Object.prototype.toString;function o(e){const t="__accessorMetadata__"in e?(0,r.dp)(e):e;return function(...e){if(e.push(t),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return a.apply(this,e)}}function a(e,t,i,r){(0,n.z4)(e,t).cast=r}function l(...e){if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===s.call(e[0])?o(e[0]):1===e.length&&"string"==typeof e[0]?function(e){return(t,i)=>{(0,n.z4)(t,e).cast=t[i]}}(e[0]):void 0}},28902:(e,t,i)=>{"use strict";i.d(t,{e:()=>s});var r=i(59851),n=i(21564);function s(e,t={}){const i=e instanceof r.J?e:new r.J(e,t),{alwaysWriteDefaults:s,default:o,ignoreUnknown:a=!0,name:l,nonNullable:c,readOnly:u=!1}=t;return(0,n.MZ)({type:a?i.apiValues:String,json:{type:i.jsonValues,default:o,name:l,read:!u&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:s}},nonNullable:c,readOnly:u})}},77841:(e,t,i)=>{"use strict";i.d(t,{P:()=>p});var r=i(98849),n=i(69075),s=i(55750),o=i(20909),a=i(33880),l=i(10245),c=i(94255),u=i(21564),h=i(12071),d=i(63680);function p(e){const t=e?.origins??[void 0];return(i,r)=>{const n=function(e,t,i){if("resource"===e?.type)return function(e,t,i){const r=(0,l.z4)(t,i);return{type:String,read:(e,t,i)=>{const n=(0,d.r)(e,t,i);return r.type===String?n:"function"==typeof r.type?new r.type({url:n}):void 0},write:{isRequired:r.json?.write?.isRequired,writer(t,n,a,l){if(!l?.resources)return"string"==typeof t?void(n[a]=(0,d.t)(t,l)):void(n[a]=t.write({},l));const u=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),p=(0,d.t)(u,{...l,verifyItemRelativeUrls:l?.verifyItemRelativeUrls?{writtenUrls:l.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},d.M.NO),g=r.type!==String&&(!(0,s.H)(this)||l?.origin&&this.originIdOf(i)>(0,c.aB)(l.origin)),_={object:this,propertyName:i,value:t,targetUrl:p,dest:n,targetPropertyName:a,context:l,params:e};l?.portalItem&&p&&!(0,o.oP)(p)?g&&e?.contentAddressed?f(_):g?function(e){const{context:t,targetUrl:i,params:r,value:n,dest:s,targetPropertyName:a}=e;if(!t.portalItem)return;const l=t.portalItem.resourceFromPath(i),c=y(n,i,t),u=(0,h.n)(c),d=(0,o.Zo)(l.path),p=r?.compress??!1;u===d?(t.resources&&m({...e,resource:l,content:c,compress:p,updates:t.resources.toUpdate}),s[a]=i):f(e)}(_):function({context:e,targetUrl:t,dest:i,targetPropertyName:r}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),i[r]=t)}(_):l?.portalItem&&(null==p||null!=(0,d.i)(p)||(0,o.w8)(p)||g)?f(_):n[a]=p}}}}(e,t,i);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=d.b;return{read:e,write:t}}}}(e,i,r);for(const e of t){const t=(0,u.rM)(i,e,r);for(const e in n)t[e]=n[e]}}}function f(e){const{targetUrl:t,params:i,value:s,context:l,dest:c,targetPropertyName:u}=e;if(!l.portalItem)return;const p=(0,d.p)(t),f=y(s,t,l);if(i?.contentAddressed&&"json"!==f.type)return void l.messages?.push(new r.A("persistable:contentAddressingUnsupported",`Property "${u}" is trying to serializing a resource with content of type ${f.type} with content addressing. Content addressing is only supported for json resources.`,{content:f}));const g=i?.contentAddressed&&"json"===f.type?(0,n.d)(f.jsonString):p?.filename??(0,a.lk)(),_=(0,o.fj)(i?.prefix??p?.prefix,g),v=`${_}.${(0,h.n)(f)}`;if(i?.contentAddressed&&l.resources&&"json"===f.type){const e=l.resources.toKeep.find((({resource:e})=>e.path===v))??l.resources.toAdd.find((({resource:e})=>e.path===v));if(e)return void(c[u]=e.resource.itemRelativeUrl)}const w=l.portalItem.resourceFromPath(v);(0,o.w8)(t)&&l.resources&&l.resources.pendingOperations.push((0,o.tk)(t).then((e=>{w.path=`${_}.${(0,h.n)({type:"blob",blob:e})}`,c[u]=w.itemRelativeUrl})).catch((()=>{})));const b=i?.compress??!1;l.resources&&m({...e,resource:w,content:f,compress:b,updates:l.resources.toAdd}),c[u]=w.itemRelativeUrl}function m({object:e,propertyName:t,updates:i,resource:r,content:n,compress:s}){i.push({resource:r,content:n,compress:s,finish:i=>{!function(e,t,i){"string"==typeof e[t]?e[t]=i.url:e[t].url=i.url}(e,t,i)}})}function y(e,t,i){return"string"==typeof e?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(i))}}},21564:(e,t,i)=>{"use strict";i.d(t,{MZ:()=>l,rM:()=>c});var r=i(539),n=i(73446),s=i(45066),o=i(10245),a=i(95350);function l(e={}){return(t,i)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${i}. Accessor does not support static properties.`);const l=Object.getOwnPropertyDescriptor(t,i),c=(0,o.z4)(t,i);l&&(l.get||l.set?(c.get=l.get||c.get,c.set=l.set||c.set):"value"in l&&("value"in e&&r.A.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${t.constructor.name}" already defined in the metadata`,e),c.value=e.value=l.value)),null!=e.readOnly&&(c.readOnly=e.readOnly);const u=e.aliasOf;if(u){const e="string"==typeof u?u:u.source,t="string"==typeof u?null:!0===u.overridable;let r;c.dependsOn=[e],c.get=function(){let t=(0,s.Jt)(this,e);if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."));const i=(0,s.Jt)(this,r);i&&(t=t.bind(i))}return t},c.readOnly||(c.set=t?function(e){this._override(i,e)}:function(t){(0,a.h)(this,e,t)})}const h=e.type,d=e.types;if(!c.cast){let t;h?t=function(e){let t=0,i=e;if((0,n.Zu)(e))return(0,n.Nd)(e);for(;Array.isArray(i)&&1===i.length&&"string"!=typeof i[0]&&"number"!=typeof i[0];)i=i[0],t++;const r=i;if((0,n.EK)(r))return 0===t?(0,n.MB)(r):(0,n._e)((0,n.MB)(r),t);if(1===t)return(0,n.eC)(r);if(t>1)return(0,n.e6)(r,t);const s=e;return s.from?s.from:(0,n.dp)(s)}(h):d&&(t=Array.isArray(d)?(0,n.wB)((0,n.aq)(d[0])):(0,n.aq)(d)),e.cast=function(e,t){if(e||t)return e?t?(i,r)=>t(e(i,r),r):e:t}(e.cast,t)}(0,o.CX)(c,e),e.range&&(c.cast=(0,n.Qp)(c.cast,e.range))}}function c(e,t,i){const r=(0,o.z4)(e,i);r.json||(r.json={});let n=r.json;return void 0!==t&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}},75094:(e,t,i)=>{"use strict";i.d(t,{w:()=>n});var r=i(21564);function n(e,t,i){let n,s;return void 0===t||Array.isArray(t)?(s=e,i=t,n=[void 0]):(s=t,n=Array.isArray(e)?e:[e]),(e,t)=>{const o=e.constructor.prototype;n.forEach((n=>{const a=(0,r.rM)(e,n,s);a.read&&"object"==typeof a.read||(a.read={}),a.read.reader=o[t],i&&(a.read.source=(a.read.source||[]).concat(i))}))}}},64996:(e,t,i)=>{"use strict";function r(e){return(t,i)=>{t[i]=e}}i.d(t,{u:()=>r})},63863:(e,t,i)=>{"use strict";i.d(t,{$:()=>h});i(39831);var r=i(539),n=i(69957),s=i(20002),o=i(10245),a=i(41573),l=i(51526);const c=new Set,u=new Set;function h(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,p(t);const i=[],r=[];let a=t.prototype;for(;a;)a.hasOwnProperty("initialize")&&!c.has(a.initialize)&&(c.add(a.initialize),i.push(a.initialize)),a.hasOwnProperty("destroy")&&!u.has(a.destroy)&&(u.add(a.destroy),r.push(a.destroy)),a=Object.getPrototypeOf(a);c.clear(),u.clear();const l=class extends t{constructor(...e){if(super(...e),this.constructor===l&&"function"==typeof this.postscript){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=i.length-1;e>=0;e--)i[e].call(this)}}),r.length){let e=!1;const t=this[n.G];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){this.__accessor__.lifecycle=s.v.DESTROYING,e=!0,t.call(this);for(let e=0;e<r.length;e++)r[e].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};l.__accessorMetadata__=(0,o.tD)(t.prototype),l.prototype.declaredClass=e;const h=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(l,"name",{value:h,configurable:!0}),l}}function d(e,t){return null==t.get?function(){const t=this.__accessor__,i=t.propertiesByName.get(e);if(void 0===i)return;t.mutable&&(0,a.gc)(i);const r=t.store;return r.has(e)?r.get(e):i.metadata.value}:function(){const t=this.__accessor__,i=t.propertiesByName.get(e);if(void 0!==i)return i.getComputed(t)}}function p(e){const t=e.prototype,i=(0,o.tD)(t),r={};for(const n of Object.getOwnPropertyNames(i)){const e=i[n];(0,l.qk)(e),r[n]={enumerable:!0,configurable:!0,get:d(n,e),set(t){const i=this.__accessor__;if(void 0!==i){if(i.mutable)return i.initialized&&e.readOnly?f("read-only",n):i.lifecycle===s.v.CONSTRUCTED&&e.constructOnly?f("construct-only",n):void i.set(n,t)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}}}Object.defineProperties(e.prototype,r)}const f=(e,t)=>{r.A.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)}},77542:(e,t,i)=>{"use strict";i.d(t,{K:()=>n});var r=i(21564);function n(e,t,i){let n,s;return void 0===t?(s=e,n=[void 0]):"string"!=typeof t?(s=e,n=[void 0],i=t):(s=t,n=Array.isArray(e)?e:[e]),(e,t)=>{const o=e.constructor.prototype;for(const a of n){const n=(0,r.rM)(e,a,s);n.write&&"object"==typeof n.write||(n.write={}),i&&(n.write.target=i),n.write.writer=o[t]}}}},52700:(e,t,i)=>{"use strict";i.d(t,{k:()=>n});var r=i(94255);function n(e,t,i){t.keys().forEach((e=>{i.set(e,t.get(e),r.Gr.DEFAULTS)}));const n=e.metadata;Object.keys(n).forEach((t=>{e.internalGet(t)&&i.set(t,e.internalGet(t),r.Gr.DEFAULTS)}))}},73446:(e,t,i)=>{"use strict";i.d(t,{EK:()=>x,GB:()=>c,GX:()=>l,MB:()=>P,Nd:()=>k,PZ:()=>_,Qp:()=>d,Uv:()=>O,Vr:()=>u,Zu:()=>N,_e:()=>T,aq:()=>C,dp:()=>b,e6:()=>E,eC:()=>A,gK:()=>R,jz:()=>I,wB:()=>M});i(39831);var r=i(539),n=i(82256);const s=()=>r.A.getLogger("esri.core.accessorSupport.ensureTypes");function o(e){if(null==e)return e;const t=new Date(e);return isNaN(t.getTime())?(s().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function a(e){return null==e?e:!!e}function l(e){return null==e?e:e.toString()}function c(e,t=0){return null==e?e:(e=parseFloat(e),isNaN(e)?t:e)}function u(e){return null==e?e:Math.round(parseFloat(e))}function h(e){return null}function d(e,t){return i=>{let r=e(i);return null!=t.step&&(r=Math.round(r/t.step)*t.step),null!=t.min&&(r=Math.max(t.min,r)),null!=t.max&&(r=Math.min(t.max,r)),r}}function p(e){return e?.constructor&&void 0!==e.constructor.__accessorMetadata__}function f(e,t){return null!=t&&e&&!(t instanceof e)}function m(e){return e&&"isCollection"in e}function y(e){return e?.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function g(e,t){return!!p(t)&&(s().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+v(e)+"'"),!0)}function _(e,t){return null==t?t:m(e)?function(e,t){if(!t?.constructor||!m(t.constructor))return g(e,t)?t:new e(t);const i=y(e.prototype.itemType),r=y(t.constructor.prototype.itemType);return i?r?i===r?t:i.prototype.isPrototypeOf(r.prototype)?new e(t):(g(e,t),t):new e(t):t}(e,t):f(e,t)?g(e,t)?t:new e(t):t}function v(e){return e?.prototype?.declaredClass||"unknown"}const w=new WeakMap;function b(e,t){const i=function(e){switch(e){case Number:return e=>c(e);case I:return u;case Boolean:return a;case String:return l;case Date:return o;case O:return h;default:return(0,n.tE)(w,e,(()=>_.bind(null,e)))}}(e);return 1===arguments.length?i:i(t)}function M(e,t,i){return 1===arguments.length?M.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,i))):[e(t,i)]:t}function A(e,t){return 1===arguments.length?M((t=>b(e,t))):M((t=>b(e,t)),t)}function S(e,t,i){return 0!==t&&Array.isArray(i)?i.map((i=>S(e,t-1,i))):e(i)}function T(e,t,i){if(2===arguments.length)return i=>T(e,t,i);if(!i)return i;i=S(e,t,i);let r=t,n=i;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(void 0!==n)for(let s=0;s<r;s++)i=[i];return i}function E(e,t,i){return 2===arguments.length?T((t=>b(e,t)),t):T((t=>b(e,t)),t,i)}function x(e){return!!Array.isArray(e)&&!e.some((t=>{const i=typeof t;return!("string"===i||"number"===i||"function"===i&&e.length>1)}))}function P(e,t){if(2===arguments.length)return P(e).call(null,t);const i=new Set,r=e.filter((e=>"function"!=typeof e)),n=e.filter((e=>"function"==typeof e));for(const s of e)"string"!=typeof s&&"number"!=typeof s||i.add(s);let o=null,a=null;return(e,t)=>{if(null==e)return e;const l=typeof e,c="string"===l||"number"===l;return c&&(i.has(e)||n.some((e=>"string"===l&&e===String||"number"===l&&e===Number)))||"object"===l&&n.some((t=>!f(e,t)))?e:(c&&r.length?(o||(o=r.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),s().error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${o}`)):"object"==typeof e&&n.length?(a||(a=n.map((e=>v(e))).join(", ")),s().error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${a}`)):s().error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function C(e,t){if(2===arguments.length)return C(e).call(null,t);const i={},r=[],n=[];for(const s in e.typeMap){const t=e.typeMap[s];i[s]=b(t),r.push(v(t)),n.push(s)}const o=()=>`'${r.join("', '")}'`,a=()=>`'${n.join("', '")}'`,l="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!f(e.base,t))return t;if(null==t)return t;const r=l(t)||e.defaultKeyValue,n=i[r];if(!n)return s().error("Accessor#set",`Invalid property value, value needs to be one of ${o()}, or a plain object that can autocast (having .type = ${a()})`),null;if(!f(e.typeMap[r],t))return t;if("string"==typeof e.key&&!p(t)){const i={};for(const r in t)r!==e.key&&(i[r]=t[r]);return n(i)}return n(t)}}class I{}class O{}const R={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function N(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function k(e){switch(e.type){case"native":return b(e.value);case"array":return M(k(e.value));case"one-of":return function(e){let t=null;return(i,r)=>D(i,e)?i:(null==t&&(t=L(e)),s().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),r&&(r.valid=!1),null)}(e);default:return null}}function L(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case I:return"integer";case Date:return"date";case O:return"null";default:return v(e.value)}case"array":return`array of ${L(e.value)}`;case"one-of":{const t=e.values.map((e=>L(e)));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function D(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case I:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e;case O:return null===e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!D(e,t.value)));case"one-of":return t.values.some((t=>D(e,t)))}}},51526:(e,t,i)=>{"use strict";i.d(t,{xF:()=>u,N5:()=>h,k4:()=>d,qk:()=>_});var r=i(73446);var n=i(84366);function s(e){if(e.json||(e.json={}),a(e.json),l(e.json),o(e.json),e.json.origins)for(const t in e.json.origins)a(e.json.origins[t]),l(e.json.origins[t]),o(e.json.origins[t]);return!0}function o(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function a(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function l(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}var c=i(35149);function u(e,t){return p(e,"any",t?.origin)}function h(e,t){return p(e,"read",t?.origin)}function d(e,t){return p(e,"write",t?.origin)}function p(e,t,i){let r=e?.json;if(r?.origins&&i){let e;e="link-chart"===i?r.origins[i]&&("any"===t||t in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],e&&("any"===t||t in e)&&(r=e)}return r}function f(e){const t=function(e){return e.json.types?g(e.json):e.type?y(e):g(e)}(e);if(e.json.origins)for(const i in e.json.origins){const r=e.json.origins[i],s=r.types?m(r):t;(0,n.v)(s,r,!1),r.types&&!r.write&&e.json.write?.enabled&&(r.write={...e.json.write}),(0,c.v)(s,r)}(0,n.v)(t,e.json,!0),(0,c.v)(t,e.json)}function m(e){return e.type?y(e):g(e)}function y(e){if(!e.type)return;let t=0,i=e.type;for(;Array.isArray(i)&&!(0,r.EK)(i);)i=i[0],t++;return{type:i,ndimArray:t}}function g(e){if(!e.types)return;let t=0,i=e.types;for(;Array.isArray(i);)i=i[0],t++;return{types:i,ndimArray:t}}function _(e){s(e)&&(function(e){if(e.json&&e.json.origins){const t=e.json.origins,i={"web-document":["web-scene","web-map"]};for(const e in i)if(t[e]){const r=t[e];i[e].forEach((e=>{t[e]=r})),delete t[e]}}}(e),f(e))}},84366:(e,t,i)=>{"use strict";i.d(t,{C:()=>u,v:()=>c});var r=i(539),n=i(76724),s=i(68659),o=i(10245),a=i(9302);const l=()=>r.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function c(e,t,i){e&&(!i&&!t.read||t.read?.reader||!1===t.read?.enabled||function(e){return"types"in e?y(e.types):m(e.type)}(e)&&(0,n.sM)("read.reader",u(e),t))}function u(e){const t=e.ndimArray??0;if(t>1)return function(e){const t=h(e),i=d.bind(null,t),r=e.ndimArray??0;return(e,t,n)=>{if(null==e)return e;e=i(e,n,r);let s=r,o=e;for(;s>0&&Array.isArray(o);)s--,o=o[0];if(void 0!==o)for(let i=0;i<s;i++)e=[e];return e}}(e);if(1===t)return p(e);if("type"in e&&f(e.type)){const t=e.type.prototype?.itemType?.Type,i=p("function"==typeof t?{type:t}:{types:t});return(t,r,n)=>{const s=i(t,r,n);return s?new e.type(s):s}}return h(e)}function h(e){return"type"in e?function(e){return e.prototype.read?(t,i,r)=>{if(null==t)return t;const n=typeof t;if("object"!==n)return void l().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const s=new e;return s.read(t,r),s}:e.fromJSON}(e.type):function(e){let t=null;const i=e.errorContext??"type",r=e.validate;return(n,a,c)=>{if(null==n)return n;const u=typeof n;if("object"!==u)return void l().error(`Expected JSON value of type 'object' to deserialize, but got '${u}'`);t||(t=function(e){const t={};for(const i in e.typeMap){const r=e.typeMap[i],n=(0,o.tD)(r.prototype);if("function"==typeof e.key)continue;const s=n[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&1===s.json.type.length&&"string"==typeof s.json.type[0]){t[s.json.type[0]]=r;continue}const a=s.json?.write;if(!a?.writer){t[i]=r;continue}const l=a.target,c="string"==typeof l?l:e.key,u={};a.writer(i,u,c),u[c]&&(t[u[c]]=r)}return t}(e));const h=e.key;if("string"!=typeof h)return;const d=n[h],p=d?t[d]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!p){const e=`Type '${d||"unknown"}' is not supported`;return c?.messages&&n&&c.messages.push(new s.A(`${i}:unsupported`,e,{definition:n,context:c})),void l().error(e)}const f=new p;return f.read(n,c),r?r(f):f}}(e.types)}function d(e,t,i,r){return 0!==r&&Array.isArray(t)?t.map((t=>d(e,t,i,r-1))):e(t,void 0,i)}function p(e){const t=h(e);return(e,i,r)=>{if(null==e)return e;if(Array.isArray(e)){const i=[];for(const n of e){const e=t(n,void 0,r);void 0!==e&&i.push(e)}return i}const n=t(e,void 0,r);return void 0!==n?[n]:void 0}}function f(e){if(!(0,a.P)(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?m(t.Type):y(t.Type))}function m(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||f(e))}function y(e){for(const t in e.typeMap)if(!m(e.typeMap[t]))return!1;return!0}},9302:(e,t,i)=>{"use strict";function r(e){return!!e&&e.prototype?.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}i.d(t,{P:()=>r})},35149:(e,t,i)=>{"use strict";i.d(t,{B:()=>h,v:()=>a});var r=i(98849),n=i(539),s=i(76724),o=i(9302);function a(e,t){if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const i=e?.ndimArray??0;e&&(1===i||"type"in e&&(0,o.P)(e.type))?t.write.writer=d:i>1?t.write.writer=function(e){return(t,i,r,n)=>{let o;if(null===t)o=null;else{o=p(t,n,e);let i=e,r=o;for(;i>0&&Array.isArray(r);)i--,r=r[0];if(void 0!==r)for(let e=0;e<i;e++)o=[o]}(0,s.sM)(r,o,i)}}(i):t.types?Array.isArray(t.types)?t.write.writer=function(e){return(t,i,r,n)=>t&&Array.isArray(t)?c(t.filter((t=>l(t,e,n))),i,r,n):c(t,i,r,n)}(t.types[0]):t.write.writer=function(e){return(t,i,r,n)=>t?l(t,e,n)?c(t,i,r,n):void 0:c(t,i,r,n)}(t.types):t.write.writer=c}function l(e,t,i){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(i?.messages){const s=t.errorContext??"type",o=`Values of type '${("function"!=typeof t.key?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new r.A(`${s}:unsupported`,o,{definition:e,context:i})),n.A.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(o)}return!1}function c(e,t,i,r){(0,s.sM)(i,u(e,r),t)}function u(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?h(e):e}function h(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function d(e,t,i,r){let n;null===e?n=null:e&&"function"==typeof e.map?(n=e.map((e=>u(e,r))),"function"==typeof n.toArray&&(n=n.toArray())):n=[u(e,r)],(0,s.sM)(i,n,t)}function p(e,t,i){return 0!==i&&Array.isArray(e)?e.map((e=>p(e,t,i-1))):u(e,t)}},45066:(e,t,i)=>{"use strict";i.d(t,{Jt:()=>a,RP:()=>o,t2:()=>l});var r=i(55135);function n(e,t){const i="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(i,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.at(e)}const n=(0,r.oY)(t);return(0,r.yh)(n,i)?n.get(i):t[i]}function s(e,t,i){if(null==e)return e;const r=n(t[i],e);return!r&&i<t.length-1?void 0:i===t.length-1?r:s(r,t,i+1)}function o(e,t,i=0){return"string"!=typeof t||t.includes(".")?s(e,(0,r.AH)(t),i):n(t,e)}function a(e,t){return o(e,t)}function l(e,t){return void 0!==o(t,e)}},10245:(e,t,i)=>{"use strict";i.d(t,{CX:()=>a,tD:()=>s,z4:()=>o});var r=i(19251),n=i(55135);function s(e){let t=e.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!i){t=Object.create(t);for(const e in t)t[e]=(0,r.o8)(t[e]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function o(e,t){const i=s(e);let r=i[t];return r||(r=i[t]={}),r}function a(e,t){return(0,n.h1)(e,t,c)}const l=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function c(e){return l.test(e)?"replace":"merge"}},83312:(e,t,i)=>{"use strict";i.d(t,{L:()=>u,t:()=>h});var r=i(45066),n=i(55135),s=i(51526);function o(e,t,i){if(!e?.read||!1===e.read.enabled||!e.read.source)return!1;const n=e.read.source;if("string"==typeof n){if(n===t)return!0;if(n.includes(".")&&0===n.indexOf(t)&&(0,r.t2)(n,i))return!0}else for(const s of n){if(s===t)return!0;if(s.includes(".")&&0===s.indexOf(t)&&(0,r.t2)(s,i))return!0}return!1}function a(e,t,i,r,n){let a=(0,s.N5)(t[i],n);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(a)&&(e[i]=!0);for(const l of Object.getOwnPropertyNames(t))a=(0,s.N5)(t[l],n),o(a,i,r)&&(e[l]=!0)}function l(e,t,i,r){const n=i.metadata,o=(0,s.xF)(n[t],r),a=o?.default;if(void 0===a)return;const l="function"==typeof a?a.call(e,t,r):a;void 0!==l&&i.set(t,l)}const c={origin:"service"};function u(e,t,i=c){if(!t||"object"!=typeof t)return;const o=(0,n.oY)(e),u=o.metadata,h={};for(const r of Object.getOwnPropertyNames(t))a(h,u,r,t,i);o.setDefaultOrigin(i.origin);for(const n of Object.getOwnPropertyNames(h)){const a=(0,s.N5)(u[n],i).read,l=a?.source;let c;c=l&&"string"==typeof l?(0,r.RP)(t,l):t[n],a?.reader&&(c=a.reader.call(e,c,t,i)),void 0!==c&&o.set(n,c)}if(!i||!i.ignoreDefaults){o.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(u))h[t]||l(e,t,o,i)}o.setDefaultOrigin("user")}function h(e,t,i,r=c){const n={...r,messages:[]};i(n),n.messages?.forEach((t=>{"warning"!==t.type||e.loaded?r?.messages&&r.messages.push(t):e.loadWarnings.push(t)}))}},95350:(e,t,i)=>{"use strict";i.d(t,{h:()=>o});var r=i(98849),n=i(39831),s=(i(539),i(45066));function o(e,t,i){if(e&&t)if("object"==typeof t)for(const r of Object.getOwnPropertyNames(t))o(e,r,t[r]);else{if(t.includes(".")){const r=t.split("."),n=r.splice(-1,1)[0];return void o((0,s.Jt)(e,r),n,i)}const r=e.__accessor__;null!=r&&a(t,r),e[t]=i}}function a(e,t){if((0,n.A)("esri-unknown-property-errors")&&!function(e,t){return null!=t.metadata[e]}(e,t))throw new r.A("set:unknown-property",function(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}(e,t))}},41573:(e,t,i)=>{"use strict";i.d(t,{F_:()=>p,Xr:()=>v,a:()=>d,fE:()=>g,gc:()=>c});i(39831);var r=i(539),n=i(55135),s=i(35193);const o=new(i(20488).R),a=[];let l=o;function c(e){l.onAccessed(e)}let u=!1,h=!1;function d(e,t,i){if(u)return f(e,t,i);let r=null;return m(e),r=t.call(i),y(),r}function p(e,t){return d(o,e,t)}function f(e,t,i){const n=u;u=!0,m(e);let s=null;try{s=t.call(i)}catch(a){h&&r.A.getLogger("esri.core.accessorSupport.tracking").error(a)}return y(),u=n,s}function m(e){l=e,a.push(e)}function y(){const e=a.length;if(e>1){const t=a.pop();l=a[e-2],t.onTrackingEnd()}else if(1===e){const e=a.pop();l=o,e.onTrackingEnd()}else l=o}function g(e,t){if(t.flags&s.i.DepTrackingInitialized)return;t.flags|=s.i.DepTrackingInitialized;const i=h;h=!1,t.flags&s.i.AutoTracked?f(t.trackingTarget,t.metadata.get,e):v(e,t),h=i}const _=[];function v(e,t){t.flags&s.i.ExplicitlyTracking||(t.flags|=s.i.ExplicitlyTracking,f(t.trackingTarget,(()=>{const i=t.metadata.dependsOn||_;for(const t of i)if("string"!=typeof t||t.includes(".")){const i=(0,n.AH)(t);for(let t=0,r=e;t<i.length&&null!=r&&"object"==typeof r;++t)r=w(r,i[t],t!==i.length-1)}else w(e,t,!1)})),t.flags&=~s.i.ExplicitlyTracking)}function w(e,t,i){const r="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(r,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}const s=(0,n.oY)(e);if(s){const t=s.propertiesByName.get(r);t&&(c(t),g(e,t))}return i?e[r]:void 0}},35193:(e,t,i)=>{"use strict";i.d(t,{i:()=>r});const r={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128}},62879:(e,t,i)=>{"use strict";i.d(t,{I:()=>n});var r=i(99277);class n extends r.T{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onInvalidated(),e.onCommitted()}}}},9854:(e,t,i)=>{"use strict";i.d(t,{r:()=>n});var r=i(20488);class n extends r.R{constructor(e){super(new s(e)),this._observer&&o.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&o.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}}class s{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=a}}const o=new FinalizationRegistry((e=>{e.deref()?.destroy()}));function a(){}},20488:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});class r{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){null!=this._observer&&e!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach((e=>{this._handles.push(e.observe(this._observer))})),this.accessed.clear()))}clear(){if(null!=this._handles){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}}},97996:(e,t,i)=>{"use strict";i.d(t,{Df:()=>c,fm:()=>u,mJ:()=>l});var r=i(20464),n=i(41573),s=i(9854);let o=!1;const a=[];function l(e,t){let i=new s.r((function r(){if(!i||l)return;if(o)return void h(r);const s=a;i.clear(),o=!0,l=!0,a=(0,n.a)(i,e),l=!1,o=!1,t(a,s),d()})),a=null,l=!1;return l=!0,a=(0,n.a)(i,e),l=!1,(0,r.hA)((function(){i&&(i.destroy(),i=null,a=null)}))}function c(e,t){let i=new s.r((function(){t(o,a)})),o=null;function a(){return i?(i.clear(),o=(0,n.a)(i,e),o):null}return a(),(0,r.hA)((function(){i&&(i.destroy(),i=null),o=null}))}function u(e,t){let i=!1,a=!1;const l=!!t?.sync;let c=new s.r((()=>{i||a||(a=!0,l?u():queueMicrotask(u))}));function u(){a=!1,c&&!i&&(o?h(u):(c.clear(),o=!0,i=!0,(0,n.a)(c,e),i=!1,o=!1,d()))}return i=!0,(0,n.a)(c,e),i=!1,(0,r.hA)((function(){c&&(c.destroy(),c=null)}))}function h(e){a.includes(e)||a.unshift(e)}function d(){for(;a.length;)a.pop()()}},55135:(e,t,i)=>{"use strict";i.d(t,{AH:()=>c,h1:()=>a,oY:()=>s,qg:()=>h,yh:()=>o});var r=i(20464),n=i(19251);function s(e){return e.__accessor__??null}function o(e,t){return null!=e?.metadata?.[t]}function a(e,t,i){return l(e,t,i?{policy:i,path:""}:null)}function l(e,t,i){return t?Object.keys(t).reduce(((e,r)=>{const s=r;if("__proto__"===s)return e;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${r}`:r,a=i.policy(o)),"replace"===a)return e[s]=t[s],e;if("replace-arrays"===a&&Array.isArray(e[s]))return e[s]=t[s],e;if(void 0===e[s])return e[s]=(0,n.o8)(t[s]),e;let c=e[s],u=t[s];if(c===u)return e;if(Array.isArray(u)||Array.isArray(e))c=c?Array.isArray(c)?e[s]=c.slice():e[s]=[c]:e[s]=[],u&&(Array.isArray(u)||(u=[u]),u.forEach((e=>{c.includes(e)||c.push(e)})));else if(u&&"object"==typeof u)if(i){const t=i.path;i.path=o,e[s]=l(c,u,i),i.path=t}else e[s]=l(c,u,null);else e.hasOwnProperty(r)&&!t.hasOwnProperty(r)||(e[s]=u);return e}),e||{}):e}function c(e){return Array.isArray(e)?e:e.split(".")}function u(e){return e.includes(",")?e.split(",").map((e=>e.trim())):[e.trim()]}function h(e,t,i,n){const s=function(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push(...u(i));return t}return u(e)}(t);if(1!==s.length){const t=s.map((t=>n(e,t,i)));return(0,r.vE)(t)}return n(e,s[0],i)}},39425:(e,t,i)=>{"use strict";i.d(t,{Cn:()=>x,Gs:()=>P,iS:()=>b,rs:()=>T,wB:()=>E});var r,n=i(58392),s=i(20464),o=i(19251),a=i(33127),l=i(61449),c=i(76286),u=i(65061),h=i(45066),d=i(20002),p=i(97996),f=i(55135);!function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"}(r||(r={}));class m{constructor(){this.uid=(0,u.c)(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new a.P(m)}static acquireUntracked(e,t,i,n,s){return this.pool.acquire(r.Untracked,e,t,i,n,s,o.aI)}static acquireTracked(e,t,i,n){return this.pool.acquire(r.Tracked,e,t,i,null,null,n)}notify(e,t){this.type===r.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,i,r,n,s,o){this.uid=(0,u.c)(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=i,this.getValue=r,this.target=n,this.path=s,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=(0,u.c)(),this.removed=!0}}const y=new n.A,g=new Set;let _;function v(e){g.delete(e),g.add(e),_||(_=(0,l._)(M))}function w(e){if(e.removed)return;const t=e.oldValue,i=e.getValue();e.equals(t,i)||(e.oldValue=i,e.notify(i,t))}function b(e){for(const t of g.values())t.target===e&&(t.removed=!0)}function M(){let e=10;for(;_&&e--;){_=null;const e=A(),t=y.acquire();for(const i of e){const e=i.uid;w(i),e===i.uid&&i.removed&&t.push(i)}for(const i of g)i.removed&&(t.push(i),g.delete(i));for(const i of t)m.pool.release(i);y.release(t),y.release(e),S.forEach((e=>e()))}}function A(){const e=y.acquire();e.length=g.size;let t=0;for(const i of g)e[t]=i,++t;return g.clear(),e}const S=new Set;function T(e){return S.add(e),(0,s.hA)((()=>S.delete(e)))}function E(e,t,i,r=!1){return e.__accessor__&&e.__accessor__.lifecycle!==d.v.DESTROYED?r?function(e,t,i){const r=(0,f.qg)(e,t,i,((e,t,i)=>{let n=!1;return(0,p.mJ)((()=>(0,h.RP)(e,t)),((s,a)=>{e.__accessor__.lifecycle!==d.v.DESTROYED?n||(n=!0,(0,o.aI)(a,s)||i.call(e,s,a,t,e),n=!1):r.remove()}))}));return r}(e,t,i):function(e,t,i){let r=(0,f.qg)(e,t,i,((e,t,i)=>{let n,o,a=(0,p.Df)((()=>(0,h.RP)(e,t)),((s,a)=>{e.__accessor__?.lifecycle===d.v.DESTROYED||n&&n.uid!==o?r.remove():(n||(n=m.acquireUntracked(s,i,a,e,t),o=n.uid),v(n))}));return(0,s.hA)((()=>{a.remove(),n&&(n.uid!==o||n.removed||(n.removed=!0,v(n)),n=null),r=a=null}))}));return r}(e,t,i):(0,s.hA)()}function x(e,t,i=!1,r=o.gh){return i?function(e,t,i){let r=!1;return(0,p.mJ)(e,((e,n)=>{r||(r=!0,i(n,e)||t(e,n),r=!1)}))}(e,t,r):function(e,t,i){let r,n,o=(0,p.Df)(e,((e,s)=>{r&&r.uid!==n?o.remove():(r||(r=m.acquireTracked(e,t,s,i),n=r.uid),v(r))}));return(0,s.hA)((()=>{o.remove(),r&&(r.uid!==n||r.removed||(r.removed=!0,v(r)),r=null),o=null}))}(e,t,r)}function P(e){return(0,c.bw)(g,(t=>t.oldValue===e))}},77373:(e,t,i)=>{"use strict";i.d(t,{M:()=>p,R:()=>d});var r=i(85569),n=i(98849),s=i(539),o=i(45066),a=i(94255),l=i(55135),c=i(51526);function u(e,t,i,r,n){const s={};return t.write?.writer?.call(e,r,s,i,n),s}function h(e,t,i,l,c,u){if(!l?.write)return!1;const h=(0,o.Jt)(e,i);if(!c&&l.write.overridePolicy){const t=l.write.overridePolicy.call(e,h,i,u??void 0);void 0!==t&&(c=t)}if(c||(c=l.write),!c||!1===c.enabled)return!1;if(c.layerContainerTypes&&u?.layerContainerType&&!c.layerContainerTypes.includes(u.layerContainerType))return!1;if((null===h&&!c.allowNull&&!c.writerEnsuresNonNull||void 0===h)&&c.isRequired){const t=new n.A("web-document-write:property-required",`Missing value for required property '${i}' on '${e.declaredClass}'`,{propertyName:i,target:e});return t&&u?.messages?u.messages.push(t):t&&!u&&s.A.getLogger("esri.core.accessorSupport.write").error(t.name,t.message),!1}return void 0!==h&&(!(null===h&&!c.allowNull&&!c.writerEnsuresNonNull)&&(!(!(c.alwaysWriteDefaults||t.store.multipleOriginsSupported&&t.store.originOf(i)!==a.Gr.DEFAULTS)&&function(e,t,i,n,s){const o=n.default;if(void 0===o)return!1;if(null!=n.defaultEquals)return n.defaultEquals(s);if("function"==typeof o){if(Array.isArray(s)){const n=o.call(e,t,i??void 0);return(0,r.aI)(n,s)}return!1}return o===s}(e,i,u,l,h))&&!(!c.ignoreOrigin&&u?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(i)<(0,a.aB)(u.origin))))}function d(e,t,i,r){const n=(0,l.oY)(e),s=n.metadata,o=(0,c.k4)(s[t],r);return!!o&&h(e,n,t,o,i,r)}function p(e,t,i){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return(0,l.h1)(t,e.toJSON(i));const r=(0,l.oY)(e),n=r.metadata;for(const s in n){const d=(0,c.k4)(n[s],i);if(!h(e,r,s,d,void 0,i))continue;const p=(0,o.Jt)(e,s),f=u(e,d,d.write&&"string"==typeof d.write.target?d.write.target:s,p,i);Object.keys(f).length>0&&(t=(0,l.h1)(t,f),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then((()=>(0,l.h1)(t,f,(()=>"replace-arrays"))))),i?.writtenProperties&&i.writtenProperties.push({target:e,propName:s,oldOrigin:(0,a.in)(r.store.originOf(s)),newOrigin:i.origin}))}return t}},85569:(e,t,i)=>{"use strict";i.d(t,{$U:()=>a,Am:()=>c,BB:()=>w,FB:()=>l,He:()=>o,Ji:()=>s,MJ:()=>u,Mo:()=>b,Ru:()=>T,TF:()=>S,Xj:()=>p,Xy:()=>g,aI:()=>h,iv:()=>d,k4:()=>A,mW:()=>v,qh:()=>y,tR:()=>E,vW:()=>f});var r=i(73345),n=i(9272);const s=1.5,o=1/s,a=.5;function l(e,t){if(!t)return e;for(const i of t)e.push(i);return e}function c(e,t){return t?e.filter(((e,i,r)=>r.findIndex(t.bind(null,e))===i)):Array.from(new Set(e))}function u(e,t,i,r,n,s,o){if(null==e&&null==r)return!0;t=Math.max(0,t),n=Math.max(0,n),i=Math.max(0,i<0?(e?.length??0)+i:i),s=Math.max(0,s<0?(r?.length??0)+s:s);const a=i-t;if(null==e||null==r||a!==s-n)return!1;if(o){for(let l=0;l<a;l++)if(!o(e[t+l],r[n+l]))return!1}else for(let l=0;l<a;l++)if(e[t+l]!==r[n+l])return!1;return!0}function h(e,t,i){return u(e,0,e?.length??0,t,0,t?.length??0,i)}function d(e,t,i){let r,n;return i?(r=t.filter((t=>!e.some((e=>i(e,t))))),n=e.filter((e=>!t.some((t=>i(t,e)))))):(r=t.filter((t=>!e.includes(t))),n=e.filter((e=>!t.includes(e)))),{added:r,removed:n}}function p(e){return e&&"number"==typeof e.length}class f{constructor(){this.last=0}}const m=new f;function y(e,t,i,r){r=r||m;const n=Math.max(0,r.last-10);for(let o=n;o<i;++o)if(e[o]===t)return r.last=o,o;const s=Math.min(n,i);for(let o=0;o<s;++o)if(e[o]===t)return r.last=o,o;return-1}function g(e,t,i,n){const s=i??e.length,o=y(e,(0,r.zI)(t),s,n);if(-1!==o)return e[o]=e[s-1],null==i&&e.pop(),t}const _=new Set;function v(e,t,i=e.length,r=t.length,n,s){if(0===r||0===i)return i;_.clear();for(let a=0;a<r;++a)_.add(t[a]);n=n||m;const o=Math.max(0,n.last-10);for(let a=o;a<i;++a)if(_.has(e[a])&&(s?.push(e[a]),_.delete(e[a]),e[a]=e[i-1],--i,--a,0===_.size||0===i))return _.clear(),i;for(let a=0;a<o;++a)if(_.has(e[a])&&(s?.push(e[a]),_.delete(e[a]),e[a]=e[i-1],--i,--a,0===_.size||0===i))return _.clear(),i;return _.clear(),i}function w(e,t,i){const r=e.length;if(t>=r)return e.slice();const n=b(i),s=new Set,o=[];for(;o.length<t;){const t=Math.floor(n()*r);s.has(t)||(s.add(t),o.push(e[t]))}return o}function b(e){return e?(M.seed=e,()=>M.getFloat()):Math.random}const M=new n.A;function A(e,t){if(!e)return e;const i=b(t);for(let r=e.length-1;r>0;r--){const t=Math.floor(i()*(r+1)),n=e[r];e[r]=e[t],e[t]=n}return e}function S(e,t){const i=e.indexOf(t);return-1!==i?(e.splice(i,1),t):null}function T(e,t){return null!=e}const E=[]},12690:(e,t,i)=>{"use strict";i.d(t,{DZ:()=>f,Ke:()=>p,Tj:()=>u,UT:()=>m,jJ:()=>c});var r=i(66866),n=i(52495),s=i(6267),o=i(40189),a=i(21564),l=i(63863);function c(e,t,i){return(0,o.Lx)(e.map(((e,r)=>t.apply(i,[e,r]))))}async function u(e,t,i){return(await(0,o.Lx)(e.map(((e,r)=>t.apply(i,[e,r]))))).map((e=>e.value))}function h(e){return{ok:!0,value:e}}function d(e){return{ok:!1,error:e}}async function p(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return h(await e)}catch(t){return d(t)}}async function f(e){try{return h(await e)}catch(t){return(0,o.QP)(t),d(t)}}function m(e,t){return new y(e,t)}let y=class extends n.A{get value(){return function(e){return null!=e&&!0===e.ok?e.value:null}(this._result)}get error(){return function(e){return null!=e&&!1===e.ok?e.error:null}(this._result)}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=(0,s.DC)(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:i}=this._abortController;this.promise=e(i),this.promise.then((e=>{this._result=h(e),this._cleanup()}),(e=>{this._result=d(e),this._cleanup()})),this._abortHandle=(0,o.u7)(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=(0,s.xt)(this._abortHandle),this._abortController=null}};(0,r._)([(0,a.MZ)()],y.prototype,"value",null),(0,r._)([(0,a.MZ)()],y.prototype,"error",null),(0,r._)([(0,a.MZ)()],y.prototype,"finished",null),(0,r._)([(0,a.MZ)()],y.prototype,"promise",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"_result",void 0),y=(0,r._)([(0,l.$)("esri.core.asyncUtils.ReactiveTask")],y)},46577:(e,t,i)=>{"use strict";i.d(t,{p:()=>n});var r=i(20464);const n=function(e){return{setTimeout:(t,i)=>{const n=e.setTimeout(t,i);return(0,r.hA)((()=>e.clearTimeout(n)))}}}(globalThis)},4194:(e,t,i)=>{"use strict";i.d(t,{H:()=>s,V:()=>n});var r=i(48982);function n(e,t,i=r.A){return t||(t=new i),t===e||(t.removeAll(),function(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}(e)?t.addMany(e):e&&t.add(e)),t}function s(e){return e}},73345:(e,t,i)=>{"use strict";i.d(t,{GB:()=>n,Xb:()=>r,zI:()=>s});i(39831);function r(e){}function n(e){return()=>e}function s(e){return e}},50220:(e,t,i)=>{"use strict";i.d(t,{ED:()=>a,Lx:()=>h,ck:()=>d,eF:()=>p,eO:()=>u,io:()=>f,u6:()=>l,uW:()=>c});var r=i(39831);const n=new WeakMap;function s(e,t,i=!1){const r=`\ud83d\uded1 DEPRECATED - ${t}`;if(!i)return void e.warn(r);let s=n.get(e);s||(s=new Set,n.set(e,s)),s.has(t)||(s.add(t),e.warn(r))}const o="https://www.esriurl.com/";function a(e,t,i,n={}){(0,r.A)("esri-deprecation-warnings")&&f(e,`This widget is deprecated. Use the ${t} component instead.`,{see:[`${t} component reference: ${o}${i}/`,`Esri's move to web components: ${o}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...n})}function l(e,t,i,n={}){(0,r.A)("esri-deprecation-warnings")&&f(e,`This view model is deprecated. Use the ${t} component directly instead.`,{see:[`${t} component reference: ${o}${i}/`,`Esri's move to web components: ${o}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...n})}function c(e,t,i={}){(0,r.A)("esri-deprecation-warnings")&&f(e,`Module: ${t}`,i)}function u(e,t,i={}){if((0,r.A)("esri-deprecation-warnings")){const{moduleName:r}=i;f(e,"Function: "+((r?r+"::":"")+t+"()"),i)}}function h(e,t,i={}){if((0,r.A)("esri-deprecation-warnings")){const{moduleName:r}=i;f(e,"Property: "+((r?r+"::":"")+t),i)}}function d(e,t,i,n={}){if((0,r.A)("esri-deprecation-warnings")){const{moduleName:r}=n;f(e,`'${(r?r+"::":"")+t}' value: ${i}`,n)}}function p(e,t,i={}){(0,r.A)("esri-deprecation-warnings")&&f(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...i})}function f(e,t,i={}){if((0,r.A)("esri-deprecation-warnings")){const{replacement:r,version:n,see:o,warnOnce:a}=i;let l=t;if(r&&(l+=`\n\t\ud83d\udee0\ufe0f Replacement: ${r}`),n&&(l+=`\n\t\u2699\ufe0f Version: ${n}`),o)if(Array.isArray(o)){l+="\n\t\ud83d\udd17 See for more details:";for(const e of o)l+=`\n\t\t${e}`}else l+=`\n\t\ud83d\udd17 See ${o} for more details.`;s(e,l,a)}}},75290:(e,t,i)=>{"use strict";function r(e){return"string"==typeof e?document.getElementById(e):e??null}function n(e,t){for(;;){const i=e.firstChild;if(!i)break;t.appendChild(i)}}i.d(t,{$:()=>r,y:()=>n})},64874:(e,t,i)=>{"use strict";i.d(t,{Oo:()=>a,on:()=>o,wb:()=>n});var r=i(20464);function n(e){return function(e){return null!=e&&"object"==typeof e&&"on"in e&&"function"==typeof e.on}(e)||s(e)}function s(e){return null!=e&&"object"==typeof e&&"addEventListener"in e&&"function"==typeof e.addEventListener}function o(e,t,i){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");return s(e)?function(e,t,i,n){if(Array.isArray(t)){const s=t.slice();for(const t of s)e.addEventListener(t,i,n);return(0,r.hA)((()=>{for(const t of s)e.removeEventListener(t,i,n)}))}return e.addEventListener(t,i,n),(0,r.hA)((()=>e.removeEventListener(t,i,n)))}(e,t,i):e.on(t,i)}function a(e,t,i){if(!n(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,i);const r=o(e,t,(t=>{r.remove(),i.call(e,t)}));return r}},20464:(e,t,i)=>{"use strict";i.d(t,{Bf:()=>d,DQ:()=>u,a0:()=>s,a2:()=>l,ei:()=>o,hA:()=>n,rE:()=>c,vE:()=>a,wt:()=>h});const r={remove:()=>{}};function n(e){return e?{remove(){e&&(e(),e=void 0)}}:r}function s(e){e.forEach((e=>e?.remove()))}function o(e){s(e),e.length=0}function a(e){return n((()=>s(e)))}function l(e){return n((()=>e()?.remove()))}function c(e){return n((()=>e?.abort()))}function u(e){return n(null!=e?()=>e.destroy():void 0)}function h(e){(function(e){return"object"==typeof e&&!!e&&"remove"in e&&"function"==typeof e.remove})(e)&&e.remove()}function d(e){return{[Symbol.dispose](){e.remove()}}}},39831:(e,t,i)=>{"use strict";let r;function n(e){return"function"==typeof r[e]?r[e]=r[e](globalThis):r[e]}i.d(t,{A:()=>n}),r=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},n.add=(e,t,i,s)=>{(s||void 0===r[e])&&(r[e]=t),i&&n(e)},n.cache=r,n.add("big-integer-warning-enabled",!0),n.add("esri-deprecation-warnings",!0),n.add("esri-tests-disable-screenshots",!1),n.add("esri-tests-use-full-window",!1),n.add("esri-tests-post-to-influx",!0),n.add("esri-cim-animations-enable-status","enabled"),n.add("esri-cim-animations-spotlight",!1),n.add("esri-cim-animations-freeze-time",!1),(()=>{n.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(n.add("host-browser",e),n.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),n.add("dom",e),n("host-browser")){const e=navigator,t=e.userAgent,i=e.appVersion,r=parseFloat(i);if(n.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),n.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),n.add("khtml",i.includes("Konqueror")?r:void 0),n.add("edge",parseFloat(t.split("Edge/")[1])||void 0),n.add("opr",parseFloat(t.split("OPR/")[1])||void 0),n.add("webkit",!n("wp")&&!n("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),n.add("chrome",!n("edge")&&!n("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),n.add("android",!n("wp")&&parseFloat(t.split("Android ")[1])||void 0),n.add("safari",!i.includes("Safari")||n("wp")||n("chrome")||n("android")||n("edge")||n("opr")?void 0:parseFloat(i.split("Version/")[1])),n.add("mac",i.includes("Macintosh")),!n("wp")&&/(iPhone|iPod|iPad)/.test(t)){const e=RegExp.$1.replace(/P/,"p"),i=/OS ([\d_]+)/.test(t)?RegExp.$1:"1",r=parseFloat(i.replace(/_/,".").replaceAll("_",""));n.add(e,r),n.add("ios",r)}n("webkit")||(!t.includes("Gecko")||n("wp")||n("khtml")||n("edge")||n.add("mozilla",r),n("mozilla")&&n.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);t&&n.add("esri-mobile",t),i&&n.add("esri-iPhone",i),n.add("esri-geolocation",!!navigator.geolocation)}n.add("esri-wasm","WebAssembly"in globalThis),n.add("esri-performance-mode-frames-between-render",20),n.add("esri-force-performance-mode",!1),n.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),n.add("wasm-simd",(()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))),n.add("esri-atomics","Atomics"in globalThis),n.add("esri-workers","Worker"in globalThis),n.add("web-feat:cache","caches"in globalThis),n.add("esri-workers-arraybuffer-transfer",!n("safari")||Number(n("safari"))>=12),n.add("workers-pool-size",8),n.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),n.add("featurelayer-simplify-payload-size-factors",[1,1,4]),n.add("featurelayer-fast-triangulation-enabled",!0),n.add("featurelayer-animation-enabled",!0),n.add("featurelayer-snapshot-enabled",!0),n.add("featurelayer-snapshot-initial-tolerance",0),n.add("featurelayer-snapshot-point-min-threshold",8e4),n.add("featurelayer-snapshot-point-max-threshold",4e5),n.add("featurelayer-snapshot-multipoint-min-threshold",2e4),n.add("featurelayer-snapshot-multipoint-max-threshold",1e5),n.add("featurelayer-snapshot-polygon-min-threshold",1e3),n.add("featurelayer-snapshot-polygon-max-threshold",2e3),n.add("featurelayer-snapshot-polyline-min-threshold",1e3),n.add("featurelayer-snapshot-polyline-max-threshold",2e3),n.add("featurelayer-snapshot-max-vertex-count",25e4),n.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),n.add("featurelayer-snapshot-concurrency",4),n.add("featurelayer-snapshot-coverage",.1),n.add("featurelayer-query-max-depth",4),n.add("featurelayer-query-pausing-enabled",!1),n.add("featurelayer-query-tile-concurrency",4),n.add("featurelayer-query-tile-max-features",6e5),n.add("featurelayer-advanced-symbols",!1),n.add("featurelayer-pbf",!0),n.add("featurelayer-pbf-statistics",!1),n.add("feature-layers-workers",!0),n.add("feature-polyline-generalization-factor",1),n.add("mapview-transitions-duration",200),n.add("mapview-essential-goto-duration",200),n.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),n.add("mapserver-pbf-version-support",10.81),n.add("mapservice-popup-identify-max-tolerance",20),n.add("request-queue-concurrency-hosted",16),n.add("request-queue-concurrency-non-hosted",4),n.add("curve-densification-coarse-segments",128),n.add("curve-densification-max-segments",2e3),n.add("curve-densification-min-segments",3),n.add("curve-densification-pixel-deviation",.5),n.add("view-readyState-waiting-delay",1e3),n.add("gradient-depth-bias",.01),n.add("gradient-depth-epsilon",1e-8),n.add("enable-feature:esri-compress-textures",!0),n("host-webworker")||n("host-browser")&&(n.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),n.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{n.add("esri-image-decode",!0,!0,!0)})).catch((()=>{n.add("esri-image-decode",!1,!0,!0)}))}return!1})),n.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})()},25801:(e,t,i)=>{"use strict";i.d(t,{M5:()=>p,eV:()=>h,xR:()=>u});var r=i(86394),n=i(98849),s=i(40189),o=i(20909),a=i(23223);let l=null,c=!0;function u(e,t,i){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(c)try{return new ImageData(e,t)}catch(r){c=!1}return d(e,t,i)}function h(e,t,i,r){if(!t||!i)throw new Error("Cannot construct image data without dimensions");if(c)try{return new ImageData(e,t,i)}catch(l){c=!1}const n=d(t,i,r);return n.data.set(e,0),n}function d(e,t,i){return i||(l||(l=document.createElement("canvas"),l.width=1,l.height=1),i=l),i.getContext("2d").createImageData(e,t)}async function p(e,t){const{arrayBuffer:l,mediaType:u}=await async function(e,t){const i=(0,o.r$)(e);if(i?.isBase64)return{arrayBuffer:(0,a.M)(i.data),mediaType:i.mediaType};const n=await(0,r.A)(e,{responseType:"array-buffer",...t});return{arrayBuffer:n.data,mediaType:n.getHeader?.("Content-Type")??""}}(e,t),h="image/png"===u;if("image/gif"===u){const{isAnimatedGIF:e,parseGif:r}=await i.e(30647).then(i.bind(i,30647));if(e(l))return r(l,t)}if(h){const{isAnimatedPNG:e,parseApng:r}=await i.e(5835).then(i.bind(i,5835));if(e(l))return r(l,t)}return async function(e,t){const i=window.URL.createObjectURL(e);try{const{data:e}=await(0,r.A)(i,{...t,responseType:"image"});return e}catch(c){if(!(0,s.zf)(c))throw new n.A("invalid-image",`Could not fetch requested image at ${i}`);throw c}finally{window.URL.revokeObjectURL(i)}}(new Blob([l],{type:u}),t)}},20092:(e,t,i)=>{"use strict";function r(e){const t=[];return function*(){yield*t;for(const i of e)t.push(i),yield i}}function n(e,t){for(const i of e)if(null!=i&&t(i))return i}function s(e){return null!=e&&"function"==typeof e[Symbol.iterator]}i.d(t,{I6:()=>n,PP:()=>r,xZ:()=>s})},59851:(e,t,i)=>{"use strict";i.d(t,{J:()=>n,O:()=>o});var r=i(76724);class n{constructor(e,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=function(e){const t={};for(const i in e)t[e[i]]=i;return t}(e),this.apiValues=s(this._apiToJSON),this.jsonValues=s(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,i)=>{const n=this.toJSON(e);void 0!==n&&(0,r.sM)(i,n,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?null:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}}function s(e){const t=[];for(const i in e)t.push(i);return t.sort(),t}function o(){return function(e,t){return new n(e,{ignoreUnknown:!0,...t})}}},19251:(e,t,i)=>{"use strict";i.d(t,{Nb:()=>l,TU:()=>a,aI:()=>p,gh:()=>f,o8:()=>o,oy:()=>s});var r=i(85569),n=i(86942);function s(e,t){let i;if(t)for(i in e)e.hasOwnProperty(i)&&(void 0===e[i]?delete e[i]:e[i]instanceof Object&&s(e[i],!0));else for(i in e)e.hasOwnProperty(i)&&void 0===e[i]&&delete e[i];return e}function o(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=d(e);if(null!=t)return t;if(l(e))return e.clone();if(c(e))return e.map(o);if(u(e))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(e))i[r]=o(e[r]);return i}function a(e){if(!e||"object"!=typeof e||"function"==typeof e||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=d(e);if(null!=t)return t;if(c(e)){let t=!0;const i=e.map((e=>{const i=a(e);return null!=e&&null==i&&(t=!1),i}));return t?i:null}if(l(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(u(e))return null;const i=new(0,Object.getPrototypeOf(e).constructor);for(const r of Object.getOwnPropertyNames(e)){const t=e[r],n=a(t);if(null!=t&&null==n)return null;i[r]=n}return i}function l(e){return"function"==typeof e.clone}function c(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function u(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function h(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function d(e){if((0,n.dz)(e)||(0,n.mg)(e)||(0,n.UR)(e)||(0,n.IY)(e)||(0,n.jq)(e)||(0,n._G)(e)||(0,n.XJ)(e)||(0,n.vZ)(e)||(0,n.aI)(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[i,r]of e)t.set(i,o(r));return t}if(e instanceof Set){const t=new Set;for(const i of e)t.add(o(i));return t}return null}function p(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof e?.getTime&&"function"==typeof t?.getTime&&e.getTime()===t.getTime()||!1}function f(e,t){return e===t||(null==e||"string"==typeof e?e===t:"number"==typeof e?e===t||"number"==typeof t&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&(0,r.aI)(e,t):e instanceof Set?t instanceof Set&&function(e,t){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}(e,t):e instanceof Map?t instanceof Map&&function(e,t){if(e.size!==t.size)return!1;for(const[i,r]of e){const e=t.get(i);if(e!==r||void 0===e&&!t.has(i))return!1}return!0}(e,t):!!h(e)&&h(t)&&function(e,t){if(null===e||null===t)return!1;const i=Object.keys(e);if(null===t||Object.keys(t).length!==i.length)return!1;for(const r of i)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}(e,t))}},78835:(e,t,i)=>{"use strict";function r(){const e=new Float32Array(6);return e[0]=1,e[3]=1,e}function n(e,t,i,r){const n=t[r],s=t[r+1];e[r]=i[0]*n+i[2]*s+i[4],e[r+1]=i[1]*n+i[3]*s+i[5]}function s(e,t,i,r=0,s=0,o=2){const a=s||t.length/o;for(let l=r;l<a;l++)n(e,t,i,l*o)}i.d(t,{gb:()=>s,vt:()=>r});Object.freeze(Object.defineProperty({__proto__:null,clone:function(e){const t=new Float32Array(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},create:r,fromValues:function(e,t,i,r,n,s){const o=new Float32Array(6);return o[0]=e,o[1]=t,o[2]=i,o[3]=r,o[4]=n,o[5]=s,o},transform:n,transformMany:s},Symbol.toStringTag,{value:"Module"}))},50424:(e,t,i)=>{"use strict";function r(){return[1,0,0,1,0,0]}function n(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}i.d(t,{o8:()=>n,vt:()=>r,zK:()=>s});const s=[1,0,0,1,0,0];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:n,create:r,fromValues:function(e,t,i,r,n,s){return[e,t,i,r,n,s]}},Symbol.toStringTag,{value:"Module"}))},99776:(e,t,i)=>{"use strict";function r(){const e=new Float32Array(9);return e[0]=1,e[4]=1,e[8]=1,e}function n(e){const t=new Float32Array(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}i.d(t,{o8:()=>n,vt:()=>r});Object.freeze(Object.defineProperty({__proto__:null,clone:n,create:r,fromValues:function(e,t,i,r,n,s,o,a,l){const c=new Float32Array(9);return c[0]=e,c[1]=t,c[2]=i,c[3]=r,c[4]=n,c[5]=s,c[6]=o,c[7]=a,c[8]=l,c}},Symbol.toStringTag,{value:"Module"}))},17845:(e,t,i)=>{"use strict";function r(){return new Float32Array(2)}function n(e,t){const i=new Float32Array(2);return i[0]=e,i[1]=t,i}function s(){return r()}function o(){return n(1,1)}function a(){return n(1,0)}function l(){return n(0,1)}i.d(t,{Un:()=>u,fA:()=>n,uY:()=>c,vt:()=>r});const c=s(),u=o(),h=a(),d=l();Object.freeze(Object.defineProperty({__proto__:null,ONES:u,UNIT_X:h,UNIT_Y:d,ZEROS:c,clone:function(e){const t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t},create:r,fromValues:n,ones:o,unitX:a,unitY:l,zeros:s},Symbol.toStringTag,{value:"Module"}))},59646:(e,t,i)=>{"use strict";function r(){return[0,0]}function n(e){return[e[0],e[1]]}function s(e,t){return[e,t]}function o(e,t=[0,0]){const i=Math.min(2,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function a(){return[0,0]}function l(){return s(1,1)}function c(){return s(1,0)}function u(){return s(0,1)}i.d(t,{Cw:()=>p,JP:()=>f,Un:()=>d,ci:()=>o,fA:()=>s,o8:()=>n,uY:()=>h,vt:()=>r});const h=[0,0],d=l(),p=c(),f=u();Object.freeze(Object.defineProperty({__proto__:null,ONES:d,UNIT_X:p,UNIT_Y:f,ZEROS:h,clone:n,create:r,freeze:function(e,t){return[e,t]},fromArray:o,fromValues:s,ones:l,unitX:c,unitY:u,zeros:a},Symbol.toStringTag,{value:"Module"}))},58359:(e,t,i)=>{"use strict";function r(){return[0,0,0]}function n(e){return[e[0],e[1],e[2]]}function s(e,t,i){return[e,t,i]}function o(e,t,i){return[e,t,i]}function a(e,t=[0,0,0]){const i=Math.min(3,e.length);for(let r=0;r<i;++r)t[r]=e[r];return t}function l(){return[0,0,0]}function c(){return s(1,1,1)}function u(){return s(1,0,0)}function h(){return s(0,1,0)}function d(){return s(0,0,1)}i.d(t,{CN:()=>o,Cb:()=>g,Cw:()=>m,JP:()=>y,S:()=>c,Ul:()=>l,Un:()=>f,ci:()=>a,fA:()=>s,o8:()=>n,uY:()=>p,vt:()=>r});const p=[0,0,0],f=c(),m=u(),y=h(),g=d();Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:m,UNIT_Y:y,UNIT_Z:g,ZEROS:p,clone:n,create:r,freeze:o,fromArray:a,fromValues:s,ones:c,unitX:u,unitY:h,unitZ:d,zeros:l},Symbol.toStringTag,{value:"Module"}))},65257:(e,t,i)=>{"use strict";i.d(t,{DF:()=>l,FD:()=>n,Ov:()=>s,ct:()=>c});let r=1e-6;function n(){return r}const s=Math.random,o=Math.PI/180,a=180/Math.PI;function l(e){return e*o}function c(e){return e*a}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:s,equals:function(e,t){return Math.abs(e-t)<=r*Math.max(1,Math.abs(e),Math.abs(t))},getEpsilon:n,setEpsilon:function(e){r=e},toDegree:c,toRadian:l},Symbol.toStringTag,{value:"Module"}))},79190:(e,t,i)=>{"use strict";i.d(t,{$0:()=>h,B8:()=>o,CV:()=>d,D_:()=>n,Tl:()=>u,e$:()=>l,hZ:()=>s,hs:()=>c,kN:()=>p,lw:()=>a});var r=i(65257);function n(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function s(e,t,i,r,n,s,o){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=o,e}function o(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5];let l=i*s-r*n;return l?(l=1/l,e[0]=s*l,e[1]=-r*l,e[2]=-n*l,e[3]=i*l,e[4]=(n*a-s*o)*l,e[5]=(r*o-i*a)*l,e):null}function a(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=i[0],u=i[1],h=i[2],d=i[3],p=i[4],f=i[5];return e[0]=r*c+s*u,e[1]=n*c+o*u,e[2]=r*h+s*d,e[3]=n*h+o*d,e[4]=r*p+s*f+a,e[5]=n*p+o*f+l,e}function l(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=Math.sin(i),u=Math.cos(i);return e[0]=r*u+s*c,e[1]=n*u+o*c,e[2]=r*-c+s*u,e[3]=n*-c+o*u,e[4]=a,e[5]=l,e}function c(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=i[0],u=i[1];return e[0]=r*c,e[1]=n*c,e[2]=s*u,e[3]=o*u,e[4]=a,e[5]=l,e}function u(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=i[0],u=i[1];return e[0]=r,e[1]=n,e[2]=s,e[3]=o,e[4]=r*c+s*u+a,e[5]=n*c+o*u+l,e}function h(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=0,e[5]=0,e}function d(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function p(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function f(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e}const m=a,y=f;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},determinant:function(e){return e[0]*e[3]-e[1]*e[2]},equals:function(e,t){const i=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=t[0],u=t[1],h=t[2],d=t[3],p=t[4],f=t[5],m=(0,r.FD)();return Math.abs(i-c)<=m*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(n-u)<=m*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(s-h)<=m*Math.max(1,Math.abs(s),Math.abs(h))&&Math.abs(o-d)<=m*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-p)<=m*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(l-f)<=m*Math.max(1,Math.abs(l),Math.abs(f))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+1)},fromRotation:h,fromScaling:d,fromTranslation:p,identity:n,invert:o,mul:m,multiply:a,multiplyScalar:function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e},multiplyScalarAndAdd:function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e},rotate:l,scale:c,set:s,str:function(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"},sub:y,subtract:f,translate:u},Symbol.toStringTag,{value:"Module"}))},25423:(e,t,i)=>{"use strict";i.d(t,{$0:()=>g,B8:()=>l,D_:()=>o,Ge:()=>w,I0:()=>_,KC:()=>c,Oe:()=>m,Tl:()=>d,a4:()=>u,dR:()=>v,e$:()=>p,hZ:()=>s,hs:()=>f,kN:()=>y,lw:()=>h,mg:()=>a,z0:()=>n});var r=i(65257);function n(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function s(e,t,i,r,n,s,o,a,l,c){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function a(e,t){if(e===t){const i=t[1],r=t[2],n=t[5];e[1]=t[3],e[2]=t[6],e[3]=i,e[5]=t[7],e[6]=r,e[7]=n}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function l(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=u*o-a*c,d=-u*s+a*l,p=c*s-o*l;let f=i*h+r*d+n*p;return f?(f=1/f,e[0]=h*f,e[1]=(-u*r+n*c)*f,e[2]=(a*r-n*o)*f,e[3]=d*f,e[4]=(u*i-n*l)*f,e[5]=(-a*i+n*s)*f,e[6]=p*f,e[7]=(-c*i+r*l)*f,e[8]=(o*i-r*s)*f,e):null}function c(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e[0]=o*u-a*c,e[1]=n*c-r*u,e[2]=r*a-n*o,e[3]=a*l-s*u,e[4]=i*u-n*l,e[5]=n*s-i*a,e[6]=s*c-o*l,e[7]=r*l-i*c,e[8]=i*o-r*s,e}function u(e){const t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8];return t*(c*s-o*l)+i*(-c*n+o*a)+r*(l*n-s*a)}function h(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=i[0],p=i[1],f=i[2],m=i[3],y=i[4],g=i[5],_=i[6],v=i[7],w=i[8];return e[0]=d*r+p*o+f*c,e[1]=d*n+p*a+f*u,e[2]=d*s+p*l+f*h,e[3]=m*r+y*o+g*c,e[4]=m*n+y*a+g*u,e[5]=m*s+y*l+g*h,e[6]=_*r+v*o+w*c,e[7]=_*n+v*a+w*u,e[8]=_*s+v*l+w*h,e}function d(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=i[0],p=i[1];return e[0]=r,e[1]=n,e[2]=s,e[3]=o,e[4]=a,e[5]=l,e[6]=d*r+p*o+c,e[7]=d*n+p*a+u,e[8]=d*s+p*l+h,e}function p(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=Math.sin(i),p=Math.cos(i);return e[0]=p*r+d*o,e[1]=p*n+d*a,e[2]=p*s+d*l,e[3]=p*o-d*r,e[4]=p*a-d*n,e[5]=p*l-d*s,e[6]=c,e[7]=u,e[8]=h,e}function f(e,t,i){const r=i[0],n=i[1],s=i[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=s*t[6],e[7]=s*t[7],e[8]=s*t[8],e}function m(e,t,i){const r=i[0],n=i[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e}function y(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function g(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=-i,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function _(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=i+i,a=r+r,l=n+n,c=i*o,u=r*o,h=r*a,d=n*o,p=n*a,f=n*l,m=s*o,y=s*a,g=s*l;return e[0]=1-h-f,e[3]=u-g,e[6]=d+y,e[1]=u+g,e[4]=1-c-f,e[7]=p-m,e[2]=d-y,e[5]=p+m,e[8]=1-c-h,e}function v(e,t){const i=t[0],r=t[1],n=t[2],s=t[4],o=t[5],a=t[6],l=t[8],c=t[9],u=t[10],h=u*o-a*c,d=-u*s+a*l,p=c*s-o*l,f=i*h+r*d+n*p;if(!f)return null;const m=1/f;return e[0]=h*m,e[1]=(-u*r+n*c)*m,e[2]=(a*r-n*o)*m,e[3]=d*m,e[4]=(u*i-n*l)*m,e[5]=(-a*i+n*s)*m,e[6]=p*m,e[7]=(-c*i+r*l)*m,e[8]=(o*i-r*s)*m,e}function w(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15],_=i*a-r*o,v=i*l-n*o,w=i*c-s*o,b=r*l-n*a,M=r*c-s*a,A=n*c-s*l,S=u*m-h*f,T=u*y-d*f,E=u*g-p*f,x=h*y-d*m,P=h*g-p*m,C=d*g-p*y;let I=_*C-v*P+w*x+b*E-M*T+A*S;return I?(I=1/I,e[0]=(a*C-l*P+c*x)*I,e[1]=(l*E-o*C-c*T)*I,e[2]=(o*P-a*E+c*S)*I,e[3]=(n*P-r*C-s*x)*I,e[4]=(i*C-n*E+s*T)*I,e[5]=(r*E-i*P-s*S)*I,e[6]=(m*A-y*M+g*b)*I,e[7]=(y*w-f*A-g*v)*I,e[8]=(f*M-m*w+g*_)*I,e):null}function b(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e}const M=h,A=b;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e},adjoint:c,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},determinant:u,equals:function(e,t){const i=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=t[0],p=t[1],f=t[2],m=t[3],y=t[4],g=t[5],_=t[6],v=t[7],w=t[8],b=(0,r.FD)();return Math.abs(i-d)<=b*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(n-p)<=b*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(s-f)<=b*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-m)<=b*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-y)<=b*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(l-g)<=b*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(c-_)<=b*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(u-v)<=b*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(h-w)<=b*Math.max(1,Math.abs(h),Math.abs(w))},exactEquals:function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)},fromMat2d:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e},fromMat4:n,fromQuat:_,fromRotation:g,fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},fromTranslation:y,identity:o,invert:l,isOrthoNormal:function(e){const t=(0,r.FD)(),i=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8];return Math.abs(1-(i*i+o*o+c*c))<=t&&Math.abs(1-(n*n+a*a+u*u))<=t&&Math.abs(1-(s*s+l*l+h*h))<=t},mul:M,multiply:h,multiplyScalar:function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e},multiplyScalarAndAdd:function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e},normalFromMat4:w,normalFromMat4Legacy:v,projection:function(e,t,i){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/i,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e},rotate:p,scale:f,scaleByVec2:m,set:s,str:function(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"},sub:A,subtract:b,translate:d,transpose:a},Symbol.toStringTag,{value:"Module"}))},21742:(e,t,i)=>{"use strict";i.d(t,{$0:()=>w,$h:()=>O,B8:()=>u,C:()=>s,CV:()=>v,D_:()=>a,I0:()=>I,N9:()=>M,O7:()=>C,Qr:()=>g,Qw:()=>c,Tl:()=>d,X_:()=>E,Z8:()=>y,aI:()=>D,e$:()=>f,eL:()=>m,hM:()=>b,hZ:()=>o,hs:()=>p,kN:()=>_,l:()=>x,lw:()=>h,mg:()=>l,o1:()=>P,sC:()=>T,t2:()=>L,t5:()=>N,tZ:()=>F,ut:()=>Z,v3:()=>R});var r=i(58359),n=i(65257);function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(e,t,i,r,n,s,o,a,l,c,u,h,d,p,f,m,y){return e[0]=t,e[1]=i,e[2]=r,e[3]=n,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e[9]=u,e[10]=h,e[11]=d,e[12]=p,e[13]=f,e[14]=m,e[15]=y,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){const i=t[1],r=t[2],n=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=i,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=s,e[11]=t[14],e[12]=n,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function c(e,t){return u(e,t)||a(e),e}function u(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15],_=i*a-r*o,v=i*l-n*o,w=i*c-s*o,b=r*l-n*a,M=r*c-s*a,A=n*c-s*l,S=u*m-h*f,T=u*y-d*f,E=u*g-p*f,x=h*y-d*m,P=h*g-p*m,C=d*g-p*y;let I=_*C-v*P+w*x+b*E-M*T+A*S;return I?(I=1/I,e[0]=(a*C-l*P+c*x)*I,e[1]=(n*P-r*C-s*x)*I,e[2]=(m*A-y*M+g*b)*I,e[3]=(d*M-h*A-p*b)*I,e[4]=(l*E-o*C-c*T)*I,e[5]=(i*C-n*E+s*T)*I,e[6]=(y*w-f*A-g*v)*I,e[7]=(u*A-d*w+p*v)*I,e[8]=(o*P-a*E+c*S)*I,e[9]=(r*E-i*P-s*S)*I,e[10]=(f*M-m*w+g*_)*I,e[11]=(h*w-u*M-p*_)*I,e[12]=(a*T-o*x-l*S)*I,e[13]=(i*x-r*T+n*S)*I,e[14]=(m*v-f*b-y*_)*I,e[15]=(u*b-h*v+d*_)*I,e):null}function h(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],y=t[13],g=t[14],_=t[15];let v=i[0],w=i[1],b=i[2],M=i[3];return e[0]=v*r+w*a+b*h+M*m,e[1]=v*n+w*l+b*d+M*y,e[2]=v*s+w*c+b*p+M*g,e[3]=v*o+w*u+b*f+M*_,v=i[4],w=i[5],b=i[6],M=i[7],e[4]=v*r+w*a+b*h+M*m,e[5]=v*n+w*l+b*d+M*y,e[6]=v*s+w*c+b*p+M*g,e[7]=v*o+w*u+b*f+M*_,v=i[8],w=i[9],b=i[10],M=i[11],e[8]=v*r+w*a+b*h+M*m,e[9]=v*n+w*l+b*d+M*y,e[10]=v*s+w*c+b*p+M*g,e[11]=v*o+w*u+b*f+M*_,v=i[12],w=i[13],b=i[14],M=i[15],e[12]=v*r+w*a+b*h+M*m,e[13]=v*n+w*l+b*d+M*y,e[14]=v*s+w*c+b*p+M*g,e[15]=v*o+w*u+b*f+M*_,e}function d(e,t,i){const r=i[0],n=i[1],s=i[2];if(t===e)e[12]=t[0]*r+t[4]*n+t[8]*s+t[12],e[13]=t[1]*r+t[5]*n+t[9]*s+t[13],e[14]=t[2]*r+t[6]*n+t[10]*s+t[14],e[15]=t[3]*r+t[7]*n+t[11]*s+t[15];else{const i=t[0],o=t[1],a=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7],p=t[8],f=t[9],m=t[10],y=t[11];e[0]=i,e[1]=o,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=h,e[7]=d,e[8]=p,e[9]=f,e[10]=m,e[11]=y,e[12]=i*r+c*n+p*s+t[12],e[13]=o*r+u*n+f*s+t[13],e[14]=a*r+h*n+m*s+t[14],e[15]=l*r+d*n+y*s+t[15]}return e}function p(e,t,i){const r=i[0],n=i[1],s=i[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function f(e,t,i,r){let o=r[0],a=r[1],l=r[2],c=Math.sqrt(o*o+a*a+l*l);if(c<=(0,n.FD)())return void s(e,t);c=1/c,o*=c,a*=c,l*=c;const u=Math.sin(i),h=Math.cos(i),d=1-h,p=t[0],f=t[1],m=t[2],y=t[3],g=t[4],_=t[5],v=t[6],w=t[7],b=t[8],M=t[9],A=t[10],S=t[11],T=o*o*d+h,E=a*o*d+l*u,x=l*o*d-a*u,P=o*a*d-l*u,C=a*a*d+h,I=l*a*d+o*u,O=o*l*d+a*u,R=a*l*d-o*u,N=l*l*d+h;e[0]=p*T+g*E+b*x,e[1]=f*T+_*E+M*x,e[2]=m*T+v*E+A*x,e[3]=y*T+w*E+S*x,e[4]=p*P+g*C+b*I,e[5]=f*P+_*C+M*I,e[6]=m*P+v*C+A*I,e[7]=y*P+w*C+S*I,e[8]=p*O+g*R+b*N,e[9]=f*O+_*R+M*N,e[10]=m*O+v*R+A*N,e[11]=y*O+w*R+S*N,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15])}function m(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*n+c*r,e[5]=o*n+u*r,e[6]=a*n+h*r,e[7]=l*n+d*r,e[8]=c*n-s*r,e[9]=u*n-o*r,e[10]=h*n-a*r,e[11]=d*n-l*r,e}function y(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[0],o=t[1],a=t[2],l=t[3],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n-c*r,e[1]=o*n-u*r,e[2]=a*n-h*r,e[3]=l*n-d*r,e[8]=s*r+c*n,e[9]=o*r+u*n,e[10]=a*r+h*n,e[11]=l*r+d*n,e}function g(e,t,i){const r=Math.sin(i),n=Math.cos(i),s=t[0],o=t[1],a=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n+c*r,e[1]=o*n+u*r,e[2]=a*n+h*r,e[3]=l*n+d*r,e[4]=c*n-s*r,e[5]=u*n-o*r,e[6]=h*n-a*r,e[7]=d*n-l*r,e}function _(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function v(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(e,t,i){if(0===t)return a(e);let r=i[0],s=i[1],o=i[2],l=Math.sqrt(r*r+s*s+o*o);if(l<=(0,n.FD)())return null;l=1/l,r*=l,s*=l,o*=l;const c=Math.sin(t),u=Math.cos(t),h=1-u;return e[0]=r*r*h+u,e[1]=s*r*h+o*c,e[2]=o*r*h-s*c,e[3]=0,e[4]=r*s*h-o*c,e[5]=s*s*h+u,e[6]=o*s*h+r*c,e[7]=0,e[8]=r*o*h+s*c,e[9]=s*o*h-r*c,e[10]=o*o*h+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function b(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=i,e[7]=0,e[8]=0,e[9]=-i,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=i,e[2]=0,e[3]=0,e[4]=-i,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function A(e,t,i){const r=t[0],n=t[1],s=t[2],o=t[3],a=r+r,l=n+n,c=s+s,u=r*a,h=r*l,d=r*c,p=n*l,f=n*c,m=s*c,y=o*a,g=o*l,_=o*c;return e[0]=1-(p+m),e[1]=h+_,e[2]=d-g,e[3]=0,e[4]=h-_,e[5]=1-(u+m),e[6]=f+y,e[7]=0,e[8]=d+g,e[9]=f-y,e[10]=1-(u+p),e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}const S=(0,r.vt)();function T(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function E(e,t){const i=t[0],r=t[1],n=t[2],s=t[4],o=t[5],a=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.sqrt(i*i+r*r+n*n),e[1]=Math.sqrt(s*s+o*o+a*a),e[2]=Math.sqrt(l*l+c*c+u*u),e}function x(e,t){const i=t[0]+t[5]+t[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function P(e,t,i,r){const n=t[0],s=t[1],o=t[2],a=t[3],l=n+n,c=s+s,u=o+o,h=n*l,d=n*c,p=n*u,f=s*c,m=s*u,y=o*u,g=a*l,_=a*c,v=a*u,w=r[0],b=r[1],M=r[2];return e[0]=(1-(f+y))*w,e[1]=(d+v)*w,e[2]=(p-_)*w,e[3]=0,e[4]=(d-v)*b,e[5]=(1-(h+y))*b,e[6]=(m+g)*b,e[7]=0,e[8]=(p+_)*M,e[9]=(m-g)*M,e[10]=(1-(h+f))*M,e[11]=0,e[12]=i[0],e[13]=i[1],e[14]=i[2],e[15]=1,e}function C(e,t,i,r,n){const s=t[0],o=t[1],a=t[2],l=t[3],c=s+s,u=o+o,h=a+a,d=s*c,p=s*u,f=s*h,m=o*u,y=o*h,g=a*h,_=l*c,v=l*u,w=l*h,b=r[0],M=r[1],A=r[2],S=n[0],T=n[1],E=n[2],x=(1-(m+g))*b,P=(p+w)*b,C=(f-v)*b,I=(p-w)*M,O=(1-(d+g))*M,R=(y+_)*M,N=(f+v)*A,k=(y-_)*A,L=(1-(d+m))*A;return e[0]=x,e[1]=P,e[2]=C,e[3]=0,e[4]=I,e[5]=O,e[6]=R,e[7]=0,e[8]=N,e[9]=k,e[10]=L,e[11]=0,e[12]=i[0]+S-(x*S+I*T+N*E),e[13]=i[1]+T-(P*S+O*T+k*E),e[14]=i[2]+E-(C*S+R*T+L*E),e[15]=1,e}function I(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=i+i,a=r+r,l=n+n,c=i*o,u=r*o,h=r*a,d=n*o,p=n*a,f=n*l,m=s*o,y=s*a,g=s*l;return e[0]=1-h-f,e[1]=u+g,e[2]=d-y,e[3]=0,e[4]=u-g,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=d+y,e[9]=p-m,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,t,i,r,n,s,o){const a=1/(i-t),l=1/(n-r),c=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(i+t)*a,e[9]=(n+r)*l,e[10]=(o+s)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*c,e[15]=0,e}function R(e,t,i,r,n,s,o){const a=1/(t-i),l=1/(r-n),c=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+i)*a,e[13]=(n+r)*l,e[14]=(o+s)*c,e[15]=1,e}function N(e,t,i,r){const s=t[0],o=t[1],l=t[2];let c=s-i[0],u=o-i[1],h=l-i[2];const d=(0,n.FD)();if(Math.abs(c)<d&&Math.abs(u)<d&&Math.abs(h)<d)return void a(e);let p=1/Math.sqrt(c*c+u*u+h*h);c*=p,u*=p,h*=p;const f=r[0],m=r[1],y=r[2];let g=m*h-y*u,_=y*c-f*h,v=f*u-m*c;p=Math.sqrt(g*g+_*_+v*v),p?(p=1/p,g*=p,_*=p,v*=p):(g=0,_=0,v=0);let w=u*v-h*_,b=h*g-c*v,M=c*_-u*g;p=Math.sqrt(w*w+b*b+M*M),p?(p=1/p,w*=p,b*=p,M*=p):(w=0,b=0,M=0),e[0]=g,e[1]=w,e[2]=c,e[3]=0,e[4]=_,e[5]=b,e[6]=u,e[7]=0,e[8]=v,e[9]=M,e[10]=h,e[11]=0,e[12]=-(g*s+_*o+v*l),e[13]=-(w*s+b*o+M*l),e[14]=-(c*s+u*o+h*l),e[15]=1}function k(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e[2]=t[2]-i[2],e[3]=t[3]-i[3],e[4]=t[4]-i[4],e[5]=t[5]-i[5],e[6]=t[6]-i[6],e[7]=t[7]-i[7],e[8]=t[8]-i[8],e[9]=t[9]-i[9],e[10]=t[10]-i[10],e[11]=t[11]-i[11],e[12]=t[12]-i[12],e[13]=t[13]-i[13],e[14]=t[14]-i[14],e[15]=t[15]-i[15],e}function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function D(e,t){if(e===t)return!0;const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],y=e[13],g=e[14],_=e[15],v=t[0],w=t[1],b=t[2],M=t[3],A=t[4],S=t[5],T=t[6],E=t[7],x=t[8],P=t[9],C=t[10],I=t[11],O=t[12],R=t[13],N=t[14],k=t[15],L=(0,n.FD)();return Math.abs(i-v)<=L*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(r-w)<=L*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(s-b)<=L*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(o-M)<=L*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(a-A)<=L*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(l-S)<=L*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-T)<=L*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-E)<=L*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(h-x)<=L*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(d-P)<=L*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(p-C)<=L*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(f-I)<=L*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(m-O)<=L*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(y-R)<=L*Math.max(1,Math.abs(y),Math.abs(R))&&Math.abs(g-N)<=L*Math.max(1,Math.abs(g),Math.abs(N))&&Math.abs(_-k)<=L*Math.max(1,Math.abs(_),Math.abs(k))}function Z(e){const t=(0,n.FD)(),i=e[0],r=e[1],s=e[2],o=e[4],a=e[5],l=e[6],c=e[8],u=e[9],h=e[10];return Math.abs(1-(i*i+o*o+c*c))<=t&&Math.abs(1-(r*r+a*a+u*u))<=t&&Math.abs(1-(s*s+l*l+h*h))<=t}function F(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}const U=h,j=k;Object.freeze(Object.defineProperty({__proto__:null,add:function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e[2]=t[2]+i[2],e[3]=t[3]+i[3],e[4]=t[4]+i[4],e[5]=t[5]+i[5],e[6]=t[6]+i[6],e[7]=t[7]+i[7],e[8]=t[8]+i[8],e[9]=t[9]+i[9],e[10]=t[10]+i[10],e[11]=t[11]+i[11],e[12]=t[12]+i[12],e[13]=t[13]+i[13],e[14]=t[14]+i[14],e[15]=t[15]+i[15],e},adjoint:function(e,t){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],y=t[14],g=t[15];return e[0]=a*(d*g-p*y)-h*(l*g-c*y)+m*(l*p-c*d),e[1]=-(r*(d*g-p*y)-h*(n*g-s*y)+m*(n*p-s*d)),e[2]=r*(l*g-c*y)-a*(n*g-s*y)+m*(n*c-s*l),e[3]=-(r*(l*p-c*d)-a*(n*p-s*d)+h*(n*c-s*l)),e[4]=-(o*(d*g-p*y)-u*(l*g-c*y)+f*(l*p-c*d)),e[5]=i*(d*g-p*y)-u*(n*g-s*y)+f*(n*p-s*d),e[6]=-(i*(l*g-c*y)-o*(n*g-s*y)+f*(n*c-s*l)),e[7]=i*(l*p-c*d)-o*(n*p-s*d)+u*(n*c-s*l),e[8]=o*(h*g-p*m)-u*(a*g-c*m)+f*(a*p-c*h),e[9]=-(i*(h*g-p*m)-u*(r*g-s*m)+f*(r*p-s*h)),e[10]=i*(a*g-c*m)-o*(r*g-s*m)+f*(r*c-s*a),e[11]=-(i*(a*p-c*h)-o*(r*p-s*h)+u*(r*c-s*a)),e[12]=-(o*(h*y-d*m)-u*(a*y-l*m)+f*(a*d-l*h)),e[13]=i*(h*y-d*m)-u*(r*y-n*m)+f*(r*d-n*h),e[14]=-(i*(a*y-l*m)-o*(r*y-n*m)+f*(r*l-n*a)),e[15]=i*(a*d-l*h)-o*(r*d-n*h)+u*(r*l-n*a),e},copy:s,determinant:function(e){const t=e[0],i=e[1],r=e[2],n=e[3],s=e[4],o=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],y=e[15];return(t*o-i*s)*(h*y-d*m)-(t*a-r*s)*(u*y-d*f)+(t*l-n*s)*(u*m-h*f)+(i*a-r*o)*(c*y-d*p)-(i*l-n*o)*(c*m-h*p)+(r*l-n*a)*(c*f-u*p)},equals:D,exactEquals:L,frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},fromQuat:I,fromQuat2:function(e,t){const i=S,r=-t[0],n=-t[1],s=-t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],h=r*r+n*n+s*s+o*o;return h>0?(i[0]=2*(a*o+u*r+l*s-c*n)/h,i[1]=2*(l*o+u*n+c*r-a*s)/h,i[2]=2*(c*o+u*s+a*n-l*r)/h):(i[0]=2*(a*o+u*r+l*s-c*n),i[1]=2*(l*o+u*n+c*r-a*s),i[2]=2*(c*o+u*s+a*n-l*r)),A(e,t,i),e},fromRotation:w,fromRotationTranslation:A,fromRotationTranslationScale:P,fromRotationTranslationScaleOrigin:C,fromScaling:v,fromTranslation:_,fromXRotation:b,fromYRotation:function(e,t){const i=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-i,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=i,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:M,frustum:O,getRotation:x,getScale:E,getTranslation:T,hasIdentityRotation:F,identity:a,invert:u,invertOrIdentity:c,isOrthoNormal:Z,lookAt:N,mul:U,multiply:h,multiplyScalar:function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12]*i,e[13]=t[13]*i,e[14]=t[14]*i,e[15]=t[15]*i,e},multiplyScalarAndAdd:function(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r,e[3]=t[3]+i[3]*r,e[4]=t[4]+i[4]*r,e[5]=t[5]+i[5]*r,e[6]=t[6]+i[6]*r,e[7]=t[7]+i[7]*r,e[8]=t[8]+i[8]*r,e[9]=t[9]+i[9]*r,e[10]=t[10]+i[10]*r,e[11]=t[11]+i[11]*r,e[12]=t[12]+i[12]*r,e[13]=t[13]+i[13]*r,e[14]=t[14]+i[14]*r,e[15]=t[15]+i[15]*r,e},ortho:R,perspective:function(e,t,i,r,n){const s=1/Math.tan(t/2);let o;return e[0]=s/i,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(o=1/(r-n),e[10]=(n+r)*o,e[14]=2*n*r*o):(e[10]=-1,e[14]=-2*r),e},perspectiveFromFieldOfView:function(e,t,i,r){const n=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),c=2/(n+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(o-a)*l*.5,e[9]=(n-s)*c*.5,e[10]=r/(i-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*i/(i-r),e[15]=0,e},rotate:f,rotateX:m,rotateY:y,rotateZ:g,scale:p,set:o,str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},sub:j,subtract:k,targetTo:function(e,t,i,r){const n=t[0],s=t[1],o=t[2],a=r[0],l=r[1],c=r[2];let u=n-i[0],h=s-i[1],d=o-i[2],p=u*u+h*h+d*d;p>0&&(p=1/Math.sqrt(p),u*=p,h*=p,d*=p);let f=l*d-c*h,m=c*u-a*d,y=a*h-l*u;return p=f*f+m*m+y*y,p>0&&(p=1/Math.sqrt(p),f*=p,m*=p,y*=p),e[0]=f,e[1]=m,e[2]=y,e[3]=0,e[4]=h*y-d*m,e[5]=d*f-u*y,e[6]=u*m-h*f,e[7]=0,e[8]=u,e[9]=h,e[10]=d,e[11]=0,e[12]=n,e[13]=s,e[14]=o,e[15]=1,e},translate:d,transpose:l},Symbol.toStringTag,{value:"Module"}))},60704:(e,t,i)=>{"use strict";i.d(t,{$A:()=>b,Bw:()=>y,C:()=>n,Cc:()=>M,Io:()=>f,Ln:()=>p,Om:()=>w,Re:()=>a,S8:()=>v,T9:()=>h,Vj:()=>C,WQ:()=>o,ZF:()=>A,aI:()=>P,e$:()=>T,g7:()=>E,hG:()=>m,hZ:()=>s,hs:()=>d,jb:()=>O,jk:()=>u,l0:()=>S,m3:()=>g,t2:()=>x,xg:()=>k,ze:()=>_});var r=i(65257);function n(e,t){return e[0]=t[0],e[1]=t[1],e}function s(e,t,i){return e[0]=t,e[1]=i,e}function o(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function a(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function l(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function c(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function u(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function h(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function d(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function p(e,t,i,r){return e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e}function f(e,t){const i=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(i*i+r*r)}function m(e,t){const i=t[0]-e[0],r=t[1]-e[1];return i*i+r*r}function y(e){const t=e[0],i=e[1];return Math.sqrt(t*t+i*i)}function g(e){const t=e[0],i=e[1];return t*t+i*i}function _(e,t){return e[0]=-t[0],e[1]=-t[1],e}function v(e,t){const i=t[0],r=t[1];let n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),e[0]=t[0]*n,e[1]=t[1]*n),e}function w(e,t){return e[0]*t[0]+e[1]*t[1]}function b(e,t,i){const r=t[0]*i[1]-t[1]*i[0];return e[0]=e[1]=0,e[2]=r,e}function M(e,t,i,r){const n=t[0],s=t[1];return e[0]=n+r*(i[0]-n),e[1]=s+r*(i[1]-s),e}function A(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n,e[1]=i[1]*r+i[3]*n,e}function S(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[2]*n+i[4],e[1]=i[1]*r+i[3]*n+i[5],e}function T(e,t,i,r){const n=t[0]-i[0],s=t[1]-i[1],o=Math.sin(r),a=Math.cos(r);return e[0]=n*a-s*o+i[0],e[1]=n*o+s*a+i[1],e}function E(e,t){const i=e[0],r=e[1],n=t[0],s=t[1];let o=i*i+r*r;o>0&&(o=1/Math.sqrt(o));let a=n*n+s*s;a>0&&(a=1/Math.sqrt(a));const l=(i*n+r*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function x(e,t){return e[0]===t[0]&&e[1]===t[1]}function P(e,t){const i=e[0],n=e[1],s=t[0],o=t[1],a=(0,r.FD)();return Math.abs(i-s)<=a*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-o)<=a*Math.max(1,Math.abs(n),Math.abs(o))}function C(e,t,i,r,n){let s=t[0]-i[0],o=t[1]-i[1];const a=(r[0]*s+r[1]*o)*(n-1);return s=r[0]*a,o=r[1]*a,e[0]=t[0]+s,e[1]=t[1]+o,e}const I=y,O=a,R=l,N=c,k=f,L=m,D=g;Object.freeze(Object.defineProperty({__proto__:null,add:o,angle:E,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e},copy:n,cross:b,dist:k,distance:f,div:N,divide:c,dot:w,equals:P,exactEquals:x,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e},len:I,length:y,lerp:M,max:h,min:u,mul:R,multiply:l,negate:_,normalize:v,projectAndScale:C,random:function(e,t=1){const i=2*(0,r.Ov)()*Math.PI;return e[0]=Math.cos(i)*t,e[1]=Math.sin(i)*t,e},rotate:T,round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e},scale:d,scaleAndAdd:p,set:s,sqrDist:L,sqrLen:D,squaredDistance:m,squaredLength:g,str:function(e){return"vec2("+e[0]+", "+e[1]+")"},sub:O,subtract:a,transformMat2:A,transformMat2d:S,transformMat3:function(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[3]*n+i[6],e[1]=i[1]*r+i[4]*n+i[7],e},transformMat4:function(e,t,i){const r=t[0],n=t[1];return e[0]=i[0]*r+i[4]*n+i[12],e[1]=i[1]*r+i[5]*n+i[13],e}},Symbol.toStringTag,{value:"Module"}))},6412:(e,t,i)=>{"use strict";i.d(t,{L:()=>a,g:()=>o});var r=i(12690),n=i(48982),s=i(45307);async function o(e,t){return await e.load(),a(e,t)}async function a(e,t){const i=[],o=(...e)=>{for(const t of e)null!=t&&(Array.isArray(t)?o(...t):n.A.isCollection(t)?t.forEach((e=>o(e))):s.A.isLoadable(t)&&i.push(t))};t(o);let a=null;if(await(0,r.Tj)(i,(async e=>{const t=await(0,r.Ke)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load());!1!==t.ok||a||(a=t)})),a)throw a.error;return e}},92504:(e,t,i)=>{"use strict";i.d(t,{$8:()=>T,Cc:()=>a,Hx:()=>g,Io:()=>A,J_:()=>h,KJ:()=>u,OS:()=>P,Sp:()=>f,XM:()=>d,YN:()=>p,ZH:()=>y,b6:()=>S,cU:()=>n,gg:()=>m,hs:()=>l,kU:()=>c,or:()=>x,pF:()=>I,pq:()=>C,qE:()=>s,yR:()=>o});const r=new Float32Array(1);function n(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function s(e,t,i){return Math.min(Math.max(e,t),i)}function o(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function a(e,t,i){return e+(t-e)*i}function l(e,t,i,r,n){return a(r,n,(e-t)/(i-t))}function c(e){return e*Math.PI/180}function u(e){return 180*e/Math.PI}function h(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)}function d(e){return Math.acos(s(e,-1,1))}function p(e){return Math.asin(s(e,-1,1))}function f(e,t,i=1e-6){return e===t||!(!Number.isFinite(e)||!Number.isFinite(t))&&(e>t?e-t:t-e)<=i}function m(e,t,i=1e-6){return!f(e,t,i)&&e>t}function y(e,t,i=1e-6){return!f(e,t,i)&&e<t}function g(e,t,i=1e-6){return f(e,t,i)||e>t}const _=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function v(e){return _.setFloat64(0,e),_.getBigInt64(0)}const w=BigInt("1000000"),b=M(1);function M(e){const t=v(e=Math.abs(e)),i=function(e){return _.setBigInt64(0,e),_.getFloat64(0)}(t<=w?w:t-w);return Math.abs(e-i)}function A(e,t,i=b){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(null!=i&&M(Math.min(Math.abs(e),Math.abs(t)))<i)return Math.abs(e-t)<=i;const r=v(e),n=v(t);return r<0==n<0&&!((r<n?n-r:r-n)>w)}function S(e,t,i=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const r=Math.abs(e-t),n=Math.abs(e),s=Math.abs(t);if(0===e||0===t||n<1e-12&&s<1e-12){if(r>.01*i)return!1}else if(r/(n+s)>i)return!1;return!0}function T(e){return E(Math.max(-C,Math.min(e,C)))}function E(e){return r[0]=e,r[0]}function x(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],r=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(f(t,1)&&f(i,1)&&f(r,1))}function P(e,t){return(e%t+t)%t}const C=E(34028234663852886e22);function I(e,t,i){if(void 0===i||0==+i)return Math[e](t);if(t=+t,i=+i,isNaN(t)||"number"!=typeof i||i%1!=0)return NaN;let r=t.toString().split("e");return r=(t=Math[e](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}},6267:(e,t,i)=>{"use strict";function r(e,t){if(null==e)throw new Error(t??"value is None")}function n(e){return e?.destroy(),null}function s(e){return e?.dispose(),null}function o(e){return e?.remove(),null}function a(e){return e?.abort(),null}function l(e){return e?.release(),null}function c(e,t,i){return null!=e&&null!=t?null!=i?i(e,t):e.equals(t):e===t}function u(e,t){let i;return e.some(((e,r)=>(i=t(e,r),null!=i))),i??void 0}i.d(t,{CM:()=>c,DC:()=>a,Gz:()=>l,Lw:()=>r,Pb:()=>u,WD:()=>s,pR:()=>n,xt:()=>o})},55750:(e,t,i)=>{"use strict";function r(e){return e&&"getAtOrigin"in e&&"originOf"in e}i.d(t,{H:()=>r})},37103:(e,t,i)=>{"use strict";i.d(t,{d:()=>n});const r=[];function n(e){r.push(e),1===r.length&&queueMicrotask((()=>{const e=r.slice();r.length=0;for(const t of e)t()}))}},76724:(e,t,i)=>{"use strict";i.d(t,{$N:()=>n,i8:()=>a,sM:()=>o,wc:()=>s});var r=i(19251);function n(e,t,i=!1){return c(e,t,i)}function s(e,t){if(null!=t)return t[e]||l(e.split("."),!1,t)}function o(e,t,i){const r=e.split("."),n=r.pop(),s=l(r,!0,i);s&&n&&(s[n]=t)}function a(e,t){if(null==e&&null==t)return!1;if(null==e)return!0;if(null==t)return!0;if("object"==typeof e){if(Array.isArray(e)){const i=t;if(e.length!==i.length)return!0;for(let t=0;t<e.length;t++)if(a(e[t],i[t]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in e)if(a(e[i],t[i]))return!0;return!1}return e!==t}function l(e,t,i){let r=i;for(const n of e){if(null==r)return;if(!(n in r)){if(!t)return;r[n]={}}r=r[n]}return r}function c(e,t,i){return t?Object.keys(t).reduce(((e,n)=>{if("__proto__"===n)return e;let s=e[n],o=t[n];return s===o?e:void 0===s?(e[n]=(0,r.o8)(o),e):(Array.isArray(o)||Array.isArray(e)?(s=s?Array.isArray(s)?e[n]=s.slice():e[n]=[s]:e[n]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach((e=>{s.includes(e)||s.push(e)})):e[n]=o.slice())):o&&"object"==typeof o?e[n]=c(s,o,i):e.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(e[n]=o),e)}),e||{}):e}},40189:(e,t,i)=>{"use strict";i.d(t,{$X:()=>S,G4:()=>u,Lx:()=>_,Mq:()=>c,NK:()=>a,NO:()=>C,NY:()=>f,Ol:()=>w,Pl:()=>b,QP:()=>h,QZ:()=>g,Te:()=>l,Tw:()=>x,YL:()=>A,hn:()=>P,jH:()=>d,nA:()=>v,qr:()=>m,sg:()=>E,u7:()=>p,wR:()=>M,z7:()=>T,zf:()=>y});var r=i(46577),n=i(98849),s=i(64874),o=(i(539),i(6267));function a(e="Aborted"){return new n.A("AbortError",e)}function l(e,t="Aborted"){if(u(e))throw a(t)}function c(e){return e instanceof AbortSignal?e:e?.signal??void 0}function u(e){const t=c(e);return null!=t&&t.aborted}function h(e){if(y(e))throw e}function d(e){if(!y(e))throw e}function p(e,t){const i=c(e);if(null!=i){if(!i.aborted)return(0,s.Oo)(i,"abort",(()=>t()));t()}}function f(e,t){const i=c(e);if(null!=i)return l(i),(0,s.Oo)(i,"abort",(()=>t(a())))}function m(e,t){return null==c(t)?e:new Promise(((i,r)=>{let n=p(t,(()=>r(a())));const s=()=>{n=(0,o.xt)(n)};e.then(s,s),e.then(i,r)}))}function y(e){return"AbortError"===e?.name}async function g(e){try{return await e}catch(t){if(!y(t))throw t;return}}async function _(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e),i=t.map((t=>e[t])),r=await _(i),n={};return t.map(((e,t)=>n[e]=r[t])),n}const t=e;return Promise.allSettled(t).then((e=>Array.from(t,((t,i)=>{const r=e[i];return"fulfilled"===r.status?{promise:t,value:r.value}:{promise:t,error:r.reason}}))))}async function v(e){return(await Promise.allSettled(e)).filter((e=>"fulfilled"===e.status)).map((e=>e.value))}async function w(e){return(await Promise.allSettled(e)).filter((e=>"rejected"===e.status)).map((e=>e.reason))}function b(e,t=void 0,i){const r=new AbortController;return p(i,(()=>r.abort())),new Promise(((i,n)=>{let s=setTimeout((()=>{s=0,i(t)}),e);p(r,(()=>{s&&(clearTimeout(s),n(a()))}))}))}function M(e,t,i,r){const s=i&&"abort"in i?i:null;null!=r||s||(r=i);let o=setTimeout((()=>{o=0,s?.abort()}),t);const a=()=>r||new n.A("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then((e=>{if(0===o)throw a();return clearTimeout(o),e}),(e=>{throw clearTimeout(o),0===o?a():e}))}function A(e,t){const i=new AbortController,r=setTimeout((()=>i.abort()),t);return p(e,(()=>{i.abort(),clearTimeout(r)})),{...e,signal:i.signal}}function S(e){return e&&"function"==typeof e.then}function T(e){return S(e)?e:Promise.resolve(e)}function E(e,t=-1){let i,r,n,s,o=null;const l=(...c)=>{if(i){r=c,s&&s.reject(a()),s=x();const e=s.promise;if(o){const e=o;o=null,e.abort()}return e}if(n=s||x(),s=null,t>0){const r=new AbortController;i=T(e(...c,r.signal));const n=i;b(t).then((()=>{i===n&&(s?r.abort():o=r)}))}else i=1,i=T(e(...c));const u=()=>{const e=r;r=n=i=o=null,null!=e&&l(...e)},h=i,d=n;return h.then(u,u),h.then(d.resolve,d.reject),d.promise};return l}function x(){let e,t;const i=new Promise(((i,r)=>{e=i,t=r})),n=t=>{e(t)};return n.resolve=t=>e(t),n.reject=e=>t(e),n.timeout=(e,t)=>r.p.setTimeout((()=>n.reject(t)),e),n.promise=i,n}function P(e,t){t.then(e.resolve,e.reject)}async function C(e){await Promise.resolve(),l(e)}},85251:(e,t,i)=>{"use strict";i.d(t,{C1:()=>y,C_:()=>d,OH:()=>g,Vh:()=>_,on:()=>h,pc:()=>v,wB:()=>l,z7:()=>c});var r=i(64874),n=i(20464),s=i(6267),o=i(40189),a=i(39425);i(97996);function l(e,t,i={}){return u(e,t,i,f)}function c(e,t,i={}){return u(e,t,i,m)}function u(e,t,i={},r){let n=null;const o=i.once?(e,i)=>{r(e)&&((0,s.xt)(n),t(e,i))}:(e,i)=>{r(e)&&t(e,i)};if(n=(0,a.Cn)(e,o,i.sync,i.equals),i.initial){const t=e();o(t,t)}return n}function h(e,t,i,o={}){let a=null,c=null,u=null;function h(){a&&c&&(c.remove(),o.onListenerRemove?.(a),a=null,c=null)}function d(e){o.once&&o.once&&(0,s.xt)(u),i(e)}const p=l(e,((e,i)=>{h(),(0,r.wb)(e)&&(a=e,c=(0,r.on)(e,t,d),o.onListenerAdd?.(e))}),{sync:o.sync,initial:!0});return u=(0,n.hA)((()=>{p.remove(),h()})),u}function d(e,t){return p(e,m,t)}function p(e,t,i){if((0,o.G4)(i))return Promise.reject((0,o.NK)());const r=e();if(t?.(r))return Promise.resolve(r);let a=null;function l(){a=(0,s.xt)(a)}return new Promise(((r,s)=>{a=(0,n.vE)([(0,o.u7)(i,(()=>{l(),s((0,o.NK)())})),u(e,(e=>{l(),r(e)}),{sync:!1,once:!0},t??f)])}))}function f(e){return!0}function m(e){return!!e}function y(e,t,i={}){let r=!1;const n=l(e,((e,i)=>{r||t(e,i)}),i);return{remove(){n.remove()},pause(){r=!0},resume(){r=!1}}}const g={sync:!0},_={initial:!0},v={sync:!0,initial:!0}},25816:(e,t,i)=>{"use strict";i.d(t,{W5:()=>he});var r=function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},n={exports:{}},s={},o={exports:{}},a={};function l(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var c=/javascript\s*\:/gim;a.whiteList=l(),a.getDefaultWhiteList=l,a.onAttr=function(e,t,i){},a.onIgnoreAttr=function(e,t,i){},a.safeAttrValue=function(e,t){return c.test(t)?"":t};var u={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},h=u;var d=function(e,t){";"!==(e=h.trimRight(e))[e.length-1]&&(e+=";");var i=e.length,r=!1,n=0,s=0,o="";function a(){if(!r){var i=h.trim(e.slice(n,s)),a=i.indexOf(":");if(-1!==a){var l=h.trim(i.slice(0,a)),c=h.trim(i.slice(a+1));if(l){var u=t(n,o.length,l,c,i);u&&(o+=u+"; ")}}}n=s+1}for(;s<i;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var c=e.indexOf("*/",s+2);if(-1===c)break;n=(s=c+1)+1,r=!1}else"("===l?r=!0:")"===l?r=!1:";"===l?r||a():"\n"===l&&a()}return h.trim(o)},p=a,f=d;function m(e){return null==e}function y(e){e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{}),e.whiteList=e.whiteList||p.whiteList,e.onAttr=e.onAttr||p.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||p.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||p.safeAttrValue,this.options=e}y.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,r=t.onAttr,n=t.onIgnoreAttr,s=t.safeAttrValue;return f(e,(function(e,t,o,a,l){var c=i[o],u=!1;if(!0===c?u=c:"function"==typeof c?u=c(a):c instanceof RegExp&&(u=c.test(a)),!0!==u&&(u=!1),a=s(o,a)){var h,d={position:t,sourcePosition:e,source:l,isWhite:u};return u?m(h=r(o,a,d))?o+":"+a:h:m(h=n(o,a,d))?void 0:h}}))};var g=y;!function(e,t){var i=a,r=g;for(var n in(t=e.exports=function(e,t){return new r(t).process(e)}).FilterCSS=r,i)t[n]=i[n]}(o,o.exports);var _=o.exports,v={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,n;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,n=e.length;r<n;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},w=_.FilterCSS,b=_.getDefaultWhiteList,M=v;function A(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var S=new w;function T(e){return e.replace(E,"&lt;").replace(x,"&gt;")}var E=/</g,x=/>/g,P=/"/g,C=/&quot;/g,I=/&#([a-zA-Z0-9]*);?/gim,O=/&colon;?/gim,R=/&newline;?/gim,N=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,k=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,L=/u\s*r\s*l\s*\(.*/gi;function D(e){return e.replace(P,"&quot;")}function Z(e){return e.replace(C,'"')}function F(e){return e.replace(I,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function U(e){return e.replace(O,":").replace(R," ")}function j(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return M.trim(t)}function G(e){return e=j(e=U(e=F(e=Z(e))))}function z(e){return e=T(e=D(e))}s.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},s.getDefaultWhiteList=A,s.onTag=function(e,t,i){},s.onIgnoreTag=function(e,t,i){},s.onTagAttr=function(e,t,i){},s.onIgnoreTagAttr=function(e,t,i){},s.safeAttrValue=function(e,t,i,r){if(i=G(i),"href"===t||"src"===t){if("#"===(i=M.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===t){if(N.lastIndex=0,N.test(i))return""}else if("style"===t){if(k.lastIndex=0,k.test(i))return"";if(L.lastIndex=0,L.test(i)&&(N.lastIndex=0,N.test(i)))return"";!1!==r&&(i=(r=r||S).process(i))}return i=z(i)},s.escapeHtml=T,s.escapeQuote=D,s.unescapeQuote=Z,s.escapeHtmlEntities=F,s.escapeDangerHtml5Entities=U,s.clearNonPrintableCharacter=j,s.friendlyAttrValue=G,s.escapeAttrValue=z,s.onIgnoreTagStripAll=function(){return""},s.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var i=!Array.isArray(e),r=[],n=!1;return{onIgnoreTag:function(s,o,a){if(function(t){return!!i||-1!==M.indexOf(e,t)}(s)){if(a.isClosing){var l="[/removed]",c=a.position+10;return r.push([!1!==n?n:a.position,c]),n=!1,l}return n||(n=a.position),"[removed]"}return t(s,o,a)},remove:function(e){var t="",i=0;return M.forEach(r,(function(r){t+=e.slice(i,r[0]),i=r[1]})),t+=e.slice(i)}}},s.stripCommentTag=function(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("\x3c!--",i);if(-1===r){t+=e.slice(i);break}t+=e.slice(i,r);var n=e.indexOf("--\x3e",r);if(-1===n)break;i=n+3}return t},s.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},s.cssFilter=S,s.getDefaultCSSWhiteList=b;var $={},V=v;function B(e){var t,i=V.spaceIndex(e);return t=-1===i?e.slice(1,-1):e.slice(1,i+1),"/"===(t=V.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function q(e){return"</"===e.slice(0,2)}var H=/[^a-zA-Z0-9\\_:.-]/gim;function W(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"="===i?t:-1}}function J(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"'"===i||'"'===i?t:-1}}function K(e,t){for(;t>0;t--){var i=e[t];if(" "!==i)return"="===i?t:-1}}function Y(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}$.parseTag=function(e,t,i){var r="",n=0,s=!1,o=!1,a=0,l=e.length,c="",u="";e:for(a=0;a<l;a++){var h=e.charAt(a);if(!1===s){if("<"===h){s=a;continue}}else if(!1===o){if("<"===h){r+=i(e.slice(n,a)),s=a,n=a;continue}if(">"===h){r+=i(e.slice(n,s)),c=B(u=e.slice(s,a+1)),r+=t(s,r.length,c,u,q(u)),n=a+1,s=!1;continue}if('"'===h||"'"===h)for(var d=1,p=e.charAt(a-d);""===p.trim()||"="===p;){if("="===p){o=h;continue e}p=e.charAt(a-++d)}}else if(h===o){o=!1;continue}}return n<e.length&&(r+=i(e.substr(n))),r},$.parseAttr=function(e,t){var i=0,r=0,n=[],s=!1,o=e.length;function a(e,i){if(!((e=(e=V.trim(e)).replace(H,"").toLowerCase()).length<1)){var r=t(e,i||"");r&&n.push(r)}}for(var l=0;l<o;l++){var c,u=e.charAt(l);if(!1!==s||"="!==u)if(!1===s||l!==r)if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===s){if(-1===(c=W(e,l))){a(V.trim(e.slice(i,l))),s=!1,i=l+1;continue}l=c-1;continue}if(-1===(c=K(e,l-1))){a(s,Y(V.trim(e.slice(i,l)))),s=!1,i=l+1;continue}}else;else{if(-1===(c=e.indexOf(u,l+1)))break;a(s,V.trim(e.slice(r+1,c))),s=!1,i=(l=c)+1}else s=e.slice(i,l),i=l+1,r='"'===e.charAt(i)||"'"===e.charAt(i)?i:J(e,l+1)}return i<e.length&&(!1===s?a(e.slice(i)):a(s,Y(V.trim(e.slice(i))))),V.trim(n.join(" "))};var X=_.FilterCSS,Q=s,ee=$,te=ee.parseTag,ie=ee.parseAttr,re=v;function ne(e){return null==e}function se(e){e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Q.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map((function(e){return e.toLowerCase()})):t[i.toLowerCase()]=e[i];return t}(e.whiteList||e.allowList):e.whiteList=Q.whiteList,e.onTag=e.onTag||Q.onTag,e.onTagAttr=e.onTagAttr||Q.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Q.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Q.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Q.safeAttrValue,e.escapeHtml=e.escapeHtml||Q.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new X(e.css))}se.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,r=t.onTag,n=t.onIgnoreTag,s=t.onTagAttr,o=t.onIgnoreTagAttr,a=t.safeAttrValue,l=t.escapeHtml,c=this.cssFilter;t.stripBlankChar&&(e=Q.stripBlankChar(e)),t.allowCommentTag||(e=Q.stripCommentTag(e));var u=!1;t.stripIgnoreTagBody&&(u=Q.StripTagBody(t.stripIgnoreTagBody,n),n=u.onIgnoreTag);var h=te(e,(function(e,t,u,h,d){var p={sourcePosition:e,position:t,isClosing:d,isWhite:Object.prototype.hasOwnProperty.call(i,u)},f=r(u,h,p);if(!ne(f))return f;if(p.isWhite){if(p.isClosing)return"</"+u+">";var m=function(e){var t=re.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=re.trim(e.slice(t+1,-1)))[e.length-1];return i&&(e=re.trim(e.slice(0,-1))),{html:e,closing:i}}(h),y=i[u],g=ie(m.html,(function(e,t){var i=-1!==re.indexOf(y,e),r=s(u,e,t,i);return ne(r)?i?(t=a(u,e,t,c))?e+'="'+t+'"':e:ne(r=o(u,e,t,i))?void 0:r:r}));return h="<"+u,g&&(h+=" "+g),m.closing&&(h+=" /"),h+=">"}return ne(f=n(u,h,p))?l(h):f}),l);return u&&(h=u.remove(h)),h};var oe=se;!function(e,t){var i=s,r=$,n=oe;function o(e,t){return new n(t).process(e)}(t=e.exports=o).filterXSS=o,t.FilterXSS=n,function(){for(var e in i)t[e]=i[e];for(var n in r)t[n]=r[n]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(n,n.exports);var ae=n.exports,le=function(){function e(e,t){var i,n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=r(r({},ae.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,i,r){return"a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?n.sanitizeUrl(i):ae.safeAttrValue(e,t,i,r)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"},e&&!t?i=e:e&&t?((i=Object.create(this.arcgisFilterOptions)).css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach((function(t){if("whiteList"===t)i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]);else if("css"===t){var r=e.css.whiteList;null!=r&&e.css instanceof Object&&Object.keys(r).forEach((function(e){return i.css.whiteList[e]=r[e]}))}else i[t]=e[t]}))):((i=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,i.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=i,this._xssFilter=new ae.FilterXSS(i)}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},e.prototype.sanitizeUrl=function(e,t){var i=(null!=t?t:{}).isProtocolRequired,r=void 0===i||i,n=this._trim(e.substring(0,e.indexOf(":"))),s="/"===e,o=/^#/.test(e),a=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return s||o||a?ae.escapeAttrValue(e):n||r?"":ae.escapeAttrValue("https://".concat(e))},e.prototype.sanitizeHTMLAttribute=function(e,t,i,r){return"function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,i,r):ae.safeAttrValue(e,t,i,r)},e.prototype.validate=function(e,t){void 0===t&&(t={});var i=this.sanitize(e,t);return{isValid:e===i,sanitized:i}},e.prototype.encodeHTML=function(e){var t=this;return String(e).replace(/[&<>"'\/]/g,(function(e){return t._entityMap[e]}))},e.prototype.encodeAttrValue=function(e){var t=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,(function(i,r){return t.test(i)?i:"&#x".concat(Number(e.charCodeAt(r)).toString(16),";")}))},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(i){Array.isArray(e[i])&&Array.isArray(t[i])?t[i]=t[i].concat(e[i]):t[i]=e[i]}))})),t},e.prototype._iterateOverObject=function(e,t){var i=this;void 0===t&&(t={});try{var r=!1,n=void 0;if(Array.isArray(e))n=e.reduce((function(e,n){var s=i.validate(n,t);return s.isValid?e.concat([n]):(r=!0,e.concat([s.sanitized]))}),[]);else{if(!function(e){if("object"!=typeof e||null===e)return!1;if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)){if(t.allowUndefined&&void 0===e)return;return null}n=Object.keys(e).reduce((function(n,s){var o=e[s],a=i.validate(o,t);return a.isValid?n[s]=o:(r=!0,n[s]=a.sanitized),n}),{})}return r?n:e}catch(s){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}();const ce=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce(((e,t)=>(e[t]=[],e)),{}),ue=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],he=new le({whiteList:ce,onTagAttr:(e,t,i)=>{const r=`${t}="${i}"`;if(ue.includes(t))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0)},61449:(e,t,i)=>{"use strict";i.d(t,{$m:()=>P,NO:()=>x,_:()=>v,md:()=>E,mg:()=>w});var r=i(37103),n=i(77701),s=i(63678),o=i(40189),a=i(60882);class l{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class c{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let u=0,h=0;const d={time:(0,a.l5)(0),deltaTime:(0,a.l5)(0),elapsedFrameTime:(0,a.l5)(0),frameDuration:(0,a.l5)(0)},p=["prepare","preRender","render","postRender","update","finish"],f=[],m=new s.A;class y{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,g()}}function g(){null==b&&(u=performance.now(),b=requestAnimationFrame(M))}const _={frameTasks:m,willDispatch:!1,clearFrameTasks:function(e=!1){m.forAll((e=>{e.removed=!0})),e&&S()},dispatch:T,executeFrameTasks:function(e){const t=(0,a.l5)(e-u);u=e;const i=h>0?h:1e3/60,r=Math.max(0,t-i);d.time=e,d.frameDuration=(0,a.l5)(i-r);for(let n=0;n<p.length;n++){const i=performance.now(),r=p[n];m.forAll((i=>{i.paused||i.removed||(0===n&&i.ticks++,i.phases[r]&&(d.elapsedFrameTime=(0,a.l5)(performance.now()-e),d.deltaTime=0===i.ticks?(0,a.l5)(0):t,i.phases[r]?.call(i,d)))})),C[n].push(performance.now()-i)}S(),I.push(performance.now()-e)},reschedule:function(){null!=b&&(cancelAnimationFrame(b),b=requestAnimationFrame(M))}};function v(e){const t=new c(e);return f.push(t),_.willDispatch||(_.willDispatch=!0,(0,r.d)(T)),t}function w(e){const t=new l(e);return m.push(t),g(),new y(t)}let b=null;function M(){const e=performance.now();b=null;const t=m.some((e=>!e.paused&&!e.removed));b=t?requestAnimationFrame(M):null,_.executeFrameTasks(e)}const A=new s.A;function S(){m.forAll((e=>{e.removed&&A.push(e)})),m.removeUnorderedMany(A.data,A.length),A.clear()}function T(){for(;f.length;){const e=f.shift();e.isActive&&e.callback()}_.willDispatch=!1}function E(e=1,t){const i=(0,o.Tw)(),n=()=>{(0,o.G4)(t)?i.reject((0,o.NK)()):0===e?i():(--e,(0,r.d)((()=>n())))};return n(),i.promise}function x(e){return E(1,e)}async function P(e){await x(e),await new Promise((t=>requestAnimationFrame((()=>{e?.aborted||t()}))))}const C=p.map((e=>new n.A(e))),I=new n.A("total")},89882:(e,t,i)=>{"use strict";i.d(t,{Lz:()=>o,PN:()=>a,PR:()=>y,QG:()=>d,WA:()=>g,cr:()=>l,gs:()=>h,rX:()=>f,r_:()=>p,sc:()=>m,tc:()=>c,y8:()=>u});const r=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,n="screenUtils.toPt: input not recognized!",s=96;function o(e){return e?e/72*s:0}function a(e){return e?72*e/s:0}function l(e){if("string"==typeof e){const t=e.match(r);if(t){const i=Number(t[1]),r=t[3]&&t[3].toLowerCase(),n="-"===e.charAt(0),s="px"===r?a(i):i;return n?-s:s}return console.warn(n),null}return e}function c(e=0,t=0){return{x:e,y:t}}function u(e){return e?c(e.x,e.y):null}function h(e=0,t=0){return[e,t]}function d(e=0,t=0){return[e,t]}function p(e=0,t=0,i=0){return[e,t,i]}function f(e){return e}function m(e){return e}function y(e){return e}function g(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}},40315:(e,t,i)=>{"use strict";i.d(t,{v:()=>a});var r=i(19251),n=i(41573),s=i(62879);class o{constructor(e,t){this._observable=new s.I,this._value=e,this._equalityFunction=t}get value(){return(0,n.gc)(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}}function a(e,t=r.gh){return new o(e,t)}},76859:(e,t,i)=>{"use strict";let r;async function n(){return null==r&&(r=Promise.all([i.e(72076),i.e(46826),i.e(6986)]).then(i.bind(i,6986)).then((e=>new e.WhereClauseCache(500,500)))),r}async function s(e,t){const i=await n(),r=i.get(e,t);if(null==r)throw i.getError(e,t);return r}function o(e,t){return e||=null,t||=null,"1=1"===e?t??e:"1=1"===t?e??t:e&&t?`(${e}) AND (${t})`:e??t}function a(e,t){return e||=null,t||=null,"1=1"===e||"1=1"===t||e===t?"1=1"===e?e:t:e&&t?`(${e}) OR (${t})`:e??t}function l(e,t){return 0===t.length?null:`${e} IN (${function(e){return e.map((e=>"string"==typeof e?function(e){return`'${e.replaceAll("'","''")}'`}(e):e)).join(",")}(t)})`}i.d(t,{GP:()=>s,IW:()=>a,Yp:()=>l,mA:()=>o})},96274:(e,t,i)=>{"use strict";i.d(t,{Cj:()=>a,HC:()=>o,ML:()=>d,Wm:()=>l,_e:()=>u,mk:()=>h});var r=i(76724);const n=/\{([^}]+)\}/g;function s(e){return e??""}function o(e,t){return t?e.replaceAll(n,"object"==typeof t?(e,i)=>s((0,r.wc)(i,t)):(e,i)=>s(t(i))):e}function a(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,(e=>t?.includes(e)?e:`\\${e}`))}function l(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}let c;function u(e){return c??=new DOMParser,c.parseFromString(e||"","text/html").body.innerText||""}function h(e,t){return new RegExp(`{${t}}`,"ig").test(e)}function d(e,...t){let i=e[0];for(let r=0;r<t.length;++r)i+=t[r]+e[r+1];return i}},8651:(e,t,i)=>{"use strict";i.d(t,{C:()=>c,X:()=>l});var r=i(66866),n=i(48982),s=i(4194),o=(i(39831),i(539),i(21564)),a=(i(9272),i(63863));let l=class extends n.A{constructor(e){super(e),this.addHandles([this.on("before-add",(e=>{null==e.item&&e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(e=>this._release(e.item)))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(n.A.ofType(this.itemType.Type))(e):new n.A(e)}};function c(e,t){return{type:e,cast:s.H,set(i){const r=(0,s.V)(i,this._get(t),e);r.owner=this,this._set(t,r)}}}(0,r._)([(0,o.MZ)()],l.prototype,"owner",null),l=(0,r._)([(0,a.$)("esri.core.support.OwningCollection")],l)},4238:(e,t,i)=>{"use strict";i.d(t,{U:()=>u});var r=i(66866),n=i(52495),s=i(20464),o=i(85251),a=i(61449),l=i(21564),c=i(63863);let u=class extends n.A{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,t,i={}){return this._installWatch(e,t,i,o.wB)}addWhen(e,t,i={}){return this._installWatch(e,t,i,o.z7)}addOnCollectionChange(e,t,{initial:i=!1,final:r=!1}={}){const n=++this._handleId;return this.addHandles([(0,o.on)(e,"after-changes",this._createSyncUpdatingCallback(),o.OH),(0,o.on)(e,"change",t,{onListenerAdd:i?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:r?e=>t({added:[],removed:e.toArray()}):void 0})],n),(0,s.hA)((()=>this.removeHandles(n)))}addPromise(e){if(null==e)return e;const t=++this._handleId;this.addHandles((0,s.hA)((()=>{this._pendingPromises.delete(e)&&(0!==this._pendingPromises.size||this.hasHandles(h)||this._set("updating",!1))})),t),this._pendingPromises.add(e),this._set("updating",!0);const i=()=>this.removeHandles(t);return e.then(i,i),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,t,i={},r){const n=++this._handleId;i.sync||this._installSyncUpdatingWatch(e,n);const o=r(e,t,i);return this.addHandles(o,n),(0,s.hA)((()=>this.removeHandles(n)))}_installSyncUpdatingWatch(e,t){const i=this._createSyncUpdatingCallback(),r=(0,o.wB)(e,i,{sync:!0,equals:()=>!1});return this.addHandles(r,t),r}_createSyncUpdatingCallback(){return()=>{this.removeHandles(h),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles((0,a._)((()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(h))})),h)}}};(0,r._)([(0,l.MZ)({readOnly:!0})],u.prototype,"updating",void 0),u=(0,r._)([(0,c.$)("esri.core.support.UpdatingHandles")],u);const h=-42},59372:(e,t,i)=>{"use strict";function r(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}i.d(t,{W:()=>r})},60882:(e,t,i)=>{"use strict";function r(e){return e}function n(e){return 1e3*e}function s(e){return e}function o(e){return.001*e}i.d(t,{Kp:()=>s,gr:()=>n,l5:()=>r,y:()=>o})},46437:(e,t,i)=>{"use strict";i.d(t,{S1:()=>a,lL:()=>c,mi:()=>l,pJ:()=>h,t:()=>u,vf:()=>o});var r=i(76459),n=i(54088),s=i(34495);const o={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function a(e,t,i,o=n.qU){const a=new s.oh((0,r.wj)(o)),l=s.c9.fromJSDate(e,{zone:a}),c="decades"===i||"centuries"===i?"year":d(i);return"decades"===i&&(t*=10),"centuries"===i&&(t*=100),l.plus({[c]:t}).toJSDate()}function l(e,t,i="milliseconds"){const r=e.getTime(),n=u(t,i,"milliseconds");return new Date(r+n)}function c(e,t,i=n.qU){const o=new s.oh((0,r.wj)(i)),a=s.c9.fromJSDate(e,{zone:o});if("decades"===t||"centuries"===t){const e=a.startOf("year"),{year:i}=e,r=i-i%("decades"===t?10:100);return e.set({year:r}).toJSDate()}const l=d(t);return a.startOf(l).toJSDate()}function u(e,t,i){return 0===e?0:e*o[t]/o[i]}function h(e,t){return e&&t?e.intersection(t):e||t}function d(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}},86942:(e,t,i)=>{"use strict";i.d(t,{IY:()=>a,JI:()=>y,LW:()=>h,PI:()=>v,UR:()=>o,XJ:()=>u,_G:()=>c,a3:()=>_,aI:()=>p,dk:()=>g,dz:()=>n,h2:()=>w,iu:()=>f,jq:()=>l,mg:()=>s,mw:()=>r,vZ:()=>d,y9:()=>m});i(39831);function r(e){return e instanceof ArrayBuffer}function n(e){return"Int8Array"===e?.constructor?.name}function s(e){return"Uint8Array"===e?.constructor?.name}function o(e){return"Uint8ClampedArray"===e?.constructor?.name}function a(e){return"Int16Array"===e?.constructor?.name}function l(e){return"Uint16Array"===e?.constructor?.name}function c(e){return"Int32Array"===e?.constructor?.name}function u(e){return"Uint32Array"===e?.constructor?.name}function h(e){return"Float16Array"===e?.constructor?.name}function d(e){return"Float32Array"===e?.constructor?.name}function p(e){return"Float64Array"===e?.constructor?.name}function f(e){return"buffer"in e}const m=1024;function y(e){return p(e)||d(e)||c(e)||a(e)||n(e)}function g(e){return p(e)||d(e)}function _(e){return p(e)?179769e303:h(e)?65504:d(e)?3402823e32:u(e)?4294967295:l(e)?65535:s(e)||o(e)?255:c(e)?2147483647:a(e)?32767:n(e)?127:256}const v=-32768,w=-2147483648},65061:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});let r=0;function n(){return++r}},92976:(e,t,i)=>{"use strict";i.d(t,{Ao:()=>G,B5:()=>W,G9:()=>F,GA:()=>j,Ij:()=>B,KX:()=>z,LA:()=>Z,OU:()=>R,PQ:()=>T,Sk:()=>ee,TL:()=>L,UW:()=>E,_H:()=>q,b$:()=>te,dk:()=>Q,dy:()=>l,jM:()=>X,k1:()=>U,m5:()=>P,mq:()=>H,oU:()=>S,t$:()=>M,tW:()=>C,vl:()=>D,wL:()=>x,wv:()=>k,x$:()=>O,x0:()=>I,x1:()=>K,y7:()=>N,yD:()=>p});i(39831);var r=i(59851),n=i(47936),s=i(99817),o=i(87926),a=i(83811);const l=39.37,c=s.$O.radius*Math.PI/200,u=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,h=a.A,d=/UNIT\[([^\]]+)]/i,p=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),f=(0,r.O)()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),m=e=>e*e,y=e=>e*e*e,g={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:m(.001)},"square-centimeters":{inBaseUnits:m(.01)},"square-decimeters":{inBaseUnits:m(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:m(1e3)},"square-inches":{inBaseUnits:m(.0254)},"square-feet":{inBaseUnits:m(.3048)},"square-yards":{inBaseUnits:m(.9144)},"square-miles":{inBaseUnits:m(1609.344)},"square-nautical-miles":{inBaseUnits:m(1852)},"square-us-feet":{inBaseUnits:m(1200/3937)},acres:{inBaseUnits:.0015625*m(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*y(.001)},"cubic-centimeters":{inBaseUnits:1e3*y(.01)},"cubic-decimeters":{inBaseUnits:1e3*y(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*y(1e3)},"cubic-inches":{inBaseUnits:1e3*y(.0254)},"cubic-feet":{inBaseUnits:1e3*y(.3048)},"cubic-yards":{inBaseUnits:1e3*y(.9144)},"cubic-miles":{inBaseUnits:1e3*y(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},_=(()=>{const e={};for(const t in g)for(const i in g[t].units)e[i]=t;return e})();const v=["metric","imperial"],w=[...v,"inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],b=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function M(e){const t=_[e];if(!t)throw new Error("unknown type");return t}function A(e,t=null){return t=t||M(e),g[t].baseUnit===e}function S(e,t,i){if(t===i)return e;const r=M(t);if(r!==M(i))throw new Error("incompatible units");const n=A(t,r)?e:function(e,t,i){return e*g[i].units[t].inBaseUnits}(e,t,r);return A(i,r)?n:function(e,t,i){return e/g[i].units[t].inBaseUnits}(n,i,r)}function T(e,t,i,r=!1){if(!r&&(0,o.EA)(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const n=B(t);return n!==i&&(e=n?S(e,n,i):S(e*=j(t),"meters",i)),e}function E(e,t,i,r=!1){if(!r&&(0,o.EA)(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const n=B(i);return t!==n&&(e=n?S(e,t,n):S(e,t,"meters")/j(i)),e}function x(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function P(e){return x(e)}function C(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function I(e,t){const i=S(e,t,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function O(e,t){const i=S(e,t,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function R(e,t){const i=S(e,t,"feet");return Math.abs(i)<1e3?"feet":"miles"}function N(e,t){const i=S(e,t,"feet");return Math.abs(i)<1e5?"feet":"miles"}function k(e,t){const i=S(e,t,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function L(e,t){const i=S(e,t,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function D(e,t,i){return S(e,t,"meters")/(i*Math.PI/180)}function Z(e){return f.fromJSON(e.toLowerCase())||null}function F(e){if(null!=e&&!(0,o.B3)(e))return 1;const t=j(e);return t>1e5?1:t}function U(e){return j(e)>=(0,n.tO)(e).metersPerDegree?"meters":B(e)}function j(e,t=s.$O.metersPerDegree){return G(e,!0)??t}function G(e,t=!1){const i=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let n=null;if(i){if((0,o.tl)(i))return s.sH.metersPerDegree;if((0,o.ZL)(i))return s.Sw.metersPerDegree;n=h.values[h[i]],!n&&t&&p.has(i)&&(n=c)}else r&&(K(r)?n=$(u.exec(r),n):J(r)&&(n=$(d.exec(r),n)));return n}function z(e){return(0,o.EA)(e)?1:j(e)}function $(e,t){return e?.[1]?V(e[1]):t}function V(e){return parseFloat(e.split(",")[1])}function B(e){const t=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let r=null;if(t)r=h.units[h[t]];else if(i){const e=K(i)?u:J(i)?d:null;if(e){const t=e.exec(i);t?.[1]&&(r=function(e){const t=/[\\"']{1}([^\\"']+)/.exec(e);let i=t?.[1];if(!i||!Z(i)){const t=V(e);i=null;const r=h.values;for(let e=0;e<r.length;++e)if(Math.abs(t-r[e])<Y){i=h.units[e];break}}return i}(t[1]))}}return null!=r?Z(r):null}function q(e){const t=B(e);return null!=t&&w.includes(t)?t:null}function H(e){const t=U(e);return null!=t&&w.includes(t)?t:null}function W(e){const t=B(e);return null==t?null:b.get(t)}function J(e){return/^GEOCCS/i.test(e)}function K(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Y=1e-7;function X(e){const t=B(e);if(null==t)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const Q=(0,r.O)()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),ee=(0,r.O)()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),te=(0,r.O)()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"})},20909:(e,t,i)=>{"use strict";i.d(t,{$1:()=>te,$z:()=>K,An:()=>C,BQ:()=>ae,DB:()=>Q,FL:()=>V,FX:()=>$,Hg:()=>ne,Il:()=>me,Ln:()=>ve,N9:()=>oe,S8:()=>W,T1:()=>ge,UC:()=>ye,V1:()=>H,XJ:()=>be,Xq:()=>x,Zo:()=>Te,_0:()=>xe,a6:()=>Se,b8:()=>U,e7:()=>fe,fj:()=>J,gd:()=>P,hf:()=>_e,lJ:()=>ee,lM:()=>ue,m3:()=>ce,nM:()=>pe,oP:()=>Y,oy:()=>Z,r$:()=>re,rs:()=>Ae,s0:()=>b,s2:()=>q,sC:()=>z,s_:()=>R,tk:()=>se,ut:()=>j,w8:()=>X,x0:()=>O,xw:()=>Ee,yM:()=>N,zf:()=>I,zi:()=>Me,zs:()=>F});var r=i(21121),n=i(85569),s=i(98849),o=i(539),a=i(59372),l=i(11210),c=i(23223);const u=()=>o.A.getLogger("esri.core.urlUtils"),h=r.A.request,d="esri/config: esriConfig.request.proxyUrl is not set.",p=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,f=/^\s*http:/i,m=/^\s*https:/i,y=/^\s*file:/i,g=/:\d+$/,_=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,v=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),w=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class b{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(v);this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=this.authority.match(w),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const M={},A=new b(r.A.applicationUrl);let S=A;const T=function(){const e=S.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${S.scheme}://${S.host}${null!=S.port?`:${S.port}`:""}${t}`}();let E=T;const x=()=>S,P=()=>E;function C(e){if(!e)return null;const t={path:null,query:null},i=new b(e),r=e.indexOf("?");return null===i.query?t.path=e:(t.path=e.slice(0,r),t.query=I(i.query)),i.fragment&&(t.hash=i.fragment,null===i.query&&(t.path=t.path.slice(0,t.path.length-(i.fragment.length+1)))),t}function I(e){const t=e.split("&"),i={};for(const r of t){if(!r)continue;const e=r.indexOf("=");let t,n;e<0?(t=decodeURIComponent(r),n=""):(t=decodeURIComponent(r.slice(0,e)),n=decodeURIComponent(r.slice(e+1)));let s=i[t];"string"==typeof s&&(s=i[t]=[s]),Array.isArray(s)?s.push(n):i[t]=n}return i}function O(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((i=>encodeURIComponent(i)+"="+encodeURIComponent(t(i,e[i])))).join("&"):Object.keys(e).map((i=>{const r=e[i];if(null==r)return"";const n=encodeURIComponent(i)+"=",s=t?.[i];return s?n+encodeURIComponent(s(r)):Array.isArray(r)?r.map((e=>(0,a.W)(e)?n+encodeURIComponent(JSON.stringify(e)):n+encodeURIComponent(e))).join("&"):(0,a.W)(r)?n+encodeURIComponent(JSON.stringify(r)):n+encodeURIComponent(r)})).filter((e=>e)).join("&"):""}function R(e=!1){let t,i=h.proxyUrl;if("string"==typeof e){t=ce(e);const r=F(e);r&&(i=r.proxyUrl)}else t=!!e;if(!i)throw u().warn(d),new s.A("urlUtils:proxy-not-set",d);return t&&he()&&(i=ue(i)),C(i)}function N(e,t=!1){const i=F(e);let r,n;if(i){const e=L(i.proxyUrl);r=e.path,n=e.query?I(e.query):null}else if(t){const t=R(e);r=t.path,n=t.query}if(r){const t=C(e);e=r+"?"+t.path;const i=O({...n,...t.query});i&&(e=`${e}?${i}`)}return e}const k={path:"",query:""};function L(e){const t=e.indexOf("?");return-1!==t?(k.path=e.slice(0,t),k.query=e.slice(t+1)):(k.path=e,k.query=null),k}function D(e){return(e=de(e=me(e=L(e).path),!0)).toLowerCase()}function Z(e){const t={proxyUrl:e.proxyUrl,urlPrefix:D(e.urlPrefix)},i=h.proxyRules,r=t.urlPrefix;let n=i.length;for(let s=0;s<i.length;s++){const e=i[s].urlPrefix;if(0===r.indexOf(e)){if(r.length===e.length)return-1;n=s;break}0===e.indexOf(r)&&(n=s+1)}return i.splice(n,0,t),n}function F(e){const t=h.proxyRules,i=D(e);for(let r=0;r<t.length;r++)if(0===i.indexOf(t[r].urlPrefix))return t[r]}function U(e,t){if(!e||!t)return!1;e=G(e),t=G(t);const i=(0,l.py)(e),r=(0,l.py)(t);return null!=i&&null!=r?i.portalHostname===r.portalHostname:null==i&&null==r&&$(e,t,!0)}function j(e,t){return e=G(e),t=G(t),de(e)===de(t)}function G(e){const t=(e=W(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function z(e,t=h.interceptors){const i=t=>t instanceof RegExp?t.test(e):"string"==typeof t?e.startsWith(t):null==t;if(t)for(const r of t)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r;return null}function $(e,t,i=!1){if(!e||!t)return!1;const r=we(e),n=we(t);return!(!i&&r.scheme!==n.scheme)&&null!=r.host&&null!=n.host&&r.host.toLowerCase()===n.host.toLowerCase()&&r.port===n.port}function V(e){if("string"==typeof e){if(!Y(e))return!0;e=we(e)}if($(e,S))return!0;const t=h.trustedServers||[];for(let i=0;i<t.length;i++){const r=B(t[i]);for(let t=0;t<r.length;t++)if($(e,r[t]))return!0}return!1}function B(e){return M[e]||(le(e)||ae(e)?M[e]=[new b(q(e))]:M[e]=[new b(`http://${e}`),new b(`https://${e}`)]),M[e]}function q(e,t=E,i){return ae(e)?i?.preserveProtocolRelative?e:"http"===S.scheme&&S.authority===K(e).slice(2)?`http:${e}`:`https:${e}`:le(e)?e:J("/"===e[0]?function(e){const t=e.indexOf("//"),i=e.indexOf("/",t+2);return-1===i?e:e.slice(0,i)}(t):t,e)}function H(e,t=E,i){if(null==e||!Y(e))return e;const r=W(e),n=r.toLowerCase(),s=W(t).toLowerCase().replace(/\/+$/,""),o=i?W(i).toLowerCase().replace(/\/+$/,""):null;if(o&&0!==s.indexOf(o))return e;const a=(e,t,i)=>-1===(i=e.indexOf(t,i))?e.length:i;let l=a(n,"/",n.indexOf("//")+2),c=-1;for(;n.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==n.length);)l=a(n,"/",l+1);if(-1===c)return e;if(o&&c<o.length)return e;e=r.slice(c);const u=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(u>0)for(let h=0;h<u;h++)e=`../${e}`;else e=`./${e}`;return e}function W(e){return function(e){const t=h.httpsDomains;if(!function(e){return null!=e&&f.test(e)||"http"===S.scheme&&ae(e)}(e))return e;const i=e.indexOf("/",7);let r;if(r=-1===i?e:e.slice(0,i),r=r.toLowerCase().slice(7),g.test(r)){if(!r.endsWith(":80"))return e;r=r.slice(0,-3),e=e.replace(":80","")}return"http"===S.scheme&&r===S.authority&&!_.test(e)||(he()&&r===S.authority||t&&t.some((e=>r===e||r.endsWith(`.${e}`)))||he()&&!F(e))&&(e=ue(e)),e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=L(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=q(e=e.trim()))))}function J(...e){const t=e.filter(n.Ru);if(!t?.length)return;const i=[];if(Y(t[0])){const e=t[0],r=e.indexOf("//");-1!==r&&(i.push(e.slice(0,r+1)),function(e){return null!=e&&y.test(e)}(t[0])&&(i[0]+="/"),t[0]=e.slice(r+2))}else"/"===t[0][0]&&i.push("");const r=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let n=0;n<r.length;n++){const e=r[n];".."===e&&i.length>0&&".."!==i[i.length-1]?i.pop():(!e&&n===r.length-1||e&&("."!==e||0===i.length))&&i.push(e)}return i.join("/")}function K(e,t=!1){if(null==e||X(e)||Q(e))return null;let i=e.indexOf("://");if(-1===i&&ae(e))i=2;else{if(-1===i)return null;i+=3}const r=e.indexOf("/",i);return-1!==r&&(e=e.slice(0,r)),t&&(e=de(e,!0)),e}function Y(e){return ae(e)||le(e)}function X(e){return null!=e&&"blob:"===e.slice(0,5)}function Q(e){return null!=e&&"data:"===e.slice(0,5)}function ee(e){const t=re(e);return t?.isBase64?(0,c.M)(t.data):null}function te(e){return(0,c.Y)(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const ie=/^data:(.*?)(;base64)?,(.*)$/;function re(e){const t=e.match(ie);if(!t)return null;const[,i,r,n]=t;return{mediaType:i,isBase64:!!r,data:n}}function ne(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function se(e){return(await fetch(e)).blob()}function oe(e){const t=ee(e);if(!t)return null;const i=re(e);return new Blob([t],{type:i.mediaType})}function ae(e){return null!=e&&"/"===e[0]&&"/"===e[1]}function le(e){return null!=e&&p.test(e)}function ce(e){return null!=e&&m.test(e)||"https"===S.scheme&&ae(e)}function ue(e){return ae(e)?`https:${e}`:e.replace(f,"https:")}function he(){return"https"===S.scheme}function de(e,t=!1){return ae(e)?e.slice(2):(e=e.replace(p,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function pe(e){let t=0;if(Y(e)){const i=e.indexOf("//");-1!==i&&(t=i+2)}const i=e.lastIndexOf("/");return i<t?e:e.slice(0,i+1)}function fe(e,t){if(!e)return"";const i=C(e).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!t?.length)return r;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return r.replace(n,"")}function me(e){return e.endsWith("/")?e:`${e}/`}function ye(e){return e.replace(/\/+$/,"")}function ge(e,t,i){if(!(t&&i&&e&&Y(e)))return e;const r=e.indexOf("//"),n=e.indexOf("/",r+2),s=e.indexOf(":",r+2),o=Math.min(n<0?e.length:n,s<0?e.length:s);return e.slice(r+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,r+2)}${i}${e.slice(o)}`}function _e(e,t){const i=new URL(e);return i.host=t,i.port&&!g.test(t)&&(i.port=""),i.toString()}function ve(e){return new URL(e).host}function we(e){return"string"==typeof e?new b(q(e)):(e.scheme||(e.scheme=S.scheme),e)}function be(e){return Ce.test(e)}function Me(e,t){const i=C(e),r=Object.keys(i.query||{});return r.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function Ae(e,t,i){const r=C(e),n=r.query||{};return n[t]=String(i),`${r.path}?${O(n)}`}function Se(e,t){if(!t)return e;const i=C(e),r=i.query||{};for(const[s,o]of Object.entries(t))null!=o&&(r[s]=o);const n=O(r);return n?`${i.path}?${n}`:i.path}function Te(e){if(null==e)return null;const t=e.match(Pe);return t?t[2]:null}function Ee(e){if(null==e)return null;const t=e.match(Pe);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function xe(e){return"string"==typeof e?re(e)??{data:e}:new Promise(((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(re(r.result)),r.onerror=e=>i(e)}))}const Pe=/([^.]*)\.([^/]*)$/,Ce=/(^data:image\/svg|\.svg$)/i},33880:(e,t,i)=>{"use strict";i.d(t,{AG:()=>a,lk:()=>n,vD:()=>o,yS:()=>s});const r="randomUUID"in crypto;function n(){if(r)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function s(){return`{${n().toUpperCase()}}`}function o(){return`{${n()}}`}function a(e){const t=e.toUpperCase();return"{"!==e[0]?`{${t}}`:t}},7455:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(20464),n=(i(39831),i(40189)),s=i(20748),o=i(29052),a=i(16491),l=i(22910);class c{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new s.A,this._ongoingLowPriorityJobsQueue=new s.A}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,t){return new Promise(((i,r)=>{let s=!0;const o=e=>{(0,n.Te)(t.signal),s&&(s=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let a=0;a<e.length;++a){const s=e[a];(0,n.$X)(s)?this._clientPromises[a]=s.then((e=>(this._clients[a]=new l.A(e,t,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),o(i),this._clients[a])),(()=>(o(r),null))):(this._clients[a]=new l.A(s,t,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(i))}}))}broadcast(e,t,i){const r=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const s=this._clientPromises[n];r[n]=s.then((r=>r?.invoke(e,t,i)))}return r}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject((0,n.NK)(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject((0,n.NK)(`Worker closing, aborting job calling '${e.methodName}'`));for(const t of this._clientPromises)t.then((e=>e?.close()));this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,(0,o.h)(this)}invoke(e,t,i){return this.apply(e,[t],i)}apply(e,t,i){const r=(0,n.Tw)();("low"===i?.priority?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:t,invokeOptions:i,resolver:r});for(let n=0;n<this._clientPromises.length;n++){const e=this._clients[n];e?e.jobAdded():this._clientPromises[n].then((e=>e?.jobAdded()))}return r.promise}createInvokeProxy(e){return(0,a.L)(this,e)}on(e,t){return Promise.all(this._clientPromises).then((()=>(0,r.vE)(this._clients.map((i=>i.on(e,t))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let i=t.length;for(let r=0;r<this._clientPromises.length;++r)this._clientPromises[r].then((n=>{n&&(t[r]=n.openPort()),0==--i&&e(t)}))}))}get test(){}}},16491:(e,t,i)=>{"use strict";function r(e,t){return new Proxy({},{get:(i,r,n)=>(...i)=>{let n,s;const o=i[i.length-1];return function(e){return"object"==typeof e&&!Array.isArray(e)&&null!=e&&("signal"in e||"transferList"in e||0===Object.keys(e).length)}(o)&&(n=o.signal,s=o.transferList,i.pop()),e.apply(t?`${t}.${r.toString()}`:r.toString(),i,{transferList:s,signal:n})}})}i.d(t,{L:()=>r})},22910:(e,t,i)=>{"use strict";i.d(t,{A:()=>w});var r=i(28830),n=i(98849),s=i(64874),o=i(20464),a=i(6267),l=i(40189),c=i(16491);const u={statsWorker:()=>Promise.all([i.e(72076),i.e(96568),i.e(91717)]).then(i.bind(i,71164)),geometryEngineWorker:()=>Promise.all([i.e(72076),i.e(40835),i.e(81710)]).then(i.bind(i,81710)),arcadeGeometryOperatorsWorker:()=>i.e(40266).then(i.bind(i,40266)),CSVSourceWorker:()=>Promise.all([i.e(72076),i.e(46826),i.e(96568),i.e(74995),i.e(45442),i.e(41794)]).then(i.bind(i,41794)),EdgeProcessingWorker:()=>Promise.all([i.e(72076),i.e(1817),i.e(11215),i.e(42643)]).then(i.bind(i,42643)),ElevationSamplerWorker:()=>Promise.all([i.e(72076),i.e(52242)]).then(i.bind(i,52242)),FeatureServiceSnappingSourceWorker:()=>Promise.all([i.e(72076),i.e(46826),i.e(96568),i.e(74995),i.e(45442),i.e(50781)]).then(i.bind(i,50781)),GeoJSONSourceWorker:()=>Promise.all([i.e(72076),i.e(46826),i.e(96568),i.e(74995),i.e(45442),i.e(67103)]).then(i.bind(i,67103)),LercWorker:()=>i.e(88378).then(i.bind(i,88378)),MemorySourceWorker:()=>Promise.all([i.e(72076),i.e(46826),i.e(96568),i.e(74995),i.e(45442),i.e(33707)]).then(i.bind(i,33707)),PBFDecoderWorker:()=>Promise.all([i.e(72076),i.e(58408)]).then(i.bind(i,58408)),FeaturePipelineWorker:()=>Promise.all([i.e(72076),i.e(95518),i.e(48002),i.e(46826),i.e(56440),i.e(96568),i.e(74995),i.e(31795),i.e(82200),i.e(45357),i.e(14794),i.e(18047)]).then(i.bind(i,48899)),PointCloudWorker:()=>Promise.all([i.e(72076),i.e(92585),i.e(45558)]).then(i.bind(i,72483)),RasterWorker:()=>Promise.all([i.e(72076),i.e(98100),i.e(15995),i.e(35114),i.e(38712),i.e(31098)]).then(i.bind(i,84547)),SceneLayerSnappingSourceWorker:()=>Promise.all([i.e(72076),i.e(1817),i.e(11215),i.e(58467)]).then(i.bind(i,58467)),SceneLayerWorker:()=>Promise.all([i.e(72076),i.e(92585),i.e(74859),i.e(15976),i.e(91703)]).then(i.bind(i,91703)),WFSSourceWorker:()=>Promise.all([i.e(72076),i.e(46826),i.e(96568),i.e(74995),i.e(45442),i.e(83742)]).then(i.bind(i,83742)),WorkerTileHandler:()=>Promise.all([i.e(72076),i.e(95518),i.e(17744),i.e(60942)]).then(i.bind(i,72300)),Lyr3DWorker:()=>i.e(1133).then(i.bind(i,1133)),Feature3DPipelineWorker:()=>Promise.all([i.e(72076),i.e(1817),i.e(46826),i.e(92585),i.e(96568),i.e(74995),i.e(80695),i.e(28155),i.e(5567),i.e(74859),i.e(49490),i.e(39493)]).then(i.bind(i,9392)),TextureCompressionWorker:()=>i.e(80613).then(i.bind(i,80613))};var h=i(83214),d=i(38246);const{CLOSE:p,ABORT:f,INVOKE:m,RESPONSE:y,OPEN_PORT:g,ON:_}=h.Go;class v{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===h.Go.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class w{static{this.kernelInfo={buildDate:d.$,fullVersion:r.ol,revision:d.u}}static{this.clients=new Map}static connect(e,t){const i=new MessageChannel;let r;r="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e;const n=new w(i.port1,{channel:i,client:r,schedule:t});return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=n),w.clients.set(n,r),i.port2}static loadWorker(e){const t=u[e];return t?t():Promise.resolve(null)}constructor(e,t,i,r){this._port=e,this._jobQueue=i,this._lowPriorityJobQueue=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new v((e=>this._onInvokeMessage(e))),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:p}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,i){return this.apply(e,[t],i)}apply(e,t,i){const r=i?.signal,s=i?.transferList;if(!this._port)return Promise.reject(new n.A(h.T,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const o=(0,h.Jc)();return new Promise(((i,n)=>{if((0,l.G4)(r))return this._processWork(),void n((0,l.NK)());const c=(0,l.u7)(r,(()=>{const e=this._outJobs.get(o);e&&(this._outJobs.delete(o),this._processWork(),(0,a.xt)(e.abortHandle),this._post({type:f,jobId:o}),n((0,l.NK)()))})),u={resolve:i,reject:n,abortHandle:c,debugInfo:e};this._outJobs.set(o,u),this._post({type:m,jobId:o,methodName:e,abortable:null!=r},t,s)}))}createInvokeProxy(e){return(0,c.L)(this,e)}on(e,t){const i=new MessageChannel;function r(e){t(e.data)}return this._port.postMessage({type:h.Go.ON,eventType:e,port:i.port2},[i.port2]),i.port1.addEventListener("message",r),i.port1.start(),(0,o.hA)((()=>{i.port1.postMessage({type:h.Go.CLOSE}),i.port1.close(),i.port1.removeEventListener("message",r)}))}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:g,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=2)return;const e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;const{methodName:t,data:i,invokeOptions:r,resolver:n}=e;this.apply(t,i,r).then((e=>n.resolve(e))).catch((e=>n.reject(e)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{(0,a.xt)(e.abortHandle),e.reject((0,l.NK)(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){null!=this._schedule?this._schedule((()=>this._processMessage(e,!0))):this._processMessage(e,!1)}_processMessage(e,t){const i=(0,h.VI)(e);if(i)switch(i.type){case y:this._onResponseMessage(i);break;case m:t?this._onInvokeMessage(i):this._invokeQueue.push(i);break;case f:this._onAbortMessage(i);break;case p:this._onCloseMessage();break;case g:this._onOpenPortMessage(i);break;case _:this._onOnMessage(i)}}_onAbortMessage(e){const t=this._inJobs,i=e.jobId,r=t.get(i);this._invokeQueue.push(e),r&&(r.controller&&r.controller.abort(),t.delete(i))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&w.clients.get(this)===e&&e.destroy(),w.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:i,data:r=[],abortable:n}=e,s=n?new AbortController:null,o=this._inJobs;let a,c=this._client,u=c[t];try{if(!u&&t&&t.includes(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)c=c[e[t]],u=c[e[t+1]]}if("function"!=typeof u)throw new TypeError(`${t} is not a function`);r.push({client:this,signal:s?s.signal:null}),a=u.apply(c,r)}catch(d){return void this._post({type:y,jobId:i,error:(0,h.mF)(d)})}(0,l.$X)(a)?(o.set(i,{controller:s,promise:a}),a.then((e=>{o.has(i)&&(o.delete(i),this._post({type:y,jobId:i},e))}),(e=>{o.has(i)&&(o.delete(i),(0,l.zf)(e)||this._post({type:y,jobId:i,error:(0,h.mF)(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:y,jobId:i},a)}_onOpenPortMessage(e){new w(e.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,i=this._client.on(e.eventType,(e=>{t.postMessage(e)})),r=(0,s.on)(e.port,"message",(e=>{const n=(0,h.VI)(e);n?.type===h.Go.CLOSE&&(r.remove(),i.remove(),t.close())}))}_onResponseMessage(e){const{jobId:t,error:i,data:r}=e,s=this._outJobs;if(!s.has(t))return;const o=s.get(t);s.delete(t),this._processWork(),(0,a.xt)(o.abortHandle),i?o.reject(n.A.fromJSON(JSON.parse(i))):o.resolve(r)}_post(e,t,i){return(0,h.u1)(this._port,e,t,i)}}},29052:(e,t,i)=>{"use strict";i.d(t,{h:()=>s,k:()=>n});const r=new FinalizationRegistry((e=>{e.close()}));function n(e,t){r.register(e,t,t)}function s(e){r.unregister(e)}},83214:(e,t,i)=>{"use strict";i.d(t,{Go:()=>o,Jc:()=>l,T:()=>s,VI:()=>h,mF:()=>c,oV:()=>p,u1:()=>u});var r=i(39831),n=i(40189);const s="worker:port-closed";var o;!function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"}(o||(o={}));let a=0;function l(){return a++}function c(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function u(e,t,i,n){if(t.type===o.OPEN_PORT)return void e.postMessage(t,[t.port]);if(t.type!==o.INVOKE&&t.type!==o.RESPONSE)return void e.postMessage(t);let s;if(function(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}(i)?(s=d(i.transferList),t.data=i.result):(s=d(n),t.data=i),s){if((0,r.A)("ff"))for(const i of s)if("byteLength"in i&&i.byteLength>267386880){const i="Worker call with large ArrayBuffer would crash Firefox";switch(t.type){case o.INVOKE:throw i;case o.RESPONSE:return void u(e,{type:o.RESPONSE,jobId:t.jobId,error:c(i)})}}e.postMessage(t,s)}else e.postMessage(t)}function h(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function d(e){if(!e?.length)return null;if((0,r.A)("esri-workers-arraybuffer-transfer"))return e;const t=e.filter((e=>!function(e){return e instanceof ArrayBuffer||"ArrayBuffer"===e?.constructor?.name}(e)));return t.length?t:null}async function p(e){try{return await e}catch(a){const t=a?.name===s;if(!(0,n.zf)(a)&&!t)throw a;return}}},90752:(e,t,i)=>{"use strict";i.d(t,{n_:()=>z,ho:()=>V});var r=i(98849),n=i(39831),s=i(40189),o=i(7455),a=i(29052),l=i(22910),c=i(539),u=i(6267),h=i(86394),d=i(20909);const p={async request(e,t){const i=e.options,r=i.responseType;i.signal=t?.signal,i.responseType="native"===r||"native-request-init"===r?"native-request-init":r&&["blob","json","text"].includes(r)&&(0,d.sC)(e.url)?.after?r:"array-buffer";const n=await(0,h.A)(e.url,i),s={data:n.data,httpStatus:n.httpStatus,ssl:n.ssl};switch(n.requestOptions?.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=(new TextEncoder).encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=(new TextEncoder).encode(s.data).buffer}return{result:s,transferList:[s.data]}}};var f=i(83214),m=i(99050),y=i(21121),g=(i(17791),i(28830));const _={};var v=i(37103);class w{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((t=>{this[t]=(...i)=>e[t](...i)}))}}class b{constructor(){this._dispatcher=new w,this._workerPostMessage({type:f.Go.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){(0,v.d)((()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,i){this._dispatcher.addEventListener(e,t,i)}removeEventListener(e,t,i){this._dispatcher.removeEventListener(e,t,i)}_workerPostMessage(e){(0,v.d)((()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))}))}async _workerMessageHandler(e){const t=(0,f.VI)(e);if(t&&t.type===f.Go.OPEN){const{modulePath:e,jobId:i}=t;let r=await l.A.loadWorker(e);r||(r=await import(e));const n=l.A.connect(r);this._workerPostMessage({type:f.Go.OPENED,jobId:i,data:n})}}}var M=i(91109),A=i(38246);const S=()=>c.A.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:T}=f.Go;let E,x;const P="Failed to create Worker. Fallback to execute module in main thread";async function C(){if(!(0,n.A)("esri-workers"))return I(new b);if(!E&&!x)try{const e='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'.split("{CONFIGURATION}").join(function(){let e;if(null!=y.A.default){const t={...y.A};delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(y.A));e.assetsPath=(0,d.s2)(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?(0,d.s2)(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=(0,M.JK)(),e.has={"esri-csp-restrictions":(0,n.A)("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":(0,n.A)("esri-2d-update-debug"),"esri-2d-log-updating":(0,n.A)("esri-2d-log-updating"),"featurelayer-pbf":(0,n.A)("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":(0,n.A)("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":(0,n.A)("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":(0,n.A)("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":(0,n.A)("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":(0,n.A)("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":(0,n.A)("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":(0,n.A)("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":(0,n.A)("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":(0,n.A)("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":(0,n.A)("featurelayer-snapshot-enabled"),"esri-atomics":(0,n.A)("esri-atomics"),"esri-shared-array-buffer":(0,n.A)("esri-shared-array-buffer"),"esri-tiles-debug":(0,n.A)("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":(0,n.A)("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":(0,n.A)("feature-polyline-generalization-factor"),"host-webworker":1},e.workers.loaderUrl&&(e.workers.loaderUrl=(0,d.s2)(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=(0,d.s2)(e.workers.workerPath):e.workers.workerPath=(0,d.s2)((0,m.s)("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const t=y.A.workers.loaderConfig,i=function(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages?.slice()||[],paths:{..._.paths,...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=_.baseUrl),t}({baseUrl:t?.baseUrl,locale:(0,M.JK)(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...t?.has},map:{...t?.map},paths:{...t?.paths},packages:t?.packages||[]}),r={buildDate:A.$,fullVersion:g.ol,revision:A.u};return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:r})}());E=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(t){x=t||{}}let e;if(E)try{e=new Worker(E,{name:"esri-worker-"+O++})}catch(t){S().warn(P,x),e=new b}else S().warn(P,x),e=new b;return I(e)}async function I(e){return new Promise((t=>{function i(n){const s=(0,f.VI)(n);s&&s.type===T&&(e.removeEventListener("message",i),e.removeEventListener("error",r),t(e))}function r(t){t.preventDefault(),e.removeEventListener("message",i),e.removeEventListener("error",r),S().warn("Failed to create Worker. Fallback to execute module in main thread",t),(e=new b).addEventListener("message",i),e.addEventListener("error",r)}e.addEventListener("message",i),e.addEventListener("error",r)}))}let O=0;const{ABORT:R,INVOKE:N,OPEN:k,OPENED:L,RESPONSE:D}=f.Go;class Z{static async create(e){const t=await C();return new Z(t,e)}constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",(e=>{e.preventDefault(),c.A.getLogger("esri.core.workers.WorkerOwner").error(e)}))}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:i}=t,r=(0,f.Jc)();return new Promise(((t,n)=>{const o={resolve:t,reject:n,abortHandle:(0,s.NY)(i,(()=>{this._outJobs.delete(r),this._post({type:R,jobId:r})}))};this._outJobs.set(r,o),this._post({type:k,jobId:r,modulePath:e})}))}_onMessage(e){const t=(0,f.VI)(e);if(t)switch(t.type){case L:this._onOpenedMessage(t);break;case D:this._onResponseMessage(t);break;case R:this._onAbortMessage(t);break;case N:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,i=e.jobId,r=t.get(i);r&&(r.controller&&r.controller.abort(),t.delete(i))}_onInvokeMessage(e){const{methodName:t,jobId:i,data:r,abortable:n}=e,o=n?new AbortController:null,a=this._inJobs,l=p[t];let c;try{if("function"!=typeof l)throw new TypeError(`${t} is not a function`);c=l.call(null,r,{signal:o?o.signal:null})}catch(u){return void this._post({type:D,jobId:i,error:(0,f.mF)(u)})}(0,s.$X)(c)?(a.set(i,{controller:o,promise:c}),c.then((e=>{a.has(i)&&(a.delete(i),this._post({type:D,jobId:i},e))}),(e=>{a.has(i)&&(a.delete(i),e||(e={message:"Error encountered at method"+t}),(0,s.zf)(e)||this._post({type:D,jobId:i,error:(0,f.mF)(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:D,jobId:i},c)}_onOpenedMessage(e){const{jobId:t,data:i}=e,r=this._outJobs.get(t);r&&(this._outJobs.delete(t),(0,u.xt)(r.abortHandle),r.resolve(i))}_onResponseMessage(e){const{jobId:t,error:i,data:n}=e,s=this._outJobs.get(t);s&&(this._outJobs.delete(t),(0,u.xt)(s.abortHandle),i?s.reject(r.A.fromJSON(JSON.parse(i))):s.resolve(n))}_post(e,t,i){return(0,f.u1)(this.worker,e,t,i)}}const F=(0,n.A)("host-browser")?Math.min(navigator.hardwareConcurrency-1,(0,n.A)("workers-pool-size")??8):0;let U=(0,n.A)("esri-mobile")?Math.min(F,3):F;U||(U=(0,n.A)("safari")&&(0,n.A)("mac")?7:2);let j=0;const G=[];function z(){H()}async function $(e,t){const i=new o.A,{registryTarget:r,...n}=t;return await i.open(e,n),r&&(0,a.k)(r,i),i}async function V(e,t={}){if("string"!=typeof e)throw new r.A("workers:undefined-module","modulePath is missing");let i=t.strategy||"distributed";if((0,n.A)("host-webworker")&&!(0,n.A)("esri-workers")&&(i="local"),"local"===i){let i=await l.A.loadWorker(e);i||(i=await import(e)),(0,s.Te)(t.signal);const r=t.client||i;return $([l.A.connect(i,t.schedule)],{...t,client:r})}if(await H(),(0,s.Te)(t.signal),"dedicated"===i){const i=j++%U;return $([await G[i].open(e,t)],t)}if(t.maxNumWorkers&&t.maxNumWorkers>0){const i=Math.min(t.maxNumWorkers,U);if(i<U){const r=new Array(i);for(let n=0;n<i;++n){const i=j++%U;r[n]=G[i].open(e,t)}return $(r,t)}}return $(G.map((i=>i.open(e,t))),t)}let B,q=null;async function H(){if(q)return q;B=new AbortController;const e=[];for(let t=0;t<U;t++){const i=Z.create(t).then((e=>(G[t]=e,e)));e.push(i)}return q=Promise.all(e),q}},84698:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var r,n=i(66866),s=i(96274),o=i(21564),a=(i(39831),i(539),i(9272),i(63863)),l=i(88266),c=i(97066),u=i(78983),h=i(1364),d=i(43525),p=i(87926),f=i(96082);function m(e,t,i){return null==t?i:null==i?t:e(t,i)}let y=r=class extends l.A{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,i,r,n){return function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?u.A.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:i,ymax:r,spatialReference:n??u.A.WGS84}}static fromPoint(e){return new r({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new c.A({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new r;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&(0,f.y7)(t,i)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),"point"===e.type?(0,h.qz)(this,e):"extent"===e.type&&(0,h.gH)(this,e)}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,i=e.spatialReference;return t&&i&&!t.equals(i)&&(0,f.y7)(t,i)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),i=this.width*t,r=this.height*t;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(null==e)return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,i=e.spatialReference;return t&&i&&!(0,p.aI)(t,i)&&(0,f.y7)(t,i)&&(e=t.isWebMercator?(0,f.Gh)(e):(0,f.ci)(e,!0)),(0,d.xK)(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,i){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=i&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.min,this.zmin,e.zmin),this.zmax=m(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.min,this.mmin,e.mmin),this.mmax=m(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:null!=e&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=m(Math.max,this.zmin,e.zmin),this.zmax=m(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=m(Math.max,this.mmin,e.mmin),this.mmax=m(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=(0,p.Vp)(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,i=this._getCM(e);if(i){const r=t.isWebMercator?(0,f.ci)(i):i;this.xmin-=i.x,this.xmax-=i.x,t.isWebMercator||(r.x=g(r.x,e).x),this.spatialReference=new u.A((0,s.HC)((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(e){let t=null;const[i,r]=e.valid,n=this.xmin,s=this.xmax;return n>=i&&n<=r&&s>=i&&s<=r||(t=this.center),t}_normalize(e,t,i){const r=this.spatialReference;if(!r)return this;const n=i??(0,p.Vp)(r);if(null==n)return this;const s=this._getParts(n).map((e=>e.extent));if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return s;let o=!0,a=!0;return s.forEach((e=>{e.hasZ||(o=!1),e.hasM||(a=!1)})),{rings:s.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(o){const i=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(i)}if(a){const i=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(i)}return t})),hasZ:o,hasM:a,spatialReference:r}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:i,ymax:n,spatialReference:s}=this,o=this.width,a=this.xmin,l=this.xmax;let c;e=e||(0,p.Vp)(s);const[u,h]=e.valid;c=g(this.xmin,e);const d=c.x,f=c.frameId;c=g(this.xmax,e);const m=c.x,y=c.frameId,_=d===m&&o>0;if(o>2*h){const e=new r(a<l?d:m,i,h,n,s),o=new r(u,i,a<l?m:d,n,s),c=new r(0,i,h,n,s),p=new r(u,i,0,n,s),g=[],_=[];e.contains(c)&&g.push(f),e.contains(p)&&_.push(f),o.contains(c)&&g.push(y),o.contains(p)&&_.push(y);for(let t=f+1;t<y;t++)g.push(t),_.push(t);t.push({extent:e,frameIds:[f]},{extent:o,frameIds:[y]},{extent:c,frameIds:g},{extent:p,frameIds:_})}else d>m||_?t.push({extent:new r(d,i,h,n,s),frameIds:[f]},{extent:new r(u,i,m,n,s),frameIds:[y]}):t.push({extent:new r(d,i,m,n,s),frameIds:[f]});this.cache._parts=t}const i=this.hasZ,n=this.hasM;if(i||n){const e={};i&&(e.zmin=this.zmin,e.zmax=this.zmax),n&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let i=0;i<t.length;i++)t[i].extent.set(e)}return t}};function g(e,t){const[i,r]=t.valid,n=2*r;let s,o=0;return e>r?(s=Math.ceil(Math.abs(e-r)/n),e-=s*n,o=s):e<i&&(s=Math.ceil(Math.abs(e-i)/n),e+=s*n,o=-s),{x:e,frameId:o}}(0,n._)([(0,o.MZ)({readOnly:!0})],y.prototype,"cache",null),(0,n._)([(0,o.MZ)({readOnly:!0})],y.prototype,"center",null),(0,n._)([(0,o.MZ)({readOnly:!0})],y.prototype,"extent",null),(0,n._)([(0,o.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasM",null),(0,n._)([(0,o.MZ)({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],y.prototype,"hasZ",null),(0,n._)([(0,o.MZ)({readOnly:!0})],y.prototype,"height",null),(0,n._)([(0,o.MZ)({readOnly:!0})],y.prototype,"width",null),(0,n._)([(0,o.MZ)({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],y.prototype,"xmin",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{write:!0}})],y.prototype,"ymin",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmin",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmin",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{write:!0}})],y.prototype,"xmax",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{write:!0}})],y.prototype,"ymax",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],y.prototype,"mmax",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],y.prototype,"zmax",void 0),y=r=(0,n._)([(0,a.$)("esri.geometry.Extent")],y),y.prototype.toJSON.isDefaultToJSON=!0},88266:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(66866),n=i(21877),s=i(21564),o=(i(39831),i(539),i(9272),i(75094)),a=i(63863),l=i(78983);let c=class extends n.A{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=l.A.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof l.A)return e;if(null!=e){const i=new l.A;return i.read(e,t),i}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};(0,r._)([(0,s.MZ)()],c.prototype,"type",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],c.prototype,"cache",null),(0,r._)([(0,s.MZ)({readOnly:!0})],c.prototype,"extent",null),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasM",void 0),(0,r._)([(0,s.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c.prototype,"hasZ",void 0),(0,r._)([(0,s.MZ)({type:l.A,json:{write:!0},value:l.A.WGS84})],c.prototype,"spatialReference",void 0),(0,r._)([(0,o.w)("spatialReference")],c.prototype,"readSpatialReference",null),c=(0,r._)([(0,a.$)("esri.geometry.Geometry")],c)},34064:(e,t,i)=>{"use strict";i.d(t,{A:()=>g});var r,n=i(66866),s=i(85569),o=i(59851),a=i(21877),l=i(92976),c=i(68659),u=i(21564),h=(i(39831),i(539),i(75094)),d=i(63863),p=i(77542);const f=(0,o.O)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),m=f.jsonValues.slice();(0,s.Xy)(m,"orthometric");const y=(0,o.O)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let g=r=class extends a.A{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,i){return f.write(e,t,i)}readHeightModel(e,t,i){return f.read(e)||(i?.messages&&i.messages.push(function(e,t){return new c.A("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}(e,{context:i})),null)}readHeightUnit(e,t,i){return y.read(e)||(i?.messages&&i.messages.push(_(e,{context:i})),null)}readHeightUnitService(e,t,i){return(0,l.LA)(e)||y.read(e)||(i?.messages&&i.messages.push(_(e,{context:i})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new r({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const i=(0,l.k1)(t);return new r({heightModel:e.heightModel,heightUnit:i??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new r;return t.read(e,{origin:"web-scene"}),t}};function _(e,t){return new c.A("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}(0,n._)([(0,u.MZ)({type:f.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:m,default:"ellipsoidal",write:{isRequired:!0}}}}})],g.prototype,"heightModel",void 0),(0,n._)([(0,p.K)("web-scene","heightModel")],g.prototype,"writeHeightModel",null),(0,n._)([(0,h.w)(["web-scene","service"],"heightModel")],g.prototype,"readHeightModel",null),(0,n._)([(0,u.MZ)({type:y.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:y.jsonValues,write:{writer:y.write,isRequired:!0}}}}})],g.prototype,"heightUnit",void 0),(0,n._)([(0,h.w)("web-scene","heightUnit")],g.prototype,"readHeightUnit",null),(0,n._)([(0,h.w)("service","heightUnit")],g.prototype,"readHeightUnitService",null),(0,n._)([(0,u.MZ)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],g.prototype,"vertCRS",void 0),(0,n._)([(0,h.w)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],g.prototype,"readVertCRS",null),g=r=(0,n._)([(0,d.$)("esri.geometry.HeightModelInfo")],g)},90067:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var r,n=i(66866),s=i(19251),o=i(21564),a=(i(39831),i(539),i(63863)),l=i(77542),c=i(84698),u=i(88266),h=i(97066),d=i(21478);function p(e){return(t,i)=>null==t?i:null==i?t:e(t,i)}let f=r=class extends u.A{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const i={};Array.isArray(e)?(i.points=e,i.spatialReference=t):function(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}(e)?i.spatialReference=e:(e.points&&(i.points=e.points),e.spatialReference&&(i.spatialReference=e.spatialReference),e.hasZ&&(i.hasZ=e.hasZ),e.hasM&&(i.hasM=e.hasM));const r=i.points?.[0];return r&&(void 0===i.hasZ&&void 0===i.hasM?(i.hasZ=r.length>2,i.hasM=!1):void 0===i.hasZ?i.hasZ=r.length>3:void 0===i.hasM&&(i.hasM=r.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new c.A,i=this.hasZ,r=this.hasM,n=i?3:2,s=e[0],o=p(Math.min),a=p(Math.max);let l,u,h,d,[f,m]=s,[y,g]=s;for(let c=0,p=e.length;c<p;c++){const t=e[c],[s,p]=t;if(f=o(f,s),m=o(m,p),y=a(y,s),g=a(g,p),i&&t.length>2){const e=t[2];l=o(l,e),h=a(h,e)}if(r&&t.length>n){const e=t[n];u=o(u,e),d=a(d,e)}}return t.xmin=f,t.ymin=m,t.xmax=y,t.ymax=g,t.spatialReference=this.spatialReference,i?(t.zmin=l,t.zmax=h):(t.zmin=void 0,t.zmax=void 0),r?(t.mmin=u,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=(0,s.o8)(this.points)}addPoint(e){return(0,d.h)(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:(0,s.o8)(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new r(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],i={x:t[0],y:t[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=t[2],r=3),this.hasM&&(i.m=t[r]),new h.A(i)}removePoint(e){if(!this._validateInputs(e))return null;const t=new h.A(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?((0,d.h)(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}};(0,n._)([(0,o.MZ)({readOnly:!0})],f.prototype,"cache",null),(0,n._)([(0,o.MZ)()],f.prototype,"extent",null),(0,n._)([(0,o.MZ)({type:[[Number]],json:{write:{isRequired:!0}}})],f.prototype,"points",void 0),(0,n._)([(0,l.K)("points")],f.prototype,"writePoints",null),f=r=(0,n._)([(0,a.$)("esri.geometry.Multipoint")],f),f.prototype.toJSON.isDefaultToJSON=!0},97066:(e,t,i)=>{"use strict";i.d(t,{A:()=>w});var r,n=i(66866),s=i(52495),o=i(539),a=i(21564),l=i(4130),c=(i(39831),i(9272),i(75094)),u=i(63863),h=i(77542),d=i(73446),p=i(88266),f=i(78983),m=i(76557),y=i(87926),g=i(96082);const _=[0,0];function v(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let w=r=class extends p.A{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const i=e._get("spatialReference");t._set("spatialReference",s.A.isFrozen(i)?i:i.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,i,r,n){let s;if(Array.isArray(e))s=e,n=t,e=s[0],t=s[1],i=s[2],r=s[3];else if(e&&"object"==typeof e){if(s=e,e=null!=s.x?s.x:s.longitude,t=null!=s.y?s.y:s.latitude,i=s.z,r=s.m,(n=s.spatialReference)&&"esri.geometry.SpatialReference"!==n.declaredClass&&(n=new f.A(n)),null!=s.longitude||null!=s.latitude)if(null==s.longitude)o.A.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==s.latitude)o.A.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n?.isWebMercator){const i=(0,g.je)(s.longitude,s.latitude,_);e=i[0],t=i[1]}}else v(i)?(n=i,i=null):v(r)&&(n=r,r=null);const a={x:e,y:t};return null==a.x&&null!=a.y?o.A.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&o.A.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=n&&(a.spatialReference=n),null!=i&&(a.z=i),null!=r&&(a.m=r),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return(0,m.T0)(this)}set latitude(e){const{spatialReference:t,x:i}=this;null!=e&&t&&(t.isWebMercator?this._set("y",(0,g.je)(i,e,_)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return(0,m.EZ)(this)}set longitude(e){const{y:t,spatialReference:i}=this;null!=e&&i&&(i.isWebMercator?this._set("x",(0,g.je)(e,t,_)[0]):i.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,i){t[i]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new r;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return r.copy(e,this),this}equals(e){if(null==e)return!1;const{x:t,y:i,z:r,m:n,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:u}=e;if(!s.equals(u))if(s.isWebMercator&&u.isWGS84)[l,c]=(0,g.je)(l,c),u=s;else{if(!s.isWGS84||!u.isWebMercator)return!1;[l,c]=(0,g.tD)(l,c),u=s}return t===l&&i===c&&r===o&&n===a&&s.wkid===u.wkid}offset(e,t,i){return this.x+=e,this.y+=t,null!=i&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const e=(0,y.Vp)(this.spatialReference);if(!e)return this;let t=this.x;const[i,r]=e.valid,n=2*r;let s;return t>r?(s=Math.ceil(Math.abs(t-r)/n),t-=s*n):t<i&&(s=Math.ceil(Math.abs(t-i)/n),t+=s*n),this._set("x",t),this}distance(e){return(0,m.Io)(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};(0,n._)([(0,a.MZ)({readOnly:!0})],w.prototype,"cache",null),(0,n._)([(0,a.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasM",null),(0,n._)([(0,a.MZ)({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasZ",null),(0,n._)([(0,a.MZ)({type:Number})],w.prototype,"latitude",null),(0,n._)([(0,a.MZ)({type:Number})],w.prototype,"longitude",null),(0,n._)([(0,a.MZ)({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),(0,l.w)((e=>isNaN(e)?e:(0,d.GB)(e)))],w.prototype,"x",void 0),(0,n._)([(0,h.K)("x")],w.prototype,"writeX",null),(0,n._)([(0,c.w)("x")],w.prototype,"readX",null),(0,n._)([(0,a.MZ)({type:Number,json:{write:!0}})],w.prototype,"y",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],w.prototype,"z",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],w.prototype,"m",void 0),w=r=(0,n._)([(0,u.$)("esri.geometry.Point")],w),w.prototype.toJSON.isDefaultToJSON=!0},62802:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var r,n=i(66866),s=i(85569),o=i(50220),a=i(19251),l=i(539),c=i(21564),u=(i(39831),i(63863)),h=i(77542),d=i(84698),p=i(88266),f=i(97066),m=i(78983),y=i(23806),g=i(1364),_=i(65319),v=i(90557),w=i(43525),b=i(96082),M=i(21478);function A(e){return!Array.isArray(e[0])}let S=r=class extends p.A{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:i}=e;let n=!1,s=!1;for(const r of t)r.hasZ&&(n=!0),r.hasM&&(s=!0);const o={rings:t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ){const i=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(i)}if(s&&e.hasM){const i=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(i)}return t})),spatialReference:i};return n&&(o.hasZ=!0),s&&(o.hasM=!0),new r(o)}constructor(e){super(function(e){if(!e)return;let{rings:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??=[],function(e){return"number"==typeof e[0]?.[0]}(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=!0!==i,i??=!r;break;default:r??=!1,i??=!1}return n??=m.A.WGS84,{...e,hasM:i,hasZ:r,rings:t,spatialReference:n}}(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=(0,y.l8)(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new f.A;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=(0,a.o8)(e)}get extent(){const e=(0,v.v)(this),{spatialReference:t}=this;return e?new d.A({...e,spatialReference:t}):null}get isSelfIntersecting(){return(0,o.Lx)(l.A.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),(0,w.A3)(this.rings)}writeRings(e,t){t.rings=(0,a.o8)(this.rings)}addRing(e){if(!e)return;const t=this.rings,i=t.length;if(A(e)){const r=[];for(let t=0,i=e.length;t<i;t++)r[t]=e[t].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new r;return e.spatialReference=this.spatialReference,e.rings=(0,a.o8)(this.rings),e.curveRings=(0,a.o8)(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,i=e.spatialReference;if(null!=t!=(null!=i))return!1;if(null!=t&&null!=i&&!t.equals(i))return!1;if(this.rings.length!==e.rings.length)return!1;const r=([e,t,i,r],[n,s,o,a])=>e===n&&t===s&&(null==i&&null==o||i===o)&&(null==r&&null==a||r===a);for(let n=0;n<this.rings.length;n++){const t=this.rings[n],i=e.rings[n];if(!(0,s.aI)(t,i,r))return!1}return!0}contains(e){if(!e)return!1;const t=(0,b.Cv)(e,this.spatialReference);return(0,g.m3)(this,null!=t?t:e)}isClockwise(e){const t=A(e)?e.map((e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])):e;return(0,_.$3)(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.rings[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new f.A(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new f.A(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new f.A(i[0],i[1],i[2],i[3],this.spatialReference):new f.A(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?((0,M.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e].splice(t,0,i),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new f.A(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],i=this.spatialReference,r=t.map((e=>new f.A(e,i)));return this.notifyChange("rings"),r}setPoint(e,t,i){return this._validateInputs(e,t)?((0,M.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[e][t]=i,this.notifyChange("rings"),this):this}_validateInputs(e,t,i=!1){if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const r=this.rings[e];if(i&&(t<0||t>r.length))return!1;if(!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};(0,n._)([(0,c.MZ)({readOnly:!0})],S.prototype,"cache",null),(0,n._)([(0,c.MZ)({readOnly:!0})],S.prototype,"centroid",null),(0,n._)([(0,c.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],S.prototype,"curveRings",void 0),(0,n._)([(0,h.K)("curveRings")],S.prototype,"writeCurveRings",null),(0,n._)([(0,c.MZ)({readOnly:!0})],S.prototype,"extent",null),(0,n._)([(0,c.MZ)({readOnly:!0})],S.prototype,"isSelfIntersecting",null),(0,n._)([(0,c.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],S.prototype,"rings",void 0),(0,n._)([(0,h.K)("rings")],S.prototype,"writeRings",null),S=r=(0,n._)([(0,u.$)("esri.geometry.Polygon")],S),S.prototype.toJSON.isDefaultToJSON=!0},42238:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var r,n=i(66866),s=i(19251),o=i(21564),a=(i(39831),i(539),i(63863)),l=i(77542),c=i(84698),u=i(88266),h=i(97066),d=i(78983),p=i(90557),f=i(21478);let m=r=class extends u.A{constructor(e){super(function(e){if(!e)return;let{paths:t,hasM:i,hasZ:r,spatialReference:n}=e;switch(t??=[],function(e){return"number"==typeof e[0]?.[0]}(t)&&(t=[t]),t[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=!0!==i,i??=!r;break;default:r??=!1,i??=!1}return n??=d.A.WGS84,{...e,hasM:i,hasZ:r,paths:t,spatialReference:n}}(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=(0,s.o8)(e)}get extent(){const e=(0,p.Z3)(this),{spatialReference:t}=this;return e?new c.A({...e,spatialReference:t}):null}writePaths(e,t){t.paths=(0,s.o8)(this.paths)}addPath(e){if(!e)return;const t=this.paths,i=t.length;if(function(e){return!Array.isArray(e[0])}(e)){const r=[];for(let t=0,i=e.length;t<i;t++)r[t]=e[t].toArray();t[i]=r}else t[i]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new r;return e.spatialReference=this.spatialReference,e.paths=(0,s.o8)(this.paths),e.curvePaths=(0,s.o8)(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const i=this.paths[e][t],r=this.hasZ,n=this.hasM;return r&&!n?new h.A(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new h.A(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new h.A(i[0],i[1],i[2],i[3],this.spatialReference):new h.A(i[0],i[1],this.spatialReference)}insertPoint(e,t,i){return this._validateInputs(e,t,!0)?((0,f.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e].splice(t,0,i),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],i=this.spatialReference,r=t.map((e=>new h.A(e,i)));return this.notifyChange("paths"),r}removePoint(e,t){if(!this._validateInputs(e,t))return null;const i=new h.A(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(e,t,i){return this._validateInputs(e,t)?((0,f.h)(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[e][t]=i,this.notifyChange("paths"),this):this}_validateInputs(e,t,i=!1){if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const r=this.paths[e];if(i&&(t<0||t>r.length))return!1;if(!i&&(t<0||t>=r.length))return!1}return!0}toJSON(e){return this.write({},e)}};(0,n._)([(0,o.MZ)({readOnly:!0})],m.prototype,"cache",null),(0,n._)([(0,o.MZ)({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],m.prototype,"curvePaths",void 0),(0,n._)([(0,l.K)("curvePaths")],m.prototype,"writeCurvePaths",null),(0,n._)([(0,o.MZ)({readOnly:!0})],m.prototype,"extent",null),(0,n._)([(0,o.MZ)({type:[[[Number]]],json:{write:{isRequired:!0}}})],m.prototype,"paths",void 0),(0,n._)([(0,l.K)("paths")],m.prototype,"writePaths",null),m=r=(0,n._)([(0,a.$)("esri.geometry.Polyline")],m),m.prototype.toJSON.isDefaultToJSON=!0},78983:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var r,n=i(66866),s=i(52495),o=i(21877),a=i(19251),l=i(92976),c=i(73446),u=i(21564),h=i(63863),d=i(77542),p=i(87926);let f=class extends o.A{static{r=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(e){if(!e)return null;if(102100===e?.wkid)return r.WebMercator;if(4326===e?.wkid)return r.WGS84;const t=new r;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){if(e&&"object"==typeof e)return e;const t="string"==typeof e?"wkt":"wkid";return{[t]:e}}get isWGS84(){return(0,p.oT)(this)}get isWebMercator(){return(0,p.K8)(this)}get isGeographic(){return(0,p.EA)(this)}get isWrappable(){return(0,p.d9)(this)}get metersPerUnit(){return(0,l.GA)(this)}get unit(){return(0,l.Ij)(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===r.WGS84)return new r(p.KK);if(this===r.WebMercator)return new r(p.ch);const e=new r;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(e.wkt=this.wkt),null!=this.wkt2&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=(0,a.o8)(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:i}=e.imageCoordinateSystem,{geodataXform:r}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return null==t||r?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):i?n.id===t&&n.referenceServiceName===i:n.id===t}return(0,p.aI)(this,e)}toJSON(e){return this.write(void 0,e)}};(0,n._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWGS84",null),(0,n._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWebMercator",null),(0,n._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isGeographic",null),(0,n._)([(0,u.MZ)({readOnly:!0})],f.prototype,"isWrappable",null),(0,n._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"latestWkid",void 0),(0,n._)([(0,u.MZ)({readOnly:!0})],f.prototype,"metersPerUnit",null),(0,n._)([(0,u.MZ)({readOnly:!0})],f.prototype,"unit",null),(0,n._)([(0,u.MZ)({type:c.jz,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],f.prototype,"wkid",void 0),(0,n._)([(0,u.MZ)({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],f.prototype,"wkt",void 0),(0,n._)([(0,d.K)("wkt"),(0,d.K)("web-scene","wkt")],f.prototype,"writeWkt",null),(0,n._)([(0,u.MZ)({type:String,json:{write:!1}})],f.prototype,"wkt2",void 0),(0,n._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"vcsWkid",void 0),(0,n._)([(0,u.MZ)({type:c.jz,json:{write:!0}})],f.prototype,"latestVcsWkid",void 0),(0,n._)([(0,u.MZ)()],f.prototype,"imageCoordinateSystem",void 0),f=r=(0,n._)([(0,h.$)("esri.geometry.SpatialReference")],f),f.prototype.toJSON.isDefaultToJSON=!0,f.GCS_NAD_1927=s.A.freeze(new f({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),f.WGS84=s.A.freeze(new f(p.KK)),f.WebMercator=s.A.freeze(new f(p.ch)),f.PlateCarree=s.A.freeze(new f(p.tQ))},78431:(e,t,i)=>{"use strict";i.d(t,{H:()=>s,f:()=>n});var r=i(98849);function n(e){if(e&&"object"==typeof e&&"type"in e&&"mesh"===e.type)throw new r.A("internal:mesh","Mesh geometries are not supported for this operation")}function s(e){e.forEach(n)}},47936:(e,t,i)=>{"use strict";i.d(t,{FY:()=>a,LJ:()=>l,Ro:()=>c,fv:()=>o,jA:()=>f,tO:()=>d,xP:()=>m,y7:()=>p});var r=i(99817),n=i(87926);function s(e){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const o=s(r.$O),a=s(r.sH),l=s(r.Sw),c={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${r.$O.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},u=a.wkt.toUpperCase(),h=l.wkt.toUpperCase();function d(e){if(null!=e&&(0,n.fn)(e)){const t=e.wkid,i=e.wkt2??e.wkt;if((0,n.tl)(t))return r.sH;const s=i?.toUpperCase();if(i&&s===u)return r.sH;if((0,n.ZL)(t)||s&&s===h)return r.Sw}return r.$O}function p(e){return(0,n.tl)(e)?r.sH:(0,n.ZL)(e)?r.Sw:r.$O}function f(e){return(0,n.aI)(e,o)}function m(e){return f(e)||(0,n.aI)(e,a)||(0,n.aI)(e,l)}},18159:(e,t,i)=>{"use strict";function r(e){const t=[];for(e.reset();e.nextPath();){const i=[];for(;e.nextPoint();)i.push([e.x,e.y]);t.push(i)}return e.reset(),t}function n(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}i.d(t,{A:()=>n,x:()=>r})},84119:(e,t,i)=>{"use strict";i.r(t),i.d(t,{projectBuffer:()=>n});var r=i(12943);function n(e,t,i,n,s,o,a=Math.floor(e.length/3)){const l=(0,r.jd)(t,s);if(null==l)return!1;if(l===r.pO){if(e===n&&i===o)return!0;const t=i+3*a;for(let r=i,s=o;r<t;r++,s++)n[s]=e[r];return!0}const c=i+3*a;for(let r=i,u=o;r<c;r+=3,u+=3)l(e,r,n,u);return!0}},47092:(e,t,i)=>{"use strict";i.d(t,{L:()=>s});var r=i(58359),n=i(84119);function s(e,t,i,r,s,a){return o[0]=e,o[1]=t,o[2]=i,(0,n.projectBuffer)(o,r,0,s,a,0)}const o=(0,r.vt)()},12943:(e,t,i)=>{"use strict";i.d(t,{RC:()=>v,Tp:()=>p,jd:()=>d,n4:()=>P,pO:()=>m,rz:()=>r,w5:()=>h});var r,n=i(92504),s=i(92976),o=i(47936),a=i(99817),l=i(5324),c=i(87926),u=i(95859);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"}(r||(r={}));const h={[r.WGS84]:{[r.CGCS2000]:m,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:m,[r.SPHERICAL_ECEF]:x,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:w,[r.PLATE_CARREE]:b,[r.WGS84]:m,[r.WGS84_ECEF]:k},[r.CGCS2000]:{[r.CGCS2000]:m,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:m,[r.SPHERICAL_ECEF]:x,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:w,[r.PLATE_CARREE]:b,[r.WGS84]:m,[r.WGS84_ECEF]:k},[r.GCSMARS2000]:{[r.CGCS2000]:null,[r.GCSMARS2000]:m,[r.GCSMOON2000]:null,[r.LON_LAT]:m,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:E,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.GCSMOON2000]:{[r.CGCS2000]:null,[r.GCSMARS2000]:null,[r.GCSMOON2000]:m,[r.LON_LAT]:m,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:T,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.WEB_MERCATOR]:{[r.CGCS2000]:y,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:y,[r.SPHERICAL_ECEF]:g,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:m,[r.PLATE_CARREE]:A,[r.WGS84]:y,[r.WGS84_ECEF]:_},[r.WGS84_ECEF]:{[r.CGCS2000]:L,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:L,[r.SPHERICAL_ECEF]:D,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:Z,[r.PLATE_CARREE]:function(e,t,i,r){L(e,t,i,r),b(i,r,i,r)},[r.WGS84]:L,[r.WGS84_ECEF]:m},[r.SPHERICAL_ECEF]:{[r.CGCS2000]:O,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:O,[r.SPHERICAL_ECEF]:m,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:R,[r.PLATE_CARREE]:function(e,t,i,r){O(e,t,i,r),b(i,r,i,r)},[r.WGS84]:O,[r.WGS84_ECEF]:N},[r.SPHERICAL_MARS_PCPF]:{[r.CGCS2000]:null,[r.GCSMARS2000]:I,[r.GCSMOON2000]:null,[r.LON_LAT]:I,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:m,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.SPHERICAL_MOON_PCPF]:{[r.CGCS2000]:null,[r.GCSMARS2000]:null,[r.GCSMOON2000]:C,[r.LON_LAT]:C,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:m,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.UNKNOWN]:{[r.CGCS2000]:null,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:null,[r.SPHERICAL_ECEF]:null,[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:m,[r.WEB_MERCATOR]:null,[r.PLATE_CARREE]:null,[r.WGS84]:null,[r.WGS84_ECEF]:null},[r.LON_LAT]:{[r.CGCS2000]:m,[r.GCSMARS2000]:m,[r.GCSMOON2000]:m,[r.LON_LAT]:m,[r.SPHERICAL_ECEF]:x,[r.SPHERICAL_MARS_PCPF]:E,[r.SPHERICAL_MOON_PCPF]:T,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:w,[r.PLATE_CARREE]:b,[r.WGS84]:m,[r.WGS84_ECEF]:k},[r.PLATE_CARREE]:{[r.CGCS2000]:M,[r.GCSMARS2000]:null,[r.GCSMOON2000]:null,[r.LON_LAT]:M,[r.SPHERICAL_ECEF]:function(e,t,i,r){M(e,t,i,r),x(i,r,i,r)},[r.SPHERICAL_MARS_PCPF]:null,[r.SPHERICAL_MOON_PCPF]:null,[r.UNKNOWN]:null,[r.WEB_MERCATOR]:function(e,t,i,r){M(e,t,i,r),w(i,r,i,r)},[r.PLATE_CARREE]:m,[r.WGS84]:M,[r.WGS84_ECEF]:function(e,t,i,r){M(e,t,i,r),k(i,r,i,r)}}};function d(e,t){return p(e,t)?.projector}function p(e,t){if(null==e||null==t)return null;if(F.source.spatialReference===e&&F.dest.spatialReference===t)return F;const i=f(e,F.source),n=f(t,F.dest);return i===r.UNKNOWN&&n===r.UNKNOWN?(0,c.aI)(e,t)?F.projector=m:F.projector=null:F.projector=h[i][n],F}function f(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,s.GA)(e,1)),(0,o.jA)(e)?t.spatialReferenceId=r.SPHERICAL_ECEF:(0,c.oT)(e)?t.spatialReferenceId=r.WGS84:(0,c.K8)(e)?t.spatialReferenceId=r.WEB_MERCATOR:(0,c.r1)(e)?t.spatialReferenceId=r.PLATE_CARREE:e.wkt===o.Ro.wkt?t.spatialReferenceId=r.WGS84_ECEF:e.wkid===u.Y.CGCS2000?t.spatialReferenceId=r.CGCS2000:e.wkt===o.FY.wkt?t.spatialReferenceId=r.SPHERICAL_MARS_PCPF:e.wkt===o.LJ.wkt?t.spatialReferenceId=r.SPHERICAL_MOON_PCPF:(0,c.q8)(e)?t.spatialReferenceId=r.GCSMARS2000:(0,c.KQ)(e)?t.spatialReferenceId=r.GCSMOON2000:t.spatialReferenceId=r.UNKNOWN):r.UNKNOWN}function m(e,t,i,r){e!==i&&(i[r++]=e[t++],i[r++]=e[t++],i[r]=e[t])}function y(e,t,i,r){i[r]=j*(e[t]/z),i[r+1]=j*(G-2*Math.atan(Math.exp(-e[t+1]/z))),i[r+2]=e[t+2]}function g(e,t,i,r){const n=e[t]/z,s=G-2*Math.atan(Math.exp(-e[t+1]/z)),o=z+e[t+2],a=Math.cos(s)*o;i[r]=Math.cos(n)*a,i[r+1]=Math.sin(n)*a,i[r+2]=Math.sin(s)*o}function _(e,t,i,r){y(e,t,i,r),k(i,r,i,r)}function v(e,t,i,r,s){const o=.4999999*Math.PI,a=(0,n.qE)(U*e[t+1],-o,o),l=Math.sin(a);i[r++]=U*e[t]*s.radius,i[r++]=s.halfSemiMajorAxis*Math.log((1+l)/(1-l)),i[r]=e[t+2]}function w(e,t,i,r){v(e,t,i,r,a.$O)}function b(e,t,i,r){i[r]=e[t]*$,i[r+1]=e[t+1]*$,i[r+2]=e[t+2]}function M(e,t,i,r){i[r]=e[t]*V,i[r+1]=e[t+1]*V,i[r+2]=e[t+2]}function A(e,t,i,r){y(e,t,i,r),b(i,r,i,r)}function S(e,t,i,r,n){const s=n+e[t+2],o=U*e[t+1],a=U*e[t],l=Math.cos(o)*s;i[r]=Math.cos(a)*l,i[r+1]=Math.sin(a)*l,i[r+2]=Math.sin(o)*s}function T(e,t,i,r){S(e,t,i,r,a.Sw.radius)}function E(e,t,i,r){S(e,t,i,r,a.sH.radius)}function x(e,t,i,r){S(e,t,i,r,a.$O.radius)}function P(e,t,i,r,s){const o=e[t],a=e[t+1],l=e[t+2],c=Math.sqrt(o*o+a*a+l*l),u=(0,n.YN)(l/(0===c?1:c)),h=Math.atan2(a,o);i[r++]=j*h,i[r++]=j*u,i[r]=c-s}function C(e,t,i,r){P(e,t,i,r,a.Sw.radius)}function I(e,t,i,r){P(e,t,i,r,a.sH.radius)}function O(e,t,i,r){P(e,t,i,r,a.$O.radius)}function R(e,t,i,r){O(e,t,i,r),w(i,r,i,r)}function N(e,t,i,r){O(e,t,i,r),k(i,r,i,r)}function k(e,t,i,r){!function(e,t,i,r,n){const s=U*e[t],o=U*e[t+1],a=e[t+2],l=Math.sin(o),c=Math.cos(o),u=n.radius/Math.sqrt(1-n.eccentricitySquared*l*l);i[r++]=(u+a)*c*Math.cos(s),i[r++]=(u+a)*c*Math.sin(s),i[r++]=(u*(1-n.eccentricitySquared)+a)*l}(e,t,i,r,a.$O)}function L(e,t,i,r){const n=l.TP,s=e[t],o=e[t+1],c=e[t+2];let u,h,d,p,f,m,y,g,_,v,w,b,M,A,S,T,E,x,P,C,I;u=Math.abs(c),h=s*s+o*o,d=Math.sqrt(h),p=h+c*c,f=Math.sqrt(p),C=Math.atan2(o,s),m=c*c/p,y=h/p,A=n.a2/f,S=n.a3-n.a4/f,y>.3?(g=u/f*(1+y*(n.a1+A+m*S)/f),P=Math.asin(g),v=g*g,_=Math.sqrt(1-v)):(_=d/f*(1-m*(n.a5-A-y*S)/f),P=Math.acos(_),v=1-_*_,g=Math.sqrt(v)),w=1-a.$O.eccentricitySquared*v,b=a.$O.radius/Math.sqrt(w),M=n.a6*b,A=d-b*_,S=u-M*g,E=_*A+g*S,T=_*S-g*A,x=T/(M/w+E),P+=x,I=E+T*x/2,c<0&&(P=-P),i[r++]=j*C,i[r++]=j*P,i[r]=I}function D(e,t,i,r){L(e,t,i,r),x(i,r,i,r)}function Z(e,t,i,r){L(e,t,i,r),w(i,r,i,r)}const F={source:{spatialReference:null,spatialReferenceId:r.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:r.UNKNOWN,metersPerUnit:1},projector:m},U=(0,n.kU)(1),j=(0,n.KJ)(1),G=.5*Math.PI,z=a.$O.radius,$=z*Math.PI/180,V=180/(z*Math.PI)},68490:(e,t,i)=>{"use strict";i.r(t),i.d(t,{canProjectWithoutEngine:()=>q,getTransformation:()=>U,getTransformations:()=>j,initializeProjection:()=>W,isEqualBaseGCS:()=>H,isLoaded:()=>I,isLoadedOrLoad:()=>O,isLoadedOrLoadFor:()=>R,load:()=>k,project:()=>L,projectExtent:()=>ne,projectMany:()=>D,projectMultipoint:()=>X,projectOrLoad:()=>Z,projectOrLoadMany:()=>F,projectPoint:()=>K,projectPolygon:()=>ie,projectPolyline:()=>ee,projectWithZConversion:()=>B,projectWithoutEngine:()=>J,requiresLoad:()=>N,test:()=>$,tryProjectWithZConversion:()=>V,unload:()=>z});var r=i(98849),n=i(40189),s=i(41573),o=i(62879),a=i(58359),l=i(78431),c=i(47936),u=i(84698),h=i(90067),d=i(47063),p=i(97066),f=i(62802),m=i(42238),y=i(78983),g=i(84119),_=i(12943),v=i(47092);let w=0;class b{static fromGE(e){const t=new b;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=w++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=w++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=w++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=w++}getInverse(){const e=new b;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}class M{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(e){const t=new M;let i="";for(const r of e.steps){const e=b.fromGE(r);t.steps.push(e),i+=e.uid.toString()+","}return t._cachedProjection={},t._gtlistentry=null,t._chain=i,t}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof b?this.steps.push(t):this.steps.push(new b({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const e=new M;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const i=this.steps[t];e.steps.push(i.getInverse())}return e}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,t,i){this._cachedProjection[M.cacheKey(e,t)]=i}getCachedGeTransformation(e,t){let i="";for(const n of this.steps)i+=n.uid.toString()+",";i!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=i);const r=this._cachedProjection[M.cacheKey(e,t)];return void 0===r?null:r}}var A=i(87926),S=i(8034);let T=null,E=null,x=null,P={};const C=new o.I;function I(){return!!T&&(0,d.i)()}function O(){return!!I()||((0,s.gc)(C),k(),!1)}function R(e,t){return!e||!t||q(e,t)||O()}function N(e,t){return!q(e,t)&&!I()}function k(e){return null==x&&(x=Promise.all([(0,d.l)(),i.e(40835).then(i.bind(i,40835)).then((e=>e.g)),i.e(73164).then(i.bind(i,73164))])),x.then((([,t,{hydratedAdapter:i}])=>{(0,n.Te)(e),E=i,T=t.default,T._enableProjection(d.p),C.notify()}))}function L(e,t,i=null,r=null){return Array.isArray(e)?0===e.length?[]:((0,l.H)(e),D(E,e,e[0].spatialReference,t,i,r)):((0,l.f)(e),D(E,[e],e.spatialReference,t,i,r)[0])}function D(e,t,i,r,n=null,s=null){if(null==i||null==r)return t;if(q(i,r,n))return t.map((e=>J(e,i,r)));if(null==n&&(0,c.jA)(i))return t.map((e=>J(e,i,y.A.WGS84))).map((e=>V(e,r)));if(null==n&&(0,c.jA)(r))return t.map((e=>V(e,y.A.WGS84))).map((e=>J(e,y.A.WGS84,r)));if(null==n){const e=M.cacheKey(i,r);void 0!==P[e]?n=P[e]:(null==(n=U(i,r,void 0))&&(n=new M),P[e]=n)}if(null==T||null==e)throw new G;return null!=s?T._project(e,t,i,r,n,s):T._project(e,t,i,r,n)}function Z(e,t){const i=F([e],t);return null!=i.pending?{pending:i.pending,geometry:null}:null!=i.geometries?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function F(e,t){if(!I())for(const i of e)if(null!=i&&!(0,A.aI)(i.spatialReference,t)&&(0,A.fn)(i.spatialReference)&&(0,A.fn)(t)&&!q(i.spatialReference,t))return(0,s.gc)(C),{pending:k(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,A.aI)(e.spatialReference,t)?e:(0,A.fn)(e.spatialReference)&&(0,A.fn)(t)?V(e,t):null))}}function U(e,t,i=null){if(null==e||null==t)return null;if(null==T||null==E)throw new G;const r=T._getTransformation(E,e,t,i,i?.spatialReference);return null!==r?M.fromGE(r):null}function j(e,t,i=null){if(null==T||null==E)throw new G;const r=T._getTransformationBySuitability(E,e,t,i,i?.spatialReference);if(null!==r){const e=[];for(const t of r)e.push(M.fromGE(t));return e}return[]}class G extends r.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function z(){T=null,E=null,x=null,P={}}const $={get loadPromise(){return x}};function V(e,t){try{const i=L(e,t);if(null==i)return null;"xmin"in e&&"xmin"in i&&(i.zmin=e.zmin,i.zmax=e.zmax);const r=(0,S.N)(i.type,e.spatialReference,t);return null!=r&&r(i),i}catch(i){if(!(i instanceof G))throw i;return null}}async function B(e,t,i){const r=e.spatialReference;return null!=r&&null!=t&&await W(r,t,null,i),V(e,t)}function q(e,t,i){return!i&&(!!(0,A.aI)(e,t)||(0,A.fn)(e)&&(0,A.fn)(t)&&!!(0,_.jd)(e,t))}function H(e,t){if((0,A.aI)(e,t))return!0;if(!(0,A.fn)(e)||!(0,A.fn)(t))return!1;const i=(0,A.oT)(e)||(0,A.K8)(e)||(0,A.x1)(e),r=(0,A.oT)(t)||(0,A.K8)(t)||(0,A.x1)(t);return i&&r}async function W(e,t,i,r){if(I())return(0,n.NO)(r);if(Array.isArray(e)){for(const{source:n,dest:s,geographicTransformation:o}of e)if(n&&s&&!q(n,s,o))return k(r)}else if(e&&t&&!q(e,t,i))return k(r);return(0,n.NO)(r)}function J(e,t,i){return e?"x"in e?Y(e,t,new p.A,i,0):"xmin"in e?se(e,t,new u.A,i,0):"rings"in e?re(e,t,new f.A,i,0):"paths"in e?te(e,t,new m.A,i,0):"points"in e?Q(e,t,new h.A,i,0):null:null}function K(e,t,i=t.spatialReference,r=0){return null!=i&&null!=e.spatialReference&&null!=Y(e,e.spatialReference,t,i,r)}function Y(e,t,i,r,n){ae[0]=e.x,ae[1]=e.y;const s=e.z;return ae[2]=void 0!==s?s:n,(0,g.projectBuffer)(ae,t,0,ae,r,0)?(i.x=ae[0],i.y=ae[1],i.spatialReference=r,void 0!==s||(0,c.xP)(r)?(i.z=ae[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),void 0===e.m?(i.m=void 0,i.hasM=!1):(i.m=e.m,i.hasM=!0),i):null}function X(e,t,i=t.spatialReference,r=0){return null!=e.spatialReference&&null!=i&&null!=Q(e,e.spatialReference,t,i,r)}function Q(e,t,i,r,n){const{points:s,hasZ:o,hasM:a}=e,l=[],u=s.length,h=[];for(const c of s)h.push(c[0],c[1],o?c[2]:n);if(!(0,g.projectBuffer)(h,t,0,h,r,0,u))return null;const d=o||(0,c.xP)(r);for(let c=0;c<u;++c){const e=3*c,t=h[e],i=h[e+1];d&&a?l.push([t,i,h[e+2],s[c][3]]):d?l.push([t,i,h[e+2]]):a?l.push([t,i,s[c][2]]):l.push([t,i])}return i.points=l,i.spatialReference=r,i.hasZ=o,i.hasM=a,i}function ee(e,t,i=t.spatialReference,r=0){return null!=e.spatialReference&&null!=i&&null!=te(e,e.spatialReference,t,i,r)}function te(e,t,i,r,n){const{paths:s,hasZ:o,hasM:a}=e,l=[];if(!oe(s,o??!1,a??!1,t,l,r,n))return null;const u=o||(0,c.xP)(r);return i.paths=l,i.spatialReference=r,i.hasZ=u,i.hasM=a,i}function ie(e,t,i=t.spatialReference,r=0){return null!=e.spatialReference&&null!=i&&null!=re(e,e.spatialReference,t,i,r)}function re(e,t,i,r,n){const{rings:s,hasZ:o,hasM:a}=e,l=[];if(!oe(s,o??!1,a??!1,t,l,r,n))return null;const u=o||(0,c.xP)(r);return i.rings=l,i.spatialReference=r,i.hasZ=u,i.hasM=a,i}function ne(e,t,i=t.spatialReference,r=0){return null!=e.spatialReference&&null!=i&&null!=se(e,e.spatialReference,t,i,r)}function se(e,t,i,r,n){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:u,hasM:h}=e,d=u?e.zmin:n;if(!(0,v.L)(s,o,d,t,ae,r))return null;const p=u||(0,c.xP)(r);i.xmin=ae[0],i.ymin=ae[1],p&&(i.zmin=ae[2]);const f=u?e.zmax:n;return(0,v.L)(a,l,f,t,ae,r)?(i.xmax=ae[0],i.ymax=ae[1],p&&(i.zmax=ae[2]),h&&(i.mmin=e.mmin,i.mmax=e.mmax),i.spatialReference=r,i):null}function oe(e,t,i,r,n,s,o=0){const a=new Array;for(const c of e)for(const e of c)a.push(e[0],e[1],t?e[2]:o);if(!(0,g.projectBuffer)(a,r,0,a,s,0))return!1;let l=0;n.length=0;const u=t||(0,c.xP)(s);for(const c of e){const e=new Array;for(const t of c)u&&i?e.push([a[l++],a[l++],a[l++],t[3]]):u?e.push([a[l++],a[l++],a[l++]]):i?(e.push([a[l++],a[l++],t[2]]),l++):(e.push([a[l++],a[l++]]),l++);n.push(e)}return!0}const ae=(0,a.vt)()},58331:(e,t,i)=>{"use strict";var r;i.d(t,{_:()=>r}),function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"}(r||(r={}))},90166:(e,t,i)=>{"use strict";i.d(t,{jh:()=>n,l5:()=>o,xm:()=>s});var r=i(86942);function n(e,t=!1){return e<=r.y9?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function s(e){return((0,r.iu)(e)?e.byteLength/8:e.length)<=r.y9?Array.from(e):new Float64Array(e)}function o(e,t,i){return Array.isArray(e)?e.slice(t,t+i):e.subarray(t,t+i)}},99817:(e,t,i)=>{"use strict";i.d(t,{$O:()=>n,Sw:()=>o,sH:()=>s});class r{constructor(e,t,i,r,n,s){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=r,this.scaleHeight=n;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const n=new r(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),s=new r(3396190,1/169.8944472236118,23e4,6e4,.111),o=new r(1737400,0,0,0,0)},95859:(e,t,i)=>{"use strict";var r;i.d(t,{Y:()=>r}),function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"}(r||(r={}))},83811:(e,t,i)=>{"use strict";let r;i.d(t,{A:()=>n});const n={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(r=2e3;r<=2045;r++)n[r]=0;for(r=2056;r<=2065;r++)n[r]=0;for(r=2067;r<=2135;r++)n[r]=0;for(r=2137;r<=2154;r++)n[r]=0;for(r=2161;r<=2170;r++)n[r]=0;for(r=2172;r<=2193;r++)n[r]=0;for(r=2195;r<=2198;r++)n[r]=0;for(r=2200;r<=2203;r++)n[r]=0;for(r=2205;r<=2217;r++)n[r]=0;for(r=2222;r<=2224;r++)n[r]=1;for(r=2225;r<=2250;r++)n[r]=2;for(r=2251;r<=2253;r++)n[r]=1;for(r=2257;r<=2264;r++)n[r]=2;for(r=2274;r<=2279;r++)n[r]=2;for(r=2280;r<=2282;r++)n[r]=1;for(r=2283;r<=2289;r++)n[r]=2;for(r=2290;r<=2292;r++)n[r]=0;for(r=2308;r<=2313;r++)n[r]=0;for(r=2315;r<=2491;r++)n[r]=0;for(r=2494;r<=2866;r++)n[r]=0;for(r=2867;r<=2869;r++)n[r]=1;for(r=2870;r<=2888;r++)n[r]=2;for(r=2891;r<=2895;r++)n[r]=2;for(r=2896;r<=2898;r++)n[r]=1;for(r=2902;r<=2908;r++)n[r]=2;for(r=2915;r<=2920;r++)n[r]=2;for(r=2921;r<=2923;r++)n[r]=1;for(r=2924;r<=2930;r++)n[r]=2;for(r=2931;r<=2962;r++)n[r]=0;for(r=2964;r<=2968;r++)n[r]=2;for(r=2969;r<=2973;r++)n[r]=0;for(r=2975;r<=2991;r++)n[r]=0;for(r=2995;r<=3051;r++)n[r]=0;for(r=3054;r<=3079;r++)n[r]=0;for(r=3081;r<=3088;r++)n[r]=0;for(r=3092;r<=3101;r++)n[r]=0;for(r=3106;r<=3138;r++)n[r]=0;for(r=3146;r<=3151;r++)n[r]=0;for(r=3153;r<=3166;r++)n[r]=0;for(r=3168;r<=3172;r++)n[r]=0;for(r=3174;r<=3203;r++)n[r]=0;for(r=3294;r<=3358;r++)n[r]=0;for(r=3367;r<=3403;r++)n[r]=0;for(r=3408;r<=3416;r++)n[r]=0;for(r=3417;r<=3438;r++)n[r]=2;for(r=3441;r<=3446;r++)n[r]=2;for(r=3447;r<=3450;r++)n[r]=0;for(r=3451;r<=3459;r++)n[r]=2;for(r=3460;r<=3478;r++)n[r]=0;for(r=3554;r<=3559;r++)n[r]=0;for(r=3560;r<=3570;r++)n[r]=2;for(r=3571;r<=3581;r++)n[r]=0;for(r=3594;r<=3597;r++)n[r]=0;for(r=3601;r<=3604;r++)n[r]=0;for(r=3637;r<=3639;r++)n[r]=0;for(r=3665;r<=3667;r++)n[r]=0;for(r=3693;r<=3695;r++)n[r]=0;for(r=3701;r<=3727;r++)n[r]=0;for(r=3728;r<=3739;r++)n[r]=2;for(r=3740;r<=3751;r++)n[r]=0;for(r=3753;r<=3760;r++)n[r]=2;for(r=3761;r<=3773;r++)n[r]=0;for(r=3775;r<=3777;r++)n[r]=0;for(r=3779;r<=3781;r++)n[r]=0;for(r=3783;r<=3785;r++)n[r]=0;for(r=3788;r<=3791;r++)n[r]=0;for(r=3797;r<=3802;r++)n[r]=0;for(r=3814;r<=3816;r++)n[r]=0;for(r=3825;r<=3829;r++)n[r]=0;for(r=3832;r<=3841;r++)n[r]=0;for(r=3844;r<=3852;r++)n[r]=0;for(r=3873;r<=3885;r++)n[r]=0;for(r=3890;r<=3893;r++)n[r]=0;for(r=3907;r<=3912;r++)n[r]=0;for(r=3942;r<=3950;r++)n[r]=0;for(r=3968;r<=3970;r++)n[r]=0;for(r=3973;r<=3976;r++)n[r]=0;for(r=3986;r<=3989;r++)n[r]=0;for(r=3994;r<=3997;r++)n[r]=0;for(r=4048;r<=4051;r++)n[r]=0;for(r=4056;r<=4063;r++)n[r]=0;for(r=4093;r<=4096;r++)n[r]=0;for(r=4390;r<=4398;r++)n[r]=0;for(r=4399;r<=4413;r++)n[r]=2;for(r=4418;r<=4433;r++)n[r]=2;for(r=4455;r<=4457;r++)n[r]=2;for(r=4484;r<=4489;r++)n[r]=0;for(r=4491;r<=4554;r++)n[r]=0;for(r=4568;r<=4589;r++)n[r]=0;for(r=4652;r<=4656;r++)n[r]=0;for(r=4766;r<=4800;r++)n[r]=0;for(r=5014;r<=5016;r++)n[r]=0;for(r=5069;r<=5072;r++)n[r]=0;for(r=5105;r<=5130;r++)n[r]=0;for(r=5167;r<=5188;r++)n[r]=0;for(r=5253;r<=5259;r++)n[r]=0;for(r=5269;r<=5275;r++)n[r]=0;for(r=5292;r<=5311;r++)n[r]=0;for(r=5329;r<=5331;r++)n[r]=0;for(r=5343;r<=5349;r++)n[r]=0;for(r=5355;r<=5357;r++)n[r]=0;for(r=5387;r<=5389;r++)n[r]=0;for(r=5459;r<=5463;r++)n[r]=0;for(r=5479;r<=5482;r++)n[r]=0;for(r=5518;r<=5520;r++)n[r]=0;for(r=5530;r<=5539;r++)n[r]=0;for(r=5550;r<=5552;r++)n[r]=0;for(r=5562;r<=5583;r++)n[r]=0;for(r=5623;r<=5625;r++)n[r]=2;for(r=5631;r<=5639;r++)n[r]=0;for(r=5649;r<=5653;r++)n[r]=0;for(r=5663;r<=5680;r++)n[r]=0;for(r=5682;r<=5685;r++)n[r]=0;for(r=5875;r<=5877;r++)n[r]=0;for(r=5896;r<=5899;r++)n[r]=0;for(r=5921;r<=5940;r++)n[r]=0;for(r=6050;r<=6125;r++)n[r]=0;for(r=6244;r<=6275;r++)n[r]=0;for(r=6328;r<=6348;r++)n[r]=0;for(r=6350;r<=6356;r++)n[r]=0;for(r=6366;r<=6372;r++)n[r]=0;for(r=6381;r<=6387;r++)n[r]=0;for(r=6393;r<=6404;r++)n[r]=0;for(r=6480;r<=6483;r++)n[r]=0;for(r=6511;r<=6514;r++)n[r]=0;for(r=6579;r<=6581;r++)n[r]=0;for(r=6619;r<=6624;r++)n[r]=0;for(r=6625;r<=6627;r++)n[r]=2;for(r=6628;r<=6632;r++)n[r]=0;for(r=6634;r<=6637;r++)n[r]=0;for(r=6669;r<=6692;r++)n[r]=0;for(r=6707;r<=6709;r++)n[r]=0;for(r=6720;r<=6723;r++)n[r]=0;for(r=6732;r<=6738;r++)n[r]=0;for(r=6931;r<=6933;r++)n[r]=0;for(r=6956;r<=6959;r++)n[r]=0;for(r=7005;r<=7007;r++)n[r]=0;for(r=7057;r<=7070;r++)n[r]=2;for(r=7074;r<=7082;r++)n[r]=0;for(r=7109;r<=7118;r++)n[r]=0;for(r=7119;r<=7127;r++)n[r]=1;for(r=7374;r<=7376;r++)n[r]=0;for(r=7528;r<=7586;r++)n[r]=0;for(r=7587;r<=7645;r++)n[r]=2;for(r=7692;r<=7696;r++)n[r]=0;for(r=7755;r<=7787;r++)n[r]=0;for(r=7791;r<=7795;r++)n[r]=0;for(r=7799;r<=7801;r++)n[r]=0;for(r=7803;r<=7805;r++)n[r]=0;for(r=7825;r<=7831;r++)n[r]=0;for(r=7845;r<=7859;r++)n[r]=0;for(r=8013;r<=8032;r++)n[r]=0;for(r=8065;r<=8068;r++)n[r]=1;for(r=8518;r<=8529;r++)n[r]=2;for(r=8533;r<=8536;r++)n[r]=2;for(r=8538;r<=8540;r++)n[r]=2;for(r=8677;r<=8679;r++)n[r]=0;for(r=8836;r<=8840;r++)n[r]=0;for(r=8857;r<=8859;r++)n[r]=0;for(r=8908;r<=8910;r++)n[r]=0;for(r=9154;r<=9159;r++)n[r]=0;for(r=9205;r<=9218;r++)n[r]=0;for(r=9271;r<=9273;r++)n[r]=0;for(r=9295;r<=9297;r++)n[r]=0;for(r=9356;r<=9360;r++)n[r]=0;for(r=9404;r<=9407;r++)n[r]=0;for(r=9476;r<=9482;r++)n[r]=0;for(r=9487;r<=9494;r++)n[r]=0;for(r=9697;r<=9699;r++)n[r]=0;for(r=9821;r<=9865;r++)n[r]=0;for(r=10285;r<=10291;r++)n[r]=0;for(r=10314;r<=10317;r++)n[r]=0;for(r=10448;r<=10465;r++)n[r]=0;for(r=10726;r<=10729;r++)n[r]=0;for(r=10731;r<=10733;r++)n[r]=0;for(r=11114;r<=11118;r++)n[r]=0;for(r=20004;r<=20032;r++)n[r]=0;for(r=20047;r<=20049;r++)n[r]=0;for(r=20062;r<=20092;r++)n[r]=0;for(r=20135;r<=20138;r++)n[r]=0;for(r=20248;r<=20258;r++)n[r]=0;for(r=20348;r<=20358;r++)n[r]=0;for(r=20436;r<=20440;r++)n[r]=0;for(r=20822;r<=20824;r++)n[r]=0;for(r=20904;r<=20932;r++)n[r]=0;for(r=20934;r<=20936;r++)n[r]=0;for(r=21004;r<=21032;r++)n[r]=0;for(r=21035;r<=21037;r++)n[r]=0;for(r=21095;r<=21097;r++)n[r]=0;for(r=21148;r<=21150;r++)n[r]=0;for(r=21207;r<=21264;r++)n[r]=0;for(r=21307;r<=21364;r++)n[r]=0;for(r=21413;r<=21423;r++)n[r]=0;for(r=21453;r<=21463;r++)n[r]=0;for(r=21473;r<=21483;r++)n[r]=0;for(r=21780;r<=21782;r++)n[r]=0;for(r=21891;r<=21894;r++)n[r]=0;for(r=21896;r<=21899;r++)n[r]=0;for(r=22171;r<=22177;r++)n[r]=0;for(r=22181;r<=22187;r++)n[r]=0;for(r=22191;r<=22197;r++)n[r]=0;for(r=22207;r<=22222;r++)n[r]=0;for(r=22229;r<=22232;r++)n[r]=0;for(r=22234;r<=22236;r++)n[r]=0;for(r=22243;r<=22250;r++)n[r]=0;for(r=22262;r<=22265;r++)n[r]=0;for(r=22307;r<=22322;r++)n[r]=0;for(r=22348;r<=22357;r++)n[r]=0;for(r=22407;r<=22422;r++)n[r]=0;for(r=22462;r<=22465;r++)n[r]=0;for(r=22521;r<=22525;r++)n[r]=0;for(r=22607;r<=22622;r++)n[r]=0;for(r=22641;r<=22646;r++)n[r]=0;for(r=22648;r<=22657;r++)n[r]=0;for(r=22707;r<=22722;r++)n[r]=0;for(r=22762;r<=22765;r++)n[r]=0;for(r=22807;r<=22822;r++)n[r]=0;for(r=22991;r<=22994;r++)n[r]=0;for(r=23028;r<=23038;r++)n[r]=0;for(r=23301;r<=23333;r++)n[r]=2;for(r=23830;r<=23853;r++)n[r]=0;for(r=23866;r<=23872;r++)n[r]=0;for(r=23877;r<=23884;r++)n[r]=0;for(r=23886;r<=23894;r++)n[r]=0;for(r=23946;r<=23948;r++)n[r]=0;for(r=24311;r<=24313;r++)n[r]=0;for(r=24342;r<=24347;r++)n[r]=0;for(r=24370;r<=24374;r++)n[r]=10;for(r=24375;r<=24381;r++)n[r]=0;for(r=24718;r<=24721;r++)n[r]=0;for(r=24817;r<=24821;r++)n[r]=0;for(r=24877;r<=24882;r++)n[r]=0;for(r=24891;r<=24893;r++)n[r]=0;for(r=25391;r<=25395;r++)n[r]=0;for(r=25828;r<=25838;r++)n[r]=0;for(r=26191;r<=26195;r++)n[r]=0;for(r=26391;r<=26393;r++)n[r]=0;for(r=26701;r<=26722;r++)n[r]=0;for(r=26729;r<=26799;r++)n[r]=2;for(r=26801;r<=26803;r++)n[r]=2;for(r=26811;r<=26813;r++)n[r]=2;for(r=26847;r<=26870;r++)n[r]=2;for(r=26891;r<=26899;r++)n[r]=0;for(r=26901;r<=26923;r++)n[r]=0;for(r=26929;r<=26946;r++)n[r]=0;for(r=26948;r<=26998;r++)n[r]=0;for(r=27037;r<=27040;r++)n[r]=0;for(r=27205;r<=27232;r++)n[r]=0;for(r=27258;r<=27260;r++)n[r]=0;for(r=27391;r<=27398;r++)n[r]=0;for(r=27561;r<=27564;r++)n[r]=0;for(r=27571;r<=27574;r++)n[r]=0;for(r=27581;r<=27584;r++)n[r]=0;for(r=27591;r<=27594;r++)n[r]=0;for(r=27700;r<=27707;r++)n[r]=0;for(r=28191;r<=28193;r++)n[r]=0;for(r=28348;r<=28358;r++)n[r]=0;for(r=28402;r<=28432;r++)n[r]=0;for(r=28462;r<=28492;r++)n[r]=0;for(r=29118;r<=29122;r++)n[r]=0;for(r=29168;r<=29172;r++)n[r]=0;for(r=29177;r<=29185;r++)n[r]=0;for(r=29187;r<=29195;r++)n[r]=0;for(r=29900;r<=29903;r++)n[r]=0;for(r=30161;r<=30179;r++)n[r]=0;for(r=30491;r<=30494;r++)n[r]=0;for(r=30729;r<=30732;r++)n[r]=0;for(r=31251;r<=31259;r++)n[r]=0;for(r=31265;r<=31268;r++)n[r]=0;for(r=31275;r<=31279;r++)n[r]=0;for(r=31281;r<=31297;r++)n[r]=0;for(r=31461;r<=31469;r++)n[r]=0;for(r=31491;r<=31495;r++)n[r]=0;for(r=31917;r<=31922;r++)n[r]=0;for(r=31965;r<=32e3;r++)n[r]=0;for(r=32001;r<=32003;r++)n[r]=2;for(r=32005;r<=32031;r++)n[r]=2;for(r=32033;r<=32060;r++)n[r]=2;for(r=32064;r<=32067;r++)n[r]=2;for(r=32074;r<=32077;r++)n[r]=2;for(r=32081;r<=32086;r++)n[r]=0;for(r=32107;r<=32130;r++)n[r]=0;for(r=32133;r<=32159;r++)n[r]=0;for(r=32164;r<=32167;r++)n[r]=2;for(r=32180;r<=32199;r++)n[r]=0;for(r=32201;r<=32260;r++)n[r]=0;for(r=32301;r<=32360;r++)n[r]=0;for(r=32401;r<=32460;r++)n[r]=0;for(r=32501;r<=32560;r++)n[r]=0;for(r=32601;r<=32662;r++)n[r]=0;for(r=32664;r<=32667;r++)n[r]=2;for(r=32701;r<=32761;r++)n[r]=0;for(r=53001;r<=53004;r++)n[r]=0;for(r=53008;r<=53019;r++)n[r]=0;for(r=53021;r<=53032;r++)n[r]=0;for(r=53034;r<=53037;r++)n[r]=0;for(r=53042;r<=53046;r++)n[r]=0;for(r=53074;r<=53080;r++)n[r]=0;for(r=54001;r<=54004;r++)n[r]=0;for(r=54008;r<=54019;r++)n[r]=0;for(r=54021;r<=54032;r++)n[r]=0;for(r=54034;r<=54037;r++)n[r]=0;for(r=54042;r<=54046;r++)n[r]=0;for(r=54048;r<=54053;r++)n[r]=0;for(r=54074;r<=54080;r++)n[r]=0;for(r=54090;r<=54096;r++)n[r]=0;for(r=54098;r<=54101;r++)n[r]=0;for(r=65161;r<=65163;r++)n[r]=0;for(r=102001;r<=102040;r++)n[r]=0;for(r=102042;r<=102063;r++)n[r]=0;for(r=102065;r<=102067;r++)n[r]=0;for(r=102070;r<=102117;r++)n[r]=0;for(r=102122;r<=102216;r++)n[r]=0;for(r=102221;r<=102377;r++)n[r]=0;for(r=102382;r<=102388;r++)n[r]=0;for(r=102389;r<=102398;r++)n[r]=2;for(r=102399;r<=102444;r++)n[r]=0;for(r=102445;r<=102447;r++)n[r]=2;for(r=102448;r<=102458;r++)n[r]=0;for(r=102459;r<=102468;r++)n[r]=2;for(r=102469;r<=102499;r++)n[r]=0;for(r=102500;r<=102519;r++)n[r]=1;for(r=102520;r<=102524;r++)n[r]=0;for(r=102525;r<=102529;r++)n[r]=2;for(r=102530;r<=102588;r++)n[r]=0;for(r=102590;r<=102598;r++)n[r]=0;for(r=102601;r<=102603;r++)n[r]=0;for(r=102605;r<=102628;r++)n[r]=0;for(r=102629;r<=102646;r++)n[r]=2;for(r=102648;r<=102700;r++)n[r]=2;for(r=102701;r<=102703;r++)n[r]=0;for(r=102707;r<=102730;r++)n[r]=2;for(r=102733;r<=102758;r++)n[r]=2;for(r=102767;r<=102900;r++)n[r]=0;for(r=102901;r<=102933;r++)n[r]=2;for(r=102934;r<=102950;r++)n[r]=13;for(r=102951;r<=102963;r++)n[r]=0;for(r=102965;r<=102969;r++)n[r]=0;for(r=102971;r<=102973;r++)n[r]=0;for(r=102975;r<=102989;r++)n[r]=0;for(r=102990;r<=102992;r++)n[r]=1;for(r=102997;r<=103002;r++)n[r]=0;for(r=103003;r<=103008;r++)n[r]=2;for(r=103009;r<=103011;r++)n[r]=0;for(r=103012;r<=103014;r++)n[r]=2;for(r=103019;r<=103021;r++)n[r]=0;for(r=103022;r<=103024;r++)n[r]=2;for(r=103029;r<=103031;r++)n[r]=0;for(r=103032;r<=103034;r++)n[r]=2;for(r=103065;r<=103068;r++)n[r]=0;for(r=103074;r<=103076;r++)n[r]=0;for(r=103077;r<=103079;r++)n[r]=1;for(r=103080;r<=103082;r++)n[r]=0;for(r=103083;r<=103085;r++)n[r]=2;for(r=103090;r<=103093;r++)n[r]=0;for(r=103097;r<=103099;r++)n[r]=0;for(r=103100;r<=103102;r++)n[r]=2;for(r=103107;r<=103109;r++)n[r]=0;for(r=103110;r<=103112;r++)n[r]=2;for(r=103113;r<=103116;r++)n[r]=0;for(r=103117;r<=103120;r++)n[r]=2;for(r=103153;r<=103157;r++)n[r]=0;for(r=103158;r<=103162;r++)n[r]=2;for(r=103163;r<=103165;r++)n[r]=0;for(r=103166;r<=103168;r++)n[r]=1;for(r=103169;r<=103171;r++)n[r]=2;for(r=103186;r<=103188;r++)n[r]=0;for(r=103189;r<=103191;r++)n[r]=2;for(r=103192;r<=103195;r++)n[r]=0;for(r=103196;r<=103199;r++)n[r]=2;for(r=103200;r<=103224;r++)n[r]=0;for(r=103225;r<=103227;r++)n[r]=1;for(r=103232;r<=103237;r++)n[r]=0;for(r=103238;r<=103243;r++)n[r]=2;for(r=103244;r<=103246;r++)n[r]=0;for(r=103247;r<=103249;r++)n[r]=2;for(r=103254;r<=103256;r++)n[r]=0;for(r=103257;r<=103259;r++)n[r]=2;for(r=103264;r<=103266;r++)n[r]=0;for(r=103267;r<=103269;r++)n[r]=2;for(r=103300;r<=103375;r++)n[r]=0;for(r=103381;r<=103383;r++)n[r]=0;for(r=103384;r<=103386;r++)n[r]=1;for(r=103387;r<=103389;r++)n[r]=0;for(r=103390;r<=103392;r++)n[r]=2;for(r=103397;r<=103399;r++)n[r]=0;for(r=103400;r<=103471;r++)n[r]=2;for(r=103476;r<=103478;r++)n[r]=0;for(r=103479;r<=103481;r++)n[r]=2;for(r=103486;r<=103488;r++)n[r]=0;for(r=103489;r<=103491;r++)n[r]=2;for(r=103492;r<=103495;r++)n[r]=0;for(r=103496;r<=103499;r++)n[r]=2;for(r=103528;r<=103543;r++)n[r]=0;for(r=103544;r<=103548;r++)n[r]=2;for(r=103549;r<=103551;r++)n[r]=0;for(r=103552;r<=103554;r++)n[r]=1;for(r=103555;r<=103557;r++)n[r]=2;for(r=103558;r<=103560;r++)n[r]=0;for(r=103571;r<=103573;r++)n[r]=0;for(r=103574;r<=103576;r++)n[r]=2;for(r=103577;r<=103580;r++)n[r]=0;for(r=103581;r<=103583;r++)n[r]=2;for(r=103595;r<=103694;r++)n[r]=0;for(r=103696;r<=103699;r++)n[r]=0;for(r=103700;r<=103793;r++)n[r]=2;for(r=103794;r<=103890;r++)n[r]=0;for(r=103891;r<=103896;r++)n[r]=2;for(r=103900;r<=103971;r++)n[r]=2;for(r=103972;r<=103977;r++)n[r]=0;for(r=112e3;r<=112101;r++)n[r]=0},4675:(e,t,i)=>{"use strict";i.d(t,{BI:()=>L,DC:()=>p,ES:()=>N,Ej:()=>A,Hq:()=>m,Ie:()=>R,Jf:()=>y,Jt:()=>k,KG:()=>T,Ne:()=>C,RF:()=>d,Rz:()=>c,Uc:()=>S,VL:()=>_,_F:()=>b,aI:()=>F,cY:()=>E,fA:()=>a,fT:()=>Z,gE:()=>u,gX:()=>M,hZ:()=>O,hs:()=>x,iT:()=>f,is:()=>D,pg:()=>P,qv:()=>U,uJ:()=>w,vI:()=>I,vQ:()=>g,vY:()=>l,v_:()=>j,vt:()=>o,w1:()=>h,yr:()=>v});var r=i(84698),n=i(80510),s=i(90166);function o(e=j){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function a(e,t,i,r,n,s,a=o()){return a[0]=e,a[1]=t,a[2]=i,a[3]=r,a[4]=n,a[5]=s,a}function l(e,t=o()){return c(e,0,e.length/3,t)}function c(e,t,i,r=o()){return O(r,U),m(r,e,t,i),r}function u(e,t=(0,s.jh)(24)){const[i,r,n,o,a,l]=e;return t[0]=i,t[1]=r,t[2]=n,t[3]=i,t[4]=r,t[5]=l,t[6]=i,t[7]=a,t[8]=n,t[9]=i,t[10]=a,t[11]=l,t[12]=o,t[13]=r,t[14]=n,t[15]=o,t[16]=r,t[17]=l,t[18]=o,t[19]=a,t[20]=n,t[21]=o,t[22]=a,t[23]=l,t}function h(e,t){const i=isFinite(e[2])||isFinite(e[5]);return new r.A(i?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function d(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function p(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function f(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function m(e,t,i=0,r=t.length/3){let n=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let u=0;u<r;u++)n=Math.min(n,t[i+3*u]),s=Math.min(s,t[i+3*u+1]),o=Math.min(o,t[i+3*u+2]),a=Math.max(a,t[i+3*u]),l=Math.max(l,t[i+3*u+1]),c=Math.max(c,t[i+3*u+2]);e[0]=n,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function y(e,t,i){const r=t.length;let n=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];if(i)for(let u=0;u<r;u++){const e=t[u];n=Math.min(n,e[0]),s=Math.min(s,e[1]),o=Math.min(o,e[2]),a=Math.max(a,e[0]),l=Math.max(l,e[1]),c=Math.max(c,e[2])}else for(let u=0;u<r;u++){const e=t[u];n=Math.min(n,e[0]),s=Math.min(s,e[1]),a=Math.max(a,e[0]),l=Math.max(l,e[1])}e[0]=n,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function g(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function _(e){return e[0]>=e[3]?0:e[3]-e[0]}function v(e){return e[1]>=e[4]?0:e[4]-e[1]}function w(e){return e[2]>=e[5]?0:e[5]-e[2]}function b(e){const t=_(e),i=w(e),r=v(e);return Math.sqrt(t*t+i*i+r*r)}function M(e,t=[0,0,0]){return t[0]=e[0]+_(e)/2,t[1]=e[1]+v(e)/2,t[2]=e[2]+w(e)/2,t}function A(e,t=[0,0,0]){return t[0]=_(e),t[1]=v(e),t[2]=w(e),t}function S(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function T(e,t){return null==t||function(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}(e,t)}function E(e,t,i,r,n=e){return n[0]=e[0]+t,n[1]=e[1]+i,n[2]=e[2]+r,n[3]=e[3]+t,n[4]=e[4]+i,n[5]=e[5]+r,n}function x(e,t,i=e){const r=e[0]+_(e)/2,n=e[1]+v(e)/2,s=e[2]+w(e)/2;return i[0]=r+(e[0]-r)*t,i[1]=n+(e[1]-n)*t,i[2]=s+(e[2]-s)*t,i[3]=r+(e[3]-r)*t,i[4]=n+(e[4]-n)*t,i[5]=s+(e[5]-s)*t,i}function P(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function C(e,t,i=e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i!==e&&(i[3]=e[3],i[4]=e[4],i[5]=e[5]),i}function I(e,t,i=e){return i[3]=t[0],i[4]=t[1],i[5]=t[2],i!==e&&(i[0]=e[0],i[1]=e[1],i[2]=e[2]),e}function O(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function R(e){return e?O(e,U):o(U)}function N(e,t){return t||(t=(0,n.vt)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function k(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function L(e,t,i,r,n){return e[0]=t,e[1]=i,e[2]=Number.NEGATIVE_INFINITY,e[3]=r,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function D(e){return 6===e.length}function Z(e){return 0===_(e)&&0===v(e)&&0===w(e)}function F(e,t,i){if(null==e||null==t)return e===t;if(!D(e)||!D(t))return!1;if(i){for(let r=0;r<e.length;r++)if(!i(e[r],t[r]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const U=[1/0,1/0,1/0,-1/0,-1/0,-1/0],j=[0,0,0,0,0,0];o()},80510:(e,t,i)=>{"use strict";i.d(t,{$9:()=>b,C:()=>s,HY:()=>w,Ie:()=>T,Jf:()=>h,Rj:()=>v,VL:()=>p,VY:()=>a,Wc:()=>m,aI:()=>x,cY:()=>A,eV:()=>S,fA:()=>o,fT:()=>u,gR:()=>M,gX:()=>y,ib:()=>g,qv:()=>P,tK:()=>c,uJ:()=>f,vQ:()=>d,vR:()=>_,vt:()=>n,w1:()=>l});i(39831),i(92504);var r=i(84698);function n(e=C){return[e[0],e[1],e[2],e[3]]}function s(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function o(e,t,i,r,s=n()){return s[0]=e,s[1]=t,s[2]=i,s[3]=r,s}function a(e,t=n()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t,i=new r.A){return i.xmin=e[0],i.ymin=e[1],i.xmax=e[2],i.ymax=e[3],i.spatialReference=t,i}function c(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function u(e,t,i){if(null!=t)if("length"in t)E(t)?(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.max(e[2],t[0]),i[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(e[0],t.xmin),i[1]=Math.min(e[1],t.ymin),i[2]=Math.max(e[2],t.xmax),i[3]=Math.max(e[3],t.ymax);break;case"point":i[0]=Math.min(e[0],t.x),i[1]=Math.min(e[1],t.y),i[2]=Math.max(e[2],t.x),i[3]=Math.max(e[3],t.y)}else s(i,e)}function h(e,t,i=e){const r=t.length;let n=e[0],s=e[1],o=e[2],a=e[3];for(let l=0;l<r;l++){const e=t[l];n=Math.min(n,e[0]),s=Math.min(s,e[1]),o=Math.max(o,e[0]),a=Math.max(a,e[1])}return i[0]=n,i[1]=s,i[2]=o,i[3]=a,i}function d(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0}function p(e){return null==e||e[0]>=e[2]?0:e[2]-e[0]}function f(e){return null==e||e[1]>=e[3]?0:e[3]-e[1]}function m(e){return p(e)*f(e)}function y(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function g(e){const t=p(e),i=f(e);return Math.sqrt(t*t+i*i)}function _(e,t){return v(e,t.x,t.y)}function v(e,t,i){return t>=e[0]&&i>=e[1]&&t<=e[2]&&i<=e[3]}function w(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function b(e,t,i){return Math.max(t[0],e[0])-i<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-i<=Math.min(t[3],e[3])}function M(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function A(e,t,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+i,r[2]=e[2]+t,r[3]=e[3]+i,r}function S(e,t,i=e){return i[0]=e[0]-t,i[1]=e[1]-t,i[2]=e[2]+t,i[3]=e[3]+t,i}function T(e){return e?s(e,P):n(P)}function E(e){return null!=e&&4===e.length}function x(e,t){return E(e)&&E(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const P=[1/0,1/0,-1/0,-1/0],C=[0,0,0,0]},36358:(e,t,i)=>{"use strict";i.d(t,{B$:()=>f,LJ:()=>m,Pj:()=>_,Rg:()=>d,Yz:()=>y,z8:()=>p});var r=i(80510);function n(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function s(e){return void 0!==e.points}function o(e){return void 0!==e.x&&void 0!==e.y}function a(e){return void 0!==e.paths}function l(e){return void 0!==e.rings}function c(e){return function(t,i){return null==t?i:null==i?t:e(t,i)}}const u=c(Math.min),h=c(Math.max);function d(e,t){return a(t)?y(e,t.paths,!1,!1):l(t)?y(e,t.rings,!1,!1):s(t)?_(e,t.points,!1,!1,!1,!1):n(t)?g(e,t):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function p(e){let t,i,n,s;for(e.reset(),t=n=1/0,i=s=-1/0;e.nextPath();){const r=f(e);t=Math.min(r[0],t),n=Math.min(r[1],n),i=Math.max(r[2],i),s=Math.max(r[3],s)}return(0,r.vt)([t,n,i,s])}function f(e){let t,i,n,s;for(t=n=1/0,i=s=-1/0;e.nextPoint();)t=Math.min(e.x,t),n=Math.min(e.y,n),i=Math.max(e.x,i),s=Math.max(e.y,s);return(0,r.vt)([t,n,i,s])}function m(e,t){return a(t)?y(e,t.paths,!0,!1):l(t)?y(e,t.rings,!0,!1):s(t)?_(e,t.points,!0,!1,!0,!1):n(t)?g(e,t,!0,!1,!0,!1):(o(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function y(e,t,i,r){const n=i?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,d]=t[0][0],[p,f]=t[0][0];for(let m=0;m<t.length;m++){const e=t[m];for(let t=0;t<e.length;t++){const m=e[t],[y,g]=m;if(c=u(c,y),d=u(d,g),p=h(p,y),f=h(f,g),i&&m.length>2){const e=m[2];s=u(s,e),o=h(o,e)}if(r&&m.length>n){const e=m[n];a=u(s,e),l=h(o,e)}}}return i?r?(e[0]=c,e[1]=d,e[2]=s,e[3]=a,e[4]=p,e[5]=f,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=d,e[2]=s,e[3]=p,e[4]=f,e[5]=o,e.length=6,e):r?(e[0]=c,e[1]=d,e[2]=a,e[3]=p,e[4]=f,e[5]=l,e.length=6,e):(e[0]=c,e[1]=d,e[2]=p,e[3]=f,e.length=4,e)}function g(e,t,i,r,n,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let u=t.zmin,h=t.zmax,d=t.mmin,p=t.mmax;return n?(u=u||0,h=h||0,s?(d=d||0,p=p||0,e[0]=o,e[1]=l,e[2]=u,e[3]=d,e[4]=a,e[5]=c,e[6]=h,e[7]=p,e):(e[0]=o,e[1]=l,e[2]=u,e[3]=a,e[4]=c,e[5]=h,e)):s?(d=d||0,p=p||0,e[0]=o,e[1]=l,e[2]=d,e[3]=a,e[4]=c,e[5]=p,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function _(e,t,i,r,n,s){const o=i?3:2,a=r&&s,l=i&&n;if(!t.length||!t[0].length)return null;let c,d,p,f,[m,y]=t[0],[g,_]=t[0];for(let v=0;v<t.length;v++){const e=t[v],[i,r]=e;if(m=u(m,i),y=u(y,r),g=h(g,i),_=h(_,r),l&&e.length>2){const t=e[2];c=u(c,t),d=h(d,t)}if(a&&e.length>o){const t=e[o];p=u(c,t),f=h(d,t)}}return n?(c=c||0,d=d||0,s?(p=p||0,f=f||0,e[0]=m,e[1]=y,e[2]=c,e[3]=p,e[4]=g,e[5]=_,e[6]=d,e[7]=f,e):(e[0]=m,e[1]=y,e[2]=c,e[3]=g,e[4]=_,e[5]=d,e)):s?(p=p||0,f=f||0,e[0]=m,e[1]=y,e[2]=p,e[3]=g,e[4]=_,e[5]=f,e):(e[0]=m,e[1]=y,e[2]=g,e[3]=_,e)}},23806:(e,t,i)=>{"use strict";i.d(t,{IK:()=>u,S8:()=>a,TP:()=>d,Z4:()=>s,l8:()=>o,w2:()=>c});var r=i(18159),n=i(65319);function s(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function o(e){return e?a(e.rings,e.hasZ??!1):null}function a(e,t){if(!e?.length)return null;const i=[],r=[],s=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=e.length;n<o;n++){const i=l(e[n],t,s);i&&r.push(i)}if(r.sort(((e,i)=>{let r=e[2]-i[2];return 0===r&&t&&(r=e[4]-i[4]),r})),r.length&&(i[0]=r[0][0],i[1]=r[0][1],t&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const r=e[0]&&e[0].length?function(e,t){const i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,o=0,a=0,l=0;for(let c=0,u=e.length;c<u-1;c++){const u=e[c],h=e[c+1];if(u&&h){i[0]=u[0],i[1]=u[1],r[0]=h[0],r[1]=h[1],t&&u.length>2&&h.length>2&&(i[2]=u[2],r[2]=h[2]);const e=(0,n.R3)(i,r);if(e){s+=e;const i=(0,n.t9)(u,h);o+=e*i[0],a+=e*i[1],t&&i.length>2&&(l+=e*i[2])}}}return s>0?t?[o/s,a/s,l/s]:[o/s,a/s]:e.length?e[0]:null}(e[0],t):null;if(!r)return null;i[0]=r[0],i[1]=r[1],t&&r.length>2&&(i[2]=r[2])}return i}function l(e,t,i){let r=0,n=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,u=e.length&&t?e[0][2]:0;for(let d=0;d<e.length;d++){const h=e[d],p=e[(d+1)%e.length],[f,m,y]=h,g=f-l,_=m-c,[v,w,b]=p,M=v-l,A=w-c,S=g*A-M*_;if(o+=S,r+=(g+M)*S,n+=(_+A)*S,t&&h.length>2&&p.length>2){const e=y-u,t=b-u,i=g*t-M*e;s+=(e+t)*i,a+=i}f<i[0]&&(i[0]=f),f>i[1]&&(i[1]=f),m<i[2]&&(i[2]=m),m>i[3]&&(i[3]=m),t&&(y<i[4]&&(i[4]=y),y>i[5]&&(i[5]=y))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const h=[r/(6*o)+l,n/(6*o)+c,o];return t&&(i[4]===i[5]||0===a?(h[3]=(i[4]+i[5])/2,h[4]=0):(h[3]=s/(6*a)+u,h[4]=a)),h}function c(e,t){let i=0,r=0,n=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[u,h]=l,d=u-s,p=h-o,[f,m]=c,y=f-s,g=m-o,_=d*g-y*p;n+=_,i+=(d+y)*_,r+=(p+g)*_,u<t[0]&&(t[0]=u),u>t[1]&&(t[1]=u),h<t[2]&&(t[2]=h),h>t[3]&&(t[3]=h)}return n>0&&(n*=-1),n?(n*=.5,[i/(6*n)+s,r/(6*n)+o,n]):null}function u(e){const{hasZ:t,totalSize:i}=e;if(0===i)return null;const s=[],o=[],a=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const t=l((0,r.A)(e),e.hasZ,a);t&&o.push(t)}if(o.sort(((e,i)=>{let r=e[2]-i[2];return 0===r&&t&&(r=e[4]-i[4]),r})),o.length&&(s[0]=o[0][0],s[1]=o[0][1],t&&(s[2]=o[0][3]),(s[0]<a[0]||s[0]>a[1]||s[1]<a[2]||s[1]>a[3]||t&&(s[2]<a[4]||s[2]>a[5]))&&(s.length=0)),!s.length){e.reset(),e.nextPath();const i=e.pathSize?function(e){const{hasZ:t}=e,i=t?[0,0,0]:[0,0],r=t?[0,0,0]:[0,0];let s=0,o=0,a=0,l=0;if(e.nextPoint()){let c=e.x,u=e.y,h=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,f=e.z;i[0]=c,i[1]=u,r[0]=d,r[1]=p,t&&(i[2]=h,r[2]=f);const m=(0,n.R3)(i,r);if(m){s+=m;const e=(0,n.t9)(i,r);o+=m*e[0],a+=m*e[1],t&&e.length>2&&(l+=m*e[2])}c=d,u=p,h=f}}return s>0?t?[o/s,a/s,l/s]:[o/s,a/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}(e):null;if(!i)return null;s[0]=i[0],s[1]=i[1],t&&i.length>2&&(s[2]=i[2])}return s}const h=1e-6;function d(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<h){const t=u(e);return t?[t[0],t[1]]:null}const i=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const r=[e.x,e.y];for(e.reset();e.nextPath();)f(i,r,e);return i[0]*=1/t,i[1]*=1/t,i[0]+=r[0],i[1]+=r[1],i}const p=1/3;function f(e,t,i){if(!e||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,n=i.y;i.nextPoint();let s,o=i.x-r,a=i.y-n,l=0,c=0;for(;i.nextPoint();)l=i.x-r,c=i.y-n,s=.5*p*(l*a-c*o),e[0]+=s*(o+l),e[1]+=s*(a+c),o=l,a=c;const u=i.getCurrentRingArea(),h=[r,n];return h[0]-=t[0],h[1]-=t[1],h[0]*=u,h[1]*=u,e[0]+=h[0],e[1]+=h[1],e}},1364:(e,t,i)=>{"use strict";i.d(t,{CW:()=>a,F8:()=>l,gH:()=>o,m3:()=>u,qz:()=>n,rL:()=>s,t1:()=>h});const r=[0,0];function n(e,t){return null!=t&&c(e,t.x,t.y,t.z)}function s(e,t){if(!t.points?.length)return!1;for(const i of t.points)if(!a(e,i))return!1;return!0}function o(e,t){const{xmin:i,ymin:r,zmin:n,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?c(e,i,r,n)&&c(e,i,o,n)&&c(e,s,o,n)&&c(e,s,r,n)&&c(e,i,r,a)&&c(e,i,o,a)&&c(e,s,o,a)&&c(e,s,r,a):c(e,i,r)&&c(e,i,o)&&c(e,s,o)&&c(e,s,r)}function a(e,t){return c(e,t[0],t[1])}function l(e,t){return c(e,t[0],t[1],t[2])}function c(e,t,i,r){return t>=e.xmin&&t<=e.xmax&&i>=e.ymin&&i<=e.ymax&&(null==r||!e.hasZ||r>=e.zmin&&r<=e.zmax)}function u(e,t){return r[1]=t.y,r[0]=t.x,function(e,t){return h(e.rings,t)}(e,r)}function h(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return d(!1,e,t);let i=!1;for(let r=0,n=e.length;r<n;r++)i=d(i,e[r],t);return i}function d(e,t,i){const[r,n]=i;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[e,i]=t[a],[c,u]=t[o];(i<n&&u>=n||u<n&&i>=n)&&e+(n-i)/(u-i)*(c-e)<r&&(s=!s)}return s}},65319:(e,t,i)=>{"use strict";i.d(t,{$3:()=>m,$H:()=>f,$K:()=>o,B1:()=>c,It:()=>M,JM:()=>w,Ng:()=>h,R3:()=>a,Yl:()=>p,_7:()=>v,gR:()=>u,m3:()=>_,t9:()=>d,uC:()=>g});var r=i(85569),n=i(58331),s=i(87926);function o(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,i=e.hasM;if("point"===e.type)return i&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:i?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice();if("polyline"===e.type)return e.paths.slice();if("multipoint"===e.type)return e.points.slice();if("extent"===e.type){const t=e.clone().normalize();if(!t)return null;let i=!1,r=!1;return t.forEach((e=>{e.hasZ&&(i=!0),e.hasM&&(r=!0)})),t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(i&&e.hasZ){const i=.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(i)}if(r&&e.hasM){const i=.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(i)}return t}))}return null}function a(e,t){const i=t[0]-e[0],r=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)}return Math.sqrt(i*i+r*r)}function l(e,t,i){const r=e[0]+i*(t[0]-e[0]),n=e[1]+i*(t[1]-e[1]);return e.length>2&&t.length>2?[r,n,e[2]+i*(t[2]-e[2])]:[r,n]}function c(e,t,i,r){return u(e,t,i[r],i[r+1])}function u(e,t,i,r){const[n,s]=t,[o,a]=i,[l,c]=r,u=l-o,h=c-a,d=u*u+h*h,p=(n-o)*u+(s-a)*h,f=Math.min(1,Math.max(0,p/d));return e[0]=o+u*f,e[1]=a+h*f,e}function h(e,t,i,r,n,s){let o=i,a=r,l=n-o,c=s-a;if(0!==l||0!==c){const i=((e-o)*l+(t-a)*c)/(l*l+c*c);i>1?(o=n,a=s):i>0&&(o+=l*i,a+=c*i)}return l=e-o,c=t-a,l*l+c*c}function d(e,t){return l(e,t,.5)}function p(e){const t=e.length;let i=0;for(let r=0;r<t-1;++r)i+=a(e[r],e[r+1]);return i}function f(e,t){if(t<=0)return e[0];const i=e.length;let r=0;for(let n=0;n<i-1;++n){const i=a(e[n],e[n+1]);if(t-r<i){const s=(t-r)/i;return l(e[n],e[n+1],s)}r+=i}return e[i-1]}function m(e,t=n._.X,i=n._.Y){let r=0;const s=e.length;let o=e[0];for(let n=1;n<s;n++){const s=e[n];r+=(s[t]-o[t])*(s[i]+o[i]),o=s}if(y(e)){const n=e[0];r+=(n[t]-o[t])*(n[i]+o[i])}return r>=0}function y(e){const t=e.length;return t>0&&!(0,r.aI)(e[0],e[t-1])}function g(e){"rings"in e&&(_(e),function(e){if(!("rings"in e))return!1;if(0===e.rings.length||m(e.rings[0]))return!1;for(const t of e.rings)t.reverse()}(e))}function _(e){if("rings"in e)for(const t of e.rings)y(t)&&t.push(t[0].slice())}function v(e){return"polygon"!==e.type&&"polyline"!==e.type||w("polygon"===e.type?e.rings:e.paths,e.spatialReference),e}function w(e,t){const i=(0,s.Vp)(t);if(!i)return;const r=i.valid[0],n=i.valid[1],o=n-r;for(const s of e){let e=1/0,t=-1/0;for(const o of s){const i=b(o[0],r,n);e=Math.min(e,i),t=Math.max(t,i),o[0]=i}const i=t-e;o-i<i&&s.forEach((e=>{e[0]<0&&(e[0]+=o)}))}}function b(e,t,i){const r=i-t;return e<t?i-(t-e)%r:e>i?t+(e-t)%r:e}function M(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===t.points.length;const[i,r]="polyline"===e.type?[e.paths,t.paths]:[e.rings,t.rings];return i.length===r.length&&i.every(((e,t)=>e.length===r[t].length))}},90557:(e,t,i)=>{"use strict";i.d(t,{HA:()=>u,Z3:()=>d,v:()=>h});var r=i(36358);const n=[];function s(e,t,i,r){return{xmin:e,ymin:t,xmax:i,ymax:r}}function o(e,t,i,r,n,s){return{xmin:e,ymin:t,zmin:i,xmax:r,ymax:n,zmax:s}}function a(e,t,i,r,n,s){return{xmin:e,ymin:t,mmin:i,xmax:r,ymax:n,mmax:s}}function l(e,t,i,r,n,s,o,a){return{xmin:e,ymin:t,zmin:i,mmin:r,xmax:n,ymax:s,zmax:o,mmax:a}}function c(e,t=!1,i=!1){return t?i?l(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):o(e[0],e[1],e[2],e[3],e[4],e[5]):i?a(e[0],e[1],e[2],e[3],e[4],e[5]):s(e[0],e[1],e[2],e[3])}function u(e){return e?function(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}(e)?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?function(e){const{x:t,y:i,z:r,m:n}=e,c=null!=n;return null!=r?c?l(t,i,r,n,t,i,r,n):o(t,i,r,t,i,r):c?a(t,i,n,t,i,n):s(t,i,t,i)}(e):function(e){return void 0!==e.rings}(e)?h(e):function(e){return void 0!==e.paths}(e)?d(e):function(e){return void 0!==e.points}(e)?function(e){const{hasZ:t,hasM:i,points:s}=e;return c((0,r.Pj)(n,s,t??!1,i??!1),t,i)}(e):null:null}function h(e){const{hasZ:t,hasM:i,rings:s}=e,o=(0,r.Yz)(n,s,t??!1,i??!1);return o?c(o,t,i):null}function d(e){const{hasZ:t,hasM:i,paths:s}=e,o=(0,r.Yz)(n,s,t??!1,i??!1);return o?c(o,t,i):null}},5324:(e,t,i)=>{"use strict";i.d(t,{TP:()=>l,_f:()=>s,eh:()=>n,uw:()=>c});var r=i(99817);const n=Math.PI/180,s=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,o=r.$O.radius,a=r.$O.eccentricitySquared,l={a1:o*a,a2:o*a*o*a,a3:o*a*a/2,a4:o*a*o*a*2.5,a5:o*a+o*a*a/2,a6:1-a},c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.$O.radius,f:r.$O.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.Sw.radius,f:r.Sw.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.sH.radius,f:r.sH.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.sH.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}}},1995:(e,t,i)=>{"use strict";i.d(t,{Hu:()=>a,jI:()=>f,zy:()=>u});i(39831);var r,n=i(98849),s=i(34064),o=i(16123);function a(e,t,i){const o=u(e),a=t,c=l(o,a,i);if(o){const t=s.A.deriveUnitFromSR(o,e.spatialReference).heightUnit;if(!i&&t!==o.heightUnit){const e=new n.A("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${t})`,{horizontalUnit:t});return new n.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:o,error:e})}}if(!function(e){return"heightModelInfo"in e&&null!=e.heightModelInfo||null!=e.spatialReference||!p(e)}(e)||c===r.Unsupported)return new n.A("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:o});switch(c){case r.Units:{const e=o?.heightUnit||"unknown",t=a?.heightUnit||"unknown",i=new n.A("layerview:incompatible-height-unit",`The vertical units of the layer (${e}) must match the vertical units of the scene (${t})`,{layerUnit:e,sceneUnit:t});return new n.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:o,sceneHeightModelInfo:a,error:i})}case r.HeightModel:{const e=o?.heightModel||"unknown",t=a?.heightModel||"unknown",i=new n.A("layerview:incompatible-height-model",`The height model of the layer (${e}) must match the height model of the scene (${t})`,{layerHeightModel:e,sceneHeightModel:t});return new n.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:o,sceneHeightModelInfo:a,error:i})}case r.CRS:{const e=o?.vertCRS||"unknown",t=a?.vertCRS||"unknown",i=new n.A("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${e}) must match the vertical datum of the scene (${t})`,{layerDatum:e,sceneDatum:t});return new n.A("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:o,sceneHeightModelInfo:a,error:i})}}return null}function l(e,t,i){if(!c(e)||!c(t))return r.Unsupported;if(null==e||null==t)return r.Ok;if(!i&&e.heightUnit!==t.heightUnit)return r.Units;if(e.heightModel!==t.heightModel)return r.HeightModel;switch(e.heightModel){case"gravity-related-height":return r.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?r.Ok:r.CRS;default:return r.Unsupported}}function c(e){return null==e||null!=e.heightModel&&null!=e.heightUnit}function u(e){if("integrated-mesh-3dtiles"===e.type)return null;const t=e.url?(0,o.qg)(e.url):void 0,i=e.spatialReference?.vcsWkid;return(null!=i||null==t||"ImageServer"!==t.serverType)&&h(e)&&e.heightModelInfo?e.heightModelInfo:p(e)?s.A.deriveUnitFromSR(y,e.spatialReference):null}function h(e){return"heightModelInfo"in e}function d(e){if("unknown"===e.type||!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function p(e){return d(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):m(e)}function f(e){return null!=e.layers||m(e)||d(e)||h(e)}function m(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}!function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported"}(r||(r={}));const y=new s.A({heightModel:"gravity-related-height"})},43525:(e,t,i)=>{"use strict";i.d(t,{A3:()=>y,Ql:()=>_,fA:()=>p,xB:()=>s,xK:()=>v});var r=i(1364);function n(e,t){return(0,r.qz)(e,t)}function s(e,t){const i=e.hasZ&&t.hasZ;let r,n,s;if(e.xmin<=t.xmin){if(r=t.xmin,e.xmax<r)return!1}else if(r=e.xmin,t.xmax<r)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(i&&t.hasZ)if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1;return!0}function o(e,t){const{points:i,hasZ:n}=t,s=n?r.F8:r.CW;for(const r of i)if(s(e,r))return!0;return!1}const a=[0,0],l=[0,0],c=[0,0],u=[0,0],h=[a,l,c,u],d=[[c,a],[a,l],[l,u],[u,c]];function p(e,t){return function(e,t){a[0]=e.xmin,a[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin;for(const i of h)if((0,r.t1)(t,i))return!0;for(const i of t){if(!i.length)continue;let t=i[0];if((0,r.CW)(e,t))return!0;for(let n=1;n<i.length;n++){const s=i[n];if((0,r.CW)(e,s)||g(t,s,d))return!0;t=s}}return!1}(e,t.rings)}function f(e,t){a[0]=e.xmin,a[1]=e.ymax,l[0]=e.xmax,l[1]=e.ymax,c[0]=e.xmin,c[1]=e.ymin,u[0]=e.xmax,u[1]=e.ymin;const i=t.paths;for(const n of i){if(!i.length)continue;let t=n[0];if((0,r.CW)(e,t))return!0;for(let i=1;i<n.length;i++){const s=n[i];if((0,r.CW)(e,s)||g(t,s,d))return!0;t=s}}return!1}const m=[0,0];function y(e){for(let t=0;t<e.length;t++){const i=e[t];for(let n=0;n<i.length-1;n++){const r=i[n],s=i[n+1];for(let i=t+1;i<e.length;i++)for(let t=0;t<e[i].length-1;t++){const n=e[i][t],o=e[i][t+1];if(_(r,s,n,o,m)&&!(m[0]===r[0]&&m[1]===r[1]||m[0]===n[0]&&m[1]===n[1]||m[0]===s[0]&&m[1]===s[1]||m[0]===o[0]&&m[1]===o[1]))return!0}}const r=i.length;if(!(r<=4))for(let e=0;e<r-3;e++){let t=r-1;0===e&&(t=r-2);const n=i[e],s=i[e+1];for(let r=e+2;r<t;r++){const e=i[r],t=i[r+1];if(_(n,s,e,t,m)&&!(m[0]===n[0]&&m[1]===n[1]||m[0]===e[0]&&m[1]===e[1]||m[0]===s[0]&&m[1]===s[1]||m[0]===t[0]&&m[1]===t[1]))return!0}}}return!1}function g(e,t,i){for(let r=0;r<i.length;r++)if(_(e,t,i[r][0],i[r][1]))return!0;return!1}function _(e,t,i,r,n){const[s,o]=e,[a,l]=t,[c,u]=i,[h,d]=r,p=h-c,f=s-c,m=a-s,y=d-u,g=o-u,_=l-o,v=y*m-p*_;if(0===v)return!1;const w=(p*g-y*f)/v,b=(m*g-_*f)/v;return w>=0&&w<=1&&b>=0&&b<=1&&(n&&(n[0]=s+w*(a-s),n[1]=o+w*(l-o)),!0)}function v(e){switch(e){case"esriGeometryEnvelope":case"extent":return s;case"esriGeometryMultipoint":case"multipoint":return o;case"esriGeometryPoint":case"point":return n;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return p;case"esriGeometryPolyline":case"polyline":return f}}},1171:(e,t,i)=>{"use strict";i.d(t,{$B:()=>m,Bi:()=>p,Rg:()=>d,U9:()=>u,ZC:()=>c,fT:()=>h,rS:()=>f,xD:()=>g});var r=i(84698),n=i(88266),s=i(90067),o=i(97066),a=i(62802),l=i(42238);function c(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function u(e){return void 0!==e.points}function h(e){return void 0!==e.x&&void 0!==e.y}function d(e){return void 0!==e.paths||void 0!==e.curvePaths}function p(e){return void 0!==e.rings||void 0!==e.curveRings}function f(e){return null==e?null:e instanceof n.A?e:h(e)?o.A.fromJSON(e):d(e)?l.A.fromJSON(e):p(e)?a.A.fromJSON(e):u(e)?s.A.fromJSON(e):c(e)?r.A.fromJSON(e):null}function m(e){return e?h(e)?"esriGeometryPoint":d(e)?"esriGeometryPolyline":p(e)?"esriGeometryPolygon":c(e)?"esriGeometryEnvelope":u(e)?"esriGeometryMultipoint":null:null}const y={esriGeometryPoint:o.A,esriGeometryPolyline:l.A,esriGeometryPolygon:a.A,esriGeometryEnvelope:r.A,esriGeometryMultipoint:s.A,esriGeometryMultiPatch:a.A};function g(e){return e&&y[e]||null}},65231:(e,t,i)=>{"use strict";i.d(t,{O7:()=>E,Hr:()=>T,el:()=>S,mT:()=>x,XX:()=>w});var r=i(21121),n=i(98849),s=i(539),o=i(62802),a=i(42238),l=i(54599),c=i(87926),u=i(96082),h=i(86394),d=i(1171),p=i(11499);var f=i(20909),m=i(45355);const y=()=>s.A.getLogger("esri.geometry.support.normalizeUtils");function g(e){return"polygon"===e[0].type}function _(e){return"polyline"===e[0].type}function v(e){const t=[];let i=0,r=0;for(let n=0;n<e.length;n++){const s=e[n];let o=null;for(let e=0;e<s.length;e++)o=s[e],t.push(o),0===e?(i=o[0],r=i):(i=Math.min(i,o[0]),r=Math.max(r,o[0]));o&&t.push([(i+r)/2,0])}return t}function w(e,t){if(!(e instanceof a.A||e instanceof o.A)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw y().error(e),new n.A("internal:geometry",e)}const i=(0,l.r8)(e),r=[];for(const n of i){const e=[];r.push(e),e.push([n[0][0],n[0][1]]);for(let i=0;i<n.length-1;i++){const r=n[i][0],s=n[i][1],o=n[i+1][0],a=n[i+1][1],l=Math.sqrt((o-r)*(o-r)+(a-s)*(a-s)),c=(a-s)/l,u=(o-r)/l,h=l/t;if(h>1){for(let a=1;a<=h-1;a++){const i=a*t,n=u*i+r,o=c*i+s;e.push([n,o])}const i=(l+Math.floor(h-1)*t)/2,n=u*i+r,o=c*i+s;e.push([n,o])}e.push([o,a])}}return function(e){return"polygon"===e.type}(e)?new o.A({rings:r,spatialReference:e.spatialReference}):new a.A({paths:r,spatialReference:e.spatialReference})}function b(e,t,i){if(t){const t=w(e,1e6);e=(0,u.ci)(t,!0)}return i&&(e=(0,l.kS)(e,i)),e}function M(e,t,i){if(Array.isArray(e)){const r=e[0];if(r>t){const i=(0,l.kd)(r,t);e[0]=r+i*(-2*t)}else if(r<i){const t=(0,l.kd)(r,i);e[0]=r+t*(-2*i)}}else{const r=e.x;if(r>t){const i=(0,l.kd)(r,t);e=e.clone().offset(i*(-2*t),0)}else if(r<i){const t=(0,l.kd)(r,i);e=e.clone().offset(t*(-2*i),0)}}return e}function A(e,t){let i=-1;for(let r=0;r<t.cutIndexes.length;r++){const n=t.cutIndexes[r],s=t.geometries[r],o=(0,l.r8)(s);for(let e=0;e<o.length;e++){const t=o[e];t.some((i=>{if(i[0]<180)return!0;{let i=0;for(let e=0;e<t.length;e++){const r=t[e][0];i=r>i?r:i}i=Number(i.toFixed(9));const r=-360*(0,l.kd)(i,180);for(let n=0;n<t.length;n++){const t=s.getPoint(e,n);s.setPoint(e,n,t.clone().offset(r,0))}return!0}}))}if(n===i){if(g(e))for(const t of(0,l.r8)(s))e[n]=e[n].addRing(t);else if(_(e))for(const t of(0,l.r8)(s))e[n]=e[n].addPath(t)}else i=n,e[n]=s}return e}async function S(e,t,i){if(!Array.isArray(e))return S([e],t);t&&"string"!=typeof t&&y().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n="string"==typeof t?t:t?.url??r.A.geometryServiceUrl;let s,g,_,v,w,T,E,x,P=0;const C=[],I=[];for(const r of e)if(null!=r)if(s||(s=r.spatialReference,g=(0,c.Vp)(s),_=s.isWebMercator,T=_?102100:4326,v=l.j7[T].maxX,w=l.j7[T].minX,E=l.j7[T].plus180Line,x=l.j7[T].minus180Line),g)if("mesh"===r.type)I.push(r);else if("point"===r.type)I.push(M(r.clone(),v,w));else if("multipoint"===r.type){const e=r.clone();e.points=e.points.map((e=>M(e,v,w))),I.push(e)}else if("extent"===r.type){const e=r.clone()._normalize(!1,!1,g);I.push(e.rings?new o.A(e):e)}else if(r.extent){const e=r.extent,t=(0,l.kd)(e.xmin,w)*(2*v);let i=0===t?r.clone():(0,l.kS)(r.clone(),t);e.offset(t,0);let{xmin:n,xmax:s}=e;n=Number(n.toFixed(9)),s=Number(s.toFixed(9)),e.intersects(E)&&s!==v?(P=s>P?s:P,i=b(i,_),C.push(i),I.push("cut")):e.intersects(x)&&n!==w?(P=s*(2*v)>P?s*(2*v):P,i=b(i,_,360),C.push(i),I.push("cut")):I.push(i)}else I.push(r.clone());else I.push(r);else I.push(r);let O=(0,l.kd)(P,v),R=-90;const N=O,k=new a.A;for(;O>0;){const e=360*O-180;k.addPath([[e,R],[e,-1*R]]),R*=-1,O--}if(C.length>0&&N>0){const t=A(C,await async function(e,t,i,r){const n=(0,p.Dl)(e),s=t[0].spatialReference,o={...r,responseType:"json",query:{...n.query,f:"json",sr:(0,c.YX)(s),target:JSON.stringify({geometryType:(0,d.$B)(t[0]),geometries:t}),cutter:JSON.stringify(i)}},a=await(0,h.A)(n.path+"/cut",o),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map((e=>{const t=(0,d.rS)(e);return t.spatialReference=s,t}))}}(n,C,k,i)),r=[],s=[];for(let i=0;i<I.length;i++){const n=I[i];if("cut"!==n)s.push(n);else{const n=t.shift(),o=e[i];null!=o&&"polygon"===o.type&&o.rings&&o.rings.length>1&&n.rings.length>=o.rings.length?(r.push(n),s.push("simplify")):s.push(_?(0,u.Gh)(n):n)}}if(!r.length)return s;const o=await async function(e,t,i){const r="string"==typeof e?(0,f.An)(e):e,n=t[0].spatialReference,s=(0,d.$B)(t[0]),o={...i,query:{...r.query,f:"json",sr:(0,c.YX)(n),geometries:JSON.stringify((0,m.X)(t))}},{data:a}=await(0,h.A)(r.path+"/simplify",o);return(0,m.V)(a.geometries,s,n)}(n,r,i),a=[];for(let e=0;e<s.length;e++){const t=s[e];"simplify"!==t?a.push(t):a.push(_?(0,u.Gh)(o.shift()):o.shift())}return a}const L=[];for(let r=0;r<I.length;r++){const e=I[r];if("cut"!==e)L.push(e);else{const e=C.shift();L.push(!0===_?(0,u.Gh)(e):e)}}return L}function T(e){if(!e)return null;const t=e.extent;if(!t)return null;const i=e.spatialReference&&(0,c.Vp)(e.spatialReference);if(!i)return t;const[r,n]=i.valid,s=2*n,{width:o}=t;let a,{xmin:l,xmax:u}=t;if([l,u]=[u,l],"extent"===e.type||0===o||o<=n||o>s||l<r||u>n)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=v(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=v(e.paths);break;case"multipoint":a=e.points}const h=t.clone();for(let c=0;c<a.length;c++){let e=a[c][0];e<0?(e+=n,u=Math.max(e,u)):(e-=n,l=Math.min(e,l))}return h.xmin=l,h.xmax=u,h.width<o?(h.xmin-=n,h.xmax-=n,h):t}function E(e,t,i){const r=(0,c.Vp)(i);if(null==r)return e;const[n,s]=r.valid,o=2*s;let a=0,l=0;t>s?a=Math.ceil(Math.abs(t-s)/o):t<n&&(a=-Math.ceil(Math.abs(t-n)/o)),e>s?l=Math.ceil(Math.abs(e-s)/o):e<n&&(l=-Math.ceil(Math.abs(e-n)/o));let u=e+(a-l)*o;const h=u-t;return h>s?u-=o:h<n&&(u+=o),u}function x(e,t){const i=(0,c.Vp)(t);if(i){const[t,r]=i.valid,n=r-t;if(e<t)for(;e<t;)e+=n;if(e>r)for(;e>r;)e-=n}return e}},54599:(e,t,i)=>{"use strict";i.d(t,{j7:()=>o,kS:()=>l,kd:()=>a,r8:()=>c});var r=i(42238),n=i(78983),s=i(1171);const o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.A({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.A.WebMercator}),minus180Line:new r.A({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.A({paths:[[[180,-180],[180,180]]],spatialReference:n.A.WGS84}),minus180Line:new r.A({paths:[[[-180,-180],[-180,180]]],spatialReference:n.A.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const i=c(e);for(const r of i)for(const e of r)e[0]+=t;return e}function c(e){return(0,s.Bi)(e)?e.rings:e.paths}},76557:(e,t,i)=>{"use strict";i.d(t,{EZ:()=>o,Io:()=>s,QP:()=>l,T0:()=>a});var r=i(87926),n=i(96082);function s(e,t){const i=e.x-t.x,r=e.y-t.y,n=null!=e.z&&null!=t.z?e.z-t.z:0;return Math.sqrt(i*i+r*r+n*n)}function o(e){return l(e,c)?.[0]??null}function a(e){return l(e,c)?.[1]??null}function l({x:e,y:t,spatialReference:i},s=[0,0]){if(i){if((0,r.K8)(i))return(0,n.tD)(e,t,s);if((0,r.EA)(i))return s[0]=e,s[1]=t,s}return null}const c=[0,0]},87926:(e,t,i)=>{"use strict";i.d(t,{B3:()=>y,EA:()=>m,K8:()=>w,KK:()=>P,KQ:()=>T,Mc:()=>l,Vp:()=>p,YX:()=>f,ZL:()=>S,aI:()=>d,ch:()=>C,d9:()=>E,fn:()=>x,jp:()=>_,oT:()=>g,q8:()=>A,r1:()=>b,tQ:()=>I,tl:()=>M,x1:()=>v});var r=i(96274),n=(i(47063),i(95859)),s=i(83811);const o=[102100,102113,3857,3785,900913],a=[4326,...o,104905,104971],l=[-20037508.342788905,20037508.342788905],c=[-20037508.342787,20037508.342787],u={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},h={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},102100:u,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:l,origin:c,dx:1e-5},3857:u,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:u};function d(e,t){if(e===t)return!0;if(null==e||null==t)return!1;const i=e.wkid,r=t.wkid;if(null!=i||null!=r){if(i===r)return!0;if(w(e)&&w(t))return!0;const n=e.latestWkid;if(null!=n&&r===n)return!0;const s=t.latestWkid;return null!=s&&i===s}let n,s;return e.wkt2&&t.wkt2?(n=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(n=e.wkt,s=t.wkt),!(!n||!s)&&n.toUpperCase()===s.toUpperCase()}function p(e){const t=e?.wkid;return null!=t&&t>=2e3&&h[t]||null}function f(e){if(!e)return;const{wkid:t,vcsWkid:i}=e;if(t)return i?JSON.stringify({wkid:t,vcsWkid:i}):String(t);const r=e.wkt||e.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function m(e){if(!x(e))return!1;const{wkid:t}=e;if(t)return null==s.A[t];const i=e.wkt2||e.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function y(e){return!(A(e)||T(e))}function g(e){return 4326===e?.wkid}function _(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function v(e){return e?.wkid===n.Y.CGCS2000}function w(e){const t=e?.wkid;return null!=t&&t>=2e3&&o.includes(t)}function b(e){return 32662===e?.wkid}function M(e){return e===n.Y.GCSMARS2000||e===n.Y.GCSMARS2000_SPHERE}function A(e){return M(e?.wkid)}function S(e){return e===n.Y.GCSMOON2000}function T(e){return S(e?.wkid)}function E(e){const t=e?.wkid;return null!=t&&t>=2e3&&a.includes(t)}function x(e){if(null==e)return!1;const t=e.wkid;return null!=t&&t>=2e3||null!=e.wkt2||null!=e.wkt}const P={wkid:4326,wkt:(0,r.HC)(h[4326].wkTemplate,{Central_Meridian:"0.0"})},C={wkid:102100,latestWkid:3857},I={wkid:32662}},12433:(e,t,i)=>{"use strict";i.d(t,{Ye:()=>h,gy:()=>u,yR:()=>d});var r=i(59851),n=i(84698),s=i(88266),o=i(90067),a=i(97066),l=i(62802),c=i(42238);const u=(0,r.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),h=(0,r.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),d={base:s.A,key:"type",typeMap:{extent:n.A,multipoint:o.A,point:a.A,polyline:c.A,polygon:l.A}}},96082:(e,t,i)=>{"use strict";i.d(t,{Cv:()=>_,Gh:()=>b,ci:()=>M,je:()=>v,jg:()=>p,tD:()=>w,y7:()=>g,yw:()=>d});var r=i(19251),n=i(78431),s=i(78983),o=i(99817),a=i(87926);const l=57.29577951308232,c=.017453292519943;function u(e){return e*l}function h(e){return e*c}function d(e){return e/o.$O.radius}function p(e){return Math.PI/2-2*Math.atan(Math.exp(-e/o.$O.radius))}function f(e){return null!=e.wkid||null!=e.wkt}const m=[0,0];function y(e,t,i,r,n){const s=e,o=n;if(o.spatialReference=i,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,m,r);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,m,r),[o.xmax,o.ymax]=t(s.xmax,s.ymax,m,r);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const e="paths"in s?s.paths:s.rings,i=[];let n;for(let s=0;s<e.length;s++){const o=e[s];n=[],i.push(n);for(let e=0;e<o.length;e++)n.push(t(o[e][0],o[e][1],[0,0],r)),o[e].length>2&&n[e].push(o[e][2]),o[e].length>3&&n[e].push(o[e][3])}"paths"in o?o.paths=i:o.rings=i}else if("points"in s&&"points"in o){const e=s.points,i=[];for(let n=0;n<e.length;n++)i[n]=t(e[n][0],e[n][1],[0,0],r),e[n].length>2&&i[n].push(e[n][2]),e[n].length>3&&i[n].push(e[n][3]);o.points=i}return n}function g(e,t){const i=e&&(f(e)?e:e.spatialReference),r=t&&(f(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!i||!r)&&(!!(0,a.aI)(r,i)||(0,a.K8)(r)&&(0,a.oT)(i)||(0,a.K8)(i)&&(0,a.oT)(r))}function _(e,t){if(null==e)return null;const i=e.spatialReference,n=t&&(f(t)?t:t.spatialReference);return g(i,n)?(0,a.aI)(i,n)?(0,r.o8)(e):(0,a.K8)(n)?y(e,v,s.A.WebMercator,!1,(0,r.o8)(e)):(0,a.oT)(n)?y(e,w,s.A.WGS84,!1,(0,r.o8)(e)):null:null}function v(e,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=h(t);return i[0]=h(e)*o.$O.radius,i[1]=o.$O.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function w(e,t,i=[0,0],r=!1){if(e===a.Mc[0])i[0]=-180;else if(e===a.Mc[1])i[0]=180;else{const t=u(e/o.$O.radius);i[0]=r?t:t-360*Math.floor((t+180)/360)}return i[1]=u(Math.PI/2-2*Math.atan(Math.exp(-t/o.$O.radius))),i}function b(e,t=!1,i=(0,r.o8)(e)){return(0,n.f)(e),(0,n.f)(i),y(e,v,s.A.WebMercator,t,i)}function M(e,t=!1,i=(0,r.o8)(e)){return(0,n.f)(e),(0,n.f)(i),y(e,w,s.A.WGS84,t,i)}},21478:(e,t,i)=>{"use strict";function r(e,t,i=!1){let{hasM:r,hasZ:n}=e;Array.isArray(t)?4!==t.length||r||n?3===t.length&&i&&!r?(n=!0,r=!1):3===t.length&&r&&n&&(r=!1,n=!1):(r=!0,n=!0):(n=!n&&t.hasZ&&(!r||t.hasM),r=!r&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=r}i.d(t,{h:()=>r})},8034:(e,t,i)=>{"use strict";i.d(t,{N:()=>o});var r=i(92976),n=i(47936),s=i(87926);function o(e,t,i){if(null==t||null==i||i.vcsWkid||(0,s.aI)(t,i)||(0,n.xP)(t)||(0,n.xP)(i))return null;const o=(0,r.G9)(t)/(0,r.G9)(i);if(1===o)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){null!=e?.z&&(e.z*=t)}(e,o);case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const i of e.paths)for(const e of i)e.length>2&&(e[2]*=t)}(e,o);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const i of e.rings)for(const e of i)e.length>2&&(e[2]*=t)}(e,o);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const i of e.points)i.length>2&&(i[2]*=t)}(e,o);case"extent":case"esriGeometryEnvelope":return e=>function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,o);default:return null}}},17791:(e,t,i)=>{"use strict";i(76459),i(46930),i(48187),i(91109);var r=i(15131),n=i(86394),s=i(98849);async function o(e){if(null!=l.fetchBundleAsset)return l.fetchBundleAsset(e);const t=await(0,n.A)(e,{responseType:"text"});return JSON.parse(t.data)}class a{constructor({base:e="",pattern:t,location:i=new URL(window.location.href)}){let r;r="string"==typeof i?e=>new URL(e,new URL(i,window.location.href)).href:i instanceof URL?e=>new URL(e,i).href:i,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=r,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,t){return async function(e,t,i,n){const a=t.exec(i);if(!a)throw new s.A("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${t}"`);const l=a[1]?`${a[1]}/`:"",c=a[2],u=(0,r.xO)(n),h=`${l}${c}.json`,d=u?`${l}${c}_${u}.json`:h;let p;try{p=await o(e(d))}catch(f){if(d===h)throw new s.A("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:f});try{p=await o(e(h))}catch(f){throw new s.A("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:f})}}return p}(this.getAssetUrl,this.matcher,e,t)}}const l={};var c=i(99050);(0,r.ao)(function(e){return new a(e)}({pattern:"esri/",location:c.s}))},76459:(e,t,i)=>{"use strict";i.d(t,{Ey:()=>O,F8:()=>I,J2:()=>x,Yq:()=>P,_v:()=>w,iS:()=>C,wj:()=>R});var r=i(59851),n=i(91109),s=i(54088),o=(i(12129),i(34495));const a={year:void 0,month:void 0,day:void 0,weekday:void 0},l={hour:void 0,minute:void 0,second:void 0},c={timeZone:s.n$},u={year:"numeric",month:"numeric",day:"numeric"},h={year:"numeric",month:"long",day:"numeric"},d={year:"numeric",month:"short",day:"numeric"},p={year:"numeric",month:"long",weekday:"long",day:"numeric"},f={hour:"numeric",minute:"numeric"},m={...f,second:"numeric"},y={hourCycle:"h23"},g={...f,...y},_={...m,...y},v={"short-date":u,"short-date-short-time":{...u,...f},"short-date-short-time-24":{...u,...g},"short-date-long-time":{...u,...m},"short-date-long-time-24":{...u,..._},"short-date-le":u,"short-date-le-short-time":{...u,...f},"short-date-le-short-time-24":{...u,...g},"short-date-le-long-time":{...u,...m},"short-date-le-long-time-24":{...u,..._},"long-month-day-year":h,"long-month-day-year-short-time":{...h,...f},"long-month-day-year-short-time-24":{...h,...g},"long-month-day-year-long-time":{...h,...m},"long-month-day-year-long-time-24":{...h,..._},"day-short-month-year":d,"day-short-month-year-short-time":{...d,...f},"day-short-month-year-short-time-24":{...d,...g},"day-short-month-year-long-time":{...d,...m},"day-short-month-year-long-time-24":{...d,..._},"long-date":p,"long-date-short-time":{...p,...f},"long-date-short-time-24":{...p,...g},"long-date-long-time":{...p,...m},"long-date-long-time-24":{...p,..._},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":f,"long-time":m},w=(0,r.O)()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),b={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},M=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),A=M.find((({type:e})=>"month"===e))?.value.toLowerCase();function S(){const e=(0,n.JK)(),t=(0,n.ZS)(e)?.language;return(t&&b[t])??e}"mart"!==A&&(b.bs="sr-Latn-CS");let T=new WeakMap;const E=v["short-date-short-time"];function x(e){return v[e]}function P(e,t=E){return function(e){let t=T.get(e);if(!t){const i=S(),r=R(e.timeZone??s.qU),n={...e,timeZone:r};t=new Intl.DateTimeFormat(i,n),T.set(e,t)}return t}(t).format(e)}function C(e,t=E){return P(new Date(e),{...t,...c,...l})}function I(e,t=E){return P(new Date(`1970-01-01T${e}Z`),{...t,...c,...a})}function O(e,t=E){if(t.timeZone)return P(new Date(e),t);const i=o.c9.fromISO(e,{setZone:!0}),r=0===i.offset?s.n$:t.timeZone,n={...t,timeZone:r};return i.toLocaleString(n,{locale:S()})}function R(e){switch(e){case s.qU:return s.N5;case s.L5:return s.n$;default:return e}}(0,n.Ml)((()=>{T=new WeakMap}))},91109:(e,t,i)=>{"use strict";i.d(t,{JK:()=>c,Ml:()=>m,ZS:()=>h,oQ:()=>p});var r=i(20464);i(39831);let n,s;const o=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,a=globalThis.document?.documentElement;function l(){const e=a?.getAttribute("lang"),t=globalThis.navigator?.language;return o??e??t??"en"}function c(){return void 0===s&&(s=l()),s}const u=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function h(e=c()){return u.exec(e)?.groups}const d=[];new Map;function p(e){return d.push(e),(0,r.hA)((()=>{d.splice(d.indexOf(e),1)}))}const f=[];function m(e){return f.push(e),(0,r.hA)((()=>f.splice(f.indexOf(e),1)))}function y(){const e=n??l();s!==e&&([...f].forEach((t=>t(e))),s=e,[...d].forEach((t=>t(e))))}globalThis.addEventListener?.("languagechange",y),a&&new MutationObserver((()=>{y()})).observe(a,{attributeFilter:["lang"]})},15131:(e,t,i)=>{"use strict";i.d(t,{ao:()=>d,ud:()=>p,xO:()=>f});var r=i(98849),n=i(20464),s=i(40189),o=i(91109);const a={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function l(e){if(function(e){return e in a}(e)){const t=a[e];return!0===t?e:t}return null}const c=[],u=new Map;function h(e){for(const t of u.keys())m(e.pattern,t)&&u.delete(t)}function d(e){return c.includes(e)||(h(e),c.unshift(e)),(0,n.hA)((()=>{const t=c.indexOf(e);t>-1&&(c.splice(t,1),h(e))}))}async function p(e){const t=(0,o.JK)();u.has(e)||u.set(e,async function(e,t){const i=[];for(const r of c)if(m(r.pattern,e))try{return await r.fetchMessageBundle(e,t)}catch(n){i.push(n)}if(i.length)throw new r.A("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:i});throw new r.A("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}(e,t));const i=u.get(e);return i&&await y.add(i),i}function f(e){const t=(0,o.ZS)(e);return t?l(e)??l(t.language):null}function m(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}(0,o.Ml)((()=>{u.clear()}));const y=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=(0,s.Tw)())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}}},46930:(e,t,i)=>{"use strict";i.d(t,{$J:()=>u,ZV:()=>c,yx:()=>l});var r=i(91109);const n={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let s=new WeakMap,o={};function a(e){const t=e||o;if(!s.has(t)){const i=(0,r.JK)(),o=(0,r.ZS)(i)?.language,a=o&&n[o]||i;s.set(t,new Intl.NumberFormat(a,e))}return s.get(t)}function l(e={}){const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function c(e,t){return Object.is(e,-0)&&(e=0),a(t).format(e)}function u(e,t=(0,r.JK)()){if(!e)return null;let i=h.get(t);if(!i){const e=a().formatToParts(12345.6),r=[...a({useGrouping:!1}).format(9876543210)].reverse(),n=new Map(r.map(((e,t)=>[e,t]))),s=new RegExp(`[${e.find((e=>"group"===e.type))?.value}]`,"g"),o=new RegExp(`[${e.find((e=>"decimal"===e.type))?.value}]`),l=new RegExp(`[${r.join("")}]`,"g"),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,u=/[-\u2212\u2013\u2014\u2015]/g;i=e=>{if(""===(e=e.trim().replaceAll(s,"").replace(o,".").replace(l,(e=>String(n.get(e)))).replaceAll(c,"").replaceAll(u,"-")))return null;const t=Number(e);return isNaN(t)?null:t},h.set(t,i)}return i(e)}(0,r.Ml)((()=>{s=new WeakMap,o={}}));const h=new Map},48187:(e,t,i)=>{"use strict";i.d(t,{V:()=>c});var r=i(539),n=i(76724),s=i(96274),o=i(76459),a=i(46930);const l=()=>r.A.getLogger("esri.intl.substitute");function c(e,t,i={}){const{format:r={}}=i;return(0,s.HC)(e,(e=>function(e,t,i){let r,s;const o=e.indexOf(":");if(-1===o?r=e.trim():(r=e.slice(0,o).trim(),s=e.slice(o+1).trim()),!r)return"";const a=(0,n.wc)(r,t);if(null==a)return"";const l=(s?i?.[s]:null)??i?.[r];return l?u(a,l):s?h(a,s):d(a)}(e,t,r)))}function u(e,t){switch(t.type){case"date":return(0,o.Yq)(e,t.intlOptions);case"number":return(0,a.ZV)(e,t.intlOptions);default:return l().warn("missing format descriptor for key {key}"),d(e)}}function h(e,t){switch(t.toLowerCase()){case"dateformat":return(0,o.Yq)(e);case"numberformat":return(0,a.ZV)(e);default:return l().warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?(0,o.Yq)(e):/^numberformat/i.test(t)?(0,a.ZV)(e):d(e)}}function d(e){switch(typeof e){case"string":return e;case"number":return(0,a.ZV)(e);case"boolean":return""+e;default:return e instanceof Date?(0,o.Yq)(e):""}}},28830:(e,t,i)=>{"use strict";i.d(t,{Aq:()=>l,Y3:()=>c,id:()=>o,ol:()=>a,rE:()=>s});var r=i(39831),n=i(20909);Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const s="4.33";let o,a=s;function l(e){o=e}function c(e){const t=o?.findCredential(e);return t?.token?(0,n.rs)(e,"token",t.token):e}a="4.33.9",(0,r.A)("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),(0,r.A)("host-webworker")},86777:(e,t,i)=>{"use strict";var r,n,s,o,a,l,c,u,h,d,p,f,m,y,g;i.d(t,{Pl:()=>_,Qg:()=>g,vE:()=>v}),function(e){e.U8="U8",e.I8="I8",e.U16="U16",e.I16="I16",e.U32="U32",e.I32="I32",e.F32="F32",e.F64="F64",e.Utf8String="Utf8String",e.NotSet="NotSet"}(r||(r={})),function(e){e.Png="Png",e.Jpeg="Jpeg",e.Dds="Dds",e.Raw="Raw",e.Dxt1="Dxt1",e.Dxt5="Dxt5",e.Bc7="Bc7",e.Basis="Basis",e.Etc1="Etc1",e.Etc2="Etc2",e.Astc="Astc",e.Pvrtc="Pvrtc",e.NotSet="NotSet"}(n||(n={})),function(e){e.Position="Position",e.Normal="Normal",e.TexCoord="TexCoord",e.Color="Color",e.Tangent="Tangent",e.FeatureIndex="FeatureIndex",e.UvRegion="UvRegion",e.FeatureVariable="FeatureVariable",e.NotSet="NotSet"}(s||(s={})),function(e){e.Opaque="Opaque",e.Mask="Mask",e.Blend="Blend"}(o||(o={})),function(e){e.None="None",e.Mask="Mask",e.Alpha="Alpha",e.PreMultAlpha="PreMultAlpha",e.NotSet="NotSet"}(a||(a={})),function(e){e.Points="Points",e.Lines="Lines",e.LineStrip="LineStrip",e.Triangles="Triangles",e.TriangleStrip="TriangleStrip",e.NotSet="NotSet"}(l||(l={})),function(e){e.None="None",e.WrapXBit="WrapXBit",e.WrapYBit="WrapYBit",e.WrapXy="WrapXy",e.NotSet="NotSet"}(c||(c={})),function(e){e.Linear="Linear",e.Nearest="Nearest",e.NotSet="NotSet"}(u||(u={})),function(e){e.Linear="Linear",e.Nearest="Nearest",e.NearestMipmapNearest="NearestMipmapNearest",e.LinearMipmapNearest="LinearMipmapNearest",e.NearestMipmapLinear="NearestMipmapLinear",e.LinearMipmapLinear="LinearMipmapLinear",e.NotSet="NotSet"}(h||(h={})),function(e){e.FeatureId="FeatureId",e.GlobalUid="GlobalUid",e.UnspecifiedDateTime="UnspecifiedDateTime",e.EcmaIso8601DateTime="EcmaIso8601DateTime",e.EcmaIso8601DateOnly="EcmaIso8601DateOnly",e.TimeOnly="TimeOnly",e.TimeStamp="TimeStamp",e.ColorRgb="ColorRgb",e.ColorRgba="ColorRgba",e.Unrecognized="Unrecognized",e.NotSet="NotSet"}(d||(d={})),function(e){e.Texture="Texture",e.VertexAtrb="VertexAtrb",e.Implicit="Implicit",e.NotSet="NotSet"}(p||(p={})),function(e){e.Front="Front",e.Back="Back",e.None="None",e.NotSet="NotSet"}(f||(f={})),function(e){e.Pbr="Pbr",e.Unlit="Unlit"}(m||(m={})),function(e){e.Rgb8="Rgb8",e.Rgba8="Rgba8",e.R8="R8",e.Bgr8="Bgr8",e.Bgra8="Bgra8",e.Rg8="Rg8",e.Ga8="Ga8",e.Etc1="Etc1",e.Etc2="Etc2",e.Dxt1="Dxt1",e.Dxt5="Dxt5",e.Bc7="Bc7",e.NotSet="NotSet"}(y||(y={})),function(e){e[e.Succeeded=0]="Succeeded",e[e.Failed=1]="Failed",e[e.MissingInputs=2]="MissingInputs"}(g||(g={}));const _=-1,v=-2},68833:(e,t,i)=>{"use strict";i.d(t,{A:()=>v});var r=i(66866),n=i(86394),s=i(98849),o=i(17306),a=i(65667),l=i(45307),c=i(539),u=i(40189),h=i(20909),d=i(21564),p=(i(39831),i(9272),i(63863)),f=i(84698),m=i(78983),y=i(21121);var g=i(17197);let _=0,v=class extends(o.A.EventedMixin(a.A.IdentifiableMixin(l.A))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new f.A(-180,-90,180,90,m.A.WGS84),this.id=Date.now().toString(16)+"-layer-"+_++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=m.A.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await i.e(57903).then(i.bind(i,57903))).fromUrl(t)}static fromPortalItem(e){return async function(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await Promise.all([i.e(72076),i.e(20784)]).then(i.bind(i,20784));try{return await r(t)}catch(n){const e=t?.portalItem,i=e?.id||"unset",r=e?.portal?.url||y.A.portalUrl;throw c.A.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+r+"', id: '"+i+"')",n),n}}(e)}initialize(){this.when().catch((e=>{(0,u.zf)(e)||c.A.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,h.An)(this.url)}createLayerView(e,t){return Promise.reject(new s.A("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,n.A)(e,{query:{f:"json"},responseType:"json"})).data;throw new s.A("layer:no-attribution-data","Layer does not have attribution data")}};(0,r._)([(0,d.MZ)({type:String})],v.prototype,"attributionDataUrl",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],v.prototype,"effectiveVisible",null),(0,r._)([(0,d.MZ)({type:f.A})],v.prototype,"fullExtent",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],v.prototype,"hasAttributionData",null),(0,r._)([(0,d.MZ)({type:String,clonable:!1})],v.prototype,"id",void 0),(0,r._)([(0,d.MZ)({type:Boolean,nonNullable:!0})],v.prototype,"legendEnabled",void 0),(0,r._)([(0,d.MZ)({type:["show","hide","hide-children"]})],v.prototype,"listMode",void 0),(0,r._)([(0,d.MZ)({type:Number,range:{min:0,max:1},nonNullable:!0})],v.prototype,"opacity",void 0),(0,r._)([(0,d.MZ)({clonable:!1})],v.prototype,"parent",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],v.prototype,"parsedUrl",null),(0,r._)([(0,d.MZ)({type:Boolean,readOnly:!0})],v.prototype,"persistenceEnabled",void 0),(0,r._)([(0,d.MZ)({type:Boolean})],v.prototype,"popupEnabled",void 0),(0,r._)([(0,d.MZ)({type:Boolean})],v.prototype,"attributionVisible",void 0),(0,r._)([(0,d.MZ)({type:m.A})],v.prototype,"spatialReference",void 0),(0,r._)([(0,d.MZ)({type:String})],v.prototype,"title",void 0),(0,r._)([(0,d.MZ)({readOnly:!0,json:{read:!1}})],v.prototype,"type",void 0),(0,r._)([(0,d.MZ)()],v.prototype,"url",void 0),(0,r._)([(0,d.MZ)({type:g.T})],v.prototype,"visibilityTimeExtent",void 0),(0,r._)([(0,d.MZ)({type:Boolean,nonNullable:!0})],v.prototype,"visible",void 0),v=(0,r._)([(0,p.$)("esri.layers.Layer")],v)},26916:(e,t,i)=>{"use strict";i.d(t,{Jt:()=>a,hc:()=>o});var r=i(20464),n=i(85251);const s=new WeakMap;function o(e){return!e.destroyed&&(s.has(e)||e.addHandles([(0,n.wB)((()=>{const t=e.parent;return!(!t||!("type"in t))&&("catalog-dynamic-group"===t.type||o(t))}),(t=>s.set(e,t)),n.pc),(0,r.hA)((()=>s.delete(e)))]),s.get(e))}function a(e,t){const i=e.parent,r=e.layer;if("map-image"!==r?.type||!r.sourceJSON||!i)return!1;const n=r.sourceJSON.layers;if(!n)return!1;const s=n.find((t=>e.id===t.id)),o="footprints"===t?"Feature Layer":"Catalog Dynamic Group Layer";return s?.type===o&&"Catalog Layer"===n.find((e=>e.id===i.id))?.type}},47740:(e,t,i)=>{"use strict";i.d(t,{bv:()=>l,Fk:()=>c,yG:()=>u,$b:()=>h,Nd:()=>d,jm:()=>p,sK:()=>y});var r=i(31415),n=i(89882);function s(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}const o=s();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:function(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},create:s,fromValues:function(e,t,i,r,n,s,o,a,l,c,u,h,d,p,f,m){const y=new Float32Array(16);return y[0]=e,y[1]=t,y[2]=i,y[3]=r,y[4]=n,y[5]=s,y[6]=o,y[7]=a,y[8]=l,y[9]=c,y[10]=u,y[11]=h,y[12]=d,y[13]=p,y[14]=f,y[15]=m,y}},Symbol.toStringTag,{value:"Module"}));var a=i(21742);class l{constructor(e,t,i){this.strength=e,this.radius=t,this.threshold=i,this.type="bloom"}interpolate(e,t,i){this.strength=f(e.strength,t.strength,i),this.radius=f(e.radius,t.radius,i),this.threshold=f(e.threshold,t.threshold,i)}clone(){return new l(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:m(this.radius),strength:this.strength,threshold:this.threshold}}}class c{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,i){this.radius=Math.round(f(e.radius,t.radius,i))}clone(){return new c(this.radius)}toJSON(){return{type:"blur",radius:m(this.radius)}}}class u{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,i){this.amount=f(e.amount,t.amount,i),this._updateMatrix()}clone(){return new u(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||s();switch(this.type){case"brightness":this._colorMatrix=((e,t)=>{const i=(0,a.hZ)(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return(0,a.mg)(i,i)})(e,this.amount);break;case"contrast":this._colorMatrix=((e,t)=>{const i=(0,a.hZ)(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return(0,a.mg)(i,i)})(e,this.amount);break;case"grayscale":this._colorMatrix=((e,t)=>{const i=1-t,r=(0,a.hZ)(e,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return(0,a.mg)(r,r)})(e,this.amount);break;case"invert":this._colorMatrix=((e,t)=>{const i=1-2*t,r=(0,a.hZ)(e,i,0,0,t,0,i,0,t,0,0,i,t,0,0,0,1);return(0,a.mg)(r,r)})(e,this.amount);break;case"saturate":this._colorMatrix=((e,t)=>{const i=(0,a.hZ)(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return(0,a.mg)(i,i)})(e,this.amount);break;case"sepia":this._colorMatrix=((e,t)=>{const i=1-t,r=(0,a.hZ)(e,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return(0,a.mg)(r,r)})(e,this.amount)}}}class h{constructor(e,t,i,r){this.offsetX=e,this.offsetY=t,this.blurRadius=i,this.color=r,this.type="drop-shadow"}interpolate(e,t,i){this.offsetX=f(e.offsetX,t.offsetX,i),this.offsetY=f(e.offsetY,t.offsetY,i),this.blurRadius=f(e.blurRadius,t.blurRadius,i),this.color[0]=Math.round(f(e.color[0],t.color[0],i)),this.color[1]=Math.round(f(e.color[1],t.color[1],i)),this.color[2]=Math.round(f(e.color[2],t.color[2],i)),this.color[3]=f(e.color[3],t.color[3],i)}clone(){return new h(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:m(this.offsetX),yoffset:m(this.offsetY),blurRadius:m(this.blurRadius),color:e}}}class d{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,i){this.angle=f(e.angle,t.angle,i),this._updateMatrix()}clone(){return new d(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||s();this._colorMatrix=((e,t)=>{const i=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),n=(0,a.hZ)(e,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return(0,a.mg)(n,n)})(e,this.angle)}}class p{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,i){this.amount=f(e.amount,t.amount,i)}clone(){return new p(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function f(e,t,i){return e+(t-e)*i}function m(e){return Math.round(1e3*(0,n.PN)(e))/1e3}function y(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new u(e.type,0);case"saturate":case"brightness":case"contrast":return new u(e.type,1);case"opacity":return new p(1);case"hue-rotate":return new d(0);case"blur":return new c(0);case"drop-shadow":return new h(0,0,0,[...(0,r.TS)("transparent")]);case"bloom":return new l(0,0,1)}}},57922:(e,t,i)=>{"use strict";i.d(t,{J2:()=>a,O9:()=>s,dw:()=>o,mj:()=>n});var r=i(47740);function n(e,t){const i=e.length>t.length?e:t;return(e.length>t.length?t:e).every(((e,t)=>e.type===i[t].type))}function s(e,t){const i=e.length>t.length?e:t,n=e.length>t.length?t:e;for(let s=n.length;s<i.length;s++)n.push((0,r.sK)(i[s]))}function o(e){const t=e[0];return!!t&&"type"in t}function a(e,t){return JSON.stringify(e??null)===JSON.stringify(t??null)}},17324:(e,t,i)=>{"use strict";function r(e,t){switch(t.type){case"object-id":case"unique-id-simple":return e.attributes[t.fieldName];case"unique-id-composite":{const i=[];for(const r of t.fieldNames)i.push(e.attributes[r]??null);return JSON.stringify(i)}}}function n(e,t){if("uniqueIdFields"in t&&t.uniqueIdFields?.length){if(1===t.uniqueIdFields.length)return e.attributes?.[t.uniqueIdFields[0]];const i=t.uniqueIdFields.map((t=>e.attributes?.[t]));return JSON.stringify(i)}return"objectIdField"in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}i.d(t,{W:()=>r,r:()=>n})},43052:(e,t,i)=>{"use strict";i.d(t,{H:()=>l});var r,n=i(66866),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=r=class extends s.A{constructor(e){super(e),this.name=null,this.code=null}clone(){return new r({name:this.name,code:this.code})}};(0,n._)([(0,o.MZ)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"name",void 0),(0,n._)([(0,o.MZ)({type:[String,Number],json:{write:{isRequired:!0}}})],l.prototype,"code",void 0),l=r=(0,n._)([(0,a.$)("esri.layers.support.CodedValue")],l)},67112:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r,n=i(66866),s=i(19251),o=i(21564),a=(i(39831),i(539),i(28902)),l=i(63863),c=i(43052),u=i(13544);let h=class extends u.A{static{r=this}constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const i=String(e);this.codedValues.some((e=>(String(e.code)===i&&(t=e.name),!!t)))}return t}clone(){return new r({codedValues:(0,s.o8)(this.codedValues),name:this.name})}};(0,n._)([(0,o.MZ)({type:[c.H],json:{write:{isRequired:!0}}})],h.prototype,"codedValues",void 0),(0,n._)([(0,a.e)({codedValue:"coded-value"})],h.prototype,"type",void 0),h=r=(0,n._)([(0,l.$)("esri.layers.support.CodedValueDomain")],h)},13544:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r=i(66866),n=i(59851),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(28902)),l=i(63863);const c=new n.J({inherited:"inherited",codedValue:"coded-value",range:"range"});let u=class extends s.A{constructor(e){super(e),this.name=null,this.type=null}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,r._)([(0,a.e)(c),(0,o.MZ)({json:{write:{isRequired:!0}}})],u.prototype,"type",void 0),u=(0,r._)([(0,l.$)("esri.layers.support.Domain")],u)},24738:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var r,n=i(66866),s=i(59851),o=i(21877),a=i(21564),l=i(73446),c=(i(39831),i(9272),i(28902)),u=i(75094),h=i(63863),d=i(36247),p=i(17930);const f=new s.J({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=class extends o.A{static{r=this}constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch(r){}return i?.value??null}readValueType(e,{description:t}){let i=null;try{i=t?JSON.parse(t):null}catch(r){}return i?f.fromJSON(i.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,n._)([(0,a.MZ)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"description",void 0),(0,n._)([(0,u.w)("description")],m.prototype,"readDescription",null),(0,n._)([(0,a.MZ)({types:d.gK,json:{read:{reader:d.rS},write:!0}})],m.prototype,"domain",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,n._)([(0,a.MZ)({type:l.jz,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],m.prototype,"length",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,n._)([(0,c.e)(p.m)],m.prototype,"type",void 0),(0,n._)([(0,a.MZ)()],m.prototype,"valueType",void 0),(0,n._)([(0,u.w)("valueType",["description"])],m.prototype,"readValueType",null),(0,n._)([(0,a.MZ)({type:Boolean,json:{read:!1}})],m.prototype,"visible",void 0),m=r=(0,n._)([(0,h.$)("esri.layers.support.Field")],m)},15592:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r,n=i(66866),s=(i(539),i(39831),i(9272),i(98849),i(28902)),o=i(63863),a=i(13544);let l=class extends a.A{static{r=this}constructor(e){super(e),this.type="inherited"}clone(){return new r}};(0,n._)([(0,s.e)({inherited:"inherited"})],l.prototype,"type",void 0),l=r=(0,n._)([(0,o.$)("esri.layers.support.InheritedDomain")],l)},50437:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21877),o=i(21564),a=i(73446),l=(i(39831),i(9272),i(63863));let c=class extends s.A{static{r=this}constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new r({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,n._)([(0,o.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"cols",void 0),(0,n._)([(0,o.MZ)({type:a.jz,json:{write:!0}})],c.prototype,"level",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"levelValue",void 0),(0,n._)([(0,o.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"origin",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{write:!0}})],c.prototype,"resolution",void 0),(0,n._)([(0,o.MZ)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"rows",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{write:!0}})],c.prototype,"scale",void 0),c=r=(0,n._)([(0,l.$)("esri.layers.support.LOD")],c)},32532:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r,n=i(66866),s=i(48982),o=i(21877),a=i(68659),l=(i(539),i(39831),i(9272),i(98849),i(63863)),c=i(62802),u=i(68490);let h=r=class extends(o.A.JSONSupportMixin(s.A.ofType(c.A))){constructor(e){super(e)}clone(){return new r(this.items.map((e=>e.clone())))}write(e,t){return this.toJSON(t)}toJSON(e){const t=e?.layer?.spatialReference;return t?this.toArray().map((i=>{if(!t.equals(i.spatialReference)){if(!(0,u.canProjectWithoutEngine)(i.spatialReference,t))return e?.messages?.push(new a.A("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:e.layer.spatialReference,context:e})),null;const r=new c.A;(0,u.projectPolygon)(i,r,t),i=r}const r=i.toJSON(e);return delete r.spatialReference,r})).filter((e=>null!=e)):this.toArray().map((t=>t.toJSON(e)))}static fromJSON(e,t){const i=new r;return e.forEach((e=>i.add(c.A.fromJSON(e,t)))),i}};h=r=(0,n._)([(0,l.$)("esri.layers.support.PolygonCollection")],h);const d=h},80352:(e,t,i)=>{"use strict";i.d(t,{T:()=>o});var r=i(40189),n=i(40315),s=i(75199);class o{constructor(){this._tasks=new Array,this._numPendingTasks=(0,n.v)(0),this._running=(0,n.v)(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get running(){return this._running.value}_updateRunning(){this._running.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(0===this.length)return s.G;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,t,i){return new Promise(((r,n)=>{this._tasks.push(new a(r,n,e,t,i)),++this._numPendingTasks.value,this._updateRunning()})).finally((()=>--this._numPendingTasks.value))}unshift(e,t,i){return new Promise(((r,n)=>{this._tasks.unshift(new a(r,n,e,t,i)),++this._numPendingTasks.value,this._updateRunning()})).finally((()=>--this._numPendingTasks.value))}_process(e){if(0===this._tasks.length)return!1;const t=this._tasks.shift();this._updateRunning();try{const i=(0,r.G4)(t.signal);if(i&&!t.abortCallback)t.reject((0,r.NK)());else{const n=i?t.abortCallback?.((0,r.NK)()):t.callback(e);(0,r.$X)(n)?n.then(t.resolve,t.reject):t.resolve(n)}}catch(o){t.reject(o)}return!0}cancelAll(){const e=(0,r.NK)();for(const t of this._tasks)if(t.abortCallback){const i=t.abortCallback(e);t.resolve(i)}else t.reject(e);this._tasks.length=0,this._updateRunning()}}class a{constructor(e,t,i,r=void 0,n=void 0){this.resolve=e,this.reject=t,this.callback=i,this.signal=r,this.abortCallback=n}}},48927:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(28902)),a=i(63863),l=i(13544);let c=class extends l.A{static{r=this}constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new r({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,n._)([(0,s.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,i){t[i]=[this.minValue||0,e]},isRequired:!0}}})],c.prototype,"maxValue",void 0),(0,n._)([(0,s.MZ)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,i){t[i]=[e,this.maxValue||0]},isRequired:!0}}})],c.prototype,"minValue",void 0),(0,n._)([(0,o.e)({range:"range"})],c.prototype,"type",void 0),c=r=(0,n._)([(0,a.$)("esri.layers.support.RangeDomain")],c)},65228:(e,t,i)=>{"use strict";i.d(t,{A:()=>b});var r,n=i(66866),s=i(59851),o=i(21877),a=i(92976),l=i(21564),c=i(73446),u=(i(39831),i(9272),i(75094)),h=i(63863),d=i(77542),p=i(97066),f=i(78983),m=i(80510),y=i(87926),g=i(96082),_=i(50437),v=i(88061);const w=new s.J({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let b=class extends o.A{static{r=this}static create(e={}){const{resolutionFactor:t=1,scales:i,size:n=256,spatialReference:s=f.A.WebMercator,numLODs:o=24}=e;if(!(0,y.fn)(s)){const e=[];if(i)for(let t=0;t<i.length;t++){const r=i[t];e.push(new _.A({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let i=o-1;i>=0;i--)e.unshift(new _.A({level:i,scale:t,resolution:t})),t*=2}return new r({dpi:96,lods:e,origin:new p.A(0,0,s),size:[n,n],spatialReference:s})}const l=(0,y.Vp)(s),c=e.origin?new p.A({x:e.origin.x,y:e.origin.y,spatialReference:s}):new p.A(l?{x:l.origin[0],y:l.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),u=1/(39.37*(0,a.GA)(s)*96),h=[];if(i)for(let r=0;r<i.length;r++){const e=i[r],t=e*u;h.push(new _.A({level:r,scale:e,resolution:t}))}else{let e=(0,y.EA)(s)?512/n*591657527.5917094:256/n*591657527.591555;const i=Math.ceil(o/t);h.push(new _.A({level:0,scale:e,resolution:e*u}));for(let r=1;r<i;r++){const i=e/2**t,n=i*u;h.push(new _.A({level:r,scale:i,resolution:n})),e=i}}return new r({dpi:96,lods:h,origin:c,size:[n,n],spatialReference:s})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const i=(0,y.Vp)(e);return e.isWrappable&&!!i&&Math.abs(i.origin[0]-t.x)<=i.dx}return!1}readOrigin(e,t){return p.A.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,i=0;const r=[],n=this._levelToLOD={};e&&(t=-1/0,i=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,i=e.scale<i?e.scale:i,n[e.level]=e}))),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const i=Math.floor(e),r=i+1;return t[i]/(t[i]/t[r])**(e-i)}scaleToZoom(e){const t=this.scales,i=t.length-1;let r=0;for(;r<i;r++){const i=t[r],n=t[r+1];if(i<=e)return r;if(n===e)return r+1;if(i>e&&n<e)return r+Math.log(i/e)/Math.log(i/n)}return r}tileAt(e,t,i,r){const n=this.lodAt(e);if(!n)return null;let s,o;if("number"==typeof t)s=t,o=i;else if((0,y.aI)(t.spatialReference,this.spatialReference))s=t.x,o=t.y,r=i;else{const e=(0,g.Cv)(t,this.spatialReference);if(null==e)return null;s=e.x,o=e.y,r=i}const a=n.resolution*this.size[0],l=n.resolution*this.size[1];return r||(r=new v.U(null,0,0,0,(0,m.vt)())),r.level=e,r.row=Math.floor((this.origin.y-o)/l+.001),r.col=Math.floor((s-this.origin.x)/a+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=r.ExtrapolateOptions.NONE){let i=this.lodAt(e.level);if(!i&&t===r.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(i=t)}if(!i)return;const n=e.level-i.level,s=i.resolution*this.size[0]/2**n,o=i.resolution*this.size[1]/2**n;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,m.vt)()),e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+o}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel||(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),0))}getTileBounds(e,t){const i=this.lodAt(t.level);if(null==i)return null;const{resolution:r}=i,n=r*this.size[0],s=r*this.size[1];return e[0]=this.origin.x+t.col*n,e[1]=this.origin.y-(t.row+1)*s,e[2]=e[0]+n,e[3]=e[1]+s,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return r.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===e)return null;const t=(512===this.size[0]&&256===e?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&0===t)return this;const i=[],n=this.lods.length-t;for(let r=0;r<n;r++){const e=r+t,{scale:n,resolution:s}=e>=0?this.lods[e]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};i.push(new _.A({level:r,scale:n,resolution:s}))}return new r({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:i})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let i=0;i<e.length;i++){const r=e[i];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],b.prototype,"compressionQuality",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],b.prototype,"dpi",void 0),(0,n._)([(0,l.MZ)({type:String,json:{read:w.read,write:w.write,origins:{"web-scene":{read:!1,write:!1}}}})],b.prototype,"format",void 0),(0,n._)([(0,l.MZ)({readOnly:!0})],b.prototype,"isWrappable",null),(0,n._)([(0,l.MZ)({type:p.A,json:{write:!0}})],b.prototype,"origin",void 0),(0,n._)([(0,u.w)("origin")],b.prototype,"readOrigin",null),(0,n._)([(0,l.MZ)({type:[_.A],value:null,json:{write:!0}})],b.prototype,"lods",null),(0,n._)([(0,l.MZ)({readOnly:!0})],b.prototype,"scales",void 0),(0,n._)([(0,l.MZ)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],b.prototype,"size",void 0),(0,n._)([(0,u.w)("size",["rows","cols"])],b.prototype,"readSize",null),(0,n._)([(0,d.K)("size",{cols:{type:c.jz},rows:{type:c.jz}})],b.prototype,"writeSize",null),(0,n._)([(0,l.MZ)({type:f.A,json:{write:!0}})],b.prototype,"spatialReference",void 0),b=r=(0,n._)([(0,h.$)("esri.layers.support.TileInfo")],b),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(b||(b={}))},88061:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});class r{constructor(e,t,i,r,n=void 0){this.id=e,this.level=t,this.row=i,this.col=r,this.extent=n}}},16123:(e,t,i)=>{"use strict";i.d(t,{Fi:()=>u,HZ:()=>g,Jf:()=>y,LS:()=>_,Wo:()=>m,bd:()=>v,cr:()=>p,iz:()=>d,qg:()=>h,yG:()=>f});var r=i(20909),n=i(63680);const s={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},o=Object.values(s),a=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),c=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function u(e){return a.test(e)}function h(e){if(null==e)return null;const t=(0,r.An)(e),i=t?.path.match(a)||t?.path.match(l);if(!i)return null;const[,n,o,c,u]=i,h=o.indexOf("/");return{title:p(-1!==h?o.slice(h+1):o),serverType:s[c.toLowerCase()],sublayer:null!=u&&""!==u?parseInt(u,10):null,url:{path:n}}}function d(e){const t=(0,r.An)(e).path.match(c);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function p(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function f(e,t){const i=[];if(e){const t=h(e);null!=t&&t.title&&i.push(t.title)}if(t){const e=p(t);i.push(e)}if(2===i.length){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function m(e){let t=(0,r.$z)(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(t)))}function y(e,t){return e?(0,r.UC)((0,r.zi)(e,t)):e}function g(e){let{url:t}=e;if(!t)return{url:t};t=(0,r.zi)(t,e.logger);const i=(0,r.An)(t),n=h(i.path);let s;if(null!=n)null!=n.sublayer&&null==e.layer.layerId&&(s=n.sublayer),t=n.url.path;else if(e.nonStandardUrlAllowed){const e=d(i.path);null!=e&&(t=e.serviceUrl,s=e.sublayerId)}return{url:(0,r.UC)(t),layerId:s}}function _(e,t,i,s,o){(0,n.w)(t,s,"url",o),s.url&&null!=e.layerId&&(s.url=(0,r.fj)(s.url,i,e.layerId.toString()))}function v(e){if(!e)return!1;const t=e.toLowerCase(),i=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return i&&(r||n||s)}},86003:(e,t,i)=>{"use strict";i.d(t,{A5:()=>d,Mh:()=>r});var r,n=i(76286),s=i(28530);!function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(r||(r={}));const o=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function a(e){return null!=e&&o.has(e.type)}function l(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function c(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function u(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}const h=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);(0,n.KC)(o,h);function d(e,t){const i=t??e?.domain;if(!i||"range"!==i.type)return;const r="range"in i?i.range[0]:i.minValue,n="range"in i?i.range[1]:i.maxValue,s=a(e);return l(e)||u(e)||c(e)?{...p(e,n,r),isInteger:s}:{min:null!=r&&"number"==typeof r?r:null,max:null!=n&&"number"==typeof n?n:null,rawMin:r,rawMax:n,isInteger:s}}function p(e,t,i){return l(e)?{min:(0,s.Xi)(i)?.toMillis(),max:(0,s.Xi)(t)?.toMillis(),rawMin:i,rawMax:t}:u(e)?{min:(0,s.UE)(i)?.toMillis(),max:(0,s.UE)(t)?.toMillis(),rawMin:i,rawMax:t}:c(e)?{min:(0,s.gz)(i)?.toMillis(),max:(0,s.gz)(t)?.toMillis(),rawMin:i,rawMax:t}:{max:null,min:null}}},36247:(e,t,i)=>{"use strict";i.d(t,{gK:()=>a,rS:()=>l});i(39831);var r=i(67112),n=i(13544),s=i(15592),o=i(48927);const a={key:"type",base:n.A,typeMap:{range:o.A,"coded-value":r.A,inherited:s.A}};function l(e){if(!e?.type)return null;switch(e.type){case"range":return o.A.fromJSON(e);case"codedValue":return r.A.fromJSON(e);case"inherited":return s.A.fromJSON(e)}return null}},8746:(e,t,i)=>{"use strict";i.d(t,{S:()=>s});var r=i(26916),n=i(40454);function s(e){return!(!function(e){return"object"==typeof e&&null!=e&&"loaded"in e&&!0===e.loaded&&"type"in e}(e)||!(0,n.BR)(e)?.operations?.supportsEditing||"editingEnabled"in e&&!(0,n.tk)(e)||(0,r.hc)(e))}},17930:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});const r=new(i(59851).J)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},42453:(e,t,i)=>{"use strict";i.d(t,{A6:()=>D,Ah:()=>ue,Bz:()=>V,CJ:()=>_e,DB:()=>w,Dx:()=>T,Im:()=>B,JL:()=>xe,Kl:()=>Ee,NO:()=>C,OG:()=>fe,OH:()=>he,R$:()=>$,R3:()=>se,RP:()=>I,WA:()=>oe,WX:()=>ge,Xz:()=>pe,_b:()=>W,_w:()=>b,d:()=>O,eX:()=>L,f:()=>k,hL:()=>A,hW:()=>S,lD:()=>H,mB:()=>x,nw:()=>Pe,o:()=>N,rS:()=>p,rq:()=>M,sv:()=>_,te:()=>de,uo:()=>Te,vE:()=>le,yM:()=>ae,yp:()=>y,zD:()=>ce});var r=i(98849),n=i(76724),s=i(76286),o=i(76859),a=i(86003),l=i(11868),c=i(8701),u=i(35387);const h=/^([0-9_])/,d=/[^a-z0-9_\u0080-\uffff]+/gi;function p(e){return null==e?null:e.trim().replaceAll(d,"_").replace(h,"F$1")||null}const f=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],m=["field","normalizationField"];function y(e,t){if(null!=e&&null!=t)for(const i of Array.isArray(e)?e:[e])if(g(f,i,t),"visualVariables"in i&&i.visualVariables)for(const e of i.visualVariables)g(m,e,t)}function g(e,t,i){if(e)for(const r of e){const e=(0,n.wc)(r,t),s=e&&"function"!=typeof e&&i.get(e);s&&(0,n.sM)(r,s.name,t)}}function _(e,t){if(null!=e&&t?.fields?.length)if("startField"in e){const i=t.get(e.startField),r=t.get(e.endField);e.startField=i?.name??null,e.endField=r?.name??null}else{const i=t.get(e.startTimeField),r=t.get(e.endTimeField);e.startTimeField=i?.name??null,e.endTimeField=r?.name??null}}const v=new Set;function w(e,t){return e&&t?(v.clear(),b(v,e,t),Array.from(v).sort()):[]}function b(e,t,i){if(i)if(t?.fields?.length)if(i.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const r of i)M(e,t,r);else{if(i.includes("*"))return e.clear(),void e.add("*");for(const t of i)null!=t&&e.add(t)}}function M(e,t,i){if("string"==typeof i)if(t){const r=t.get(i);r&&e.add(r.name)}else e.add(i)}function A(e,t){return null==t||null==e?[]:t.includes("*")?(e.fields??[]).map((e=>e.name)):t}function S(e,t,i=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const r=w(e,t);return r.length/e.fields.length>=i?["*"]:r}async function T(e,t,i){if(!i)return;let r;const n=(0,l.o)(i);if(n)r=[n];else{const{arcadeUtils:e}=await(0,u.l)();r=e.extractFieldNames(i,t?.fields?.map((e=>e.name)))}for(const s of r)M(e,t,s)}async function E(e,t,i){if(i&&"1=1"!==i){const n=await(0,o.GP)(i,t);if(!n.isStandardized)throw new r.A("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});b(e,t,n.fieldNames)}}function x({displayField:e,fields:t}){return e||(t?.length?P(t,"name-or-title")||P(t,"unique-identifier")||P(t,"type-or-category")||function(e){for(const t of e){if(!t?.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}(t):null)}function P(e,t){for(const i of e)if(i?.valueType&&i.valueType===t)return i.name;return null}async function C(e,t){if(!t)return;const i=t.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(e,t.fieldsIndex):void 0}async function I(e,t,i){if(!t||!i||!("fields"in i))return;const r=[],n=i.popupTemplate;r.push(R(e,t,n)),i.fields&&r.push(...i.fields.map((async i=>function(e,t,i){i.onStatisticExpression?T(e,t,i.onStatisticExpression.expression):e.add(i.onStatisticField)}(e,t.fieldsIndex,i)))),await Promise.all(r)}async function O(e,t){const{fieldsIndex:i,trackInfo:r}=t;if(!t||!r||!i)return;const n=[r.latestObservations.renderer?.collectRequiredFields(e,i),r.previousObservations.renderer?.collectRequiredFields(e,i),r.trackLines.renderer?.collectRequiredFields(e,i)];r.popupTemplate&&n.push(R(e,t,r.popupTemplate));for(const s of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(s)for(const t of s)n.push(q(e,i,t));await Promise.all(n)}async function R(e,t,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map((i=>T(e,t.fieldsIndex,i.expression))));const n=i?.content;if(Array.isArray(n))for(const s of n)"expression"===s.type&&s.expressionInfo&&r.push(T(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(r)}async function N(e,t,i){t&&(t.timeInfo&&i?.timeExtent&&b(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&b(e,t.fieldsIndex,[t.floorInfo.floorField]),null!=i?.where&&await E(e,t.fieldsIndex,i.where))}async function k(e,t,i){t&&i&&await Promise.all(i.map((i=>async function(e,t,i){t&&i&&(i.valueExpression?await T(e,t.fieldsIndex,i.valueExpression):i.field&&M(e,t.fieldsIndex,i.field))}(e,t,i))))}function L(e){return e?w(e.fieldsIndex,G(e)):[]}async function D(e,t,i){if(!t||!i)return;const r=t.fieldsIndex;await Promise.all(i.filters.map((t=>E(e,r,t.where))))}const Z=new Set(["oid","global-id","guid"]),F=new Set(["oid","global-id"]),U=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function j(e){const t=new Set;z(e).forEach((e=>t.add(e))),function(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?w(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}(e).forEach((e=>t.add(e.toLowerCase())));const i=e&&"infoFor3D"in e?e.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach((e=>t.add(e.toLowerCase()))),Object.values(i.transformFieldRoles).forEach((e=>t.add(e.toLowerCase())))),Array.from(t)}function G(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:i,creatorField:r,editDateField:n,editorField:s}=t;return[i,r,n,s].filter(Boolean)}function z(e){return G(e).map((e=>e.toLowerCase()))}function $(e,t){return e.editable&&!Z.has(e.type)&&!z(t).includes(e.name?.toLowerCase()??"")}function V(e,t){const i=e.name?.toLowerCase()??"";return!(null!=t?.objectIdField&&i===t.objectIdField.toLowerCase()||null!=t?.globalIdField&&i===t.globalIdField.toLowerCase()||j(t).includes(i)||F.has(e.type)||U.some((e=>e.test(i))))}async function B(e,t){const{labelingInfo:i,fieldsIndex:r}=t;i?.length&&await Promise.all(i.map((t=>q(e,r,t))))}async function q(e,t,i){if(!i)return;const r=i.getLabelExpression(),n=i.where;if("arcade"===r.type)await T(e,t,r.expression);else{const i=r.expression.match(/{[^}]*}/g);i&&i.forEach((i=>{M(e,t,i.slice(1,-1))}))}await E(e,t,n)}function H(e){const t=e.defaultValue;return void 0!==t&&Q(e,t)?t:e.nullable?null:void 0}function W(e){const t="string"==typeof e?{type:e}:e;return ae(t)?255:"esriFieldTypeDate"===t.type||"date"===t.type?8:void 0}function J(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function K(e){return null===e||J(e)}function Y(e){return null===e||Number.isInteger(e)}function X(){return!0}function Q(e,t){let i;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=e.nullable?Y:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=e.nullable?K:J;break;case"string":case"esriFieldTypeString":i=e.nullable?c.CO:c.Kg;break;default:i=X}return 1===arguments.length?i:i(t)}const ee=["integer","small-integer","big-integer","long"],te=["single","double"],ie=new Set([...ee,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]),re=new Set([...te,"esriFieldTypeSingle","esriFieldTypeDouble"]),ne=(0,s.KC)(ie,re);function se(e){return null!=e&&ie.has(e.type)}function oe(e){return null!=e&&ne.has(e.type)}function ae(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function le(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)}function ce(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function ue(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function he(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}function de(e){return null!=e&&("oid"===e.type||"esriFieldTypeOID"===e.type)}function pe(e){return null!=e&&("global-id"===e.type||"esriFieldTypeGlobalID"===e.type)}function fe(e,t){return null===_e(e,t)}var me,ye;function ge(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function _e(e,t){return null==e||e.nullable&&null===t?null:Q(e,t)?oe(e)&&!function(e,t){const i="string"==typeof e?ve(e):e;if(!i)return!1;const r=i.min,n=i.max;return i.isInteger?Number.isInteger(t)&&t>=r&&t<=n:t>=r&&t<=n}(e.type,Number(t))?me.OUT_OF_RANGE:null:ye.INVALID_TYPE}function ve(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return we;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return be;case"esriFieldTypeBigInteger":case"big-integer":return Me;case"esriFieldTypeSingle":case"single":return Ae;case"esriFieldTypeDouble":case"double":return Se}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(me||(me={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(ye||(ye={}));const we={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},be={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},Me={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Ae={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},Se={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Te(e,t,i){switch(e){case a.Mh.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case a.Mh.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case ye.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case me.OUT_OF_RANGE:{const{min:e,max:r}=ve(t.type);return`Value ${i} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${r}`}}}function Ee(e,t){return!function(e,t,i){if(!e?.attributes||!t){if(null!=i)for(const e of t??[])i.add(e);return!0}const r=new Set(Object.keys(e.attributes));let n=!1;for(const s of t)if(!r.has(s)){if(n=!0,null==i)break;i.add(s)}return n}(e,t,null)}function xe(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))}function Pe(e){const t=e?.match(/{[^}]+}/g);return t?t.map((e=>e.slice(1,-1).split(":")[0].trim())):[]}},40454:(e,t,i)=>{"use strict";i.d(t,{$x:()=>x,BR:()=>T,CF:()=>S,Eq:()=>v,F2:()=>p,G$:()=>P,Gh:()=>I,OP:()=>C,Ov:()=>w,Qz:()=>d,Rv:()=>c,Sv:()=>f,TU:()=>_,UC:()=>h,V0:()=>a,W_:()=>b,XX:()=>g,cM:()=>u,ce:()=>s,pJ:()=>l,qK:()=>y,r$:()=>m,r0:()=>M,tk:()=>E,wI:()=>A,yZ:()=>o});var r=i(28830),n=i(86394);i(48982),i(20909),i(26916);function s(e){return m(e)||function(e){return"scene"===e?.type}(e)}function o(e){return null!=e&&"object"==typeof e&&"type"in e&&"feature"===e.type}function a(e){return null!=e&&"object"==typeof e&&"type"in e&&"graphics"===e.type}function l(e){return null!=e&&"object"==typeof e&&"type"in e&&"map-image"===e.type}function c(e){return null!=e&&"object"==typeof e&&"type"in e&&"map-notes"===e.type&&"sublayers"in e}function u(e){return null!=e&&"object"==typeof e&&"type"in e&&"knowledge-graph"===e.type&&"layers"in e}function h(e){return null!=e&&"object"==typeof e&&"type"in e&&"knowledge-graph-sublayer"===e.type}function d(e){return null!=e&&"object"==typeof e&&"type"in e&&"link-chart"===e.type&&"layers"in e}function p(e){return null!=e&&"object"==typeof e&&"type"in e&&"subtype-group"===e.type&&"sublayers"in e}function f(e){return"subtype-sublayer"===e?.type}function m(e){const t=e?.type;return"imagery-tile"===t||"tile"===t||"open-street-map"===t||"vector-tile"===t||"web-tile"===t||"wmts"===t}function y(e){const t=e?.type;return"base-tile"===t||"tile"===t||"elevation"===t||"imagery-tile"===t||"base-elevation"===t||"open-street-map"===t||"wcs"===t||"web-tile"===t||"wmts"===t||"vector-tile"===t}const g={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function _(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function v(e){return"integrated-mesh"===e||"integrated-mesh-3dtiles"===e}function w(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function b(e){const t=e?.type;return("feature"===t||"subtype-group"===t||"oriented-imagery"===t)&&"feature-layer"===e?.source?.type}function M(e){if(e.activeLayer){const t=e.activeLayer.tileMatrixSet;if(t)return t;const i=e.activeLayer.tileMatrixSets;if(i)return i}return null}async function A(e,t){const i=r.id?.findServerInfo(e);if(null!=i?.currentVersion)return i.owningSystemUrl||null;const s=e.toLowerCase().indexOf("/rest/services");if(-1===s)return null;const o=`${e.slice(0,s)}/rest/info`,a=null!=t?t.signal:null,{data:l}=await(0,n.A)(o,{query:{f:"json"},responseType:"json",signal:a});return l?.owningSystemUrl||null}function S(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function T(e){return S(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function E(e){return!!function(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}function x(e,t){return null}function P(e){return null}function C(e){return!e||"Feature Service"===e.type&&!e.sourceUrl}function I(e,t){if(!t||!C(e))return;const i=(e.url,null);i&&(e.url=i)}},44360:(e,t,i)=>{"use strict";i.d(t,{L:()=>R});var r,n=i(66866),s=i(59851),o=i(21877),a=i(21564),l=i(4130),c=i(28902),u=i(75094),h=i(63863),d=i(73446),p=i(84366),f=i(24738),m=i(30750),y=(i(39831),i(539),i(9272),i(78983)),g=i(12433);let _=r=class extends o.A{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:i,spatialReference:n,geometryType:s}=this,o={workspaceId:e,query:t,oidFields:i,spatialReference:n?.clone()??void 0,geometryType:s};return new r(o)}};var v;(0,n._)([(0,c.e)({queryTable:"query-table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],_.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"workspaceId",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"query",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],_.prototype,"oidFields",void 0),(0,n._)([(0,a.MZ)({type:y.A,json:{write:!0}})],_.prototype,"spatialReference",void 0),(0,n._)([(0,c.e)(g.gy)],_.prototype,"geometryType",void 0),_=r=(0,n._)([(0,h.$)("esri.layers.support.source.QueryTableDataSource")],_);let w=v=class extends o.A{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new v({workspaceId:e,dataSourceName:t})}};var b;(0,n._)([(0,c.e)({raster:"raster"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],w.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],w.prototype,"dataSourceName",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],w.prototype,"workspaceId",void 0),w=v=(0,n._)([(0,h.$)("esri.layers.support.source.RasterDataSource")],w);let M=b=class extends o.A{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:i}=this;return new b({workspaceId:e,gdbVersion:t,dataSourceName:i})}};var A,S;(0,n._)([(0,c.e)({table:"table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],M.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],M.prototype,"workspaceId",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],M.prototype,"gdbVersion",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],M.prototype,"dataSourceName",void 0),M=b=(0,n._)([(0,h.$)("esri.layers.support.source.TableDataSource")],M);const T=(0,s.O)()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let E=A=class extends o.A{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,i){return P()(e,t,i)}castLeftTableSource(e){return(0,d.aq)(I(),e)}readRightTableSource(e,t,i){return P()(e,t,i)}castRightTableSource(e){return(0,d.aq)(I(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:i,rightTableSource:r,joinType:n}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:i?.clone()??void 0,rightTableSource:r?.clone()??void 0,joinType:n};return new A(s)}};(0,n._)([(0,c.e)({joinTable:"join-table"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],E.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],E.prototype,"leftTableKey",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],E.prototype,"rightTableKey",void 0),(0,n._)([(0,a.MZ)({json:{write:!0}})],E.prototype,"leftTableSource",void 0),(0,n._)([(0,u.w)("leftTableSource")],E.prototype,"readLeftTableSource",null),(0,n._)([(0,l.w)("leftTableSource")],E.prototype,"castLeftTableSource",null),(0,n._)([(0,a.MZ)({json:{write:!0}})],E.prototype,"rightTableSource",void 0),(0,n._)([(0,u.w)("rightTableSource")],E.prototype,"readRightTableSource",null),(0,n._)([(0,l.w)("rightTableSource")],E.prototype,"castRightTableSource",null),(0,n._)([(0,c.e)(T)],E.prototype,"joinType",void 0),E=A=(0,n._)([(0,h.$)("esri.layers.support.source.JoinTableDataSource")],E);let x=null;function P(){return x||(x=(0,p.C)({types:I()})),x}let C=null;function I(){return C||(C={key:"type",base:null,typeMap:{"data-layer":R,"map-layer":m.f}}),C}const O={key:"type",base:null,typeMap:{"join-table":E,"query-table":_,raster:w,table:M}};let R=class extends o.A{static{S=this}constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new S({fields:e,dataSource:t})}};(0,n._)([(0,c.e)({dataLayer:"data-layer"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],R.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:[f.A],json:{write:!0}})],R.prototype,"fields",void 0),(0,n._)([(0,a.MZ)({types:O,json:{write:!0}})],R.prototype,"dataSource",void 0),R=S=(0,n._)([(0,h.$)("esri.layers.support.source.DataLayerSource")],R),R.from=(0,d.dp)(R)},30750:(e,t,i)=>{"use strict";i.d(t,{f:()=>u});var r,n=i(66866),s=i(21877),o=i(21564),a=i(73446),l=(i(39831),i(9272),i(28902)),c=i(63863);let u=r=class extends s.A{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new r({mapLayerId:e,gdbVersion:t})}};(0,n._)([(0,l.e)({mapLayer:"map-layer"}),(0,o.MZ)({json:{write:{isRequired:!0}}})],u.prototype,"type",void 0),(0,n._)([(0,o.MZ)({type:a.jz,json:{write:{isRequired:!0}}})],u.prototype,"mapLayerId",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],u.prototype,"gdbVersion",void 0),u=r=(0,n._)([(0,c.$)("esri.layers.support.source.MapLayerSource")],u)},59875:(e,t,i)=>{"use strict";i.d(t,{R:()=>s,t:()=>o});var r=i(59078);const n={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{"-"===t.charAt(0)?e.style.setProperty(t,i):e.style[t]=i}};let s=e=>(0,r.X$)(n,e),o={create:(e,t)=>(t=s(t),(0,r.dj)(e,document.createElement("div"),void 0,t),(0,r.Av)(e,t)),append:(e,t,i)=>(i=s(i),(0,r.dj)(t,e,void 0,i),(0,r.Av)(t,i)),insertBefore:(e,t,i)=>(i=s(i),(0,r.dj)(t,e.parentNode,e,i),(0,r.Av)(t,i)),merge:(e,t,i)=>(i=s(i),t.domNode=e,(0,r.OM)(e,t,i),(0,r.Av)(t,i)),replace:(e,t,i)=>(i=s(i),(0,r.dj)(t,e.parentNode,e,i),e.parentNode.removeChild(e),(0,r.Av)(t,i))}},59078:(e,t,i)=>{"use strict";i.d(t,{Av:()=>P,OM:()=>A,X$:()=>l,dj:()=>S});var r=i(25816);const n="http://www.w3.org/",s=`${n}2000/svg`,o=`${n}1999/xlink`;let a=[],l=(e,t)=>{let i={};return Object.keys(e).forEach((t=>{i[t]=e[t]})),t&&Object.keys(t).forEach((e=>{i[e]=t[e]})),i},c=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),u=e=>{if("string"!=typeof e)throw new Error("Style values must be strings")},h=(e,t,i)=>{if(""!==t.vnodeSelector)for(let r=i;r<e.length;r++)if(c(e[r],t))return r;return-1},d=(e,t,i,r)=>{let n=e[t];if(""===n.vnodeSelector)return;let s=n.properties;if(!(s?void 0===s.key?s.bind:s.key:void 0))for(let o=0;o<e.length;o++)if(o!==t){let t=e[o];if(c(t,n))throw new Error(`${i.vnodeSelector} had a ${n.vnodeSelector} child ${"added"===r?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}},p=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},f=[],m=!1,y=e=>{(e.children||[]).forEach(y),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},g=()=>{m=!1,f.forEach(y),f.length=0},_=e=>{f.push(e),m||(m=!0,"undefined"!=typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(g,{timeout:16}):setTimeout(g,16))},v=e=>{let t=e.domNode;if(e.properties){let i=e.properties.exitAnimation;if(i){t.style.pointerEvents="none";let r=()=>{t.parentNode&&(t.parentNode.removeChild(t),_(e))};return void i(t,r,e.properties)}}t.parentNode&&(t.parentNode.removeChild(t),_(e))},w=(e,t,i)=>{if(!t)return;let n=i.eventHandlerInterceptor,a=Object.keys(t),l=a.length;for(let c=0;c<l;c++){let l=a[c],h=t[l];if("className"===l)throw new Error('Property "className" is not supported, use "class".');if("class"===l)T(e,h,!0);else if("classes"===l){let t=Object.keys(h),i=t.length;for(let r=0;r<i;r++){let i=t[r];h[i]&&e.classList.add(i)}}else if("styles"===l){let t=Object.keys(h),r=t.length;for(let n=0;n<r;n++){let r=t[n],s=h[r];s&&(u(s),i.styleApplyer(e,r,s))}}else if("key"!==l&&null!=h){let a=typeof h;"function"===a?(0===l.lastIndexOf("on",0)&&(n&&(h=n(l,h,e,t)),"oninput"===l&&function(){let e=h;h=function(t){e.apply(this,[t]),t.target["oninput-value"]=t.target.value}}()),e[l]=h):i.namespace===s?"href"===l?e.setAttributeNS(o,l,h):e.setAttribute(l,h):"string"===a&&"value"!==l?"innerHTML"===l?e[l]=r.W5.sanitize(h):b(e)&&l in e?e[l]=h:e.setAttribute(l,h):e[l]=h}}};function b(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let M,A=(e,t,i)=>{((e,t,i)=>{if(t)for(let r of t)S(r,e,void 0,i)})(e,t.children,i),t.text&&(e.textContent=t.text),w(e,t.properties,i),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,i,t.vnodeSelector,t.properties,t.children])},S=(e,t,i,r)=>{let n,o=0,a=e.vnodeSelector,c=t.ownerDocument;if(""===a)n=e.domNode=c.createTextNode(e.text),void 0!==i?t.insertBefore(n,i):t.appendChild(n);else{for(let u=0;u<=a.length;++u){let h=a.charAt(u);if(u===a.length||"."===h||"#"===h){let h=a.charAt(o-1),d=a.slice(o,u);"."===h?n.classList.add(d):"#"===h?n.id=d:("svg"===d&&(r=l(r,{namespace:s})),void 0!==r.namespace?n=e.domNode=c.createElementNS(r.namespace,d):(n=e.domNode=e.domNode||c.createElement(d),"input"===d&&e.properties&&void 0!==e.properties.type&&n.setAttribute("type",e.properties.type)),void 0!==i?t.insertBefore(n,i):n.parentNode!==t&&t.appendChild(n)),o=u+1}}A(n,e,r)}},T=(e,t,i)=>{t&&t.split(" ").forEach((t=>{t&&e.classList.toggle(t,i)}))},E=(e,t,i,n)=>{if(!i)return;let a=!1,l=Object.keys(i),c=l.length;for(let h=0;h<c;h++){let c=l[h],d=i[c],p=t[c];if("class"===c)p!==d&&(T(e,p,!1),T(e,d,!0));else if("classes"===c){let t=e.classList,i=Object.keys(d),r=i.length;for(let e=0;e<r;e++){let r=i[e],n=!!d[r];n!==!!p[r]&&(a=!0,n?t.add(r):t.remove(r))}}else if("styles"===c){let t=Object.keys(d),i=t.length;for(let r=0;r<i;r++){let i=t[r],s=d[i];s!==p[i]&&(a=!0,s?(u(s),n.styleApplyer(e,i,s)):n.styleApplyer(e,i,""))}}else if(d||"string"!=typeof p||(d=""),"value"!==c||b(e)){if(d!==p){let t=typeof d;"function"===t&&n.eventHandlerInterceptor||(n.namespace===s?"href"===c?e.setAttributeNS(o,c,d):e.setAttribute(c,d):"string"===t?"innerHTML"===c?e[c]=r.W5.sanitize(d):"role"===c&&""===d?e.removeAttribute(c):b(e)&&c in e?e[c]=d:e.setAttribute(c,d):e[c]!==d&&(e[c]=d),a=!0)}}else{let t=e[c];t!==d&&(e["oninput-value"]?t===e["oninput-value"]:d!==p)&&(e[c]=d,e["oninput-value"]=void 0),d!==p&&(a=!0)}}return a},x=(e,t,i,r,n)=>{if(i===r)return!1;r=r||a;let s,o=(i=i||a).length,l=r.length,u=0,f=0,m=!1;for(;f<l;){let a=u<o?i[u]:void 0,l=r[f];if(void 0!==a&&c(a,l))m=M(a,l,n)||m,u++;else{let a=h(i,l,u+1);if(a>=0){for(s=u;s<a;s++)v(i[s]),d(i,s,e,"removed");m=M(i[a],l,n)||m,u=a+1}else S(l,t,u<o?i[u].domNode:void 0,n),p(l),d(r,f,e,"added")}f++}if(o>u)for(s=u;s<o;s++)v(i[s]),d(i,s,e,"removed");return m};M=(e,t,i)=>{let r=e.domNode,n=!1;if(e===t)return!1;let o=!1;if(""===t.vnodeSelector){if(t.text!==e.text){let e=r.ownerDocument.createTextNode(t.text);return r.parentNode.replaceChild(e,r),t.domNode=e,n=!0,n}t.domNode=r}else 0===t.vnodeSelector.lastIndexOf("svg",0)&&(i=l(i,{namespace:s})),e.text!==t.text&&(o=!0,void 0===t.text?r.removeChild(r.firstChild):r.textContent=t.text),t.domNode=r,o=x(t,r,e.children,t.children,i)||o,o=E(r,e.properties,t.properties,i)||o,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[r,i,t.vnodeSelector,t.properties,t.children]);return o&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(r,t.properties,e.properties),n};let P=(e,t)=>({getLastRender:()=>e,update:i=>{if(e.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=e;e=i,M(r,i,t)},domNode:e.domNode})},40067:(e,t,i)=>{"use strict";i.d(t,{F:()=>a});var r=i(59875);let n;n=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let s=(e,t)=>{let i=e;return t.forEach((e=>{i=i&&i.children?n(i.children,(t=>t.domNode===e)):void 0})),i},o=(e,t,i)=>{let r=function(r){i("domEvent",r);let n=t(),o=((e,t)=>{let i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i})(r.currentTarget,n.domNode);o.reverse();let a,l=s(n.getLastRender(),o);return e.scheduleRender(),l&&(a=l.properties[`on${r.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",r),a};return(e,t,i,n)=>r},a=e=>{let t,i,n=(0,r.R)(e),s=n.performanceLogger,a=!0,l=!1,c=[],u=[],h=(e,i,r)=>{let a;n.eventHandlerInterceptor=o(t,(()=>a),s),a=e(i,r(),n),c.push(a),u.push(r)},d=()=>{if(i=void 0,a){a=!1,s("renderStart",void 0);for(let e=0;e<c.length;e++){let t=u[e]();s("rendered",void 0),c[e].update(t),s("patched",void 0)}s("renderDone",void 0),a=!0}};return t={renderNow:d,scheduleRender:()=>{i||l||(i=requestAnimationFrame(d))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(e,t)=>{h(r.t.append,e,t)},insertBefore:(e,t)=>{h(r.t.insertBefore,e,t)},merge:(e,t)=>{h(r.t.merge,e,t)},replace:(e,t)=>{h(r.t.replace,e,t)},detach:e=>{for(let t=0;t<u.length;t++)if(u[t]===e)return u.splice(t,1),c.splice(t,1)[0];throw new Error("renderFunction was not found")}},t}},86696:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=r=class extends s.A{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new r({title:this.title,expression:this.expression})}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"expression",void 0),(0,n._)([(0,o.MZ)({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"returnType",void 0),l=r=(0,n._)([(0,a.$)("esri.popup.ElementExpressionInfo")],l);const c=l},57026:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=r=class extends s.A{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new r({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"name",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"expression",void 0),(0,n._)([(0,o.MZ)({type:["string","number"],json:{write:!0}})],l.prototype,"returnType",void 0),l=r=(0,n._)([(0,a.$)("esri.popup.ExpressionInfo")],l);const c=l},31386:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r,n=i(66866),s=i(59851),o=i(21877),a=i(21564),l=(i(39831),i(539),i(9272),i(28902)),c=i(63863),u=i(56473);let h=r=class extends o.A{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new r({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"fieldName",void 0),(0,n._)([(0,a.MZ)({type:u.A,json:{write:!0}})],h.prototype,"format",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],h.prototype,"isEditable",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"label",void 0),(0,n._)([(0,l.e)(new s.J({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],h.prototype,"stringFieldOption",void 0),(0,n._)([(0,a.MZ)({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],h.prototype,"statisticType",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"tooltip",void 0),(0,n._)([(0,a.MZ)({type:Boolean,json:{write:!0}})],h.prototype,"visible",void 0),h=r=(0,n._)([(0,c.$)("esri.popup.FieldInfo")],h);const d=h},51777:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r=i(66866),n=i(24793),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(27597),l=i(46999);let c=class extends(n.A.ClonableMixin(a.A)){constructor(e){super(e),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:["auto","preview","list"],json:{write:!0}})],c.prototype,"displayType",void 0),(0,r._)([(0,s.MZ)({type:[l.A],json:{write:!0}})],c.prototype,"orderByFields",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0),c=(0,r._)([(0,o.$)("esri.popup.content.AttachmentsContent")],c);const u=c},3961:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(80040),l=i(89753);let c=r=class extends a.A{constructor(e){super(e),this.type="bar-chart"}clone(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,n._)([(0,s.MZ)({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=r=(0,n._)([(0,o.$)("esri.popup.content.BarChartMediaInfo")],c);const u=c},16160:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(80040),l=i(89753);let c=r=class extends a.A{constructor(e){super(e),this.type="column-chart"}clone(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,n._)([(0,s.MZ)({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=r=(0,n._)([(0,o.$)("esri.popup.content.ColumnChartMediaInfo")],c);const u=c},27597:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(66866),n=i(21877),s=i(21564),o=(i(39831),i(539),i(9272),i(63863));let a=class extends n.A{constructor(e){super(e),this.type=null}};(0,r._)([(0,s.MZ)({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,r._)([(0,o.$)("esri.popup.content.Content")],a);const l=a},80004:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r,n=i(66866),s=i(19251),o=i(21564),a=(i(39831),i(539),i(63863)),l=i(27597);let c=r=class extends l.A{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new r({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?(0,s.o8)(this.outFields):null})}};(0,n._)([(0,o.MZ)()],c.prototype,"creator",void 0),(0,n._)([(0,o.MZ)()],c.prototype,"destroyer",void 0),(0,n._)([(0,o.MZ)()],c.prototype,"outFields",void 0),(0,n._)([(0,o.MZ)({type:["custom"],readOnly:!0})],c.prototype,"type",void 0),c=r=(0,n._)([(0,a.$)("esri.popup.content.CustomContent")],c);const u=c},44395:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(86696),l=i(27597);let c=r=class extends l.A{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new r({expressionInfo:this.expressionInfo?.clone()})}};(0,n._)([(0,s.MZ)({type:a.A,json:{write:!0}})],c.prototype,"expressionInfo",void 0),(0,n._)([(0,s.MZ)({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0),c=r=(0,n._)([(0,o.$)("esri.popup.content.ExpressionContent")],c);const u=c},3082:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r,n=i(66866),s=i(19251),o=i(21564),a=(i(39831),i(539),i(63863)),l=i(77542),c=i(31386),u=i(27597);let h=r=class extends u.A{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map((e=>e.toJSON()))}clone(){return new r((0,s.o8)({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};(0,n._)([(0,o.MZ)({type:Object,json:{write:!0}})],h.prototype,"attributes",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"description",void 0),(0,n._)([(0,o.MZ)({type:[c.A]})],h.prototype,"fieldInfos",void 0),(0,n._)([(0,l.K)("fieldInfos")],h.prototype,"writeFieldInfos",null),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],h.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],h.prototype,"type",void 0),h=r=(0,n._)([(0,a.$)("esri.popup.content.FieldsContent")],h);const d=h},9809:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(17683),l=i(21877);let c=r=class extends l.A{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new r({linkURL:this.linkURL,sourceURL:this.sourceURL})}};(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"linkURL",void 0),(0,n._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],c.prototype,"sourceURL",void 0),c=r=(0,n._)([(0,o.$)("esri.popup.content.support.ImageMediaInfoValue")],c);const u=c;var h;let d=h=class extends a.A{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new h({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],d.prototype,"refreshInterval",void 0),(0,n._)([(0,s.MZ)({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:u,json:{write:{isRequired:!0}}})],d.prototype,"value",void 0),d=h=(0,n._)([(0,o.$)("esri.popup.content.ImageMediaInfo")],d);const p=d},85616:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(80040),l=i(89753);let c=r=class extends a.A{constructor(e){super(e),this.type="line-chart"}clone(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,n._)([(0,s.MZ)({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=r=(0,n._)([(0,o.$)("esri.popup.content.LineChartMediaInfo")],c);const u=c},53155:(e,t,i)=>{"use strict";i.d(t,{A:()=>_});var r,n=i(66866),s=i(19251),o=i(21564),a=(i(39831),i(539),i(75094)),l=i(63863),c=i(77542),u=i(3961),h=i(16160),d=i(27597),p=i(9809),f=i(85616),m=i(94790),y=i(44379);let g=r=class extends d.A{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map((e=>"image"===e.type?p.A.fromJSON(e):"barchart"===e.type?u.A.fromJSON(e):"columnchart"===e.type?h.A.fromJSON(e):"linechart"===e.type?f.A.fromJSON(e):"piechart"===e.type?m.A.fromJSON(e):void 0)).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map((e=>e.toJSON()))}clone(){return new r((0,s.o8)({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};(0,n._)([(0,o.MZ)()],g.prototype,"activeMediaInfoIndex",void 0),(0,n._)([(0,o.MZ)({type:Object,json:{write:!0}})],g.prototype,"attributes",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],g.prototype,"description",void 0),(0,n._)([(0,o.MZ)({types:[y.g]})],g.prototype,"mediaInfos",void 0),(0,n._)([(0,a.w)("mediaInfos")],g.prototype,"readMediaInfos",null),(0,n._)([(0,c.K)("mediaInfos")],g.prototype,"writeMediaInfos",null),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],g.prototype,"title",void 0),(0,n._)([(0,o.MZ)({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],g.prototype,"type",void 0),g=r=(0,n._)([(0,l.$)("esri.popup.content.MediaContent")],g);const _=g},94790:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(80040),l=i(89753);let c=r=class extends a.A{constructor(e){super(e),this.type="pie-chart"}clone(){return new r({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};(0,n._)([(0,s.MZ)({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:l.U.write,isRequired:!0}}})],c.prototype,"type",void 0),c=r=(0,n._)([(0,o.$)("esri.popup.content.PieChartMediaInfo")],c);const u=c},73875:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r=i(66866),n=i(24793),s=i(21564),o=i(73446),a=(i(39831),i(9272),i(63863)),l=i(27597),c=i(33083);let u=class extends(n.A.ClonableMixin(l.A)){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],u.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:o.jz,write:!0}})],u.prototype,"displayCount",void 0),(0,r._)([(0,s.MZ)({type:["list"],json:{write:{isRequired:!0}}})],u.prototype,"displayType",void 0),(0,r._)([(0,s.MZ)({type:[c.A],json:{write:!0}})],u.prototype,"orderByFields",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:o.jz,write:{isRequired:!0}}})],u.prototype,"relationshipId",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],u.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],u.prototype,"type",void 0),u=(0,r._)([(0,a.$)("esri.popup.content.RelationshipContent")],u);const h=u},23676:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(27597);let l=r=class extends a.A{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new r({text:this.text})}};(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],l.prototype,"text",void 0),(0,n._)([(0,s.MZ)({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],l.prototype,"type",void 0),l=r=(0,n._)([(0,o.$)("esri.popup.content.TextContent")],l);const c=l},39723:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r=i(66866),n=i(24793),s=i(21564),o=i(73446),a=(i(39831),i(9272),i(28902)),l=i(63863),c=i(27597),u=i(30443);let h=class extends(n.A.ClonableMixin(c.A)){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],h.prototype,"description",void 0),(0,r._)([(0,s.MZ)({type:Number,json:{type:o.jz,write:!0}})],h.prototype,"displayCount",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],h.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:[u.A],json:{write:!0}})],h.prototype,"associationTypes",void 0),(0,r._)([(0,a.e)({utilityNetworkAssociations:"utility-network-associations"})],h.prototype,"type",void 0),h=(0,r._)([(0,l.$)("esri.popup.content.UtilityNetworkAssociationsContent")],h);const d=h},80040:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(17683),l=i(96220),c=i(21877),u=i(19251),h=i(73446),d=i(47840);let p=r=class extends c.A{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new r({colors:(0,u.o8)(this.colors),fields:(0,u.o8)(this.fields),normalizeField:this.normalizeField,series:(0,u.o8)(this.series),tooltipField:this.tooltipField})}};(0,n._)([(0,s.MZ)({type:[l.A],json:{type:[[h.jz]],write:!0}})],p.prototype,"colors",void 0),(0,n._)([(0,s.MZ)({type:[String],json:{write:{isRequired:!0}}})],p.prototype,"fields",void 0),(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],p.prototype,"normalizeField",void 0),(0,n._)([(0,s.MZ)({type:[d.A],json:{read:!1}})],p.prototype,"series",void 0),(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],p.prototype,"tooltipField",void 0),p=r=(0,n._)([(0,o.$)("esri.popup.content.support.ChartMediaInfoValue")],p);const f=p;let m=class extends a.A{constructor(e){super(e),this.type=null,this.value=void 0}};(0,n._)([(0,s.MZ)({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],m.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:f,json:{write:{isRequired:!0}}})],m.prototype,"value",void 0),m=(0,n._)([(0,o.$)("esri.popup.content.mixins.ChartMediaInfo")],m);const y=m},17683:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(66866),n=i(21877),s=i(21564),o=(i(39831),i(539),i(9272),i(63863));let a=class extends n.A{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],a.prototype,"altText",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],a.prototype,"caption",void 0),(0,r._)([(0,s.MZ)({type:String,json:{write:!0}})],a.prototype,"title",void 0),(0,r._)([(0,s.MZ)({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,r._)([(0,o.$)("esri.popup.content.mixins.MediaInfo")],a);const l=a},47840:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(52495),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=r=class extends s.A{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new r({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};(0,n._)([(0,o.MZ)()],l.prototype,"color",void 0),(0,n._)([(0,o.MZ)()],l.prototype,"fieldName",void 0),(0,n._)([(0,o.MZ)()],l.prototype,"tooltip",void 0),(0,n._)([(0,o.MZ)()],l.prototype,"value",void 0),l=r=(0,n._)([(0,a.$)("esri.popup.content.support.ChartMediaInfoValueSeries")],l);const c=l},89753:(e,t,i)=>{"use strict";i.d(t,{U:()=>r});const r=(0,i(59851).O)()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})},44379:(e,t,i)=>{"use strict";i.d(t,{g:()=>l});var r=i(3961),n=i(16160),s=i(9809),o=i(85616),a=i(94790);const l={base:i(17683).A,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":r.A,"column-chart":n.A,"line-chart":o.A,"pie-chart":a.A,image:s.A}}},46999:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r=i(66866),n=i(24793),s=i(59851),o=i(21877),a=i(21564),l=(i(39831),i(539),i(9272),i(63863));const c=new s.J({asc:"ascending",desc:"descending"});let u=class extends(n.A.ClonableMixin(o.A)){constructor(e){super(e),this.field=null,this.order="ascending"}};(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"field",void 0),(0,r._)([(0,a.MZ)({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],u.prototype,"order",void 0),u=(0,r._)([(0,l.$)("esri.popup.support.AttachmentsOrderByInfo")],u);const h=u},56473:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r=i(66866),n=i(24793),s=i(21877),o=i(21564),a=i(73446),l=(i(39831),i(9272),i(28902)),c=i(63863),u=i(76459);let h=class extends(n.A.ClonableMixin(s.A)){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};(0,r._)([(0,l.e)(u._v)],h.prototype,"dateFormat",void 0),(0,r._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],h.prototype,"digitSeparator",void 0),(0,r._)([(0,o.MZ)({type:a.jz,json:{write:!0}})],h.prototype,"places",void 0),h=(0,r._)([(0,c.$)("esri.popup.support.FieldInfoFormat")],h);const d=h},33083:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=r=class extends s.A{constructor(e){super(e),this.field=null,this.order=null}clone(){return new r({field:this.field,order:this.order})}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"field",void 0),(0,n._)([(0,o.MZ)({type:["asc","desc"],json:{write:!0}})],l.prototype,"order",void 0),l=r=(0,n._)([(0,a.$)("esri.popup.support.RelatedRecordsInfoFieldOrder")],l);const c=l},30443:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r=i(66866),n=i(24793),s=i(21877),o=i(21564),a=i(73446),l=(i(39831),i(9272),i(63863));let c=class extends(n.A.ClonableMixin(s.A)){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"title",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,r._)([(0,o.MZ)({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],c.prototype,"type",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedNetworkSourceId",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedAssetGroup",void 0),(0,r._)([(0,o.MZ)({type:Number,json:{type:a.jz,write:!0}})],c.prototype,"associatedAssetType",void 0),c=(0,r._)([(0,l.$)("esri.popup.support.UtilityNetworkAssociationType")],c);const u=c},10282:(e,t,i)=>{"use strict";i.d(t,{A:()=>P});var r=i(66866),n=i(21121),s=i(28830),o=i(86394),a=i(98849),l=i(21877),c=i(45307),u=i(6267),h=i(40189),d=i(21564),p=i(73446),f=(i(39831),i(9272),i(75094)),m=i(63863),y=i(84698),g=i(91109);let _;var v=i(29079),w=i(99990),b=i(52495);i(539);let M=class extends b.A{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,r._)([(0,d.MZ)()],M.prototype,"nextQueryParams",void 0),(0,r._)([(0,d.MZ)()],M.prototype,"queryParams",void 0),(0,r._)([(0,d.MZ)()],M.prototype,"results",void 0),(0,r._)([(0,d.MZ)()],M.prototype,"total",void 0),M=(0,r._)([(0,m.$)("esri.portal.PortalQueryResult")],M);var A,S=i(68770),T=i(71647);let E;const x={PortalGroup:()=>Promise.resolve({default:v.A}),PortalItem:()=>Promise.resolve().then(i.bind(i,26099)),PortalUser:()=>Promise.resolve({default:S.A})};let P=class extends(l.A.JSONSupportMixin(c.A)){static{A=this}static{this.AUTH_MODE_ANONYMOUS="anonymous"}static{this.AUTH_MODE_AUTO="auto"}static{this.AUTH_MODE_IMMEDIATE="immediate"}static{this.AUTH_MODE_NO_PROMPT="no-prompt"}constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=n.A.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){C.unregister(this),this.defaultBasemap=(0,u.pR)(this.defaultBasemap),this.defaultDevBasemap=(0,u.pR)(this.defaultDevBasemap),this.defaultVectorBasemap=(0,u.pR)(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=(0,u.xt)(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)n.A.request.trustedServers.includes(t)||n.A.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return(0,T.Jn)(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=S.A.fromJSON(e),t.portal=this),t}load(e){const t=Promise.resolve().then(i.bind(i,58556)).then((({default:t})=>{(0,h.Te)(e),E=t})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((e=>{if(!this.hasAPIKey&&s.id){const e=s.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==A.AUTH_MODE_AUTO&&this.authMode!==A.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=e.on("credential-create",function(e){const t=s.id;return()=>{const i=e.deref();i&&t.findCredential(i.restUrl)&&i.signIn().catch((()=>{}))}}(new WeakRef(this))),C.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([i.e(72076),i.e(48870)]).then(i.bind(i,48870))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async fetchBasemaps(e,t){const i=await this._fetchBasemaps(e,t);if(!0===t?.include3d&&!1!==this.use3dBasemaps){const r=await this._fetchBasemaps3D(e,t);i.unshift(...r)}return i}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||"none"===this.default3DBasemapQuery)return null;const t=new w.A;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const i=(await this.queryItems(t,e)).results.find((e=>"Web Scene"===e.type));return i?new E({portalItem:i}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,h.G4)(e)?Promise.reject((0,h.NK)()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then((e=>e.classificationSchema)):null}fetchFeaturedGroups(e){const t=this.featuredGroups,i=new w.A({num:100,sortField:"title"});if(t?.length){const r=[];for(const e of t)r.push(`(title:"${e.title}" AND owner:${e.owner})`);return i.query=r.join(" OR "),this.queryGroups(i,e).then((e=>e.results))}return(0,h.G4)(e)?Promise.reject((0,h.NK)()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||(0,g.JK)();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||(0,g.JK)();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return function(e){return _&&!_.destroyed||(_=e()),_}((()=>new A))}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,i){const r=this.restUrl+"/portals/self",n={authMode:e,query:{culture:(0,g.JK)().toLowerCase()},withCredentials:!0,...i};return"auto"===n.authMode&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(r,n)}queryPortal(e,t,i,r){const n=(0,p.dp)(w.A,t),s=t=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...r}).then((e=>{const i=n.clone();return i.start=e.nextStart,new M({nextQueryParams:i,queryParams:n,total:e.total,results:A._resultsToTypedArray(t,{portal:this},e,r)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,h.QP)(t),e)))));return i&&x[i]?x[i]().then((({default:e})=>((0,h.Te)(r),s(e)))):s()}signIn(){if(this.hasAPIKey)return this.load().then((()=>{if(!this.user)throw new a.A("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")}));if(this.authMode===A.AUTH_MODE_ANONYMOUS||this.authMode===A.AUTH_MODE_NO_PROMPT&&!s.id)return Promise.reject(new a.A("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return s.id?s.id.getCredential(this.restUrl,{prompt:this.authMode!==A.AUTH_MODE_NO_PROMPT}).then((t=>e(t))):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,i){return this.request(e,t).then((e=>{const t=A._resultsToTypedArray(i,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}request(e,t={}){const i={f:"json",...t.query},{authMode:r=(this.authMode===A.AUTH_MODE_ANONYMOUS||this.authMode===A.AUTH_MODE_NO_PROMPT?this.authMode:"auto"),body:n=null,cacheBust:s=!1,method:a="auto",responseType:l="json",signal:c}=t,u={authMode:r,body:n,cacheBust:s,method:a,query:i,responseType:l,timeout:0,signal:c};return t.withCredentials&&(u.withCredentials=!0),(0,o.A)(this._normalizeSSL(e),u).then((e=>e.data))}toJSON(){throw new a.A("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new A({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new a.A("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const i=new w.A;i.query=e||((0,T.Dd)()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const r=await this.queryGroups(i,t);if(!r.total)return[];const n=r.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=n.sortField||"name",i.sortOrder=n.sortOrder||"desc";const s=await n.queryItems(i,t);return s.total?s.results.filter((e=>"Web Map"===e.type)).map((e=>new E({portalItem:e}))):[]}async _fetchBasemaps3D(e,t){const i=e||this.basemapGalleryGroupQuery3D;if(!i)return[];if((0,T.Dd)())return[];const r=new w.A({query:i,disableExtraQuery:!0}),n=await this.queryGroups(r,t);if(!n.total)return[];const s=n.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(r,t);return o.total?o.results.filter((e=>"Web Scene"===e.type)).map((e=>new E({portalItem:e}))):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=E.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,i,r){let n;if(i){const s=null!=r?r.signal:null;n=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(e||t)&&(n=n.map((i=>{const r=Object.assign(e?e.fromJSON(i):i,t);return"function"==typeof r.load&&r.load(s),r})))}else n=[];return n}};(0,r._)([(0,d.MZ)()],P.prototype,"access",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"allSSL",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"authMode",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"authorizedCrossOriginDomains",void 0),(0,r._)([(0,f.w)("authorizedCrossOriginDomains")],P.prototype,"readAuthorizedCrossOriginDomains",null),(0,r._)([(0,d.MZ)()],P.prototype,"basemapGalleryGroupQuery",void 0),(0,r._)([(0,d.MZ)({json:{name:"3DBasemapGalleryGroupQuery"}})],P.prototype,"basemapGalleryGroupQuery3D",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"bingKey",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canListApps",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canListData",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canListPreProvisionedItems",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canProvisionDirectPurchase",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canSearchPublic",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canShareBingPublic",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canSharePublic",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canSignInArcGIS",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"canSignInIDP",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"colorSetsGroupQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"commentsEnabled",void 0),(0,r._)([(0,d.MZ)({type:Date})],P.prototype,"created",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"credential",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"culture",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"currentVersion",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"customBaseUrl",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"default3DBasemapQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"defaultBasemap",void 0),(0,r._)([(0,f.w)("defaultBasemap")],P.prototype,"readDefaultBasemap",null),(0,r._)([(0,d.MZ)()],P.prototype,"defaultDevBasemap",void 0),(0,r._)([(0,f.w)("defaultDevBasemap")],P.prototype,"readDefaultDevBasemap",null),(0,r._)([(0,d.MZ)({type:y.A})],P.prototype,"defaultExtent",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"defaultVectorBasemap",void 0),(0,r._)([(0,f.w)("defaultVectorBasemap")],P.prototype,"readDefaultVectorBasemap",null),(0,r._)([(0,d.MZ)()],P.prototype,"description",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"devBasemapGalleryGroupQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"eueiEnabled",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"extraQuery",null),(0,r._)([(0,d.MZ)()],P.prototype,"featuredGroups",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"featuredItemsGroupQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"galleryTemplatesGroupQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"layoutGroupQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"livingAtlasGroupQuery",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"hasAPIKey",null),(0,r._)([(0,d.MZ)()],P.prototype,"hasCategorySchema",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"hasClassificationSchema",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"helpBase",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"helperServices",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"helpMap",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"homePageFeaturedContent",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"homePageFeaturedContentCount",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"httpPort",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"httpsPort",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"id",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"ipCntryCode",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"isOrganization",null),(0,r._)([(0,d.MZ)()],P.prototype,"isPortal",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"isReadOnly",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"itemPageUrl",null),(0,r._)([(0,d.MZ)()],P.prototype,"layerTemplatesGroupQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"maxTokenExpirationMinutes",void 0),(0,r._)([(0,d.MZ)({type:Date})],P.prototype,"modified",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"name",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"portalHostname",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"portalMode",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"portalProperties",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"region",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"recycleBinEnabled",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"restUrl",null),(0,r._)([(0,d.MZ)()],P.prototype,"rotatorPanels",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"showHomePageDescription",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"sourceJSON",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"staticImagesUrl",void 0),(0,r._)([(0,d.MZ)({json:{name:"2DStylesGroupQuery"}})],P.prototype,"stylesGroupQuery2d",void 0),(0,r._)([(0,d.MZ)({json:{name:"stylesGroupQuery"}})],P.prototype,"stylesGroupQuery3d",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"supportsHostedServices",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"symbolSetsGroupQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"templatesGroupQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"thumbnail",void 0),(0,r._)([(0,d.MZ)({readOnly:!0})],P.prototype,"thumbnailUrl",null),(0,r._)([(0,d.MZ)()],P.prototype,"units",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"url",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"urlKey",void 0),(0,r._)([(0,f.w)("urlKey")],P.prototype,"readUrlKey",null),(0,r._)([(0,d.MZ)()],P.prototype,"user",void 0),(0,r._)([(0,f.w)("user")],P.prototype,"readUser",null),(0,r._)([(0,d.MZ)()],P.prototype,"use3dBasemaps",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"useDefault3dBasemap",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"useStandardizedQuery",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"useVectorBasemaps",void 0),(0,r._)([(0,d.MZ)()],P.prototype,"vectorBasemapGalleryGroupQuery",void 0),P=A=(0,r._)([(0,m.$)("esri.portal.Portal")],P);const C=new FinalizationRegistry((e=>{e.remove()}))},29079:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r,n=i(66866),s=i(98849),o=i(21877),a=i(21564),l=i(73446),c=(i(39831),i(9272),i(63863)),u=i(99990);let h=r=class extends o.A{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then((t=>{const i=t.categorySchema||[];return i.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):i}))}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new s.A("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new r({sourceJSON:e});return t.read(e),t}queryItems(e,t){let i=(0,l.dp)(u.A,e);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new u.A,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",t)):(i=i?i.clone():new u.A,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,t))}_fetchCategorySchemaSet(e,t){const i=this.portal;return i.fetchSelf(i.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new u.A({disableExtraQuery:!0,num:1,query:r});return i.queryGroups(e,t)}throw new s.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((i=>{if(i.total){const r=i.results[0],n=new u.A({num:1,query:`typekeywords:"${e}"`});return r.queryItems(n,t)}throw new s.A("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e?.categorySchema;return t?.length?t:[]})):[]))}};(0,n._)([(0,a.MZ)()],h.prototype,"access",void 0),(0,n._)([(0,a.MZ)({type:Date})],h.prototype,"created",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"description",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"id",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"isInvitationOnly",void 0),(0,n._)([(0,a.MZ)({type:Date})],h.prototype,"modified",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"owner",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"portal",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"snippet",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"sortField",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"sortOrder",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"sourceJSON",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"tags",void 0),(0,n._)([(0,a.MZ)()],h.prototype,"thumbnail",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],h.prototype,"thumbnailUrl",null),(0,n._)([(0,a.MZ)()],h.prototype,"title",void 0),(0,n._)([(0,a.MZ)({readOnly:!0})],h.prototype,"url",null),h=r=(0,n._)([(0,c.$)("esri.portal.PortalGroup")],h)},26099:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var r=i(66866),n=i(99050),s=i(98849),o=i(21877),a=i(19251),l=i(45307),c=i(20909),u=i(21564),h=i(73446),d=i(75094),p=i(63863),f=i(84698),m=i(10282),y=i(52495),g=i(539),_=i(4130);i(39831),i(9272);let v=class extends y.A{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:w(e.path,e.portalItem)}:e}set path(e){null!=e&&(0,c.oP)(e)?g.A.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return w(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const i=this.cdnUrl;if(null==i)throw new s.A("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(i,{responseType:e,query:{token:this.portalItem.apiKey,_ts:t?.cacheBust?Date.now():null},signal:t?.signal})}async update(e,t){const{addOrUpdateResources:r}=await i.e(98751).then(i.bind(i,98751));return await r(this.portalItem,[{resource:this,content:e,compress:t?.compress,access:t?.access}],"update",t),this}hasPath(){return null!=this.path}};function w(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&(0,c.oP)(e)&&(e=(0,c.V1)(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}(0,r._)([(0,u.MZ)()],v.prototype,"portalItem",void 0),(0,r._)([(0,u.MZ)({type:String,value:null})],v.prototype,"path",null),(0,r._)([(0,_.w)("path")],v.prototype,"_castPath",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],v.prototype,"url",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],v.prototype,"cdnUrl",null),(0,r._)([(0,u.MZ)({type:String,readOnly:!0})],v.prototype,"itemRelativeUrl",null),v=(0,r._)([(0,p.$)("esri.portal.PortalItemResource")],v);let b=class extends y.A{constructor(e){super(e),this.created=null,this.rating=null}};(0,r._)([(0,u.MZ)({type:Date})],b.prototype,"created",void 0),(0,r._)([(0,u.MZ)()],b.prototype,"rating",void 0),b=(0,r._)([(0,p.$)("esri.portal.PortalRating")],b);var M,A=i(63680);const S=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),T=new Set(["KML","GeoJson","CSV"]);let E=M=class extends(o.A.JSONSupportMixin(l.A)){static from(e){return(0,h.PZ)(M,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let i=e;return"Feature Service"===e||"Feature Collection"===e?i=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?i=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?i="Scene Layer":"Video Service"===e?i="Video Layer":"Scene Package"===e?i="Scene Layer Package":"Stream Service"===e?i="Feature Layer":"Geoprocessing Service"===e?i=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===e?i="GeoEnrichment Service":"Geocoding Service"===e?i="Locator":"Microsoft Powerpoint"===e?i="Microsoft PowerPoint":"GeoJson"===e?i="GeoJSON":"Globe Service"===e?i="Globe Layer":"Vector Tile Service"===e?i="Tile Layer":"netCDF"===e?i="NetCDF":"Map Service"===e?i=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e?.toLowerCase().includes("add in")?i=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?i="Big Data File Share":"Compact Tile Package"===e?i="Tile Package (tpkx)":"Raster function template"===e?i="Raster Function Template":"OGCFeatureServer"===e?i="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?i="Instant App":"Insights Page"===e?i="Insights Report":"Excalibur Imagery Project"===e?i="Excalibur Project":"3DTiles Service"===e?i="3D tiles layer":"3DTiles Package"===e&&(i="3D tiles package"),i}readExtent(e){return e&&e.length?new f.A(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type?.toLowerCase()||"",t=this.typeKeywords||[];let i,r=!1,s=!1,o=!1,a=!1,l=!1,c=!1,u=!1,h=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(r=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(s=t.includes("Table"),o=t.includes("Route Layer"),a=t.includes("Markup"),l=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),i=l&&s?"spatiotemporaltable":s?"table":o?"routelayer":a?"markup":l?"spatiotemporal":c?"utilitynetwork":r?"featureshosted":"features"):"map service"===e||"wms"===e||"wmts"===e?(l=t.includes("Spatiotemporal"),u=t.includes("Relational"),i=l||u?"mapimages":r||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages"):i="scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"3dtiles service"===e?t.includes("3DObject")?"3dobjecttileslayer":t.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):"web map"===e||"cityengine web scene"===e?i="maps":"web scene"===e?i=t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?i="instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?i="apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?i="mapsgray":"service definition"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?i="datafiles":"360 vr experience"===e?i="360vr":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?i="appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?i="addindesktop":"pdf"===e?i="pdf":"microsoft word"===e?i="word":"microsoft excel"===e?i="excel":"microsoft powerpoint"===e?i="ppt":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?i="datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?i="toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?i="layersgray":"analysis model"===e?i="analysismodel":"scene package"===e?i="scenepackage":"3dtiles package"===e?i="3dtileslayerpackage":"3dtiles service"===e?i="3dtileslayer":"mobile scene package"===e?i="mobilescenepackage":"tile package"===e||"compact tile package"===e?i="tilepackage":"task file"===e?i="taskfile":"report template"===e?i="report-template":"statistical data collection"===e?i="statisticaldatacollection":"insights workbook"===e?i="workbook":"insights model"===e?i="insightsmodel":"insights page"===e?i="insightspage":"insights theme"===e?i="insightstheme":"hub initiative"===e?i="hubinitiative":"hub page"===e?i="hubpage":"hub site application"===e?i="hubsite":"hub event"===e?i="hubevent":"hub project"===e?i="hubproject":"relational database connection"===e?i="relationaldatabaseconnection":"big data file share"===e?i="datastorecollection":"image collection"===e?i="imagecollection":"desktop style"===e?i="desktopstyle":"style"===e?i=t.includes("Dictionary")?"dictionarystyle":"style":"dashboard"===e?i="dashboard":"raster function template"===e?i="rasterprocessingtemplate":"vector tile package"===e?i="vectortilepackage":"ortho mapping project"===e?i="orthomappingproject":"ortho mapping template"===e?i="orthomappingtemplate":"solution"===e?i="solutions":"geopackage"===e?i="geopackage":"deep learning package"===e?i="deeplearningpackage":"real time analytic"===e?i="realtimeanalytics":"reality mapping project"===e?i="realitymappingproject":"big data analytic"===e?i="bigdataanalytics":"feed"===e?i="feed":"excalibur imagery project"===e?i="excaliburimageryproject":"notebook"===e?i="notebook":"storymap"===e?i="storymap":"survey123 add in"===e?i="survey123addin":"mission"===e?i="mission":"mission report"===e?i="missionreport":"mission template"===e?i="missiontemplate":"quickcapture project"===e?i="quickcaptureproject":"pro report"===e?i="proreport":"pro report template"===e?i="proreporttemplate":"urban model"===e?i="urbanmodel":"urban project"===e?i="urbanproject":"web experience"===e?i="experiencebuilder":"web experience template"===e?i="webexperiencetemplate":"experience builder widget"===e?i="experiencebuilderwidget":"experience builder widget package"===e?i="experiencebuilderwidgetpackage":"workflow"===e?i="workflow":"kernel gateway connection"===e?i="kernelgatewayconnection":"insights script"===e?i="insightsscript":"hub initiative template"===e?i="hubinitiativetemplate":"storymap theme"===e?i="storymaptheme":"knowledge graph"===e?i="knowledgegraph":"knowledge graph layer"===e?i="knowledgegraphlayer":"knowledge studio project"===e?i="knowledgestudio":"native application"===e?i="nativeapp":"native application installer"===e?i="nativeappinstaller":"web link chart"===e?i="linkchart":"knowledge graph web investigation"===e?i="investigation":"ogcfeatureserver"===e?i="features":"pro presentation"===e?i="propresentation":"pro project"===e?i="proproject":"insights workbook package"===e?i="insightsworkbookpackage":"apache parquet"===e?i="apacheparquet":"notebook code snippet library"===e?i="notebookcodesnippets":"suitability model"===e?i="suitabilitymodel":"esri classifier definition"===e?i="classifierdefinition":"esri classification schema"===e?i="classificationschema":"insights data engineering workbook"===e?i="dataengineeringworkbook":"insights data engineering model"===e?i="dataengineeringmodel":"deep learning studio project"===e?i="deeplearningproject":"discussion"===e?i="discussion":"allsource project"===e?i="allsourceproject":"api key"===e?i="apikey":"data pipeline"===e?i="datapipelines":"group layer"===e?(h=t.includes("Map"),i=h?"layergroup2d":"layergroup"):i="media layer"===e?"onlinemedialayer":"form"===e?t.includes("Survey123")?"survey":"datafilesgray":"csv"===e?"csv":"image"===e?"image":"maps",i?(0,n.s)("esri/images/portal/"+i+"16.png"):null}get isLayer(){return null!=this.type&&S.has(this.type)}get itemCdnUrl(){return(0,A.a)(this.itemUrl)}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.portal?.restUrl;if(!e)return null;const t=this.owner||this.portal?.user?.id;return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){const t=this.portal??(this.portal=m.A.getDefault()),i=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}},i=e instanceof b?e.rating:e;return null==i||isNaN(i)||"number"!=typeof e||(t.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new b({rating:i,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,a.o8)(this.applicationProxies),avgRating:this.avgRating,categories:(0,a.o8)(this.categories),classification:(0,a.o8)(this.classification),created:(0,a.o8)(this.created),culture:this.culture,description:this.description,extent:(0,a.o8)(this.extent),groupCategories:(0,a.o8)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,a.o8)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,a.o8)(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,a.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.o8)(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new M({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");for(const t of["extent","classification"]){const i=e[t];i&&(e[t]=JSON.stringify(i))}return e}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return this.portal.request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new b(t)):null}fetchRelatedItems(e,t){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},M)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.applicationProxies&&!Object.hasOwn(e,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e?.data,i={method:"post"};i.query=this.createPostQuery();for(const e in i.query)null===i.query[e]&&(i.query[e]="");return i.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?i.query.text=t:"object"==typeof t&&(i.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,i).then((()=>this.reload()))})):Promise.reject(new s.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new s.A("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:i}=this;await t.signIn();const{copyResources:r,folder:n,tags:o,title:a}=e||{},l={method:"post",query:{copyPrivateResources:"all"===r,folder:"string"==typeof n?n:n?.id,includeResources:!!r,tags:o?.join(","),title:a}},{itemId:c}=await t.request(`${i}/copy`,l);return new M({id:c,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,i=e.filename,r={method:"post"};if("string"==typeof t)(0,c.DB)(t)?r.query={data:t}:r.query={url:(0,c.s2)(t)},null!=i&&(r.query.filename=i);else{const e=new FormData;null!=i?e.append("file",t,i):e.append("file",t),r.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then((()=>this.reload()))})):Promise.reject(new s.A("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await i.e(98751).then(i.bind(i,98751));return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResources:n}=await i.e(98751).then(i.bind(i,98751));return e.portalItem=this,await n(this,[{resource:e,content:t,compress:r?.compress,access:r?.access}],"add",r),e}async removeResource(e,t){const{removeResource:r}=await i.e(98751).then(i.bind(i,98751));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new s.A("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await i.e(98751).then(i.bind(i,98751));return t(this,e)}resourceFromPath(e){return new v({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:(0,a.o8)(this.categories),classification:(0,a.o8)(this.classification),created:this.created?.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:(0,a.o8)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.o8)(this.typeKeywords),url:this.url};return(0,a.oy)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new M({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,r._)([(0,u.MZ)({type:["private","shared","org","public"]})],E.prototype,"access",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"accessInformation",void 0),(0,r._)([(0,u.MZ)({type:String})],E.prototype,"apiKey",void 0),(0,r._)([(0,u.MZ)({json:{read:{source:"appProxies"}}})],E.prototype,"applicationProxies",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"avgRating",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"categories",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"classification",void 0),(0,r._)([(0,u.MZ)({type:Date})],E.prototype,"created",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"culture",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"description",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],E.prototype,"displayName",null),(0,r._)([(0,u.MZ)({type:f.A})],E.prototype,"extent",void 0),(0,r._)([(0,d.w)("extent")],E.prototype,"readExtent",null),(0,r._)([(0,u.MZ)()],E.prototype,"groupCategories",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],E.prototype,"iconUrl",null),(0,r._)([(0,u.MZ)()],E.prototype,"id",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],E.prototype,"isLayer",null),(0,r._)([(0,u.MZ)({type:Boolean,readOnly:!0})],E.prototype,"isOrgItem",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"itemControl",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],E.prototype,"itemPageUrl",null),(0,r._)([(0,u.MZ)({readOnly:!0})],E.prototype,"itemUrl",null),(0,r._)([(0,u.MZ)()],E.prototype,"licenseInfo",void 0),(0,r._)([(0,u.MZ)({type:Date})],E.prototype,"modified",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"name",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"numComments",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"numRatings",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"numViews",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"owner",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"ownerFolder",void 0),(0,r._)([(0,u.MZ)({type:m.A})],E.prototype,"portal",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"screenshots",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"size",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"snippet",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"sourceJSON",void 0),(0,r._)([(0,u.MZ)({type:String})],E.prototype,"sourceUrl",void 0),(0,r._)([(0,u.MZ)({type:String})],E.prototype,"spatialReference",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"tags",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"thumbnail",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],E.prototype,"thumbnailUrl",null),(0,r._)([(0,u.MZ)()],E.prototype,"title",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"type",void 0),(0,r._)([(0,u.MZ)()],E.prototype,"typeKeywords",void 0),(0,r._)([(0,u.MZ)({type:String,json:{read(e,t){if(T.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],E.prototype,"url",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],E.prototype,"userItemUrl",null),E=M=(0,r._)([(0,p.$)("esri.portal.PortalItem")],E)},99990:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var r,n=i(66866),s=i(52495),o=i(59851),a=i(19251),l=i(21564),c=(i(39831),i(539),i(63863)),u=i(84698),h=i(78983),d=i(96082);const p=new o.J({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let f=r=class extends s.A{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new r({categories:this.categories?(0,a.o8)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let i=[];this.categories&&(i=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e)));let r="";if(this.extent){const e=(0,d.Cv)(this.extent,h.A.WGS84);null!=e&&(r=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const s={categories:i,bbox:r,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map((e=>p.toJSON(e.trim()))).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};(0,n._)([(0,l.MZ)()],f.prototype,"categories",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"disableExtraQuery",void 0),(0,n._)([(0,l.MZ)({type:u.A})],f.prototype,"extent",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"filter",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"num",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"query",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"sortField",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"sortOrder",null),(0,n._)([(0,l.MZ)()],f.prototype,"start",void 0),f=r=(0,n._)([(0,c.$)("esri.portal.PortalQueryParams")],f)},68770:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r=i(66866),n=i(98849),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=class extends s.A{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new n.A("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,r._)([(0,o.MZ)({type:Date})],l.prototype,"created",void 0),(0,r._)([(0,o.MZ)()],l.prototype,"id",void 0),(0,r._)([(0,o.MZ)()],l.prototype,"portal",void 0),(0,r._)([(0,o.MZ)()],l.prototype,"title",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],l.prototype,"url",null),(0,r._)([(0,o.MZ)()],l.prototype,"username",void 0),l=(0,r._)([(0,a.$)("esri.portal.PortalFolder")],l);var c,u=i(29079);let h=c=class extends s.A{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.id}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.id}`:null}addItem(e){const t=e&&e.item,i=e?.data,r=e?.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),null!=i&&("string"==typeof i?n.query.text=i:"object"==typeof i&&(n.query.text=JSON.stringify(i))));let s=this.userContentUrl;return r&&(s+="/"+("string"==typeof r?r:r.id)),this.portal.request(s+"/addItem",n).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}async deleteItem(e,t=!1){let i=this.userContentUrl;e.ownerFolder&&(i+="/"+e.ownerFolder);const r=t?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${e.id}/delete`,{method:"post",query:r}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=e.map((e=>e.id));if(s.length){const o={method:"post",query:{items:s.join(","),permanentDelete:t}},a=await this.portal.request(i,o);for(const t of a.results){const i=e.find((e=>t.itemId===e.id)),s=t.success;let o=null;s?(i.id=null,i.portal=null):t.error&&(o=new n.A("portal:delete-item-failed",t.error.message,t.error)),r.push({item:i,success:s,error:o})}}return r}fetchFolders(){return this.portal.request(this.userContentUrl??"",{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=l.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal.request(this.url??"").then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=u.A.fromJSON(e);return t.portal=this.portal,t})):[],t}))}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await Promise.resolve().then(i.bind(i,26099)),n={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},s=await this.portal.request(t,{query:n});let o;return s?.items?(o=s.items.map((e=>{const t=r.fromJSON(e);return t.portal=this.portal,t})),await Promise.all(o.map((e=>e.load()))),{items:o,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new u.A({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new n.A("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const i=this.userContentUrl,r=t?{folderID:"string"==typeof t?t:t.id}:null;await this.portal.request(i+`/items/${e.id}/restore`,{method:"post",query:r})}toJSON(){throw new n.A("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new c({sourceJSON:e});return t.read(e),t}};(0,r._)([(0,o.MZ)()],h.prototype,"access",void 0),(0,r._)([(0,o.MZ)({type:Date})],h.prototype,"created",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"culture",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"description",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"email",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"favGroupId",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"fullName",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"id",void 0),(0,r._)([(0,o.MZ)({type:Date})],h.prototype,"modified",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"orgId",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"portal",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"preferredView",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"privileges",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"region",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"role",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"roleId",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"sourceJSON",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"thumbnail",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],h.prototype,"thumbnailUrl",null),(0,r._)([(0,o.MZ)()],h.prototype,"units",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],h.prototype,"userContentUrl",null),(0,r._)([(0,o.MZ)({readOnly:!0})],h.prototype,"url",null),(0,r._)([(0,o.MZ)()],h.prototype,"username",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"userLicenseTypeId",void 0),(0,r._)([(0,o.MZ)()],h.prototype,"userType",void 0),h=c=(0,r._)([(0,a.$)("esri.portal.PortalUser")],h)},12071:(e,t,i)=>{"use strict";i.d(t,{n:()=>n});var r=i(20909);function n(e){return s[function(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:function(e){const t=(0,r.Zo)(e);return l[t]||o}(e.url)}(e)]||a}const s={},o="text/plain",a=s[o],l={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const c in l)s[l[c]]=c},11210:(e,t,i)=>{"use strict";i.d(t,{$E:()=>o,py:()=>s,qG:()=>a});const r=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,n={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function s(e){const t=e?.match(r);if(!t)return null;const[,i,s,o]=t;if(!i)return null;let a=null,l=null,c=null;const{devext:u,qaext:h,www:d}=n;if(s)if(a=i,o)switch(o.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:c}=u);break;case"qa":({customBaseUrl:l,portalHostname:c}=h);break;default:return null}else({customBaseUrl:l,portalHostname:c}=d);else switch(i.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:c}=u);break;case"qaext":({customBaseUrl:l,portalHostname:c}=h);break;case"www":({customBaseUrl:l,portalHostname:c}=d);break;default:return null}return{customBaseUrl:l,isPortal:!1,portalHostname:c,urlKey:a}}function o(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function a(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):i.test(e)?e=e.replace(i,"https://devext.arcgis.com"):r.test(e)&&(e=e.replace(r,"https://qaext.arcgis.com")),e}},86394:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var r=i(21121),n=i(28830),s=i(98849),o=i(39831),a=i(19251),l=i(82256),c=i(40189),u=i(20909),h=i(16123),d=i(11210),p=i(71647),f=i(89125);async function m(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=(0,u.zf)(t.query.toString().replaceAll("+"," ")));const r=(0,u.DB)(e),n=(0,u.w8)(e);n||r||(e=(0,u.S8)(e));const s={url:e,requestOptions:{...t}},a=e=>({data:e,getAllHeaders:A,getHeader:A,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),d=(0,u.sC)(e,_.internalInterceptors);if(d){const e=await I(d,s);if(null!=e)return a(e)}let p=(0,u.sC)(e);if(p){const e=await I(p,s);if(null!=e)return a(e);p.after||p.error||(p=null)}if(e=s.url,"image"===(t=s.requestOptions).responseType&&((0,o.A)("host-webworker")||(0,o.A)("host-node")))throw E("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if("head"===t.method){if(t.body)throw E("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(r||n)throw E("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await async function(){(0,o.A)("host-webworker")&&(!y&&globalThis.invokeStaticMessage?y=await i.e(85106).then(i.bind(i,85106)):g=!0)}(),y)return y.execute(e,t);const f=new AbortController,m=(0,c.u7)(t,(()=>f.abort())),v={controller:f,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:p,params:s,redoRequest:!1,useIdentity:_.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},w=t.useRequestQueue?async function(e){const t=function(e){let t,i;return"string"==typeof e?(t=(0,u.$z)(e,!0),i=(0,h.Wo)(e)):(t=e.origin,i=(0,h.Wo)(e.toString())),null==t?null:{origin:t,isHosted:i}}(e.params.url);if(!t)return N(e);const{QueueProcessor:r}=await i.e(92746).then(i.bind(i,92746)),n=(0,l.tE)(R,t.origin,(()=>{const e=t.isHosted?(0,o.A)("request-queue-concurrency-hosted"):(0,o.A)("request-queue-concurrency-non-hosted");return new r({concurrency:e,process:e=>{if((0,c.G4)(e.params.requestOptions))throw E("",(0,c.NK)("Request canceled"),e.params);return N(e)}})}));return n.push(e)}(v):N(v),b=await w.finally((()=>m?.remove()));return p?.after?.(b),b}let y,g=!1;const _=r.A.request,v="FormData"in globalThis,w=new Set([499,498,403,401]),b=new Set(["COM_0056","COM_0057","SB_0008"]),M=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],A=()=>null,S=Symbol();function T(e){const t=(0,u.$z)(e);return!t||t.endsWith(".arcgis.com")||m._corsServers.includes(t)||(0,u.FL)(t)}function E(e,t,i,r){let n;const o={url:i.url,requestOptions:i.requestOptions,getAllHeaders:A,getHeader:A,ssl:!1};if(t instanceof s.A)return t.details?(t.details=(0,a.o8)(t.details),t.details.url=i.url,t.details.requestOptions=i.requestOptions):t.details=o,t;if(t){const e=r&&(()=>Array.from(r.headers)),i=r&&(e=>r.headers.get(e)),s=r?.status,a=t.message;a&&(n=a),e&&i&&(o.getAllHeaders=e,o.getHeader=i),o.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||s||0,o.subCode=t.subcode,o.messageCode=t.messageCode,"string"==typeof t.details?(o.messages=[t.details],n??=t.details):(o.messages=t.details,n??=o.messages?.[0]),o.raw=S in t?t[S]:t}return n??="Error",(0,c.zf)(t)?(0,c.NK)():new s.A(e,n,o)}async function x(){n.id||await i.e(31373).then(i.bind(i,31373))}function P(e){return M.some((t=>t.test(e)))}async function C(e){let t=e.params.url,i=(0,f.$x)(t);const r=e.params.requestOptions,s=e.fetchOptions??{},a=(0,u.w8)(t)||(0,u.DB)(t),l=r.responseType||"json",h=a?0:null!=r.timeout?r.timeout:_.timeout;let p=!1;if(!a){e.useSSL&&(t=(0,u.lM)(t));let a={...r.query};e.credentialToken&&(a.token=e.credentialToken);let l=(0,u.x0)(a);(0,o.A)("esri-url-encodes-apostrophe")&&(l=l.replaceAll("'","%27"));const c=i.length+1+l.length;let h;p="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||c>_.maxUrlLength;const m=r.useProxy||!!(0,u.zs)(t);if(m){const e=(0,u.s_)(t);h=e.path,!p&&h.length+1+c>_.maxUrlLength&&(p=!0),e.query&&(a={...e.query,...a})}if("HEAD"===s.method&&(p||m)){if(p){if(c>_.maxUrlLength)throw E("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw E("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(m)throw E("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(p?(s.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=(0,u.a6)(t,a):(s.body=(0,u.x0)(a),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,u.a6)(t,a),m&&(e.useProxy=!0,t=`${h}?${t}`),a.token&&v&&s.body instanceof FormData&&!(0,d.$E)(t)&&s.body.set("token",a.token),r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!(0,u.FX)(t,(0,u.Xq)()))if((0,u.FL)(t))e.withCredentials=!0;else if(n.id){const i=n.id.findServerInfo(t);i?.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(s.credentials="include",(0,f.xW)(t)&&await(0,f.m3)(p?(0,u.a6)(t,a):t)),i=(0,f.$x)(t)}let y,g,w=0,b=!1;h>0&&(w=setTimeout((()=>{b=!0,e.controller.abort()}),h));try{if("native-request-init"===r.responseType)g=s,g.url=i,r.signal?g.signal=r.signal:delete g.signal;else if("image"!==r.responseType||"default"!==s.cache||"GET"!==s.method||p||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!a&&!e.useProxy&&_.proxyUrl&&!T(t)){if(m._beforeFetch&&await m._beforeFetch(t,s),y=await fetch(i,s),m._afterFetch&&await m._afterFetch(y),e.useProxy||function(e){const t=(0,u.$z)(e);t&&!m._corsServers.includes(t)&&m._corsServers.push(t)}(t),"native"===r.responseType)g=y;else if("HEAD"!==s.method)if(y.ok){switch(l){case"array-buffer":g=await y.arrayBuffer();break;case"blob":case"image":g=await y.blob();break;default:g=await y.text()}if(w&&(clearTimeout(w),w=0),"json"===l||"xml"===l||"document"===l)if(g)switch(l){case"json":g=JSON.parse(g);break;case"xml":g=O(g,"application/xml");break;case"document":g=O(g,"text/html")}else g=null;if(g){if("array-buffer"===l||"blob"===l){const e=y.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&g["blob"===l?"size":"byteLength"]<=750)try{const e=await new Response(g).json();e.error&&(g=e)}catch{}}"image"===l&&g instanceof Blob&&(g=await L(URL.createObjectURL(g),e,!0))}}else{g=await y.text();try{g=JSON.parse(g)}catch{}}}else g=await L(i,e)}catch(M){if("AbortError"===M.name){if(b)throw(0,f.ql)();throw(0,c.NK)("Request canceled")}if(!(!y&&M instanceof TypeError&&_.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||T(t))throw M;e.redoRequest=!0,(0,u.oy)({proxyUrl:_.proxyUrl,urlPrefix:(0,u.$z)(t)??""})}finally{w&&clearTimeout(w)}return[y,g]}async function I(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(i){r=E("request:interceptor",i,t)}if((n instanceof Error||n instanceof s.A)&&(r=E("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}function O(e,t){let i;try{i=(new DOMParser).parseFromString(e,t)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}m._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],m._beforeFetch=void 0,m._afterFetch=void 0;const R=new Map;async function N(e){let t,i;await async function(e){const t=e.params.url,i=e.params.requestOptions,r=e.controller.signal,s=i.body;let o=null,a=null;if(v&&"HTMLFormElement"in globalThis&&(s instanceof FormData?o=s:s instanceof HTMLFormElement&&(o=new FormData(s))),"string"==typeof s&&(a=s),e.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:"head"===i.method?"HEAD":"GET",mode:"cors",priority:_.priority,redirect:"follow",signal:r},(o||a)&&(e.fetchOptions.body=o||a),(g||"anonymous"===i.authMode)&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||i.query?.token||o?.get("token")),!e.hasToken){const r=(0,p.CG)(t);r&&(i.query??={},i.query.token=r,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!P(t)&&!(0,c.G4)(r)){let s;"immediate"===i.authMode?(await x(),s=await n.id.getCredential(t,{signal:r})):"no-prompt"===i.authMode?(await x(),s=await n.id.getCredential(t,{prompt:!1,signal:r}).catch((()=>{}))):n.id&&(s=n.id.findCredential(t)),s&&(e.credential=s,e.credentialToken=s.token,e.useSSL=!!s.ssl)}}(e);try{do{[t,i]=await C(e)}while(!await k(e,t,i))}catch(o){const i=E("request:server",o,e.params,t);throw i.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(i),i}const r=e.params.url;if(i)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!e.hasToken&&!e.credentialToken&&i.user?.username&&!(0,u.FL)(r)){const e=(0,u.$z)(r,!0);e&&_.trustedServers.push(e)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&(0,f.tz)(i.authorizedCrossOriginNoCorsDomains)}else"json"===(e.params.requestOptions.responseType||"json")&&(0,f.gS)(r,i);const s=e.credential;if(s&&n.id){const e=n.id.findServerInfo(s.server);let t=e?.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=n.id.findCredential(t,s.userId);e&&-1===n.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:i,getAllHeaders:t?()=>Array.from(t.headers):A,getHeader:t?e=>t.headers.get(e):A,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function k(e,t,i){if(e.redoRequest)return e.redoRequest=!1,!1;const r=e.params.requestOptions;if(!t||"native"===r.responseType||"native-request-init"===r.responseType)return!0;let s,o;if(i&&(i.error&&"object"==typeof i.error?s=i.error:"error"===i.status&&Array.isArray(i.messages)&&(s={...i},s[S]=i,s.details=i.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[S]=i,s;let a,l=null;s&&(o=Number(s.code),l=s.hasOwnProperty("subcode")?Number(s.subcode):null,a=s.messageCode,a=a?.toUpperCase());const c=r.authMode;if(403===o&&(4===l||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==c||498===o)&&void 0!==o&&w.has(o)&&!P(e.params.url)&&(403!==o||(!a||!b.has(a))&&(null==l||2===l&&e.credentialToken))){await x();try{const t=await n.id.getCredential(e.params.url,{error:E("request:server",s,e.params),credential:e.credential,prompt:"no-prompt"!==c,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(u){if("no-prompt"===c)return e.credential=void 0,e.credentialToken=void 0,!1;s=u}}if(s)throw s;return!0}function L(e,t,i=!1){const r=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=_.priority,n.src=e,(0,f.Sx)(n,e,i,r)}},45355:(e,t,i)=>{"use strict";i.d(t,{V:()=>s,X:()=>n});var r=i(1171);function n(e){return{geometryType:(0,r.$B)(e[0]),geometries:e.map((e=>e.toJSON()))}}function s(e,t,i){const n=(0,r.xD)(t);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=i,t}))}},44146:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(66866),n=i(24793),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=class extends(n.A.ClonableMixin(s.A)){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};(0,r._)([(0,o.MZ)({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],l.prototype,"onFields",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"operator",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"searchTerm",void 0),(0,r._)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"searchType",void 0),l=(0,r._)([(0,a.$)("esri.rest.support.FullTextSearch")],l);const c=l},19925:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r,n=i(66866),s=i(59851),o=i(21877),a=i(19251),l=i(21564),c=(i(39831),i(539),i(63863)),u=i(84698);const h=new s.J({upperLeft:"upper-left",lowerLeft:"lower-left"});let d=r=class extends o.A{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new r((0,a.o8)({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};(0,n._)([(0,l.MZ)({type:u.A,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"extent",void 0),(0,n._)([(0,l.MZ)({type:["view","edit"],json:{write:!0}})],d.prototype,"mode",void 0),(0,n._)([(0,l.MZ)({type:String,json:{read:h.read,write:h.write}})],d.prototype,"originPosition",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],d.prototype,"tolerance",void 0),d=r=(0,n._)([(0,c.$)("esri.rest.support.QuantizationParameters")],d)},14474:(e,t,i)=>{"use strict";i.d(t,{A:()=>T});var r,n=i(66866),s=i(59851),o=i(21877),a=i(19251),l=i(21564),c=i(4130),u=i(28902),h=i(63863),d=i(77542),p=i(73446),f=i(97066),m=i(78983),y=i(1171),g=i(12433),_=i(44360),v=i(44146),w=i(19925),b=i(66723),M=i(41969),A=i(17197);const S=new s.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let T=class extends o.A{static{r=this}static from(e){return(0,p.PZ)(r,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const i={};for(const t in e){const r=e[t];Array.isArray(r)?i[t]=r.map((e=>e instanceof Date?e.getTime():e)):r instanceof Date?i[t]=r.getTime():i[t]=r}t.parameterValues=i}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new r((0,a.o8)({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}static{this.MAX_MAX_RECORD_COUNT_FACTOR=5}};(0,n._)([(0,l.MZ)({json:{write:!0}})],T.prototype,"aggregateIds",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],T.prototype,"cacheHint",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"compactGeometryEnabled",void 0),(0,n._)([(0,l.MZ)({json:{write:!0}})],T.prototype,"datumTransformation",void 0),(0,n._)([(0,c.w)("datumTransformation")],T.prototype,"castDatumTransformation",null),(0,n._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"defaultSpatialReferenceEnabled",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],T.prototype,"distance",void 0),(0,n._)([(0,l.MZ)({type:_.L,json:{write:!0}})],T.prototype,"dynamicDataSource",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],T.prototype,"formatOf3DObjects",void 0),(0,n._)([(0,l.MZ)({type:[v.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],T.prototype,"fullText",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],T.prototype,"gdbVersion",void 0),(0,n._)([(0,l.MZ)({types:g.yR,json:{read:y.rS,write:!0}})],T.prototype,"geometry",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],T.prototype,"geometryPrecision",void 0),(0,n._)([(0,l.MZ)({type:[String],json:{write:!0}})],T.prototype,"groupByFieldsForStatistics",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],T.prototype,"having",void 0),(0,n._)([(0,l.MZ)({type:Date})],T.prototype,"historicMoment",void 0),(0,n._)([(0,d.K)("historicMoment")],T.prototype,"writeHistoricMoment",null),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],T.prototype,"maxAllowableOffset",void 0),(0,n._)([(0,l.MZ)({type:Number,cast:e=>e<1?1:e>T.MAX_MAX_RECORD_COUNT_FACTOR?T.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],T.prototype,"maxRecordCountFactor",void 0),(0,n._)([(0,l.MZ)({type:["xyFootprint"],json:{write:!0}})],T.prototype,"multipatchOption",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0),(0,n._)([(0,l.MZ)({json:{write:!0}})],T.prototype,"objectIds",void 0),(0,n._)([(0,l.MZ)({type:[String],json:{write:!0}})],T.prototype,"orderByFields",void 0),(0,n._)([(0,l.MZ)({type:[String],json:{write:!0}})],T.prototype,"outFields",void 0),(0,n._)([(0,l.MZ)({type:m.A,json:{name:"outSR",write:!0}})],T.prototype,"outSpatialReference",void 0),(0,n._)([(0,l.MZ)({type:[M.A],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],T.prototype,"outStatistics",void 0),(0,n._)([(0,l.MZ)({json:{write:!0}})],T.prototype,"parameterValues",void 0),(0,n._)([(0,d.K)("parameterValues")],T.prototype,"writeParameterValues",null),(0,n._)([(0,l.MZ)({type:f.A,json:{write:!0}})],T.prototype,"pixelSize",void 0),(0,n._)([(0,l.MZ)({type:w.A,json:{write:!0}})],T.prototype,"quantizationParameters",void 0),(0,n._)([(0,l.MZ)({type:[Object],json:{write:!0}})],T.prototype,"rangeValues",void 0),(0,n._)([(0,l.MZ)({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],T.prototype,"relationParameter",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],T.prototype,"resultType",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnCentroid",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnDistinctValues",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{default:!0,write:!0}})],T.prototype,"returnExceededLimitFeatures",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],T.prototype,"returnGeometry",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnQueryGeometry",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnM",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],T.prototype,"returnZ",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],T.prototype,"returnTrueCurves",void 0),(0,n._)([(0,l.MZ)({type:m.A,json:{write:!0}})],T.prototype,"sourceSpatialReference",void 0),(0,n._)([(0,u.e)(b.x,{ignoreUnknown:!1,name:"spatialRel"})],T.prototype,"spatialRelationship",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{read:{source:"resultOffset"}}})],T.prototype,"start",void 0),(0,n._)([(0,d.K)("start"),(0,d.K)("num")],T.prototype,"writeStart",null),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],T.prototype,"sqlFormat",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],T.prototype,"text",void 0),(0,n._)([(0,l.MZ)({type:A.T,json:{write:!0}})],T.prototype,"timeExtent",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"timeReferenceUnknownClient",void 0),(0,n._)([(0,u.e)(S,{ignoreUnknown:!1}),(0,l.MZ)({json:{write:{overridePolicy(e){return{enabled:!!e&&null!=this.distance}}}}})],T.prototype,"units",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||null!=this.start&&this.start>0}}}}})],T.prototype,"where",void 0),(0,n._)([(0,d.K)("where")],T.prototype,"writeWhere",null),T=r=(0,n._)([(0,h.$)("esri.rest.support.Query")],T)},41969:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r,n=i(66866),s=i(59851),o=i(21877),a=i(19251),l=i(21564),c=(i(39831),i(539),i(63863)),u=i(77542);const h=new s.J({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let d=r=class extends o.A{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=(0,a.o8)(e))}clone(){return new r({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:(0,a.o8)(this.statisticParameters)})}};(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],d.prototype,"maxPointCount",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],d.prototype,"maxRecordCount",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],d.prototype,"maxVertexCount",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],d.prototype,"onStatisticField",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],d.prototype,"outStatisticFieldName",void 0),(0,n._)([(0,l.MZ)({type:String,json:{read:{source:"statisticType",reader:h.read},write:{target:"statisticType",writer:h.write}}})],d.prototype,"statisticType",void 0),(0,n._)([(0,l.MZ)({type:Object})],d.prototype,"statisticParameters",void 0),(0,n._)([(0,u.K)("statisticParameters")],d.prototype,"writeStatisticParameters",null),d=r=(0,n._)([(0,c.$)("esri.rest.support.StatisticDefinition")],d)},66723:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});const r=new(i(59851).J)({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"})},11499:(e,t,i)=>{"use strict";i.d(t,{Dl:()=>c,gf:()=>h,jV:()=>l,lF:()=>u});var r=i(21121),n=i(28830),s=i(19251),o=i(20909),a=i(71647);function l(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function c(e){return"string"==typeof e?(0,o.An)(e):(0,s.o8)(e)}function u(e,t,i){const r={};for(const n in e){if("declaredClass"===n)continue;const s=e[n];if(null!=s&&"function"!=typeof s)if(Array.isArray(s))r[n]=s.map((e=>u(e)));else if("object"==typeof s)if(s.toJSON){const e=s.toJSON(i?.[n]);r[n]=t?e:JSON.stringify(e)}else r[n]=t?s:JSON.stringify(s);else r[n]=s}return r}async function h(e,t,s){const o=function(e,t){return e?t&&(0,a.Qc)(e)?t:(0,a.CG)(e)??n.id?.findCredential(e)?.token:null}(e,t);if(o)return o;!n.id&&r.A.request.useIdentity&&await i.e(31373).then(i.bind(i,31373));const l=await n.id.getCredential(e,s);return l?.token}},91394:(e,t,i)=>{"use strict";i.d(t,{Y:()=>c});var r=i(66866),n=i(25707),s=(i(539),i(73446)),o=(i(39831),i(9272),i(98849),i(64996)),a=i(63863),l=i(8651);let c=class extends l.X{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};(0,r._)([(0,o.u)({Type:n.A,ensureType:(0,s.dp)(n.A)})],c.prototype,"itemType",void 0),c=(0,r._)([(0,a.$)("esri.support.GraphicsCollection")],c)},82576:(e,t,i)=>{"use strict";i.d(t,{Q:()=>d});var r=i(66866),n=i(48982),s=i(4194),o=i(539),a=i(40189),l=i(21564),c=(i(39831),i(9272),i(63863)),u=i(68833);function h(e,t,i){let r,n;if(e)for(let s=0,o=e.length;s<o;s++){if(r=e.at(s),r?.[t]===i)return r;if("group"===r?.type&&(n=h(r.layers,t,i),n))return n}}const d=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new n.A;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||o.A.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},i=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on("before-add",(e=>{if(e.item===this)return e.preventDefault(),void o.A.getLogger(this).error("#add()","Cannot add layer to itself.");(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item)})),this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>i(e.item)))])}destroy(){const e=this.layers.toArray();for(const t of e)t.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,s.V)(e,this._get("layers")))}add(e,t){const i=this.layers;if(t=i.getNextIndex(t),e instanceof u.A){const r=e;r.parent===this?this.reorder(r,t):i.add(r,t)}else(0,a.$X)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):o.A.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const i=this.layers;let r=i.getNextIndex(t);e.slice().forEach((e=>{e.parent!==this?(i.add(e,r),r+=1):this.reorder(e,r)}))}findLayerById(e){return h(this.layers,"id",e)}findLayerByUid(e){return h(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return(0,r._)([(0,l.MZ)()],t.prototype,"layers",null),t=(0,r._)([(0,c.$)("esri.support.LayersMixin")],t),t}},18437:(e,t,i)=>{"use strict";i.d(t,{l:()=>h});var r=i(66866),n=i(48982),s=i(4194),o=i(539),a=i(21564),l=(i(39831),i(9272),i(63863));const c=new Set(["feature","subtype-group"]);function u(e,t,i){if(e)for(let r=0,n=e.length;r<n;r++){const n=e.at(r);if(n[t]===i)return n;if("group"===n?.type){const e=u(n.tables,t,i);if(e)return e}}}const h=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new n.A,this.addHandles([this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,c.has(t.type)||o.A.getLogger(this).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))])}destroy(){const e=this.tables.toArray();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",(0,s.V)(e,this._get("tables")))}findTableById(e){return u(this.tables,"id",e)}findTableByUid(e){return u(this.tables,"uid",e)}};return(0,r._)([(0,a.MZ)()],t.prototype,"tables",null),t=(0,r._)([(0,l.$)("esri.support.TablesMixin")],t),t}},44072:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r,n=i(66866),s=i(52495),o=i(65667),a=i(21564),l=(i(39831),i(539),i(9272),i(63863));let c=r=class extends(o.A.IdentifiableMixin(s.A)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};(0,n._)([(0,a.MZ)()],c.prototype,"active",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"className",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"disabled",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"icon",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"id",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"indicator",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"title",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"type",void 0),(0,n._)([(0,a.MZ)()],c.prototype,"visible",void 0),c=r=(0,n._)([(0,l.$)("esri.support.actions.ActionBase")],c);const u=c},88121:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(44072);let l=r=class extends a.A{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};(0,n._)([(0,s.MZ)()],l.prototype,"image",void 0),l=r=(0,n._)([(0,o.$)("esri.support.actions.ActionButton")],l);const c=l},67241:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(44072);let l=r=class extends a.A{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new r({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};(0,n._)([(0,s.MZ)()],l.prototype,"image",void 0),(0,n._)([(0,s.MZ)()],l.prototype,"value",void 0),l=r=(0,n._)([(0,o.$)("esri.support.actions.ActionToggle")],l);const c=l},71647:(e,t,i)=>{"use strict";i.d(t,{CG:()=>o,Dd:()=>a,Jn:()=>l,Qc:()=>c});var r=i(21121),n=i(20909);const s=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function o(e){if(!c(e))return null;const t=t=>t instanceof RegExp?t.test(e):"string"==typeof t&&e.startsWith(t),i=r.A.apiKeys;if(Array.isArray(i.scopes))for(const r of i.scopes)if(Array.isArray(r.urls)){if(r.urls.some(t))return r.token}else if(t(r.urls))return r.token;return i.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?i.basemapStyles:r.A.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?r.A.apiKey:null}function a(){return null!=r.A.apiKey||null!=r.A.apiKeys.basemapStyles}function l(e,t){return t?c(e):null!=o(e)}function c(e){const t=(0,n.$z)(e,!0);return!!t&&!s.has(t)&&!e.endsWith("/sharing/rest/generateToken")}},11868:(e,t,i)=>{"use strict";function r(e){if(!e)return;const t=e.match(n);return t?.groups?t.groups.doubleQuoted??t.groups.singleQuoted??t.groups.dotNotation:void 0}i.d(t,{D:()=>s,o:()=>r});const n=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function s(e){return e.match(o)?.[1]?.replace(/\\'/g,"'")??null}const o=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/},23223:(e,t,i)=>{"use strict";function r(e){const t=atob(e),i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i.buffer}function n(e){const t=new Uint8Array(e);let i="";for(let r=0;r<t.length;r++)i+=String.fromCharCode(t[r]);return btoa(i)}i.d(t,{M:()=>r,Y:()=>n})},84910:(e,t,i)=>{"use strict";i.d(t,{H:()=>o,q:()=>s});var r=i(99050),n=i(15131);async function s(e){if(!e)return;const t=e.includes("-vector")?e.slice(0,e.indexOf("-vector")):e.includes("-3d")?e.slice(0,e.indexOf("-3d")):e,i=await(0,n.ud)("esri/t9n/basemaps");return i[e]||i[t]}const o={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return(0,r.s)("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}}},66488:(e,t,i)=>{"use strict";i.d(t,{VC:()=>u,es:()=>d,jj:()=>h});var r=i(58556),n=(i(48982),i(539)),s=i(6267),o=i(73446),a=i(71647),l=i(84910);i(30405);const c=()=>n.A.getLogger("esri.support.basemapUtils");function u(){return{}}function h(e){for(const t in e){const i=e[t];(0,s.pR)(i),delete e[t]}}function d(e,t){let i;if("string"==typeof e){const n=e in l.H,s=!n&&e.includes("/");if(!n&&!s){if((0,a.Dd)())c().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const t=Object.entries(l.H).filter((([e,t])=>t.classic||t.is3d)).map((([e])=>`"${e}"`)).sort().join(", ");c().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`)}return null}t&&(i=t[e]),i||(i=n?r.default.fromId(e):new r.default({style:{id:e}}),t&&(t[e]=i))}else i=(0,o.dp)(r.default,e);return i?.destroyed&&(c().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}},30405:(e,t,i)=>{"use strict";i.d(t,{$P:()=>l,hA:()=>S,jU:()=>d,n8:()=>p,sG:()=>u,t5:()=>c});var r=i(48982),n=i(6267),s=i(20909),o=i(57922),a=i(84910);function l(e){return"Web Scene"===e.portalItem?.type||e.referenceLayers.some((e=>"scene"===e.type))}function c(e){return!!e?.portalItem?.tags?.some((e=>"beta"===e.toLowerCase()))}function u(e,t){const i=e.allLayerViews.find((e=>e.uid===t));return i?.layer.parent===e.map?.basemap}let h;function d(e,t){return e===t||(null!=e?.portalItem?.id&&e.portalItem.id===t?.portalItem?.id||"equal"===w(f(e),f(t),{mustMatchReferences:!0}))}function p(e,t){if(null==t||null==e)return{spatialReference:null,updating:!1};if("not-loaded"===t.loadStatus)return t.load(),{spatialReference:null,updating:!0};if(t.spatialReference)return{spatialReference:t.spatialReference,updating:!1};if(0===t.baseLayers.length)return{spatialReference:null,updating:!1};const i=t.baseLayers.at(0);switch(i.loadStatus){case"not-loaded":i.load();case"loading":return{spatialReference:null,updating:!0};case"failed":return{spatialReference:null,updating:!1}}const r=(("supportedSpatialReferences"in i?i.supportedSpatialReferences:null)||["tileInfo"in i?i.tileInfo?.spatialReference:i.spatialReference]).filter(Boolean),n=e.spatialReference;return n?{spatialReference:r.find((e=>n.equals(e)))??r[0]??null,updating:!1}:{spatialReference:r[0],updating:!1}}function f(e){return e?!e.loaded&&e.resourceInfo?_(e.resourceInfo.data):{baseLayers:m(e.baseLayers),referenceLayers:m(e.referenceLayers)}:null}function m(e){return(r.A.isCollection(e)?e.toArray():e).map(y)}function y(e){return{type:e.type,effect:"effect"in e?e.effect:void 0,url:A("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||null==e.sublayers?void 0:e.sublayers?.map((e=>({id:e.id,visible:e.visible}))),activeLayerId:"wmts"===e.type?e.activeLayer?.id:void 0}}function g(e){return e.isReference||"ArcGISSceneServiceLayer"===e.layerType}function _(e){return e?{baseLayers:v((e.baseMapLayers??[]).filter((e=>!g(e)))),referenceLayers:v((e.baseMapLayers??[]).filter((e=>g(e))))}:null}function v(e){return e.map((e=>function(e){let t;switch(e.layerType){case"VectorTileLayer":t="vector-tile";break;case"ArcGISTiledMapServiceLayer":t="tile";break;case"ArcGISSceneServiceLayer":t="scene";break;default:t="unknown"}return{type:t,effect:e.effect,url:A(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}(e)))}function w(e,t,i){return null!=e!=(null!=t)?"not-equal":e&&t?b(e.baseLayers,t.baseLayers)?b(e.referenceLayers,t.referenceLayers)?"equal":i.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function b(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!M(e[i],t[i]))return!1;return!0}function M(e,t){if(e.type!==t.type||e.url!==t.url||e.minScale!==t.minScale||e.maxScale!==t.maxScale||e.visible!==t.visible||e.opacity!==t.opacity)return!1;if(!(0,o.J2)(e.effect,t.effect))return!1;if(null!=e.activeLayerId||null!=t.activeLayerId)return e.activeLayerId===t.activeLayerId;if(null!=e.sublayers||null!=t.sublayers){if(null==e.sublayers||null==t.sublayers||e.sublayers.length!==t.sublayers.length)return!1;for(let i=0;i<e.sublayers.length;i++){const r=e.sublayers.at(i),n=t.sublayers.at(i);if(r?.id!==n?.id||r?.visible!==n?.visible)return!1}}return!0}function A(e){return e?(0,s.S8)(e).replace(/^\s*https?:/i,"").toLowerCase():""}function S(e){if(!e)return null;const{thumbnailUrl:t}=e;if(t)return t;const i=function(e){if(h)return h(e);let t=null;const i=f(e),r=!i?.baseLayers.length;for(const n in a.H){const e=w(i,_(a.H[n]),{mustMatchReferences:r});if("equal"===e){t=n;break}"base-layers-equal"===e&&(t=n)}return t}(e);return i?a.H[i].thumbnailUrl:(0,n.Pb)(e.baseLayers,T)}function T(e){return"portalItem"in e?e.portalItem?.thumbnailUrl:void 0}},62090:(e,t,i)=>{"use strict";i.d(t,{X:()=>s,Z:()=>n});var r=i(14798);function n(e){return new r.A({getCollections:()=>[e.tables,e.layers],getChildrenFunction:e=>{const t=[];return"tables"in e&&t.push(e.tables),"layers"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&"tables"in t&&t.tables.includes(e)}})}function s(e){for(const t of e.values())t?.destroy();e.clear()}},28530:(e,t,i)=>{"use strict";i.d(t,{UE:()=>d,Xi:()=>h,gz:()=>p});var r=i(6267),n=i(8701),s=i(34495);const o="HH:mm",a="HH:mm:ss",l="HH:mm:ss.SSS",c=[l,a,o,"TT"],u="yyyy-MM-dd";function h(e){if(!e||!(0,n.Kg)(e))return null;const t=s.c9.fromFormat(e,u);return t.isValid?t:null}function d(e){return e&&(0,n.Kg)(e)?(0,r.Pb)(c,(t=>{const i=s.c9.fromFormat(e,t);return i.isValid?i:null}))??null:null}function p(e){if(!e||!(0,n.Kg)(e))return null;const t=s.c9.fromISO(e);return t.isValid?t:null}},8701:(e,t,i)=>{"use strict";function r(e){return"number"==typeof e}function n(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function s(e){return"boolean"==typeof e}function o(e){return"string"==typeof e||e instanceof String}function a(e){return null==e||o(e)}function l(e){return Array.isArray(e)}function c(e){return"esri.Graphic"===e?.declaredClass}function u(e){return e instanceof Date}i.d(t,{$P:()=>u,CO:()=>a,DU:()=>c,Et:()=>r,Fq:()=>n,Kg:()=>o,Lm:()=>s,cy:()=>l})},35387:(e,t,i)=>{"use strict";let r;function n(){return r||(r=(async()=>{const[e,t,r]=await Promise.all([Promise.all([i.e(72076),i.e(46826),i.e(85642),i.e(54376),i.e(35887)]).then(i.bind(i,85152)),i.e(6697).then(i.bind(i,6697)),Promise.all([i.e(72076),i.e(85642),i.e(34923)]).then(i.bind(i,68062))]);return{arcade:e.arcade,arcadeUtils:e,batchExec:t,aiServices:r,Dictionary:e.Dictionary,Feature:e.arcadeFeature,Voxel:e.Voxel}})()),r}i.d(t,{l:()=>n})},67923:(e,t,i)=>{"use strict";i.d(t,{Bj:()=>u,Tu:()=>h,ud:()=>c});const r="calcite-mode-",n="dark",s="light",o=/\W/g,a="--esri-calcite-mode-name";function l(){return getComputedStyle(document.body).getPropertyValue(a).replaceAll(o,"").toLowerCase()}function c(){return l()===n}function u(){const e=l();switch(e){case n:case s:return`${r}${e}`;default:return null}}function h(e){const t=u();t&&(d(e),e.classList.add(t))}function d(e){Array.from(e.classList).forEach((t=>{t.startsWith(r)&&e.classList.remove(t)}))}},89125:(e,t,i)=>{"use strict";i.d(t,{$x:()=>v,Sx:()=>c,c8:()=>p,gS:()=>_,m3:()=>y,ql:()=>d,tz:()=>f,xW:()=>m});var r=i(21121),n=i(39831),s=i(40189),o=i(20909),a=i(16123),l=i(11210);function c(e,t,i=!1,r){return new Promise(((o,a)=>{if((0,s.G4)(r))return void a(u());let l=()=>{d(),a(new Error(`Unable to load ${t}`))},c=()=>{const t=e;d(),o(t)},h=()=>{if(!e)return;const t=e;d(),t.src="",a(u())};const d=()=>{(0,n.A)("esri-image-decode")||(e.removeEventListener("error",l),e.removeEventListener("load",c)),l=null,c=null,e=null,null!=r&&r.removeEventListener("abort",h),h=null,i&&URL.revokeObjectURL(t)};null!=r&&r.addEventListener("abort",h),(0,n.A)("esri-image-decode")?e.decode().then(c,l):(e.addEventListener("error",l),e.addEventListener("load",c))}))}function u(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const h="Timeout exceeded";function d(){return new Error(h)}function p(e){return"object"==typeof e&&!!e&&"message"in e&&e.message===h}function f(e){r.A.request.crossOriginNoCorsDomains||(r.A.request.crossOriginNoCorsDomains={});const t=r.A.request.crossOriginNoCorsDomains;for(let i of e)i=i.toLowerCase(),/^https?:\/\//.test(i)?t[(0,o.$z)(i)??""]=0:(t[(0,o.$z)("http://"+i)??""]=0,t[(0,o.$z)("https://"+i)??""]=0)}function m(e){const t=r.A.request.crossOriginNoCorsDomains;if(t){let i=(0,o.$z)(e);if(i)return i=i.toLowerCase(),!(0,o.FX)(i,(0,o.Xq)())&&t[i]<Date.now()-36e5}return!1}async function y(e){const t=(0,o.An)(e);e=t.path,"json"===t.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const i=r.A.request.crossOriginNoCorsDomains,n=(0,o.$z)(e);i&&n&&(i[n.toLowerCase()]=Date.now())}const g=new Map;function _(e,t){const i=t?.preferredHost;if(!i||(0,o.FX)(e,`https://${i}`,!0))return;const r=(0,a.qg)(e);if(!r||"FeatureServer"!==r.serverType||(0,l.$E)(e))return;const n=r.url.path.toLowerCase();g.has(n)||g.set(n,i)}function v(e){const t=(0,a.qg)(e)?.url.path.toLowerCase();if(!t)return e;const i=g.get(t);return i?(0,o.hf)(e,i):e}},38246:(e,t,i)=>{"use strict";i.d(t,{$:()=>r,u:()=>n});const r="20250708",n="3f313cd890df21896088a60e19e9d26665f8c30f"},54394:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var r,n=i(66866),s=i(19251),o=i(96274),a=i(21564),l=(i(39831),i(539),i(28902)),c=i(75094),u=i(63863),h=i(77542),d=i(42453),p=i(77441);let f=r=class extends p.A{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if("CIMSymbolReference"===this.data?.type){const i=this.data.primitiveOverrides;if(i){const r=i.map((i=>{const r=i.valueExpressionInfo;return r?(0,d.Dx)(e,t,r.expression):null}));await Promise.all(r)}}}clone(){return new r({data:(0,s.o8)(this.data)})}hash(){return(0,o.Wm)(JSON.stringify(this.data)).toString()}};(0,n._)([(0,a.MZ)({json:{write:!1}})],f.prototype,"color",void 0),(0,n._)([(0,a.MZ)({json:{write:!0}})],f.prototype,"data",void 0),(0,n._)([(0,c.w)("data",["symbol"])],f.prototype,"readData",null),(0,n._)([(0,h.K)("data",{})],f.prototype,"writeData",null),(0,n._)([(0,l.e)({CIMSymbolReference:"cim"},{readOnly:!0})],f.prototype,"type",void 0),f=r=(0,n._)([(0,u.$)("esri.symbols.CIMSymbol")],f)},96354:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(28902)),a=i(63863),l=i(44029),c=i(62848),u=i(5159);let h=class extends l.A{static{r=this}constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new r({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};(0,n._)([(0,o.e)({Extrude:"extrude"},{readOnly:!0})],h.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],h.prototype,"size",void 0),(0,n._)([(0,s.MZ)({type:u.N,json:{write:!0}})],h.prototype,"material",void 0),(0,n._)([(0,s.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],h.prototype,"castShadows",void 0),(0,n._)([(0,s.MZ)(c.J)],h.prototype,"edges",void 0),h=r=(0,n._)([(0,a.$)("esri.symbols.ExtrudeSymbol3DLayer")],h)},76672:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(66866),n=i(21564),s=(i(39831),i(539),i(9272),i(63863)),o=i(40241),a=i(77441);let l=class extends a.A{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};(0,r._)([(0,n.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":o.A}},json:{default:null,write:!0}})],l.prototype,"outline",void 0),(0,r._)([(0,n.MZ)({type:["simple-fill","picture-fill"],readOnly:!0})],l.prototype,"type",void 0),l=(0,r._)([(0,s.$)("esri.symbols.FillSymbol")],l)},88506:(e,t,i)=>{"use strict";i.d(t,{A:()=>S});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(28902)),a=i(63863),l=i(44029),c=i(62848),u=i(23039),h=i(58722),d=i(76496),p=i(28377),f=(i(98849),i(5159));let m=r=class extends f.N{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new r(e)}};(0,n._)([(0,o.e)({multiply:"multiply",replace:"replace",tint:"tint"})],m.prototype,"colorMixMode",void 0),m=r=(0,n._)([(0,a.$)("esri.symbols.support.Symbol3DFillMaterial")],m);var y,g=i(96220),_=i(21877),v=i(89882),w=i(59427),b=i(97728);let M=y=class extends _.A{constructor(e){super(e),this.color=new g.A([0,0,0,1]),this.size=(0,v.PN)(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new y(e)}};var A;(0,n._)([(0,s.MZ)((0,w.EW)({colorRequiredOnWrite:!0}))],M.prototype,"color",void 0),(0,n._)([(0,s.MZ)({...w.pI,json:{write:{isRequired:!0}}})],M.prototype,"size",void 0),(0,n._)([(0,s.MZ)(d.v)],M.prototype,"pattern",void 0),(0,n._)([(0,s.MZ)({type:b.M4,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],M.prototype,"patternCap",void 0),M=y=(0,n._)([(0,a.$)("esri.symbols.support.Symbol3DOutline")],M);let S=class extends l.A{static{A=this}constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new A(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&"solid"!==e.outline.style?new u.A({style:e.outline.style}):null,i={size:e.outline?.width??0,color:(e.outline?.color??p.ON).clone(),pattern:t};return t&&e.outline?.cap&&(i.patternCap=e.outline.cap),new A({material:new m({color:(e.color??p.u7).clone()}),pattern:e.style&&"solid"!==e.style?new h.A({style:e.style}):null,outline:i})}};(0,n._)([(0,o.e)({Fill:"fill"},{readOnly:!0})],S.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:m,json:{write:!0}})],S.prototype,"material",void 0),(0,n._)([(0,s.MZ)(d.r)],S.prototype,"pattern",void 0),(0,n._)([(0,s.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],S.prototype,"castShadows",void 0),(0,n._)([(0,s.MZ)({type:M,json:{write:!0}})],S.prototype,"outline",void 0),(0,n._)([(0,s.MZ)(c.J)],S.prototype,"edges",void 0),S=A=(0,n._)([(0,a.$)("esri.symbols.FillSymbol3DLayer")],S)},60340:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r,n=i(66866),s=i(21877),o=i(89882),a=i(21564),l=i(4130),c=(i(39831),i(9272),i(63863)),u=i(51481);let h=r=class extends s.A{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return(0,o.cr)(e)}clone(){return new r({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};(0,n._)([(0,a.MZ)({type:u.h9,json:{default:"none",write:!0}})],h.prototype,"decoration",void 0),(0,n._)([(0,a.MZ)({type:String,json:{write:!0}})],h.prototype,"family",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{write:{overridePolicy:(e,t,i)=>({enabled:!i||!i.textSymbol3D})}}})],h.prototype,"size",void 0),(0,n._)([(0,l.w)("size")],h.prototype,"castSize",null),(0,n._)([(0,a.MZ)({type:u._R,json:{default:"normal",write:!0}})],h.prototype,"style",void 0),(0,n._)([(0,a.MZ)({type:u.NM,json:{default:"normal",write:!0}})],h.prototype,"weight",void 0),h=r=(0,n._)([(0,c.$)("esri.symbols.Font")],h)},53300:(e,t,i)=>{"use strict";i.d(t,{A:()=>M});var r,n=i(66866),s=i(19251),o=i(539),a=i(20909),l=i(21564),c=(i(39831),i(28902)),u=i(63863),h=i(44029),d=i(28377),p=i(5666),f=i(59427),m=i(15790),y=i(96220),g=i(21877),_=i(89882);i(9272);let v=r=class extends g.A{constructor(e){super(e),this.color=new y.A([0,0,0,1]),this.size=(0,_.PN)(1)}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size};return new r(e)}};(0,n._)([(0,l.MZ)((0,f.EW)({colorRequiredOnWrite:!0}))],v.prototype,"color",void 0),(0,n._)([(0,l.MZ)({...f.pI,json:{write:{isRequired:!0}}})],v.prototype,"size",void 0),v=r=(0,n._)([(0,u.$)("esri.symbols.support.Symbol3DIconOutline")],v);var w,b=i(5159);let M=class extends h.A{static{w=this}constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new w({anchor:this.anchor,anchorPosition:(0,s.o8)(this.anchorPosition),enabled:this.enabled,material:(0,s.o8)(this.material),outline:(0,s.o8)(this.outline),resource:(0,s.o8)(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||d.ON,i=A(e),r=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||d.ON).clone()}:null;return new w({size:e.size,angle:e.angle,resource:{primitive:E((()=>o.A.getLogger(this.prototype)),e.style)},material:{color:t},outline:r,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(e){const t=!e.color||(0,d.U9)(e.color)?d.ON:e.color,i=A(e);return new w({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(e){return new w({resource:{href:(0,a.Hg)({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function A(e){const t="width"in e?e.width:e.size,i="height"in e?e.height:e.size,r=S(e.xoffset),n=S(e.yoffset);return(r||n)&&t&&i?{x:-r/t,y:n/i}:null}function S(e){return isFinite(e)?e:0}(0,n._)([(0,l.MZ)({type:b.N,json:{write:!0}})],M.prototype,"material",void 0),(0,n._)([(0,l.MZ)({type:p.i,json:{write:!0}})],M.prototype,"resource",void 0),(0,n._)([(0,c.e)({Icon:"icon"},{readOnly:!0})],M.prototype,"type",void 0),(0,n._)([(0,l.MZ)({...f.pI,json:{write:{isRequired:!0}}})],M.prototype,"size",void 0),(0,n._)([(0,c.e)({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],M.prototype,"anchor",void 0),(0,n._)([(0,l.MZ)({type:m.Q,json:{type:[Number],read:{reader:e=>new m.Q({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],M.prototype,"anchorPosition",void 0),(0,n._)([(0,l.MZ)({type:v,json:{write:!0}})],M.prototype,"outline",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0,default:0}})],M.prototype,"angle",void 0),M=w=(0,n._)([(0,u.$)("esri.symbols.IconSymbol3DLayer")],M);const T={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function E(e,t){return T[t]||(e().warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}},27372:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var r,n=i(66866),s=i(48982),o=i(19251),a=i(21564),l=(i(39831),i(539),i(28902)),c=i(63863),u=i(50626),h=i(85467),d=i(65834),p=i(11195);const f=s.A.ofType({base:null,key:"type",typeMap:{text:h.A}});let m=r=class extends u.A{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new f,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return(0,d.LH)(this)}hasVisibleVerticalOffset(){return(0,d.Yq)(this)}clone(){return new r({styleOrigin:(0,o.o8)(this.styleOrigin),symbolLayers:(0,o.o8)(this.symbolLayers),thumbnail:(0,o.o8)(this.thumbnail),callout:(0,o.o8)(this.callout),verticalOffset:(0,o.o8)(this.verticalOffset)})}static fromTextSymbol(e){return new r({symbolLayers:new s.A([h.A.fromTextSymbol(e)])})}};(0,n._)([(0,a.MZ)({type:p.A,json:{write:!0}})],m.prototype,"verticalOffset",void 0),(0,n._)([(0,a.MZ)(d.oG)],m.prototype,"callout",void 0),(0,n._)([(0,a.MZ)({json:{read:!1,write:!1}})],m.prototype,"styleOrigin",void 0),(0,n._)([(0,a.MZ)({type:f})],m.prototype,"symbolLayers",void 0),(0,n._)([(0,l.e)({LabelSymbol3D:"label-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=r=(0,n._)([(0,c.$)("esri.symbols.LabelSymbol3D")],m)},68324:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var r,n=i(66866),s=i(48982),o=i(19251),a=i(21564),l=(i(39831),i(539),i(28902)),c=i(63863),u=i(93731),h=i(87704),d=i(50626);const p=s.A.ofType({base:null,key:"type",typeMap:{line:u.A,path:h.A}}),f=s.A.ofType({base:null,key:"type",typeMap:{line:u.A,path:h.A}});let m=r=class extends d.A{constructor(e){super(e),this.symbolLayers=new p,this.type="line-3d"}clone(){return new r({styleOrigin:(0,o.o8)(this.styleOrigin),symbolLayers:(0,o.o8)(this.symbolLayers),thumbnail:(0,o.o8)(this.thumbnail)})}static fromSimpleLineSymbol(e){return new r({symbolLayers:new s.A([u.A.fromSimpleLineSymbol(e)])})}};(0,n._)([(0,a.MZ)({type:p,json:{type:f}})],m.prototype,"symbolLayers",void 0),(0,n._)([(0,l.e)({LineSymbol3D:"line-3d"},{readOnly:!0})],m.prototype,"type",void 0),m=r=(0,n._)([(0,c.$)("esri.symbols.LineSymbol3D")],m)},93731:(e,t,i)=>{"use strict";i.d(t,{A:()=>M});var r=i(66866),n=i(89882),s=i(21564),o=(i(39831),i(539),i(9272),i(28902)),a=i(63863),l=i(96220),c=i(24793),u=i(21877),h=i(73446),d=i(71300);let p=class extends(c.A.ClonableMixin(u.A)){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return null!=e&&e.placement===this.placement&&e.style===this.style&&(null==this.color&&null==e.color||null!=this.color&&null!=e.color&&this.color.toJSON()===e.color.toJSON())}};(0,r._)([(0,s.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],p.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:d.x,json:{default:"begin-end",write:!0}})],p.prototype,"placement",void 0),(0,r._)([(0,s.MZ)({type:d.z,json:{default:"arrow",write:!0}})],p.prototype,"style",void 0),(0,r._)([(0,s.MZ)({type:l.A,json:{type:[h.jz],default:null,write:!0}})],p.prototype,"color",void 0),p=(0,r._)([(0,a.$)("esri.symbols.LineStyleMarker3D")],p);var f,m=i(44029),y=i(23039),g=i(76496),_=i(28377),v=i(59427),w=i(5159),b=i(97728);let M=class extends m.A{static{f=this}constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=(0,n.PN)(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new f(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??(0,n.PN)(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new y.A({style:e.style}):null,material:new w.N({color:(e.color||_.ON).clone()}),marker:e.marker?new p({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new f(t)}};(0,r._)([(0,s.MZ)({type:w.N,json:{write:!0}})],M.prototype,"material",void 0),(0,r._)([(0,o.e)({Line:"line"},{readOnly:!0})],M.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:b.e,json:{write:!0,default:"miter"}})],M.prototype,"join",void 0),(0,r._)([(0,s.MZ)({type:b.M4,json:{write:!0,default:"butt"}})],M.prototype,"cap",void 0),(0,r._)([(0,s.MZ)({...v.pI,json:{write:{isRequired:!0}}})],M.prototype,"size",void 0),(0,r._)([(0,s.MZ)(g.v)],M.prototype,"pattern",void 0),(0,r._)([(0,s.MZ)({types:{key:"type",base:p,typeMap:{style:p}},json:{write:!0}})],M.prototype,"marker",void 0),M=f=(0,r._)([(0,a.$)("esri.symbols.LineSymbol3DLayer")],M)},51679:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(66866),n=i(89882),s=i(21564),o=i(73446),a=(i(39831),i(9272),i(63863)),l=i(77441);let c=class extends l.A{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};(0,r._)([(0,s.MZ)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],c.prototype,"angle",void 0),(0,r._)([(0,s.MZ)({type:["simple-marker","picture-marker"],readOnly:!0})],c.prototype,"type",void 0),(0,r._)([(0,s.MZ)({type:Number,cast:n.cr,json:{write:!0}})],c.prototype,"xoffset",void 0),(0,r._)([(0,s.MZ)({type:Number,cast:n.cr,json:{write:!0}})],c.prototype,"yoffset",void 0),(0,r._)([(0,s.MZ)({cast:e=>"auto"===e?e:(0,o.GB)((0,n.cr)(e)),json:{write:!0}})],c.prototype,"size",void 0),c=(0,r._)([(0,a.$)("esri.symbols.MarkerSymbol")],c)},50151:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var r,n=i(66866),s=i(48982),o=i(19251),a=i(21564),l=(i(39831),i(539),i(28902)),c=i(63863),u=i(88506),h=i(50626);const d=s.A.ofType({base:null,key:"type",typeMap:{fill:u.A}});let p=r=class extends h.A{constructor(e){super(e),this.symbolLayers=new d,this.type="mesh-3d"}clone(){return new r({styleOrigin:(0,o.o8)(this.styleOrigin),symbolLayers:(0,o.o8)(this.symbolLayers),thumbnail:(0,o.o8)(this.thumbnail)})}static fromSimpleFillSymbol(e){return new r({symbolLayers:new s.A([u.A.fromSimpleFillSymbol(e)])})}};(0,n._)([(0,a.MZ)({type:d})],p.prototype,"symbolLayers",void 0),(0,n._)([(0,l.e)({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],p.prototype,"type",void 0),p=r=(0,n._)([(0,c.$)("esri.symbols.MeshSymbol3D")],p)},83680:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(28902)),a=i(63863),l=i(44029),c=i(50124),u=i(52495);let h=r=class extends u.A{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new r({x:this.x,y:this.y,z:this.z})}};(0,n._)([(0,s.MZ)({type:Number})],h.prototype,"x",void 0),(0,n._)([(0,s.MZ)({type:Number})],h.prototype,"y",void 0),(0,n._)([(0,s.MZ)({type:Number})],h.prototype,"z",void 0),h=r=(0,n._)([(0,a.$)("esri.symbols.support.Symbol3DAnchorPosition3D")],h);var d,p=i(5159);let f=class extends l.A{static{d=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new d({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};(0,n._)([(0,s.MZ)({type:p.N,json:{write:!0}})],f.prototype,"material",void 0),(0,n._)([(0,s.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],f.prototype,"castShadows",void 0),(0,n._)([(0,s.MZ)({type:c.E,json:{write:!0}})],f.prototype,"resource",void 0),(0,n._)([(0,o.e)({Object:"object"},{readOnly:!0})],f.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],f.prototype,"width",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],f.prototype,"height",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],f.prototype,"depth",void 0),(0,n._)([(0,o.e)({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],f.prototype,"anchor",void 0),(0,n._)([(0,s.MZ)({type:h,json:{type:[Number],read:{reader:e=>new h({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],f.prototype,"anchorPosition",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],f.prototype,"heading",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],f.prototype,"tilt",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],f.prototype,"roll",void 0),(0,n._)([(0,s.MZ)({readOnly:!0})],f.prototype,"isPrimitive",null),f=d=(0,n._)([(0,a.$)("esri.symbols.ObjectSymbol3DLayer")],f)},87704:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r,n=i(66866),s=i(21564),o=(i(39831),i(539),i(9272),i(28902)),a=i(75094),l=i(63863),c=i(44029),u=i(5159),h=i(97728);let d=class extends c.A{static{r=this}constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return null!=e?e:null==t.height&&null!=t.size?t.size:void 0}readHeight(e,t){return null!=e?e:null==t.width&&null!=t.size?t.size:void 0}clone(){return new r({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};(0,n._)([(0,s.MZ)({type:u.N,json:{write:!0}})],d.prototype,"material",void 0),(0,n._)([(0,s.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0),(0,n._)([(0,o.e)({Path:"path"},{readOnly:!0})],d.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:["circle","quad"],json:{write:!0,default:"circle"}})],d.prototype,"profile",void 0),(0,n._)([(0,s.MZ)({type:h.e,json:{write:!0,default:"miter"}})],d.prototype,"join",void 0),(0,n._)([(0,s.MZ)({type:h.Nv,json:{write:!0,default:"butt"}})],d.prototype,"cap",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],d.prototype,"width",void 0),(0,n._)([(0,a.w)("width",["width","size","height"])],d.prototype,"readWidth",null),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],d.prototype,"height",void 0),(0,n._)([(0,a.w)("height",["height","size","width"])],d.prototype,"readHeight",null),(0,n._)([(0,s.MZ)({type:["center","bottom","top"],json:{write:!0,default:"center"}})],d.prototype,"anchor",void 0),(0,n._)([(0,s.MZ)({type:["heading","all"],json:{write:!0,default:"all"}})],d.prototype,"profileRotation",void 0),d=r=(0,n._)([(0,l.$)("esri.symbols.PathSymbol3DLayer")],d)},72001:(e,t,i)=>{"use strict";i.d(t,{A:()=>p});var r,n=i(66866),s=i(19251),o=i(89882),a=i(21564),l=(i(39831),i(539),i(28902)),c=i(75094),u=i(63863),h=i(51679),d=i(20959);let p=r=class extends h.A{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&"string"!=typeof e&&null==e.imageData)return e;const r={};return e&&(r.url=e),null!=t&&(r.width=(0,o.cr)(t)),null!=i&&(r.height=(0,o.cr)(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new r({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",(0,s.o8)(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};(0,n._)([(0,a.MZ)({json:{write:!1}})],p.prototype,"color",void 0),(0,n._)([(0,l.e)({esriPMS:"picture-marker"},{readOnly:!0})],p.prototype,"type",void 0),(0,n._)([(0,a.MZ)(d.ku)],p.prototype,"url",void 0),(0,n._)([(0,a.MZ)(d.k7)],p.prototype,"source",void 0),(0,n._)([(0,a.MZ)({type:Number,cast:o.cr,json:{write:!0}})],p.prototype,"height",void 0),(0,n._)([(0,c.w)("height",["height","size"])],p.prototype,"readHeight",null),(0,n._)([(0,a.MZ)({type:Number,cast:o.cr,json:{write:!0}})],p.prototype,"width",void 0),(0,n._)([(0,a.MZ)({json:{write:!1}})],p.prototype,"size",void 0),p=r=(0,n._)([(0,u.$)("esri.symbols.PictureMarkerSymbol")],p)},66960:(e,t,i)=>{"use strict";i.d(t,{A:()=>v});var r,n=i(66866),s=i(96220),o=i(48982),a=i(19251),l=i(21564),c=(i(39831),i(539),i(28902)),u=i(63863),h=i(53300),d=i(83680),p=i(50626),f=i(85467),m=i(65834),y=i(76550),g=i(11195);const _=o.A.ofType({base:null,key:"type",typeMap:{icon:h.A,object:d.A,text:f.A}});let v=r=class extends p.A{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new _,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return(0,m.LH)(this)}hasVisibleVerticalOffset(){return(0,m.Yq)(this)}clone(){return new r({verticalOffset:(0,a.o8)(this.verticalOffset),callout:(0,a.o8)(this.callout),styleOrigin:(0,a.o8)(this.styleOrigin),symbolLayers:(0,a.o8)(this.symbolLayers),thumbnail:(0,a.o8)(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new r({symbolLayers:new o.A([h.A.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new r({symbolLayers:new o.A([h.A.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){const t=e.data?.symbol?.type;if("CIMPointSymbol"!==t)return null;const i=e.data.symbol;return new r(i?.callout?{symbolLayers:new o.A([h.A.fromCIMSymbol(e)]),callout:new y.A({size:.5,color:new s.A([0,0,0])}),verticalOffset:new g.A({screenLength:40})}:{symbolLayers:new o.A([h.A.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new r({symbolLayers:new o.A([f.A.fromTextSymbol(e)])})}};(0,n._)([(0,l.MZ)({type:g.A,json:{write:!0}})],v.prototype,"verticalOffset",void 0),(0,n._)([(0,l.MZ)(m.oG)],v.prototype,"callout",void 0),(0,n._)([(0,l.MZ)({type:_,json:{origins:{"web-scene":{write:!0}}}})],v.prototype,"symbolLayers",void 0),(0,n._)([(0,c.e)({PointSymbol3D:"point-3d"},{readOnly:!0})],v.prototype,"type",void 0),v=r=(0,n._)([(0,u.$)("esri.symbols.PointSymbol3D")],v)},65216:(e,t,i)=>{"use strict";i.d(t,{A:()=>M});var r,n=i(66866),s=i(48982),o=i(50220),a=i(19251),l=i(539),c=i(85251),u=i(21564),h=(i(39831),i(28902)),d=i(63863),p=i(96354),f=i(88506),m=i(53300),y=i(93731),g=i(83680),_=i(50626),v=i(85467),w=i(83012);const b=s.A.ofType({base:null,key:"type",typeMap:{extrude:p.A,fill:f.A,icon:m.A,line:y.A,object:g.A,text:v.A,water:w.A}});let M=r=class extends _.A{constructor(e){super(e),this.symbolLayers=new b,this.type="polygon-3d"}initialize(){const e=e=>{"line"===e.type&&(0,o.io)(l.A.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),"text"===e.type&&(0,o.io)(l.A.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles((0,c.on)((()=>this.symbolLayers),"after-add",(({item:t})=>e(t)),c.OH))}clone(){return new r({styleOrigin:(0,a.o8)(this.styleOrigin),symbolLayers:(0,a.o8)(this.symbolLayers),thumbnail:(0,a.o8)(this.thumbnail)})}static fromJSON(e){const t=new r;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.at(0).type&&"line"===t.symbolLayers.at(1).type){const i=t.symbolLayers.at(0),r=t.symbolLayers.at(1);!r.enabled||e.symbolLayers?.[1]&&!1===e.symbolLayers[1].enable||(i.outline={size:r.size,color:null!=r.material?r.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new r({symbolLayers:new s.A([f.A.fromSimpleFillSymbol(e)])})}};(0,n._)([(0,u.MZ)({type:b,json:{write:!0}})],M.prototype,"symbolLayers",void 0),(0,n._)([(0,h.e)({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],M.prototype,"type",void 0),M=r=(0,n._)([(0,d.$)("esri.symbols.PolygonSymbol3D")],M)},68882:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var r,n=i(66866),s=i(96220),o=i(59851),a=i(19251),l=i(21564),c=(i(39831),i(539),i(28902)),u=i(63863),h=i(76672),d=i(40241);const p=new o.J({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let f=r=class extends h.A{constructor(...e){super(...e),this.color=new s.A([0,0,0,.25]),this.outline=new d.A,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,i){if(e&&"string"!=typeof e)return e;const r={};return e&&(r.style=e),t&&(r.outline=t),i&&(r.color=i),r}clone(){return new r({color:(0,a.o8)(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};(0,n._)([(0,l.MZ)()],f.prototype,"color",void 0),(0,n._)([(0,l.MZ)()],f.prototype,"outline",void 0),(0,n._)([(0,c.e)({esriSFS:"simple-fill"},{readOnly:!0})],f.prototype,"type",void 0),(0,n._)([(0,l.MZ)({type:p.apiValues,json:{read:p.read,write:p.write}})],f.prototype,"style",void 0),f=r=(0,n._)([(0,u.$)("esri.symbols.SimpleFillSymbol")],f)},40241:(e,t,i)=>{"use strict";i.d(t,{A:()=>M});var r=i(66866),n=i(59851),s=i(19251),o=i(89882),a=i(21564),l=(i(39831),i(539),i(28902)),c=i(63863),u=(i(9272),i(77441));let h=class extends u.A{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};(0,r._)([(0,l.e)({esriSLS:"simple-line"},{readOnly:!0})],h.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:Number,cast:o.cr,json:{write:!0}})],h.prototype,"width",void 0),h=(0,r._)([(0,c.$)("esri.symbols.LineSymbol")],h);var d,p=i(96220),f=i(21877),m=i(75094),y=i(77542),g=i(71300);let _=d=class extends f.A{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,i,r){t[i]="web-map"===r?.origin?"arrow":e}set color(e){this._set("color",e)}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,i,r){"web-map"===r?.origin||(t[i]=e)}clone(){return new d({color:(0,s.o8)(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};(0,r._)([(0,a.MZ)({type:["begin","end","begin-end"],json:{write:!0}})],_.prototype,"placement",void 0),(0,r._)([(0,l.e)({"line-marker":"line-marker"},{readOnly:!0}),(0,a.MZ)({json:{origins:{"web-map":{write:!1}}}})],_.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:g.z})],_.prototype,"style",void 0),(0,r._)([(0,y.K)("style")],_.prototype,"writeStyle",null),(0,r._)([(0,a.MZ)({type:p.A,value:null,json:{write:{allowNull:!0}}})],_.prototype,"color",null),(0,r._)([(0,m.w)("color")],_.prototype,"readColor",null),(0,r._)([(0,y.K)("color")],_.prototype,"writeColor",null),_=d=(0,r._)([(0,c.$)("esri.symbols.LineSymbolMarker")],_);const v=_;var w;const b=new n.J({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let M=w=class extends h{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,i,r,n,s){if(e&&"string"!=typeof e)return e;const a={};return null!=e&&(a.style=e),null!=t&&(a.color=t),null!=i&&(a.width=(0,o.cr)(i)),null!=r&&(a.cap=r),null!=n&&(a.join=n),null!=s&&(a.miterLimit=(0,o.cr)(s)),a}clone(){return new w({color:(0,s.o8)(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};(0,r._)([(0,l.e)({esriSLS:"simple-line"},{readOnly:!0})],M.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:b.apiValues,json:{read:b.read,write:b.write}})],M.prototype,"style",void 0),(0,r._)([(0,a.MZ)({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,i)=>({enabled:"round"!==e&&null==i?.origin})}}})],M.prototype,"cap",void 0),(0,r._)([(0,a.MZ)({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,i)=>({enabled:"round"!==e&&null==i?.origin})}}})],M.prototype,"join",void 0),(0,r._)([(0,a.MZ)({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":v}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],M.prototype,"marker",void 0),(0,r._)([(0,a.MZ)({type:Number,json:{read:!1,write:!1}})],M.prototype,"miterLimit",void 0),M=w=(0,r._)([(0,c.$)("esri.symbols.SimpleLineSymbol")],M)},23369:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var r,n=i(66866),s=i(96220),o=i(59851),a=i(19251),l=i(89882),c=i(21564),u=(i(39831),i(539),i(28902)),h=i(63863),d=i(77542),p=i(51679),f=i(40241);const m=new o.J({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let y=r=class extends p.A{constructor(...e){super(...e),this.color=new s.A([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new f.A}normalizeCtorArgs(e,t,i,r){if(e&&"string"!=typeof e)return e;const n={};return e&&(n.style=e),null!=t&&(n.size=(0,l.cr)(t)),i&&(n.outline=i),r&&(n.color=r),n}writeColor(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new r({angle:this.angle,color:(0,a.o8)(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};(0,n._)([(0,c.MZ)()],y.prototype,"color",void 0),(0,n._)([(0,d.K)("color")],y.prototype,"writeColor",null),(0,n._)([(0,u.e)({esriSMS:"simple-marker"},{readOnly:!0})],y.prototype,"type",void 0),(0,n._)([(0,c.MZ)()],y.prototype,"size",void 0),(0,n._)([(0,c.MZ)({type:m.apiValues,json:{read:m.read,write:m.write}})],y.prototype,"style",void 0),(0,n._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"path",null),(0,n._)([(0,c.MZ)({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":f.A}},json:{default:null,write:!0}})],y.prototype,"outline",void 0),y=r=(0,n._)([(0,h.$)("esri.symbols.SimpleMarkerSymbol")],y)},77441:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r=i(66866),n=i(96220),s=i(59851),o=i(21877),a=i(21564),l=(i(39831),i(539),i(9272),i(75094)),c=i(63863);const u=new s.J({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let h=0,d=class extends o.A{constructor(e){super(e),this.id="sym"+h++,this.type=null,this.color=new n.A([0,0,0,1])}readColor(e){return null!=e?.[0]?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,r._)([(0,a.MZ)({type:u.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:u.write,isRequired:!0}}})],d.prototype,"type",void 0),(0,r._)([(0,a.MZ)({type:n.A,json:{write:{allowNull:!0}}})],d.prototype,"color",void 0),(0,r._)([(0,l.w)("color")],d.prototype,"readColor",null),d=(0,r._)([(0,c.$)("esri.symbols.Symbol")],d)},50626:(e,t,i)=>{"use strict";i.d(t,{A:()=>I});var r=i(66866),n=i(48982),s=i(4194),o=i(539),a=i(20909),l=i(68659),c=i(21564),u=i(4130),h=(i(39831),i(9272),i(75094)),d=i(63863),p=i(77542),f=i(10282),m=i(63680),y=i(96354),g=i(88506),_=i(53300),v=i(93731),w=i(83680),b=i(87704),M=i(77441),A=i(44029),S=i(85467),T=i(83012),E=i(80822),x=i(43937);const P={icon:_.A,object:w.A,line:v.A,path:b.A,fill:g.A,extrude:y.A,text:S.A,water:T.A},C=n.A.ofType({base:A.A,key:"type",typeMap:P,errorContext:"symbol-layer"});let I=class extends M.A{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=t?.type,r=i||n.A;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.constructed&&o.A.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){(0,s.V)(e,this._get("symbolLayers"))}readStyleOrigin(e,t,i){if(e.styleUrl&&e.name){const t=(0,m.f)(e.styleUrl,i);return new E.A({styleUrl:t,name:e.name})}if(e.styleName&&e.name)return new E.A({portal:i?.portal||f.A.getDefault(),styleName:e.styleName,name:e.name});i?.messages&&i.messages.push(new l.A("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:e}))}writeStyleOrigin(e,t,i,r){if(e.styleUrl&&e.name){let i=(0,m.t)(e.styleUrl,r);(0,a.oP)(i)&&(i=(0,a.S8)(i)),t.styleOrigin={styleUrl:i,name:e.name}}else e.styleName&&e.name&&(e.portal&&r?.portal&&!(0,a.ut)(e.portal.restUrl,r.portal.restUrl)?r?.messages&&r.messages.push(new l.A("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof A.A||e&&P[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};(0,r._)([(0,c.MZ)({json:{read:!1,write:!1}})],I.prototype,"color",null),(0,r._)([(0,c.MZ)({type:C,nonNullable:!0,json:{write:!0}}),(0,u.w)(s.H)],I.prototype,"symbolLayers",null),(0,r._)([(0,c.MZ)({type:E.A})],I.prototype,"styleOrigin",void 0),(0,r._)([(0,h.w)("styleOrigin")],I.prototype,"readStyleOrigin",null),(0,r._)([(0,p.K)("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],I.prototype,"writeStyleOrigin",null),(0,r._)([(0,c.MZ)({type:x.V,json:{read:!1}})],I.prototype,"thumbnail",void 0),(0,r._)([(0,c.MZ)({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],I.prototype,"type",void 0),I=(0,r._)([(0,d.$)("esri.symbols.Symbol3D")],I)},44029:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(66866),n=i(21877),s=i(21564),o=(i(39831),i(539),i(9272),i(63863)),a=i(77542);let l=class extends n.A{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,t,i){e||(t[i]=e)}};(0,r._)([(0,s.MZ)({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],l.prototype,"enabled",void 0),(0,r._)([(0,a.K)("enabled")],l.prototype,"writeEnabled",null),(0,r._)([(0,s.MZ)({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],l.prototype,"type",void 0),l=(0,r._)([(0,o.$)("esri.symbols.Symbol3DLayer")],l)},42602:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var r,n=i(66866),s=i(96220),o=i(19251),a=i(89882),l=i(21564),c=i(4130),u=i(28902),h=i(63863),d=i(77542),p=i(60340),f=i(77441),m=i(51481);let y=r=class extends f.A{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new p.A,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,i){if(e&&"string"!=typeof e)return e;const r={};return e&&(r.text=e),t&&(r.font=t),i&&(r.color=i),r}writeLineWidth(e,t,i,r){r&&"string"!=typeof r?r.origin:t[i]=e}castLineWidth(e){return(0,a.cr)(e)}writeLineHeight(e,t,i,r){r&&"string"!=typeof r?r.origin:t[i]=e}clone(){return new r({angle:this.angle,backgroundColor:(0,o.o8)(this.backgroundColor),borderLineColor:(0,o.o8)(this.borderLineColor),borderLineSize:this.borderLineSize,color:(0,o.o8)(this.color),font:this.font&&this.font.clone(),haloColor:(0,o.o8)(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};(0,n._)([(0,l.MZ)({type:s.A,json:{write:!0}})],y.prototype,"backgroundColor",void 0),(0,n._)([(0,l.MZ)({type:s.A,json:{write:!0}})],y.prototype,"borderLineColor",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0},cast:a.cr})],y.prototype,"borderLineSize",void 0),(0,n._)([(0,l.MZ)({type:p.A,json:{write:!0}})],y.prototype,"font",void 0),(0,n._)([(0,l.MZ)({...m.rM,json:{write:!0}})],y.prototype,"horizontalAlignment",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"kerning",void 0),(0,n._)([(0,l.MZ)({type:s.A,json:{write:!0}})],y.prototype,"haloColor",void 0),(0,n._)([(0,l.MZ)({type:Number,cast:a.cr,json:{write:!0}})],y.prototype,"haloSize",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"rightToLeft",void 0),(0,n._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"rotated",void 0),(0,n._)([(0,l.MZ)({type:String,json:{write:!0}})],y.prototype,"text",void 0),(0,n._)([(0,u.e)({esriTS:"text"},{readOnly:!0})],y.prototype,"type",void 0),(0,n._)([(0,l.MZ)({...m.x0,json:{write:!0}})],y.prototype,"verticalAlignment",void 0),(0,n._)([(0,l.MZ)({type:Number,cast:a.cr,json:{write:!0}})],y.prototype,"xoffset",void 0),(0,n._)([(0,l.MZ)({type:Number,cast:a.cr,json:{write:!0}})],y.prototype,"yoffset",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],y.prototype,"angle",void 0),(0,n._)([(0,l.MZ)({type:Number,json:{write:!0}})],y.prototype,"width",void 0),(0,n._)([(0,l.MZ)({type:Number})],y.prototype,"lineWidth",void 0),(0,n._)([(0,d.K)("lineWidth")],y.prototype,"writeLineWidth",null),(0,n._)([(0,c.w)("lineWidth")],y.prototype,"castLineWidth",null),(0,n._)([(0,l.MZ)(m.Tb)],y.prototype,"lineHeight",void 0),(0,n._)([(0,d.K)("lineHeight")],y.prototype,"writeLineHeight",null),y=r=(0,n._)([(0,h.$)("esri.symbols.TextSymbol")],y)},85467:(e,t,i)=>{"use strict";i.d(t,{A:()=>b});var r,n=i(66866),s=i(19251),o=i(21564),a=(i(39831),i(539),i(28902)),l=i(63863),c=i(77542),u=i(60340),h=i(44029),d=i(59427),p=i(96220),f=i(21877);let m=r=class extends f.A{constructor(){super(...arguments),this.color=new p.A([0,0,0,1]),this.size=0}clone(){const e={color:(0,s.o8)(this.color),size:this.size};return new r(e)}};(0,n._)([(0,o.MZ)((0,d.EW)())],m.prototype,"color",void 0),(0,n._)([(0,o.MZ)(d.pI)],m.prototype,"size",void 0),m=r=(0,n._)([(0,l.$)("esri.symbols.support.Symbol3DHalo")],m);var y=i(5159),g=i(24793);i(9272);let _=class extends(g.A.ClonableMixin(f.A)){constructor(e){super(e),this.color=null}};(0,n._)([(0,o.MZ)((0,d.EW)())],_.prototype,"color",void 0),_=(0,n._)([(0,l.$)("esri.symbols.support.Symbol3DTextBackground")],_);var v,w=i(51481);let b=class extends h.A{static{v=this}constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){null!=e&&null!=this._userSize&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,i,r){const n={...r,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(e){this._userSize=e,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new v({enabled:this.enabled,font:this.font&&(0,s.o8)(this.font),halo:this.halo&&(0,s.o8)(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:(0,s.o8)(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new v({font:null!=e.font?e.font.clone():new u.A,halo:M(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new y.N({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new _({color:e.backgroundColor.clone()}):null})}};function M(e,t){return e&&null!=t&&t>0?new m({color:(0,s.o8)(e),size:t}):null}(0,n._)([(0,o.MZ)({type:u.A,json:{write:!0}})],b.prototype,"font",null),(0,n._)([(0,c.K)("font")],b.prototype,"writeFont",null),(0,n._)([(0,o.MZ)({type:m,json:{write:!0}})],b.prototype,"halo",void 0),(0,n._)([(0,o.MZ)({...w.rM,json:{default:"center",write:!0}})],b.prototype,"horizontalAlignment",void 0),(0,n._)([(0,o.MZ)({...w.Tb,json:{default:1,write:!0}})],b.prototype,"lineHeight",void 0),(0,n._)([(0,o.MZ)({type:y.N,json:{write:!0}})],b.prototype,"material",void 0),(0,n._)([(0,o.MZ)({type:_,json:{write:!0}})],b.prototype,"background",void 0),(0,n._)([(0,o.MZ)(d.pI)],b.prototype,"size",null),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],b.prototype,"text",void 0),(0,n._)([(0,a.e)({Text:"text"},{readOnly:!0})],b.prototype,"type",void 0),(0,n._)([(0,o.MZ)({...w.x0,json:{default:"baseline",write:!0}})],b.prototype,"verticalAlignment",void 0),b=v=(0,n._)([(0,l.$)("esri.symbols.TextSymbol3DLayer")],b)},83012:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r,n=i(66866),s=i(96220),o=i(19251),a=i(21564),l=i(73446),c=i(28902),u=i(63863),h=i(44029);let d=class extends h.A{static{r=this}constructor(e){super(e),this.color=p.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new r({color:(0,o.o8)(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};(0,n._)([(0,a.MZ)({type:s.A,nonNullable:!0,json:{type:[l.jz],write:(e,t,i)=>t[i]=e.toArray(s.A.AlphaMode.UNLESS_OPAQUE),default:()=>p.clone(),defaultEquals:e=>e.toCss(!0)===p.toCss(!0)}})],d.prototype,"color",void 0),(0,n._)([(0,c.e)({Water:"water"},{readOnly:!0})],d.prototype,"type",void 0),(0,n._)([(0,a.MZ)({type:["small","medium","large"],json:{write:!0,default:"medium"}})],d.prototype,"waterbodySize",void 0),(0,n._)([(0,a.MZ)({type:Number,json:{write:!0,default:null}})],d.prototype,"waveDirection",void 0),(0,n._)([(0,a.MZ)({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],d.prototype,"waveStrength",void 0),d=r=(0,n._)([(0,u.$)("esri.symbols.WaterSymbol3DLayer")],d);const p=new s.A([0,119,190])},75162:(e,t,i)=>{"use strict";i.d(t,{A:()=>y});var r,n=i(66866),s=i(50220),o=i(98849),a=i(539),l=i(40189),c=i(21564),u=(i(39831),i(9272),i(28902)),h=i(63863),d=i(10282),p=i(63680),f=i(77441),m=i(43937);let y=r=class extends f.A{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=null!=this.portal?this.portal:d.A.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new r({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol(e)}async fetchCIMSymbol(e){(0,s.eO)(a.A.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const t=await this._fetchSymbol({...e,acceptedFormats:["cim"]});if("cim"!==t?.type)throw new o.A("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return t}async _fetchSymbol(e){const t=null!=e?e.cache:null,r=t?this._fetchCacheKey:null;if(null!=t){const e=r&&t.get(r);if(e)return e.clone()}const{resolveWebStyleSymbol:n}=await Promise.all([i.e(72076),i.e(19989)]).then(i.bind(i,19989));(0,l.Te)(e);const s=n(this,{portal:this.portal},e);s.catch((e=>{a.A.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",e)}));const o=await s;return null!=t&&t.set(r,o.clone()),o}};(0,n._)([(0,c.MZ)({json:{write:!1}})],y.prototype,"color",void 0),(0,n._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"styleName",void 0),(0,n._)([(0,c.MZ)({type:d.A,json:{write:!1}})],y.prototype,"portal",void 0),(0,n._)([(0,c.MZ)({type:String,json:{read:p.r,write:p.w}})],y.prototype,"styleUrl",void 0),(0,n._)([(0,c.MZ)({type:m.V,json:{read:!1}})],y.prototype,"thumbnail",void 0),(0,n._)([(0,c.MZ)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,n._)([(0,u.e)({styleSymbolReference:"web-style"},{readOnly:!0})],y.prototype,"type",void 0),(0,n._)([(0,c.MZ)()],y.prototype,"_fetchCacheKey",null),y=r=(0,n._)([(0,h.$)("esri.symbols.WebStyleSymbol")],y)},71552:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var r=i(66866),n=i(21877),s=i(21564),o=(i(39831),i(539),i(9272),i(63863));let a=class extends n.A{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};(0,r._)([(0,s.MZ)({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],a.prototype,"type",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],a.prototype,"visible",void 0),a=(0,r._)([(0,o.$)("esri.symbols.callouts.Callout3D")],a)},76550:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var r,n=i(66866),s=i(96220),o=i(19251),a=i(89882),l=i(21564),c=(i(39831),i(539),i(28902)),u=i(63863),h=i(71552),d=i(69676),p=i(59427);let f=r=class extends h.A{constructor(e){super(e),this.type="line",this.color=new s.A([0,0,0,1]),this.size=(0,a.PN)(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new r({color:(0,o.o8)(this.color),size:this.size,border:(0,o.o8)(this.border)})}};(0,n._)([(0,c.e)({line:"line"})],f.prototype,"type",void 0),(0,n._)([(0,l.MZ)((0,p.EW)({colorRequiredOnWrite:!0}))],f.prototype,"color",void 0),(0,n._)([(0,l.MZ)({...p.pI,json:{write:{isRequired:!0}}})],f.prototype,"size",void 0),(0,n._)([(0,l.MZ)({type:d.A,json:{write:!0}})],f.prototype,"border",void 0),(0,n._)([(0,l.MZ)({readOnly:!0})],f.prototype,"visible",null),f=r=(0,n._)([(0,u.$)("esri.symbols.callouts.LineCallout3D")],f)},69676:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r,n=i(66866),s=i(96220),o=i(21877),a=i(19251),l=i(21564),c=(i(39831),i(539),i(63863)),u=i(59427);let h=r=class extends o.A{constructor(e){super(e),this.color=new s.A("white")}clone(){return new r({color:(0,a.o8)(this.color)})}};(0,n._)([(0,l.MZ)((0,u.EW)({colorRequiredOnWrite:!0}))],h.prototype,"color",void 0),h=r=(0,n._)([(0,c.$)("esri.symbols.callouts.LineCallout3DBorder")],h);const d=h},65834:(e,t,i)=>{"use strict";i.d(t,{Ie:()=>l,LH:()=>o,YX:()=>a,Yq:()=>s,oG:()=>c});var r=i(71552),n=i(76550);function s(e){if(!e)return!1;const t=e.verticalOffset;return!(!t||t.screenLength<=0||null!=t.maxWorldLength&&t.maxWorldLength<=0)}function o(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t?.visible&&!!s(e)}function a(e){return"point-3d"===e.type||"label-3d"===e.type}function l(e){return"center"===e.horizontalAlignment}const c={types:{key:"type",base:r.A,typeMap:{line:n.A}},json:{write:!0}}},94025:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r=i(66866),n=i(96220),s=i(21877),o=i(19251),a=i(89882),l=i(21564),c=(i(39831),i(539),i(63863)),u=i(59427);let h=class extends s.A{constructor(e){super(e),this.color=new n.A([0,0,0,1]),this.extensionLength=0,this.size=(0,a.PN)(1)}clone(){}cloneProperties(){return{color:(0,o.o8)(this.color),size:this.size,extensionLength:this.extensionLength}}};(0,r._)([(0,l.MZ)({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],h.prototype,"type",void 0),(0,r._)([(0,l.MZ)((0,u.EW)({colorRequiredOnWrite:!0}))],h.prototype,"color",void 0),(0,r._)([(0,l.MZ)({...u.pI,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],h.prototype,"extensionLength",void 0),(0,r._)([(0,l.MZ)(u.pI)],h.prototype,"size",void 0),h=(0,r._)([(0,c.$)("esri.symbols.edges.Edges3D")],h);const d=h},38366:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=(i(539),i(39831),i(9272),i(98849),i(28902)),o=i(63863),a=i(94025);let l=r=class extends a.A{constructor(e){super(e),this.type="solid"}clone(){return new r(this.cloneProperties())}};(0,n._)([(0,s.e)({solid:"solid"},{readOnly:!0})],l.prototype,"type",void 0),l=r=(0,n._)([(0,o.$)("esri.symbols.edges.SolidEdges3D")],l);const c=l},62848:(e,t,i)=>{"use strict";i.d(t,{J:()=>h});var r,n=i(94025),s=i(66866),o=(i(539),i(39831),i(9272),i(98849),i(28902)),a=i(63863);let l=r=class extends n.A{constructor(e){super(e),this.type="sketch"}clone(){return new r(this.cloneProperties())}};(0,s._)([(0,o.e)({sketch:"sketch"},{readOnly:!0})],l.prototype,"type",void 0),l=r=(0,s._)([(0,a.$)("esri.symbols.edges.SketchEdges3D")],l);const c=l;var u=i(38366);const h={types:{key:"type",base:n.A,typeMap:{solid:u.A,sketch:c}},json:{write:!0}}},17029:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var r=i(66866),n=i(21877),s=i(21564),o=(i(39831),i(539),i(9272),i(63863));let a=class extends n.A{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};(0,r._)([(0,s.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),a=(0,r._)([(0,o.$)("esri.symbols.patterns.LinePattern3D")],a)},23039:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r=i(66866),n=i(59851),s=i(21564),o=(i(39831),i(539),i(9272),i(28902)),a=i(63863),l=i(17029);var c;const u=(0,n.O)()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let h=c=class extends l.A{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new c(e)}};(0,r._)([(0,s.MZ)({type:["style"],json:{write:{isRequired:!0}}})],h.prototype,"type",void 0),(0,r._)([(0,o.e)(u),(0,s.MZ)({type:["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"],json:{write:{isRequired:!0}}})],h.prototype,"style",void 0),h=c=(0,r._)([(0,a.$)("esri.symbols.patterns.LineStylePattern3D")],h)},31152:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var r=i(66866),n=i(21877),s=i(21564),o=(i(39831),i(539),i(9272),i(63863));let a=class extends n.A{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};(0,r._)([(0,s.MZ)({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],a.prototype,"type",void 0),a=(0,r._)([(0,o.$)("esri.symbols.patterns.Pattern3D")],a)},58722:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(66866),n=i(21564),s=(i(39831),i(539),i(9272),i(63863)),o=i(31152);var a;let l=a=class extends o.A{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new a({style:this.style})}};(0,r._)([(0,n.MZ)({type:["style"],json:{write:{isRequired:!0}}})],l.prototype,"type",void 0),(0,r._)([(0,n.MZ)({type:["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"],json:{read:!0,write:{isRequired:!0}}})],l.prototype,"style",void 0),l=a=(0,r._)([(0,s.$)("esri.symbols.patterns.StylePattern3D")],l)},76496:(e,t,i)=>{"use strict";i.d(t,{r:()=>a,v:()=>l});var r=i(17029),n=i(23039),s=i(31152),o=i(58722);const a={types:{key:"type",base:s.A,typeMap:{style:o.A}},json:{write:!0}},l={types:{key:"type",base:r.A,typeMap:{style:n.A}},json:{write:!0}}},5666:(e,t,i)=>{"use strict";i.d(t,{i:()=>m,r:()=>y});var r,n=i(66866),s=i(59851),o=i(21877),a=i(20909),l=i(21564),c=(i(39831),i(539),i(9272),i(28902)),u=i(75094),h=i(63863),d=i(77542),p=i(63680);const f=(0,s.O)()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let m=r=class extends o.A{constructor(e){super(e)}readHref(e,t,i){return e?(0,p.f)(e,i):t.dataURI}writeHref(e,t,i,r){e&&((0,a.DB)(e)?t.dataURI=e:(t.href=(0,p.t)(e,r),(0,a.oP)(t.href)&&(t.href=(0,a.S8)(t.href))))}clone(){return new r({href:this.href,primitive:this.primitive})}};(0,n._)([(0,l.MZ)({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],m.prototype,"href",void 0),(0,n._)([(0,u.w)("href")],m.prototype,"readHref",null),(0,n._)([(0,d.K)("href",{href:{type:String},dataURI:{type:String}})],m.prototype,"writeHref",null),(0,n._)([(0,c.e)(f)],m.prototype,"primitive",void 0),m=r=(0,n._)([(0,h.$)("esri.symbols.support.IconSymbol3DLayerResource")],m);const y="circle"},50124:(e,t,i)=>{"use strict";i.d(t,{E:()=>d,r:()=>p});var r,n=i(66866),s=i(59851),o=i(21877),a=i(21564),l=(i(39831),i(539),i(9272),i(28902)),c=i(63863),u=i(63680);const h=(0,s.O)()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let d=r=class extends o.A{clone(){return new r({href:this.href,primitive:this.primitive})}};(0,n._)([(0,a.MZ)({type:String,json:{read:u.r,write:u.w}})],d.prototype,"href",void 0),(0,n._)([(0,l.e)(h)],d.prototype,"primitive",void 0),d=r=(0,n._)([(0,c.$)("esri.symbols.support.ObjectSymbol3DLayerResource")],d);const p="sphere"},80822:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(52495),o=i(21564),a=(i(39831),i(539),i(9272),i(63863)),l=i(10282);let c=r=class extends s.A{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new r({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};(0,n._)([(0,o.MZ)({type:String})],c.prototype,"name",void 0),(0,n._)([(0,o.MZ)({type:String})],c.prototype,"styleUrl",void 0),(0,n._)([(0,o.MZ)({type:String})],c.prototype,"styleName",void 0),(0,n._)([(0,o.MZ)({type:l.A})],c.prototype,"portal",void 0),c=r=(0,n._)([(0,a.$)("esri.symbols.support.StyleOrigin")],c)},15790:(e,t,i)=>{"use strict";i.d(t,{Q:()=>l});var r,n=i(66866),s=i(52495),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=r=class extends s.A{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new r({x:this.x,y:this.y})}};(0,n._)([(0,o.MZ)({type:Number})],l.prototype,"x",void 0),(0,n._)([(0,o.MZ)({type:Number})],l.prototype,"y",void 0),l=r=(0,n._)([(0,a.$)("esri.symbols.support.Symbol3DAnchorPosition2D")],l)},5159:(e,t,i)=>{"use strict";i.d(t,{N:()=>h});var r,n=i(66866),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(63863)),l=i(59427);let c=r=class extends s.A{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const e={strength:this.strength,source:this.source};return new r(e)}};var u;(0,n._)([(0,o.MZ)({json:{write:!1}})],c.prototype,"strength",void 0),(0,n._)([(0,o.MZ)({json:{write:!1}})],c.prototype,"source",void 0),c=r=(0,n._)([(0,a.$)("esri.symbols.support.Symbol3DEmissive")],c);let h=u=class extends s.A{constructor(e){super(e),this.color=null,this.emissive=new c({source:"emissive"})}clone(){const e={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new u(e)}};(0,n._)([(0,o.MZ)((0,l.EW)())],h.prototype,"color",void 0),(0,n._)([(0,o.MZ)({type:c,json:{write:!1}})],h.prototype,"emissive",void 0),h=u=(0,n._)([(0,a.$)("esri.symbols.support.Symbol3DMaterial")],h)},11195:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r,n=i(66866),s=i(21877),o=i(21564),a=(i(39831),i(539),i(9272),i(63863)),l=i(59427);let c=r=class extends s.A{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new r({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};(0,n._)([(0,o.MZ)({...l.pI,json:{write:{isRequired:!0}}})],c.prototype,"screenLength",void 0),(0,n._)([(0,o.MZ)({type:Number,nonNullable:!0,json:{write:!0,default:0}})],c.prototype,"minWorldLength",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{write:!0}})],c.prototype,"maxWorldLength",void 0),c=r=(0,n._)([(0,a.$)("esri.symbols.support.Symbol3DVerticalOffset")],c)},43937:(e,t,i)=>{"use strict";i.d(t,{V:()=>l});var r,n=i(66866),s=i(52495),o=i(21564),a=(i(39831),i(539),i(9272),i(63863));let l=r=class extends s.A{constructor(){super(...arguments),this.url=""}clone(){return new r({url:this.url})}};(0,n._)([(0,o.MZ)({type:String})],l.prototype,"url",void 0),l=r=(0,n._)([(0,a.$)("esri.symbols.support.Thumbnail")],l)},28377:(e,t,i)=>{"use strict";i.d(t,{ON:()=>n,U9:()=>o,u7:()=>s});var r=i(96220);const n=new r.A("white"),s=new r.A([255,255,255,0]);function o(e){return 0===e.r&&0===e.g&&0===e.b}},71300:(e,t,i)=>{"use strict";i.d(t,{x:()=>r,z:()=>n});const r=["begin","end","begin-end"],n=["arrow","circle","square","diamond","cross","x"]},59427:(e,t,i)=>{"use strict";i.d(t,{EW:()=>c,YJ:()=>h,pI:()=>u,rs:()=>d});var r=i(96220),n=i(89882),s=i(73446),o=i(48904);function a(e,t){const i=null!=t.transparency?(0,o.D)(t.transparency):1,n=t.color;return n&&Array.isArray(n)?new r.A([n[0]||0,n[1]||0,n[2]||0,i]):null}function l(e,t){t.color=e.toJSON().slice(0,3);const i=(0,o.p)(e.a);0!==i&&(t.transparency=i)}function c(e){return{type:r.A,nonNullable:e?.nonNullable,json:{type:[s.jz],default:null,read:{source:["color","transparency"],reader:a},write:{target:{color:{type:[s.jz],isRequired:e?.colorRequiredOnWrite},transparency:{type:s.jz}},writer:l}}}}const u={type:Number,cast:n.cr,json:{write:!0}};var h;function d(e){return"emissive"===e?h.Emissive:h.Color}!function(e){e[e.Emissive=0]="Emissive",e[e.Color=1]="Color"}(h||(h={}))},97728:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>s,Fq:()=>c,M4:()=>u,Nv:()=>h,e:()=>d});i(39831);var r=i(58359),n=i(4675);function s(e,{isPrimitive:t,width:i,depth:n,height:s}){const o=t?10:1;if(null==i&&null==s&&null==n)return[o*e[0],o*e[1],o*e[2]];const a=(0,r.fA)(i,n,s);let l;for(let r=0;r<3;r++){const t=a[r];if(null!=t){l=t/e[r];break}}for(let r=0;r<3;r++)null==a[r]&&(a[r]=e[r]*l);return a}const o=(0,n.fA)(-.5,-.5,-.5,.5,.5,.5),a=(0,n.fA)(-.5,-.5,0,.5,.5,1),l=(0,n.fA)(-.5,-.5,0,.5,.5,.5);function c(e){switch(e){case"sphere":case"cube":case"diamond":return o;case"cylinder":case"cone":case"inverted-cone":return a;case"tetrahedron":return l;default:return}}const u=["butt","square","round"],h=[...u,"none"],d=["miter","bevel","round"]},51481:(e,t,i)=>{"use strict";i.d(t,{NM:()=>a,Tb:()=>l,_R:()=>o,h9:()=>s,rM:()=>c,x0:()=>u,y7:()=>h});var r=i(92504),n=i(73446);const s=["none","underline","line-through"],o=["normal","italic","oblique"],a=["normal","lighter","bold","bolder"],l={type:Number,cast:e=>{const t=(0,n.GB)(e);return 0===t?1:(0,r.qE)(t,.1,4)},nonNullable:!0},c={type:["left","right","center"],nonNullable:!0},u={type:["baseline","top","middle","bottom"],nonNullable:!0},h=8},66961:(e,t,i)=>{"use strict";i.d(t,{dp:()=>j,$y:()=>P,wk:()=>C,Y7:()=>R,wC:()=>O,Ac:()=>N,Bu:()=>L,Es:()=>I,q8:()=>k,em:()=>Z,Rv:()=>U,xK:()=>D,On:()=>F});var r,n=i(73446),s=i(84366),o=i(54394),a=i(27372),l=i(68324),c=i(50151),u=i(66866),h=i(19251),d=i(89882),p=i(21564),f=(i(39831),i(539),i(28902)),m=i(63863),y=i(76672),g=i(20959);let _=r=class extends y.A{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,i,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),null!=i&&(n.width=(0,d.cr)(i)),null!=r&&(n.height=(0,d.cr)(r)),n}clone(){const e=new r({color:(0,h.o8)(this.color),height:this.height,outline:(0,h.o8)(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",(0,h.o8)(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};(0,u._)([(0,f.e)({esriPFS:"picture-fill"},{readOnly:!0})],_.prototype,"type",void 0),(0,u._)([(0,p.MZ)(g.ku)],_.prototype,"url",void 0),(0,u._)([(0,p.MZ)({type:Number,json:{write:!0}})],_.prototype,"xscale",void 0),(0,u._)([(0,p.MZ)({type:Number,json:{write:!0}})],_.prototype,"yscale",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:d.cr,json:{write:!0}})],_.prototype,"width",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:d.cr,json:{write:!0}})],_.prototype,"height",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:d.cr,json:{write:!0}})],_.prototype,"xoffset",void 0),(0,u._)([(0,p.MZ)({type:Number,cast:d.cr,json:{write:!0}})],_.prototype,"yoffset",void 0),(0,u._)([(0,p.MZ)(g.k7)],_.prototype,"source",void 0),_=r=(0,u._)([(0,m.$)("esri.symbols.PictureFillSymbol")],_);var v=i(72001),w=i(66960),b=i(65216),M=i(68882),A=i(40241),S=i(23369),T=i(77441),E=i(42602),x=i(75162);function P(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function C(e){switch(e?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const I={base:T.A,key:"type",typeMap:{"simple-fill":M.A,"picture-fill":_,"picture-marker":v.A,"simple-line":A.A,"simple-marker":S.A,text:E.A,"label-3d":a.A,"line-3d":l.A,"mesh-3d":c.A,"point-3d":w.A,"polygon-3d":b.A,"web-style":x.A,cim:o.A},errorContext:"symbol"},O=(T.A,M.A,o.A,{base:T.A,key:"type",typeMap:{"picture-marker":v.A,"simple-marker":S.A,"point-3d":w.A,cim:o.A},errorContext:"symbol"}),R={base:T.A,key:"type",typeMap:{"simple-line":A.A,"line-3d":l.A,cim:o.A},errorContext:"symbol"},N={base:T.A,key:"type",typeMap:{"simple-fill":M.A,"picture-fill":_,"polygon-3d":b.A,cim:o.A},errorContext:"symbol"},k={base:T.A,key:"type",typeMap:{"picture-marker":v.A,"simple-marker":S.A,text:E.A,"web-style":x.A,cim:o.A},errorContext:"symbol"},L=(0,s.C)({types:I}),D={base:T.A,key:"type",typeMap:{"simple-fill":M.A,"picture-fill":_,"picture-marker":v.A,"simple-line":A.A,"simple-marker":S.A,text:E.A,"line-3d":l.A,"mesh-3d":c.A,"point-3d":w.A,"polygon-3d":b.A,"web-style":x.A,cim:o.A},errorContext:"symbol"},Z={base:T.A,key:"type",typeMap:{text:E.A,"label-3d":a.A},errorContext:"symbol"},F=(T.A,a.A,l.A,c.A,w.A,b.A,x.A,{base:T.A,key:"type",typeMap:{"line-3d":l.A,"mesh-3d":c.A,"point-3d":w.A,"polygon-3d":b.A,"web-style":x.A,cim:o.A},errorContext:"symbol"}),U={base:T.A,key:"type",typeMap:{"label-3d":a.A},errorContext:"symbol"},j=(0,n.aq)(I)},20959:(e,t,i)=>{"use strict";i.d(t,{k7:()=>a,ku:()=>o});var r=i(20909),n=i(63680);function s(e,t){if(!(0,r.oP)(e)){const i=function(e){if(!e)return null;const{origin:t,layer:i}=e;if("service"!==t&&"portal-item"!==t)return null;const r=i?.type;return"feature"===r||"stream"===r?i.parsedUrl?.path:"map-image"===r||"tile"===r?e.url?.path:null}(t);if(i)return(0,r.fj)(i,"images",e)}return(0,n.f)(e,t)}const o={json:{read:{source:["imageData","url"],reader:function(e,t,i){return t.imageData?(0,r.Hg)({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):s(t.url,i)}},write:{writer(e,t,i,s){!function(e,t,i,s){if((0,r.DB)(e)){const o=(0,r.r$)(e);if(!o)return;t.contentType=o.mediaType,t.imageData=o.data,i&&i.imageData===t.imageData&&i.url&&(0,n.w)(i.url,t,"url",s)}else(0,n.w)(e,t,"url",s)}(e,t,this.source,s)}}}},a={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){const r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=s(t.url,i)),r}}}}},54088:(e,t,i)=>{"use strict";i.d(t,{L5:()=>n,N5:()=>o,n$:()=>s,qU:()=>r});const r="system",n="unknown",s="UTC",o=Intl.DateTimeFormat().resolvedOptions().timeZone},12129:(e,t,i)=>{"use strict";i.d(t,{ZS:()=>l,hv:()=>c,wr:()=>u,P6:()=>a});var r=i(54088);const n=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);var s=i(34495);const o="shortOffset";function a(e,t=!1){return{json:{read:{source:e,reader:(t,i)=>i[e]?l(i[e]):null},write:!!t&&{allowNull:!0,writer(t,i){i[e]=t?function(e){return{timeZoneIANA:e}}(t):null}}}}}function l(e,t=r.qU){return e?function(e){return"timeZoneIANA"in e}(e)?e.timeZoneIANA:function(e,t=r.qU){if(!e||!n.has(e.timeZone))return t;const i=n.get(e.timeZone);return function(e){return e.startsWith("UTC")}(e.timeZone)||e.respectsDaylightSaving?i:function(e){const t=s.c9.local().setZone(e),i=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===i?"Etc/UTC":`Etc/GMT${s.mQ.instance(-i).formatOffset(0,"narrow")}`}(i)}(e,t):t}function c(e,t,i,n,s){if(t&&"date"===s)return{timeZone:r.n$,timeZoneName:void 0};const a=n.timeStyle||n.hour,l=i===r.L5;return{timeZone:l?"timestamp-offset"===s?void 0:e??r.n$:i,timeZoneName:l&&a?o:void 0}}function u(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map((e=>e.toLowerCase())));return e===r.qU||e===r.L5||t.has(e.toLowerCase())||i.has(e.toLowerCase())}},21769:(e,t,i)=>{"use strict";i.d(t,{W:()=>u});var r=i(17306),n=i(64874),s=i(20464),o=i(39831),a=i(92504),l=i(79190),c=i(50424);class u{constructor(e,t={}){this.events=new r.A,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,null!=e?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),e.contains(this._canvas)||e.appendChild(this._canvas)):null!=t.canvas&&(this._canvas=t.canvas);const i={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let o=this._canvas.getContext("webgl2",i);o||(o=this._canvas.getContext("webgl2",{...i,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=o,this._handles=(0,s.vE)([(0,n.on)(this._canvas,"webglcontextlost",(e=>this.events.emit("webgl-context-lost",e)))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,t){if(this._hasMajorPerformanceCaveat||(0,o.A)("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=(0,o.A)("esri-performance-mode-frames-between-render")&&(t(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[t,i,r,n,s,o]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${t}, ${i}, ${r}, ${n}, ${s}, ${o})`}}else t()}resize(e){const t=this._canvas,i=t.style,{state:{size:r},pixelRatio:n}=e,s=r[0],o=r[1],a=Math.round(s*n),l=Math.round(o*n);t.width===a&&t.height===l||(t.width=a,t.height=l),i.width=s+"px",i.height=o+"px"}_computeViewTransform(e,t){const[i,r]=e.center,[n,s]=t.center,[o,u]=e.toScreen([0,0],n,s),[h,d]=e.toScreen([0,0],i,r),p=h-o,f=d-u,m=e.scale/t.scale,y=t.rotation-e.rotation,g=(0,c.vt)();return(0,l.D_)(g),(0,l.hs)(g,g,[m,m]),(0,l.e$)(g,g,(0,a.kU)(y)),(0,l.Tl)(g,g,[p,f]),g}}},43556:(e,t,i)=>{"use strict";i.d(t,{$U:()=>k,C2:()=>c,CQ:()=>n,CR:()=>M,C_:()=>D,Cp:()=>A,DY:()=>a,GR:()=>Q,Gh:()=>C,LY:()=>x,MZ:()=>z,O5:()=>H,Pq:()=>u,Qb:()=>B,Qs:()=>te,Sr:()=>v,TB:()=>X,U5:()=>E,V3:()=>O,Vl:()=>Y,Xh:()=>K,YS:()=>d,YV:()=>s,_M:()=>R,_x:()=>W,cp:()=>ee,dV:()=>T,eG:()=>l,eI:()=>J,fq:()=>$,fy:()=>I,g0:()=>P,hM:()=>Z,ie:()=>N,ju:()=>o,lL:()=>y,mg:()=>L,n9:()=>_,nM:()=>m,nW:()=>j,oj:()=>G,p:()=>F,qM:()=>r,r1:()=>q,sn:()=>g,tP:()=>ie,uM:()=>p,ue:()=>h,vN:()=>S,vd:()=>b,yA:()=>U,yv:()=>V,z2:()=>f,zt:()=>w});const r=1e-30,n=512,s=16777216,o=8,a=29,l=24,c=4,u=0,h=0,d=0,p=1,f=2,m=3,y=4,g=5,_=6,v=12,w=13,b=5,M=6,A=5,S=6;var T;!function(e){e[e.FilterFlags=0]="FilterFlags",e[e.Animation=1]="Animation",e[e.GPGPU=2]="GPGPU",e[e.VV=3]="VV",e[e.DD0=4]="DD0",e[e.DD1=5]="DD1",e[e.DD2=6]="DD2",e[e.LocalTimeOrigin=7]="LocalTimeOrigin"}(T||(T={}));const E=6,x=1<<E,P=x<<1,C=1.05,I=3,O=1,R=3,N=3,k=5,L=6,D=1.15,Z=4,F=128,U=256-2*Z,j=2,G=128,z=1,$=10,V=1024,B=128,q=4,H=1,W=1<<20,J=.75,K=10,Y=.75,X=256,Q=32,ee=512,te=0,ie=1},17746:(e,t,i)=>{"use strict";i.d(t,{Ci:()=>o,HQ:()=>n,XK:()=>s,aY:()=>r});const r=1,n=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=256},79432:(e,t,i)=>{"use strict";var r,n,s,o,a,l,c,u,h;i.d(t,{Be:()=>a,Gn:()=>s,RI:()=>c,S5:()=>n,ch:()=>u,uC:()=>h}),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT",e[e.LABEL=4]="LABEL"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.MAP=1]="MAP",e[e.LABEL=2]="LABEL",e[e.LABEL_ALPHA=4]="LABEL_ALPHA",e[e.HITTEST=8]="HITTEST",e[e.HIGHLIGHT=16]="HIGHLIGHT",e[e.CLIP=32]="CLIP",e[e.DEBUG=64]="DEBUG",e[e.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(n||(n={})),function(e){e[e.SIZE=0]="SIZE",e[e.COLOR=1]="COLOR",e[e.OPACITY=2]="OPACITY",e[e.ROTATION=3]="ROTATION"}(s||(s={})),function(e){e[e.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",e[e.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",e[e.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",e[e.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(o||(o={})),function(e){e[e.SPRITE=0]="SPRITE",e[e.GLYPH=1]="GLYPH"}(a||(a={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIMPLE=1]="SIMPLE",e[e.DOT_DENSITY=2]="DOT_DENSITY",e[e.OUTLINE_FILL=3]="OUTLINE_FILL",e[e.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",e[e.HEATMAP=5]="HEATMAP",e[e.PIE_CHART=6]="PIE_CHART"}(l||(l={})),function(e){e[e.All=0]="All",e[e.Highlight=1]="Highlight",e[e.InsideEffect=2]="InsideEffect",e[e.OutsideEffect=3]="OutsideEffect"}(c||(c={})),function(e){e[e.BATCHING=0]="BATCHING",e[e.STRICT_ORDER=1]="STRICT_ORDER",e[e.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"}(u||(u={})),function(e){e[e.FILL=0]="FILL",e[e.LINE=1]="LINE",e[e.MARKER=2]="MARKER",e[e.TEXT=3]="TEXT"}(h||(h={}))},43901:(e,t,i)=>{"use strict";i.d(t,{Eq:()=>d,L4:()=>u,Pr:()=>v,QA:()=>y,Qu:()=>_,dJ:()=>h,r3:()=>m,vT:()=>g});var r=i(92976),n=i(43556),s=i(79432),o=i(41746);const a={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:o.MT.EQUAL,mask:255,op:{fail:o.eA.KEEP,zFail:o.eA.KEEP,zPass:o.eA.REPLACE}}}},l={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},c={...a,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function u({pixelRatio:e,state:t,displayLevel:i,requiredLevel:n},s){const o=1/2**(i-s.key.level),a=1/2**(n-s.key.level);return{displayMat3:t.displayMat3,displayViewMat3:t.displayViewMat3,displayViewScreenMat3:s.transforms.displayViewScreenMat3,viewMat3:t.viewMat3,tileMat3:s.transforms.tileMat3,displayZoomFactor:o,requiredZoomFactor:a,tileOffset:[s.x,s.y],currentScale:t.scale,currentZoom:i,metersPerSRUnit:(0,r.GA)(t.spatialReference),rotation:t.rotation,pixelRatio:e}}function h(e){return"highlight"===e.passOptions?.type}function d(e){return"hittest"===e.passOptions?.type}function p(e){if(!d(e))return null;const{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}=e.passOptions;return{position:t,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}}function f(e){if(!h(e))return null;const{activeReasons:t,highlightAll:i}=e.passOptions;return{activeReasons:t,highlightAll:i?1:0}}function m(e,t,i){const r={};for(const n in i)"function"!=typeof i[n]?r[n]=i[n]:r[n]=i[n](e,t);return r}function y(e,t){const{attributeView:i,context:r}=e;return{storage:i.getUniforms(r),view:u(e,t),hittestRequest:p(e),highlight:f(e)}}function g(e){return{inside:e.selection===s.RI.InsideEffect,outside:e.selection===s.RI.OutsideEffect}}function _(e){return d(e)?l:h(e)&&"clear"===e.passOptions.stepType?c:a}function v(e){const{row:t,col:i}=e.key,r=i*n.CQ,s=t*n.CQ;return{tileOffsetFromLocalOrigin:[r%n.YV,s%n.YV],maxIntsToLocalOrigin:[Math.floor(r/n.YV),Math.floor(s/n.YV)]}}},74e3:(e,t,i)=>{"use strict";i.d(t,{F:()=>l});var r=i(58392),n=i(80510),s=i(19925),o=i(72643),a=i(42482);class l{constructor(e,t){this.key=new a.A(0,0,0,0),this.bounds=(0,n.vt)(),this.objectIds=new Set,this.key.set(t);const i=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=i.resolution,this.level=i.level,this.scale=i.scale,this.minScale=e.zoomToScale(i.level-1),this.maxScale=e.zoomToScale(i.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return(0,n.w1)(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return(0,o.N)(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),t=r.A.acquire();for(let i=0;i<e.length;i++)t[i]=new l(this.tileInfoView,e[i]);return t}getQuantizationParameters(){return s.A.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}}},72643:(e,t,i)=>{"use strict";function r(e,{timeZone:t,timeExtent:i}){return{$view:{scale:e,timeZone:t,timeProperties:{currentStart:i?.start,currentEnd:i?.end}}}}i.d(t,{N:()=>r})},19257:(e,t,i)=>{"use strict";i.d(t,{H_:()=>_,u4:()=>v,lB:()=>w,eh:()=>g});var r=i(59851),n=i(539),s=i(43556),o=i(17746),a=i(96058),l=i(41746),c=i(8595),u=i(45758);const h=()=>n.A.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");const d=[0,0,0,0];class p{constructor(){this.type="single",this._highlightOptions=new a.A,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*o.Ci),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,t){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,s.CR),t.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<s.U5)-1,activeGradient:this}]}_updateGradientTexture(e){const t=function(e){return`${e.color};${e.haloColor};${e.haloOpacity};${e.fillOpacity};${e.haloWidth};${e.haloBlur}`}(this._highlightOptions);if(t===this._optionsShadeTexKey)return;this._optionsShadeTexKey=t,function(e,t){t.fillColor[0]=e.color.r/255,t.fillColor[1]=e.color.g/255,t.fillColor[2]=e.color.b/255,t.fillColor[3]=e.color.a,e.haloColor?(t.outlineColor[0]=e.haloColor.r/255,t.outlineColor[1]=e.haloColor.g/255,t.outlineColor[2]=e.haloColor.b/255,t.outlineColor[3]=e.haloColor.a):(t.outlineColor[0]=t.fillColor[0],t.outlineColor[1]=t.fillColor[1],t.outlineColor[2]=t.fillColor[2],t.outlineColor[3]=t.fillColor[3]),t.fillColor[3]*=e.fillOpacity,t.outlineColor[3]*=e.haloOpacity,t.fillColor[0]*=t.fillColor[3],t.fillColor[1]*=t.fillColor[3],t.fillColor[2]*=t.fillColor[3],t.outlineColor[0]*=t.outlineColor[3],t.outlineColor[1]*=t.outlineColor[3],t.outlineColor[2]*=t.outlineColor[3],t.outlineWidth=(1-e.haloBlur)*e.haloWidth,t.outerHaloWidth=e.haloBlur*e.haloWidth/2,t.innerHaloWidth=e.haloBlur*e.haloWidth/2,t.outlinePosition=0}(this._highlightOptions,this._convertedHighlightOptions);const i=this._convertedHighlightOptions,r=i.outlinePosition-i.outlineWidth/2-i.outerHaloWidth,n=i.outlinePosition-i.outlineWidth/2,s=i.outlinePosition+i.outlineWidth/2,a=i.outlinePosition+i.outlineWidth/2+i.innerHaloWidth,p=Math.sqrt(Math.PI/2)*o.aY,f=Math.abs(r)>p?Math.round(10*(Math.abs(r)-p))/10:0,m=Math.abs(a)>p?Math.round(10*(Math.abs(a)-p))/10:0;let y;f&&!m?h().error("The outer rim of the highlight is "+f+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!f&&m?h().error("The inner rim of the highlight is "+m+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):f&&m&&h().error("The highlight is "+Math.max(f,m)+"px away from the edge of the feature; consider reducing some width values.");const g=[void 0,void 0,void 0,void 0];function _(e,t,i){g[0]=(1-i)*e[0]+i*t[0],g[1]=(1-i)*e[1]+i*t[1],g[2]=(1-i)*e[2]+i*t[2],g[3]=(1-i)*e[3]+i*t[3]}const{_texelData:v}=this;for(let l=0;l<o.Ci;++l)y=r+l/(o.Ci-1)*(a-r),y<r?(g[0]=0,g[1]=0,g[2]=0,g[3]=0):y<n?_(d,i.outlineColor,(y-r)/(n-r)):y<s?[g[0],g[1],g[2],g[3]]=i.outlineColor:y<a?_(i.outlineColor,i.fillColor,(y-s)/(a-s)):[g[0],g[1],g[2],g[3]]=i.fillColor,v[4*l]=255*g[0],v[4*l+1]=255*g[1],v[4*l+2]=255*g[2],v[4*l+3]=255*g[3];if(this._minMaxDistance[0]=r,this._minMaxDistance[1]=a,!this._shadeTex){const t=new u.R;t.wrapMode=l.pF.CLAMP_TO_EDGE,t.width=o.Ci,t.height=1,this._shadeTex=new c.g(e,t)}this._shadeTex.updateData(0,0,0,o.Ci,1,this._texelData)}}class f{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let t=0;t<e.length;t++)this.gradients[t]||(this.gradients[t]=new p),this.gradients[t].setHighlightOptions(e[t]);for(let t=e.length+1;t<this.gradients.length;t++)this.gradients[t].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const t=[];for(let i=0;i<this.gradients.length;i++){const r=this.gradients[i];t.push({activeReasons:e,activeGradient:r}),e<<=1}return t}}var m=i(43901);const y=new r.J({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function g(e){return y.toJSON(e)}function _(e){const{bandCount:t,attributeTable:i,colormap:r,pixelType:n}=e.raster.rasterInfo;return 1===t&&(null!=i||null!=r||"u8"===n||"s8"===n)}function v(e,t){return null==t?(e?.destroy(),null):("single"===e?.type&&Array.isArray(t)&&(e.destroy(),e=null),"multi"!==e?.type||Array.isArray(t)||(e.destroy(),e=null),e||(e=Array.isArray(t)?new f:new p),Array.isArray(t)?"multi"===e.type&&e.setHighlightOptions(t):"single"===e.type&&e.setHighlightOptions(t),e)}function w(e,t,i,r){const{painter:n,highlightGradient:s}=e,{highlight:o}=n.effects;if(!s)return;const a=e.passOptions,l=s.getReasonsWithGradients();for(let c=0;c<l.length;c++){const s={...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[c].activeGradient,activeReasons:l[c].activeReasons,stepType:"burn",highlightAll:t}};if(o.bind(s),i(s),c<l.length-1){let n=0;for(let e=c+1;e<l.length;e++)n|=l[e].activeReasons;i({...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[c].activeGradient,activeReasons:n,stepType:"clear",highlightAll:t}})}const a={...e,passOptions:{type:"highlight",activeGradient:null!=r?l[r].activeGradient:l[c].activeGradient,activeReasons:l[c].activeReasons,stepType:"draw",highlightAll:t}};n.setPipelineState((0,m.Qu)(e)),n.updatePipelineState(e.context),o.draw(a),o.unbind()}e.passOptions=a}},57626:(e,t,i)=>{"use strict";i.d(t,{s:()=>s});var r=i(39831),n=i(60882);function s(){const e=(0,r.A)("mapview-essential-goto-duration");return null==e?e:(0,n.l5)(e)}},36998:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});class r{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),(e=>e.includes("Brush"))(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}}},6166:(e,t,i)=>{"use strict";i.d(t,{O:()=>o,p:()=>s});var r=i(1364);const n=e=>parseFloat(e)/100;function s(e,t,i){const r="string"==typeof e.left?n(e.left)*t:e.left,s="string"==typeof e.right?n(e.right)*t:e.right,o="string"==typeof e.top?n(e.top)*i:e.top,a="string"==typeof e.bottom?n(e.bottom)*i:e.bottom,l=o;return{xmin:r,xmax:Math.max(t-s,r),ymin:l,ymax:Math.max(i-a,o)}}function o(e,t,i,n){switch(t.type){case"rect":{const{width:r,height:n}=e,{xmin:o,xmax:a,ymin:l,ymax:c}=s(t,r,n),{x:u,y:h}=i;return u>o&&u<a&&h>l&&h<c}case"path":return 0===t.path.length||!Array.isArray(t.path[0][0])||(0,r.t1)(t.path,[i.x,i.y]);case"geometry":return null==t.geometry||("polygon"===t.geometry.type?(0,r.m3)(t.geometry,n):(0,r.qz)(t.geometry,n))}}},41010:(e,t,i)=>{"use strict";i.d(t,{a:()=>s,o:()=>o});var r=i(48982),n=i(96058);function s(e){if(!e.highlights)return null;const t=e.highlights.findIndex((e=>"default"===e.name));return-1===t?null:e.highlights.items[t]}function o(e,t){if(!e.highlights){if(!t)return;e.highlights=new r.A([new n.A])}const i=e.highlights.findIndex((e=>"default"===e.name));t?e.highlights.items[i].assignFrom(t):(e.highlights.removeAt(i),0===e.highlights.length&&(e.highlights=null))}},45815:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(90086),n=i(42482);class s{constructor(){this.spans=[]}static{this.pool=new r.A(s)}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:t,colFrom:i,colTo:r}of this.spans)for(let s=i;s<=r;s++){const i=e.getWorldForColumn(s);yield new n.A(e.level,t,e.normalizeCol(s),i)}}forEach(e,t){const{spans:i,lodInfo:r}=this,{level:n}=r;if(0!==i.length)for(const{row:s,colFrom:o,colTo:a}of i)for(let i=o;i<=a;i++)e.call(t,n,s,r.normalizeCol(i),r.getWorldForColumn(i))}}},75976:(e,t,i)=>{"use strict";i.d(t,{A:()=>f});var r=i(87926),n=i(42482);function s(e,t){return[e,t]}function o(e,t,i){return e[0]=t,e[1]=i,e}const a=new n.A("0/0/0/0");class l{static create(e,t,i=null){const n=(0,r.Vp)(e.spatialReference),a=t.origin||s(e.origin.x,e.origin.y),c=s(e.size[0]*t.resolution,e.size[1]*t.resolution),u=s(-1/0,-1/0),h=s(1/0,1/0),d=s(1/0,1/0);null!=i&&(o(u,Math.max(0,Math.floor((i.xmin-a[0])/c[0])),Math.max(0,Math.floor((a[1]-i.ymax)/c[1]))),o(h,Math.max(0,Math.floor((i.xmax-a[0])/c[0])),Math.max(0,Math.floor((a[1]-i.ymin)/c[1]))),o(d,h[0]-u[0]+1,h[1]-u[1]+1));const{cols:p,rows:f}=t;let m,y,g,_;return!i&&p&&f&&(o(u,p[0],f[0]),o(h,p[1],f[1]),o(d,p[1]-p[0]+1,f[1]-f[0]+1)),e.isWrappable?(m=s(Math.ceil(Math.round((n.valid[1]-n.valid[0])/t.resolution)/e.size[0]),d[1]),y=!0,g=n.origin,_=n.valid):(m=d,y=!1),new l(t.level,t.resolution,t.scale,a,u,h,d,c,m,y,g,_)}constructor(e,t,i,r,n,s,o,a,l,c,u,h){this.level=e,this.resolution=t,this.scale=i,this.origin=r,this.first=n,this.last=s,this.size=o,this.norm=a,this.worldSize=l,this.wrap=c,this._spatialReferenceOrigin=u,this._spatialReferenceValid=h}normalizeCol(e){if(!this.wrap)return e;const t=this.worldSize[0];return e<0?t-1-Math.abs((e+1)%t):e%t}normalizeKey(e){if(!this.wrap)return;const t=this.worldSize[0],i=e.col;i<0?(e.col=i+t,e.world-=1):i>=t&&(e.col=i-t,e.world+=1)}denormalizeCol(e,t){return this.wrap?this.worldSize[0]*t+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const t=this.origin[0]+e*this.norm[0],i=this._spatialReferenceOrigin,r=this._spatialReferenceValid;return this.wrap&&i&&r?t===i[0]?r[0]:this.origin[0]===i[0]&&e===this.worldSize[0]?r[1]:t:t}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,t,i=!1){a.set(t);const r=i?a.col:this.denormalizeCol(a.col,a.world),n=a.row;return function(e,t,i,r,n){e[0]=t,e[1]=i,e[2]=r,e[3]=n}(e,this.getXForColumn(r),this.getYForRow(n+1),this.getXForColumn(r+1),this.getYForRow(n)),e}getTileCoords(e,t,i=!1){a.set(t);const r=i?a.col:this.denormalizeCol(a.col,a.world);return Array.isArray(e)?o(e,this.getXForColumn(r),this.getYForRow(a.row)):(e.x=this.getXForColumn(r),e.y=this.getYForRow(a.row)),e}}var c=i(45815);class u{constructor(e,t,i){this.row=e,this.colFrom=t,this.colTo=i}}const h=new n.A("0/0/0/0");class d{static create(e,t){e[1]>t[1]&&([e,t]=[t,e]);const[i,r]=e,[n,s]=t,o=n-i,a=s-r,l=0!==a?o/a:0,c=(Math.ceil(r)-r)*l,u=(Math.floor(r)-r)*l;return new d(i,Math.floor(r),Math.ceil(s),l,o<0?c:u,o<0?u:c,o<0?n:i,o<0?i:n)}constructor(e,t,i,r,n,s,o,a){this.x=e,this.ymin=t,this.ymax=i,this.invM=r,this.leftAdjust=n,this.rightAdjust=s,this.leftBound=o,this.rightBound=a}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}}const p=[[0,0],[0,0],[0,0],[0,0]];class f{constructor(e,t=null,i=e.lods[0].level,r=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=t,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=e.lods.filter((e=>e.level>=i&&e.level<=r));this.minScale=n[0].scale,this.maxScale=n[n.length-1].scale;const s=this._lodInfos=n.map((i=>l.create(e,i,t)));n.forEach(((e,t)=>{this._infoByLevel[e.level]=s[t],this._infoByScale[e.scale]=s[t],this.scales[t]=e.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel["number"==typeof e?e:e.level]}getTileBounds(e,t,i=!1){h.set(t);const r=this._infoByLevel[h.level];return r?r.getTileBounds(e,h,i):e}getTileCoords(e,t,i=!1){h.set(t);const r=this._infoByLevel[h.level];return r?r.getTileCoords(e,h,i):e}getTileCoverage(e,t=192,i=!0,r="closest"){if(!i&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const n="closest"===r?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),s=c.A.pool.acquire(n),o=this._wrap;let a,l,h,f=1/0,m=-1/0;const y=s.spans;p[0][0]=p[0][1]=p[1][1]=p[3][0]=-t,p[1][0]=p[2][0]=e.size[0]+t,p[2][1]=p[3][1]=e.size[1]+t;for(const c of p)e.toMap(c,c),c[0]=n.getColumnForX(c[0]),c[1]=n.getRowForY(c[1]);const g=[];let _=3;for(let c=0;c<4;c++){if(p[c][1]===p[_][1]){_=c;continue}const e=d.create(p[c],p[_]);f=Math.min(e.ymin,f),m=Math.max(e.ymax,m),void 0===g[e.ymin]&&(g[e.ymin]=[]),g[e.ymin].push(e),_=c}if(null==f||null==m||m-f>100)return null;let v=[];for(a=f;a<m;){null!=g[a]&&(v=v.concat(g[a])),l=1/0,h=-1/0;for(let e=v.length-1;e>=0;e--){const t=v[e];l=Math.min(l,t.getLeftCol()),h=Math.max(h,t.getRightCol())}if(l=Math.floor(l),h=Math.floor(h),a>=n.first[1]&&a<=n.last[1])if(o)if(n.size[0]<n.worldSize[0]){const e=Math.floor(h/n.worldSize[0]);for(let t=Math.floor(l/n.worldSize[0]);t<=e;t++)y.push(new u(a,Math.max(n.getFirstColumnForWorld(t),l),Math.min(n.getLastColumnForWorld(t),h)))}else y.push(new u(a,l,h));else l>n.last[0]||h<n.first[0]||(l=Math.max(l,n.first[0]),h=Math.min(h,n.last[0]),y.push(new u(a,l,h)));a+=1;for(let e=v.length-1;e>=0;e--){const t=v[e];t.ymax>=a?t.incrRow():v.splice(e,1)}}return s}getTileParentId(e){h.set(e);const t=this._infoByLevel[h.level],i=this._lodInfos.indexOf(t)-1;return i<0?null:(this._getTileIdAtLOD(h,this._lodInfos[i],h),h.id)}getTileResolution(e){const t=this._infoByLevel["object"==typeof e?e.level:e];return t?t.resolution:-1}getTileScale(e){const t=this._infoByLevel[e.level];return t?t.scale:-1}intersects(e,t){h.set(t);const i=this._infoByLevel[h.level],r=e.lodInfo;if(r.resolution>i.resolution){this._getTileIdAtLOD(h,r,h);const t=r.denormalizeCol(h.col,h.world);for(const i of e.spans)if(i.row===h.row&&i.colFrom<=t&&i.colTo>=t)return!0}if(r.resolution<i.resolution){const[t,n,s,o]=e.spans.reduce(((e,t)=>(e[0]=Math.min(e[0],t.row),e[1]=Math.max(e[1],t.row),e[2]=Math.min(e[2],t.colFrom),e[3]=Math.max(e[3],t.colTo),e)),[1/0,-1/0,1/0,-1/0]),a=i.denormalizeCol(h.col,h.world),l=r.getColumnForX(i.getXForColumn(a)),c=r.getRowForY(i.getYForRow(h.row)),u=r.getColumnForX(i.getXForColumn(a+1))-1,d=r.getRowForY(i.getYForRow(h.row+1))-1;return!(l>o||u<s||c>n||d<t)}const n=r.denormalizeCol(h.col,h.world);return e.spans.some((e=>e.row===h.row&&e.colFrom<=n&&e.colTo>=n))}normalizeBounds(e,t,i){if(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._wrap){const t=(0,r.Vp)(this.tileInfo.spatialReference),n=-i*(t.valid[1]-t.valid[0]);e[0]+=n,e[2]+=n}return e}getSmallestInfoForScale(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>t[0])return this._infoByScale[t[0]];for(let i=1;i<t.length-1;i++)if(e>t[i]+1e-6)return this._infoByScale[t[i-1]];return this._infoByScale[t[t.length-1]]}getClosestInfoForScale(e){const t=this.scales;return this._infoByScale[e]||(e=t.reduce(((t,i)=>Math.abs(i-e)<Math.abs(t-e)?i:t),t[0])),this._infoByScale[e]}scaleToLevel(e){const t=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let i=t.length-1;i>=0;i--)if(e<t[i])return i===t.length-1?this._infoByScale[t[t.length-1]].level:this._infoByScale[t[i]].level+(t[i]-e)/(t[i]-t[i+1]);return this._infoByScale[t[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,t,i){const r=this._infoByLevel[i.level];return e.set(i),t.resolution<r.resolution?null:(t.resolution===r.resolution||(e.level=t.level,e.col=Math.floor(i.col*r.resolution/t.resolution+.01),e.row=Math.floor(i.row*r.resolution/t.resolution+.01)),e)}}},42482:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r=i(90086);class n{static{this.pool=new r.A(n,null,null,25,50)}static getId(e,t,i,r){return"object"==typeof e?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${t}/${i}/${r}`}constructor(e,t,i,r){this.set(e,t,i,r)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,t=4095&this.col,i=63&this.level;return(3&this.world)<<30|t<<22|e<<8|i}acquire(e,t,i,r){this.set(e,t,i,r)}contains(e){const t=e.level-this.level;return t>=0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}containsChild(e){const t=e.level-this.level;return t>0&&this.row===e.row>>t&&this.col===e.col>>t&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new n(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,t,i,r){if(null==e)this.level=0,this.row=0,this.col=0,this.world=0;else if("object"==typeof e)this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if("string"==typeof e){const[t,i,r,n]=e.split("/");this.level=parseFloat(t),this.row=parseFloat(i),this.col=parseFloat(r),this.world=parseFloat(n)}else this.level=+e,this.row=+t,this.col=+i,this.world=+r||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new n(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,t,i){const r=this.clone();return r.col+=e,r.row+=t,i.normalizeKey(r),r}getChildKeys(){const e=this.level+1,t=this.row<<1,i=this.col<<1,r=this.world;return[new n(e,t,i,r),new n(e,t,i+1,r),new n(e,t+1,i,r),new n(e,t+1,i+1,r)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}}},36791:(e,t,i)=>{"use strict";i.d(t,{A:()=>w});var r=i(66866),n=i(52495),s=i(82256),o=i(6267),a=i(76286),l=i(21564),c=(i(39831),i(539),i(9272),i(63863)),u=i(60704),h=i(40189),d=i(20748),p=i(71416),f=i(61449),m=i(40315);class y{constructor(e,t){this.item=e,this.controller=t,this.promise=null}}class g{constructor(e){this._schedule=null,this._task=null,this._deferreds=new p.A,this._controllers=new p.A,this._processingItems=new p.A,this._pausedSignal=(0,m.v)(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new d.A(e.peeker),this.process=e.process;const t=e.scheduler;e.priority&&t&&(this._task=t.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=(0,o.xt)(this._schedule),this._task=(0,o.xt)(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(e){const t=this._controllers.get(e);t&&t.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((t=>e.push(t))),this._controllers.clear(),e.forEach((e=>e.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((t,i)=>e(i)))}get(e){const t=this._deferreds.get(e);return t?t.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,t){const i=this.get(e);if(i)return i;const r=new AbortController;let n=null;t&&(n=(0,h.u7)(t,(()=>r.abort())));const s=()=>{o.remove(),null!=n&&n.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},o=(0,h.NY)(r.signal,(()=>{const t=this._processingItems.get(e);t&&t.controller.abort(),s(),a.reject((0,h.NK)())})),a=(0,h.Tw)();return this._deferreds.set(e,a),this._controllers.set(e,r),a.promise.then(s,s),this._queue.push(e),this._scheduleNext(),a.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject((0,h.NK)()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const t of e)this._queue.push(t.item),t.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=(0,f._)((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(t))}_processError(e,t){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(t))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(null==e)return;let t;const i=new AbortController,r=new y(e,i);this._processingItems.set(e,r);try{t=this.process(e,i.signal)}catch(n){this._processError(r,n)}(0,h.$X)(t)?(r.promise=t,t.then((e=>this._processResult(r,e)),(e=>this._processError(r,e)))):this._processResult(r,t)}get test(){}}const _=[0,0];let v=class extends n.A{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:t,scheduler:i,priority:r}=this;this._queue=new g({concurrency:e,scheduler:i,priority:r,process:(e,i)=>{const r=this._keyToItem.get(e);return t(r,{signal:i})},peeker:e=>this._peek(e)})}destroy(){this.clear(),this._queue=(0,o.pR)(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const t="string"==typeof e?e:e.id;this._queue.abort(t)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return"string"==typeof e?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const t=e.key.id;if(this._queue.has(t))return this._queue.get(t);const i=this._queue.push(t),r=this.tileInfoView.getTileScale(e.key),n=(0,s.tE)(this._tilesByScale,r,(()=>new Set)),o=()=>{n.delete(e.key),0===n.size&&this._tilesByScale.delete(r),this._keyToItem.delete(t)};return n.add(e.key),this._keyToItem.set(t,e),i.then(o,o),i}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const t=new Set;for(const s of e)t.add(this._keyToItem.get(s).key);const i=this.state.scale;let r,n=Number.POSITIVE_INFINITY;for(const[s,o]of this._tilesByScale)if((0,a.bw)(o,(e=>t.has(e)))){const e=Math.abs(s-i);e<n&&(r=o,n=e)}return this._getClosestTileKey(r,e).id}_getClosestTileKey(e,t){const i=this.tileInfoView,r=this.state.center;let n,s=Number.POSITIVE_INFINITY;for(const o of e)if(t.has(o.id)){i.getTileCoords(_,o);const e=(0,u.Io)(_,r);e<s&&(s=e,n=o)}return n}};(0,r._)([(0,l.MZ)({constructOnly:!0})],v.prototype,"concurrency",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0})],v.prototype,"priority",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0})],v.prototype,"process",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0})],v.prototype,"scheduler",void 0),(0,r._)([(0,l.MZ)()],v.prototype,"state",void 0),(0,r._)([(0,l.MZ)({constructOnly:!0})],v.prototype,"tileInfoView",void 0),v=(0,r._)([(0,c.$)("esri.views.2d.tiling.TileQueue")],v);const w=v},62540:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var r=i(80510),n=i(60704);class s{constructor(e,t,i){this.maxSize=e,this._tileInfoView=t,this._removedFunc=i,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const t=this._tilePerId.get(e);if(!t)return;const i=t.key.level,r=this._tileKeysPerLevel[i];o(this._tilePerId,e);for(let n=0;n<r.length;n++)if(r[n].id===e){r.splice(n,1);break}return t.visible=!0,t}add(e){e.visible=!1;const t=e.key,i=t.id;if(this._tilePerId.has(i))return;this._tilePerId.set(i,e);const r=t.level;this._tileKeysPerLevel[r]||(this._tileKeysPerLevel[r]=[]),this._tileKeysPerLevel[r].push(t)}prune(e,t,i){let r=this._tilePerId.size;if(r<=this.maxSize)return;let n=this._tileKeysPerLevel.length-1;for(;r>this.maxSize&&n>=0;)n!==e&&(r=this._pruneAroundCenterTile(r,t,i,n)),n--;r>this.maxSize&&(r=this._pruneAroundCenterTile(r,t,i,e))}_pruneAroundCenterTile(e,t,i,r){const s=this._tileKeysPerLevel[r];if(!s||0===s.length)return e;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=i*o[0],c=i*o[1],u=[0,0],h=[0,0];for(s.sort(((e,i)=>(u[0]=a.x+l*(e.col+.5),u[1]=a.y-c*(e.row+.5),h[0]=a.x+l*(i.col+.5),h[1]=a.y-c*(i.row+.5),(0,n.hG)(u,t)-(0,n.hG)(h,t))));s.length>0;){const t=s.pop();if(this._removeTile(t.id),--e===this.maxSize)break}return e}_removeTile(e){const t=this._tilePerId.get(e);this._removedFunc&&t&&this._removedFunc(t),o(this._tilePerId,e)}}function o(e,t){e.delete(t)}var a=i(45815);const l=new(i(42482).A)(0,0,0,0),c=new Map,u=[],h=[];class d{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,null!=e.resampling&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),null!=e.buffer&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new s(e.cacheSize,this.tileInfoView,(e=>{this.releaseTile(e)})))}destroy(){this.tileIndex.clear()}update(e){const{resampling:t,tileIndex:i}=this,{scale:r,center:n,resolution:s}=e.state,{minScale:o,maxScale:d}=this.tileInfoView,p=!e.stationary&&r>this._previousScale;if(this._previousScale=r,!t&&(r>o||r<d))return this.tiles.length=0,void this.clear();const f=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!f)return this.tiles.length=0,void this.clear();const{spans:m,lodInfo:y}=f,{level:g}=y;this.tiles.length=0,i.forEach((e=>e.visible=!0));let _=0,v=0;if(m.length>0)for(const{row:a,colFrom:u,colTo:h}of m)for(let e=u;e<=h;e++){_++;const t=l.set(g,a,y.normalizeCol(e),y.getWorldForColumn(e)).id;let r=i.get(t);if(r)r.isReady?(c.set(t,r),v++):p||this._addParentTile(t,c);else{if(this._tileCache?.has(t)){if(r=this._tileCache.pop(t),this.tileIndex.set(t,r),r.isReady){c.set(t,r),v++;continue}}else r=this.acquireTile(l),this.tileIndex.set(t,r);p||this._addParentTile(t,c)}}const w=v===_;for(const[a,b]of i){if(c.has(a))continue;l.set(a);const e=this.tileInfoView.intersects(f,l),t="purge"===this.cachePolicy?l.level!==g:l.level>g;!e||!p&&w?!t&&e||u.push(b):b.isReady?t&&"purge"===this.cachePolicy&&this._hasReadyAncestor(l,g)?u.push(b):h.push(b):t&&u.push(b)}for(const a of h)a.isReady&&c.set(a.key.id,a);for(const a of u)this._tileCache?this._tileCache.add(a):this.releaseTile(a),i.delete(a.key.id);for(const a of c.values())this.tiles.push(a);for(const a of i.values())c.has(a.key.id)||(a.visible=!1);this._tileCache?.prune(g,n,s),a.A.pool.release(f),h.length=0,u.length=0,c.clear()}clear(){const{tileIndex:e}=this;for(const t of e.values())this.releaseTile(t);e.clear()}refresh(e){for(const t of this.tileIndex.values())e(t);this._tileCache?.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,t){let i=e,r=null;for(;i=this.tileInfoView.getTileParentId(i),i;)if(this.tileIndex.has(i)){if(r=this.tileIndex.get(i),r?.isReady){t.has(r.key.id)||t.set(r.key.id,r);break}}else if(this._tileCache?.has(i)&&(r=this._tileCache.pop(i),this.tileIndex.set(i,r),r?.isReady)){t.has(r.key.id)||t.set(r.key.id,r);break}}_hasReadyAncestor(e,t){const i=(0,r.vt)();this.tileInfoView.getTileBounds(i,e,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=t&&n.key.level<e.level){const e=(0,r.vt)();if(this.tileInfoView.getTileBounds(e,n.key,!0),(0,r.gR)(e,i))return!0}return!1}}},26348:(e,t,i)=>{"use strict";function r(e,t,i,r){const n=3*e,s=3*(i-e)-n,o=1-n-s,a=3*t,l=3*(r-t)-a,c=1-a-l;function u(e){return((o*e+s)*e+n)*e}function h(e){return(3*o*e+2*s)*e+n}return function(e,t=1e-6){return function(e){return((c*e+l)*e+a)*e}(function(e,t){let i,r,n,s,o,a;for(n=e,a=0;a<8;a++){if(s=u(n)-e,Math.abs(s)<t)return n;if(o=h(n),Math.abs(o)<1e-6)break;n-=s/o}if(i=0,r=1,n=e,n<i)return i;if(n>r)return r;for(;i<r;){if(s=u(n),Math.abs(s-e)<t)return n;e>s?i=n:r=n,n=.5*(r-i)+i}return n}(e,t))}}i.d(t,{Z0:()=>n,gb:()=>r});const n={};n.ease=r(.25,.1,.25,1),n.linear=r(0,0,1,1),n.easeIn=n["ease-in"]=r(.42,0,1,1),n.easeOut=n["ease-out"]=r(0,0,.58,1),n.easeInOut=n["ease-in-out"]=r(.42,0,.58,1)},25887:(e,t,i)=>{"use strict";i.d(t,{$0:()=>W,AU:()=>T,C:()=>C,FT:()=>G,GL:()=>F,Hn:()=>L,Ji:()=>B,RG:()=>U,UR:()=>K,WK:()=>Y,XR:()=>q,Z7:()=>O,aA:()=>te,b:()=>R,b8:()=>N,cp:()=>j,hV:()=>z,iB:()=>I,nr:()=>V,qV:()=>X,ri:()=>D,s5:()=>$,tj:()=>H,vt:()=>P});var r=i(29107),n=i(48982),s=i(92504),o=i(92976),a=i(65257),l=i(79190),c=i(50424),u=i(60704),h=i(59646),d=i(84698),p=i(88266),f=i(97066),m=i(68490),y=i(78983),g=i(65231),_=i(87926);const v=96,w=39.37,b=180/Math.PI;function M(e){return e.wkid?e:e.spatialReference||y.A.WGS84}function A(e,t){return t.type?(0,u.hZ)(e,t.x,t.y):(0,u.C)(e,t)}function S(e){return(0,o.GA)(e)}function T(e,t,i=0){let r=e.width,n=e.height;if(0!==i){const t=(0,s.kU)(i),o=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t));r=e.width*o+e.height*a,n=e.width*a+e.height*o}const o=Math.max(1,t[0]),a=Math.max(1,t[1]);return Math.max(r/o,n/a)*function(e){return(0,_.fn)(e)?S(e)*w*v:1}(e.spatialReference)}async function E(e,t,i,r){let s,o;if(!e)return null;if(Array.isArray(e)&&!e.length)return null;if(n.A.isCollection(e)&&(e=e.toArray()),Array.isArray(e)&&e.length&&"object"==typeof e[0]){const n=e.every((e=>"attributes"in e)),s=e.some((e=>!e.geometry));let o=e;if(n&&s&&t&&t.allLayerViews){const i=new Map;for(const t of e){const e=t.layer,r=i.get(e)||[],n=t.attributes[e.objectIdField];null!=n&&r.push(n),i.set(e,r)}const r=[];i.forEach(((e,i)=>{const n=t.allLayerViews?.find((e=>e.layer.id===i.id));if(n&&"queryFeatures"in n){const t=i.createQuery();t.objectIds=e,t.returnGeometry=!0,r.push(n.queryFeatures(t))}}));const n=await Promise.all(r),s=[];for(const e of n)if(e&&e.features&&e.features.length)for(const t of e.features)null!=t.geometry&&s.push(t.geometry);o=s}for(const e of o)r=await E(e,t,i,r);return r}if(Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1])s=new f.A(e);else if(e instanceof p.A)s=e;else if("geometry"in e)if(e.geometry)s=e.geometry;else if(e.layer){const i=e.layer,r=t.allLayerViews?.find((e=>e.layer.id===i.id));if(r&&"queryFeatures"in r){const t=i.createQuery();t.objectIds=[e.attributes[i.objectIdField]],t.returnGeometry=!0;const n=await r.queryFeatures(t);s=n?.features?.[0]?.geometry}}if(null==s)return null;switch(s.type){case"point":o=new d.A({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":o=(0,g.Hr)(s);break;default:o=s.extent}if(!o)return null;(0,m.isLoaded)()||(0,m.canProjectWithoutEngine)(o.spatialReference,i)||await(0,m.load)();const a=(0,m.project)(o,i);if(!a)return null;if(r){const e=a.center,t=e.clone();t.x=(0,g.O7)(e.x,r.center.x,i),t.x!==e.x&&a.centerAt(t),r=r.union(a)}else r=a;return r}function x(e,t){const i=M(e);return(0,_.aI)(i,t)||i.imageCoordinateSystem||t.imageCoordinateSystem?e:(0,m.project)(e,t)}async function P(e,t){if(!e||!t)return new r.A({targetGeometry:new f.A,scale:0,rotation:0});let i=t.spatialReference;const{constraints:n,padding:s,viewpoint:o,size:a}=t,l=[s?a[0]-s.left-s.right:a[0],s?a[1]-s.top-s.bottom:a[1]];let c=null;e instanceof r.A?c=e:e.viewpoint?c=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(c=e.target);let u=null;c?.targetGeometry?u=c.targetGeometry:e instanceof d.A?u=e:e instanceof p.A?u=await E(e,t,i):e&&(u=await E(e.center,t,i)||await E(e.target,t,i)||await E(e,t,i)),!u&&o?.targetGeometry?u=o.targetGeometry:!u&&t.extent&&(u=t.extent),i||(i=M(t.spatialReference||t.extent||u)),(0,m.isLoaded)()||(0,_.aI)(u.spatialReference,i)||(0,m.canProjectWithoutEngine)(u.spatialReference,i)||await(0,m.load)();const h=x(u,i),y="center"in h?h.center:h;!1!==t.pickClosestTarget&&"point"===y.type&&"point"===o.targetGeometry?.type&&(y.x=(0,g.O7)(y.x,o.targetGeometry.x,y.spatialReference));let v=0;c?v=c.rotation:e.hasOwnProperty("rotation")?v=e.rotation:o&&(v=o.rotation);let w=0;w=null!=c?.targetGeometry&&"point"===c.targetGeometry.type?c.scale:"scale"in e&&e.scale?e.scale:"zoom"in e&&-1!==e.zoom&&n&&n.effectiveLODs?n.zoomToScale(e.zoom):Array.isArray(u)||"point"===u.type||"extent"===u.type&&0===u.width&&0===u.height?o.scale:T(x(u.extent,i),l,v);const b=function(e){if(e&&(!Array.isArray(e)||"number"!=typeof e[0])&&("object"==typeof e||Array.isArray(e)&&"object"==typeof e[0])){if("layer"in e&&null!=e.layer?.minScale&&null!=e.layer.maxScale){const t=e.layer;return{min:t.minScale,max:t.maxScale}}if(Array.isArray(e)&&e.length&&e.every((e=>"layer"in e))){let t=0,i=0;for(const r of e){const e=r.layer;e?.minScale&&e.maxScale&&(t=e.minScale<t?e.minScale:t,i=e.maxScale>i?e.maxScale:i)}return t&&i?{min:t,max:i}:null}}}(e.target??e);b&&(b.min&&b.min<w?w=b.min:b.max&&b.max>w&&(w=b.max));let A=new r.A({targetGeometry:y,scale:w,rotation:v});return n&&(A=n.fit(A),n.constrainByGeometry(A),n.rotationEnabled||(A.rotation=o.rotation)),A}function C(e,t){const i=e.targetGeometry,r=t.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,e.scale=t.scale,e.rotation=t.rotation,e}function I(e,t,i){return i?(0,u.hZ)(e,.5*(t[0]-i.right+i.left),.5*(t[1]-i.bottom+i.top)):(0,u.hs)(e,t,.5)}const O=function(){const e=(0,h.vt)();return function(t,i,r){const n=i.targetGeometry;A(e,n);const s=.5*L(i);return t.xmin=e[0]-s*r[0],t.ymin=e[1]-s*r[1],t.xmax=e[0]+s*r[0],t.ymax=e[1]+s*r[1],t.spatialReference=n.spatialReference,t}}();function R(e,t,i,r,n){return B(e,t,i.center),e.scale=T(i,r),n?.constraints?.constrain(e),e}const N=function(){const e=(0,h.vt)();return function(t,i,r){return(0,u.jb)(t,function(e,t){return(0,u.hs)(e,t,.5)}(t,i),I(e,i,r))}}(),k=function(){const e=(0,c.vt)(),t=(0,h.vt)();return function(i,r,n,s){const o=L(r),a=Z(r);return(0,u.hZ)(t,o,o),(0,l.CV)(e,t),(0,l.e$)(e,e,a),(0,l.Tl)(e,e,N(t,n,s)),(0,l.Tl)(e,e,[0,s.top-s.bottom]),(0,u.hZ)(i,e[4],e[5])}}();function L(e){return e.scale*D(e.targetGeometry?.spatialReference)}function D(e){return(0,_.fn)(e)?1/(S(e)*w*v):1}function Z(e){return(0,a.DF)(e.rotation)||0}const F=function(){const e=(0,h.vt)(),t=(0,h.vt)(),i=(0,h.vt)();return function(r,n,s,o,a,c){return(0,u.ze)(e,n),(0,u.hs)(t,s,.5*c),(0,u.hZ)(i,1/o*c,-1/o*c),(0,l.kN)(r,t),a&&(0,l.e$)(r,r,a),(0,l.hs)(r,r,i),(0,l.Tl)(r,r,e),r}}(),U=function(){const e=(0,h.vt)();return function(t,i,r,n){const s=L(i),o=Z(i);return A(e,i.targetGeometry),F(t,e,r,s,o,n)}}(),j=function(){const e=(0,h.vt)();return function(t,i,r,n){const s=L(i);return A(e,i.targetGeometry),F(t,e,r,s,0,n)}}();function G(e){const t=(0,_.Vp)(e);return t?t.valid[1]-t.valid[0]:0}function z(e,t){return Math.round(G(e)/t)}const $=function(){const e=(0,h.vt)(),t=(0,h.vt)(),i=[0,0,0];return function(r,n,s){(0,u.Re)(e,r,n),(0,u.S8)(e,e),(0,u.Re)(t,r,s),(0,u.S8)(t,t),(0,u.$A)(i,e,t);let o=Math.acos((0,u.Om)(e,t)/((0,u.Bw)(e)*(0,u.Bw)(t)))*b;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),V=function(){const e=(0,h.vt)();return function(t,i,r,n){const s=t.targetGeometry;return C(t,i),k(e,i,r,n),s.x+=e[0],s.y+=e[1],t}}(),B=function(e,t,i){C(e,t);const r=e.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,e},q=function(){const e=(0,h.vt)();return function(t,i,r,n,s){s||(s="center"),(0,u.jb)(e,r,n),(0,u.hs)(e,e,.5);const o=e[0],a=e[1];switch(s){case"center":(0,u.hZ)(e,0,0);break;case"left":(0,u.hZ)(e,-o,0);break;case"top":(0,u.hZ)(e,0,a);break;case"right":(0,u.hZ)(e,o,0);break;case"bottom":(0,u.hZ)(e,0,-a);break;case"top-left":(0,u.hZ)(e,-o,a);break;case"bottom-left":(0,u.hZ)(e,-o,-a);break;case"top-right":(0,u.hZ)(e,o,a);break;case"bottom-right":(0,u.hZ)(e,o,-a)}return te(t,i,e),t}}();function H(e,t,i){return C(e,t),e.rotation+=i,e}function W(e,t,i){return C(e,t),e.rotation=i,e}const J=function(){const e=(0,h.vt)();return function(t,i,r,n,s){return C(t,i),isNaN(r)||0===r||(Q(e,n,i,s),t.scale=i.scale*r,ee(e,e,t,s),te(t,t,(0,u.hZ)(e,e[0]-n[0],n[1]-e[1]))),t}}();function K(e,t,i){return C(e,t),e.scale=i,e}const Y=function(){const e=(0,h.vt)();return function(t,i,r,n,s,o){return C(t,i),isNaN(r)||0===r||(Q(e,s,i,o),t.scale=i.scale*r,t.rotation+=n,ee(e,e,t,o),te(t,t,(0,u.hZ)(e,e[0]-s[0],s[1]-e[1]))),t}}(),X=function(){const e=(0,h.vt)(),t=(0,h.vt)();return function(i,r,n,s,o,a,l){return N(t,a,l),(0,u.WQ)(e,o,t),s?Y(i,r,n,s,e,a):J(i,r,n,e,a)}}(),Q=function(){const e=(0,c.vt)();return function(t,i,r,n){return(0,u.l0)(t,i,function(e,t,i,r){return U(e,t,i,r),(0,l.B8)(e,e)}(e,r,n,1))}}(),ee=function(){const e=(0,c.vt)();return function(t,i,r,n){return(0,u.l0)(t,i,U(e,r,n,1))}}(),te=function(){const e=(0,h.vt)(),t=(0,c.vt)();return function(i,r,n){C(i,r);const s=L(r),o=i.targetGeometry;return(0,l.$0)(t,Z(r)),(0,l.hs)(t,t,(0,h.fA)(s,s)),(0,u.l0)(e,n,t),o.x+=e[0],o.y+=e[1],i}}()},7741:(e,t,i)=>{"use strict";i.d(t,{A:()=>ua});var r=i(66866),n=i(21564),s=i(39831),o=i(539),a=(i(9272),i(63863)),l=i(29107),c=i(48982),u=i(14798),h=i(98849),d=i(6267),p=i(85251),f=i(90752),m=i(4130),y=i(73446),g=i(62802),_=i(68490),v=i(65228),w=i(58392);const b={widthBreakpoint:{getValue(e){const t=e.viewSize[0],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const t=e.viewSize[1],i=e.breakpoints,r=this.values;return t<=i.xsmall?r.xsmall:t<=i.small?r.small:t<=i.medium?r.medium:t<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const t=e.viewSize,i=t[0],r=t[1],n=this.values;return r>=i?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},M={xsmall:544,small:768,medium:992,large:1200};function A(e,t){return t?b[e].valueToClassName[t].split(" "):[]}const S=e=>{let t=class extends e{constructor(...e){super(...e),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=M}initialize(){this.addHandles((0,p.wB)((()=>[this.breakpoints,this.size]),(()=>this._updateClassNames()),p.Vh))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(e){if(e!==this._get("breakpoints")){if(!function(e){const t=e;return t&&t.xsmall<t.small&&t.small<t.medium&&t.medium<t.large}(e)){const t=JSON.stringify(M,null,2);console.warn("provided breakpoints are not valid, using defaults:"+t),e=M}this._set("breakpoints",{...e})}}_updateClassNames(){if(!this.container)return;const e=w.A.acquire(),t=w.A.acquire();let i,r=!1;for(i in b){const n=this[i],s=b[i].getValue({viewSize:this.size,breakpoints:this.breakpoints});n!==s&&(r=!0,this[i]=s,A(i,n).forEach((e=>t.push(e))),A(i,s).forEach((t=>e.push(t))))}r&&(this._applyClassNameChanges(e,t),w.A.release(e),w.A.release(t))}_applyClassNameChanges(e,t){const i=this.container;i&&(t.forEach((e=>i.classList.remove(e))),e.forEach((e=>i.classList.add(e))))}_removeActiveClassNames(){const e=this.container;if(!e)return;let t;for(t in b)A(t,this[t]).forEach((t=>e.classList.remove(t)))}};return(0,r._)([(0,n.MZ)()],t.prototype,"breakpoints",null),(0,r._)([(0,n.MZ)()],t.prototype,"orientation",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"widthBreakpoint",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"heightBreakpoint",void 0),t=(0,r._)([(0,a.$)("esri.views.BreakpointsOwner")],t),t};var T=i(75290),E=i(64874),x=i(20464),P=i(61449),C=i(52495),I=i(4238),O=(i(59078),i(40067));let R=class extends C.A{constructor(){super(...arguments),this.items=new c.A,this._watchUpdatingTracking=new I.U,this._callbacks=new Map,this._projector=(0,O.F)(),this._hiddenProjector=(0,O.F)()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange((()=>this.items),(e=>{for(const t of e.added){const e=()=>t.render();this._callbacks.set(t,e),this._projector.append(this.surface,e)}for(const t of e.removed){const e=this._projector.detach(this._callbacks.get(t));this.surface.removeChild(e.domNode),this._callbacks.delete(t)}}))}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach((e=>this._projector.detach(e))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const t=this._hiddenSurface,i=this._hiddenProjector;let r;const n=()=>(r=e.render(),r);i.append(t,n),i.renderNow();const s={left:0,top:0,right:0,bottom:0};if(r?.domNode){const e=r.domNode.getBoundingClientRect();s.left=e.left,s.top=e.top,s.right=e.right,s.bottom=e.bottom}for(i.detach(n);t.firstChild;)t.removeChild(t.firstChild);return s}overlaps(e,t){const i=this.computeBoundingRect(e),r=this.computeBoundingRect(t);return Math.max(i.left,r.left)<=Math.min(i.right,r.right)&&Math.max(i.top,r.top)<=Math.min(i.bottom,r.bottom)}get hasVisibleItems(){return this.items.some((e=>e.visible))}async prepare(){await document.fonts.load(this._fontString()).catch((()=>{}))}renderCanvas(e,t){const i=!!t?.disableDecorations;if(!this.items.some((e=>e.visible&&!(i&&e.isDecoration))))return;const r=e.getContext("2d");r.save(),r.font=this._fontString(),this.items.forEach((e=>{i&&e.isDecoration||(r.save(),e.renderCanvas(r),r.restore())})),r.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};(0,r._)([(0,n.MZ)({readOnly:!0})],R.prototype,"surface",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],R.prototype,"items",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],R.prototype,"needsRender",null),(0,r._)([(0,n.MZ)({readOnly:!0})],R.prototype,"_watchUpdatingTracking",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],R.prototype,"updating",null),R=(0,r._)([(0,a.$)("esri.views.overlay.ViewOverlay")],R);const N=R,k=[0,0];function L(e){const t=(e.ownerDocument||window.document).defaultView,i=e.getBoundingClientRect();return k[0]=i.left+(t?.pageXOffset??0),k[1]=i.top+(t?.pageYOffset??0),k}function D(e){e&&(e.textContent="",e.parentNode&&e.parentNode.removeChild(e))}const Z=16,F=750,U=e=>{let t=class extends e{constructor(...e){super(...e),this._freqInfo={freq:Z,time:F},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([(0,p.wB)((()=>this.cursor),(e=>{const{surface:t}=this;t&&t.setAttribute("data-cursor",e)})),(0,p.wB)((()=>this.navigating),(e=>{const{surface:t}=this;t&&t.setAttribute("data-navigating",e.toString())}))])}initialize(){this.addHandles([(0,p.wB)((()=>this.ui),((e,t)=>this._handleUIChange(e,t)),p.Vh),this.on("focus",(()=>this.notifyChange("focused"))),this.on("blur",(()=>this.notifyChange("focused")))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(e){const t=this._get("container"),i=(0,T.$)(e);if(i||"string"!=typeof e||o.A.getLogger(this).error("#container",`element with id '${e}' not found`),t===i)return;if(this._stopMeasuring(),t&&(t.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(D(this.root),this._set("root",null)),this.userContent&&((0,T.y)(this.userContent,t),D(this.userContent),this._set("userContent",null))),!i)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);i.classList.add("esri-view");const r=document.createElement("div");r.className="esri-view-user-storage",(0,T.y)(i,r),i.appendChild(r),this._set("userContent",r);const n=document.createElement("div");n.className="esri-view-root",i.insertBefore(n,i.firstChild),this._set("root",n);const s=document.createElement("div");s.className="esri-view-surface",s.setAttribute("role","application"),s.tabIndex=0,n.appendChild(s),this._set("surface",s);const a=new N;n.appendChild(a.surface),this._set("overlay",a),this.addHandles((0,p.wB)((()=>a.needsRender),(e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=(0,P.mg)({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=(0,d.xt)(this._overlayRenderTaskHandle)}))),this.forceDOMReadyCycle(),this._set("container",i),this._startMeasuring()}get focused(){const e=document.activeElement===this.surface;return document.hasFocus()&&e}get size(){return[this.width,this.height]}set ui(e){const t=this._get("ui");t!==e&&t?.destroy(),this._set("ui",e)}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(e,t,i){const r=this.position;return e-=r?r[0]:0,t-=r?r[1]:0,i?(i[0]=e,i[1]=t):i=[e,t],i}containerToPage(e,t,i){const r=this.position;return e+=r?r[0]:0,t+=r?r[1]:0,i?(i[0]=e,i[1]=t):i=[e,t],i}_handleUIChange(e,t){this.removeHandles("ui"),t&&t!==e&&t.destroy(),e&&(e.view=this,this.addHandles((0,p.wB)((()=>this.root),(t=>{e.container=t?function(e){const t=document.createElement("div");return e.appendChild(t),t}(t):null}),p.Vh),"ui")),this._set("ui",e)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const e=this._freqInfo;e.freq=Z,e.time=F;const t=(0,P.mg)({prepare:e=>{const i=this._measure(),r=this._freqInfo;if(r.time+=e.deltaTime,i&&(r.freq=Z,this._get("resizing")||this._set("resizing",!0)),r.time<r.freq)return;r.time=0;const n=this._position();r.freq=n||i?Z:Math.min(F,2*r.freq),!i&&r.freq>=512&&(t.pause(),this._get("resizing")&&this._set("resizing",!1))}}),i=new ResizeObserver((i=>{e.freq=Z,e.time=F,t.resume()}));null!=this.container&&i.observe(this.container);const r=(0,x.hA)((()=>i.disconnect()));this.addHandles([(0,E.on)(window,"resize",(()=>{e.freq=Z,e.time=F,t.resume()})),r,t],"measuring"),this._measure(),this._position()}_measure(){const e=this.container,t=e?e.clientWidth:0,i=e?e.clientHeight:0;if(0===t||0===i)return this.suspended||this._set("suspended",!0),!1;const r=this.width,n=this.height;return t===r&&i===n?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",t),this._set("height",i),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:r,oldHeight:n,width:t,height:i}),!0)}_position(){const e=this.container,t=this.position,i=e&&L(e);return!(!i||t&&i[0]===t[0]&&i[1]===t[1]||(this._set("position",[i[0],i[1]]),0))}forceDOMReadyCycle(){}};return(0,r._)([(0,n.MZ)()],t.prototype,"container",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"focused",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"height",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"messagesCommon",void 0),(0,r._)([(0,n.MZ)({type:N})],t.prototype,"overlay",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"position",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"resizing",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"root",void 0),(0,r._)([(0,n.MZ)({value:null,readOnly:!0})],t.prototype,"size",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"surface",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"suspended",void 0),(0,r._)([(0,n.MZ)({nonNullable:!0})],t.prototype,"ui",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"userContent",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"width",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"widthBreakpoint",void 0),t=(0,r._)([(0,a.$)("esri.views.DOMContainer")],t),t};var j=i(12690),G=i(40189),z=i(54874);function $(e){return null!=e&&"open"in e&&"declaredClass"in e}function V(e){return null!=e&&"declaredClass"in e&&"dockOptions"in e}const B=e=>{let t=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([(0,p.wB)((()=>[this.ui,this.popup]),(([e,t],i)=>{const r="popup";if(i){const[e,n]=i;e&&$(n)&&(n.view=null,V(n)&&(e.remove(n,r),n!==t&&t&&n.destroy()))}e&&$(t)&&(t.view=this,V(t)&&e.add(t,{key:r,position:"manual",internal:!0}))}),p.pc),this.on("click",(e=>{this.popup&&this.popupEnabled&&("mouse"!==e.pointerType||0===e.button)&&($(this.popup)?this.popup.viewModel.handleViewClick(e):e.defer((async()=>{await this.setupPopup(),$(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(e)})))}),z.o.WIDGET)]),(0,p.C_)((()=>this.ready&&this.popupEnabled&&!this.updating)).then((()=>{Promise.all([i.e(72076),i.e(53255),i.e(77684),i.e(83780),i.e(9190),i.e(36033),i.e(41515),i.e(34706),i.e(2714)]).then(i.bind(i,30617))}))}destroy(){this.destroyed||this.closePopup()}async openPopup(e){if($(this.popup))return this.popup.open(e);try{if(await this.setupPopup(),!this.popup)return void o.A.getLogger(this).error(new h.A("view:null-popup","Popup is null and can't be opened"));this.popup.open(e)}catch{}}closePopup(){this._popupSetupTask?.abort(),$(this.popup)&&this.popup.close()}async fetchPopupFeatures(e,t){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(e,t),t)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!$(this.popup))return this._popupSetupTask=(0,j.UT)((async e=>{const{default:t}=await Promise.all([i.e(72076),i.e(53255),i.e(77684),i.e(83780),i.e(9190),i.e(36033),i.e(41515),i.e(34706),i.e(2714)]).then(i.bind(i,30617));if((0,G.Te)(e),!this.popup||$(this.popup))return;const r=this.popup;delete r.open,delete r.close,this.popup=new t(r)})),this._popupSetupTask.promise}async _popupHitsToFeatures({location:e,hits:t},i){const r=[],n=[];let o=!1;const a=(0,G.YL)(i,(0,s.A)("popup-view-fetch-timeout")??H),l=e=>{const t=n.at(-1);return t&&t.layerView===e&&!o?t:(e=>{const t=new q(e);return n.push(t),r.push(t.promise),t})(e)};for(const s of t)"graphic"in s?(l(s.layerView).graphics.push(s.graphic),o=!1):(r.push(s.layerView.fetchPopupFeaturesAtLocation(s.mapPoint,a)),o=!0);n.map((e=>e.resolve(a)));const c=(0,G.nA)(r).then((e=>e.filter((e=>!!e)).flat()));return{pendingFeatures:r,allGraphicsPromise:c,location:e}}async _getPopupHits(e,t){const{hits:i,location:r}=await this.popupHitTest(e);(0,G.Te)(t);const n=[];for(const s of i)if("graphic"in s){if(this._isValidPopupGraphic(s.graphic,t)){const e=this._isValidPopupGraphicsLayerView(s.layerView)?s.layerView:void 0;n.push({graphic:s.graphic,layerView:e})}}else this._isValidPopupLocationLayerView(s.layerView)&&n.push({mapPoint:s.mapPoint,layerView:s.layerView});return{hits:n,location:r}}_isValidPopupGraphic(e,t){return e&&!!e.getEffectivePopupTemplate(t?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(e){return!e||(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesFromGraphics"in e}_isValidPopupLocationLayerView(e){return(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesAtLocation"in e}};return(0,r._)([(0,n.MZ)()],t.prototype,"popup",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"popupEnabled",void 0),t=(0,r._)([(0,a.$)("esri.views.PopupView")],t),t};class q{constructor(e){this.layerView=e,this._resolver=(0,G.Tw)(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:t,graphics:i,_resolver:r}=this;if(!t)return r.resolve(i),r.promise;let n;return t.fetchPopupFeaturesFromGraphics(i,e).catch((e=>(n=e,null))).then((e=>{e?r.resolve(e):r.reject(n)})),r.promise}}const H=5e3;var W=i(53174),J=i(4194),K=i(17306),Y=i(1436),X=i(45307),Q=i(84410),ee=i(8651),te=i(84698),ie=i(34064),re=i(78983),ne=i(87926);let se=class extends ee.X{constructor(e){super(e),this.addHandles(this.on("before-add",(e=>{null!=e.item&&e.item.parent===this.owner&&(o.A.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),e.preventDefault())})))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};se=(0,r._)([(0,a.$)("esri.support.AnalysesCollection")],se);var oe=i(91394),ae=i(54088),le=i(17197),ce=i(12129);let ue=class extends C.A{constructor(e){super(e),this.view=null,this.baseLayerViews=new c.A,this.referenceLayerViews=new c.A,this._loadingHandle=(0,p.wB)((()=>this.view?.map?.basemap),(e=>{e&&e.load().catch((()=>{}))}),p.Vh)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const e of this.baseLayerViews)e.destroy();this.baseLayerViews.length=0;for(const e of this.referenceLayerViews)e.destroy();this.referenceLayerViews.length=0}get suspended(){return this.view?.suspended??!0}get updating(){if(this.view?.suspended)return!1;const e=this.view?.map?.basemap;return!!e?.loaded&&(this.baseLayerViews.some((e=>e.updating))||this.referenceLayerViews.some((e=>e.updating)))}};(0,r._)([(0,n.MZ)({constructOnly:!0})],ue.prototype,"view",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],ue.prototype,"baseLayerViews",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],ue.prototype,"referenceLayerViews",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],ue.prototype,"suspended",null),(0,r._)([(0,n.MZ)({type:Boolean,readOnly:!0})],ue.prototype,"updating",null),ue=(0,r._)([(0,a.$)("esri.views.BasemapView")],ue);const he=ue;var de=i(89882);let pe=class extends C.A{constructor(e){super(e),this.factor=1.5,this.offset=(0,de.tc)(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};(0,r._)([(0,n.MZ)({type:Number})],pe.prototype,"factor",void 0),(0,r._)([(0,n.MZ)({nonNullable:!0})],pe.prototype,"offset",void 0),(0,r._)([(0,n.MZ)()],pe.prototype,"position",void 0),(0,r._)([(0,n.MZ)({type:Number,range:{min:0}})],pe.prototype,"size",void 0),(0,r._)([(0,n.MZ)()],pe.prototype,"maskUrl",void 0),(0,r._)([(0,n.MZ)()],pe.prototype,"maskEnabled",void 0),(0,r._)([(0,n.MZ)()],pe.prototype,"overlayUrl",void 0),(0,r._)([(0,n.MZ)()],pe.prototype,"overlayEnabled",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],pe.prototype,"version",null),(0,r._)([(0,n.MZ)({type:Boolean})],pe.prototype,"visible",void 0),pe=(0,r._)([(0,a.$)("esri.views.Magnifier")],pe);const fe=pe;var me=i(85569),ye=i(82256),ge=i(71416),_e=i(76286),ve=i(40454),we=i(14474);function be(e){return!(null==e||"object"!=typeof e||!("createQuery"in e)||!e.createQuery)}let Me=class extends K.A.EventedAccessor{constructor(e){super(e),this._selectionMap=new ge.A,this._sources=new c.A,this._trashCan=[],this._layerEditHandles=new c.A,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([(0,p.wB)((()=>[this.view,this.showHighlight]),(()=>this._refreshVisualization())),(0,p.wB)((()=>this.view),(e=>{e?.when().then((()=>this.syncSources()))}),p.Vh),(0,p.on)((()=>this.sources),"change",(e=>{const t=this._selectionMap,i=[];for(const r of e.removed){const e=t.get(r);e&&(t.delete(r),e.highlightHandle?.remove(),i.push({layer:r,selection:[],added:[],removed:[...e.selection]}))}this._refreshListeners(),i.length&&this._onSelectionChange(i)}),{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(d.xt)}get selections(){return Array.from(this._selectionMap.entries()).map((e=>{const[t,i]=e;return{layer:t,selection:[...i.selection]}}))}get count(){let e=0;for(const t of this._selectionMap.values())e+=t.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){(0,J.V)(e,this._sources)}syncSources(){const e=new Set,t=this.view?.map;if(!t)return;const i=t=>{(0,ve.cM)(t)?(t.layers?.forEach(i),t.tables?.forEach(i)):(0,ve.pJ)(t)?(t.sublayers?.forEach(i),t.subtables?.forEach(i)):(0,ve.F2)(t)?t.sublayers?.forEach(i):be(t)&&e.add(t)};t.allLayers.forEach(i),t.allTables.forEach(i),this.sources=[...e]}async getSelectedFeatures(e,t={},i="layerView"){const{view:r,selections:n}=this;if(!r&&"layerView"===i)return o.A.getLogger(this).warn("Cannot query layer views without a view."),[];const s=e?.length?n.filter((t=>e.includes(t.layer))):n,a=[];return s.forEach((async e=>{const{layer:n,selection:s}=e;if(!s.length)return;const o=(0,ve.Sv)(n)?n.parent:n;if(null==o)return;if("layer"===i)return void a.push(Ee(o,s,t));if(Ae(o)||!r||!Se(o))return;const l=await r.whenLayerView(o).catch((()=>null));l&&a.push(Ee(l,s,t))})),(await Promise.all(a)).filter((e=>null!=e))}updateSelection(e){const t=new Map;for(const[n,s]of this._selectionMap)t.set(n,[...s.selection]);let i=!1;const r=e.current.concat(e.added);for(const n of r){const e=n.sourceLayer,r=n.getObjectId();if(this.sources.includes(e)&&(be(e)||(0,ve.Sv)(e))&&null!==r){const n=(0,ye.tE)(t,e,(()=>[]));n.includes(r)||(n.push(r),i=!0)}}for(const n of e.removed){const e=n.sourceLayer,r=n.getObjectId();if(this.sources.includes(e)&&(be(e)||(0,ve.Sv)(e))&&null!==r){const n=t.get(e),s=n?.indexOf(r);void 0!==s&&s>=0&&(n?.splice(s,1),i=!0)}}if(i){const{_selectionMap:e,_trashCan:i}=this,r=[];for(const[n,s]of t){const t=e.get(n);void 0!==t&&i.push(t),e.set(n,{selection:s}),r.push({layer:n,selection:s,...(0,me.iv)(void 0!==t?t.selection:[],s)})}this._onSelectionChange(r)}}setSelection(e,t){this._setSelection(e,t)}getSelection(e){const t=this._selectionMap.get(e);return t?.selection}appendToSelection(e,t){const i=this._selectionMap.get(e),r=void 0!==i?[...i.selection]:[];for(const n of t)r.includes(n)||r.push(n);this._setSelection(e,r)}removeFromSelection(e,t){const i=this._selectionMap.get(e);if(!i)return;const r=[];for(const n of i.selection)t.includes(n)||r.push(n);this._setSelection(e,r)}toggleInSelection(e,t){const i=this._selectionMap.get(e);if(!i||0===i.selection.length)return void this._setSelection(e,t);const r=new Set(i.selection),n=new Set(t),s=(0,_e.BT)(r,n);this._setSelection(e,Array.from(s))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const t=[];for(const[i,r]of this._selectionMap.entries())t.push({layer:i,added:[],removed:[...r.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(t)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){for(this._vizTaskId++;this._trashCan.length>0;){const e=this._trashCan.pop();e?.highlightHandle?.remove()}if(null==this.view)return;const{sources:e,view:t,_selectionMap:i,showHighlight:r}=this,n=this._vizTaskId;for(const s of e){const e=i.get(s),o=(0,ve.Sv)(s)?s.parent:s;if(null!=o&&Se(o)){if(Ae(o))continue;t.whenLayerView(o).then((t=>{e?.highlightHandle?.remove(),null!=e&&r&&n===this._vizTaskId&&"highlight"in t&&"function"==typeof t.highlight&&e.selection.length>0&&(e.highlightHandle=t.highlight(e.selection,this.highlightName))})).catch((()=>{e?.highlightHandle?.remove()}))}}}_refreshListeners(){this._layerEditHandles.drain(d.xt);const e=new Set(this.sources.map((e=>(0,ve.Sv)(e)?e.parent:e)));for(const t of e)be(t)&&"on"in t&&t.on&&this._layerEditHandles.push(t.on("edits",(e=>this._onLayerEdit(e,t))))}_onLayerEdit(e,t){if((0,ve.F2)(t))this._onParentLayerEdit(e,t);else if(e.deletedFeatures.length&&this._selectionMap.has(t)){const i=[];e.deletedFeatures.forEach((({error:e,objectId:t})=>{null!=t&&null==e&&i.push(t)})),this.removeFromSelection(t,i)}}_onParentLayerEdit(e,t){const{deletedFeatures:i,edits:r,updatedFeatures:n}=e;if(r?.updateFeatures?.forEach((e=>{const i=e.getObjectId()??e.attributes[t.objectIdField];if(null==i)return;if(n.find((e=>e.objectId===i))?.error)return;const r=t.findSublayerForFeature(e);if(!be(r))return;const s=t.sublayers.find((e=>!(!be(e)||!this.getSelection(e)?.includes(i))));be(s)&&s!==r&&(this.removeFromSelection(s,[i]),this.appendToSelection(r,[i]))})),i.length){const e=[];i.forEach((({error:t,objectId:i})=>{null!=i&&null==t&&e.push(i)})),t.sublayers.forEach((t=>{be(t)&&this._selectionMap.has(t)&&this.removeFromSelection(t,e)}))}}_setSelection(e,t){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const i=this._selectionMap.get(e);if(void 0===i||!Te(i,{selection:t})){void 0!==i&&this._trashCan.push(i),this._selectionMap.set(e,{selection:[...t]});const r={layer:e,selection:[...t],...(0,me.iv)(void 0!==i?i.selection:[],t)};this._onSelectionChange([r])}}};(0,r._)([(0,n.MZ)()],Me.prototype,"_selectionMap",void 0),(0,r._)([(0,n.MZ)()],Me.prototype,"_sources",void 0),(0,r._)([(0,n.MZ)({readOnly:!0,nonNullable:!0})],Me.prototype,"selections",null),(0,r._)([(0,n.MZ)({readOnly:!0,nonNullable:!0})],Me.prototype,"count",null),(0,r._)([(0,n.MZ)()],Me.prototype,"view",void 0),(0,r._)([(0,n.MZ)({readOnly:!0,nonNullable:!0})],Me.prototype,"hasSelection",null),(0,r._)([(0,n.MZ)()],Me.prototype,"showHighlight",void 0),(0,r._)([(0,n.MZ)()],Me.prototype,"sources",null),(0,r._)([(0,n.MZ)()],Me.prototype,"highlightName",void 0),Me=(0,r._)([(0,a.$)("esri.views.SelectionManager")],Me);const Ae=e=>(0,ve.Sv)(e)?!0===e.parent?.isTable:e.isTable,Se=e=>void 0!==e?.when,Te=(e,t)=>{if(null==e&&null==t)return!0;if(null!=e&&null==t||null==e&&null!=t)return!1;if(null!=e&&null!=t&&null!=e.selection&&null!=t.selection){const i=[...e.selection],r=[...t.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let e=0;e<i.length;e++)if(i[e]!==r[e])return!1}return!0},Ee=async(e,t,i={})=>{let r;if((e=>void 0!==e.layer)(e)){const n=e;r=void 0===n?null:await n.queryFeatures(new we.A({...i,objectIds:t})).then((t=>({data:t,layer:e.layer})))}else{const n=e;r=void 0===n?null:await n.queryFeatures(new we.A({...i,objectIds:t})).then((e=>({data:e,layer:n})))}return r},xe=Me;var Pe=i(96220),Ce=i(24793);let Ie=class extends(Ce.A.ClonableMixin(C.A)){constructor(e){super(e),this.accentColor=new Pe.A([255,127,0]),this.textColor=new Pe.A([255,255,255])}};(0,r._)([(0,n.MZ)({type:Pe.A,nonNullable:!0})],Ie.prototype,"accentColor",void 0),(0,r._)([(0,n.MZ)({type:Pe.A,nonNullable:!0})],Ie.prototype,"textColor",void 0),Ie=(0,r._)([(0,a.$)("esri.views.Theme")],Ie);const Oe=Ie;var Re=i(46577),Ne=i(92504),ke=i(46846);i(37174);const Le=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],De={};function Ze(e){return!!De[e]}Le.forEach((e=>{De[e]=!0}));class Fe{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach((({handler:e,priority:t},i)=>this.inputManager?.installHandlers(i,[e],t)))}disconnect(){this.inputManager&&this._handlers.forEach(((e,t)=>this.inputManager?.uninstallHandlers(t))),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,t,i,r){const n=Array.isArray(e)?e:e.split(",");if(!function(e){for(const t of e)if(!Ze(t))return!1;return!0}(n))return n.some(Ze)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let s,o;Array.isArray(t)?o=t:(s=t,o=[]),"function"==typeof i?s=i:r=i,r=null!=r?r:z.o.DEFAULT;const a=this._createUniqueGroupName(),l=new Ue(this.view,n,o,s);this._handlers.set(a,{handler:l,priority:r});for(const c of n){const e=this._handlerCounts.get(c)||0;this._handlerCounts.set(c,e+1)}return this.inputManager&&this.inputManager.installHandlers(a,[l],r),(0,x.hA)((()=>this._removeHandler(a,n)))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,t){if(this._handlers.has(e)){this._handlers.delete(e);for(const e of t){const t=this._handlerCounts.get(e);void 0===t||(1===t?this._handlerCounts.delete(e):this._handlerCounts.set(e,t-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class Ue extends ke.l{constructor(e,t,i,r){super(!0),this._latestDragStart=void 0,this.view=e;for(const n of t)switch(n){case"click":this.registerIncoming("click",i,(t=>r(ze(e,t))));break;case"double-click":this.registerIncoming("double-click",i,(t=>r($e(e,t))));break;case"immediate-click":this.registerIncoming("immediate-click",i,(t=>r(Ve(e,t))));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",i,(t=>r(Be(e,t))));break;case"hold":this.registerIncoming("hold",i,(t=>r(qe(e,t))));break;case"drag":this.registerIncoming("drag",i,(e=>{const t=this._wrapDrag(e);t&&r(t)}));break;case"key-down":this.registerIncoming("key-down",i,(e=>r(We(e))));break;case"key-up":this.registerIncoming("key-up",i,(e=>r(Je(e))));break;case"pointer-down":this.registerIncoming("pointer-down",i,(e=>r(Ke(e,"pointer-down"))));break;case"pointer-move":this.registerIncoming("pointer-move",i,(e=>r(Ke(e,"pointer-move"))));break;case"pointer-up":this.registerIncoming("pointer-up",i,(e=>r(Ke(e,"pointer-up"))));break;case"pointer-drag":this.registerIncoming("pointer-drag",i,(e=>r(Ye(e))));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",i,(e=>r(Xe(e))));break;case"pointer-enter":this.registerIncoming("pointer-enter",i,(e=>r(Ke(e,"pointer-enter"))));break;case"pointer-leave":this.registerIncoming("pointer-leave",i,(e=>r(Ke(e,"pointer-leave"))));break;case"gamepad":this.registerIncoming("gamepad",i,(e=>{r(Qe(e))}));break;case"focus":this.registerIncoming("focus",i,(e=>{r(je(e))}));break;case"blur":this.registerIncoming("blur",i,(e=>{r(Ge(e))}))}}_wrapDrag(e){const t=e.data,{x:i,y:r}=t.center,{action:n,pointerType:s,button:o}=t;if("start"===n&&(this._latestDragStart=t),!this._latestDragStart)return;const a=t.pointer.native,l=t.buttons,{cancelable:c,timestamp:u}=e,h={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return"end"===n&&(this._latestDragStart=void 0),{type:"drag",action:n,x:i,y:r,origin:h,pointerType:s,button:o,buttons:l,radius:t.radius,angle:(0,Ne.KJ)(t.angle),native:a,timestamp:u,cancelable:c,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}}function je(e){return{type:"focus",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Ge(e){return{type:"blur",timestamp:e.timestamp,native:e.data.native,cancelable:e.cancelable,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function ze(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:c,timestamp:u}=t;return{type:"click",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:u,screenPoint:(0,de.tc)(s,o),mapPoint:He(e,s,o),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function $e(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=t.data,{cancelable:c,timestamp:u}=t;return{type:"double-click",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:u,mapPoint:He(e,s,o),eventId:l,cancelable:c,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function Ve(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:u,timestamp:h}=t;return{type:"immediate-click",pointerId:c,pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:h,mapPoint:He(e,s,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function Be(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=t.data,c=a.pointerId,{cancelable:u,timestamp:h}=t;return{type:"immediate-double-click",pointerId:c,pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:h,mapPoint:He(e,s,o),eventId:l,cancelable:u,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function qe(e,t){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a}=t.data,{cancelable:l,timestamp:c}=t;return{type:"hold",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:c,mapPoint:He(e,s,o),cancelable:l,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function He(e,t,i){return e.toMap((0,de.tc)(t,i),{exclude:[]})}function We(e){const{key:t,repeat:i,native:r}=e.data,{cancelable:n,timestamp:s}=e;return{type:"key-down",key:t,repeat:i,native:r,timestamp:s,cancelable:n,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Je(e){const{key:t,native:i}=e.data,{cancelable:r,timestamp:n}=e;return{type:"key-up",key:t,native:i,timestamp:n,cancelable:r,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Ke(e,t){const{x:i,y:r,button:n,buttons:s,native:o,eventId:a}=e.data,l=o.pointerId,c=o.pointerType,{cancelable:u,timestamp:h}=e;return{type:t,x:i,y:r,pointerId:l,pointerType:c,button:n,buttons:s,native:o,timestamp:h,eventId:a,cancelable:u,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Ye(e){const{x:t,y:i,buttons:r,native:n,eventId:s}=e.data.currentEvent,{button:o}=e.data.startEvent,a=e.data.startEvent.native.pointerId,l=e.data.startEvent.native.pointerType,c=e.data.action,u={x:e.data.startEvent.x,y:e.data.startEvent.y},{cancelable:h,timestamp:d}=e;return{type:"pointer-drag",x:t,y:i,pointerId:a,pointerType:l,button:o,buttons:r,action:c,origin:u,native:n,timestamp:d,eventId:s,cancelable:h,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Xe(e){const{cancelable:t,data:i,timestamp:r}=e,{x:n,y:s,deltaY:o,native:a}=i;return{type:"mouse-wheel",x:n,y:s,deltaY:o,native:a,timestamp:r,cancelable:t,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}function Qe(e){const{action:t,state:i,device:r}=e.data,{cancelable:n,timestamp:s}=e,{buttons:o,axes:a}=i;return{type:"gamepad",device:r,timestamp:s,action:t,buttons:o,axes:a,cancelable:n,stopPropagation:()=>e.stopPropagation(),defer:t=>e.defer(t),preventDefault:()=>e.preventDefault()}}var et=i(27877),tt=i(70384);function it(e){return[e.on("before-add",(t=>{const i=t.item;if(null==i||e.includes(i))return o.A.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void t.preventDefault();i.onAdd()})),e.on("after-remove",(e=>{const t=e.item;t.active&&(t.view.activeTool=null),t.destroy()}))]}function rt(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(et.PK.USER)&&e.getEditableFlag(et.PK.MANAGER)}var nt=i(20092),st=i(30687);class ot{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,t){const i=()=>e.stopPropagation();switch(e.type){case"pointer-move":ct(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:"start"===e.action?this._externallyDragging=!0:"end"===e.action&&(this._externallyDragging=!1),this._stopDrag&&(i(),"end"===e.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!ut(e))break;const r=(0,st.ZV)(e),n=lt(r,e.pointerType,t.forEachTool);if(null==n)break;const s=n.manipulator,o=n.tool;null==s||null==o||!s.interactive||s.grabbable&&s.grabbableForEvent(e)||!s.grabbing||s.dragging||this._releaseManipulatorBeforeDragging(s,e,t),null!=s&&null!=o&&s.interactive&&s.grabbable&&s.grabbableForEvent(e)&&!s.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:s,tool:o,start:r,pointerType:e.pointerType}),1===this._grabbedManipulators.size&&null==t.activeTool&&(this._revertToNullActiveTool=!0,t.setActiveTool(n.tool)),s.grabbing=!0,s.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:r}),i());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,t);break;case"pointer-drag":{if(!ut(e))break;const r=this._grabbedManipulators.get(e.pointerId),n=r?.manipulator,s=r?.tool;if(null==n||null==s)break;const o=(0,st.ZV)(e);o.x=(0,Ne.qE)(o.x,0,t.view.width),o.y=(0,Ne.qE)(o.y,0,t.view.height);const a=r.start,l=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":"update"!==e.action&&1!==this._grabbedManipulators.size||(n.dragging=!0,l?n.events.emit("drag",{action:"update",start:a,screenPoint:o}):n.events.emit("drag",{action:"start",start:a,screenPoint:o,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:s,manipulator:n,start:a}));break;case"end":n.dragging=!1,l&&n.events.emit("drag",{action:"end",start:a,screenPoint:o}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,t)}i();break}case"immediate-click":{const r=(0,st.ZV)(e),n=lt(r,e.pointerType,t.forEachTool);if(function(e){return!!e.native.shiftKey}(e)||t.forEachTool((e=>{if((null==n||n.tool!==e||e.automaticManipulatorSelection)&&e.manipulators){let t=!1;e.manipulators.forEach((({manipulator:e})=>{e.selected&&(e.selected=!1,t=!0)})),t&&e.onManipulatorSelectionChanged&&e.onManipulatorSelectionChanged()}})),null==n)break;const{manipulator:s,tool:o}=n;if(!s.interactive)break;s.selectable&&o.automaticManipulatorSelection&&(s.selected=!s.selected,o.onManipulatorSelectionChanged&&o.onManipulatorSelectionChanged());const a=e.native.shiftKey;s.events.emit("immediate-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:i}),ht(s,i);break}case"click":{const r=(0,st.ZV)(e),n=lt(r,e.pointerType,t.forEachTool),s=n?.manipulator;if(null==s||!s.interactive)break;const o=e.native.shiftKey;s.events.emit(e.type,{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o}),i();break}case"double-click":{const r=(0,st.ZV)(e),n=lt(r,e.pointerType,t.forEachTool),s=null!=n?n.manipulator:null;if(null==s||!s.interactive)break;const o=e.native.shiftKey;s.events.emit("double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:i}),ht(s,i);break}case"immediate-double-click":{const r=(0,st.ZV)(e),n=lt(r,e.pointerType,t.forEachTool),s=null!=n?n.manipulator:null;if(null==s||!s.interactive)break;const o=e.native.shiftKey;s.events.emit("immediate-double-click",{screenPoint:r,button:e.button,pointerType:e.pointerType,shiftKey:o,stopPropagation:i}),"mouse"===e.pointerType&&ht(s,i);break}}this._onFocusChange(t.forEachTool)}_releaseManipulatorBeforeDragging(e,t,i){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:(0,st.ZV)(t)}),this._grabbedManipulators.forEach((({manipulator:t},i)=>{t===e&&this._grabbedManipulators.delete(i)})),this._afterManipulatorRelease(i.setActiveTool)}_handlePointerEnd(e,t){const i=this._grabbedManipulators.get(e.pointerId)?.manipulator;null!=i&&i.grabbing&&(i.grabbing=!1,i.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:(0,st.ZV)(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(t.setActiveTool))}_onFocusChange(e){this._updateCursor(),this._updateFocusedManipulatorTools(e)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=at(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=at(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(e){const t=new Set,i=new Set;this._grabbedManipulators.forEach((({tool:e})=>{t.add(e)})),this._hoveredManipulators.forEach((({tool:e})=>{i.add(e)})),e((e=>{e.hasGrabbedManipulators=t.has(e),e.hasHoveredManipulators=i.has(e);const r=this._grabbedManipulators.values(),n=(0,nt.I6)(r,(({tool:t})=>t===e));e.firstGrabbedManipulator=null!=n?n.manipulator:null}))}clearPointers(e,{forEachTool:t,setActiveTool:i},r=!0,n){const s=(t,i)=>t===e&&(null==n||n===i);this._grabbedManipulators.forEach((({tool:e,manipulator:t,pointerType:i},r)=>{s(e,t)&&(this._grabbedManipulators.delete(r),t.grabbing=!1,t.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:i}))})),this._draggedManipulators.forEach((({tool:e,manipulator:t},i)=>{s(e,t)&&(this._draggedManipulators.delete(i),t.dragging=!1,t.events.emit("drag",{action:"cancel"}))})),r&&this._hoveredManipulators.forEach((({tool:e,manipulator:t},i)=>{s(e,t)&&(this._hoveredManipulators.delete(i),t.hovering=!1)})),this._afterManipulatorRelease(i),this._onFocusChange(t)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach(((t,i)=>{this._updateHoveredStateForPointerAtScreenPosition((0,de.tc)(t.x,t.y),i,t.pointerType,e)}))}handleHoverEvent(e,t){const i=e.type;"pointer-up"!==i&&"immediate-click"!==i&&"pointer-move"!==i||!ct(e.pointerType)||("pointer-up"!==i&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition((0,st.ZV)(e),e.pointerId,e.pointerType,t))}_updateHoveredStateForPointerAtScreenPosition(e,t,i,r){let n=lt(e,i,r);const s=this._hoveredManipulators.get(t)?.manipulator;null==n||n.manipulator.interactive||(n=null),null!=n&&s===n.manipulator||(null!=s&&(s.hovering=!1),null!=n?(n.manipulator.hovering=!0,this._hoveredManipulators.set(t,n)):this._hoveredManipulators.delete(t),this._onFocusChange(r))}_afterManipulatorRelease(e){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach((({manipulator:t},i)=>{e===i&&(this._hoveredManipulators.delete(e),t.hovering=!1)}))}}function at(e){for(const{manipulator:t}of e.values())if(null!=t&&t.interactive){if(t.grabbing&&t.grabCursor)return t.grabCursor;if(t.cursor)return t.cursor}return null}function lt(e,t,i){let r=null;return i((i=>{if(null==i.manipulators||!rt(i))return!1;const n=i.manipulators.intersect(e,t);return null!=n&&(r={tool:i,manipulator:n},!0)})),r}function ct(e){return"mouse"===e}function ut(e){return"mouse"!==e.pointerType||0===e.button}function ht(e,t){e?.consumesClicks&&t()}const dt="attached",pt="tools";let ft=class extends C.A{constructor(e){super(e),this._updatingHandles=new I.U,this._clock=Re.p,this._manipulatorState=new ot,this.tools=new c.A,this.cursor=null,this._interacting=!1,this._interactingTimeout=1e3,this._interactingTimeoutHandle=null,this._forEachTool=e=>{for(const t of this.tools.items)if(e(t))return}}initialize(){this.addHandles([this.view.on(Le,(e=>{this._handleInputEvent(e)}),z.o.TOOL),...it(this.tools),this.tools.on("before-add",(({item:e})=>{this._updateToolEditableFlag(e)})),this.tools.on("before-remove",(({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()})),this.tools.on("change",(()=>{this._refreshToolWatchers()}))])}destroy(){this.activeTool=null,this.tools.drain((e=>e.destroy())),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(null!=e&&!this.view.ready)return void o.A.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const t=this.activeTool;this._set("activeTool",e),null!=t&&t.deactivate(),null!=e&&e.activate(),this._removeIncompleteTools(e);for(const i of this.tools){this._updateToolEditableFlag(i);const e=rt(i);null!=this.activeTool&&e||this._manipulatorState.clearPointers(i,this._manipulatorStateEventArgs,!e)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some((e=>e.updating))}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=(0,d.xt)(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout((()=>this._interacting=!1),this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([(0,p.wB)((()=>{const{state:e}=this.view;return"camera"in e&&e.camera}),(()=>this._forEachManipulator((e=>e.onViewChange())))),this.view.elevationProvider?.on("elevation-change",(e=>this._forEachManipulator((t=>t.onElevationChange(e)))))],dt):this.addHandles((0,p.wB)((()=>this.view.extent),(()=>this._forEachManipulator((e=>e.onViewChange())))))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(dt),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){this._forEachTool((t=>{t.manipulators&&t.manipulators.forEach((({manipulator:i})=>e(i,t)))}))}_handleInputEvent(e){let t=!1;const i={...e,stopPropagation:()=>{t=!0,e.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(i):this._forEachTool((e=>{!t&&e.visible&&e.handleInputEvent(i)})),!t&&function(e){return"key-down"===e.type&&e.key===tt.$B.cancel}(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(i,this._manipulatorStateEventArgs),t||null==this.activeTool||this.activeTool.handleInputEventAfter(i),this._manipulatorState.handleHoverEvent(i,this._forEachTool),this._updateCursor(),"pointer-move"===e.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(pt),this._forEachTool((e=>{if(e instanceof C.A){const t=(0,p.wB)((()=>[e.cursor,e.visible,e.editable]),(()=>{rt(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()}));this.addHandles(t,pt)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",(t=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,t.item.manipulator)})),e.manipulators.on("change",(()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}))],pt)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(e){e.setEditableFlag?.(et.PK.MANAGER,null==this.activeTool||e===this.activeTool)}_updateCursor(){let e=this._manipulatorState.cursor;null==e&&this._forEachTool((t=>!(null==t.cursor||!t.visible||(e=t.cursor,0)))),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter((t=>(null==e||t!==e)&&!t.created&&t.removeIncompleteOnCancel)).forEach((e=>{this.tools.remove(e)}))}get test(){}};(0,r._)([(0,n.MZ)({constructOnly:!0,nonNullable:!0})],ft.prototype,"view",void 0),(0,r._)([(0,n.MZ)({value:null})],ft.prototype,"activeTool",null),(0,r._)([(0,n.MZ)({readOnly:!0,type:c.A})],ft.prototype,"tools",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],ft.prototype,"cursor",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],ft.prototype,"updating",null),(0,r._)([(0,n.MZ)()],ft.prototype,"_interacting",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],ft.prototype,"interacting",null),ft=(0,r._)([(0,a.$)("esri.views.ToolViewManager")],ft);var mt=i(29736),yt=i(96058);let gt=class extends C.A{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===e.mapping?this._detectedDeviceType="standard":vt.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return wt[this.deviceType]}};(0,r._)([(0,n.MZ)({nonNullable:!0,readOnly:!0})],gt.prototype,"nativeIndex",void 0),(0,r._)([(0,n.MZ)({type:String,readOnly:!0})],gt.prototype,"deviceType",null),(0,r._)([(0,n.MZ)({type:Number,readOnly:!0})],gt.prototype,"axisThreshold",null),gt=(0,r._)([(0,a.$)("esri.views.input.gamepad.GamepadInputDevice")],gt);const _t=gt,vt=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),wt={standard:.15,spacemouse:.025,unknown:0};let bt=class extends C.A{constructor(...e){super(...e),this.devices=new c.A,this.enabledFocusMode="document"}};(0,r._)([(0,n.MZ)({type:c.A.ofType(_t),readOnly:!0})],bt.prototype,"devices",void 0),(0,r._)([(0,n.MZ)({type:["document","view","none"]})],bt.prototype,"enabledFocusMode",void 0),bt=(0,r._)([(0,a.$)("esri.views.input.gamepad.GamepadSettings")],bt);const Mt=bt;let At=class extends C.A{constructor(){super(...arguments),this.gamepad=new Mt}};(0,r._)([(0,n.MZ)({readOnly:!0})],At.prototype,"gamepad",void 0),At=(0,r._)([(0,a.$)("esri.views.input.Input")],At);const St=At;var Tt=i(77058),Et=i(50220);const xt=()=>(0,n.MZ)({type:["pan","rotate","zoom","none"],nonNullable:!0});let Pt=class extends C.A{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};(0,r._)([xt()],Pt.prototype,"dragPrimary",void 0),(0,r._)([xt()],Pt.prototype,"dragSecondary",void 0),(0,r._)([xt()],Pt.prototype,"dragTertiary",void 0),(0,r._)([(0,n.MZ)({type:["zoom","none"],nonNullable:!0})],Pt.prototype,"mouseWheel",void 0),Pt=(0,r._)([(0,a.$)("esri.views.navigation.NavigationActionMap")],Pt);const Ct=Pt;let It=class extends C.A{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};(0,r._)([(0,n.MZ)({type:Boolean,nonNullable:!0})],It.prototype,"enabled",void 0),(0,r._)([(0,n.MZ)({type:_t})],It.prototype,"device",void 0),(0,r._)([(0,n.MZ)({type:["pan","zoom"],nonNullable:!0})],It.prototype,"mode",void 0),(0,r._)([(0,n.MZ)({type:["forward-down","forward-up"],nonNullable:!0})],It.prototype,"tiltDirection",void 0),(0,r._)([(0,n.MZ)({type:Number,nonNullable:!0})],It.prototype,"velocityFactor",void 0),It=(0,r._)([(0,a.$)("esri.views.navigation.gamepad.GamepadSettings")],It);const Ot=It;let Rt=class extends C.A{constructor(e){super(e),this.actionMap=new Ct,this.browserTouchPanEnabled=!0,this.gamepad=new Ot,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!(0,Tt.O)()}get mouseWheelZoomEnabled(){return"zoom"===this.actionMap.mouseWheel}set mouseWheelZoomEnabled(e){(0,Et.Lx)(o.A.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};(0,r._)([(0,n.MZ)({type:Ct,nonNullable:!0})],Rt.prototype,"actionMap",void 0),(0,r._)([(0,n.MZ)({type:Boolean})],Rt.prototype,"browserTouchPanEnabled",void 0),(0,r._)([(0,n.MZ)({type:Ot,nonNullable:!0})],Rt.prototype,"gamepad",void 0),(0,r._)([(0,n.MZ)({type:Boolean})],Rt.prototype,"momentumEnabled",void 0),(0,r._)([(0,n.MZ)({type:Boolean})],Rt.prototype,"mouseWheelZoomEnabled",null),Rt=(0,r._)([(0,a.$)("esri.views.navigation.Navigation")],Rt);const Nt=Rt;var kt=i(1995),Lt=i(10714),Dt=i(62352);let Zt=class extends C.A{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=(0,d.DC)(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const e=this.map?.(),t=[];return null!=this.priorityCollection&&t.push(this.priorityCollection),t.push({parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers},{parent:e?.ground,layers:e?.ground?.layers},{parent:e?.basemap,layers:e?.basemap?.referenceLayers}),t}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,(t=>{const i=this._getSupportedSpatialReferences(t);if(i.length>0){const t=this._narrowDownSpatialReferenceCandidates(e,i);null!=t&&(e=t)}return 1===e?.length}))&&1!==e?.length)return{updating:!0};const t=this._pickSpatialReferenceCandidate(e);return{spatialReference:t?.spatialReference??null,viewingMode:t?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=this.map?.(),t=this.spatialReference;if(!t)return{updating:this._spatialReferenceTask.updating};let i;const r=this._collectLayers([{parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers}],(e=>!(!("tileInfo"in e)||!e.tileInfo?.spatialReference.equals(t)||(i=e,0))),(e=>"tileInfo"in e));return i?{tileInfo:i.tileInfo,updating:!1}:{updating:r}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let e={};const t=this._collectLayers(this.mapCollections,(t=>{const i=(0,kt.zy)(t);return!!i&&(e={heightModelInfo:i,vcsWkid:t.spatialReference?.vcsWkid,latestVcsWkid:t.spatialReference?.latestVcsWkid},!0)}),(e=>(0,kt.jI)(e)));return{...e,updating:t}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],t=this._collectLayers(this.mapCollections,(t=>{const i="fullExtents"in t&&t.fullExtents||(null!=t.fullExtent?[t.fullExtent]:[]),r=this.requiresExtentInSpatialReference?null:i[0],n=i.find((e=>e.spatialReference.equals(this.spatialReference)))??r;if(n)return e.push({extent:n,layer:t}),!0;if(this._getSupportedSpatialReferences(t).length>0)for(const s of i)e.push({extent:s,layer:t});return!1}));return{candidates:e,updating:t}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return{updating:t};if(null==e||0===e.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const i=this._pickExtentCandidate(e),r=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=(0,d.DC)(this._projectExtentTask.task)),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:r.clone(),task:(0,j.UT)((async e=>{try{const t=await(0,Dt.q)(i.extent,r,"portalItem"in i.layer?i.layer.portalItem:void 0,e);this._projectExtentTask={...this._projectExtentTask,task:null,output:t}}catch(t){if((0,G.G4)(e))return;this._projectExtentTask={...this._projectExtentTask,task:null}}}))},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(null==e)return t;const i=new Array;for(const r of e)for(const e of t){if(!r.spatialReference.equals(e.spatialReference))continue;const t=Ut(r.viewingMode,e.viewingMode);if(!1!==t){i.push({spatialReference:r.spatialReference,viewingMode:t});break}}return i.length>0?i:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return null==e||e.length<1?t?{spatialReference:t,viewingMode:null}:null:(null!=t&&e.length>1&&e.some((({spatialReference:e})=>e.equals(t)))&&(e=e.filter((({spatialReference:e})=>e.equals(t)))),e.length>1&&e.some((({viewingMode:e})=>e!==Lt.RT.Local))&&(e=e.filter((({viewingMode:e})=>e!==Lt.RT.Local))),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return[];const i=[];for(const r of t){const t=this.getSpatialReferenceSupport(r,e);if(null!=t){const e=t.constraints??[{spatialReference:r,viewingMode:null}];for(const{spatialReference:t,viewingMode:r}of e)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!t.equals(this.userSpatialReference)||i.push({spatialReference:t,viewingMode:r})}}return i}_pickExtentCandidate(e){const t=this.spatialReference;return e.find((({extent:e})=>t.equals(e.spatialReference)))||e[0]}_collectLayers(e,t,i=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}const r=new Ft(i,t);for(const n of e)if(this._collectCollection(n,r),r.done||r.preloading===this.sourcePreloadCount)break;return r.updating}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const i of e.layers)if(t.layerFilter(i)){switch(this._loadMaybe(i)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":if(t.updating||(t.done=t.pushLayer(i)),t.done||t.preloading===this.sourcePreloadCount)break;"layers"in i&&this._collectCollection({layers:i.layers},t)}if(t.done||t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&null!=e.loadStatus?"not-loaded"===e.loadStatus?(e.load().catch((e=>{(0,G.zf)(e)})),"loading"):e.loadStatus:"loaded"}};(0,r._)([(0,n.MZ)()],Zt.prototype,"required",void 0),(0,r._)([(0,n.MZ)({constructOnly:!0})],Zt.prototype,"map",void 0),(0,r._)([(0,n.MZ)({constructOnly:!0})],Zt.prototype,"getSpatialReferenceSupport",void 0),(0,r._)([(0,n.MZ)()],Zt.prototype,"defaultSpatialReference",void 0),(0,r._)([(0,n.MZ)()],Zt.prototype,"userSpatialReference",void 0),(0,r._)([(0,n.MZ)()],Zt.prototype,"sourcePreloadCount",void 0),(0,r._)([(0,n.MZ)()],Zt.prototype,"priorityCollection",void 0),(0,r._)([(0,n.MZ)()],Zt.prototype,"requiresExtentInSpatialReference",void 0),(0,r._)([(0,n.MZ)()],Zt.prototype,"suspended",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"ready",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"heightModelInfoReady",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"spatialReference",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"extent",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"heightModelInfo",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"vcsWkid",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"latestVcsWkid",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"viewingMode",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"tileInfo",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"mapCollections",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"_spatialReferenceTask",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"_tileInfoTask",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"_heightModelInfoTask",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zt.prototype,"_extentCandidatesTask",null),(0,r._)([(0,n.MZ)()],Zt.prototype,"_extentTask",null),(0,r._)([(0,n.MZ)()],Zt.prototype,"_projectExtentTask",void 0),Zt=(0,r._)([(0,a.$)("esri.views.support.DefaultsFromMap")],Zt);class Ft{constructor(e,t){this.layerFilter=e,this.pushLayer=t,this.preloading=-1,this.updating=!1,this.done=!1}}function Ut(e,t){return null!=e?null!=t?e===t&&e:e:t}var jt=i(45066),Gt=i(62090),zt=i(68833);class $t{constructor(e,t,i){this.layer=e,this.view=t,this.layerViewImporter=i,this._controller=new AbortController,this._deferred=(0,G.Tw)(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,(0,G.u7)(this._controller.signal,(()=>{this._recycleController?.abort();const t=new h.A("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(t)}))}tryRecycle(e){if(!this.done||!this.layerView||!function(e){return"tryRecycleWith"in e}(this.layerView))return null;this._recycleController?.abort(),this._recycleController=new AbortController;const t=this.layer.type,i=this._recycleController.signal;for(let r=0;r<e.length;r++){const n=e[r];if(n.type!==t)continue;const s=this.layerView.tryRecycleWith(n,{signal:i});if(s){e.splice(r,1),this.layer=n;const t=this.layerView,o=t.view;return this.promise=s.then((()=>((0,G.Te)(i),n.emit("layerview-destroy",{view:o,layerView:t}),o.emit("layerview-destroy",{view:o,layerView:t}),n.emit("layerview-create",{view:o,layerView:t}),o.emit("layerview-create",{view:o,layerView:t}),t))),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:t,view:i}=this;t.emit("layerview-destroy",{view:i,layerView:e}),i.emit("layerview-destroy",{layer:t,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}async start(){const{view:e}=this;if(this._started||!e.map)return;this._started=!0;const{_controller:{signal:t},layer:i}=this;this._map=e.map;try{let r,n;if(await i.load({signal:t}),i.prefetchResources&&await i.prefetchResources({signal:t}),function(e){return e.createLayerView!==zt.A.prototype.createLayerView}(i))r=await i.createLayerView(e,{signal:t});else{if(!this.layerViewImporter.hasLayerViewModule(i))throw new h.A("layer:view-not-supported","No layerview implementation was found");const n=await this.layerViewImporter.importLayerView(i);(0,G.Te)(t),r="default"in n?new n.default({layer:i,view:e}):new n({layer:i,view:e})}const s=()=>{n=(0,d.xt)(n),r.destroyed||r.destroy(),r.layer=null,r.parent=null,r.view=null,this.done=!0};n=(0,G.u7)(t,s),(0,G.Te)(t);try{await r.when()}catch(Ze){throw s(),Ze}const o=this._map?.allLayers?.includes(i);if(!o)return s(),void this._deferred.reject(new h.A("view:no-layerview-for-layer","The layer has been removed from the map",{layer:i}));this.layerView=r,i.emit("layerview-create",{view:e,layerView:r}),e.emit("layerview-create",{layer:i,layerView:r}),this.done=!0,this._deferred.resolve(r)}catch(Ze){i.emit("layerview-create-error",{view:e,error:Ze}),e.emit("layerview-create-error",{layer:i,error:Ze}),this.done=!0,this._deferred.reject(new h.A("layerview:create-error","layerview creation failed",{layer:i,error:Ze}))}}}function Vt(e){return null!=e&&"object"==typeof e&&"layerViews"in e}let Bt=class extends C.A{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new I.U,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const e=this.view.map?.allLayers;if(e)for(const t of e)!1!==this.layerViewFilter?.(t)&&this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t)},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=(0,G.Tw)(),this._workPromise.promise.catch((()=>{}))),this.removeHandles("reschedule"),this.addHandles((0,P._)(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{const e=this.view.map;if(this.destroyed||!e)return void this.clear();if(this._map!==e&&(this.clear(),this._map=e),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const t=new Set,i=[],r=this.view.ready,n=e=>{if(null!=e)for(const s of e)if(s){if(!1===this.layerViewFilter?.(s))continue;t.add(s);const e=this._layerLayerViewInfoMap.get(s);e&&r?e.start():e||this._recyclingInfoMap.has(s)||i.push(s),"layers"in s&&s.layers&&n(s.layers)}};for(const l of this._rootCollectionNames)n((0,jt.Jt)(this,l));const s=new Array,o=e=>{const t=e.tryRecycle(i);t?(this._recyclingInfoMap.set(e.layer,e),this.notifyChange("updating"),t.then((()=>{this._recyclingInfoMap.delete(e.layer),this._layerLayerViewInfoMap.set(e.layer,e),this._reschedule(),this.notifyChange("updating")})).catch((t=>{(0,G.zf)(t)||(this._recyclingInfoMap.delete(e.layer),e.destroy(),this._reschedule(),this.notifyChange("updating"))}))):s.push(e)};for(const l of this._layerLayerViewInfoMap.values())t.has(l.layer)||(this._layerLayerViewInfoMap.delete(l.layer),o(l));for(const l of this._recyclingInfoMap.values())t.has(l.layer)||(this._recyclingInfoMap.delete(l.layer),o(l));for(const l of i)this._createLayerView(l);this._refreshCollections(),s.forEach((e=>e.destroy()));const a=[e?.ground?.layers,e?.basemap?.baseLayers,e?.basemap?.referenceLayers,e?.layers].filter((e=>!!e));t.forEach((e=>"layers"in e&&a.push(e.layers))),this.addHandles(a.map((e=>this._watchUpdatingTracking.addOnCollectionChange((()=>e),this._reschedule))),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([(0,p.on)((()=>this.view?.map?.allLayers),"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),(0,p.wB)((()=>{const e=this.view,t=e?.map;return[t?.basemap,t?.ground,t?.layers,e?.ready]}),(()=>this._reschedule()),p.pc)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),(0,Gt.X)(this._recyclingInfoMap),(0,Gt.X)(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject((0,G.NK)()),this._workPromise=null)}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||(0,ye.Bs)(this._layerLayerViewInfoMap,(e=>!e.done))||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const t of this._layerLayerViewInfoMap.values())t.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),(0,Gt.X)(this._layerLayerViewInfoMap))}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new h.A("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}isCreatingLayerViewsForLayer(e,t){this.commitProperty("updatingRemaining");const i=this._layerLayerViewInfoMap.get(e);if(!i?.done)return!0;const r=i.layerView;return!(!r||!t||r.parent===t)||!!(i.done&&r&&"layers"in e&&e.layers?.length)&&e.layers.some((e=>this.isCreatingLayerViewsForLayer(e,r)))}_refreshCollections(){for(const[e,t]of this._layersToLayerViews)this._populateLayerViewsOwners((0,jt.Jt)(this,e),(0,jt.Jt)(this,t),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){for(const e of this._layersToLayerViews.values())(0,jt.Jt)(this,e)?.removeAll()}_populateLayerViewsOwners(e,t,i){if(!e||!t)return void t?.removeAll();let r=0;for(const n of e){const e=this._layerLayerViewInfoMap.get(n);if(!e?.layerView)continue;const s=e.layerView;s.layer=n,s.parent=i,t.at(r)!==s&&t.splice(r,0,s),"layers"in n&&Vt(s)&&this._populateLayerViewsOwners(n.layers,s.layerViews,s),r+=1}r<t.length&&t.splice(r)}_createLayerView(e){e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const t=new $t(e,this.view,this.layerViewImporter);t.promise.then((()=>this._refreshCollections()),(t=>{t&&((0,G.zf)(t)||"cancelled:layerview-create"===t.name)||o.A.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:t}),this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,t),this.view.ready&&t.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};(0,r._)([(0,n.MZ)()],Bt.prototype,"_workPromise",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Bt.prototype,"_watchUpdatingTracking",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Bt.prototype,"_layersToLayerViews",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Bt.prototype,"_rootCollectionNames",null),(0,r._)([(0,n.MZ)({constructOnly:!0})],Bt.prototype,"layerViewFilter",void 0),(0,r._)([(0,n.MZ)()],Bt.prototype,"layerViewImporter",void 0),(0,r._)([(0,n.MZ)()],Bt.prototype,"supportsGround",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Bt.prototype,"updating",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Bt.prototype,"updatingRemaining",null),(0,r._)([(0,n.MZ)({constructOnly:!0})],Bt.prototype,"view",void 0),Bt=(0,r._)([(0,a.$)("esri.views.support.LayerViewManager")],Bt);const qt=Bt;let Ht=class extends C.A{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};(0,r._)([(0,n.MZ)()],Ht.prototype,"featureTitleFields",void 0),(0,r._)([(0,n.MZ)()],Ht.prototype,"utilityNetworkFields",void 0),(0,r._)([(0,n.MZ)()],Ht.prototype,"globalIdField",void 0),Ht=(0,r._)([(0,a.$)("esri.views.support.RequiredFieldsOptions")],Ht);const Wt=Ht;var Jt;let Kt=class extends(K.A.EventedMixin(Q.A.EsriPromiseMixin(C.A))){static{Jt=this}constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Y.A,this.updatingHandles=new I.U,this.allLayerViews=new u.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:Qt}),this.analyses=new se,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new oe.Y,this.groundView=null,this.typeSpecificPreconditionsReady=!0,this.layerViews=new c.A,this.magnifier=new fe,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new St,this.navigation=new Nt,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new Fe(this),this.persistableViewModels=new c.A,this.requiredFieldsOptions=new Wt,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add((0,p.wB)((()=>this.preconditionsReady),(e=>{const t=this.ready;if(e?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,Jt.views.add(this)):(this._lockedSpatialReference=null,Jt.views.remove(this)),this.notifyChange("spatialReference"),!e&&t)this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(e&&!t){try{this._startup()}catch(pe){return void queueMicrotask((()=>{this.fatalError=new h.A("view:startup-error","View._startup failed",pe)}))}null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach()}}),p.OH))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then((()=>(this._isValid=!0,(0,p.C_)((()=>this.ready)))))),this.basemapView=new he({view:this}),this.layerViewManager=new qt({view:this,layerViewFilter:e=>this.layerViewFilter?.(e)??!0,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new ft({view:this}),this.selectionManager=new xe({view:this}),this.addHandles([(0,p.z7)((()=>"map-content-error"===this.readyState&&!this.spatialReference),(()=>{o.A.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")})),(0,p.wB)((()=>this.initialExtentRequired),(e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e}),p.pc),(0,p.wB)((()=>this.ready),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)}),p.OH),(0,p.wB)((()=>this._userSpatialReference),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)}),p.pc)])}destroy(){this.destroyed||(Jt.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=(0,d.pR)(this.graphics),this.analyses=(0,d.pR)(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),(0,d.pR)(this.analysisViewManager),this.toolViewManager=(0,d.pR)(this.toolViewManager),this.layerViewManager=(0,d.pR)(this.layerViewManager),this.selectionManager=(0,d.pR)(this.selectionManager),this.basemapView=(0,d.pR)(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach((e=>e.destroy())),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=(0,d.pR)(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return o.A.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Zt({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,t)=>this.getSpatialReferenceSupport(e,t),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??new(c.A.ofType(yt.A))([new yt.A({name:mt.Tv}),new yt.A({name:mt.n4,color:mt.lH})])}set highlights(e){this._set("highlights",(0,J.V)(e,this._get("highlights"),c.A.ofType(yt.A)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||X.A.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(o.A.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),X.A.isLoadable(e)&&e.load().catch((()=>{})),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if(this.defaultsFromMap?.ready&&!this.spatialReference){const e=!("loaded"in this.map)||this.map.loaded,t=this.map.ground.loaded,i=this.map.basemap?.loaded??!0;return e&&i&&t&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=(0,j.UT)((e=>(0,G.Pl)((0,s.A)("view-readyState-waiting-delay"),null,e))),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=(0,d.DC)(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){const t=e.clone();return t.vcsWkid=this.defaultsFromMap.vcsWkid,t.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,t}return e}set spatialReference(e){const t=!(0,ne.aI)(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??ae.qU}set timeZone(e){this._userTimeZone=e,(0,ce.wr)(e)||o.A.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new Oe}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new h.A("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return null!=this.getSpatialReferenceSupport(e)}when(e,t){return this.isResolved()&&!this.ready&&o.A.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&((0,p.z7)((()=>this.destroyed||!1===this.preconditionsReady),(()=>this._readyCycleForced=!1),{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}static{this.views=new c.A}};(0,r._)([(0,n.MZ)()],Kt.prototype,"_userSpatialReference",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"activeTool",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"allLayerViews",void 0),(0,r._)([(0,n.MZ)((0,ee.C)(se,"analyses"))],Kt.prototype,"analyses",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"animation",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"basemapView",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"center",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"defaultsFromMapSettings",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"defaultsFromMap",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"displayFilterEnabled",void 0),(0,r._)([(0,n.MZ)({type:te.A})],Kt.prototype,"extent",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"fatalError",void 0),(0,r._)([(0,n.MZ)((0,ee.C)(oe.Y,"graphics"))],Kt.prototype,"graphics",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"groundView",void 0),(0,r._)([(0,n.MZ)({readOnly:!0,type:ie.A})],Kt.prototype,"heightModelInfo",null),(0,r._)([(0,n.MZ)({type:c.A.ofType(yt.A)})],Kt.prototype,"highlights",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"interacting",null),(0,r._)([(0,n.MZ)({constructOnly:!0})],Kt.prototype,"layerViewFilter",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"navigating",null),(0,r._)([(0,n.MZ)({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Kt.prototype,"preconditionsReady",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"typeSpecificPreconditionsReady",void 0),(0,r._)([(0,n.MZ)({type:c.A,readOnly:!0})],Kt.prototype,"layerViews",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"resolution",null),(0,r._)([(0,n.MZ)({type:fe})],Kt.prototype,"magnifier",void 0),(0,r._)([(0,n.MZ)({value:null,type:W.A})],Kt.prototype,"map",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"padding",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"ready",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"_readyStateWaitingTask",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"readyState",null),(0,r._)([(0,n.MZ)({type:re.A})],Kt.prototype,"spatialReference",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"stationary",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"supportsGround",void 0),(0,r._)([(0,n.MZ)({type:le.T})],Kt.prototype,"timeExtent",null),(0,r._)([(0,n.MZ)({type:String,nonNullable:!0})],Kt.prototype,"timeZone",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"tools",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"toolViewManager",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"type",void 0),(0,r._)([(0,n.MZ)({type:Number})],Kt.prototype,"scale",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"updating",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"initialExtentRequired",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"initialExtent",null),(0,r._)([(0,n.MZ)()],Kt.prototype,"cursor",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"input",void 0),(0,r._)([(0,n.MZ)({type:Nt,nonNullable:!0})],Kt.prototype,"navigation",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"layerViewManager",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"analysisViewManager",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"selectionManager",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"width",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"height",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"resizing",void 0),(0,r._)([(0,n.MZ)({value:null,readOnly:!0})],Kt.prototype,"size",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"suspended",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"viewEvents",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Kt.prototype,"persistableViewModels",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"_isValid",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"_readyCycleForced",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"_lockedSpatialReference",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"_userTimeZone",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"_lockedTimeZone",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"_userTimeExtent",void 0),(0,r._)([(0,n.MZ)()],Kt.prototype,"_lockedTimeExtent",void 0),(0,r._)([(0,n.MZ)({type:Oe})],Kt.prototype,"theme",void 0),(0,r._)([(0,n.MZ)({readOnly:!0,type:Oe})],Kt.prototype,"effectiveTheme",null),Kt=Jt=(0,r._)([(0,a.$)("esri.views.View")],Kt);const Yt=globalThis.$arcgis;Yt&&!Yt.views&&Object.defineProperty(Yt,"views",{configurable:!1,enumerable:!0,writable:!1,value:Kt.views});const Xt=Kt;function Qt(e){return e.layerViews}var ei=i(60704),ti=i(59646),ii=i(25887),ri=i(21877),ni=i(65257),si=i(79190),oi=i(78835),ai=i(50424),li=i(25423),ci=i(99776),ui=i(17845);function hi(e){return function(e){return e instanceof Float32Array&&e.length>=2}(e)||function(e){return Array.isArray(e)&&e.length>=2}(e)}var di,pi=i(97066),fi=i(65231);const mi=[0,0];let yi=di=class extends ri.A{constructor(e){super(e),this._viewpoint2D={center:(0,ti.vt)(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new te.A,this.id=0,this.inverseTransform=(0,ai.vt)(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=(0,ai.vt)(),this.transformNoRotation=(0,ai.vt)(),this.displayMat3=(0,ci.vt)(),this.displayViewMat3=(0,ci.vt)(),this.viewMat3=(0,ci.vt)(),this.viewMat2d=(0,oi.vt)(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(e){this._set("pixelRatio",e),this._update()}set size(e){this._set("size",e),this._update()}set viewpoint(e){if(e){const t=this._viewpoint2D,i=e.targetGeometry;t.center[0]=i.x,t.center[1]=i.y,t.rotation=e.rotation,t.scale=e.scale,t.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[e,t]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,t),this.toMap([0,0],e,t),this.toMap([0,0],e,0)]}copy(e){const t=this.size,i=this.viewpoint;return i&&t?(this.viewpoint=(0,ii.C)(i,e.viewpoint),this._set("size",(0,ei.C)(t,e.size))):(this.viewpoint=e.viewpoint.clone(),this._set("size",[e.size[0],e.size[1]])),this._set("pixelRatio",e.pixelRatio),this}clone(){return new di({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(e,t,i){return hi(t)?(0,ei.l0)(e,t,this.inverseTransform):(mi[0]=t,mi[1]=i,(0,ei.l0)(e,mi,this.inverseTransform))}toScreen(e,t,i){return hi(t)?(0,ei.l0)(e,t,this.transform):(mi[0]=t,mi[1]=i,(0,ei.l0)(e,mi,this.transform))}toScreenNoRotation(e,t,i){return hi(t)?(0,ei.l0)(e,t,this.transformNoRotation):(mi[0]=t,mi[1]=i,(0,ei.l0)(e,mi,this.transformNoRotation))}wrapMapCoordinate(e,t){(0,ei.C)(e,t);const[i]=t,[r]=this.center,{extent:n,spatialReference:s}=this;let{xmin:o,xmax:a}=n;if(s.isWrappable){const e=(0,ii.FT)(s)/2;o=Math.max(o,r-e),a=Math.min(a,r+e)}return(i<o||i>a)&&(e[0]=(0,fi.O7)(i,r,s)),e}getScreenTransform(e,t){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,n=this._get("size");return(0,ii.GL)(e,i,n,t,0,r),e}_update(){const{center:e,spatialReference:t,scale:i,rotation:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,s=this._get("size"),o=new l.A({targetGeometry:new pi.A(e[0],e[1],t),scale:i,rotation:r});if(this._set("viewpoint",o),!s||!t||!i)return;this.resolution=(0,ii.Hn)(o),this.rotation=r,this.scale=i,this.spatialReference=t,(0,ei.C)(this.center,e);const a=0!==s[0]?2/s[0]:0,c=0!==s[1]?-2/s[1]:0;(0,li.hZ)(this.displayMat3,a,0,0,0,c,0,-1,1,1);const u=(0,li.D_)(this.viewMat3),h=(0,ui.fA)(s[0]/2,s[1]/2),d=(0,ui.fA)(-s[0]/2,-s[1]/2),p=(0,ni.DF)(r);(0,li.Tl)(u,u,h),(0,li.e$)(u,u,p),(0,li.Tl)(u,u,d),(0,li.lw)(this.displayViewMat3,this.displayMat3,u);const f=(0,si.kN)(this.viewMat2d,h);return(0,si.e$)(f,f,p),(0,si.Tl)(f,f,d),(0,ii.Z7)(this.extent,o,s),(0,ii.RG)(this.transform,o,s,n),(0,si.B8)(this.inverseTransform,this.transform),(0,ii.cp)(this.transformNoRotation,o,s,n),this.worldScreenWidth=(0,ii.hV)(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};(0,r._)([(0,n.MZ)({readOnly:!0})],yi.prototype,"id",void 0),(0,r._)([(0,n.MZ)({value:1,json:{write:!0}})],yi.prototype,"pixelRatio",null),(0,r._)([(0,n.MZ)({json:{write:!0}})],yi.prototype,"size",null),(0,r._)([(0,n.MZ)()],yi.prototype,"spatialReference",void 0),(0,r._)([(0,n.MZ)({type:l.A,json:{write:!0}})],yi.prototype,"viewpoint",null),(0,r._)([(0,n.MZ)({readOnly:!0})],yi.prototype,"visibleArea",null),yi=di=(0,r._)([(0,a.$)("esri.views.2d.ViewState")],yi);const gi=yi;var _i,vi;let wi=_i=class extends C.A{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new _i({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};(0,r._)([(0,n.MZ)()],wi.prototype,"left",void 0),(0,r._)([(0,n.MZ)()],wi.prototype,"top",void 0),(0,r._)([(0,n.MZ)()],wi.prototype,"right",void 0),(0,r._)([(0,n.MZ)()],wi.prototype,"bottom",void 0),wi=_i=(0,r._)([(0,a.$)("esri.views.2d.PaddedViewState.Padding")],wi);let bi=vi=class extends gi{constructor(...e){super(...e),this.paddedViewState=new gi,this._updateContent=(()=>{const e=(0,ti.vt)();return()=>{const t=this._get("size"),i=this._get("padding");if(!t||!i)return;const r=this.paddedViewState;(0,ei.hZ)(e,i.left+i.right,i.top+i.bottom),(0,ei.Re)(e,t,e),(0,ei.C)(r.size,e);const n=r.viewpoint;n&&(this.viewpoint=n)}})(),this.addHandles((0,p.wB)((()=>[this.size,this.padding]),(()=>this._updateContent()),p.OH)),this.padding=new wi,this.size=[0,0]}set padding(e){this._set("padding",e||new wi)}set viewpoint(e){if(e){this.paddedViewState.viewpoint=e;let t=e;const i=this._get("padding");i&&(t=(0,ii.nr)(e.clone(),e,this._get("size"),i));const{targetGeometry:r,rotation:n,scale:s}=t,{x:o,y:a,spatialReference:l}=r,c=this._viewpoint2D;c.center[0]=o,c.center[1]=a,c.rotation=n,c.scale=s,c.spatialReference=l,this._update()}}clone(){return new vi({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};(0,r._)([(0,n.MZ)()],bi.prototype,"paddedViewState",void 0),(0,r._)([(0,n.MZ)({type:wi})],bi.prototype,"padding",null),(0,r._)([(0,n.MZ)()],bi.prototype,"viewpoint",null),bi=vi=(0,r._)([(0,a.$)("esri.views.2d.PaddedViewState")],bi);const Mi=bi;var Ai=i(40695),Si=i(22167);class Ti{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=(0,Si.mj)(),this._schedulerHandle=(0,p.z7)((()=>this._scheduler.updating),(()=>this.requestFrame())),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),null==this.view.animation?.target||(0,G.$X)(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=e=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:t,graphicsView:i,labelManager:r,state:{id:n}}=this.view;t?.forEach(this._updateLayerView,this),null!=r&&(r.lastUpdateId!==n&&(r.viewChange(),r.lastUpdateId=n),r.updateRequested&&r.processUpdate(this._updateParameters)),null!=i&&(i.lastUpdateId!==n&&(i.viewChange(),i.lastUpdateId=n),i.updateRequested&&i.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=Ai.M.ANIMATING:this.view.interacting?this._scheduler.state=Ai.M.INTERACTING:this._scheduler.state=Ai.M.IDLE,this._scheduler.frame(e)||this._updateRequested||this._scheduler.state!==Ai.M.IDLE||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new Mi,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=(0,p.wB)((()=>e.stationary),(e=>{this.stationary=e,this.requestFrame()})),this._frameTaskHandle=(0,P.mg)(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){if(!e.attached)return void this.requestUpdate();const t=this.view.state,i=e.lastUpdateId;null!=i&&(this.stationary||e.moving)||(e.moving=!0),i!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews?.forEach(this._updateLayerView,this)}}var Ei,xi=i(50437),Pi=i(65667),Ci=i(1364),Ii=i(65319);let Oi=Ei=class extends(Pi.A.NumericIdentifiableMixin(C.A)){constructor(e){super(e),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return(0,_.project)(this.geometry,this.spatialReference)}catch(e){return o.A.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,t){if(null==this.normalizedGeometry)return e;const i=e.targetGeometry;if("extent"===this.normalizedGeometry.type?(0,Ci.qz)(this.normalizedGeometry,i):(0,Ci.m3)(this.normalizedGeometry,i))return e;const{coordinate:r}=function(e,t){const{spatialReference:i}=t,r=[t.x,t.y];let n,s,o,a;const l=[0,0],c=function(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}(e);for(let h=0;h<c.length;h++){const e=c[h];for(let t=0;t<e.length-1;t++){(0,Ii.B1)(l,r,e,t);const i=(0,ei.Io)(r,l);(null==n||i<n)&&(n=i,s=[...l],o=h,a=t)}}if(null==n||!s||null==o||null==a)throw new h.A("nearest-coordinate:failed","Failed to find the nearest coordinate");const[u,d]=s;return{coordinate:new pi.A({x:u,y:d,spatialReference:i}),distance:n}}(this.normalizedGeometry,i);return r?(e.targetGeometry=r,e):e}clone(){return new Ei({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};var Ri;(0,r._)([(0,n.MZ)({constructOnly:!0})],Oi.prototype,"geometry",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Oi.prototype,"normalizedGeometry",null),(0,r._)([(0,n.MZ)({constructOnly:!0})],Oi.prototype,"spatialReference",void 0),Oi=Ei=(0,r._)([(0,a.$)("esri.views.2d.constraints.GeometryConstraint")],Oi);let Ni=Ri=class extends(Pi.A.NumericIdentifiableMixin(C.A)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(e,t){return this.enabled&&t?(this.rotationEnabled||(e.rotation=t.rotation),e):e}clone(){return new Ri({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};(0,r._)([(0,n.MZ)()],Ni.prototype,"enabled",void 0),(0,r._)([(0,n.MZ)()],Ni.prototype,"rotationEnabled",void 0),Ni=Ri=(0,r._)([(0,a.$)("esri.views.2d.constraints.RotationConstraint")],Ni);const ki=Ni;var Li;let Di=Li=class extends(Pi.A.NumericIdentifiableMixin(C.A)){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let e,{lods:t,minScale:i,maxScale:r,minZoom:n,maxZoom:s}=this,o=-1,a=-1,l=!1,c=!1;if(0!==i&&0!==r&&i<r&&([i,r]=[r,i]),!t?.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);t=t.map((e=>e.clone())),t.sort(((e,t)=>t.scale-e.scale)),t.forEach(((e,t)=>e.level=t));for(const u of t)!l&&i>0&&i>=u.scale&&(o=u.level,l=!0),!c&&r>0&&r>=u.scale&&(a=e?e.level:-1,c=!0),e=u;-1===n&&(n=0===i?0:o),-1===s&&(s=0===r?t.length-1:a),n=Math.max(n,0),n=Math.min(n,t.length-1),s=Math.max(s,0),s=Math.min(s,t.length-1),n>s&&([n,s]=[s,n]),i=t[n].scale,r=t[s].scale,t.splice(0,n),t.splice(s-n+1),t.forEach(((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale})),this._set("effectiveLODs",t),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(e,t){if(t&&e.scale===t.scale)return e;const i=this.effectiveMinScale,r=this.effectiveMaxScale,n=e.targetGeometry,s=t&&t.targetGeometry,o=0!==r&&e.scale<r,a=0!==i&&e.scale>i;if(o||a){const o=a?i:r;if(t&&s){const i=(o-t.scale)/(e.scale-t.scale);n.x=s.x+(n.x-s.x)*i,n.y=s.y+(n.y-s.y)*i}e.scale=o}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),i=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(i>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const i=Math.floor(e),r=Math.ceil(e);return t[i]+(e-i)*(t[r]-t[i])}scaleToZoom(e){if(!this.effectiveLODs)return-1;const t=this._scales;let i,r;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let n=0;n<t.length-1;n++){if(i=t[n],r=t[n+1],r===e)return n+this.effectiveMinZoom+1;if(i>e&&r<e)return n+this.effectiveMinZoom+1-(e-r)/(i-r)}return-1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const i=Math.round(this.scaleToZoom(e));return this.zoomToScale(i-1)}clone(){return new Li({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce(((t,i)=>Math.abs(i-e)<=Math.abs(t-e)?i:t),this._scales[0])),this._lodByScale[e].scale}};(0,r._)([(0,n.MZ)({readOnly:!0})],Di.prototype,"effectiveLODs",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Di.prototype,"effectiveMinZoom",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Di.prototype,"effectiveMaxZoom",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Di.prototype,"effectiveMinScale",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Di.prototype,"effectiveMaxScale",void 0),(0,r._)([(0,n.MZ)()],Di.prototype,"lods",void 0),(0,r._)([(0,n.MZ)()],Di.prototype,"minZoom",void 0),(0,r._)([(0,n.MZ)()],Di.prototype,"maxZoom",void 0),(0,r._)([(0,n.MZ)()],Di.prototype,"minScale",void 0),(0,r._)([(0,n.MZ)()],Di.prototype,"maxScale",void 0),(0,r._)([(0,n.MZ)()],Di.prototype,"snapToZoom",void 0),Di=Li=(0,r._)([(0,a.$)("esri.views.2d.constraints.ZoomConstraint")],Di);const Zi=Di,Fi={base:null,key:"type",typeMap:{extent:te.A,polygon:g.A}};let Ui=class extends C.A{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new c.A}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const e=this._get("_geometry");return e&&this.geometry===e.geometry&&this.view?.constraintsInfo.spatialReference===e.spatialReference?e:new Oi({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new ki({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),t=this.lods||this.view?.constraintsInfo.lods,i=this.minZoom,r=this.maxZoom,n=this.minScale,s=this.maxScale,o=this.snapToZoom;return e&&e.lods===t&&e.minZoom===i&&e.maxZoom===r&&e.minScale===n&&e.maxScale===s&&e.snapToZoom===o?e:new Zi({lods:t,minZoom:i,maxZoom:r,minScale:n,maxScale:s,snapToZoom:o})}canZoomInTo(e){const t=this.effectiveMaxScale;return 0===t||e>=t}canZoomOutTo(e){const t=this.effectiveMinScale;return 0===t||e<=t}constrain(e,t){return this._zoom.constrain(e,t),this._rotation.constrain(e,t),this._geometry.constrain(e,t),this.customConstraints.forEach((i=>i.constrain(e,t))),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach((t=>t.applyPanConstraint?.(e))),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};(0,r._)([(0,n.MZ)({readOnly:!0})],Ui.prototype,"effectiveLODs",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Ui.prototype,"effectiveMinScale",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Ui.prototype,"effectiveMaxScale",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Ui.prototype,"effectiveMinZoom",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Ui.prototype,"effectiveMaxZoom",null),(0,r._)([(0,n.MZ)({types:Fi,value:null})],Ui.prototype,"geometry",null),(0,r._)([(0,n.MZ)({type:[xi.A]})],Ui.prototype,"lods",void 0),(0,r._)([(0,n.MZ)()],Ui.prototype,"minScale",void 0),(0,r._)([(0,n.MZ)()],Ui.prototype,"maxScale",void 0),(0,r._)([(0,n.MZ)()],Ui.prototype,"minZoom",void 0),(0,r._)([(0,n.MZ)()],Ui.prototype,"maxZoom",void 0),(0,r._)([(0,n.MZ)()],Ui.prototype,"rotationEnabled",void 0),(0,r._)([(0,n.MZ)()],Ui.prototype,"snapToZoom",void 0),(0,r._)([(0,n.MZ)({type:c.A})],Ui.prototype,"customConstraints",void 0),(0,r._)([(0,n.MZ)()],Ui.prototype,"view",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],Ui.prototype,"version",null),(0,r._)([(0,n.MZ)({type:Oi,readOnly:!0})],Ui.prototype,"_geometry",null),(0,r._)([(0,n.MZ)({type:ki})],Ui.prototype,"_rotation",null),(0,r._)([(0,n.MZ)({readOnly:!0,type:Zi})],Ui.prototype,"_zoom",null),Ui=(0,r._)([(0,a.$)("esri.views.2d.MapViewConstraints")],Ui);const ji=Ui;var Gi=i(68659),zi=i(47063);let $i=class extends C.A{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([(0,p.wB)((()=>this.constraints?.version),(e=>{this.constraints&&e&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))}),p.OH)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return this.state.commitProperty("id"),new pi.A({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return;if(!this.ready)return void this._set("center",e);let t;try{t=this._project(e,this.state.spatialReference)}catch(S){return void o.A.getLogger(this).error(new h.A("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:S}))}const i=this.viewpoint;(0,ii.Ji)(i,i,t),this.viewpoint=i}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(null==e)return;if(!e.width||!e.height)return void o.A.getLogger(this).error(new h.A("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let t;try{t=this._project(e,this.state.spatialReference)}catch(S){return void o.A.getLogger(this).error(new h.A("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:S}))}const i=this.viewpoint;(0,ii.b)(i,i,t,this.state.size,{constraints:this.constraints}),this.viewpoint=i}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;(0,ii.$0)(t,t,e),this.viewpoint=t}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const t=this._get("extent");return void(t&&(this._set("extent",void 0),this._set("center",t.center)))}const t=this.viewpoint;(0,ii.UR)(t,t,e),this.viewpoint=t}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){if(null==e)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let t,i;try{t=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?i=new h.A("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):null==e.targetGeometry&&(i=new h.A("mapview:invalid-viewpoint","geometry not defined"))}catch(R){i=new h.A("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:R})}if(i)return void o.A.getLogger(this).error(i);this._scaleBeforeChangingSpatialReference=null;const r=new l.A({targetGeometry:new pi.A,scale:0,rotation:0});(0,ii.C)(r,t),this.constraints?.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this._set("viewpoint",r)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(e){if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const t=this._get("extent");return void(t&&(this._set("extent",void 0),this._set("center",t.center)))}const t=this.constraints?.zoomToScale(e)??0;if(!t)return void this._set("zoom",-1);const i=this.viewpoint;(0,ii.UR)(i,i,t),this.viewpoint=i,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:t,constraints:i}=this,r=this._get("center"),n=this._get("extent"),s=this._get("scale"),o=this._get("rotation"),a=this._get("viewpoint"),l=this._get("zoom"),c=null!=l&&null!=i&&i.zoomToScale(l)||void 0;let u,h,d;const p=a?.rotation,f=a?.targetGeometry;"extent"===f?.type?u=f:"point"===f?.type&&(h=f,d=a?.scale);const m=n??u;return{center:r??h??m?.center,rotation:o??p,scale:(s??c??d??(m&&(0,ii.AU)(m,[e[0]-t.left-t.right,e[1]-t.top-t.bottom])))||void 0}}startup(e,t,i,r){const n=e.targetGeometry;try{this._project(e,i)}catch(s){o.A.getLogger(this).warn(new Gi.A("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:i,error:s})),e.targetGeometry=r||new pi.A({x:0,y:0,spatialReference:i})}this.constraints?.fit(e),this._set("state",new Mi({padding:this.padding,size:t,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,t],spatialReference:i,rotation:r,scale:n}=this.state.paddedViewState,s=new pi.A({x:e,y:t,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",s),this._set("zoom",-1),this._set("rotation",r),this._set("scale",n),this._set("state",null)}changeSpatialReference(e){const t=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=t.scale;else{const e=t.viewpoint.clone();e.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=e}const i=t.clone(),[r,n]=t.center;let a=null;try{a=this._project(new pi.A({x:r,y:n,spatialReference:t.spatialReference}),e)}catch(M){(0,zi.i)()||o.A.getLogger(this).warn(new Gi.A("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a?.toJSON(),spatialReference:e,error:M}))}a||(a=new pi.A({x:0,y:0,spatialReference:e}));const c=(0,ii.Ji)(new l.A({targetGeometry:new pi.A,scale:0,rotation:0}),t.viewpoint,a);i.viewpoint=c;try{const r=20,n=[t.size[0]/2,t.size[1]/2],o=[n[0]+r,n[1]],a=t.toMap([0,0],o),{x:l,y:u}=this._project(new pi.A({x:a[0],y:a[1],spatialReference:t.spatialReference}),e);a[0]=l,a[1]=u,i.toScreen(a,a);const h=(0,ii.s5)(n,a,o),d=Math.hypot(a[0]-n[0],a[1]-n[1])/r;!Number.isFinite(d)||Math.abs(d)>4?(c.rotation=0,c.targetGeometry=new pi.A({x:0,y:0,spatialReference:e})):(c.scale*=d,c.scale>(0,s.A)("mapview-srswitch-adjust-rotation-scale-threshold")?c.rotation=0:c.rotation+=Number.isFinite(h)?h:0)}catch{}this._get("constraints")?.constrain(c,void 0),this._get("state").viewpoint=c}resize(e,t){if(!this.ready)return;const i=this.state;let r=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.slice();i.size=[e,t],(0,ii.XR)(r,r,n,this.state.paddedViewState.size,this.resizeAlign),r=this.constraints?.constrain(r,void 0)??r,this.state.viewpoint=r}toMap(e){if(!this.ready)return null;const[t,i]=this.state.toMap([0,0],[e.x,e.y]),r=this.state.spatialReference;return new pi.A({x:t,y:i,spatialReference:r})}toScreen(e,t){if(!this.ready)return null;const i=this._project(e,this.state.spatialReference),r=[i.x,i.y];return!1===t?.pickClosestTarget||this.state.paddedViewState.wrapMapCoordinate(r,r),this.state.toScreen(r,r),(0,de.tc)(r[0],r[1])}_project(e,t){const i=e?.targetGeometry||e;if(!t)return e;if(!i)return null;if(t.imageCoordinateSystem||i.spatialReference?.imageCoordinateSystem)return e;if((0,ne.aI)(t,i.spatialReference))return e;const r=(0,_.project)(i,t);if(!r)throw new h.A("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:i,spatialReference:t});return function(e){return"esri.Viewpoint"===e?.declaredClass}(e)?(e.targetGeometry=r,e):r}};(0,r._)([(0,n.MZ)({type:pi.A})],$i.prototype,"center",null),(0,r._)([(0,n.MZ)()],$i.prototype,"constraints",void 0),(0,r._)([(0,n.MZ)({type:te.A})],$i.prototype,"extent",null),(0,r._)([(0,n.MZ)({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],$i.prototype,"padding",null),(0,r._)([(0,n.MZ)()],$i.prototype,"ready",void 0),(0,r._)([(0,n.MZ)()],$i.prototype,"resizeAlign",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],$i.prototype,"resolution",null),(0,r._)([(0,n.MZ)({type:Number})],$i.prototype,"rotation",null),(0,r._)([(0,n.MZ)({type:Number})],$i.prototype,"scale",null),(0,r._)([(0,n.MZ)({readOnly:!0})],$i.prototype,"state",void 0),(0,r._)([(0,n.MZ)({type:l.A})],$i.prototype,"viewpoint",null),(0,r._)([(0,n.MZ)({readOnly:!0})],$i.prototype,"visibleArea",null),(0,r._)([(0,n.MZ)()],$i.prototype,"zoom",null),$i=(0,r._)([(0,a.$)("esri.views.2d.ViewStateManager")],$i);let Vi=class extends C.A{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),null==this._timer&&(this._timer=setInterval((()=>{performance.now()-this._timestamp>=160&&this.clear()}),160))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};(0,r._)([(0,n.MZ)()],Vi.prototype,"_timer",void 0),(0,r._)([(0,n.MZ)()],Vi.prototype,"stationary",null),Vi=(0,r._)([(0,a.$)("esri.views.2d.support.StationaryManager")],Vi);const Bi=e=>{let t=class extends e{constructor(...e){super(...e),this.fullOpacity=1,this.stateManager=new $i({constraints:new ji({view:this})}),this.stationaryManager=new Vi,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new Ti(this),this.viewEvents=new Fe(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([(0,p.wB)((()=>this.viewpoint),(()=>this.stationaryManager.flip()),p.OH)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(e){this.stateManager.extent=e}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),e!==this.animationManager.animation&&this.animationManager.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e);const i=()=>{this.destroyed||e===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};e.when(i,i)}get constraints(){return this.stateManager?.constraints}set constraints(e){e.view=this;const t=this.stateManager.constraints;this.stateManager.constraints=e,t?.destroy()}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get rotation(){return this.stateManager.rotation??0}set rotation(e){const{rotationEnabled:t}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=t}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}};return(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"animationManager",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"fullOpacity",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"stateManager",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"constraintsInfo",null),(0,r._)([(0,n.MZ)()],t.prototype,"extent",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"state",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"mapViewNavigation",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"renderingOptions",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"interacting",null),(0,r._)([(0,n.MZ)()],t.prototype,"stationary",null),(0,r._)([(0,n.MZ)()],t.prototype,"animation",null),(0,r._)([(0,n.MZ)({type:ji})],t.prototype,"constraints",null),(0,r._)([(0,n.MZ)()],t.prototype,"padding",null),(0,r._)([(0,n.MZ)()],t.prototype,"resizeAlign",null),(0,r._)([(0,n.MZ)()],t.prototype,"rotation",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"viewEvents",void 0),(0,r._)([(0,n.MZ)({type:l.A})],t.prototype,"viewpoint",null),t=(0,r._)([(0,a.$)("esri.views.Viewport2DBaseMixin")],t),t};let qi=class extends Q.A{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=(0,G.Tw)(),this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new h.A("view:animation-stopped","ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(e,t){t||(t=(0,G.$X)(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)}};(0,r._)([(0,n.MZ)({readOnly:!0})],qi.prototype,"done",null),(0,r._)([(0,n.MZ)({readOnly:!0,type:String})],qi.prototype,"state",void 0),(0,r._)([(0,n.MZ)()],qi.prototype,"target",void 0),qi=(0,r._)([(0,a.$)("esri.views.ViewAnimation")],qi),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(qi||(qi={}));const Hi=qi;let Wi=class extends C.A{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,t){if(!e)return void o.A.getLogger(this).error("#goTo()","target cannot be null or undefined");const i=new Hi;this.view.animation=i,await(0,p.C_)((()=>this.view.ready),t);const r={...t,animate:t?.animate??!(0,Tt.O)(),animationMode:t?.animationMode??"auto"},{extent:n,spatialReference:s,size:a,viewpoint:l,constraints:c,padding:u,allLayerViews:h}=this.view,d=(0,ii.vt)(e,{extent:n,spatialReference:s,size:a,viewpoint:l,constraints:c,padding:u,allLayerViews:h,pickClosestTarget:t?.pickClosestTarget??!0});return i?.update(d),this._gotoTask={},r.animate?this._gotoAnimated(d,r):this._gotoImmediate(d,r)}_gotoImmediate(e,t){const i=this._gotoTask,r=this.view.animation,n=e.then((e=>{if((0,G.Te)(t),i!==this._gotoTask)throw new h.A("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=r.target=e,r.finish()}));return this._cancellableGoTo(i,r,n,t)}_gotoAnimated(e,t){const i=this._gotoTask,r=this.view.animation;if(!r)return Promise.resolve();const n=e.then((e=>{if((0,G.Te)(t),i!==this._gotoTask)throw new h.A("view:goto-interrupted","Goto was interrupted");return r.update(e),this.view.animationManager.animate(r,this.view.viewpoint,t),r.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(i,r,n,t)}_cancellableGoTo(e,t,i,r){const n=()=>e===this._gotoTask;return(0,G.qr)(i,r).finally((()=>{n()&&(t.done||t.stop())}))}};function Ji(e,t){switch(t){case"primary":return"touch"===e.pointerType||0===e.button;case"secondary":return"touch"!==e.pointerType&&2===e.button;case"tertiary":return"touch"!==e.pointerType&&1===e.button}}function Ki(e,t){return t.some((t=>Ji(e,t)))}function Yi(e,{dragPrimary:t,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:t},{key:"secondary",value:i},{key:"tertiary",value:r}].filter((t=>t.value===e)).map((e=>e.key))}(0,r._)([(0,n.MZ)({constructOnly:!0})],Wi.prototype,"view",void 0),Wi=(0,r._)([(0,a.$)("esri.views.2d.GoToManager")],Wi);class Xi extends ke.l{constructor(e,t){super(!0),this._view=e,this.registerIncoming("double-click",t,(e=>this._handleDoubleClick(e,t)))}_handleDoubleClick(e,t){Ji(e.data,"primary")&&(e.stopPropagation(),t?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}}class Qi extends ke.l{constructor(e,t,i){super(!0),this.view=e,this.pointerType=t,this.registerIncoming("double-tap-drag",i,(e=>this._handleDoubleTapDrag(e)))}_handleDoubleTapDrag(e){const{data:t}=e,{pointerType:i}=t;if(i!==this.pointerType)return;e.stopPropagation();const{action:r,delta:n}=t,{view:s}=this,{mapViewNavigation:o}=s;switch(r){case"begin":{const{scale:e}=s;this._startScale=e,this._currentScale=e,this._previousDelta=n,o.begin();break}case"update":{if(this._previousDelta.y===n.y)return;this._previousDelta=n;const e=1.015**n.y,t=this._startScale*e,i=t/this._currentScale;o.setViewpointImmediate(i),this._currentScale=t;break}case"end":{const{constraints:e}=s,{effectiveLODs:t,snapToZoom:i}=e;if(!i||!t)return void o.end();const r=e.snapScale(this._currentScale),a=(n.y>0?Math.max(r,e.snapToPreviousScale(this._startScale)):Math.min(r,e.snapToNextScale(this._startScale)))/this._currentScale;o.zoom(a).then((()=>{o.end()}));break}}}}class er{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const t=e.data,i=t.pointers.size;switch(t.action){case"start":this._currentCount=i,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){this._startEvent=e,this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}}class tr extends ke.l{constructor(e,t,i){super(!0),this.view=e,this.pointerActions=t,this.registerIncoming("drag",i,(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()))}onInstall(e){super.onInstall(e),this._dragEventSeparator=new er({start:(e,t)=>{this.view.mapViewNavigation.pan.begin(this.view,t.data),t.stopPropagation()},update:(e,t)=>{this.view.mapViewNavigation.pan.update(this.view,t.data),t.stopPropagation()},end:(e,t)=>{this.view.mapViewNavigation.pan.end(this.view,t.data),t.stopPropagation()},condition:(e,t)=>1===e&&Ki(t.data,this.pointerActions)})}_handleDrag(e){const t=this.view.mapViewNavigation;t.pinch.zoomMomentum||t.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}}class ir extends ke.l{constructor(e,t,i){super(!0),this._view=e,this.pointerActions=t;const r=this._view.mapViewNavigation;this._dragEventSeparator=new er({start:(e,t)=>{r.rotate.begin(this._view,t.data),t.stopPropagation()},update:(e,t)=>{r.rotate.update(this._view,t.data),t.stopPropagation()},end:(e,t)=>{r.rotate.end(),t.stopPropagation()},condition:(e,t)=>1===e&&Ki(t.data,this.pointerActions)}),this.registerIncoming("drag",i,(e=>this._dragEventSeparator.handle(e)))}}var rr=i(24121);function nr(e){let t=e*e;return e<0&&(t*=-1),t}class sr extends ke.l{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new Y.A,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",(e=>this._handleGamePadEvent(e))),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([(0,p.wB)((()=>this._view.navigation.gamepad?.enabled),(e=>{e?(this._handle.resume(),this._frameTask||(this._frameTask=(0,P.mg)({update:e=>this._frameUpdate(e.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))}),p.Vh)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){const t=this._view.navigation.gamepad.device;t&&e.data.device!==t||this._currentDevice&&this._currentDevice!==e.data.device||("end"===e.data.action?(this._currentDevice=null,function(e){e.translation[0]=0,e.translation[1]=0,e.translation[2]=0,e.heading=0,e.tilt=0}(this._transformation)):(this._currentDevice=e.data.device,function(e,t,i){const r=i,n=e.state,s=e.device,o="forward-down"===t.tiltDirection?1:-1;"standard"===s.deviceType?(r.translation[0]=nr(n.axes[0]),r.translation[1]=nr(n.axes[1]),r.translation[2]=nr(n.buttons[7])-nr(n.buttons[6]),r.heading=nr(n.axes[2]),r.tilt=nr(n.axes[3])):"spacemouse"===s.deviceType&&(r.translation[0]=1.2*nr(n.axes[0]),r.translation[1]=1.2*nr(n.axes[1]),r.translation[2]=2*-nr(n.axes[2]),r.heading=1.2*nr(n.axes[5]),r.tilt=1.2*nr(n.axes[3])),r.tilt*=o,(0,rr.g)(r.translation,r.translation,1)}(e.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(e){const t=this._transformation;if(function(e){return 0===e.translation[0]&&0===e.translation[1]&&0===e.translation[2]&&0===e.heading&&0===e.tilt&&0===e.zoom}(t))return void this._frameTask?.pause();const i=this._view.viewpoint.clone(),r=this._view.navigation.gamepad.velocityFactor,n=ar*r*e;(0,ii.aA)(i,i,[t.translation[0]*n,-t.translation[1]*n]);const s=1+t.translation[2]*lr*e,o=this._view.constraints.rotationEnabled?-t.heading*or*e:0,a=this._view.size,l=[a[0]/2,a[1]];(0,ii.WK)(i,i,s,o,l,a);const c=this._view.constraints.constrain(i,this._view.viewpoint);this._view.viewpoint=c}}const or=.06,ar=.7,lr=6e-4;function cr(e){const t=()=>e("visible"===document.visibilityState);return document.addEventListener("visibilitychange",t),(0,x.hA)((()=>document.removeEventListener("visibilitychange",t)))}class ur extends ke.l{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=e=>{const t=this._keyMap[e.data.key];if(e.modifiers.has("Meta")||e.modifiers.has("Control"))return void this._stopMovement();if(null==t)return;e.stopPropagation(),e.preventDefault();const i="key-down"===e.type;if(this._pressedKeys[i?"add":"delete"](t),i){if(this._direction===t)return;this._direction=t,this._isSticky=!1,this._setTimeout((()=>{this._isSticky&&this._handlePopKey()}))}else{const e=void 0===this._timeout,t=this._pressedKeys.size>0;e||t?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),null==this._direction&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[t.left]:"left",[t.right]:"right",[t.up]:"up",[t.down]:"down"},this.registerIncoming("key-down",i,this._handleKey),this.registerIncoming("key-up",i,this._handleKey),this.registerIncoming("blur",i,this._stopMovement),this._visibilityHandle=cr((e=>e?null:this._stopMovement()))}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(e){const t=null!=this._currentDirection;if(null!=e){if(t||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else t&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=void 0===e?void 0:setTimeout((()=>{this._timeout=void 0,e()}),this._stickyKeyDuration)}}class hr extends ke.l{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(t),this.registerIncoming("key-down",i,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",i,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",i,(()=>this._handleStop())),this._visibilityHandle=cr((e=>e?null:this._handleStop()))}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,t){for(const i of e)this._keyToDirection.set(i,t)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,t){const i=e.modifiers;if(i.size>0&&!i.has("Shift")||!this.view.constraints.rotationEnabled)return;const r=this._keyToDirection.get(e.data.key);if(this._pressed=null!=r,this._pressed){if(e.preventDefault(),t)switch(this.view.mapViewNavigation.begin(),r){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}}var dr;!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"}(dr||(dr={}));class pr extends ke.l{constructor(e,t,i){super(!0),this.view=e,this.keys=t,this._keysToZoomAction={},this.registerIncoming("key-down",i,(e=>this._handleKeyDown(e))),t.zoomIn.forEach((e=>this._keysToZoomAction[e]=dr.IN)),t.zoomOut.forEach((e=>this._keysToZoomAction[e]=dr.OUT))}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const t=e.modifiers;if(t.size>0&&!t.has("Shift"))return;const{key:i}=e.data;if(!(i in this._keysToZoomAction))return;const r=this._keysToZoomAction[i],{mapViewNavigation:n}=this.view;let s=null;switch(r){case dr.IN:s=n.zoomIn();break;case dr.OUT:s=n.zoomOut();break;default:return}n.begin(),s.then((()=>n.end())),e.stopPropagation()}}class fr extends ke.l{constructor(e,t){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",t,(e=>this._handleMouseWheel(e)))}_handleMouseWheel(e){if("zoom"!==this._view.navigation.actionMap.mouseWheel)return;if(e.preventDefault(),e.stopPropagation(),!this._canZoom)return;const t=this._view.mapViewNavigation,{x:i,y:r,deltaY:n}=e.data,s=1/.6**(1/60*n),o=t.zoom(s,[i,r]);o&&(this._canZoom=!1,o.catch((()=>{})).then((()=>{this._canZoom=!0,t.end()})))}}class mr extends ke.l{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",(e=>this._handleDrag(e))),this.registerIncoming("pointer-down",(()=>this._stopMomentumNavigation()));const t=this.view.mapViewNavigation;this._dragEventSeparator=new er({start:(e,i)=>{t.pinch.begin(this.view,i.data),i.stopPropagation()},update:(e,i)=>{t.pinch.update(this.view,i.data),i.stopPropagation()},end:(e,i)=>{t.pinch.end(this.view),i.stopPropagation()},condition:e=>e>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}}function yr(e){const t=e.native;return t?{buttons:t.buttons.map((e=>e.pressed?e.value||1:0)),axes:t.axes.map((t=>function(e,t){const i=Math.abs(e);return i<t?0:Math.sign(e)*(i-t)/(1-t)}(t,e.axisThreshold)))}:{buttons:[],axes:[]}}class gr{constructor(e,t){this._element=e,this._input=t,this._hasEventListeners=!1,this._onConnectGamepad=e=>{this._connectGamepad(e.gamepad)},this._onDisconnectGamepad=e=>{const t=e.gamepad,i=t.index,r=this._inputDevices[i];r&&(this._emitGamepadEvent(t,yr(r),!1),this._inputDevices.splice(i,1),this._latestUpdate.splice(i,1),this._input.gamepad.devices.remove(r),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const i="getGamepads"in window.navigator,r=window.isSecureContext;this.supported=i&&r,this.supported&&(vr((e=>this._connectGamepad(e))),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const t=new _t(e);"unknown"!==t.deviceType&&(this._inputDevices[e.index]=t,this._input.gamepad.devices.add(t)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){null==this._frameTask&&(this._frameTask=(0,P.mg)({update:()=>this._readGamepadState()}))}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),t=this._element.contains(document.activeElement),i="document"===this._input.gamepad.enabledFocusMode&&!e||"view"===this._input.gamepad.enabledFocusMode&&!t;vr((e=>{const t=this._inputDevices[e.index];if(!t)return;const r=this._latestUpdate[e.index],n=yr(t),s=i||function(e){for(let t=0;t<e.axes.length;t++)if(0!==e.axes[t])return!1;for(let t=0;t<e.buttons.length;t++)if(0!==e.buttons[t])return!1;return!0}(n);if(r){if(r.timestamp===e.timestamp)return;if(!r.active&&s)return;if(function(e,t){if(e.axes.length!==t.axes.length)return!1;if(e.buttons.length!==t.buttons.length)return!1;for(let i=0;i<e.axes.length;i++)if(e.axes[i]!==t.axes[i])return!1;for(let i=0;i<e.buttons.length;i++)if(e.buttons[i]!==t.buttons[i])return!1;return!0}(r.state,n))return}this._emitGamepadEvent(e,n,!s)}))}_emitGamepadEvent(e,t,i){const r=this._latestUpdate[e.index],n=r&&r.active;if(!n&&!i)return;const s=!n&&i?"start":n&&i?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:i},this._callback&&this._callback({device:this._inputDevices[e.index],state:t,action:s})}}function _r(e){if(!e)return!1;if(!e.connected)return!1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return!1;return!0}function vr(e){for(const t of navigator.getGamepads())_r(t)&&e(t)}const wr=(0,s.A)("edge"),br=(0,s.A)("chrome"),Mr=(0,s.A)("ff"),Ar=(0,s.A)("safari"),Sr="esri-view-surface",Tr={touchNone:`${Sr}--touch-none`,touchPan:`${Sr}--touch-pan`};class Er{static{this.test={disableSubpixelCoordinates:!1}}constructor(e,t){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new gr(e,t),this._gamepadSource.onEvent=e=>this._callback("gamepad",e)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach((e=>this._releasePointerCaptureSafe(e))),this._activePointerCaptures.clear(),this._gamepadSource=(0,d.pR)(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const t in this._active)if(!e||!e.has(t)){const e=this._active[t];this._element.removeEventListener(xr[t],e),delete this._active[t]}e&&e.forEach((e=>{if(!this._active[e]&&xr[e]){const t=(this._eventHandlers[e]||this._handleDefault).bind(this,e);this._element.addEventListener(xr[e],t),this._active[e]=t}})),this._gamepadSource&&(this._gamepadSource.hasEventListeners=e?.has("gamepad")??!1)}setPointerCapture(e,t){t?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Tr.touchNone:Tr.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Tr.touchPan:Tr.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Tr.touchNone),this._element.classList.remove(Tr.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch(se){}}_updateNormalizedPointerLikeEvent(e,t){const i=(0,st.Uo)(this._element,e);return Er.test.disableSubpixelCoordinates&&(i.x=Math.round(i.x),i.y=Math.round(i.y)),t.x=i.x,t.y=i.y,t}_handleKey(e,t){const{key:i}=t;i&&"key-up"===e&&this._keyDownState.delete(i);const r={native:t,key:i,repeat:!!i&&this._keyDownState.has(i)};i&&"key-down"===e&&this._keyDownState.add(r.key),this._callback(e,r)}_handlePointer(e,t){const i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,i)}_handlePointerPreventDefault(e,t){const i=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,i)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&(0,s.A)("mac")&&0===e.deltaY?e.deltaX:e.deltaY}_handleMouseWheel(e,t){let i=this._getDeltaFromTrackpadOrMouseWheel(t);switch(t.deltaMode){case 0:wr&&(i=i/document.documentElement.clientHeight*600);break;case 1:i*=30;break;case 2:i*=900}wr?i*=.7:br||Ar?i*=.6:Mr&&(i*=1.375);const r=Math.abs(i);r>100&&(i=i/r*200/(1+Math.exp(-.02*(r-100))));const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:i});this._callback(e,n)}_handlePointerCaptureLost(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t)}_handleDefault(e,t){const i={native:t};t.preventDefault(),this._callback(e,i)}_preventAltKeyDefault(e){"Alt"===e.key&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}}const xr={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};class Pr extends ke.l{constructor(){super(!0),this.registerIncoming("context-menu",(e=>e.data.native.preventDefault()))}}const Cr=(e={})=>({maximumClickDelay:300,maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...e});function Ir(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function Or(e){const{native:t}=e,{pointerId:i,button:r,pointerType:n}=t;return"mouse"===n?`${i}:${r}`:`${n}`}class Rr extends ke.l{constructor(e={},t=Re.p){super(!1),this._clock=t,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=(0,de.tc)(0,0),this._pointerState=new Map,this._parameters=Cr(e),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new er({start:(e,t)=>this._dragStart(e,t),update:(e,t)=>this._dragUpdate(t),end:(e,t)=>this._dragEnd(t)}),this.registerIncoming("drag",(e=>this._dragEventSeparator.handle(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(()=>this._handlePointerUp()))}onUninstall(){this._pointerState.forEach((e=>{e.doubleTapTimeout=(0,d.xt)(e.doubleTapTimeout)}))}get hasPendingInputs(){for(const e of this._pointerState.values())if(null!=e.doubleTapTimeout)return!0;return!1}_clearPointerDown(e){const t=this._pointerState.get(e);t&&(t.doubleTapTimeout=(0,d.xt)(t.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,t){if(!this._doubleTapDragReady||1!==e)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:i,modifiers:r}=t,{center:n}=i;this._dragStartCenter=n;const s=Nr("begin",(0,de.tc)(0,0),i);this._doubleTapDrag.emit(s,void 0,r),t.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:i}=e,{center:r}=t,n=Nr("update",(0,de.tc)(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(n,void 0,i),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:t,modifiers:i}=e,{center:r}=t,n=Nr("end",(0,de.tc)(r.x-this._dragStartCenter.x,r.y-this._dragStartCenter.y),t);this._doubleTapDrag.emit(n,void 0,i),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:t}=e,i=Or(t),r=this._pointerState.get(i),{pointerType:n}=t.native;if(r){const s="touch"===n?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(i),Ir(r.event.data,t)>s?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:t}=e,{pointerType:i}=t.native,r=Or(t),n="touch"===i?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,s=this._clock.setTimeout((()=>this._clearPointerDown(r)),n);this._pointerState.set(r,{event:e,doubleTapTimeout:s}),this.refreshHasPendingInputs()}}function Nr(e,t,i){const{button:r,buttons:n,pointer:s,pointers:o,pointerType:a,timestamp:l}=i;return{action:e,delta:t,button:r,buttons:n,pointer:s,pointers:o,pointerType:a,timestamp:l}}var kr,Lr=i(60882);class Dr extends ke.l{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,t,i,r){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:t.buttons,timestamp:r,pointers:Ur(this._activePointerMap),pointer:t,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(e){const t=e.native.pointerId,i=Fr(this._activePointerMap).angle,r={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(t,r);const n=jr(r,Zr(this._activePointerMap));r.initialAngle=n,r.lastAngle=n,this._updatePointerAngles(i)}_updatePointer(e){if(e&&null==e.x&&null==e.y)return;const t=e.native.pointerId,i=this._activePointerMap.get(t);i?i.event=e:this._addPointer(e)}_removePointer(e){const t=Fr(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(t)}_updatePointerAngles(e){const t=Fr(this._activePointerMap);this._activePointerMap.forEach((i=>{i.initialAngle=jr(i,t)-e,i.lastAngle=jr(i,t)-e}))}_emitEvent(e,t,i){const r=Fr(this._activePointerMap);this._drag.emit(this._createPayload(e,t,r,i),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const t=e.data.native.pointerId,i=(0,Lr.l5)(e.timestamp);this._activePointerMap.get(t)&&(1===this._activePointerMap.size?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,i),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(t)):(this._removePointer(t),this._emitEvent("removed",e.data,(0,Lr.l5)(e.timestamp))))}_handlePointerDrag(e){const t=e.data,i=t.currentEvent,r=(0,Lr.l5)(e.timestamp);switch(t.action){case"start":case"update":this._isDragging?this._activePointerMap.has(i.native.pointerId)?(this._updatePointer(i),!this._isCurrentDragSuppressed&&this._emitEvent("update",i,r)):(this._addPointer(i),this._emitEvent("added",i,r),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(i),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",i,r))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function Zr(e){const t=[];return e.forEach((e=>{t.push((0,de.tc)(e.event.x,e.event.y))})),function(e,t){if(t?(t.radius=0,t.center.x=0,t.center.y=0):t={radius:0,center:(0,de.tc)()},0===e.length)return t;if(1===e.length)return t.center.x=e[0].x,t.center.y=e[0].y,t;if(2===e.length){const[i,r]=e,[n,s]=[r.x-i.x,r.y-i.y];return t.radius=Math.sqrt(n*n+s*s)/2,t.center.x=(i.x+r.x)/2,t.center.y=(i.y+r.y)/2,t}let i=0,r=0;for(let v=0;v<e.length;v++)i+=e[v].x,r+=e[v].y;i/=e.length,r/=e.length;const n=e.map((e=>e.x-i)),s=e.map((e=>e.y-r));let o=0,a=0,l=0,c=0,u=0,h=0,d=0;for(let v=0;v<n.length;v++){const e=n[v],t=s[v],i=e*e,r=t*t;o+=i,a+=r,l+=e*t,c+=i*e,u+=r*t,h+=e*r,d+=t*i}const p=.5*(c+h),f=.5*(u+d),m=o*a-l*l,y=(p*a-f*l)/m,g=(o*f-l*p)/m,_=(0,de.tc)(y+i,g+r);return{radius:Math.sqrt(y*y+g*g+(o+a)/e.length),center:_}}(t)}function Fr(e){const t=Zr(e);let i=0;return e.forEach((e=>{let r=jr(e,t),n=r-e.lastAngle;for(;n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;r=e.lastAngle+n,e.lastAngle=r;const s=r-e.initialAngle;i+=s})),i/=e.size||1,{angle:i,radius:t.radius,center:t.center}}function Ur(e){const t=new Map;return e.forEach(((e,i)=>t.set(i,e.event))),t}function jr(e,t){const i=e.event,r=i.x-t.center.x,n=i.y-t.center.y;return Math.atan2(n,r)}!function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward",e[e.Undefined=-1]="Undefined"}(kr||(kr={}));class Gr extends ke.l{constructor(e={},t=Re.p){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=Cr(e),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach((e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()})),super.onUninstall()}_handlePointerDown(e){const t=e.data,i=Or(t);if(!this._pointerState.has(i)){const e={downButton:t.native.button,x:t.x,y:t.y,immediateDoubleClick:null};this._pointerState.set(i,e),this.startCapturingPointer(t.native)}}_handlePointerUp(e){const t=e.data,i=Or(t),r=this._pointerState.get(i);if(r&&r.downButton===t.native.button){const i=r.immediateDoubleClick,n="touch"===e.data.native.pointerType?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;i?(i.timeoutHandle.remove(),Ir(i,e.data)>n?this._startImmediateDoubleClick(e,r):(this._immediateDoubleClick.emit(e.data,void 0,i.modifiers),this._removeState(t))):Ir(r,e.data)>n?this._removeState(t):this._startImmediateDoubleClick(e,r)}}_startImmediateDoubleClick(e,t){const i="touch"===e.data.native.pointerType?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;t.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout((()=>this._removeState(e.data)),i)}}_removeState(e){const t=Or(e);this._pointerState.delete(t),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}}class zr extends ke.l{constructor(e={},t=Re.p){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=((e={})=>({maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...e}))(e),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e))),this.registerIncoming("pointer-up",(e=>this._handlePointerLoss(e,"pointer-up"))),this.registerIncoming("pointer-capture-lost",(e=>this._handlePointerLoss(e,"pointer-capture-lost"))),this.registerIncoming("pointer-cancel",(e=>this._handlePointerLoss(e,"pointer-cancel"))),this._moveHandle=this.registerIncoming("pointer-move",(e=>this._handlePointerMove(e))),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach((e=>{e.holdTimeout=(0,d.xt)(e.holdTimeout)})),super.onUninstall()}_handlePointerDown(e){const t=e.data,i=t.native.pointerId;let r=null;0===this._pointerState.size&&(r=this._clock.setTimeout((()=>{const t=this._pointerState.get(i);if(t){if(!t.isDragging){const i=t.previousEvent;this._pointerHold.emit(i,void 0,e.modifiers),t.holdEmitted=!0}t.holdTimeout=null}}),this._parameters.holdDelay));const n={startEvent:t,previousEvent:t,startTimestamp:e.timestamp,isDragging:!1,downButton:t.native.button,holdTimeout:r,modifiers:new Set};this._pointerState.set(i,n),this.startCapturingPointer(t.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const t=e.data,i=t.native.pointerId,r=this._pointerState.get(i);r&&(r.isDragging?this._pointerDrag.emit($r("update",r,t),void 0,r.modifiers):function(e,t){const i=t.x-e.x,r=t.y-e.y;return Math.sqrt(i*i+r*r)}(t,r.startEvent)>this._getDragThreshold(t.native.pointerType)&&this._startDragging(e),r.previousEvent=t)}_getDragThreshold(e){switch(e){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){const t=e.data,i=t.native.pointerId;this._pointerState.forEach((r=>{null!=r.holdTimeout&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging||(r.modifiers=e.modifiers,r.isDragging=!0,i===r.startEvent.native.pointerId?this._pointerDrag.emit($r("start",r,t)):this._pointerDrag.emit($r("start",r,r.previousEvent),e.timestamp))}))}_handlePointerLoss(e,t){const i=e.data,r=i.native.pointerId,n=this._pointerState.get(r);n&&(null!=n.holdTimeout&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging?this._pointerDrag.emit($r("end",n,"pointer-up"===t?i:n.previousEvent),void 0,n.modifiers):"pointer-up"===t&&n.downButton===i.native.button&&e.timestamp-n.startTimestamp<=this._parameters.maximumClickDelay&&!n.holdEmitted&&this._immediateClick.emit(i),this._pointerState.delete(r),this.stopCapturingPointer(i.native),0===this._pointerState.size&&this._moveHandle.pause())}}function $r(e,t,i){return{action:e,startEvent:t.startEvent,previousEvent:t.previousEvent,currentEvent:i}}class Vr extends ke.l{constructor(e={},t=Re.p){super(!1),this._clock=t,this._pointerState=new Map,this._parameters=Cr(e),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",(e=>this._handleImmediateClick(e))),this.registerIncoming("pointer-down",(e=>this._handlePointerDown(e)))}onUninstall(){this._pointerState.forEach((e=>e.doubleClickTimer=(0,d.xt)(e.doubleClickTimer)))}get hasPendingInputs(){for(const e of this._pointerState.values())if(null!=e.doubleClickTimer)return!0;return!1}_clearDoubleClickTimer(e,t){const i=this._pointerState.get(e);i&&(i.doubleClickTimer=(0,d.xt)(i.doubleClickTimer),t&&this._click.emit(i.event.data,void 0,i.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e);1===t.pointerDownCount&&this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const t=e.data,{pointerType:i}=t.native,r=function(e){const{pointerId:t,pointerType:i,button:r}=e.native;return"mouse"===i?`${t}:${r}`:`${i}`}(t);if(!this._pointerState.has(r))return void this._startClick(e);const n=this._pointerState.get(r),{data:s,modifiers:o}=n.event,a="touch"===i?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;Ir(s,t)>a?(this._clearDoubleClickTimer(r,!0),this._startClick(e)):(this._clearDoubleClickTimer(r,!1),2===n.pointerDownCount&&this._doubleClick.emit(s,void 0,o))}_handlePointerDown(e){const t=Or(e.data),i=this._pointerState.get(t);i&&(i.pointerDownCount+=1)}_startClick(e){const{data:t}=e,{native:{pointerType:i}}=t,r=Or(t),n="touch"===i?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,s=this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(r)),n);this._pointerState.set(r,{event:e,doubleClickTimer:s,pointerDownCount:1}),this.refreshHasPendingInputs()}}const Br="Control",qr={left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},Hr={zoomIn:["=","+"],zoomOut:["-","_"]},Wr={clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]},Jr=Symbol("handles");let Kr=class extends C.A{initialize(){const e=()=>this.view?.ready;this.addHandles([(0,p.z7)((()=>!e()),(()=>this._disconnect())),(0,p.z7)(e,(()=>this._connect()))])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(e){return this._inputManager?.isModifierKeyDown(e)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(Jr),this._inputManager=(0,d.pR)(this._inputManager)}_connect(){const e=this.view.surface,t=new Er(e,this.view.input),i=[new Gr,new zr,new Vr,new Dr(this.view.navigation),new Rr],r=new z.e({eventSource:t,recognizers:i}),n=new tr(this.view,["primary"]),s=new ir(this.view,["secondary"]);r.installHandlers("prevent-context-menu",[new Pr],z.o.INTERNAL),r.installHandlers("navigation",[new mr(this.view),new sr(this.view),new fr(this.view),new Xi(this.view),new Xi(this.view,[Br]),n,new ur(this.view,qr),new pr(this.view,Hr),new hr(this.view,Wr),s,new Qi(this.view,"touch")],z.o.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,this.addHandles([(0,p.wB)((()=>this.view?.navigation?.browserTouchPanEnabled),(e=>{this._source&&(this._source.browserTouchPanningEnabled=!e)}),p.Vh),(0,p.wB)((()=>{const{actionMap:e}=this.view.navigation;return{panActions:Yi("pan",e),rotateActions:Yi("rotate",e)}}),(({panActions:e,rotateActions:t})=>{n.pointerActions=e,s.pointerActions=t}),p.pc)],Jr)}get test(){}};(0,r._)([(0,n.MZ)()],Kr.prototype,"view",void 0),(0,r._)([(0,n.MZ)()],Kr.prototype,"latestPointerType",null),(0,r._)([(0,n.MZ)()],Kr.prototype,"latestPointerLocation",null),(0,r._)([(0,n.MZ)()],Kr.prototype,"multiTouchActive",null),Kr=(0,r._)([(0,a.$)("esri.views.2d.input.MapViewInputManager")],Kr);const Yr=Kr,Xr=e=>{let t=class extends e{constructor(...e){super(...e),this.goToManager=new Wi({view:this}),this.inputManager=new Yr({view:this}),this.addHandles([this.on("resize",(e=>this.stateManager.resize(e.width,e.height)))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(e,t,i,r){return this.inputManager&&this.viewEvents.on(e,t,i,r)||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}goTo(e,t){return this.goToManager.goTo(e,t)}toMap(e){if(!this.ready)return null;const t=(0,st.FV)(e)?(0,st.xB)(this,e):e;return this.stateManager.toMap(t)}};return(0,r._)([(0,n.MZ)()],t.prototype,"goToManager",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"interacting",null),(0,r._)([(0,n.MZ)()],t.prototype,"stationary",null),(0,r._)([(0,n.MZ)({readOnly:!0})],t.prototype,"inputManager",void 0),t=(0,r._)([(0,a.$)("esri.views.Viewport2DMixin")],t),t};var Qr=i(76557);class en{constructor(e){this._view=e,this.viewpoint=new l.A({targetGeometry:new pi.A,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,t]=this._view.size;return Math.sqrt(e*e+t*t)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return(0,ii.ri)(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,t){t.pan=(0,Qr.Io)(this.center,e.center);let i=Math.abs(e.rotation-this.rotation);i=i>=180?360-i:i,t.rotate=(0,Ne.kU)(i),t.sourceZoom=this.scale,t.targetZoom=e.scale}interpolate(e,t,i){const{pan:r,rotate:n,zoom:s,zoomOffset:o}=i,{center:a}=this;a.spatialReference=e.center.spatialReference,a.x=(0,Ne.Cc)(e.center.x,t.center.x,r),a.y=(0,Ne.Cc)(e.center.y,t.center.y,r),this.viewpoint.scale=(0,Ne.Cc)(e.scale,t.scale+o,s);let l=e.rotation;const c=t.rotation;Math.abs(c-l)>=180&&(l+=360*(l<c?1:-1)),this.viewpoint.rotation=(0,Ne.Cc)(l,c,n)}copyFrom(e){(0,ii.C)(this.viewpoint,e.viewpoint),this._view=e.view}}var tn=i(26348);const rn=e=>e*e,nn=e=>1-rn(1-e),sn=e=>e<.5?rn(2*e)/2:(nn(2*(e-.5))+1)/2,on=e=>e*e*e,an=e=>1-on(1-e),ln=e=>e<.5?on(2*e)/2:(an(2*(e-.5))+1)/2,cn=e=>e*e*e*e,un=e=>1-cn(1-e),hn=e=>e<.5?cn(2*e)/2:(un(2*(e-.5))+1)/2,dn=e=>e*e*e*e*e,pn=e=>1-dn(1-e),fn=e=>e<.5?dn(2*e)/2:(pn(2*(e-.5))+1)/2,mn=e=>1-Math.cos(e*Math.PI/2),yn=e=>1-mn(1-e),gn=e=>e<.5?mn(2*e)/2:(yn(2*(e-.5))+1)/2,_n=e=>2**(10*(e-1)),vn=e=>1-_n(1-e),wn=e=>e<.5?_n(2*e)/2:(vn(2*(e-.5))+1)/2,bn=e=>-(Math.sqrt(1-e*e)-1),Mn=e=>1-bn(1-e),An=e=>e<.5?bn(2*e)/2:(Mn(2*(e-.5))+1)/2;function Sn(e){const t=2*(e-Math.sqrt((e-1)*e)),i=t/2/e;return r=>r<i?e*r*r:t*r-t+1}function Tn(e,t){return(i,r)=>i<t?t*e(i/t,r):1-e((1-i)/(1-t),r)*(1-t)}const En=Tn(Sn(1),1),xn=Tn(Sn(1),0),Pn=Tn(Sn(1),.5),Cn=Tn(Sn(2),1),In=Tn(Sn(2),0),On=Tn(Sn(2),.5),Rn=Tn(Sn(3),1),Nn=Tn(Sn(3),0),kn=Tn(Sn(3),.5),Ln=Tn(Sn(4),1),Dn=Tn(Sn(4),0),Zn=Tn(Sn(4),.5),Fn={linear:e=>e,"in-quad":rn,"out-quad":nn,"in-out-quad":sn,"in-coast-quad":En,"out-coast-quad":xn,"in-out-coast-quad":Pn,"in-cubic":on,"out-cubic":an,"in-out-cubic":ln,"in-coast-cubic":Cn,"out-coast-cubic":In,"in-out-coast-cubic":On,"in-quart":cn,"out-quart":un,"in-out-quart":hn,"in-coast-quart":Rn,"out-coast-quart":Nn,"in-out-coast-quart":kn,"in-quint":dn,"out-quint":pn,"in-out-quint":fn,"in-coast-quint":Ln,"out-coast-quint":Dn,"in-out-coast-quint":Zn,"in-sine":mn,"out-sine":yn,"in-out-sine":gn,"in-expo":_n,"out-expo":vn,"in-out-expo":wn,"in-circ":bn,"out-circ":Mn,"in-out-circ":An,"quad-in":rn,"quad-out":nn,"quad-in-out":sn,"quad-in-coast":En,"quad-out-coast":xn,"quad-in-out-coast":Pn,"cubic-in":on,"cubic-out":an,"cubic-in-out":ln,"cubic-in-coast":Cn,"cubic-out-coast":In,"cubic-in-out-coast":On,"quart-in":cn,"quart-out":un,"quart-in-out":hn,"quart-in-coast":Rn,"quart-out-coast":Nn,"quart-in-out-coast":kn,"quint-in":dn,"quint-out":pn,"quint-in-out":fn,"quint-in-coast":Ln,"quint-out-coast":Dn,"quint-in-out-coast":Zn,"sine-in":mn,"sine-out":yn,"sine-in-out":gn,"expo-in":_n,"expo-out":vn,"expo-in-out":wn,"circ-in":bn,"circ-out":Mn,"circ-in-out":An,ease:e=>tn.Z0.ease(e),"ease-in":e=>tn.Z0.easeIn(e),"ease-out":e=>tn.Z0.easeOut(e),"ease-in-out":e=>tn.Z0.easeInOut(e)};class Un{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}}const jn={desiredScreenFlow:2,minDuration:(0,Lr.l5)(500),maxDuration:(0,Lr.l5)(8e3)},Gn={...jn,maxDuration:(0,Lr.l5)(4e3)};class zn{constructor(e){this._createCamera=e,this.compared=new Un,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:jn.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new zn(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,t,i){this.source!==e&&this.source.copyFrom(e),this.target!==t&&this.target.copyFrom(t),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=i.desiredScreenFlow??jn.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const t=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/t}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>(0,ni.FD)()}get hasFov(){return Math.abs(this.compared.fov)>(0,ni.FD)()}get hasRotate(){return this.compared.rotate>(0,ni.FD)()}}let $n=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce(((e,t)=>(0,Lr.Kp)(e+t.time)),(0,Lr.Kp)(0))}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),e*=this.time;let i=0,r=0;const n=this.definition,s=this.segments.reduce(((e,t)=>e||t.definition.hasZoom),!1);for(let o=0;o<this.segments.length;o++){const a=this.segments[o],l=a.definition;if(e<=a.time||o===this.segments.length-1){if(this.segmentInterpolateComponentsAt(a,0===a.time?0:e/a.time,t),n.hasPan&&!isNaN(t.pan)&&isFinite(n.compared.pan)?t.pan=(i+l.compared.pan*t.pan)/n.compared.pan:t.pan=1,n.hasRotate&&!isNaN(t.rotate)&&isFinite(n.compared.rotate)?t.rotate=(r+l.compared.rotate*t.rotate)/n.compared.rotate:t.rotate=1,s&&!isNaN(t.zoom)&&isFinite(l.compared.targetZoom)){const{sourceZoom:e,targetZoom:i}=l.compared,r=t.zoom*(i-e)+e,n=this.segments[0].definition.compared.sourceZoom,s=this.segments[this.segments.length-1].definition.compared.targetZoom,o=Math.abs(i-n)>Math.abs(e-n)?i:e;t.zoomOffset=o-s,t.zoom=(r-n)/(o-n)}else t.zoom=1;return t}e-=a.time,i+=l.compared.pan,r+=l.compared.rotate}}segmentInterpolateComponentsAt(e,t,i){e.interpolateComponentsAt(t,i)}};class Vn{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,t=e.compared,i=t.sourceZoom,r=t.targetZoom;this._zoomSign=i>r?1:-1,this._panPixelsAtSource=t.pan*e.source.pixelsPerPanAtZoom(i);const n=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=t.rotate*n}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,t=this.definition.compared.targetZoom,{hasZoom:i,hasPan:r,hasRotate:n}=this.definition;let s=0,o=0;i&&(r&&(s=(t/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),n&&(o=this._zoomSign*(Math.log(e/t)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const a=this.definition.desiredPixelFlow;if(i&&r&&n){const e=s+o+s*o;this._zoomPixelFlow=s*o/e*a,this._panPixelFlow=o/e*a,this._rotatePixelFlow=s/e*a}else if(i&&r){const e=1+s;this._zoomPixelFlow=s/e*a,this._panPixelFlow=1/e*a}else if(i&&n){const e=1+o;this._zoomPixelFlow=o/e*a,this._rotatePixelFlow=1/e*a}else if(r&&n){const e=this._panPixelsAtSource/this._rotatePixels,t=1+e;this._panPixelFlow=e/t*a,this._rotatePixelFlow=1/t*a}else r?this._panPixelFlow=a:i?this._zoomPixelFlow=a:n&&(this._rotatePixelFlow=a);if(this._time=(0,Lr.Kp)(Math.max(this.rotateTime,this.zoomTime,this.panTime)),this.fovTime>this._time){const e=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=e,this._panPixelFlow/=e,this._rotatePixelFlow/=e}}get rotateTime(){return this.definition.hasRotate?(0,Lr.Kp)(this._rotatePixels/this._rotatePixelFlow):(0,Lr.Kp)(0)}get zoomTime(){return this.definition.hasZoom?(0,Lr.Kp)(this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow):(0,Lr.Kp)(0)}get fovTime(){return this.definition.hasFov?(0,Lr.Kp)(Math.abs(this.definition.compared.fov)/Bn):(0,Lr.Kp)(0)}get panTime(){if(!this.definition.hasPan)return(0,Lr.Kp)(0);if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,t=e*this._panPixelsAtSource;return(0,Lr.Kp)(Math.log(t*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow))}return(0,Lr.Kp)(this._panPixelsAtSource/this._panPixelFlow)}_interpolateComponentsZoom(e){if(0===e||1===e)return e;if(this.definition.hasZoom){const t=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom;return(t*(t/i)**-e-t)/(i-t)}return e}_interpolateComponentsFov(e){if(0===e)return this.definition.segmentStart;if(1===e)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:t,segmentEnd:i}=this.definition;return t+e*(i-t)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(0===e||1===e)return e;if(this.definition.hasPan&&this.definition.hasZoom){const t=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(t*e*this._time)-1))/(t*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,t){e=Math.min(Math.max(e,0),1),t.zoom=this._interpolateComponentsZoom(e),t.pan=this._interpolateComponentsPan(e),t.rotate=this._interpolateComponentsRotate(e),t.zoomOffset=0,t.fov=this._interpolateComponentsFov(e)}}const Bn=(0,Ne.kU)(45);function qn(e,t,i){const r=t-e.compared.sourceZoom,n=e.halfWindowPanAtZoom(r);return-e.halfWindowSize*(i.ascensionFactor*Math.LN2*e.compared.pan+n)*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2*n)}function Hn(e,t,i){const r=1/t,n=Math.log(e.compared.sourceZoom*r),s=1/e.desiredPixelFlow,o=1/Math.LN2,a=t-e.compared.sourceZoom,l=1/a,c=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(a))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*r*s*o*l*c-e.halfWindowSize*n*s*o*l+e.halfWindowSize*n*s*o*c/(a*a)}function Wn(e,t,i){const r=t-e.compared.sourceZoom,n=1/r,s=1/t,o=Math.log(e.compared.sourceZoom*s),a=(i.ascensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(r))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*s*a+2*n*o+2*s-2*o*a/(r*r)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function Jn(e,t){return-e.halfWindowSize*Math.log(e.compared.sourceZoom/t)/(e.desiredPixelFlow*Math.LN2)}function Kn(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function Yn(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function Xn(e,t,i){return e.halfWindowSize*(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*e.halfWindowPanAtZoom(-t+e.compared.targetZoom))}function Qn(e,t,i){const r=Math.log(t/e.compared.targetZoom),n=1/e.desiredPixelFlow,s=1/Math.LN2,o=-t+e.compared.targetZoom,a=1/o,l=(-e.halfWindowPanAtZoom(t)-i.descensionFactor*Math.LN2*e.compared.pan+e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return-e.halfWindowSize*r*n*s*a+e.halfWindowSize*r*n*s*l/(o*o)+e.halfWindowSize*n*s*a*l/t}function es(e,t,i){const r=t-e.compared.targetZoom,n=1/r,s=1/t,o=Math.log(t/e.compared.targetZoom),a=(e.halfWindowPanAtZoom(t)+i.descensionFactor*Math.LN2*e.compared.pan-e.halfWindowPanAtZoom(e.compared.targetZoom))/e.halfWindowPanAtZoom(1);return e.halfWindowSize*n*(-2*n*s*a-2*n*o+2*s+2*o*a/(r*r)-a/(t*t))/(e.desiredPixelFlow*Math.LN2)}function ts(e,t){return e.halfWindowSize*Math.log(t/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2)}function is(e,t){return e.halfWindowSize/(t*e.desiredPixelFlow*Math.LN2)}function rs(e,t){return-e.halfWindowSize/(t*t*e.desiredPixelFlow*Math.LN2)}function ns(e,t){let i=function(e,t){const i=Math.max(e.compared.sourceZoom,e.compared.targetZoom),r=e.source.zoomAtPixelsPerPan(e.desiredPixelFlow/e.compared.pan)/2;return r<i?null!=t.maximumDistance?i+(t.maximumDistance-i)/2:1.5*i:t.maximumDistance?Math.min(t.maximumDistance,r):r}(e,t);const r={ascensionFactor:null!=t.ascensionFactor?t.ascensionFactor:.5,descensionFactor:null!=t.descensionFactor?t.descensionFactor:.5},n=0===r.ascensionFactor,s=0===r.descensionFactor,o=n?Jn:qn,a=n?Kn:Hn,l=n?Yn:Wn,c=s?ts:Xn,u=s?is:Qn,h=s?rs:es,d=t=>o(e,t,r)+function(e,t,i){return-e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t))}(e,t,r)+c(e,t,r),p=t=>a(e,t,r)+function(e,t,i){return e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t))}(e,t,r)+u(e,t,r),f=t=>l(e,t,r)+function(e,t,i){return-2*e.compared.pan*e.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(e.desiredPixelFlow*e.halfWindowPanAtZoom(t*t*t))}(e,t,r)+h(e,t,r);let m=d(i);const y=function(e){const t=e.compared.sourceZoom-e.compared.targetZoom;if(0===t)return e.compared.pan*e.halfWindowSize/(e.desiredPixelFlow*e.halfWindowPanAtZoom(e.compared.sourceZoom));const i=Math.LN2*e.compared.pan,r=t,n=e.halfWindowPanAtZoom(r),s=e.halfWindowSize*Math.log(e.compared.sourceZoom/e.compared.targetZoom)/(e.desiredPixelFlow*Math.LN2*n);return e.compared.sourceZoom<=e.compared.targetZoom?s*(i-n):s*(i+n)}(e);let g;const _=t.maximumIterations||20,v=null!=t.maximumDistance?t.maximumDistance:1/0;for(g=0;g<_;g++){const r=t.desiredSlope??1e-6;let n=p(i);Math.abs(n)>r&&(n+=r);const s=n/f(i);if(isNaN(s)||i>=v&&s<0){if(!isFinite(v))return null;i=v,m=d(i);break}if(i-=s,i<=e.compared.sourceZoom||i<=e.compared.targetZoom)return null;const o=d(i);if(Math.abs(o-m)/m<=.005)break;m=o}return isNaN(m)||m>.7*y||i<=e.compared.sourceZoom||i<=e.compared.targetZoom?null:i}class ss extends $n{constructor(e,t){super(),this._preallocSegments=[new Vn,new Vn,new Vn],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,t)}update(e,t){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const i=t?.apex?ns(e,t.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,i?this._updateWithApex(i,t?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,t,i){e.interpolateComponentsAt(t,i),e===this._ascensionSegment?i.zoom=nn(i.zoom):e===this._descensionSegment&&(i.zoom=rn(i.zoom))}_updateWithApex(e,t){const[i,r,n]=this._preallocSegments,s=t?.ascensionFactor??.5,o=Math.min(1-s,null!=t?.ascensionFactor&&null!=t.descensionFactor?t.descensionFactor:.5),a=1-s-o;i.definition?i.definition.copyFrom(this.definition):i.definition=this.definition.clone(),i.definition.compared.targetZoom=e,i.definition.compared.pan=this.definition.compared.pan*s,i.definition.compared.rotate=this.definition.compared.rotate*s,i.definition.segmentEnd=s,i.update(),this._ascensionSegment=i,this.segments.push(i),a>0&&(r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.copyFrom(this.definition),r.definition.compared.sourceZoom=e,r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*a,r.definition.compared.rotate=this.definition.compared.rotate*a,r.definition.segmentStart=i.definition.segmentEnd,r.definition.segmentEnd=i.definition.segmentEnd+a,r.update(),this.segments.push(r)),n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.sourceZoom=e,n.definition.compared.pan=this.definition.compared.pan*o,n.definition.compared.rotate=this.definition.compared.rotate*o,n.definition.segmentStart=s+a,n.update(),this._descensionSegment=n,this.segments.push(n)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}}const os=new class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}};let as=class{get time(){return this._time}get isLinear(){return 1===this.path.segments.length}constructor(e){this._time=(0,Lr.l5)(0),this._easing=Pn,this.definition=new zn(e),this.path=new ss}update(e,t,i){this.definition.update(e,t,i),this.path.update(this.definition,i),this._time=this._applyTimeSettings((0,Lr.gr)(isFinite(this.path.time)?this.path.time:(0,Lr.Kp)(0)),i),this._easing=i.easing??(this._time>=1e3?Pn:vn)}cameraAt(e,t){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const i=this.path.interpolateComponentsAt(e,os);t.interpolate(this.definition.source,this.definition.target,i)}_normalizedEasing(e){const t=this._easing(0,this._time),i=this._easing(1,this._time);return(this._easing(e,this._time)-t)/(i-t)}_applyTimeSettings(e,t){const i=null!=t.speedFactor?t.speedFactor:1,r=t.minDuration??jn.minDuration/i,n=t.maxDuration??jn.maxDuration/i;return null!=t.duration?(0,Lr.l5)(t.duration):(0,Lr.l5)(Math.min(Math.max(e/i,r),n))}};class ls{constructor(e){this._view=e,this._animation=new as((()=>new en(this._view))),this._current=new en(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,t,i={}){(0,ii.C)(this._current.viewpoint,e),(0,ii.C)(this._source.viewpoint,e),(0,ii.C)(this._target.viewpoint,t),this._animation.update(this._source,this._target,i)}applyRatio(e,t){this._animation.cameraAt(t,this._current),(0,ii.C)(e,this._current.viewpoint)}}let cs=class extends C.A{constructor(e){super(e),this._animation=null,this._destinationViewState=new Mi,this.updateFunction=null,this.easing=Fn.ease,this.viewpoint=new l.A({targetGeometry:new pi.A,scale:0,rotation:0}),this._updateTask=(0,P.mg)({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new ls(e.view)}destroy(){this._updateTask=(0,d.xt)(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,t,i){this.stop();const r=this.viewpoint;(0,ii.C)(r,t);const n=e.target;this._transition.update(this.viewpoint,n,{apex:{maximumDistance:Math.min(64*Math.min(t.scale,n.scale),this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:i?.duration,maxDuration:"auto"===i?.animationMode?(0,Lr.l5)(1/0):i?.maxDuration??Gn.maxDuration,speedFactor:i?.speedFactor,easing:("string"==typeof i?.easing?Fn[i.easing]:i?.easing)||this.easing}),"auto"===i?.animationMode&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=n,function(e,t,i,r){if(null!=t?.duration)return!0;const{time:n,isLinear:s}=e,o=t?.speedFactor||1;if(n>(t?.maxDuration??Gn.maxDuration/o))return!1;if(s){const e=1.5,t=(0,ti.vt)(),s=(0,de.tc)(...r.toScreen(t,...i.center)),a=(0,de.tc)(...i.toScreen(t,...r.center)),l=null!=a&&a.x>-1*i.size[0]&&a.x<(e+.5)*i.size[0]&&a.y>-1*i.size[1]&&a.y<(e+.5)*i.size[1],c=null!=s&&s.x>-1*r.size[0]&&s.x<(e+.5)*r.size[0]&&s.y>-1*r.size[1]&&s.y<(e+.5)*r.size[1];if(n>2e3/o&&!l&&!c)return!1}return!0}(this._transition.animation,i,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,n,{duration:(0,Lr.l5)(0)}));const s=()=>{this.animation===e&&this._updateTask&&("finished"===e.state&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,t){this.stop(),this.updateFunction=t,this.viewpoint=e;const i=new Hi({target:e.clone()}),r=()=>{this.animation===i&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return i.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=i,i}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const t=this.animation;if(t&&t.state!==Hi.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),this.animation?.update(this.viewpoint);else{const e=performance.now()-this._startTime,t=this._transition.duration,i=t>0?e/t:1,r=i>=1;this._transition.applyRatio(this.viewpoint,i),r&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};(0,r._)([(0,n.MZ)()],cs.prototype,"easing",void 0),(0,r._)([(0,n.MZ)()],cs.prototype,"view",void 0),(0,r._)([(0,n.MZ)()],cs.prototype,"viewpoint",void 0),cs=(0,r._)([(0,a.$)("esri.views.2d.AnimationManager")],cs);const us=cs;function hs(){return Promise.all([Promise.all([i.e(72076),i.e(82162)]).then(i.bind(i,82162)),Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(82200),i.e(99590),i.e(74241),i.e(251),i.e(45357),i.e(23590)]).then(i.bind(i,23590))])}const ds=()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(82200),i.e(99590),i.e(74241),i.e(21292),i.e(2145),i.e(62238)]).then(i.bind(i,62238)))),ps=()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(31795),i.e(4371)]).then(i.bind(i,4371)))),fs={"base-dynamic":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(79342)]).then(i.bind(i,79342)))),"base-tile":ds,"bing-maps":ds,catalog:()=>hs().then((()=>Promise.all([i.e(72076),i.e(54357)]).then(i.bind(i,54357)))),"catalog-dynamic-group":()=>hs().then((()=>Promise.all([i.e(72076),i.e(96830)]).then(i.bind(i,96830)))),"catalog-footprint":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(31795),i.e(4371),i.e(11085)]).then(i.bind(i,11085)))),csv:ps,"geo-rss":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(95527)]).then(i.bind(i,95527)))),feature:ps,geojson:ps,parquet:ps,graphics:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(97569)]).then(i.bind(i,97569)))),group:()=>hs().then((()=>Promise.all([i.e(72076),i.e(40693)]).then(i.bind(i,40693)))),imagery:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(98100),i.e(15995),i.e(69273),i.e(21292),i.e(29371)]).then(i.bind(i,29371)))),"imagery-tile":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(98100),i.e(15995),i.e(25478),i.e(69273),i.e(15554)]).then(i.bind(i,15554)))),kml:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(15995),i.e(251),i.e(11326)]).then(i.bind(i,15211)))),"knowledge-graph":()=>hs().then((()=>Promise.all([i.e(72076),i.e(70174)]).then(i.bind(i,70174)))),"link-chart":()=>hs().then((()=>Promise.all([i.e(72076),i.e(70174)]).then(i.bind(i,70174)))),"knowledge-graph-sublayer":ps,"map-image":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(21292),i.e(2145),i.e(95091)]).then(i.bind(i,95091)))),"map-notes":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(72695)]).then(i.bind(i,72695)))),media:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(82200),i.e(99590),i.e(74241),i.e(6277)]).then(i.bind(i,6277)))),"ogc-feature":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(31795),i.e(4371),i.e(3847)]).then(i.bind(i,3847)))),"open-street-map":ds,"oriented-imagery":ps,route:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(3058),i.e(91479)]).then(i.bind(i,91479)))),stream:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(31795),i.e(4371),i.e(79705)]).then(i.bind(i,79705)))),"subtype-group":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(31795),i.e(4371),i.e(84005)]).then(i.bind(i,84005)))),tile:ds,"vector-tile":()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(99590),i.e(17744),i.e(92963)]).then(i.bind(i,60361)))),video:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(93346),i.e(19307)]).then(i.bind(i,19307)))),wcs:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(98100),i.e(15995),i.e(25478),i.e(69273),i.e(15554)]).then(i.bind(i,15554)))),"web-tile":ds,wfs:ps,wms:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(75459)]).then(i.bind(i,75459)))),wmts:()=>hs().then((()=>Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(92045)]).then(i.bind(i,92045)))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};const ms=e=>null!=fs[e.type],ys=e=>{const t=fs[e.type];if(null==t)throw function(e){const t=e.declaredClass?e.declaredClass.slice(e.declaredClass.lastIndexOf(".")+1):"Unknown",i=t.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new h.A(`${i}:view-not-supported`,`${t} is not supported in 2D`)}(e);return t(e)};var gs=i(75976),_s=i(42482),vs=(i(36791),i(62540),i(21769)),ws=i(73030),bs=i(80510),Ms=i(74e3),As=i(45815);const Ss={added:[],removed:[]},Ts=new Set,Es=new _s.A(0,0,0,0);class xs extends K.A{constructor(e){super(),this._tiles=new Map,this._index=(0,ws.r)(9,(0,s.A)("esri-csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||0===(0,bs.VL)(e)||0===(0,bs.uJ)(e))return[];const t=function(e,t){const i=(0,ne.Vp)(t);if(!i)return null;const[r,n]=i.valid;return e[2]>n?[(0,bs.vt)([e[0],e[1],n,e[3]]),(0,bs.vt)([r,e[1],r+e[2]-n,e[3]])]:e[0]<r?[(0,bs.vt)([r,e[1],e[2],e[3]]),(0,bs.vt)([n-(r-e[0]),e[1],n,e[3]])]:null}(e,this.tileScheme.spatialReference);return null!=t?[...new Set([...this.boundsIntersections(t[0]),...this.boundsIntersections(t[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const t={added:[],removed:[]};for(const i of e.added)if(!this.has(i)){const e=new Ms.F(this.tileScheme,i);this._tiles.set(i,e),this._index.insert(e),t.added.push(e)}for(const i of e.removed)if(this.has(i)){const e=this.get(i);this._tiles.delete(i),this._index.remove(e),t.removed.push(e)}this.tiles.length=0,this._tiles.forEach((e=>this.tiles.push(e))),(t.added.length||t.removed.length)&&this.emit("update",t)}setViewState(e){const t=this.tileScheme.getTileCoverage(e,0);if(!t)return;const{spans:i,lodInfo:r}=t,{level:n}=r;if(i.length>0)for(const{row:s,colFrom:o,colTo:a}of i)for(let e=o;e<=a;e++){const t=Es.set(n,s,r.normalizeCol(e),r.getWorldForColumn(e)).id;if(Ts.add(t),!this.has(t)){const e=new Ms.F(this.tileScheme,t);this._tiles.set(t,e),this._index.insert(e),this.tiles.push(e),Ss.added.push(e)}}for(let s=this.tiles.length-1;s>=0;s--){const e=this.tiles[s];Ts.has(e.id)||(this._tiles.delete(e.id),this.tiles.splice(s,1),this._index.remove(e),Ss.removed.push(e))}(Ss.added.length||Ss.removed.length)&&this.emit("update",Ss),As.A.pool.release(t),Ts.clear(),Ss.added.length=0,Ss.removed.length=0}}var Ps=i(19257),Cs=i(6166),Is=i(41010),Os=i(25707);function Rs(e,t,i,r,n,s){return o=>{if(o instanceof Os.A){if(o.layer===e)s?.();else{const t=e.allLayerViews.find((e=>e.layer===o.layer));t&&n?.(t)}r(ks(o))}else if("layer"in o&&"element"in o);else if("subtype-sublayer"===o.type){const t=e.allLayerViews.find((e=>e.layer===o.parent));t&&i(o,t)}else{const i=e.allLayerViews.find((e=>e.layer===o));i&&t(i)}}}function Ns(e,t){if(e)if((0,nt.xZ)(e))for(const i of e)if((0,nt.xZ)(i))for(const e of i)t(e);else t(i);else t(e)}function ks(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function Ls({layer:e},t){"subtype-group"===e?.type&&e.sublayers.forEach((e=>{t(e)}))}var Ds=i(23391);const Zs={flipY:!0,premultipliedAlpha:!0};function Fs(e,t){const i=function(e,t,i,r){e.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let n=null;null!=e.width&&null!=e.height?n=[e.width,e.height]:null==e.width&&null!=e.height?n=[e.height,e.height]:null!=e.width&&null==e.height?n=[e.width,e.width]:null==e.width&&null==e.height&&(n=null);const s=i[0]-(r.left+r.right),o=i[1]-(r.top+r.bottom);let a,l,c=e.area||{x:0,y:0,width:s,height:o};if(n){const e=s/o,t=n[0]/n[1];if(t>e){const e=c.width/t;c={x:c.x,y:Math.round(c.y+(c.height-e)/2),width:c.width,height:Math.round(e)}}else{const e=c.height*t;c={x:Math.round(c.x+(c.width-e)/2),y:c.y,width:Math.round(e),height:c.height}}}else n=[c.width,c.height];return n[0]>c.width?(a=Math.min(n[0]/c.width,t),l=n[0]/c.width/a):(a=1,l=n[0]/c.width),{cropArea:{x:Math.round((c.x+r.left)*a),y:Math.round((c.y+r.top)*a),width:Math.round(c.width*a),height:Math.round(c.height*a)},outputScale:l,resolutionScale:a}}(t||{},function(e,t){return Math.min(4,(0,Ds.getMaximumResolutionScale)(t,Math.min(4096,e.context.parameters.maxTextureSize)))}(e.stage,e.size),e.size,e.padding),r=function(e={},t){if(!e.layers)return;const i=[];return e.layers.forEach((e=>{const r=t.find((t=>t.layer.id===e.id));r?.container&&i.push(r.container)})),i}(t,e.allLayerViews);return e.stage.takeScreenshot(i,r,e.backgroundColor,t?.rotation)}var Us=i(36998),js=i(75228);const Gs="esri-component";let zs=class extends C.A{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(e){this._set("id",e)}set node(e){const t=this._get("node");e!==t&&(e&&e.classList.add(Gs),t&&t.classList.remove(Gs),this._set("node",e))}castNode(e){return this.widget?.destroy(),e?"string"==typeof e||function(e){return e&&"nodeType"in e}(e)?(this._set("widget",null),(0,T.$)(e)):(function(e){return e&&"function"==typeof e.render}(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};(0,r._)([(0,n.MZ)()],zs.prototype,"id",null),(0,r._)([(0,n.MZ)()],zs.prototype,"node",null),(0,r._)([(0,m.w)("node")],zs.prototype,"castNode",null),(0,r._)([(0,n.MZ)({readOnly:!0})],zs.prototype,"widget",void 0),zs=(0,r._)([(0,a.$)("esri.views.ui.Component")],zs);const $s=zs;i(17791);var Vs=i(67923),Bs=i(99484),qs=i(91109);const Hs={left:0,top:0,bottom:0,right:0},Ws={bottom:30,top:15,right:15,left:15},Js="esri-ui",Ks={ui:Js,corner:`${Js}-corner`,innerContainer:`${Js}-inner-container`,manualContainer:`${Js}-manual-container`,cornerContainer:`${Js}-corner-container`,topLeft:`${Js}-top-left`,topRight:`${Js}-top-right`,bottomLeft:`${Js}-bottom-left`,bottomRight:`${Js}-bottom-right`};function Ys(e){return 0===e?"0":`${e}px`}function Xs(e){const t="object"==typeof e&&null!==e&&Object.getPrototypeOf(e);return null!==t&&t!==Object.prototype||!("component"in e||"index"in e||"position"in e)?null:e}function Qs(e,{top:t,bottom:i,left:r,right:n}){e.style.top=t,e.style.bottom=i,e.style.left=r,e.style.right=n}let eo=class extends K.A.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=(0,qs.JK)(),this.view=null,this._applyViewPadding=()=>{const e=this.container;e&&Qs(e,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const e=this._innerContainer;e&&Qs(e,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([(0,p.wB)((()=>[this.view?.padding,this.container]),this._applyViewPadding,p.Vh),(0,p.wB)((()=>this.padding),this._applyUIPadding,p.Vh),(0,p.wB)((()=>[this.container,this._locale]),(([e,t])=>{e&&e.setAttribute("lang",t)}),p.Vh),(0,qs.oQ)((e=>{this._locale=e}))])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear()}set container(e){const t=this._get("container");e!==t&&(e&&(e.classList.add(Ks.ui),(0,Vs.Tu)(e),this._attachContainers(e)),t&&(t.classList.remove(Ks.ui),Qs(t,{top:"",bottom:"",left:"",right:""}),t.textContent=""),this._set("container",e))}get height(){const e=this.view?.height??0;if(0===e)return e;const t=this._getViewPadding(),{top:i,bottom:r}=t;return Math.max(e-i-r,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return"number"==typeof e?{bottom:e,top:e,right:e,left:e}:{...Ws,...e}}get width(){const e=this.view?.width??0;if(0===e)return e;const t=this._getViewPadding(),{left:i,right:r}=t;return Math.max(e-i-r,0)}add(e,t){let i,r,n;if(Array.isArray(e))return void e.forEach((e=>this.add(e,t)));const s=Xs(e);s&&({index:i,position:t,component:e,key:r}=s),t&&"object"==typeof t&&({index:i,key:r,position:t,internal:n}=t),!e||t&&!this._isValidPosition(t)||this._add(e,t,i??this._getNumComponentsAtPosition(t),r,n)}remove(e,t){if(!e)return;if(Array.isArray(e))return e.map((e=>this.remove(e,t)));const i=this._find(e);if(i){const e=this._componentMap.get(i);if(!e||e.key!==t)return;const r=this._components.indexOf(i),n=i.node.parentNode;return n?.removeChild(i.node),this._componentMap.delete(i),i.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach((t=>{const i=this._componentMap.get(t);i&&i.position===e.position&&i.index>e.index&&i.index--})),this._components.splice(r,1)[0]}}empty(e,t={removeInternal:!1}){if(Array.isArray(e)){for(const i of e)this.empty(i,t);return}const i=this._positionNameToContainerLookup[e??"manual"],r=Array.prototype.slice.call(i.children).map((e=>this._findByNode(e))).filter((e=>null!=e&&(!this._componentMap.get(e)?.internal||t.removeInternal)));for(const n of r)this.remove(n)}move(e,t){if(Array.isArray(e)&&e.forEach((e=>this.move(e,t))),!e)return;let i;const r=Xs(e)||Xs(t);if(r&&(i=r.index,t=r.position,e=r.component||e),t&&!this._isValidPosition(t))return;const n=this.remove(e);n&&this.add(n,{position:t,index:i})}find(e){if(!e)return null;const t=this._findById(e);return t&&(t.widget||t.node)}getComponents(e,t={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap((e=>this._getComponentsAtPosition(e,t))):this._getComponentsAtPosition(e,t):this._components.filter((e=>t.includeInternal||!this._componentMap.get(e)?.internal)).map((({widget:e,node:t})=>e??t))}getPosition(e){for(const t in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[t].contains(e))return t;return null}_add(e,t,i,r,n){e instanceof $s||(e=new $s({node:e}));const{widget:s}=e;null!=s&&s instanceof C.A&&s.addHandles((0,x.hA)((()=>{queueMicrotask((()=>this.remove(e)))})),this._removeWidgetHandleKey),this._components.some((e=>this._componentMap.get(e)?.position===t&&this._componentMap.get(e)?.index===i))&&this._components.forEach((e=>{const r=this._componentMap.get(e);r&&r.position===t&&r.index>=i&&r.index++})),this._place({component:e,position:t,index:i}),this._components.push(e),this._componentMap.set(e,{key:r,position:t,internal:n,index:i})}_find(e){return e?e instanceof $s?this._findByComponent(e):"string"==typeof e?this._findById(e):"domNode"in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){return this.view?.padding??Hs}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Ks.innerContainer,Ks.cornerContainer);const t=document.createElement("div");t.classList.add(Ks.innerContainer,Ks.manualContainer);const i=document.createElement("div");i.classList.add(Ks.topLeft,Ks.corner),e.appendChild(i);const r=document.createElement("div");r.classList.add(Ks.topRight,Ks.corner),e.appendChild(r);const n=document.createElement("div");n.classList.add(Ks.bottomLeft,Ks.corner),e.appendChild(n);const s=document.createElement("div");s.classList.add(Ks.bottomRight,Ks.corner),e.appendChild(s),this._innerContainer=e,this._manualContainer=t;const o=(0,Bs.V8)();this._cornerNameToContainerLookup={"top-left":i,"top-right":r,"bottom-left":n,"bottom-right":s,"top-leading":o?r:i,"top-trailing":o?i:r,"bottom-leading":o?s:n,"bottom-trailing":o?n:s},this._positionNameToContainerLookup={manual:t,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const t=e.position??"manual",{component:i,index:r}=e,n=this._positionNameToContainerLookup[t],s=null!=r&&r>-1;if(function(e){return e&&!e._started&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}(i.widget)&&i.widget.startup(),!s)return void n.appendChild(i.node);const o=Array.from(n.children);if(0!==o.length){for(const e of o){const t=this._findByNode(e);if(t&&r<(this._componentMap.get(t)?.index??0))return void e.parentNode?.insertBefore(i.node,e)}n.appendChild(i.node)}else n.appendChild(i.node)}_toPixelPosition(e){return{top:Ys(e.top),left:Ys(e.left),right:Ys(e.right),bottom:Ys(e.bottom)}}_findByComponent(e){return this._components.find((t=>t===e))??null}_findById(e){return this._components.find((({id:t})=>t===e))??null}_findByNode(e){return e?this._components.find((({node:t})=>t===e)):null}_getComponentsAtPosition(e,t){const i=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(i.children).map((e=>this._findByNode(e))).filter(me.Ru).filter((e=>t.includeInternal||!this._componentMap.get(e)?.internal)).map((({widget:e,node:t})=>e??t))}_getNumComponentsAtPosition(e){const t=this._positionNameToContainerLookup[e];return t?.children.length??0}};(0,r._)([(0,n.MZ)()],eo.prototype,"_locale",void 0),(0,r._)([(0,n.MZ)()],eo.prototype,"container",null),(0,r._)([(0,n.MZ)()],eo.prototype,"height",null),(0,r._)([(0,n.MZ)({value:Ws})],eo.prototype,"padding",null),(0,r._)([(0,m.w)("padding")],eo.prototype,"castPadding",null),(0,r._)([(0,n.MZ)()],eo.prototype,"view",void 0),(0,r._)([(0,n.MZ)()],eo.prototype,"width",null),eo=(0,r._)([(0,a.$)("esri.views.ui.UI")],eo);const to=eo;var io=i(46928),ro=i(96082);i(86777);const no=new Map;function so(e,t){return e&&"copyright"in e&&(!t||"function"==typeof e.originOf&&"user"===e.originOf("copyright"))}function oo(e,t,i){i&&t&&(e.find((e=>e.layerView===t&&e.text===i))||e.push({text:i,layerView:t}))}const ao=[];let lo=class extends C.A{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new c.A,this.view=null,this._allLayerViewsChange=e=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const t=this.view?.allLayerViews;t&&(this.addHandles(t.map((e=>(0,p.wB)((()=>[e.suspended,e.layer?.attributionVisible]),(()=>this._updateAttributionItems())))).toArray(),"suspension"),t.forEach((e=>{"esri.views.3d.layers.Tiles3DLayerView3D"===e.declaredClass&&this.addHandles(e.on("visible-geometry-changed",(()=>this._updateAttributionItems())),"visible-geometry-changed")}))),e?.removed&&e.removed.forEach((e=>{this._pendingAttributions.delete(e),this._fetchedAttributionData.delete(e)})),this._updateAttributionItems()},this.addHandles([(0,p.on)((()=>this.view?.allLayerViews),"change",(e=>this._allLayerViewsChange(e)),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),(0,p.z7)((()=>!0===this.view?.stationary),(()=>this._updateAttributionItems()))])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,t=e?.allLayerViews;if(ao.length=0,!e||!t)return void this._clear();t.forEach((t=>{if(t.suspended||!t.layer?.attributionVisible)return;const i=t.layer;if(so(i,"user"))return void oo(ao,t,i.copyright);if(i.hasAttributionData){if(this._fetchedAttributionData.has(t)){const r=this._fetchedAttributionData.get(t);return void(r?oo(ao,t,this._getDynamicAttribution(r,e,i)):so(i)&&oo(ao,t,i.copyright))}return void this._fetchAttributionData(t)}const r="portalItem"in i?i.portalItem?.accessInformation:void 0;oo(ao,t,r||i.copyright)}));const i=t.find((e=>"integrated-mesh-3dtiles"===e.layer?.type));if(this.view&&i){const e=function(e){return no.get(e)}(this.view);if(e){const t=e.getAttributionText();for(let e=0;e<t.length;++e)oo(ao,i,t[e])}}(function(e,t){return e.length!==t.length||e.some(((e,i)=>e.text!==t[i].text))})(this.items,ao)&&(this.items.removeAll(),this.items.addMany(ao)),ao.length=0,this.notifyChange("state")}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const t=await(0,j.Ke)(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const i=t.ok?this._createContributionIndex(t.value,function(e){return"bing-maps"===e.type}(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,i)}this._updateAttributionItems()}_createContributionIndex(e,t){const i=e.contributors,r={};if(!i)return r;for(let n=0;n<i.length;n++){const e=i[n],s=e.coverageAreas;if(!s)return;for(const i of s){const s=i.bbox,o=i.zoomMin-(t&&i.zoomMin?1:0),a=i.zoomMax-(t&&i.zoomMax?1:0),l=new te.A({xmin:s[1],ymin:s[0],xmax:s[3],ymax:s[2],spatialReference:re.A.WGS84}),c={extent:(0,ro.Gh)(l),attribution:e.attribution||"",score:null!=i.score?i.score:100,id:n};for(let e=o;e<=a;e++)r[e]??=[],r[e].push(c)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(e,t,i){const{extent:r,scale:n}=t;let s=i.tileInfo?.scaleToZoom(n)??0;if(s=Math.min(e.maxKey??0,Math.round(s)),!r||null==s||s<=-1)return"";const o=e[s],a=(0,ro.Cv)(r.center.clone().normalize(),re.A.WebMercator),l=new Set;return o?o.filter((e=>{const t=e.id,i=!l.has(t)&&a&&e.extent&&(0,Ci.qz)(e.extent,a);return i&&l.add(t),i})).sort(((e,t)=>t.score-e.score||e.objectId-t.objectId)).map((e=>e.attribution)).join(", "):""}};(0,r._)([(0,n.MZ)({readOnly:!0,type:c.A})],lo.prototype,"items",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],lo.prototype,"state",null),(0,r._)([(0,n.MZ)()],lo.prototype,"view",void 0),lo=(0,r._)([(0,a.$)("esri.widgets.Attribution.AttributionViewModel")],lo);const co=lo;var uo=i(35251),ho=i(60682),po=i(43955),fo=i(96704);const mo="esri-attribution",yo={base:mo,poweredBy:`${mo}__powered-by`,sources:`${mo}__sources`,open:`${mo}--open`,sourcesOpen:`${mo}__sources--open`,link:`${mo}__link`};let go=class extends io.A{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver((e=>e.forEach((({target:e})=>this._checkSourceTextOverflow(e))))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new co}initialize(){this.addHandles((0,p.on)((()=>this.viewModel?.items),"change",(()=>this.scheduleRender())))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce(((e,t)=>(e.includes(t.text)||e.push(t.text),e)),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[yo.open]:this._isOpen};return(0,fo.K)("div",{bind:this,class:this.classes(yo.base,uo.D.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return(0,fo.K)("div",{class:yo.poweredBy},"Powered by"," ",(0,fo.K)("a",{class:yo.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,i=t?0:void 0,{attributionText:r}=this,n={[yo.sourcesOpen]:e,[uo.D.interactive]:t};return(0,fo.K)("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(yo.sources,n),innerHTML:r,tabIndex:i})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let t=!1;const{clientHeight:i,clientWidth:r,scrollWidth:n}=e,s=n>r,o=this._attributionTextOverflowed!==s;if(this._attributionTextOverflowed=s,o&&(t=!0),this._isOpen){const e=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,e&&(this._isOpen=!1,t=!0)}t&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};(0,r._)([(0,n.MZ)()],go.prototype,"_isOpen",void 0),(0,r._)([(0,n.MZ)()],go.prototype,"_isInteractive",null),(0,r._)([(0,n.MZ)()],go.prototype,"_attributionTextOverflowed",void 0),(0,r._)([(0,n.MZ)()],go.prototype,"_prevSourceNodeHeight",void 0),(0,r._)([(0,n.MZ)({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],go.prototype,"attributionText",null),(0,r._)([(0,n.MZ)()],go.prototype,"icon",null),(0,r._)([(0,n.MZ)()],go.prototype,"itemDelimiter",void 0),(0,r._)([(0,n.MZ)()],go.prototype,"label",null),(0,r._)([(0,n.MZ)(),(0,po.G)("esri/widgets/Attribution/t9n/Attribution")],go.prototype,"messages",void 0),(0,r._)([(0,n.MZ)()],go.prototype,"view",null),(0,r._)([(0,n.MZ)({type:co})],go.prototype,"viewModel",void 0),(0,r._)([(0,ho.$)()],go.prototype,"_toggleState",null),go=(0,r._)([(0,a.$)("esri.widgets.Attribution")],go);const _o=go;var vo=i(57626);var wo=i(57328);let bo=class extends((0,wo.A)(C.A)){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(p.Vh)}destroy(){this.view=null}get canShowNorth(){return function(e){return e?.spatialReference?.isWebMercator||e?.spatialReference?.isGeographic||!1}(this.view)}get state(){return!this.view?.ready||"2d"===this.view.type&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&("2d"===this.view?.type?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:(0,vo.s)()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){null!=e&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const t=-e.heading;this._set("orientation",{x:0,y:0,z:t})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles("2d"===e.type?(0,p.wB)((()=>e?.rotation),this._updateForRotation,p.Vh):(0,p.wB)((()=>e?.camera),this._updateForCamera,p.Vh))}_watchForView(e){this.addHandles((0,p.wB)((()=>this.view),this._updateRotationWatcher,e))}};(0,r._)([(0,n.MZ)({readOnly:!0})],bo.prototype,"canShowNorth",null),(0,r._)([(0,n.MZ)({readOnly:!0})],bo.prototype,"orientation",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],bo.prototype,"state",null),(0,r._)([(0,n.MZ)()],bo.prototype,"view",void 0),bo=(0,r._)([(0,a.$)("esri.widgets.Compass.CompassViewModel")],bo);const Mo=bo,Ao="esri-compass",So={base:Ao,iconContainer:`${Ao}__icon-container`};var To=i(17199);let Eo=class extends io.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new Mo,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=e=>({transform:`rotateZ(${e.z}deg)`})}loadDependencies(){return(0,To.W)({button:()=>Promise.all([i.e(72076),i.e(42817)]).then(i.bind(i,42817)),icon:()=>i.e(72076).then(i.bind(i,96446))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"rotation"===this.viewModel.state?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:t}=this.viewModel,{messages:i}=this;return(0,fo.K)("div",{class:this.classes(So.base,uo.D.widget)},(0,fo.K)("calcite-button",{class:uo.D.widgetButton,disabled:"disabled"===t,kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},(0,fo.K)("div",{"aria-hidden":"true",class:So.iconContainer,title:i.reset},(0,fo.K)("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};(0,r._)([(0,n.MZ)()],Eo.prototype,"goToOverride",null),(0,r._)([(0,n.MZ)()],Eo.prototype,"icon",null),(0,r._)([(0,n.MZ)()],Eo.prototype,"label",null),(0,r._)([(0,n.MZ)(),(0,po.G)("esri/widgets/Compass/t9n/Compass")],Eo.prototype,"messages",void 0),(0,r._)([(0,n.MZ)()],Eo.prototype,"view",null),(0,r._)([(0,n.MZ)({type:Mo})],Eo.prototype,"viewModel",void 0),Eo=(0,r._)([(0,a.$)("esri.widgets.Compass")],Eo);const xo=Eo,Po="esri-navigation-toggle",Co=Po,Io=`${Po}--horizontal`;let Oo=class extends C.A{constructor(e){super(e),this._navigationMode="pan",this.view=null,e?.isDefaultViewModel||(0,Et.u6)(o.A.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(e={}){const{isDefaultViewModel:t,...i}=e;return i}initialize(){this.addHandles((0,p.z7)((()=>this.view?.navigation?.actionMap),(()=>this._updateNavigationActionMap())))}destroy(){this.view=null}get state(){return this.view?.ready&&"3d"===this.view?.type?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._updateNavigationActionMap()}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate")}_updateNavigationActionMap(){const e=this.view?.navigation?.actionMap;if(!e)return;const t="pan"===this._navigationMode;e.dragPrimary=t?"pan":"rotate",e.dragSecondary=t?"rotate":"pan"}};(0,r._)([(0,n.MZ)({readOnly:!0})],Oo.prototype,"state",null),(0,r._)([(0,n.MZ)()],Oo.prototype,"_navigationMode",void 0),(0,r._)([(0,n.MZ)()],Oo.prototype,"view",void 0),Oo=(0,r._)([(0,a.$)("esri.widgets.NavigationToggle.NavigationToggleViewModel")],Oo);const Ro=Oo;let No=class extends io.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new Ro({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const e="pan"===this.viewModel?.navigationMode?this._rotateButton:this._panButton;(0,Bs.Z6)(e),this.toggle()},e?.isDefaultUI||(0,Et.ED)(o.A.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(e={}){const{isDefaultUI:t,...i}=e;return i}loadDependencies(){return(0,To.W)({button:()=>Promise.all([i.e(72076),i.e(42817)]).then(i.bind(i,42817))})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e="disabled"===this.viewModel?.state,t="pan"===this.viewModel?.navigationMode,i=this.messages.toggle;return(0,fo.K)("div",{class:this.classes(Co,uo.D.widget,{[Io]:"horizontal"===this.layout})},(0,fo.K)("calcite-button",{afterCreate:e=>{this._panButton=e},appearance:t?"outline-fill":"solid",class:uo.D.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:i,onclick:this._toggle,tabIndex:t?void 0:-1,title:i}),(0,fo.K)("calcite-button",{afterCreate:e=>{this._rotateButton=e},appearance:t?"solid":"outline-fill",class:uo.D.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:i,onclick:this._toggle,tabIndex:t?-1:void 0,title:i}))}};(0,r._)([(0,n.MZ)()],No.prototype,"icon",null),(0,r._)([(0,n.MZ)()],No.prototype,"label",null),(0,r._)([(0,n.MZ)({value:"vertical"})],No.prototype,"layout",null),(0,r._)([(0,n.MZ)(),(0,po.G)("esri/widgets/NavigationToggle/t9n/NavigationToggle")],No.prototype,"messages",void 0),(0,r._)([(0,n.MZ)()],No.prototype,"view",null),(0,r._)([(0,n.MZ)({type:Ro})],No.prototype,"viewModel",void 0),No=(0,r._)([(0,a.$)("esri.widgets.NavigationToggle")],No);const ko=No;let Lo=class extends C.A{get canZoomIn(){const e=this.view?.ready;if(!e)return!1;const t=this.view?.constraints?.effectiveMaxScale;return 0===t||this._scale>t}get canZoomOut(){const{view:e}=this,t=e?.ready;if(!t)return!1;const i=e.constraints?.effectiveMinScale;return 0===i||this._scale<i}get _scale(){const e=this.view?.animation?.target;return(e&&"then"in e?void 0:e?.scale)??this.view?.scale??0}};(0,r._)([(0,n.MZ)({readOnly:!0})],Lo.prototype,"canZoomIn",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Lo.prototype,"canZoomOut",null),(0,r._)([(0,n.MZ)()],Lo.prototype,"view",void 0),(0,r._)([(0,n.MZ)()],Lo.prototype,"_scale",null),Lo=(0,r._)([(0,a.$)("esri.widgets.Zoom.ZoomConditions2D")],Lo);const Do=Lo;let Zo=class extends C.A{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};(0,r._)([(0,n.MZ)({readOnly:!0})],Zo.prototype,"canZoomIn",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Zo.prototype,"canZoomOut",null),(0,r._)([(0,n.MZ)()],Zo.prototype,"view",void 0),Zo=(0,r._)([(0,a.$)("esri.widgets.Zoom.ZoomConditions3D")],Zo);const Fo=Zo;let Uo=class extends C.A{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(e){e?"2d"===e.type?this._zoomConditions=new Do({view:e}):"3d"===e.type&&(this._zoomConditions=new Fo({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&("2d"===e.type?e.mapViewNavigation.zoomIn():(0,G.QZ)(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&("2d"===e.type?e.mapViewNavigation.zoomOut():(0,G.QZ)(e.goTo({zoomFactor:.5})))}};(0,r._)([(0,n.MZ)()],Uo.prototype,"_zoomConditions",void 0),(0,r._)([(0,n.MZ)()],Uo.prototype,"canZoomIn",null),(0,r._)([(0,n.MZ)()],Uo.prototype,"canZoomOut",null),(0,r._)([(0,n.MZ)({readOnly:!0})],Uo.prototype,"state",null),(0,r._)([(0,n.MZ)()],Uo.prototype,"view",null),Uo=(0,r._)([(0,a.$)("esri.widgets.Zoom.ZoomViewModel")],Uo);const jo=Uo,Go="esri-zoom",zo="esri-zoom--horizontal";let $o=class extends io.A{constructor(e,t){super(e,t),this.messages=null,this.viewModel=new jo,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return(0,To.W)({button:()=>Promise.all([i.e(72076),i.e(42817)]).then(i.bind(i,42817))})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){"horizontal"!==e&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[zo]:"horizontal"===this.layout},{canZoomIn:t,canZoomOut:i}=this.viewModel,{zoomIn:r,zoomOut:n}=this.messages;return(0,fo.K)("div",{class:this.classes(Go,uo.D.widget,e)},(0,fo.K)("calcite-button",{class:uo.D.widgetButton,disabled:!t,iconStart:"plus",kind:"neutral",label:r,onclick:this.zoomIn,title:r}),(0,fo.K)("calcite-button",{class:uo.D.widgetButton,disabled:!i,iconStart:"minus",kind:"neutral",label:n,onclick:this.zoomOut,title:n}))}};(0,r._)([(0,n.MZ)()],$o.prototype,"icon",null),(0,r._)([(0,n.MZ)()],$o.prototype,"label",null),(0,r._)([(0,n.MZ)({value:"vertical"})],$o.prototype,"layout",null),(0,r._)([(0,n.MZ)(),(0,po.G)("esri/widgets/Zoom/t9n/Zoom")],$o.prototype,"messages",void 0),(0,r._)([(0,n.MZ)()],$o.prototype,"view",null),(0,r._)([(0,n.MZ)({type:jo})],$o.prototype,"viewModel",void 0),$o=(0,r._)([(0,a.$)("esri.widgets.Zoom")],$o);const Vo=$o;let Bo=class extends to{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=e=>{this.components.forEach((t=>{const i=this._find(t),r=i?.widget;(function(e){return void 0!==e?.view})(r)&&(r.view=e)}))},this._componentsWatcher=(e,t)=>{this._removeComponents(t),this._addComponents(e),this._adjustPadding(e)}}initialize(){this.addHandles([(0,p.wB)((()=>this.components),this._componentsWatcher,p.Vh),(0,p.wB)((()=>this.view),this._updateViewAwareWidgets,p.Vh)])}_add(e,t,i,r,n){let s=e;if("string"==typeof e&&this._defaultPositionLookup[e]){if(this._find(e))return;s=this._createComponent(e)}super._add(s,t,i,r,n)}_removeComponents(e){e.forEach((e=>{const t=this._find(e);t&&(this.remove(t),t.destroy())}))}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:e}=this.padding;this.padding=e}}_addComponents(e){this.constructed&&e.forEach((e=>this.add(this._createComponent(e),this._defaultPositionLookup[e])))}_createComponent(e){const t=this._createWidget(e);return new $s({id:e,node:t})}_createWidget(e){const t=this.view;switch(e){case"attribution":return new _o({view:t});case"compass":return new xo({view:t});case"navigation-toggle":return new ko({view:t,isDefaultUI:!0});case"zoom":return new Vo({view:t})}}};(0,r._)([(0,n.MZ)()],Bo.prototype,"components",void 0),Bo=(0,r._)([(0,a.$)("esri.views.ui.DefaultUI")],Bo);const qo=Bo;let Ho=class extends qo{constructor(e){super(e),this.components=["attribution","zoom"]}};(0,r._)([(0,n.MZ)()],Ho.prototype,"components",void 0),Ho=(0,r._)([(0,a.$)("esri.views.ui.2d.DefaultUI2D")],Ho);const Wo=Ho;var Jo,Ko=i(94379),Yo=i(19251);let Xo=Jo=class extends ri.A{constructor(e){super(e),this.color=new Pe.A([0,0,0,1])}clone(){return new Jo((0,Yo.o8)({color:this.color}))}};(0,r._)([(0,n.MZ)({type:Pe.A,json:{write:!0}})],Xo.prototype,"color",void 0),Xo=Jo=(0,r._)([(0,a.$)("esri.webmap.background.ColorBackground")],Xo);const Qo=Xo;let ea,ta,ia,ra,na,sa,oa;let aa=class extends(Xr(Bi(S(B(U(Xt)))))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new u.A({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new Nt({actionMap:new Ct({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new c.A,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new Us.K,this.type="2d",this.view2dType=null,this.ui=new Wo,this.test={takeScreenshot:async e=>async function(e,t){const i=await Fs(e,t);return(0,Ds.encodeData)(i,Zs)}(this._getScreenshotView(e),e)},this.padding={top:0,right:0,bottom:0,left:0},(0,f.n_)()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=(0,d.pR)(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new xs(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,t=this.spatialReference;return{lods:e?.spatialReference?.equals(t)?e.lods:null,spatialReference:t}}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:e,constraints:t,center:i,viewpoint:r,extent:n}=this;let s=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint||n||(t?.effectiveLODs||(s=-1),i&&(0!==e||-1!==s)||null!=r?.targetGeometry&&("extent"===r.targetGeometry.type||r.scale)))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const t=e.targetGeometry,i=this.spatialReference;return(0,_.isLoadedOrLoadFor)(t.spatialReference,i)}get background(){return(0,Ko.r)(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get highlightOptions(){return(0,Is.a)(this)}set highlightOptions(e){(0,Is.o)(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resolution(){return this.stateManager.resolution??0}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const e=!(!this.magnifier.visible||null===this.magnifier.position||!this._magnifierView?.updatingHandles.updating),t=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((e=>!e.destroyed&&!("layerViews"in e)&&!0===e.updating))||e);if((0,s.A)("esri-2d-log-updating")){const i=this.allLayerViews.reduce(((e,t)=>({...e,[`${t.layer.id}(${t.layer.type})`]:!t.destroyed&&!("layerViews"in t)&&t.updating})),{});console.log(`Updating MapView: ${t}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(i)}\n-> updatingMagnifier: ${e}\n`)}return t}get visibleArea(){const e=this.stateManager.visibleArea;return e?new g.A({rings:[e.map((e=>[e[0],e[1]]))],spatialReference:this.spatialReference}):e}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(e,t){return async function(e,t,i){const r=(0,st.FV)(t)?(0,st.xB)(e,t):t;if(!e.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let n=new Set;const s=new Set;let o=!1,a=null,l=null;i?.include?Ns(i.include,Rs(e,(e=>{n.add(e),Ls(e,(e=>s.add(e)))}),((e,t)=>{s.add(e),n.add(t)}),(e=>{a||(a=new Set),a.add(e)}),(e=>n.add(e)),(()=>o=!0))):(o=!0,n=new Set(e.allLayerViews),n.forEach((e=>{Ls(e,(e=>s.add(e)))}))),i?.exclude&&Ns(i.exclude,Rs(e,(e=>{n.delete(e),Ls(e,(e=>s.delete(e)))}),(e=>s.delete(e)),(e=>{l||(l=new Set),l.add(e)})));const c=e.toMap(r),u=e.allLayerViews.filter((t=>!t.suspended&&n.has(t)&&t.clips.every((t=>(0,Cs.O)(e,t,r,c))))).reverse();let h=[...o?e.graphicsView.hitTest(c).map((e=>({type:"graphic",graphic:e,layer:null,mapPoint:c}))):[],...await Promise.all(u.map((e=>e.hitTest(c,r))).toArray())].filter(me.Ru).flat().filter(me.Ru);return h=h.filter((e=>"graphic"!==e.type||"subtype-group"!==e.layer?.type||s.has(e.graphic.layer))),a&&(h=h.filter((e=>!("graphic"in e)||!e.graphic||a?.has(ks(e.graphic))))),l&&(h=h.filter((e=>!("graphic"in e)||!e.graphic||!l?.has(ks(e.graphic))))),{screenPoint:r,results:h}}(this,e,t)}async takeScreenshot(e){return async function(e,t){const i=await Fs(e,t),{format:r,quality:n}=(0,Ds.getFormatAndQuality)(t?.format,t?.quality);return(0,Ds.encode)(i,{format:r,quality:n},Zs)}(this._getScreenshotView(e),e)}toScreen(e,t){return this.stateManager.toScreen(e,t)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return(0,Ko.r)(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return(0,Ko.r)(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return ms(e)}importLayerView(e){return ys(e)}pixelSizeAt(){return this.ready?this.resolution:(o.A.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const t=this.toMap(e),i=await this.hitTest(e),r=this.allLayerViews.toArray().filter((i=>i.clips.every((i=>(0,Cs.O)(this,i,e,t))))).reverse(),n=new globalThis.Map(r.map((e=>[e.layer.uid,e]))),s=[];let o=0,a=0;for(;o<i.results.length||a<r.length;){const e=i.results.at(o);if(e&&"graphic"!==e.type){++o;continue}const l=n.get((e?.layer??e?.graphic.layer)?.uid);if((!e||l)&&a<r.length&&r.at(a)!==l){const e=r.at(a);"fetchPopupFeaturesAtLocation"in e&&s.push({mapPoint:t,layerView:e}),++a}else e&&(s.push({graphic:e.graphic,layerView:l}),++o)}return{hits:s,location:t}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=function(e){const t=(0,js.C)();return t.available?"3d"===e&&t.majorPerformanceCaveat?new h.A("webgl:major-performance-caveat-detected",`Your WebGL implementation (${t.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):t.supportsHighPrecisionFragment?t.supportsVertexShaderSamplers?null:new h.A("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new h.A("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new h.A("webgl:required","WebGL2 is required but not supported.",(new Error).stack)}(this.type);if((0,s.A)("safari")&&(0,s.A)("safari")<9&&(e=new h.A("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:(0,s.A)("safari")})),null!=e){o.A.getLogger(this).warn("#validate()",e.message);const t=document.createElement("div");t.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const i=document.createElement("div");i.innerHTML="Unable to display map. WebGL2 support is required.",i.setAttribute("style","font-size: 24px; font-weight: bold;");const r=document.createElement("div");r.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",r.setAttribute("style","font-size: 18px;");const n=document.createElement("a");throw n.innerHTML="https://esriurl.com/systemRequirements",n.target="_blank",n.setAttribute("style","font-size: 18px;"),n.href="https://esriurl.com/systemRequirements",t.appendChild(i),t.appendChild(r),t.appendChild(n),this.surface.appendChild(t),e}}loadAsyncDependencies(){return async function(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:r,MapViewNavigation:n,MagnifierView2D:s,GridView2D:o,Stage:a}]=await Promise.all([Promise.all([i.e(72076),i.e(82162)]).then(i.bind(i,82162)),Promise.all([i.e(72076),i.e(49195),i.e(46817),i.e(95518),i.e(48002),i.e(28371),i.e(56440),i.e(90598),i.e(82200),i.e(99590),i.e(74241),i.e(251),i.e(45357),i.e(23590)]).then(i.bind(i,23590))]);ta=e,ia=t,ra=r,na=n,sa=s,oa=o,ea=a}()}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:i,padding:r,size:n}=this;if(!e)return null;const s=i&&"initialViewProperties"in i?i.initialViewProperties:void 0,o=this.stateManager.getUserStartupOptions(this.size),a=s?.viewpoint,c=a?.targetGeometry?.extent??t,u=c?.center,h=a?.rotation??0,d=a?.scale||c&&(0,ii.AU)(c,[n[0]-r.left-r.right,n[1]-r.top-r.bottom]),p=o.center??u,f=o.rotation??h,m=o.scale??d;return p&&m?new l.A({targetGeometry:p,scale:m,rotation:f}):null}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const t=new vs.W(this.surface),i=new ea(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline},t);this.stage=i,this._magnifierView=new sa,this._magnifierView.magnifier=this.magnifier,this._gridView=new oa;const r=new ra({view:this});this._set("labelManager",r);const n=new us({view:this});this._set("animationManager",n);const s=new na({view:this,animationManager:n});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",(()=>this._updateStageChildren())),i.on("webgl-error",(e=>this.fatalError=e.error)),(0,p.wB)((()=>this.stationary),(e=>i.stationary=e),p.pc),(0,p.wB)((()=>this.background),(e=>{i.backgroundColor=e?.color,this._magnifierView.backgroundColor=e?.color}),p.pc),(0,p.wB)((()=>this.magnifier),(e=>this._magnifierView.magnifier=e),p.pc),(0,p.wB)((()=>this.grid),(e=>this._gridView.grid=e),p.pc),(0,p.wB)((()=>this.renderingOptions),(e=>i.renderingOptions=e),p.pc),(0,p.wB)((()=>this.highlights.items.map((e=>({name:e.name,options:{fillColor:e.color,haloColor:e.haloColor,fillOpacity:e.fillOpacity,haloOpacity:e.haloOpacity,haloWidth:e.haloWidth,haloBlur:e.haloBlur}})))),(()=>{i.highlightGradient=(0,Ps.u4)(i.highlightGradient,this.highlights.items)}),p.pc),(0,p.wB)((()=>this.state.id),(()=>i.state=this.state),p.pc)],"map-view"),this._updateStageChildren();const o=this._resolveWhenReady;this._resolveWhenReady=[],o.forEach((e=>e(this))),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this.stage.addChild(e.container)}));const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new gs.A(v.A.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new ta({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new ia(e)});this._set("graphicsView",t)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){const{allLayerViews:t,padding:i,size:r,stage:n}=this;return{allLayerViews:t,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:i,size:r,stage:n}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const e of this.allLayerViews)e.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const e of this.allLayerViews)e.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}static{this.type="2d"}};(0,r._)([(0,n.MZ)({constructOnly:!0})],aa.prototype,"deactivatedWebGLExtensions",void 0),(0,r._)([(0,n.MZ)({constructOnly:!0})],aa.prototype,"debugWebGLExtensions",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"featuresTilingScheme",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"graphicsTileStore",null),(0,r._)([(0,n.MZ)()],aa.prototype,"graphicsView",void 0),(0,r._)([(0,n.MZ)()],aa.prototype,"constraintsInfo",null),(0,r._)([(0,n.MZ)()],aa.prototype,"initialExtentRequired",null),(0,r._)([(0,n.MZ)()],aa.prototype,"labelManager",void 0),(0,r._)([(0,n.MZ)({type:Nt,nonNullable:!0})],aa.prototype,"navigation",void 0),(0,r._)([(0,n.MZ)({constructOnly:!0})],aa.prototype,"renderCanvas",void 0),(0,r._)([(0,n.MZ)()],aa.prototype,"renderingOptions",void 0),(0,r._)([(0,n.MZ)({constructOnly:!0})],aa.prototype,"supersampleScreenshotsEnabled",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"supportsGround",void 0),(0,r._)([(0,n.MZ)()],aa.prototype,"defaultsFromMapSettings",null),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"typeSpecificPreconditionsReady",null),(0,r._)([(0,n.MZ)({type:Qo})],aa.prototype,"background",null),(0,r._)([(0,n.MZ)()],aa.prototype,"center",null),(0,r._)([(0,n.MZ)({type:c.A})],aa.prototype,"floors",void 0),(0,r._)([(0,n.MZ)()],aa.prototype,"grid",void 0),(0,r._)([(0,n.MZ)({type:yt.A})],aa.prototype,"highlightOptions",null),(0,r._)([(0,n.MZ)()],aa.prototype,"map",void 0),(0,r._)([(0,n.MZ)()],aa.prototype,"padding",null),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"rendering",null),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"resolution",null),(0,r._)([(0,n.MZ)()],aa.prototype,"scale",null),(0,r._)([(0,n.MZ)({constructOnly:!0})],aa.prototype,"spatialReferenceLocked",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"tileInfo",null),(0,r._)([(0,n.MZ)({type:Us.K,readOnly:!0})],aa.prototype,"timeline",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"type",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"updating",null),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"view2dType",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"visibleArea",null),(0,r._)([(0,n.MZ)()],aa.prototype,"zoom",null),(0,r._)([(0,n.MZ)({readOnly:!0})],aa.prototype,"navigating",null),(0,r._)([(0,n.MZ)(),(0,m.w)((e=>e instanceof qo?e:(0,y.PZ)(Wo,e)))],aa.prototype,"ui",void 0),aa=(0,r._)([(0,a.$)("esri.views.View2D")],aa);const la=aa;let ca=class extends la{constructor(e){super(e),this.view2dType="map"}};(0,r._)([(0,n.MZ)({readOnly:!0})],ca.prototype,"view2dType",void 0),ca=(0,r._)([(0,a.$)("esri.views.MapView")],ca);const ua=ca},10714:(e,t,i)=>{"use strict";var r;function n(e){return e===r.Global?"global":"local"}i.d(t,{RT:()=>r,_s:()=>n}),function(e){e[e.Global=1]="Global",e[e.Local=2]="Local"}(r||(r={}))},37174:(e,t,i)=>{"use strict";var r;i.d(t,{w:()=>r}),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right"}(r||(r={}))},46846:(e,t,i)=>{"use strict";i.d(t,{l:()=>n});i(39831),i(539);class r{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t}matches(e){if(e.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;const t=e.modifiers;for(const i of this.keyModifiers)if(!t.has(i))return!1;return!0}}class n{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const t=this._incoming[e];for(const e of t)this._incomingEventMatches.push(e.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback((e=>this._handleEvent(e))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e)}onUninstall(){}registerIncoming(e,t,i){let n;"function"==typeof t?(i=t,n=[]):n=t||[];const o="string"==typeof e?new r(e,n):e,a=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},l=e=>{const t=this._incoming[e.match.eventType];if(t){const i=t.indexOf(e);t.splice(i,1),a(),this._manager&&this._manager.updateDependencies()}},c=new s(o,i,{onPause:l,onRemove:l,onResume:e=>{const t=this._incoming[e.match.eventType];t&&!t.includes(e)&&(t.push(e),a(),this._manager&&this._manager.updateDependencies())}});let u=this._incoming[o.eventType];return u||(u=[],this._incoming[o.eventType]=u),u.push(c),a(),this._manager&&this._manager.updateDependencies(),c}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const t=new o(e,{onEmit:(e,t,i,r)=>{this._manager?.emit(e.eventType,t,i,r)},onRemove:e=>{delete this._outgoing[e.eventType],this._manager?.updateDependencies()}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){this._manager?.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const t=this._incoming[e.type];if(t)for(const i of t)if(i.match.matches(e)&&(i.callback?.(e),e.shouldStopPropagation()))break}}class s{constructor(e,t,i){this.match=e,this._callback=t,this._handler=i}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class o{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t}emit(e,t,i){this._removed||this._handler.onEmit(this,e,t,i)}remove(){this._removed=!0,this._handler.onRemove(this)}}},54874:(e,t,i)=>{"use strict";i.d(t,{e:()=>m,o:()=>_});var r=i(66866),n=i(52495),s=(i(39831),i(539)),o=i(20748),a=i(21564),l=(i(9272),i(63863)),c=i(94377),u=i(46846);class h extends u.l{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",(e=>this._update(e.data)))}_update(e){const t="touch"===e.native.pointerType?"touch":"mouse",{x:i,y:r}=e;t===this._value&&this._x===i&&this._y===r||(this._value=t,this._x=i,this._y=r,this._onChange(t,i,r))}}var d=i(40315);class p extends u.l{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=(0,d.v)(!1),this._onPointerAdd=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{"touch"===e.pointerType&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}}var f=i(42063);let m=class extends n.A{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=c.i,this._latestPointerType="mouse",this._propertiesPool=new f.M({latestPointerLocation:v},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,t,i=_.INTERNAL){if(this._nameToGroup[e])return;if(0===t.length)return;const r={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=r;for(let n=r.handlers.length-1;n>=0;n--){const e=r.handlers[n];this._handlers.push(e),e.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(t,i,r,n,s)=>{this._emitInputEvent(e.priorityIndex+1,t,i,r,s,n)},setPointerCapture:(t,i)=>{this._setPointerCapture(r,e,t,i)},setEventCallback:t=>{e.eventCallback=t},setUninstallCallback:t=>{e.uninstallCallback=t},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback?.()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):s.A.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return void 0!==this._nameToGroup[e]}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let i=this._handlers.length-1;i>=0;i--){const e=this._handlers[i];e.priorityIndex=i,this._handlersPriority.push(e)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let i=this._handlersPriority.length-1;i>=0;i--){const r=this._handlersPriority[i];r.priorityIndex=i;let n=r.handler.hasSideEffects;if(!n)for(const t of r.handler.outgoingEventTypes)if(e.has(t)){n=!0;break}if(n)for(const i of r.handler.incomingEventMatches){e.add(i.eventType);for(const e of i.keyModifiers)(0,c.p)(e)||t.add(e)}r.active=n}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,t,i){this._latestPointerType=e;const r=this._get("latestPointerLocation");if(null==r||r.x!==t||r.y!==i){const e=this._propertiesPool.get("latestPointerLocation");e.x=t,e.y=i,this._set("latestPointerLocation",e)}}_onEventReceived(e,t){if("pointer-capture-lost"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId)}this._updateKeyModifiers(e,t);const i=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,r=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,i,r)}_updateKeyModifiers(e,t){if(!t)return;let i=!1;const r=()=>{i||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),i=!0)},n=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(r(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(r(),this._activeKeyModifiers.delete(e))};if("key-down"===e||"key-up"===e){const i=t.key;this._keyModifiers.has(i)&&n(i,"key-down"===e)}const s=t.native;n("Alt",!!s?.altKey),n("Control",!!s?.ctrlKey),n("Ctrl",!!s?.ctrlKey),n("Shift",!!s?.shiftKey),n("Meta",!!s?.metaKey),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new h(((e,t,i)=>this._setLatestPointer(e,t,i))),this._multiTouchHandler=new p,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],_.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,_.INTERNAL)}_setPointerCapture(e,t,i,r){const n=e.name+"-"+t.priorityIndex,s=this._pointerCaptures.get(i.pointerId)||new Set;this._pointerCaptures.set(i.pointerId,s),r?(s.add(n),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(i,!0)):s.has(n)&&(s.delete(n),0===s.size&&(this._pointerCaptures.delete(i.pointerId),this.eventSource&&this.eventSource.setPointerCapture(i,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,t,i,r){this._emitInputEvent(0,e,t,i,r)}_emitInputEvent(e,t,i,r,n,s){const o=void 0!==r?r:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==n&&n,l={event:new y(t,i,o,s||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(l):this._doNewPropagation(l)}_doNewPropagation(e){this._currentPropagation={events:new o.A,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:t,priorityIndex:i}=e.events.pop(),r=t.data?.eventId;if(null==r||!this._stoppedPropagationEventIds.has(r))for(e.currentHandler=this._handlersPriority[i];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback?.(t),t.shouldStopPropagation()){null!=r&&this._stoppedPropagationEventIds.add(r);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const t=new o.A;t.push(e);const i=this._currentPropagation;if(i){for(;i.events.length;)t.push(i.events.pop());i.events=t,i.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const i of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(i.eventType!==e.eventType)continue;const t=i.keyModifiers.filter((t=>e.keyModifiers.includes(t)));if(t.length===i.keyModifiers.length!=(t.length===e.keyModifiers.length))return i.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const i of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(i,t[e])>=0;)e++;t.splice(e,0,i)}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t};return{injectEvent:(t,i)=>{e((()=>this._onEventReceived(t,i)))},disablePointerCapture:e}}};(0,r._)([(0,a.MZ)({readOnly:!0})],m.prototype,"hasPendingInputs",null),(0,r._)([(0,a.MZ)({constructOnly:!0})],m.prototype,"eventSource",void 0),(0,r._)([(0,a.MZ)({constructOnly:!0})],m.prototype,"recognizers",void 0),(0,r._)([(0,a.MZ)()],m.prototype,"_latestPointerType",void 0),(0,r._)([(0,a.MZ)()],m.prototype,"latestPointerType",null),(0,r._)([(0,a.MZ)()],m.prototype,"multiTouchActive",null),(0,r._)([(0,a.MZ)({readOnly:!0})],m.prototype,"latestPointerLocation",void 0),(0,r._)([(0,a.MZ)()],m.prototype,"_paused",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],m.prototype,"updating",null),m=(0,r._)([(0,l.$)("esri.views.input.InputManager")],m);class y{constructor(e,t,i,r,n){this.type=e,this.data=t,this.timestamp=i,this.modifiers=r,this.cancelable=n,this._propagationState=g.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=g.STOPPED}shouldStopPropagation(){return!!(this._propagationState&g.STOPPED)}defer(e){this._propagationState|=g.PAUSED;const t=(e,t)=>{this._propagationState&=~g.PAUSED;const i=this._resumeCallback;if(this._resumeCallback=null,i&&i(),t)throw e;return e};return("function"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return!!(this._propagationState&g.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}}var g;!function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED"}(g||(g={}));const _={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};const v=class{}},94377:(e,t,i)=>{"use strict";i.d(t,{i:()=>r,p:()=>s});const r=(0,i(39831).A)("mac")?"Meta":"Control",n=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),s=e=>n.has(e)},27877:(e,t,i)=>{"use strict";var r,n,s;i.d(t,{PK:()=>r,SJ:()=>s,p7:()=>n}),function(e){e[e.USER=0]="USER",e[e.MANAGER=1]="MANAGER"}(r||(r={})),function(e){e[e.None=0]="None",e[e.Unfocused=1]="Unfocused",e[e.Focused=2]="Focused",e[e.Unselected=4]="Unselected",e[e.Selected=8]="Selected",e[e.All=15]="All"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Custom1=16]="Custom1",e[e.Custom2=32]="Custom2",e[e.Custom3=64]="Custom3",e[e.Custom4=128]="Custom4",e[e.Custom5=256]="Custom5",e[e.Custom6=512]="Custom6",e[e.Custom7=1024]="Custom7",e[e.Custom8=2048]="Custom8",e[e.Custom9=4096]="Custom9",e[e.Custom10=8192]="Custom10",e[e.Custom11=16384]="Custom11",e[e.Custom12=32768]="Custom12",e[e.All=65520]="All"}(s||(s={}))},70384:(e,t,i)=>{"use strict";i.d(t,{$B:()=>l,NE:()=>c,TU:()=>d,ac:()=>h,fn:()=>u,hi:()=>p,oe:()=>f});var r=i(85569),n=i(20464),s=i(82256),o=i(54874),a=i(94377);const l={cancel:"Escape",complete:"Enter"},c={...l,redo:"r",undo:"z",center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},u={toggle:"Control"},h={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},d={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:a.i,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0},editSourcePoints:{key:"Alt",continuePropagation:!0},undo:"z",redo:"r"},p={invertType:["Control","Meta"]};class f{constructor(){this._bindings=new Map}add(e,t){return this.addToggle(e,(e=>{"key-down"===e.type&&t(e)}))}addToggle(e,t){const i=m.fromDefinition(e,t),o=(0,s.tE)(this._bindings,i.key,(()=>[]));return o.push(i),(0,n.hA)((()=>(0,r.TF)(o,i)))}register(e,t=o.o.WIDGET){return(0,n.vE)([e.on("key-down",(t=>this.dispatch(e.inputManager,t)),t),e.on("key-up",(t=>this.dispatch(e.inputManager,t)),t)])}dispatch(e,t){const i=t.key,r=this._bindings.get(i);if(r)for(const n of r)n.process(e,t)}}class m{constructor(e,t,i,r,n){this.key=e,this.modifiers=t,this.repeats=i,this.continuePropagation=r,this.callback=n}process(e,t){if(!(t.key!==this.key||"repeat"in t&&t.repeat&&!this.repeats)){for(const t of this.modifiers)if(!e.isModifierKeyDown(t))return;this.continuePropagation||t.stopPropagation(),this.callback(t)}}static fromDefinition(e,t){if("string"==typeof e)return new m(e,[],!1,!1,t);const{key:i,modifier:r,repeats:n,continuePropagation:s}=e;return new m(i,r?Array.isArray(r)?r:[r]:[],!!n,!!s,t)}}},29736:(e,t,i)=>{"use strict";i.d(t,{Ps:()=>l,Tv:()=>h,Zs:()=>s,cD:()=>u,d2:()=>c,fT:()=>n,lH:()=>p,mA:()=>o,n4:()=>d,xc:()=>a});var r=i(96220);const n=new r.A("cyan"),s=1,o=.25,a=new r.A("black"),l=.4,c=.2,u=.25,h="default",d="temporary",p=new r.A("yellow")},96058:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var r,n=i(66866),s=i(96220),o=i(52495),a=i(21564),l=(i(39831),i(539),i(9272),i(63863)),c=i(29736);let u=r=class extends o.A{constructor(e){super(e),this.name=c.Tv,this.color=c.fT.clone(),this.haloColor=null,this.haloOpacity=c.Zs,this.fillOpacity=c.mA,this.shadowColor=c.xc.clone(),this.shadowOpacity=c.Ps,this.shadowDifference=c.d2,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(e){return this.color.equals(e.color)&&(this.haloColor||this.color).equals(e.haloColor||e.color)&&this.haloOpacity===e.haloOpacity&&this.fillOpacity===e.fillOpacity&&this.haloWidth===e.haloWidth&&this.haloBlur===e.haloBlur&&this.shadowColor.equals(e.shadowColor)&&this.shadowOpacity===e.shadowOpacity&&this.shadowDifference===e.shadowDifference}clone(){return new r({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(e){this.color=e.color.clone(),this.haloColor=e.haloColor?.clone(),this.haloOpacity=e.haloOpacity,this.fillOpacity=e.fillOpacity,this.shadowColor=e.shadowColor.clone(),this.shadowDifference=e.shadowDifference,this.shadowOpacity=e.shadowOpacity,this.haloBlur=e.haloBlur,this.haloWidth=e.haloWidth}};(0,n._)([(0,a.MZ)({type:String,constructOnly:!0,nonNullable:!0})],u.prototype,"name",void 0),(0,n._)([(0,a.MZ)({type:s.A,nonNullable:!0})],u.prototype,"color",void 0),(0,n._)([(0,a.MZ)({type:s.A})],u.prototype,"haloColor",void 0),(0,n._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"haloOpacity",void 0),(0,n._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"fillOpacity",void 0),(0,n._)([(0,a.MZ)({type:s.A,nonNullable:!0})],u.prototype,"shadowColor",void 0),(0,n._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"shadowOpacity",void 0),(0,n._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"shadowDifference",void 0),(0,n._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"haloWidth",void 0),(0,n._)([(0,a.MZ)({nonNullable:!0})],u.prototype,"haloBlur",void 0),u=r=(0,n._)([(0,l.$)("esri.views.support.HighlightOptions")],u);const h=u},42063:(e,t,i)=>{"use strict";i.d(t,{M:()=>s});var r=i(33127),n=i(39425);class s{constructor(e,t){this._owner=t,this._properties={},this._afterDispatchHandle=null;for(const i in e){const t=e[i],n=new r.P(t,void 0,void 0,2,2);this._properties[i]={pool:n,acquired:[]}}this._afterDispatchHandle=(0,n.rs)((()=>this._release()))}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const t=this._properties[e];for(const e of t.acquired)(0,n.Gs)(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null}this._properties=null,this._owner=null}get(e){const t=this._owner._get(e),i=this._properties[e];let r=i.pool.acquire();for(i.acquired.push(r);r===t;)i.acquired.push(r),r=i.pool.acquire();return r}_release(){for(const e in this._properties){const t=this._properties[e];let i=0;for(const e of t.acquired)(0,n.Gs)(e)?t.acquired[i++]=e:t.pool.release(e);t.acquired.length=i}}}},40695:(e,t,i)=>{"use strict";var r;i.d(t,{M:()=>r}),function(e){e[e.ANIMATING=0]="ANIMATING",e[e.INTERACTING=1]="INTERACTING",e[e.IDLE=2]="IDLE"}(r||(r={}))},22167:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>x,W6:()=>r,mj:()=>g,nu:()=>P});var r,n=i(1436),s=(i(39831),i(539)),o=i(6267),a=i(77701),l=i(63678),c=i(40189),u=i(85251),h=i(40315),d=i(60882),p=i(80352),f=i(71678),m=i(40695),y=i(75199);function g(){return new T.Scheduler}!function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.OVERLAY_RENDERER="overlay renderer",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"}(r||(r={}));const _=new Map([[r.RESOURCE_CONTROLLER_IMMEDIATE,0],[r.RESOURCE_CONTROLLER,4],[r.SLIDE,0],[r.STREAM_DATA_LOADER,0],[r.ELEVATION_QUERY,0],[r.TERRAIN_SURFACE,1],[r.SURFACE_GEOMETRY_UPDATES,1],[r.LOD_RENDERER,2],[r.GRAPHICS_CORE,2],[r.I3S_CONTROLLER,2],[r.POINT_CLOUD_LAYER,2],[r.FEATURE_TILE_FETCHER,2],[r.CLOUDS_GENERATOR,2],[r.OVERLAY,4],[r.OVERLAY_RENDERER,4],[r.STAGE,4],[r.GRAPHICS_DECONFLICTOR,4],[r.FILTER_VISIBILITY,4],[r.SCALE_VISIBILITY,4],[r.FRUSTUM_VISIBILITY,4],[r.POINT_OF_INTEREST_FREQUENT,6],[r.POINT_OF_INTEREST_INFREQUENT,30],[r.LABELER,8],[r.FEATURE_QUERY_ENGINE,8],[r.FEATURE_TILE_TREE,16],[r.FEATURE_TILE_TREE_ACTIVE,0],[r.ELEVATION_ALIGNMENT,12],[r.ELEVATION_ALIGNMENT_SCENE,14],[r.TEXT_TEXTURE_ATLAS,12],[r.TEXTURE_UNLOAD,12],[r.LINE_OF_SIGHT_TOOL,16],[r.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[r.SNAPPING,0],[r.SHADOW_ACCUMULATOR,30],[r.MAPVIEW_FETCH_QUEUE,0],[r.MAPVIEW_LAYERVIEW_UPDATE,2],[r.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,0]]);function v(e){return _.has(e)?_.get(e):"number"==typeof e?e:1}const w=(0,d.l5)(6.5),b=(0,d.l5)(1),M=(0,d.l5)(30),A=(0,d.l5)(1e3/30),S=(0,d.l5)(100);var T,E;!function(e){e.Scheduler=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some((e=>e.needsUpdate))}constructor(){this._updating=(0,h.v)(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new a.A("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new i,this._state=m.M.INTERACTING,this._tasks=new l.A,this._runQueue=new l.A,this._load=0,this._idleStateCallbacks=new l.A,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,u.wB)((()=>f.A.SCHEDULER_LOG_SLOW_TASKS),(e=>this._debug=e),u.Vh);for(const e of Object.keys(r))this.performanceInfo.tasks.set(r[e],new a.A(r[e]))}destroy(){this._tasks.toArray().forEach((e=>e.remove())),this._tasks.clear(),(0,o.xt)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask((()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())})))}registerTask(e,i){const r=new t(this,e,i);return this._tasks.push(r),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new a.A(e)),r}registerIdleStateCallbacks(e,t){const i={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(i),this.state===m.M.IDLE&&this._idleUpdatesStartFired&&i.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(i),set idleBegin(e){r._idleUpdatesStartFired&&(i.idleEnd(),r._state===m.M.IDLE&&e()),i.idleBegin=e},set idleEnd(e){i.idleEnd=e}}}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,this.state!==m.M.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return this._state}frame(e){this._startFrameTaskTimes();const t=this._updateBudget(e);if(t){const e=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-e)}else this._recordFrameTaskTimes(0);return t}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let t=w,i=e.frameDuration,r=b;switch(this.state){case m.M.IDLE:t=(0,d.l5)(0),i=(0,d.l5)(Math.max(S,e.frameDuration)),r=M;break;case m.M.INTERACTING:i=(0,d.l5)(Math.max(A,e.frameDuration));case m.M.ANIMATING:}return i=(0,d.l5)(i-e.elapsedFrameTime-t),this.state!==m.M.IDLE&&i<b&&!this._forceTask?(this._forceTask=!0,!1):(i=(0,d.l5)(Math.max(i,r)),this._budget.reset(i),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case m.M.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case m.M.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset((0,d.l5)(0)),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e),this._updatingChanged()}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return E.SCHEDULED;let t=E.IDLE;return this._tasks.forAll((i=>{i.name===e&&i.needsUpdate&&(i.schedulePriority<=1?t=E.READY:t!==E.READY&&(t=E.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((i=>{i.name===e&&(t+=i.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t="";return e.forEach(((e,i)=>{t+=e>1?` ${e}x ${i}`:` ${i}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=.9*this._load+e*(1-.9)}_schedule(){for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{0===e.basePriority&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((i=>{i.needsUpdate&&0!==i.schedulePriority&&0!==i.basePriority&&i.blockFrame!==this._frameNumber&&(e=!0,t=Math.max(t,i.basePriority),1===i.schedulePriority?(i.schedulePriority=0,this._runQueue.push(i)):--i.schedulePriority)})),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do{for(;this._runQueue.length>0;){const t=this._budget.now(),i=this._runQueue.pop();this._budget.resetProgress();try{i.task.runTask(this._budget)===y.G&&(i.blockFrame=this._frameNumber)}catch(e){s.A.getLogger("esri.views.support.Scheduler").error(`Exception in task "${i.name}"`,e),i.blockFrame=this._frameNumber}!this._budget.hasProgressed&&i.blockFrame!==this._frameNumber&&i.needsUpdate&&(i.name,r.I3S_CONTROLLER,i.blockFrame=this._frameNumber),i.schedulePriority=i.basePriority;const n=this._budget.now()-t;if(i.runtime+=n,this._frameTaskTimes.set(i.priority,this._frameTaskTimes.get(i.priority)+n),this._budget.remaining<=0)return void this._updatingChanged()}}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const e of Object.keys(r))this._frameTaskTimes.set(r[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).push(e))),this.performanceInfo.total.push(e)}get test(){return this._test}};class t{get task(){return this._task.value}get updating(){return this._queue.running}constructor(e,t,i){this._scheduler=e,this.name=t,this.blockFrame=0,this.runtime=0,this._queue=new p.T,this._handles=new n.A,this._basePriority=v(t),this.schedulePriority=this._basePriority,this._task=(0,h.v)(null!=i?i:this._queue),this._handles.add((0,u.z7)((()=>this.task.running),(t=>e.taskRunningChanged(t))))}remove(){this.processQueue(x),this._scheduler.removeTask(this),this.schedule=P.schedule,this.reschedule=P.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const t=v(e);0!==this._basePriority&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,i){return this._queue.push(e,t,i)}reschedule(e,t,i){return this._queue.unshift(e,t,i)}processQueue(e){return this._queue.runTask(e)}}class i{constructor(){this._begin=performance?.now()??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e){this._begin=this.now(),this._budget=e,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}e.Budget=i}(T||(T={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(E||(E={}));const x=new T.Budget;x.enabled=!1;const P=new class{remove(){}processQueue(){}schedule(e,t,i){try{if((0,c.G4)(t)){const e=(0,c.NK)();return i?Promise.resolve(i(e)):Promise.reject(e)}return(0,c.z7)(e(x))}catch(r){return Promise.reject(r)}}reschedule(e,t,i){return this.schedule(e,t,i)}}},75199:(e,t,i)=>{"use strict";i.d(t,{G:()=>r});const r=Symbol("Yield")},71678:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var r=i(66866),n=i(52495),s=i(21564),o=(i(39831),i(539),i(9272),i(63863));let a=class extends n.A{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,r._)([(0,s.MZ)()],a.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,r._)([(0,s.MZ)()],a.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),a=(0,r._)([(0,o.$)("esri.views.support.debugFlags")],a);const l=new a},62352:(e,t,i)=>{"use strict";i.d(t,{n:()=>c,q:()=>l});var r=i(40189),n=i(68490);let s,o=null;async function a(e){o||(o=i.e(91976).then(i.bind(i,91976)).then((e=>s=e))),await o,(0,r.Te)(e)}async function l(e,t,i,r){if(!e)return null;const o=e.spatialReference;return(0,n.isLoaded)()||(0,n.canProjectWithoutEngine)(o,t)?(0,n.project)(e,t):s?s.projectGeometry(e,t,i,r):(await Promise.race([a(r),(0,n.load)(r)]),l(e,t,i,r))}async function c(e,t){try{return e?.spatialReference?await(0,n.projectWithZConversion)(e,t):null}catch{return null}}},30687:(e,t,i)=>{"use strict";i.d(t,{FV:()=>a,Uo:()=>s,ZV:()=>n,xB:()=>o});i(39831);var r=i(89882);function n(e){return(0,r.tc)(e.x,e.y)}function s(e,t){const i=(e instanceof HTMLElement?e:e.surface)?.getBoundingClientRect();return i?(0,r.tc)(t.clientX-i.left,t.clientY-i.top):(0,r.tc)(0,0)}function o(e,t){return t instanceof Event?s(e,t):n(t)}function a(e){if(e instanceof Event)return!0;if("object"==typeof e&&"type"in e)switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}},23391:(e,t,i)=>{"use strict";i.r(t),i.d(t,{completeUserSettings:()=>l,createEmptyImageData:()=>n.xR,encode:()=>u,encodeData:()=>h,getFormatAndQuality:()=>y,getMaximumResolutionScale:()=>g,resampleHermite:()=>_,screenshotSuperSampleSettings:()=>v,toDataUrl:()=>m,toRenderSettings:()=>c});i(39831);var r=i(92504),n=i(25801);const s=2048,o=1.5,a=8;function l(e,t){const{format:i,quality:n,rotation:s,disableDecorations:o}=e||{},a=w(e,t.padding),l=function(e,t){const i={x:0,y:0,width:t.width,height:t.height};if(e?.area){null!=e.area.x&&(i.x=Math.floor(e.area.x)),null!=e.area.y&&(i.y=Math.floor(e.area.y));const r=null!=e.area.width?Math.floor(e.area.width):null,n=null!=e.area.height?Math.floor(e.area.height):null;if(i.width=t.width-i.x,i.height=t.height-i.y,null!=r&&null!=n)i.width=Math.min(i.width,r),i.height=Math.min(i.height,n);else if(null==r&&null!=n){const e=Math.min(i.width,r);i.height=e/i.width*i.height,i.width=e}else if(null!=r&&null==n){const e=Math.min(i.height,n);i.width=e/i.height*i.width,i.height=e}}return function(e,t){const i=Math.floor(Math.max(e.x,0)),r=Math.floor(Math.max(e.y,0)),n={x:i,y:r,width:Math.floor(Math.min(e.width,t.width-i)),height:Math.floor(Math.min(e.height,t.height-r))},s=n.width/n.height,o=e.width/e.height;if(o===s)return n;if(o>s){const e=Math.floor(n.width/o),t=n.height-e;return{x:n.x,y:Math.floor(n.y+t/2),width:n.width,height:e}}const a=Math.floor(n.height*o),l=n.width-a;return{x:Math.floor(n.x+l/2),y:n.y,width:a,height:n.height}}(function(e,t){if(null==t?.width||null==t.height)return e;const i=t.width/t.height,r=e.width/e.height;if(r===i)return e;if(r<i){const t=Math.floor(e.height*i);return e.x-=(t-e.width)/2,e.width=t,e}const n=Math.floor(e.width/i);return e.y-=(n-e.height)/2,e.height=n,e}(i,e),t)}(e,{width:t.width-a.left-a.right,height:t.height-a.top-a.bottom}),{width:c,height:u}=function(e,t){if(!e)return t;const i=e.width,r=e.height;if(null!=i&&null!=r)return{width:Math.floor(i),height:Math.floor(r)};if(null==i&&null==r)return t;const n=t.width/t.height;return null==r?{width:Math.floor(i),height:Math.floor(i/n)}:{width:Math.floor(r*n),height:Math.floor(r)}}(e,l),h=b(i),d=S[h];return{format:h,quality:(0,r.qE)(null!=n?n:d,0,100),area:l,width:c,height:u,rotation:s,disableDecorations:!!o,ignoreBackground:!!e?.ignoreBackground,ignorePadding:!!e?.ignorePadding}}function c(e,t){const i=l(e,t),r=i.area,n=i.width/r.width,s=w(i,t.padding),o=s.left+s.right,a=s.top+s.bottom,c=t.width-o,u=t.height-a,h=Math.floor(c*n+o),d=Math.floor(u*n+a),p=e?.layers??[],f=i.ignoreBackground,m=i.ignorePadding;return{framebufferWidth:h,framebufferHeight:d,region:{x:Math.floor(r.x*n)+s.left,y:Math.floor(r.y*n)+s.top,width:i.width,height:i.height},format:i.format,quality:i.quality,rotation:i.rotation,pixelRatio:n,layers:p,disableDecorations:i.disableDecorations,ignoreBackground:f,ignorePadding:m,objectAndLayerIdColor:!1}}function u(e,t,i){const{ctx:r,canvas:n}=d(e,i),s=r.getImageData(0,0,e.width,e.height),o=m(n,t);return p(n),{dataUrl:o,data:s}}function h(e,t){const{ctx:i,canvas:r}=d(e,t),n=i.getImageData(0,0,e.width,e.height);return p(r),n}function d(e,t){const i=(null==f&&(f=document.createElement("canvas")),f);t.premultipliedAlpha&&function(e){const t=e.data,i=t.length;for(let r=0;r<i;r+=4){const e=t[r+3];if(255!==e&&e>0){const i=255/e;t[r]=t[r]*i,t[r+1]=t[r+1]*i,t[r+2]=t[r+2]*i}}}(e),i.width=e.width,i.height=e.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(e,0,0),t.flipY&&function(e){e.save(),e.globalCompositeOperation="copy",e.scale(1,-1),e.translate(0,-e.canvas.height),e.drawImage(e.canvas,0,0),e.restore()}(r),{ctx:r,canvas:i}}function p(e){e.width=0,e.height=0}let f=null;function m(e,t){const i=M[t.format],r=t.quality/100;return e.toDataURL(i,r)}function y(e,t){const i=b(e),n=S[i];return{format:i,quality:(0,r.qE)(null!=t?t:n,0,100)}}function g(e,t){return t/Math.max(e[0],e[1])}function _(e,t,i,r=0,n=0,s=e.width-r,o=e.height-n,a=!1){const{data:l}=e,{width:c,height:u,data:h}=t,d=s/c,p=o/u,f=Math.ceil(d/2),m=Math.ceil(p/2),y=e.width;for(let g=0;g<u;g++)for(let e=0;e<c;e++){const t=4*(e+(a?u-g-1:g)*c);let s=0,o=0,_=0,v=0,w=0,b=0;const M=(g+.5)*p;for(let a=Math.floor(g*p);a<(g+1)*p;a++){const t=Math.abs(M-(a+.5))/m,c=(e+.5)*d,u=t*t;for(let h=Math.floor(e*d);h<(e+1)*d;h++){const e=Math.abs(c-(h+.5))/f,t=Math.sqrt(u+e*e);if(t>=1)continue;let d=2*t*t*t-3*t*t+1;const p=4*(r+h+(n+a)*y);b+=d*l[p+3],o+=d,!i&&l[p+3]<255&&(d=d*l[p+3]/255),_+=d*l[p],v+=d*l[p+1],w+=d*l[p+2],s+=d}}h[t]=_/s,h[t+1]=v/s,h[t+2]=w/s,h[t+3]=b/o}return t}function v(e,t,i){if(!t)return e;const{framebufferWidth:r,framebufferHeight:n,pixelRatio:l,region:c}=e,u=w(e,i),h=u.left+u.right,d=u.top+u.bottom,p=r-h,f=n-d,m=Math.min(a,Math.min((s-h)/p,(s-d)/f));return m<o?e:{...e,framebufferWidth:Math.round(p*m)+h,framebufferHeight:Math.round(f*m)+d,pixelRatio:l*m,resample:{region:{x:Math.round((c.x-u.left)*m)+u.left,y:Math.round((c.y-u.top)*m)+u.top,width:Math.round(c.width*m),height:Math.round(c.height*m)},width:r,height:n}}}function w(e,t){return!t||e?.ignorePadding?T:t}function b(e){switch(e){case"png":case"jpg":case"jpeg":return e;default:return A}}const M={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},A="png",S={png:100,jpg:98,jpeg:98},T={top:0,right:0,bottom:0,left:0}},35644:(e,t,i)=>{"use strict";var r;i.d(t,{d:()=>r}),function(e){e[e.TextureDescriptor=0]="TextureDescriptor",e[e.Texture=1]="Texture",e[e.Renderbuffer=2]="Renderbuffer"}(r||(r={}))},8595:(e,t,i)=>{"use strict";i.d(t,{g:()=>f});var r=i(98849),n=(i(39831),i(539)),s=i(6267),o=i(40189),a=i(16541),l=i(41746),c=i(35644),u=i(45758),h=i(64434),d=i(78654);const p=()=>n.A.getLogger("esri/views/webgl/Texture");let f=class e{static{this.TEXTURE_UNIT_FOR_UPDATES=0}static{this.compressionWorkerHandle=null}constructor(e,t=null,i=null){if(this.type=c.d.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,i=t;else{const i=d.z.validate(e,t);if(!i)throw new r.A("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=i}this._descriptor.target===l.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(i):this.setData(i)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return(0,u.e)(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this._descriptor.context.gl&&this.hasWebGLTextureObject&&(this._descriptor.context.instanceCounter.decrement(l.vt.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(e,t){const i=this._descriptor;if(i.width!==e||i.height!==t){if(this._wasImmutablyAllocated)throw new r.A("texture:immutable-resize","Immutable textures can't be resized!");i.width=e,i.height=t,this._descriptor.target===l.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!(0,h.Qp)(e)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in l.CQ&&(this._descriptor.internalFormat=void 0),this._setData(e),!(0,h.Qp)(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(t,i,n,s,o,a,l=0){a||p().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||p().error("An attempt to update uninitialized texture!");const c=this._descriptor;c.internalFormat=(0,h.mq)(c);const{context:u,pixelFormat:d,dataType:f,target:m,isImmutable:y}=c;if(y&&!this._wasImmutablyAllocated)throw new r.A("texture:uninitialized","Cannot update immutable texture before allocation!");const g=u.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||n<0||i+s>c.width||n+o>c.height)&&p().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:_}=u;l&&(s&&o||p().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),_.pixelStorei(_.UNPACK_SKIP_ROWS,l)),(0,h.Kv)(a)?_.texSubImage2D(m,t,i,n,s,o,d,f,a):(0,h.Qp)(a)?_.compressedTexSubImage2D(m,t,i,n,s,o,c.internalFormat,a.levels[t]):_.texSubImage2D(m,t,i,n,s,o,d,f,a),l&&_.pixelStorei(_.UNPACK_SKIP_ROWS,0),u.bindTexture(g,e.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(t,i,n,s,o,a,l,c){c||p().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||p().error("An attempt to update an uninitialized texture!");const u=this._descriptor;u.internalFormat=(0,h.mq)(u);const{context:d,pixelFormat:f,dataType:m,isImmutable:y,target:g}=u;if(y&&!this._wasImmutablyAllocated)throw new r.A("texture:uninitialized","Cannot update immutable texture before allocation!");(0,h.re)(g)||p().warn("Attempting to set 3D texture data on a non-3D texture");const _=d.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);d.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),(i<0||n<0||s<0||i+o>u.width||n+a>u.height||s+l>u.depth)&&p().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:v}=d;if((0,h.Qp)(c))c=c.levels[t],v.compressedTexSubImage3D(g,t,i,n,s,o,a,l,u.internalFormat,c);else{const e=c;v.texSubImage3D(g,t,i,n,s,o,a,l,f,m,e)}d.bindTexture(_,e.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;if(0===t.width||0===t.height)return;if(!t.hasMipmap){if(this._wasImmutablyAllocated)throw new r.A("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");t.hasMipmap=!0,this._samplingModeDirty=!0,(0,h.QE)(t)}t.samplingMode===l.Cj.LINEAR?(this._samplingModeDirty=!0,t.samplingMode=l.Cj.LINEAR_MIPMAP_NEAREST):t.samplingMode===l.Cj.NEAREST&&(this._samplingModeDirty=!0,t.samplingMode=l.Cj.NEAREST_MIPMAP_NEAREST);const i=this._descriptor.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(t.target),this._descriptor.context.bindTexture(i,e.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new r.A("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,(0,h.QE)(e)}e.samplingMode===l.Cj.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,e.samplingMode=l.Cj.LINEAR):e.samplingMode===l.Cj.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=l.Cj.NEAREST)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,(0,h.QE)(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?l.Cj.LINEAR:l.Cj.NEAREST),(0,h.QE)(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=(0,s.DC)(this._compressionAbortController)}_setData(t,i){const n=this._descriptor,s=n.context?.gl;if(!s)return;(0,a.Y2)(s),this.hasWebGLTextureObject||(this._glName=s.createTexture(),n.context.instanceCounter.increment(l.vt.Texture,this)),(0,h.QE)(n);const o=n.context.bindTexture(this,e.TEXTURE_UNIT_FOR_UPDATES);n.context.setActiveTexture(e.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),(0,a.Y2)(s);const c=i??n.target,u=(0,h.re)(c);if((0,h.Kv)(t))this._setDataFromTexImageSource(t,c);else{const{width:e,height:i,depth:o}=n;if(null==e||null==i)throw new r.A("texture:missing-size","Width and height must be specified!");if(u&&null==o)throw new r.A("texture:missing-depth","Depth must be specified!");if(n.internalFormat=(0,h.mq)(n),n.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(c,n.internalFormat,n.hasMipmap,e,i,o),(0,h.Qp)(t)){if(!(0,h.tl)(n.internalFormat))throw new r.A("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(t,n.internalFormat,c)}else this._texImage(c,0,n.internalFormat,e,i,o,t),(0,a.Y2)(s),n.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),(0,a.Y2)(s),n.context.bindTexture(o,e.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let t=l.Ap.TEXTURE_CUBE_MAP_POSITIVE_X;t<=l.Ap.TEXTURE_CUBE_MAP_NEGATIVE_Z;t++)this._setData(e,t)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:t,flipped:i,preMultiplyAlpha:r}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,t),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r?1:0)}_setDataFromTexImageSource(e,t){const{gl:i}=this._descriptor.context,r=this._descriptor;r.internalFormat=(0,h.mq)(r);const n=(0,h.re)(t),{width:s,height:o,depth:l}=(0,h.Eo)(e);r.width&&r.height,r.width||(r.width=s),r.height||(r.height=o),n&&r.depth,n&&(r.depth=l),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(t,r.internalFormat,r.hasMipmap,s,o,l),this._texImage(t,0,r.internalFormat,s,o,l,e),(0,a.Y2)(i),r.hasMipmap&&(this.generateMipmap(),(0,a.Y2)(i))}_setDataFromCompressedSource(e,t,i){const r=this._descriptor,{width:n,height:s,depth:o}=r,a=e.levels,c=(0,h.FV)(i,n,s,o),u=Math.min(c,a.length)-1;this._descriptor.context.gl.texParameteri(r.target,l.H3.MAX_LEVEL,u),this._forEachMipmapLevel(((e,r,n,s)=>{const o=a[Math.min(e,a.length-1)];this._compressedTexImage(i,e,t,r,n,s,o)}),u)}_texStorage(e,t,i,n,s,o){const{gl:a}=this._descriptor.context;if(!(0,h.tr)(t)&&!(0,h.CR)(t)&&!(0,h.QJ)(t))throw new r.A("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=i?(0,h.FV)(e,n,s,o):1;if((0,h.re)(e)){if(null==o)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");a.texStorage3D(e,l,t,n,s,o)}else a.texStorage2D(e,l,t,n,s);this._wasImmutablyAllocated=!0}_texImage(e,t,i,n,s,o,a){const l=this._descriptor.context.gl,c=(0,h.re)(e),{isImmutable:u,pixelFormat:d,dataType:p}=this._descriptor;if(u){if(null!=a){const i=a;if(c){if(null==o)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texSubImage3D(e,t,0,0,0,n,s,o,d,p,i)}else l.texSubImage2D(e,t,0,0,n,s,d,p,i)}}else{const u=a;if(c){if(null==o)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texImage3D(e,t,i,n,s,o,0,d,p,u)}else l.texImage2D(e,t,i,n,s,0,d,p,u)}}_compressedTexImage(e,t,i,n,s,o,a){const l=this._descriptor.context.gl,c=(0,h.re)(e);if(this._descriptor.isImmutable){if(null!=a)if(c){if(null==o)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(e,t,0,0,0,n,s,o,i,a)}else l.compressedTexSubImage2D(e,t,0,0,n,s,i,a)}else if(c){if(null==o)throw new r.A("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexImage3D(e,t,i,n,s,o,0,a)}else l.compressedTexImage2D(e,t,i,n,s,0,a)}async _compressOnWorker(t){const{width:i,height:r,context:n,flipped:s,preMultiplyAlpha:a,hasMipmap:c}=this._descriptor,u=this._descriptor.compress?.compressionTracker,h=this._descriptor.compress?.compressionCallback,{compressedTextureETC:d,compressedTextureS3TC:f}=n.capabilities;if(!e.compressionWorkerHandle?.isCompressible(t,this._descriptor)||!d&&!f)return;this.abortCompression();const m=new AbortController;this._compressionAbortController=m,u?.increment();try{let n;t instanceof Uint8Array?n=t.buffer:(n=await createImageBitmap(t,{imageOrientation:s?"flipY":"none"}),(0,o.Te)(m));const u={data:n,width:i,height:r,needsFlip:t instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===l.Ab.RGBA?4:3,preMultiplyAlpha:a,hasMipmap:c,hasETC:!!d,hasS3TC:!!f},p=await e.compressionWorkerHandle.invoke(u,m.signal,"low");if((0,o.Te)(m),p.compressedTexture&&this.hasWebGLTextureObject){const e=this.usedMemory;this._descriptor.internalFormat=p.internalFormat,this._setData(p.compressedTexture),h?.(e-this.usedMemory)}}catch(y){(0,o.zf)(y)||p().error("Texture compression failed!")}finally{u?.decrement(),this._compressionAbortController?.signal.aborted&&(this._compressionAbortController=null)}}_forEachMipmapLevel(e,t=1/0){let{width:i,height:n,depth:s,hasMipmap:o,target:a}=this._descriptor;const c=a===l.Ap.TEXTURE_3D;if(null==i||null==n||c&&null==s)throw new r.A("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let r=0;e(r,i,n,s),o&&(1!==i||1!==n||c&&1!==s)&&!(r>=t);++r)i=Math.max(1,i>>1),n=Math.max(1,n>>1),c&&(s=Math.max(1,s>>1))}_applySamplingMode(){const e=this._descriptor,t=e.context?.gl;let i=e.samplingMode,r=e.samplingMode;i===l.Cj.LINEAR_MIPMAP_NEAREST||i===l.Cj.LINEAR_MIPMAP_LINEAR?(i=l.Cj.LINEAR,e.hasMipmap||(r=l.Cj.LINEAR)):i!==l.Cj.NEAREST_MIPMAP_NEAREST&&i!==l.Cj.NEAREST_MIPMAP_LINEAR||(i=l.Cj.NEAREST,e.hasMipmap||(r=l.Cj.NEAREST)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,i),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,r)}_applyWrapMode(){const e=this._descriptor,t=e.context?.gl;"number"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){const e=this._descriptor,t=e.context?.gl,i=e.compareEnabled?t.COMPARE_REF_TO_TEXTURE:t.NONE;t.texParameteri(e.target,t.TEXTURE_COMPARE_MODE,i),e.compareEnabled&&t.texParameteri(e.target,t.TEXTURE_COMPARE_FUNC,t.GREATER),(0,a.Y2)(t)}_applyAnisotropicFilteringParameters(){const e=this._descriptor,t=e.context.capabilities.textureFilterAnisotropic;t&&e.context.gl.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}}},45758:(e,t,i)=>{"use strict";i.d(t,{R:()=>o,e:()=>a});var r=i(41746),n=i(35644),s=i(19282);class o{constructor(e=0,t=e){this.width=e,this.height=t,this.type=n.d.TextureDescriptor,this.target=r.Ap.TEXTURE_2D,this.pixelFormat=r.Ab.RGBA,this.dataType=r.ld.UNSIGNED_BYTE,this.samplingMode=r.Cj.LINEAR,this.wrapMode=r.pF.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}}function a(e){return e.width<=0||e.height<=0||e.depth<=0?0:Math.round(e.width*e.height*e.depth*(e.hasMipmap?4/3:1)*(null==e.internalFormat?4:(0,s.IB)(e.internalFormat))*(e.target===r.Ap.TEXTURE_CUBE_MAP?6:1))}},19282:(e,t,i)=>{"use strict";i.d(t,{Hi:()=>l,IB:()=>c,WH:()=>o,yu:()=>a});i(39831);var r=i(16541),n=i(41746),s=i(60501);function o(e){const t=e.gl;switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case t.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case t.INVALID_OPERATION:return"The specified command is not allowed for the current state";case t.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case t.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case t.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function a(e,t,i,n,a=0){const l=e.gl;e.bindBuffer(i);for(const c of n){const i=t.get(c.name);if(null==i){console.warn(`There is no location for vertex attribute '${c.name}' defined.`);continue}const n=a*c.stride;if(c.count<=4)l.vertexAttribPointer(i,c.count,c.type,c.normalized,c.stride,c.offset+n),l.enableVertexAttribArray(i),c.divisor>0&&e.gl.vertexAttribDivisor(i,c.divisor);else if(9===c.count)for(let t=0;t<3;t++)l.vertexAttribPointer(i+t,3,c.type,c.normalized,c.stride,c.offset+12*t+n),l.enableVertexAttribArray(i+t),c.divisor>0&&e.gl.vertexAttribDivisor(i+t,c.divisor);else if(16===c.count)for(let t=0;t<4;t++)l.vertexAttribPointer(i+t,4,c.type,c.normalized,c.stride,c.offset+16*t+n),l.enableVertexAttribArray(i+t),c.divisor>0&&e.gl?.vertexAttribDivisor(i+t,c.divisor);else console.error("Unsupported vertex attribute element count: "+c.count);if((0,r.en)()){const t=o(e),i=(0,s._)(c.type),r=c.offset,a=Math.round(i/r)!==i/r?`. Offset not a multiple of stride. DataType requires ${i} bytes, but descriptor has an offset of ${r}`:"";t&&console.error(`Unable to bind vertex attribute "${c.name}" with baseInstanceOffset ${n}${a}:`,t,c)}}}function l(e,t,i,r){const s=e.gl;e.bindBuffer(i);for(const n of r){const i=t.get(n.name);if(n.count<=4)s.disableVertexAttribArray(i),n.divisor&&n.divisor>0&&e.gl?.vertexAttribDivisor(i,0);else if(9===n.count)for(let t=0;t<3;t++)s.disableVertexAttribArray(i+t),n.divisor&&n.divisor>0&&e.gl?.vertexAttribDivisor(i+t,0);else if(16===n.count)for(let t=0;t<4;t++)s.disableVertexAttribArray(i+t),n.divisor&&n.divisor>0&&e.gl?.vertexAttribDivisor(i+t,0);else console.error("Unsupported vertex attribute element count: "+n.count)}e.unbindBuffer(n.NZ.ARRAY_BUFFER)}function c(e){switch(e){case n.Ab.ALPHA:case n.Ab.LUMINANCE:case n.Ab.RED:case n.Ab.RED_INTEGER:case n.H0.R8:case n.H0.R8I:case n.H0.R8UI:case n.H0.R8_SNORM:case n.Xo.STENCIL_INDEX8:return 1;case n.Ab.LUMINANCE_ALPHA:case n.Ab.RG:case n.Ab.RG_INTEGER:case n.H0.RGBA4:case n.H0.R16F:case n.H0.R16I:case n.H0.R16UI:case n.H0.RG8:case n.H0.RG8I:case n.H0.RG8UI:case n.H0.RG8_SNORM:case n.H0.RGB565:case n.H0.RGB5_A1:case n.SB.DEPTH_COMPONENT16:return 2;case n.Ab.RGB:case n.Ab.RGB_INTEGER:case n.H0.RGB8:case n.H0.RGB8I:case n.H0.RGB8UI:case n.H0.RGB8_SNORM:case n.H0.SRGB8:case n.SB.DEPTH_COMPONENT24:return 3;case n.Ab.RGBA:case n.Ab.RGBA_INTEGER:case n.H0.RGBA8:case n.H0.R32F:case n.H0.R11F_G11F_B10F:case n.H0.RG16F:case n.H0.R32I:case n.H0.R32UI:case n.H0.RG16I:case n.H0.RG16UI:case n.H0.RGBA8I:case n.H0.RGBA8UI:case n.H0.RGBA8_SNORM:case n.H0.SRGB8_ALPHA8:case n.H0.RGB9_E5:case n.H0.RGB10_A2UI:case n.H0.RGB10_A2:case n.SB.DEPTH_COMPONENT32F:case n.iE.DEPTH24_STENCIL8:return 4;case n.iE.DEPTH32F_STENCIL8:return 5;case n.H0.RGB16F:case n.H0.RGB16I:case n.H0.RGB16UI:return 6;case n.H0.RG32F:case n.H0.RG32I:case n.H0.RG32UI:case n.H0.RGBA16F:case n.H0.RGBA16I:case n.H0.RGBA16UI:return 8;case n.H0.RGB32F:case n.H0.RGB32I:case n.H0.RGB32UI:return 12;case n.H0.RGBA32F:case n.H0.RGBA32I:case n.H0.RGBA32UI:return 16;case n.CQ.COMPRESSED_RGB_S3TC_DXT1_EXT:case n.CQ.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case n.CQ.COMPRESSED_RGBA_S3TC_DXT3_EXT:case n.CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case n.CQ.COMPRESSED_R11_EAC:case n.CQ.COMPRESSED_SIGNED_R11_EAC:case n.CQ.COMPRESSED_RGB8_ETC2:case n.CQ.COMPRESSED_SRGB8_ETC2:case n.CQ.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case n.CQ.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case n.CQ.COMPRESSED_RG11_EAC:case n.CQ.COMPRESSED_SIGNED_RG11_EAC:case n.CQ.COMPRESSED_RGBA8_ETC2_EAC:case n.CQ.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}},78654:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});var r=i(41746),n=i(45758);class s extends n.R{constructor(e,t){switch(super(),this.context=e,Object.assign(this,t),this.internalFormat){case r.H0.R16F:case r.H0.R32F:case r.H0.R8_SNORM:case r.H0.R8:this.pixelFormat=r.Ab.RED;break;case r.H0.R8I:case r.H0.R8UI:case r.H0.R16I:case r.H0.R16UI:case r.H0.R32I:case r.H0.R32UI:this.pixelFormat=r.Ab.RED_INTEGER}}static validate(e,t){return new s(e,t)}}},75228:(e,t,i)=>{"use strict";i.d(t,{C:()=>s});var r=i(33155);let n;function s(){return n??=function(){const e=new o,t=function(e){if("undefined"==typeof WebGL2RenderingContext)return null;const t=document.createElement("canvas");if(!t)return null;let i=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(null==i&&(i=t.getContext("webgl2"),null!=i&&(e.majorPerformanceCaveat=!0,e.unmaskedRenderer=(0,r.M)(i)?.getUnmaskedRenderer()??"unknown")),null==i)return i;e.available=!0,e.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),e.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return n&&(e.supportsHighPrecisionFragment=n.precision>0),i}(e);return null==t||(e.supportsColorBufferFloat=null!==t.getExtension("EXT_color_buffer_float"),e.supportsColorBufferFloatBlend=null!==t.getExtension("EXT_float_blend"),e.supportsColorBufferHalfFloat=e.supportsColorBufferFloat||null!==t.getExtension("EXT_color_buffer_half_float")),e}(),n}class o{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}}},33155:(e,t,i)=>{"use strict";i.d(t,{M:()=>n});class r{constructor(e){this.getUnmaskedRenderer=e}}function n(e){const t=e.getExtension("WEBGL_debug_renderer_info");return t?new r((()=>e.getParameter(t.UNMASKED_RENDERER_WEBGL))):null}},16541:(e,t,i)=>{"use strict";i.d(t,{Xc:()=>u,Y2:()=>h,en:()=>c});var r=i(98849),n=i(39831),s=i(539),o=i(41746);const a=()=>s.A.getLogger("esri.views.webgl.checkWebGLError");const l=!!(0,n.A)("enable-feature:webgl-debug");function c(){return l}function u(){return l}function h(e,t=c()){if(t){const t=e.getError();if(t){const e=function(e){switch(e){case o.bh.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case o.bh.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case o.bh.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case o.bh.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case o.bh.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case o.bh.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(t),i=(new Error).stack;a().error(new r.A("webgl-error","WebGL error occurred",{message:e,stack:i}))}}}},41746:(e,t,i)=>{"use strict";var r,n,s,o,a,l,c,u,h,d,p,f,m,y,g,_,v,w,b,M,A,S,T,E,x;i.d(t,{Ab:()=>_,Ac:()=>u,Ap:()=>y,CQ:()=>Z,Cj:()=>f,Co:()=>E,Fq:()=>N,H0:()=>v,H3:()=>g,Hr:()=>I,MT:()=>d,NV:()=>r,NZ:()=>l,R:()=>x,SB:()=>M,Tb:()=>a,WR:()=>s,Xo:()=>A,Y7:()=>c,YY:()=>B,_U:()=>T,bh:()=>V,dn:()=>o,eA:()=>p,iE:()=>b,j7:()=>w,ld:()=>S,nI:()=>k,pF:()=>m,pe:()=>h,r6:()=>O,sS:()=>G,tx:()=>z,uH:()=>D,ui:()=>n,vt:()=>C,xL:()=>L,xM:()=>P,yI:()=>R}),function(e){e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e[e.COLOR=16384]="COLOR"}(r||(r={})),function(e){e[e.COLOR=6144]="COLOR",e[e.DEPTH=6145]="DEPTH",e[e.STENCIL=6146]="STENCIL",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(n||(n={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(s||(s={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"}(o||(o={})),function(e){e[e.ADD=32774]="ADD",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.SUBTRACT=32778]="SUBTRACT",e[e.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"}(a||(a={})),function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"}(l||(l={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(c||(c={})),function(e){e[e.CW=2304]="CW",e[e.CCW=2305]="CCW"}(u||(u={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=5131]="HALF_FLOAT"}(h||(h={})),function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"}(d||(d={})),function(e){e[e.ZERO=0]="ZERO",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP"}(p||(p={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(f||(f={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(m||(m={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"}(y||(y={})),function(e){e[e.MIN_LOD=33082]="MIN_LOD",e[e.MAX_LOD=33083]="MAX_LOD",e[e.BASE_LEVEL=33084]="BASE_LEVEL",e[e.MAX_LEVEL=33085]="MAX_LEVEL",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE"}(g||(g={})),function(e){e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.RG=33319]="RG",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER"}(_||(_={})),function(e){e[e.RGBA4=32854]="RGBA4",e[e.R16F=33325]="R16F",e[e.RG16F=33327]="RG16F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.R32F=33326]="R32F",e[e.RG32F=33328]="RG32F",e[e.RGBA32F=34836]="RGBA32F",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB5_A1=32855]="RGB5_A1",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.RGB16F=34843]="RGB16F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGB565=36194]="RGB565",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2=32857]="RGB10_A2",e[e.RGB10_A2UI=36975]="RGB10_A2UI"}(v||(v={})),function(e){e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(w||(w={})),function(e){e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"}(b||(b={})),function(e){e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F"}(M||(M={})),function(e){e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8"}(A||(A={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.INT=5124]="INT",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"}(S||(S={})),function(e){e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_READ=35045]="STATIC_READ",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.STREAM_COPY=35042]="STREAM_COPY"}(T||(T={})),function(e){e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER"}(E||(E={})),function(e){e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"}(x||(x={}));const P=33984;var C,I;!function(e){e[e.Texture=0]="Texture",e[e.TileTexture=1]="TileTexture",e[e.BufferObject=2]="BufferObject",e[e.VertexArrayObject=3]="VertexArrayObject",e[e.Shader=4]="Shader",e[e.Program=5]="Program",e[e.FramebufferObject=6]="FramebufferObject",e[e.Renderbuffer=7]="Renderbuffer",e[e.TransformFeedback=8]="TransformFeedback",e[e.Sync=9]="Sync",e[e.UNCOUNTED=10]="UNCOUNTED",e[e.LinesOfCode=10]="LinesOfCode",e[e.Uniform=11]="Uniform",e[e.COUNT=12]="COUNT"}(C||(C={})),function(e){e[e.NONE=0]="NONE",e[e.BACK=1029]="BACK"}(I||(I={}));const O=36064,R=36065,N=36066,k=33306,L=36096,D=36128;var Z,F,U,j,G,z,$,V,B;!function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"}(Z||(Z={})),function(e){e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT=5124]="INT",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"}(F||(F={})),function(e){e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS"}(U||(U={})),function(e){e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED"}(j||(j={})),function(e){e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED"}(G||(G={})),function(e){e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"}(z||(z={})),function(e){e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"}($||($={})),function(e){e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL"}(V||(V={})),function(e){e[e.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR"}(B||(B={}))},60501:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});var r=i(41746);function n(e){switch(e){case r.pe.BYTE:case r.pe.UNSIGNED_BYTE:return 1;case r.pe.SHORT:case r.pe.UNSIGNED_SHORT:case r.pe.HALF_FLOAT:return 2;case r.pe.FLOAT:case r.pe.INT:case r.pe.UNSIGNED_INT:return 4}}},64434:(e,t,i)=>{"use strict";i.d(t,{CR:()=>c,Eo:()=>g,FV:()=>m,Kv:()=>p,QE:()=>a,QJ:()=>u,Qp:()=>d,mq:()=>y,re:()=>f,tl:()=>h,tr:()=>l});var r=i(98849),n=i(539),s=i(41746);const o=()=>n.A.getLogger("esri/views/webgl/textureUtils");function a(e){const{width:t,height:i,depth:r}=e;(null!=t&&t<0||null!=i&&i<0||null!=r&&r<0)&&o().error("Negative dimension parameters are not allowed!");const{internalFormat:n}=e;if(n&&(c(n)||u(n))){const{linearFilterDepth:t,compareEnabled:i,samplingMode:r,hasMipmap:n}=e;n&&o().error("Depth textures cannot have mipmaps"),t?r!==s.Cj.LINEAR&&r!==s.Cj.NEAREST&&o().error("Depth textures cannot sample mipmaps"):(r!==s.Cj.NEAREST&&o().error("Depth textures without filtering must use NEAREST filtering"),i&&o().error("Depth textures without filtering cannot use compare function"))}}function l(e){return e in s.H0}function c(e){return e in s.SB}function u(e){return e in s.iE}function h(e){return null!=e&&e in s.CQ}function d(e){return null!=e&&"type"in e&&"compressed"===e.type}function p(e){return null!=e&&!d(e)&&!function(e){return null!=e&&"byteLength"in e}(e)}function f(e){return e===s.Ap.TEXTURE_3D||e===s.Ap.TEXTURE_2D_ARRAY}function m(e,t,i,r=1){let n=Math.max(t,i);return e===s.Ap.TEXTURE_3D&&(n=Math.max(n,r)),Math.floor(Math.log2(n))+1}function y(e){if(null!=e.internalFormat)return e.internalFormat;switch(e.dataType){case s.ld.FLOAT:switch(e.pixelFormat){case s.Ab.RGBA:return s.H0.RGBA32F;case s.Ab.RGB:return s.H0.RGB32F;default:throw new r.A("texture:unknown-format","Unable to derive format")}case s.ld.UNSIGNED_BYTE:switch(e.pixelFormat){case s.Ab.RGBA:return s.H0.RGBA8;case s.Ab.RGB:return s.H0.RGB8}}const{pixelFormat:t}=e;return e.internalFormat=t===s.j7.DEPTH_STENCIL?s.iE.DEPTH24_STENCIL8:t===s.j7.DEPTH_COMPONENT?s.SB.DEPTH_COMPONENT24:t,e.internalFormat}function g(e){let t="width"in e?e.width:e.codedWidth,i="height"in e?e.height:e.codedHeight;return e instanceof HTMLVideoElement&&(t=e.videoWidth,i=e.videoHeight),{width:t,height:i,depth:1}}},48904:(e,t,i)=>{"use strict";i.d(t,{D:()=>s,p:()=>n});var r=i(73446);function n(e){const t=(0,r.Vr)(100*(1-e));return Math.max(0,Math.min(t,100))}function s(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}},91146:(e,t,i)=>{"use strict";i.d(t,{CJ:()=>f});var r=i(98849),n=i(19251),s=i(76724),o=i(35149),a=i(40454);const l=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),c=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),u=new Set([...c,"link-chart"]);function h(e,t){if(t.restrictedWebMapWriting){const i=function(e){switch(e.layerContainerType){case"basemap":return l;case"operational-layers":return"link-chart"===e.origin?u:c;default:return null}}(t);return null==i||i.has(e.type)&&!(0,a.Ov)(e)}return!0}function d(e,t){"maxScale"in e&&(t.maxScale=(0,o.B)(e.maxScale)??void 0),"minScale"in e&&(t.minScale=(0,o.B)(e.minScale)??void 0)}function p(e,t){if(function(e,t){if(t)if((0,a.Ov)(e)){const i=(0,s.wc)("featureCollection.layers",t),r=i?.[0]?.layerDefinition;r&&d(e,r)}else"group"!==e.type&&d(e,t)}(e,t),t&&(t.id=e.id,"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,o.B)(e.opacity)??void 0,t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type))if((0,a.Ov)(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}function f(e,t,i){if(!e.persistenceEnabled)return null;if(!("write"in e)||!e.write)return i?.messages&&i.messages.push(new r.A("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if((0,a.Ov)(e)&&!e.isTable)t=e.resourceInfo;else if(h(e,i)){const t={};return e.write(t,i)?t:null}return null!=t&&p(e,t=(0,n.o8)(t)),t}},94379:(e,t,i)=>{"use strict";i.d(t,{r:()=>s});var r=i(50579);class n extends r.R{constructor(e,t){super(e,t,"webmap")}}function s(e){return null!=e&&"object"==typeof e&&"declaredClass"in e&&"esri.WebMap"===e.declaredClass}new n(2,34)},46928:(e,t,i)=>{"use strict";i.d(t,{A:()=>U});var r=i(66866),n=(i(17791),i(75290)),s=i(17306),o=i(64874),a=(i(39831),i(19251)),l=i(539),c=i(6267),u=i(84410),h=i(40189),d=i(85251),p=i(33880),f=i(21564),m=i(4130),y=i(63863),g=i(41573),_=i(9854),v=i(59875);i(40067);const w={handleInterceptedEvent:(e,t,i,r)=>(e.scheduleRender(),t.properties[`on${r.type}`].apply(t.properties.bind||i,[r]))},b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,i)=>{"-"===t.charAt(0)?e.style.setProperty(t,i):e.style[t]=i}},M=(e,t,i=!1)=>{let r=e;return t.forEach(((e,n)=>{const s=r?.children?((e,t)=>e.find(t))(r.children,(t=>t.domNode===e)):void 0;i&&!s&&n!==t.length-1||(r=s)})),r};var A=i(17199),S=i(42445),T=i(64676),E=i(20464);const x=new Set;function P(e){x.add(e),e.finally((()=>x.delete(e)))}new Map;var C,I=i(98353),O=i(99484),R=i(15131),N=i(91109);let k=0;function L(e,t){const i=Object.prototype.hasOwnProperty;for(const r in t)i.call(t,r)&&i.call(e,r)&&(null!=e[r]&&null!=t[r]&&"object"==typeof e[r]&&"object"==typeof t[r]?L(e[r],t[r]):e[r]=t[r]);return e}const D=(e=>{let t;const i={...w,...e},r=(e=>({...b,...e}))(i),n=r.performanceLogger;let s,o=!0,a=!1;const l=[],c=[],u=(e,s,o)=>{let a;r.eventHandlerInterceptor=(e,r,s,o)=>function(e){let r;n("domEvent",e);const s=((e,t)=>{const i=[];for(;e&&e!==t;)i.push(e),e=e.parentNode;return i})(e.currentTarget,a.domNode),o=s.some((e=>customElements.get(e?.tagName?.toLowerCase())));if(e.eventPhase!==Event.CAPTURING_PHASE&&o){const t=e.composedPath(),i=t.slice(t.indexOf(e.currentTarget),t.indexOf(a.domNode)).reverse();r=M(a.getLastRender(),i,!0)}else s.reverse(),r=M(a.getLastRender(),s);let l;return r&&(l=i.handleInterceptedEvent(t,r,this,e)),n("domEventProcessed",e),l},i.postProcessProjectionOptions?.(r);const u=o();a=e(s,u,r),r.eventHandlerInterceptor=void 0,l.push(a),c.push(o),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(a,u)};let h=()=>{if(s=void 0,o){o=!1,n("renderStart",void 0);for(let e=0;e<l.length;e++){const t=c[e]();n("rendered",void 0);try{l[e].update(t)}catch(w){console.error(w)}n("patched",void 0)}n("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(h=i.modifyDoRenderImplementation(h,l,c)),t={renderNow:h,scheduleRender:()=>{s||a||(s=requestAnimationFrame(h))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,t.scheduleRender()},append:(e,t)=>{u(v.t.append,e,t)},insertBefore:(e,t)=>{u(v.t.insertBefore,e,t)},merge:(e,t)=>{u(v.t.merge,e,t)},replace:(e,t)=>{u(v.t.replace,e,t)},detach:e=>{for(let t=0;t<c.length;t++)if(c[t]===e)return c.splice(t,1),l.splice(t,1)[0];throw new Error("renderFunction was not found")}},t})({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,i=/capture$/i;e.eventHandlerInterceptor=(e,r,n,s)=>{const o=t?.(e,r,n,s),a=i.test(e);if(!((e=e.replace(i,"")).toLowerCase()in n)||a){const t=e[2].toLowerCase()+e.slice(3),i=e=>o?.call(n,e);n.addEventListener(t,i,a);const r=()=>n.removeEventListener(t,i,a),l=s.afterRemoved;s.afterRemoved=e=>{l?.(e),r()}}return o}},handleInterceptedEvent(e,t,i,r){const{eventPhase:n,type:s}=r,o=n===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=t.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&((0,I.Sh)(),e.scheduleRender(),l[a].call(l.bind||i,r))}});let Z=!1,F=class extends(u.A.EsriPromiseMixin(s.A.EventedAccessor)){static{this[C]=!0}constructor(e,t){super(e,t),this._attached=!1,this._projector=D,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=(0,h.sg)((async()=>{if(this._messageBundleProps?.length){const e=await Promise.allSettled(this._messageBundleProps.map((async({bundlePath:e,propertyName:t})=>{if(this.destroyed)return;let i=await(0,R.ud)(e);this.uiStrings&&Object.keys(this.uiStrings)&&(i=L((0,a.o8)(i),this.uiStrings)),this[t]=i})));if(this.destroyed)return;for(const t of e)"rejected"===t.status&&l.A.getLogger(this).error("widget-intl:locale-error",this.declaredClass,t.reason)}await this.loadLocale()})),this.addHandles((0,E.hA)()),(0,A.V)();const i="esri-widget-uid-"+(0,p.lk)(),r=this.render.bind(this);this._trackingTarget=new _.r((()=>{this.autoRenderingEnabled&&this.scheduleRender()}));const n=()=>({vnodeSelector:"div",properties:{key:`${i}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),s=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const e=r()??n(),t=e.properties??={};if(t.key??=i,(0,S.b)(e.vnodeSelector)){if(!this.visible)return n()}else this.visible?t.styles||(t.styles={}):(t.class="",t.styles={display:"none"}),t.styles.display??="";let s=0;return e.children?.forEach((e=>{(0,S.b)(e.vnodeSelector)||(e.properties??={},e.properties.key??=`${this.id}--${s++}`)})),(0,S.d)(this,e)};this.render=()=>{if(Z)return s();let e=(0,I.rE)(this)??null;if(e)return e;this._trackingTarget.clear(),Z=!0;try{e=(0,g.a)(this._trackingTarget,s)}catch(t){throw l.A.getLogger(this).error(t),t}finally{Z=!1}return e&&(0,I.$U)(this,e),e};const o=this.beforeFirstRender();o?this._resourcesFetch=o.then((()=>{this._readyForTrueRender=!0,this._postInitialize()})):(this._resourcesFetch=Promise.resolve().then((()=>{this._postInitialize()})),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),P(this._resourcesFetch)}normalizeCtorArgs(e,t){const i={...e};return t&&(i.container=t),i}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then((()=>{})).catch(h.jH):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||((0,c.pR)(this._trackingTarget),(0,c.pR)(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,(0,I.Qw)(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return(0,n.$)(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+k++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(C=T.x,T.D)](){return{projector:this._projector}}static{this.vnodeSelector="div"}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||((0,I.Qw)(this),this._projector.scheduleRender())}classes(...e){return O.Ly.apply(this,e)}renderNow(){(0,I.Qw)(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles((0,d.wB)((()=>this.viewModel),((e,t)=>{t&&this.removeHandles("delegated-events"),e&&(0,o.wb)(e)&&this.addHandles(this._delegatedEventNames.map((t=>(0,o.on)(e,t,(e=>{this.emit(t,e)})))),"delegated-events")}),d.pc)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(h.jH),this.scheduleRender()};this.addHandles([(0,N.oQ)(e),(0,d.wB)((()=>this.uiStrings),e)]),this.addHandles((0,d.z7)((()=>this.container),(e=>{this.destroyed||this._attach(e)}),{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}};(0,r._)([(0,f.MZ)()],F.prototype,"_readyForTrueRender",void 0),(0,r._)([(0,f.MZ)({value:null})],F.prototype,"container",null),(0,r._)([(0,m.w)("container")],F.prototype,"castContainer",null),(0,r._)([(0,f.MZ)()],F.prototype,"icon",null),(0,r._)([(0,f.MZ)()],F.prototype,"id",null),(0,r._)([(0,f.MZ)()],F.prototype,"label",null),(0,r._)([(0,f.MZ)()],F.prototype,"renderable",null),(0,r._)([(0,f.MZ)()],F.prototype,"uiStrings",void 0),(0,r._)([(0,f.MZ)()],F.prototype,"viewModel",void 0),(0,r._)([(0,f.MZ)({value:!0})],F.prototype,"visible",null),(0,r._)([(0,f.MZ)()],F.prototype,"key",void 0),(0,r._)([(0,f.MZ)()],F.prototype,"children",void 0),(0,r._)([(0,f.MZ)()],F.prototype,"afterCreate",void 0),(0,r._)([(0,f.MZ)()],F.prototype,"afterUpdate",void 0),(0,r._)([(0,f.MZ)()],F.prototype,"afterRemoved",void 0),F=(0,r._)([(0,y.$)("esri.widgets.Widget")],F);const U=F},57328:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var r=i(66866),n=i(6267),s=i(21564),o=(i(39831),i(539),i(9272),i(63863));const a=e=>{let t=class extends e{constructor(...e){super(...e),this.goToOverride=null,this.view=null}callGoTo(e){const{view:t}=this;return(0,n.Lw)(t),this.goToOverride?this.goToOverride(t,e):function(e,t,i){return e.goTo(t,i)}(t,e.target,e.options)}};return(0,r._)([(0,s.MZ)()],t.prototype,"goToOverride",void 0),(0,r._)([(0,s.MZ)()],t.prototype,"view",void 0),t=(0,r._)([(0,o.$)("esri.widgets.support.GoTo")],t),t}},17199:(e,t,i)=>{"use strict";i.d(t,{V:()=>c,W:()=>u});var r=i(14558);let n=!1;const s=e=>{n=!0,(0,r.s)(e)};var o=i(99050),a=(i(39831),i(20909));let l;function c(){n||s((0,a.s2)((0,o.s)(l)))}function u(e){const t=[];for(const i of Object.keys(e))customElements.get(`calcite-${i}`)||t.push(e[i]?.());return t.length>0?Promise.all(t):null}l="components/assets"},60682:(e,t,i)=>{"use strict";i.d(t,{$:()=>n});var r=i(99484);function n(){return function(e,t){if(!e[t])throw new TypeError(`Cannot auto bind undefined function '${String(t)}'`);return{value:s(e[t])}}}function s(e){return function(t,...i){!function(e){const t=e?.type;return e instanceof KeyboardEvent||"keyup"===t||"keydown"===t||"keypress"===t}(t)?e.call(this,t,...i):(0,r.OU)(t.key)&&(t.preventDefault(),t.stopPropagation(),t.target.click())}}},43955:(e,t,i)=>{"use strict";function r(e){return(t,i)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:i})}}i.d(t,{G:()=>r})},35251:(e,t,i)=>{"use strict";i.d(t,{D:()=>r});const r={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",primaryTickLabelKeepAll:"primary-tick__label--keep-all",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"}},96704:(e,t,i)=>{"use strict";i.d(t,{K:()=>a,w:()=>l});var r=i(42445),n=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},s=function(e,t){for(var i=0,r=e.length;i<r;i++){var o=e[i];Array.isArray(o)?s(o,t):null!=o&&!1!==o&&(o.hasOwnProperty("vnodeSelector")||(o=n(o)),t.push(o))}},o=function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(1===i.length&&"string"==typeof i[0])return{vnodeSelector:e,properties:t||void 0,children:void 0,text:i[0],domNode:null};var n=[];return s(i,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function a(e,t,...i){return"function"!=typeof e||(0,r.b)(e)?o(e,t??null,...i):e(t,...i)}function l(...e){return e}},42445:(e,t,i)=>{"use strict";i.d(t,{b:()=>d,d:()=>l});var r=i(20464),n=i(64676);const s=[],o={},a=new WeakMap;function l(e,t){let i=t.children;if(i?.length)for(let n=0;n<i.length;++n)i[n]=l(e,i[n]);else i=s;const r=t.vnodeSelector;if(d(r)){const n=t.properties||o,s=n.key||r,a={key:s,afterCreate:c,afterUpdate:u,afterRemoved:h,parentWidget:e,widgetConstructor:r,widgetProperties:{...n,key:s,children:i}};return{vnodeSelector:r.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return t}function c(e,t,i,{parentWidget:s,widgetConstructor:o,widgetProperties:l}){const c=new o(l);c.container=e,a.set(e,c),c.afterCreate?.(c,e),s.addHandles((0,r.hA)((()=>h(e)))),queueMicrotask((()=>{c[n.D].projector.renderNow()}))}function u(e,t,i,{widgetProperties:r}){const n=a.get(e);n&&(n.set(r),n.afterUpdate?.(n,e))}function h(e){const t=a.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),a.delete(e))}function d(e){return"function"==typeof e&&e[n.x]}},64676:(e,t,i)=>{"use strict";i.d(t,{D:()=>n,x:()=>r});const r=Symbol("widget"),n=Symbol("widget-test-data")},98353:(e,t,i)=>{"use strict";i.d(t,{$U:()=>o,Qw:()=>a,Sh:()=>n,rE:()=>s});const r=new Map;function n(){r.clear()}function s(e){return r.get(e)}function o(e,t){r.set(e,t)}function a(e){r.delete(e)}},99484:(e,t,i)=>{"use strict";i.d(t,{EV:()=>u,Ly:()=>c,N_:()=>d,OU:()=>f,V8:()=>h,Z6:()=>m,cA:()=>p});var r=i(58392),n=i(20464),s=(i(39831),i(539),i(40189)),o=i(85251),a=i(61449),l=i(98353);function c(...e){const t=r.A.acquire();for(let r=0;r<e.length;r++){const i=e[r],n=typeof i;if("string"===n)t.push(i);else if(Array.isArray(i))t.push.apply(t,i);else if("object"===n)for(const e in i)i[e]&&t.push(e)}const i=t.join(" ");return r.A.release(t),i}const u=(()=>{const e=new Map,t=new ResizeObserver((t=>{(0,l.Sh)();for(const i of t)e.get(i.target)?.(i)})),i=(i,r,s)=>(e.set(i,r),t.observe(i,s),(0,n.hA)((()=>{t.unobserve(i),e.delete(i)})));return(e,t,r)=>{let s=null;return(0,n.vE)([(0,o.wB)((()=>"function"==typeof e?e():e),(e=>{s?.remove(),e&&(s=i(e,t,r))}),o.pc),(0,n.hA)((()=>s?.remove()))])}})();function h(e){const t=e?.closest("[dir]");return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir}function d(e){this[e.getAttribute("data-node-ref")]=null}function p(e){this[e.getAttribute("data-node-ref")]=e}function f(e){return"Enter"===e||" "===e}async function m(e,t){await(0,a.$m)((0,s.Mq)(t));const i="function"==typeof e?e():e;i&&("setFocus"in i&&"function"==typeof i.setFocus?await i.setFocus():i instanceof HTMLElement&&i.focus())}},74833:(e,t,i)=>{"use strict";i.d(t,{C:()=>E,G:()=>P,a:()=>_,b:()=>S,c:()=>s,d:()=>h,e:()=>d,h:()=>v,i:()=>o,k:()=>b,o:()=>f,s:()=>l,t:()=>A});var r=i(37685),n=i(41331);const s=Symbol.for("controller"),o=e=>"function"==typeof e?.then;let a;const l=e=>{a!==e&&(a=e,queueMicrotask((()=>a===e?a=void 0:0)))},c=e=>a;let u=[];const h=e=>{if(void 0===e)return void(u=[]);const t=u.indexOf(e);u=-1===t?[...u,e]:u.slice(0,t+1),queueMicrotask((()=>u=[]))},d=()=>u;let p;const f=e=>{p!==e&&(p=e,queueMicrotask((()=>p===e?p=void 0:0)))},m=async(e,t)=>{const i=g(e);if(void 0===i)return e;if(await i.ready,"function"==typeof t){0;const e=i.watchExports((i=>t(i,e)))}return i.exports},y=async e=>{const t=g(e);return await t.ready,t},g=e=>{const t=c().manager.X(e);if(void 0!==t)return t;if((e=>"object"==typeof e&&null!==e&&(s in e||"hostConnected"in e||"hostDisconnected"in e||"hostUpdate"in e||"hostUpdated"in e))(e))return e;const i=(()=>{const e=p;return p=void 0,e})();return void 0!==i?i:void 0};let _=!1;const v=e=>{_=!0;try{return e()}finally{_=!1}};let w;const b=()=>{w?.forEach((({callbacks:e},t)=>{const i=Object.keys(t);e.forEach((e=>e(i)))})),w=void 0},M=(e,t,i)=>{const s=e.manager;return s.V!==n.s6&&s.V!==i&&s.S(void 0,void 0),0===s.T.length&&queueMicrotask((()=>s.S(void 0,void 0))),s.V=i,s.T.push(((e,n)=>(0,r.UF)(t,void 0,i===n?e:void 0))),i},A=(e=[c(),...d()],t,i)=>{const n=Array.isArray(e)?e:[e];let s=n.length+1;const o=e=>{s-=1,void 0!==e&&(s=Math.min(s,0)),0===s&&t(e)};n.forEach((e=>((e,t,i)=>{const n=Object.keys(e),s=n.length;void 0===w&&queueMicrotask(b),w??=new Map;let o=w.get(e);return void 0===o&&(o={callbacks:[],keyCount:s},w.set(e,o)),o.keyCount!==s&&(o.callbacks.forEach((e=>e(n))),o.callbacks=[],o.keyCount=s),o.callbacks.push((n=>{const o=e=>(0,r.UF)(t,null,e),a=n[s];void 0===a?o(void 0):e[a]===i?o(a):o(void 0)})),i})(e,(t=>o(void 0===t?void 0:{key:t,host:e,isReactive:!1})),i)));for(const r of n)if("manager"in r&&r.manager.component===r){M(r,(e=>o(void 0===e?void 0:{key:e,host:r,isReactive:!0})),i);break}return i},S=((e="",t={},i=c())=>{const r={emit:r=>{""===e&&b();const n=new CustomEvent(e,{detail:r,cancelable:!0,bubbles:!0,composed:!0,...t});return i.el.dispatchEvent(n),n}};return""===e&&A(void 0,(t=>e=t.key),r),r}).bind(null,"");var T;T=s;class E{constructor(e){this.#e=[],this.#t=[],this.#i=[],this.#r=[],this.#n=[],this.#s=[],this.#o=[],this.#a=[],this.#l=[],this.#c=!1,this.P=new r.cY,this.connectedCalled=!1,this.loadedCalled=!1,this[T]=!0,this.#u=[];const t=this,i=e??c(new.target.name);t.#h=i,t.ready=t.P.promise,t.#d=C(t),t.component=i,t.#h.addController(t);void 0===t.#h.manager||(h(t),queueMicrotask((()=>t.catchUpLifecycle())))}#e;#t;#i;#r;#n;#s;#o;#a;#l;#c;#h;catchUpLifecycle(){const{manager:e}=this.#h;!e.connectedCalled||this.connectedCalled||this.triggerConnected();!e.#c||this.triggerLoad().then((()=>e.loadedCalled&&this.triggerLoaded())).catch(console.error)}#d;get exports(){return this.#d}set exports(e){const t=this.#d;t!==e&&(this.#d=e,this.#u.forEach(r.UF),this.connectedCalled&&!1!==this.O&&this.#h.requestUpdate(this.O,t)),this.P.resolve(e)}setProvisionalExports(e,t=!0){this.#d=t?C(e):e,this.#u.forEach(r.UF)}#u;watchExports(e){const t=()=>e(this.#d);return this.#u.push(t),()=>{this.#u.splice(this.#u.indexOf(t),1)}}get use(){return l(this.#h),m}get useRef(){return l(this.#h),y}get useRefSync(){return l(this.#h),g}controllerRemoved(){this.#h.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#e.push(e)}onDisconnected(e){this.#t.push(e)}onLoad(e){this.#i.push(e)}onLoaded(e){this.#r.push(e)}onUpdate(e){this.#n.push(e)}onUpdated(e){this.#s.push(e)}onDestroy(e){this.#o.push(e)}onLifecycle(e){this.#a.push(e),this.connectedCalled&&this.#h.el.isConnected&&this.#p(e)}triggerConnected(){const e=this;e.hostConnected&&(0,r.UF)(e.hostConnected,e),e.#e.forEach(r.UF),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&(0,r.UF)(e.hostDisconnected,e),e.#t.forEach(r.UF),e.#l.forEach(r.UF),e.#l=[]}async triggerLoad(){if(this.#c)return;this.#c=!0;const e=this;e.hostLoad&&await(0,r.ao)(e.hostLoad,e),this.#i.length>0&&await Promise.allSettled(this.#i.map(r.ao)),this.P.resolve(this.#d)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&(0,r.UF)(this.hostLoaded,this),this.#r.forEach(r.UF),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&(0,r.UF)(this.hostUpdate,this,e),this.#n.forEach(x,e)}triggerUpdated(e){this.hostUpdated&&(0,r.UF)(this.hostUpdated,this,e),this.#s.forEach(x,e)}triggerDestroy(){this.hostDestroy&&(0,r.UF)(this.hostDestroy,this),this.#o.forEach(r.UF)}triggerLifecycle(){this.hostLifecycle&&this.#p((()=>this.hostLifecycle())),this.#a.forEach(this.#p,this)}#p(e){l(this.#h);const t=(0,r.UF)(e);(Array.isArray(t)?t:[t]).forEach((e=>{"function"==typeof e?this.#l.push(e):"object"==typeof e&&"function"==typeof e.remove&&this.#l.push(e.remove)}))}}function x(e){(0,r.UF)(e,void 0,this)}const P=E,C=e=>{if("object"!=typeof e&&"function"!=typeof e||null===e)return e;const t=new Proxy(e,{get(e,i,r){if("exports"!==i&&"_exports"!==i||!(i in e)||e[i]!==t)return i in e||i in Promise.prototype||"symbol"==typeof i?"function"==typeof e?e[i]:Reflect.get(e,i,r):void 0}});return t}},44603:(e,t,i)=>{"use strict";i.d(t,{WF:()=>S,lh:()=>r.b,le:()=>T,s6:()=>P,CP:()=>E,zl:()=>x,Bq:()=>C,pf:()=>I});Event;Event;var r=i(74833),n=i(48618);n.W3,n.Ec;var s=i(37685);const o=e=>{let t=e;for(;t=t.parentNode??t.host;)if(t?.constructor?.lumina){const i=t;return i.manager?.loadedCalled||(i.J??i._offspring).push(e),(i.I??i._postLoad).promise}return!1};const a={};function l(){}const c=Object.defineProperty,u=globalThis.HTMLElement??l;class h extends u{constructor(){super(),this.#f={},this.#m=[],this.I=new s.cY,this.H=new s.cY,this.J=[];const e=this,t=e.constructor;e._offspring=e.J,e._postLoad=e.I,t.C?.forEach((t=>{Object.hasOwn(e,t)&&(e.#f[t]=e[t],delete e[t])})),t.A?e.#y({a:t.A}):t.B.then((async i=>{await t.K.p,e.#y(await(i.default?.then((e=>"function"==typeof e?{a:e}:e))??i))})).catch((t=>{e.H.reject(t),setTimeout((()=>{throw t}))}))}static{this.lumina=!0}static F(){for(const e of this.C??[])c(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#f[e]},set(t){this.#f[e]=t}});for(const e of this.E??[])c(this.prototype,e,{async value(...t){this.#g||await this.H.promise;const i=this.#g;return await i[e](...t)},configurable:!0});for(const e of this.D??[])c(this.prototype,e,{value(...t){return this.#g[e](...t)},configurable:!0})}#g;#f;#m;get manager(){return this.#g?.manager}attributeChangedCallback(e,t,i){this.#g?.attributeChangedCallback(e,t,i),this.#g||this.#m.push(e)}connectedCallback(){this.#g?this.#g.connectedCallback?.():queueMicrotask((()=>this.G=o(this)))}disconnectedCallback(){this.#g?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#y(e){const t=this.constructor,i=t.L,r=this.#f,n=Object.values(e).find((e=>e.L===i));const s=`${i}--lazy`;let o=n;for(;o&&!Object.hasOwn(o,"lumina");)o=Object.getPrototypeOf(o);p(o);!t.A&&(t.A=n,customElements.define(s,n)),n.N=this;const a=document.createElement(s);n.N=void 0,this.#g=a,this.#f=a,this.#m.forEach((e=>a.attributeChangedCallback(e,null,this.getAttribute(e)))),Object.entries(r).forEach(d,a);const l=this.isConnected;(l||this.G)&&(a.connectedCallback?.(),l||a.disconnectedCallback())}addController(){}requestUpdate(){this.#g?.requestUpdate()}}function d([e,t]){this[e]=t}const p=e=>{const t=e.prototype,i=Element.prototype;Object.hasOwn(t,"isConnected")||(t.setAttribute=function(e,t){i.setAttribute.call(this.el,e,t)},t.removeAttribute=function(e){i.removeAttribute.call(this.el,e)},c(t,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};var f=i(41331);var m=i(54714),y=i(31926);const g=(0,y.u$)(class extends y.WL{constructor(e){if(super(e),e.type!==y.OA.ATTRIBUTE||"class"!==e.name||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter((t=>e[t])).join(" ")+" "}update(e,[t]){if(void 0===this.st){this.st=new Set,void 0!==e.strings&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter((e=>""!==e))));for(const e in t)t[e]&&!this.nt?.has(e)&&this.st.add(e);return this.render(t)}const i=e.element.classList;for(const r of this.st)r in t||(i.remove(r),this.st.delete(r));for(const r in t){const e=!!t[r];e===this.st.has(r)||this.nt?.has(r)||(e?(i.add(r),this.st.add(r)):(i.remove(r),this.st.delete(r)))}return m.c0}}),_="important",v=" !"+_,w=(0,y.u$)(class extends y.WL{constructor(e){if(super(e),e.type!==y.OA.ATTRIBUTE||"style"!==e.name||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,i)=>{const r=e[i];return null==r?t:t+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`}),"")}update(e,[t]){const{style:i}=e.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(t)),this.render(t);for(const r of this.ft)null==t[r]&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in t){const e=t[r];if(null!=e){this.ft.add(r);const t="string"==typeof e&&e.endsWith(v);r.includes("-")||t?i.setProperty(r,t?e.slice(0,-11):e,t?_:""):i[r]=e}}return m.c0}});i(35470);class b extends r.G{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=f.s6,this.T=[],this.#_=new WeakMap,this.#h=e,this.exports=void 0,this.hasDestroy=A in e&&"function"==typeof e.destroy,f.WF.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const t=e.el.localName;throw e.el.remove(),new Error(`The ${t} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${A} prop.`)}void 0!==this.#v&&clearTimeout(this.#v),(0,r.k)();for(const t of e.M)"triggerConnected"in t?t.triggerConnected():(0,s.UF)(t.hostConnected,t)},hostDisconnected:()=>{for(const t of e.M)"triggerDisconnected"in t?t.triggerDisconnected():(0,s.UF)(t.hostDisconnected,t);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const t of e.M)"triggerUpdate"in t?t.triggerUpdate(this.Q):(0,s.UF)(t.hostUpdate,t,this.Q)},hostUpdated:()=>{for(const t of e.M)"triggerUpdated"in t?t.triggerUpdated(this.Q):(0,s.UF)(t.hostUpdated,t,this.Q);this.Q=void 0}}),queueMicrotask((()=>this.R=!0)),(0,r.s)(e)}#v;#h;async destroy(){if(!this.destroyed){this.#h.el.isConnected&&(this.hasDestroy=!1,this.#h.el.remove()),this.#v=void 0,this.destroyed=!0;for(const e of this.#h.M)"triggerDestroy"in e?e.triggerDestroy():(0,s.UF)(e.hostDestroy,e);this.#h.M.splice(0)}}U(){if(void 0!==this.#v&&clearTimeout(this.#v),!this.#h.el.isConnected&&!this.#h.autoDestroyDisabled){const e=()=>{this.#h.destroy()};this.#v=(0,s.oK)(e,M)}}S(e,t){const i=this.T;this.V=f.s6,this.T=[],i.forEach((i=>i(e,t)))}#_;W(e,t){("object"==typeof t&&null!==t||"function"==typeof t)&&this.#_.set(t,e)}X(e){return"object"==typeof e&&null!==e||"function"==typeof e?this.#_.get(e):void 0}}let M=1e3;const A="autoDestroyDisabled";class S extends f.WF{constructor(){super(),this.M=[],this.manager=new b(this);const e=this,t=e.constructor,i=t.N,r=t.K.o,n=S.prototype.shouldUpdate;e.#w=i?.H??new s.cY,e.I=i?.I??new s.cY,e.J=i?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=i??e,e.#b=e.enableUpdating,e.enableUpdating=l,e.shouldUpdate!==n&&(e.#M=e.shouldUpdate,e.shouldUpdate=n),r&&(e.#A=new Map,t.elementProperties.forEach(((t,i)=>e.#A.set(i,r())))),f.S$&&e.el.setAttribute(t.K.hydratedAttribute,"")}static finalizeStyles(e){const t=super.finalizeStyles(e),i=this.shadowRootOptions===a;return void 0===this.K?.commonStyles||i?t:[this.K.commonStyles,...t]}static createProperty(e,t){const i="number"==typeof t?t:Array.isArray(t)?t[0]:0,r=Array.isArray(t)?t[1]:void 0,n=r?.hasChanged??f.Ec,o={attribute:!!(1&i&&"string"==typeof e)&&(0,s.j1)(e),reflect:!!(2&i),type:4&i?Boolean:8&i?Number:void 0,state:!!(16&i),readOnly:!!(32&i),noAccessor:!!(64&i),c:!1,...r,hasChanged(e,t){const i=n(e,t);return o.c=i,i}};super.createProperty(e,o)}static getPropertyDescriptor(e,t,i){const n=this.K,s=super.getPropertyDescriptor(e,t,i);return i.d=s,{...s,get(){return n.t?.(this.#A.get(e)),s.get?.call(this)},set(t){const n=this.manager;if(i.readOnly&&!r.a&&(n.R||n.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${t}"`);s.set.call(this,t??void 0),i.c&&this.#A?.get(e)?.notify(),n.T.length>0&&n?.S(e,t)}}}static{this.lumina=!0}#A;#M;#b;#w;#S;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.((()=>this.requestUpdate()));this.#S=e;const t=!this.manager.connectedCalled;super.connectedCallback(),t?queueMicrotask((()=>this.#T().catch((e=>{this.#w.reject(e),setTimeout((()=>{throw e}))})))):e&&this.requestUpdate()}#E(e){try{this.#S.clear(),this.constructor.K.r(this.#S,(()=>super.update(e)))}catch(t){throw this.#S.clear(),t}}disconnectedCallback(){super.disconnectedCallback(),this.#S?.destroy(),this.#S=void 0}createRenderRoot(){const e=this.el.shadowRoot,t=this.constructor,i=t.shadowRootOptions,r=e??(i===a?this.el:this.el.attachShadow(i));if(e)return f.WF.prototype.createRenderRoot.call(this),e;if(this.isConnected){const e=r.getRootNode();0,e.adoptedStyleSheets=[...e.adoptedStyleSheets,...t.elementStyles.map((e=>"styleSheet"in e?e.styleSheet:e))]}return r}async#T(){const e=this.el.G??o(this.el);e&&await e;const t=[];for(const r of this.M)"triggerLoad"in r?t.push(r.triggerLoad()):t.push((0,s.ao)(r.hostLoad,r));await Promise.all(t),await(this.load?.()),this.manager.hasDestroy&&this.manager.onUpdate((e=>e.has(A)&&this.manager.U())),this.#b(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const i=this.J.filter((e=>!e.manager?.loadedCalled));i.length&&await Promise.allSettled(i.map((async e=>await e.componentOnReady()))),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const r of this.M)"triggerLoaded"in r?r.triggerLoaded():(0,s.UF)(r.hostLoaded,r);this.loaded?.(),this.#w.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#M?.(e)??!0}update(e){this.#S?this.#E(e):super.update(e)}listen(e,t,i){const r=t?.bind(this)??t;this.manager.onLifecycle((()=>(this.el.addEventListener(e,r,i),()=>this.el.removeEventListener(e,r,i))))}listenOn(e,t,i,r){const n=i?.bind(this)??i;this.manager.onLifecycle((()=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r))))}async componentOnReady(){return await this.#w.promise,this}addController(e){this.M.push(e),!(r.c in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const T=e=>{let t;const i=e=>{t=new URL(e,globalThis.location?.href||void 0).href},r={...e,getAssetPath(e){const i=new URL(e,t);return i.origin!==globalThis.location?.origin?i.href:i.pathname},setAssetPath:i,customElement(e,t){t.K=r,t.L=e,customElements.get(e)||customElements.define(e,t)}};return i(e.defaultAssetPath),r},E=e=>"object"==typeof e&&null!=e?g(e):e,x=e=>"object"==typeof e&&null!=e?w(e):e;const P=m.s6;function C(e,t,i){null==i?e.removeAttribute(t):e.setAttribute(t,i)}const I={toAttribute:e=>!0===e?"":!1===e?null:e}},14558:(e,t,i)=>{"use strict";i.d(t,{C:()=>a,D:()=>l,a:()=>u,b:()=>c,c:()=>g,f:()=>p,g:()=>_,l:()=>f,s:()=>v});var r=i(44603),n=i(41331);const s="calcite-mode-auto",o="calcite-mode-dark",a={autoMode:s,darkMode:o,lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},l={filter:250,nextTick:0,resize:150,reposition:100},c=10,u=25;function h(){const{classList:e}=document.body,t=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>e.contains(o)||e.contains(s)&&t?"dark":"light",r=e=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:e}})),n=e=>{a!==e&&r(e),a=e};let a=i();r(a),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>n(e.matches?"dark":"light"))),new MutationObserver((()=>n(i()))).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const d=globalThis.calciteConfig,p=d?.focusTrapStack||[],f=d?.logLevel||"info",m="3.2.1";n.S$||("interactive"===document.readyState?h():document.addEventListener("DOMContentLoaded",(()=>h()),{once:!0})),function(){if(d&&d.version)return;console.info(`Using Calcite Components ${m} [Date: 2025-05-29, Revision: 618973fec]`);const e=d||globalThis.calciteConfig||{};Object.defineProperty(e,"version",{value:m,writable:!1}),globalThis.calciteConfig=e}();const y=(0,r.le)({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.2.1/",hydratedAttribute:"calcite-hydrated"}),{customElement:g,getAssetPath:_,setAssetPath:v}=y},82136:(e,t,i)=>{"use strict";i.d(t,{AH:()=>l,Rf:()=>c,sk:()=>u});const r=globalThis,n=r.ShadowRoot&&(void 0===r.ShadyCSS||r.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class a{constructor(e,t,i){if(this._$cssResult$=!0,i!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(n&&void 0===e){const i=void 0!==t&&1===t.length;i&&(e=o.get(t)),void 0===e&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&o.set(t,e))}return e}toString(){return this.cssText}}const l=(e,...t)=>{const i=1===e.length?e[0]:t.reduce(((t,i,r)=>t+(e=>{if(!0===e._$cssResult$)return e.cssText;if("number"==typeof e)return e;throw Error("Value passed to 'css' function must be a 'css' function result: "+e+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[r+1]),e[0]);return new a(i,e,s)},c=(e,t)=>{if(n)e.adoptedStyleSheets=t.map((e=>e instanceof CSSStyleSheet?e:e.styleSheet));else for(const i of t){const t=document.createElement("style"),n=r.litNonce;void 0!==n&&t.setAttribute("nonce",n),t.textContent=i.cssText,e.appendChild(t)}},u=n?e=>e:e=>e instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return(e=>new a("string"==typeof e?e:e+"",void 0,s))(t)})(e):e},48618:(e,t,i)=>{"use strict";i.d(t,{Ec:()=>y,W3:()=>m,mN:()=>_});var r=i(82136);const{is:n,defineProperty:s,getOwnPropertyDescriptor:o,getOwnPropertyNames:a,getOwnPropertySymbols:l,getPrototypeOf:c}=Object,u=globalThis,h=u.trustedTypes,d=h?h.emptyScript:"",p=u.reactiveElementPolyfillSupport,f=(e,t)=>e,m={toAttribute(e,t){switch(t){case Boolean:e=e?d:null;break;case Object:case Array:e=null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){let i=e;switch(t){case Boolean:i=null!==e;break;case Number:i=null===e?null:Number(e);break;case Object:case Array:try{i=JSON.parse(e)}catch(e){i=null}}return i}},y=(e,t)=>!n(e,t),g={attribute:!0,type:String,converter:m,reflect:!1,useDefault:!1,hasChanged:y};Symbol.metadata??=Symbol("metadata"),u.litPropertyMetadata??=new WeakMap;class _ extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=g){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(e,i,t);void 0!==r&&s(this.prototype,e,r)}}static getPropertyDescriptor(e,t,i){const{get:r,set:n}=o(this.prototype,e)??{get(){return this[t]},set(e){this[t]=e}};return{get:r,set(t){const s=r?.call(this);n?.call(this,t),this.requestUpdate(e,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??g}static _$Ei(){if(this.hasOwnProperty(f("elementProperties")))return;const e=c(this);e.finalize(),void 0!==e.l&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(f("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(f("properties"))){const e=this.properties,t=[...a(e),...l(e)];for(const i of t)this.createProperty(i,e[i])}const e=this[Symbol.metadata];if(null!==e){const t=litPropertyMetadata.get(e);if(void 0!==t)for(const[e,i]of t)this.elementProperties.set(e,i)}this._$Eh=new Map;for(const[t,i]of this.elementProperties){const e=this._$Eu(t,i);void 0!==e&&this._$Eh.set(e,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const e of i)t.unshift((0,r.sk)(e))}else void 0!==e&&t.push((0,r.sk)(e));return t}static _$Eu(e,t){const i=t.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof e?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),void 0!==this.renderRoot&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return(0,r.Rf)(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$ET(e,t){const i=this.constructor.elementProperties.get(e),r=this.constructor._$Eu(e,i);if(void 0!==r&&!0===i.reflect){const n=(void 0!==i.converter?.toAttribute?i.converter:m).toAttribute(t,i.type);this._$Em=e,null==n?this.removeAttribute(r):this.setAttribute(r,n),this._$Em=null}}_$AK(e,t){const i=this.constructor,r=i._$Eh.get(e);if(void 0!==r&&this._$Em!==r){const e=i.getPropertyOptions(r),n="function"==typeof e.converter?{fromAttribute:e.converter}:void 0!==e.converter?.fromAttribute?e.converter:m;this._$Em=r;const s=n.fromAttribute(t,e.type);this[r]=s??this._$Ej?.get(r)??s,this._$Em=null}}requestUpdate(e,t,i){if(void 0!==e){const r=this.constructor,n=this[e];if(i??=r.getPropertyOptions(e),!((i.hasChanged??y)(n,t)||i.useDefault&&i.reflect&&n===this._$Ej?.get(e)&&!this.hasAttribute(r._$Eu(e,i))))return;this.C(e,t,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(e,t,{useDefault:i,reflect:r,wrapped:n},s){i&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,s??t??this[e]),!0!==n||void 0!==s)||(this._$AL.has(e)||(this.hasUpdated||i||(t=void 0),this._$AL.set(e,t)),!0===r&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const e=this.scheduleUpdate();return null!=e&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[e,t]of this._$Ep)this[e]=t;this._$Ep=void 0}const e=this.constructor.elementProperties;if(e.size>0)for(const[t,i]of e){const{wrapped:e}=i,r=this[t];!0!==e||this._$AL.has(t)||void 0===r||this.C(t,void 0,i,r)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((e=>e.hostUpdate?.())),this.update(t)):this._$EM()}catch(t){throw e=!1,this._$EM(),t}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((e=>e.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((e=>this._$ET(e,this[e]))),this._$EM()}updated(e){}firstUpdated(e){}}_.elementStyles=[],_.shadowRootOptions={mode:"open"},_[f("elementProperties")]=new Map,_[f("finalized")]=new Map,p?.({ReactiveElement:_}),(u.reactiveElementVersions??=[]).push("2.1.1")},15290:(e,t,i)=>{"use strict";i.d(t,{Dx:()=>a,KO:()=>d,Rt:()=>s,cN:()=>h,lx:()=>l,mY:()=>u});var r=i(54714);const{I:n}=r.ge,s=e=>void 0===e.strings,o=()=>document.createComment(""),a=(e,t,i)=>{const r=e._$AA.parentNode,s=void 0===t?e._$AB:t._$AA;if(void 0===i){const t=r.insertBefore(o(),s),a=r.insertBefore(o(),s);i=new n(t,a,e,e.options)}else{const t=i._$AB.nextSibling,n=i._$AM,o=n!==e;if(o){let t;i._$AQ?.(e),i._$AM=e,void 0!==i._$AP&&(t=e._$AU)!==n._$AU&&i._$AP(t)}if(t!==s||o){let e=i._$AA;for(;e!==t;){const t=e.nextSibling;r.insertBefore(e,s),e=t}}}return i},l=(e,t,i=e)=>(e._$AI(t,i),e),c={},u=(e,t=c)=>e._$AH=t,h=e=>e._$AH,d=e=>{e._$AR(),e._$AA.remove()}},31926:(e,t,i)=>{"use strict";i.d(t,{OA:()=>r,WL:()=>s,u$:()=>n});const r={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},n=e=>(...t)=>({_$litDirective$:e,values:t});class s{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}},35470:(e,t,i)=>{"use strict";i.d(t,{V:()=>o});var r=i(54714),n=i(31926),s=i(15290);const o=(0,n.u$)(class extends n.WL{constructor(e){if(super(e),e.type!==n.OA.PROPERTY&&e.type!==n.OA.ATTRIBUTE&&e.type!==n.OA.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!(0,s.Rt)(e))throw Error("`live` bindings can only contain a single expression")}render(e){return e}update(e,[t]){if(t===r.c0||t===r.s6)return t;const i=e.element,o=e.name;if(e.type===n.OA.PROPERTY){if(t===i[o])return r.c0}else if(e.type===n.OA.BOOLEAN_ATTRIBUTE){if(!!t===i.hasAttribute(o))return r.c0}else if(e.type===n.OA.ATTRIBUTE&&i.getAttribute(o)===t+"")return r.c0;return(0,s.mY)(e),t}})},54714:(e,t,i)=>{"use strict";i.d(t,{JW:()=>T,XX:()=>V,c0:()=>x,ej:()=>E,ge:()=>z,qy:()=>S,s6:()=>P});const r=globalThis,n=r.trustedTypes,s=n?n.createPolicy("lit-html",{createHTML:e=>e}):void 0,o="$lit$",a=`lit$${Math.random().toFixed(9).slice(2)}$`,l="?"+a,c=`<${l}>`,u=document,h=()=>u.createComment(""),d=e=>null===e||"object"!=typeof e&&"function"!=typeof e,p=Array.isArray,f=e=>p(e)||"function"==typeof e?.[Symbol.iterator],m="[ \t\n\f\r]",y=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,g=/-->/g,_=/>/g,v=RegExp(`>|${m}(?:([^\\s"'>=/]+)(${m}*=${m}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),w=/'/g,b=/"/g,M=/^(?:script|style|textarea|title)$/i,A=e=>(t,...i)=>({_$litType$:e,strings:t,values:i}),S=A(1),T=A(2),E=A(3),x=Symbol.for("lit-noChange"),P=Symbol.for("lit-nothing"),C=new WeakMap,I=u.createTreeWalker(u,129);function O(e,t){if(!p(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==s?s.createHTML(t):t}const R=(e,t)=>{const i=e.length-1,r=[];let n,s=2===t?"<svg>":3===t?"<math>":"",l=y;for(let u=0;u<i;u++){const t=e[u];let i,h,d=-1,p=0;for(;p<t.length&&(l.lastIndex=p,h=l.exec(t),null!==h);)p=l.lastIndex,l===y?"!--"===h[1]?l=g:void 0!==h[1]?l=_:void 0!==h[2]?(M.test(h[2])&&(n=RegExp("</"+h[2],"g")),l=v):void 0!==h[3]&&(l=v):l===v?">"===h[0]?(l=n??y,d=-1):void 0===h[1]?d=-2:(d=l.lastIndex-h[2].length,i=h[1],l=void 0===h[3]?v:'"'===h[3]?b:w):l===b||l===w?l=v:l===g||l===_?l=y:(l=v,n=void 0);const f=l===v&&e[u+1].startsWith("/>")?" ":"";s+=l===y?t+c:d>=0?(r.push(i),t.slice(0,d)+o+t.slice(d)+a+f):t+a+(-2===d?u:f)}return[O(e,s+(e[i]||"<?>")+(2===t?"</svg>":3===t?"</math>":"")),r]};class N{constructor({strings:e,_$litType$:t},i){let r;this.parts=[];let s=0,c=0;const u=e.length-1,d=this.parts,[p,f]=R(e,t);if(this.el=N.createElement(p,i),I.currentNode=this.el.content,2===t||3===t){const e=this.el.content.firstChild;e.replaceWith(...e.childNodes)}for(;null!==(r=I.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const e of r.getAttributeNames())if(e.endsWith(o)){const t=f[c++],i=r.getAttribute(e).split(a),n=/([.?@])?(.*)/.exec(t);d.push({type:1,index:s,name:n[2],strings:i,ctor:"."===n[1]?F:"?"===n[1]?U:"@"===n[1]?j:Z}),r.removeAttribute(e)}else e.startsWith(a)&&(d.push({type:6,index:s}),r.removeAttribute(e));if(M.test(r.tagName)){const e=r.textContent.split(a),t=e.length-1;if(t>0){r.textContent=n?n.emptyScript:"";for(let i=0;i<t;i++)r.append(e[i],h()),I.nextNode(),d.push({type:2,index:++s});r.append(e[t],h())}}}else if(8===r.nodeType)if(r.data===l)d.push({type:2,index:s});else{let e=-1;for(;-1!==(e=r.data.indexOf(a,e+1));)d.push({type:7,index:s}),e+=a.length-1}s++}}static createElement(e,t){const i=u.createElement("template");return i.innerHTML=e,i}}function k(e,t,i=e,r){if(t===x)return t;let n=void 0!==r?i._$Co?.[r]:i._$Cl;const s=d(t)?void 0:t._$litDirective$;return n?.constructor!==s&&(n?._$AO?.(!1),void 0===s?n=void 0:(n=new s(e),n._$AT(e,i,r)),void 0!==r?(i._$Co??=[])[r]=n:i._$Cl=n),void 0!==n&&(t=k(e,n._$AS(e,t.values),n,r)),t}class L{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,r=(e?.creationScope??u).importNode(t,!0);I.currentNode=r;let n=I.nextNode(),s=0,o=0,a=i[0];for(;void 0!==a;){if(s===a.index){let t;2===a.type?t=new D(n,n.nextSibling,this,e):1===a.type?t=new a.ctor(n,a.name,a.strings,this,e):6===a.type&&(t=new G(n,this,e)),this._$AV.push(t),a=i[++o]}s!==a?.index&&(n=I.nextNode(),s++)}return I.currentNode=u,r}p(e){let t=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class D{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,i,r){this.type=2,this._$AH=P,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return void 0!==t&&11===e?.nodeType&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=k(this,e,t),d(e)?e===P||null==e||""===e?(this._$AH!==P&&this._$AR(),this._$AH=P):e!==this._$AH&&e!==x&&this._(e):void 0!==e._$litType$?this.$(e):void 0!==e.nodeType?this.T(e):f(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==P&&d(this._$AH)?this._$AA.nextSibling.data=e:this.T(u.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:i}=e,r="number"==typeof i?this._$AC(e):(void 0===i.el&&(i.el=N.createElement(O(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(t);else{const e=new L(r,this),i=e.u(this.options);e.p(t),this.T(i),this._$AH=e}}_$AC(e){let t=C.get(e.strings);return void 0===t&&C.set(e.strings,t=new N(e)),t}k(e){p(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,r=0;for(const n of e)r===t.length?t.push(i=new D(this.O(h()),this.O(h()),this,this.options)):i=t[r],i._$AI(n),r++;r<t.length&&(this._$AR(i&&i._$AB.nextSibling,r),t.length=r)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const t=e.nextSibling;e.remove(),e=t}}setConnected(e){void 0===this._$AM&&(this._$Cv=e,this._$AP?.(e))}}class Z{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,r,n){this.type=1,this._$AH=P,this._$AN=void 0,this.element=e,this.name=t,this._$AM=r,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=P}_$AI(e,t=this,i,r){const n=this.strings;let s=!1;if(void 0===n)e=k(this,e,t,0),s=!d(e)||e!==this._$AH&&e!==x,s&&(this._$AH=e);else{const r=e;let o,a;for(e=n[0],o=0;o<n.length-1;o++)a=k(this,r[i+o],t,o),a===x&&(a=this._$AH[o]),s||=!d(a)||a!==this._$AH[o],a===P?e=P:e!==P&&(e+=(a??"")+n[o+1]),this._$AH[o]=a}s&&!r&&this.j(e)}j(e){e===P?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class F extends Z{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===P?void 0:e}}class U extends Z{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==P)}}class j extends Z{constructor(e,t,i,r,n){super(e,t,i,r,n),this.type=5}_$AI(e,t=this){if((e=k(this,e,t,0)??P)===x)return;const i=this._$AH,r=e===P&&i!==P||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,n=e!==P&&(i===P||r);r&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class G{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){k(this,e)}}const z={M:o,P:a,A:l,C:1,L:R,R:L,D:f,V:k,I:D,H:Z,N:U,U:j,B:F,F:G},$=r.litHtmlPolyfillSupport;$?.(N,D),(r.litHtmlVersions??=[]).push("3.3.1");const V=(e,t,i)=>{const r=i?.renderBefore??t;let n=r._$litPart$;if(void 0===n){const e=i?.renderBefore??null;r._$litPart$=n=new D(t.insertBefore(h(),e),e,void 0,i??{})}return n._$AI(e),n}},41331:(e,t,i)=>{"use strict";i.d(t,{WF:()=>o,qy:()=>n.qy,S$:()=>l,Ec:()=>r.Ec,s6:()=>n.s6,JW:()=>n.JW});var r=i(48618),n=i(54714);const s=globalThis;class o extends r.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=(0,n.XX)(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return n.c0}}o._$litElement$=!0,o.finalized=!0,s.litElementHydrateSupport?.({LitElement:o});const a=s.litElementPolyfillSupport;a?.({LitElement:o});(s.litElementVersions??=[]).push("4.2.1");const l=!1},34495:(e,t,i)=>{"use strict";i.d(t,{c9:()=>yr,mQ:()=>se,oh:()=>z,bo:()=>D});class r extends Error{}class n extends r{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class s extends r{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class o extends r{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class a extends r{}class l extends r{constructor(e){super(`Invalid unit ${e}`)}}class c extends r{}class u extends r{constructor(){super("Zone is an abstract class")}}const h="numeric",d="short",p="long",f={year:h,month:h,day:h},m={year:h,month:d,day:h},y={year:h,month:d,day:h,weekday:d},g={year:h,month:p,day:h},_={year:h,month:p,day:h,weekday:p},v={hour:h,minute:h},w={hour:h,minute:h,second:h},b={hour:h,minute:h,second:h,timeZoneName:d},M={hour:h,minute:h,second:h,timeZoneName:p},A={hour:h,minute:h,hourCycle:"h23"},S={hour:h,minute:h,second:h,hourCycle:"h23"},T={hour:h,minute:h,second:h,hourCycle:"h23",timeZoneName:d},E={hour:h,minute:h,second:h,hourCycle:"h23",timeZoneName:p},x={year:h,month:h,day:h,hour:h,minute:h},P={year:h,month:h,day:h,hour:h,minute:h,second:h},C={year:h,month:d,day:h,hour:h,minute:h},I={year:h,month:d,day:h,hour:h,minute:h,second:h},O={year:h,month:d,day:h,weekday:d,hour:h,minute:h},R={year:h,month:p,day:h,hour:h,minute:h,timeZoneName:d},N={year:h,month:p,day:h,hour:h,minute:h,second:h,timeZoneName:d},k={year:h,month:p,day:h,weekday:p,hour:h,minute:h,timeZoneName:p},L={year:h,month:p,day:h,weekday:p,hour:h,minute:h,second:h,timeZoneName:p};class D{get type(){throw new u}get name(){throw new u}get ianaName(){return this.name}get isUniversal(){throw new u}offsetName(e,t){throw new u}formatOffset(e,t){throw new u}offset(e){throw new u}equals(e){throw new u}get isValid(){throw new u}}let Z=null;class F extends D{static get instance(){return null===Z&&(Z=new F),Z}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return nt(e,t,i)}formatOffset(e,t){return lt(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}const U=new Map;const j={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};const G=new Map;class z extends D{static create(e){let t=G.get(e);return void 0===t&&G.set(e,t=new z(e)),t}static resetCache(){G.clear(),U.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=z.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return nt(e,t,i,this.name)}formatOffset(e,t){return lt(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const i=function(e){let t=U.get(e);return void 0===t&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),U.set(e,t)),t}(this.name);let[r,n,s,o,a,l,c]=i.formatToParts?function(e,t){const i=e.formatToParts(t),r=[];for(let n=0;n<i.length;n++){const{type:e,value:t}=i[n],s=j[e];"era"===e?r[s]=t:Ze(s)||(r[s]=parseInt(t,10))}return r}(i,t):function(e,t){const i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,n,s,o,a,l,c,u]=r;return[o,n,s,a,l,c,u]}(i,t);"BC"===o&&(r=1-Math.abs(r));let u=+t;const h=u%1e3;return u-=h>=0?h:1e3+h,(et({year:r,month:n,day:s,hour:24===a?0:a,minute:l,second:c,millisecond:0})-u)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let $={};const V=new Map;function B(e,t={}){const i=JSON.stringify([e,t]);let r=V.get(i);return void 0===r&&(r=new Intl.DateTimeFormat(e,t),V.set(i,r)),r}const q=new Map;const H=new Map;let W=null;const J=new Map;function K(e){let t=J.get(e);return void 0===t&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),J.set(e,t)),t}const Y=new Map;function X(e,t,i,r){const n=e.listingMode();return"error"===n?null:"en"===n?i(t):r(t)}class Q{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:n,...s}=i;if(!t||Object.keys(s).length>0){const t={useGrouping:!1,...i};i.padTo>0&&(t.minimumIntegerDigits=i.padTo),this.inf=function(e,t={}){const i=JSON.stringify([e,t]);let r=q.get(i);return void 0===r&&(r=new Intl.NumberFormat(e,t),q.set(i,r)),r}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return qe(this.floor?Math.floor(e):Ke(e,3),this.padTo)}}class ee{constructor(e,t,i){let r;if(this.opts=i,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,i=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&z.create(i).valid?(r=i,this.dt=e):(r="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const n={...this.opts};n.timeZone=n.timeZone||r,this.dtf=B(t,n)}format(){return this.originalZone?this.formatToParts().map((({value:e})=>e)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class te{constructor(e,t,i){this.opts={style:"long",...i},!t&&je()&&(this.rtf=function(e,t={}){const{base:i,...r}=t,n=JSON.stringify([e,r]);let s=H.get(n);return void 0===s&&(s=new Intl.RelativeTimeFormat(e,t),H.set(n,s)),s}(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,i="always",r=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===i&&s){const i="days"===e;switch(t){case 1:return i?"tomorrow":`next ${n[e][0]}`;case-1:return i?"yesterday":`last ${n[e][0]}`;case 0:return i?"today":`this ${n[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=1===a,c=n[e],u=r?l?c[1]:c[2]||c[1]:l?n[e][0]:e;return o?`${a} ${u} ago`:`in ${a} ${u}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ie={firstDay:1,minimalDays:4,weekend:[6,7]};class re{static fromOpts(e){return re.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,i,r,n=!1){const s=e||be.defaultLocale,o=s||(n?"en-US":W||(W=(new Intl.DateTimeFormat).resolvedOptions().locale,W)),a=t||be.defaultNumberingSystem,l=i||be.defaultOutputCalendar,c=Ve(r)||be.defaultWeekSettings;return new re(o,a,l,c,s)}static resetCache(){W=null,V.clear(),q.clear(),H.clear(),J.clear(),Y.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:i,weekSettings:r}={}){return re.create(e,t,i,r)}constructor(e,t,i,r,n){const[s,o,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(-1===i)return[e];{let t,n;try{t=B(e).resolvedOptions(),n=e}catch(r){const s=e.substring(0,i);t=B(s).resolvedOptions(),n=s}const{numberingSystem:s,calendar:o}=t;return[n,s,o]}}(e);this.locale=s,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.weekSettings=r,this.intl=function(e,t,i){return i||t?(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===K(e.locale).numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?re.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Ve(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return X(this,e,pt,(()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=function(e){const t=[];for(let i=1;i<=12;i++){const r=yr.utc(2009,i,1);t.push(e(r))}return t}((e=>this.extract(e,i,"month")))),this.monthsCache[r][e]}))}weekdays(e,t=!1){return X(this,e,gt,(()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=function(e){const t=[];for(let i=1;i<=7;i++){const r=yr.utc(2016,11,13+i);t.push(e(r))}return t}((e=>this.extract(e,i,"weekday")))),this.weekdaysCache[r][e]}))}meridiems(){return X(this,void 0,(()=>_t),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[yr.utc(2016,11,13,9),yr.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return X(this,e,Mt,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[yr.utc(-40,1,1),yr.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,i){const r=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===i));return r?r.value:null}numberFormatter(e={}){return new Q(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new ee(e,this.intl,t)}relFormatter(e={}){return new te(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const i=JSON.stringify([e,t]);let r=$[i];return r||(r=new Intl.ListFormat(e,t),$[i]=r),r}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||K(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ge()?function(e){let t=Y.get(e);if(!t){const i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in t||(t={...ie,...t}),Y.set(e,t)}return t}(this.locale):ie}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let ne=null;class se extends D{static get utcInstance(){return null===ne&&(ne=new se(0)),ne}static instance(e){return 0===e?se.utcInstance:new se(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new se(st(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${lt(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${lt(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return lt(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class oe extends D{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ae(e,t){if(Ze(e)||null===e)return t;if(e instanceof D)return e;if(function(e){return"string"==typeof e}(e)){const i=e.toLowerCase();return"default"===i?t:"local"===i||"system"===i?F.instance:"utc"===i||"gmt"===i?se.utcInstance:se.parseSpecifier(i)||z.create(e)}return Fe(e)?se.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new oe(e)}const le={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},ce={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},ue=le.hanidec.replace(/[\[|\]]/g,"").split("");const he=new Map;function de({numberingSystem:e},t=""){const i=e||"latn";let r=he.get(i);void 0===r&&(r=new Map,he.set(i,r));let n=r.get(t);return void 0===n&&(n=new RegExp(`${le[i]}${t}`),r.set(t,n)),n}let pe,fe=()=>Date.now(),me="system",ye=null,ge=null,_e=null,ve=60,we=null;class be{static get now(){return fe}static set now(e){fe=e}static set defaultZone(e){me=e}static get defaultZone(){return ae(me,F.instance)}static get defaultLocale(){return ye}static set defaultLocale(e){ye=e}static get defaultNumberingSystem(){return ge}static set defaultNumberingSystem(e){ge=e}static get defaultOutputCalendar(){return _e}static set defaultOutputCalendar(e){_e=e}static get defaultWeekSettings(){return we}static set defaultWeekSettings(e){we=Ve(e)}static get twoDigitCutoffYear(){return ve}static set twoDigitCutoffYear(e){ve=e%100}static get throwOnInvalid(){return pe}static set throwOnInvalid(e){pe=e}static resetCaches(){re.resetCache(),z.resetCache(),yr.resetCache(),he.clear()}}class Me{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ae=[0,31,59,90,120,151,181,212,243,273,304,334],Se=[0,31,60,91,121,152,182,213,244,274,305,335];function Te(e,t){return new Me("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function Ee(e,t,i){const r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const n=r.getUTCDay();return 0===n?7:n}function xe(e,t,i){return i+(Ye(e)?Se:Ae)[t-1]}function Pe(e,t){const i=Ye(e)?Se:Ae,r=i.findIndex((e=>e<t));return{month:r+1,day:t-i[r]}}function Ce(e,t){return(e-t+7)%7+1}function Ie(e,t=4,i=1){const{year:r,month:n,day:s}=e,o=xe(r,n,s),a=Ce(Ee(r,n,s),i);let l,c=Math.floor((o-a+14-t)/7);return c<1?(l=r-1,c=it(l,t,i)):c>it(r,t,i)?(l=r+1,c=1):l=r,{weekYear:l,weekNumber:c,weekday:a,...ct(e)}}function Oe(e,t=4,i=1){const{weekYear:r,weekNumber:n,weekday:s}=e,o=Ce(Ee(r,1,t),i),a=Xe(r);let l,c=7*n+s-o-7+t;c<1?(l=r-1,c+=Xe(l)):c>a?(l=r+1,c-=Xe(r)):l=r;const{month:u,day:h}=Pe(l,c);return{year:l,month:u,day:h,...ct(e)}}function Re(e){const{year:t,month:i,day:r}=e;return{year:t,ordinal:xe(t,i,r),...ct(e)}}function Ne(e){const{year:t,ordinal:i}=e,{month:r,day:n}=Pe(t,i);return{year:t,month:r,day:n,...ct(e)}}function ke(e,t){if(!Ze(e.localWeekday)||!Ze(e.localWeekNumber)||!Ze(e.localWeekYear)){if(!Ze(e.weekday)||!Ze(e.weekNumber)||!Ze(e.weekYear))throw new a("Cannot mix locale-based week fields with ISO-based week fields");return Ze(e.localWeekday)||(e.weekday=e.localWeekday),Ze(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Ze(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Le(e){const t=Ue(e.year),i=Be(e.month,1,12),r=Be(e.day,1,Qe(e.year,e.month));return t?i?!r&&Te("day",e.day):Te("month",e.month):Te("year",e.year)}function De(e){const{hour:t,minute:i,second:r,millisecond:n}=e,s=Be(t,0,23)||24===t&&0===i&&0===r&&0===n,o=Be(i,0,59),a=Be(r,0,59),l=Be(n,0,999);return s?o?a?!l&&Te("millisecond",n):Te("second",r):Te("minute",i):Te("hour",t)}function Ze(e){return void 0===e}function Fe(e){return"number"==typeof e}function Ue(e){return"number"==typeof e&&e%1==0}function je(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function Ge(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function ze(e,t,i){if(0!==e.length)return e.reduce(((e,r)=>{const n=[t(r),r];return e&&i(e[0],n[0])===e[0]?e:n}),null)[1]}function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ve(e){if(null==e)return null;if("object"!=typeof e)throw new c("Week settings must be an object");if(!Be(e.firstDay,1,7)||!Be(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((e=>!Be(e,1,7))))throw new c("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Be(e,t,i){return Ue(e)&&e>=t&&e<=i}function qe(e,t=2){let i;return i=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),i}function He(e){return Ze(e)||null===e||""===e?void 0:parseInt(e,10)}function We(e){return Ze(e)||null===e||""===e?void 0:parseFloat(e)}function Je(e){if(!Ze(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ke(e,t,i=!1){const r=10**t;return(i?Math.trunc:Math.round)(e*r)/r}function Ye(e){return e%4==0&&(e%100!=0||e%400==0)}function Xe(e){return Ye(e)?366:365}function Qe(e,t){const i=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===i?Ye(e+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function et(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function tt(e,t,i){return-Ce(Ee(e,1,t),i)+t-1}function it(e,t=4,i=1){const r=tt(e,t,i),n=tt(e+1,t,i);return(Xe(e)-r+n)/7}function rt(e){return e>99?e:e>be.twoDigitCutoffYear?1900+e:2e3+e}function nt(e,t,i,r=null){const n=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(i,o).formatToParts(n).find((e=>"timezonename"===e.type.toLowerCase()));return a?a.value:null}function st(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const r=parseInt(t,10)||0;return 60*i+(i<0||Object.is(i,-0)?-r:r)}function ot(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new c(`Invalid unit value ${e}`);return t}function at(e,t){const i={};for(const r in e)if($e(e,r)){const n=e[r];if(null==n)continue;i[t(r)]=ot(n)}return i}function lt(e,t){const i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${qe(i,2)}:${qe(r,2)}`;case"narrow":return`${n}${i}${r>0?`:${r}`:""}`;case"techie":return`${n}${qe(i,2)}${qe(r,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function ct(e){return function(e,t){return t.reduce(((t,i)=>(t[i]=e[i],t)),{})}(e,["hour","minute","second","millisecond"])}const ut=["January","February","March","April","May","June","July","August","September","October","November","December"],ht=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dt=["J","F","M","A","M","J","J","A","S","O","N","D"];function pt(e){switch(e){case"narrow":return[...dt];case"short":return[...ht];case"long":return[...ut];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ft=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],mt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],yt=["M","T","W","T","F","S","S"];function gt(e){switch(e){case"narrow":return[...yt];case"short":return[...mt];case"long":return[...ft];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const _t=["AM","PM"],vt=["Before Christ","Anno Domini"],wt=["BC","AD"],bt=["B","A"];function Mt(e){switch(e){case"narrow":return[...bt];case"short":return[...wt];case"long":return[...vt];default:return null}}function At(e,t){let i="";for(const r of e)r.literal?i+=r.val:i+=t(r.val);return i}const St={D:f,DD:m,DDD:g,DDDD:_,t:v,tt:w,ttt:b,tttt:M,T:A,TT:S,TTT:T,TTTT:E,f:x,ff:C,fff:R,ffff:k,F:P,FF:I,FFF:N,FFFF:L};class Tt{static create(e,t={}){return new Tt(e,t)}static parseFormat(e){let t=null,i="",r=!1;const n=[];for(let s=0;s<e.length;s++){const o=e.charAt(s);"'"===o?(i.length>0&&n.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||o===t?i+=o:(i.length>0&&n.push({literal:/^\s+$/.test(i),val:i}),i=o,t=o)}return i.length>0&&n.push({literal:r||/^\s+$/.test(i),val:i}),n}static macroTokenToFormatOpts(e){return St[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return qe(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i="en"===this.loc.listingMode(),r=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,n=(t,i)=>this.loc.extract(e,t,i),s=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",o=()=>i?function(e){return _t[e.hour<12?0:1]}(e):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(t,r)=>i?function(e,t){return pt(t)[e.month-1]}(e,t):n(r?{month:t}:{month:t,day:"numeric"},"month"),l=(t,r)=>i?function(e,t){return gt(t)[e.weekday-1]}(e,t):n(r?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const i=Tt.macroTokenToFormatOpts(t);return i?this.formatWithSystemDefault(e,i):t},u=t=>i?function(e,t){return Mt(t)[e.year<0?0:1]}(e,t):n({era:t},"era");return At(Tt.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return r?n({day:"numeric"},"day"):this.num(e.day);case"dd":return r?n({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return r?n({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?n({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return r?n({month:"numeric"},"month"):this.num(e.month);case"MM":return r?n({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return r?n({year:"numeric"},"year"):this.num(e.year);case"yy":return r?n({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?n({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?n({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const i=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=Tt.parseFormat(t),n=r.reduce(((e,{literal:t,val:i})=>t?e:e.concat(i)),[]);return At(r,(e=>t=>{const r=i(t);return r?this.num(e.get(r),t.length):t})(e.shiftTo(...n.map(i).filter((e=>e)))))}}const Et=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function xt(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function Pt(...e){return t=>e.reduce((([e,i,r],n)=>{const[s,o,a]=n(t,r);return[{...e,...s},o||i,a]}),[{},null,1]).slice(0,2)}function Ct(e,...t){if(null==e)return[null,null];for(const[i,r]of t){const t=i.exec(e);if(t)return r(t)}return[null,null]}function It(...e){return(t,i)=>{const r={};let n;for(n=0;n<e.length;n++)r[e[n]]=He(t[i+n]);return[r,null,i+n]}}const Ot=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Rt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Nt=RegExp(`${Rt.source}${`(?:${Ot.source}?(?:\\[(${Et.source})\\])?)?`}`),kt=RegExp(`(?:T${Nt.source})?`),Lt=It("weekYear","weekNumber","weekDay"),Dt=It("year","ordinal"),Zt=RegExp(`${Rt.source} ?(?:${Ot.source}|(${Et.source}))?`),Ft=RegExp(`(?: ${Zt.source})?`);function Ut(e,t,i){const r=e[t];return Ze(r)?i:He(r)}function jt(e,t){return[{hours:Ut(e,t,0),minutes:Ut(e,t+1,0),seconds:Ut(e,t+2,0),milliseconds:Je(e[t+3])},null,t+4]}function Gt(e,t){const i=!e[t]&&!e[t+1],r=st(e[t+1],e[t+2]);return[{},i?null:se.instance(r),t+3]}function zt(e,t){return[{},e[t]?z.create(e[t]):null,t+1]}const $t=RegExp(`^T?${Rt.source}$`),Vt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Bt(e){const[t,i,r,n,s,o,a,l,c]=e,u="-"===t[0],h=l&&"-"===l[0],d=(e,t=!1)=>void 0!==e&&(t||e&&u)?-e:e;return[{years:d(We(i)),months:d(We(r)),weeks:d(We(n)),days:d(We(s)),hours:d(We(o)),minutes:d(We(a)),seconds:d(We(l),"-0"===l),milliseconds:d(Je(c),h)}]}const qt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ht(e,t,i,r,n,s,o){const a={year:2===t.length?rt(He(t)):He(t),month:ht.indexOf(i)+1,day:He(r),hour:He(n),minute:He(s)};return o&&(a.second=He(o)),e&&(a.weekday=e.length>3?ft.indexOf(e)+1:mt.indexOf(e)+1),a}const Wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Jt(e){const[,t,i,r,n,s,o,a,l,c,u,h]=e,d=Ht(t,n,r,i,s,o,a);let p;return p=l?qt[l]:c?0:st(u,h),[d,new se(p)]}const Kt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Yt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Xt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Qt(e){const[,t,i,r,n,s,o,a]=e;return[Ht(t,n,r,i,s,o,a),se.utcInstance]}function ei(e){const[,t,i,r,n,s,o,a]=e;return[Ht(t,a,i,r,n,s,o),se.utcInstance]}const ti=xt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,kt),ii=xt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,kt),ri=xt(/(\d{4})-?(\d{3})/,kt),ni=xt(Nt),si=Pt((function(e,t){return[{year:Ut(e,t),month:Ut(e,t+1,1),day:Ut(e,t+2,1)},null,t+3]}),jt,Gt,zt),oi=Pt(Lt,jt,Gt,zt),ai=Pt(Dt,jt,Gt,zt),li=Pt(jt,Gt,zt);const ci=Pt(jt);const ui=xt(/(\d{4})-(\d\d)-(\d\d)/,Ft),hi=xt(Zt),di=Pt(jt,Gt,zt);const pi="Invalid Duration",fi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},mi={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...fi},yi=365.2425,gi=30.436875,_i={years:{quarters:4,months:12,weeks:52.1775,days:yi,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:gi,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...fi},vi=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],wi=vi.slice(0).reverse();function bi(e,t,i=!1){const r={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Si(r)}function Mi(e,t){let i=t.milliseconds??0;for(const r of wi.slice(1))t[r]&&(i+=t[r]*e[r].milliseconds);return i}function Ai(e,t){const i=Mi(e,t)<0?-1:1;vi.reduceRight(((r,n)=>{if(Ze(t[n]))return r;if(r){const s=t[r]*i,o=e[n][r],a=Math.floor(s/o);t[n]+=a*i,t[r]-=a*o*i}return n}),null),vi.reduce(((i,r)=>{if(Ze(t[r]))return i;if(i){const n=t[i]%1;t[i]-=n,t[r]+=n*e[i][r]}return r}),null)}class Si{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let i=t?_i:mi;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||re.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Si.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new c("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new Si({values:at(e,Si.normalizeUnit),loc:re.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Fe(e))return Si.fromMillis(e);if(Si.isDuration(e))return e;if("object"==typeof e)return Si.fromObject(e);throw new c(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=function(e){return Ct(e,[Vt,Bt])}(e);return i?Si.fromObject(i,t):Si.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=function(e){return Ct(e,[$t,ci])}(e);return i?Si.fromObject(i,t):Si.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the Duration is invalid");const i=e instanceof Me?e:new Me(e,t);if(be.throwOnInvalid)throw new o(i);return new Si({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new l(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?Tt.create(this.loc,i).formatDurationFromString(this,e):pi}toHuman(e={}){if(!this.isValid)return pi;const t=vi.map((t=>{const i=this.values[t];return Ze(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(i)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ke(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1};return yr.fromMillis(t,{zone:"UTC"}).toISOTime(e)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Mi(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Si.fromDurationLike(e),i={};for(const r of vi)($e(t.values,r)||$e(this.values,r))&&(i[r]=t.get(r)+this.get(r));return bi(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Si.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=ot(e(this.values[i],i));return bi(this,{values:t},!0)}get(e){return this[Si.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return bi(this,{values:{...this.values,...at(e,Si.normalizeUnit)}})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){return bi(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ai(this.matrix,e),bi(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return bi(this,{values:function(e){const t={};for(const[i,r]of Object.entries(e))0!==r&&(t[i]=r);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>Si.normalizeUnit(e)));const t={},i={},r=this.toObject();let n;for(const s of vi)if(e.indexOf(s)>=0){n=s;let e=0;for(const t in i)e+=this.matrix[t][s]*i[t],i[t]=0;Fe(r[s])&&(e+=r[s]);const o=Math.trunc(e);t[s]=o,i[s]=(1e3*e-1e3*o)/1e3}else Fe(r[s])&&(i[s]=r[s]);for(const s in i)0!==i[s]&&(t[n]+=s===n?i[s]:i[s]/this.matrix[n][s]);return Ai(this.matrix,t),bi(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return bi(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const r of vi)if(t=this.values[r],i=e.values[r],!(void 0===t||0===t?void 0===i||0===i:t===i))return!1;var t,i;return!0}}const Ti="Invalid Interval";class Ei{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the Interval is invalid");const i=e instanceof Me?e:new Me(e,t);if(be.throwOnInvalid)throw new s(i);return new Ei({invalid:i})}static fromDateTimes(e,t){const i=gr(e),r=gr(t),n=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Ei.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Ei.invalid("missing or invalid end"):Ei.invalid("missing or invalid start")}(i,r);return null==n?new Ei({start:i,end:r}):n}static after(e,t){const i=Si.fromDurationLike(t),r=gr(e);return Ei.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Si.fromDurationLike(t),r=gr(e);return Ei.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let e,n,s,o;try{e=yr.fromISO(i,t),n=e.isValid}catch(r){n=!1}try{s=yr.fromISO(r,t),o=s.isValid}catch(r){o=!1}if(n&&o)return Ei.fromDateTimes(e,s);if(n){const i=Si.fromISO(r,t);if(i.isValid)return Ei.after(e,i)}else if(o){const e=Si.fromISO(i,t);if(e.isValid)return Ei.before(s,e)}}return Ei.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const i=this.start.startOf(e,t);let r;return r=t?.useLocaleWeeks?this.end.reconfigure({locale:i.locale}):this.end,r=r.startOf(e,t),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?Ei.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(gr).filter((e=>this.contains(e))).sort(((e,t)=>e.toMillis()-t.toMillis())),i=[];let{s:r}=this,n=0;for(;r<this.e;){const e=t[n]||this.e,s=+e>+this.e?this.e:e;i.push(Ei.fromDateTimes(r,s)),r=s,n+=1}return i}splitBy(e){const t=Si.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let i,{s:r}=this,n=1;const s=[];for(;r<this.e;){const e=this.start.plus(t.mapUnits((e=>e*n)));i=+e>+this.e?this.e:e,s.push(Ei.fromDateTimes(r,i)),r=i,n+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:Ei.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return Ei.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],i)=>t?t.overlaps(i)||t.abutsStart(i)?[e,t.union(i)]:[e.concat([t]),i]:[e,i]),[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],n=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),s=Array.prototype.concat(...n).sort(((e,t)=>e.time-t.time));for(const o of s)i+="s"===o.type?1:-1,1===i?t=o.time:(t&&+t!=+o.time&&r.push(Ei.fromDateTimes(t,o.time)),t=null);return Ei.merge(r)}difference(...e){return Ei.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Ti}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=f,t={}){return this.isValid?Tt.create(this.s.loc.clone(t),e).formatInterval(this):Ti}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ti}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ti}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ti}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Ti}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Si.invalid(this.invalidReason)}mapEndpoints(e){return Ei.fromDateTimes(e(this.s),e(this.e))}}class xi{static hasDST(e=be.defaultZone){const t=yr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return z.isValidZone(e)}static normalizeZone(e){return ae(e,be.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||re.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:n="gregory"}={}){return(r||re.create(t,i,n)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:n="gregory"}={}){return(r||re.create(t,i,n)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||re.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||re.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return re.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return re.create(t,null,"gregory").eras(e)}static features(){return{relative:je(),localeWeek:Ge()}}}function Pi(e,t){const i=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(t)-i(e);return Math.floor(Si.fromMillis(r).as("days"))}function Ci(e,t,i,r){let[n,s,o,a]=function(e,t,i){const r=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const i=Pi(e,t);return(i-i%7)/7}],["days",Pi]],n={},s=e;let o,a;for(const[l,c]of r)i.indexOf(l)>=0&&(o=l,n[l]=c(e,t),a=s.plus(n),a>t?(n[l]--,(e=s.plus(n))>t&&(a=e,n[l]--,e=s.plus(n))):e=a);return[e,n,a,o]}(e,t,i);const l=t-n,c=i.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(o<t&&(o=n.plus({[a]:1})),o!==n&&(s[a]=(s[a]||0)+l/(o-n)));const u=Si.fromObject(s,r);return c.length>0?Si.fromMillis(l,r).shiftTo(...c).plus(u):u}function Ii(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i);if(-1!==e[i].search(le.hanidec))t+=ue.indexOf(e[i]);else for(const e in ce){const[i,n]=ce[e];r>=i&&r<=n&&(t+=r-i)}}return parseInt(t,10)}return t}(e))}}const Oi=`[ ${String.fromCharCode(160)}]`,Ri=new RegExp(Oi,"g");function Ni(e){return e.replace(/\./g,"\\.?").replace(Ri,Oi)}function ki(e){return e.replace(/\./g,"").replace(Ri," ").toLowerCase()}function Li(e,t){return null===e?null:{regex:RegExp(e.map(Ni).join("|")),deser:([i])=>e.findIndex((e=>ki(i)===ki(e)))+t}}function Di(e,t){return{regex:e,deser:([,e,t])=>st(e,t),groups:t}}function Zi(e){return{regex:e,deser:([e])=>e}}const Fi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Ui=null;function ji(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const i=$i(Tt.macroTokenToFormatOpts(e.val),t);return null==i||i.includes(void 0)?e:i}(e,t))))}class Gi{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=ji(Tt.parseFormat(t),e),this.units=this.tokens.map((t=>function(e,t){const i=de(t),r=de(t,"{2}"),n=de(t,"{3}"),s=de(t,"{4}"),o=de(t,"{6}"),a=de(t,"{1,2}"),l=de(t,"{1,3}"),c=de(t,"{1,6}"),u=de(t,"{1,9}"),h=de(t,"{2,4}"),d=de(t,"{4,6}"),p=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},f=(f=>{if(e.literal)return p(f);switch(f.val){case"G":return Li(t.eras("short"),0);case"GG":return Li(t.eras("long"),0);case"y":return Ii(c);case"yy":case"kk":return Ii(h,rt);case"yyyy":case"kkkk":return Ii(s);case"yyyyy":return Ii(d);case"yyyyyy":return Ii(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ii(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ii(r);case"MMM":return Li(t.months("short",!0),1);case"MMMM":return Li(t.months("long",!0),1);case"LLL":return Li(t.months("short",!1),1);case"LLLL":return Li(t.months("long",!1),1);case"o":case"S":return Ii(l);case"ooo":case"SSS":return Ii(n);case"u":return Zi(u);case"uu":return Zi(a);case"uuu":case"E":case"c":return Ii(i);case"a":return Li(t.meridiems(),0);case"EEE":return Li(t.weekdays("short",!1),1);case"EEEE":return Li(t.weekdays("long",!1),1);case"ccc":return Li(t.weekdays("short",!0),1);case"cccc":return Li(t.weekdays("long",!0),1);case"Z":case"ZZ":return Di(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return Di(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return Zi(/[a-z_+-/]{1,256}?/i);case" ":return Zi(/[^\S\n\r]/);default:return p(f)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return f.token=e,f}(t,e))),this.disqualifyingUnit=this.units.find((e=>e.invalidReason)),!this.disqualifyingUnit){const[e,t]=[`^${(i=this.units).map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"")}$`,i];this.regex=RegExp(e,"i"),this.handlers=t}var i}explainFromTokens(e){if(this.isValid){const[t,i]=function(e,t,i){const r=e.match(t);if(r){const e={};let t=1;for(const n in i)if($e(i,n)){const s=i[n],o=s.groups?s.groups+1:1;!s.literal&&s.token&&(e[s.token.val[0]]=s.deser(r.slice(t,t+o))),t+=o}return[r,e]}return[r,{}]}(e,this.regex,this.handlers),[r,n,s]=i?function(e){let t,i=null;return Ze(e.z)||(i=z.create(e.z)),Ze(e.Z)||(i||(i=new se(e.Z)),t=e.Z),Ze(e.q)||(e.M=3*(e.q-1)+1),Ze(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Ze(e.u)||(e.S=Je(e.u)),[Object.keys(e).reduce(((t,i)=>{const r=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(i);return r&&(t[r]=e[i]),t}),{}),i,t]}(i):[null,null,void 0];if($e(i,"a")&&$e(i,"H"))throw new a("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:i,result:r,zone:n,specificOffset:s}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function zi(e,t,i){return new Gi(e,i).explainFromTokens(t)}function $i(e,t){if(!e)return null;const i=Tt.create(t,e).dtFormatter((Ui||(Ui=yr.fromMillis(1555555555555)),Ui)),r=i.formatToParts(),n=i.resolvedOptions();return r.map((t=>function(e,t,i){const{type:r,value:n}=e;if("literal"===r){const e=/^\s+$/.test(n);return{literal:!e,val:e?" ":n}}const s=t[r];let o=r;"hour"===r&&(o=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":i.hour12?"hour12":"hour24");let a=Fi[o];if("object"==typeof a&&(a=a[s]),a)return{literal:!1,val:a}}(t,e,n)))}const Vi="Invalid DateTime",Bi=864e13;function qi(e){return new Me("unsupported zone",`the zone "${e.name}" is not supported`)}function Hi(e){return null===e.weekData&&(e.weekData=Ie(e.c)),e.weekData}function Wi(e){return null===e.localWeekData&&(e.localWeekData=Ie(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Ji(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new yr({...i,...t,old:i})}function Ki(e,t,i){let r=e-60*t*1e3;const n=i.offset(r);if(t===n)return[r,t];r-=60*(n-t)*1e3;const s=i.offset(r);return n===s?[r,n]:[e-60*Math.min(n,s)*1e3,Math.max(n,s)]}function Yi(e,t){const i=new Date(e+=60*t*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Xi(e,t,i){return Ki(et(e),t,i)}function Qi(e,t){const i=e.o,r=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),s={...e.c,year:r,month:n,day:Math.min(e.c.day,Qe(r,n))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},o=Si.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=et(s);let[l,c]=Ki(a,i,e.zone);return 0!==o&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function er(e,t,i,r,n,s){const{setZone:o,zone:a}=i;if(e&&0!==Object.keys(e).length||t){const r=t||a,n=yr.fromObject(e,{...i,zone:r,specificOffset:s});return o?n:n.setZone(a)}return yr.invalid(new Me("unparsable",`the input "${n}" can't be parsed as ${r}`))}function tr(e,t,i=!0){return e.isValid?Tt.create(re.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function ir(e,t){const i=e.c.year>9999||e.c.year<0;let r="";return i&&e.c.year>=0&&(r+="+"),r+=qe(e.c.year,i?6:4),t?(r+="-",r+=qe(e.c.month),r+="-",r+=qe(e.c.day)):(r+=qe(e.c.month),r+=qe(e.c.day)),r}function rr(e,t,i,r,n,s){let o=qe(e.c.hour);return t?(o+=":",o+=qe(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(o+=":")):o+=qe(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(o+=qe(e.c.second),0===e.c.millisecond&&r||(o+=".",o+=qe(e.c.millisecond,3))),n&&(e.isOffsetFixed&&0===e.offset&&!s?o+="Z":e.o<0?(o+="-",o+=qe(Math.trunc(-e.o/60)),o+=":",o+=qe(Math.trunc(-e.o%60))):(o+="+",o+=qe(Math.trunc(e.o/60)),o+=":",o+=qe(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const nr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},sr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},or={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ar=["year","month","day","hour","minute","second","millisecond"],lr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],cr=["year","ordinal","hour","minute","second","millisecond"];function ur(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new l(e);return t}(e)}}function hr(e,t){const i=ae(t.zone,be.defaultZone);if(!i.isValid)return yr.invalid(qi(i));const r=re.fromObject(t);let n,s;if(Ze(e.year))n=be.now();else{for(const i of ar)Ze(e[i])&&(e[i]=nr[i]);const t=Le(e)||De(e);if(t)return yr.invalid(t);const r=function(e){if(void 0===fr&&(fr=be.now()),"iana"!==e.type)return e.offset(fr);const t=e.name;let i=mr.get(t);return void 0===i&&(i=e.offset(fr),mr.set(t,i)),i}(i);[n,s]=Xi(e,r,i)}return new yr({ts:n,zone:i,loc:r,o:s})}function dr(e,t,i){const r=!!Ze(i.round)||i.round,n=(e,n)=>{e=Ke(e,r||i.calendary?0:2,!0);return t.loc.clone(i).relFormatter(i).format(e,n)},s=r=>i.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(i.unit)return n(s(i.unit),i.unit);for(const o of i.units){const e=s(o);if(Math.abs(e)>=1)return n(e,o)}return n(e>t?-0:0,i.units[i.units.length-1])}function pr(e){let t,i={};return e.length>0&&"object"==typeof e[e.length-1]?(i=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[i,t]}let fr;const mr=new Map;class yr{constructor(e){const t=e.zone||be.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Me("invalid input"):null)||(t.isValid?null:qi(t));this.ts=Ze(e.ts)?be.now():e.ts;let r=null,n=null;if(!i){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,n]=[e.old.c,e.old.o];else{const s=Fe(e.o)&&!e.old?e.o:t.offset(this.ts);r=Yi(this.ts,s),i=Number.isNaN(r.year)?new Me("invalid input"):null,r=i?null:r,n=i?null:s}}this._zone=t,this.loc=e.loc||re.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=n,this.isLuxonDateTime=!0}static now(){return new yr({})}static local(){const[e,t]=pr(arguments),[i,r,n,s,o,a,l]=t;return hr({year:i,month:r,day:n,hour:s,minute:o,second:a,millisecond:l},e)}static utc(){const[e,t]=pr(arguments),[i,r,n,s,o,a,l]=t;return e.zone=se.utcInstance,hr({year:i,month:r,day:n,hour:s,minute:o,second:a,millisecond:l},e)}static fromJSDate(e,t={}){const i=function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e)?e.valueOf():NaN;if(Number.isNaN(i))return yr.invalid("invalid input");const r=ae(t.zone,be.defaultZone);return r.isValid?new yr({ts:i,zone:r,loc:re.fromObject(t)}):yr.invalid(qi(r))}static fromMillis(e,t={}){if(Fe(e))return e<-Bi||e>Bi?yr.invalid("Timestamp out of range"):new yr({ts:e,zone:ae(t.zone,be.defaultZone),loc:re.fromObject(t)});throw new c(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Fe(e))return new yr({ts:1e3*e,zone:ae(t.zone,be.defaultZone),loc:re.fromObject(t)});throw new c("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=ae(t.zone,be.defaultZone);if(!i.isValid)return yr.invalid(qi(i));const r=re.fromObject(t),n=at(e,ur),{minDaysInFirstWeek:s,startOfWeek:o}=ke(n,r),l=be.now(),c=Ze(t.specificOffset)?i.offset(l):t.specificOffset,u=!Ze(n.ordinal),h=!Ze(n.year),d=!Ze(n.month)||!Ze(n.day),p=h||d,f=n.weekYear||n.weekNumber;if((p||u)&&f)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&u)throw new a("Can't mix ordinal dates with month/day");const m=f||n.weekday&&!p;let y,g,_=Yi(l,c);m?(y=lr,g=sr,_=Ie(_,s,o)):u?(y=cr,g=or,_=Re(_)):(y=ar,g=nr);let v=!1;for(const a of y){Ze(n[a])?n[a]=v?g[a]:_[a]:v=!0}const w=m?function(e,t=4,i=1){const r=Ue(e.weekYear),n=Be(e.weekNumber,1,it(e.weekYear,t,i)),s=Be(e.weekday,1,7);return r?n?!s&&Te("weekday",e.weekday):Te("week",e.weekNumber):Te("weekYear",e.weekYear)}(n,s,o):u?function(e){const t=Ue(e.year),i=Be(e.ordinal,1,Xe(e.year));return t?!i&&Te("ordinal",e.ordinal):Te("year",e.year)}(n):Le(n),b=w||De(n);if(b)return yr.invalid(b);const M=m?Oe(n,s,o):u?Ne(n):n,[A,S]=Xi(M,c,i),T=new yr({ts:A,zone:i,o:S,loc:r});return n.weekday&&p&&e.weekday!==T.weekday?yr.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${T.toISO()}`):T.isValid?T:yr.invalid(T.invalid)}static fromISO(e,t={}){const[i,r]=function(e){return Ct(e,[ti,si],[ii,oi],[ri,ai],[ni,li])}(e);return er(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=function(e){return Ct(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Wt,Jt])}(e);return er(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=function(e){return Ct(e,[Kt,Qt],[Yt,Qt],[Xt,ei])}(e);return er(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(Ze(e)||Ze(t))throw new c("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:n=null}=i,s=re.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0}),[o,a,l,u]=function(e,t,i){const{result:r,zone:n,specificOffset:s,invalidReason:o}=zi(e,t,i);return[r,n,s,o]}(s,e,t);return u?yr.invalid(u):er(o,a,i,`format ${t}`,e,l)}static fromString(e,t,i={}){return yr.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=function(e){return Ct(e,[ui,si],[hi,di])}(e);return er(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new c("need to specify a reason the DateTime is invalid");const i=e instanceof Me?e:new Me(e,t);if(be.throwOnInvalid)throw new n(i);return new yr({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=$i(e,re.fromObject(t));return i?i.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return ji(Tt.parseFormat(e),re.fromObject(t)).map((e=>e.val)).join("")}static resetCache(){fr=void 0,mr.clear()}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Hi(this).weekYear:NaN}get weekNumber(){return this.isValid?Hi(this).weekNumber:NaN}get weekday(){return this.isValid?Hi(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Wi(this).weekday:NaN}get localWeekNumber(){return this.isValid?Wi(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Wi(this).weekYear:NaN}get ordinal(){return this.isValid?Re(this.c).ordinal:NaN}get monthShort(){return this.isValid?xi.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?xi.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?xi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?xi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=et(this.c),r=this.zone.offset(i-e),n=this.zone.offset(i+e),s=this.zone.offset(i-r*t),o=this.zone.offset(i-n*t);if(s===o)return[this];const a=i-s*t,l=i-o*t,c=Yi(a,s),u=Yi(l,o);return c.hour===u.hour&&c.minute===u.minute&&c.second===u.second&&c.millisecond===u.millisecond?[Ji(this,{ts:a}),Ji(this,{ts:l})]:[this]}get isInLeapYear(){return Ye(this.year)}get daysInMonth(){return Qe(this.year,this.month)}get daysInYear(){return this.isValid?Xe(this.year):NaN}get weeksInWeekYear(){return this.isValid?it(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?it(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=Tt.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(se.instance(e),t)}toLocal(){return this.setZone(be.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if((e=ae(e,be.defaultZone)).equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const t=e.offset(this.ts),i=this.toObject();[r]=Xi(i,t,e)}return Ji(this,{ts:r,zone:e})}return yr.invalid(qi(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){return Ji(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=at(e,ur),{minDaysInFirstWeek:i,startOfWeek:r}=ke(t,this.loc),n=!Ze(t.weekYear)||!Ze(t.weekNumber)||!Ze(t.weekday),s=!Ze(t.ordinal),o=!Ze(t.year),l=!Ze(t.month)||!Ze(t.day),c=o||l,u=t.weekYear||t.weekNumber;if((c||s)&&u)throw new a("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new a("Can't mix ordinal dates with month/day");let h;n?h=Oe({...Ie(this.c,i,r),...t},i,r):Ze(t.ordinal)?(h={...this.toObject(),...t},Ze(t.day)&&(h.day=Math.min(Qe(h.year,h.month),h.day))):h=Ne({...Re(this.c),...t});const[d,p]=Xi(h,this.o,this.zone);return Ji(this,{ts:d,o:p})}plus(e){if(!this.isValid)return this;return Ji(this,Qi(this,Si.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return Ji(this,Qi(this,Si.fromDurationLike(e).negate()))}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const i={},r=Si.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0}if("weeks"===r)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(i.weekNumber=this.weekNumber-1),i.weekday=e}else i.weekday=1;if("quarters"===r){const e=Math.ceil(this.month/3);i.month=3*(e-1)+1}return this.set(i)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?Tt.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Vi}toLocaleString(e=f,t={}){return this.isValid?Tt.create(this.loc.clone(t),e).formatDateTime(this):Vi}toLocaleParts(e={}){return this.isValid?Tt.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const s="extended"===e;let o=ir(this,s);return o+="T",o+=rr(this,s,t,i,r,n),o}toISODate({format:e="extended"}={}){return this.isValid?ir(this,"extended"===e):null}toISOWeekDate(){return tr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:n=!1,format:s="extended"}={}){if(!this.isValid)return null;return(r?"T":"")+rr(this,"extended"===s,t,e,i,n)}toRFC2822(){return tr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return tr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ir(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),tr(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Vi}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Si.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},n=(a=t,Array.isArray(a)?a:[a]).map(Si.normalizeUnit),s=e.valueOf()>this.valueOf(),o=Ci(s?this:e,s?e:this,n,r);var a;return s?o.negate():o}diffNow(e="milliseconds",t={}){return this.diff(yr.now(),e,t)}until(e){return this.isValid?Ei.fromDateTimes(this,e):this}hasSame(e,t,i){if(!this.isValid)return!1;const r=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t,i)<=r&&r<=n.endOf(t,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||yr.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],n=e.unit;return Array.isArray(e.unit)&&(r=e.unit,n=void 0),dr(t,this.plus(i),{...e,numeric:"always",units:r,unit:n})}toRelativeCalendar(e={}){return this.isValid?dr(e.base||yr.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(yr.isDateTime))throw new c("min requires all arguments be DateTimes");return ze(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(yr.isDateTime))throw new c("max requires all arguments be DateTimes");return ze(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:n=null}=i;return zi(re.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,i={}){return yr.fromFormatExplain(e,t,i)}static buildFormatParser(e,t={}){const{locale:i=null,numberingSystem:r=null}=t,n=re.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new Gi(n,e)}static fromFormatParser(e,t,i={}){if(Ze(e)||Ze(t))throw new c("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:n=null}=i,s=re.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});if(!s.equals(t.locale))throw new c(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${t.locale}`);const{result:o,zone:a,specificOffset:l,invalidReason:u}=t.explainFromTokens(e);return u?yr.invalid(u):er(o,a,i,`format ${t.format}`,e,l)}static get DATE_SHORT(){return f}static get DATE_MED(){return m}static get DATE_MED_WITH_WEEKDAY(){return y}static get DATE_FULL(){return g}static get DATE_HUGE(){return _}static get TIME_SIMPLE(){return v}static get TIME_WITH_SECONDS(){return w}static get TIME_WITH_SHORT_OFFSET(){return b}static get TIME_WITH_LONG_OFFSET(){return M}static get TIME_24_SIMPLE(){return A}static get TIME_24_WITH_SECONDS(){return S}static get TIME_24_WITH_SHORT_OFFSET(){return T}static get TIME_24_WITH_LONG_OFFSET(){return E}static get DATETIME_SHORT(){return x}static get DATETIME_SHORT_WITH_SECONDS(){return P}static get DATETIME_MED(){return C}static get DATETIME_MED_WITH_SECONDS(){return I}static get DATETIME_MED_WITH_WEEKDAY(){return O}static get DATETIME_FULL(){return R}static get DATETIME_FULL_WITH_SECONDS(){return N}static get DATETIME_HUGE(){return k}static get DATETIME_HUGE_WITH_SECONDS(){return L}}function gr(e){if(yr.isDateTime(e))return e;if(e&&e.valueOf&&Fe(e.valueOf()))return yr.fromJSDate(e);if(e&&"object"==typeof e)return yr.fromObject(e);throw new c(`Unknown datetime argument: ${e}, of type ${typeof e}`)}}}]);