"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[94704],{21839:(t,e,r)=>{r.d(e,{a:()=>f,b:()=>l,c:()=>s,d:()=>o,e:()=>p,f:()=>c,l:()=>u,n:()=>h,t:()=>i});var n=r(31415);r(39831),r(539);function o(t,e,r){i(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function i(t,e,r,n=3,o=n){if(t.length/n!==Math.ceil(e.length/o))return t;const i=t.length/n,s=r[0],l=r[1],a=r[2],u=r[4],c=r[5],f=r[6],p=r[8],h=r[9],d=r[10],m=r[12],g=r[13],y=r[14];let T=0,M=0;for(let w=0;w<i;w++){const r=e[T],i=e[T+1],w=e[T+2];t[M]=s*r+u*i+p*w+m,t[M+1]=l*r+c*i+h*w+g,t[M+2]=a*r+f*i+d*w+y,T+=o,M+=n}return t}function s(t,e,r){l(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function l(t,e,r,n=3,o=n){if(t.length/n!==Math.ceil(e.length/o))return;const i=t.length/n,s=r[0],l=r[1],a=r[2],u=r[3],c=r[4],f=r[5],p=r[6],h=r[7],d=r[8];let m=0,g=0;for(let y=0;y<i;y++){const r=e[m],i=e[m+1],y=e[m+2];t[g]=s*r+u*i+p*y,t[g+1]=l*r+c*i+h*y,t[g+2]=a*r+f*i+d*y,m+=o,g+=n}}function a(t,e,r,n=3,o=n){const i=Math.min(t.length/n,e.length/o);let s=0,l=0;for(let a=0;a<i;a++)t[l]=r*e[s],t[l+1]=r*e[s+1],t[l+2]=r*e[s+2],s+=o,l+=n;return t}function u(t,e,r,n){c(t.typedBuffer,e.typedBuffer,r,n,t.typedBufferStride,e.typedBufferStride)}function c(t,e,r,o,i=3,s=i){const l=Math.min(t.length/i,e.length/s);let a=0,u=0;const c=1/n.Tf;for(let n=0;n<l;n++)t[u]=o*(r*e[a])**c,t[u+1]=o*(r*e[a+1])**c,t[u+2]=o*(r*e[a+2])**c,a+=s,u+=i}function f(t,e,r,n=3,o=n){const i=t.length/n;if(i!==Math.ceil(e.length/o))return t;let s=0,l=0;for(let a=0;a<i;a++)t[l]=e[s]+r[0],t[l+1]=e[s+1]+r[1],t[l+2]=e[s+2]+r[2],s+=o,l+=n;return t}function p(t,e){h(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function h(t,e,r=3,n=r){const o=Math.min(t.length/r,e.length/n);let i=0,s=0;for(let l=0;l<o;l++){const o=e[i],l=e[i+1],a=e[i+2],u=o*o+l*l+a*a;if(u>0){const e=1/Math.sqrt(u);t[s]=e*o,t[s+1]=e*l,t[s+2]=e*a}i+=n,s+=r}}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:c,linearToSRGBView:u,normalize:h,normalizeView:p,scale:a,scaleView:function(t,e,r){a(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)},shiftRight:function(t,e,r){const n=Math.min(t.count,e.count),o=t.typedBuffer,i=t.typedBufferStride,s=e.typedBuffer,l=e.typedBufferStride;let a=0,u=0;for(let c=0;c<n;c++)o[u]=s[a]>>r,o[u+1]=s[a+1]>>r,o[u+2]=s[a+2]>>r,a+=l,u+=i},transformMat3:l,transformMat3View:s,transformMat4:i,transformMat4View:o,translate:f},Symbol.toStringTag,{value:"Module"}))},12364:(t,e,r)=>{r.d(e,{a:()=>i,b:()=>c,l:()=>u,n:()=>l,t:()=>s});var n=r(31415),o=(r(39831),r(539));function i(t,e,r){s(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function s(t,e,r,n=4,o=n){if(t.length/n!=e.length/o)return;const i=t.length/n,s=r[0],l=r[1],a=r[2],u=r[3],c=r[4],f=r[5],p=r[6],h=r[7],d=r[8];let m=0,g=0;for(let y=0;y<i;y++){const r=e[m],i=e[m+1],y=e[m+2],T=e[m+3];t[g]=s*r+u*i+p*y,t[g+1]=l*r+c*i+h*y,t[g+2]=a*r+f*i+d*y,t[g+3]=T,m+=o,g+=n}}function l(t,e){const r=Math.min(t.count,e.count),n=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,s=e.typedBufferStride;for(let l=0;l<r;l++){const t=l*o,e=l*s,r=i[e],a=i[e+1],u=i[e+2],c=r*r+a*a+u*u;if(c>0){const e=1/Math.sqrt(c);n[t]=e*r,n[t+1]=e*a,n[t+2]=e*u}}}function a(t,e,r,n=4){const o=Math.min(t.length/n,e.count),i=e.typedBuffer,s=e.typedBufferStride;let l=0,a=0;for(let u=0;u<o;u++)t[a]=r*i[l],t[a+1]=r*i[l+1],t[a+2]=r*i[l+2],t[a+3]=r*i[l+3],l+=s,a+=n}function u(t,e,r,n){c(t.typedBuffer,e,r,n,t.typedBufferStride)}function c(t,e,r,o,i=4){const s=Math.min(t.length/i,e.count),l=e.typedBuffer,a=e.typedBufferStride;let u=0,c=0;const f=1/n.Tf;for(let n=0;n<s;n++)t[c]=o*(r*l[u])**f,t[c+1]=o*(r*l[u+1])**f,t[c+2]=o*(r*l[u+2])**f,t[c+3]=o*r*l[u+3],u+=a,c+=i}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:c,linearToSRGBView:u,normalize:l,scale:a,scaleView:function(t,e,r){a(t.typedBuffer,e,r,t.typedBufferStride)},transformMat3:s,transformMat3View:i,transformMat4:function(t,e,r,n=4,i=n){if(t.length/n!=e.length/i)return void o.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const s=t.length/n,l=r[0],a=r[1],u=r[2],c=r[3],f=r[4],p=r[5],h=r[6],d=r[7],m=r[8],g=r[9],y=r[10],T=r[11],M=r[12],w=r[13],v=r[14],A=r[15];let x=0,_=0;for(let o=0;o<s;o++){const r=e[x],o=e[x+1],s=e[x+2],S=e[x+3];t[_]=l*r+f*o+m*s+M*S,t[_+1]=a*r+p*o+g*s+w*S,t[_+2]=u*r+h*o+y*s+v*S,t[_+3]=c*r+d*o+T*s+A*S,x+=i,_+=n}},transformMat4View:function(t,e,r){if(t.count!==e.count)return;const n=t.count,o=r[0],i=r[1],s=r[2],l=r[3],a=r[4],u=r[5],c=r[6],f=r[7],p=r[8],h=r[9],d=r[10],m=r[11],g=r[12],y=r[13],T=r[14],M=r[15],w=t.typedBuffer,v=t.typedBufferStride,A=e.typedBuffer,x=e.typedBufferStride;for(let _=0;_<n;_++){const t=_*v,e=_*x,r=A[e],n=A[e+1],S=A[e+2],B=A[e+3];w[t]=o*r+a*n+p*S+g*B,w[t+1]=i*r+u*n+h*S+y*B,w[t+2]=s*r+c*n+d*S+T*B,w[t+3]=l*r+f*n+m*S+M*B}}},Symbol.toStringTag,{value:"Module"}))},21104:(t,e,r)=>{r.d(e,{A:()=>m});var n,o=r(66866),i=r(21877),s=r(19251),l=r(539),a=r(21564),u=r(4130),c=r(63863),f=r(73446),p=r(78118),h=r(93413),d=r(67082);let m=n=class extends i.A{static from(t){return(0,f.PZ)(n,t)}constructor(t){super(t),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(t){return(0,d.b)(t,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},l.A.getLogger(this))}castMaterial(t){return(0,f.PZ)(t&&"object"==typeof t&&("metallic"in t||"roughness"in t||"metallicRoughnessTexture"in t)?h.A:p.A,t)}clone(){return new n({faces:(0,s.o8)(this.faces),shading:this.shading,material:(0,s.o8)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(t,e){const r={faces:(0,s.o8)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,e):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new n(r)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};(0,o._)([(0,a.MZ)({json:{write:d.B}})],m.prototype,"faces",void 0),(0,o._)([(0,u.w)("faces")],m.prototype,"castFaces",null),(0,o._)([(0,a.MZ)({type:p.A,json:{write:!0}})],m.prototype,"material",void 0),(0,o._)([(0,u.w)("material")],m.prototype,"castMaterial",null),(0,o._)([(0,a.MZ)({json:{write:!0}})],m.prototype,"name",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],m.prototype,"shading",void 0),(0,o._)([(0,a.MZ)({type:Boolean})],m.prototype,"trustSourceNormals",void 0),m=n=(0,o._)([(0,c.$)("esri.geometry.support.MeshComponent")],m)},78118:(t,e,r)=>{r.d(e,{A:()=>f});var n,o=r(66866),i=r(96220),s=r(21877),l=r(21564),a=(r(39831),r(539),r(9272),r(63863)),u=r(34804),c=r(94578);let f=n=class extends s.A{constructor(t){super(t),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const r=null!=t?t.get(this):null;if(r)return r;const o=new n(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,o),o}clonePropertiesWithDeduplication(t){return{color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(t),normalTexture:this.normalTexture?.cloneWithDeduplication(t),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let t=0;return t+=null!=this.color?16:0,null!=this.colorTexture&&(t+=this.colorTexture.memoryUsage),t+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(t+=this.normalTexture.memoryUsage),t+=null!=this.normalTextureTransform?20:0,t}};(0,o._)([(0,l.MZ)({type:i.A,json:{write:!0}})],f.prototype,"color",void 0),(0,o._)([(0,l.MZ)({type:u.A,json:{write:!0}})],f.prototype,"colorTexture",void 0),(0,o._)([(0,l.MZ)({type:c.A,json:{write:!0}})],f.prototype,"colorTextureTransform",void 0),(0,o._)([(0,l.MZ)({type:u.A,json:{write:!0}})],f.prototype,"normalTexture",void 0),(0,o._)([(0,l.MZ)({type:c.A,json:{write:!0}})],f.prototype,"normalTextureTransform",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0,json:{write:!0}})],f.prototype,"alphaMode",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0,json:{write:!0}})],f.prototype,"alphaCutoff",void 0),(0,o._)([(0,l.MZ)({nonNullable:!0,json:{write:!0}})],f.prototype,"doubleSided",void 0),f=n=(0,o._)([(0,a.$)("esri.geometry.support.MeshMaterial")],f)},93413:(t,e,r)=>{r.d(e,{A:()=>f});var n,o=r(66866),i=r(96220),s=r(21564),l=(r(39831),r(539),r(9272),r(63863)),a=r(78118),u=r(34804),c=r(94578);let f=n=class extends a.A{constructor(t){super(t),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const r=null!=t?t.get(this):null;if(r)return r;const o=new n(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,o),o}getMemoryUsage(){let t=super.getMemoryUsage();return t+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(t+=this.emissiveTexture.memoryUsage),t+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(t+=this.occlusionTexture.memoryUsage),t+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(t+=this.metallicRoughnessTexture.memoryUsage),t+=null!=this.metallicRoughnessTextureTransform?20:0,t}clonePropertiesWithDeduplication(t){return{...super.clonePropertiesWithDeduplication(t),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(t),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(t),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(t),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};(0,o._)([(0,s.MZ)({type:i.A,json:{write:!0}})],f.prototype,"emissiveColor",void 0),(0,o._)([(0,s.MZ)({type:u.A,json:{write:!0}})],f.prototype,"emissiveTexture",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],f.prototype,"emissiveTextureTransform",void 0),(0,o._)([(0,s.MZ)({type:u.A,json:{write:!0}})],f.prototype,"occlusionTexture",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],f.prototype,"occlusionTextureTransform",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],f.prototype,"metallic",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],f.prototype,"roughness",void 0),(0,o._)([(0,s.MZ)({type:u.A,json:{write:!0}})],f.prototype,"metallicRoughnessTexture",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],f.prototype,"metallicRoughnessTextureTransform",void 0),f=n=(0,o._)([(0,l.$)("esri.geometry.support.MeshMaterialMetallicRoughness")],f)},34804:(t,e,r)=>{r.d(e,{A:()=>m});var n,o=r(66866),i=(r(39831),r(25801)),s=r(21877),l=r(21564),a=r(73446),u=(r(9272),r(75094)),c=r(63863),f=r(77542),p=r(63680);const h=new WeakMap;let d=0,m=class extends s.A{static{n=this}constructor(t){super(t),this.wrap="repeat"}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null)}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null)}writeData(t,e,r,n){if(t instanceof HTMLImageElement){const o={type:"image-element",src:(0,p.t)(t.src,n),crossOrigin:t.crossOrigin};e[r]=o}else if(t instanceof HTMLCanvasElement){const n={type:"canvas-element",imageData:g(t.getContext("2d").getImageData(0,0,t.width,t.height))};e[r]=n}else if(t instanceof HTMLVideoElement){const o={type:"video-element",src:(0,p.t)(t.src,n),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[r]=o}else if(t instanceof ImageData){const n={type:"image-data",imageData:g(t)};e[r]=n}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=y(t.imageData),r=document.createElement("canvas");return r.width=e.width,r.height=e.height,r.getContext("2d").putImageData(e,0,0),r}case"image-data":return y(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const{data:t,url:e}=this,r=t=>t?.toLowerCase().endsWith(".png")||t?.toLocaleLowerCase().startsWith("data:image/png;");return t instanceof HTMLCanvasElement?T(t.getContext("2d").getImageData(0,0,t.width,t.height)):t instanceof ImageData?T(t):!(!e||!r(e))||!!(t instanceof HTMLImageElement&&r(t.src))}set transparent(t){this._overrideIfSome("transparent",t)}get contentHash(){const t="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",e=(e="")=>`d:${e},t:${this.transparent},w:${t}`;return null!=this.url?e(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?e(this.data.src):(h.has(this.data)||h.set(this.data,++d),e(h.get(this.data))):e()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3)}return t}clone(){const t={url:this.url,data:this.data,transparent:this.transparent,wrap:this._cloneWrap()};return new n(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const r=this.clone();return t.set(this,r),r}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(t){return"string"==typeof t?new n({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new n({data:t}):(0,a.PZ)(n,t)}};function g(t){let e="";for(let r=0;r<t.data.length;r++)e+=String.fromCharCode(t.data[r]);return{data:btoa(e),width:t.width,height:t.height}}function y(t){const e=atob(t.data),r=new Uint8ClampedArray(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return(0,i.eV)(r,t.width,t.height)}function T(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return!0;return!1}(0,o._)([(0,l.MZ)({type:String,json:{write:p.w}})],m.prototype,"url",null),(0,o._)([(0,l.MZ)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,l.MZ)()],m.prototype,"data",null),(0,o._)([(0,f.K)("data")],m.prototype,"writeData",null),(0,o._)([(0,u.w)("data")],m.prototype,"readData",null),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],m.prototype,"transparent",null),(0,o._)([(0,l.MZ)({json:{write:!0}})],m.prototype,"wrap",void 0),(0,o._)([(0,l.MZ)({readOnly:!0})],m.prototype,"contentHash",null),m=n=(0,o._)([(0,c.$)("esri.geometry.support.MeshTexture")],m)},94578:(t,e,r)=>{r.d(e,{A:()=>a});var n=r(66866),o=r(24793),i=r(21877),s=r(21564),l=(r(39831),r(539),r(9272),r(63863));let a=class extends(o.A.ClonableMixin(i.A)){constructor(t){super(t),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"offset",void 0),(0,n._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],a.prototype,"rotation",void 0),(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"scale",void 0),a=(0,n._)([(0,l.$)("esri.geometry.support.MeshTextureTransform")],a)},67082:(t,e,r)=>{function n(t,e,r,n){const{loggerTag:o,stride:i}=e;return t.length%i!=0?(n.error(o,`Invalid array length, expected a multiple of ${i}`),new r([])):t}function o(t,e,r,o,i){if(!t)return t;if(t instanceof e)return n(t,o,e,i);for(const s of r)if(t instanceof s)return n(new e(t),o,e,i);if(Array.isArray(t))return n(new e(t),o,e,i);{const n=r.map((t=>`'${t.name}'`));return i.error(`Failed to set property, expected one of ${n}, but got ${t.constructor.name}`),new e([])}}function i(t,e,r){e[r]=function(t){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r];return e}(t)}r.d(e,{B:()=>i,b:()=>o})},72188:(t,e,r)=>{r.d(e,{$5:()=>x,CN:()=>M,GN:()=>N,JP:()=>T,KM:()=>S,Mv:()=>E,OD:()=>b,X4:()=>w,gZ:()=>B,gr:()=>A,qs:()=>_,si:()=>v,xA:()=>C});var n=r(92504),o=r(25423),i=r(78607),s=r(21742),l=r(86128),a=r(24121),u=r(58359),c=r(59538),f=r(84119),p=r(99817),h=r(87926),d=r(96082),m=r(57813),g=r(21839),y=r(12364);const T="Projection may be possible after calling projection.load().";function M(t,e,r,n){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${r.wkid}).${n?" ":""}${n}`)}function w(t,e,r,n,o,i){return P(O.TO_PCPF,m.xs.fromTypedArray(t),b.NORMAL,m.Xm.fromTypedArray(e),r,m.Xm.fromTypedArray(n),o,m.xs.fromTypedArray(i))?i:null}function v(t,e,r,n,o,i){return P(O.FROM_PCPF,m.xs.fromTypedArray(t),b.NORMAL,m.Xm.fromTypedArray(e),r,m.Xm.fromTypedArray(n),o,m.xs.fromTypedArray(i))?i:null}function A(t,e,r,n){return(0,f.projectBuffer)(t,e,0,r,n,0)?r:null}function x(t,e,r,n){return(0,f.projectBuffer)(t,e,0,r,n,0)?r:null}function _(t,e,r){return(0,o.Ge)(L,r),(0,g.b)(e,t,L),(0,n.or)(L)&&(0,g.n)(e,e),e}function S(t,e,r){return(0,o.z0)(L,r),(0,y.t)(e,t,L),(0,n.or)(L)&&(0,g.n)(e,e,4),e}function B(t,e,r,o){const i=e===b.NORMAL;return R(t,e,r,((t,e)=>{const r=Math.cos((0,n.kU)(t));e[0]=i?r:1/r,e[1]=1}),o)}function N(t,e,r,n){const o=e===b.NORMAL;return R(t,e,r,((t,e)=>{const r=Math.cosh(-t/p.$O.radius);e[0]=1,e[1]=o?r:1/r}),n)}function R(t,e,r,n,o){const i=e===b.NORMAL?3:4,s=[0,0];for(let l=0,a=1;l<t.length;l+=i,a+=3){n(r[a],s);const e=t[l]*s[0],u=t[l+1]*s[1],c=t[l+2],f=1/Math.sqrt(e*e+u*u+c*c);o[l]=e*f,o[l+1]=u*f,o[l+2]=c*f,4===i&&(o[l+3]=t[l+3])}return o}function C(t,e,r,n,o,i){if(!P(O.TO_PCPF,m.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),b.TANGENT,m.Xm.fromTypedArray(e),r,m.Xm.fromTypedArray(n),o,m.xs.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let s=3;s<t.length;s+=4)i[s]=t[s];return i}function E(t,e,r,n,o,i){if(!P(O.FROM_PCPF,m.xs.fromTypedArray(t,16),b.TANGENT,m.Xm.fromTypedArray(e),r,m.Xm.fromTypedArray(n),o,m.xs.fromTypedArray(i,16)))return null;for(let s=3;s<t.length;s+=4)i[s]=t[s];return i}var b,O,j;function D(t,e,r,n,i){switch((0,c.l)(n,r,U,n),t===O.FROM_PCPF&&(0,s.B8)(U,U),e){case b.NORMAL:return(0,o.Ge)(i,U);case b.TANGENT:return(0,o.z0)(i,U)}}function P(t,e,r,n,o,i,s,l){if(!e)return;const u=n.count;if(function(t){return t.isWGS84||(0,h.x1)(t)||(0,h.q8)(t)||(0,h.KQ)(t)}(o))for(let c=0;c<u;c++)i.getVec(c,F),e.getVec(c,Z),(0,a.o)(Z,Z,D(t,r,F,s,L)),l.setVec(c,Z);else for(let c=0;c<u;c++){i.getVec(c,F),e.getVec(c,Z);const o=(0,d.jg)(n.get(c,1));let u=Math.cos(o);r===b.TANGENT!=(t===O.TO_PCPF)&&(u=1/u),D(t,r,F,s,L),t===O.TO_PCPF?(L[0]*=u,L[1]*=u,L[2]*=u,L[3]*=u,L[4]*=u,L[5]*=u):(L[0]*=u,L[3]*=u,L[6]*=u,L[1]*=u,L[4]*=u,L[7]*=u),(0,a.o)(Z,Z,L),(0,a.n)(Z,Z),l.setVec(c,Z)}return l}(j=b||(b={}))[j.NORMAL=0]="NORMAL",j[j.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(O||(O={}));const F=(0,u.vt)(),Z=(0,u.vt)(),U=(0,l.vt)(),L=(0,i.vt)()},5025:(t,e,r)=>{r.d(e,{UR:()=>v,p5:()=>w,xK:()=>N});var n=r(539),o=r(92504),i=r(92976),s=r(25423),l=r(78607),a=r(21742),u=r(86128),c=r(24121),f=r(58359),p=r(32937),h=r(59538),d=r(42609),m=r(1114),g=r(87926),y=r(21839),T=r(72188);const M=()=>n.A.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function w(t,e,{vertexSpace:r,spatialReference:n}){if("georeferenced"===r.type){const o=t;if(!(0,d.g)(e,o,n))return!1;const{origin:i}=r;return(0,c.d)(t,o,i),!0}const o=(0,p.lO)(n),i=t;if(!(0,d.g)(e,i,o))return!1;const{origin:s}=r,l=O;if(!(0,h.l)(n,s,l,o))return!1;const u=(0,a.B8)(O,l);return null!=u&&((0,c.t)(t,i,u),!0)}function v(t,e,r){const{vertexSpace:n,transform:o,vertexAttributes:i}=t,l=(0,m.Hq)(n)?o:null,f=S(t.spatialReference,r,j.SOURCE_AND_TARGET);if((0,m.yJ)(n,e)&&(!l||(0,a.t2)(l.localMatrix,u.zK))&&B(f)){const{position:t,normal:e,tangent:n}=i,o=r?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?e:e?.slice(),tangent:o?n:n?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},o,i){const s=A(e,i);if(!(0,h.l)(e,n,R,s))return(0,T.CN)(M(),e,s),null;if(r&&(0,a.lw)(R,R,r.localMatrix),!(0,h.l)(e,o,C,s))return(0,T.CN)(M(),s,e),null;(0,a.B8)(C,C);const l=(0,a.lw)(R,C,R);return _(l,e,i,j.SOURCE_AND_TARGET),x(t,l)}(t,t.vertexSpace,e.origin,r):function({spatialReference:t,vertexAttributes:e,transform:r},{origin:n},o,i){const s=A(t,i);if(!(0,h.l)(t,n,R,s))return(0,T.CN)(M(),t,s),null;r&&(0,a.lw)(R,R,r.localMatrix),_(R,t,i,j.SOURCE);const l=new Float64Array(e.position.length),u=function(t,e,r,n,o){(0,y.t)(n,t,e);const i=new Float64Array(t.length);return(0,T.$5)(n,o,i,r)?i:((0,T.CN)(M(),o,r),null)}(e.position,R,t,l,s);if(!u)return null;const f=function(t,e,r,n,o,i){if(null==o)return null;const s=new Float32Array(o.length);return(0,T.qs)(o,s,i),(0,T.si)(s,t,e,r,n,s)?s:((0,T.CN)(M(),n,e),null)}(u,t,l,s,e.normal,R);if(e.normal&&!f)return null;const p=function(t,e,r,n,o,i){if(null==o)return null;const s=new Float32Array(o.length);return(0,T.KM)(o,s,i),(0,T.Mv)(s,t,e,r,n,s)?s:((0,T.CN)(M(),n,e),null)}(u,t,l,s,e.tangent,R);if(e.tangent&&!p)return null;if(o){const t=(0,c.u)(b,o);(0,y.a)(u,u,t)}return{position:u,normal:f,tangent:p}}(t,t.vertexSpace,e.origin,r);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},o,i){const l=A(e,i);if(!(0,h.l)(e,o,R,l))return(0,T.CN)(M(),e,l),null;const u=1/S(e,i,j.TARGET);(0,a.hs)(R,R,[u,u,u]);const c=(0,a.B8)(C,R),{position:f,normal:p,tangent:d}=function(t,e,r){if(!e)return t;if(!r){const{position:r,normal:n,tangent:o}=t;return{position:(0,y.a)(new Float64Array(r.length),r,e),tangent:o,normal:n}}const n=x(t,r.localMatrix);return(0,y.a)(n.position,n.position,e),n}(t,n,r),m=new Float64Array(f.length),g=function(t,e,r,n,o){const i=(0,T.gr)(t,e,n,o);if(!i)return(0,T.CN)(M(),e,o),null;const s=new Float64Array(i.length);return(0,y.t)(s,i,r),s}(f,e,c,m,l);if(!g)return null;const w=(0,s.Ge)(E,c),v=function(t,e,r,n,o,i,s){if(null==t)return null;const l=s??new Float32Array(t.length);return(0,T.X4)(t,e,r,n,o,l)?((0,y.b)(l,l,i),l):((0,T.CN)(M(),r,o),null)}(p,f,e,m,l,w,p!==t.normal?p:void 0);if(!v&&p)return null;const _=function(t,e,r,n,o,i,s){if(null==t)return null;const l=s??new Float32Array(t.length);return(0,T.xA)(t,e,r,n,o,l)?((0,y.b)(l,l,i,4),l):((0,T.CN)(M(),r,o),null)}(d,f,e,m,l,w,d!==t.tangent?d:void 0);return!_&&d?null:{position:g,normal:v,tangent:_}}(t,t.vertexSpace,e.origin,r):function({vertexAttributes:t,transform:e,spatialReference:r},{origin:n},o,i){const s=S(r,i,j.SOURCE_AND_TARGET),l=n||!B(s)?(0,a.C)(R,e?.localMatrix??u.zK):null;l&&_(l,r,i,j.SOURCE_AND_TARGET);const{position:f,normal:p,tangent:h}=l?x(t,l):t,d=i?.allowBufferReuse,m=d?f:new Float64Array(f.length);let g=f;if(n&&(g=(0,y.a)(m,g,n)),o){const t=(0,c.u)(b,o);g=(0,y.a)(m,g,t)}return{position:g!==t.position||d?g:g.slice(),normal:p!==t.normal||d?p:p?.slice(),tangent:h!==t.tangent||d?h:h?.slice()}}(t,t.vertexSpace,e.origin,r)}}function A(t,e){return e?.useEllipsoid&&(0,g.B3)(t)?p.Y0:(0,p.lO)(t)}function x(t,e){const r=new Float64Array(t.position.length);(0,y.t)(r,t.position,e);const n=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return n&&t.normal&&(0,T.qs)(t.normal,n,e),o&&t.tangent&&(0,T.KM)(t.tangent,o,e),{position:r,normal:n,tangent:o}}function _(t,e,r,n){const o=S(e,r,n);B(o)||(0,a.hs)(t,t,[o,o,o])}function S(t,e,r){const n=!!(r&j.SOURCE),o=!!(r&j.TARGET),i=e?.sourceUnit,s=e?.targetUnit;if(!i&&!s)return 1;let l=N(i,t);n||!i||B(l)||(M().warn("source unit conversion not supported"),l=1);let a=1/N(s,t);return o||!s||B(a)||(M().warn("target unit conversion not supported"),a=1),l*a}function B(t){return(0,o.Io)(t,1)}function N(t,e){if(null==t)return 1;const r=(0,i.KX)(e);return 1/(0,i.oU)(r,"meters",t)}const R=(0,u.vt)(),C=(0,u.vt)(),E=(0,l.vt)(),b=(0,f.vt)(),O=(0,u.vt)();var j,D;(D=j||(j={}))[D.NONE=0]="NONE",D[D.SOURCE=1]="SOURCE",D[D.TARGET=2]="TARGET",D[D.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"}}]);