"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[94772],{53859:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var s=a(74848),n=a(28453);const r={},i="HistogramRangeSlider",l={id:"widgets/histogram-range-slider",title:"HistogramRangeSlider",description:"The HistogramRangeSlider widget is a slider that allows the user to select a range of values from a histogram.",source:"@site/examples/widgets/histogram-range-slider.mdx",sourceDirName:"widgets",slug:"/widgets/histogram-range-slider",permalink:"/esrieact/examples/widgets/histogram-range-slider",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"examplesSidebar",previous:{title:"Expand",permalink:"/esrieact/examples/widgets/expand"},next:{title:"Histogram",permalink:"/esrieact/examples/widgets/histrogram"}},o={},d=[{value:"Simple example",id:"simple-example",level:2}];function m(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"histogramrangeslider",children:"HistogramRangeSlider"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"HistogramRangeSlider"})," widget is a slider that allows the user to select a range of values from a histogram."]}),"\n",(0,s.jsx)(t.h2,{id:"simple-example",children:"Simple example"}),"\n",(0,s.jsxs)(t.p,{children:["The following example shows how you can capture ",(0,s.jsx)(t.code,{children:"events"})," on a ",(0,s.jsx)(t.code,{children:"HistogramRangeSlider"})," widget, and use the captures values to manipulate the ",(0,s.jsx)(t.code,{children:"FeatureLayerView"})," of a ",(0,s.jsx)(t.code,{children:"FeatureLayer"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-tsx",metastring:"live",live:!0,children:'function Example() {\n  const layer = useRef<FeatureLayer>(null);\n  const layerView = useRef<FeatureLayerView>(null);\n\n  const [layerReady, setLayerReady] = useState(false);\n  const [histogramResult, setHistogramResult] = useState<HistogramResult>(null);\n  const [stats, setStats] = useState<SummaryStatisticsResult>(null);\n\n  useEffect(() => {\n    if (layerReady) {\n      const createHistogram = async () => {\n        const histogramResult = await histogram({\n          layer: layer.current,\n          field: "pop20",\n          numBins: 50,\n        });\n        setHistogramResult(histogramResult);\n\n        const summaryStatisticsResult = await summaryStatistics({\n          layer: layer.current,\n          field: "pop20",\n        });\n        setStats(summaryStatisticsResult);\n      };\n\n      createHistogram();\n    }\n  }, [layerReady]);\n\n  return (\n    <MapView\n      ViewProperties={{ extent: OAHU_EXTENT_2 }}\n      MapProperties={{ basemap: "topo-vector" }}\n      style={{ height: "300px", width: "100%" }}\n    >\n      <FeatureLayer\n        ref={layer}\n        url={HI_CENSUS_2020_FL_URL}\n        events={{ "layerview-create": () => setLayerReady(true) }}\n        renderer={HI_CENSUS_2020_FL_RENDERER}\n      >\n        <FeatureLayerView ref={layerView} />\n      </FeatureLayer>\n\n      <Legend position="top-right" />\n\n      <h4 className="mt-2! mb-0!">Population 2020</h4>\n      <div\n        id="histogram-slider-container"\n        style={{ height: "300px", width: "100%" }}\n      >\n        {histogramResult && stats && (\n          <HistogramRangeSlider\n            container="histogram-slider-container"\n            bins={histogramResult.bins}\n            min={histogramResult.minValue}\n            max={histogramResult.maxValue}\n            rangeType="between"\n            values={[histogramResult.minValue, histogramResult.maxValue]}\n            events={(histogramRangeSlider) => {\n              return {\n                "thumb-drag": () => {\n                  layerView.current.filter = {\n                    where: histogramRangeSlider.generateWhereClause("pop20"),\n                  };\n                },\n              };\n            }}\n          />\n        )}\n      </div>\n    </MapView>\n  );\n}\n'})})]})}function u(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}}}]);