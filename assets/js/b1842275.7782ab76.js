"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[30428],{41671:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>n,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>m});var a=s(74848),i=s(28453);const r={},n="Histogram",l={id:"widgets/histrogram",title:"Histogram",description:"Simple example",source:"@site/examples/widgets/histrogram.mdx",sourceDirName:"widgets",slug:"/widgets/histrogram",permalink:"/esrieact/examples/widgets/histrogram",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"examplesSidebar",previous:{title:"HistogramRangeSlider",permalink:"/esrieact/examples/widgets/histogram-range-slider"}},o={},m=[{value:"Simple example",id:"simple-example",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"histogram",children:"Histogram"})}),"\n",(0,a.jsx)(t.h2,{id:"simple-example",children:"Simple example"}),"\n",(0,a.jsxs)(t.p,{children:["A ",(0,a.jsx)(t.code,{children:"Histogram"})," can be used to visualize the distribution of a field in a layer. In ESRIEACT, the ",(0,a.jsx)(t.code,{children:"Histogram"})," component is a wrapper around the ",(0,a.jsxs)(t.a,{href:"https://developers.arcgis.com/javascript/latest/api-reference/esri-widgets-Histogram.html",children:["ESRI ",(0,a.jsx)(t.code,{children:"Histogram"})," widget"]}),". This widget still requires properties derived from the imperative use of smartMapping tools like ",(0,a.jsx)(t.a,{href:"https://developers.arcgis.com/javascript/latest/api-reference/esri-smartMapping-statistics-histogram.html",children:(0,a.jsx)(t.code,{children:"histogram"})}),", and possibly ",(0,a.jsx)(t.a,{href:"https://developers.arcgis.com/javascript/latest/api-reference/esri-smartMapping-statistics-summaryStatistics.html",children:(0,a.jsx)(t.code,{children:"summaryStatistics"})}),". As ESRIEACT's focus is on presentational components, the imperative use of smartMapping functions is ",(0,a.jsx)(t.em,{children:"not"})," abstracted away."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-tsx",metastring:"live",live:!0,children:'function Example() {\n  const layer = useRef<FeatureLayer>(null);\n\n  const [layerReady, setLayerReady] = useState(false);\n  const [histogramResult, setHistogramResult] = useState<HistogramResult>(null);\n  const [stats, setStats] = useState<SummaryStatisticsResult>(null);\n\n  useEffect(() => {\n    if (layerReady) {\n      const createHistogram = async () => {\n        const histogramResult = await histogram({\n          layer: layer.current,\n          field: "pop20",\n          numBins: 50,\n        });\n        setHistogramResult(histogramResult);\n\n        const summaryStatisticsResult = await summaryStatistics({\n          layer: layer.current,\n          field: "pop20",\n        });\n        setStats(summaryStatisticsResult);\n      };\n\n      createHistogram();\n    }\n  }, [layerReady]);\n\n  return (\n    <MapView\n      ViewProperties={{ extent: OAHU_EXTENT_2 }}\n      MapProperties={{ basemap: "topo-vector" }}\n      style={{ height: "300px", width: "100%" }}\n    >\n      <FeatureLayer\n        ref={layer}\n        url={HI_CENSUS_2020_FL_URL}\n        events={{ "layerview-create": () => setLayerReady(true) }}\n        renderer={HI_CENSUS_2020_FL_RENDERER}\n      />\n\n      <Legend position="top-right" />\n\n      <h4 className="mt-2! mb-0!">Population 2020</h4>\n      <div id="histogram-container" style={{ height: "300px", width: "100%" }}>\n        {histogramResult && stats && (\n          <Histogram\n            container="histogram-container"\n            bins={histogramResult.bins}\n            min={histogramResult.minValue}\n            max={histogramResult.maxValue}\n            average={stats.avg}\n            labelFormatFunction={function (value) {\n              return Math.round(value).toLocaleString();\n            }}\n          />\n        )}\n      </div>\n      <div className="flex justify-between">\n        <div>{histogramResult?.minValue}</div>\n        <div>{histogramResult?.maxValue?.toLocaleString()}</div>\n      </div>\n    </MapView>\n  );\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);