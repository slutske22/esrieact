"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[31098],{22870:(e,t,r)=>{r.d(t,{A:()=>f});var n,i=r(66866),s=r(52495),o=r(21564),a=(r(39831),r(539),r(9272),r(63863)),l=r(93372);let f=n=class extends s.A{constructor(e){super(e),this.steps=[]}getInverse(){const e=new n;for(let t=this.steps.length-1;t>=0;t--){const r=this.steps[t];e.steps.push(r.getInverse())}return e}};(0,i._)([(0,o.MZ)({type:[l.A],nonNullable:!0})],f.prototype,"steps",void 0),f=n=(0,i._)([(0,a.$)("esri.geometry.operators.support.GeographicTransformation")],f)},93372:(e,t,r)=>{r.d(t,{A:()=>l});var n,i=r(66866),s=r(52495),o=r(21564),a=(r(39831),r(539),r(9272),r(63863));let l=n=class extends s.A{constructor(e){super(e),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new n({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};(0,i._)([(0,o.MZ)()],l.prototype,"isInverse",void 0),(0,i._)([(0,o.MZ)()],l.prototype,"wkt",void 0),(0,i._)([(0,o.MZ)()],l.prototype,"wkid",void 0),l=n=(0,i._)([(0,a.$)("esri.geometry.operators.support.GeographicTransformationStep")],l)},84547:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n,i=r(84698),s=r(97066),o=r(22870),a=r(71509),l=r(32876),f=r(20498),c=r(38712),p=r(15995),h=r(80989),m=r(56889),x=r(66556),u=r(66866),y=(r(539),r(39831),r(9272),r(98849),r(28902)),d=r(63863),w=r(65891);let g=n=class extends w.A{constructor(){super(...arguments),this.type="identity"}clone(){return new n}};(0,u._)([(0,y.e)({IdentityXform:"identity"})],g.prototype,"type",void 0),g=n=(0,u._)([(0,d.$)("esri.layers.support.rasterTransforms.IdentityTransform")],g);var v=r(90073);const M={GCSShiftXform:x.A,IdentityXform:g,PolynomialXform:v.A};function S(e){const t=e?.type;if(!t)return null;const r=M[e?.type];if(r){const t=new r;return t.read(e),t}return null}var A=r(95903),k=r(61820);class C{convertVectorFieldData(e){const t=a.A.fromJSON(e.pixelBlock),r=(0,m.FI)(t,e.type);return Promise.resolve(null!=r?r.toJSON():null)}computeStatisticsHistograms(e){const t=a.A.fromJSON(e.pixelBlock),r=(0,h.eH)(t);return Promise.resolve(r)}async decode(e){const t=await(0,l.D)(e.data,e.options);return t&&t.toJSON()}symbolize(e){e.pixelBlock=a.A.fromJSON(e.pixelBlock),e.extent=e.extent?i.A.fromJSON(e.extent):null;const t=this.symbolizer.symbolize(e);return Promise.resolve(null!=t?t.toJSON():null)}async updateSymbolizer(e){this.symbolizer=A.A.fromJSON(e.symbolizerJSON),e.histograms&&"rasterStretch"===this.symbolizer?.rendererJSON.type&&(this.symbolizer.rendererJSON.histograms=e.histograms)}async updateRasterFunction(e){this.rasterFunction=(0,c.vt)(e.rasterFunctionJSON)}async process(e){const t=this.rasterFunction.process({extent:i.A.fromJSON(e.extent),primaryPixelBlocks:e.primaryPixelBlocks.map((e=>null!=e?a.A.fromJSON(e):null)),primaryPixelSizes:e.primaryPixelSizes?.map((e=>null!=e?s.A.fromJSON(e):null)),primaryRasterIds:e.primaryRasterIds});return null!=t?t.toJSON():null}stretch(e){const t=this.symbolizer.simpleStretch(a.A.fromJSON(e.srcPixelBlock),e.stretchParams);return Promise.resolve(t?.toJSON())}estimateStatisticsHistograms(e){const t=(0,h.f4)(a.A.fromJSON(e.srcPixelBlock));return Promise.resolve(t)}split(e){const t=(0,f.lD)(a.A.fromJSON(e.srcPixelBlock),e.tileSize,e.maximumPyramidLevel??0,!1===e.useBilinear);return t&&t.forEach(((e,r)=>{t.set(r,e?.toJSON())})),Promise.resolve(t)}clipTile(e){const t=a.A.fromJSON(e.pixelBlock),r=(0,f.J$)({...e,pixelBlock:t});return Promise.resolve(r?.toJSON())}async mosaicAndTransform(e){const t=e.srcPixelBlocks.map((e=>e?new a.A(e):null)),r=(0,f.z7)(t,e.srcMosaicSize,{blockWidths:e.blockWidths,alignmentInfo:e.alignmentInfo,clipOffset:e.clipOffset,clipSize:e.clipSize});let n,i=r;return e.coefs&&(i=(0,f.$i)(r,e.destDimension,e.coefs,e.sampleSpacing,e.interpolation)),e.projectDirections&&e.gcsGrid&&(n=(0,f.QF)(e.destDimension,e.gcsGrid),i=(0,m.Y2)(i,e.isUV?"vector-uv":"vector-magdir",n)),{pixelBlock:i?.toJSON(),localNorthDirections:n}}async createFlowMesh(e,t){const r={data:new Float32Array(e.flowData.buffer),mask:new Uint8Array(e.flowData.maskBuffer),width:e.flowData.width,height:e.flowData.height},{vertexData:n,indexData:i}=await(0,k.CW)(e.meshType,e.simulationSettings,r,t.signal);return{result:{vertexBuffer:n.buffer,indexBuffer:i.buffer},transferList:[n.buffer,i.buffer]}}async getProjectionOffsetGrid(e){const t=i.A.fromJSON(e.projectedExtent),r=i.A.fromJSON(e.srcBufferExtent);let n=null;e.datumTransformationSteps?.length&&(n=new o.A({steps:e.datumTransformationSteps})),await(0,p.Hh)();const s=e.rasterTransform?S(e.rasterTransform):null;return(0,p.l0)({...e,projectedExtent:t,srcBufferExtent:r,datumTransformation:n,rasterTransform:s})}}},5572:(e,t,r)=>{r.d(t,{$Q:()=>a,Sd:()=>c,b5:()=>f,b7:()=>p});var n=r(92976),i=r(84698),s=r(97066),o=r(71509);async function a(e,t,n){if("extent"===n.type)return function(e,t,r){const{width:n,height:i}=e,s=new Uint8Array(n*i),a=t.width/n,l=t.height/i;if(r.width/a<.5||r.height/l<.5)return new o.A({pixelType:e.pixelType,width:n,height:i,mask:s,pixels:[...e.pixels]});const{xmin:f,xmax:c,ymin:p,ymax:h}=t,{xmin:m,xmax:x,ymin:u,ymax:y}=r,d=Math.max(f,m),w=Math.min(c,x),g=Math.max(p,u),v=Math.min(h,y),M=.5*a,S=.5*l;if(w-d<M||v-g<S||w<f+M||d>c-M||g>h-S||v<p+S)return new o.A({pixelType:e.pixelType,width:n,height:i,mask:s,pixels:[...e.pixels]});const A=Math.max(0,(d-f)/a),k=Math.min(n,Math.max(0,(w-f)/a)),C=Math.max(0,(h-v)/l),T=Math.min(i,Math.max(0,(h-g)/l)),O=Math.round(A),P=Math.round(k)-1,N=Math.round(C),J=Math.round(T)-1;if(O===P&&A%1>.5&&k%1<.5||N===J&&C%1>.5&&T%1<.5)return new o.A({pixelType:e.pixelType,width:n,height:i,mask:s,pixels:[...e.pixels]});if(0===O&&0===N&&P===n&&J===i)return e;const _=e.mask;for(let o=N;o<=J;o++)for(let e=O;e<=P;e++){const t=o*n+e;s[t]=_?_[t]:255}return new o.A({pixelType:e.pixelType,width:n,height:i,mask:s,pixels:[...e.pixels]})}(e,t,n);const{width:i,height:s}=e,a=new Uint8Array(i*s);return(await Promise.all([r.e(72076),r.e(68318)]).then(r.bind(r,68318))).execute(t,n)?"polyline"===n.type?function(e,t,r){const{width:n,height:i}=e,s=new Uint8Array(n*i),a=t.width/n,l=t.height/i,{xmin:f,ymax:c}=t,{paths:p}=r,h=e.mask;for(let o=0;o<p.length;o++){const e=p[o];for(let t=0;t<e.length-1;t++){const[r,o]=e[t],[p,m]=e[t+1];let x=Math.floor((c-o)/l),u=Math.floor((c-m)/l);if(u<x){const e=x;x=u,u=e}x=Math.max(0,x),u=Math.min(i-1,u);const y=(p-r)/(m-o);for(let e=x;e<=u;e++){const t=e===x?Math.max(o,m):(i+1-e)*l,c=e===u?Math.min(o,m):t-l;let d=m===o?Math.floor((r-f)/a):Math.floor((y*(t-o)+r-f)/a),w=m===o?Math.floor((p-f)/a):Math.floor((y*(c-o)+r-f)/a);if(w<d){const e=d;d=w,w=e}const g=e*n;d=Math.max(0,d),w=Math.min(n-1,w);for(let e=g+d;e<=g+w;e++)s[e]=h?h[e]:255}}}return new o.A({pixelType:e.pixelType,width:n,height:i,mask:s,pixels:[...e.pixels]})}(e,t,n):(await Promise.all([r.e(72076),r.e(9849)]).then(r.bind(r,9849))).execute(n,t)?e:l(e,t,n):new o.A({pixelType:e.pixelType,width:i,height:s,mask:a,maskIsAlpha:!1,pixels:[...e.pixels]})}function l(e,t,r){if(!e)return e;const{width:n,height:i}=e,s=f({geometry:r,size:[n,i],srcExtent:t,srcMask:e.mask});return new o.A({pixelType:e.pixelType,width:n,height:i,mask:s,maskIsAlpha:!1,pixels:[...e.pixels]})}function f(e){const{geometry:t,size:r,srcExtent:n,srcMask:i}=e,[s,o]=r;let a;const l=n.width/s,f=n.height/o,{xmin:c,ymax:p}=n;if("extent"===t.type){const e=(t.xmin-c)/l,r=(t.xmax-c)/l,n=(p-t.ymax)/f,i=(p-t.ymin)/f;a=[[[e,n],[e,i],[r,i],[r,n],[e,n]]]}else a=t.rings.map((e=>e.map((([e,t])=>[(e-c)/l,(p-t)/f]))));return function(e,t,r){const[n,i]=t,s=new OffscreenCanvas(n,i).getContext("2d");s.fillStyle="#f00",s.beginPath(),e.forEach((e=>{s.moveTo(e[0][0],e[0][1]);for(let t=0;t<e.length;t++)s.lineTo(e[t][0],e[t][1]);s.closePath()})),s.fill();const o=s.getImageData(0,0,n,i).data,a=n*i,l=new Uint8Array(a);let f=!1;for(let c=0;c<a;c++)r&&!r[c]||(o[4*c+3]>127?l[c]=255:f=!0);return f||r?l:void 0}(a,r,i)}function c(e,t){const{extent:r}=p(e,t,new s.A({x:e.pixelSize.x,y:e.pixelSize.y,spatialReference:e.spatialReference})),{extent:n}=e.extent;if(r.xmax=Math.min(r.xmax,n.xmax),r.ymax=Math.min(r.ymax,n.ymax),r.xmin<r.xmax&&r.ymin<r.ymax){const{x:t,y:n}=e.pixelSize,i=Math.round(r.width/t),s=Math.round(r.height/n);e.extent=r,e.width=i,e.height=s}}function p(e,t,r,s=!0){const{spatialReference:o}=e,{x:a,y:l}=function(e,t){if(e.spatialReference.equals(t))return e;const r=(0,n.GA)(e.spatialReference),i=(0,n.GA)(t);if(r===i)return e;const s=r/i;return{x:e.x*s,y:e.y*s}}(r,o);let f,c,p;const h="extent"===t.type?t:t.extent;let{xmin:m,xmax:x,ymax:u,ymin:y}=h;const{xmin:d,ymax:w}=e.extent;return s?(m=d+(m>d?a*Math.round((m-d)/a):0),u=w-(u<w?l*Math.round((w-u)/l):0),x=d+(x>d?a*Math.round((x-d)/a):0),y=w-(y<w?l*Math.round((w-y)/l):0),f=new i.A({xmin:m,ymax:u,xmax:x,ymin:y,spatialReference:o}),c=Math.round(f.width/a),p=Math.round(f.height/l)):(c=Math.floor((x-m)/a+.8),p=Math.floor((u-y)/l+.8),m=d+(m>d?a*Math.floor((m-d)/a+.1):0),u=w-(u<w?l*Math.floor((w-u)/l+.1):0),x=m+c*a,y=u-p*l,f=new i.A({xmin:m,ymax:u,xmax:x,ymin:y,spatialReference:o})),{extent:f,width:c,height:p}}},65891:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(66866),i=r(21877),s=r(21564),o=(r(39831),r(539),r(9272),r(63863));let a=class extends i.A{get affectsPixelSize(){return!1}forwardTransform(e){return e}inverseTransform(e){return e}};(0,n._)([(0,s.MZ)()],a.prototype,"affectsPixelSize",null),(0,n._)([(0,s.MZ)({json:{write:!0}})],a.prototype,"spatialReference",void 0),a=(0,n._)([(0,o.$)("esri.layers.support.rasterTransforms.BaseRasterTransform")],a)},66556:(e,t,r)=>{r.d(t,{A:()=>f});var n,i=r(66866),s=r(21564),o=(r(39831),r(539),r(9272),r(28902)),a=r(63863),l=r(65891);let f=n=class extends l.A{constructor(){super(...arguments),this.type="gcs-shift",this.tolerance=1e-8}forwardTransform(e){return"point"===(e=e.clone()).type?(e.x>180+this.tolerance&&(e.x-=360),e):(e.xmin>=180-this.tolerance?(e.xmax-=360,e.xmin-=360):e.xmax>180+this.tolerance&&(e.xmin=-180,e.xmax=180),e)}inverseTransform(e){return"point"===(e=e.clone()).type?(e.x<-this.tolerance&&(e.x+=360),e):(e.xmin<-this.tolerance&&(e.xmin+=360,e.xmax+=360),e)}clone(){return new n({tolerance:this.tolerance})}};(0,i._)([(0,o.e)({GCSShiftXform:"gcs-shift"})],f.prototype,"type",void 0),(0,i._)([(0,s.MZ)()],f.prototype,"tolerance",void 0),f=n=(0,i._)([(0,a.$)("esri.layers.support.rasterTransforms.GCSShiftTransform")],f)},90073:(e,t,r)=>{r.d(t,{A:()=>u});var n,i=r(66866),s=r(21564),o=(r(39831),r(539),r(9272),r(28902)),a=r(75094),l=r(63863),f=r(77542),c=r(84698),p=r(97066),h=r(65891);function m(e,t,r){const{x:n,y:i}=t;if(r<2)return{x:e[0]+n*e[2]+i*e[4],y:e[1]+n*e[3]+i*e[5]};if(2===r){const t=n*n,r=i*i,s=n*i;return{x:e[0]+n*e[2]+i*e[4]+t*e[6]+s*e[8]+r*e[10],y:e[1]+n*e[3]+i*e[5]+t*e[7]+s*e[9]+r*e[11]}}const s=n*n,o=i*i,a=n*i,l=s*n,f=s*i,c=n*o,p=i*o;return{x:e[0]+n*e[2]+i*e[4]+s*e[6]+a*e[8]+o*e[10]+l*e[12]+f*e[14]+c*e[16]+p*e[18],y:e[1]+n*e[3]+i*e[5]+s*e[7]+a*e[9]+o*e[11]+l*e[13]+f*e[15]+c*e[17]+p*e[19]}}function x(e,t,r){const{xmin:n,ymin:i,xmax:s,ymax:o,spatialReference:a}=t;let l=[];if(r<2)l.push({x:n,y:o}),l.push({x:s,y:o}),l.push({x:n,y:i}),l.push({x:s,y:i});else{let e=10;for(let t=0;t<e;t++)l.push({x:n,y:i+(o-i)*t/(e-1)}),l.push({x:s,y:i+(o-i)*t/(e-1)});e=8;for(let t=1;t<=e;t++)l.push({x:n+(s-n)*t/e,y:i}),l.push({x:n+(s-n)*t/e,y:o})}l=l.map((t=>m(e,t,r)));const f=l.map((e=>e.x)),p=l.map((e=>e.y));return new c.A({xmin:Math.min.apply(null,f),xmax:Math.max.apply(null,f),ymin:Math.min.apply(null,p),ymax:Math.max.apply(null,p),spatialReference:a})}let u=n=class extends h.A{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial"}readForwardCoefficients(e,t){const{coeffX:r,coeffY:n}=t;if(!r?.length||!n?.length||r.length!==n.length)return null;const i=[];for(let s=0;s<r.length;s++)i.push(r[s]),i.push(n[s]);return i}writeForwardCoefficients(e,t,r){const n=[],i=[];for(let s=0;s<e?.length;s++)s%2==0?n.push(e[s]):i.push(e[s]);t.coeffX=n,t.coeffY=i}get inverseCoefficients(){let e=this._get("inverseCoefficients");const t=this._get("forwardCoefficients");return!e&&t&&this.polynomialOrder<2&&(e=function(e){const[t,r,n,i,s,o]=e,a=n*o-s*i,l=s*i-n*o;return[(s*r-t*o)/a,(n*r-t*i)/l,o/a,i/l,-s/a,-n/l]}(t)),e}set inverseCoefficients(e){this._set("inverseCoefficients",e)}readInverseCoefficients(e,t){const{inverseCoeffX:r,inverseCoeffY:n}=t;if(!r?.length||!n?.length||r.length!==n.length)return null;const i=[];for(let s=0;s<r.length;s++)i.push(r[s]),i.push(n[s]);return i}writeInverseCoefficients(e,t,r){const n=[],i=[];for(let s=0;s<e?.length;s++)s%2==0?n.push(e[s]):i.push(e[s]);t.inverseCoeffX=n,t.inverseCoeffY=i}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(e){if("point"===e.type){const t=m(this.forwardCoefficients,e,this.polynomialOrder);return new p.A({x:t.x,y:t.y,spatialReference:e.spatialReference})}return x(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if("point"===e.type){const t=m(this.inverseCoefficients,e,this.polynomialOrder);return new p.A({x:t.x,y:t.y,spatialReference:e.spatialReference})}return x(this.inverseCoefficients,e,this.polynomialOrder)}clone(){return new n({polynomialOrder:this.polynomialOrder,forwardCoefficients:this.forwardCoefficients?[...this.forwardCoefficients]:null,inverseCoefficients:this.inverseCoefficients?[...this.inverseCoefficients]:null})}};(0,i._)([(0,s.MZ)({json:{write:!0}})],u.prototype,"polynomialOrder",void 0),(0,i._)([(0,s.MZ)()],u.prototype,"forwardCoefficients",void 0),(0,i._)([(0,a.w)("forwardCoefficients",["coeffX","coeffY"])],u.prototype,"readForwardCoefficients",null),(0,i._)([(0,f.K)("forwardCoefficients")],u.prototype,"writeForwardCoefficients",null),(0,i._)([(0,s.MZ)({json:{write:!0}})],u.prototype,"inverseCoefficients",null),(0,i._)([(0,a.w)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],u.prototype,"readInverseCoefficients",null),(0,i._)([(0,f.K)("inverseCoefficients")],u.prototype,"writeInverseCoefficients",null),(0,i._)([(0,s.MZ)()],u.prototype,"affectsPixelSize",null),(0,i._)([(0,o.e)({PolynomialXform:"polynomial"})],u.prototype,"type",void 0),u=n=(0,i._)([(0,l.$)("esri.layers.support.rasterTransforms.PolynomialTransform")],u)}}]);