"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1115],{21115:(e,t,a)=>{a.d(t,{previewSymbol2D:()=>B});var n=a(96220),l=a(775),i=a(98849),o=a(72777),s=a(89882),c=a(41977),r=a(88148),u=a(73532),h=a(51481);const m="picture-fill",p="picture-marker",d="simple-fill",f="simple-line",y="simple-marker",w="text",g="Aa",v=r.CB.size,b=r.CB.maxSize,k=r.CB.maxOutlineSize,z=r.CB.lineWidth,L=225,x=document.createElement("canvas");function C(e,t){const a=x.getContext("2d"),n=[];return t&&(t.weight&&n.push(t.weight),t.size&&n.push(t.size+"px"),t.family&&n.push(t.family)),a.font=n.join(" "),a.measureText(e).width}const M=7.2/2.54,S=72/2.54;function F(e){if(0===e.length)return 0;if(e.length>2){const t=(0,s.PN)(1),a=parseFloat(e);switch(e.slice(-2)){case"px":return a;case"pt":return a*t;case"in":return 72*a*t;case"pc":return 12*a*t;case"mm":return a*M*t;case"cm":return a*S*t}}return parseFloat(e)}function j(e){const t=e?.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,s.Lz)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,s.Lz)(t.height):null}}function A(e,t){return e>t?"dark":"light"}async function B(e,t){const{shapeDescriptor:a,size:n,renderOptions:l}=function(e,t){const a="number"==typeof t?.size?t?.size:null,n=null!=a?(0,s.Lz)(a):null,l=null!=t?.maxSize?(0,s.Lz)(t.maxSize):null,i=null!=t?.rotation?t.rotation:"angle"in e?e.angle:null,o=(0,c.eH)(e);let u=(0,c.$4)(e);"dark"!==E(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:"#bdc3c7"});const h={shape:null,fill:o,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,k));const L=u?.width||0;let x=null!=t?.size&&(null==t?.scale||t?.scale),M=0,S=0,A=!1;switch(e.type){case y:{const a=e.style,{width:o,height:c}=j(t),r=o===c&&null!=o?o:null!=n?n:Math.min((0,s.Lz)(e.size),l||b);switch(M=r,S=r,a){case"circle":h.shape={type:"circle",cx:0,cy:0,r:.5*r},x||(M+=L,S+=L);break;case"cross":h.shape={type:"path",path:[{command:"M",values:[0,.5*S]},{command:"L",values:[M,.5*S]},{command:"M",values:[.5*M,0]},{command:"L",values:[.5*M,S]}]};break;case"diamond":h.shape={type:"path",path:[{command:"M",values:[0,.5*S]},{command:"L",values:[.5*M,0]},{command:"L",values:[M,.5*S]},{command:"L",values:[.5*M,S]},{command:"Z",values:[]}]},x||(M+=L,S+=L);break;case"square":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[M,0]},{command:"L",values:[M,S]},{command:"L",values:[0,S]},{command:"Z",values:[]}]},x||(M+=L,S+=L),i&&(A=!0);break;case"triangle":h.shape={type:"path",path:[{command:"M",values:[.5*M,0]},{command:"L",values:[M,S]},{command:"L",values:[0,S]},{command:"Z",values:[]}]},x||(M+=L,S+=L),i&&(A=!0);break;case"x":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[M,S]},{command:"M",values:[M,0]},{command:"L",values:[0,S]}]},i&&(A=!0);break;case"path":h.shape={type:"path",path:e.path||""},x||(M+=L,S+=L),i&&(A=!0),x=!0}break}case f:{const{width:e,height:a}=j(t),l=null!=a?a:null!=n?n:L,i=null!=e?e:z;u&&(u.width=l),M=i,S=l;const o=h?.stroke?.cap||"butt",s="round"===o;x=!0,h.stroke&&(h.stroke.cap="butt"===o?"square":o),h.shape={type:"path",path:[{command:"M",values:[s?l/2:0,S/2]},{command:"L",values:[s?M-l/2:M,S/2]}]};break}case m:case d:{const e="object"==typeof t?.symbolConfig&&!!t?.symbolConfig?.isSquareFill,{width:a,height:l}=j(t);M=!e&&a!==l||null==a?null!=n?n:v:a,S=!e&&a!==l||null==l?M:l,x||(M+=L,S+=L),x=!0,h.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[M,0]},{command:"L",values:[M,S]},{command:"L",values:[0,S]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:r.nq.fill[0];break}case p:{const a=Math.min((0,s.Lz)(e.width),l||b),o=Math.min((0,s.Lz)(e.height),l||b),{width:c,height:r}=j(t),u=c===r&&null!=c?c:null!=n?n:Math.max(a,o),m=a/o;M=m<=1?Math.ceil(u*m):u,S=m<=1?u:Math.ceil(u/m),h.shape={type:"image",x:-Math.round(M/2),y:-Math.round(S/2),width:M,height:S,src:e.url||""},i&&(A=!0);break}case w:{const a=e,i=t?.overrideText||a.text||g,o=a.font,{width:c,height:r}=j(t),u=null!=r?r:null!=n?n:Math.min((0,s.Lz)(o.size),l||b),m=C(i,{weight:o.weight,size:u,family:o.family}),p=/[\uE600-\uE6FF]/.test(i);M=c??(p?u:m),S=u;let d=.25*F((o?u:0).toString());p&&(d+=5),h.shape={type:"text",text:i,x:a.xoffset||0,y:a.yoffset||d,align:"middle",alignBaseline:a.verticalAlignment,decoration:o&&o.decoration,rotated:a.rotated,kerning:a.kerning},h.font=o&&{size:u,style:o.style,decoration:o.decoration,weight:o.weight,family:o.family};break}}return{shapeDescriptor:h,size:[M,S],renderOptions:{node:t?.node,scale:x,opacity:t?.opacity,rotation:i,useRotationSize:A,effectView:t?.effectView,ariaLabel:t?.ariaLabel}}}(e,t);if(!a.shape)throw new i.A("symbolPreview: renderPreviewHTML2D","symbol not supported.");await async function(e,t){const a=t.fill,n=e.color;if("pattern"===a?.type&&n&&e.type!==m){const e=await(0,c.rc)(a.src,n.toCss(!0));a.src=e,t.fill=a}}(e,a),await async function(e,t,a,n){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,o.Al)(e.font)}catch{}const{width:l}=j(n),i=/[\uE600-\uE6FF]/.test(t.shape.text);null!=l||i||(a[0]=C(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family}))}(e,a,n,t);const L=[[a]];if("object"==typeof t?.symbolConfig&&t?.symbolConfig?.applyColorModulation){const e=.6*n[0];L.unshift([{...a,offset:[-e,0],fill:(0,r.QC)(a.fill,-.3)}]),L.push([{...a,offset:[e,0],fill:(0,r.QC)(a.fill,.3)}]),n[0]+=2*e,l.scale=!1}return"text"===e.type&&function(e,t,a,n,l){if(null!=e.haloColor&&null!=e.haloSize){l.masking??=a.map((()=>[]));const i=(0,s.Lz)(e.haloSize);n[0]+=i,n[1]+=i,a.unshift([{...t,fill:null,stroke:{color:e.haloColor,width:2*i,join:"round",cap:"round"}}]),l.masking.unshift([{shape:{type:"rect",x:0,y:0,width:n[0]+2*h.y7,height:n[1]+2*h.y7},fill:[255,255,255],stroke:null},{...t,fill:[0,0,0,0],stroke:null}])}null==e.backgroundColor&&null==e.borderLineColor||(n[0]+=2*h.y7,n[1]+=2*h.y7,a.unshift([{shape:{type:"rect",x:0,y:0,width:n[0],height:n[1]},fill:e.backgroundColor,stroke:{color:e.borderLineColor,width:(0,s.Lz)(e.borderLineSize)}}]),l.masking?.unshift([]))}(e,a,L,n,l),(0,u.fz)(L,n,l)}function E(e,t=L){const a=(0,c.eH)(e),i=(0,c.$4)(e),o=!a||"type"in a?null:new n.A(a),s=i?.color?new n.A(i?.color):null,r=o?A((0,l.Ws)(o),t):null,u=s?A((0,l.Ws)(s),t):null;return u?r?r===u?r:t>=L?"light":"dark":u:r}}}]);