"use strict";
exports.id = 8825;
exports.ids = [8825,84084,53921];
exports.modules = {

/***/ 20906:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  cZ: () => (/* binding */ resourceSerializationUtils_m),
  XW: () => (/* binding */ D),
  fe: () => (/* binding */ resourceSerializationUtils_h)
});

// UNUSED EXPORTS: addFeatureCollectionToInclusionDefinition, addIdMapToInclusionDefinition, deserializeFeatureCollection, deserializeIdCollectionMap, fetchAndConvertSerializedLinkChart, fetchAndDeserializeFeatureCollection, fetchAndDeserializeIdCollectionMap, serializeInclusionDefinitionToAllPbf, serializeInclusionDefinitionToEntitiesPbf, serializeInclusionDefinitionToRelationshipsPbf, setFeatureCollectionProperties

// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js
var request = __webpack_require__(38116);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var core_Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/MapUtils.js
var MapUtils = __webpack_require__(80294);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js
var featureConversionUtils = __webpack_require__(5525);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js
var OptimizedGeometry = __webpack_require__(65977);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(44153);
;// ./node_modules/@arcgis/core/rest/knowledgeGraph/ProtoFeatureCollection.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class ProtoFeatureCollection_t{constructor(){this.version="",this.queryResult=new e}}class e{constructor(){this.featureResult=new ProtoFeatureCollection_i}}class ProtoFeatureCollection_i{constructor(){this.objectIdFieldName="",this.uniqueIdField=new r,this.globalIdFieldName="",this.geohashFieldName="",this.geometryProperties=new ProtoFeatureCollection_a,this.geometryType=null,this.spatialReference=new SpatialReference/* default */.A,this.exceededTransferLimit=!1,this.hasZ=!1,this.hasM=!1,this.transform=new h,this.fields=[],this.fieldNameToAttributeIndexMap={},this.values=[],this.features=[],this.geometryFields=[]}}class r{constructor(){this.name="",this.isSystemMaintained=!1}}class ProtoFeatureCollection_a{constructor(){this.shapeAreaFieldName="",this.shapeLengthFieldName="",this.units=""}}class h{constructor(){this.quantizeOriginPosition="upperLeft",this.scale=new n,this.translate=new ProtoFeatureCollection_o}}class n{constructor(){this.xScale=0,this.yScale=0,this.mScale=0,this.zScale=0}}class ProtoFeatureCollection_o{constructor(){this.xTranslate=0,this.yTranslate=0,this.mTranslate=0,this.zTranslate=0}}class ProtoFeatureCollection_c{constructor(){this.name="",this.fieldType="esriFieldTypeString",this.alias="",this.sqlType="sqlTypeVarchar",this.domain="",this.defaultValue=""}}class ProtoFeatureCollection_l{constructor(){this.attributes=[],this.compressedGeometry=new E,this.centroid=new E,this.aggregateGeometries=[]}}class E{constructor(){this.geometryType=null,this.lengths=[],this.coords=[]}}class ProtoFeatureCollection_u extends ProtoFeatureCollection_c{constructor(){super(...arguments),this.geometryType="esriGeometryPoint"}}var T;!function(s){s.ELEMENTUID="ELEMENTUID",s.TYPENAME="TYPENAME"}(T||(T={}));const m=[T.ELEMENTUID,T.TYPENAME];var d,N;!function(s){s[s.ELEMENTUID=0]="ELEMENTUID",s[s.TYPENAME=1]="TYPENAME"}(d||(d={})),function(s){s[s.ELEMENTUID=0]="ELEMENTUID",s[s.TYPENAME=1]="TYPENAME",s[s.FROMUID=2]="FROMUID",s[s.TOUID=3]="TOUID"}(N||(N={}));

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/knowledgeWasmAccess.js
var knowledgeWasmAccess = __webpack_require__(2399);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/WasmDataModelWrapperInterfaces.js
var WasmDataModelWrapperInterfaces = __webpack_require__(13949);
;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/WasmSerializedLayerData.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var WasmSerializedLayerData_e,WasmSerializedLayerData_l,s,WasmSerializedLayerData_T;!function(e){e[e.featureResult=0]="featureResult",e[e.countResult=1]="countResult",e[e.idsResult=2]="idsResult"}(WasmSerializedLayerData_e||(WasmSerializedLayerData_e={})),function(e){e[e.upperLeft=0]="upperLeft",e[e.lowerLeft=1]="lowerLeft"}(WasmSerializedLayerData_l||(WasmSerializedLayerData_l={})),function(e){e[e.sqlTypeBigInt=0]="sqlTypeBigInt",e[e.sqlTypeBinary=1]="sqlTypeBinary",e[e.sqlTypeBit=2]="sqlTypeBit",e[e.sqlTypeChar=3]="sqlTypeChar",e[e.sqlTypeDate=4]="sqlTypeDate",e[e.sqlTypeDecimal=5]="sqlTypeDecimal",e[e.sqlTypeDouble=6]="sqlTypeDouble",e[e.sqlTypeFloat=7]="sqlTypeFloat",e[e.sqlTypeGeometry=8]="sqlTypeGeometry",e[e.sqlTypeGUID=9]="sqlTypeGUID",e[e.sqlTypeInteger=10]="sqlTypeInteger",e[e.sqlTypeLongNVarchar=11]="sqlTypeLongNVarchar",e[e.sqlTypeLongVarbinary=12]="sqlTypeLongVarbinary",e[e.sqlTypeLongVarchar=13]="sqlTypeLongVarchar",e[e.sqlTypeNChar=14]="sqlTypeNChar",e[e.sqlTypeNVarChar=15]="sqlTypeNVarChar",e[e.sqlTypeOther=16]="sqlTypeOther",e[e.sqlTypeReal=17]="sqlTypeReal",e[e.sqlTypeSmallInt=18]="sqlTypeSmallInt",e[e.sqlTypeSqlXml=19]="sqlTypeSqlXml",e[e.sqlTypeTime=20]="sqlTypeTime",e[e.sqlTypeTimestamp=21]="sqlTypeTimestamp",e[e.sqlTypeTimestamp2=22]="sqlTypeTimestamp2",e[e.sqlTypeTinyInt=23]="sqlTypeTinyInt",e[e.sqlTypeVarbinary=24]="sqlTypeVarbinary",e[e.sqlTypeVarchar=25]="sqlTypeVarchar"}(s||(s={})),function(e){e[e.OID_ARRAY=0]="OID_ARRAY",e[e.GLOBALID_ARRAY=1]="GLOBALID_ARRAY",e[e.STRING_ARRAY=2]="STRING_ARRAY",e[e.IDENTIFIER_ARRAY=3]="IDENTIFIER_ARRAY"}(WasmSerializedLayerData_T||(WasmSerializedLayerData_T={}));

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmToFeatureFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function wasmToFeatureFactories_d(s){const r=new ProtoFeatureCollection_t;r.version=s.version;const n=s.get_query_result();if(0!==n.results_type.value)throw new Error("Got a non-feature collection type");const l=n.get_feature_result(),i=r.queryResult.featureResult;i.objectIdFieldName=l.objectid_field_name,i.exceededTransferLimit=l.exceeded_transfer_limit,i.hasM=l.has_m,i.hasZ=l.has_z,i.geometryType=WasmDataModelWrapperInterfaces/* EsriGeometryTypes */.bV[l.geometry_type.value],i.globalIdFieldName=l.globalid_field_name,i.geohashFieldName=l.geohash_field_name;const c=i.uniqueIdField,d=l.unique_id_field;c.name=d.name,c.isSystemMaintained=d.isSystemMaintained;const p=i.geometryProperties,_=l.geometry_properties;p.shapeAreaFieldName=_.shapeAreaFieldName,p.shapeLengthFieldName=_.shapeLengthFieldName,p.units=_.units;const y=i.spatialReference,h=l.spatial_reference;y.wkid=h.wkid,y.latestWkid=h.latestWkid,y.vcsWkid=h.vcsWkid,y.latestVcsWkid=h.latestVcsWkid,y.wkt=h.wkt,i.transform=g(l.transform);const v=i.fields,T=i.fieldNameToAttributeIndexMap,w=l.fields,z=w.size();for(let e=0;e<z;e++){const t=w.get(e),a=wasmToFeatureFactories_m(t);v.push(a),T[a.name]=e,t.delete()}w.delete();const F=i.values,S=l.values_count();for(let e=0;e<S;e++)F.push(l.get_value_at(e));const k=i.features,b=l.features,q=b.size();if(q>0)for(const e of m)if(void 0===T[e])throw new Error(`Feature collection missing required attribute: ${e}`);for(let e=0;e<q;e++){const t=new ProtoFeatureCollection_l,s=b.get(e),r=t.attributes,n=s.attributes_count();for(let e=0;e<n;e++)r.push(s.get_attribute_at(e));const o=s.get_compressed_geometry();o&&(t.compressedGeometry=wasmToFeatureFactories_u(o),t.centroid=wasmToFeatureFactories_u(s.get_centroid()));const l=t.aggregateGeometries,i=s.aggregate_geometries,c=i.size();for(let e=0;e<c;e++){const t=i.get(e),a=wasmToFeatureFactories_u(t);l.push(a),t.delete()}i.delete(),k.push(t),s.delete()}b.delete();const W=i.geometryFields,x=l.geometry_fields,N=x.size();for(let e=0;e<N;e++){const t=x.get(e),a=f(t);W.push(a),t.delete()}return x.delete(),r}function wasmToFeatureFactories_u(e){const t=new E;t.geometryType=WasmDataModelWrapperInterfaces/* EsriGeometryTypes */.bV[e.geometry_type.value];const a=[],s=[];for(let r=0;r<e.lengths.length;r++)a.push(e.lengths[r]);for(let r=0;r<e.coords.length;r++)s.push(e.coords[r]);return t.lengths=a,t.coords=s,t}function wasmToFeatureFactories_m(e){const t=new ProtoFeatureCollection_c;return t.name=e.name,t.alias=e.alias,t.fieldType=WasmDataModelWrapperInterfaces/* EsriFieldTypes */.r5[e.field_type.value],t.sqlType=s[e.sql_type.value],t.domain=e.domain,t.defaultValue=e.default_value,t}function f(e){const t=wasmToFeatureFactories_m(e);return t.geometryType=WasmDataModelWrapperInterfaces/* EsriGeometryTypes */.bV[e.geometry_type.value],t}function g(e){const t=new h;t.quantizeOriginPosition=WasmSerializedLayerData_l[e.quantizeOriginPosition.value];const a=t.scale,r=e.scale;a.xScale=r.xScale,a.yScale=r.yScale,a.mScale=r.mScale,a.zScale=r.zScale;const n=t.translate,o=e.translate;return n.xTranslate=o.xTranslate,n.yTranslate=o.yTranslate,n.mTranslate=o.mTranslate,n.zTranslate=o.zTranslate,t}

;// ./node_modules/@arcgis/core/applications/KnowledgeStudio/resourceSerializationUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function p(e){const t=[],r={generateAllSublayers:!1,namedTypeDefinitions:new Map};return e.entitiesUrl&&t.push(resourceSerializationUtils_E(e.entitiesUrl).then((e=>{I(e,r)}))),e.relationshipsUrl&&t.push(resourceSerializationUtils_E(e.relationshipsUrl).then((e=>{I(e,r)}))),await Promise.all(t),r}async function resourceSerializationUtils_m(e,t){t??=!1;const r={generateAllSublayers:t,namedTypeDefinitions:new Map};return await k(e).then((e=>{M(e,r)})),r}async function _(e,t,r){const i=await l(),n=new i.FeatureCollection,s=new i.FeatureCollection;try{resourceSerializationUtils_T(n,i,e,"entities",t,r),resourceSerializationUtils_T(s,i,e,"relationships",t,r);const a=new i.FeatureCollectionEncoder,o=new i.FeatureCollectionEncoder,l=C(n,a),c=structuredClone(l),d=C(s,o),u={entitiesFC:c,relationshipsFC:structuredClone(d)};return a.delete(),o.delete(),u}finally{n.delete(),s.delete()}}async function w(e,t,r){const i=await l(),n=new i.FeatureCollection;try{resourceSerializationUtils_T(n,i,e,"entities",t,r);const s=new i.FeatureCollectionEncoder,a=C(n,s),o=structuredClone(a);return s.delete(),o}finally{n.delete()}}async function resourceSerializationUtils_g(e,t,r){const i=await l(),n=new i.FeatureCollection;try{resourceSerializationUtils_T(n,i,e,"relationships",t,r);const s=new i.FeatureCollectionEncoder,a=C(n,s),o=structuredClone(a);return s.delete(),o}finally{n.delete()}}async function resourceSerializationUtils_h(e){const r=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),i=new r.MapOfObjectIdentifierSets;b(i,r,e);const n=new r.MapOfObjectIdentifierSetsEncoder;try{n.set_map_of_identifier_sets(i),n.encode();const e=n.get_encoding_result();if(0!==e.error.error_code)throw new core_Error/* default */.A("knowledge-graph:layer-support-utils",e.error.error_message);const r=structuredClone(e.get_byte_buffer());return n.delete(),r}finally{i.delete()}}function resourceSerializationUtils_T(e,t,r,n,s,l){e.version="";const d=new t.QueryResult,f=new t.FeatureResult,p="entities"===n?a:o;f.unique_id_field={name:p[p.ELEMENTUID],isSystemMaintained:!1},f.globalid_field_name=p[p.ELEMENTUID],f.geohash_field_name="",f.geometry_properties={shapeAreaFieldName:"",shapeLengthFieldName:"",units:""},f.spatial_reference={wkid:4326,latestWkid:4326,vcsWkid:0,latestVcsWkid:0,wkt:""},f.exceeded_transfer_limit=!1,f.has_z=!1,f.has_m=!1,f.transform={quantizeOriginPosition:{value:u.upperLeft},scale:{xScale:1e-9,yScale:1e-9,mScale:1e-4,zScale:1e-4},translate:{xTranslate:-400,yTranslate:-400,mTranslate:-1e5,zTranslate:-1e5}};for(const i of Object.keys(p).filter((e=>isNaN(Number(e))))){const e=new t.Field;if(e.name=i,e.alias=i,e.sql_type={value:y.sqlTypeBigInt},"entities"===n)switch(i){case p[p.ELEMENTUID]:case p[p.TYPENAME]:e.field_type={value:c.esriFieldTypeString}}else switch(i){case p[p.ELEMENTUID]:case p[p.TYPENAME]:case o[o.FROMUID]:case o[o.TOUID]:e.field_type={value:c.esriFieldTypeString}}e.domain="",f.add_field(e),e.delete()}const m=new Map;for(const i of s.dataModel.entityTypes)m.set(i.name,"entities");for(const i of s.dataModel.relationshipTypes)m.set(i.name,"relationships");for(const[a,c]of r.namedTypeDefinitions)if(n===m.get(a))for(const e of c.members.values()){const r=new t.Feature;for(const i of Object.keys(p).filter((e=>isNaN(Number(e)))))if("entities"===n)switch(i){case p[p.ELEMENTUID]:r.add_attribute(e.id,t.esriFieldType.esriFieldTypeString);break;case p[p.TYPENAME]:r.add_attribute(a,t.esriFieldType.esriFieldTypeString)}else switch(i){case p[p.ELEMENTUID]:r.add_attribute(e.id,t.esriFieldType.esriFieldTypeString);break;case o[o.FROMUID]:r.add_attribute(l.has(e.id)?l.get(e.id)[0]:"",t.esriFieldType.esriFieldTypeString);break;case o[o.TOUID]:r.add_attribute(l.has(e.id)?l.get(e.id)[1]:"",t.esriFieldType.esriFieldTypeString);break;case p[p.TYPENAME]:r.add_attribute(a,t.esriFieldType.esriFieldTypeString)}let s;if(e.linkChartLocation&&"x"in e.linkChartLocation?s=i(e.linkChartLocation):e.linkChartLocation&&(s=e.linkChartLocation),e.linkChartLocation&&s){const e=new t.FeatureCollectionGeometry;let i=!1;switch(n){case"entities":e.geometry_type=t.esriGeometryType.esriGeometryPoint,i=!0;break;case"relationships":e.geometry_type=t.esriGeometryType.esriGeometryPolyline}e.coords=new Float64Array(s.coords),e.lengths=new Uint32Array(i?[1]:s.lengths),r.set_compressed_geometry(e),e.delete()}f.add_feature(r),r.delete()}switch(n){case"entities":f.geometry_type=t.esriGeometryType.esriGeometryPoint;break;case"relationships":f.geometry_type=t.esriGeometryType.esriGeometryPolyline}return d.set_feature_result(f),e.set_query_result(d),f.delete(),d.delete(),e}function b(e,t,r){for(const[i,n]of r.namedTypeDefinitions){if(!n.members||n.useAllData)continue;const r=n.members.keys();let s=!1,a=!0;const o=new t.ObjectIdArray,l=new t.StringArray,c=new t.GlobalIdArray,d=new t.IdentifierArray,u=new t.ObjectIdentifierSet;for(const e of r)a&&(s=!isNaN(Number(e)),a=!1),s?o.add_objectid(Number(e)):(l.add_string(e),c.add_globalid(e)),d.add_identifier(e);u.set_oid_array(o),u.set_string_array(l),u.set_globalid_array(c),u.set_identifier_array(d),o.delete(),l.delete(),c.delete(),d.delete(),e.put_identifier_set(i,u),u.delete()}return e}async function resourceSerializationUtils_E(t){const r=await (0,request/* default */.A)(t,{responseType:"array-buffer"});return F(await r.data)}async function F(e){const r=new((await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).FeatureCollectionDecoder),i=r.decode(new Uint8Array(e));if(0!==i.error_code)throw new core_Error/* default */.A("knowledge-graph:layer-support-utils",i.error_message);const n=r.get_feature_collection(),s=wasmToFeatureFactories_d(n);return r.delete(),s}async function k(t){const r=await (0,request/* default */.A)(t,{responseType:"array-buffer"}),i=await r.data;return A(new Uint8Array(i))}async function A(e){const r=new((await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).MapOfObjectIdentifierSetsDecoder),i=r.decode(new Uint8Array(e)),n=new Map;if(0!==i.error_code)throw new core_Error/* default */.A("knowledge-graph:layer-support-utils",i.error_message);const s=r.get_map_of_identifier_sets(),a=s.keys,o=a.size();for(let l=0;l<o;l++){const e=a.get(l),r=s.query_identifier_set(e),i=[];if(r.id_array_type.value===WasmSerializedLayerData_T.GLOBALID_ARRAY){const e=r.get_globalid_array(),t=e.count();for(let r=0;r<t;r++)i.push(e.get_globalid_at(r))}else if(r.id_array_type.value===WasmSerializedLayerData_T.IDENTIFIER_ARRAY){const e=r.get_identifier_array(),t=e.count();for(let r=0;r<t;r++)i.push(e.get_identifier_at(r).toString())}else if(r.id_array_type.value===WasmSerializedLayerData_T.STRING_ARRAY){const e=r.get_string_array(),t=e.count();for(let r=0;r<t;r++)i.push(e.get_string_at(r))}else{if(r.id_array_type.value!==WasmSerializedLayerData_T.OID_ARRAY)throw new core_Error/* default */.A("knowledge-graph:layer-support-utils","Tried to encode an unexpected ID Array type.");{const e=r.get_oid_array(),t=e.count();for(let r=0;r<t;r++)i.push(e.get_objectid_at(r).toString())}}n.set(e,i)}return r.delete(),n}function I(e,t){if(!e?.queryResult?.featureResult)return t;const i=e.queryResult.featureResult.fieldNameToAttributeIndexMap;for(const a of e.queryResult.featureResult.features){const e=a.attributes[i[T.TYPENAME]],o=(0,MapUtils/* getOrCreateMapValue */.tE)(t.namedTypeDefinitions,e,(()=>({useAllData:!1,members:new Map}))),l=a.attributes[i[T.ELEMENTUID]];if(a.compressedGeometry?.coords?.length>0){let e=a.compressedGeometry.lengths;"esriGeometryPoint"===a.compressedGeometry.geometryType&&(e=[]),o.members.set(l,{id:l,linkChartLocation:new OptimizedGeometry/* default */.A(e,a.compressedGeometry.coords)})}else o.members.set(l,{id:l})}return t}function M(e,t){for(const[i,n]of e){const e=(0,MapUtils/* getOrCreateMapValue */.tE)(t.namedTypeDefinitions,i,(()=>({useAllData:!1,members:new Map})));for(const t of n)e.members.has(t)||e.members.set(t,{id:t})}return t}const C=(e,r)=>{r.set_feature_collection(e),r.encode();const i=r.get_encoding_result();if(0!==i.error.error_code)throw new t("knowledge-graph:layer-support-utils",i.error.error_message);return i.get_byte_buffer()},D={fetchAndConvertSerializedLinkChart:e=>p(e)};


/***/ }),

/***/ 79207:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   q: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function t(t,r,f,n,h){o(t,r,f||0,n||t.length-1,h||a)}function o(t,a,f,n,h){for(;n>f;){if(n-f>600){var M=n-f+1,i=a-f+1,u=Math.log(M),c=.5*Math.exp(2*u/3),e=.5*Math.sqrt(u*c*(M-c)/M)*(i-M/2<0?-1:1);o(t,a,Math.max(f,Math.floor(a-i*c/M+e)),Math.min(n,Math.floor(a+(M-i)*c/M+e)),h)}var l=t[a],v=f,x=n;for(r(t,f,a),h(t[n],l)>0&&r(t,f,n);v<x;){for(r(t,v,x),v++,x--;h(t[v],l)<0;)v++;for(;h(t[x],l)>0;)x--}0===h(t[f],l)?r(t,f,x):r(t,++x,n),x<=a&&(f=x+1),a<=x&&(n=x-1)}}function r(t,o,r){var a=t[o];t[o]=t[r],t[r]=a}function a(t,o){return t<o?-1:t>o?1:0}


/***/ }),

/***/ 21120:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ E),
/* harmony export */   w: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3223);
/* harmony import */ var _compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(95039);
/* harmony import */ var _has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6273);
/* harmony import */ var _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11268);
/* harmony import */ var _chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(79207);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class s{constructor(t=9,i){this._compareMinX=u,this._compareMinY=d,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),i&&("function"==typeof i?this._toBBox=i:this._initFormat(i)),this.clear()}destroy(){this.clear(),Y.prune(),B.prune(),w.prune(),j.prune()}all(t){r(this._data,t)}search(t,i){let n=this._data;const e=this._toBBox;if(M(t,n))for(Y.clear();n;){for(let h=0,s=n.children.length;h<s;h++){const s=n.children[h],a=n.leaf?e(s):s;M(t,a)&&(n.leaf?i(s):g(t,a)?r(s,i):Y.push(s))}n=Y.pop()}}collides(t){let i=this._data;const n=this._toBBox;if(!M(t,i))return!1;for(Y.clear();i;){for(let e=0,h=i.children.length;e<h;e++){const h=i.children[e],s=i.leaf?n(h):h;if(M(t,s)){if(i.leaf||g(t,s))return!0;Y.push(h)}}i=Y.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}let i=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===i.height)this._splitRoot(this._data,i);else{if(this._data.height<i.height){const t=this._data;this._data=i,i=t}this._insert(i,this._data.height-i.height-1,!0)}else this._data=i;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new S([]),this}remove(i){if(!i)return this;let e,h=this._data,s=null,a=0,r=!1;const o=this._toBBox(i);for(w.clear(),j.clear();h||w.length>0;){if(h||(h=w.pop(),s=w.data[w.length-1],a=j.pop()??0,r=!0),h.leaf&&(e=(0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .indexOf */ .qh)(h.children,(0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toConst */ .zI)(i),h.children.length,h.indexHint),-1!==e))return h.children.splice(e,1),w.push(h),this._condense(w),this;r||h.leaf||!g(h,o)?s?(a++,h=s.children[a],r=!1):h=null:(w.push(h),j.push(a),a=0,s=h,h=h.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,i,n,e){const h=n-i+1;let s=this._maxEntries;if(h<=s){const e=new S(t.slice(i,n+1));return l(e,this._toBBox),e}e||(e=Math.ceil(Math.log(h)/Math.log(s)),s=Math.ceil(h/s**(e-1)));const a=new y([]);a.height=e;const r=Math.ceil(h/s),o=r*Math.ceil(Math.sqrt(s));X(t,i,n,o,this._compareMinX);for(let l=i;l<=n;l+=o){const i=Math.min(l+o-1,n);X(t,l,i,r,this._compareMinY);for(let n=l;n<=i;n+=r){const h=Math.min(n+r-1,i);a.children.push(this._build(t,n,h,e-1))}}return l(a,this._toBBox),a}_insert(t,i,n){const e=this._toBBox,h=n?t:e(t);w.clear();const s=a(h,this._data,i,w);for(s.children.push(t),m(s,h);i>=0&&w.data[i].children.length>this._maxEntries;)this._split(w,i),i--;o(h,w,i)}_split(t,i){const n=t.data[i],e=n.children.length,h=this._minEntries;this._chooseSplitAxis(n,h,e);const s=this._chooseSplitIndex(n,h,e);if(!s)return;const a=n.children.splice(s,n.children.length-s),r=n.leaf?new S(a):new y(a);r.height=n.height,l(n,this._toBBox),l(r,this._toBBox),i?t.data[i-1].children.push(r):this._splitRoot(n,r)}_splitRoot(t,i){this._data=new y([t,i]),this._data.height=t.height+1,l(this._data,this._toBBox)}_chooseSplitIndex(t,i,n){let e,h,s;e=h=1/0;for(let a=i;a<=n-i;a++){const i=c(t,0,a,this._toBBox),r=c(t,a,n,this._toBBox),o=p(i,r),l=f(i)+f(r);o<e?(e=o,s=a,h=l<h?l:h):o===e&&l<h&&(h=l,s=a)}return s}_chooseSplitAxis(t,i,n){const e=t.leaf?this._compareMinX:u,h=t.leaf?this._compareMinY:d;this._allDistMargin(t,i,n,e)<this._allDistMargin(t,i,n,h)&&t.children.sort(e)}_allDistMargin(t,i,n,e){t.children.sort(e);const h=this._toBBox,s=c(t,0,i,h),a=c(t,n-i,n,h);let r=x(s)+x(a);for(let o=i;o<n-i;o++){const i=t.children[o];m(s,t.leaf?h(i):i),r+=x(s)}for(let o=n-i-1;o>=i;o--){const i=t.children[o];m(a,t.leaf?h(i):i),r+=x(a)}return r}_condense(i){for(let n=i.length-1;n>=0;n--){const e=i.data[n];if(0===e.children.length)if(n>0){const h=i.data[n-1],s=h.children;s.splice((0,_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .indexOf */ .qh)(s,e,s.length,h.indexHint),1)}else this.clear();else l(e,this._toBBox)}}_initFormat(t){const i=["return a"," - b",";"];this._compareMinX=new Function("a","b",i.join(t[0])),this._compareMinY=new Function("a","b",i.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function a(t,i,n,e){for(;e.push(i),!0!==i.leaf&&e.length-1!==n;){let n,e=1/0,h=1/0;for(let s=0,a=i.children.length;s<a;s++){const a=i.children[s],r=f(a),o=_(t,a)-r;o<h?(h=o,e=r<e?r:e,n=a):o===h&&r<e&&(e=r,n=a)}i=n||i.children[0]}return i}function r(t,i){let e=t;for(B.clear();e;){if(!0===e.leaf)for(const t of e.children)i((0,_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .toConst */ .zI)(t));else B.pushArray(e.children);e=B.pop()??null}}function o(t,i,n){for(let e=n;e>=0;e--)m(i.data[e],t)}function l(t,i){c(t,0,t.children.length,i,t)}function c(t,i,n,e,h){h||(h=new S([])),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(let s,a=i;a<n;a++)s=t.children[a],m(h,t.leaf?e(s):s);return h}function m(t,i){t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY)}function u(t,i){return t.minX-i.minX}function d(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function x(t){return t.maxX-t.minX+(t.maxY-t.minY)}function _(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function p(t,i){const n=Math.max(t.minX,i.minX),e=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),s=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,s-e)}function g(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function M(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function X(t,i,n,e,s){const a=[i,n];for(;a.length;){const i=a.pop(),n=a.pop();if(i-n<=e)continue;const r=n+Math.ceil((i-n)/e/2)*e;(0,_chunks_quickselect_js__WEBPACK_IMPORTED_MODULE_4__.q)(t,r,n,i,s),a.push(n,r,r,i)}}const Y=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A,B=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A,w=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A,j=new _PooledArray_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({deallocator:void 0});class E{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class b extends E{constructor(){super(...arguments),this.height=1,this.indexHint=new _arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .PositionHint */ .vW}}class S extends b{constructor(t){super(),this.children=t,this.leaf=!0}}class y extends b{constructor(t){super(),this.children=t,this.leaf=!1}}


/***/ }),

/***/ 55784:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   M: () => (/* binding */ m),
/* harmony export */   s: () => (/* binding */ u)
/* harmony export */ });
/* harmony import */ var _DateOnly_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(76902);
/* harmony import */ var _errorSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61237);
/* harmony import */ var _SqlTimestampOffset_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9915);
/* harmony import */ var _TimeOnly_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3991);
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44641);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function u(n,e){const a=o[n.toLowerCase()];if(null==a)throw new _errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlError */ .L8(_errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlErrorCodes */ .Z7.FunctionNotRecognized);if(e.length<a.minParams||e.length>a.maxParams)throw new _errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlError */ .L8(_errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlErrorCodes */ .Z7.InvalidParameterCount,{name:n.toUpperCase()});return a.evaluate(e)}function m(n,l){const t=o[n.toLowerCase()];return null!=t&&l>=t.minParams&&l<=t.maxParams}const o={min:{minParams:1,maxParams:1,evaluate:n=>f(n[0],"min")},max:{minParams:1,maxParams:1,evaluate:n=>f(n[0],"max")},avg:{minParams:1,maxParams:1,evaluate:n=>i(n[0])},sum:{minParams:1,maxParams:1,evaluate:n=>c(n[0])},stddev:{minParams:1,maxParams:1,evaluate:n=>g(n[0])},count:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:n[0].length},var:{minParams:1,maxParams:1,evaluate:n=>P(n[0])}};function i(n){if(null===n)return null;let e=0,a=0;for(let r=0;r<n.length;r++){const u=n[r];if(null!==u){if(!s(u))throw new _errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlError */ .L8(_errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlErrorCodes */ .Z7.InvalidValueForAggregateFunction);a++,e+=u}}return 0===a?null:e/n.length}function s(n){return"number"==typeof n}function f(l,t){if(null===l)return null;let u=null,m=null;for(const o of l){let l=o;l=_DateOnly_js__WEBPACK_IMPORTED_MODULE_0__/* .DateOnly */ .n.isDateOnly(o)||_TimeOnly_js__WEBPACK_IMPORTED_MODULE_3__/* .TimeOnly */ .k.isTimeOnly(o)?o.toNumber():luxon__WEBPACK_IMPORTED_MODULE_4__/* .DateTime */ .c9.isDateTime(o)?o.toMillis():_SqlTimestampOffset_js__WEBPACK_IMPORTED_MODULE_2__/* .SqlTimeStampOffset */ .g.isTimestampOffset(o)?o.toMilliseconds():o,(null===u||"max"===t&&null!==m&&null!==l&&m<=l||"min"===t&&null!==m&&null!==l&&m>=l)&&(u=o,m=l)}return u}function c(n){if(null===n)return null;let e=0;for(let a=0;a<n.length;a++){const r=n[a];if(null!==r){if(!s(r))throw new _errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlError */ .L8(_errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlErrorCodes */ .Z7.InvalidValueForAggregateFunction);e+=r}}return e}function g(n){if(null===n)return null;const l=P(n);return null===l?null:Math.sqrt(l)}function P(n){if(null===n)return null;if(0===(n=n.filter((n=>null!==n))).length)return null;const e=i(n);if(null===e)return null;let a=0;for(const r of n){if(!s(r))throw new _errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlError */ .L8(_errorSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .SqlErrorCodes */ .Z7.InvalidValueForAggregateFunction);a+=(e-r)**2}return a/(n.length-1)}


/***/ }),

/***/ 9915:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(44641);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function e(t){return Number.isNaN(t)||0===t?t:Math.trunc(t)}const r="esri.core.sql.SqlTimeStampOffset";class i{constructor(t){this._timeStampOffset=t,this.declaredRootClass=r,this._date=null}static isTimestampOffset(t){return"object"==typeof t&&null!=t&&"declaredRootClass"in t&&t.declaredRootClass===r}toDateTime(){return this._date??=luxon__WEBPACK_IMPORTED_MODULE_0__/* .DateTime */ .c9.fromISO(this._timeStampOffset,{setZone:!0}),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return e(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return e(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return i.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(e){return new i(luxon__WEBPACK_IMPORTED_MODULE_0__/* .DateTime */ .c9.fromJSDate(e).toISO({includeOffset:!0}))}static fromDateTime(t){return new i(t.toISO({includeOffset:!0}))}static fromParts(t,e,r=0,o=0,a=0,s=0,n=0,m=!1,u=0,f=0){const S=`${t.toString().padStart(4,"0")}-${e.toString().padStart(2,"0")}-${r.toString().padStart(2,"0")}`;let d="";s<10&&(d="0");let l=`${o.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${d+s.toString()}`;0!==n&&(l+="."+n.toString().padStart(3,"0"));const c=`${m?"-":"+"}${u.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`;return new i(S+"T"+l+c)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let t=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return t&&(t=t.replace(".000","")),t}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(t){const e=this.toDateTime().plus(t);return i.fromDateTime(e)}}


/***/ }),

/***/ 88435:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ WhereClause_R)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/sql/AggregateFunctions.js
var AggregateFunctions = __webpack_require__(55784);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/sql/DateOnly.js
var DateOnly = __webpack_require__(76902);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/sql/errorSupport.js
var errorSupport = __webpack_require__(61237);
;// ./node_modules/@arcgis/core/core/sql/SqlInterval.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function r(r){if(null!==r.precision||null!==r.secondary)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.PrimarySecondaryQualifiers)}function s(e,t){if(t.includes(".")){const r=t.split(".");e.second=parseFloat(r[0]),e.millis=parseInt(r[1],10)}else e.second=parseFloat(t)}const l="esri.core.sql.SqlInterval";class SqlInterval_a{constructor(){this.declaredRootClass=l,this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static isInterval(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===l}static createFromMilliseconds(e){const t=new SqlInterval_a;return t.second=e/1e3,t}static createFromValueAndQualifier(l,o,n){let i=null;const p=new SqlInterval_a;if(p.op="-"===n?"-":"+","interval-period"===o.type){r(o);const a=new RegExp("^[0-9]{1,}$");if("year"===o.period||"month"===o.period)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.YearMonthIntervals);if("second"===o.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(l))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);s(p,l)}else{if(!a.test(l))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);p[o.period]=parseFloat(l)}}else{if(r(o.start),r(o.end),"year"===o.start.period||"month"===o.start.period||"year"===o.end.period||"month"===o.end.period)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.YearMonthIntervals);switch(o.start.period){case"day":switch(o.end.period){case"hour":if(i=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!i.test(l))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);p[o.start.period]=parseFloat(l.split(" ")[0]),p[o.end.period]=parseFloat(l.split(" ")[1]);break;case"minute":if(i=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!i.test(l))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);{p[o.start.period]=parseFloat(l.split(" ")[0]);const e=l.split(" ")[1].split(":");p.hour=parseFloat(e[0]),p.minute=parseFloat(e[1])}break;case"second":if(i=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(l))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);{p[o.start.period]=parseFloat(l.split(" ")[0]);const e=l.split(" ")[1].split(":");p.hour=parseFloat(e[0]),p.minute=parseFloat(e[1]),s(p,e[2])}break;default:throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval)}break;case"hour":switch(o.end.period){case"minute":if(i=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!i.test(l))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);p.hour=parseFloat(l.split(":")[0]),p.minute=parseFloat(l.split(":")[1]);break;case"second":if(i=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(l))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);{const e=l.split(":");p.hour=parseFloat(e[0]),p.minute=parseFloat(e[1]),s(p,e[2])}break;default:throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval)}break;case"minute":if("second"!==o.end.period)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);if(i=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!i.test(l))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval);{const e=l.split(":");p.minute=parseFloat(e[0]),s(p,e[1])}break;default:throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.IllegalInterval)}}return p}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/sql/SqlTimestampOffset.js
var SqlTimestampOffset = __webpack_require__(9915);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/sql/TimeOnly.js
var TimeOnly = __webpack_require__(3991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/sql/UnknownTimeZone.js
var UnknownTimeZone = __webpack_require__(69967);
// EXTERNAL MODULE: ./node_modules/luxon/src/luxon.js + 23 modules
var luxon = __webpack_require__(44641);
;// ./node_modules/@arcgis/core/core/sql/sqlDateParsingUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const d=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,m=/^(\d{1,2}):(\d{1,2})$/,I=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,f=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,u=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,c=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,w=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,h=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function T(n,e){if(e instanceof luxon/* Zone */.bo)return e===UnknownTimeZone/* UnknownTimeZone */.GB.instance?luxon/* DateTime */.c9.fromMillis(n.getTime(),{zone:UnknownTimeZone/* UnknownTimeZone */.GB.instance}):luxon/* DateTime */.c9.fromJSDate(n,{zone:e});switch(e){case"system":case"local":case null:return luxon/* DateTime */.c9.fromJSDate(n);default:return"unknown"===e?.toLowerCase()?luxon/* DateTime */.c9.fromMillis(n.getTime(),{zone:UnknownTimeZone/* UnknownTimeZone */.GB.instance}):luxon/* DateTime */.c9.fromJSDate(n,{zone:e})}}function v(n){return SqlInterval_a.isInterval(n)}function y(n){return luxon/* DateTime */.c9.isDateTime(n)}function S(e){return DateOnly/* DateOnly */.n.isDateOnly(e)}function x(n){return TimeOnly/* TimeOnly */.k.isTimeOnly(n)}function j(n){return SqlTimestampOffset/* SqlTimeStampOffset */.g.isTimestampOffset(n)}function O(n){let r=d.exec(n);if(null!==r){const[,n,a,i]=r,o=TimeOnly/* TimeOnly */.k.fromParts(parseInt(n,10),parseInt(a,10),parseInt(i,10),0);if(null!==o)return o;throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTime)}if(r=m.exec(n),null!==r){const[,n,a]=r,i=TimeOnly/* TimeOnly */.k.fromParts(parseInt(n,10),parseInt(a,10),0,0);if(null!==i)return i;throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTime)}if(r=I.exec(n),null!==r){const[,n,a,i,o]=r,l=TimeOnly/* TimeOnly */.k.fromParts(parseInt(n,10),parseInt(a,10),parseInt(i,10),parseInt(o,10));if(null!==l)return l;throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTime)}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTime)}function D(n,r,s=!1){let o=u.exec(n);if(null!==o){const[,n,a,s,p,d,m,I]=o,f=luxon/* DateTime */.c9.fromObject({year:parseInt(n,10),month:parseInt(a,10),day:parseInt(s,10),hour:parseInt(p,10),minute:parseInt(d,10),second:parseInt(m,10),millisecond:I?parseInt(I.replace(".",""),10):0},{zone:(0,UnknownTimeZone/* substituteUnknownTimezone */.Qo)(r)});if(!1===f.isValid)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTimeStamp);return f}if(o=c.exec(n),null!==o){const[,n,r,s,i,l,p,d,m,I,f]=o,u=SqlTimestampOffset/* SqlTimeStampOffset */.g.fromParts(parseInt(n,10),parseInt(r,10),parseInt(s,10),parseInt(i,10),parseInt(l,10),parseInt(p,10),d?parseInt(d.replace(".",""),10):0,"-"===m,parseInt(I,10),parseInt(f,10));if(!1===u.isValid)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTimeStamp);return u}if(o=w.exec(n),null!==o){const[,n,r,s,i,l,p,d,m]=o,I=SqlTimestampOffset/* SqlTimeStampOffset */.g.fromParts(parseInt(n,10),parseInt(r,10),parseInt(s,10),parseInt(i,10),parseInt(l,10),0,0,"-"===p,parseInt(d,10),parseInt(m,10));if(!1===I.isValid)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTimeStamp);return I}if(o=h.exec(n),null!==o){const[,n,a,s,p,d]=o,m=luxon/* DateTime */.c9.fromObject({year:parseInt(n,10),month:parseInt(a,10),day:parseInt(s,10),hour:parseInt(p,10),minute:parseInt(d,10),second:0},{zone:(0,UnknownTimeZone/* substituteUnknownTimezone */.Qo)(r)});if(!1===m.isValid)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTimeStamp);return m}if(o=f.exec(n),null!==o){const[,n,a,s]=o,p=luxon/* DateTime */.c9.fromObject({year:parseInt(n,10),month:parseInt(a,10),day:parseInt(s,10),hour:0,minute:0,second:0},{zone:(0,UnknownTimeZone/* substituteUnknownTimezone */.Qo)(r)});if(!1===p.isValid)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTimeStamp);return p}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidTimeStamp)}function $(r,a){const s=f.exec(r);if(null===s)try{return D(r,a)}catch{throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidDate)}const[,i,o,l]=s,p=DateOnly/* DateOnly */.n.fromParts(parseInt(i,10),parseInt(o,10),parseInt(l,10));if(null===p)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidDate);return p}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(4506);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/string.js
var string = __webpack_require__(21332);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/support/guards.js
var guards = __webpack_require__(42663);
;// ./node_modules/@arcgis/core/core/sql/sqlCompareUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const sqlCompareUtils_l=321408e5,sqlCompareUtils_w=26784e5,sqlCompareUtils_m=864e5,p=36e5,sqlCompareUtils_d=6e4;function sqlCompareUtils_h(r){return!!y(r)||!!j(r)}function sqlCompareUtils_O(r){return!!y(r)||(!!S(r)||(!!j(r)||!!x(r)))}function sqlCompareUtils_v(i){if(y(i))return i.toMillis();if(S(i))return i.toNumber();if(j(i))return i.toMilliseconds();throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidDataType)}function sqlCompareUtils_I(l,w,m){if(null==l||null==w)return null;if((0,guards/* isNumber */.Et)(l)){if((0,guards/* isNumber */.Et)(w))return sqlCompareUtils_T(l,w,m);if((0,guards/* isString */.Kg)(w))return sqlCompareUtils_D(l,w,m);if(sqlCompareUtils_O(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(S(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}else if((0,guards/* isString */.Kg)(l)){if((0,guards/* isNumber */.Et)(w))return M(l,w,m);if((0,guards/* isString */.Kg)(w))return z(l,w,m);if(y(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(S(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(x(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(j(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}else if(y(l)){if(sqlCompareUtils_h(w)){if((0,UnknownTimeZone/* isUnknownTimeZone */.Y4)(l.zone)){if(luxon/* DateTime */.c9.isDateTime(w)&&!(0,UnknownTimeZone/* isUnknownTimeZone */.Y4)(w.zone))return sqlCompareUtils_j(l,w,m);if(SqlTimestampOffset/* SqlTimeStampOffset */.g.isTimestampOffset(w))return sqlCompareUtils_j(l,w,m)}else if(luxon/* DateTime */.c9.isDateTime(w)&&(0,UnknownTimeZone/* isUnknownTimeZone */.Y4)(w.zone)){if(!(0,UnknownTimeZone/* isUnknownTimeZone */.Y4)(l.zone))return sqlCompareUtils_j(l,w,m);if(SqlTimestampOffset/* SqlTimeStampOffset */.g.isTimestampOffset(l))return sqlCompareUtils_j(l,w,m)}return sqlCompareUtils_T(sqlCompareUtils_v(l),sqlCompareUtils_v(w),m)}if((0,guards/* isString */.Kg)(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(S(w))return N(l,w,m);if(x(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if((0,guards/* isNumber */.Et)(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}else if(S(l)){if(j(w))return b(l,w,m);if(y(w))return sqlCompareUtils_x(l,w,m);if((0,guards/* isString */.Kg)(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(S(w))return sqlCompareUtils_T(l.toNumber(),w.toNumber(),m);if(x(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if((0,guards/* isNumber */.Et)(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}else if(x(l)){if(x(w))return sqlCompareUtils_T(l.toNumber(),w.toNumber(),m);if((0,guards/* isString */.Kg)(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if((0,guards/* isNumber */.Et)(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(S(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(sqlCompareUtils_h(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}else if(j(l)){if(sqlCompareUtils_h(w))return luxon/* DateTime */.c9.isDateTime(w)&&(0,UnknownTimeZone/* isUnknownTimeZone */.Y4)(w.zone)?sqlCompareUtils_j(l,w,m):sqlCompareUtils_T(sqlCompareUtils_v(l),sqlCompareUtils_v(w),m);if((0,guards/* isString */.Kg)(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if(S(w))return sqlCompareUtils_y(l,w,m);if(x(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);if((0,guards/* isNumber */.Et)(w))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}switch(m){case"<>":return l!==w;case"=":return l===w;case">":return l>w;case"<":return l<w;case">=":return l>=w;case"<=":return l<=w}}function sqlCompareUtils_T(r,e,t){switch(t){case"<>":return r!==e;case"=":return r===e;case">":return r>e;case"<":return r<e;case">=":return r>=e;case"<=":return r<=e}}function sqlCompareUtils_D(r,e,t){const n=parseFloat(e);if(!isNaN(n))return sqlCompareUtils_T(r,n,t);const i=r.toString();switch(t){case"<>":return i!==e;case"=":return i===e;case">":return i>e;case"<":return i<e;case">=":return i>=e;case"<=":return i<=e}}function M(r,e,t){const n=parseFloat(r);if(!isNaN(n))return sqlCompareUtils_T(n,e,t);const i=e.toString();switch(t){case"<>":return r!==i;case"=":return r===i;case">":return r>i;case"<":return r<i;case">=":return r>=i;case"<=":return r<=i}}function z(r,e,t){switch(t){case"<>":return r!==e;case"=":return r===e;case">":return r>e;case"<":return r<e;case">=":return r>=e;case"<=":return r<=e}}function N(r,e,t){const n=e.toDateTimeLuxon(r.zone);return sqlCompareUtils_T((r=r.startOf("day")).toMillis(),n.toMillis(),t)}function sqlCompareUtils_y(r,e,t){const n=e.toDateTimeLuxon(r.toDateTime().zone);return sqlCompareUtils_T((r=r.startOfDay()).toMilliseconds(),n.toMillis(),t)}function sqlCompareUtils_x(r,e,t){const n=r.toDateTimeLuxon(e.zone);return e=e.startOf("day"),sqlCompareUtils_T(n.toMillis(),e.toMillis(),t)}function b(r,e,t){const n=r.toDateTimeLuxon(e.toDateTime().zone);return e=e.startOfDay(),sqlCompareUtils_T(n.toMillis(),e.toMilliseconds(),t)}function sqlCompareUtils_j(r,e,t){SqlTimestampOffset/* SqlTimeStampOffset */.g.isTimestampOffset(r)&&(r=r.toDateTime()),SqlTimestampOffset/* SqlTimeStampOffset */.g.isTimestampOffset(e)&&(e=e.toDateTime());const n=g(r),i=g(e);switch(t){case"<>":return n!==i;case"=":return n===i;case">":return n>i;case"<":return n<i;case">=":return n>=i;case"<=":return n<=i}}function g(r){return r.year*sqlCompareUtils_l+r.month*sqlCompareUtils_w+r.day*sqlCompareUtils_m+r.hour*p+r.minute*sqlCompareUtils_d+1e3*r.second+r.millisecond}

;// ./node_modules/@arcgis/core/core/sql/StandardizedFunctions.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function StandardizedFunctions_E(a,e,n){const l=StandardizedFunctions_v[a.toLowerCase()];if(null==l)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.FunctionNotRecognized);if(e.length<l.minParams||e.length>l.maxParams)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidParameterCount,{name:a.toUpperCase()});return l.evaluate(e,n)}function StandardizedFunctions_p(a,e){const n=StandardizedFunctions_v[a.toLowerCase()];return null!=n&&e>=n.minParams&&e<=n.maxParams}function StandardizedFunctions_g(a){return!(0,guards/* isDate */.$P)(a)&&(!S(a)&&(!y(a)&&(!x(a)&&!j(a))))}function StandardizedFunctions_M(a){return S(a)||x(a)?a.toString():j(a)?a.toSQLValue():y(a)?0===a.millisecond?a.toFormat("yyyy-LL-dd HH:mm:ss"):a.toSQL({includeOffset:!1}):(0,guards/* isDate */.$P)(a)?StandardizedFunctions_M(luxon/* DateTime */.c9.fromJSDate(a)):a.toString()}function StandardizedFunctions_O(a){if((0,guards/* isDate */.$P)(a))return DateOnly/* DateOnly */.n.fromDateJS(a);if(y(a))return DateOnly/* DateOnly */.n.fromParts(a.year,a.month,a.day);if(S(a))return a;if(x(a))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);if(j(a)){if(null===DateOnly/* DateOnly */.n.fromParts(a.year,a.month,a.day))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue)}if((0,guards/* isString */.Kg)(a)){const e=DateOnly/* DateOnly */.n.fromReader(a);if(null!==e&&e.isValid)return e}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue)}function StandardizedFunctions_x(a,e,n){if((0,guards/* isDate */.$P)(a))return T(a,e);if(y(a))return a;if(S(a))return a.toDateTimeLuxon("unknown");if(x(a))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);if(j(a))return a;if((0,guards/* isString */.Kg)(a))return D(a,"unknown",n);throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue)}function StandardizedFunctions_T(a){if((0,guards/* isDate */.$P)(a))return TimeOnly/* TimeOnly */.k.fromDateJS(a);if(y(a))return TimeOnly/* TimeOnly */.k.fromDateTime(a);if(S(a))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);if(x(a))return a;if(j(a))return TimeOnly/* TimeOnly */.k.fromSqlTimeStampOffset(a);if((0,guards/* isString */.Kg)(a))return O(a);throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue)}const StandardizedFunctions_v={extract:{minParams:2,maxParams:2,evaluate:([a,e])=>{if(null==e)return null;if((0,guards/* isDate */.$P)(e))switch(a.toUpperCase()){case"SECOND":return e.getSeconds();case"MINUTE":return e.getMinutes();case"HOUR":return e.getHours();case"DAY":return e.getDate();case"MONTH":return e.getMonth()+1;case"YEAR":return e.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0;case"DOW":return luxon/* DateTime */.c9.fromJSDate(e,{zone:"system"}).weekday;case"DOY":return luxon/* DateTime */.c9.fromJSDate(e,{zone:"system"}).ordinal;case"WEEK":return luxon/* DateTime */.c9.fromJSDate(e,{zone:"system"}).weekNumber}else if(y(e))switch(a.toUpperCase()){case"SECOND":return e.second;case"MINUTE":return e.minute;case"HOUR":return e.hour;case"DAY":return e.day;case"MONTH":return e.month;case"YEAR":return e.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidFunctionParameters,{function:"EXTRACT"});case"DOW":return e.weekday;case"DOY":return e.ordinal;case"WEEK":return e.weekNumber}else if(S(e))switch(a.toUpperCase()){case"DAY":return e.day;case"MONTH":return e.month;case"YEAR":return e.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidFunctionParameters,{function:"EXTRACT"});case"DOW":return e.toDateTime("unknown").weekday;case"DOY":return e.toDateTime("unknown").ordinal;case"WEEK":return e.toDateTime("unknown").weekNumber}else if(x(e))switch(a.toUpperCase()){case"SECOND":return e.second;case"MINUTE":return e.minute;case"HOUR":return e.hour}else if(j(e))switch(a.toUpperCase()){case"SECOND":return e.second;case"MINUTE":return e.minute;case"HOUR":return e.hour;case"DAY":return e.day;case"MONTH":return e.month;case"YEAR":return e.year;case"TIMEZONE_HOUR":return e.timezoneOffsetHour;case"TIMEZONE_MINUTE":return e.timezoneOffsetMinutes;case"DOW":return e.toDateTime().weekday;case"DOY":return e.toDateTime().ordinal;case"WEEK":return e.toDateTime().weekNumber}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:a=>{if(2===a.length){const[e,n]=a;return null==e||null==n?null:e.toString().substring(n-1)}if(3===a.length){const[e,n,t]=a;return null==e||null==n||null==t?null:t<=0?"":e.toString().substring(n-1,n+t-1)}}},position:{minParams:2,maxParams:2,evaluate:([a,e])=>null==a||null==e?null:e.indexOf(a)+1},trim:{minParams:2,maxParams:3,evaluate:a=>{const n=3===a.length,l=n?a[1]:" ",u=n?a[2]:a[1];if(null==l||null==u)return null;const s=`(${(0,string/* escapeRegExpString */.Cj)(l)})`;switch(a[0]){case"BOTH":return u.replaceAll(new RegExp(`^${s}*|${s}*$`,"g"),"");case"LEADING":return u.replaceAll(new RegExp(`^${s}*`,"g"),"");case"TRAILING":return u.replaceAll(new RegExp(`${s}*$`,"g"),"")}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.abs(a[0])},ceiling:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.ceil(a[0])},floor:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.floor(a[0])},log:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.log(a[0])},log10:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.log(a[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.sin(a[0])},cos:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.cos(a[0])},tan:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.tan(a[0])},asin:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.asin(a[0])},acos:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.acos(a[0])},atan:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.atan(a[0])},sign:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:a[0]>0?1:a[0]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:a=>null==a[0]||null==a[1]?null:a[0]**a[1]},mod:{minParams:2,maxParams:2,evaluate:a=>null==a[0]||null==a[1]?null:a[0]%a[1]},round:{minParams:1,maxParams:2,evaluate:a=>{const e=a[0],n=2===a.length?10**a[1]:1;return null==e?null:Math.round(e*n)/n}},truncate:{minParams:1,maxParams:2,evaluate:e=>null==e[0]?null:1===e.length||0===e[1]?Math.trunc(e[0]):(0,mathUtils/* decimalAdjust */.pF)("trunc",e[0],-Number(e[1]))},char_length:{minParams:1,maxParams:1,evaluate:a=>(0,guards/* isString */.Kg)(a[0])?a[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:a=>{let e="";for(let n=0;n<a.length;n++){if(null==a[n])return null;e+=a[n].toString()}return e}},lower:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:a[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:a[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:a=>{for(const e of a)if(null!==e)return e;return null}},cosh:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.cosh(a[0])},sinh:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.sinh(a[0])},tanh:{minParams:1,maxParams:1,evaluate:a=>null==a[0]?null:Math.tanh(a[0])},nullif:{minParams:2,maxParams:2,evaluate:a=>sqlCompareUtils_I(a[0],a[1],"=")?null:a[0]},cast:{minParams:2,maxParams:2,evaluate:(a,e)=>{const n=a[0],l=a[1];if(null===n)return null;switch(l.type){case"integer":{if(!StandardizedFunctions_g(n))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);const a=parseInt(n,10);if(isNaN(a))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);return a}case"smallint":{if(!StandardizedFunctions_g(n))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);const a=parseInt(n,10);if(isNaN(a))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);if(a>32767||a<-32767)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);return a}case"float":case"real":{if(!StandardizedFunctions_g(n))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);const a=parseFloat(n);if(isNaN(a))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);return a}case"time":return StandardizedFunctions_T(n);case"date":return StandardizedFunctions_O(n);case"timestamp":return StandardizedFunctions_x(n,e,!0===l.withtimezone);case"varchar":{const a=StandardizedFunctions_M(n);if(a.length>l.size)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.CannotCastValue);return a}default:throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidDataType)}}}};

;// ./node_modules/@arcgis/core/core/sql/sqlArithmeticUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function sqlArithmeticUtils_d(l,d,sn,un){if("||"===l)return StandardizedFunctions_E("concat",[d,sn],un);if(null===d||null===sn)return null;if((0,guards/* isNumber */.Et)(d)){if((0,guards/* isNumber */.Et)(sn))return sqlArithmeticUtils_f(d,sn,l);if(v(sn))return sqlArithmeticUtils_M(d,sn,l);if(x(sn))return sqlArithmeticUtils_S();if(S(sn))return U();if(j(sn))return sqlArithmeticUtils_N();if(y(sn))return sqlArithmeticUtils_j();if((0,guards/* isString */.Kg)(sn))return sqlArithmeticUtils_g(d,sn,l);throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}if(S(d)){if((0,guards/* isNumber */.Et)(sn))return sqlArithmeticUtils_x(d,sn,l);if(v(sn))return sqlArithmeticUtils_T(d,sn,l);if(x(sn))return E();if(S(sn))return B(d,sn,l);if(j(sn))return A(d,sn,l);if(y(sn))return k(d,sn,l);if((0,guards/* isString */.Kg)(sn))return _();throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}if(x(d)){if((0,guards/* isNumber */.Et)(sn))return L(d,sn,l);if(v(sn))return sqlArithmeticUtils_p(d,sn,l);if(x(sn))return W();if(S(sn))return R();if(j(sn))return V();if(y(sn))return Q();if((0,guards/* isString */.Kg)(sn))return nn();throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}if(v(d)){if((0,guards/* isNumber */.Et)(sn))return sqlArithmeticUtils_m(d,sn,l);if(v(sn))return sqlArithmeticUtils_O(d,sn,l);if(x(sn))return sqlArithmeticUtils_v(d,sn,l);if(S(sn))return sqlArithmeticUtils_I(d,sn,l);if(j(sn))return sqlArithmeticUtils_h(d,sn,l);if(y(sn))return sqlArithmeticUtils_w(d,sn,l);if((0,guards/* isString */.Kg)(sn))return P();throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}if(y(d)){if((0,guards/* isNumber */.Et)(sn))return sqlArithmeticUtils_y(d,sn,l);if(v(sn))return sqlArithmeticUtils_D(d,sn,l);if(x(sn))return sqlArithmeticUtils_$();if(S(sn))return Y(d,sn,l);if(j(sn))return Z(d,sn,l);if(y(sn))return X(d,sn,l);if((0,guards/* isString */.Kg)(sn))return rn();throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}if(j(d)){if((0,guards/* isNumber */.Et)(sn))return sqlArithmeticUtils_z(d,sn,l);if(v(sn))return F(d,sn,l);if(x(sn))return G();if(S(sn))return H(d,sn,l);if(j(sn))return K(d,sn,l);if(y(sn))return J(d,sn,l);if((0,guards/* isString */.Kg)(sn))return en();throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}if((0,guards/* isString */.Kg)(d)){if((0,guards/* isNumber */.Et)(sn))return q(d,sn,l);if(v(sn))return sqlArithmeticUtils_b();if(x(sn))return tn();if(S(sn))return on();if(j(sn))return ln();if(y(sn))return an();if((0,guards/* isString */.Kg)(sn))return C(d,sn,l);throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_f(e,i,t){switch(t){case"+":return e+i;case"-":return e-i;case"*":return e*i;case"/":return e/i}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_w(e,i,t){switch(t){case"+":return i.plus({milliseconds:e.valueInMilliseconds()});case"-":return e.valueInMilliseconds()-i.toMillis()}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_v(e,i,t){if("+"===t)return i.plus("milliseconds",e.valueInMilliseconds());throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_I(e,i,t){if("+"===t)return i.plus("milliseconds",e.valueInMilliseconds());throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_p(e,i,t){switch(t){case"+":return e.plus("milliseconds",i.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*i.valueInMilliseconds())}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_h(e,i,t){if("+"===t)return i.addMilliseconds(e.valueInMilliseconds());throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_O(e,i,t){switch(t){case"+":return SqlInterval_a.createFromMilliseconds(e.valueInMilliseconds()+i.valueInMilliseconds());case"-":return SqlInterval_a.createFromMilliseconds(e.valueInMilliseconds()-i.valueInMilliseconds());case"*":return SqlInterval_a.createFromMilliseconds(e.valueInMilliseconds()*i.valueInMilliseconds());case"/":return SqlInterval_a.createFromMilliseconds(e.valueInMilliseconds()/i.valueInMilliseconds())}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_m(e,i,t){switch(t){case"+":return SqlInterval_a.createFromMilliseconds(e.valueInMilliseconds()+i);case"-":return SqlInterval_a.createFromMilliseconds(e.valueInMilliseconds()-i);case"*":return SqlInterval_a.createFromMilliseconds(e.valueInMilliseconds()*i);case"/":return SqlInterval_a.createFromMilliseconds(e.valueInMilliseconds()/i)}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_M(e,i,t){switch(t){case"+":return SqlInterval_a.createFromMilliseconds(e+i.valueInMilliseconds());case"-":return SqlInterval_a.createFromMilliseconds(e-i.valueInMilliseconds());case"*":return SqlInterval_a.createFromMilliseconds(e*i.valueInMilliseconds());case"/":return SqlInterval_a.createFromMilliseconds(e/i.valueInMilliseconds())}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_T(e,i,t){switch(t){case"+":return e.plus("milliseconds",i.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*i.valueInMilliseconds())}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_D(e,i,t){switch(t){case"+":return e.plus({milliseconds:i.valueInMilliseconds()});case"-":return e.minus({milliseconds:i.valueInMilliseconds()})}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function F(e,i,t){switch(t){case"+":return e.addMilliseconds(i.valueInMilliseconds());case"-":return e.addMilliseconds(-1*i.valueInMilliseconds())}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_y(e,i,t){const o=1e3*i*24*60*60;switch(t){case"+":return e.plus({milliseconds:o});case"-":return e.minus({milliseconds:o})}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_x(e,i,t){const o=1e3*i*24*60*60;switch(t){case"+":return e.plus("milliseconds",o);case"-":return e.plus("milliseconds",-1*o)}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function L(e,i,t){const o=1e3*i*24*60*60;switch(t){case"+":return e.plus("milliseconds",o);case"-":return e.plus("milliseconds",-1*o)}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_j(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_z(e,i,t){const o=1e3*i*24*60*60;switch(t){case"+":return e.addMilliseconds(o);case"-":return e.addMilliseconds(-1*o)}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_N(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_S(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function U(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_g(e,i,t){const o=parseFloat(i);if(isNaN(o))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);return sqlArithmeticUtils_f(e,o,t)}function q(e,i,t){const o=parseFloat(e);if(isNaN(o))throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator);return sqlArithmeticUtils_f(o,i,t)}function C(e,i,t){if("+"===t)return e+i;throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function P(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_b(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function k(e,i,t){if("-"===t)return e.toDateTimeLuxon(i.zone).diff(i).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function A(e,i,t){if("-"===t)return e.toDateTimeLuxon(i.toDateTime().zone).diff(i.toDateTime()).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function B(e,i,t){if("-"===t)return e.toDateTimeLuxon("UTC").diff(i.toDateTimeLuxon("UTC")).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function E(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function G(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function H(e,i,t){if("-"===t)return e.toDateTime().diff(i.toDateTimeLuxon(e.toDateTime().zone)).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function J(e,i,t){if("-"===t)return e.toDateTime().diff(i).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function K(e,i,t){if("-"===t)return e.toDateTime().diff(i.toDateTime()).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function Q(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function R(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function V(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function W(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function X(e,i,t){if("-"===t)return e.diff(i).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function Y(e,i,t){if("-"===t)return e.diff(i.toDateTimeLuxon(e.zone)).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function Z(e,i,t){if("-"===t)return e.diff(i.toDateTime()).as("days");throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function sqlArithmeticUtils_$(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function _(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function nn(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function rn(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function en(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function tn(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function on(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function an(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}function ln(e,i,t){throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.InvalidOperator)}

;// ./node_modules/@arcgis/core/core/sql/WhereGrammar.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class t extends SyntaxError{constructor(t,n,e,r){super(t),this.expected=n,this.found=e,this.location=r,this.name="SyntaxError"}format(t){let n="Error: "+this.message;if(this.location){let e=null;const r=t.find((t=>t.source===this.location.source));r&&(e=r.text.split(/\r\n|\n|\r/g));const o=this.location.start,u=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(o):o,i=this.location.source+":"+u.line+":"+u.column;if(e){const t=this.location.end,r="".padEnd(u.line.toString().length," "),c=e[o.line-1],l=(o.line===t.line?t.column:c.length+1)-o.column||1;n+="\n --\x3e "+i+"\n"+r+" |\n"+u.line+" | "+c+"\n"+r+" | "+"".padEnd(o.column-1," ")+"".padEnd(l,"^")}else n+="\n at "+i}return n}static buildMessage(t,n){function e(t){return t.codePointAt(0).toString(16).toUpperCase()}const r=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function o(t){return r?t.replace(r,(t=>"\\u{"+e(t)+"}")):t}function u(t){return o(t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(t=>"\\x0"+e(t))).replace(/[\x10-\x1F\x7F-\x9F]/g,(t=>"\\x"+e(t))))}function i(t){return o(t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(t=>"\\x0"+e(t))).replace(/[\x10-\x1F\x7F-\x9F]/g,(t=>"\\x"+e(t))))}const c={literal:t=>'"'+u(t.text)+'"',class(t){const n=t.parts.map((t=>Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)));return"["+(t.inverted?"^":"")+n.join("")+"]"+(t.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:t=>t.description};function l(t){return c[t.type](t)}function s(t){const n=t.map(l);if(n.sort(),n.length>0){let t=1;for(let e=1;e<n.length;e++)n[e-1]!==n[e]&&(n[t]=n[e],t++);n.length=t}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}function a(t){return t?'"'+u(t)+'"':"end of input"}return"Expected "+s(t)+" but "+a(n)+" found."}}function n(n,e){const r={},o=(e=void 0!==e?e:{}).grammarSource,u={start:yu};let i=yu;const c="!",l="=",s=">=",a=">",f="<=",p="<>",d="!=",v="||",y="@",h="'",g="N'",E="''",C=".",m="null",A="true",b="false",L="in",w="is",T="like",x="escape",N="not",R="and",I="or",O="between",F="from",S="for",M="substring",$="extract",D="trim",U="position",_="timestamp",H="date",P="time",Z="leading",j="trailing",k="both",z="cast",G="as",W="integer",B="int",Y="smallint",q="float",K="real",V="varchar",X="to",J="interval",Q="year",tt="timezone_hour",nt="timezone_minute",et="month",rt="day",ot="hour",ut="minute",it="second",ct="dow",lt="doy",st="week",at="case",ft="end",pt="when",dt="then",vt="else",yt=",",ht="(",gt=")",Et="`",Ct=/^[<-=]/,mt=/^[+\-]/,At=/^[*\/]/,bt=/^[A-Za-z_\x80-\uFFFF]/,Lt=/^[A-Za-z0-9_]/,wt=/^[A-Za-z0-9_.\x80-\uFFFF]/,Tt=/^["]/,xt=/^[^']/,Nt=/^[0-9]/,Rt=/^[eE]/,It=/^[ \t\n\r]/,Ot=/^[^`]/,Ft=cu("!",!1),St=cu("=",!1),Mt=cu(">=",!1),$t=cu(">",!1),Dt=cu("<=",!1),Ut=cu("<>",!1),_t=lu([["<","="]],!1,!1,!1),Ht=cu("!=",!1),Pt=lu(["+","-"],!1,!1,!1),Zt=cu("||",!1),jt=lu(["*","/"],!1,!1,!1),kt=lu([["A","Z"],["a","z"],"_",["",""]],!1,!1,!1),zt=lu([["A","Z"],["a","z"],["0","9"],"_"],!1,!1,!1),Gt=lu([["A","Z"],["a","z"],["0","9"],"_",".",["",""]],!1,!1,!1),Wt=lu(['"'],!1,!1,!1),Bt=cu("@",!1),Yt=cu("'",!1),qt=cu("N'",!1),Kt=cu("''",!1),Vt=lu(["'"],!0,!1,!1),Xt=cu(".",!1),Jt=lu([["0","9"]],!1,!1,!1),Qt=lu(["e","E"],!1,!1,!1),tn=cu("NULL",!0),nn=cu("TRUE",!0),en=cu("FALSE",!0),rn=cu("IN",!0),on=cu("IS",!0),un=cu("LIKE",!0),cn=cu("ESCAPE",!0),ln=cu("NOT",!0),sn=cu("AND",!0),an=cu("OR",!0),fn=cu("BETWEEN",!0),pn=cu("FROM",!0),dn=cu("FOR",!0),vn=cu("SUBSTRING",!0),yn=cu("EXTRACT",!0),hn=cu("TRIM",!0),gn=cu("POSITION",!0),En=cu("TIMESTAMP",!0),Cn=cu("DATE",!0),mn=cu("TIME",!0),An=cu("LEADING",!0),bn=cu("TRAILING",!0),Ln=cu("BOTH",!0),wn=cu("CAST",!0),Tn=cu("AS",!0),xn=cu("INTEGER",!0),Nn=cu("INT",!0),Rn=cu("SMALLINT",!0),In=cu("FLOAT",!0),On=cu("REAL",!0),Fn=cu("VARCHAR",!0),Sn=cu("TO",!0),Mn=cu("INTERVAL",!0),$n=cu("YEAR",!0),Dn=cu("TIMEZONE_HOUR",!0),Un=cu("TIMEZONE_MINUTE",!0),_n=cu("MONTH",!0),Hn=cu("DAY",!0),Pn=cu("HOUR",!0),Zn=cu("MINUTE",!0),jn=cu("SECOND",!0),kn=cu("DOW",!0),zn=cu("DOY",!0),Gn=cu("WEEK",!0),Wn=cu("CASE",!0),Bn=cu("END",!0),Yn=cu("WHEN",!0),qn=cu("THEN",!0),Kn=cu("ELSE",!0),Vn=cu(",",!1),Xn=cu("(",!1),Jn=cu(")",!1),Qn=lu([" ","\t","\n","\r"],!1,!1,!1),te=cu("`",!1),ne=lu(["`"],!0,!1,!1);function ee(t){return t}function re(t){return{type:"expression-list",location:ou(),value:t}}function oe(t,n,e){return{op:n,expr:e,location:ou()}}function ue(t,n){return Hc(t,n)}function ie(t,n,e){return{op:n,expr:e,location:ou()}}function ce(t,n){return Hc(t,n)}function le(t){return Dc("NOT",t,ou())}function se(t,n){if(""==n||null==n||null==n)return t;return"arithmetic"==n.type?Hc(t,n.tail):Uc(n.op,t,n.right,n.escape,ou())}function ae(t,n){return{op:t,expr:n,location:ou()}}function fe(t){return{type:"arithmetic",tail:t}}function pe(t,n){return{op:t+"NOT",right:n}}function de(t,n){return{op:t,right:n}}function ve(t,n,e){return _c(ou(),n,e)}function ye(t,n){return{op:"NOT"+t,right:n}}function he(t,n,e){return _c(ou(),n,e)}function ge(t,n){return{op:t,right:n}}function Ee(t){return t[0]+" "+t[2]}function Ce(t){return t[0]+" "+t[2]}function me(t,n,e){return{op:t,right:n,escape:e.value}}function Ae(t,n){return{op:t,right:n,escape:""}}function be(t,n){return{op:t,right:n}}function Le(t,n){return{op:t,right:n}}function we(t,n,e){return{op:n,expr:e,location:ou()}}function Te(t,n){return Hc(t,n)}function xe(t,n,e){return{op:n,expr:e,location:ou()}}function Ne(t,n){return Hc(t,n)}function Re(t){return t.paren=!0,t}function Ie(t){return/^CURRENT_DATE$/i.test(t)?{type:"current-time",location:ou(),mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(t)?{type:"current-time",location:ou(),mode:"timestamp"}:/^CURRENT_TIME$/i.test(t)?{type:"current-time",location:ou(),mode:"time"}:/^CURRENT_USER$/i.test(t)?{type:"current-user",location:ou()}:{type:"column-reference",location:ou(),table:"",column:t}}function Oe(t){return{type:"column-reference",location:ou(),table:"",column:t,delimited:!0}}function Fe(t){return t}function Se(t,n){return t+n.join("")}function Me(t,n){return t+n.join("")}function $e(t){return t}function De(t){return t.join("")}function Ue(){return'"'}function _e(t){return{type:"parameter",location:ou(),value:t[1]}}function He(t,n){return _c(ou(),t,n)}function Pe(t,n){return _c(ou(),t,n)}function Ze(t){return{type:"function",location:ou(),name:"extract",args:t}}function je(t,n,e){return _c(ou(),t,n,...e?[e]:[])}function ke(t,n,e){return _c(ou(),t,n,e)}function ze(t){return{type:"function",location:ou(),name:"substring",args:t}}function Ge(t,n){return _c(ou(),t,n)}function We(t,n){return _c(ou(),t,n)}function Be(t){return{type:"function",location:ou(),name:"cast",args:t}}function Ye(){return{type:"data-type",location:ou(),value:{type:"integer"}}}function qe(){return{type:"data-type",location:ou(),value:{type:"smallint"}}}function Ke(){return{type:"data-type",location:ou(),value:{type:"float"}}}function Ve(){return{type:"data-type",location:ou(),value:{type:"real"}}}function Xe(){return{type:"data-type",location:ou(),value:{type:"date"}}}function Je(){return{type:"data-type",location:ou(),value:{type:"timestamp"}}}function Qe(){return{type:"data-type",location:ou(),value:{type:"time"}}}function tr(t){return{type:"data-type",location:ou(),value:{type:"varchar",size:parseInt(t)}}}function nr(t,n,e){return _c(ou(),t,n,e)}function er(t,n){return _c(ou(),t,n)}function rr(t){return{type:"function",location:ou(),name:"trim",args:t}}function or(t){return{type:"string",location:ou(),value:t??"BOTH"}}function ur(t,n){return _c(ou(),t,n)}function ir(t,n){return _c(ou(),t,n)}function cr(t){return{type:"function",location:ou(),name:"position",args:t}}function lr(t,n){return{type:"function",location:ou(),name:t,args:n}}function sr(t){return{type:"string",location:ou(),value:t}}function ar(t){return"string"===t.type&&Pc(t.value),{type:"timestamp",location:ou(),value:t.value}}function fr(t){return"string"===t.type&&Zc(t.value),{type:"time",location:ou(),value:t.value}}function pr(t,n,e){return{type:"interval",location:ou(),value:n,qualifier:e,op:t}}function dr(t,n){return{type:"interval",location:ou(),value:t,qualifier:n,op:""}}function vr(t,n){return{type:"interval-qualifier",location:ou(),start:t,end:n}}function yr(t,n){return{type:"interval-period",location:ou(),period:t.value,precision:n,secondary:null}}function hr(t){return{type:"interval-period",location:ou(),period:t.value,precision:null,secondary:null}}function gr(t){return{type:"interval-period",location:ou(),period:t.value,precision:null,secondary:null}}function Er(t,n){return{type:"interval-period",location:ou(),period:"second",precision:t,secondary:n}}function Cr(t){return{type:"interval-period",location:ou(),period:"second",precision:t,secondary:null}}function mr(){return{type:"interval-period",location:ou(),period:"second",precision:null,secondary:null}}function Ar(t,n){return{type:"interval-period",location:ou(),period:t.value,precision:n,secondary:null}}function br(t){return{type:"interval-period",location:ou(),period:t.value,precision:null,secondary:null}}function Lr(t,n){return{type:"interval-period",location:ou(),period:"second",precision:t,secondary:n}}function wr(t){return{type:"interval-period",location:ou(),period:"second",precision:t,secondary:null}}function Tr(){return{type:"interval-period",location:ou(),period:"second",precision:null,secondary:null}}function xr(){return{type:"string",location:ou(),value:"day"}}function Nr(){return{type:"string",location:ou(),value:"hour"}}function Rr(){return{type:"string",location:ou(),value:"minute"}}function Ir(){return{type:"string",location:ou(),value:"month"}}function Or(){return{type:"string",location:ou(),value:"year"}}function Fr(t){return parseFloat(t)}function Sr(t){return parseFloat(t)}function Mr(t){return"string"===t.type&&jc(t.value),{type:"date",location:ou(),value:t.value}}function $r(){return{type:"null",location:ou(),value:null}}function Dr(){return{type:"boolean",location:ou(),value:!0}}function Ur(){return{type:"boolean",location:ou(),value:!1}}function _r(){return"'"}function Hr(t){return{type:"string",location:ou(),value:t.join("")}}function Pr(t,n){return{type:"case-expression",location:ou(),format:"simple",operand:t,clauses:n,else:null,elseLocation:null}}function Zr(t,n,e){return{type:"case-expression",location:ou(),format:"simple",operand:t,clauses:n,else:e.value,elseLocation:e.location}}function jr(t){return{type:"case-expression",location:ou(),format:"searched",clauses:t,else:null,elseLocation:null}}function kr(t,n){return{type:"case-expression",location:ou(),format:"searched",clauses:t,else:n.value,elseLocation:n.location}}function zr(t,n){return{type:"when-clause",location:ou(),operand:t,value:n}}function Gr(t,n){return{type:"when-clause",location:ou(),operand:t,value:n}}function Wr(t){return{type:"else-clause",location:ou(),value:t}}function Br(t){return{type:"number",location:ou(),value:t}}function Yr(t,n,e){return parseFloat(t+n+e)}function qr(t,n){return parseFloat(t+n)}function Kr(t,n){return parseFloat(t+n)}function Vr(t){return parseFloat(t)}function Xr(t,n){return t[0]+n}function Jr(t){return"."+(null!=t?t:"")}function Qr(t,n){return t+n}function to(t){return t.join("")}function no(t,n){return"e"+(null===n?"":n)}function eo(){return"IN"}function ro(){return"IS"}function oo(){return"LIKE"}function uo(){return"ESCAPE"}function io(){return"NOT"}function co(){return"AND"}function lo(){return"OR"}function so(){return"BETWEEN"}function ao(){return"FROM"}function fo(){return"FOR"}function po(){return"SUBSTRING"}function vo(){return"EXTRACT"}function yo(){return"TRIM"}function ho(){return"POSITION"}function go(){return"TIMESTAMP"}function Eo(){return"DATE"}function Co(){return"TIME"}function mo(){return"LEADING"}function Ao(){return"TRAILING"}function bo(){return"BOTH"}function Lo(){return"CAST"}function wo(){return"AS"}function To(){return"INTEGER"}function xo(){return"INT"}function No(){return"SMALLINT"}function Ro(){return"FLOAT"}function Io(){return"REAL"}function Oo(){return"VARCHAR"}function Fo(){return"TO"}function So(){return"INTERVAL"}function Mo(){return"YEAR"}function $o(){return"TIMEZONE_HOUR"}function Do(){return"TIMEZONE_MINUTE"}function Uo(){return"MONTH"}function _o(){return"DAY"}function Ho(){return"HOUR"}function Po(){return"MINUTE"}function Zo(){return"SECOND"}function jo(){return"DOW"}function ko(){return"DOY"}function zo(){return"WEEK"}function Go(){return"CASE"}function Wo(){return"END"}function Bo(){return"WHEN"}function Yo(){return"THEN"}function qo(){return"ELSE"}function Ko(t){return t}function Vo(t){return t.join("")}let Xo=0|e.peg$currPos,Jo=Xo;const Qo=[{line:1,column:1}];let tu,nu=Xo,eu=e.peg$maxFailExpected||[],ru=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in u))throw new Error("Can't start parsing from rule \""+e.startRule+'".');i=u[e.startRule]}function ou(){return fu(Jo,Xo)}function uu(t,n){throw du(t,n=void 0!==n?n:fu(Jo,Xo))}function iu(t=Xo){const e=n.codePointAt(t);return void 0===e?"":String.fromCodePoint(e)}function cu(t,n){return{type:"literal",text:t,ignoreCase:n}}function lu(t,n,e,r){return{type:"class",parts:t,inverted:n,ignoreCase:e,unicode:r}}function su(){return{type:"end"}}function au(t){let e,r=Qo[t];if(r)return r;if(t>=Qo.length)e=Qo.length-1;else for(e=t;!Qo[--e];);for(r=Qo[e],r={line:r.line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Qo[t]=r,r}function fu(t,n,e){const r=au(t),u=au(n);return{source:o,start:{offset:t,line:r.line,column:r.column},end:{offset:n,line:u.line,column:u.column}}}function pu(t){Xo<nu||(Xo>nu&&(nu=Xo,eu=[]),eu.push(t))}function du(n,e){return new t(n,null,null,e)}function vu(n,e,r){return new t(t.buildMessage(n,e),n,e,r)}function yu(){let t,n;return t=Xo,Sc(),n=gu(),n!==r?(Sc(),Jo=t,t=ee(n)):(Xo=t,t=r),t}function hu(){let t,n,e,o,u,i,c,l;if(t=Xo,n=Oc(),n!==r){for(Sc(),e=[],o=gu();o!==r;)e.push(o),o=Xo,u=Xo,i=Sc(),c=Ic(),c!==r?(l=Sc(),i=[i,c,l],u=i):(Xo=u,u=r),u!==r?(u=gu(),u===r?(Xo=o,o=r):o=u):o=u;o=Sc(),u=Fc(),u!==r?(Jo=t,t=re(e)):(Xo=t,t=r)}else Xo=t,t=r;return t}function gu(){let t,n,e,o,u,i;if(t=Xo,n=Eu(),n!==r){for(e=[],o=Xo,Sc(),u=zi(),u!==r?(Sc(),i=Eu(),i!==r?(Jo=o,o=oe(n,u,i)):(Xo=o,o=r)):(Xo=o,o=r);o!==r;)e.push(o),o=Xo,Sc(),u=zi(),u!==r?(Sc(),i=Eu(),i!==r?(Jo=o,o=oe(n,u,i)):(Xo=o,o=r)):(Xo=o,o=r);Jo=t,t=ue(n,e)}else Xo=t,t=r;return t}function Eu(){let t,n,e,o,u,i;if(t=Xo,n=Cu(),n!==r){for(e=[],o=Xo,Sc(),u=ki(),u!==r?(Sc(),i=Cu(),i!==r?(Jo=o,o=ie(n,u,i)):(Xo=o,o=r)):(Xo=o,o=r);o!==r;)e.push(o),o=Xo,Sc(),u=ki(),u!==r?(Sc(),i=Cu(),i!==r?(Jo=o,o=ie(n,u,i)):(Xo=o,o=r)):(Xo=o,o=r);Jo=t,t=ce(n,e)}else Xo=t,t=r;return t}function Cu(){let t,e,o,u,i;return t=Xo,e=ji(),e===r&&(e=Xo,33===n.charCodeAt(Xo)?(o=c,Xo++):(o=r,0===ru&&pu(Ft)),o!==r?(u=Xo,ru++,61===n.charCodeAt(Xo)?(i=l,Xo++):(i=r,0===ru&&pu(St)),ru--,i===r?u=void 0:(Xo=u,u=r),u!==r?(o=[o,u],e=o):(Xo=e,e=r)):(Xo=e,e=r)),e!==r?(o=Sc(),u=Cu(),u!==r?(Jo=t,t=le(u)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=mu()),t}function mu(){let t,n,e,o;return t=Xo,n=Ou(),n!==r?(e=Xo,Sc(),o=Au(),o!==r?e=o:(Xo=e,e=r),e===r&&(e=null),Jo=t,t=se(n,e)):(Xo=t,t=r),t}function Au(){let t;return t=bu(),t===r&&(t=Iu(),t===r&&(t=Tu(),t===r&&(t=wu(),t===r&&(t=Ru())))),t}function bu(){let t,n,e,o,u;if(t=Xo,n=[],e=Xo,Sc(),o=Lu(),o!==r?(Sc(),u=Ou(),u!==r?(Jo=e,e=ae(o,u)):(Xo=e,e=r)):(Xo=e,e=r),e!==r)for(;e!==r;)n.push(e),e=Xo,Sc(),o=Lu(),o!==r?(Sc(),u=Ou(),u!==r?(Jo=e,e=ae(o,u)):(Xo=e,e=r)):(Xo=e,e=r);else n=r;return n!==r&&(Jo=t,n=fe(n)),t=n,t}function Lu(){let t;return n.substr(Xo,2)===s?(t=s,Xo+=2):(t=r,0===ru&&pu(Mt)),t===r&&(62===n.charCodeAt(Xo)?(t=a,Xo++):(t=r,0===ru&&pu($t)),t===r&&(n.substr(Xo,2)===f?(t=f,Xo+=2):(t=r,0===ru&&pu(Dt)),t===r&&(n.substr(Xo,2)===p?(t=p,Xo+=2):(t=r,0===ru&&pu(Ut)),t===r&&(t=n.charAt(Xo),Ct.test(t)?Xo++:(t=r,0===ru&&pu(_t)),t===r&&(n.substr(Xo,2)===d?(t=d,Xo+=2):(t=r,0===ru&&pu(Ht))))))),t}function wu(){let t,n,e,o;return t=Xo,n=Hi(),n!==r?(Sc(),e=ji(),e!==r?(Sc(),o=Ou(),o!==r?(Jo=t,t=pe(n,o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=Hi(),n!==r?(Sc(),e=Ou(),e!==r?(Jo=t,t=de(n,e)):(Xo=t,t=r)):(Xo=t,t=r)),t}function Tu(){let t,n,e,o,u,i,c,l;return t=Xo,n=ji(),n!==r?(Sc(),e=Gi(),e!==r?(o=Sc(),u=Xo,i=Ou(),i!==r?(Sc(),c=ki(),c!==r?(Sc(),l=Ou(),l!==r?(Jo=u,u=ve(e,i,l)):(Xo=u,u=r)):(Xo=u,u=r)):(Xo=u,u=r),u!==r?(Jo=t,t=ye(e,u)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=Gi(),n!==r?(Sc(),e=Xo,o=Ou(),o!==r?(u=Sc(),i=ki(),i!==r?(Sc(),c=Ou(),c!==r?(Jo=e,e=he(n,o,c)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r),e!==r?(Jo=t,t=ge(n,e)):(Xo=t,t=r)):(Xo=t,t=r)),t}function xu(){let t,n,e,o,u;return t=Xo,n=Xo,e=ji(),e!==r?(o=Sc(),u=Pi(),u!==r?(e=[e,o,u],n=e):(Xo=n,n=r)):(Xo=n,n=r),n!==r&&(Jo=t,n=Ee(n)),t=n,t===r&&(t=Pi()),t}function Nu(){let t,n,e,o,u;return t=Xo,n=Xo,e=ji(),e!==r?(o=Sc(),u=_i(),u!==r?(e=[e,o,u],n=e):(Xo=n,n=r)):(Xo=n,n=r),n!==r&&(Jo=t,n=Ce(n)),t=n,t===r&&(t=_i()),t}function Ru(){let t,n,e,o,u;return t=Xo,n=xu(),n!==r?(Sc(),e=Ei(),e!==r?(Sc(),o=Zi(),o!==r?(Sc(),u=Ci(),u!==r?(Jo=t,t=me(n,e,u)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=xu(),n!==r?(Sc(),e=Ei(),e!==r?(Jo=t,t=Ae(n,e)):(Xo=t,t=r)):(Xo=t,t=r)),t}function Iu(){let t,n,e;return t=Xo,n=Nu(),n!==r?(Sc(),e=hu(),e!==r?(Jo=t,t=be(n,e)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=Nu(),n!==r?(Sc(),e=qu(),e!==r?(Jo=t,t=Le(n,e)):(Xo=t,t=r)):(Xo=t,t=r)),t}function Ou(){let t,n,e,o,u,i;if(t=Xo,n=Su(),n!==r){for(e=[],o=Xo,Sc(),u=Fu(),u!==r?(Sc(),i=Su(),i!==r?(Jo=o,o=we(n,u,i)):(Xo=o,o=r)):(Xo=o,o=r);o!==r;)e.push(o),o=Xo,Sc(),u=Fu(),u!==r?(Sc(),i=Su(),i!==r?(Jo=o,o=we(n,u,i)):(Xo=o,o=r)):(Xo=o,o=r);Jo=t,t=Te(n,e)}else Xo=t,t=r;return t}function Fu(){let t;return t=n.charAt(Xo),mt.test(t)?Xo++:(t=r,0===ru&&pu(Pt)),t===r&&(n.substr(Xo,2)===v?(t=v,Xo+=2):(t=r,0===ru&&pu(Zt))),t}function Su(){let t,n,e,o,u,i;if(t=Xo,n=$u(),n!==r){for(e=[],o=Xo,Sc(),u=Mu(),u!==r?(Sc(),i=$u(),i!==r?(Jo=o,o=xe(n,u,i)):(Xo=o,o=r)):(Xo=o,o=r);o!==r;)e.push(o),o=Xo,Sc(),u=Mu(),u!==r?(Sc(),i=$u(),i!==r?(Jo=o,o=xe(n,u,i)):(Xo=o,o=r)):(Xo=o,o=r);Jo=t,t=Ne(n,e)}else Xo=t,t=r;return t}function Mu(){let t;return t=n.charAt(Xo),At.test(t)?Xo++:(t=r,0===ru&&pu(jt)),t}function $u(){let t,n,e,o;return t=oi(),t===r&&(t=Ku(),t===r&&(t=Vu(),t===r&&(t=Qu(),t===r&&(t=ni(),t===r&&(t=Xu(),t===r&&(t=ei(),t===r&&(t=mi(),t===r&&(t=Du(),t===r&&(t=qu(),t===r&&(t=Xo,n=Oc(),n!==r?(Sc(),e=gu(),e!==r?(Sc(),o=Fc(),o!==r?(Jo=t,t=Re(e)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r))))))))))),t}function Du(){let t,n;return t=Xo,n=Uu(),n!==r&&(Jo=t,n=Ie(n)),t=n,t===r&&(t=Xo,n=ku(),n!==r&&(Jo=t,n=Oe(n)),t=n),t}function Uu(){let t,n;return t=Xo,n=_u(),n!==r&&(Jo=t,n=Fe(n)),t=n,t}function _u(){let t,n,e,o;if(t=Xo,n=Pu(),n!==r){for(e=[],o=ju();o!==r;)e.push(o),o=ju();Jo=t,t=Se(n,e)}else Xo=t,t=r;return t}function Hu(){let t,n,e,o;if(t=Xo,n=Pu(),n!==r){for(e=[],o=Zu();o!==r;)e.push(o),o=Zu();Jo=t,t=Me(n,e)}else Xo=t,t=r;return t}function Pu(){let t;return t=n.charAt(Xo),bt.test(t)?Xo++:(t=r,0===ru&&pu(kt)),t}function Zu(){let t;return t=n.charAt(Xo),Lt.test(t)?Xo++:(t=r,0===ru&&pu(zt)),t}function ju(){let t;return t=n.charAt(Xo),wt.test(t)?Xo++:(t=r,0===ru&&pu(Gt)),t}function ku(){let t,n,e,o;return t=Xo,n=Yu(),n!==r?(e=zu(),o=Yu(),o!==r?(Jo=t,t=$e(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function zu(){let t,n,e;for(t=Xo,n=[],e=Gu();e!==r;)n.push(e),e=Gu();return Jo=t,n=De(n),t=n,t}function Gu(){let t;return t=Bu(),t===r&&(t=Wu()),t}function Wu(){let t,n,e;return t=Xo,n=Yu(),n!==r?(e=Yu(),e!==r?(Jo=t,t=Ue()):(Xo=t,t=r)):(Xo=t,t=r),t}function Bu(){let t;return t=n.charAt(Xo),wt.test(t)?Xo++:(t=r,0===ru&&pu(Gt)),t}function Yu(){let t;return t=n.charAt(Xo),Tt.test(t)?Xo++:(t=r,0===ru&&pu(Wt)),t}function qu(){let t,e,o,u;return t=Xo,e=Xo,64===n.charCodeAt(Xo)?(o=y,Xo++):(o=r,0===ru&&pu(Bt)),o!==r?(u=Hu(),u!==r?(o=[o,u],e=o):(Xo=e,e=r)):(Xo=e,e=r),e!==r&&(Jo=t,e=_e(e)),t=e,t}function Ku(){let t,n,e,o,u,i,c,l;return t=Xo,n=qi(),n!==r?(Sc(),e=Xo,o=Oc(),o!==r?(Sc(),u=ri(),u!==r?(Sc(),i=Wi(),i!==r?(Sc(),c=gu(),c!==r?(Sc(),l=Fc(),l!==r?(Jo=e,e=He(u,c)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r),e===r&&(e=Xo,o=Oc(),o!==r?(Sc(),u=ri(),u!==r?(Sc(),i=Ic(),i!==r?(Sc(),c=gu(),c!==r?(Sc(),l=Fc(),l!==r?(Jo=e,e=Pe(u,c)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)),e!==r?(Jo=t,t=Ze(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function Vu(){let t,n,e,o,u,i,c,l,s,a,f;return t=Xo,n=Yi(),n!==r?(Sc(),e=Xo,o=Oc(),o!==r?(Sc(),u=gu(),u!==r?(Sc(),i=Wi(),i!==r?(Sc(),c=gu(),c!==r?(Sc(),l=Xo,s=Bi(),s!==r?(a=Sc(),f=gu(),f!==r?(Sc(),l=f):(Xo=l,l=r)):(Xo=l,l=r),l===r&&(l=null),s=Fc(),s!==r?(Jo=e,e=je(u,c,l)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r),e===r&&(e=Xo,o=Oc(),o!==r?(Sc(),u=gu(),u!==r?(Sc(),i=Ic(),i!==r?(Sc(),c=gu(),c!==r?(Sc(),l=Ic(),l!==r?(s=Sc(),a=gu(),a!==r?(f=Fc(),f!==r?(Jo=e,e=ke(u,c,a)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)),e!==r?(Jo=t,t=ze(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function Xu(){let t,n,e,o,u,i,c,l;return t=Xo,n=rc(),n!==r?(Sc(),e=Xo,o=Oc(),o!==r?(Sc(),u=gu(),u!==r?(Sc(),i=oc(),i!==r?(Sc(),c=Ju(),c!==r?(Sc(),l=Fc(),l!==r?(Jo=e,e=Ge(u,c)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r),e===r&&(e=Xo,o=Oc(),o!==r?(Sc(),u=gu(),u!==r?(Sc(),i=Ic(),i!==r?(Sc(),c=Ju(),c!==r?(Sc(),l=Fc(),l!==r?(Jo=e,e=We(u,c)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)),e!==r?(Jo=t,t=Be(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function Ju(){let t,n,e,o,u;return t=Xo,n=uc(),n===r&&(n=ic()),n!==r&&(Jo=t,n=Ye()),t=n,t===r&&(t=Xo,n=cc(),n!==r&&(Jo=t,n=qe()),t=n,t===r&&(t=Xo,n=lc(),n!==r&&(Jo=t,n=Ke()),t=n,t===r&&(t=Xo,n=sc(),n!==r&&(Jo=t,n=Ve()),t=n,t===r&&(t=Xo,n=Ji(),n!==r&&(Jo=t,n=Xe()),t=n,t===r&&(t=Xo,n=Xi(),n!==r&&(Jo=t,n=Je()),t=n,t===r&&(t=Xo,n=Qi(),n!==r&&(Jo=t,n=Qe()),t=n,t===r&&(t=Xo,n=ac(),n!==r?(Sc(),e=Oc(),e!==r?(Sc(),o=Fi(),o!==r?(Sc(),u=Fc(),u!==r?(Jo=t,t=tr(o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)))))))),t}function Qu(){let t,n,e,o,u,i,c,l,s;return t=Xo,n=Ki(),n!==r?(Sc(),e=Xo,o=Oc(),o!==r?(Sc(),u=ti(),Sc(),i=gu(),i!==r?(Sc(),c=Wi(),c!==r?(Sc(),l=gu(),l!==r?(Sc(),s=Fc(),s!==r?(Jo=e,e=nr(u,i,l)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r),e===r&&(e=Xo,o=Oc(),o!==r?(Sc(),u=ti(),Sc(),i=gu(),i!==r?(Sc(),c=Fc(),c!==r?(Jo=e,e=er(u,i)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)),e!==r?(Jo=t,t=rr(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function ti(){let t,n;return t=Xo,n=tc(),n===r&&(n=nc(),n===r&&(n=ec())),n===r&&(n=null),Jo=t,n=or(n),t=n,t}function ni(){let t,n,e,o,u,i,c,l;return t=Xo,n=Vi(),n!==r?(Sc(),e=Xo,o=Oc(),o!==r?(Sc(),u=gu(),u!==r?(Sc(),i=_i(),i!==r?(Sc(),c=gu(),c!==r?(Sc(),l=Fc(),l!==r?(Jo=e,e=ur(u,c)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r),e===r&&(e=Xo,o=Oc(),o!==r?(Sc(),u=gu(),u!==r?(Sc(),i=Ic(),i!==r?(Sc(),c=gu(),c!==r?(Sc(),l=Fc(),l!==r?(Jo=e,e=ir(u,c)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)):(Xo=e,e=r)),e!==r?(Jo=t,t=cr(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function ei(){let t,n,e,o;return t=Xo,n=Xo,ru++,e=qi(),ru--,e===r?n=void 0:(Xo=n,n=r),n!==r?(e=$c(),e!==r?(Sc(),o=hu(),o!==r?(Jo=t,t=lr(e,o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t}function ri(){let t,n;return t=Xo,n=dc(),n===r&&(n=hc(),n===r&&(n=gc(),n===r&&(n=Ec(),n===r&&(n=Cc(),n===r&&(n=mc(),n===r&&(n=vc(),n===r&&(n=yc(),n===r&&(n=Ac(),n===r&&(n=bc(),n===r&&(n=Lc())))))))))),n!==r&&(Jo=t,n=sr(n)),t=n,t}function oi(){let t;return t=Ci(),t===r&&(t=xi(),t===r&&(t=gi(),t===r&&(t=hi(),t===r&&(t=yi(),t===r&&(t=ui(),t===r&&(t=ci(),t===r&&(t=ii()))))))),t}function ui(){let t,n,e;return t=Xo,n=Xi(),n!==r?(Sc(),e=Ei(),e!==r?(Jo=t,t=ar(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function ii(){let t,n,e;return t=Xo,n=Qi(),n!==r?(Sc(),e=Ei(),e!==r?(Jo=t,t=fr(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function ci(){let t,e,o,u,i;return t=Xo,e=pc(),e!==r?(Sc(),o=n.charAt(Xo),mt.test(o)?Xo++:(o=r,0===ru&&pu(Pt)),o!==r?(Sc(),u=Ei(),u!==r?(Sc(),i=li(),i!==r?(Jo=t,t=pr(o,u,i)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,e=pc(),e!==r?(Sc(),o=Ei(),o!==r?(Sc(),u=li(),u!==r?(Jo=t,t=dr(o,u)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)),t}function li(){let t,n,e,o;return t=Xo,n=si(),n!==r?(Sc(),e=fc(),e!==r?(Sc(),o=ai(),o!==r?(Jo=t,t=vr(n,o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=fi()),t}function si(){let t,n,e,o,u;return t=Xo,n=pi(),n!==r?(Sc(),e=Oc(),e!==r?(Sc(),o=vi(),o!==r?(Sc(),u=Fc(),u!==r?(Jo=t,t=yr(n,o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=pi(),n!==r&&(Jo=t,n=hr(n)),t=n),t}function ai(){let t,n,e,o,u,i,c;return t=Xo,n=pi(),n!==r&&(Jo=t,n=gr(n)),t=n,t===r&&(t=Xo,n=mc(),n!==r?(Sc(),e=Oc(),e!==r?(Sc(),o=vi(),o!==r?(Sc(),u=Ic(),u!==r?(Sc(),i=di(),i!==r?(Sc(),c=Fc(),c!==r?(Jo=t,t=Er(o,i)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=mc(),n!==r?(Sc(),e=Oc(),e!==r?(Sc(),o=vi(),o!==r?(Sc(),u=Fc(),u!==r?(Jo=t,t=Cr(o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=mc(),n!==r&&(Jo=t,n=mr()),t=n))),t}function fi(){let t,n,e,o,u,i,c;return t=Xo,n=pi(),n!==r?(Sc(),e=Oc(),e!==r?(Sc(),o=di(),o!==r?(Sc(),u=Fc(),u!==r?(Jo=t,t=Ar(n,o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=pi(),n!==r&&(Jo=t,n=br(n)),t=n,t===r&&(t=Xo,n=mc(),n!==r?(Sc(),e=Oc(),e!==r?(Sc(),o=vi(),o!==r?(Sc(),u=Ic(),u!==r?(Sc(),i=di(),i!==r?(Sc(),c=Fc(),c!==r?(Jo=t,t=Lr(o,i)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=mc(),n!==r?(Sc(),e=Oc(),e!==r?(Sc(),o=di(),o!==r?(Sc(),u=Fc(),u!==r?(Jo=t,t=wr(o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=mc(),n!==r&&(Jo=t,n=Tr()),t=n)))),t}function pi(){let t,n;return t=Xo,n=gc(),n!==r&&(Jo=t,n=xr()),t=n,t===r&&(t=Xo,n=Ec(),n!==r&&(Jo=t,n=Nr()),t=n,t===r&&(t=Xo,n=Cc(),n!==r&&(Jo=t,n=Rr()),t=n,t===r&&(t=Xo,n=hc(),n!==r&&(Jo=t,n=Ir()),t=n,t===r&&(t=Xo,n=dc(),n!==r&&(Jo=t,n=Or()),t=n)))),t}function di(){let t,n;return t=Xo,n=Fi(),n!==r&&(Jo=t,n=Fr(n)),t=n,t}function vi(){let t,n;return t=Xo,n=Fi(),n!==r&&(Jo=t,n=Sr(n)),t=n,t}function yi(){let t,n,e;return t=Xo,n=Ji(),n!==r?(Sc(),e=Ei(),e!==r?(Jo=t,t=Mr(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function hi(){let t,n;return t=Xo,n=$i(),n!==r&&(Jo=t,n=$r()),t=n,t}function gi(){let t,n;return t=Xo,n=Di(),n!==r&&(Jo=t,n=Dr()),t=n,t===r&&(t=Xo,n=Ui(),n!==r&&(Jo=t,n=Ur()),t=n),t}function Ei(){let t;return t=Ci(),t===r&&(t=qu()),t}function Ci(){let t,e,o,u,i;if(t=Xo,39===n.charCodeAt(Xo)?(e=h,Xo++):(e=r,0===ru&&pu(Yt)),e===r&&(n.substr(Xo,2)===g?(e=g,Xo+=2):(e=r,0===ru&&pu(qt))),e!==r){for(o=[],u=Xo,n.substr(Xo,2)===E?(i=E,Xo+=2):(i=r,0===ru&&pu(Kt)),i!==r&&(Jo=u,i=_r()),u=i,u===r&&(u=n.charAt(Xo),xt.test(u)?Xo++:(u=r,0===ru&&pu(Vt)));u!==r;)o.push(u),u=Xo,n.substr(Xo,2)===E?(i=E,Xo+=2):(i=r,0===ru&&pu(Kt)),i!==r&&(Jo=u,i=_r()),u=i,u===r&&(u=n.charAt(Xo),xt.test(u)?Xo++:(u=r,0===ru&&pu(Vt)));39===n.charCodeAt(Xo)?(u=h,Xo++):(u=r,0===ru&&pu(Yt)),u!==r?(Jo=t,t=Hr(o)):(Xo=t,t=r)}else Xo=t,t=r;return t}function mi(){let t;return t=Ai(),t===r&&(t=bi()),t}function Ai(){let t,n,e,o,u,i,c;if(t=Xo,n=wc(),n!==r)if(Sc(),e=gu(),e!==r){for(Sc(),o=[],u=Xo,i=wi(),i!==r?(c=Sc(),u=i):(Xo=u,u=r);u!==r;)o.push(u),u=Xo,i=wi(),i!==r?(c=Sc(),u=i):(Xo=u,u=r);u=Tc(),u!==r?(Jo=t,t=Pr(e,o)):(Xo=t,t=r)}else Xo=t,t=r;else Xo=t,t=r;if(t===r)if(t=Xo,n=wc(),n!==r)if(Sc(),e=gu(),e!==r){for(Sc(),o=[],u=Xo,i=wi(),i!==r?(c=Sc(),u=i):(Xo=u,u=r);u!==r;)o.push(u),u=Xo,i=wi(),i!==r?(c=Sc(),u=i):(Xo=u,u=r);u=Ti(),u!==r?(i=Sc(),c=Tc(),c!==r?(Jo=t,t=Zr(e,o,u)):(Xo=t,t=r)):(Xo=t,t=r)}else Xo=t,t=r;else Xo=t,t=r;return t}function bi(){let t,n,e,o,u,i;if(t=Xo,n=wc(),n!==r){for(Sc(),e=[],o=Xo,u=Li(),u!==r?(i=Sc(),o=u):(Xo=o,o=r);o!==r;)e.push(o),o=Xo,u=Li(),u!==r?(i=Sc(),o=u):(Xo=o,o=r);o=Tc(),o!==r?(Jo=t,t=jr(e)):(Xo=t,t=r)}else Xo=t,t=r;if(t===r)if(t=Xo,n=wc(),n!==r){for(Sc(),e=[],o=Xo,u=Li(),u!==r?(i=Sc(),o=u):(Xo=o,o=r);o!==r;)e.push(o),o=Xo,u=Li(),u!==r?(i=Sc(),o=u):(Xo=o,o=r);o=Ti(),o!==r?(u=Sc(),i=Tc(),i!==r?(Jo=t,t=kr(e,o)):(Xo=t,t=r)):(Xo=t,t=r)}else Xo=t,t=r;return t}function Li(){let t,n,e,o,u;return t=Xo,n=xc(),n!==r?(Sc(),e=gu(),e!==r?(Sc(),o=Nc(),o!==r?(Sc(),u=gu(),u!==r?(Jo=t,t=zr(e,u)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t}function wi(){let t,n,e,o,u;return t=Xo,n=xc(),n!==r?(Sc(),e=gu(),e!==r?(Sc(),o=Nc(),o!==r?(Sc(),u=gu(),u!==r?(Jo=t,t=Gr(e,u)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t}function Ti(){let t,n,e;return t=Xo,n=Rc(),n!==r?(Sc(),e=gu(),e!==r?(Jo=t,t=Wr(e)):(Xo=t,t=r)):(Xo=t,t=r),t}function xi(){let t,n,e,o;return t=Xo,n=Ni(),n!==r?(e=Xo,ru++,o=Pu(),ru--,o===r?e=void 0:(Xo=e,e=r),e!==r?(Jo=t,t=Br(n)):(Xo=t,t=r)):(Xo=t,t=r),t}function Ni(){let t,n,e,o;return t=Xo,n=Ri(),n!==r?(e=Ii(),e!==r?(o=Oi(),o!==r?(Jo=t,t=Yr(n,e,o)):(Xo=t,t=r)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=Ri(),n!==r?(e=Ii(),e!==r?(Jo=t,t=qr(n,e)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=Ri(),n!==r?(e=Oi(),e!==r?(Jo=t,t=Kr(n,e)):(Xo=t,t=r)):(Xo=t,t=r),t===r&&(t=Xo,n=Ri(),n!==r&&(Jo=t,n=Vr(n)),t=n))),t}function Ri(){let t,e,o;return t=Fi(),t===r&&(t=Xo,e=n.charAt(Xo),mt.test(e)?Xo++:(e=r,0===ru&&pu(Pt)),e!==r?(o=Fi(),o!==r?(Jo=t,t=Xr(e,o)):(Xo=t,t=r)):(Xo=t,t=r)),t}function Ii(){let t,e,o;return t=Xo,46===n.charCodeAt(Xo)?(e=C,Xo++):(e=r,0===ru&&pu(Xt)),e!==r?(o=Fi(),o===r&&(o=null),Jo=t,t=Jr(o)):(Xo=t,t=r),t}function Oi(){let t,n,e;return t=Xo,n=Mi(),n!==r?(e=Fi(),e!==r?(Jo=t,t=Qr(n,e)):(Xo=t,t=r)):(Xo=t,t=r),t}function Fi(){let t,n,e;if(t=Xo,n=[],e=Si(),e!==r)for(;e!==r;)n.push(e),e=Si();else n=r;return n!==r&&(Jo=t,n=to(n)),t=n,t}function Si(){let t;return t=n.charAt(Xo),Nt.test(t)?Xo++:(t=r,0===ru&&pu(Jt)),t}function Mi(){let t,e,o;return t=Xo,e=n.charAt(Xo),Rt.test(e)?Xo++:(e=r,0===ru&&pu(Qt)),e!==r?(o=n.charAt(Xo),mt.test(o)?Xo++:(o=r,0===ru&&pu(Pt)),o===r&&(o=null),Jo=t,t=no(e,o)):(Xo=t,t=r),t}function $i(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===m?Xo+=4:(e=r,0===ru&&pu(tn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(e=[e,o],t=e):(Xo=t,t=r)):(Xo=t,t=r),t}function Di(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===A?Xo+=4:(e=r,0===ru&&pu(nn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(e=[e,o],t=e):(Xo=t,t=r)):(Xo=t,t=r),t}function Ui(){let t,e,o,u;return t=Xo,e=n.substr(Xo,5),e.toLowerCase()===b?Xo+=5:(e=r,0===ru&&pu(en)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(e=[e,o],t=e):(Xo=t,t=r)):(Xo=t,t=r),t}function _i(){let t,e,o,u;return t=Xo,e=n.substr(Xo,2),e.toLowerCase()===L?Xo+=2:(e=r,0===ru&&pu(rn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=eo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Hi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,2),e.toLowerCase()===w?Xo+=2:(e=r,0===ru&&pu(on)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=ro()):(Xo=t,t=r)):(Xo=t,t=r),t}function Pi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===T?Xo+=4:(e=r,0===ru&&pu(un)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=oo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Zi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,6),e.toLowerCase()===x?Xo+=6:(e=r,0===ru&&pu(cn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=uo()):(Xo=t,t=r)):(Xo=t,t=r),t}function ji(){let t,e,o,u;return t=Xo,e=n.substr(Xo,3),e.toLowerCase()===N?Xo+=3:(e=r,0===ru&&pu(ln)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=io()):(Xo=t,t=r)):(Xo=t,t=r),t}function ki(){let t,e,o,u;return t=Xo,e=n.substr(Xo,3),e.toLowerCase()===R?Xo+=3:(e=r,0===ru&&pu(sn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=co()):(Xo=t,t=r)):(Xo=t,t=r),t}function zi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,2),e.toLowerCase()===I?Xo+=2:(e=r,0===ru&&pu(an)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=lo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Gi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,7),e.toLowerCase()===O?Xo+=7:(e=r,0===ru&&pu(fn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=so()):(Xo=t,t=r)):(Xo=t,t=r),t}function Wi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===F?Xo+=4:(e=r,0===ru&&pu(pn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=ao()):(Xo=t,t=r)):(Xo=t,t=r),t}function Bi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,3),e.toLowerCase()===S?Xo+=3:(e=r,0===ru&&pu(dn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=fo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Yi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,9),e.toLowerCase()===M?Xo+=9:(e=r,0===ru&&pu(vn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=po()):(Xo=t,t=r)):(Xo=t,t=r),t}function qi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,7),e.toLowerCase()===$?Xo+=7:(e=r,0===ru&&pu(yn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=vo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Ki(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===D?Xo+=4:(e=r,0===ru&&pu(hn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=yo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Vi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,8),e.toLowerCase()===U?Xo+=8:(e=r,0===ru&&pu(gn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=ho()):(Xo=t,t=r)):(Xo=t,t=r),t}function Xi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,9),e.toLowerCase()===_?Xo+=9:(e=r,0===ru&&pu(En)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=go()):(Xo=t,t=r)):(Xo=t,t=r),t}function Ji(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===H?Xo+=4:(e=r,0===ru&&pu(Cn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Eo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Qi(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===P?Xo+=4:(e=r,0===ru&&pu(mn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Co()):(Xo=t,t=r)):(Xo=t,t=r),t}function tc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,7),e.toLowerCase()===Z?Xo+=7:(e=r,0===ru&&pu(An)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=mo()):(Xo=t,t=r)):(Xo=t,t=r),t}function nc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,8),e.toLowerCase()===j?Xo+=8:(e=r,0===ru&&pu(bn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Ao()):(Xo=t,t=r)):(Xo=t,t=r),t}function ec(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===k?Xo+=4:(e=r,0===ru&&pu(Ln)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=bo()):(Xo=t,t=r)):(Xo=t,t=r),t}function rc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===z?Xo+=4:(e=r,0===ru&&pu(wn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Lo()):(Xo=t,t=r)):(Xo=t,t=r),t}function oc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,2),e.toLowerCase()===G?Xo+=2:(e=r,0===ru&&pu(Tn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=wo()):(Xo=t,t=r)):(Xo=t,t=r),t}function uc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,7),e.toLowerCase()===W?Xo+=7:(e=r,0===ru&&pu(xn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=To()):(Xo=t,t=r)):(Xo=t,t=r),t}function ic(){let t,e,o,u;return t=Xo,e=n.substr(Xo,3),e.toLowerCase()===B?Xo+=3:(e=r,0===ru&&pu(Nn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=xo()):(Xo=t,t=r)):(Xo=t,t=r),t}function cc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,8),e.toLowerCase()===Y?Xo+=8:(e=r,0===ru&&pu(Rn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=No()):(Xo=t,t=r)):(Xo=t,t=r),t}function lc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,5),e.toLowerCase()===q?Xo+=5:(e=r,0===ru&&pu(In)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Ro()):(Xo=t,t=r)):(Xo=t,t=r),t}function sc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===K?Xo+=4:(e=r,0===ru&&pu(On)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Io()):(Xo=t,t=r)):(Xo=t,t=r),t}function ac(){let t,e,o,u;return t=Xo,e=n.substr(Xo,7),e.toLowerCase()===V?Xo+=7:(e=r,0===ru&&pu(Fn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Oo()):(Xo=t,t=r)):(Xo=t,t=r),t}function fc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,2),e.toLowerCase()===X?Xo+=2:(e=r,0===ru&&pu(Sn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Fo()):(Xo=t,t=r)):(Xo=t,t=r),t}function pc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,8),e.toLowerCase()===J?Xo+=8:(e=r,0===ru&&pu(Mn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=So()):(Xo=t,t=r)):(Xo=t,t=r),t}function dc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===Q?Xo+=4:(e=r,0===ru&&pu($n)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Mo()):(Xo=t,t=r)):(Xo=t,t=r),t}function vc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,13),e.toLowerCase()===tt?Xo+=13:(e=r,0===ru&&pu(Dn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=$o()):(Xo=t,t=r)):(Xo=t,t=r),t}function yc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,15),e.toLowerCase()===nt?Xo+=15:(e=r,0===ru&&pu(Un)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Do()):(Xo=t,t=r)):(Xo=t,t=r),t}function hc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,5),e.toLowerCase()===et?Xo+=5:(e=r,0===ru&&pu(_n)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Uo()):(Xo=t,t=r)):(Xo=t,t=r),t}function gc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,3),e.toLowerCase()===rt?Xo+=3:(e=r,0===ru&&pu(Hn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=_o()):(Xo=t,t=r)):(Xo=t,t=r),t}function Ec(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===ot?Xo+=4:(e=r,0===ru&&pu(Pn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Ho()):(Xo=t,t=r)):(Xo=t,t=r),t}function Cc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,6),e.toLowerCase()===ut?Xo+=6:(e=r,0===ru&&pu(Zn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Po()):(Xo=t,t=r)):(Xo=t,t=r),t}function mc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,6),e.toLowerCase()===it?Xo+=6:(e=r,0===ru&&pu(jn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Zo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Ac(){let t,e,o,u;return t=Xo,e=n.substr(Xo,3),e.toLowerCase()===ct?Xo+=3:(e=r,0===ru&&pu(kn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=jo()):(Xo=t,t=r)):(Xo=t,t=r),t}function bc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,3),e.toLowerCase()===lt?Xo+=3:(e=r,0===ru&&pu(zn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=ko()):(Xo=t,t=r)):(Xo=t,t=r),t}function Lc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===st?Xo+=4:(e=r,0===ru&&pu(Gn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=zo()):(Xo=t,t=r)):(Xo=t,t=r),t}function wc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===at?Xo+=4:(e=r,0===ru&&pu(Wn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Go()):(Xo=t,t=r)):(Xo=t,t=r),t}function Tc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,3),e.toLowerCase()===ft?Xo+=3:(e=r,0===ru&&pu(Bn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Wo()):(Xo=t,t=r)):(Xo=t,t=r),t}function xc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===pt?Xo+=4:(e=r,0===ru&&pu(Yn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Bo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Nc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===dt?Xo+=4:(e=r,0===ru&&pu(qn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=Yo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Rc(){let t,e,o,u;return t=Xo,e=n.substr(Xo,4),e.toLowerCase()===vt?Xo+=4:(e=r,0===ru&&pu(Kn)),e!==r?(o=Xo,ru++,u=Zu(),ru--,u===r?o=void 0:(Xo=o,o=r),o!==r?(Jo=t,t=qo()):(Xo=t,t=r)):(Xo=t,t=r),t}function Ic(){let t;return 44===n.charCodeAt(Xo)?(t=yt,Xo++):(t=r,0===ru&&pu(Vn)),t}function Oc(){let t;return 40===n.charCodeAt(Xo)?(t=ht,Xo++):(t=r,0===ru&&pu(Xn)),t}function Fc(){let t;return 41===n.charCodeAt(Xo)?(t=gt,Xo++):(t=r,0===ru&&pu(Jn)),t}function Sc(){let t,n;for(t=[],n=Mc();n!==r;)t.push(n),n=Mc();return t}function Mc(){let t;return t=n.charAt(Xo),It.test(t)?Xo++:(t=r,0===ru&&pu(Qn)),t}function $c(){let t,e,o,u;if(t=Xo,e=Hu(),e!==r&&(Jo=t,e=Ko(e)),t=e,t===r)if(t=Xo,96===n.charCodeAt(Xo)?(e=Et,Xo++):(e=r,0===ru&&pu(te)),e!==r){if(o=[],u=n.charAt(Xo),Ot.test(u)?Xo++:(u=r,0===ru&&pu(ne)),u!==r)for(;u!==r;)o.push(u),u=n.charAt(Xo),Ot.test(u)?Xo++:(u=r,0===ru&&pu(ne));else o=r;o!==r?(96===n.charCodeAt(Xo)?(u=Et,Xo++):(u=r,0===ru&&pu(te)),u!==r?(Jo=t,t=Vo(o)):(Xo=t,t=r)):(Xo=t,t=r)}else Xo=t,t=r;return t}function Dc(t,n,e){return{type:"unary-expression",location:e,operator:t,expr:n}}function Uc(t,n,e,r,o){const u={type:"binary-expression",location:o,operator:t,left:n,right:e};return void 0!==r&&(u.escape=r),u}function _c(t,...n){return{type:"expression-list",location:t,value:n}}function Hc(t,n){let e=t;for(const{op:r,expr:o,location:{end:u}}of n)e=Uc(r,e,o,void 0,{...e.location,end:u});return e}function Pc(t){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(t)&&uu("Timestamp literal is invalid")}function Zc(t){!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(t)&&uu("Time literal is invalid")}function jc(t){!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(t)&&uu("Date literal is invalid")}tu=i();const kc=tu!==r&&Xo===n.length;function zc(){throw tu!==r&&Xo<n.length&&pu(su()),vu(eu,nu<n.length?iu(nu):null,nu<n.length?fu(nu,nu+1):fu(nu,nu))}return e.peg$library?{peg$result:tu,peg$currPos:Xo,peg$FAILED:r,peg$maxFailExpected:eu,peg$maxFailPos:nu,peg$success:kc,peg$throw:kc?void 0:zc}:kc?tu:void zc()}class WhereGrammar_e{static parse(t){return n(t)}}function WhereGrammar_r(t,n){if(null!=t)switch(n(t),t.type){case"when-clause":WhereGrammar_r(t.operand,n),WhereGrammar_r(t.value,n);break;case"case-expression":for(const e of t.clauses)WhereGrammar_r(e,n);"simple"===t.format&&WhereGrammar_r(t.operand,n),null!==t.else&&WhereGrammar_r(t.else,n);break;case"expression-list":for(const e of t.value)WhereGrammar_r(e,n);break;case"unary-expression":WhereGrammar_r(t.expr,n);break;case"binary-expression":WhereGrammar_r(t.left,n),WhereGrammar_r(t.right,n);break;case"function":WhereGrammar_r(t.args,n);break;case"interval":WhereGrammar_r(t.value,n),WhereGrammar_r(t.qualifier,n);break;case"interval-qualifier":WhereGrammar_r(t.start,n),WhereGrammar_r(t.end,n)}}

;// ./node_modules/@arcgis/core/core/sql/WhereClause.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const WhereClause_x=new Set(["current_timestamp","current_date","current_time"]);class WhereClause_E{constructor(e){this.staticData=e}makeBool(e){return WhereClause_Z(e)}featureValue(e,t,r,a){return te(e,t,r,a)}equalsNull(e){return null===e}applyLike(e,t,r){return WhereClause_Y(e,t,r)}ensureArray(e){return WhereClause_z(e)}applyIn(e,t){return WhereClause_W(e,t)}currentTimestamp(e){return WhereClause_G(e)}currentDate(e){return WhereClause_K(e)}currentTime(e){return WhereClause_Q(e)}makeSqlInterval(e,t,r){return SqlInterval_a.createFromValueAndQualifier(e,t,r)}convertInterval(e){return SqlInterval_a.isInterval(e)?e.valueInMilliseconds():e}compare(e,t,r){return sqlCompareUtils_I(t,r,e)}calculate(e,t,r,a){return sqlArithmeticUtils_d(e,t,r,a)}evaluateTime(e){return O(e)}evaluateTimestamp(e,t,r){return D(e,t,r)}evaluateDate(e,t){return $(e,t)}evaluateFunction(e,t,r){return StandardizedFunctions_E(e,t,r)}lookup(e,t){const r=t[e];return void 0===r?null:r}between(e,t){return null==e||null==t[0]||null==t[1]?null:sqlCompareUtils_I(e,t[0],">=")&&sqlCompareUtils_I(e,t[1],"<=")}notbetween(e,t){return null==e||null==t[0]||null==t[1]?null:sqlCompareUtils_I(e,t[0],"<")||sqlCompareUtils_I(e,t[1],">")}ternaryNot(e){return WhereClause_J(e)}ternaryAnd(e,t){return WhereClause_B(e,t)}ternaryOr(e,t){return WhereClause_M(e,t)}}function WhereClause_$(e,...t){return`this.${e}(${t.join(", ")})`}function WhereClause_F(e){return void 0===e?"void 0":JSON.stringify(e)}function WhereClause_b({type:e,start:t,end:r}){return`{type: ${WhereClause_F(e)}, start: ${WhereClause_A(t)}, end: ${WhereClause_A(r)}}`}function WhereClause_A({type:e,period:t,precision:r,secondary:a}){return JSON.stringify({type:e,period:t,precision:r,secondary:a})}function WhereClause_O({type:e,size:t,withtimezone:r}){return JSON.stringify({type:e,size:t,withtimezone:r})}const WhereClause_k="feature",WhereClause_U="lookups",WhereClause_V="attributeAdapter",WhereClause_j="fieldsIndex",WhereClause_q="timeZone",WhereClause_C="currentUser";class WhereClause_L{constructor(e){this._parseTree=e,this._staticData=Object.create(null),this._nextStaticDataId=0,this._tempVars=new Set,this._nextTempVarId=0}compile(){const e=this._compileNode(this._parseTree),t=`\n      ${this._tempVars.size>0?`var ${Array.from(this._tempVars).join(", ")};`:""}\n      return this.convertInterval(${e});\n    `;return new Function(WhereClause_k,WhereClause_U,WhereClause_V,WhereClause_j,WhereClause_q,WhereClause_C,t).bind(new WhereClause_E(this._staticData))}_storeStaticData(e){const t="static$"+this._nextStaticDataId++;return this._staticData[t]=e,t}_compileRefStaticData(e){return`this.staticData[${WhereClause_F(e)}]`}_generateTempVar(){const e="temp$"+this._nextTempVarId++;return this._tempVars.add(e),e}_compileSimpleCase(e){const t=this._compileNode(e.operand),r=this._generateTempVar(),a=[];for(const s of e.clauses){const e=WhereClause_$("compare",WhereClause_F("="),r,this._compileNode(s.operand)),t=this._compileNode(s.value);a.push(`${e} ? (${t}) :`)}return null!=e.else?a.push(this._compileNode(e.else)):a.push(WhereClause_F(null)),`(${r} = ${t}, ${a.join(" ")})`}_compileSearchedCase(e){const t=[];for(const r of e.clauses){const e=WhereClause_$("makeBool",this._compileNode(r.operand)),a=this._compileNode(r.value);t.push(`${e} ? (${a}) :`)}return null!=e.else?t.push(this._compileNode(e.else)):t.push(WhereClause_F(null)),t.join(" ")}_compileInExpr(e,t){const r=new Set,a=[];for(const i of t.value)"number"===i.type||"string"===i.type?r.add(i.value):a.push(i);const s=this._compileNode(e),n=WhereClause_$("ensureArray",this._compileNode({type:"expression-list",location:t.location,value:a}));if(r.size>0){const e=this._compileRefStaticData(this._storeStaticData(r)),t=this._generateTempVar();return a.length>0?`(${t} = ${s}, ${e}.has(${t}) || ${WhereClause_$("applyIn",t,n)})`:`(${t} = ${s}, ${t} == null ? null : ${e}.has(${t}))`}return WhereClause_$("applyIn",s,n)}_compileNode(e){switch(e.type){case"interval":return WhereClause_$("makeSqlInterval",this._compileNode(e.value),"interval-qualifier"===e.qualifier.type?WhereClause_b(e.qualifier):WhereClause_A(e.qualifier),WhereClause_F(e.op));case"case-expression":return"simple"===e.format?this._compileSimpleCase(e):this._compileSearchedCase(e);case"parameter":return WhereClause_$("lookup",WhereClause_F(e.value.toLowerCase()),WhereClause_U);case"expression-list":return`[${e.value.map((e=>this._compileNode(e))).join(", ")}]`;case"unary-expression":return WhereClause_$("ternaryNot",this._compileNode(e.expr));case"binary-expression":switch(e.operator){case"AND":return WhereClause_$("ternaryAnd",this._compileNode(e.left),this._compileNode(e.right));case"OR":return WhereClause_$("ternaryOr",this._compileNode(e.left),this._compileNode(e.right));case"IS":if("null"!==e.right.type)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.UnsupportedIsRhs);return WhereClause_$("equalsNull",this._compileNode(e.left));case"ISNOT":if("null"!==e.right.type)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.UnsupportedIsRhs);return`!${WhereClause_$("equalsNull",this._compileNode(e.left))}`;case"IN":return this._compileInExpr(e.left,e.right);case"NOT IN":return WhereClause_$("ternaryNot",this._compileInExpr(e.left,e.right));case"BETWEEN":return WhereClause_$("between",this._compileNode(e.left),this._compileNode(e.right));case"NOTBETWEEN":return WhereClause_$("notbetween",this._compileNode(e.left),this._compileNode(e.right));case"LIKE":return WhereClause_$("applyLike",this._compileNode(e.left),this._compileNode(e.right),WhereClause_F(e.escape));case"NOT LIKE":return WhereClause_$("ternaryNot",WhereClause_$("applyLike",this._compileNode(e.left),this._compileNode(e.right),WhereClause_F(e.escape)));case"<>":case"<":case">":case">=":case"<=":case"=":return WhereClause_$("compare",WhereClause_F(e.operator),this._compileNode(e.left),this._compileNode(e.right));case"*":case"-":case"+":case"/":case"||":return WhereClause_$("calculate",WhereClause_F(e.operator),this._compileNode(e.left),this._compileNode(e.right),WhereClause_q);default:throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.UnsupportedOperator,{operator:e.operator})}case"null":case"boolean":case"string":case"number":return WhereClause_F(e.value);case"time":try{return this._compileRefStaticData(this._storeStaticData(O(e.value)))}catch{return WhereClause_$("evaluateTime",WhereClause_F(e.value))}case"date":try{return this._compileRefStaticData(this._storeStaticData($(e.value,"unknown")))}catch{return WhereClause_$("evaluateDate",WhereClause_F(e.value),WhereClause_F("unknown"))}case"timestamp":try{return this._compileRefStaticData(this._storeStaticData(D(e.value,"unknown")))}catch{return WhereClause_$("evaluateTimestamp",WhereClause_F(e.value),WhereClause_F("unknown"))}case"current-time":return"date"===e.mode?WhereClause_$("currentDate",WhereClause_q):"time"===e.mode?WhereClause_$("currentTime",WhereClause_q):WhereClause_$("currentTimestamp",WhereClause_q);case"current-user":return WhereClause_C;case"column-reference":return WhereClause_$("featureValue",WhereClause_k,WhereClause_F(e.column),WhereClause_j,WhereClause_V);case"data-type":return WhereClause_O(e.value);case"function":return WhereClause_$("evaluateFunction",WhereClause_F(e.name),this._compileNode(e.args),WhereClause_q)}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.UnsupportedSyntax,{node:e.type})}}class WhereClause_R{static create(e,t={}){return new WhereClause_R(e,t.fieldsIndex,t.timeZone??void 0,t.currentUser)}constructor(e,t,r="UTC",a=null){this.fieldsIndex=t,this.timeZone=r,this.currentUser=a,this.parameters={},this._compiledExecutor=null,this._hasDateFunctions=void 0,this.parseTree=WhereGrammar_e.parse(e);const{isStandardized:s,isAggregate:n,currentUserRequired:i,referencedFieldNames:o}=this._extractExpressionInfo(t);this._referencedFieldNames=o,this.isStandardized=s,this.isAggregate=n,this.currentUserRequired=i}static convertValueToStorageFormat(e,t=null){if(null===t)return (0,guards/* isDate */.$P)(e)?e.getTime():y(e)?e.toMillis():j(e)?e.toStorageFormat():x(e)?e.toStorageString():S(e)?e.toStorageFormat():e;switch(t){case"date":return (0,guards/* isDate */.$P)(e)?e.getTime():y(e)?e.toMillis():j(e)?e.toMilliseconds():S(e)?e.toNumber():e;case"date-only":return (0,guards/* isDate */.$P)(e)?DateOnly/* DateOnly */.n.fromDateJS(e).toString():j(e)?DateOnly/* DateOnly */.n.fromSqlTimeStampOffset(e).toString():y(e)?DateOnly/* DateOnly */.n.fromDateTime(e).toString():e;case"time-only":return (0,guards/* isDate */.$P)(e)?TimeOnly/* TimeOnly */.k.fromDateJS(e).toStorageString():y(e)?TimeOnly/* TimeOnly */.k.fromDateTime(e).toStorageString():j(e)?TimeOnly/* TimeOnly */.k.fromSqlTimeStampOffset(e).toStorageString():x(e)?e.toStorageString():e;case"timestamp-offset":if((0,guards/* isDate */.$P)(e))return SqlTimestampOffset/* SqlTimeStampOffset */.g.fromJSDate(e).toStorageFormat();if(y(e))return SqlTimestampOffset/* SqlTimeStampOffset */.g.fromDateTime(e).toStorageFormat();if(j(e))return e.toStorageFormat()}return e}get fieldNames(){return this._referencedFieldNames}testSet(e,t=re,r=this.currentUser){return!!this._evaluateNode(this.parseTree,null,t,e,r)}calculateValue(e,t=re,r=this.currentUser){const a=this._evaluateNode(this.parseTree,e,t,null,r);return SqlInterval_a.isInterval(a)?a.valueInMilliseconds()/864e5:a}tryGetCompiledExecutor(){if(null!=this._compiledExecutor)return this._compiledExecutor;if((0,has/* default */.A)("esri-csp-restrictions"))return null;const e=new WhereClause_L(this.parseTree);return this._compiledExecutor=e.compile(),this._compiledExecutor}calculateValueCompiled(e,t=re,r=this.currentUser){const a=this.tryGetCompiledExecutor();return null==a?this.calculateValue(e,t):a(e,this.parameters,t,this.fieldsIndex,this.timeZone,r??null)}testFeature(e,t=re,r=this.currentUser){return!!this._evaluateNode(this.parseTree,e,t,null,r)}testFeatureCompiled(e,t=re,r=this.currentUser){const a=this.tryGetCompiledExecutor();return null==a?this.testFeature(e,t):!!a(e,this.parameters,t,this.fieldsIndex,this.timeZone,r??null)}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,WhereGrammar_r(this.parseTree,(e=>{"current-time"===e.type?this._hasDateFunctions=!0:"function"===e.type&&(this._hasDateFunctions=this._hasDateFunctions||WhereClause_x.has(e.name.toLowerCase()))}))),this._hasDateFunctions}getFunctions(){const e=new Set;return WhereGrammar_r(this.parseTree,(t=>{"function"===t.type&&e.add(t.name.toLowerCase())})),Array.from(e)}getExpressions(){const e=new Map;return WhereGrammar_r(this.parseTree,(t=>{if("function"===t.type){const r=t.name.toLowerCase(),a=t.args.value[0];if("column-reference"===a.type){const t=a.column,s=`${r}-${t}`;e.has(s)||e.set(s,{aggregateType:r,field:t})}}})),[...e.values()]}getVariables(){const e=new Set;return WhereGrammar_r(this.parseTree,(t=>{"parameter"===t.type&&e.add(t.value.toLowerCase())})),Array.from(e)}_extractExpressionInfo(t){const r=[],a=new Set;let s=!0,n=!1,i=!1;return WhereGrammar_r(this.parseTree,(o=>{switch(o.type){case"column-reference":{const e=t?.get(o.column);let s,n;e?s=n=e.name??"":(n=o.column,s=n.toLowerCase()),a.has(s)||(a.add(s),r.push(n)),o.column=n;break}case"current-user":i=!0;break;case"function":{const{name:t,args:r}=o,a=r.value.length;s&&(s=StandardizedFunctions_p(t,a)),!1===n&&(n=(0,AggregateFunctions/* isAggregate */.M)(t,a));break}}})),{referencedFieldNames:Array.from(r),isStandardized:s,isAggregate:n,currentUserRequired:i}}_evaluateNode(r,o,u,l,c){let p;switch(r.type){case"interval":{const e=this._evaluateNode(r.value,o,u,l,c);return SqlInterval_a.createFromValueAndQualifier(e,r.qualifier,r.op)}case"case-expression":if("simple"===r.format){const e=this._evaluateNode(r.operand,o,u,l,c);for(let t=0;t<r.clauses.length;t++)if(sqlCompareUtils_I(e,this._evaluateNode(r.clauses[t].operand,o,u,l,c),"="))return this._evaluateNode(r.clauses[t].value,o,u,l,c);if(null!==r.else)return this._evaluateNode(r.else,o,u,l,c)}else{for(let e=0;e<r.clauses.length;e++)if(WhereClause_Z(this._evaluateNode(r.clauses[e].operand,o,u,l,c)))return this._evaluateNode(r.clauses[e].value,o,u,l,c);if(null!==r.else)return this._evaluateNode(r.else,o,u,l,c)}return null;case"parameter":return p=this.parameters[r.value.toLowerCase()],(0,guards/* isDate */.$P)(p)?luxon/* DateTime */.c9.fromJSDate(p):null!=p&&"object"==typeof p&&"toDateTime"in p?p.toDateTime():p;case"expression-list":{const e=[];for(const t of r.value)e.push(this._evaluateNode(t,o,u,l,c));return e}case"unary-expression":return WhereClause_J(this._evaluateNode(r.expr,o,u,l,c));case"binary-expression":switch(r.operator){case"AND":return WhereClause_B(this._evaluateNode(r.left,o,u,l,c),this._evaluateNode(r.right,o,u,l,c));case"OR":return WhereClause_M(this._evaluateNode(r.left,o,u,l,c),this._evaluateNode(r.right,o,u,l,c));case"IS":if("null"!==r.right.type)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.UnsupportedIsRhs);return null===this._evaluateNode(r.left,o,u,l,c);case"ISNOT":if("null"!==r.right.type)throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.UnsupportedIsRhs);return null!==this._evaluateNode(r.left,o,u,l,c);case"IN":{const e=WhereClause_z(this._evaluateNode(r.right,o,u,l,c));return WhereClause_W(this._evaluateNode(r.left,o,u,l,c),e)}case"NOT IN":{const e=WhereClause_z(this._evaluateNode(r.right,o,u,l,c));return WhereClause_J(WhereClause_W(this._evaluateNode(r.left,o,u,l,c),e))}case"BETWEEN":{const e=this._evaluateNode(r.left,o,u,l,c),t=this._evaluateNode(r.right,o,u,l,c);return null==e||null==t[0]||null==t[1]?null:sqlCompareUtils_I(e,t[0],">=")&&sqlCompareUtils_I(e,t[1],"<=")}case"NOTBETWEEN":{const e=this._evaluateNode(r.left,o,u,l,c),t=this._evaluateNode(r.right,o,u,l,c);return null==e||null==t[0]||null==t[1]?null:sqlCompareUtils_I(e,t[0],"<")||sqlCompareUtils_I(e,t[1],">")}case"LIKE":return WhereClause_Y(this._evaluateNode(r.left,o,u,l,c),this._evaluateNode(r.right,o,u,l,c),r.escape);case"NOT LIKE":return WhereClause_J(WhereClause_Y(this._evaluateNode(r.left,o,u,l,c),this._evaluateNode(r.right,o,u,l,c),r.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return sqlCompareUtils_I(this._evaluateNode(r.left,o,u,l,c),this._evaluateNode(r.right,o,u,l,c),r.operator);case"-":case"+":case"*":case"/":case"||":return sqlArithmeticUtils_d(r.operator,this._evaluateNode(r.left,o,u,l,c),this._evaluateNode(r.right,o,u,l,c),this.timeZone)}case"null":case"boolean":case"string":case"number":return r.value;case"date":return r.parsedValue??=$(r.value,"unknown"),r.parsedValue;case"timestamp":return r.parsedValue??=D(r.value,"unknown"),r.parsedValue;case"time":return O(r.value);case"current-time":return"date"===r.mode?WhereClause_K(this.timeZone):"time"===r.mode?WhereClause_Q(this.timeZone):WhereClause_G(this.timeZone);case"current-user":return c??null;case"column-reference":return te(o,r.column,this.fieldsIndex,u);case"data-type":return r.value;case"function":{if(this.isAggregate&&(0,AggregateFunctions/* isAggregate */.M)(r.name,r.args.value.length)){const e=[];for(const t of r.args?.value||[]){const r=[];for(const e of l||[])r.push(this._evaluateNode(t,e,u,null,c));e.push(r)}return (0,AggregateFunctions/* aggregateFunction */.s)(r.name,e)}const a=this._evaluateNode(r.args,o,u,l,c);return StandardizedFunctions_E(r.name,a,this.timeZone)}}throw new errorSupport/* SqlError */.L8(errorSupport/* SqlErrorCodes */.Z7.UnsupportedSyntax,{node:r.type})}}function WhereClause_Z(e){return!0===e}function WhereClause_z(e){return Array.isArray(e)?e:[e]}function WhereClause_J(e){return null!==e?!0!==e:null}function WhereClause_B(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function WhereClause_M(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function WhereClause_W(e,t){if(null==e)return null;let r=!1;for(const a of t)if(null==a)r=null;else{if(e===a){r=!0;break}if(sqlCompareUtils_O(e)&&sqlCompareUtils_O(a)&&(r=sqlCompareUtils_I(e,a,"="),r))break}return r}function WhereClause_G(e){return T(new Date,e)}function WhereClause_K(e){return DateOnly/* DateOnly */.n.fromNow(e)}function WhereClause_Q(e){const t=T(new Date,e);return TimeOnly/* TimeOnly */.k.fromDateTime(t)}const WhereClause_P="-[]/{}()*+?.\\^$|";var WhereClause_H;function WhereClause_X(e,t){const r=t;let a="",s=WhereClause_H.Normal;for(let n=0;n<e.length;n++){const t=e.charAt(n);switch(s){case WhereClause_H.Normal:t===r?s=WhereClause_H.Escaped:WhereClause_P.includes(t)?a+="\\"+t:a+="%"===t?".*":"_"===t?".":t;break;case WhereClause_H.Escaped:WhereClause_P.includes(t)?a+="\\"+t:a+=t,s=WhereClause_H.Normal}}return new RegExp("^"+a+"$","m")}function WhereClause_Y(e,t,r){if(null==e)return null;return WhereClause_X(t,r).test(e)}function ee(e){return e&&"object"==typeof e.attributes}function te(e,t,a,s){if("getAttributeSQL"in s)return s.getAttributeSQL(e,t);const n=s.getAttribute(e,t);if(null==n)return n;const i=a?.get(t);switch(i?.type){case"esriFieldTypeDate":case"date":return T(new Date(n),a?.getLuxonTimeZone(i.name)??luxon/* FixedOffsetZone */.mQ.utcInstance);case"esriFieldTypeDateOnly":case"date-only":return DateOnly/* DateOnly */.n.fromReader(n);case"esriFieldTypeTimeOnly":case"time-only":return TimeOnly/* TimeOnly */.k.fromReader(n);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return new SqlTimestampOffset/* SqlTimeStampOffset */.g(n)}return n}!function(e){e[e.Normal=0]="Normal",e[e.Escaped=1]="Escaped"}(WhereClause_H||(WhereClause_H={}));const re={getAttribute:(e,t)=>(ee(e)?e.attributes:e)[t]};


/***/ }),

/***/ 84084:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WhereClauseCache: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _LRUCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(49481);
/* harmony import */ var _WhereClause_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(88435);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class r{constructor(e,r){this._cache=new _LRUCache_js__WEBPACK_IMPORTED_MODULE_0__/* .LRUCache */ .q(e),this._invalidCache=new _LRUCache_js__WEBPACK_IMPORTED_MODULE_0__/* .LRUCache */ .q(r)}get(t,r){const i=`${r?.uid}:${t}`,c=this._cache.get(i);if(c)return c;if(null!=this._invalidCache.get(i))return null;try{const c=_WhereClause_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.create(t,{fieldsIndex:r});return this._cache.put(i,c),c}catch(n){return this._invalidCache.put(i,n),null}}getError(t,e){const r=`${e?.uid}:${t}`;return this._invalidCache.get(r)??null}}


/***/ }),

/***/ 61237:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L8: () => (/* binding */ n),
/* harmony export */   Z7: () => (/* binding */ a)
/* harmony export */ });
/* unused harmony export sqlErrorMessages */
/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21332);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var a;!function(e){e.InvalidFunctionParameters="InvalidFunctionParameters",e.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",e.UnsupportedSqlFunction="UnsupportedSqlFunction",e.UnsupportedOperator="UnsupportedOperator",e.UnsupportedSyntax="UnsupportedSyntax",e.UnsupportedIsRhs="UnsupportedIsRhs",e.UnsupportedIsLhs="UnsupportedIsLhs",e.InvalidDataType="InvalidDataType",e.CannotCastValue="CannotCastValue",e.FunctionNotRecognized="FunctionNotRecognized",e.InvalidTime="InvalidTime",e.InvalidParameterCount="InvalidParameterCount",e.InvalidTimeStamp="InvalidTimeStamp",e.InvalidDate="InvalidDate",e.InvalidOperator="InvalidOperator",e.IllegalInterval="IllegalInterval",e.YearMonthIntervals="YearMonthIntervals",e.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",e.MissingStatisticParameters="MissingStatisticParameters"}(a||(a={}));const t={[a.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[a.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[a.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[a.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[a.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[a.UnsupportedOperator]:"Unsupported operator - {operator}",[a.UnsupportedSyntax]:"Unsupported syntax - {node}",[a.UnsupportedSqlFunction]:"Sql function not found = {function}",[a.InvalidDataType]:"Invalid sql data type",[a.InvalidDate]:"Invalid date encountered",[a.InvalidOperator]:"Invalid operator encountered",[a.InvalidTime]:"Invalid time encountered",[a.IllegalInterval]:"Illegal interval",[a.FunctionNotRecognized]:"Function not recognized",[a.InvalidTimeStamp]:"Invalid timestamp encountered",[a.InvalidParameterCount]:"Invalid parameter count for call to {name}",[a.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[a.YearMonthIntervals]:"Year-Month Intervals not supported",[a.CannotCastValue]:"Cannot cast value to the required data type"};class n extends Error{constructor(a,r){super((0,_string_js__WEBPACK_IMPORTED_MODULE_0__/* .replace */ .HC)(t[a],r)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,n)}}


/***/ }),

/***/ 36527:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ GraphicsLayer_c)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Collection.js + 1 modules
var Collection = __webpack_require__(54192);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/collectionUtils.js
var collectionUtils = __webpack_require__(48);
;// ./node_modules/@arcgis/core/core/support/OwningCollection.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let n=class extends Collection/* default */.A{constructor(e){super(e),this.addHandles([this.on("before-add",(e=>{null==e.item&&e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(e=>this._release(e.item)))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(Collection/* default */.A.ofType(this.itemType.Type))(e):new Collection/* default */.A(e)}};function l(e,t){return{type:e,cast:collectionUtils/* castForReferenceSetter */.H,set(s){const r=(0,collectionUtils/* referenceSetter */.V)(s,this._get(t),e);r.owner=this,this._set(t,r)}}}(0,tslib_es6._)([(0,property/* property */.MZ)()],n.prototype,"owner",null),n=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.core.support.OwningCollection")],n);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/Layer.js + 1 modules
var Layer = __webpack_require__(41247);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/BlendLayer.js
var BlendLayer = __webpack_require__(20923);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js
var ScaleRangeLayer = __webpack_require__(22111);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js
var Graphic = __webpack_require__(20857);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(8636);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/shared.js
var shared = __webpack_require__(50078);
;// ./node_modules/@arcgis/core/support/GraphicsCollection.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let c=class extends n{_own(r){r.layer&&"remove"in r.layer&&r.layer!==this.owner&&r.layer.remove(r),r.layer=this.owner}_release(r){r.layer===this.owner&&(r.layer=null)}};(0,tslib_es6._)([(0,shared/* shared */.u)({Type:Graphic/* default */.A,ensureType:(0,ensureType/* ensureType */.dp)(Graphic/* default */.A)})],c.prototype,"itemType",void 0),c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.support.GraphicsCollection")],c);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/ElevationInfo.js + 1 modules
var ElevationInfo = __webpack_require__(93695);
;// ./node_modules/@arcgis/core/layers/GraphicsLayer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphicsLayer_c=class extends((0,BlendLayer/* BlendLayer */.dM)((0,ScaleRangeLayer/* ScaleRangeLayer */.j)(Layer/* default */.A))){constructor(r){super(r),this.elevationInfo=null,this.graphics=new c,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(r){return this.graphics.add(r),this}addMany(r){return this.graphics.addMany(r),this}removeAll(){return this.graphics.removeAll(),this}remove(r){this.graphics.remove(r)}removeMany(r){this.graphics.removeMany(r)}on(r,e){return super.on(r,e)}graphicChanged(r){this.emit("graphic-update",r)}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:ElevationInfo/* default */.A})],GraphicsLayer_c.prototype,"elevationInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(l(c,"graphics"))],GraphicsLayer_c.prototype,"graphics",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:["show","hide"]})],GraphicsLayer_c.prototype,"listMode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicsLayer_c.prototype,"screenSizePerspectiveEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],GraphicsLayer_c.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],GraphicsLayer_c.prototype,"internal",void 0),GraphicsLayer_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.GraphicsLayer")],GraphicsLayer_c);


/***/ }),

/***/ 8825:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ U)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _applications_KnowledgeStudio_resourceSerializationUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(20906);
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(54192);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62991);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(80294);
/* harmony import */ var _core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(33125);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(49175);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(61985);
/* harmony import */ var _core_urlUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(19759);
/* harmony import */ var _core_uuid_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(1874);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(6273);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(25376);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(26325);
/* harmony import */ var _core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(48524);
/* harmony import */ var _core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(91101);
/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(41247);
/* harmony import */ var _knowledgeGraph_KnowledgeGraphLayerDataManager_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(83441);
/* harmony import */ var _knowledgeGraph_KnowledgeGraphSublayer_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(43183);
/* harmony import */ var _knowledgeGraph_layerUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(347);
/* harmony import */ var _mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(30179);
/* harmony import */ var _mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(20923);
/* harmony import */ var _mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(27303);
/* harmony import */ var _mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(90296);
/* harmony import */ var _mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(60368);
/* harmony import */ var _mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(77222);
/* harmony import */ var _mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(22111);
/* harmony import */ var _support_commonProperties_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(9014);
/* harmony import */ var _rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(53921);
/* harmony import */ var _chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(55714);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let R=class extends((0,_mixins_BlendLayer_js__WEBPACK_IMPORTED_MODULE_22__/* .BlendLayer */ .dM)((0,_mixins_ScaleRangeLayer_js__WEBPACK_IMPORTED_MODULE_27__/* .ScaleRangeLayer */ .j)((0,_mixins_RefreshableLayer_js__WEBPACK_IMPORTED_MODULE_26__/* .RefreshableLayer */ .J)((0,_mixins_ArcGISService_js__WEBPACK_IMPORTED_MODULE_21__/* .ArcGISService */ .b)((0,_mixins_OperationalLayer_js__WEBPACK_IMPORTED_MODULE_24__/* .OperationalLayer */ .q)((0,_mixins_PortalLayer_js__WEBPACK_IMPORTED_MODULE_25__/* .PortalLayer */ .A)((0,_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_5__/* .MultiOriginJSONMixin */ .P)((0,_mixins_CustomParametersMixin_js__WEBPACK_IMPORTED_MODULE_23__/* .CustomParametersMixin */ .d)(_Layer_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .A))))))))){constructor(e){super(e),this._graphTypeLookup=new Map,this._namedTypesModified=!1,this.dataManager=null,this.definitionSetMap=null,this.knowledgeGraph=null,this.layers=new(_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.ofType(_knowledgeGraph_KnowledgeGraphSublayer_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A)),this.memberEntityTypes=null,this.memberRelationshipTypes=null,this.operationalLayerType="KnowledgeGraphLayer",this.sublayerIdsCache=new Map,this.tables=new(_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.ofType(_knowledgeGraph_KnowledgeGraphSublayer_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A)),this.type="knowledge-graph",this.url=null,this.addHandles((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .watch */ .wB)((()=>this.layers.concat(this.tables)),((e,i)=>this._handleSublayersChange(e,i)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .sync */ .OH))}load(e){return this.addResolvingPromise(this._doLoad(e)),Promise.resolve(this)}async _doLoad(e){try{await this.loadFromPortal({supportedTypes:["Knowledge Graph Layer"]},e)}catch(i){(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .throwIfAbortError */ .QP)(i)}await this._fetchMetadata(),await this._initializeLayerProperties(),this.loadLayerAssumingLocalCache(),this._layersLoadedFromAuthoritativeItem()||await (0,_knowledgeGraph_layerUtils_js__WEBPACK_IMPORTED_MODULE_20__/* .initializeLayersFromClientData */ .qN)(this)}async _fetchMetadata(){if(!this.url)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:missing-url","KnowledgeGraphLayer must be created with a url");const e=await (0,_rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_29__.fetchKnowledgeGraph)(this.url);this.knowledgeGraph=e,this._forEachGraphType((e=>{e.name&&this._graphTypeLookup.set(e.name,e)}))}async _initializeLayerProperties(){this.originIdOf("inclusionModeDefinition")===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .OriginId */ .Gr.USER?this._validateInclusionModeDefinition():await this._initializeInclusionModeDefinition(),this._setMemberTypes(),this.dataManager=new _knowledgeGraph_KnowledgeGraphLayerDataManager_js__WEBPACK_IMPORTED_MODULE_18__/* .KnowledgeGraphLayerDataManager */ .P({knowledgeGraph:this.knowledgeGraph,inclusionModeDefinition:this.inclusionModeDefinition})}async _initializeInclusionModeDefinition(){const e=this.definitionSetMap?await (0,_applications_KnowledgeStudio_resourceSerializationUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .fetchAndConvertSerializedKnowledgeIdMap */ .cZ)(this.definitionSetMap,!0):{generateAllSublayers:!0,namedTypeDefinitions:new Map};[...this.layers.toArray(),...this.tables.toArray()].forEach((i=>{const t=this._graphTypeLookup.get(i.graphTypeName);t&&!e.namedTypeDefinitions.has(t.name)&&e.namedTypeDefinitions.set(t.name,{useAllData:!0})})),this.setAtOrigin("inclusionModeDefinition",e,(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .idToName */ .OL)(this.originIdOf("definitionSetMap")))}_validateInclusionModeDefinition(){const{inclusionModeDefinition:e}=this;if(!e)return;const{namedTypeDefinitions:i}=e;if(i?.size>0)i.forEach(((e,t)=>{const a=this._graphTypeLookup.get(t);if(!a)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).warn(`A named type, ${t}, was in the inclusion list that wasn't in the data model and will be removed`),void i.delete(t);"relationship"!==a.type&&"entity"!==a.type&&(_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).warn(`A named type, ${t}, was in the inclusion list that wasn't properly modeled and will be removed`),i.delete(t))}));else if(!e.generateAllSublayers)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:composite-layer-constructor","If an explicit inclusion definition is defined, at least one namedTypeDefinition must also be defined")}_setMemberTypes(){let e=[],i=[];const{inclusionModeDefinition:t}=this,a=t?.namedTypeDefinitions;!t||t.generateAllSublayers?(e=this.knowledgeGraph.dataModel?.entityTypes??[],i=this.knowledgeGraph.dataModel?.relationshipTypes??[]):a&&a.size>0&&a.forEach(((t,a)=>{const s=this._graphTypeLookup.get(a);switch(s?.type){case"relationship":i.push(s);break;case"entity":e.push(s)}})),this.memberEntityTypes=e,this.memberRelationshipTypes=i}_forEachGraphType(e){[...this.knowledgeGraph.dataModel?.entityTypes??[],...this.knowledgeGraph.dataModel?.relationshipTypes??[]].forEach((i=>{e(i)}))}_refreshNamedTypes(){this._namedTypesModified=!0;for(const e of this.layers)e.emit("refresh",{dataChanged:!0});for(const e of this.tables)e.emit("refresh",{dataChanged:!0})}async _handleNewRecords(e){const i=new Set,t=[];for(const a of e){if(!this._graphTypeLookup.has(a.typeName))continue;!1===this.layers.concat(this.tables).some((e=>e.objectType.name===a.typeName))&&(this.dataManager.sublayerCaches.set(a.typeName,new Map),i.add(a.typeName));(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_31__/* .getOrCreateMapValue */ .tE)(this.sublayerIdsCache,a.typeName,(()=>new Set)).add(a.id),t.push(a)}this.dataManager.addToLayer(t);for(const a of i){const e=this._graphTypeLookup.get(a);e&&(this._addSublayer(e),"entity"===e.type?this.dataManager.entityTypeNames.add(a):this.dataManager.relationshipTypeNames.add(a))}await (0,_knowledgeGraph_layerUtils_js__WEBPACK_IMPORTED_MODULE_20__/* .initializeLayersFromClientData */ .qN)(this,Array.from(i)),this._refreshNamedTypes()}_createSublayers(e,i,t){e.forEach((e=>{const a=this._createSublayer(e);t(a)&&i.push(a),this._updateSublayerCaches(e)}))}_addSublayer(e){const i=this._createSublayer(e);return i.geometryType?this.layers.push(i):this.tables.push(i),i}_createSublayer(e){return new _knowledgeGraph_KnowledgeGraphSublayer_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A({objectType:e,parentCompositeLayer:this,graphType:e.type})}_updateSublayers(e,i){i.forEach((i=>{i.parentCompositeLayer=this;const t=e.find((e=>e.type===i.graphType&&e.name===i.graphTypeName));t&&(i.objectType=t,this._updateSublayerCaches(t))}))}_updateSublayerCaches({name:e}){if(!e)return;const i=this.dataManager.sublayerCaches;i.has(e)||i.set(e,new Map)}_saveUrlAsNewResource(e,i,t,a){e[i]="<pending>",t.pendingOperations.push(O(this.inclusionModeDefinition).then((s=>{const o=K(a);e[i]=o.itemRelativeUrl,t.toAdd.push({resource:o,content:{type:"blob",blob:s},compress:!1,finish:e=>{this.definitionSetMap=e.url}})})))}_displaysAllRecords(e){for(const[,{useAllData:i}]of e.namedTypeDefinitions)if(!i)return!1;return!0}_handleSublayersChange(e,i){i&&(i.forEach((e=>{e.parent=null})),this.removeHandles("sublayers-owner")),e&&(e.forEach((e=>{e.parent=this})),this.addHandles([e.on("after-add",(({item:e})=>{e.parent=this})),e.on("after-remove",(({item:e})=>{e.parent=null}))],"sublayers-owner"))}_layersLoadedFromAuthoritativeItem(){const e=this.originIdOf("layers");return e>=_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .OriginId */ .Gr.PORTAL_ITEM&&e<_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .OriginId */ .Gr.USER}readDefinitionSetMap(e,i,t){return (0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_30__.f)(e,t)}writeDefinitionSetMap(e,i,t,a){const s=a?.portalItem,o=a?.resources,r=(0,_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .nameToId */ .aB)(a?.origin);if(!s||!o||null==r)return void(e&&(i[t]=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_30__.t)(e,a)));const{inclusionModeDefinition:n}=this;if(!n||this._displaysAllRecords(n))return void(this.definitionSetMap=null);const l=this.originIdOf("inclusionModeDefinition");if(l===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .OriginId */ .Gr.USER||this._namedTypesModified||r<l)this._saveUrlAsNewResource(i,t,o,s);else if(r===l&&e){const r=(0,_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_30__.t)(e,a);(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .isAbsolute */ .oP)(r)?this._saveUrlAsNewResource(i,t,o,s):i[t]=r}}set inclusionModeDefinition(e){"loaded"!==this.loadStatus&&"failed"!==this.loadStatus?this._set("inclusionModeDefinition",e):_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).error("#inclusionModeDefinition","inclusionModeDefinition cannot be changed after the layer is loaded.")}loadLayerAssumingLocalCache(){const e=[...this.memberEntityTypes,...this.memberRelationshipTypes];this.layers.length||this.originIdOf("tables")===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .OriginId */ .Gr.DEFAULTS?this.originIdOf("layers")===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .OriginId */ .Gr.DEFAULTS?this._createSublayers(e,this.layers,(e=>!!e.geometryType)):this._updateSublayers(e,this.layers):this.layers=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,this.tables.length||this.originIdOf("layers")===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .OriginId */ .Gr.DEFAULTS?this.originIdOf("tables")===_core_accessorSupport_PropertyOrigin_js__WEBPACK_IMPORTED_MODULE_16__/* .OriginId */ .Gr.DEFAULTS?this._createSublayers(e,this.tables,(e=>!e.geometryType)):this._updateSublayers(e,this.tables):this.tables=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,i)=>{const t=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_31__/* .getOrCreateMapValue */ .tE)(this.sublayerIdsCache,i,(()=>new Set));e.members?.forEach((e=>{t.add(e.id)}))}))}async addRecords(e){await this.load(),await this._handleNewRecords(e)}async createSublayerForNamedType(e){await this.load();const i=this._graphTypeLookup.get(e);if(!i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:missing-type","The specified type does not exist in the layer's graph data model.");if(this.dataManager.sublayerCaches.has(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:duplicate-type","The specified type already exists as a sublayer.");this.dataManager.sublayerCaches.set(e,new Map),(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_31__/* .getOrCreateMapValue */ .tE)(this.sublayerIdsCache,e,(()=>new Set));const t=this._addSublayer(i);return"entity"===i.type?this.dataManager.entityTypeNames.add(e):this.dataManager.relationshipTypeNames.add(e),this.dataManager.inclusionModeDefinition&&this.dataManager.inclusionModeDefinition.namedTypeDefinitions.set(e,{useAllData:!0}),await (0,_knowledgeGraph_layerUtils_js__WEBPACK_IMPORTED_MODULE_20__/* .initializeLayersFromClientData */ .qN)(this,[e]),this._refreshNamedTypes(),t}convertSublayerToDynamicData(e){if(!this.dataManager.inclusionModeDefinition)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:fully-dynamic-membership","This Knowledge Graph Layer already uses fully dynamic membership, individual sublayers cannot be converted");if(!this._graphTypeLookup.get(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:missing-type","The specified type does not exist in the layer's graph data model.");if(!this.dataManager.sublayerCaches.has(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:duplicate-type","The specified type does not exist as a sublayer.");const i=this.dataManager.inclusionModeDefinition.namedTypeDefinitions.get(e);i?.useAllData?_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).warn("This Knowledge Graph Layer already uses dynamic membership for the sublayer - no conversion was made"):(this.dataManager.inclusionModeDefinition.namedTypeDefinitions.set(e,{useAllData:!0}),this.sublayerIdsCache.delete(e),this._refreshNamedTypes())}convertSublayerToExplicitMembership(e){if(!this.dataManager.inclusionModeDefinition)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:fully-dynamic-membership","This Knowledge Graph Layer already uses fully dynamic membership, individual sublayers cannot be converted");if(!this._graphTypeLookup.get(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:missing-type","The specified type does not exist in the layer's graph data model.");const i=this.dataManager.inclusionModeDefinition.namedTypeDefinitions.get(e);if(!i||i.useAllData){if(!this.dataManager.sublayerCaches.has(e))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A("knowledge-graph:duplicate-type","The specified type does not exist as a sublayer.");this.sublayerIdsCache.set(e,new Set),this.dataManager.inclusionModeDefinition.namedTypeDefinitions.set(e,{useAllData:!1,members:new Map}),this._refreshNamedTypes()}else _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).warn("This Knowledge Graph Layer already uses explicit membership for the sublayer - no conversion was made")}convertToFullyDynamicData(){this.dataManager.inclusionModeDefinition||_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).warn("This Knowledge Graph Layer already uses fully dynamic membership - no conversion was made"),this.sublayerIdsCache.clear(),this.dataManager.inclusionModeDefinition=null,this._refreshNamedTypes()}convertToExplicitMembership(){this.dataManager.inclusionModeDefinition&&this.dataManager.inclusionModeDefinition.namedTypeDefinitions.size>0&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger(this).warn("This Knowledge Graph Layer already uses explicit membership - no conversion was made"),this.dataManager.inclusionModeDefinition={generateAllSublayers:!1,namedTypeDefinitions:new Map};for(const e of this.dataManager.sublayerCaches.keys())(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_31__/* .getOrCreateMapValue */ .tE)(this.sublayerIdsCache,e,(()=>new Set)),this.dataManager.inclusionModeDefinition.namedTypeDefinitions.set(e,{useAllData:!1,members:new Map});this._refreshNamedTypes()}async removeRecords(e){await this.load();const i=[];for(const t of e)!1===this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(t.typeName)?.useAllData&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(t.typeName)?.members?.has(t.id)&&i.push(t);this.dataManager.removeFromLayer(i);for(const t of i)this.sublayerIdsCache.get(t.typeName)?.delete(t.id);return this._refreshNamedTypes(),i}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)()],R.prototype,"dataManager",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)({json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],R.prototype,"definitionSetMap",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_13__/* .reader */ .w)("definitionSetMap")],R.prototype,"readDefinitionSetMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_writer_js__WEBPACK_IMPORTED_MODULE_15__/* .writer */ .K)("definitionSetMap")],R.prototype,"writeDefinitionSetMap",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)()],R.prototype,"inclusionModeDefinition",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)()],R.prototype,"knowledgeGraph",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)({type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.ofType(_knowledgeGraph_KnowledgeGraphSublayer_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A),json:{write:{ignoreOrigin:!0}}})],R.prototype,"layers",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)()],R.prototype,"memberEntityTypes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)()],R.prototype,"memberRelationshipTypes",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)({type:["KnowledgeGraphLayer"]})],R.prototype,"operationalLayerType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)()],R.prototype,"sublayerIdsCache",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)({type:_core_Collection_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.ofType(_knowledgeGraph_KnowledgeGraphSublayer_js__WEBPACK_IMPORTED_MODULE_19__/* ["default"] */ .A),json:{write:{ignoreOrigin:!0}}})],R.prototype,"tables",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)({json:{read:!1}})],R.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_10__/* .property */ .MZ)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_28__/* .url */ .OZ)],R.prototype,"url",void 0),R=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_14__/* .subclass */ .$)("esri.layers.KnowledgeGraphLayer")],R);const U=R;async function O(e){const i=await (0,_applications_KnowledgeStudio_resourceSerializationUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .serializeInclusionDefinitionToIdCollectionsMapPbf */ .fe)(e);return new Blob([i],{type:"application/x-protobuf"})}function K(e){const i=`definitionSetMap-${(0,_core_uuid_js__WEBPACK_IMPORTED_MODULE_9__/* .generateUUID */ .lk)()}.dat`,t=(0,_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .join */ .fj)("knowledgeGraphLayer",i);return e.resourceFromPath(t)}


/***/ }),

/***/ 64411:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   F: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6273);
/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21120);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2532);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_1__/* .PooledRBush */ .w(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)("esri-csp-restrictions")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_2__/* .empty */ .Ie)();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}


/***/ }),

/***/ 91582:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3223);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(62991);
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(57888);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(46373);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2532);
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(5525);
/* harmony import */ var _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(64411);
/* harmony import */ var _geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(84880);
/* harmony import */ var _optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(60105);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const m=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .create */ .vt)();class f{constructor(e){this.geometryInfo=e,this._boundsStore=new _BoundsStore_js__WEBPACK_IMPORTED_MODULE_7__/* .BoundsStore */ .F,this._featuresById=new Map,this._usedMemory=0,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,this.featureAdapter=_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_9__/* .optimizedFeatureQueryEngineAdapter */ .T}get usedMemory(){return this._usedMemory}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,r,s,o]=this.fullBounds;return{xmin:t,ymin:r,xmax:s,ymax:o,spatialReference:(0,_geometryUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .cleanFromGeometryEngine */ .ag)(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(t){const r=t.map((e=>this._upsert(e)));return this._emitChanged(),r.filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isSome */ .Ru)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged(),this._usedMemory=0}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const r of e){const e=this._boundsStore.get(r.objectId);e&&t((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .fromRect */ .Jt)(m,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const r=e.objectId;if(null==r)return void _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A("featurestore:invalid-feature","feature id is missing",{feature:e}));const o=this._featuresById.get(r);let i;if(o?(e.displayId=o.displayId,i=this._boundsStore.get(r),this._boundsStore.delete(r),this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(r,null),void this._featuresById.set(r,e);i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .getBoundsOptimizedGeometry */ .jQ)(null!=i?i:(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__/* .create */ .vt)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=i&&this._boundsStore.set(r,i),this._featuresById.set(r,e),this._usedMemory+=this.estimateFeatureUsedMemory?.(e)??0}_upsert(e){const r=e?.objectId;if(null==r)return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.getLogger("esri.layers.graphics.data.FeatureStore").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A("featurestore:invalid-feature","feature id is missing",{feature:e})),null;const o=this._featuresById.get(r);if(!o)return this._add(e),e;this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0;const{geometry:i,attributes:a}=e;for(const t in a)o.attributes[t]=a[t];return i&&(o.geometry=i,this._boundsStore.set(r,(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .getBoundsOptimizedGeometry */ .jQ)((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_5__/* .create */ .vt)(),i,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),this._usedMemory+=this.estimateFeatureUsedMemory?.(o)??0,o}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._boundsStore.delete(t),this._featuresById.delete(t),this._usedMemory-=this.estimateFeatureUsedMemory?.(e)??0,e}}


/***/ }),

/***/ 22622:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "do": () => (/* binding */ QueryEngine_L),
  ux: () => (/* binding */ V)
});

// UNUSED EXPORTS: Feature

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(3223);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/compilerUtils.js
var compilerUtils = __webpack_require__(95039);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(15565);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(57725);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js + 1 modules
var promiseUtils = __webpack_require__(49175);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/unitUtils.js
var unitUtils = __webpack_require__(5262);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/support/jsonUtils.js
var jsonUtils = __webpack_require__(46030);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/projectionUtils.js + 3 modules
var projectionUtils = __webpack_require__(27646);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js
var aaBoundingBox = __webpack_require__(46373);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js
var aaBoundingRect = __webpack_require__(2532);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/boundsUtils.js
var boundsUtils = __webpack_require__(70040);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js
var support_jsonUtils = __webpack_require__(56053);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js
var spatialReferenceUtils = __webpack_require__(67488);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js
var featureConversionUtils = __webpack_require__(5525);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js
var attributeSupport = __webpack_require__(86582);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js
var geometryUtils = __webpack_require__(84880);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js
var projectionSupport = __webpack_require__(48277);
;// ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCache.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=5;class QueryEngineCache_e{constructor(){this._storage=new Map,this._purgeInterval=t,this._sweep=()=>{if(this._timer=void 0,!this._storage)return;const t=1e3*this._purgeInterval,e=performance.now()-t;for(const[s,r]of this._storage){if(!(r.time<e))return void(this._storage.size>0&&(this._timer=setTimeout(this._sweep,t)));this._storage.delete(s)}}}destroy(){this._storage?.clear(),this._storage=null,clearTimeout(this._timer)}put(t,e){this._storage?.set(t,new r(e)),this._scheduleSweep()}get(t){const e=this._storage?.get(t);if(e)return this._storage?.delete(t),e.time=performance.now(),this._storage?.set(t,e),e.items}clear(){this._storage?.clear()}_scheduleSweep(){this._storage&&(this._timer??=setTimeout(this._sweep,1e3*this._purgeInterval))}get test(){}}let s=0;class r{constructor(t){this.items=t,this.time=performance.now(),this.id=s++}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineCapabilities.js
var QueryEngineCapabilities = __webpack_require__(52557);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js + 2 modules
var QueryEngineResult = __webpack_require__(2557);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/queryUtils.js
var queryUtils = __webpack_require__(18160);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/queryValidationUtils.js
var queryValidationUtils = __webpack_require__(19953);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js + 2 modules
var spatialQuerySupport = __webpack_require__(53853);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/timeSupport.js
var timeSupport = __webpack_require__(86089);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/FieldsIndex.js
var FieldsIndex = __webpack_require__(51387);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Handles.js
var Handles = __webpack_require__(56802);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/PerformanceSampler.js
var PerformanceSampler = __webpack_require__(28335);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/PooledArray.js + 1 modules
var PooledArray = __webpack_require__(11268);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(61985);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/signal.js
var signal = __webpack_require__(39369);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/time.js
var time = __webpack_require__(67900);
;// ./node_modules/@arcgis/core/views/support/Yield.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const o=Symbol("Yield");

;// ./node_modules/@arcgis/core/layers/support/PromiseQueue.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class PromiseQueue_r{constructor(){this._tasks=new Array,this._numPendingTasks=(0,signal/* signal */.v)(0),this._running=(0,signal/* signal */.v)(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get running(){return this._running.value}_updateRunning(){this._running.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(s){if(0===this.length)return o;for(;!s.done&&this._process(s);)s.madeProgress()}push(s,t,n){return new Promise(((e,i)=>{this._tasks.push(new a(e,i,s,t,n)),++this._numPendingTasks.value,this._updateRunning()})).finally((()=>--this._numPendingTasks.value))}unshift(s,t,n){return new Promise(((e,i)=>{this._tasks.unshift(new a(e,i,s,t,n)),++this._numPendingTasks.value,this._updateRunning()})).finally((()=>--this._numPendingTasks.value))}_process(e){if(0===this._tasks.length)return!1;const i=this._tasks.shift();this._updateRunning();try{const r=(0,promiseUtils/* isAborted */.G4)(i.signal);if(r&&!i.abortCallback)i.reject((0,promiseUtils/* createAbortError */.NK)());else{const s=r?i.abortCallback?.((0,promiseUtils/* createAbortError */.NK)()):i.callback(e);(0,promiseUtils/* isPromiseLike */.$X)(s)?s.then(i.resolve,i.reject):i.resolve(s)}}catch(r){i.reject(r)}return!0}cancelAll(){const s=(0,promiseUtils/* createAbortError */.NK)();for(const t of this._tasks)if(t.abortCallback){const n=t.abortCallback(s);t.resolve(n)}else t.reject(s);this._tasks.length=0,this._updateRunning()}}class a{constructor(s,t,n,e=void 0,i=void 0){this.resolve=s,this.reject=t,this.callback=n,this.signal=e,this.abortCallback=i}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(93741);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
;// ./node_modules/@arcgis/core/views/support/debugFlags.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let e=class extends Accessor/* default */.A{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};(0,tslib_es6._)([(0,property/* property */.MZ)()],e.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],e.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.support.debugFlags")],e);const E=new e;

;// ./node_modules/@arcgis/core/views/support/RenderState.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var RenderState_I;!function(I){I[I.ANIMATING=0]="ANIMATING",I[I.INTERACTING=1]="INTERACTING",I[I.IDLE=2]="IDLE"}(RenderState_I||(RenderState_I={}));

;// ./node_modules/@arcgis/core/views/support/Scheduler.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function I(){return new U.Scheduler}var g;!function(e){e.RESOURCE_CONTROLLER_IMMEDIATE="immediate",e.RESOURCE_CONTROLLER="schedule",e.SLIDE="slide",e.STREAM_DATA_LOADER="stream loader",e.ELEVATION_QUERY="elevation query",e.TERRAIN_SURFACE="terrain",e.SURFACE_GEOMETRY_UPDATES="surface geometry updates",e.LOD_RENDERER="LoD renderer",e.GRAPHICS_CORE="Graphics3D",e.I3S_CONTROLLER="I3S",e.POINT_CLOUD_LAYER="point cloud",e.FEATURE_TILE_FETCHER="feature fetcher",e.OVERLAY="overlay",e.OVERLAY_RENDERER="overlay renderer",e.STAGE="stage",e.GRAPHICS_DECONFLICTOR="graphics deconflictor",e.FILTER_VISIBILITY="Graphics3D filter visibility",e.SCALE_VISIBILITY="Graphics3D scale visibility",e.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",e.POINT_OF_INTEREST_FREQUENT="POI frequent",e.POINT_OF_INTEREST_INFREQUENT="POI infrequent",e.LABELER="labeler",e.FEATURE_QUERY_ENGINE="feature query",e.FEATURE_TILE_TREE="feature tile tree",e.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",e.ELEVATION_ALIGNMENT="elevation alignment",e.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",e.TEXT_TEXTURE_ATLAS="text texture atlas",e.TEXTURE_UNLOAD="texture unload",e.LINE_OF_SIGHT_TOOL="line of sight tool",e.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",e.ELEVATION_PROFILE="elevation profile",e.SNAPPING="snapping",e.SHADOW_ACCUMULATOR="shadow accumulator",e.CLOUDS_GENERATOR="clouds generator",e.MAPVIEW_FETCH_QUEUE="mapview fetch queue",e.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",e.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",e[e.NONE=0]="NONE",e[e.TEST_PRIO=1]="TEST_PRIO"}(g||(g={}));const R=0,p=new Map([[g.RESOURCE_CONTROLLER_IMMEDIATE,R],[g.RESOURCE_CONTROLLER,4],[g.SLIDE,R],[g.STREAM_DATA_LOADER,R],[g.ELEVATION_QUERY,R],[g.TERRAIN_SURFACE,1],[g.SURFACE_GEOMETRY_UPDATES,1],[g.LOD_RENDERER,2],[g.GRAPHICS_CORE,2],[g.I3S_CONTROLLER,2],[g.POINT_CLOUD_LAYER,2],[g.FEATURE_TILE_FETCHER,2],[g.CLOUDS_GENERATOR,2],[g.OVERLAY,4],[g.OVERLAY_RENDERER,4],[g.STAGE,4],[g.GRAPHICS_DECONFLICTOR,4],[g.FILTER_VISIBILITY,4],[g.SCALE_VISIBILITY,4],[g.FRUSTUM_VISIBILITY,4],[g.POINT_OF_INTEREST_FREQUENT,6],[g.POINT_OF_INTEREST_INFREQUENT,30],[g.LABELER,8],[g.FEATURE_QUERY_ENGINE,8],[g.FEATURE_TILE_TREE,16],[g.FEATURE_TILE_TREE_ACTIVE,R],[g.ELEVATION_ALIGNMENT,12],[g.ELEVATION_ALIGNMENT_SCENE,14],[g.TEXT_TEXTURE_ATLAS,12],[g.TEXTURE_UNLOAD,12],[g.LINE_OF_SIGHT_TOOL,16],[g.LINE_OF_SIGHT_TOOL_INTERACTIVE,R],[g.SNAPPING,R],[g.SHADOW_ACCUMULATOR,30],[g.MAPVIEW_FETCH_QUEUE,R],[g.MAPVIEW_LAYERVIEW_UPDATE,2],[g.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,R]]);function A(e){return p.has(e)?p.get(e):"number"==typeof e?e:1}const f=(0,time/* Milliseconds */.l5)(6.5),L=(0,time/* Milliseconds */.l5)(1),N=(0,time/* Milliseconds */.l5)(30),O=(0,time/* Milliseconds */.l5)(1e3/30),S=(0,time/* Milliseconds */.l5)(100),b=.9;var U,k;!function(a){class n{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some((e=>e.needsUpdate))}constructor(){this._updating=(0,signal/* signal */.v)(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new PerformanceSampler/* default */.A("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new I,this._state=RenderState_I.INTERACTING,this._tasks=new PooledArray/* default */.A,this._runQueue=new PooledArray/* default */.A,this._load=0,this._idleStateCallbacks=new PooledArray/* default */.A,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=(0,reactiveUtils/* watch */.wB)((()=>E.SCHEDULER_LOG_SLOW_TASKS),(e=>this._debug=e),reactiveUtils/* initial */.Vh);for(const e of Object.keys(g))this.performanceInfo.tasks.set(g[e],new PerformanceSampler/* default */.A(g[e]))}destroy(){this._tasks.toArray().forEach((e=>e.remove())),this._tasks.clear(),(0,maybe/* removeMaybe */.xt)(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask((()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())})))}registerTask(e,t){const s=new _(this,e,t);return this._tasks.push(s),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new PerformanceSampler/* default */.A(e)),s}registerIdleStateCallbacks(e,t){const s={idleBegin:e,idleEnd:t};this._idleStateCallbacks.push(s),this.state===RenderState_I.IDLE&&this._idleUpdatesStartFired&&s.idleBegin();const r=this;return{remove:()=>this._removeIdleStateCallbacks(s),set idleBegin(e){r._idleUpdatesStartFired&&(s.idleEnd(),r._state===RenderState_I.IDLE&&e()),s.idleBegin=e},set idleEnd(e){s.idleEnd=e}}}get load(){return this._load}set state(e){this._state!==e&&(this._state=e,this.state!==RenderState_I.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((e=>e.idleEnd()))))}get state(){return this._state}frame(e){this._startFrameTaskTimes();const t=this._updateBudget(e);if(t){const e=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-e)}else this._recordFrameTaskTimes(0);return t}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let t=f,s=e.frameDuration,r=L;switch(this.state){case RenderState_I.IDLE:t=(0,time/* Milliseconds */.l5)(0),s=(0,time/* Milliseconds */.l5)(Math.max(S,e.frameDuration)),r=N;break;case RenderState_I.INTERACTING:s=(0,time/* Milliseconds */.l5)(Math.max(O,e.frameDuration));case RenderState_I.ANIMATING:}return s=(0,time/* Milliseconds */.l5)(s-e.elapsedFrameTime-t),this.state!==RenderState_I.IDLE&&s<L&&!this._forceTask?(this._forceTask=!0,!1):(s=(0,time/* Milliseconds */.l5)(Math.max(s,r)),this._budget.reset(s),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case RenderState_I.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((e=>e.idleBegin()))),this._runIdle();break;case RenderState_I.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset((0,time/* Milliseconds */.l5)(0)),this._budget.madeProgress()}_removeIdleStateCallbacks(e){this._idleUpdatesStartFired&&e.idleEnd(),this._idleStateCallbacks.removeUnordered(e)}removeTask(e){this._tasks.removeUnordered(e),this._runQueue.removeUnordered(e),this._updatingChanged()}_updateTask(e){this._tasks.forAll((t=>{t.name===e&&t.setPriority(e)}))}_getState(e){if(this._runQueue.some((t=>t.name===e)))return k.SCHEDULED;let t=k.IDLE;return this._tasks.forAll((s=>{s.name===e&&s.needsUpdate&&(s.schedulePriority<=1?t=k.READY:t!==k.READY&&(t=k.WAITING))})),t}_getRuntime(e){let t=0;return this._tasks.forAll((s=>{s.name===e&&(t+=s.runtime)})),t}_resetRuntimes(){this._tasks.forAll((e=>e.runtime=0))}_getRunning(){const e=new Map;if(this._tasks.forAll((t=>{t.needsUpdate&&e.set(t.name,(e.get(t.name)||0)+1)})),0===e.size)return null;let t="";return e.forEach(((e,s)=>{t+=e>1?` ${e}x ${s}`:` ${s}`})),t}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce(((e,t)=>t.needsUpdate?++e:e),0);this._load=this._load*b+e*(1-b)}_schedule(){for(this._runQueue.filterInPlace((e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1))),this._tasks.forAll((e=>{e.basePriority===R&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)}));0===this._runQueue.length;){let e=!1,t=0;if(this._tasks.forAll((s=>{if(s.needsUpdate&&0!==s.schedulePriority&&s.basePriority!==R&&s.blockFrame!==this._frameNumber)if(e=!0,t=Math.max(t,s.basePriority),1===s.schedulePriority)s.schedulePriority=0,this._runQueue.push(s);else--s.schedulePriority})),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do{for(;this._runQueue.length>0;){const s=this._budget.now(),r=this._runQueue.pop();this._budget.resetProgress();try{r.task.runTask(this._budget)===o&&(r.blockFrame=this._frameNumber)}catch(e){Logger/* default */.A.getLogger("esri.views.support.Scheduler").error(`Exception in task "${r.name}"`,e),r.blockFrame=this._frameNumber}!this._budget.hasProgressed&&r.blockFrame!==this._frameNumber&&r.needsUpdate&&(r.name,g.I3S_CONTROLLER,r.blockFrame=this._frameNumber),r.schedulePriority=r.basePriority;const i=this._budget.now()-s;if(r.runtime+=i,this._frameTaskTimes.set(r.priority,this._frameTaskTimes.get(r.priority)+i),this._budget.remaining<=0)return void this._updatingChanged()}}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const e of Object.keys(g))this._frameTaskTimes.set(g[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach(((e,t)=>this.performanceInfo.tasks.get(t).push(e))),this.performanceInfo.total.push(e)}get test(){return this._test}}a.Scheduler=n;class _{get task(){return this._task.value}get updating(){return this._queue.running}constructor(t,s,r){this._scheduler=t,this.name=s,this.blockFrame=0,this.runtime=0,this._queue=new PromiseQueue_r,this._handles=new Handles/* default */.A,this._basePriority=A(s),this.schedulePriority=this._basePriority,this._task=(0,signal/* signal */.v)(null!=r?r:this._queue),this._handles.add((0,reactiveUtils/* when */.z7)((()=>this.task.running),(e=>t.taskRunningChanged(e))))}remove(){this.processQueue(C),this._scheduler.removeTask(this),this.schedule=D.schedule,this.reschedule=D.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const t=A(e);this._basePriority!==R&&0===this.schedulePriority||(this.schedulePriority=t),this._basePriority=t}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.updating||this.task.running}schedule(e,t,s){return this._queue.push(e,t,s)}reschedule(e,t,s){return this._queue.unshift(e,t,s)}processQueue(e){return this._queue.runTask(e)}}class I{constructor(){this._begin=performance?.now()??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(!0===e()&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e){this._begin=this.now(),this._budget=e,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}a.Budget=I}(U||(U={})),function(e){e.SCHEDULED="s",e.READY="r",e.WAITING="w",e.IDLE="i"}(k||(k={}));const C=new U.Budget;function P(e){const t=new U.Budget;return t.reset(e),t}C.enabled=!1;class F{remove(){}processQueue(){}schedule(e,t,s){try{if((0,promiseUtils/* isAborted */.G4)(t)){const e=(0,promiseUtils/* createAbortError */.NK)();return s?Promise.resolve(s(e)):Promise.reject(e)}return (0,promiseUtils/* when */.z7)(e(C))}catch(r){return Promise.reject(r)}}reschedule(e,t,s){return this.schedule(e,t,s)}}const D=new F;

;// ./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const QueryEngine_N="unsupported-query";class J{constructor(e,t=null,s,i,r){this.attributes=e,this.geometry=s,this.centroid=i,this.filterFlags=r,this.groupId=-1,this.displayId=t}}class QueryEngine_L{constructor(e){this._changeHandle=null,this.capabilities={query:QueryEngineCapabilities/* queryCapabilities */.F},this.geometryType=e.geometryType,this.hasM=!!e.hasM,this.hasZ=!!e.hasZ,this.spatialReference=e.spatialReference,this.definitionExpression=e.definitionExpression,this.featureStore=e.featureStore,this.aggregateAdapter=e.aggregateAdapter,this._cache=e.cache??new QueryEngineCache_e,this.timeInfo=e.timeInfo,this.featureIdInfo=e.featureIdInfo,"object-id"===e.featureIdInfo.type&&(this.objectIdField=e.featureIdInfo.fieldName),this._changeHandle=this.featureStore.events.on("changed",(()=>this._clearCache())),this.fieldsIndex=(0,jsonUtils/* isSerializable */.W)(e.fieldsIndex)?e.fieldsIndex:FieldsIndex/* default */.A.fromJSON(e.fieldsIndex),!e.availableFields||1===e.availableFields.length&&"*"===e.availableFields[0]?this.availableFields=new Set(this.fieldsIndex.fields.map((e=>e.name))):this.availableFields=new Set(e.availableFields.map((e=>this.fieldsIndex.get(e)?.name)).filter((e=>null!=e))),e.scheduler&&e.priority&&(this._frameTask=e.scheduler.registerTask(e.priority))}destroy(){this._changeHandle=(0,maybe/* removeMaybe */.xt)(this._changeHandle),this._frameTask=(0,maybe/* removeMaybe */.xt)(this._frameTask),this._clearCache(),(0,maybe/* destroyMaybe */.pR)(this._cache)}get featureAdapter(){return this.featureStore.featureAdapter}_clearCache(){this._cache.clear(),this._allFeaturesPromise=null,this._timeExtentPromise=null,this._fullExtentPromise=null}async executeQuery(e,t){const s=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(t);try{const t=await this._executeQuery(e,{},s);return await t.createQueryResponse()}catch(i){if(i!==queryUtils/* queryEngineEmptyResult */.v8)throw i;return new QueryEngineResult/* QueryEngineResult */.G([],e,this).createQueryResponse()}}async executeQueryForCount(e={},t){const s=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(t);try{return(await this._executeQuery(e,{returnGeometry:!1,returnCentroid:!1,outSR:null},s)).createQueryResponseForCount()}catch(i){if(i!==queryUtils/* queryEngineEmptyResult */.v8)throw i;return 0}}async executeQueryForExtent(e,t){const s=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(t),i=e.outSR;try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),r=t.size;if(!r)return{count:0,extent:null};return{count:r,extent:await this._getBounds(t.items,t.spatialReference,i||this.spatialReference)}}catch(r){if(r===queryUtils/* queryEngineEmptyResult */.v8)return{count:0,extent:null};throw r}}async executeQueryForIds(e,t){return this.executeQueryForIdSet(e,t).then((e=>Array.from(e)))}async executeQueryForIdSet(e,t){const s=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(t);try{const t=await this._executeQuery(e,{returnGeometry:!0,returnCentroid:!1,outSR:null},s),i=t.items,r=new Set;return await this.reschedule((()=>{for(const e of i)r.add(t.featureAdapter.getObjectId(e))}),s),r}catch(i){if(i===queryUtils/* queryEngineEmptyResult */.v8)return new Set;throw i}}async executeQueryForLatestObservations(e,t){const s=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(t);if(!this.timeInfo?.trackIdField)throw new Error/* default */.A(QueryEngine_N,"Missing timeInfo or timeInfo.trackIdField",{query:e,timeInfo:this.timeInfo});try{const t=await this._executeQuery(e,{},s);return await this.reschedule((()=>this._filterLatest(t)),s),await t.createQueryResponse()}catch(r){if(r!==queryUtils/* queryEngineEmptyResult */.v8)throw r;return new QueryEngineResult/* QueryEngineResult */.G([],e,this).createQueryResponse()}}async executeAttributeBinsQuery(e,t){const s=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(t);let i;e=(0,lang/* clone */.o8)(e);try{e=await this.schedule((()=>(0,queryUtils/* normalizeAttributeBinsQuery */.iJ)(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>(0,queryValidationUtils/* validateAttributeBinsQuery */.FQ)(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const t=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s);i=await this.reschedule((()=>this._executeGeometryQuery(e,t,s)),s),await this.reschedule((()=>this._executeAggregateIdsQuery(i)),s),await this.reschedule((()=>this.executeObjectIdsQuery(i)),s),await this.reschedule((()=>this.executeTimeQuery(i)),s),await this.reschedule((()=>this.executeAttributesQuery(i)),s)}catch(a){if(a!==queryUtils/* queryEngineEmptyResult */.v8)throw a;i=new QueryEngineResult/* QueryEngineResult */.G([],e,this)}return i.createQueryBinsResponse(e)}async executeQueryForSummaryStatistics(e={},t,s){const i=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createSummaryStatisticsResponse(t)}async executeQueryForUniqueValues(e={},t,s){const i=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(s),{field:r,field2:a,field3:n,valueExpression:l}=t;return(await this._executeQueryForStatistics(e,{field:r,field2:a,field3:n,valueExpression:l},i)).createUniqueValuesResponse(t)}async executeQueryForClassBreaks(e={},t,s){const i=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createClassBreaksResponse(t)}async executeQueryForHistogram(e={},t,s){const i=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(s),{field:r,normalizationField:a,valueExpression:n}=t;return(await this._executeQueryForStatistics(e,{field:r,normalizationField:a,valueExpression:n},i)).createHistogramResponse(t)}async fetchRecomputedExtents(e){const t=(0,promiseUtils/* signalFromSignalOrOptions */.Mq)(e);this._timeExtentPromise||=(0,timeSupport/* getTimeExtent */.W)(this.timeInfo,this.featureStore);const[s,i]=await Promise.all([this._getFullExtent(),this._timeExtentPromise]);return (0,promiseUtils/* throwIfAborted */.Te)(t),{fullExtent:s,timeExtent:i}}async _getBounds(e,t,s){const i=(0,aaBoundingBox/* set */.hZ)((0,aaBoundingBox/* create */.vt)(),aaBoundingBox/* negativeInfinity */.qv);await this.featureStore.forEachBounds(e,(e=>(0,aaBoundingBox/* expandWithAABB */.RF)(i,e)));const r={xmin:i[0],ymin:i[1],xmax:i[3],ymax:i[4],spatialReference:(0,geometryUtils/* cleanFromGeometryEngine */.ag)(this.spatialReference)};this.hasZ&&isFinite(i[2])&&isFinite(i[5])&&(r.zmin=i[2],r.zmax=i[5],r.hasZ=!0);const a=(0,projectionSupport/* project */.Cv)(r,t,s);if(a.spatialReference=(0,geometryUtils/* cleanFromGeometryEngine */.ag)(s),a.xmax-a.xmin===0){const e=(0,unitUtils/* getMetersPerUnitForSR */.GA)(a.spatialReference);a.xmin-=e,a.xmax+=e}if(a.ymax-a.ymin===0){const e=(0,unitUtils/* getMetersPerUnitForSR */.GA)(a.spatialReference);a.ymin-=e,a.ymax+=e}if(this.hasZ&&null!=a.zmin&&null!=a.zmax&&a.zmax-a.zmin===0){const e=(0,unitUtils/* getMetersPerUnitForSR */.GA)(a.spatialReference);a.zmin-=e,a.zmax+=e}return a}_getFullExtent(){return this._fullExtentPromise||="getFullExtent"in this.featureStore&&this.featureStore.getFullExtent?Promise.resolve(this.featureStore.getFullExtent(this.spatialReference)):this._getAllFeatures().then((e=>this._getBounds(e,this.spatialReference,this.spatialReference))),this._fullExtentPromise}async schedule(e,t){return this._frameTask?.schedule(e,t)??e(C)}async reschedule(e,t){return this._frameTask?.reschedule(e,t)??e(C)}async _getAllFeaturesQueryEngineResult(e){return new QueryEngineResult/* QueryEngineResult */.G(await this._getAllFeatures(),e,this)}async _getAllFeatures(){if(null==this._allFeaturesPromise){const e=[];this._allFeaturesPromise=(async()=>await this.featureStore.forEach((t=>e.push(t))))().then((()=>(0,compilerUtils/* toConst */.zI)(e)))}const e=this._allFeaturesPromise,t=await e;return e===this._allFeaturesPromise?t.slice():this._getAllFeatures()}async _executeQuery(e,t,s){e=(0,lang/* clone */.o8)(e),e=await this.schedule((()=>(0,queryUtils/* normalizeQuery */.GC)(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>(0,queryValidationUtils/* validateQuery */.B4)(e,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s),e={...e,...t};const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),a=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(a)),s),await this.reschedule((()=>this.executeObjectIdsQuery(a)),s),await this.reschedule((()=>this.executeTimeQuery(a)),s),await this.reschedule((()=>this.executeAttributesQuery(a)),s),a}async _executeSceneFilterQuery(e,t){if(null==e.sceneFilter)return null;const{outSR:s,returnGeometry:i,returnCentroid:r}=e,a=this.featureStore.featureSpatialReference,n=e.sceneFilter.geometry,u=null==a||(0,spatialReferenceUtils/* equals */.aI)(a,n.spatialReference)?n:(0,projectionSupport/* project */.Cv)(n,a);if(!u)return null;const l=i||r,o=(0,spatialReferenceUtils/* isValid */.fn)(s)&&!(0,spatialReferenceUtils/* equals */.aI)(this.spatialReference,s)&&l?async e=>this._project(e,s):e=>e,h=this.featureAdapter,c=await this.reschedule((()=>this.searchFeatures(V(u))),t);if("disjoint"===e.sceneFilter.spatialRelationship){if(!c.length)return null;const s=new Set;for(const e of c)s.add(h.getObjectId(e));const i=await this.reschedule((()=>this._getAllFeatures()),t),r=await this.reschedule((async()=>{const r=await (0,spatialQuerySupport/* getSpatialQueryOperator */.xt)("esriSpatialRelDisjoint",u,this.geometryType,this.hasZ,this.hasM),a=e=>!s.has(h.getObjectId(e))||r(h.getGeometry(e)),n=await this.runSpatialFilter(i,a,t);return new QueryEngineResult/* QueryEngineResult */.G(n,e,this)}),t);return o(r)}if(!c.length)return new QueryEngineResult/* QueryEngineResult */.G([],e,this);if(this._canExecuteSinglePass(u,e))return o(new QueryEngineResult/* QueryEngineResult */.G(c,e,this));const m=await (0,spatialQuerySupport/* getSpatialQueryOperator */.xt)("esriSpatialRelContains",u,this.geometryType,this.hasZ,this.hasM),f=await this.runSpatialFilter(c,(e=>m(h.getGeometry(e))),t);return o(new QueryEngineResult/* QueryEngineResult */.G(f,e,this))}async _executeGeometryQuery(s,i,r){if(null!=i&&0===i.items.length)return i;const{geometry:a,outSR:n,returnGeometry:u,returnCentroid:l}=s,o=i?null:this._getCacheKey(s),h=o?this._cache.get(o):null;if(h)return new QueryEngineResult/* QueryEngineResult */.G(h,s,this);const c=(0,spatialReferenceUtils/* isValid */.fn)(n)&&!(0,spatialReferenceUtils/* equals */.aI)(this.spatialReference,n),m=u||l,f=async e=>(c&&m&&await this._project(e,n),o&&this._cache.put(o,e.items),e),d=this.featureStore.featureSpatialReference,y=!a||null==d||(0,spatialReferenceUtils/* equals */.aI)(d,a.spatialReference)?a:(0,projectionSupport/* project */.Cv)(a,d);if(!y)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const p=this.featureAdapter;let g=await this.reschedule((()=>this.searchFeatures(V(a))),r);const x=s.spatialRel??"esriSpatialRelIntersects";if("esriSpatialRelDisjoint"===x){if(!g.length)return f(null!=i?i:await this._getAllFeaturesQueryEngineResult(s));const e=new Set;for(const s of g)e.add(p.getObjectId(s));const t=null!=i?i.items:await this.reschedule((()=>this._getAllFeatures()),r),a=await this.reschedule((async()=>{const i=await (0,spatialQuerySupport/* getSpatialQueryOperator */.xt)(x,y,this.geometryType,this.hasZ,this.hasM),a=t=>!e.has(p.getObjectId(t))||i(p.getGeometry(t)),n=await this.runSpatialFilter(t,a,r);return new QueryEngineResult/* QueryEngineResult */.G(n,s,this)}),r);return f(a)}if(null!=i){const s=new arrayUtils/* PositionHint */.vW;g=g.filter((t=>(0,arrayUtils/* indexOf */.qh)(i.items,t,i.items.length,s)>=0))}if(!g.length){const e=new QueryEngineResult/* QueryEngineResult */.G([],s,this);return o&&this._cache.put(o,e.items),e}if(this._canExecuteSinglePass(y,s))return f(new QueryEngineResult/* QueryEngineResult */.G(g,s,this));const w=await (0,spatialQuerySupport/* getSpatialQueryOperator */.xt)(x,y,this.geometryType,this.hasZ,this.hasM),F=await this.runSpatialFilter(g,(e=>w(p.getGeometry(e))),r);return f(new QueryEngineResult/* QueryEngineResult */.G(F,s,this))}_executeAggregateIdsQuery(e){if(0===e.items.length||!e.query.aggregateIds?.length||null==this.aggregateAdapter)return;const t=new Set;for(const i of e.query.aggregateIds){this.aggregateAdapter.getFeatureObjectIds(i).forEach((e=>t.add(e)))}const s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeObjectIdsQuery(e){if(0===e.items.length||!e.query.objectIds?.length)return;const t=new Set(e.query.objectIds),s=this.featureAdapter.getObjectId;e.items=e.items.filter((e=>t.has(s(e))))}executeTimeQuery(e){if(0===e.items.length)return;const t=(0,timeSupport/* getTimeOperator */.I)(this.timeInfo,e.query.timeExtent,this.featureAdapter);null!=t&&(e.items=e.items.filter(t))}executeAttributesQuery(e){if(0===e.items.length)return;const t=(0,attributeSupport/* getWhereClause */.j4)(e.query.where,this.fieldsIndex);if(t){if(!t.isStandardized)throw new TypeError("Where clause is not standardized");e.items=e.items.filter((e=>t.testFeature(e,this.featureAdapter)))}}async runSpatialFilter(e,t,s){if(!t)return e;if(null==this._frameTask)return e.filter((e=>t(e)));let i=0;const r=new Array,a=async n=>{for(;i<e.length;){const u=e[i++];t(u)&&(r.push(u),n.madeProgress()),n.done&&await this.reschedule((e=>a(e)),s)}};return this.reschedule((e=>a(e)),s).then((()=>r))}_filterLatest(e){const{trackIdField:t,startTimeField:s,endTimeField:i}=this.timeInfo,r=i||s,a=new Map,n=this.featureAdapter.getAttribute;for(const u of e.items){const e=n(u,t),s=n(u,r),i=a.get(e);(!i||s>n(i,r))&&a.set(e,u)}e.items=Array.from(a.values())}_getCacheKey(e){const{geometry:t,spatialRel:s,returnGeometry:i,returnCentroid:r,outSR:a,resultType:n,cacheHint:u}=e;if("tile"!==n&&!u)return null;const l=i||r;return (0,spatialReferenceUtils/* isValid */.fn)(a)&&!(0,spatialReferenceUtils/* equals */.aI)(this.spatialReference,a)&&l?JSON.stringify([t,s,a]):JSON.stringify([t,s])}_canExecuteSinglePass(e,t){const{spatialRel:s}=t;return (0,spatialQuerySupport/* canQueryWithRBush */.tC)(e)&&("esriSpatialRelEnvelopeIntersects"===s||"esriGeometryPoint"===this.geometryType&&("esriSpatialRelIntersects"===s||"esriSpatialRelContains"===s))}async _project(e,t){if(!t||(0,spatialReferenceUtils/* equals */.aI)(this.spatialReference,t))return e;const i=this.featureAdapter;let r;try{const e=await this._getFullExtent();r=(0,projectionUtils.getTransformation)(this.spatialReference,t,e)}catch{}const a=await (0,projectionSupport/* projectMany */.lK)(e.items.map((e=>(0,geometryUtils/* getGeometry */.pL)(this.geometryType,this.hasZ,this.hasM,i.getGeometry(e)))),this.spatialReference,t,r);return e.items=(0,compilerUtils/* toConst */.zI)(a.map(((t,s)=>i.cloneWithGeometry(e.items[s],(0,featureConversionUtils/* convertFromGeometry */.Ux)(t,this.hasZ,this.hasM))))),e}async searchFeatures(e){const t=new Set;await Promise.all(e.map((e=>this.featureStore.forEachInBounds(e,(e=>t.add(e))))));const s=Array.from(t.values());return t.clear(),s}async _executeQueryForStatistics(e,t,s){e=(0,lang/* clone */.o8)(e);try{e=await this.schedule((()=>(0,queryUtils/* normalizeQuery */.GC)(e,this.definitionExpression,this.spatialReference)),s),e=await this.reschedule((()=>(0,queryValidationUtils/* validateStatisticsQuery */.mO)(e,t,{availableFields:this.availableFields,fieldsIndex:this.fieldsIndex,geometryType:this.geometryType,spatialReference:this.spatialReference})),s);const i=await this.reschedule((()=>this._executeSceneFilterQuery(e,s)),s),r=await this.reschedule((()=>this._executeGeometryQuery(e,i,s)),s);return await this.reschedule((()=>this._executeAggregateIdsQuery(r)),s),await this.reschedule((()=>this.executeObjectIdsQuery(r)),s),await this.reschedule((()=>this.executeTimeQuery(r)),s),await this.reschedule((()=>this.executeAttributesQuery(r)),s),r}catch(i){if(i!==queryUtils/* queryEngineEmptyResult */.v8)throw i;return new QueryEngineResult/* QueryEngineResult */.G([],e,this)}}get test(){}}function V(e){if((0,spatialQuerySupport/* canQueryWithRBush */.tC)(e)){if((0,support_jsonUtils/* isExtent */.ZC)(e))return[(0,aaBoundingRect/* fromValues */.fA)(Math.min(e.xmin,e.xmax),Math.min(e.ymin,e.ymax),Math.max(e.xmin,e.xmax),Math.max(e.ymin,e.ymax))];if((0,support_jsonUtils/* isPolygon */.Bi)(e))return e.rings.map((e=>(0,aaBoundingRect/* fromValues */.fA)(Math.min(e[0][0],e[2][0]),Math.min(e[0][1],e[2][1]),Math.max(e[0][0],e[2][0]),Math.max(e[0][1],e[2][1]))))}return[(0,boundsUtils/* getBoundsXY */.Rg)((0,aaBoundingRect/* create */.vt)(),e)]}


/***/ }),

/***/ 2557:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  G: () => (/* binding */ O)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(15565);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/centroid.js
var centroid = __webpack_require__(23064);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/extentUtils.js
var extentUtils = __webpack_require__(34475);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/quantizationUtils.js
var quantizationUtils = __webpack_require__(66220);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js
var spatialReferenceUtils = __webpack_require__(67488);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/attributeSupport.js
var attributeSupport = __webpack_require__(86582);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js
var geometryUtils = __webpack_require__(84880);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/fieldUtils.js
var fieldUtils = __webpack_require__(46227);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/smartMapping/statistics/support/utils.js
var utils = __webpack_require__(98310);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/statistics/utils.js
var statistics_utils = __webpack_require__(76408);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/support/loadArcade.js
var loadArcade = __webpack_require__(68717);
;// ./node_modules/@arcgis/core/layers/graphics/data/AttributesBuilder.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class AttributesBuilder_c{constructor(s,a,l){this._fieldDataCache=new Map,this._returnDistinctMap=new Map,this.returnDistinctValues=s.returnDistinctValues??!1,this.fieldsIndex=l,this.featureAdapter=a;const r=s.outFields;if(r&&!r.includes("*")){this.outFields=r;let s=0;for(const a of r){const r=(0,attributeSupport/* getExpressionFromFieldName */.Wq)(a),n=this.fieldsIndex.get(r),u=n?null:(0,attributeSupport/* getWhereClause */.j4)(r,l),o=n?n.name:(0,attributeSupport/* getAliasFromFieldName */.SY)(a)||"FIELD_EXP_"+s++;this._fieldDataCache.set(a,{alias:o,clause:u})}}}countDistinctValues(t){return this.returnDistinctValues?(t.forEach((t=>this.getAttributes(t))),this._returnDistinctMap.size):t.length}getAttributes(t){const e=this._processAttributesForOutFields(t);return this._processAttributesForDistinctValues(e)}getFieldValue(t,i,s){const a=s?s.name:i;let l=null;return this._fieldDataCache.has(a)?l=this._fieldDataCache.get(a)?.clause:s||(l=(0,attributeSupport/* getWhereClause */.j4)(i,this.fieldsIndex),this._fieldDataCache.set(a,{alias:a,clause:l})),s?this.featureAdapter.getAttribute(t,a):l?.calculateValue(t,this.featureAdapter)}getDataValues(t,e,i=!0){const s=e.normalizationType,d=e.normalizationTotal,c=this.fieldsIndex.get(e.field),h=(0,fieldUtils/* isDateOnlyField */.zD)(c)||(0,fieldUtils/* isTimestampOffsetField */.Ah)(c),f=(0,fieldUtils/* isTimeOnlyField */.OH)(c);return t.map((t=>{let a=e.field&&this.getFieldValue(t,e.field,this.fieldsIndex.get(e.field));if(e.field2?(a=`${(0,statistics_utils/* processNullValue */.gJ)(a)}${e.fieldDelimiter}${(0,statistics_utils/* processNullValue */.gJ)(this.getFieldValue(t,e.field2,this.fieldsIndex.get(e.field2)))}`,e.field3&&(a=`${a}${e.fieldDelimiter}${(0,statistics_utils/* processNullValue */.gJ)(this.getFieldValue(t,e.field3,this.fieldsIndex.get(e.field3)))}`)):"string"==typeof a&&i&&(h?a=a?new Date(a).getTime():null:f&&(a=a?(0,utils/* timeOnlyToMilliseconds */.rb)(a):null)),s&&Number.isFinite(a)){const i="field"===s&&e.normalizationField?this.getFieldValue(t,e.normalizationField,this.fieldsIndex.get(e.normalizationField)):null;a=(0,statistics_utils/* getNormalizedValue */.zS)(a,s,i,d)}return a}))}async getExpressionValues(t,e,i,a,l){const{arcadeUtils:r}=await (0,loadArcade/* loadArcade */.l)(),n=r.hasGeometryOperations(e);n&&await r.enableGeometryOperations();const u=r.createFunction(e),o=r.getViewInfo(i),c={fields:this.fieldsIndex.fields};return t.map((t=>{const e={attributes:this.featureAdapter.getAttributes(t),layer:c,geometry:n?{...(0,geometryUtils/* getGeometry */.pL)(a.geometryType,a.hasZ,a.hasM,this.featureAdapter.getGeometry(t)),spatialReference:i?.spatialReference}:null},d=r.createExecContext(e,o,l);return r.executeFunction(u,d)}))}validateItem(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:(0,attributeSupport/* getWhereClause */.j4)(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testFeature(t,this.featureAdapter)??!1}validateItems(t,i){return this._fieldDataCache.has(i)||this._fieldDataCache.set(i,{alias:i,clause:(0,attributeSupport/* getWhereClause */.j4)(i,this.fieldsIndex)}),this._fieldDataCache.get(i)?.clause?.testSet(t,this.featureAdapter)??!1}_processAttributesForOutFields(t){const e=this.outFields;if(!e?.length)return this.featureAdapter.getAttributes(t);const i={};for(const s of e){const{alias:e,clause:a}=this._fieldDataCache.get(s);i[e]=a?a.calculateValue(t,this.featureAdapter):this.featureAdapter.getAttribute(t,e)}return i}_processAttributesForDistinctValues(t){if(null==t||!this.returnDistinctValues)return t;const e=this.outFields,i=[];if(e)for(const l of e){const{alias:e}=this._fieldDataCache.get(l);i.push(t[e])}else for(const l in t)i.push(t[l]);const s=`${(e||["*"]).join(",")}=${i.join(",")}`;let a=this._returnDistinctMap.get(s)||0;return this._returnDistinctMap.set(s,++a),a>1?null:t}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js
var projectionSupport = __webpack_require__(48277);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/queryUtils.js
var queryUtils = __webpack_require__(18160);
;// ./node_modules/@arcgis/core/layers/graphics/data/SnappingCandidate.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function SnappingCandidate_t(t,e,r){return{objectId:t,target:e,distance:r,type:"vertex"}}function SnappingCandidate_e(t,e,r,n,d,a=!1){return{objectId:t,target:e,distance:r,type:"edge",start:n,end:d,draped:a}}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/AutoIntervalBinParameters.js
var AutoIntervalBinParameters = __webpack_require__(80595);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/DateBinParameters.js + 1 modules
var DateBinParameters = __webpack_require__(35571);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/DateBinUtils.js
var DateBinUtils = __webpack_require__(92428);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/FixedBoundariesBinParameters.js
var FixedBoundariesBinParameters = __webpack_require__(40147);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/FixedIntervalBinParameters.js
var FixedIntervalBinParameters = __webpack_require__(66442);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/time/constants.js
var constants = __webpack_require__(82506);
// EXTERNAL MODULE: ./node_modules/luxon/src/luxon.js + 23 modules
var luxon = __webpack_require__(44641);
;// ./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const E="bin";class O{constructor(e,t,i){this.items=e,this.query=t,this.geometryType=i.geometryType,this.hasM=i.hasM,this.hasZ=i.hasZ,this.fieldsIndex=i.fieldsIndex,this.objectIdField=i.objectIdField,this.spatialReference=i.spatialReference,this.featureAdapter=i.featureAdapter}get size(){return this.items.length}createQueryResponseForCount(){const e=new AttributesBuilder_c(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return e.countDistinctValues(this.items);const{groupByFieldsForStatistics:t,having:i,outStatistics:s}=this.query,a=t?.length;if(!!!a)return 1;const r=new Map,n=new Map,o=new Set;for(const l of s){const{statisticType:s}=l,a="exceedslimit"!==s?l.onStatisticField:void 0;if(!n.has(a)){const i=[];for(const s of t){const t=this._getAttributeValues(e,s,this.items,r);i.push(t)}n.set(a,this._calculateUniqueValues(i,this.items,e.returnDistinctValues))}const u=n.get(a);for(const t in u){const{data:s,items:a}=u[t],r=s.join(",");i&&!e.validateItems(a,i)||o.add(r)}}return o.size}async createQueryResponse(){let e;if(this.query.outStatistics){e=this.query.outStatistics.some((e=>"exceedslimit"===e.statisticType))?this._createExceedsLimitQueryResponse():await this._createStatisticsQueryResponse(this.query,this.items)}else e=this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const t=this.query.geometry;(0,spatialReferenceUtils/* isValid */.fn)(this.query.outSR)&&!(0,spatialReferenceUtils/* equals */.aI)(t.spatialReference,this.query.outSR)?e.queryGeometry=(0,geometryUtils/* cleanFromGeometryEngine */.ag)({spatialReference:this.query.outSR,...(0,projectionSupport/* project */.Cv)(t,t.spatialReference,this.query.outSR)}):e.queryGeometry=(0,geometryUtils/* cleanFromGeometryEngine */.ag)({spatialReference:this.query.outSR,...t})}return e}createSnappingResponse(e,t,i){const s=this.featureAdapter,a=Q(this.hasZ,this.hasM),{point:r,mode:n}=e,o="number"==typeof e.distance?e.distance:e.distance.x,l="number"==typeof e.distance?e.distance:e.distance.y,u={candidates:[]},c="esriGeometryPolygon"===this.geometryType,m="esriGeometryPolyline"===this.geometryType||"esriGeometryPoint"===this.geometryType,d=this._getPointCreator(n,t,this.spatialReference,i),f=new U(null,0),y=new U(null,0),g={x:0,y:0,z:0};for(const x of this.items){const t=s.getGeometry(x);if(null==t)continue;const{coords:i}=t,n=t.isPoint?k:t.lengths;if(f.coords=i,y.coords=i,e.returnEdge){let e=0;for(let t=0;t<n.length;t++){const i=n[t],m=e;for(let t=0;t<i;t++,e+=a){if(!c&&t===i-1)continue;const n=f;n.coordsIndex=e;const p=y;p.coordsIndex=t===i-1?m:e+a;const T=g;if(!H(g,r,n,p))continue;const I=(r.x-T.x)/o,F=(r.y-T.y)/l,_=I*I+F*F;_<=1&&u.candidates.push(SnappingCandidate_e(s.getObjectId(x),d(T),Math.sqrt(_),d(n),d(p)))}}}if("all"===e.vertexMode){let e=0;for(let t=0;t<n.length;t++){const i=n[t],m=e,h=y;h.coordsIndex=m;for(let t=0;t<i;t++,e+=a){const a=f;if(a.coordsIndex=e,c&&t===i-1&&a.x===h.x&&a.y===h.y)continue;const n=(r.x-a.x)/o,m=(r.y-a.y)/l,y=n*n+m*m;y<=1&&u.candidates.push(SnappingCandidate_t(s.getObjectId(x),d(a),Math.sqrt(y)))}}}else if(m&&"ends"===e.vertexMode){let e=0;const t=[];for(let i=0;i<n.length;i++){t.push(e);const s=n[i];e+=s*a,!c&&s>1&&t.push(e-a)}for(const i of t){const e=f;e.coordsIndex=i;const t=(r.x-e.x)/o,a=(r.y-e.y)/l,n=t*t+a*a;n<=1&&u.candidates.push(SnappingCandidate_t(s.getObjectId(x),d(e),Math.sqrt(n)))}}}return u.candidates.sort(((e,t)=>e.distance-t.distance)),u}_getPointCreator(e,t,i,s){const a=null==s||(0,spatialReferenceUtils/* equals */.aI)(i,s)?e=>e:e=>(0,projectionSupport/* project */.Cv)(e,i,s),{hasZ:r}=this,n=0;return"3d"===e?r&&t?({x:e,y:t,z:i})=>a({x:e,y:t,z:i}):({x:e,y:t})=>a({x:e,y:t,z:n}):({x:e,y:t})=>a({x:e,y:t})}async createSummaryStatisticsResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,minValue:n,maxValue:o,scale:l,timeZone:u,outStatisticTypes:c}=e,m=this.fieldsIndex.get(t),d=(0,fieldUtils/* isDateField */.vE)(m)||(0,fieldUtils/* isDateOnlyField */.zD)(m)||(0,fieldUtils/* isTimestampOffsetField */.Ah)(m),f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:l,timeZone:u},this.items),h=(0,statistics_utils/* isNullCountSupported */.Vb)({normalizationType:a,normalizationField:s,minValue:n,maxValue:o}),p={value:.5,fieldType:m?.type},I=(0,fieldUtils/* isStringField */.yM)(m)?(0,statistics_utils/* calculateStringStatistics */.z9)({values:f,supportsNullCount:h,percentileParams:p,outStatisticTypes:c}):(0,statistics_utils/* calculateStatistics */.G_)({values:f,minValue:n,maxValue:o,useSampleStdDev:!a,supportsNullCount:h,percentileParams:p,outStatisticTypes:c});return (0,statistics_utils/* processSummaryStatisticsResult */.oZ)(I,c,d)}async createUniqueValuesResponse(e){const{field:t,valueExpression:i,domains:s,returnAllCodedValues:a,scale:r,timeZone:n}=e,o=await this._getDataValues({field:t,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:i,scale:r,timeZone:n},this.items,!1),l=(0,statistics_utils/* calculateUniqueValuesCount */.b3)(o);return (0,statistics_utils/* createUVResult */.lv)(l,s,a,e.fieldDelimiter)}async createClassBreaksResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c,scale:m,timeZone:d}=e,f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items),h=(0,statistics_utils/* calculateClassBreaks */.Rw)(f,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numClasses:c});return (0,statistics_utils/* resolveCBResult */.jM)(h,n)}async createHistogramResponse(e){const{field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c,scale:m,timeZone:d}=e,f=await this._getDataValues({field:t,valueExpression:i,normalizationField:s,normalizationType:a,normalizationTotal:r,scale:m,timeZone:d},this.items);return (0,statistics_utils/* calculateHistogram */.$y)(f,{field:t,normalizationField:s,normalizationType:a,normalizationTotal:r,classificationMethod:n,standardDeviationInterval:o,minValue:l,maxValue:u,numBins:c})}_sortFeatures(e,t,i){if(e.length>1&&t?.length)for(const s of t.slice().reverse()){const t=s.split(" "),a=t[0],r=this.fieldsIndex.get(a),n=!!t[1]&&"desc"===t[1].toLowerCase(),o=(0,statistics_utils/* getAttributeComparator */.FM)(r?.type,n);e.sort(((e,t)=>{const s=i(e,a,r),n=i(t,a,r);return o(s,n)}))}}_createFeatureQueryResponse(e){const{items:t,geometryType:i,hasM:s,hasZ:a,objectIdField:n,spatialReference:o}=this,{outFields:l,outSR:c,quantizationParameters:m,resultRecordCount:d,resultOffset:f,returnZ:h,returnM:p}=e,y=null!=d&&t.length>(f||0)+d,g=l&&(l.includes("*")?[...this.fieldsIndex.fields]:l.map((e=>this.fieldsIndex.get(e))));return{exceededTransferLimit:y,features:this._createFeatures(e,t),fields:g,geometryType:i,hasM:s&&p,hasZ:a&&h,objectIdFieldName:n,spatialReference:(0,geometryUtils/* cleanFromGeometryEngine */.ag)(c||o),transform:m&&(0,quantizationUtils/* toQuantizationTransform */.VV)(m)||null}}_createFeatures(e,t){const i=new AttributesBuilder_c(e,this.featureAdapter,this.fieldsIndex),{hasM:s,hasZ:a}=this,{orderByFields:n,quantizationParameters:o,returnGeometry:u,returnCentroid:d,maxAllowableOffset:f,resultOffset:h,resultRecordCount:p,returnZ:y=!1,returnM:g=!1}=e,x=a&&y,T=s&&g;let I=[],F=0;const _=[...t];if(this._sortFeatures(_,n,((e,t,s)=>i.getFieldValue(e,t,s))),this.geometryType&&(u||d)){const e=(0,quantizationUtils/* toQuantizationTransform */.VV)(o)??void 0,t="esriGeometryPolygon"===this.geometryType||"esriGeometryPolyline"===this.geometryType;if(u&&!d)for(const s of _){const a=this.featureAdapter.getGeometry(s),r={attributes:i.getAttributes(s),geometry:(0,geometryUtils/* getGeometry */.pL)(this.geometryType,this.hasZ,this.hasM,a,f,e,x,T),metadata:this.featureAdapter.getMetadata?.(s)};t&&a&&!r.geometry&&(r.centroid=(0,geometryUtils/* transformCentroid */.LQ)(this,this.featureAdapter.getCentroid(s,this),e)),I[F++]=r}else if(!u&&d)for(const s of _)I[F++]={attributes:i.getAttributes(s),centroid:(0,geometryUtils/* transformCentroid */.LQ)(this,this.featureAdapter.getCentroid(s,this),e)};else for(const s of _)I[F++]={attributes:i.getAttributes(s),centroid:(0,geometryUtils/* transformCentroid */.LQ)(this,this.featureAdapter.getCentroid(s,this),e),geometry:(0,geometryUtils/* getGeometry */.pL)(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(s),f,e,x,T),metadata:this.featureAdapter.getMetadata?.(s)}}else for(const r of _){const e=i.getAttributes(r);e&&(I[F++]={attributes:e})}const V=h||0;if(null!=p){const e=V+p;I=I.slice(V,Math.min(I.length,e))}return I}_createExceedsLimitQueryResponse(){let e=!1,t=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(const a of this.query.outStatistics??[])if("exceedslimit"===a.statisticType){t=null!=a.maxPointCount?a.maxPointCount:Number.POSITIVE_INFINITY,i=null!=a.maxRecordCount?a.maxRecordCount:Number.POSITIVE_INFINITY,s=null!=a.maxVertexCount?a.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)e=this.items.length>t;else if(this.items.length>i)e=!0;else{const t=Q(this.hasZ,this.hasM),i=this.featureAdapter;e=this.items.reduce(((e,t)=>{const s=i.getGeometry(t);return e+(null!=s&&s.coords.length||0)}),0)/t>s}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(e)}}]}}async _createStatisticsQueryResponse(e,t,i={attributes:{}}){const s=[],a=new Map,r=new Map,n=new Map,o=new Map,u=new AttributesBuilder_c(e,this.featureAdapter,this.fieldsIndex),c=e.outStatistics,{groupByFieldsForStatistics:m,having:d,orderByFields:f,resultRecordCount:h}=e,p=m?.length,y=!!p,g=y?m[0]:null,x=y&&!this.fieldsIndex.get(g);for(const l of c??[]){const{outStatisticFieldName:e,statisticType:c}=l,f=l,h="exceedslimit"!==c?l.onStatisticField:void 0,I="percentile_disc"===c||"percentile_cont"===c,F="EnvelopeAggregate"===c||"CentroidAggregate"===c||"ConvexHullAggregate"===c,_=y&&1===p&&(h===g||x)&&"count"===c;if(y){if(!n.has(h)){const e=[];for(const i of m){const s=this._getAttributeValues(u,i,t,a);e.push(s)}n.set(h,this._calculateUniqueValues(e,t,!F&&u.returnDistinctValues))}const i=n.get(h);if(!i)continue;const s=Object.keys(i);for(const r of s){const{count:s,data:n,items:l,itemPositions:c}=i[r],p=n.join(",");if(!d||u.validateItems(l,d)){const i=o.get(p)||{attributes:{}};if(F){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:t}=await this._getAggregateGeometry(f,l);i.aggregateGeometries[t]=e}else{let r=null;if(_)r=s;else{const e=this._getAttributeValues(u,h,t,a),i=c.map((t=>e[t]));r=I&&"statisticParameters"in f?this._getPercentileValue(f,i):this._getStatisticValue(f,i,null,u.returnDistinctValues)}i.attributes[e]=r}let r=0;m.forEach(((e,t)=>i.attributes[this.fieldsIndex.get(e)?e:"EXPR_"+ ++r]=n[t])),o.set(p,i)}}}else if(F){i.aggregateGeometries||(i.aggregateGeometries={});const{aggregateGeometries:e,outStatisticFieldName:s}=await this._getAggregateGeometry(f,t);i.aggregateGeometries[s]=e}else{const s=this._getAttributeValues(u,h,t,a);i.attributes[e]=I&&"statisticParameters"in f?this._getPercentileValue(f,s):this._getStatisticValue(f,s,r,u.returnDistinctValues)}const V="min"!==c&&"max"!==c||!(0,fieldUtils/* isStringField */.yM)(this.fieldsIndex.get(h))&&!this._isAnyDateField(h)?null:this.fieldsIndex.get(h)?.type;s.push({name:e,alias:e,type:V||"esriFieldTypeDouble"})}const I=y?Array.from(o.values()):[i];return this._sortFeatures(I,f,((e,t)=>e.attributes[t])),h&&(I.length=Math.min(h,I.length)),{fields:s,features:I}}_isAnyDateField(e){const t=this.fieldsIndex.get(e);return (0,fieldUtils/* isDateField */.vE)(t)||(0,fieldUtils/* isDateOnlyField */.zD)(t)||(0,fieldUtils/* isTimestampOffsetField */.Ah)(t)||(0,fieldUtils/* isTimeOnlyField */.OH)(t)}async _getAggregateGeometry(e,r){const{convexHull:n,union:o}=await __webpack_require__.e(/* import() */ 30344).then(__webpack_require__.bind(__webpack_require__, 30344)),{statisticType:l,outStatisticFieldName:u}=e,{featureAdapter:m,spatialReference:d,geometryType:f,hasZ:h,hasM:p}=this,y=r.map((e=>(0,geometryUtils/* getGeometry */.pL)(f,h,p,m.getGeometry(e)))),g=n(d,y,!0)[0],x={aggregateGeometries:null,outStatisticFieldName:null};if("EnvelopeAggregate"===l){const e=g?(0,extentUtils/* getPolygonExtent */.v)(g):(0,extentUtils/* getGeometryExtent */.HA)(o(d,y));x.aggregateGeometries={...e,spatialReference:d},x.outStatisticFieldName=u||"extent"}else if("CentroidAggregate"===l){const e=g?(0,centroid/* polygonCentroid */.l8)(g):(0,centroid/* extentCentroid */.Z4)((0,extentUtils/* getGeometryExtent */.HA)(o(d,y)));x.aggregateGeometries={x:e[0],y:e[1],spatialReference:d},x.outStatisticFieldName=u||"centroid"}else"ConvexHullAggregate"===l&&(x.aggregateGeometries=g,x.outStatisticFieldName=u||"convexHull");return x}_getStatisticValue(e,t,i,s){const{onStatisticField:a,statisticType:r}=e;let n=null;n=i?.has(a)?i.get(a):(0,fieldUtils/* isStringField */.yM)(this.fieldsIndex.get(a))||this._isAnyDateField(a)?(0,statistics_utils/* calculateStringStatistics */.z9)({values:t,returnDistinct:s}):(0,statistics_utils/* calculateStatistics */.G_)({values:s?[...new Set(t)]:t,minValue:null,maxValue:null,useSampleStdDev:!0}),i&&i.set(a,n);return n["var"===r?"variance":r]}_getPercentileValue(e,t){const{onStatisticField:i,statisticParameters:s,statisticType:a}=e,{value:r,orderBy:n}=s,o=this.fieldsIndex.get(i);return (0,statistics_utils/* calculatePercentile */.qg)(t,{value:r,orderBy:n,fieldType:o?.type,isDiscrete:"percentile_disc"===a})}_getAttributeValues(e,t,i,s){if(s.has(t))return s.get(t);const a=this.fieldsIndex.get(t),r=i.map((i=>e.getFieldValue(i,t,a)));return s.set(t,r),r}_calculateUniqueValues(e,t,i){const s={},a=t.length;for(let r=0;r<a;r++){const a=t[r],n=[];for(const t of e)n.push(t[r]);const o=n.join(",");null==s[o]?s[o]={count:1,data:n,items:[a],itemPositions:[r]}:(i||s[o].count++,s[o].items.push(a),s[o].itemPositions.push(r))}return s}async _getDataValues(t,i,s=!0){const a=new AttributesBuilder_c(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:r,scale:n,timeZone:o}=t;return r?a.getExpressionValues(i,r,{viewingMode:"map",scale:n,spatialReference:this.query.outSR||this.spatialReference},{geometryType:this.geometryType,hasZ:this.hasZ,hasM:this.hasM},o):a.getDataValues(i,(0,lang/* clone */.o8)(t),s)}async _calculateHistogramBins(e,t,i){if(null==t.min&&null==t.max)return[];const s=t.intervals,a=t.min??0,r=t.max??0,n=s.map((([e,t])=>({minValue:e,maxValue:t,count:0,items:[]})));for(let o=0;o<e.length;o++){const t=e[o],l=i[o];if(null!=t&&t>=a&&t<=r){const e=(0,statistics_utils/* binIndex */.Ak)(s,t);e>-1&&(n[e].count++,n[e].items.push(l))}}return n}async createQueryBinsResponse(e){const t=e.bin?.splitBy;if(!t)return this._createBinsResponse(e);const{value:i,outAlias:s,valueType:a}=t,r=[],n=[{name:s??i,alias:s??i,type:a??"esriFieldTypeString"},{name:E,alias:E,type:"esriFieldTypeInteger"}],o=new AttributesBuilder_c(e,this.featureAdapter,this.fieldsIndex),u=new Map,c=[...this.items];this._sortFeatures(c,[i],((e,t,i)=>o.getFieldValue(e,t,i)));const m=this._getAttributeValues(o,i,c,u),d=this._calculateUniqueValues([m],c,o.returnDistinctValues);for(const l in d){const{items:t}=d[l],a=await this._createBinsResponse(e,t);if(r.push(...a.features.map((e=>({...e,attributes:{...e.attributes,[s??i]:l}})))),a.fields)for(const e of a.fields)n.some((t=>t.name===e.name))||n.push(e)}return{fields:n,features:r}}async _createBinsResponse(e,t){const i=e.bin;switch(t=t??this.items,i.type){case"autoIntervalBin":return this._createAutoIntervalBinsResponse(AutoIntervalBinParameters/* default */.A.fromJSON(i),e,t);case"dateBin":return this._createDateBinsResponse(DateBinParameters/* default */.A.fromJSON(i),e,t);case"fixedBoundariesBin":return this._createFixedBoundariesBinsResponse(FixedBoundariesBinParameters/* default */.A.fromJSON(i),e,t);case"fixedIntervalBin":return this._createFixedIntervalBinsResponse(FixedIntervalBinParameters/* default */.A.fromJSON(i),e,t)}}async _createAutoIntervalBinsResponse(e,t,i){const{field:s,normalizationField:a,numBins:r,normalizationType:n,normalizationTotal:o,start:l,end:u}=e,c=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),m=(0,statistics_utils/* getBinParams */.sU)(c,{field:s,normalizationField:a,normalizationType:n,normalizationTotal:o,numBins:r,minValue:(0,queryUtils/* getDateInNumber */.dO)(l,!1),maxValue:(0,queryUtils/* getDateInNumber */.dO)(u,!1)}),d=await this._calculateHistogramBins(c,m,i);return this._createFeaturesFromHistogramBins(d,t)}async _createDateBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n,snapToData:o,returnFullIntervalBin:l}=e,u=a.unit,c=await this._getDataValues({field:e.field,timeZone:t.outTimeReference?.ianaTimeZone},i),m=(0,fieldUtils/* isTimeOnlyField */.OH)(this.fieldsIndex.get(s)),d=DateBinUtils/* unitsDict */.g.toJSON(u),h=c.filter(Boolean).sort(((e,t)=>e-t)),p=null!=r?(0,queryUtils/* getDateInNumber */.dO)(r,m):h[0],y=null!=n?(0,queryUtils/* getDateInNumber */.dO)(n,m):h[h.length-1],g={zone:t.outTimeReference?.ianaTimeZone??constants/* utc */.n$},x=luxon/* DateTime */.c9.fromMillis(p,g),T=luxon/* DateTime */.c9.fromMillis(y,g),F=[];if("last"===o){let e=T;for(;e>x;){const t=e.minus({[d]:a.value});if(t<x){F.unshift([l?t.toMillis():x.toMillis(),e.toMillis()]);break}F.unshift([t.toMillis(),e.toMillis()]),e=t}}else{let e="first"===o?x:x.startOf(d);for(;e<=T;){const t=e.plus({[d]:a.value});if(t>T){F.push([e.toMillis(),l?t.toMillis():T.toMillis()]);break}F.push([e.toMillis(),t.toMillis()]),e=t}}const _=await this._calculateHistogramBins(c,{intervals:F,min:p,max:y},i);return this._createFeaturesFromHistogramBins(_,t)}async _createFixedBoundariesBinsResponse(e,t,i){const{field:s}=e,a=await this._getDataValues({field:s,timeZone:t.outTimeReference?.ianaTimeZone},i),r=(0,fieldUtils/* isTimeOnlyField */.OH)(this.fieldsIndex.get(s)),n=e.boundaries.map((e=>(0,queryUtils/* getDateInNumber */.dO)(e,r))).sort(((e,t)=>e-t)),o=[];for(let c=0;c<n.length-1;c++)o.push([n[c],n[c+1]]);const l={intervals:o,min:n.at(0),max:n.at(-1)},u=await this._calculateHistogramBins(a,l,i);return this._createFeaturesFromHistogramBins(u,t)}async _createFixedIntervalBinsResponse(e,t,i){const{field:s,interval:a,start:r,end:n}=e,o=await this._getDataValues({field:e.field,normalizationField:e.normalizationField,normalizationType:e.normalizationType,normalizationTotal:e.normalizationTotal,timeZone:t.outTimeReference?.ianaTimeZone},i),l=(0,fieldUtils/* isTimeOnlyField */.OH)(this.fieldsIndex.get(s)),u=(0,statistics_utils/* getBinParams */.sU)(o,{field:s,classificationMethod:"defined-interval",definedInterval:a,minValue:(0,queryUtils/* getDateInNumber */.dO)(r,l),maxValue:(0,queryUtils/* getDateInNumber */.dO)(n,l)},!0),c=await this._calculateHistogramBins(o,u,i);return this._createFeaturesFromHistogramBins(c,t)}async _createFeaturesFromHistogramBins(e,t){const{upperBoundaryAlias:i,lowerBoundaryAlias:s}=t,a=s||"lowerBoundary",r=i||"upperBoundary",n=[],o=[{name:a,alias:a,type:"esriFieldTypeDouble"},{name:r,alias:r,type:"esriFieldTypeDouble"}],l=t.bin?.stackBy?.value,u=t.bin?.stackBy?.outAlias;l&&o.push({name:E,alias:E,type:"esriFieldTypeInteger"},{name:u??l,alias:u??l,type:"esriFieldTypeString"});let c=0;const m="dateBin"===t.bin.type,d=t.outTimeReference?.ianaTimeZone;for(const f of e){const{minValue:e,maxValue:i,items:s}=f,h={attributes:{}};let p;if(h.attributes[a]=m&&d&&null!=e?luxon/* DateTime */.c9.fromMillis(e,{zone:d}).toISO():e,h.attributes[r]=m&&d&&null!=i?luxon/* DateTime */.c9.fromMillis(i,{zone:d}).toISO():i,l?(p=await this._createStatisticsQueryResponse({...t,groupByFieldsForStatistics:[l],orderByFields:[l]},s),h.attributes[E]=++c,"flat"===t.bin.jsonStyle?n.push(...p.features.map((({attributes:{EXPR_1:e,...t},...i})=>({...i,attributes:u??e?{...t,[u??e]:e,...h.attributes}:{...t,...h.attributes}})))):(h.stackedAttributes=p.features.map((({attributes:{EXPR_1:e,...t}})=>u??e?{...t,[u??e]:e}:t)),n.push(h))):(t.bin?.splitBy&&(h.attributes[E]=++c),p=await this._createStatisticsQueryResponse(t,s,h),n.push(h)),p.fields)for(const t of p.fields)o.some((e=>e.name===t.name))||o.push(t)}return"desc"===t.binOrder&&n.reverse(),{fields:o,features:n}}}function H(e,t,i,s){const a=s.x-i.x,r=s.y-i.y,n=t.x-i.x,o=t.y-i.y,l=a*a+r*r;if(0===l)return!1;const u=n*a+o*r,c=Math.min(1,Math.max(0,u/l));return e.x=i.x+a*c,e.y=i.y+r*c,!0}function Q(e,t){return e?t?4:3:t?3:2}class U{constructor(e,t){this.coords=e,this.coordsIndex=t}get x(){return this.coords[this.coordsIndex]}get y(){return this.coords[this.coordsIndex+1]}get z(){return this.coords[this.coordsIndex+2]}}const k=[1];


/***/ }),

/***/ 86582:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MG: () => (/* binding */ g),
/* harmony export */   SN: () => (/* binding */ p),
/* harmony export */   SY: () => (/* binding */ y),
/* harmony export */   VW: () => (/* binding */ a),
/* harmony export */   Wq: () => (/* binding */ u),
/* harmony export */   eD: () => (/* binding */ f),
/* harmony export */   j4: () => (/* binding */ c),
/* harmony export */   vl: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62991);
/* harmony import */ var _core_sql_WhereClauseCache_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(84084);
/* harmony import */ var _support_fieldType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94832);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const s=new _core_sql_WhereClauseCache_js__WEBPACK_IMPORTED_MODULE_1__.WhereClauseCache(50,500),t="unsupported-query",n=" as ",o=new Set(["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeBigInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"]),a=new Set(["esriFieldTypeDate","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]),l=new Set(["esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...o,...a]);function d(i,r,n={}){const o=c(r,i);if(!o){const n=s.getError(r,i);throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(t,"invalid SQL expression",{expression:r,error:n})}const a=n.expressionName||"expression";if(n.validateStandardized&&!o.isStandardized)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(t,`${a} is not standard`,{expression:r});if(n.validateAggregate&&!o.isAggregate)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(t,`${a} does not contain a valid aggregate function`,{expression:r});return o.fieldNames}function p(e,i,r,s){if(!r)return!0;const t="where clause";return g(e,i,d(e,r,{validateStandardized:!0,expressionName:t}),{expressionName:t,query:s}),!0}function f(i,r,s,n,o){if(!s)return!0;const a="having clause",l=d(i,s,{validateAggregate:!0,expressionName:a});g(i,r,l,{expressionName:a,query:o});const p=c(s,i),f=p?.getExpressions().every((e=>{const{aggregateType:r,field:s}=e,t=i.get(s)?.name;return n.some((e=>{const{onStatisticField:s,statisticType:n}=e,o=i.get(s)?.name;return o===t&&n.toLowerCase().trim()===r}))}));if(!f)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(t,"expressions in having clause should also exist in outStatistics",{having:s});return!0}function c(e,i){return e?s.get(e,i):null}function u(e){return/\((.*?)\)/.test(e)?e:e.split(n)[0]}function y(e){return e.split(n)[1]}function g(i,r,s,n={}){const o=new Map;if(m(o,i,r,n.allowedFieldTypes??l,s),o.size){const i=n.expressionName??"expression";throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(t,`${i} contains invalid or missing fields`,{errors:Array.from(o.values()),query:n.query})}}function m(e,i,r,s,t){const n=t.includes("*")?[...r,...t.filter((e=>"*"!==e))]:t;for(const a of n){if(i.get(a))T(e,i,r,s,a);else try{const t=d(i,u(a),{validateStandardized:!0});for(const n of t)T(e,i,r,s,n)}catch(o){e.set(a,{type:"expression-error",expression:a,error:o})}}}function T(e,i,s,t,n){const o=i.get(n);o?s.has(o.name)?"all"!==t&&!1===t?.has(o.type)&&e.set(n,{type:"invalid-type",fieldName:o.name,fieldType:_support_fieldType_js__WEBPACK_IMPORTED_MODULE_2__/* .kebabDict */ .m.fromJSON(o.type),allowedFieldTypes:Array.from(t,(e=>_support_fieldType_js__WEBPACK_IMPORTED_MODULE_2__/* .kebabDict */ .m.fromJSON(e)))}):e.set(n,{type:"missing-field",fieldName:o.name}):e.set(n,{type:"invalid-field",fieldName:n})}


/***/ }),

/***/ 84880:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LQ: () => (/* binding */ y),
/* harmony export */   ag: () => (/* binding */ h),
/* harmony export */   pL: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5525);
/* harmony import */ var _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(65977);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const u=new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,f=new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,m=new _OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,c={esriGeometryPoint:_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertToPoint */ .DF,esriGeometryPolyline:_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertToPolyline */ .BW,esriGeometryPolygon:_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertToPolygon */ .z5,esriGeometryMultipoint:_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertToMultipoint */ .qK};function y(n,r,t,o=n.hasZ,s=n.hasM){if(null==r)return null;const l=n.hasZ&&o,u=n.hasM&&s;if(t){const f=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .quantizeOptimizedGeometry */ .Nl)(m,r,n.hasZ,n.hasM,"esriGeometryPoint",t,o,s);return (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertToPoint */ .DF)(f,l,u)}return (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertToPoint */ .DF)(r,l,u)}function a(r,t,o,i,l,y,a=t,h=o){const p=t&&a,G=o&&h,g=null!=i?"coords"in i?i:i.geometry:null;if(null==g)return null;if(l){let i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .generalizeOptimizedGeometry */ .kz)(f,g,t,o,r,l,a,h);return y&&(i=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .quantizeOptimizedGeometry */ .Nl)(m,i,p,G,r,y)),c[r]?.(i,p,G)??null}if(y){const n=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .quantizeOptimizedGeometry */ .Nl)(m,g,t,o,r,y,a,h);return c[r]?.(n,p,G)??null}return (0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .removeZMValues */ .Q4)(u,g,t,o,a,h),c[r]?.(u,p,G)??null}function h(n){return n&&p in n?JSON.parse(JSON.stringify(n,G)):n}const p="_geVersion",G=(n,e)=>n===p?void 0:e;


/***/ }),

/***/ 60105:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85747);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const e={getObjectId:t=>t.objectId,getAttributes:t=>t.attributes,getAttribute:(t,e)=>t.attributes[e],cloneWithGeometry:(e,r)=>new _OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_0__/* .OptimizedFeature */ .Om(r,e.attributes,null,e.objectId),getGeometry:t=>t.geometry,getCentroid:(t,e)=>t.ensureCentroid(e)};


/***/ }),

/***/ 19953:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B4: () => (/* binding */ d),
/* harmony export */   FQ: () => (/* binding */ p),
/* harmony export */   mO: () => (/* binding */ y)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(62991);
/* harmony import */ var _attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86582);
/* harmony import */ var _projectionSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(48277);
/* harmony import */ var _spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(53853);
/* harmony import */ var _support_loadArcade_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(68717);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const u="unsupported-query";async function p(t,i){const s=t.bin;if(!s.onField&&!s.onExpression?.value||"autoIntervalBin"===s.type&&null==s.parameters.numberOfBins||"dateBin"===s.type&&(null==s.parameters.number||null==s.parameters.unit)||"fixedBoundariesBin"===s.type&&null==s.parameters.boundaries||"fixedIntervalBin"===s.type&&null==s.parameters.interval)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(u,"Unsupported query options",{query:t});return d(t,i)}async function d(t,{fieldsIndex:i,geometryType:s,spatialReference:r,availableFields:o}){if(null!=t.geometryPrecision||t.multipatchOption&&"xyFootprint"!==t.multipatchOption||t.pixelSize||t.relationParam||t.text)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(u,"Unsupported query options",{query:t});return c(i,o,t),m(i,o,t),Promise.all([(0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_3__/* .checkSpatialQuerySupport */ .c0)(t,s,r),(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_2__/* .checkProjectionSupport */ .Nk)(r,t.outSR)]).then((()=>t))}function c(s,r,o){const{returnDistinctValues:n,outStatistics:a}=o,l=a?a.map((e=>e.outStatisticFieldName&&e.outStatisticFieldName.toLowerCase())).filter(Boolean):[];if("orderByFields"in o&&o.orderByFields&&o.orderByFields.length>0){const e=" asc",i=" desc",n=o.orderByFields.map((t=>{const s=t.toLowerCase();return s.includes(e)?s.split(e)[0]:s.includes(i)?s.split(i)[0]:t})).filter((e=>!l.includes(e)));(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .validateFields */ .MG)(s,r,n,{expressionName:"orderByFields",query:o})}if("outFields"in o)if(o.outFields?.length)(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .validateFields */ .MG)(s,r,o.outFields,{expressionName:"outFields",query:o,allowedFieldTypes:"all"});else if(n)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(u,"outFields should be specified for returnDistinctValues",{query:o});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .validateWhere */ .SN)(s,r,o.where,o)}const f=new Set([..._attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .numericFieldTypes */ .vl,..._attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .allDateAndTimeFieldTypes */ .VW]);function m(i,r,o){const{outStatistics:n,groupByFieldsForStatistics:a,having:l}=o,p=a?.length,d=n?.length;if(l){if(!p||!d)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(u,"outStatistics and groupByFieldsForStatistics should be specified with having",{query:o});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .validateHaving */ .eD)(i,r,l,n,o)}if(d){if(!h(n))return;const s=n.map((e=>e.onStatisticField)).filter(Boolean);(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .validateFields */ .MG)(i,r,s,{expressionName:"onStatisticFields",query:o}),p&&(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .validateFields */ .MG)(i,r,a,{expressionName:"groupByFieldsForStatistics",query:o});for(const a of n){const{onStatisticField:s,statisticType:n}=a;if(("percentile_disc"===n||"percentile_cont"===n)&&"statisticParameters"in a){const{statisticParameters:t}=a;if(!t)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(u,"statisticParameters should be set for percentile type",{definition:a,query:o})}else i.get(s)&&"count"!==n&&"min"!==n&&"max"!==n&&(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .validateFields */ .MG)(i,r,[s],{expressionName:`outStatistics with '${n}' statistic type`,allowedFieldTypes:f,query:o})}}}async function y(t,i,{fieldsIndex:s,geometryType:r,spatialReference:o,availableFields:l}){if(null!=t.geometryPrecision||t.multipatchOption||t.pixelSize||t.relationParam||t.text||t.outStatistics||t.groupByFieldsForStatistics||t.having||t.orderByFields)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(u,"Unsupported query options",{query:t});return c(s,l,t),Promise.all([F(s,l,i,t),(0,_spatialQuerySupport_js__WEBPACK_IMPORTED_MODULE_3__/* .checkSpatialQuerySupport */ .c0)(t,r,o),(0,_projectionSupport_js__WEBPACK_IMPORTED_MODULE_2__/* .checkProjectionSupport */ .Nk)(o,t.outSR)]).then((()=>t))}async function F(i,s,r,o){let n=[];if(r.valueExpression){const{arcadeUtils:e}=await (0,_support_loadArcade_js__WEBPACK_IMPORTED_MODULE_4__/* .loadArcade */ .l)();n=e.extractFieldNames(r.valueExpression)}if(r.field&&n.push(r.field),r.field2&&n.push(r.field2),r.field3&&n.push(r.field3),r.normalizationField&&n.push(r.normalizationField),!n.length&&!r.valueExpression)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(u,"field or valueExpression is required",{params:r});(0,_attributeSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .validateFields */ .MG)(i,s,n,{expressionName:"statistics",query:o})}function h(e){return null!=e&&e.every((e=>"exceedslimit"!==e.statisticType))}


/***/ }),

/***/ 53853:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  tC: () => (/* binding */ d),
  c0: () => (/* binding */ w),
  xt: () => (/* binding */ I)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var core_Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/contains.js
var contains = __webpack_require__(10805);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/intersectsBase.js
var intersectsBase = __webpack_require__(19387);
;// ./node_modules/@arcgis/core/geometry/support/intersects.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function s(s){return"mesh"===s?intersectsBase/* extentIntersectsExtent */.xB:(0,intersectsBase/* getFeatureExtentIntersector */.xK)(s)}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/jsonUtils.js
var jsonUtils = __webpack_require__(56053);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js
var spatialReferenceUtils = __webpack_require__(67488);
;// ./node_modules/@arcgis/core/layers/graphics/contains.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function n(n,t){return n?t?4:3:t?3:2}function t(n,t,r,e){return o(n,t,r,e.coords[0],e.coords[1])}function contains_r(t,r,e,c,u,f){const s=n(u,f),{coords:i,lengths:l}=c;if(!l)return!1;for(let n=0,d=0;n<l.length;n++,d+=s)if(!o(t,r,e,i[d],i[d+1]))return!1;return!0}function o(t,r,o,c,u){if(!t)return!1;const f=n(r,o),{coords:s,lengths:i}=t;let l=!1,d=0;for(const n of i)l=e(l,s,f,d,n,c,u),d+=n*f;return l}function e(n,t,r,o,e,c,u){let f=n,s=o;for(let i=o,l=o+e*r;i<l;i+=r){s=i+r,s===l&&(s=o);const n=t[i],e=t[i+1],d=t[s],g=t[s+1];(e<u&&g>=u||g<u&&e>=u)&&n+(u-e)/(g-e)*(d-n)<c&&(f=!f)}return f}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js
var featureConversionUtils = __webpack_require__(5525);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js
var OptimizedGeometry = __webpack_require__(65977);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/geometryUtils.js
var geometryUtils = __webpack_require__(84880);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js
var projectionSupport = __webpack_require__(48277);
;// ./node_modules/@arcgis/core/layers/graphics/data/spatialQuerySupport.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const f="unsupported-query",R={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!1,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultiPatch:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function S(e){return null!=e&&!0===R.spatialRelationship[e]}function j(e){return null!=e&&!0===R.queryGeometry[(0,jsonUtils/* getJsonType */.$B)(e)]}function G(e){return null!=e&&!0===R.layerGeometry[e]}const g={esriSpatialRelIntersects:()=>__webpack_require__.e(/* import() */ 88865).then(__webpack_require__.bind(__webpack_require__, 88865)),esriSpatialRelContains:()=>__webpack_require__.e(/* import() */ 53342).then(__webpack_require__.bind(__webpack_require__, 53342)),esriSpatialRelCrosses:()=>__webpack_require__.e(/* import() */ 7175).then(__webpack_require__.bind(__webpack_require__, 7175)),esriSpatialRelDisjoint:()=>__webpack_require__.e(/* import() */ 85987).then(__webpack_require__.bind(__webpack_require__, 85987)),esriSpatialRelEnvelopeIntersects:null,esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:()=>__webpack_require__.e(/* import() */ 17499).then(__webpack_require__.bind(__webpack_require__, 17499)),esriSpatialRelTouches:()=>__webpack_require__.e(/* import() */ 59136).then(__webpack_require__.bind(__webpack_require__, 59136)),esriSpatialRelWithin:()=>__webpack_require__.e(/* import() */ 24536).then(__webpack_require__.bind(__webpack_require__, 24536)),esriSpatialRelRelation:null};function h(e){const r=g[e];if(null==r)throw new Error(`Cannot load unsupported spatial operator: ${e}`);return r()}async function I(e,n,a,c,f){if((0,jsonUtils/* isPolygon */.Bi)(n)){if("esriGeometryPoint"===a&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){const e=(0,featureConversionUtils/* convertFromPolygon */.Ye)(new OptimizedGeometry/* default */.A,n,!1,!1);return r=>t(e,!1,!1,r)}if("esriGeometryMultipoint"===a){const r=(0,featureConversionUtils/* convertFromPolygon */.Ye)(new OptimizedGeometry/* default */.A,n,!1,!1);if("esriSpatialRelContains"===e)return e=>contains_r(r,!1,!1,e,c,f)}}if((0,jsonUtils/* isExtent */.ZC)(n)){if("esriGeometryPoint"===a&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return e=>(0,contains/* extentContainsPoint */.qz)(n,(0,geometryUtils/* getGeometry */.pL)(a,c,f,e));if("esriGeometryMultipoint"===a&&"esriSpatialRelContains"===e)return e=>(0,contains/* extentContainsMultipoint */.rL)(n,(0,geometryUtils/* getGeometry */.pL)(a,c,f,e));if("esriSpatialRelIntersects"===e){const e=s(a);return r=>e(n,(0,geometryUtils/* getGeometry */.pL)(a,c,f,r))}}"esriSpatialRelEnvelopeIntersects"===e&&(e="esriSpatialRelIntersects");const R=await h(e);return e=>R.execute(n,(0,geometryUtils/* getGeometry */.pL)(a,c,f,e))}async function w(r,t,i){const{spatialRel:o,geometry:s}=r;if(s){if(!S(o))throw new core_Error/* default */.A(f,"Unsupported query spatial relationship",{query:r});if((0,spatialReferenceUtils/* isValid */.fn)(s.spatialReference)&&(0,spatialReferenceUtils/* isValid */.fn)(i)){if(!j(s))throw new core_Error/* default */.A(f,"Unsupported query geometry type",{query:r});if(!G(t))throw new core_Error/* default */.A(f,"Unsupported layer geometry type",{query:r});if(r.outSR)return (0,projectionSupport/* checkProjectionSupport */.Nk)(r.geometry?.spatialReference,r.outSR)}}}function d(e){if((0,jsonUtils/* isExtent */.ZC)(e))return!0;if((0,jsonUtils/* isPolygon */.Bi)(e)){for(const r of e.rings){if(5!==r.length)return!1;if(r[0][0]!==r[1][0]||r[0][0]!==r[4][0]||r[2][0]!==r[3][0]||r[0][1]!==r[3][1]||r[0][1]!==r[4][1]||r[1][1]!==r[2][1])return!1}return!0}return!1}


/***/ }),

/***/ 86089:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ l),
/* harmony export */   W: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(95039);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function n(n,l){if(!n)return null;const u=l.featureAdapter,{startTimeField:r,endTimeField:e}=n;let i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;if(r&&e)await l.forEach((n=>{const l=u.getAttribute((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .toConst */ .zI)(n),r),s=u.getAttribute((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .toConst */ .zI)(n),e);null==l||isNaN(l)||(i=Math.min(i,l)),null==s||isNaN(s)||(o=Math.max(o,s))}));else{const n=r||e;await l.forEach((l=>{const r=u.getAttribute((0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .toConst */ .zI)(l),n);null==r||isNaN(r)||(i=Math.min(i,r),o=Math.max(o,r))}))}return{start:i,end:o}}function l(t,n,l){if(!n||!t)return null;const{startTimeField:i,endTimeField:o}=t;if(!i&&!o)return null;const{start:s,end:a}=n;if(null===s&&null===a)return null;if(void 0===s&&void 0===a)return e();const c=l.getAttributeAsTimestamp?.bind(l)??l.getAttribute.bind(l);return i&&o?u(c,i,o,s,a):r(c,i||o,s,a)}function u(t,n,l,u,r){return null!=u&&null!=r?e=>{const i=t(e,n),o=t(e,l);return(null==i||i<=r)&&(null==o||o>=u)}:null!=u?n=>{const r=t(n,l);return null==r||r>=u}:null!=r?l=>{const u=t(l,n);return null==u||u<=r}:void 0}function r(t,n,l,u){return null!=l&&null!=u&&l===u?u=>t(u,n)===l:null!=l&&null!=u?r=>{const e=t(r,n);return null!=e&&e>=l&&e<=u}:null!=l?u=>{const r=t(u,n);return null!=r&&r>=l}:null!=u?l=>{const r=t(l,n);return null!=r&&r<=u}:void 0}function e(){return()=>!1}


/***/ }),

/***/ 83441:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   P: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(93741);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62991);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(80294);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(49175);
/* harmony import */ var _core_sql_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(80189);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6273);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(8000);
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(65648);
/* harmony import */ var _geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(27646);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(67488);
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(77692);
/* harmony import */ var _SessionMemoryStorage_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(75345);
/* harmony import */ var _supportUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(33910);
/* harmony import */ var _rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(53921);
/* harmony import */ var _rest_knowledgeGraph_GraphQueryStreaming_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(86022);
/* harmony import */ var _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(39609);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let E=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(e){super(e),this._processingCacheUpdatesLookup=new Map,this.knowledgeGraph=null,this.inclusionModeDefinition={generateAllSublayers:!0,namedTypeDefinitions:new Map},this.entityTypeNames=new Set,this.relationshipTypeNames=new Set,this.geographicLookup=new Map,this.sublayerCaches=new Map,this.nodeConnectionsLookup=new Map,this.relationshipConnectionsLookup=new Map,this.memberIdTypeLookup=new Map;const t=new Map;e.knowledgeGraph.dataModel.entityTypes?.forEach((i=>{i.name&&(t.set(i.name,"entity"),this._processingCacheUpdatesLookup.set(i.name,[]),e.inclusionModeDefinition&&!e.inclusionModeDefinition?.generateAllSublayers||this.entityTypeNames.add(i.name),i.properties?.forEach((e=>{e.geometryType&&"esriGeometryNull"!==e.geometryType&&this.geographicLookup.set(i.name,{name:e.name??"",geometryType:e.geometryType})})))})),e.knowledgeGraph.dataModel.relationshipTypes?.forEach((i=>{i.name&&(t.set(i.name,"relationship"),this._processingCacheUpdatesLookup.set(i.name,[]),e.inclusionModeDefinition&&!e.inclusionModeDefinition?.generateAllSublayers||this.relationshipTypeNames.add(i.name),i.properties?.forEach((e=>{e.geometryType&&"esriGeometryNull"!==e.geometryType&&this.geographicLookup.set(i.name,{name:e.name??"",geometryType:e.geometryType})})))})),e.inclusionModeDefinition?.namedTypeDefinitions.forEach(((i,s)=>{if("entity"===t.get(s))this.entityTypeNames.add(s);else{if("relationship"!==t.get(s))return _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.getLogger(this).warn(`A named type, ${s}, was in the inclusion list that wasn't in the data model and will be removed`),void e.inclusionModeDefinition?.namedTypeDefinitions.delete(s);this.relationshipTypeNames.add(s)}const a=new Map;i.members?.forEach((e=>{(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getOrCreateMapValue */ .tE)(this.memberIdTypeLookup,e.id,(()=>new Set)).add(s);const t=this.getById(e.id);t&&a.set(e.id,t)})),this.sublayerCaches.set(s,a)}))}addToLayer(e){e.forEach((({typeName:e,id:t})=>{if(!this.inclusionModeDefinition)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("knowledge-graph:layer-data-manager","You cannot add to a layer's exclusion list if it was not created with an exclusion list originally");if(this.inclusionModeDefinition.namedTypeDefinitions.has(e)){if(this.inclusionModeDefinition.namedTypeDefinitions.has(e)){const i=this.inclusionModeDefinition.namedTypeDefinitions.get(e);i.members||(i.members=new Map),i.members.set(t,{id:t}),(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getOrCreateMapValue */ .tE)(this.memberIdTypeLookup,t,(()=>new Set)).add(e)}}else{const i=new Map;i.set(t,{id:t}),this.inclusionModeDefinition.namedTypeDefinitions.set(e,{useAllData:!1,members:i}),(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getOrCreateMapValue */ .tE)(this.memberIdTypeLookup,t,(()=>new Set)).add(e)}}))}getById(e){return _SessionMemoryStorage_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .A.getInstance().readFromStoreById(e)}async getData(e,t,i){if(t.objectType.name&&this.inclusionModeDefinition?.namedTypeDefinitions&&this.inclusionModeDefinition.namedTypeDefinitions.size>0&&!this.inclusionModeDefinition.namedTypeDefinitions.has(t.objectType.name))return[];let n;if(n=e||new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_17__/* ["default"] */ .A({where:"1=1",outFields:["*"]}),"link-chart"===t.parentCompositeLayer.type){const e=t.parentCompositeLayer,i=this._processingCacheUpdatesLookup.get(t.objectType.name??""),o=n.outFields;o&&1===o.length&&o[0]===_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr&&"1=1"===n.where||await Promise.all(i??[]);const s=this.sublayerCaches.has(t.objectType.name??"")?Array.from(this.sublayerCaches.get(t.objectType.name)?.values()):[],a=[];return s.forEach((i=>{if(this.relationshipTypeNames.has(t.objectType.name)){i.geometry=e.relationshipLinkChartDiagramLookup.get(i.attributes[t.objectIdField]);const n=this.memberIdTypeLookup.get(i.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOriginIdFieldName */ .Cz]),o=this.memberIdTypeLookup.get(i.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemDestinationIdFieldName */ .KQ]),s=this._isEndEntitySpatial(n,i,_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOriginIdFieldName */ .Cz),a=this._isEndEntitySpatial(o,i,_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemDestinationIdFieldName */ .KQ);i.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemIsSpatialFieldName */ .BL]=Number(s&&a)}else{i.geometry=e.entityLinkChartDiagramLookup.get(i.attributes[t.objectIdField]);const n=this.geographicLookup.get(t.objectType.name);n&&i.attributes[n.name]?i.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemIsSpatialFieldName */ .BL]=1:i.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemIsSpatialFieldName */ .BL]=0}i.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemLayoutGeometryFieldName */ .T1]=i.geometry,a.push(i)})),a}return this.retrieveDataFromService(n,t,i)}async getConnectedRecordIds(e,t,i){const n=[];let o="";const s=this._getNamedTypeIdMapFromNodeIds(e);if(t&&0!==t?.length){for(const e of t)o=o+e+"|";o=o.slice(0,-1)}const a={},r=[];for(const[l,m]of s){const e=`${l}_ids`;a[e]=m,t&&0!==t?.length?r.push(`MATCH (n:${l}) WHERE id(n) IN $${e} WITH n MATCH (n)-[r:${o}]-(m) RETURN id(r), type(r), id(m), labels(m)[0]`):r.push(`MATCH (n:${l}) WHERE id(n) IN $${e} WITH n MATCH (n)-[r]-(m) RETURN id(r), type(r), id(m), labels(m)[0]`)}if(!r.length)return n;const p=r.join(" UNION "),d=(await (0,_rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_15__.executeQueryStreaming)(this.knowledgeGraph,new _rest_knowledgeGraph_GraphQueryStreaming_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({openCypherQuery:p,bindParameters:a}),{signal:i?.signal})).resultRowsStream.getReader();for(;;){const{done:e,value:t}=await d.read();if(e)break;for(let i=0;i<t.length;i++){const e=t[i];n.push({id:e[0],typeName:e[1]}),n.push({id:e[2],typeName:e[3]})}}return n}async getRelationshipsBetweenNodes(e,t,i){const n=this._getNamedTypeIdMapFromNodeIds(e);if(0===n.size)return[];const o={relationshipExclusionIds:t,possibleConnectionEntityIds:e},s=[];for(const[d,l]of n.entries()){const e=`${d}_ids`;o[e]=l,s.push(`MATCH (n:${d}) WHERE id(n) IN $${e} WITH n MATCH (n)-[r]->(m) WHERE id(m) IN $possibleConnectionEntityIds AND NOT id(r) IN $relationshipExclusionIds RETURN id(r), type(r)`)}const a=s.join(" UNION "),r=[],p=(await (0,_rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_15__.executeQueryStreaming)(this.knowledgeGraph,new _rest_knowledgeGraph_GraphQueryStreaming_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({openCypherQuery:a,bindParameters:o}),{signal:i?.signal})).resultRowsStream.getReader();for(;;){const{done:e,value:t}=await p.read();if(e)break;for(let i=0;i<t.length;i++){const e=t[i];r.push({id:e[0],typeName:e[1]})}}return r}async getRelationshipsFromNodes(e,t,i,n){const o=this._getNamedTypeIdMapFromNodeIds(e);if(0===o.size||0===t.length)return[];const s={relationshipExclusionIds:i,possibleConnectionEntityIds:t},a=[];for(const[m,h]of o.entries()){const e=`${m}_ids`;s[e]=h,a.push(`MATCH (n:${m}) WHERE id(n) IN $${e} WITH n MATCH (n)-[r]-(m) WHERE id(m) IN $possibleConnectionEntityIds AND NOT id(r) IN $relationshipExclusionIds RETURN id(r), type(r)`)}const r=a.join(" UNION "),p=new Map,d=(await (0,_rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_15__.executeQueryStreaming)(this.knowledgeGraph,new _rest_knowledgeGraph_GraphQueryStreaming_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({openCypherQuery:r,bindParameters:s}),{signal:n?.signal})).resultRowsStream.getReader();for(;;){const{done:e,value:t}=await d.read();if(e)break;for(let i=0;i<t.length;i++){const e=t[i];let n=p.get(e[1]);n||(n=new Set,p.set(e[1],n)),n.add(e[0])}}const l=[];for(const[m,h]of p)for(const e of h)l.push({id:e,typeName:m});return l}async refreshCacheContent(e,t,n,a=!0,r){const p=_SessionMemoryStorage_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .A.getInstance(),d=[],l=new Map,m=new Map;this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&m.set(e.name,e)})),this.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&m.set(e.name,e)})),e||this.inclusionModeDefinition?e?e.forEach((e=>{if(this.memberIdTypeLookup.has(e))for(const t of this.memberIdTypeLookup.get(e))l.has(t)?l.get(t)?.push(e):l.set(t,[e])})):this.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{e.useAllData?l.set(t,null):e.members&&e.members.forEach((e=>{l.has(t)&&null!==l.get(t)?l.get(t)?.push(e.id):l.set(t,[e.id])}))})):(this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&l.set(e.name,null)})),this.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&l.set(e.name,null)})));for(const[s,h]of l){const e=new Set(h),l=new Promise(((d,l)=>{const c=async()=>{const d=new Set,l=[];let c,u="",f=!1;if(t||m.get(s)?.properties?.forEach((e=>{e.name&&d.add(e.name)})),n&&this.geographicLookup.has(s)){const e=this.geographicLookup.get(s)?.name;e&&d.add(e)}if(this.entityTypeNames.has(s))u=`MATCH (n:${s}) ${h?"WHERE id(n) IN $ids ":""}return ID(n)`,d.forEach((e=>{u+=`, n.${e}`,l.push(e)}));else{if(!this.relationshipTypeNames.has(s))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("knowledge-graph:layer-data-manager",`The graph type of ${s} could not be determined. Was this type set in the KG data model and inclusion definition?`);f=!0,u=`MATCH ()-[n:${s}]->() ${h?"WHERE id(n) IN $ids ":""}return ID(n), id(startNode(n)), id(endNode(n))`,d.forEach((e=>{u+=`, n.${e}`,l.push(e)}))}c=new _rest_knowledgeGraph_GraphQueryStreaming_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A(h?{openCypherQuery:u,bindParameters:{ids:h}}:{openCypherQuery:u});const g=(await (0,_rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_15__.executeQueryStreaming)(this.knowledgeGraph,c,{signal:r?.signal})).resultRowsStream.getReader();for(;;){const{done:t,value:i}=await g.read();if(t)break;const n=[];for(let s=0;s<i.length;s++){const t=i[s];let a=0,r=0;const p={properties:{}};for(p.id=t[a],a++,r++,f&&(p.originId=t[a],a++,r++,p.destinationId=t[a],a++,r++,(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getOrCreateMapValue */ .tE)(this.nodeConnectionsLookup,p.originId,(()=>new Set)).add(p.id),(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getOrCreateMapValue */ .tE)(this.nodeConnectionsLookup,p.destinationId,(()=>new Set)).add(p.id),(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getOrCreateMapValue */ .tE)(this.relationshipConnectionsLookup,p.id,(()=>[p.originId,p.destinationId])));a<t.length;a++)p.properties[l[a-r]]=t[a];e.delete(p.id),n.push(p)}const r=p.writeToStore(n,_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr,this.geographicLookup.get(s)?.name);this.sublayerCaches.has(s)||this.sublayerCaches.set(s,new Map),a&&!this.inclusionModeDefinition?.namedTypeDefinitions.has(s)&&this.inclusionModeDefinition?.namedTypeDefinitions.set(s,{useAllData:!1,members:new Map}),a&&!this.inclusionModeDefinition?.namedTypeDefinitions.get(s).members&&(this.inclusionModeDefinition.namedTypeDefinitions.get(s).members=new Map);const d=this.sublayerCaches.get(s);r.forEach((e=>{d?.set(e.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr],e),a&&!this.inclusionModeDefinition?.namedTypeDefinitions.get(s).members.has(e.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr])&&(this.inclusionModeDefinition?.namedTypeDefinitions.get(s).members.set(e.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr],{id:e.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr]}),(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .getOrCreateMapValue */ .tE)(this.memberIdTypeLookup,e.attributes[_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr],(()=>new Set)).add(s))}))}const b=this.inclusionModeDefinition?.namedTypeDefinitions.get(s);if(b)for(const t of e)b.members?.delete(t)};c().then((()=>{d(null)})).catch((e=>{"AbortError"===e.name?d(null):l(e)}))}));d.push(l),this._processingCacheUpdatesLookup.get(s)?.push(l)}if(await Promise.all(d),r?.signal?.aborted)throw (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .createAbortError */ .NK)()}removeFromLayer(e){const t=new Set,i=new Set(e.map((e=>e.id)));for(const n of e)t.add(n.typeName),1===this.memberIdTypeLookup.get(n.id)?.size?this.memberIdTypeLookup.delete(n.id):this.memberIdTypeLookup.get(n.id)?.delete(n.typeName),this.inclusionModeDefinition?.namedTypeDefinitions.forEach(((e,t)=>{t===n.typeName&&e.members?.has(n.id)&&e.members.delete(n.id)}));t.forEach((e=>{this.sublayerCaches.get(e)?.forEach(((t,n)=>{i.has(n)&&this.sublayerCaches.get(e)?.delete(n)}))}))}async retrieveDataFromService(e,t,n){const o=_SessionMemoryStorage_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .A.getInstance(),s=new Set,r=[];let p,u="",f=[];const g="relationship"===t.graphType,b=this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData,D=t.parentCompositeLayer.sublayerIdsCache.get(t.objectType.name);let E=!b&&D?Array.from(D).sort():null;if(this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData)this.inclusionModeDefinition?.namedTypeDefinitions?.get(t.objectType.name)?.useAllData&&null!=e.objectIds&&(E=e.objectIds);else if(null!=e.objectIds&&E&&E.length>0){const t=e.objectIds;e.objectIds=E.filter((e=>t.includes(e)))}else if(null!=e.objectIds)E=e.objectIds;else{if(this.inclusionModeDefinition?.namedTypeDefinitions.has(t.objectType.name)&&(!this.inclusionModeDefinition.namedTypeDefinitions.get(t.objectType.name)?.members||this.inclusionModeDefinition.namedTypeDefinitions.get(t.objectType.name)?.members?.size<1))return e.objectIds=[],[];e.objectIds=E}if(null!=e.outFields){const i=e.outFields;i.includes("*")?t.fields.forEach((e=>{s.add(e.name)})):i.forEach((e=>{e!==_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr&&e!==t.geometryFieldName&&s.add(e)}))}if(null!=e.geometry){const n=e.geometry;let o;const y=t.parentCompositeLayer.dataManager.knowledgeGraph.serviceDefinition,f=y?.spatialReference,b=y?.serviceCapabilities?.geometryCapabilities;let w=b?.geometryMaxBoundingRectangleSizeX,I=b?.geometryMaxBoundingRectangleSizeY;if("point"===n.type){let e=n;e.spatialReference?.isWGS84||(await (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_11__.initializeProjection)(e.spatialReference,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .wgs84 */ .KK),e=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_11__.project)(e,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .wgs84 */ .KK)),o=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A({spatialReference:_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .wgs84 */ .KK,xmin:e.x-1e-4,ymin:e.y-1e-4,xmax:e.x+1e-4,ymax:e.y+1e-4})}else n?.extent?.spatialReference&&!n.spatialReference?.isWGS84?(await (0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_11__.initializeProjection)(n.extent.spatialReference,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .wgs84 */ .KK),o=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_11__.project)(n.extent,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .wgs84 */ .KK)):o=n.extent;if(w&&I&&f){if(4326!==f.wkid){const e=new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A({spatialReference:f,xmax:w,ymax:I}),t=(0,_geometry_projectionUtils_js__WEBPACK_IMPORTED_MODULE_11__.project)(e,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .wgs84 */ .KK);w=t.xmax,I=t.ymax}if(o.xmax-o.xmin>w)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("knowledge-graph:layer-data-manager",`Extent x bounds should be within ${w} latitude, limit exceeded`);if(o.ymax-o.ymin>I)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A("knowledge-graph:layer-data-manager",`Extent y bounds should be within ${I} longitude, limit exceeded`)}if(null!=e.where&&"1=1"!==e.where){const i=await (0,_core_sql_js__WEBPACK_IMPORTED_MODULE_20__/* .parseWhereClause */ .GP)(e.where.toUpperCase(),t.fieldsIndex);t.fields.forEach((e=>{i.fieldNames.includes(e.name)&&s.add(e.name)}))}u=g?`Match ()-[n:${t.objectType.name}]->() WHERE esri.graph.ST_Intersects($param_filter_geom, n.${t.geometryFieldName}) return ID(n), id(startNode(r)), id(endNode(r))`:`Match (n:${t.objectType.name}) WHERE esri.graph.ST_Intersects($param_filter_geom, n.${t.geometryFieldName}) return ID(n)`,t.geometryFieldName&&s.add(t.geometryFieldName),s.forEach((e=>{u+=`, n.${e}`,r.push(e)})),p=new _rest_knowledgeGraph_GraphQueryStreaming_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({openCypherQuery:u,bindParameters:{param_filter_geom:new _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_10__/* ["default"] */ .A({rings:(0,_supportUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .utilsExtentToInBoundsRings */ .Wq)(o)})}})}else{let i="";if(null!=e.where&&"1=1"!==e.where){const n=await (0,_core_sql_js__WEBPACK_IMPORTED_MODULE_20__/* .parseWhereClause */ .GP)(e.where,t.fieldsIndex);t.fields.forEach((e=>{n.fieldNames.includes(e.name)&&s.add(e.name)}));const o=new Set(["column-reference","string","number","binary-expression"]),r=new Set(["=","<","<=","<>",">",">=","AND","OR","LIKE"]);let p=!1;const d=e=>{if("column-reference"===e.type)return`n.${e.column}`;if("string"===e.type)return`'${e.value}'`;if("number"===e.type)return`${e.value}`;if("binary-expression"===e.type&&o.has(e.left.type)&&o.has(e.right.type)&&r.has(e.operator))return`${d(e.left)} ${e.operator} ${d(e.right)}`;if("binary-expression"===e.type&&"LIKE"===e.operator){let t="";if("function"===e.left.type&&"column-reference"===e.left.args.value[0].type)t+=`lower(n.${e.left.args.value[0].column})`;else{if("column-reference"!==e.left.type)return p=!0,"";t+=`lower(n.${e.left.column})`}if(t+=" CONTAINS (","string"!==e.right.type)return p=!0,"";{let i=e.right.value;"%"===i.charAt(0)&&(i=i.slice(1)),"%"===i.charAt(i.length-1)&&(i=i.slice(0,-1)),t+=`'${i.toLowerCase()}')`}return t}return p=!0,""};i=d(n.parseTree),p&&(i="")}let n="";n=g?`Match ()-[n:${t.objectType.name}]->()`:`Match (n:${t.objectType.name})`;let o=!1;E&&(o=!0,n+=" WHERE ID(n) IN $ids"),i&&(n+=o?" AND":" WHERE",n+=` ${i}`),n+=" return ID(n)",g&&(n+=", id(startNode(n)), id(endNode(n))"),e.returnGeometry&&t.geometryFieldName&&s.add(t.geometryFieldName),s.forEach((e=>{n+=`, n.${e}`,r.push(e)})),p=new _rest_knowledgeGraph_GraphQueryStreaming_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A(E?{openCypherQuery:n,bindParameters:{ids:E}}:{openCypherQuery:n})}const N=(await (0,_rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_15__.executeQueryStreaming)(t.parentCompositeLayer.dataManager.knowledgeGraph,p,n)).resultRowsStream.getReader();for(;;){const{done:e,value:i}=await N.read();if(e)break;const n=[];for(let t=0;t<i.length;t++){const e=i[t];let o=0,s=0;const a={properties:{}};for(a.id=e[o],o++,s++,g&&(a.originId=e[o],o++,s++,a.destinationId=e[o],o++,s++);o<e.length;o++)a.properties[r[o-s]]=e[o];n.push(a)}f=f.concat(o.writeToStore(n,_constants_js__WEBPACK_IMPORTED_MODULE_19__/* .systemOidFieldName */ .dr,t.parentCompositeLayer.dataManager.geographicLookup.get(t.objectType.name)?.name))}return f}_isEndEntitySpatial(e,t,i){for(const n of e??[])if(this.entityTypeNames.has(n)){const e=this.geographicLookup.get(n),o=e&&this.sublayerCaches.get(n)?.get(t.attributes[i]);if(e&&o?.attributes[e.name])return!0}return!1}_getNamedTypeIdMapFromNodeIds(e){const t=new Map;return e.forEach((e=>{if(this.memberIdTypeLookup.has(e))for(const i of this.memberIdTypeLookup.get(e)){if(!this.entityTypeNames.has(i))return;t.has(i)?t.get(i)?.push(e):t.set(i,[e])}})),t}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"knowledgeGraph",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"inclusionModeDefinition",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"entityTypeNames",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"relationshipTypeNames",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"geographicLookup",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"sublayerCaches",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"nodeConnectionsLookup",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"relationshipConnectionsLookup",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__/* .property */ .MZ)()],E.prototype,"memberIdTypeLookup",void 0),E=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__/* .subclass */ .$)("esri.layers.knowledgeGraph.KnowledgeGraphLayerDataManager")],E);


/***/ }),

/***/ 43183:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ Ie)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/PopupTemplate.js + 6 modules
var PopupTemplate = __webpack_require__(31352);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(15565);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js + 2 modules
var MultiOriginJSONSupport = __webpack_require__(33125);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/workers/workers.js + 5 modules
var workers = __webpack_require__(99722);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/writer.js
var writer = __webpack_require__(48524);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js
var PropertyOrigin = __webpack_require__(91101);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js
var Extent = __webpack_require__(8000);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 1 modules
var Point = __webpack_require__(30214);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polygon.js
var Polygon = __webpack_require__(65648);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polyline.js
var Polyline = __webpack_require__(38648);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/projectionUtils.js + 3 modules
var projectionUtils = __webpack_require__(27646);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(44153);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js
var spatialReferenceUtils = __webpack_require__(67488);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/typeUtils.js
var typeUtils = __webpack_require__(54483);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/Layer.js + 1 modules
var Layer = __webpack_require__(41247);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js
var FeatureStore = __webpack_require__(91582);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js + 6 modules
var QueryEngine = __webpack_require__(22622);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/graphics/sources/support/clientSideDefaults.js
var clientSideDefaults = __webpack_require__(77159);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/knowledgeGraph/constants.js
var constants = __webpack_require__(77692);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/fieldProperties.js
var fieldProperties = __webpack_require__(83693);
;// ./node_modules/@arcgis/core/layers/knowledgeGraph/KnowledgeGraphSublayerBase.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t=(0,fieldProperties/* defineFieldProperties */.p)(),p=s=>{let p=class extends s{constructor(){super(...arguments),this.fields=[],this.fieldsIndex=null}};return (0,tslib_es6._)([(0,property/* property */.MZ)(t.fields)],p.prototype,"fields",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(t.fieldsIndex)],p.prototype,"fieldsIndex",void 0),p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.knowledgeGraph.KnowledgeGraphSublayerBase")],p),p};

// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/knowledgeGraph/layerUtils.js
var layerUtils = __webpack_require__(347);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/BlendLayer.js
var BlendLayer = __webpack_require__(20923);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/DisplayFilteredLayer.js + 2 modules
var DisplayFilteredLayer = __webpack_require__(57546);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/FeatureEffectLayer.js + 2 modules
var FeatureEffectLayer = __webpack_require__(42383);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/FeatureReductionLayer.js + 1 modules
var FeatureReductionLayer = __webpack_require__(46197);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/OrderedLayer.js
var OrderedLayer = __webpack_require__(87917);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/RefreshableLayer.js + 1 modules
var RefreshableLayer = __webpack_require__(77222);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/ScaleRangeLayer.js
var ScaleRangeLayer = __webpack_require__(22111);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/mixins/TemporalLayer.js
var TemporalLayer = __webpack_require__(2960);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/commonProperties.js
var commonProperties = __webpack_require__(9014);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/featureReductionUtils.js + 2 modules
var featureReductionUtils = __webpack_require__(95978);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/Field.js
var Field = __webpack_require__(45352);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/fieldUtils.js
var fieldUtils = __webpack_require__(46227);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/LabelClass.js
var LabelClass = __webpack_require__(47659);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/labelingInfo.js
var labelingInfo = __webpack_require__(6488);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/TimeInfo.js
var TimeInfo = __webpack_require__(72523);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/SimpleRenderer.js
var SimpleRenderer = __webpack_require__(79645);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/jsonUtils.js
var jsonUtils = __webpack_require__(29221);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/renderers/support/typeUtils.js + 11 modules
var support_typeUtils = __webpack_require__(94403);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/FeatureSet.js
var FeatureSet = __webpack_require__(74704);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/Query.js + 1 modules
var Query = __webpack_require__(39609);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/support/popupUtils.js
var popupUtils = __webpack_require__(95610);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/utils.js + 1 modules
var utils = __webpack_require__(24461);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/workers/RemoteClient.js + 1 modules
var RemoteClient = __webpack_require__(17876);
;// ./node_modules/@arcgis/core/layers/knowledgeGraph/KnowledgeGraphSublayer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function fe(e){if(!e.json)return e;e.json.write=ge(e.json.write);const t=e.json.origins;if(!t)return e;let r;for(r in t){const e=t[r];e&&(e.write=ge(e.write))}return e}function ge(e){return"object"==typeof e&&e?(!1!==e.enabled&&(e.overridePolicy=je(e)),e):!0===e?be():e}function je(e){const{target:t,writer:r,overridePolicy:i,...o}=e;return function(e,t){const r=we.call(this,e,t);return r.enabled?{...o,...r}:r}}function be(){return{overridePolicy:we}}function we(e,t){const r=!!this.geometryType;let i={enabled:r};return r&&(i={...i,...Te.call(this,e,t)}),i}function Te(e,t){return{ignoreOrigin:this.originIdOf(t)>PropertyOrigin/* OriginId */.Gr.DEFAULTS}}let Ie=class extends(p((0,DisplayFilteredLayer/* DisplayFilteredLayer */.FJ)((0,FeatureReductionLayer/* FeatureReductionLayer */.J)((0,FeatureEffectLayer/* FeatureEffectLayer */.F)((0,BlendLayer/* BlendLayer */.dM)((0,OrderedLayer/* OrderedLayer */.fY)((0,TemporalLayer/* TemporalLayer */.e)((0,ScaleRangeLayer/* ScaleRangeLayer */.j)((0,RefreshableLayer/* RefreshableLayer */.J)((0,MultiOriginJSONSupport/* MultiOriginJSONMixin */.P)(Layer/* default */.A))))))))))){constructor(e){super(e),this.blendMode="normal",this.capabilities=(0,clientSideDefaults/* createCapabilities */.f)(!1,!0),this.charts=null,this.definitionExpression=null,this.displayField="",this.displayFilterEnabled=!0,this.displayFilterInfo=null,this.effect=null,this.elevationInfo=null,this.featureEffect=null,this.graphType=null,this.labelsVisible=!0,this.layerType=null,this.legendEnabled=!0,this.maxScale=0,this.minScale=0,this.objectIdField=constants/* systemOidFieldName */.dr,this.objectType=null,this.opacity=1,this.orderBy=null,this.parent=null,this.parentCompositeLayer=null,this.persistenceEnabled=!0,this.popupEnabled=!0,this.popupTemplate=null,this.refreshInterval=0,this.source={openPorts:()=>this.load().then((()=>{const e=new MessageChannel;return new RemoteClient/* default */.A(e.port1,{channel:e,client:{queryFeatures:(e,t={})=>{const r=Query/* default */.A.fromJSON(e);return this.queryFeaturesJSON(r,t)}}}),[e.port2]}))},this.type="knowledge-graph-sublayer",this.useViewTime=!0,this.visible=!0}get userHasUpdateItemPrivileges(){return!!this.parent?.userHasUpdateItemPrivileges}get defaultPopupTemplate(){return this.createPopupTemplate()}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}get fields(){const e=[];return this.objectType?.properties?.forEach((t=>{const r="esriFieldTypeOID"===t.fieldType?"esriFieldTypeInteger":t.fieldType;e.push(Field/* default */.A.fromJSON({name:t.name,type:r,alias:t.alias,defaultValue:t.defaultValue,editable:t.editable,nullable:t.nullable}))})),e.push(Field/* default */.A.fromJSON({name:this.objectIdField,type:"esriFieldTypeString",alias:this.objectIdField,editable:!1}),Field/* default */.A.fromJSON({name:constants/* systemAggregationCountFieldName */.M1,type:"esriFieldTypeInteger",alias:constants/* systemAggregationCountFieldName */.M1,editable:!1}),Field/* default */.A.fromJSON({name:constants/* systemIsSpatialFieldName */.BL,type:"esriFieldTypeInteger",alias:constants/* systemIsSpatialFieldName */.BL,editable:!1})),e}get geometryType(){if("link-chart"===this.parentCompositeLayer?.type)return"relationship"===this.graphType?"polyline":"point";const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.geometryType;return t&&"esriGeometryNull"!==t?typeUtils/* featureGeometryTypeKebabDictionary */.gy.fromJSON(t):null}get geometryFieldName(){if("link-chart"===this.parentCompositeLayer?.type)return constants/* systemLayoutGeometryFieldName */.T1;const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name);return e?.name??null}get graphTypeName(){return this.objectType?.name}get hasM(){const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.name,r=t?this.objectType?.properties?.[t]:null;return r?.hasM??!1}get hasZ(){const e=this.parentCompositeLayer?.dataManager.geographicLookup.get(this.objectType?.name),t=e?.name,r=t?this.objectType?.properties?.[t]:null;return r?.hasZ??!1}set labelingInfo(e){this._set("labelingInfo",e)}get labelingInfo(){if(this._isOverridden("labelingInfo"))return this._get("labelingInfo");if(!this.objectType||!this.parentCompositeLayer||!this.graphTypeName)return null;const e=this.objectType.properties?(0,layerUtils/* getDisplayLabelProperty */.MY)(this.objectType.properties):"ESRI__ID";return"link-chart"===this.parentCompositeLayer.type?(0,layerUtils/* getLinkChartDefaultLabelingInfo */.iW)(this.graphType,this.graphTypeName,e):(0,layerUtils/* getMapDefaultLabelingInfo */.e$)(this.graphTypeName,this.geometryType,e)}set renderer(e){(0,fieldUtils/* fixRendererFields */.yp)(e,this.fieldsIndex),this._set("renderer",e)}get renderer(){if(this._isOverridden("renderer"))return this._get("renderer");const e=this.parentCompositeLayer?.dataManager?.knowledgeGraph?.dataModel,t=[...e?.entityTypes??[],...e?.relationshipTypes??[]].map((e=>e.name)).indexOf(this.graphTypeName),r=(0,layerUtils/* getKGSublayerSymbolColor */.Td)(t);if("link-chart"===this.parentCompositeLayer?.type){if("relationship"===this.graphType)return new SimpleRenderer/* default */.A({type:"simple",symbol:(0,layerUtils/* getDefaultLCRelationshipSublayerSymbol */.UT)(r)});const e=(0,jsonUtils/* fromJSON */.r)((0,clientSideDefaults/* createDrawingInfo */.F0)(typeUtils/* featureGeometryTypeKebabDictionary */.gy.toJSON("point")).renderer);return (0,utils/* applyColorToSymbol */.dt)(e.symbol,r),e}const i=(0,jsonUtils/* fromJSON */.r)((0,clientSideDefaults/* createDrawingInfo */.F0)(typeUtils/* featureGeometryTypeKebabDictionary */.gy.toJSON(this.geometryType)).renderer);return (0,utils/* applyColorToSymbol */.dt)(i.symbol,r),i}get spatialReference(){return this.parentCompositeLayer?.dataManager?.knowledgeGraph?.dataModel?.spatialReference??SpatialReference/* default */.A.WGS84}set timeInfo(e){this._set("timeInfo",e)}get title(){return this._isOverridden("title")?this._get("title"):this.graphTypeName}set title(e){this._set("title",e)}writeTitle(e,t){t.title=e??"Layer"}createPopupTemplate(e){return (0,popupUtils/* createPopupTemplate */.tn)(this,e)}createQuery(){return new Query/* default */.A({where:"1=1",outFields:["*"]})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){return null}async queryFeatures(e,t){await this.load();const{resolvedQuery:r,queryEngine:i}=await this._setupQueryObjects(e),o=FeatureSet/* default */.A.fromJSON(await i.executeQuery(r.toJSON(),t?.signal));return o.features.forEach((e=>{e.sourceLayer=this})),o}async queryFeaturesJSON(e,t){await this.load();const{resolvedQuery:r,queryEngine:i}=await this._setupQueryObjects(e);return await i.executeQuery(r.toJSON(),t?.signal)}async queryFeatureCount(e,t){await this.load();const{resolvedQuery:r,queryEngine:i}=await this._setupQueryObjects(e);return i.executeQueryForCount(r.toJSON(),t?.signal)}async queryExtent(e={},t){await this.load();const r={...e,returnGeometry:!0},{resolvedQuery:i,queryEngine:o}=await this._setupQueryObjects(r),s=await o.executeQueryForExtent(i.toJSON(),t?.signal);let n;return n=null!=s.extent?.xmin&&null!=s.extent?.xmax&&null!=s.extent?.ymin&&null!=s.extent?.ymax?new Extent/* default */.A(s.extent):new Extent/* default */.A,{count:s.count,extent:n}}async queryObjectIds(e,t){await this.load();const r=Query/* default */.A.from(e);let i;if("link-chart"===this.parentCompositeLayer.type&&this._cachedQueryEngine)i=this._cachedQueryEngine;else{const e=await this.parentCompositeLayer.dataManager.getData(r,this,t);i=this.loadQueryEngine(e)}return await i.executeQueryForIds(r.toJSON(),t?.signal)}loadQueryEngine(e){const t=new FeatureStore/* default */.A({geometryType:typeUtils/* featureGeometryTypeKebabDictionary */.gy.toJSON(this.geometryType),hasM:this.hasM,hasZ:this.hasZ}),r=new QueryEngine/* QueryEngine */["do"]({fieldsIndex:this.fieldsIndex.toJSON(),geometryType:typeUtils/* featureGeometryTypeKebabDictionary */.gy.toJSON(this.geometryType),hasM:this.hasM,hasZ:this.hasZ,featureIdInfo:{type:"object-id",fieldName:this.objectIdField},spatialReference:this.spatialReference.toJSON(),timeInfo:this.timeInfo?.toJSON(),featureStore:t});return r.featureStore.addMany(e),r}async refreshCachedQueryEngine(){const e=await this.parentCompositeLayer.dataManager.getData(new Query/* default */.A({where:"1=1",outFields:[constants/* systemOidFieldName */.dr]}),this);this._cachedQueryEngine=this.loadQueryEngine(e)}load(e){return this.addResolvingPromise(this.parent.load(e).then((()=>(0,fieldUtils/* fixTimeInfoFields */.sv)(this.timeInfo,this.fieldsIndex)))),Promise.resolve(this)}async _setupQueryObjects(e,t){const r=Query/* default */.A.from(e),i=r.geometry;if(i&&!i.spatialReference?.isWGS84&&(await (0,projectionUtils.initializeProjection)(i.spatialReference,spatialReferenceUtils/* wgs84 */.KK),r.geometry=(0,projectionUtils.project)(i instanceof Polygon/* default */.A||i instanceof Polyline/* default */.A||i instanceof Point/* default */.A?i:i.extent,spatialReferenceUtils/* wgs84 */.KK)),"link-chart"===this.parentCompositeLayer.type&&this._cachedQueryEngine)return{resolvedQuery:r,queryEngine:this._cachedQueryEngine};const o=await this.parentCompositeLayer.dataManager.getData(r,this,t);return{resolvedQuery:r,queryEngine:this.loadQueryEngine(o)}}};function ve(e,t,r){const o=[["ESRI__AGGREGATION_COUNT",constants/* systemAggregationCountFieldName */.M1],["ESRI__ORIGIN_ID",constants/* systemOriginIdFieldName */.Cz],["ESRI__DESTINATION_ID",constants/* systemDestinationIdFieldName */.KQ],["ESRI__LAYOUT_GEOMETRY",constants/* systemLayoutGeometryFieldName */.T1]];try{for(const t of e)for(const[e,r]of o)t.labelExpression=t.labelExpression?.replaceAll(e,r),t.labelExpressionInfo?.expression&&(t.labelExpressionInfo.expression=t.labelExpressionInfo.expression.replaceAll(e,r))}catch(s){Logger/* default */.A.getLogger(this).warn("Error updating labelingInfo",s)}return (0,labelingInfo/* reader */.w)(e,t,r)}(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(BlendLayer/* blendModeProperty */.sU)))],Ie.prototype,"blendMode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"capabilities",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],Ie.prototype,"userHasUpdateItemPrivileges",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{origins:{"web-scene":{write:!1}},write:be()}})],Ie.prototype,"charts",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],Ie.prototype,"defaultPopupTemplate",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{origins:{service:{read:!1}},name:"layerDefinition.definitionExpression",write:{ignoreOrigin:!0}}})],Ie.prototype,"definitionExpression",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"displayField",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(DisplayFilteredLayer/* displayFilterEnabledProperty */.Dp)))],Ie.prototype,"displayFilterEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(DisplayFilteredLayer/* displayFilterInfoProperty */.KV)))],Ie.prototype,"displayFilterInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(BlendLayer/* effectProperty */.LF)))],Ie.prototype,"effect",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"elevationInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(FeatureEffectLayer/* featureEffectProperty */.Y)))],Ie.prototype,"featureEffect",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(featureReductionUtils/* featureReductionProperty */.d)))],Ie.prototype,"featureReduction",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"fields",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"geometryType",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"geometryFieldName",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:["entity","relationship"],nonNullable:!0,json:{write:{isRequired:!0,ignoreOrigin:!0}}})],Ie.prototype,"graphType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,nonNullable:!0,json:{write:{isRequired:!0,ignoreOrigin:!0}}})],Ie.prototype,"graphTypeName",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"hasM",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"hasZ",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}},write:{ignoreOrigin:!0}}})],Ie.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",default:!1,write:{overridePolicy(){return{enabled:!!this.geometryType,alwaysWriteDefaults:!0,ignoreOrigin:!0}}}}})],Ie.prototype,"labelsVisible",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[LabelClass/* default */.A],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:ve,write:be()}})],Ie.prototype,"labelingInfo",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0,json:{read:!1,write:{writer(e,t){switch(this.parentCompositeLayer?.type){case"link-chart":t.layerType="LinkChartSubLayer";break;case"knowledge-graph":t.layerType=this.geometryType?"KnowledgeGraphSubLayer":"KnowledgeGraphSubTable"}},isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],Ie.prototype,"layerType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(commonProperties/* legendEnabled */.fV)))],Ie.prototype,"legendEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(commonProperties/* maxScale */.hG)))],Ie.prototype,"maxScale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(commonProperties/* minScale */.hn)))],Ie.prototype,"minScale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"objectIdField",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"objectType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(commonProperties/* opacity */.ke)))],Ie.prototype,"opacity",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(OrderedLayer/* orderByProperty */.ne)))],Ie.prototype,"orderBy",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({clonable:!1})],Ie.prototype,"parent",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"parentCompositeLayer",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(commonProperties/* popupEnabled */.M6)))],Ie.prototype,"popupEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:PopupTemplate/* default */.A,json:{name:"popupInfo",write:{ignoreOrigin:!0}}})],Ie.prototype,"popupTemplate",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:{overridePolicy:Te}}})],Ie.prototype,"refreshInterval",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({types:support_typeUtils/* rendererTypes */.Hg,json:{name:"layerDefinition.drawingInfo.renderer",write:be()}})],Ie.prototype,"renderer",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"source",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Ie.prototype,"spatialReference",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:TimeInfo/* default */.A,json:{name:"layerDefinition.timeInfo",write:!0,origins:{"web-document":{name:"layerDefinition.timeInfo",read:!0,write:!0},"portal-item":{name:"layerDefinition.timeInfo",read:!0,write:!0}}}})],Ie.prototype,"timeInfo",null),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],Ie.prototype,"title",null),(0,tslib_es6._)([(0,writer/* writer */.K)("title")],Ie.prototype,"writeTitle",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{read:!1}})],Ie.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)(fe((0,lang/* clone */.o8)(TemporalLayer/* useViewTimeProperty */.B)))],Ie.prototype,"useViewTime",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{name:"visibility",write:be()}})],Ie.prototype,"visible",void 0),Ie=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.knowledgeGraph.KnowledgeGraphSublayer")],Ie);


/***/ }),

/***/ 75345:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56053);
/* harmony import */ var _graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5525);
/* harmony import */ var _graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85747);
/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(77692);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
class o{constructor(){this._featureLookup=new Map}static getInstance(){return o.instance||(o.instance=new o),o.instance}static resetInstance(){o.instance&&(o.instance=null)}deleteFromStore(e){e.forEach((e=>{this._featureLookup.delete(e)}))}readFromStoreByList(e){const t=[];return e.forEach((e=>{const r=this.readFromStoreById(e);r&&t.push(r)})),t}readFromStoreById(e){return this._featureLookup.get(e)??null}writeToStore(o,n,p){const a=[];return o.forEach((o=>{if(!o?.id)return;o.properties||(o.properties=[]);let u,c=null;if(p&&o.properties[p]&&(c=(0,_graphics_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .convertFromGeometry */ .Ux)(o.properties[p])),"originId"in o&&"destinationId"in o&&(o.properties[_constants_js__WEBPACK_IMPORTED_MODULE_3__/* .systemOriginIdFieldName */ .Cz]=o.originId,o.properties[_constants_js__WEBPACK_IMPORTED_MODULE_3__/* .systemDestinationIdFieldName */ .KQ]=o.destinationId),o.properties[n]=o.id,o.id&&this._featureLookup.has(o.id)&&this._featureLookup.get(o.id).attributes){const t=this._featureLookup.get(o.id),i=JSON.parse(JSON.stringify(Object.assign(t.attributes,o.properties)));p&&o.properties[p]&&(i[p]=(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .fromJSON */ .rS)(o.properties[p])),u=new _graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_2__/* .OptimizedFeature */ .Om(c?JSON.parse(JSON.stringify(c)):t?.geometry?JSON.parse(JSON.stringify(t.geometry)):null,i,null,o.properties[n])}else u=new _graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_2__/* .OptimizedFeature */ .Om(c?JSON.parse(JSON.stringify(c)):null,o.properties,null,o.properties[n]);this._featureLookup.set(`${o.typeName?`${o.typeName}__${o.id}`:o.id}`,u),a.push(u)})),a}}


/***/ }),

/***/ 77692:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BL: () => (/* binding */ E),
/* harmony export */   Cz: () => (/* binding */ I),
/* harmony export */   KQ: () => (/* binding */ t),
/* harmony export */   M1: () => (/* binding */ o),
/* harmony export */   T1: () => (/* binding */ S),
/* harmony export */   dr: () => (/* binding */ _)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const _="ESRI__ID",I="ESRI__OriginID",t="ESRI__DestID",S="ESRI__LayoutGeometry",o="ESRI__AggregationCount",E="LC.ESRI__IsSpatial";


/***/ }),

/***/ 347:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MY: () => (/* binding */ p),
/* harmony export */   Td: () => (/* binding */ f),
/* harmony export */   UT: () => (/* binding */ m),
/* harmony export */   e$: () => (/* binding */ w),
/* harmony export */   iW: () => (/* binding */ y),
/* harmony export */   qN: () => (/* binding */ i)
/* harmony export */ });
/* unused harmony exports fallbackKGSublayerSymbolHexColor, layerUtils */
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93814);
/* harmony import */ var _support_LabelClass_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(47659);
/* harmony import */ var _support_LabelExpressionInfo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(77896);
/* harmony import */ var _rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(53921);
/* harmony import */ var _symbols_CIMSymbol_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(60936);
/* harmony import */ var _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(31864);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t={initializeLayersFromClientData:async(e,n,o)=>{if(n||(n=[...e.layers,...e.tables].map((e=>e.graphTypeName))),0===n?.length)return;const r=new Map;for(const a of n)r.set(a,s(e,a));const l=await (0,_rest_knowledgeGraphService_js__WEBPACK_IMPORTED_MODULE_3__.fetchClientDataAtKeys)(e.dataManager.knowledgeGraph,Array.from(r.values()),{requestOptions:{signal:o?.signal}});for(const a of[...e.layers,...e.tables]){const n=a.objectType.name;if(null==n)continue;const o=l.get(s(e,n));if(o){const e=JSON.parse(o);null===e||"object"!=typeof e||e.hasOwnProperty("showLabels")||(e.showLabels=!1),a.read(e,{origin:"service"})}}}},s=(e,n)=>"knowledge-graph"===e.type?`${n}/Map`:`${n}/LinkChart/LinkChartSubLayer`;async function i(e,n,o){return t.initializeLayersFromClientData(e,n,o)}const b=["#4a0932","#b31515","#18382e","#a64f1b","#102432","#8c213f","#ed9310","#2c6954","#144d59","#ffc730","#75351e","#454f4b","#78b1c2","#191921","#8f8f82","#9be0c0","#dbb658","#87b051","#11495c","#c43541","#9c5596","#44498b","#ad9d63","#86afb3","#5c98ca","#b0bfa2","#73241f","#b86b53","#d9d78c","#3e756d","#f260a1","#a0d17d","#c27c30","#eb82eb","#ffdf3c","#ffb259","#ab52b3","#3cccb4","#0095ba","#d92b30"],c="#8f8f82";function f(n){return n<0||n>=b.length?new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(c):new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(b[n])}function m(e){const n=e.toArray();return new _symbols_CIMSymbol_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,style:"solid",width:.75,color:n},{type:"CIMVectorMarker",enable:!0,size:6,markerPlacement:{type:"CIMMarkerPlacementOnLine",angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-10,ymin:-5,xmax:0,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-12,-3.47],[-12,3.6],[1.96,-.03],[-12,-3.47]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:n}]}}]}]}}})}function p(e){let n="ESRI__ID",o=4;for(const a of e)if(a.name){if("name"===a.name.toLowerCase()){n=a.name;break}a.name.toLowerCase().includes("name")?(n=a.name,o=2):"esriFieldTypeString"===a.fieldType&&o>3&&(n=a.name,o=3)}return n}function y(e,a,r){const t={color:[80,80,80],haloColor:[255,255,255],haloSize:.7,font:{size:10,weight:"normal"}},s=new _support_LabelClass_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({labelExpressionInfo:new _support_LabelExpressionInfo_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({expression:"ESRI__ID"===r?`${a}`:`$feature.${r}`}),labelPlacement:"above-center",symbol:new _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A(t)}),i=new _support_LabelClass_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({labelExpressionInfo:new _support_LabelExpressionInfo_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({expression:`'${a}' + IIf($feature.ESRI__AggregationCount>1, ' (' + $feature.ESRI__AggregationCount + ')', '')`}),labelPlacement:"center-along",labelPosition:"parallel",repeatLabel:!1,symbol:new _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A({...t,yoffset:"12px"})});return"entity"===e?[s]:[i]}function w(e,a,r){const t={color:[255,255,255],haloColor:[0,0,0],haloSize:.7,font:{size:10,weight:"bold"}},s="ESRI__ID"===r?`${e}`:`$feature.${r}`;return"point"===a?[new _support_LabelClass_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({labelExpressionInfo:new _support_LabelExpressionInfo_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({expression:s}),labelPlacement:"above-center",symbol:new _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A(t)})]:"polyline"===a?[new _support_LabelClass_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({labelExpressionInfo:new _support_LabelExpressionInfo_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({expression:s}),labelPlacement:"center-along",repeatLabel:!0,symbol:new _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A(t)})]:"polygon"===a?[new _support_LabelClass_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({labelExpressionInfo:new _support_LabelExpressionInfo_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({expression:s}),labelPlacement:"always-horizontal",symbol:new _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A(t)})]:null}


/***/ }),

/***/ 33910:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  k5: () => (/* binding */ C),
  aq: () => (/* binding */ g),
  Wq: () => (/* binding */ S)
});

// UNUSED EXPORTS: getChronologicalOverlay, getDefaultChronologicalOverlayLayerId, getRelationshipEndNodeMap, loadRecordsIntoLocalCache

// EXTERNAL MODULE: ./node_modules/@arcgis/core/Graphic.js
var Graphic = __webpack_require__(20857);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 1 modules
var Point = __webpack_require__(30214);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polygon.js
var Polygon = __webpack_require__(65648);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polyline.js
var Polyline = __webpack_require__(38648);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/GraphicsLayer.js + 2 modules
var GraphicsLayer = __webpack_require__(36527);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/knowledgeGraph/SessionMemoryStorage.js
var SessionMemoryStorage = __webpack_require__(75345);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/libs/linkchartlayout/LinkChartLayout.js
var LinkChartLayout = __webpack_require__(37549);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/jsonMap.js
var jsonMap = __webpack_require__(1817);
;// ./node_modules/@arcgis/core/linkChart/enums.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const enums_o=(0,jsonMap/* strict */.O)()({none:"none",startAndEnd:"start-and-end",startOnly:"start-only"}),enums_r=(0,jsonMap/* strict */.O)()({absoluteValue:"absolute-value",multiplier:"multiplier"}),enums_i=(/* unused pure expression or super */ null && (["basic-grid","chronological-mono-timeline","chronological-multi-timeline","geographic-organic-standard","hierarchical-bottom-to-top","hierarchical-top-to-bottom","organic-community","organic-fusiform","organic-leaf-circle","organic-standard","radial-node-centric","radial-root-centric","tree-bottom-to-top","tree-left-to-right","tree-right-to-left","tree-top-to-bottom"])),enums_a=new Map([["basic-grid","basic-grid"],["geographic-organic-standard","geographic-organic-standard"],["hierarchical-bottom-to-top","hierarchical-bottom-to-top"],["hierarchical-top-to-bottom","hierarchical-bottom-to-top"],["organic-community","organic-community"],["organic-fusiform","organic-standard"],["organic-leaf-circle","organic-standard"],["organic-standard","organic-standard"],["radial-node-centric","radial-root-centric"],["radial-root-centric","radial-root-centric"],["tree-bottom-to-top","tree-left-to-right"],["tree-left-to-right","tree-left-to-right"],["tree-right-to-left","tree-left-to-right"],["tree-top-to-bottom","tree-left-to-right"],["chronological-mono-timeline","chronological-mono-timeline"],["chronological-multi-timeline","chronological-multi-timeline"]]);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraphService.js + 48 modules
var knowledgeGraphService = __webpack_require__(53921);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphQueryStreaming.js + 1 modules
var GraphQueryStreaming = __webpack_require__(86022);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/CIMSymbol.js
var CIMSymbol = __webpack_require__(60936);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/SimpleFillSymbol.js
var SimpleFillSymbol = __webpack_require__(55736);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/TextSymbol.js
var TextSymbol = __webpack_require__(31864);
;// ./node_modules/@arcgis/core/layers/knowledgeGraph/supportUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function d(o,e){const t=new Map;if(e.dataModel?.relationshipTypes)for(const r of e.dataModel.relationshipTypes)r.name&&t.set(r.name,[]);for(const r of o)t.has(r.typeName)&&t.get(r.typeName)?.push(r.id);return t}async function g(o,e,t){const r=[],n=d(o,e),i={},s=[];for(const[c,y]of n){if(y.length<1)continue;const o=`${c}_ids`;i[o]=y,s.push(`MATCH (n)-[r:${c}]->(m) WHERE id(r) in $${o} RETURN id(n), labels(n)[0], id(m), labels(m)[0]`)}if(0===s.length)return[];const a=s.join(" UNION "),l=new GraphQueryStreaming/* default */.A({openCypherQuery:a,bindParameters:i}),m=(await (0,knowledgeGraphService.executeQueryStreaming)(e,l,t?.requestOptions)).resultRowsStream.getReader();for(;;){const{done:o,value:e}=await m.read();if(o)break;for(const t of e)r.push({id:t[0],typeName:t[1]}),r.push({id:t[2],typeName:t[3]})}return r}async function u(o,e,t){const r=new Map,n=d(o,e),i={},s=[];for(const[c,y]of n){if(y.length<1)continue;const o=`${c}_ids`;i[o]=y,s.push(`MATCH (n)-[r:${c}]->(m) WHERE id(r) in $${o} RETURN id(r), id(n), id(m)`)}if(0===s.length)return r;const a=s.join(" UNION "),l=new y({openCypherQuery:a,bindParameters:i}),m=(await c(e,l,t?.requestOptions)).resultRowsStream.getReader();for(;;){const{done:o,value:e}=await m.read();if(o)break;for(const t of e)r.set(t[0],[t[1],t[2]])}return r}const b="ESRI__ChronologicalLayoutOverlay",w=()=>b,x=e=>{const s=[],a={type:"CIMGeometricEffectCut",beginCut:3,endCut:3};for(const t of e.chronologicalAuxiliaryGraphics?.lines??[]){const e={type:"CIMSolidStroke",enable:!0,width:t.width,color:[t.color.r,t.color.g,t.color.b,Math.round(t.color.a/100*255)],effects:t.dashPattern.length>0?[{type:"CIMGeometricEffectDashes",dashTemplate:t.dashPattern,lineDashEnding:"NoConstraint"},a]:void 0},r={type:"CIMVectorMarker",enable:!0,size:10,frame:{xmin:-5,ymin:-5,xmax:0,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-12,-3.47],[-12,3.6],[-2.06,-.03],[-12,-3.47]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[t.color.r,t.color.g,t.color.b,Math.round(t.color.a/100*255)]}]}}],markerPlacement:{type:"CIMMarkerPlacementOnLine",angleToLine:!0,relativeTo:"LineEnd",offsetAlongLine:0}},i=new p({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:t.arrowheadSizeAtEnd?[e,r]:[e]}}});for(const a of t.elements){const e=new n({paths:[[[a.origin.x,a.origin.y],[a.destination.x,a.destination.y]]]});s.push(new o({geometry:e,symbol:i}))}}for(const t of e.chronologicalAuxiliaryGraphics?.polygons??[]){const e=new f({color:[t.color.r,t.color.g,t.color.b,t.color.a/100],style:"solid",outline:null});for(const n of t.elements){const t=new r({rings:[n.points.map((o=>[o.x,o.y]))]});s.push(new o({geometry:t,symbol:e}))}}for(const r of e.chronologicalAuxiliaryGraphics?.texts??[]){let e="middle",n="center";switch(r.direction?.value){case l.left:n="right";break;case l.right:n="left";break;case l.bottom:e="bottom"}for(const i of r.elements){const a=new h({color:[r.color.r,r.color.g,r.color.b,r.color.a/100],text:i.str,font:{size:r.height,weight:"bold"},verticalAlignment:e,horizontalAlignment:n}),l=new t({x:i.anchor.x,y:i.anchor.y});s.push(new o({geometry:l,symbol:a}))}}return new i({graphics:s,listMode:"hide",title:b,id:b})},M=(o,e)=>{const t=new Map;for(const n of[...e.entityTypes??[],...e.relationshipTypes??[]])for(const o of n.properties??[])o.geometryType&&"esriGeometryNull"!==o.geometryType&&t.set(n.name,o.name??"");const r=a.getInstance();for(const n of o)r.writeToStore([n],s,t.get(n.typeName??"")??"")},C=o=>enums_a.get(o)??"radial-root-centric";function S(o){if(!o.spatialReference.isWGS84)throw new Error/* default */.A("knowledge-graph:layer-support-utils","The utilsExtentToInBoundsRings function only supports WGS84 spatial references.");return o.clone().normalize().map((o=>[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]]))}


/***/ }),

/***/ 30179:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   b: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80861);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26325);
/* harmony import */ var _support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(63457);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const l=l=>{let p=class extends l{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__/* .parse */ .qg)(this.url);if(t?.title)return t.title}return this._get("title")||""}set title(t){this._set("title",t)}set url(t){this._set("url",(0,_support_arcgisLayerUrl_js__WEBPACK_IMPORTED_MODULE_6__/* .sanitizeUrl */ .Jf)(t,_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getLogger(this)))}};return (0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"title",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:String})],p.prototype,"url",null),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .$)("esri.layers.mixins.ArcGISService")],p),p};


/***/ }),

/***/ 37549:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $C: () => (/* binding */ P),
/* harmony export */   Hh: () => (/* binding */ a),
/* harmony export */   J: () => (/* binding */ u),
/* harmony export */   JT: () => (/* binding */ o),
/* harmony export */   Tu: () => (/* binding */ A),
/* harmony export */   Wg: () => (/* binding */ b),
/* harmony export */   Xq: () => (/* binding */ h),
/* harmony export */   i6: () => (/* binding */ m),
/* harmony export */   pM: () => (/* binding */ v),
/* harmony export */   tx: () => (/* binding */ i),
/* harmony export */   vJ: () => (/* binding */ _)
/* harmony export */ });
/* unused harmony exports CentralityMode, Direction2D, RelationshipInterpretation, _lclib, computeCentrality, convertChronologicalLayoutSettingsToWasmSettings, defaultBudgetTheoreticalSeconds, defaultIdealEdgeLengthMultiplier, defaultRepulsionRadiusMultiplier, isLoaded */
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(44764);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let t,r=null;function n(){return!!r}function a(){return t||(t=__webpack_require__.e(/* import() */ 22933).then(__webpack_require__.bind(__webpack_require__, 22933)).then((e=>e.l)).then((({default:t})=>t({locateFile:t=>(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__/* .getAssetUrl */ .s)(`esri/libs/linkchartlayout/${t}`)}))).then((e=>{s(e)})),t)}function s(e){r=e}var i,o,u,l;!function(e){e[e.None=0]="None",e[e.IsMovable=1]="IsMovable",e[e.IsGeographic=2]="IsGeographic",e[e.IsRoot=4]="IsRoot",e[e.IsOld=8]="IsOld"}(i||(i={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Canceled=2]="Canceled"}(o||(o={})),function(e){e[e.Regular=0]="Regular",e[e.Curved=1]="Curved",e[e.Recursive=2]="Recursive"}(u||(u={})),function(e){e[e.right=0]="right",e[e.left=1]="left",e[e.top=2]="top",e[e.bottom=3]="bottom"}(l||(l={}));const c={none:0,"start-only":1,"start-and-end":2};function y(e){const t={...{timeDirection:"right",timeBannerUTCOffsetInMinutes:0,eventsTicksVisualization:"start-and-end",showDurationLineForNonZeroDurationEntityEvents:!0,durationLineWidth:5,entityPositionAtDurationRatio:1,showNonZeroDurationIntervalBounds:!1,separateTimeOverlaps:!0,separateTimelineOverlaps:!0,moveFirstBends:!0,secondBendRatio:.3,lineSeparationMultiplier:1,spaceSeparatedLinesEvenly:!1,useBezierCurves:!1,separatedLineShapeRatio:0},...e?.toJSON()??{},eventsTicksVisualization:e?.eventsTicksVisualization??"start-and-end"};return{...t,timeDirection:{value:l[t.timeDirection]??l.right},eventsTicksVisualization:{value:c[t.eventsTicksVisualization]??c["start-and-end"]}}}function E(e,t,n,a,s,i){const u=n.length,l=s.length,c=Float64Array.BYTES_PER_ELEMENT,y=Uint32Array.BYTES_PER_ELEMENT,E=Uint8Array.BYTES_PER_ELEMENT,p=16,f=p+u*(E+2*c)+l*(2*y),d=r._malloc(f);try{const E=d+p-d%p,f=E+u*c,v=f+u*c,A=v+l*y,b=A+l*y,P=()=>[r.HEAPF64.subarray(E>>3,(E>>3)+u),r.HEAPF64.subarray(f>>3,(f>>3)+u),r.HEAPU32.subarray(v>>2,(v>>2)+l),r.HEAPU32.subarray(A>>2,(A>>2)+l),r.HEAPU8.subarray(b,b+u)],[_,h,m,L,g]=P();_.set(n),h.set(a),m.set(s),L.set(i),g.set(t);const C=e(u,b,E,f,l,v,A);let H=null,F=null;if(C.value===o.Success){const e=r.getLayoutLinksTypes(),t=r.getLayoutLinksVerticesEndIndices(),n=r.getLayoutLinksVertices(),a=r.countLayoutLinksVertices();!l||e&&t?a&&!n?C.value=o.Error:(H={types:new Uint8Array(r.HEAPU8.subarray(e,e+l)),vertexEndIndex:new Uint32Array(r.HEAPU32.subarray(t>>2,(t>>2)+l)),vertices:new Float64Array(r.HEAPF64.subarray(n>>3,(n>>3)+2*a))},F=r.getAuxiliaryGraphicElements()):C.value=o.Error}const[T,R,B,U,N]=P();return n.set(T),a.set(R),s.set(B),i.set(U),t.set(N),{status:C.value,links:H,graphics:F}}finally{r._free(d),r.cleanupLayout()}}const p=2,f=1,d=-1;var v,A,b,P,_,h,m,L,g;function C(e,t,n,a,s,i,o,u,l,c,y,E,p,f,d){const v=t.length,A=Float64Array.BYTES_PER_ELEMENT,b=Uint32Array.BYTES_PER_ELEMENT,P=16,_=P+e*(8*A)+v*(3*b),h=r._malloc(_);try{const _=h+P-h%P,m=_+e*A,L=m+e*A,g=L+e*A,C=g+e*A,H=C+e*A,F=H+e*A,T=F+e*A,R=T+e*A,B=R+v*b,U=B+v*b,N=()=>[r.HEAPF64.subarray(_>>3,(_>>3)+e),r.HEAPF64.subarray(m>>3,(m>>3)+e),r.HEAPF64.subarray(L>>3,(L>>3)+e),r.HEAPF64.subarray(g>>3,(g>>3)+e),r.HEAPF64.subarray(C>>3,(C>>3)+e),r.HEAPF64.subarray(H>>3,(H>>3)+e),r.HEAPF64.subarray(F>>3,(F>>3)+e),r.HEAPF64.subarray(T>>3,(T>>3)+e),r.HEAPU32.subarray(R>>2,(R>>2)+v),r.HEAPU32.subarray(B>>2,(B>>2)+v),r.HEAPU32.subarray(U>>2,(U>>2)+v)],[S,I,k,M,z,D,V,w,O,Y,G]=N();S.set(u),I.set(l),k.set(c),M.set(y),z.set(E),D.set(p),V.set(f),w.set(d),O.set(t),Y.set(n),G.set(a);const x=r.computeCentrality(e,v,R,B,U,s,i,o,_,m,L,g,C,H,F,T),[j,Z,J,W,$,q,K,Q,X,ee,te]=N();return u.set(j),l.set(Z),c.set(J),y.set(W),E.set($),p.set(q),f.set(K),d.set(Q),t.set(X),n.set(ee),a.set(te),x}finally{r._free(h)}}!function(e){function t(){return r.getMinIdealEdgeLength()}function n(e,t,n,a,s,i,o=p,u=f,l=d){return E(((t,n,a,s,i,c,y)=>r.applyForceDirectedLayout(e,t,n,a,s,i,c,y,o,u,l)),t,n,a,s,i)}e.getMinIdealEdgeLength=t,e.apply=n}(v||(v={})),function(e){function t(e,t,n,a,s,i,o=p,u=f,l=d){return E(((t,n,a,s,i,c,y)=>r.applyCommunityLayout(e,t,n,a,s,i,c,y,o,u,l)),t,n,a,s,i)}e.apply=t}(A||(A={})),function(e){function t(e,t,n,a,s,i){return E(((t,n,a,s,i,o,u)=>r.applySimpleLayout(e,t,n,a,s,i,o,u)),t,n,a,s,i)}e.apply=t}(b||(b={})),function(e){function t(e,t,n,a,s,i){return E(((t,n,a,s,i,o,u)=>r.applyHierarchicalLayout(e,t,n,a,s,i,o,u)),t,n,a,s,i)}e.apply=t}(P||(P={})),function(e){function t(e,t,n,a,s,i){return E(((t,n,a,s,i,o,u)=>r.applyRadialTreeLayout(e,t,n,a,s,i,o,u)),t,n,a,s,i)}e.apply=t}(_||(_={})),function(e){function t(e,t,n,a,s,i){return E(((t,n,a,s,i,o,u)=>r.applySmartTreeLayout(e,t,n,a,s,i,o,u)),t,n,a,s,i)}e.apply=t}(h||(h={})),function(e){function t(e,t,n,a,s,i,u,l,c,p,f,d){return E(((t,n,a,u,l,E,v)=>{if(s.length!==t)return{value:o.Error};if(i.length!==t)return{value:o.Error};if(c.length!==l)return{value:o.Error};if(p.length!==l)return{value:o.Error};const A=Float64Array.BYTES_PER_ELEMENT,b=16,P=r._malloc(b+t*A),_=r._malloc(b+t*A),h=r._malloc(b+l*A),m=r._malloc(b+l*A),L=P+b-P%b,g=_+b-_%b,C=h+b-h%b,H=m+b-m%b;try{return r.HEAPF64.subarray(L>>3,(L>>3)+t).set(s),r.HEAPF64.subarray(g>>3,(g>>3)+t).set(i),r.HEAPF64.subarray(C>>3,(C>>3)+l).set(c),r.HEAPF64.subarray(H>>3,(H>>3)+l).set(p),r.applyChronologicalLayout(e,t,n,a,u,L,g,l,E,v,C,H,f,y(d))}finally{r._free(P),r._free(_),r._free(h),r._free(m)}}),t,n,a,u,l)}e.apply=t}(m||(m={})),function(e){e[e.Undirected=0]="Undirected",e[e.Directed=1]="Directed",e[e.Reversed=2]="Reversed"}(L||(L={})),function(e){e[e.ByCC_Raw=0]="ByCC_Raw",e[e.ByCC_NormalizeGlobally=1]="ByCC_NormalizeGlobally",e[e.ByCC_NormalizeByCC=2]="ByCC_NormalizeByCC"}(g||(g={}));


/***/ }),

/***/ 81114:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(30214);
/* harmony import */ var _GraphNamedObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(80211);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends _GraphNamedObject_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A{constructor(o){super(o),this.layoutGeometry=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A,json:{write:!0}})],p.prototype,"layoutGeometry",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .$)("esri.rest.knowledgeGraph.Entity")],p);


/***/ }),

/***/ 80211:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26325);
/* harmony import */ var _GraphObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(92450);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let s=class extends _GraphObject_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A{constructor(r){super(r),this.typeName=null,this.id=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)({type:String,json:{write:!0}})],s.prototype,"typeName",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)({type:String,json:{write:!0}})],s.prototype,"id",void 0),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .$)("esri.rest.knowledgeGraph.GraphNamedObject")],s);


/***/ }),

/***/ 92450:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let t=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(r){super(r),this.properties=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({json:{write:!0}})],t.prototype,"properties",void 0),t=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.rest.knowledgeGraph.GraphObject")],t);


/***/ }),

/***/ 86022:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ s)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(44153);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(93741);
;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphQuery.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends Accessor/* default */.A{constructor(r){super(r),this.openCypherQuery=""}};(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"openCypherQuery",void 0),p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphQuery")],p);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphQueryStreaming.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let s=class extends p{constructor(r){super(r),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,tslib_es6._)([(0,property/* property */.MZ)()],s.prototype,"bindParameters",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],s.prototype,"bindGeometryQuantizationParameters",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],s.prototype,"outputQuantizationParameters",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:SpatialReference/* default */.A})],s.prototype,"outputSpatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],s.prototype,"provenanceBehavior",void 0),s=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphQueryStreaming")],s);


/***/ }),

/***/ 60097:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80861);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6273);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(67498);
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62991);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26325);
/* harmony import */ var _GraphObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(92450);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let e=class extends _GraphObject_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A{constructor(r){super(r)}};e=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .$)("esri.rest.knowledgeGraph.ObjectValue")],e);


/***/ }),

/***/ 6149:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22395);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26325);
/* harmony import */ var _GraphObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(92450);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(r){super(r),this.path=[]}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:[_GraphObject_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A],json:{write:!0}})],p.prototype,"path",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.rest.knowledgeGraph.Path")],p);


/***/ }),

/***/ 72943:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(26325);
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(38648);
/* harmony import */ var _GraphNamedObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(80211);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let i=class extends _GraphNamedObject_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A{constructor(o){super(o),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)({type:String,json:{write:!0}})],i.prototype,"originId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)({type:String,json:{write:!0}})],i.prototype,"destinationId",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_1__/* .property */ .MZ)({type:_geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A,json:{write:!0}})],i.prototype,"layoutGeometry",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_5__/* .subclass */ .$)("esri.rest.knowledgeGraph.Relationship")],i);


/***/ }),

/***/ 13949:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Eq: () => (/* binding */ e),
/* harmony export */   bV: () => (/* binding */ i),
/* harmony export */   nP: () => (/* binding */ o),
/* harmony export */   r5: () => (/* binding */ r),
/* harmony export */   ti: () => (/* binding */ p),
/* harmony export */   vy: () => (/* binding */ n),
/* harmony export */   wr: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var e,r,i,t,o,p,n;!function(e){e[e.Regular=0]="Regular",e[e.Provenance=1]="Provenance",e[e.Document=2]="Document"}(e||(e={})),function(e){e[e.esriFieldTypeSmallInteger=0]="esriFieldTypeSmallInteger",e[e.esriFieldTypeInteger=1]="esriFieldTypeInteger",e[e.esriFieldTypeSingle=2]="esriFieldTypeSingle",e[e.esriFieldTypeDouble=3]="esriFieldTypeDouble",e[e.esriFieldTypeString=4]="esriFieldTypeString",e[e.esriFieldTypeDate=5]="esriFieldTypeDate",e[e.esriFieldTypeOID=6]="esriFieldTypeOID",e[e.esriFieldTypeGeometry=7]="esriFieldTypeGeometry",e[e.esriFieldTypeBlob=8]="esriFieldTypeBlob",e[e.esriFieldTypeRaster=9]="esriFieldTypeRaster",e[e.esriFieldTypeGUID=10]="esriFieldTypeGUID",e[e.esriFieldTypeGlobalID=11]="esriFieldTypeGlobalID",e[e.esriFieldTypeXML=12]="esriFieldTypeXML",e[e.esriFieldTypeBigInteger=13]="esriFieldTypeBigInteger",e[e.esriFieldTypeDateOnly=14]="esriFieldTypeDateOnly",e[e.esriFieldTypeTimeOnly=15]="esriFieldTypeTimeOnly",e[e.esriFieldTypeTimestampOffset=16]="esriFieldTypeTimestampOffset"}(r||(r={})),function(e){e[e.esriGeometryNull=0]="esriGeometryNull",e[e.esriGeometryPoint=1]="esriGeometryPoint",e[e.esriGeometryMultipoint=2]="esriGeometryMultipoint",e[e.esriGeometryPolyline=3]="esriGeometryPolyline",e[e.esriGeometryPolygon=4]="esriGeometryPolygon",e[e.esriGeometryEnvelope=5]="esriGeometryEnvelope",e[e.esriGeometryAny=7]="esriGeometryAny",e[e.esriGeometryMultiPatch=9]="esriGeometryMultiPatch"}(i||(i={})),function(e){e[e.esriMethodHintUNSPECIFIED=0]="esriMethodHintUNSPECIFIED",e[e.esriUUIDESRI=1]="esriUUIDESRI",e[e.esriUUIDRFC4122=2]="esriUUIDRFC4122"}(t||(t={})),function(e){e[e.esriTypeUNSPECIFIED=0]="esriTypeUNSPECIFIED",e[e.esriTypeEntity=1]="esriTypeEntity",e[e.esriTypeRelationship=2]="esriTypeRelationship",e[e.esriTypeBoth=4]="esriTypeBoth",e[e.esriTypeMetaEntityProvenance=8]="esriTypeMetaEntityProvenance"}(o||(o={})),function(e){e[e.esriGraphPropertyUNSPECIFIED=0]="esriGraphPropertyUNSPECIFIED",e[e.esriGraphPropertyRegular=1]="esriGraphPropertyRegular",e[e.esriGraphPropertyDocumentName=2]="esriGraphPropertyDocumentName",e[e.esriGraphPropertyDocumentTitle=3]="esriGraphPropertyDocumentTitle",e[e.esriGraphPropertyDocumentUrl=4]="esriGraphPropertyDocumentUrl",e[e.esriGraphPropertyDocumentText=5]="esriGraphPropertyDocumentText",e[e.esriGraphPropertyDocumentKeywords=6]="esriGraphPropertyDocumentKeywords",e[e.esriGraphPropertyDocumentContentType=7]="esriGraphPropertyDocumentContentType",e[e.esriGraphPropertyDocumentMetadata=8]="esriGraphPropertyDocumentMetadata",e[e.esriGraphPropertyDocumentFileExtension=9]="esriGraphPropertyDocumentFileExtension",e[e.esriGraphPropertyProvenanceInstanceId=10]="esriGraphPropertyProvenanceInstanceId",e[e.esriGraphPropertyProvenanceSourceType=11]="esriGraphPropertyProvenanceSourceType",e[e.esriGraphPropertyProvenanceSourceName=12]="esriGraphPropertyProvenanceSourceName",e[e.esriGraphPropertyProvenanceSource=13]="esriGraphPropertyProvenanceSource",e[e.esriGraphPropertyProvenanceComment=14]="esriGraphPropertyProvenanceComment",e[e.esriGraphPropertyProvenanceTypeName=15]="esriGraphPropertyProvenanceTypeName",e[e.esriGraphPropertyProvenancePropertyName=16]="esriGraphPropertyProvenancePropertyName"}(p||(p={})),function(e){e[e.esriIdentifierInfoTypeUNSPECIFIED=0]="esriIdentifierInfoTypeUNSPECIFIED",e[e.esriIdentifierInfoTypeDatabaseNative=1]="esriIdentifierInfoTypeDatabaseNative",e[e.esriIdentifierInfoTypeUniformProperty=2]="esriIdentifierInfoTypeUniformProperty"}(n||(n={}));


/***/ }),

/***/ 2399:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ r)
/* harmony export */ });
/* unused harmony exports getNewInterface, test */
/* harmony import */ var _assets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(44764);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6273);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const t="esri/rest/knowledgeGraph/wasmInterface/";let s,n=null;async function r(){const e=n??s;if(e)return e;const t=!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A)("wasm-simd");return s=o(t),s}async function o(s){if(s){const{default:s}=await __webpack_require__.e(/* import() */ 64214).then(__webpack_require__.bind(__webpack_require__, 64214)).then((e=>e.a));return s({locateFile:s=>(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__/* .getAssetUrl */ .s)(t+s)})}const{default:n}=await __webpack_require__.e(/* import() */ 21570).then(__webpack_require__.bind(__webpack_require__, 99189)).then((e=>e.a));return n({locateFile:s=>(0,_assets_js__WEBPACK_IMPORTED_MODULE_0__/* .getAssetUrl */ .s)(t+s)})}const a={setWasmInterfacePromise:e=>n=e,restoreWasmInterfacePromise:()=>n=null};


/***/ }),

/***/ 53921:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  _checkAuthentication: () => (/* binding */ be),
  _esriRequestWrapper: () => (/* binding */ Ge),
  _fetchWrapper: () => (/* binding */ _e),
  _getClientDataCacheCopy: () => (/* binding */ B),
  _setMaxQueryParsingDurationForTesting: () => (/* binding */ Be),
  _submitJobWrapper: () => (/* binding */ ke),
  clearClientDataCache: () => (/* binding */ me),
  clientDataCache: () => (/* binding */ knowledgeGraphService_z),
  executeAddGraphFieldIndex: () => (/* binding */ ae),
  executeAddGraphProperties: () => (/* binding */ ee),
  executeAddNamedTypes: () => (/* binding */ Y),
  executeApplyEdits: () => (/* binding */ V),
  executeDeleteGraphFieldIndex: () => (/* binding */ ne),
  executeDeleteGraphProperty: () => (/* binding */ te),
  executeDeleteNamedType: () => (/* binding */ X),
  executeFindPaths: () => (/* binding */ ye),
  executeFindPathsAsynchronous: () => (/* binding */ ge),
  executeQuery: () => (/* binding */ de),
  executeQueryStreaming: () => (/* binding */ ie),
  executeSearch: () => (/* binding */ se),
  executeSearchStreaming: () => (/* binding */ pe),
  executeUpdateGraphProperty: () => (/* binding */ re),
  executeUpdateNamedType: () => (/* binding */ Z),
  executeUpdateSearchIndex: () => (/* binding */ oe),
  fetchAllClientDataKeys: () => (/* binding */ ce),
  fetchAsynchronousFindPathsResultData: () => (/* binding */ fe),
  fetchClientDataAtKeys: () => (/* binding */ le),
  fetchKnowledgeGraph: () => (/* binding */ ue),
  kgRestServices: () => (/* binding */ knowledgeGraphService_J),
  refreshDataModel: () => (/* binding */ he),
  refreshServiceDefinition: () => (/* binding */ we)
});

// EXTERNAL MODULE: ./node_modules/@arcgis/core/kernel.js
var kernel = __webpack_require__(6480);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js
var request = __webpack_require__(38116);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(62991);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(80861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/promiseUtils.js + 1 modules
var promiseUtils = __webpack_require__(49175);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Geometry.js
var Geometry = __webpack_require__(61064);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(44153);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(82392);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(93741);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(81482);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(8636);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(67498);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(26325);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Extent.js
var Extent = __webpack_require__(8000);
;// ./node_modules/@arcgis/core/rest/geoprocessor/GPOptions.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var c;let GPOptions_i=c=class extends Accessor/* default */.A{constructor(e){super(e),this.outSpatialReference=null,this.processExtent=null,this.processSpatialReference=null,this.returnColumnName=!1,this.returnFeatureCollection=!1,this.returnM=!1,this.returnZ=!1}static from(e){return (0,ensureType/* ensureClass */.PZ)(c,e)}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:SpatialReference/* default */.A})],GPOptions_i.prototype,"outSpatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Extent/* default */.A})],GPOptions_i.prototype,"processExtent",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:SpatialReference/* default */.A})],GPOptions_i.prototype,"processSpatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({nonNullable:!0})],GPOptions_i.prototype,"returnColumnName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({nonNullable:!0})],GPOptions_i.prototype,"returnFeatureCollection",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({nonNullable:!0})],GPOptions_i.prototype,"returnM",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({nonNullable:!0})],GPOptions_i.prototype,"returnZ",void 0),GPOptions_i=c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.geoprocessor.GPOptions")],GPOptions_i);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/support/normalizeUtils.js + 2 modules
var normalizeUtils = __webpack_require__(43861);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/support/Field.js
var Field = __webpack_require__(45352);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(22395);
;// ./node_modules/@arcgis/core/layers/support/MapImage.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let p=class extends JSONSupport/* default */.A{constructor(){super(...arguments),this.extent=null,this.height=null,this.href=null,this.opacity=1,this.rotation=0,this.scale=null,this.visible=!0,this.width=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:Extent/* default */.A})],p.prototype,"extent",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"height",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"href",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"opacity",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"rotation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"scale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"visible",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"width",void 0),p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.layers.support.MapImage")],p);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/utils.js
var utils = __webpack_require__(36321);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(85716);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/networkEnums.js
var networkEnums = __webpack_require__(93122);
;// ./node_modules/@arcgis/core/rest/support/ArealUnit.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ArealUnit_c=class extends JSONSupport/* default */.A{constructor(r){super(r),this.area=0,this.units=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],ArealUnit_c.prototype,"area",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(networkEnums/* areaUnitJsonMap */.UO)],ArealUnit_c.prototype,"units",void 0),ArealUnit_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.ArealUnit")],ArealUnit_c);

;// ./node_modules/@arcgis/core/rest/support/DataFile.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let s=class extends JSONSupport/* default */.A{constructor(r){super(r),this.itemId=null,this.url=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{read:{source:"itemID"},write:{target:"itemID"}}})],s.prototype,"itemId",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],s.prototype,"url",void 0),s=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.DataFile")],s);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/FeatureSet.js
var FeatureSet = __webpack_require__(74704);
;// ./node_modules/@arcgis/core/rest/support/LinearUnit.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let LinearUnit_c=class extends JSONSupport/* default */.A{constructor(o){super(o),this.distance=0,this.units=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],LinearUnit_c.prototype,"distance",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(networkEnums/* linearUnitJsonMap */.Y8)],LinearUnit_c.prototype,"units",void 0),LinearUnit_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.LinearUnit")],LinearUnit_c);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/jsonMap.js
var jsonMap = __webpack_require__(1817);
;// ./node_modules/@arcgis/core/rest/support/parameterValueUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const parameterValueUtils_a="multi-value-",parameterValueUtils_t=new jsonMap/* JSONMap */.J({GPArealUnit:"areal-unit",GPBoolean:"boolean",GPComposite:"composite",GPDataFile:"data-file",GPDate:"date",GPDouble:"double",GPFeatureRecordSetLayer:"feature-record-set-layer",Field:"field",GPLinearUnit:"linear-unit",GPLong:"long",GPRasterData:"raster-data",GPRasterDataLayer:"raster-data-layer",GPRecordSet:"record-set",GPString:"string",GPValueTable:"value-table","GPMultiValue:GPArealUnit":`${parameterValueUtils_a}areal-unit`,"GPMultiValue:GPBoolean":`${parameterValueUtils_a}boolean`,"GPMultiValue:GPComposite":`${parameterValueUtils_a}composite`,"GPMultiValue:GPDataFile":`${parameterValueUtils_a}data-file`,"GPMultiValue:GPDate":`${parameterValueUtils_a}date`,"GPMultiValue:GPDouble":`${parameterValueUtils_a}double`,"GPMultiValue:GPFeatureRecordSetLayer":`${parameterValueUtils_a}feature-record-set-layer`,"GPMultiValue:Field":`${parameterValueUtils_a}field`,"GPMultiValue:GPLinearUnit":`${parameterValueUtils_a}linear-unit`,"GPMultiValue:GPLong":`${parameterValueUtils_a}long`,"GPMultiValue:GPRasterData":`${parameterValueUtils_a}raster-data`,"GPMultiValue:GPRasterDataLayer":`${parameterValueUtils_a}raster-data-layer`,"GPMultiValue:GPRecordSet":`${parameterValueUtils_a}record-set`,"GPMultiValue:GPString":`${parameterValueUtils_a}string`});

;// ./node_modules/@arcgis/core/rest/support/ParameterValue.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ParameterValue_a=class extends JSONSupport/* default */.A{constructor(r){super(r),this.dataType=null,this.paramName=null,this.value=null}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(parameterValueUtils_t,{ignoreUnknown:!1})],ParameterValue_a.prototype,"dataType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ParameterValue_a.prototype,"paramName",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ParameterValue_a.prototype,"value",void 0),ParameterValue_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.ParameterValue")],ParameterValue_a);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js
var reader = __webpack_require__(25376);
;// ./node_modules/@arcgis/core/rest/support/RasterData.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let RasterData_p=class extends JSONSupport/* default */.A{constructor(r){super(r),this.format=null,this.itemId=null,this.type=null,this.url=null}readType(r){return"ImageService"===r?"image-service":null}};(0,tslib_es6._)([(0,property/* property */.MZ)()],RasterData_p.prototype,"format",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{name:"itemID",write:!0}})],RasterData_p.prototype,"itemId",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],RasterData_p.prototype,"type",void 0),(0,tslib_es6._)([(0,reader/* reader */.w)("type")],RasterData_p.prototype,"readType",null),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RasterData_p.prototype,"url",void 0),RasterData_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.RasterData")],RasterData_p);

;// ./node_modules/@arcgis/core/rest/geoprocessor/utils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function S(r,a,n,s,i){const u={},m={},c=[];return d(s,c,u),(0,normalizeUtils/* normalizeCentralMeridian */.el)(c).then((t=>{const{outSpatialReference:c,processExtent:p,processSpatialReference:f,returnColumnName:l,returnFeatureCollection:y,returnM:S,returnZ:d}=n,{path:N}=(0,utils/* parseUrl */.Dl)(r);for(const e in u){const[r,a]=u[e];m[e]=t.slice(r,a)}const j=c?c.wkid||c:null,g=f?f.wkid||f:null,J="execute"===a?{returnColumnName:l||void 0,returnFeatureCollection:y||void 0,returnM:S||void 0,returnZ:d||void 0}:null,O=R({...p?{context:{extent:p,outSR:j,processSR:g}}:{"env:outSR":j,"env:processSR":g},...s,...J,f:"json"},null,m),v={...i,query:O};return (0,request/* default */.A)(`${N}/${a}`,v)}))}function d(e,r,t){for(const a in e){const n=e[a];if(n&&"object"==typeof n&&n instanceof FeatureSet/* default */.A){const{features:e}=n;t[a]=[r.length,r.length+e.length],e.forEach((e=>{r.push(e.geometry)}))}}}async function N(e,t){switch(e){case"areal-unit":return ArealUnit_c.fromJSON(t);case"boolean":case"double":case"long":case"string":case"value-table":return t;case"date":return new Date(t);case"data-file":return s.fromJSON(t);case"linear-unit":return LinearUnit_c.fromJSON(t);case"feature-record-set-layer":if("url"in t)return s.fromJSON(t);if("layerDefinition"in t){const e=new(0,(await __webpack_require__.e(/* import() */ 16730).then(__webpack_require__.bind(__webpack_require__, 16730))).default),{layerDefinition:a,featureSet:n}=t;return e.read({layerDefinition:a,featureSet:n},{origin:"portal-item"}),e.spatialReference=SpatialReference/* default */.A.fromJSON(n.spatialReference??a.spatialReference??a.extent.spatialReference),e}return FeatureSet/* default */.A.fromJSON(t);case"record-set":return"url"in t?s.fromJSON(t):FeatureSet/* default */.A.fromJSON(t);case"raster-data":case"raster-data-layer":return"mapImage"in t?p.fromJSON(t.mapImage):RasterData_p.fromJSON(t);case"field":return Field/* default */.A.fromJSON(t)}}function j(e){return e.startsWith(parameterValueUtils_a)}function g(e){return e.replace(parameterValueUtils_a,"")}async function J(e,r){const t=g(e),a="composite"===t?r.map((e=>N(parameterValueUtils_t.fromJSON(e.dataType),e.value))):r.map((e=>N(t,e)));return Promise.all(a)}async function O(e){const r=parameterValueUtils_t.fromJSON(e.dataType),{paramName:t}=e,a=j(r)?await J(r,e.value):await N(r,e.value);return new ParameterValue_a({dataType:r,paramName:t,value:a})}function R(e,r,t){for(const a in e){const r=e[a];Array.isArray(r)?e[a]=JSON.stringify(r.map((e=>R({item:e},!0).item))):r instanceof Date&&(e[a]=r.getTime())}return (0,utils/* encode */.lF)(e,r,t)}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/support/GPMessage.js
var GPMessage = __webpack_require__(71434);
;// ./node_modules/@arcgis/core/rest/support/JobInfo.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var JobInfo_p;const h=(0,jsonMap/* strict */.O)()({esriJobCancelled:"job-cancelled",esriJobCancelling:"job-cancelling",esriJobDeleted:"job-deleted",esriJobDeleting:"job-deleting",esriJobTimedOut:"job-timed-out",esriJobExecuting:"job-executing",esriJobFailed:"job-failed",esriJobNew:"job-new",esriJobSubmitted:"job-submitted",esriJobSucceeded:"job-succeeded",esriJobWaiting:"job-waiting"},{ignoreUnknown:!1}),JobInfo_d=1e3;let JobInfo_g=class extends JSONSupport/* default */.A{static{JobInfo_p=this}constructor(e){super(e),this.jobId=null,this.jobStatus=null,this.messages=null,this.progress=null,this.requestOptions=null,this.sourceUrl=null,this._cancelJobTimer=void 0,this._jobCompletionTimer=void 0}async cancelJob(e){const{jobId:t,sourceUrl:s}=this,{path:a}=(0,utils/* parseUrl */.Dl)(s),c={...this.requestOptions,...e,query:{f:"json"}},n=`${a}/jobs/${t}/cancel`,{data:u}=await (0,request/* default */.A)(n,c),{messages:b,jobStatus:m,progress:j}=JobInfo_p.fromJSON(u);return this.set({messages:b,jobStatus:m,progress:j}),"job-cancelled"===m?this:new Promise(((o,t)=>{(0,promiseUtils/* onAbort */.u7)(c.signal,(()=>{this.clearCancelJobTimer(),t((0,promiseUtils/* createAbortError */.NK)())})),this.clearCancelJobTimer();const s=()=>{this._cancelJobTimer||t((0,promiseUtils/* createAbortError */.NK)()),this.checkJobStatus(e).then((({jobStatus:e})=>{switch(e){case"job-cancelling":default:this._cancelJobTimer=setTimeout(s,JobInfo_d);break;case"job-deleted":case"job-deleting":case"job-executing":case"job-failed":case"job-new":case"job-submitted":case"job-succeeded":case"job-timed-out":case"job-waiting":t(this);break;case"job-cancelled":o(this)}})).catch((e=>{t(e)}))};this._cancelJobTimer=setTimeout(s,JobInfo_d)}))}destroy(){clearInterval(this._cancelJobTimer),clearInterval(this._jobCompletionTimer)}async checkJobStatus(e){const{path:t}=(0,utils/* parseUrl */.Dl)(this.sourceUrl),s={...this.requestOptions,...e,query:{f:"json"}},r=`${t}/jobs/${this.jobId}`,{data:i}=await (0,request/* default */.A)(r,s),{messages:a,jobStatus:c,progress:n}=JobInfo_p.fromJSON(i);return this.set({messages:a,jobStatus:c,progress:n}),this}async fetchResultData(e,t,s){t=GPOptions_i.from(t||{});const{returnColumnName:r,returnFeatureCollection:i,returnM:a,returnZ:c,outSpatialReference:n}=t,{path:j}=(0,utils/* parseUrl */.Dl)(this.sourceUrl),p=R({returnColumnName:r||null,returnFeatureCollection:i||null,returnM:a||null,returnZ:c||null,outSR:n,returnType:"data",f:"json"},null),h={...this.requestOptions,...s,query:p},d=`${j}/jobs/${this.jobId}/results/${e}`,{data:g}=await (0,request/* default */.A)(d,h);return O(g)}async fetchResultImage(e,t,s){const{path:r}=(0,utils/* parseUrl */.Dl)(this.sourceUrl),i={...t.toJSON(),f:"json"},a=R(i),c={...this.requestOptions,...s,query:a},n=`${r}/jobs/${this.jobId}/results/${e}`,{data:u}=await (0,request/* default */.A)(n,c);return O(u)}async fetchResultMapImageLayer(){const{path:e}=(0,utils/* parseUrl */.Dl)(this.sourceUrl),o=e.indexOf("/GPServer/"),t=`${e.slice(0,Math.max(0,o))}/MapServer/jobs/${this.jobId}`;return new(0,(await __webpack_require__.e(/* import() */ 27311).then(__webpack_require__.bind(__webpack_require__, 49692))).default)({url:t})}async waitForJobCompletion(e={}){const{interval:o=JobInfo_d,signal:t,statusCallback:s}=e;return new Promise(((e,a)=>{(0,promiseUtils/* onAbort */.u7)(t,(()=>{this.clearJobCompletionTimer(),a((0,promiseUtils/* createAbortError */.NK)())})),this.clearJobCompletionTimer();const c=()=>{this._jobCompletionTimer||a((0,promiseUtils/* createAbortError */.NK)()),this.checkJobStatus().then((({jobStatus:t})=>{switch(t){case"job-succeeded":e(this);break;case"job-executing":case"job-new":case"job-submitted":case"job-waiting":s&&s(this),this._jobCompletionTimer=setTimeout(c,o);break;case"job-cancelled":case"job-cancelling":case"job-deleted":case"job-deleting":case"job-failed":case"job-timed-out":a(this);break;default:this._jobCompletionTimer=setTimeout(c,o)}})).catch((e=>{a(e)}))};this._jobCompletionTimer=setTimeout(c,o)}))}clearCancelJobTimer(){clearTimeout(this._cancelJobTimer),this._cancelJobTimer=void 0}clearJobCompletionTimer(){clearTimeout(this._jobCompletionTimer),this._jobCompletionTimer=void 0}};(0,tslib_es6._)([(0,property/* property */.MZ)()],JobInfo_g.prototype,"jobId",void 0),(0,tslib_es6._)([(0,enumeration/* enumeration */.e)(h,{ignoreUnknown:!1})],JobInfo_g.prototype,"jobStatus",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[GPMessage/* default */.A]})],JobInfo_g.prototype,"messages",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],JobInfo_g.prototype,"progress",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],JobInfo_g.prototype,"requestOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],JobInfo_g.prototype,"sourceUrl",void 0),JobInfo_g=JobInfo_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.support.JobInfo")],JobInfo_g);

;// ./node_modules/@arcgis/core/rest/geoprocessor/submitJob.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
async function submitJob_s(s,m,n,f){return n=GPOptions_i.from(n||{}),S(s,"submitJob",n,m??{},f).then((({data:o})=>{const r=JobInfo_g.fromJSON(o);return r.sourceUrl=s,r}))}

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphQueryResultHeader.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphQueryResultHeader_t=class extends Accessor/* default */.A{constructor(e){super(e),this.headerKeys=[],this.outSpatialReference=null,this.exceededTransferLimit=!1}};(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphQueryResultHeader_t.prototype,"headerKeys",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphQueryResultHeader_t.prototype,"outSpatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphQueryResultHeader_t.prototype,"exceededTransferLimit",void 0),GraphQueryResultHeader_t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphQueryResultHeader")],GraphQueryResultHeader_t);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphQueryResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphQueryResult_p=class extends Accessor/* default */.A{constructor(r){super(r),this.resultRows=[],this.resultHeader=new GraphQueryResultHeader_t}};(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphQueryResult_p.prototype,"resultRows",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphQueryResult_p.prototype,"resultHeader",void 0),GraphQueryResult_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphQueryResult")],GraphQueryResult_p);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphQueryStreamingResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphQueryStreamingResult_a=class extends Accessor/* default */.A{constructor(r){super(r),this.resultRowsStream=new ReadableStream,this.resultHeader=new GraphQueryResultHeader_t}};(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphQueryStreamingResult_a.prototype,"resultRowsStream",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphQueryStreamingResult_a.prototype,"resultHeader",void 0),GraphQueryStreamingResult_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphQueryStreamingResult")],GraphQueryStreamingResult_a);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/FieldIndex.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let FieldIndex_s=class extends JSONSupport/* default */.A{constructor(o){super(o),this.name=null,this.unique=null,this.ascending=!0,this.description="",this.fieldNames=[]}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],FieldIndex_s.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],FieldIndex_s.prototype,"unique",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],FieldIndex_s.prototype,"ascending",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],FieldIndex_s.prototype,"description",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[String],json:{write:!0}})],FieldIndex_s.prototype,"fieldNames",void 0),FieldIndex_s=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.FieldIndex")],FieldIndex_s);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphProperty.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let i=class extends JSONSupport/* default */.A{constructor(t){super(t),this.name=null,this.alias=null,this.fieldType=null,this.geometryType=null,this.hasM=null,this.hasZ=null,this.nullable=null,this.editable=!0,this.required=!1,this.defaultVisibility=!0,this.systemMaintained=null,this.role="esriGraphPropertyUNSPECIFIED",this.defaultValue=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],i.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],i.prototype,"alias",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],i.prototype,"fieldType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],i.prototype,"geometryType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],i.prototype,"hasM",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],i.prototype,"hasZ",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],i.prototype,"nullable",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],i.prototype,"editable",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],i.prototype,"required",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],i.prototype,"defaultVisibility",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],i.prototype,"systemMaintained",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],i.prototype,"role",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],i.prototype,"defaultValue",void 0),i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphProperty")],i);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphObjectType.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphObjectType_i=class extends JSONSupport/* default */.A{constructor(o){super(o),this.name=null,this.alias=null,this.role="Regular",this.strict=null,this.properties=[],this.fieldIndexes=[],this.type=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],GraphObjectType_i.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],GraphObjectType_i.prototype,"alias",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],GraphObjectType_i.prototype,"role",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],GraphObjectType_i.prototype,"strict",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[i],json:{write:!0}})],GraphObjectType_i.prototype,"properties",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[FieldIndex_s],json:{write:!0}})],GraphObjectType_i.prototype,"fieldIndexes",void 0),GraphObjectType_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphObjectType")],GraphObjectType_i);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/EntityType.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let EntityType_e=class extends GraphObjectType_i{constructor(r){super(r),this.type="entity"}};EntityType_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.EntityType")],EntityType_e);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/RelationshipType.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let RelationshipType_t=class extends GraphObjectType_i{constructor(o){super(o),this.endPoints=[],this.type="relationship"}};(0,tslib_es6._)([(0,property/* property */.MZ)({json:{write:!0}})],RelationshipType_t.prototype,"endPoints",void 0),RelationshipType_t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.RelationshipType")],RelationshipType_t);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/SourceTypeValueBehavior.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let t=class extends JSONSupport/* default */.A{constructor(r){super(r),this.value=null,this.behavior=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],t.prototype,"value",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],t.prototype,"behavior",void 0),t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.SourceTypeValueBehavior")],t);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/DataModel.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let DataModel_a=class extends JSONSupport/* default */.A{constructor(e){super(e),this.timestamp=null,this.spatialReference=null,this.strict=null,this.objectIdField=null,this.globalIdField=null,this.arcgisManaged=null,this.identifierInfo=null,this.searchIndexes=[],this.entityTypes=[],this.relationshipTypes=[],this.metaEntityTypes=[],this.provenanceSourceTypeValues=[]}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.timestamp=e?.getTime()}}}})],DataModel_a.prototype,"timestamp",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:SpatialReference/* default */.A,json:{write:!0}})],DataModel_a.prototype,"spatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],DataModel_a.prototype,"strict",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],DataModel_a.prototype,"objectIdField",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],DataModel_a.prototype,"globalIdField",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DataModel_a.prototype,"arcgisManaged",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DataModel_a.prototype,"identifierInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DataModel_a.prototype,"searchIndexes",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[EntityType_e],json:{write:!0}})],DataModel_a.prototype,"entityTypes",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[RelationshipType_t],json:{write:!0}})],DataModel_a.prototype,"relationshipTypes",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[EntityType_e],json:{write:!0}})],DataModel_a.prototype,"metaEntityTypes",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[t],json:{write:!0}})],DataModel_a.prototype,"provenanceSourceTypeValues",void 0),DataModel_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.DataModel")],DataModel_a);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/ServiceDefinition.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let ServiceDefinition_p=class extends JSONSupport/* default */.A{constructor(t){super(t),this.capabilities=[],this.supportsSearch=!1,this.supportedQueryFormats=[],this.allowGeometryUpdates=!1,this.searchMaxRecordCount=null,this.serviceCapabilities=null,this.maxRecordCount=null,this.description="",this.copyrightText="",this.units="",this.spatialReference=null,this.currentVersion=null,this.dateFieldsTimeReference=null,this.serviceItemId="",this.supportsDocuments=!1,this.dataEditingNotSupported=!1,this.schemaEditingNotSupported=!1,this.supportsProvenance=!1}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:[String],json:{write:!0}})],ServiceDefinition_p.prototype,"capabilities",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"supportsSearch",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:[String],json:{write:!0}})],ServiceDefinition_p.prototype,"supportedQueryFormats",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"allowGeometryUpdates",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],ServiceDefinition_p.prototype,"searchMaxRecordCount",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Object,json:{write:!0}})],ServiceDefinition_p.prototype,"serviceCapabilities",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],ServiceDefinition_p.prototype,"maxRecordCount",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],ServiceDefinition_p.prototype,"description",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],ServiceDefinition_p.prototype,"copyrightText",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],ServiceDefinition_p.prototype,"units",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:SpatialReference/* default */.A,json:{write:!0}})],ServiceDefinition_p.prototype,"spatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,json:{write:!0}})],ServiceDefinition_p.prototype,"currentVersion",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Object,json:{write:!0}})],ServiceDefinition_p.prototype,"dateFieldsTimeReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],ServiceDefinition_p.prototype,"serviceItemId",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"supportsDocuments",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"dataEditingNotSupported",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"schemaEditingNotSupported",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,json:{write:!0}})],ServiceDefinition_p.prototype,"supportsProvenance",void 0),ServiceDefinition_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.ServiceDefinition")],ServiceDefinition_p);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/KnowledgeGraph.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let KnowledgeGraph_p=class extends JSONSupport/* default */.A{constructor(o){super(o),this.url=null,this.dataModel=null,this.serviceDefinition=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({type:String,json:{write:!0}})],KnowledgeGraph_p.prototype,"url",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:DataModel_a,json:{write:!0}})],KnowledgeGraph_p.prototype,"dataModel",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:ServiceDefinition_p,json:{write:!0}})],KnowledgeGraph_p.prototype,"serviceDefinition",void 0),KnowledgeGraph_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.KnowledgeGraph")],KnowledgeGraph_p);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function wasmUtils_e(e,o,d){if(0!==e.error_code)throw new Error/* default */.A(o,d,{errorCode:e.error_code,errorMessage:e.error_message})}function wasmUtils_o(e){return e?.error_code?new Error/* default */.A("knowledgeGraphService:server-or-decoding-error",e.error_message,{errorCode:e.error_code}):void 0}

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/clientDataToWasmEncodedFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function clientDataToWasmEncodedFactories_t(t,r,a,o=!1){const c=new a.ClientDataFetchRequestEncoder;c.deleteLater();for(const e of t){const t=clientDataToWasmEncodedFactories_n(e,r,a,o);c.add_client_data_fetch_request_parameter(t)}c.encode();const s=c.get_encoding_result();return wasmUtils_e(s.error,"knowledge-graph:fetchClientDataAtKeys-encoding-failed","Attempting to encode the fetchClientDataAtKeys failed"),structuredClone(s.get_byte_buffer())}function clientDataToWasmEncodedFactories_n(e,t,n,r){const a=new n.ClientDataKey;a.deleteLater(),a.key_string=e;const o=new n.ClientDataFetchRequestParameter;o.deleteLater(),o.set_key(a);const c=t.get(e);return c&&!r&&(o.v_tag={v_tag:c.version}),o}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/knowledgeWasmAccess.js
var knowledgeWasmAccess = __webpack_require__(2399);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Multipoint.js
var Multipoint = __webpack_require__(67709);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Point.js + 1 modules
var Point = __webpack_require__(30214);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polygon.js
var Polygon = __webpack_require__(65648);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/geometry/Polyline.js
var Polyline = __webpack_require__(38648);
;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/WasmQueryWrapperInterfaces.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var WasmQueryWrapperInterfaces_e,T,WasmQueryWrapperInterfaces_i;!function(e){e[e.OBJECT=0]="OBJECT",e[e.ENTITY=1]="ENTITY",e[e.RELATIONSHIP=2]="RELATIONSHIP",e[e.PATH=3]="PATH",e[e.ARRAY=4]="ARRAY"}(WasmQueryWrapperInterfaces_e||(WasmQueryWrapperInterfaces_e={})),function(e){e[e.view=0]="view",e[e.edit=1]="edit"}(T||(T={})),function(e){e[e.exclude=0]="exclude",e[e.include=1]="include"}(WasmQueryWrapperInterfaces_i||(WasmQueryWrapperInterfaces_i={}));

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/queryToWasmEncodedFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function l(e,t){const n=new t.ArrayValue;return n.deleteLater(),e.forEach((e=>{n.add_value(f(e,t))})),n}function queryToWasmEncodedFactories_s(e,t){const n=new t.ObjectValue;n.deleteLater();for(const[o,r]of Object.entries(e))n.set_key_value(o,f(r,t));return n}function u(t,i){if(t instanceof Multipoint/* default */.A)return queryToWasmEncodedFactories_g(t,i);if(t instanceof Point/* default */.A)return queryToWasmEncodedFactories_h(t,i);if(t instanceof Polyline/* default */.A||t instanceof Polygon/* default */.A)return queryToWasmEncodedFactories_p(t,i);throw new Error/* default */.A("knowledge-graph:unsupported-geometry","Only Point, Multipoint, Polyline, and Polygon geometry are supported by ArcGIS Knowledge",{geometry:t})}function y(e,t){t.input_quantization_parameters={xy_resolution:e.xyResolution,x_false_origin:e.xFalseOrigin,y_false_origin:e.yFalseOrigin,z_resolution:e.zResolution,z_false_origin:e.zFalseOrigin,m_resolution:e.mResolution,m_false_origin:e.mFalseOrigin}}function m(t,n,o){if(!t.extent)throw new Error/* default */.A("knowledge-graph:illegal-output-quantization","The Output quantization provided to the encoder had an illegal value as part of its extent",t.extent);if(!t.quantizeMode)throw new Error/* default */.A("knowledge-graph:illegal-output-quantization","The Output quantization contained an illegal mode setting",t.quantizeMode);if(!t.tolerance)throw new Error/* default */.A("knowledge-graph:illegal-output-quantization","The Output quantization contained an illegal tolerance setting",t.quantizeMode);n.output_quantization_parameters={extent:{xmax:t.extent.xmax,ymax:t.extent.ymax,xmin:t.extent.xmin,ymin:t.extent.ymin},quantize_mode:o.esriQuantizeMode[t.quantizeMode],tolerance:t.tolerance}}function queryToWasmEncodedFactories_c(e,t){t.provenance_behavior={value:WasmQueryWrapperInterfaces_i[e]}}function f(e,n){if(null==e)return"";if("object"!=typeof e)return e;if(e instanceof Date)return e;if(e instanceof Geometry/* default */.A)return u(e,n);if(Array.isArray(e)){const t=new n.ArrayValue;return t.deleteLater(),e.forEach((e=>{t.add_value(f(e,n))})),t}return queryToWasmEncodedFactories_s(e,n)}function queryToWasmEncodedFactories_p(e,t){const n=new t.GeometryValue;n.deleteLater(),n.has_z=e.hasZ,n.has_m=e.hasM;const o=[],i=[];let l=[];e instanceof Polyline/* default */.A?(n.geometry_type=t.esriGeometryType.esriGeometryPolyline,l=e.paths):e instanceof Polygon/* default */.A&&(n.geometry_type=t.esriGeometryType.esriGeometryPolygon,l=e.rings);let s=0,u=0;return l.forEach((e=>{let t=0;e.forEach((e=>{t++,e.forEach((e=>{o[u]=e,u++}))})),i[s]=t,s++})),n.coords=new Float64Array(o),n.lengths=new Uint32Array(i),n}function queryToWasmEncodedFactories_g(e,t){const n=new t.GeometryValue;n.deleteLater(),n.geometry_type=n.geometry_type=t.esriGeometryType.esriGeometryMultipoint,n.has_z=e.hasZ,n.has_m=e.hasM;const o=[],r=[];r[0]=e.points.length;let a=0;return e.points.forEach((e=>{e.forEach((e=>{o[a]=e,a++}))})),n.coords=new Float64Array(o),n.lengths=new Uint32Array(r),n}function queryToWasmEncodedFactories_h(e,t){const n=new t.GeometryValue;n.deleteLater(),n.geometry_type=t.esriGeometryType.esriGeometryPoint,n.has_z=e.hasZ,n.has_m=e.hasM;const o=[],r=[];r[0]=1,o[0]=e.x,o[1]=e.y;let a=2;return e.hasZ&&(o[a]=e.z,a++),e.hasM&&(o[a]=e.m,a++),n.coords=new Float64Array(o),n.lengths=new Uint32Array(r),n}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/WasmDataModelWrapperInterfaces.js
var WasmDataModelWrapperInterfaces = __webpack_require__(13949);
;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/updateToWasmEncodedFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function updateToWasmEncodedFactories_s(t,n){if(!t.typeName)throw new Error/* default */.A("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits");if(!("originId"in t)){const e=new n.EntityValue;e.deleteLater(),e.type_name=t.typeName;for(const[i,r]of Object.entries(t.properties))e.set_key_value(i,w(r,n));return t.id&&e.set_id(t.id),e}if("originId"in t&&"destinationId"in t){const e=new n.RelationshipValue;e.deleteLater(),e.type_name=t.typeName;for(const[i,r]of Object.entries(t.properties))e.set_key_value(i,w(r,n));return t.id&&e.set_id(t.id),t.originId&&t.destinationId&&e.set_related_entity_ids(t.originId,t.destinationId),e}throw new Error/* default */.A("knowledge-graph:applyEdits-encoding-failure","Could not determine the type of a named graph object passed to the encoder")}function updateToWasmEncodedFactories_l(e){return{xy_resolution:e.xyResolution,x_false_origin:e.xFalseOrigin,y_false_origin:e.yFalseOrigin,z_resolution:e.zResolution,z_false_origin:e.zFalseOrigin,m_resolution:e.mResolution,m_false_origin:e.mFalseOrigin}}function updateToWasmEncodedFactories_d(e,t){const n=new t.EntityType;return n.deleteLater(),updateToWasmEncodedFactories_g(e,t,n)}function updateToWasmEncodedFactories_u(e,t){const n=new t.RelationshipType;n.deleteLater();for(const i of e.endPoints){const e=new t.EndPoint;e.deleteLater(),e.origin_entity_type=i.originEntityType,e.dest_entity_type=i.destinationEntityType,n.add_end_point(e)}return updateToWasmEncodedFactories_g(e,t,n)}function updateToWasmEncodedFactories_p(e,t){const n=new t.EntityType;return n.deleteLater(),updateToWasmEncodedFactories_h(e,n)}function updateToWasmEncodedFactories_y(e,t){const n=new t.RelationshipType;return n.deleteLater(),updateToWasmEncodedFactories_h(e,n)}function updateToWasmEncodedFactories_f(e,t){const n=new t.GraphProperty;return n.deleteLater(),n.name=e.name,n.alias=e.alias??"",n.field_type={value:WasmDataModelWrapperInterfaces/* EsriFieldTypes */.r5[e.fieldType]},n.geometry_type={value:e.geometryType?WasmDataModelWrapperInterfaces/* EsriGeometryTypes */.bV[e.geometryType]:WasmDataModelWrapperInterfaces/* EsriGeometryTypes */.bV.esriGeometryNull},n.has_m=e.hasM??!1,n.has_z=e.hasZ??!1,n.nullable=e.nullable??!1,n.editable=e.editable,n.required=e.required,n.default_visibility=e.defaultVisibility,n.system_maintained=e.systemMaintained??!1,n.role={value:WasmDataModelWrapperInterfaces/* EsriGraphPropertyRole */.ti[e.role]},n.default_value=w(e.defaultValue,t),n}function updateToWasmEncodedFactories_c(e,t){const n=new t.GraphProperty;return n.deleteLater(),e.hasOwnProperty("alias")&&(n.alias=e.alias),e.hasOwnProperty("editable")&&(n.editable=e.editable),e.hasOwnProperty("required")&&(n.required=e.required),e.hasOwnProperty("defaultVisibility")&&(n.default_visibility=e.defaultVisibility),e.hasOwnProperty("defaultValue")&&(n.default_value=w(e.defaultValue,t)),n}function updateToWasmEncodedFactories_m(e,t){const n=new t.SearchIndexProperties;n.deleteLater();for(const i of e.propertyNames)n.add_search_property_name(i);return n}function _(e,t){const n=new t.FieldIndex;n.deleteLater(),n.name=e.name,n.unique=e.unique,n.ascending=e.ascending,n.description=e.description??"";for(const i of e.fieldNames)n.add_field(i);return n}function updateToWasmEncodedFactories_g(e,t,n){n.name=e.name,n.alias=e.alias??"",n.role={value:WasmDataModelWrapperInterfaces/* NamedObjectTypes */.Eq[e.role]},n.strict=e.strict;for(const i of e.properties){const e=updateToWasmEncodedFactories_f(i,t);n.add_property(e)}return n}function updateToWasmEncodedFactories_h(e,t){return e.hasOwnProperty("alias")&&(t.alias=e.alias),t}function w(e,i){return null==e?null:"object"!=typeof e||e instanceof Date?e:e instanceof Geometry/* default */.A?u(e,i):null}

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/WasmClientDataInterfaces.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var e,WasmClientDataInterfaces_t,WasmClientDataInterfaces_i,WasmClientDataInterfaces_n;!function(e){e[e.ClientDataKeyTypeUNSPECIFIED=0]="ClientDataKeyTypeUNSPECIFIED",e[e.ClientDataKeyTypeString=1]="ClientDataKeyTypeString"}(e||(e={})),function(e){e[e.ClientDataTypeUNSPECIFIED=0]="ClientDataTypeUNSPECIFIED",e[e.ClientDataTypeString=1]="ClientDataTypeString"}(WasmClientDataInterfaces_t||(WasmClientDataInterfaces_t={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.ClientData=1]="ClientData",e[e.NotModified=2]="NotModified"}(WasmClientDataInterfaces_i||(WasmClientDataInterfaces_i={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.Error=1]="Error",e[e.ClientDataValue=2]="ClientDataValue"}(WasmClientDataInterfaces_n||(WasmClientDataInterfaces_n={}));

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmToClientDataFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function wasmToClientDataFactories_n(e,n,_,s=!1){const r=new Map;for(let o=0;o<e.get_results_count();o++){const g=e.get_result_at(o);if(g.get_fetch_result_case().value!==WasmClientDataInterfaces_n.ClientDataValue||0!==g.error().error_code){const e=g.get_key().key_string;_.has(e)&&n.delete(e);continue}const l=g.get_value(),i=g.get_key().key_string,c=_.get(i);let u;if(l.get_data_case().value===WasmClientDataInterfaces_i.NotModified&&c)u=c.value;else{if(l.get_data_case().value!==WasmClientDataInterfaces_i.ClientData)continue;{u=l.get_data().client_data_string;const e=g.get_value().get_v_tag().v_tag;s||n.set(i,{key:i,version:e,value:u})}}r.set(i,u)}return r}function wasmToClientDataFactories_(t){const a=t.get_keys(),n=new Array;for(let _=0;_<a.get_keys_count();_++){const t=a.get_key_at(_);t.get_client_data_key_type().value===e.ClientDataKeyTypeString&&n.push(t.key_string)}return n}

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphDataModelOperationResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphDataModelOperationResult_t=class extends Accessor/* default */.A{constructor(o){super(o),this.decoderError=null,this.resultsCount=0,this.results=[],this.updatedKnowledgeGraph=null}};(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphDataModelOperationResult_t.prototype,"decoderError",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphDataModelOperationResult_t.prototype,"resultsCount",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphDataModelOperationResult_t.prototype,"results",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphDataModelOperationResult_t.prototype,"updatedKnowledgeGraph",void 0),GraphDataModelOperationResult_t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphDataModelOperationResult")],GraphDataModelOperationResult_t);const GraphDataModelOperationResult_p=GraphDataModelOperationResult_t;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphAddFieldIndexResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphAddFieldIndexResult_e=class extends GraphDataModelOperationResult_p{constructor(r){super(r)}};GraphAddFieldIndexResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphAddFieldIndexResult")],GraphAddFieldIndexResult_e);const GraphAddFieldIndexResult_t=GraphAddFieldIndexResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphAddNamedTypesResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let r=class extends GraphDataModelOperationResult_p{constructor(t){super(t),this.entityAddResultsCount=0,this.relationshipAddResultsCount=0,this.entityAddResults=[],this.relationshipAddResults=[]}};(0,tslib_es6._)([(0,property/* property */.MZ)()],r.prototype,"entityAddResultsCount",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],r.prototype,"relationshipAddResultsCount",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],r.prototype,"entityAddResults",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],r.prototype,"relationshipAddResults",void 0),r=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphAddNamedTypesResult")],r);const GraphAddNamedTypesResult_p=r;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphAddPropertyResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphAddPropertyResult_e=class extends GraphDataModelOperationResult_p{constructor(r){super(r)}};GraphAddPropertyResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphAddPropertyResult")],GraphAddPropertyResult_e);const GraphAddPropertyResult_t=GraphAddPropertyResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphDeleteFieldIndexResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphDeleteFieldIndexResult_e=class extends GraphDataModelOperationResult_p{constructor(r){super(r)}};GraphDeleteFieldIndexResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphDeleteFieldIndexResult")],GraphDeleteFieldIndexResult_e);const GraphDeleteFieldIndexResult_t=GraphDeleteFieldIndexResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphDeleteNamedTypeResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphDeleteNamedTypeResult_e=class extends GraphDataModelOperationResult_p{constructor(r){super(r)}};GraphDeleteNamedTypeResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphDeleteNamedTypeResult")],GraphDeleteNamedTypeResult_e);const GraphDeleteNamedTypeResult_t=GraphDeleteNamedTypeResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphDeletePropertyResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphDeletePropertyResult_e=class extends GraphDataModelOperationResult_p{constructor(r){super(r)}};GraphDeletePropertyResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphDeletePropertyResult")],GraphDeletePropertyResult_e);const GraphDeletePropertyResult_t=GraphDeletePropertyResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphUpdateNamedTypesResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphUpdateNamedTypesResult_e=class extends GraphDataModelOperationResult_p{constructor(r){super(r)}};GraphUpdateNamedTypesResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphUpdateNamedTypesResult")],GraphUpdateNamedTypesResult_e);const GraphUpdateNamedTypesResult_t=GraphUpdateNamedTypesResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphUpdatePropertyResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphUpdatePropertyResult_e=class extends GraphDataModelOperationResult_p{constructor(r){super(r)}};GraphUpdatePropertyResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphUpdatePropertyResult")],GraphUpdatePropertyResult_e);const GraphUpdatePropertyResult_t=GraphUpdatePropertyResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphUpdateSearchIndexResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphUpdateSearchIndexResult_e=class extends GraphDataModelOperationResult_p{constructor(r){super(r)}};GraphUpdateSearchIndexResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphUpdateSearchIndexResult")],GraphUpdateSearchIndexResult_e);const GraphUpdateSearchIndexResult_t=GraphUpdateSearchIndexResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmToDataModelChangeResponseFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function wasmToDataModelChangeResponseFactories_c(r,e){const t=[];for(let s=0;s<e;s++){const e=r.get_result_at(s);t.push({name:e.get_name(),error:wasmUtils_o(e.get_error())})}return t}function wasmToDataModelChangeResponseFactories_p(r){const t=r.get_results_count(),s=r.get_entity_type_add_results_count(),o=r.get_relationship_type_add_results_count(),n=new GraphAddNamedTypesResult_p({resultsCount:t,results:wasmToDataModelChangeResponseFactories_c(r,t),decoderError:wasmUtils_o(r.error),entityAddResultsCount:s,relationshipAddResultsCount:o});for(let e=0;e<s;e++){const t=r.get_entity_type_add_results_at(e),s=t.get_name(),o=t.get_error();n.entityAddResults.push({name:s,error:wasmUtils_o(o)})}for(let e=0;e<o;e++){const t=r.get_relationship_type_add_results_at(e),s=t.get_name(),o=t.get_error();n.relationshipAddResults.push({name:s,error:wasmUtils_o(o)})}return n}function wasmToDataModelChangeResponseFactories_i(r){const e=r.get_results_count();return new GraphUpdateNamedTypesResult_t({resultsCount:e,results:wasmToDataModelChangeResponseFactories_c(r,e),decoderError:wasmUtils_o(r.error)})}function wasmToDataModelChangeResponseFactories_a(r){const e=r.get_results_count();return new GraphDeleteNamedTypeResult_t({resultsCount:e,results:wasmToDataModelChangeResponseFactories_c(r,e),decoderError:wasmUtils_o(r.error)})}function wasmToDataModelChangeResponseFactories_m(r){const e=r.get_results_count();return new GraphAddPropertyResult_t({resultsCount:e,results:wasmToDataModelChangeResponseFactories_c(r,e),decoderError:wasmUtils_o(r.error)})}function wasmToDataModelChangeResponseFactories_f(r){const e=r.get_results_count();return new GraphDeletePropertyResult_t({resultsCount:e,results:wasmToDataModelChangeResponseFactories_c(r,e),decoderError:wasmUtils_o(r.error)})}function wasmToDataModelChangeResponseFactories_g(r){const e=r.get_results_count();return new GraphUpdatePropertyResult_t({resultsCount:e,results:wasmToDataModelChangeResponseFactories_c(r,e),decoderError:wasmUtils_o(r.error)})}function wasmToDataModelChangeResponseFactories_h(r){const e=r.get_results_count();return new GraphUpdateSearchIndexResult_t({resultsCount:e,results:wasmToDataModelChangeResponseFactories_c(r,e),decoderError:wasmUtils_o(r.error)})}function wasmToDataModelChangeResponseFactories_y(e){const t=e.get_results_count();return new GraphAddFieldIndexResult_t({resultsCount:t,results:wasmToDataModelChangeResponseFactories_c(e,t),decoderError:wasmUtils_o(e.error)})}function wasmToDataModelChangeResponseFactories_R(r){const e=r.get_results_count();return new GraphDeleteFieldIndexResult_t({resultsCount:e,results:wasmToDataModelChangeResponseFactories_c(r,e),decoderError:wasmUtils_o(r.error)})}

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/SearchIndex.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let SearchIndex_t=class extends Accessor/* default */.A{constructor(r){super(r),this.name=null,this.supportedCategory="esriTypeUNSPECIFIED",this.analyzers=[],this.searchProperties=new Map}};(0,tslib_es6._)([(0,property/* property */.MZ)()],SearchIndex_t.prototype,"name",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SearchIndex_t.prototype,"supportedCategory",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SearchIndex_t.prototype,"analyzers",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SearchIndex_t.prototype,"searchProperties",void 0),SearchIndex_t=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.SearchIndex")],SearchIndex_t);

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmToDataModelFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let wasmToDataModelFactories_g=!1;function wasmToDataModelFactories_h(r){r.deleteLater(),wasmToDataModelFactories_g=!1;const n=new DataModel_a({timestamp:r.timestamp,spatialReference:new SpatialReference/* default */.A(r.spatial_reference),strict:r.strict,objectIdField:r.objectid_property,globalIdField:r.globalid_property,arcgisManaged:r.arcgis_managed,identifierInfo:{identifierMappingInfo:{identifierInfoType:WasmDataModelWrapperInterfaces/* EsriIdentifierInfoType */.vy[r.identifier_info?.identifier_mapping_info?.identifier_info_type?.value],databaseNativeIdentifier:r.identifier_info?.identifier_mapping_info?.database_native_identifier,uniformPropertyIdentifier:{identifierPropertyName:r.identifier_info?.identifier_mapping_info?.uniform_property_identifier?.identifier_property_name}},identifierGenerationInfo:{uuidMethodHint:WasmDataModelWrapperInterfaces/* EsriUuidMethodHintTypes */.wr[r.identifier_info?.identifier_generation_info?.uuid_method_hint?.value]}},searchIndexes:wasmToDataModelFactories_S(r.search_indexes),entityTypes:L(r.entity_types),relationshipTypes:F(r.relationship_types),metaEntityTypes:L(r.meta_entity_types),provenanceSourceTypeValues:G(r.provenance_source_type_values.value_behavior_array)});return wasmToDataModelFactories_g&&Logger/* default */.A.getLogger("esri.rest.knowledgeGraph.knowledgeGraphService").warnOnce("A big integer field was detected in the retrieved data model.  The `big-integer` field type is not fully supported in web clients.  Please see https://developers.arcgis.com/javascript/latest/api-reference/esri-layers-support-Field.html#type"),n}function v(e){return e.deleteLater(),new EntityType_e(z(e))}function b(e){return e.deleteLater(),new FieldIndex_s({name:e.name,unique:e.unique,ascending:e.ascending,description:e.description,fieldNames:x(e.fields)})}function wasmToDataModelFactories_j(e){return e.deleteLater(),new a(z(e))}function z(e){return{name:e.name,alias:e.alias,role:WasmDataModelWrapperInterfaces/* NamedObjectTypes */.Eq[e.role.value],strict:e.strict,properties:M(e.properties),fieldIndexes:P(e.field_indexes)}}function wasmToDataModelFactories_T(e){return e.deleteLater(),new i({alias:e.alias,name:e.name,fieldType:WasmDataModelWrapperInterfaces/* EsriFieldTypes */.r5[e.field_type.value]?WasmDataModelWrapperInterfaces/* EsriFieldTypes */.r5[e.field_type.value]:void 0,geometryType:WasmDataModelWrapperInterfaces/* EsriGeometryTypes */.bV[e.geometry_type.value]?WasmDataModelWrapperInterfaces/* EsriGeometryTypes */.bV[e.geometry_type.value]:null,hasM:e.has_m,hasZ:e.has_z,nullable:e.nullable,editable:e.editable,required:e.required,defaultVisibility:e.default_visibility,systemMaintained:e.system_maintained,role:WasmDataModelWrapperInterfaces/* EsriGraphPropertyRole */.ti[e.role.value],defaultValue:e.default_value})}function wasmToDataModelFactories_w(e){e.deleteLater();const t=z(e),i=[];for(let r=0;r<e.end_points.size();r++){const t=e.end_points.get(r);i.push({originEntityType:t.origin_entity_type,destinationEntityType:t.dest_entity_type})}return e.end_points.delete(),new RelationshipType_t(Object.assign({endPoints:i},t))}function I(e){return new t({behavior:e.behavior,value:e.value})}function L(e){const t=[];for(let i=0;i<e.size();i++)t.push(v(e.get(i)));return e.delete(),t}function x(e){const t=[];for(let i=0;i<e.size();i++)t.push(e.get(i));return e.delete(),t}function M(e){const t=[];for(let i=0;i<e.size();i++){const r=wasmToDataModelFactories_T(e.get(i));"esriFieldTypeBigInteger"===r.fieldType&&(wasmToDataModelFactories_g=!0),t.push(r)}return e.delete(),t}function P(e){const t=[];for(let i=0;i<e.size();i++)t.push(b(e.get(i)));return e.delete(),t}function F(e){const t=[];for(let i=0;i<e.size();i++)t.push(wasmToDataModelFactories_w(e.get(i)));return e.delete(),t}function G(e){const t=[];for(let i=0;i<e.size();i++){const r=e.get(i);r.deleteLater(),t.push(I(r))}return e.delete(),t}function wasmToDataModelFactories_S(e){const t=[];for(let i=0;i<e.size();i++){const r=new SearchIndex_t,n=e.get(i);r.name=n.name,r.supportedCategory=WasmDataModelWrapperInterfaces/* EsriNamedTypeCategory */.nP[n.supported_category.value];const a=n.analyzers.size();for(let e=0;e<a;e++)r.analyzers.push({name:n.analyzers.get(e).name});n.analyzers.delete();for(let e=0;e<n.search_properties.keys().size();e++){const t=n.search_properties.keys().get(e),i=n.search_properties.get(t),a=[];for(let e=0;e<i.property_names.size();e++)a.push(i.property_names.get(e));r.searchProperties.set(t,{propertyNames:a})}t.push(r)}return e.delete(),t}

// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/Entity.js
var Entity = __webpack_require__(81114);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphObject.js
var GraphObject = __webpack_require__(92450);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/ObjectValue.js
var ObjectValue = __webpack_require__(60097);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/Path.js
var Path = __webpack_require__(6149);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/rest/knowledgeGraph/Relationship.js
var Relationship = __webpack_require__(72943);
;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/KnowledgeWasmInterface.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
var E;!function(E){E[E.ESRI_GEOMETRY_NULL=0]="ESRI_GEOMETRY_NULL",E[E.ESRI_GEOMETRY_POINT=1]="ESRI_GEOMETRY_POINT",E[E.ESRI_GEOMETRY_MULTIPOINT=2]="ESRI_GEOMETRY_MULTIPOINT",E[E.ESRI_GEOMETRY_POLYLINE=3]="ESRI_GEOMETRY_POLYLINE",E[E.ESRI_GEOMETRY_POLYGON=4]="ESRI_GEOMETRY_POLYGON",E[E.ESRI_GEOMETRY_ENVELOPE=5]="ESRI_GEOMETRY_ENVELOPE",E[E.ESRI_GEOMETRY_ANY=6]="ESRI_GEOMETRY_ANY",E[E.ESRI_GEOMETRY_MULTI_PATCH=7]="ESRI_GEOMETRY_MULTI_PATCH"}(E||(E={}));

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmToGeometryFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function wasmToGeometryFactories_a(e,o){const s={spatialReference:o},r=wasmToGeometryFactories_c(e,s),n=e.lengths,a=e.coords,h=n[0];s.points=[];let l=0;for(let t=0;t<h;t++){const e=[];for(let t=0;t<r;t++)e[t]=a[l],l++;s.points.push(e)}return new Multipoint/* default */.A(s)}function wasmToGeometryFactories_h(e,t){const s={spatialReference:t};let r=2;wasmToGeometryFactories_c(e,s);const n=e.coords;return s.x=n[0],s.y=n[1],e.has_z&&(s.z=n[r],r++),e.has_m&&(s.m=n[r]),new Point/* default */.A(s)}function wasmToGeometryFactories_l(e,t){const{paths:o,hasM:s,hasZ:a}=wasmToGeometryFactories_p(e,E.ESRI_GEOMETRY_POLYLINE);return new Polyline/* default */.A({paths:o,hasM:s,hasZ:a,spatialReference:t})}function wasmToGeometryFactories_i(e,t){const{paths:o,hasM:r,hasZ:a}=wasmToGeometryFactories_p(e,E.ESRI_GEOMETRY_POLYGON);return new Polygon/* default */.A({rings:o,hasM:r,hasZ:a,spatialReference:t})}function wasmToGeometryFactories_p(t,o){const s={paths:[],hasM:!1,hasZ:!1},r=wasmToGeometryFactories_c(t,s),{coords:n,geometry_type:a,lengths:h}=t;if(a.value!==o)throw new Error/* default */.A("KnowledgeGraph:illegal-geometry-type","Illegal Geometry type for multipath conversion");let l=0;return h.forEach((e=>{const t=[];for(let o=0;o<e;o++){const e=[];for(let t=0;t<r;t++)e[t]=n[l],l++;t.push(e)}s.paths.push(t)})),s}function wasmToGeometryFactories_c(e,t){let o=2;return e.has_z?(t.hasZ=e.has_z,o++):t.hasZ=!1,e.has_m?(t.hasM=e.has_m,o++):t.hasM=!1,o}

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmToQueryResponseObjFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const wasmToQueryResponseObjFactories_m=()=>Logger/* default */.A.getLogger("esri.rest.knowledgeGraph.WasmToQueryResponseObjConstructors"),wasmToQueryResponseObjFactories_f={decodedWasmObjToQueryResponseObj:(e,t,r)=>{if(null==e)return null;if("object"!=typeof e)return e;if("getDate"in e)return e;if("geometry_type"in e)switch(e.geometry_type.value){case null:return null;case E.ESRI_GEOMETRY_POINT:return wasmToGeometryFactories_h(e,r);case E.ESRI_GEOMETRY_MULTIPOINT:return wasmToGeometryFactories_a(e,r);case E.ESRI_GEOMETRY_POLYLINE:return wasmToGeometryFactories_l(e,r);case E.ESRI_GEOMETRY_POLYGON:return wasmToGeometryFactories_i(e,r);case E.ESRI_GEOMETRY_ENVELOPE:case E.ESRI_GEOMETRY_MULTI_PATCH:return wasmToQueryResponseObjFactories_m().warnOnce("Envelope and Multipatch are not supported on knowledge entities, but one of those geometry types was detected. Result interpreted as null"),null;case E.ESRI_GEOMETRY_NULL:case E.ESRI_GEOMETRY_ANY:default:return wasmToQueryResponseObjFactories_m().warnOnce("Unknown or blank geometry type returned - Result interpreted as null"),null}else{if(!("object_value_type"in e))return wasmToQueryResponseObjFactories_m().warnOnce("A decoded value came back of a type that is not supported. Result interpreted as null"),null;switch(e.object_value_type.value){case WasmQueryWrapperInterfaces_e.OBJECT:return wasmToQueryResponseObjFactories_j(e,t,r);case WasmQueryWrapperInterfaces_e.ENTITY:return wasmToQueryResponseObjFactories_g(e,t,r);case WasmQueryWrapperInterfaces_e.RELATIONSHIP:return wasmToQueryResponseObjFactories_h(e,t,r);case WasmQueryWrapperInterfaces_e.PATH:return wasmToQueryResponseObjFactories_T(e,t,r);case WasmQueryWrapperInterfaces_e.ARRAY:return wasmToQueryResponseObjFactories_y(e,t,r);default:return wasmToQueryResponseObjFactories_m().warnOnce("Unknown graph object type detected!  Result interpreted as null"),null}}}};function wasmToQueryResponseObjFactories_y(e,t,r){const n=[],o=e.count();for(let s=0;s<o;s++){const o=e.get_value_at(s);n.push(wasmToQueryResponseObjFactories_E(o,t,r))}return n}function wasmToQueryResponseObjFactories_E(e,t,r){return wasmToQueryResponseObjFactories_f.decodedWasmObjToQueryResponseObj(e,t,r)}function wasmToQueryResponseObjFactories_g(e,t,n){const o=e.type_name,s=wasmToQueryResponseObjFactories_O(e,t,n),a=e.get_id();return new Entity/* default */.A(Object.assign({typeName:o,id:a},s))}function wasmToQueryResponseObjFactories_R(e,t,r){return new n(wasmToQueryResponseObjFactories_O(e,t,r))}function wasmToQueryResponseObjFactories_O(e,t,r){const n={},o=e.key_count();for(let s=0;s<o;s++)n[e.get_key_at(s)]=wasmToQueryResponseObjFactories_E(e.get_value_at(s),t,r);return{properties:n}}function wasmToQueryResponseObjFactories_j(e,t,r){return new ObjectValue/* default */.A(wasmToQueryResponseObjFactories_O(e,t,r))}function wasmToQueryResponseObjFactories_T(e,t,r){const n=e.entity_count(),o=e.relationship_count(),s=[];for(let a=0;a<n;a++)s.push(wasmToQueryResponseObjFactories_g(e.get_entity_at(a),t,r)),a<o&&s.push(wasmToQueryResponseObjFactories_h(e.get_relationship_at(a),t,r));return new Path/* default */.A({path:s})}function wasmToQueryResponseObjFactories_h(e,t,r){const n=e.type_name,o=wasmToQueryResponseObjFactories_O(e,t,r);return new Relationship/* default */.A(Object.assign({typeName:n,id:e.get_id(),originId:e.get_origin_entity_id(),destinationId:e.get_destination_entity_id()},o))}function wasmToQueryResponseObjFactories_w(e){const r=[];for(let t=0;t<e.get_header_keys().size();t++)r.push(e.get_header_keys().get(t));const n=new SpatialReference/* default */.A(e.get_out_sr());return new GraphQueryResultHeader_t({headerKeys:r,outSpatialReference:n,exceededTransferLimit:e.exceeded_transfer_limit()})}

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/GraphApplyEditsResult.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
let GraphApplyEditsResult_e=class extends Accessor/* default */.A{constructor(r){super(r),this.hasError=!1,this.error=null,this.editResults=[]}};(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphApplyEditsResult_e.prototype,"hasError",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphApplyEditsResult_e.prototype,"error",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphApplyEditsResult_e.prototype,"editResults",void 0),GraphApplyEditsResult_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.rest.knowledgeGraph.GraphApplyEditsResult")],GraphApplyEditsResult_e);const GraphApplyEditsResult_p=GraphApplyEditsResult_e;

;// ./node_modules/@arcgis/core/rest/knowledgeGraph/wasmInterface/wasmToUpdateResponseFactories.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function wasmToUpdateResponseFactories_r(r){const s=r.has_error(),_=new GraphApplyEditsResult_p({hasError:s,error:s?wasmUtils_o(r.error):null}),o=r.get_edit_results_count();for(let t=0;t<o;t++){const s=r.get_edit_results_at(t),o=r.get_edit_results_type_name_at(t),u=[],d=[],l=[],a=s.get_add_results_count(),i=s.get_update_results_count(),n=s.get_delete_results_count();for(let t=0;t<a;t++){const r=s.get_add_result_at(t);u.push({id:r.id,error:wasmUtils_o(r.error)})}for(let t=0;t<i;t++){const r=s.get_update_result_at(t);d.push({id:r.id,error:wasmUtils_o(r.error)})}for(let t=0;t<n;t++){const r=s.get_delete_result_at(t);l.push({id:r.id,error:wasmUtils_o(r.error)})}_.editResults.push({typeName:o,adds:u,updates:d,deletes:l})}return _}

;// ./node_modules/@arcgis/core/rest/knowledgeGraphService.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const knowledgeGraphService_z=new Map,B=()=>new Map(knowledgeGraphService_z.entries()),knowledgeGraphService_J={fetchKnowledgeGraph:async e=>{const t=new KnowledgeGraph_p({url:e}),r=[];return r.push(he(t)),r.push(we(t)),await Promise.all(r),t},refreshDataModel:async e=>{e.dataModel=await Ye(e)},refreshServiceDefinition:async e=>{const r=(await (0,request/* default */.A)(e.url,{query:{f:"json"}})).data;return r.capabilities=r?.capabilities?.split(","),r.supportedQueryFormats=r?.supportedQueryFormats?.split(","),e.serviceDefinition=new ServiceDefinition_p(r),e.serviceDefinition},executeFindPathsAsynchronous:async(e,t)=>{const a=e.inKnowledgeGraphUrl.split("/rest/services");if(a.length<2)throw new Error/* default */.A("knowledge-graph:invalid-tool-url","The URL for the KG Service was not correctly formatted.  It should contain /rest/services/");const n=a[0],o=(await Ge(`${n}/rest/info`,{query:{f:"json"}})).data.currentVersion,d=`/rest/services/${o&&o<12?"System":"Utilities"}/KnowledgeGraphServerToolsAsync/GPServer/ServerFilteredFindPaths`;return await ke(`${n}${d}`,{in_knowledge_graph_url:e.inKnowledgeGraphUrl,config_type:"STRING",config_string:e.config.toJSON(),result_type:"STRING"},{},t)},executeFindPaths:async(e,t)=>{const a=e.inKnowledgeGraphUrl.split("/rest/services");if(a.length<2)throw new Error/* default */.A("knowledge-graph:invalid-tool-url","The URL for the KG Service was not correctly formatted.  It should contain /rest/services/");const n=a[0],o=(await Ge(`${n}/rest/info`,{query:{f:"json"}})).data.currentVersion,d=`/rest/services/${o&&o<12?"System":"Utilities"}/KnowledgeGraphServerTools/GPServer/ServerFilteredFindPaths/execute`,i=await Ge(`${n}${d}`,{method:"post",query:{f:"pjson",in_knowledge_graph_url:e.inKnowledgeGraphUrl,config_type:"STRING",config_string:JSON.stringify(e.config),result_type:"STRING"},...t});if(i.data.results.length<1)throw new Error/* default */.A("knowledge-graph:no-results","No results were returned from the FindPaths tool - no results returned",i);let s;for(const r of i.data.results)if("out_results_string"===r.paramName){s=r.value;break}if(!s)throw new Error/* default */.A("knowledge-graph:no-results","No results were returned from the FindPaths tool - no results were returned on the expected paramater out_results_string",i);return s},fetchAsynchronousFindPathsResultData:async(e,t)=>(await e.fetchResultData("out_results_string",null,t)).value,executeQueryStreaming:async(e,t,a)=>{const n="include",o=`${e.url}/graph/query`;await be(e);const d=await Fe(o,a);if(!e.serviceDefinition?.supportsProvenance&&t.provenanceBehavior===n)throw new Error/* default */.A("knowledge-graph:provenance-not-supported","The Knowledge Graph Service definition indicated that provenance is not supported");d.data.body=await qe(t,e);const i=await _e(d.data.url,d.data);if(e.dataModel){const t=await Ve(i,e.dataModel);return new GraphQueryStreamingResult_a({resultRowsStream:t.readableStream,resultHeader:t.resultHeader})}throw new Error/* default */.A("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model")},executeApplyEdits:async(e,t,a)=>{if(e.serviceDefinition?.dataEditingNotSupported)throw new Error/* default */.A("knowledge-graph:data-editing-not-supported","The Knowledge Graph Service definition indicated that data editing is not supported");const n=`${e.url}/graph/applyEdits`;await be(e);const o=await Fe(n,a);o.data.body=await Te(t,e);return je(await _e(o.data.url,o.data))},executeAddNamedTypes:async(e,t,a)=>{if(!t.newEntityTypes?.length&&!t.newRelationshipTypes?.length)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to add types to the data model contained no values");const n=`${e.url}/dataModel/edit/namedTypes/add`;await be(e);const o=await Fe(n,a);o.data.body=await ve(t);const d=await _e(o.data.url,o.data),i=await Ue(d);return i.updatedKnowledgeGraph=await ue(e.url),i},executeDeleteNamedType:async(e,t,a)=>{if(!t)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to delete a named type from the data model contained no value");const n=`${e.url}/dataModel/edit/namedTypes/${t}/delete`;await be(e);const o=await Fe(n,a);o.data.body="";const d=await _e(o.data.url,o.data),i=await Ne(d);return i.updatedKnowledgeGraph=await ue(e.url),i},executeUpdateNamedType:async(e,t,a,n)=>{if(!t&&!Object.keys(a).length)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to update types in the data model contained missing or empty values");const o=`${e.url}/dataModel/edit/namedTypes/${t}/update`;await be(e);const d=await Fe(o,n);d.data.body=await Ae(a,t,e.dataModel);const i=await _e(d.data.url,d.data),s=await Ke(i);return s.updatedKnowledgeGraph=await ue(e.url),s},executeAddGraphProperties:async(e,t,a,n)=>{if(!t&&!a.length)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to add properties to the data model contained missing or empty values");const o=`${e.url}/dataModel/edit/namedTypes/${t}/fields/add`;await be(e);const d=await Fe(o,n);d.data.body=await Se(a);const i=await _e(d.data.url,d.data),s=await Qe(i);return s.updatedKnowledgeGraph=await ue(e.url),s},executeDeleteGraphProperty:async(e,t,a,n)=>{if(!t&&!a)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to delete property contained missing or empty values");const o=`${e.url}/dataModel/edit/namedTypes/${t}/fields/delete`;await be(e);const d=await Fe(o,n);d.data.body=await Pe(a);const i=await _e(d.data.url,d.data),s=await $e(i);return s.updatedKnowledgeGraph=await ue(e.url),s},executeUpdateGraphProperty:async(e,t,a,n,o)=>{if(!t&&!a&&!Object.keys(n).length)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to update properties in the data model contained missing or empty values");const d=`${e.url}/dataModel/edit/namedTypes/${t}/fields/update`;await be(e);const i=await Fe(d,o);i.data.body=await De(a,n);const s=await _e(i.data.url,i.data),p=await Le(s);return p.updatedKnowledgeGraph=await ue(e.url),p},executeAddGraphFieldIndex:async(e,t,a,n)=>{if(!t)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to update search index in the data model contained missing named type");if(!a?.length)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to update search index in the data model contained missing or empty field index values");const o=`${e.url}/dataModel/edit/namedTypes/${t}/indexes/add`;await be(e);const d=await Fe(o,n);d.data.body=await Re(a);const i=await _e(d.data.url,d.data),s=await Oe(i);return s.updatedKnowledgeGraph=await ue(e.url),s},executeDeleteGraphFieldIndex:async(e,t,a,n)=>{if(!t)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to update search index in the data model contained missing named type");if(!a?.length)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to update search index in the data model contained missing or empty field index values");const o=`${e.url}/dataModel/edit/namedTypes/${t}/indexes/delete`;await be(e);const d=await Fe(o,n);d.data.body=await Ee(a);const i=await _e(d.data.url,d.data),s=await We(i);return s.updatedKnowledgeGraph=await ue(e.url),s},executeUpdateSearchIndex:async(e,t,a,n)=>{if(!t)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to update search index in the data model contained missing named type");if(!Object.keys(a.addSearchProperties??{}).length&&!Object.keys(a.removeSearchProperties??{}).length)throw new Error/* default */.A("knowledge-graph:no-arguments","The operation to update search index in the data model contained missing or empty properties values");const o=`${e.url}/dataModel/searchIndex/update`;await be(e);const d=await Fe(o,n);d.data.body=await Ie(t,a);const i=await _e(d.data.url,d.data),s=await He(i);return s.updatedKnowledgeGraph=await ue(e.url),s},executeQuery:async(e,a,n)=>{const o=`${e.url}/graph/query`,d=await (0,request/* default */.A)(o,{responseType:"array-buffer",query:{f:"pbf",openCypherQuery:a.openCypherQuery,...n?.query},signal:n?.signal,timeout:n?.timeout}),i=d.getHeader?.("content-type"),p=d.data;if(i?.includes("application/x-protobuf")){const t=new((await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphQueryDecoder);if(t.deleteLater(),e.dataModel){const r=Je({wasmQueryDecoder:t,newArrayBufferToParse:p,dataModel:e.dataModel});return new GraphQueryResult_p({resultRows:r.resultRows,resultHeader:r.resultHeader})}throw new Error/* default */.A("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model")}throw new Error/* default */.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:i,data:d.data})},executeSearch:async(e,a,n)=>{const o=a.typeCategoryFilter,d=`${e.url}/graph/search`,i=await (0,request/* default */.A)(d,{responseType:"array-buffer",query:{f:"pbf",searchQuery:`"${a.searchQuery}"`,typeCategoryFilter:o,...n?.query},signal:n?.signal,timeout:n?.timeout}),p=i.getHeader?.("content-type"),c=i.data;if(p?.includes("application/x-protobuf")){const t=new((await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphQueryDecoder);if(t.deleteLater(),e.dataModel){const r=Je({wasmQueryDecoder:t,newArrayBufferToParse:c,dataModel:e.dataModel});return new GraphQueryResult_p({resultRows:r.resultRows,resultHeader:r.resultHeader})}throw new Error/* default */.A("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model")}throw new Error/* default */.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:p,data:i.data})},executeSearchStreaming:async(e,t,a)=>{const n=`${e.url}/graph/search`;await be(e);const o=await Fe(n,a);o.data.body=await Ce(t);const d=await _e(o.data.url,o.data);if(e.dataModel){const t=await Ve(d,e.dataModel);return new GraphQueryStreamingResult_a({resultRowsStream:t.readableStream,resultHeader:t.resultHeader})}throw new Error/* default */.A("knowledge-graph:undefined-data-model","The KnowledgeGraph supplied did not have a data model")},fetchClientDataAtKeys:async(e,t,a={ignoreCache:!1})=>{if(!t.length)return new Map;let n=knowledgeGraphService_z.get(e.url||"");n||(n=new Map,knowledgeGraphService_z.set(e.url||"",n));const o=new Map(n.entries()),d=`${e.url}/clientData/fetch`;t=Array.from(new Set(t));const i=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),s=clientDataToWasmEncodedFactories_t(t,n,i,a.ignoreCache),p=await Fe(d,a.requestOptions);p.data.body=s;const c=await _e(p.data.url,p.data),l=c.headers.get("content-type");if(l?.includes("application/x-protobuf")){const e=new i.ClientDataFetchResponseDecoder;e.deleteLater();const t=await c.arrayBuffer();return e.decode(new Uint8Array(t)),e.has_error()&&wasmUtils_e(e.error,"knowledge-graph:fetchClientDataAtKeys-decoding-error","An error occurred while decoding the client data keys response"),wasmToClientDataFactories_n(e,n,o,a.ignoreCache)}throw new Error/* default */.A("knowledge-graph:unexpected-server-response","server returned an unexpected response when fetching client data",{responseType:l,data:c})},fetchAllClientDataKeys:async(e,a)=>{const n=`${e.url}/clientData`,o=await (0,request/* default */.A)(n,{responseType:"array-buffer",query:{f:"pbf"},signal:a?.signal,timeout:a?.timeout}),d=o.getHeader?.("content-type"),i=o.data;if(d?.includes("application/x-protobuf")){const e=new((await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).ClientDataKeysResponseDecoder);return e.deleteLater(),e.decode(new Uint8Array(i)),e.has_error()&&wasmUtils_e(e.error,"knowledge-graph:fetchAllClientDataKeys-decoding-error","An error occurred while decoding the client data keys response"),wasmToClientDataFactories_(e)}throw new Error/* default */.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:d,data:o.data})},clearClientDataCache:()=>knowledgeGraphService_z.clear(),_fetchWrapper:async(e,t)=>fetch(e,t),_submitJobWrapper:async(e,t,r,a)=>submitJob_s(e,t,r,a),_esriRequestWrapper:async(e,r)=>(0,request/* default */.A)(e,r)};async function V(e,t,r){return knowledgeGraphService_J.executeApplyEdits(e,t,r)}async function Y(e,t,r){return knowledgeGraphService_J.executeAddNamedTypes(e,t,r)}async function X(e,t,r){return knowledgeGraphService_J.executeDeleteNamedType(e,t,r)}async function Z(e,t,r,a){return knowledgeGraphService_J.executeUpdateNamedType(e,t,r,a)}async function ee(e,t,r,a){return knowledgeGraphService_J.executeAddGraphProperties(e,t,r,a)}async function te(e,t,r,a){return knowledgeGraphService_J.executeDeleteGraphProperty(e,t,r,a)}async function re(e,t,r,a,n){return knowledgeGraphService_J.executeUpdateGraphProperty(e,t,r,a,n)}async function ae(e,t,r,a){return knowledgeGraphService_J.executeAddGraphFieldIndex(e,t,r,a)}async function ne(e,t,r,a){return knowledgeGraphService_J.executeDeleteGraphFieldIndex(e,t,r,a)}async function oe(e,t,r,a){return knowledgeGraphService_J.executeUpdateSearchIndex(e,t,r,a)}async function de(e,t,r){return knowledgeGraphService_J.executeQuery(e,t,r)}async function ie(e,t,r){return knowledgeGraphService_J.executeQueryStreaming(e,t,r)}async function se(e,t,r){return knowledgeGraphService_J.executeSearch(e,t,r)}async function pe(e,t,r){return knowledgeGraphService_J.executeSearchStreaming(e,t,r)}function ce(e,t){return knowledgeGraphService_J.fetchAllClientDataKeys(e,t)}function le(e,t,r){return knowledgeGraphService_J.fetchClientDataAtKeys(e,t,r)}async function ue(e){return knowledgeGraphService_J.fetchKnowledgeGraph(e)}async function he(e){return knowledgeGraphService_J.refreshDataModel(e)}async function we(e){return knowledgeGraphService_J.refreshServiceDefinition(e)}async function ge(e,t){return knowledgeGraphService_J.executeFindPathsAsynchronous(e,t)}async function ye(e,t){return knowledgeGraphService_J.executeFindPaths(e,t)}async function fe(e,t){return knowledgeGraphService_J.fetchAsynchronousFindPathsResultData(e,t)}function me(){return knowledgeGraphService_J.clearClientDataCache()}async function _e(e,t){return knowledgeGraphService_J._fetchWrapper(e,t)}async function ke(e,t,r,a){return knowledgeGraphService_J._submitJobWrapper(e,t,r,a)}async function Ge(e,t){return knowledgeGraphService_J._esriRequestWrapper(e,t)}async function be(t){const r=kernel.id?.findCredential(t.url);r||(t.dataModel?await Ye(t):await he(t))}function xe(e,t,r,a){null==t?r.set_param_key_value(e,""):"object"!=typeof t||t instanceof Date?r.set_param_key_value(e,t):t instanceof Geometry/* default */.A?r.set_param_key_value(e,u(t,a)):Array.isArray(t)?r.set_param_key_value(e,l(t,a)):r.set_param_key_value(e,queryToWasmEncodedFactories_s(t,a))}async function Te(e,t){if(t.dataModel||await he(t),!t.dataModel)throw new Error/* default */.A("knowledge-graph:data-model-undefined","Encoding could not proceed because a data model was not provided and it could not be determined from the service");const a=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),n=!!e.options?.cascadeDelete,o=new a.GraphApplyEditsEncoder(a.SpatialReferenceUtil.WGS84(),e.options?.inputQuantizationParameters?updateToWasmEncodedFactories_l(e.options?.inputQuantizationParameters):a.InputQuantizationUtil.WGS84_lossless());o.deleteLater(),o.cascade_delete=n;try{let t;e.entityAdds?.forEach((e=>{t=o.add_entity(updateToWasmEncodedFactories_s(e,a)),wasmUtils_e(t,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - an entity failed to be added to the encoder")})),e.relationshipAdds?.forEach((e=>{if(!e.originId||!e.destinationId)throw new Error/* default */.A("knowledge-graph:relationship-origin-destination-missing","When adding a new relationship, you must provide both an origin and destination id on the appropriate class property");t=o.add_relationship(updateToWasmEncodedFactories_s(e,a)),wasmUtils_e(t,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - a relationship failed to be added to the encoder")})),e.entityUpdates?.forEach((e=>{if(!e.id)throw new Error/* default */.A("knowledge-graph:entity-id-missing","When updating an entity or relationship, you must specify the id on the class level property");t=o.update_entity(updateToWasmEncodedFactories_s(e,a)),wasmUtils_e(t,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - an entity failed to be added to the encoder")})),e.relationshipUpdates?.forEach((e=>{if(!e.id)throw new Error/* default */.A("knowledge-graph:relationship-id-missing","When updating an entity or relationship, you must specify the id on the class level property");t=o.update_relationship(updateToWasmEncodedFactories_s(e,a)),wasmUtils_e(t,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits - a relationship failed to be added to the encoder")})),e.entityDeletes?.forEach((e=>{if(!e.typeName)throw new Error/* default */.A("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits - delete");const t=o.make_delete_helper(e.typeName,!0);t.deleteLater(),e.ids?.forEach((e=>{t.delete_by_id(e)}))})),e.relationshipDeletes?.forEach((e=>{if(!e.typeName)throw new Error/* default */.A("knowledge-graph:no-type-name","You must indicate the entity/relationship named object type to apply edits - delete");const t=o.make_delete_helper(e.typeName,!1);e.ids?.forEach((e=>{t.delete_by_id(e)}))})),o.encode()}catch(i){throw new Error/* default */.A("knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits failed",{error:i})}const d=o.get_encoding_result();return wasmUtils_e(d.error,"knowledge-graph:applyEdits-encoding-failed","Attempting to encode the applyEdits failed"),structuredClone(d.get_byte_buffer())}async function ve(e){const t=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),a=new t.GraphNamedObjectTypeAddsRequestEncoder;a.deleteLater(),e.newEntityTypes?.forEach((e=>{a.add_entity_type(updateToWasmEncodedFactories_d(e,t))})),e.newRelationshipTypes?.forEach((e=>{a.add_relationship_type(updateToWasmEncodedFactories_u(e,t))}));try{a.encode()}catch(o){throw new Error/* default */.A("knowledge-graph:addNamedTypes-encoding-failed","Attempting to encode the addNamedTypes failed",{error:o})}const n=a.get_encoding_result();return wasmUtils_e(n.error,"knowledge-graph:addNamedTypes-encoding-failed","Attempting to encode the addNamedTypes failed"),structuredClone(n.get_byte_buffer())}async function Ae(e,t,a){const n=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),o=new n.GraphNamedObjectTypeUpdateRequestEncoder;o.deleteLater();if(a.entityTypes.some((e=>e.name===t)))o.update_entity_type(updateToWasmEncodedFactories_p(e,n));else{if(!a.relationshipTypes.some((e=>e.name===t)))throw new Error/* default */.A("knowledge-graph:updateNamedType-encoding-failed","The named type you are trying to update does not exist in the data model");o.update_relationship_type(updateToWasmEncodedFactories_y(e,n))}o.update_alias=e.hasOwnProperty("alias");try{o.encode()}catch(i){throw new Error/* default */.A("knowledge-graph:updateNamedType-encoding-failed","Attempting to encode the updateNamedType failed",{error:i})}const d=o.get_encoding_result();return wasmUtils_e(d.error,"knowledge-graph:updateNamedType-encoding-failed","Attempting to encode the updateNamedType failed"),structuredClone(d.get_byte_buffer())}async function Se(e){const t=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),a=new t.GraphPropertyAddsRequestEncoder;a.deleteLater(),e.forEach((e=>{a.add_graph_property(updateToWasmEncodedFactories_f(e,t))}));try{a.encode()}catch(o){throw new Error/* default */.A("knowledge-graph:addGraphProperties-encoding-failed","Attempting to encode the addGraphProperties failed",{error:o})}const n=a.get_encoding_result();return wasmUtils_e(n.error,"knowledge-graph:addGraphProperties-encoding-failed","Attempting to encode the addGraphProperties failed"),structuredClone(n.get_byte_buffer())}async function Pe(e){const t=new((await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphPropertyDeleteRequestEncoder);t.deleteLater(),t.field_name=e;try{t.encode()}catch(n){throw new Error/* default */.A("knowledge-graph:deleteGraphProperty-encoding-failed","Attempting to encode the deleteGraphProperty failed",{error:n})}const a=t.get_encoding_result();return wasmUtils_e(a.error,"knowledge-graph:deleteGraphProperty-encoding-failed","Attempting to encode the deleteGraphProperty failed"),structuredClone(a.get_byte_buffer())}async function De(e,t){const a=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),n=new a.GraphPropertyUpdateRequestEncoder;n.deleteLater(),n.update_graph_property(updateToWasmEncodedFactories_c(t,a)),n.set_property_name(e),n.update_alias=t.hasOwnProperty("alias"),n.update_editable=t.hasOwnProperty("editable"),n.update_required=t.hasOwnProperty("required"),n.update_visible=t.hasOwnProperty("defaultVisibility"),n.update_default_value=t.hasOwnProperty("defaultValue");try{n.encode()}catch(d){throw new Error/* default */.A("knowledge-graph:updateGraphProperty-encoding-failed","Attempting to encode the updateGraphProperty failed",{error:d})}const o=n.get_encoding_result();return wasmUtils_e(o.error,"knowledge-graph:updateGraphProperty-encoding-failed","Attempting to encode the updateGraphProperty failed"),structuredClone(o.get_byte_buffer())}async function Re(e){const t=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),a=new t.GraphIndexAddsRequestEncoder;a.deleteLater(),e.forEach((e=>{a.add_field_index(_(e,t))}));try{a.encode()}catch(o){throw new Error/* default */.A("knowledge-graph:addGraphFieldIndex-encoding-failed","Attempting to encode the addGraphFieldIndex failed",{error:o})}const n=a.get_encoding_result();return wasmUtils_e(n.error,"knowledge-graph:addGraphFieldIndex-encoding-failed","Attempting to encode the addGraphFieldIndex failed"),structuredClone(n.get_byte_buffer())}async function Ee(e){const t=new((await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphIndexDeleteRequestEncoder);t.deleteLater(),e.forEach((e=>{t.add_index_name(e)}));try{t.encode()}catch(n){throw new Error/* default */.A("knowledge-graph:deleteGraphFieldIndex-encoding-failed","Attempting to encode the deleteGraphFieldIndex failed",{error:n})}const a=t.get_encoding_result();return wasmUtils_e(a.error,"knowledge-graph:deleteGraphFieldIndex-encoding-failed","Attempting to encode the deleteGraphFieldIndex failed"),structuredClone(a.get_byte_buffer())}async function Ie(e,t){const a=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),n=new a.GraphUpdateSearchIndexRequestEncoder;n.deleteLater(),t.hasOwnProperty("addSearchProperties")&&n.insert_add_search_property(e,updateToWasmEncodedFactories_m(t.addSearchProperties,a)),t.hasOwnProperty("removeSearchProperties")&&n.insert_delete_search_property(e,updateToWasmEncodedFactories_m(t.removeSearchProperties,a));try{n.encode()}catch(d){throw new Error/* default */.A("knowledge-graph:updateSearchIndex-encoding-failed","Attempting to encode the updateSearchIndex failed",{error:d})}const o=n.get_encoding_result();return wasmUtils_e(o.error,"knowledge-graph:updateSearchIndex-encoding-failed","Attempting to encode the updateSearchIndex failed"),structuredClone(o.get_byte_buffer())}async function qe(e,t){const a=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),n=new a.GraphQueryRequestEncoder;if(n.deleteLater(),e.outputSpatialReference?n.output_spatial_reference={wkid:e.outputSpatialReference.wkid,latestWkid:e.outputSpatialReference.latestWkid,vcsWkid:e.outputSpatialReference.vcsWkid,latestVcsWkid:e.outputSpatialReference.latestVcsWkid,wkt:e.outputSpatialReference.wkt??""}:n.output_spatial_reference=a.SpatialReferenceUtil.WGS84(),n.open_cypher_query=e.openCypherQuery,e.bindParameters)for(const[r,i]of Object.entries(e.bindParameters))xe(r,i,n,a);if(e.bindGeometryQuantizationParameters)y(e.bindGeometryQuantizationParameters,n);else{if(t.dataModel||await he(t),4326!==t.dataModel?.spatialReference?.wkid)throw new Error/* default */.A("knowledge-graph:SR-quantization-mismatch","If the DataModel indicates a coordinate system other than WGS84, inputQuantizationParameters must be provided to the query encoder");n.input_quantization_parameters=a.InputQuantizationUtil.WGS84_lossless()}e.outputQuantizationParameters&&m(e.outputQuantizationParameters,n,a),e.provenanceBehavior&&queryToWasmEncodedFactories_c(e.provenanceBehavior,n);try{n.encode()}catch(d){throw new Error/* default */.A("knowledge-graph:query-encoding-failed","Attempting to encode the query failed",{error:d})}const o=n.get_encoding_result();if(0!==o.error.error_code)throw new Error/* default */.A("knowledge-graph:query-encoding-failed","Attempting to encode the query failed",{errorCode:o.error.error_code,errorMessage:o.error.error_message});return structuredClone(o.get_byte_buffer())}async function Ce(e){const t=await (0,knowledgeWasmAccess/* getWasmInterface */.I)(),a=new t.GraphSearchRequestEncoder;if(a.deleteLater(),a.search_query=e.searchQuery,a.type_category_filter=t.esriNamedTypeCategory[e.typeCategoryFilter],!0===e.returnSearchContext&&(a.return_search_context=e.returnSearchContext),null!=e.start&&e.start>0&&(a.start_index=e.start),null!=e.num&&(a.max_num_results=e.num),null!=e.idsFilter&&Array.isArray(e.idsFilter)&&e.idsFilter.length>0)try{a.set_ids_filter(l(e.idsFilter,t))}catch(o){throw new Error/* default */.A("knowledge-graph:ids-format-error","Attempting to set ids filter failed.  This is usually caused by an incorrectly formatted UUID string",{error:o})}e.namedTypesFilter?.forEach((e=>{a.add_named_type_filter(e)}));try{a.encode()}catch(o){throw new Error/* default */.A("knowledge-graph:search-encoding-failed","Attempting to encode the search failed",{error:o})}const n=a.get_encoding_result();if(0!==n.error.error_code)throw new Error/* default */.A("knowledge-graph:search-encoding-failed","Attempting to get encoding result from the query failed",{errorCode:n.error.error_code,errorMessage:n.error.error_message});return structuredClone(n.get_byte_buffer())}async function Fe(e,r){return (0,request/* default */.A)(e,{responseType:"native-request-init",method:"post",query:{f:"pbf",...r?.query},body:"x",headers:{"Content-Type":"application/octet-stream"},signal:r?.signal,timeout:r?.timeout})}async function Me(e,t,a){const n=e.headers.get("content-type");if(n?.includes("application/x-protobuf")){const r=await e.arrayBuffer(),n=new t;try{return n.decode(new Uint8Array(r)),a(n)}finally{n.deleteLater()}}throw new Error/* default */.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:n,data:await e.text()})}async function je(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphApplyEditsDecoder,wasmToUpdateResponseFactories_r)}async function Ue(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphNamedObjectTypeAddsResponseDecoder,wasmToDataModelChangeResponseFactories_p)}async function Ne(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphNamedObjectTypeDeleteResponseDecoder,wasmToDataModelChangeResponseFactories_a)}async function Ke(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphNamedObjectTypeUpdateResponseDecoder,wasmToDataModelChangeResponseFactories_i)}async function Qe(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphPropertyAddsResponseDecoder,wasmToDataModelChangeResponseFactories_m)}async function $e(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphPropertyDeleteResponseDecoder,wasmToDataModelChangeResponseFactories_f)}async function Le(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphPropertyUpdateResponseDecoder,wasmToDataModelChangeResponseFactories_g)}async function Oe(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphIndexAddsResponseDecoder,wasmToDataModelChangeResponseFactories_y)}async function We(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphIndexDeleteResponseDecoder,wasmToDataModelChangeResponseFactories_R)}async function He(e){return Me(e,(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphUpdateSearchIndexResponseDecoder,wasmToDataModelChangeResponseFactories_h)}let ze=50;function Be(e){ze=e}function Je({wasmQueryDecoder:e,newArrayBufferToParse:t,dataModel:a,decodedHeader:n,limitMaxProcessingTime:o=!1}){t&&e.push_buffer(new Uint8Array(t));const i=[];let s,p,c=0;const l=Date.now();let u=!0;for(;e.next_row();){s&&p||(s=n??wasmToQueryResponseObjFactories_w(e),p=s.outSpatialReference??new SpatialReference/* default */.A({wkid:4326})),c||(c=e.get_header_keys().size());const t=new Array(c);for(let r=0;r<c;r++){const n=e.get_value(r);t[r]=wasmToQueryResponseObjFactories_E(n,a,p)}if(i.push(t),o&&Date.now()-l>ze){u=!1;break}}if(e.has_error())throw new Error/* default */.A("knowledge-graph:stream-decoding-error","One or more result rows were not successfully decoded - inner row decoding",{errorCode:e.error.error_code,errorMessage:e.error.error_message});return{resultHeader:s,resultRows:i,parsedAllResultsFromBuffer:u}}async function Ve(e,t){const o=e.headers.get("content-type");if(e.headers.get("content-length")&&Logger/* default */.A.getLogger("esri.rest.knowledgeGraph.knowledgeGraphService").warnOnce("Found `Content-Length` header when expecting a streaming HTTP response! Please investigate whether all intermediate HTTP proxies and/or load balancers are configured such that they don't forcefully buffer the entire response before returning it to the client. A valid HTTP streaming response should use Chunked Transfer Encoding and not have a Content Length defined."),o?.includes("application/x-protobuf")){const o=e.body?.getReader(),d=new((await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).GraphQueryDecoder);let i,s,c;d.deleteLater();const l=new Promise(((e,t)=>{s=e,c=t}));let u=!1,h=null;const g=new ReadableStream({pull:async function e(l){if(!o){const e=new Error/* default */.A("knowledge-graph:stream-decoding-error","Error reading from stream - reader is undefined");throw c(e),e}const{done:w,value:g}=h?{done:!1,value:null}:await o.read().catch((e=>{throw c(e),o.releaseLock(),e}));g&&(h=g);try{if(w){let e;if(d.has_error()?e=new Error/* default */.A("knowledge-graph:stream-decoding-error","One or more result rows were not successfully decoded - query stream done",{errorCode:d.error.error_code,errorMessage:d.error.error_message}):u||s(new GraphQueryResultHeader_t),o.releaseLock(),e)throw l.error(e),c(e),e;return void l.close()}const{resultHeader:a,resultRows:n,parsedAllResultsFromBuffer:y}=Je({wasmQueryDecoder:d,newArrayBufferToParse:g,dataModel:t,decodedHeader:i,limitMaxProcessingTime:!0});return y&&(h=null),!i&&a&&(i=a,s(a),u=!0),n.length>0?void l.enqueue(n):await e(l)}catch(y){throw Logger/* default */.A.getLogger("esri.rest.knowledgeGraph.knowledgeGraphService").error(y),c(y),o.releaseLock(),(0,promiseUtils/* isAbortError */.zf)(y)?y:new Error/* default */.A("knowledge-graph:unexpected-server-response","Error inside streaming data return parsing",{error:y})}}});return{readableStream:g,resultHeader:await l}}throw new Error/* default */.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:o,data:e.text()})}async function Ye(e){const a=`${e.url}/dataModel/queryDataModel`,n=await (0,request/* default */.A)(a,{responseType:"array-buffer",query:{f:"pbf"}}),o=n.getHeader?.("content-type"),d=n.data;if(o?.includes("application/x-protobuf")){const e=(await (0,knowledgeWasmAccess/* getWasmInterface */.I)()).decode_data_model_from_protocol_buffer(new Uint8Array(d));if(!e)throw new Error/* default */.A("knowledge-graph:data-model-decode-failure","The server responded to the data model query, but the response failed to be decoded.  This typically occurs when the Knowledge JS API (4.26 or later) is used with an unsupported backend (11.0 or earlier)");return wasmToDataModelFactories_h(e)}throw new Error/* default */.A("knowledge-graph:unexpected-server-response","server returned an unexpected response",{responseType:o,data:n.data})}


/***/ }),

/***/ 71434:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82392);
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1817);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22395);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81482);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6273);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(80861);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(67498);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(26325);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const p=new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_1__/* .JSONMap */ .J({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A{constructor(e){super(e),this.description=null,this.type=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:String,json:{write:!0}})],i.prototype,"description",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__/* .property */ .MZ)({type:String,json:{read:p.read,write:p.write}})],i.prototype,"type",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__/* .subclass */ .$)("esri.rest.support.GPMessage")],i);const a=i;


/***/ }),

/***/ 93122:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $n: () => (/* binding */ f),
/* harmony export */   $r: () => (/* binding */ A),
/* harmony export */   EM: () => (/* binding */ v),
/* harmony export */   Ec: () => (/* binding */ q),
/* harmony export */   JJ: () => (/* binding */ p),
/* harmony export */   Mm: () => (/* binding */ U),
/* harmony export */   OC: () => (/* binding */ w),
/* harmony export */   Sr: () => (/* binding */ l),
/* harmony export */   UO: () => (/* binding */ s),
/* harmony export */   Vj: () => (/* binding */ R),
/* harmony export */   WU: () => (/* binding */ b),
/* harmony export */   Y8: () => (/* binding */ t),
/* harmony export */   Z7: () => (/* binding */ a),
/* harmony export */   _6: () => (/* binding */ k),
/* harmony export */   aJ: () => (/* binding */ o),
/* harmony export */   dd: () => (/* binding */ y),
/* harmony export */   dn: () => (/* binding */ n),
/* harmony export */   et: () => (/* binding */ D),
/* harmony export */   fe: () => (/* binding */ g),
/* harmony export */   gD: () => (/* binding */ S),
/* harmony export */   hE: () => (/* binding */ m),
/* harmony export */   hY: () => (/* binding */ r),
/* harmony export */   iM: () => (/* binding */ N),
/* harmony export */   mt: () => (/* binding */ T),
/* harmony export */   ow: () => (/* binding */ h),
/* harmony export */   vS: () => (/* binding */ M)
/* harmony export */ });
/* unused harmony exports outputPolygonJsonMap, timeOfDayUsageJsonMap, travelDirectionJsonMap */
/* harmony import */ var _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1817);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const i={esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriUnknownUnits:"unknown",esriYards:"yards"},r=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()(i),t=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({...i,esriIntFeet:"international-feet",esriIntInches:"international-inches",esriIntMiles:"international-miles",esriIntNauticalMiles:"international-nautical-miles",esriIntYards:"international-yards"}),s=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriAcres:"international-acres",esriAcresUS:"us-acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-international-feet",esriSquareFeetUS:"square-us-feet",esriSquareInches:"square-international-inches",esriSquareInchesUS:"square-us-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-international-miles",esriSquareMilesUS:"square-us-miles",esriSquareMillimeters:"square-millimeters",esriSquareYards:"square-international-yards",esriSquareYardsUS:"square-us-yards",esriUnknownAreaUnits:"unknown"}),a=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),n=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards",esriNAUDays:"days",esriNAUHours:"hours",esriNAUMinutes:"minutes",esriNAUSeconds:"seconds",esriNAUKilometersPerHour:"kilometers-per-hour",esriNAUMilesPerHour:"miles-per-hour",esriNAUUnknown:"unknown"}),o=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTFeatureSets:"featuresets",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),l=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"}),c=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"}),m=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"}),u=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"}),d=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"}),h=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"}),p=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({0:"either-side-of-vehicle",1:"right-side-of-vehicle",2:"left-side-of-vehicle",3:"no-u-turn"},{useNumericKeys:!0}),v=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({0:"stop",1:"waypoint",2:"break"},{useNumericKeys:!0}),A=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({0:"ok",1:"not-located",2:"network-element-not-located",3:"element-not-traversable",4:"invalid-field-values",5:"not-reached",6:"time-window-violation",7:"not-located-on-closest"},{useNumericKeys:!0}),T=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({1:"right",2:"left"},{useNumericKeys:!0}),N=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({0:"restriction",1:"scaled-cost",2:"added-cost"},{useNumericKeys:!0}),g=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({0:"permit",1:"restrict"},{useNumericKeys:!0}),k=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({1:"header",50:"arrive",51:"depart",52:"straight",100:"on-ferry",101:"off-ferry",102:"central-fork",103:"roundabout",104:"u-turn",150:"door",151:"stairs",152:"elevator",153:"escalator",154:"pedestrian-ramp",200:"left-fork",201:"left-ramp",202:"clockwise-roundabout",203:"left-handed-u-turn",204:"bear-left",205:"left-turn",206:"sharp-left",207:"left-turn-and-immediate-left-turn",208:"left-turn-and-immediate-right-turn",300:"right-fork",301:"right-ramp",302:"counter-clockwise-roundabout",303:"right-handed-u-turn",304:"bear-right",305:"right-turn",306:"sharp-right",307:"right-turn-and-immediate-left-turn",308:"right-turn-and-immediate-right-turn",400:"up-elevator",401:"up-escalator",402:"up-stairs",500:"down-elevator",501:"down-escalator",502:"down-stairs",1e3:"general-event",1001:"landmark",1002:"time-zone-change",1003:"traffic-event",1004:"scaled-cost-barrier-event",1005:"boundary-crossing",1006:"restriction-violation",1007:"lane"},{useNumericKeys:!0}),S=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({0:"unknown",1:"segment",2:"maneuver-segment",3:"restriction-violation",4:"scaled-cost-barrier",5:"heavy-traffic",6:"slow-traffic",7:"moderate-traffic"},{useNumericKeys:!0}),f=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({"NA Campus":"campus","NA Desktop":"desktop","NA Navigation":"navigation"}),y=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({Kilometers:"kilometers",Miles:"miles",Meters:"meters"},{ignoreUnknown:!1}),U=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({Minutes:"minutes",TimeAt1KPH:"time-at-1-kph",TravelTime:"travel-time",TruckMinutes:"truck-minutes",TruckTravelTime:"truck-travel-time",WalkTime:"walk-time"},{ignoreUnknown:!1}),D=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({Kilometers:"kilometers",Miles:"miles",Meters:"meters",Minutes:"minutes",TimeAt1KPH:"time-at-1-kph",TravelTime:"travel-time",TruckMinutes:"truck-minutes",TruckTravelTime:"truck-travel-time",WalkTime:"walk-time"},{ignoreUnknown:!1}),w=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({"Any Hazmat Prohibited":"any-hazmat-prohibited","Avoid Carpool Roads":"avoid-carpool-roads","Avoid Express Lanes":"avoid-express-lanes","Avoid Ferries":"avoid-ferries","Avoid Gates":"avoid-gates","Avoid Limited Access Roads":"avoid-limited-access-roads","Avoid Private Roads":"avoid-private-roads","Avoid Roads Unsuitable for Pedestrians":"avoid-roads-unsuitable-for-pedestrians","Avoid Stairways":"avoid-stairways","Avoid Toll Roads":"avoid-toll-roads","Avoid Toll Roads for Trucks":"avoid-toll-roads-for-trucks","Avoid Truck Restricted Roads":"avoid-truck-restricted-roads","Avoid Unpaved Roads":"avoid-unpaved-roads","Axle Count Restriction":"axle-count-restriction","Driving a Bus":"driving-a-bus","Driving a Taxi":"driving-a-taxi","Driving a Truck":"driving-a-truck","Driving an Automobile":"driving-an-automobile","Driving an Emergency Vehicle":"driving-an-emergency-vehicle","Height Restriction":"height-restriction","Kingpin to Rear Axle Length Restriction":"kingpin-to-rear-axle-length-restriction","Length Restriction":"length-restriction","Preferred for Pedestrians":"preferred-for-pedestrians","Riding a Motorcycle":"riding-a-motorcycle","Roads Under Construction Prohibited":"roads-under-construction-prohibited","Semi or Tractor with One or More Trailers Prohibited":"semi-or-tractor-with-one-or-more-trailers-prohibited","Single Axle Vehicles Prohibited":"single-axle-vehicles-prohibited","Tandem Axle Vehicles Prohibited":"tandem-axle-vehicles-prohibited","Through Traffic Prohibited":"through-traffic-prohibited","Truck with Trailers Restriction":"truck-with-trailers-restriction","Use Preferred Hazmat Routes":"use-preferred-hazmat-routes","Use Preferred Truck Routes":"use-preferred-truck-routes",Walking:"walking","Weight Restriction":"weight-restriction"},{ignoreUnknown:!1}),M=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),R=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriGeometryPoint:"point",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"envelope",esriGeometryMultipoint:"multipoint"}),b=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriNAUTCost:"cost",esriNAUTDescriptor:"descriptor",esriNAUTRestriction:"restriction",esriNAUTHierarchy:"hierarchy"}),q=(0,_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_0__/* .strict */ .O)()({esriDSTAltName:"alt-name",esriDSTArrive:"arrive",esriDSTBranch:"branch",esriDSTCrossStreet:"cross-street",esriDSTCumulativeLength:"cumulative-length",esriDSTDepart:"depart",esriDSTEstimatedArrivalTime:"estimated-arrival-time",esriDSTExit:"exit",esriDSTGeneral:"general",esriDSTLength:"length",esriDSTServiceTime:"service-time",esriDSTStreetName:"street-name",esriDSTSummary:"summary",esriDSTTime:"time",esriDSTTimeWindow:"time-window",esriDSTToward:"toward",esriDSTViolationTime:"violation-time",esriDSTWaitTime:"wait-time"});


/***/ }),

/***/ 93611:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fe: () => (/* binding */ k),
/* harmony export */   Nk: () => (/* binding */ u)
/* harmony export */ });
/* unused harmony exports applyCIMSymbolRotation, getCIMSymbolRotation, getCIMSymbolSize, getCIMSymbolType, scaleCIMMarker, scaleCIMSymbol, scaleCIMSymbolTo */
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(93814);
/* harmony import */ var _cim_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(77234);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
function i(e){const a=t(e);if("CIMTextSymbol"===a?.type)return a.height??0;let n=0;if(a?.symbolLayers)for(const t of a.symbolLayers)r(t)&&null!=t.size&&t.size>n?n=t.size:o(t)&&null!=t.width&&t.width>n?n=t.width:s(t);return n}function c(e,o,r){if(!e)return;const a=t(e),n=i(e);if(0===n)return void l(a,o);f(a,o/n,!1,r)}function l(e,t){if(e)if("CIMTextSymbol"!==e.type){if(e.symbolLayers)for(const o of e.symbolLayers)switch(o.type){case"CIMPictureMarker":case"CIMVectorMarker":o.size=t;break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":o.width=t}}else e.height=t}function f(e,t,o,r){if(e)if("CIMTextSymbol"!==e.type){if(o&&e.effects)for(const o of e.effects)M(o,t);if(e.symbolLayers)for(const o of e.symbolLayers){switch(o.type){case"CIMPictureMarker":case"CIMVectorMarker":m(o,t,r);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!r?.preserveOutlineWidth&&o.width&&(o.width*=t);break;case"CIMPictureFill":o.height&&(o.height*=t),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t);break;case"CIMHatchFill":f(o.lineSymbol,t,!0,{...r,preserveOutlineWidth:!1}),o.offsetX&&(o.offsetX*=t),o.offsetY&&(o.offsetY*=t),o.separation&&(o.separation*=t)}if(o.effects)for(const e of o.effects)M(e,t)}}else null!=e.height&&(e.height*=t)}function m(e,t,o){if(e&&(e.markerPlacement&&C(e.markerPlacement,t),e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.anchorPoint&&"Absolute"===e.anchorPointUnits&&(e.anchorPoint={x:e.anchorPoint.x*t,y:e.anchorPoint.y*t}),e.size=null!=e.size?e.size*t:0,"CIMVectorMarker"===e.type&&e.markerGraphics))for(const r of e.markerGraphics)e.scaleSymbolsProportionally||f(r.symbol,t,!0,o)}function C(e,t){switch(a(e)&&e.offset&&(e.offset*=t),e.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case"CIMMarkerPlacementAlongLineVariableSize":if(e.maxRandomOffset&&(e.maxRandomOffset*=t),e.placementTemplate&&e.placementTemplate.length){const o=e.placementTemplate.map((e=>e*t));e.placementTemplate=o}break;case"CIMMarkerPlacementOnLine":e.startPointOffset&&(e.startPointOffset*=t);break;case"CIMMarkerPlacementAtExtremities":e.offsetAlongLine&&(e.offsetAlongLine*=t);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":e.beginPosition&&(e.beginPosition*=t),e.endPosition&&(e.endPosition*=t);break;case"CIMMarkerPlacementPolygonCenter":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMMarkerPlacementInsidePolygon":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t),e.stepX&&(e.stepX*=t),e.stepY&&(e.stepY*=t)}}function M(e,t){switch(e.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":e.width&&(e.width*=t);break;case"CIMGeometricEffectBuffer":e.size&&(e.size*=t);break;case"CIMGeometricEffectCut":e.beginCut&&(e.beginCut*=t),e.endCut&&(e.endCut*=t),e.middleCut&&(e.middleCut*=t);break;case"CIMGeometricEffectDashes":if(e.customEndingOffset&&(e.customEndingOffset*=t),e.offsetAlongLine&&(e.offsetAlongLine*=t),e.dashTemplate&&e.dashTemplate.length){const o=e.dashTemplate.map((e=>e*t));e.dashTemplate=o}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":e.length&&(e.length*=t);break;case"CIMGeometricEffectMove":e.offsetX&&(e.offsetX*=t),e.offsetY&&(e.offsetY*=t);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":e.offset&&(e.offset*=t);break;case"CIMGeometricEffectRegularPolygon":e.radius&&(e.radius*=t);break;case"CIMGeometricEffectTaperedPolygon":e.fromWidth&&(e.fromWidth*=t),e.length&&(e.length*=t),e.toWidth&&(e.toWidth*=t);break;case"CIMGeometricEffectWave":e.amplitude&&(e.amplitude*=t),e.period&&(e.period*=t)}}function u(o){const r=[];return y((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .toCIMSymbolJSON */ .lW)(o),r),r.length?new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .normalizeAlpha */ .e6)(r[0])):null}function y(e,t){if(!e)return;let n;n="CIMTextSymbol"===e.type?e.symbol:e;const s="CIMPolygonSymbol"===e.type;if(n?.symbolLayers)for(const i of n.symbolLayers)if(!(i.colorLocked||s&&((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMStroke */ .mA)(i)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarker */ .MM)(i)&&i.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarkerStrokePlacement */ .zr)(i.markerPlacement))))switch(i.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":i.tintColor&&p(t,i.tintColor);break;case"CIMVectorMarker":i.markerGraphics?.forEach((e=>{y(e.symbol,t)}));break;case"CIMSolidStroke":case"CIMSolidFill":p(t,i.color);break;case"CIMGradientFill":I(t,i);break;case"CIMHatchFill":y(i.lineSymbol,t)}}function p(e,t){for(const o of e)if(o.join(".")===t.join("."))return;e.push(t)}function I(e,t){const o=t.colorRamp?.type;switch(o){case"CIMMultipartColorRamp":t.colorRamp.colorRamps?.forEach((t=>{"CIMLinearContinuousColorRamp"===t.type&&b(e,t)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":b(e,t.colorRamp)}}function b(e,t){t&&(t.fromColor&&p(e,t.fromColor),t.toColor&&p(e,t.toColor))}function k(o,r,a){r instanceof _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A||(r=new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(r));const n=(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .toCIMSymbolJSON */ .lW)(o);n&&h(n,r,a)}function h(e,t,n){if(!e)return;let i;i="CIMTextSymbol"===e.type?e.symbol:e;const c="CIMPolygonSymbol"===i?.type;if(i?.symbolLayers)for(const l of i.symbolLayers){if(l.colorLocked)continue;if(c)if(n){const{layersToColor:e}=n;if(((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMStroke */ .mA)(l)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarker */ .MM)(l)&&l.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarkerStrokePlacement */ .zr)(l.markerPlacement))&&"fill"===e||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMFill */ .jn)(l)&&"outline"===e)continue}else if((0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMStroke */ .mA)(l)||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarker */ .MM)(l)&&l.markerPlacement&&(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_1__/* .isCIMMarkerStrokePlacement */ .zr)(l.markerPlacement))continue;const e=t.toArray();switch(l.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":l.tintColor=e;break;case"CIMVectorMarker":l.markerGraphics?.forEach((e=>{h(e.symbol,t,n)}));break;case"CIMSolidStroke":case"CIMSolidFill":l.color=e;break;case"CIMGradientFill":d(l,t);break;case"CIMHatchFill":h(l.lineSymbol,t,n)}}}function d(e,t){const o=e.colorRamp?.type;switch(o){case"CIMMultipartColorRamp":e.colorRamp.colorRamps?.forEach((e=>{"CIMLinearContinuousColorRamp"===e.type&&P(e,t)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":P(e.colorRamp,t)}}function P(e,t){if(e&&(e.fromColor&&(e.fromColor=t.toArray()),e.toColor)){const o=t.clone();o.a=0,e.toColor=o.toArray()}}function g(e,o=!1){const r=t(e);if("CIMTextSymbol"===r?.type||"CIMPointSymbol"===r?.type){const e=r.angle;return null!=e&&o?360-e:e??0}return 0}function S(e,o,a=!1){const n=t(e);if(a&&(o=360-o),"CIMTextSymbol"!==n?.type){if("CIMPointSymbol"===n?.type&&n.symbolLayers){const e=o-(n.angle||0);for(const t of n.symbolLayers)if(r(t)){let o=t.rotation||0;t.rotateClockwise?o-=e:o+=e,t.rotation=o}n.angle=o}}else n.angle=o}function L(e){const o=t(e);if(!o)return null;switch(o.type){case"CIMPointSymbol":return"CIMPointSymbol";case"CIMLineSymbol":return"CIMLineSymbol";case"CIMPolygonSymbol":return"CIMPolygonSymbol";case"CIMTextSymbol":return"CIMTextSymbol";case"CIMMeshSymbol":return"CIMMeshSymbol";default:return null}}


/***/ }),

/***/ 24461:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  dt: () => (/* binding */ L),
  GG: () => (/* binding */ N),
  UQ: () => (/* binding */ M),
  Sx: () => (/* binding */ utils_w)
});

// UNUSED EXPORTS: applyOpacityToColor, getCSSFilterFromEffectList, getIconHref, getSymbolOutlineColor, getSymbolOutlineSize, isVolumetricSymbol, symbolHasExtrudeSymbolLayer

// EXTERNAL MODULE: ./node_modules/@arcgis/core/Color.js
var Color = __webpack_require__(93814);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/asyncUtils.js
var asyncUtils = __webpack_require__(3132);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(6273);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/libs/gl-matrix-2/factories/vec3f64.js
var vec3f64 = __webpack_require__(19913);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/layers/effects/jsonUtils.js + 1 modules
var jsonUtils = __webpack_require__(39410);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/cimSymbolUtils.js
var cimSymbolUtils = __webpack_require__(93611);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/assets.js
var assets = __webpack_require__(44764);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/request.js
var request = __webpack_require__(38116);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/core/LRUCache.js + 1 modules
var LRUCache = __webpack_require__(49481);
;// ./node_modules/@arcgis/core/symbols/support/gfxUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const gfxUtils_i="picture-fill",a="simple-fill",l="simple-line",c="simple-marker",h="text",d="cim",m=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),p=new LRUCache/* LRUCache */.q(1e3);function u(e){const o=e.style;let s=null;if(e)switch(e.type){case c:"cross"!==o&&"x"!==o&&(s=e.color);break;case a:o&&"solid"!==o?"none"!==o&&(s={type:"pattern",x:0,y:0,src:t(`esri/symbols/patterns/${o}.png`),width:5,height:5}):s=e.color;break;case gfxUtils_i:s={type:"pattern",src:e.url,width:r(e.width)*e.xscale,height:r(e.height)*e.yscale,x:r(e.xoffset),y:r(e.yoffset)};break;case h:s=e.color;break;case d:s=n(e)}return s}function f(t,e){const s=t+"-"+e;return void 0!==p.get(s)?Promise.resolve(p.get(s)):o(t,{responseType:"image"}).then((t=>{const o=t.data,r=o.naturalWidth,n=o.naturalHeight,i=document.createElement("canvas");i.width=r,i.height=n;const a=i.getContext("2d");a.fillStyle=e,a.fillRect(0,0,r,n),a.globalCompositeOperation="destination-in",a.drawImage(o,0,0);const l=i.toDataURL();return p.put(s,l),l}))}function y(t){if(!t)return null;let e=null;switch(t.type){case a:case gfxUtils_i:case c:e=y(t.outline);break;case l:{const o=r(t.width);null!=t.style&&"none"!==t.style&&0!==o&&(e={color:t.color,style:w(t.style),width:o,cap:t.cap,join:"miter"===t.join?r(t.miterLimit):t.join},e.dashArray=g(e).join(",")||"none");break}default:e=null}return e}function g(t){if(!t?.style)return[];const{dashArray:e,style:o,width:s}=t;if("string"==typeof e&&"none"!==e)return e.split(",").map((t=>Number(t)));const r=s??0,n=m.has(o)?m.get(o).map((t=>t*r)):[];if("butt"!==t.cap)for(const[i,a]of n.entries())n[i]=i%2==1?a+r:Math.max(a-r,1);return n}const w=(()=>{const t={};return e=>{if(t[e])return t[e];const o=e.replaceAll("-","");return t[e]=o,o}})(),b=new Color/* default */.A([128,128,128]);

// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/Symbol3DMaterial.js + 1 modules
var Symbol3DMaterial = __webpack_require__(2933);
// EXTERNAL MODULE: ./node_modules/@arcgis/core/symbols/support/typeUtils.js + 1 modules
var typeUtils = __webpack_require__(59343);
;// ./node_modules/@arcgis/core/symbols/support/utils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.33/esri/copyright.txt for details.
*/
const utils_a=new Color/* default */.A("white");function utils_f(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.size}function utils_m(e){if(!e)return 0;if(s(e)){const t=utils_f(e);return null!=t?t:0}return r(i(e)?.width)}function utils_y(e){const t=e.symbolLayers?.at(-1);if(t&&"outline"in t)return t?.outline?.color}function utils_p(t){if(!t)return null;if(s(t))return utils_y(t);const r=i(t)?.color;return r?new e(r):null}function utils_h(e){if(null==e||!("symbolLayers"in e)||null==e.symbolLayers)return!1;switch(e.type){case"point-3d":return e.symbolLayers.some((e=>"object"===e.type));case"line-3d":return e.symbolLayers.some((e=>"path"===e.type));case"polygon-3d":return e.symbolLayers.some((e=>"object"===e.type||"extrude"===e.type));default:return!1}}function utils_b(e){return e.resource?.href??""}function utils_w(t,r){if(!t)return null;let o=null;return (0,typeUtils/* isSymbol3D */.wk)(t)?o=utils_d(t):(0,typeUtils/* isSymbol2D */.$y)(t)&&(o="cim"===t.type?(0,cimSymbolUtils/* getCIMSymbolColor */.Nk)(t):t.color?new Color/* default */.A(t.color):null),o?j(o,r):null}function utils_d(t){const r=t.symbolLayers;if(!r)return null;let o=null;return r.forEach((e=>{"object"===e.type&&e.resource?.href||(o="water"===e.type?e.color:e.material?e.material.color:null)})),o?new Color/* default */.A(o):null}function j(t,r){if(null==r||null==t)return t;const o=t.toRgba();return o[3]=o[3]*r,new Color/* default */.A(o)}function k(e,t,r){const o=e.symbolLayers;if(!o)return;const n=e=>j(t??e??(null!=r?utils_a:null),r);o.forEach((e=>{if("object"!==e.type||!e.resource?.href||t)if("water"===e.type)e.color=n(e.color);else{const t=null!=e.material?e.material.color:null,o=n(t);if(null==e.material?e.material=new Symbol3DMaterial/* Symbol3DMaterial */.N({color:o}):e.material.color=o,null!=r&&"outline"in e&&null!=e.outline?.color&&(e.outline.color=j(e.outline.color,r)),"marker"in e&&null!=e.marker){const t=n(e.marker.color);e.marker.color=t}}}))}function utils_g(e,t,r){(t=t??e.color)&&(e.color=j(t,r)),null!=r&&"outline"in e&&e.outline?.color&&(e.outline.color=j(e.outline.color,r))}function L(t,r,o){t&&(r||null!=o)&&(r&&(r=new Color/* default */.A(r)),(0,typeUtils/* isSymbol3D */.wk)(t)?k(t,r,o):(0,typeUtils/* isSymbol2D */.$y)(t)&&utils_g(t,r,o))}async function z(e,r){const o=e.symbolLayers;o&&await (0,asyncUtils/* forEach */.jJ)(o,(async e=>x(e,r)))}async function x(e,t){switch(e.type){case"extrude":v(e,t);break;case"icon":case"line":case"text":S(e,t);break;case"path":O(e,t);break;case"object":await E(e,t)}}function S(e,t){const r=U(t);null!=r&&(e.size=r)}function U(e){for(const t of e)if("number"==typeof t)return t;return null}function v(e,t){const r=t[2];"number"==typeof r&&(e.size=r)}async function E(e,t){const{resourceSize:r,symbolSize:o}=await C(e),n=R(t,r,o);null!=n&&(e.width=D(t[0],o[0],r[0],n),e.depth=D(t[1],o[1],r[1],n),e.height=D(t[2],o[2],r[2],n))}function O(e,t){const r=R(t,vec3f64/* ONES */.Un,[e.width,void 0,e.height]);null!=r&&(e.width=D(t[0],e.width,1,r),e.height=D(t[2],e.height,1,r))}function R(e,t,r){for(let o=0;o<3;o++){const n=e[o];switch(n){case"symbol-value":{const e=r[o];return null!=e?e/t[o]:1}case"proportional":break;default:if(n&&t[o])return n/t[o]}}return null}async function C(e){const{computeObjectLayerResourceSize:t}=await __webpack_require__.e(/* import() */ 8401).then(__webpack_require__.bind(__webpack_require__, 8401)),r=await t(e,10),{width:o,height:n,depth:l}=e,i=[o,l,n];let c=1;for(let s=0;s<3;s++){const e=i[s];if(null!=e){c=e/r[s];break}}for(let s=0;s<3;s++)null==i[s]&&(i[s]=r[s]*c);return{resourceSize:r,symbolSize:i}}function D(e,t,r,o){switch(e){case"proportional":return r*o;case"symbol-value":return null!=t?t:r;default:return e}}function J(e,t){const r=U(t);if(null!=r)switch(e.type){case"simple-marker":e.size=r;break;case"picture-marker":{const t=e.width/e.height;t>1?(e.width=r,e.height=r*t):(e.width=r*t,e.height=r);break}case"simple-line":e.width=r;break;case"text":e.font.size=r}}async function M(e,t){if(e&&t)return (0,typeUtils/* isSymbol3D */.wk)(e)?z(e,t):void((0,typeUtils/* isSymbol2D */.$y)(e)&&J(e,t))}function N(e,t,r){if(e&&null!=t)if((0,typeUtils/* isSymbol3D */.wk)(e)){const o=e.symbolLayers;o&&o.forEach((e=>{if("object"===e.type)switch(r){case"tilt":e.tilt=(e.tilt??0)+t;break;case"roll":e.roll=(e.roll??0)+t;break;default:e.heading=(e.heading??0)+t}"icon"===e.type&&(e.angle+=t)}))}else (0,typeUtils/* isSymbol2D */.$y)(e)&&("simple-marker"!==e.type&&"picture-marker"!==e.type&&"text"!==e.type||(e.angle+=t))}function q(e){if(!e)return null;const t=e.effects.filter((e=>"bloom"!==e.type)).map((e=>e.toJSON()));return n(t)}function A(e){return null!=e&&"polygon-3d"===e.type&&e.symbolLayers.some((e=>"extrude"===e.type))}


/***/ })

};
;