"use strict";
exports.id = 9851;
exports.ids = [9851];
exports.modules = {

/***/ 87176:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ BidiEngine_C)
});

;// ../node_modules/@arcgis/core/core/bidiEngineTables.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const A=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],B=["آ","أ","إ","ا"],T=["ﻵ","ﻷ","ﻹ","ﻻ"],U=["ﻶ","ﻸ","ﻺ","ﻼ"],_=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],L=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],E=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],N=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],R=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],S=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],O=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],o=["ء","ف"],bidiEngineTables_t=["غ","ي"],bidiEngineTables_c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],e=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],bidiEngineTables_n=0,p=1,bidiEngineTables_r=2,s=3,x=4,C=5,D=6,F=7,M=8,P=9,W=10,a=11,b=12,d=13,f=14,g=15,h=16,i=17,j=18,k=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],l=100,m=[l+0,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,l+1,l+2,l+3,p,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,l+4,x,x,x,bidiEngineTables_n,x,bidiEngineTables_n,x,bidiEngineTables_n,x,x,x,bidiEngineTables_n,bidiEngineTables_n,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,x,x,bidiEngineTables_n,bidiEngineTables_n,x,x,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,l+5,F,F,l+6,l+7],q=[[j,j,j,j,j,j,j,j,j,D,C,D,M,C,j,j,j,j,j,j,j,j,j,j,j,j,j,j,C,C,C,D,M,x,x,a,a,a,x,x,x,x,x,W,P,W,P,P,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,P,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,j,j,j,j,j,j,C,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,j,P,x,a,a,a,a,x,x,x,x,bidiEngineTables_n,x,x,j,x,x,a,a,bidiEngineTables_r,bidiEngineTables_r,x,bidiEngineTables_n,x,x,x,bidiEngineTables_r,bidiEngineTables_n,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n],[bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,bidiEngineTables_n,x,x,x,x,x,x,x,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,p,b,p,b,b,p,b,b,p,b,x,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,x,x,x,x,x,p,p,p,p,p,x,x,x,x,x,x,x,x,x,x,x],[s,s,s,s,x,x,x,x,F,a,a,F,P,F,x,x,b,b,b,b,b,b,b,b,b,b,b,F,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,s,s,s,s,s,s,s,s,s,s,a,s,s,F,F,F,b,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,s,x,b,b,b,b,b,b,F,F,b,b,x,b,b,b,b,F,F,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,F,F,F,F,F,F],[F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,F,F,b,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,b,b,b,b,b,b,b,b,b,b,b,F,x,x,x,x,x,x,x,x,x,x,x,x,x,x,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,b,b,b,b,b,b,b,b,b,p,p,x,x,x,x,p,x,x,x,x,x],[M,M,M,M,M,M,M,M,M,M,M,j,j,j,bidiEngineTables_n,p,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,M,C,d,f,g,h,i,P,a,a,a,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,P,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,M,j,j,j,j,j,x,x,x,x,x,j,j,j,j,j,j,bidiEngineTables_r,bidiEngineTables_n,x,x,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,W,W,x,x,x,bidiEngineTables_n,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,W,W,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x],[bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,p,b,p,p,p,p,p,p,p,p,p,p,W,p,p,p,p,p,p,p,p,p,p,p,p,p,x,p,p,p,p,p,x,p,x,p,p,x,p,p,x,p,p,p,p,p,p,p,p,p,p,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F],[b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,b,b,b,b,b,b,b,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,P,x,P,x,x,P,x,x,x,x,x,x,x,x,x,a,x,x,W,W,x,x,x,x,x,a,a,x,x,x,x,x,F,F,F,F,F,x,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,x,x,j],[x,x,x,a,a,a,x,x,x,x,x,W,P,W,P,P,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,bidiEngineTables_r,P,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,x,x,x,x,x,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,bidiEngineTables_n,bidiEngineTables_n,bidiEngineTables_n,x,x,x,a,a,x,x,x,a,a,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x]];

;// ../node_modules/@arcgis/core/core/BidiEngine.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class BidiEngine_C{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(t,r,e){if(this.sourceToTarget=[],this.targetToSource=[],!t)return"";if(ot(this.sourceToTarget,this.targetToSource,t.length),!this.checkParameters(r,e))return t;r=this.inputFormat,e=this.outputFormat;let n=t;const o=ct,i=rt(r.charAt(1)),u=rt(e.charAt(1)),s=("I"===r.charAt(0)?"L":r.charAt(0))+i,a=("I"===e.charAt(0)?"L":e.charAt(0))+u,f=r.charAt(2)+e.charAt(2);o.defInFormat=s,o.defOutFormat=a,o.defSwap=f;const c=V(t,s,a,f,o);let l=!1;return"R"===e.charAt(1)?l=!0:"C"!==e.charAt(1)&&"D"!==e.charAt(1)||(l="rtl"===this.checkContextual(c)),this.sourceToTarget=st,this.targetToSource=it(this.sourceToTarget),at=this.targetToSource,n=r.charAt(3)===e.charAt(3)?c:"S"===e.charAt(3)?I(l,c,!0):BidiEngine_k(c,l,!0),this.sourceToTarget=st,this.targetToSource=at,this.levels=ft,n}_inputFormatSetter(t){if(!At.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=t}_outputFormatSetter(t){if(!At.test(t))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=t}checkParameters(t,r){return t?this._inputFormatSetter(t):t=this.inputFormat,r?this._outputFormatSetter(r):r=this.outputFormat,t!==r}checkContextual(t){let r=BidiEngine_x(t);if("ltr"!==r&&"rtl"!==r){try{r=document.dir.toLowerCase()}catch(e){}"ltr"!==r&&"rtl"!==r&&(r="ltr")}return r}hasBidiChar(t){return gt.test(t)}}function V(t,r,e,n,o){const i=BidiEngine_E(t,{inFormat:r,outFormat:e,swap:n},o);if(i.inFormat===i.outFormat)return t;r=i.inFormat,e=i.outFormat,n=i.swap;const u=r.substring(0,1),s=r.substring(1,4),a=e.substring(0,1),f=e.substring(1,4);if(o.inFormat=r,o.outFormat=e,o.swap=n,"L"===u&&"VLTR"===e){if("LTR"===s)return o.dir=Tt,y(t,o);if("RTL"===s)return o.dir=Lt,y(t,o)}if("V"===u&&"V"===a)return o.dir="RTL"===s?Lt:Tt,BidiEngine_M(t,o);if("L"===u&&"VRTL"===e)return"LTR"===s?(o.dir=Tt,t=y(t,o)):(o.dir=Lt,t=y(t,o)),BidiEngine_M(t);if("VLTR"===r&&"LLTR"===e)return o.dir=Tt,y(t,o);if("V"===u&&"L"===a&&s!==f)return t=BidiEngine_M(t),"RTL"===s?V(t,"LLTR","VLTR",n,o):V(t,"LRTL","VRTL",n,o);if("VRTL"===r&&"LRTL"===e)return V(t,"LRTL","VRTL",n,o);if("L"===u&&"L"===a){const r=o.swap;return o.swap=r.substr(0,1)+"N","RTL"===s?(o.dir=Lt,t=y(t,o),o.swap="N"+r.substr(1,2),o.dir=Tt,t=y(t,o)):(o.dir=Tt,t=y(t,o),o.swap="N"+r.substr(1,2),t=V(t,"VLTR","LRTL",o.swap,o)),t}return t}function BidiEngine_E(t,r,e){if(void 0===r.inFormat&&(r.inFormat=e.defInFormat),void 0===r.outFormat&&(r.outFormat=e.defOutFormat),void 0===r.swap&&(r.swap=e.defSwap),r.inFormat===r.outFormat)return r;const n=r.inFormat.substring(0,1),o=r.outFormat.substring(0,1);let i,u=r.inFormat.substring(1,4),s=r.outFormat.substring(1,4);return"C"===u.charAt(0)&&(i=BidiEngine_x(t),u="ltr"===i||"rtl"===i?i.toUpperCase():"L"===r.inFormat.charAt(2)?"LTR":"RTL",r.inFormat=n+u),"C"===s.charAt(0)&&(i=BidiEngine_x(t),"rtl"===i?s="RTL":"ltr"===i?(i=BidiEngine_O(t),s=i.toUpperCase()):s="L"===r.outFormat.charAt(2)?"LTR":"RTL",r.outFormat=o+s),r}function I(t,r,e){if(0===r.length)return"";void 0===t&&(t=!0),void 0===e&&(e=!0);const n=(r=String(r)).split("");let o=0,i=1,u=n.length;t||(o=n.length-1,i=-1,u=1);const s=BidiEngine_j(n,o,i,u,e);let a="";for(let f=0;f<n.length;f++)e&&BidiEngine_W(s,s.length,f)>-1?(ut(at,f,!t,-1),st.splice(f,1)):a+=n[f];return a}function BidiEngine_j(t,r,e,n,o){let i=0;const u=[];let s=0;for(let a=r;a*e<n;a+=e)if(Z(t[a])||tt(t[a])){if("ل"===t[a]&&BidiEngine_q(t,a+e,e,n)){t[a]=nt(t[a+e],0===i?T:U),a+=e,et(t,a,e,n),o&&(u[s]=a,s++),i=0;continue}const r=t[a];1===i?t[a]=$(t,a+e,e,n)?Q(t[a]):X(t[a],E):!0===$(t,a+e,e,n)?t[a]=X(t[a],R):t[a]=X(t[a],L),tt(r)||(i=1),!0===K(r)&&(i=0)}else i=0;return u}function BidiEngine_x(t){const r=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(t);return r?r[0]<="z"?"ltr":"rtl":""}function BidiEngine_O(t){const r=t.split("");return r.reverse(),BidiEngine_x(r.join(""))}function BidiEngine_k(e,n,o){if(0===e.length)return"";void 0===o&&(o=!0),void 0===n&&(n=!0);let i="";const u=(e=String(e)).split("");for(let s=0;s<e.length;s++){let a=!1;if(u[s]>="ﹰ"&&u[s]<"\ufeff"){const f=e.charCodeAt(s);u[s]>="ﻵ"&&u[s]<="ﻼ"?(n?(s>0&&o&&" "===u[s-1]?i=i.substring(0,i.length-1)+"ل":(i+="ل",a=!0),i+=B[(f-65269)/2]):(i+=B[(f-65269)/2],i+="ل",s+1<e.length&&o&&" "===u[s+1]?s++:a=!0),a&&(ut(at,s,!0,1),st.splice(s,0,st[s]))):i+=O[f-65136]}else i+=u[s]}return i}function y(t,r){const e=t.split(""),n=[];return BidiEngine_D(e,n,r),BidiEngine_P(e,n,r),G(2,e,n,r),G(1,e,n,r),ft=n,e.join("")}function BidiEngine_D(t,r,i){const u=t.length,s=i.dir?e:bidiEngineTables_c;let a=0,f=-1;const c=[],l=[];i.hiLevel=i.dir,i.lastArabic=!1,i.hasUbatAl=!1,i.hasUbatB=!1,i.hasUbatS=!1;for(let e=0;e<u;e++)c[e]=z(t[e]);for(let e=0;e<u;e++){const n=a,u=H(t,c,l,e,i);l[e]=u,a=s[n][u];const h=240&a;a&=15;const T=s[a][lt];if(r[e]=T,h>0)if(16===h){for(let t=f;t<e;t++)r[t]=1;f=-1}else f=-1;if(s[a][ht])-1===f&&(f=e);else if(f>-1){for(let t=f;t<e;t++)r[t]=T;f=-1}c[e]===C&&(r[e]=0),i.hiLevel|=T}i.hasUbatS&&Y(c,r,u,i)}function Y(t,r,e,n){for(let o=0;o<e;o++)if(t[o]===D){r[o]=n.dir;for(let e=o-1;e>=0&&t[e]===M;e--)r[e]=n.dir}}function BidiEngine_P(t,r,e){if(0!==e.hiLevel&&e.swap.substr(0,1)!==e.swap.substr(1,2))for(let n=0;n<t.length;n++)1===r[n]&&(t[n]=J(t[n]))}function z(t){const r=t.charCodeAt(0),e=m[r>>8];return e<l?e:q[e-l][255&r]}function BidiEngine_M(t,r){const e=t.split("");if(r){const t=[];BidiEngine_D(e,t,r),ft=t}return e.reverse(),st.reverse(),e.join("")}function BidiEngine_W(t,r,e){for(let n=0;n<r;n++)if(t[n]===e)return n;return-1}function Z(t){for(let r=0;r<o.length;r++)if(t>=o[r]&&t<=bidiEngineTables_t[r])return!0;return!1}function $(t,r,e,n){for(;r*e<n&&tt(t[r]);)r+=e;return!!(r*e<n&&Z(t[r]))}function BidiEngine_q(r,e,n,o){for(;e*n<o&&tt(r[e]);)e+=n;let i=" ";if(!(e*n<o))return!1;i=r[e];for(let u=0;u<B.length;u++)if(B[u]===i)return!0;return!1}function G(t,r,e,n){if(n.hiLevel<t)return;if(1===t&&n.dir===Lt&&!n.hasUbatB)return r.reverse(),void st.reverse();const o=r.length;let i,u,s,a,f,c=0;for(;c<o;){if(e[c]>=t){for(i=c+1;i<o&&e[i]>=t;)i++;for(u=c,s=i-1;u<s;u++,s--)a=r[u],r[u]=r[s],r[s]=a,f=st[u],st[u]=st[s],st[s]=f;c=i}c++}}function H(t,r,e,n,i){const u=r[n];return{UBAT_L:()=>(i.lastArabic=!1,bidiEngineTables_n),UBAT_R:()=>(i.lastArabic=!1,p),UBAT_ON:()=>x,UBAT_AN:()=>s,UBAT_EN:()=>i.lastArabic?s:bidiEngineTables_r,UBAT_AL:()=>(i.lastArabic=!0,i.hasUbatAl=!0,p),UBAT_WS:()=>x,UBAT_CS:()=>{let t,o;return n<1||n+1>=r.length||(t=e[n-1])!==bidiEngineTables_r&&t!==s||(o=r[n+1])!==bidiEngineTables_r&&o!==s?x:(i.lastArabic&&(o=s),o===t?o:x)},UBAT_ES:()=>(n>0?e[n-1]:C)===bidiEngineTables_r&&n+1<r.length&&r[n+1]===bidiEngineTables_r?bidiEngineTables_r:x,UBAT_ET:()=>{if(n>0&&e[n-1]===bidiEngineTables_r)return bidiEngineTables_r;if(i.lastArabic)return x;let t=n+1;const o=r.length;for(;t<o&&r[t]===a;)t++;return t<o&&r[t]===bidiEngineTables_r?bidiEngineTables_r:x},UBAT_NSM:()=>{if("VLTR"===i.inFormat){const e=r.length;let o=n+1;for(;o<e&&r[o]===b;)o++;if(o<e){const e=t[n].charCodeAt(0),i=e>=1425&&e<=2303||64286===e,u=r[o];if(i&&(u===p||u===F))return p}}return n<1||r[n-1]===C?x:e[n-1]},UBAT_B:()=>(i.lastArabic=!0,i.hasUbatB=!0,i.dir),UBAT_S:()=>(i.hasUbatS=!0,x),UBAT_LRE:()=>(i.lastArabic=!1,x),UBAT_RLE:()=>(i.lastArabic=!1,x),UBAT_LRO:()=>(i.lastArabic=!1,x),UBAT_RLO:()=>(i.lastArabic=!1,x),UBAT_PDF:()=>(i.lastArabic=!1,x),UBAT_BN:()=>x}[k[u]]()}function J(t){let r,e=0,n=A.length-1;for(;e<=n;)if(r=Math.floor((e+n)/2),t<A[r][0])n=r-1;else{if(!(t>A[r][0]))return A[r][1];e=r+1}return t}function K(t){for(let r=0;r<S.length;r++)if(S[r]===t)return!0;return!1}function Q(t){for(let r=0;r<_.length;r++)if(t===_[r])return N[r];return t}function X(t,r){for(let e=0;e<_.length;e++)if(t===_[e])return r[e];return t}function tt(t){return t>="ً"&&t<="ٕ"}function rt(t){return"L"===t?"LTR":"R"===t?"RTL":"C"===t?"CLR":"D"===t?"CRL":""}function et(t,r,e,n){for(;r*e<n&&tt(t[r]);)r+=e;return r*e<n&&(t[r]=" ",!0)}function nt(r,e){for(let n=0;n<B.length;n++)if(r===B[n])return e[n];return r}function ot(t,r,e){st=[],ft=[];for(let n=0;n<e;n++)t[n]=n,r[n]=n,st[n]=n}function it(t){const r=new Array(t.length);for(let e=0;e<t.length;e++)r[t[e]]=e;return r}function ut(t,r,e,n){for(let o=0;o<t.length;o++)(t[o]>r||!e&&t[o]===r)&&(t[o]+=n)}let st=[],at=[],ft=[];const ct={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},lt=5,ht=6,Tt=0,Lt=1,At=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,gt=/[\u0591-\u06ff\ufb1d-\ufefc]/;


/***/ }),

/***/ 21870:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   y: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _BidiEngine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87176);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=new _BidiEngine_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A;function i(r){if(null==r)return["",!1];if(!n.hasBidiChar(r))return[r,!1];let i;return i="rtl"===n.checkContextual(r)?"IDNNN":"ICNNN",[n.bidiTransform(r,i,"VLYSN"),!0]}


/***/ }),

/***/ 14816:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   z: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(19251);
/* harmony import */ var _geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(18159);
/* harmony import */ var _support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1171);
/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(88443);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a{static fromOptimized(t,e,s=!1,i=!1){return(new p).initialize(t,e,s,i,1)}static fromJSON(t,e=!1,s=!1){const[i,h]=u(t);return(new d).initialize(i,h,e,s,1)}static fromOptimizedCIM(t,e,s=!1,i=!1){return(new m).initialize(t,e,s,i,1)}static fromJSONCIM(t,e=!1,s=!1){const[i,h]=u(t);return(new y).initialize(i,h,e,s,1)}static fromFeatureSetReader(t){const e=t.readGeometryForDisplay(),s=t.geometryType;return e&&s?this.fromOptimized(e,s):null}static fromFeatureSetReaderCIM(t){const e=t.readGeometryForDisplay(),s=t.geometryType;return e&&s?this.fromOptimizedCIM(e,s):null}static createEmptyOptimized(t,e=!1,s=!1){return(new p).initialize(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,t,e,s,1)}static createEmptyJSON(t,e=!1,s=!1){return(new d).initialize([],t,e,s,1)}static createEmptyOptimizedCIM(t,e=!1,s=!1){return(new m).initialize(new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,t,e,s,1)}static createEmptyJSONCIM(t,e=!1,s=!1){return(new y).initialize([],t,e,s,1)}asJSON(){const t=(0,_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .collectMultipath */ .x)(this);return"esriGeometryEnvelope"===this.geometryType?{xmin:t[0][0][0],ymin:t[0][0][1],xmax:t[0][2][0],ymax:t[0][2][1]}:"esriGeometryMultipoint"===this.geometryType?{points:t.flat()}:"esriGeometryPoint"===this.geometryType?{x:t[0][0][0],y:t[0][0][1]}:"esriGeometryPolygon"===this.geometryType?{rings:t}:{paths:t}}getCurrentRingArea(){if(!this||this.pathSize<3)return 0;let t,e,s=0;if(this.seekPathStart(),!this.nextPoint())return 0;t=this.x,e=this.y;const i=t,h=e;for(;this.nextPoint();)s+=(t-this.x)*(e+this.y),t=this.x,e=this.y;return s+=(t-i)*(e+h),-.5*s}invertY(){this.yFactor*=-1}}class p extends a{constructor(){super(...arguments),this._end=-1}initialize(t,e,s,i,h){return this.hasZ=s,this.hasM=i,this.geometryType=e,this._stride=2+Number(s)+Number(i),this._geometry=t,this._pathIndex=-1,this._pathOffset=0,this._pointOffset=-this._stride,this._end=-1,this.yFactor=h,this}reset(){this.initialize(this._geometry,this.geometryType,this.hasZ,this.hasM,this.yFactor)}seekPath(t){if(t>=0&&t<this.totalSize){if(this._pathIndex<t)for(;this._pathIndex<t&&this.nextPath(););else if(this._pathIndex>t)for(;this._pathIndex>t&&this.prevPath(););return!0}return!1}seekPathStart(){this._pointOffset=this._pathOffset-this._stride}seekPathEnd(){this._pointOffset=this._end}seekInPath(t){const e=this._pathOffset+t*this._stride;return e>=0&&e<this._end&&(this._pointOffset=e,!0)}nextPoint(){return(this._pointOffset+=this._stride)<this._end}prevPoint(){return(this._pointOffset-=this._stride)>=this._pathOffset}nextPath(){if(this._pathIndex>=0){const t=this._geometry.isPoint?1:this._geometry.lengths[this._pathIndex];this._pathOffset+=this._stride*t}this._pointOffset=this._pathOffset-this._stride;const t=this._geometry.isPoint?1:this._geometry.lengths[this._pathIndex+1];return this._end=this._pointOffset+this._stride+this._stride*t,++this._pathIndex<this.totalSize}prevPath(){this._end=this._pathOffset;const t=this._geometry.isPoint?1:this._geometry.lengths[this._pathIndex-1];return this._pathOffset-=this._stride*t,this._pointOffset=this._pathOffset-this._stride,--this._pathIndex>=0}pathLength(){const t=this._end,e=this._stride,s=this._geometry.coords;let i=0;for(let h=this._pathOffset+e;h<t;h+=e){const t=s[h-e],r=s[h-e+1],n=s[h]-t,o=s[h+1]-r;i+=Math.sqrt(n*n+o*o)}return i}startPath(){this._geometry.lengths.push(0)}pushPath(t){this.startPath(),this.pushPoints(t)}pushPoint(t){for(let e=0;e<this._stride;++e)this._geometry.coords.push(t[e]);this._geometry.lengths[this.totalSize-1]++}pushXY(t,e){this._geometry.coords.push(t,e),this._geometry.lengths[this.totalSize-1]++}pushPoints(t){for(const e of t)for(let t=0;t<this._stride;++t)this._geometry.coords.push(e[t]);this._geometry.lengths[this.totalSize-1]+=t.length}pushCursor(t){const e=t.asOptimized();this._geometry.coords.push(...e.coords),this._geometry.lengths.push(...e.lengths)}asOptimized(){const t=this._geometry.clone();if(1!==this.yFactor)for(let e=1;e<t.coords.length;e+=this._stride)t.coords[e]*=this.yFactor;return"esriGeometryPoint"===this.geometryType&&(t.lengths.length=0),t}isClosed(){const t=this._geometry.coords,e=this._pathOffset,s=this._end-this._stride;for(let i=0;i<this._stride;i++)if(t[e+i]!==t[s+i])return!1;return!0}clone(){return(new p).initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._geometry.coords.length/this._stride}get pathSize(){const{lengths:t}=this._geometry;return this._pathIndex<0||this._pathIndex>t.length-1?0:t[this._pathIndex]}get totalSize(){return this._geometry.lengths.length}get x(){return this._geometry.coords[this._pointOffset]}set x(t){this._geometry.coords[this._pointOffset]=t}get y(){return this.yFactor*this._geometry.coords[this._pointOffset+1]}set y(t){this._geometry.coords[this._pointOffset+1]=this.yFactor*t}get z(){return this._geometry.coords[this._pointOffset+2]}set z(t){this._geometry.coords[this._pointOffset+2]=t}get m(){const t=this.hasZ?3:2;return this._geometry.coords[this._pointOffset+t]}set m(t){this._geometry.coords[this._pointOffset+3]=t}get pathIndex(){return this._pathIndex}get _coordIndex(){return this._pointOffset/this._stride}}function _(t){const e=[t.x,t.y];return t.z&&e.push(t.z),t.m&&e.push(t.m),e}function u(t){return (0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isPolygon */ .Bi)(t)?[t.rings,"esriGeometryPolygon"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isPolyline */ .Rg)(t)?[t.paths,"esriGeometryPolyline"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isMultipoint */ .U9)(t)?[[t.points],"esriGeometryMultipoint"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isExtent */ .ZC)(t)?[[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]],"esriGeometryEnvelope"]:(0,_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isPoint */ .fT)(t)?[[[_(t)]],"esriGeometryPoint"]:[[],"esriGeometryPolyline"]}class d extends a{initialize(t,e,s,i,h){return this._paths=t,this.geometryType=e,this.hasZ=s,this.hasM=i,this._pathIndex=this._pointIndex=-1,this.yFactor=h,this._mIndex=this.hasZ?3:2,this}reset(){this._pathIndex=this._pointIndex=-1}seekPath(t){return t>=0&&t<this.totalSize&&(this._pathIndex=t,this._pointIndex=-1,this._currentPath=this._paths[t],!0)}seekPathStart(){this._pointIndex=-1}seekPathEnd(){this._pointIndex=this._currentPath.length}seekInPath(t){return t>=0&&t<this._currentPath.length&&(this._pointIndex=t,this._currentPoint=this._currentPath[this._pointIndex],!0)}nextPoint(){return this._currentPoint=this._currentPath[++this._pointIndex],this._pointIndex<this._currentPath.length}prevPoint(){return this._currentPoint=this._currentPath[--this._pointIndex],this._pointIndex>=0}nextPath(){return this._pointIndex=-1,this._currentPath=this._paths[++this._pathIndex],this._pathIndex<this.totalSize}prevPath(){return this._pointIndex=-1,this._currentPath=this._paths[--this._pathIndex],this._pathIndex>=0}pathLength(){const t=this._currentPath.length,e=this._currentPath;let s=0;for(let i=1;i<t;i++){const t=e[i-1],h=e[i],r=t[0],n=t[1],o=h[0]-r,a=h[1]-n;s+=Math.sqrt(o*o+a*a)}return s}startPath(){this._paths.push([])}pushPath(t){this._paths.push(t)}pushPoint(t){this._paths[this.totalSize-1].push(t)}pushXY(t,e){this._paths[this.totalSize-1].push([t,e])}pushPoints(t){this._paths[this.totalSize-1].push(...t)}pushCursor(t){const s=(0,_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .collectMultipath */ .x)(t);for(const e of s)this.pushPath(e)}asOptimized(){const t=new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A;if("esriGeometryPoint"===this.geometryType)t.coords.push(...this._paths[0][0]),t.lengths.length=0;else for(const e of this._paths){for(const s of e)t.coords.push(s[0]),t.coords.push(s[1]*this.yFactor),this.hasZ&&t.coords.push(s[2]),this.hasM&&t.coords.push(s[this._mIndex]);t.lengths.push(e.length)}return t}isClosed(){const t=this._currentPath[0],e=this._currentPath[this._currentPath.length-1];for(let s=0;s<t.length;s++)if(t[s]!==e[s])return!1;return!0}clone(){return(new d).initialize((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__/* .clone */ .o8)(this._paths),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._paths.map((t=>t.length)).reduce(((t,e)=>t+e))}get pathSize(){return this._pathIndex<0||this._pathIndex>this.totalSize-1?-1:this._paths[this._pathIndex].length}get totalSize(){return this._paths.length}get x(){return this._currentPoint[0]}set x(t){this._currentPoint[0]=t}get y(){return this.yFactor*this._currentPoint[1]}set y(t){this._currentPoint[1]=this.yFactor*t}get z(){return this._currentPoint[2]}set z(t){this._currentPoint[2]=t}get m(){return this._currentPoint[this._mIndex]}set m(t){this._currentPoint[this._mIndex]=t}get pathIndex(){return this._pathIndex}}const c=4,l=1;class m extends p{initialize(t,e,s,i,h){return super.initialize(t,e,s,i,h),this._controlPoints||(this._controlPoints=this._controlPoints=new Array(this.totalSize).fill(void 0).map((t=>new Set))),this}startPath(){super.startPath(),this._controlPoints.push(new Set)}clone(){const t=(new m).initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor);return t._controlPoints=this._controlPoints,t}setControlPoint(){this._controlPoints[this.pathIndex].add(this._coordIndex)}getControlPoint(){return this._controlPoints[this.pathIndex].has(this._coordIndex)}setControlPointAt(t){this._controlPoints[this.pathIndex].add(t)}getControlPointAt(t){return this._controlPoints[this.pathIndex].has(t)}}class y extends d{initialize(t,e,s,i,h){return super.initialize(t,e,s,i,h)}clone(){return(new y).initialize((0,_core_lang_js__WEBPACK_IMPORTED_MODULE_0__/* .clone */ .o8)(this._paths),this.geometryType,this.hasZ,this.hasM,1)}setControlPoint(){this._paths[this.pathIndex][this._pointIndex][c]=l}getControlPoint(){return this._paths[this.pathIndex][this._pointIndex][c]===l}setControlPointAt(t){this._paths[this.pathIndex][t][c]=l}getControlPointAt(t){return this._paths[this.pathIndex][t][c]===l}}


/***/ }),

/***/ 73138:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ l)
/* harmony export */ });
/* unused harmony export getPolylabelPoint */
/* harmony import */ var _aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80510);
/* harmony import */ var _boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36358);
/* harmony import */ var _centroid_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23806);
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65319);
/* harmony import */ var _intersectsBase_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(43525);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const N=100*222045e-21;function l(t){if(0===t.totalSize)return null;const a=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getCursorBoundsXY */ .z8)(t);if(!a)return null;const o=4*(Math.abs(a[0])+Math.abs(a[2])+Math.abs(a[1])+Math.abs(a[3])+1)*N;let s=0,c=0;t.reset();for(let e=0;t.nextPath();e++){const n=t.getCurrentRingArea();n>c&&(c=n,s=e)}if(t.seekPath(s),0===t.pathSize)return null;t.seekPathStart();const l=(0,_boundsUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getCursorPathBounds */ .B$)(t);if(Math.abs(c)<=2*o*o)return[(l[0]+l[2])/2,(l[1]+l[3])/2];t.seekPathStart();const x=(0,_centroid_js__WEBPACK_IMPORTED_MODULE_2__/* .ringCentroidCursorXY */ .w2)(t,(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__/* .create */ .vt)());if(null===x)return null;if(t.totalPoints<4)return x;const m=[[NaN,NaN],[NaN,NaN],[NaN,NaN],[NaN,NaN]],d=[NaN,NaN,NaN,NaN],P=[NaN,NaN,NaN,NaN];let y=!1,M=f(x,t,!0);0===M.distance&&(y=!0,m[0][0]=x[0],m[0][1]=x[1],M=f(x,t,!1)),d[0]=M.distance,P[0]=0;const b=[NaN,NaN];let S=!1,k=.25,z=-1,g=NaN;do{if(g=NaN,m[1]=h(t,w(l[0],l[2],k),o,a),isNaN(m[1][0])||isNaN(m[1][1])||(M=f(m[1],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[1],t))S=!0,d[1]=g,P[1]=p(m[1],x);else if(!isNaN(g)&&g>z&&(z=g,b[0]=m[1][0],b[1]=m[1][1]),k-=.01,k<.1){if(!(z>=0))break;S=!0,d[1]=z,m[1][0]=b[0],m[1][1]=b[1],P[1]=p(m[1],x)}}while(!S);S=!1,k=.5,z=-1;let q=.01,j=1;do{if(g=NaN,m[2]=h(t,w(l[0],l[2],k),o,a),isNaN(m[2][0])||isNaN(m[2][1])||(M=f(m[2],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[2],t))S=!0,d[2]=g,P[2]=p(m[2],x);else if(!isNaN(g)&&g>z)z=g,b[0]=m[2][0],b[1]=m[2][1];else if(g>z&&(z=g,b[0]=m[2][0],b[1]=m[2][1]),k=.5+q*j,q+=.01,j*=-1,k<.3||k>.7){if(!(z>=0))break;S=!0,d[2]=z,m[2][0]=b[0],m[2][1]=b[1],P[2]=p(m[2],x)}}while(!S);S=!1,k=.75,z=-1;do{if(g=NaN,m[3]=h(t,w(l[0],l[2],k),o,a),isNaN(m[3][0])||isNaN(m[3][1])||(M=f(m[3],t,!1),g=M.distance),!isNaN(g)&&g>o&&u(m[3],t))S=!0,d[3]=g,P[3]=p(m[3],x);else if(g>z&&(z=g,b[0]=m[3][0],b[1]=m[3][1]),k+=.01,k>.9){if(!(z>=0))break;S=!0,d[3]=z,m[3][0]=b[0],m[3][1]=b[1],P[3]=p(m[3],x)}}while(!S);const T=[0,1,2,3],D=y?0:1;let R;for(let e=D;e<4;e++)for(let t=D;t<3;t++){const e=P[t],n=P[t+1];C(e,n)>0&&(R=T[t],T[t]=T[t+1],T[t+1]=R,P[t]=n,P[t+1]=e)}let B=D,Q=0,U=0;for(let e=D;e<4;e++){switch(e){case 0:U=2*d[T[e]];break;case 1:U=1.66666666*d[T[e]];break;case 2:U=1.33333333*d[T[e]];break;case 3:U=d[T[e]]}U>Q&&(Q=U,B=T[e])}return m[B]}function u(t,e){let n,i,r,a,o=0;for(e.reset();e.nextPath()&&e.nextPoint();)for(n=e.x,i=e.y;e.nextPoint();n=r,i=a){if(r=e.x,a=e.y,i>t[1]==a>t[1])continue;(r-n)*(t[1]-i)-(a-i)*(t[0]-n)>0?o++:o--}return 0!==o}function f(t,e,n){if(n&&u(t,e))return{coord:t,distance:0};let i=1/0,r=0,a=0,s=[0,0],c=[0,0];const N=[0,0];for(e.reset();e.nextPath()&&e.nextPoint();)if(!(e.pathSize<2))for(s[0]=e.x,s[1]=e.y;e.nextPoint();s=c){c=[e.x,e.y],(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .projectPointOnLineSeg */ .gR)(N,t,s,c);const n=p(t,N);n<i&&(i=n,r=N[0],a=N[1])}return{coord:[r,a],distance:Math.sqrt(i)}}function h(t,n,i,r){const a=[n,0];let o=1/0,s=1/0,N=!1,l=!1;const u=[[n,r[1]-1],[n,r[3]+1]],f=[0,0],h=[0,0],m=[0,0],d=[[0,0],[0,0]],P=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__/* .create */ .vt)();for(t.reset();t.nextPath()&&t.nextPoint();)if(!(t.pathSize<2))for(d[0][0]=t.x,d[0][1]=t.y;t.nextPoint();d[0][0]=d[1][0],d[0][1]=d[1][1]){if(d[1][0]=t.x,d[1][1]=t.y,null===x(P,d))continue;if(h[0]=u[0][0],h[1]=u[0][1],m[0]=u[1][0],m[1]=u[1][1],0===M(P,h,m))continue;if(!(0,_intersectsBase_js__WEBPACK_IMPORTED_MODULE_4__/* .segmentIntersects */ .Ql)(u[0],u[1],d[0],d[1],f))continue;const e=f[1];o>s?e<o&&(o=e,N=!0):e<s&&(s=e,l=!0)}return N&&l?a[1]=(o+s)/2:a[0]=a[1]=NaN,a}function x(t,n){if(n.length<2)return null;t||(t=(0,_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_0__/* .create */ .vt)());const[i,r]=n[0],[a,o]=n[1];return t[0]=Math.min(i,a),t[1]=Math.min(r,o),t[2]=Math.max(i,a),t[3]=Math.max(r,o),t}const m=1,d=4,P=3,y=12;function M(t,e,n){let i=b(e,t),r=b(n,t);const a=t[0],o=t[1],s=t[2],c=t[3];if(i&r)return 0;if(!(i|r))return 4;const N=(i?1:0)|(r?2:0);do{const N=n[0]-e[0],l=n[1]-e[1];if(N>l)i&P?(i&m?(e[1]+=l*(a-e[0])/N,e[0]=a):(e[1]+=l*(s-e[0])/N,e[0]=s),i=b(e,t)):r&P?(r&m?(n[1]+=l*(a-n[0])/N,n[0]=a):(n[1]+=l*(s-n[0])/N,n[0]=s),r=b(n,t)):i?(i&d?(e[0]+=N*(o-e[1])/l,e[1]=o):(e[0]+=N*(c-e[1])/l,e[1]=c),i=b(e,t)):(r&d?(n[0]+=N*(o-n[1])/l,n[1]=o):(n[0]+=N*(c-n[1])/l,n[1]=c),r=b(n,t));else if(i&y?(i&d?(e[0]+=N*(o-e[1])/l,e[1]=o):(e[0]+=N*(c-e[1])/l,e[1]=c),i=b(e,t)):r&y?(r&d?(n[0]+=N*(o-n[1])/l,n[1]=o):(n[0]+=N*(c-n[1])/l,n[1]=c),r=b(n,t)):i?(i&m?(e[1]+=l*(a-e[0])/N,e[0]=a):(e[1]+=l*(s-e[0])/N,e[0]=s),i=b(e,t)):(r&m?(n[1]+=l*(a-n[0])/N,n[0]=a):(n[1]+=l*(s-n[0])/N,n[0]=s),r=b(n,t)),i&r)return 0}while(i|r);return N}function b(t,e){return(t[0]<e[0]?1:0)|(t[0]>e[2]?1:0)<<1|(t[1]<e[1]?1:0)<<2|(t[1]>e[3]?1:0)<<3}function w(t,e,n){return t+(e-t)*n}function p(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function C(t,e){if(t<e)return-1;if(t>e)return 1;if(t===e)return 0;const n=isNaN(t),i=isNaN(e);return n<i?-1:n>i?1:0}class S{constructor(t,e,n,i){this.x=t,this.y=e,this.cellSize=n,this.distancefromCellCenter=s(t,e,i),this.maxDistanceToPolygon=this.distancefromCellCenter+this.cellSize*Math.SQRT2}}const k=1,z=100;function g(e){if(!e.nextPath()||!e.pathSize)return null;const n=i(e),r=n[2]-n[0],o=n[3]-n[1];if(0===r||0===o)return[n[0]+r/2,n[1]+o/2];const s=Math.max(Math.min(r,o)/z,k),c=new t(((t,e)=>e.maxDistanceToPolygon-t.maxDistanceToPolygon)),N=Math.min(r,o);let l=N/2,u=0,f=0;for(u=n[0];u<n[2];u+=N)for(f=n[1];f<n[3];f+=N)c.enqueue(new S(u+l,f+l,l,e));e.reset(),e.nextPath();const h=a(e);if(null===h)return null;let x,m=new S(h[0],h[1],0,e);for(;c.size>0;)x=c.dequeue(),x.distancefromCellCenter>m.distancefromCellCenter&&(m=x),x.maxDistanceToPolygon-m.distancefromCellCenter<=s||(l=x.cellSize/2,c.enqueue(new S(x.x-l,x.y-l,l,e)),c.enqueue(new S(x.x+l,x.y-l,l,e)),c.enqueue(new S(x.x-l,x.y+l,l,e)),c.enqueue(new S(x.x+l,x.y+l,l,e)));return[m.x,m.y]}


/***/ }),

/***/ 13022:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   k: () => (/* binding */ s),
/* harmony export */   q: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14816);
/* harmony import */ var _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(87569);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r=512;let n;class s{constructor(t){this._geometry=t}next(){const t=this._geometry;return this._geometry=null,t}}function i(s,i){n||(n=new _geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__/* .TileClipper */ .O3(0,0,0,1));const y="esriGeometryPolygon"===s.geometryType,m=y?_geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__/* .GeometryType */ .dC.Polygon:_geometry_support_TileClipper_js__WEBPACK_IMPORTED_MODULE_1__/* .GeometryType */ .dC.LineString,l=y?3:2;let c,p;for(n.reset(m),n.setPixelMargin(i+1),n.setExtent(r);s.nextPath();)if(!(s.pathSize<l)){for(s.nextPoint(),c=s.x,p=-s.y,n.moveTo(c,p);s.nextPoint();)c=s.x,p=-s.y,n.lineTo(c,p);y&&n.close()}const f=n.result(!1);if(f){const e=_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__/* .GeometryCursor */ .z.createEmptyOptimizedCIM(s.geometryType);for(const t of f){e.startPath();for(const o of t)e.pushXY(o.x,-o.y)}return e.reset(),e}return null}


/***/ }),

/***/ 29659:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  A: () => (/* binding */ A),
  c: () => (/* binding */ g)
});

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectAddControlPoints.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e{static local(){return null===e.instance&&(e.instance=new e),e.instance}execute(e,s,n,i,o){return new t(e,s,n)}}e.instance=null;class t{constructor(e,t,s){this._inputGeometries=e,this._angleTolerance=void 0!==t.angleTolerance?t.angleTolerance:120,this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}next(){let e=this._inputGeometries.next();for(;e;){if("esriGeometryPolygon"===e.geometryType)this._isClosed=!0;else if("esriGeometryPolyline"===e.geometryType)this._isClosed=!1;else{if("esriGeometryEnvelope"!==e.geometryType){e=this._inputGeometries.next();continue}if(this._maxCosAngle)return e;this._isClosed=!0}for(;e.nextPath();)this._processPath(e);return e.reset(),e}return null}_processPath(e){if(e.nextPoint()){const t=e.x,s=e.y;let n=t,i=s,o=e.pathSize,l=0,r=0,a=0,h=0,c=0,_=0;this._isClosed&&++o;for(let u=1;e.nextPoint()||u<o;++u){let x,m;this._isClosed&&u===o-1?(x=t,m=s):(x=e.x,m=e.y);const y=x-n,g=m-i,C=Math.sqrt(y*y+g*g);if(u>1&&C>0&&a>0){(l*y+r*g)/C/a<=this._maxCosAngle&&e.setControlPointAt(u-1)}1===u&&(h=y,c=g,_=C),C>0&&(n=x,i=m,l=y,r=g,a=C)}if(this._isClosed&&a>0&&_>0){(l*h+r*c)/_/a<=this._maxCosAngle&&e.setControlPointAt(0)}}}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/GeometryCursor.js
var GeometryCursor = __webpack_require__(14816);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/geometryCursorCollectUtils.js
var geometryCursorCollectUtils = __webpack_require__(18159);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/CIMPlacements.js
var CIMPlacements = __webpack_require__(82250);
;// ../node_modules/@arcgis/core/symbols/cim/CIMCursor.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function CIMCursor_e(t){return t[4]}function CIMCursor_r(t,e){t[4]=e}class s{constructor(e,r=!0,s=!0,i=0){this.isClosed=!1,this.geometryCursor=null,this.geometryCursor=!r&&"esriGeometryPolygon"===e.geometryType||!s&&"esriGeometryPolyline"===e.geometryType?null:e,this.geomUnitsPerPoint=i,this.iteratePath=!1,this.internalPlacement=new CIMPlacements/* Placement */.W}next(){if(!this.geometryCursor)return null;for(;this.iteratePath||this.geometryCursor.nextPath();){this.geometryCursor.seekPathStart();const t=this.processPath(this.geometryCursor);if(t)return t}return this.geometryCursor=null,null}}class i{constructor(t,e,r,s=0){this.isClosed=!1,this.inputGeometries=t,this.acceptPolygon=e,this.acceptPolyline=r,this.geomUnitsPerPoint=s,this.iteratePath=!1,this.multiPathCursor=null}next(){for(;;){if(!this.multiPathCursor){let t=this.inputGeometries.next();for(;t&&(this.isClosed=this.acceptPolygon&&"esriGeometryPolygon"===t.geometryType||"esriGeometryEnvelope"===t.geometryType,this.multiPathCursor=t,!this.multiPathCursor);)t=this.inputGeometries.next();if(!this.multiPathCursor)return null}for(;this.iteratePath||this.multiPathCursor.nextPath();){this.multiPathCursor.seekPathStart();const t=this.processPath(this.multiPathCursor);if(t)return t}this.multiPathCursor=null}}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/enums.js
var enums = __webpack_require__(63643);
;// ../node_modules/@arcgis/core/symbols/cim/CurveHelper.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const CurveHelper_n=.03;class CurveHelper_s{constructor(t=0,e=!1){}isEmpty(t){if(!t.nextPoint())return!0;let e,n,s,r;for(e=t.x,n=t.y;t.nextPoint();e=n,n=r)if(s=t.x,r=t.y,s!==e||r!==n)return t.seekPathStart(),!1;return t.seekPathStart(),!0}normalize(t){const e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);0!==e&&(t[0]/=e,t[1]/=e)}getLength(t,e,n,s){const r=n-t,o=s-e;return Math.sqrt(r*r+o*o)}getSegLength(t){const[[e,n],[s,r]]=t;return this.getLength(e,n,s,r)}getCoord2D(t,e,n,s,r){return[t+(n-t)*r,e+(s-e)*r]}getSegCoord2D(t,e){const[[n,s],[r,o]]=t;return this.getCoord2D(n,s,r,o,e)}getAngle(t,e,n,s,r){const o=n-t,i=s-e;return Math.atan2(i,o)}getAngleCS(t,e,n,s,r){const o=n-t,i=s-e,u=Math.sqrt(o*o+i*i);return u>0?[o/u,i/u]:[1,0]}getSegAngleCS(t,e){const[[n,s],[r,o]]=t;return this.getAngleCS(n,s,r,o,e)}cut(t,e,n,s,r,o){return[r<=0?[t,e]:this.getCoord2D(t,e,n,s,r),o>=1?[n,s]:this.getCoord2D(t,e,n,s,o)]}getSubCurve(e,n,s){const r=GeometryCursor/* GeometryCursor */.z.createEmptyOptimizedCIM("esriGeometryPolyline");return this.appendSubCurve(r,e,n,s)?r:null}appendSubCurve(t,e,n,s){t.startPath(),e.seekPathStart();let r=0,o=!0;if(!e.nextPoint())return!1;let i=e.x,u=e.y;for(;e.nextPoint();){const h=this.getLength(i,u,e.x,e.y);if(0!==h){if(o){if(r+h>n){const l=(n-r)/h;let a=1,c=!1;r+h>=s&&(a=(s-r)/h,c=!0);const f=this.cut(i,u,e.x,e.y,l,a);if(f&&t.pushPoints(f),c)break;o=!1}}else{if(r+h>s){const n=this.cut(i,u,e.x,e.y,0,(s-r)/h);n&&t.pushPoint(n[1]);break}t.pushXY(e.x,e.y)}r+=h,i=e.x,u=e.y}else i=e.x,u=e.y}return!0}getCIMPointAlong(t,e){if(!t.nextPoint())return null;let n,s,r,o,i=0;for(n=t.x,s=t.y;t.nextPoint();n=r,s=o){r=t.x,o=t.y;const u=this.getLength(n,s,r,o);if(0!==u){if(i+u>e){const t=(e-i)/u;return this.getCoord2D(n,s,r,o,t)}i+=u}}return null}offset(t,n,s,r,o){if(!t||t.length<2)return null;let i=0,u=t[i++],h=i;for(;i<t.length;){const e=t[i];e[0]===u[0]&&e[1]===u[1]||(i!==h&&(t[h]=t[i]),u=t[h++]),i++}const l=t[0][0]===t[h-1][0]&&t[0][1]===t[h-1][1];if(l&&--h,h<(l?3:2))return null;const a=[];u=l?t[h-1]:null;let c=t[0];for(let f=0;f<h;f++){const o=f===h-1?l?t[0]:null:t[f+1];if(u)if(o){const t=[o[0]-c[0],o[1]-c[1]];this.normalize(t);const i=[c[0]-u[0],c[1]-u[1]];this.normalize(i);const h=i[0]*t[1]-i[1]*t[0],l=i[0]*t[0]+i[1]*t[1];if(0===h&&1===l){c=o;continue}if(h>=0==n<=0){if(l<1){const e=[t[0]-i[0],t[1]-i[1]];this.normalize(e);const s=Math.sqrt((1+l)/2);if(s>1/r){const t=-Math.abs(n)/s;a.push([c[0]-e[0]*t,c[1]-e[1]*t])}}}else switch(s){case enums/* GeometricEffectOffsetMethod */.xw.Mitered:{const e=Math.sqrt((1+l)/2);if(e>0&&1/e<r){const s=[t[0]-i[0],t[1]-i[1]];this.normalize(s);const r=Math.abs(n)/e;a.push([c[0]-s[0]*r,c[1]-s[1]*r]);break}}case enums/* GeometricEffectOffsetMethod */.xw.Bevelled:a.push([c[0]+i[1]*n,c[1]-i[0]*n]),a.push([c[0]+t[1]*n,c[1]-t[0]*n]);break;case enums/* GeometricEffectOffsetMethod */.xw.Rounded:if(l<1){a.push([c[0]+i[1]*n,c[1]-i[0]*n]);const e=Math.floor(2.5*(1-l));if(e>0){const s=1/e;let r=s;for(let o=1;o<e;o++,r+=s){const e=[i[1]*(1-r)+t[1]*r,-i[0]*(1-r)-t[0]*r];this.normalize(e),a.push([c[0]+e[0]*n,c[1]+e[1]*n])}}a.push([c[0]+t[1]*n,c[1]-t[0]*n])}break;case enums/* GeometricEffectOffsetMethod */.xw.Square:default:if(h<0)a.push([c[0]+(i[1]+i[0])*n,c[1]+(i[1]-i[0])*n]),a.push([c[0]+(t[1]-t[0])*n,c[1]-(t[0]+t[1])*n]);else{const e=Math.sqrt((1+Math.abs(l))/2),s=[t[0]-i[0],t[1]-i[1]];this.normalize(s);const r=n/e;a.push([c[0]-s[0]*r,c[1]-s[1]*r])}}}else{const t=[c[0]-u[0],c[1]-u[1]];this.normalize(t),a.push([c[0]+t[1]*n,c[1]-t[0]*n])}else{const t=[o[0]-c[0],o[1]-c[1]];this.normalize(t),a.push([c[0]+t[1]*n,c[1]-t[0]*n])}u=c,c=o}return a.length<(l?3:2)?null:(l&&a.push([a[0][0],a[0][1]]),a)}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectArrow.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=1.7320508075688772,u=5,h=enums/* GeometricEffectArrowType */.oF.OpenEnded;class EffectArrow_p{static local(){return null===EffectArrow_p.instance&&(EffectArrow_p.instance=new EffectArrow_p),EffectArrow_p.instance}execute(t,e,r,n,o){return new P(t,e,r)}}EffectArrow_p.instance=null;class P extends i{constructor(t,e,r){super(t,!1,!0),this._curveHelper=new CurveHelper_s,this._width=(void 0!==e.width?e.width:u)*r,this._arrowType=void 0!==e.geometricEffectArrowType?e.geometricEffectArrowType:void 0!==e.arrowType?e.arrowType:h,this._offsetFlattenError=CurveHelper_n*r}processPath(e){const r=GeometryCursor/* GeometryCursor */.z.createEmptyOptimizedCIM(e.geometryType);switch(this._arrowType){case enums/* GeometricEffectArrowType */.oF.OpenEnded:default:this._constructSimpleArrow(r,e,!0);break;case enums/* GeometricEffectArrowType */.oF.Block:this._constructSimpleArrow(r,e,!1);break;case enums/* GeometricEffectArrowType */.oF.Crossed:this._constructCrossedArrow(r,e)}return r}_constructSimpleArrow(t,r,n){const o=r.pathLength();let s=this._width;o<2*s&&(s=o/2);const i=this._curveHelper.getSubCurve(r,0,o-s);if(!i||!i.nextPath())return;i.seekPathStart();const c=s/2;if(this._curveHelper.isEmpty(i))return;const u=(0,geometryCursorCollectUtils/* collectPath */.A)(i),h=this._constructOffset(u,-c);if(!h)return;const p=this._constructOffset(u,c);if(!p)return;const P=this._constructArrowBasePoint(h,-c/2);if(!P)return;const l=this._constructArrowBasePoint(p,c/2);if(!l)return;r.seekInPath(r.pathSize-1);const f=[r.x,r.y];t.pushPath(p),t.nextPath(),t.nextPoint(),t.setControlPoint(),t.pushPoint(l),t.nextPoint(),t.setControlPoint(),t.pushPoint(f),t.nextPoint(),t.setControlPoint(),t.pushPoint(P),t.nextPoint(),t.setControlPoint(),t.pushPoints(h.reverse()),t.setControlPoint(),n||(t.setControlPointAt(0),t.setControlPointAt(t.pathSize-1),t.pushPoint(p[0])),t.reset()}_constructCrossedArrow(t,r){const n=r.pathLength();let o=this._width;n<o*(1+c+1)&&(o=n/(1+c+1)),r.seekPathStart();const s=this._curveHelper.getSubCurve(r,0,n-o*(1+c));if(!s)return;s.nextPath();const i=o/2;if(this._curveHelper.isEmpty(s))return;const u=(0,geometryCursorCollectUtils/* collectPath */.A)(s),h=this._constructOffset(u,i);if(!h)return;const p=this._constructOffset(u,-i);if(!p)return;const P=this._curveHelper.getSubCurve(r,0,n-o);if(!P)return;if(P.nextPath(),this._curveHelper.isEmpty(P))return;const l=(0,geometryCursorCollectUtils/* collectPath */.A)(P),f=this._constructOffset(l,i);if(!f)return;const a=this._constructOffset(l,-i);if(!a)return;const _=f[f.length-1],m=this._constructArrowBasePoint(f,i/2);if(!m)return;const C=a[a.length-1],w=this._constructArrowBasePoint(a,-i/2);if(!w)return;r.seekInPath(r.pathSize-1);const x=[r.x,r.y];t.pushPath(h),t.nextPath(),t.nextPoint(),t.setControlPoint(),t.pushPoint(C),t.nextPoint(),t.setControlPoint(),t.pushPoint(w),t.nextPoint(),t.setControlPoint(),t.pushPoint(x),t.nextPoint(),t.setControlPoint(),t.pushPoint(m),t.nextPoint(),t.setControlPoint(),t.pushPoint(_),t.nextPoint(),t.setControlPoint(),t.pushPoints(p.reverse()),t.nextPoint(),t.setControlPoint(),t.reset()}_constructOffset(t,e){return this._curveHelper.offset(t,e,enums/* GeometricEffectOffsetMethod */.xw.Rounded,4,this._offsetFlattenError)}_constructArrowBasePoint(t,e){if(!t||t.length<2)return null;const r=t[t.length-2],n=t[t.length-1],o=[n[0]-r[0],n[1]-r[1]];return this._curveHelper.normalize(o),[n[0]+o[1]*e,n[1]-o[0]*e]}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry.js
var geometry = __webpack_require__(17639);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/CIMEffects.js
var CIMEffects = __webpack_require__(13022);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(78983);
;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectBuffer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class m{static local(){return null===m.instance&&(m.instance=new m),m.instance}execute(e,t,i,s,r,n){return new l(e,t,i,s,r,n)}}m.instance=null;class l{constructor(e,t,i,n,o,m){this._inputGeometries=e,this._tileKey=n,this._geometryEngine=o,this._curveHelper=new CurveHelper_s,this._size=(void 0!==t.size?t.size:1)*i,this._maxInflateSize=m*i,this._offsetFlattenError=CurveHelper_n*i}next(){let s;for(;s=this._inputGeometries.next();){if(0===this._size)return s;if("esriGeometryEnvelope"===s.geometryType)if(this._size>0){const i=GeometryCursor/* GeometryCursor */.z.createEmptyOptimizedCIM(s.geometryType),r=(0,geometryCursorCollectUtils/* collectMultipath */.x)(s)[0],o=this._curveHelper.offset(r,this._size,enums/* GeometricEffectOffsetMethod */.xw.Rounded,4,this._offsetFlattenError);if(o)return i.pushPath(o),i}else if(this._size<0){const t=s.asJSON();if(Math.min(t.xmax-t.xmin,t.ymax-t.ymin)+2*this._size>0)return GeometryCursor/* GeometryCursor */.z.fromJSONCIM({xmin:t.xmin-this._size,xmax:t.xmax+this._size,ymin:t.ymin-this._size,ymax:t.ymax+this._size})}const r=this._geometryEngine;if(null==r)return null;const m=this._tileKey?(0,CIMEffects/* clipCursorToTileExtent */.q)(s,this._maxInflateSize):s;if(!m)continue;const l=r.buffer(SpatialReference/* default */.A.WebMercator,m.asJSON(),this._size,1);return l?GeometryCursor/* GeometryCursor */.z.fromJSONCIM(l):null}return null}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectControlMeasureLine.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectControlMeasureLine_e{static local(){return null===EffectControlMeasureLine_e.instance&&(EffectControlMeasureLine_e.instance=new EffectControlMeasureLine_e),EffectControlMeasureLine_e.instance}execute(s,t,i,h,e){return new r(s,t,i)}}EffectControlMeasureLine_e.instance=null;class r{constructor(s,t,i){this._defaultPointSize=20,this._inputGeometries=s,this._geomUnitsPerPoint=i,this._rule=t.rule??enums/* GeometricEffectControlMeasureLineRule */.uQ.FullGeometry,this._defaultSize=this._defaultPointSize*i}next(){let i;for(;i=this._inputGeometries.next();){const h=this._processGeom((0,geometryCursorCollectUtils/* collectMultipath */.x)(i));if(h&&h.length)return GeometryCursor/* GeometryCursor */.z.fromJSONCIM({paths:h})}return null}_clone(s){return[s[0],s[1]]}_mid(s,t){return[(s[0]+t[0])/2,(s[1]+t[1])/2]}_mix(s,t,i,h){return[s[0]*t+i[0]*h,s[1]*t+i[1]*h]}_add(s,t){return[s[0]+t[0],s[1]+t[1]]}_add2(s,t,i){return[s[0]+t,s[1]+i]}_sub(s,t){return[s[0]-t[0],s[1]-t[1]]}_dist(s,t){return Math.sqrt((s[0]-t[0])*(s[0]-t[0])+(s[1]-t[1])*(s[1]-t[1]))}_norm(s){return Math.sqrt(s[0]*s[0]+s[1]*s[1])}_normalize(s,t=1){const i=t/this._norm(s);s[0]*=i,s[1]*=i}_leftPerpendicular(s){const t=-s[1],i=s[0];s[0]=t,s[1]=i}_leftPerp(s){return[-s[1],s[0]]}_rightPerpendicular(s){const t=s[1],i=-s[0];s[0]=t,s[1]=i}_rightPerp(s){return[s[1],-s[0]]}_dotProduct(s,t){return s[0]*t[0]+s[1]*t[1]}_crossProduct(s,t){return s[0]*t[1]-s[1]*t[0]}_rotateDirect(s,t,i){const h=s[0]*t-s[1]*i,e=s[0]*i+s[1]*t;s[0]=h,s[1]=e}_makeCtrlPt(s){const t=[s[0],s[1]];return CIMCursor_r(t,1),t}_addAngledTicks(s,t,i,h){const e=this._sub(i,t);this._normalize(e);const r=this._crossProduct(e,this._sub(h,t));let _;_=r>0?this._rightPerp(e):this._leftPerp(e);const c=Math.abs(r)/2,u=[];u.push([t[0]+(_[0]-e[0])*c,t[1]+(_[1]-e[1])*c]),u.push(t),u.push(i),u.push([i[0]+(_[0]+e[0])*c,i[1]+(_[1]+e[1])*c]),s.push(u)}_addBezier2(s,t,i,h,e){if(0==e--)return void s.push(h);const r=this._mid(t,i),_=this._mid(i,h),c=this._mid(r,_);this._addBezier2(s,t,r,c,e),this._addBezier2(s,c,_,h,e)}_addBezier3(s,t,i,h,e,r){if(0==r--)return void s.push(e);const _=this._mid(t,i),c=this._mid(i,h),u=this._mid(h,e),o=this._mid(_,c),n=this._mid(c,u),a=this._mid(o,n);this._addBezier3(s,t,_,o,a,r),this._addBezier3(s,a,n,u,e,r)}_add90DegArc(s,t,i,h,e){const r=e??this._crossProduct(this._sub(i,t),this._sub(h,t))>0,_=this._mid(t,i),c=this._sub(_,t);r?this._leftPerpendicular(c):this._rightPerpendicular(c),_[0]+=c[0],_[1]+=c[1],this._addBezier3(s,t,this._mix(t,.33333,_,.66667),this._mix(i,.33333,_,.66667),i,4)}_addArrow(s,t,i){const h=t[0],e=t[1],r=t[t.length-1],_=this._sub(h,e);this._normalize(_);const c=this._crossProduct(_,this._sub(r,e)),u=.5*c,o=this._leftPerp(_),n=[r[0]-o[0]*c,r[1]-o[1]*c],a=t.length-1,p=[];p.push(i?[-o[0],-o[1]]:o);let l=[-_[0],-_[1]];for(let d=1;d<a-1;d++){const s=this._sub(t[d+1],t[d]);this._normalize(s);const i=this._dotProduct(s,l),h=this._crossProduct(s,l),e=Math.sqrt((1+i)/2),r=this._sub(s,l);this._normalize(r),r[0]/=e,r[1]/=e,p.push(h<0?[-r[0],-r[1]]:r),l=s}p.push(this._rightPerp(l));for(let d=p.length-1;d>0;d--)s.push([t[d][0]+p[d][0]*u,t[d][1]+p[d][1]*u]);s.push([n[0]+p[0][0]*u,n[1]+p[0][1]*u]),s.push([n[0]+p[0][0]*c,n[1]+p[0][1]*c]),s.push(h),s.push([n[0]-p[0][0]*c,n[1]-p[0][1]*c]),s.push([n[0]-p[0][0]*u,n[1]-p[0][1]*u]);for(let d=1;d<p.length;d++)s.push([t[d][0]-p[d][0]*u,t[d][1]-p[d][1]*u])}_cp2(s,t,i){return s.length>=2?s[1]:this._add2(s[0],t*this._defaultSize,i*this._defaultSize)}_cp3(s,t,i,h){if(s.length>=3)return s[2];const e=this._mix(s[0],1-i,t,i),r=this._sub(t,s[0]);return this._normalize(r),this._rightPerpendicular(r),[e[0]+r[0]*h*this._defaultSize,e[1]+r[1]*h*this._defaultSize]}_arrowPath(s){if(s.length>2)return s;const t=s[0],i=this._cp2(s,-4,0),h=this._sub(t,i);this._normalize(h);const e=this._rightPerp(h);return[t,i,[t[0]+(e[0]-h[0])*this._defaultSize,t[1]+(e[1]-h[1])*this._defaultSize]]}_arrowLastSeg(s){const t=s[0],i=this._cp2(s,-4,0);let h;if(s.length>=3)h=s[s.length-1];else{const s=this._sub(t,i);this._normalize(s);const e=this._rightPerp(s);h=[t[0]+(e[0]-s[0])*this._defaultSize,t[1]+(e[1]-s[1])*this._defaultSize]}return[i,h]}_processGeom(s){if(!s)return null;const t=[];for(const e of s){if(!e||0===e.length)continue;const s=e.length;let r=e[0];switch(this._rule){case enums/* GeometricEffectControlMeasureLineRule */.uQ.PerpendicularFromFirstSegment:{const s=this._cp2(e,0,-1),i=this._cp3(e,s,.5,4),h=[];h.push(i),h.push(this._mid(r,s)),t.push(h);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.ReversedFirstSegment:{const s=this._cp2(e,0,-1);t.push([s,r]);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.PerpendicularToSecondSegment:{const s=this._cp2(e,-4,1),i=this._cp3(e,s,.882353,-1.94),h=[];h.push(this._mid(s,i)),h.push(r),t.push(h);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.SecondSegmentWithTicks:{const s=this._cp2(e,-4,1),i=this._cp3(e,s,.882353,-1.94),h=this._sub(i,s);let _;_=this._crossProduct(h,this._sub(r,s))>0?this._rightPerp(_):this._leftPerp(h);const c=[];c.push([s[0]+(_[0]-h[0])/3,s[1]+(_[1]-h[1])/3]),c.push(s),c.push(i),c.push([i[0]+(_[0]+h[0])/3,i[1]+(_[1]+h[1])/3]),t.push(c);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.DoublePerpendicular:{const s=this._cp2(e,0,-1),i=this._cp3(e,s,.5,3),h=this._mid(r,s),_=this._sub(h,i);this._normalize(_);const c=this._crossProduct(_,this._sub(r,i));this._leftPerpendicular(_);const u=[];u.push(r),u.push([i[0]+_[0]*c,i[1]+_[1]*c]),t.push(u);const o=[];o.push([i[0]-_[0]*c,i[1]-_[1]*c]),o.push(s),t.push(o);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.OppositeToFirstSegment:{const s=this._cp2(e,0,-1),i=this._cp3(e,s,.5,3),h=this._mid(r,s),_=this._sub(h,i);this._normalize(_);const c=this._crossProduct(_,this._sub(r,i));this._leftPerpendicular(_);const u=[];u.push([i[0]+_[0]*c,i[1]+_[1]*c]),u.push([i[0]-_[0]*c,i[1]-_[1]*c]),t.push(u);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.TriplePerpendicular:{const s=this._cp2(e,0,-1),i=this._cp3(e,s,.5,4),h=this._mid(r,s),_=this._sub(h,i);this._normalize(_);const c=this._crossProduct(_,this._sub(r,i));this._leftPerpendicular(_);const u=[];u.push([i[0]+_[0]*c*.8,i[1]+_[1]*c*.8]),u.push([h[0]+.8*(r[0]-h[0]),h[1]+.8*(r[1]-h[1])]),t.push(u),t.push([i,h]);const o=[];o.push([i[0]-_[0]*c*.8,i[1]-_[1]*c*.8]),o.push([h[0]+.8*(s[0]-h[0]),h[1]+.8*(s[1]-h[1])]),t.push(o);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.HalfCircleFirstSegment:{const s=this._cp2(e,0,-1),i=this._cp3(e,s,.5,4),h=this._mid(r,s);let _=this._sub(s,r);const c=Math.cos(Math.PI/18),u=Math.sin(Math.PI/18),o=Math.sqrt((1+c)/2),n=Math.sqrt((1-c)/2),a=[];let p;this._crossProduct(_,this._sub(i,r))>0?(a.push(r),_=this._sub(r,h),p=s):(a.push(s),_=this._sub(s,h),p=r),this._rotateDirect(_,o,n),_[0]/=o,_[1]/=o;for(let t=1;t<=18;t++)a.push(this._add(h,_)),this._rotateDirect(_,c,u);a.push(p),t.push(a);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.HalfCircleSecondSegment:{const s=this._cp2(e,0,-1),i=this._cp3(e,s,1,-1);let h=this._sub(r,s);this._normalize(h);const _=this._crossProduct(h,this._sub(i,s))/2;this._leftPerpendicular(h);const c=[s[0]+h[0]*_,s[1]+h[1]*_];h=this._sub(s,c);const u=Math.cos(Math.PI/18);let o=Math.sin(Math.PI/18);_>0&&(o=-o);const n=[s];for(let t=1;t<=18;t++)this._rotateDirect(h,u,o),n.push(this._add(c,h));t.push(n);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.HalfCircleExtended:{const i=this._cp2(e,0,-2),h=this._cp3(e,i,1,-1);let _;if(s>=4)_=e[3];else{const s=this._sub(r,i);_=this._add(h,s)}const c=this._dist(i,h)/2/.75,u=this._sub(i,r);this._normalize(u,c);const o=this._sub(h,_);this._normalize(o,c);const n=[_,h];t.push(n);const a=[this._clone(h)];this._addBezier3(a,h,this._add(h,o),this._add(i,u),i,4),a.push(r),t.push(a);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.OpenCircle:{const s=this._cp2(e,-2,0),i=this._sub(s,r),h=Math.cos(Math.PI/18),_=-Math.sin(Math.PI/18),c=[s];for(let t=1;t<=33;t++)this._rotateDirect(i,h,_),c.push(this._add(r,i));t.push(c);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.CoverageEdgesWithTicks:{const i=this._cp2(e,0,-1);let h,_;if(s>=3)h=e[2];else{const s=this._sub(i,r),t=this._leftPerp(s);h=[r[0]+t[0]-.25*s[0],r[1]+t[1]-.25*s[1]]}if(s>=4)_=e[3];else{const s=this._mid(r,i),t=this._sub(r,i);this._normalize(t),this._leftPerpendicular(t);const e=this._crossProduct(t,this._sub(h,s));this._rightPerpendicular(t),_=[h[0]+t[0]*e*2,h[1]+t[1]*e*2]}const c=this._sub(i,r);let u,o;u=this._crossProduct(c,this._sub(h,r))>0?this._rightPerp(c):this._leftPerp(c),o=[],o.push(h),o.push(r),o.push([r[0]+(u[0]-c[0])/3,r[1]+(u[1]-c[1])/3]),t.push(o),u=this._crossProduct(c,this._sub(_,i))>0?this._rightPerp(u):this._leftPerp(c),o=[],o.push([i[0]+(u[0]+c[0])/3,i[1]+(u[1]+c[1])/3]),o.push(i),o.push(_),t.push(o);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.GapExtentWithDoubleTicks:{const i=this._cp2(e,0,2),h=this._cp3(e,i,0,1);let _;if(s>=4)_=e[3];else{const s=this._sub(i,r);_=this._add(h,s)}this._addAngledTicks(t,r,i,this._mid(h,_)),this._addAngledTicks(t,h,_,this._mid(r,i));break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.GapExtentMidline:{const i=this._cp2(e,2,0),h=this._cp3(e,i,0,1);let _;if(s>=4)_=e[3];else{const s=this._sub(i,r);_=this._add(h,s)}const c=[];c.push(this._mid(r,h)),c.push(this._mid(i,_)),t.push(c);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.Chevron:{const i=this._cp2(e,-1,-1);let h;if(s>=3)h=e[2];else{const s=this._sub(i,r);this._leftPerpendicular(s),h=this._add(r,s)}t.push([i,this._makeCtrlPt(r),h]);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.PerpendicularWithArc:{const s=this._cp2(e,0,-2),i=this._cp3(e,s,.5,-1);let h=this._sub(s,r);const _=this._norm(h);h[0]/=_,h[1]/=_;const c=this._crossProduct(h,this._sub(i,r));let u=this._dotProduct(h,this._sub(i,r));u<.05*_?u=.05*_:u>.95*_&&(u=.95*_);const o=[r[0]+h[0]*u,r[1]+h[1]*u];this._leftPerpendicular(h);let n=[];n.push([o[0]-h[0]*c,o[1]-h[1]*c]),n.push([o[0]+h[0]*c,o[1]+h[1]*c]),t.push(n);const a=[s[0]+h[0]*c,s[1]+h[1]*c];h=this._sub(s,a);const p=Math.cos(Math.PI/18);let l=Math.sin(Math.PI/18);c<0&&(l=-l),n=[r,s];for(let t=1;t<=9;t++)this._rotateDirect(h,p,l),n.push(this._add(a,h));t.push(n);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.ClosedHalfCircle:{const s=this._cp2(e,2,0),i=this._mid(r,s),h=this._sub(s,i),_=Math.cos(Math.PI/18),c=Math.sin(Math.PI/18),u=[r,s];for(let t=1;t<=18;t++)this._rotateDirect(h,_,c),u.push(this._add(i,h));t.push(u);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.TripleParallelExtended:{const s=this._cp2(e,0,-2),h=this._cp3(e,s,1,-2),_=this._mid(r,s),c=this._sub(h,s);this._normalize(c);const u=Math.abs(this._crossProduct(c,this._sub(_,s)))/2,o=this._dist(s,h),n=[s,r];n.push([r[0]+c[0]*o*.5,r[1]+c[1]*o*.5]),t.push(n);const a=[];a.push([_[0]-c[0]*u,_[1]-c[1]*u]),a.push([_[0]+c[0]*o*.375,_[1]+c[1]*o*.375]),CIMCursor_r(a[a.length-1],1),a.push([_[0]+c[0]*o*.75,_[1]+c[1]*o*.75]),t.push(a);const p=[s,h];t.push(p);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.ParallelWithTicks:{const s=this._cp2(e,3,0),i=this._cp3(e,s,.5,-1),h=this._sub(i,s);this._normalize(h);const _=this._crossProduct(h,this._sub(i,r));this._leftPerpendicular(h),this._addAngledTicks(t,r,s,i),this._addAngledTicks(t,this._mix(r,1,h,_),this._mix(s,1,h,_),this._mid(r,s));break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.Parallel:{const s=this._cp2(e,3,0),i=this._cp3(e,s,.5,-1),h=this._sub(s,r);this._normalize(h);const _=this._leftPerp(h),c=this._crossProduct(h,this._sub(i,r));let u=[r,s];t.push(u),u=[],u.push([r[0]+_[0]*c,r[1]+_[1]*c]),u.push([s[0]+_[0]*c,s[1]+_[1]*c]),t.push(u);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.PerpendicularToFirstSegment:{const s=this._cp2(e,3,0),i=this._cp3(e,s,.5,-1),h=this._mid(r,s),_=this._sub(s,r);this._normalize(_);const c=this._crossProduct(_,this._sub(i,r));this._leftPerpendicular(_);const u=[];u.push([h[0]-_[0]*c*.25,h[1]-_[1]*c*.25]),u.push([h[0]+_[0]*c*1.25,h[1]+_[1]*c*1.25]),t.push(u);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.ParallelOffset:{const s=this._cp2(e,3,0),i=this._cp3(e,s,.5,-1),h=this._sub(s,r);this._normalize(h);const _=this._crossProduct(h,this._sub(i,r));this._leftPerpendicular(h);const c=[];c.push([r[0]-h[0]*_,r[1]-h[1]*_]),c.push([s[0]-h[0]*_,s[1]-h[1]*_]),t.push(c);const u=[];u.push([r[0]+h[0]*_,r[1]+h[1]*_]),u.push([s[0]+h[0]*_,s[1]+h[1]*_]),t.push(u);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.OffsetOpposite:{const s=this._cp2(e,3,0),i=this._cp3(e,s,.5,-1),h=this._sub(s,r);this._normalize(h);const _=this._crossProduct(h,this._sub(i,r));this._leftPerpendicular(h);const c=[];c.push([r[0]-h[0]*_,r[1]-h[1]*_]),c.push([s[0]-h[0]*_,s[1]-h[1]*_]),t.push(c);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.OffsetSame:{const s=this._cp2(e,3,0),i=this._cp3(e,s,.5,-1),h=this._sub(s,r);this._normalize(h);const _=this._crossProduct(h,this._sub(i,r));this._leftPerpendicular(h);const c=[];c.push([r[0]+h[0]*_,r[1]+h[1]*_]),c.push([s[0]+h[0]*_,s[1]+h[1]*_]),t.push(c);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.CircleWithArc:{let h=this._cp2(e,3,0);const _=this._cp3(e,h,.5,-1);let c,u;if(s>=4)c=e[3],u=this._crossProduct(this._sub(c,h),this._sub(_,h))>0;else{c=h,u=this._crossProduct(this._sub(c,r),this._sub(_,r))>0;const s=24*this._geomUnitsPerPoint,t=this._sub(c,r);this._normalize(t,s);const i=Math.sqrt(2)/2;this._rotateDirect(t,i,u?i:-i),h=this._add(r,t)}const o=this._sub(h,r),n=Math.cos(Math.PI/18),a=Math.sin(Math.PI/18),p=[h];for(let s=1;s<=36;s++)this._rotateDirect(o,n,a),p.push(this._add(r,o));this._add90DegArc(p,h,c,_,u),CIMCursor_r(p[p.length-8],1),t.push(p);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.DoubleJog:{let i,h,_=this._cp2(e,-3,1);if(i=s>=3?e[2]:this._add(r,this._sub(r,_)),s>=4)h=e[3];else{const s=r;r=_,h=i;const t=this._dist(r,s),e=this._dist(h,s);let c=30*this._geomUnitsPerPoint;.5*t<c&&(c=.5*t),.5*e<c&&(c=.5*e),_=this._mix(r,c/t,s,(t-c)/t),i=this._mix(h,c/e,s,(e-c)/e)}const c=this._mid(r,_),u=this._mid(h,i),o=this._dist(r,_),n=this._dist(i,h);let a=Math.min(o,n)/8;a=Math.min(a,24*this._geomUnitsPerPoint);const p=Math.cos(Math.PI/4);let l=this._sub(r,_);this._normalize(l,a),this._crossProduct(l,this._sub(h,_))>0?this._rotateDirect(l,p,-p):this._rotateDirect(l,p,p);let d=[];d.push(_),d.push(this._add(c,l)),d.push(this._sub(c,l)),d.push(r),t.push(d),l=this._sub(h,i),this._normalize(l,a),this._crossProduct(l,this._sub(r,i))<0?this._rotateDirect(l,p,p):this._rotateDirect(l,p,-p),d=[],d.push(i),d.push(this._add(u,l)),d.push(this._sub(u,l)),d.push(h),t.push(d);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.PerpendicularOffset:{const s=this._cp2(e,-4,1),i=this._cp3(e,s,.882353,-1.94),h=this._sub(i,s);this._crossProduct(h,this._sub(r,s))>0?this._rightPerpendicular(h):this._leftPerpendicular(h);const _=[h[0]/8,h[1]/8],c=this._sub(this._mid(s,i),_);t.push([c,r]);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.LineExcludingLastSegment:{const s=this._arrowPath(e),i=[];let h=s.length-2;for(;h--;)i.push(s[h]);t.push(i);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.MultivertexArrow:{const s=this._arrowPath(e),i=[];this._addArrow(i,s,!1),t.push(i);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.CrossedArrow:{const s=this._arrowPath(e),i=[];this._addArrow(i,s,!0),t.push(i);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.ChevronArrow:{const[s,i]=this._arrowLastSeg(e),h=10*this._geomUnitsPerPoint,_=this._sub(r,s);this._normalize(_);const c=this._crossProduct(_,this._sub(i,s)),u=this._leftPerp(_),o=[i[0]-u[0]*c*2,i[1]-u[1]*c*2],n=[];n.push([i[0]+_[0]*h,i[1]+_[1]*h]),n.push(r),n.push([o[0]+_[0]*h,o[1]+_[1]*h]),t.push(n);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.ChevronArrowOffset:{const[s,i]=this._arrowLastSeg(e),h=this._sub(r,s);this._normalize(h);const _=this._crossProduct(h,this._sub(i,s));this._leftPerpendicular(h);const c=[i[0]-h[0]*_,i[1]-h[1]*_],u=[];u.push([c[0]+h[0]*_*.5,c[1]+h[1]*_*.5]),u.push(this._mid(c,r)),u.push([c[0]-h[0]*_*.5,c[1]-h[1]*_*.5]),t.push(u);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.PartialFirstSegment:{const[s,i]=this._arrowLastSeg(e),h=this._sub(r,s);this._normalize(h);const _=this._crossProduct(h,this._sub(i,s));this._leftPerpendicular(h);const c=[i[0]-h[0]*_,i[1]-h[1]*_];t.push([s,c]);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.Arch:{const s=this._cp2(e,0,-1),i=this._cp3(e,s,.5,1),h=this._sub(r,s),_=this._mix(i,1,h,.55),c=this._mix(i,1,h,-.55),u=[r];this._addBezier2(u,r,_,i,4),this._addBezier2(u,i,c,s,4),t.push(u);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.CurvedParallelTicks:{const s=this._cp2(e,-4,1),i=this._cp3(e,s,.882353,-1.94),h=this._sub(i,s);this._crossProduct(h,this._sub(r,s))>0?this._rightPerpendicular(h):this._leftPerpendicular(h);const _=[h[0]/8,h[1]/8],c=this._sub(this._mid(s,i),_),u=this._sub(this._mix(s,.75,i,.25),_),o=this._sub(this._mix(s,.25,i,.75),_),n=[s];this._addBezier2(n,s,u,c,3),this._addBezier2(n,c,o,i,3),t.push(n);for(let e=0;e<8;e++){const s=n[2*e+1],i=[this._clone(s)];i.push(this._add(s,[h[0]/4,h[1]/4])),t.push(i)}break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.Arc90Degrees:{const s=this._cp2(e,0,-1),i=this._cp3(e,s,.5,1),h=[s];this._add90DegArc(h,s,r,i),t.push(h);break}case enums/* GeometricEffectControlMeasureLineRule */.uQ.FullGeometry:default:t.push(e)}}return t}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectCut.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectCut_r{static local(){return null===EffectCut_r.instance&&(EffectCut_r.instance=new EffectCut_r),EffectCut_r.instance}execute(e,t,i,r,n){return new EffectCut_u(e,t,i)}}EffectCut_r.instance=null;class EffectCut_u extends i{constructor(e,t,r){super(e,!0,!0),this._curveHelper=new CurveHelper_s,this._beginCut=(void 0!==t.beginCut?t.beginCut:1)*r,this._endCut=(void 0!==t.endCut?t.endCut:1)*r,this._middleCut=(void 0!==t.middleCut?t.middleCut:0)*r,this._invert=void 0!==t.invert&&t.invert,this._beginCut<0&&(this._beginCut=0),this._endCut<0&&(this._endCut=0),this._middleCut<0&&(this._middleCut=0)}processPath(t){const{_beginCut:i,_endCut:r,_middleCut:u}=this,n=t.pathLength(),s=GeometryCursor/* GeometryCursor */.z.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._invert){if(0!==i||0!==r||0!==u)if(i+r+u>=n)for(s.startPath();t.nextPoint();)s.pushXY(t.x,t.y);else this._curveHelper.appendSubCurve(s,t,0,i),this._curveHelper.appendSubCurve(s,t,.5*(n-u),.5*(n+u)),this._curveHelper.appendSubCurve(s,t,n-r,r)}else if(0===i&&0===r&&0===u)for(s.startPath();t.nextPoint();)s.pushXY(t.x,t.y);else i+r+u<n&&(0===u?this._curveHelper.appendSubCurve(s,t,i,n-r):(this._curveHelper.appendSubCurve(s,t,i,.5*(n-u)),this._curveHelper.appendSubCurve(s,t,.5*(n+u),n-r)));return 0===s.totalSize?null:s}}

;// ../node_modules/@arcgis/core/symbols/cim/GeometryWalker.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=1e-7;class GeometryWalker_i{constructor(){this._values=[],this.extPtGap=0,this.ctrlPtGap=0,this._length=0,this._currentValue=0}isEmpty(){return 0===this._values.length}size(){return this._values.length}init(t,e,s=!0){if(this._setEmpty(),!t||0===t.length)return!1;for(let i=0;i<t.length;i++){let e=Math.abs(t[i]);s&&e<n&&(e=n),this._values.push(e),this._length+=e}return e&&1&t.length&&(this._length*=2),0!==this._length&&(this.ctrlPtGap=this.extPtGap=0,this._currentValue=-1,!0)}scale(t){const e=this._values?this._values.length:0;for(let s=0;s<e;++s)this._values[s]*=t;this._length*=t,this.extPtGap*=t,this.ctrlPtGap*=t}addValue(t){this._length+=t,this._values.push(t)}firstValue(){return this._values[0]}lastValue(){return this._values[this._values.length-1]}nextValue(){return this._currentValue++,this._currentValue===this._values.length&&(this._currentValue=0),this._values[this._currentValue]}reset(){this._currentValue=-1}length(){return this._length}_setEmpty(){this.extPtGap=this.ctrlPtGap=this._length=0,this._currentValue=-1,this._values.length=0}}class GeometryWalker_h{constructor(){this.pt=null,this.ca=0,this.sa=0}}var GeometryWalker_r;!function(t){t[t.FAIL=0]="FAIL",t[t.END=1]="END",t[t.CONTINUE=2]="CONTINUE"}(GeometryWalker_r||(GeometryWalker_r={}));class a{constructor(){this.reset()}reset(){this.segment=null,this.segmentLength=0,this.abscissa=0,this.isPathEnd=!1,this.isPartEnd=!1}isValid(){return null!==this.segment}copyTo(t){t.segment=this.segment,t.segmentLength=this.segmentLength,t.abscissa=this.abscissa,t.isPathEnd=this.isPathEnd,t.isPartEnd=this.isPartEnd}}class o extends CurveHelper_s{constructor(t=0,e=!1){super(t,e),this._tolerance=CurveHelper_n,this._currentPosition=new a}updateTolerance(t){this._tolerance=CurveHelper_n*t}init(t,e,s=!0){return s?(this._patternLength=e.length(),this._partExtPtGap=e.extPtGap,this._partCtrlPtGap=e.ctrlPtGap):(this._patternLength=0,this._partExtPtGap=0,this._partCtrlPtGap=0),this._currentPosition.reset(),this._partSegCount=0,this._pathCursor=t,this._seg=-1,this._setPosAtNextPart()}curPositionIsValid(){return this._currentPosition.isValid()}nextPosition(t,e=GeometryWalker_r.FAIL){const s=new a;return!!this._nextPosition(t,s,null,e)&&(s.copyTo(this._currentPosition),!0)}curPointAndAngle(t){t.pt=this._getPoint(this._currentPosition);const[e,s]=this._getAngleCS(this._currentPosition);t.ca=e,t.sa=s}nextPointAndAngle(t,e,s=GeometryWalker_r.FAIL){const n=new a;if(!this._nextPosition(t,n,null,s))return!1;n.copyTo(this._currentPosition),e.pt=this._getPoint(n);const[i,h]=this._getAngleCS(n);return e.ca=i,e.sa=h,!0}nextCurve(e){if(0===e)return null;const s=GeometryCursor/* GeometryCursor */.z.createEmptyOptimizedCIM("esriGeometryPolyline");s.startPath(),s.nextPath();const n=new a;return this._nextPosition(e,n,s,GeometryWalker_r.END)?(n.copyTo(this._currentPosition),s):null}isPathEnd(){return this._currentPosition.isPathEnd}getPathEnd(){return this._currentPosition.segment[1]}getPt(t){return this._pathCursor.seekInPath(t),[this._pathCursor.x,this._pathCursor.y]}getSeg(t){return[this.getPt(t),this.getPt(t+1)]}_nextPosition(t,e,s,n){if(this._currentPosition.isPathEnd)return!1;let i=this._currentPosition.abscissa;for(this._currentPosition.segmentLength>0&&(i/=this._currentPosition.segmentLength),this._currentPosition.copyTo(e);e.abscissa+t*this._partLengthRatio>e.segmentLength+this._tolerance;){if(s){if(0===s.pathSize)if(0===i){const t=e.segment[0];s.pushXY(t[0],t[1])}else s.pushPoint(this.getSegCoord2D(e.segment,i));const t=e.segment[1];s.pushXY(t[0],t[1])}if(i=0,t-=(e.segmentLength-e.abscissa)/this._partLengthRatio,this._partSegCount)e.segment=this._nextSegment(),e.segmentLength=this.getSegLength(e.segment),e.abscissa=0,this._partSegCount--;else{if(!this._setPosAtNextPart())return n!==GeometryWalker_r.FAIL&&(e.segmentLength=this.getSegLength(e.segment),e.isPartEnd=!0,n===GeometryWalker_r.END?(e.abscissa=e.segmentLength,e.isPathEnd=!0):e.abscissa=e.segmentLength+t,!0);this._currentPosition.copyTo(e)}}if(e.abscissa+=t*this._partLengthRatio,s){0===s.pathSize&&(0===i?s.pushPoint(e.segment[0]):s.pushPoint(this.getSegCoord2D(e.segment,i)));const t=e.abscissa/e.segmentLength;1===t?s.pushPoint(e.segment[1]):s.pushPoint(this.getSegCoord2D(e.segment,t))}return this._partSegCount||Math.abs(e.abscissa-e.segmentLength)<this._tolerance&&(e.isPathEnd=this._partIsLast,e.isPartEnd=!0),!0}_getPoint(t){const e=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegCoord2D(this._currentPosition.segment,e)}_getAngleCS(t){const e=t.segmentLength<=0?0:t.abscissa/t.segmentLength;return this.getSegAngleCS(this._currentPosition.segment,e)}_setPosAtNextPart(){for(;this._partSegCount;)this._hasNextSegment()&&this._nextSegment(),this._partSegCount--;if(!this._hasNextSegment())return!1;for(this._partLength=0,this._partIsLast=!0,this._partSegCount=0;this._hasNextSegment();)if(this._partLength+=this.getSegLength(this._nextSegment()),this._partSegCount++,this._pathCursor.getControlPointAt(this._getEndPointIndex())){this._partIsLast=!this._hasNextSegment();break}let t=this._partSegCount;for(;t;)this._previousSegment(),--t;this._currentPosition.segment=this._nextSegment(),this._currentPosition.segmentLength=this.getSegLength(this._currentPosition.segment),this._currentPosition.abscissa=0,this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=!1,--this._partSegCount;const e=this._getStartPointIndex();this._ctrlPtBegin=this._pathCursor.getControlPointAt(e);let s=e+this._partSegCount+1;if(s>=this._pathCursor.pathSize&&(s=0),this._ctrlPtEnd=this._pathCursor.getControlPointAt(s),this._patternLength>0){const t=this._ctrlPtBegin?this._partCtrlPtGap:this._partExtPtGap,e=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap;let s=Math.round((this._partLength-(t+e))/this._patternLength);s<=0&&(s=t+e>0?0:1),this._partLengthRatio=this._partLength/(t+e+s*this._patternLength),this._partLengthRatio<.01&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0}_hasNextSegment(){return this._seg<this._pathCursor.pathSize-2}_previousSegment(){return this.getSeg(--this._seg)}_nextSegment(){return this.getSeg(++this._seg)}_getStartPointIndex(){return this._seg}_getEndPointIndex(){return this._seg+1}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectDashes.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectDashes_n{static local(){return null===EffectDashes_n.instance&&(EffectDashes_n.instance=new EffectDashes_n),EffectDashes_n.instance}execute(t,e,s,i,r){return new EffectDashes_h(t,e,s)}}EffectDashes_n.instance=null;class EffectDashes_h extends i{constructor(t,e,s){super(t,!0,!0),this._firstCurve=null,this._walker=new o,this._walker.updateTolerance(s),this._endings=e.lineDashEnding,this._customDashPos=-(e.offsetAlongLine??0)*s,this._offsetAtEnd=(e.customEndingOffset??0)*s,this._pattern=new GeometryWalker_i,this._pattern.init(e.dashTemplate,!0),this._pattern.scale(s)}processPath(s){if(0===this._pattern.length()){this.iteratePath=!1;const i=(0,geometryCursorCollectUtils/* collectPath */.A)(s);return GeometryCursor/* GeometryCursor */.z.fromJSONCIM({paths:[i]})}if(!this.iteratePath){let r=!0;switch(this._endings){case enums/* LineDashEnding */.yS.HalfPattern:case enums/* LineDashEnding */.yS.HalfGap:default:this._pattern.extPtGap=0;break;case enums/* LineDashEnding */.yS.FullPattern:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case enums/* LineDashEnding */.yS.FullGap:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.lastValue());break;case enums/* LineDashEnding */.yS.NoConstraint:this.isClosed||(r=!1);break;case enums/* LineDashEnding */.yS.Custom:this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}const a=s.pathLength();if(this._pattern.isEmpty()||a<.1*this._pattern.length()){const i=(0,geometryCursorCollectUtils/* collectPath */.A)(s);return GeometryCursor/* GeometryCursor */.z.fromJSONCIM({paths:[i]})}if(!this._walker.init(s,this._pattern,r)){const i=(0,geometryCursorCollectUtils/* collectPath */.A)(s);return GeometryCursor/* GeometryCursor */.z.fromJSONCIM({paths:[i]})}}let r;if(this.iteratePath)r=this._pattern.nextValue();else{let t;switch(this._endings){case enums/* LineDashEnding */.yS.HalfPattern:default:t=.5*this._pattern.firstValue();break;case enums/* LineDashEnding */.yS.HalfGap:t=.5*-this._pattern.lastValue();break;case enums/* LineDashEnding */.yS.FullGap:t=-this._pattern.lastValue();break;case enums/* LineDashEnding */.yS.FullPattern:t=0;break;case enums/* LineDashEnding */.yS.NoConstraint:case enums/* LineDashEnding */.yS.Custom:t=-this._customDashPos}let e=t/this._pattern.length();e-=Math.floor(e),t=e*this._pattern.length(),this._pattern.reset(),r=this._pattern.nextValue();let s=!1;for(;t>=r;)t-=r,r=this._pattern.nextValue(),s=!s;r-=t,s?(this._walker.nextPosition(r),r=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(r),r=this._pattern.nextValue(),this._walker.nextPosition(r),r=this._pattern.nextValue())}let a=this._walker.nextCurve(r);if(a)if(this._walker.isPathEnd()){if(this.iteratePath=!1,this._firstCurve){for(this._firstCurve.nextPath();this._firstCurve.nextPoint();)a.pushXY(this._firstCurve.x,this._firstCurve.y);this._firstCurve=null}}else r=this._pattern.nextValue(),!this._walker.nextPosition(r)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(a.pushCursor(this._firstCurve),this._firstCurve=null)):this.iteratePath=!0;else this.iteratePath=!1,a=this._firstCurve,this._firstCurve=null;return a?.reset(),a}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectDonut.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectDonut_s{static local(){return null===EffectDonut_s.instance&&(EffectDonut_s.instance=new EffectDonut_s),EffectDonut_s.instance}execute(t,e,i,n,s,m){return new EffectDonut_r(t,e,i,n,s,m)}}EffectDonut_s.instance=null;class EffectDonut_r{constructor(t,e,n,s,r,m){switch(this._inputGeometries=t,this._tileKey=s,this._geometryEngine=r,this._maxInflateSize=m*n,this._width=(void 0!==e.width?e.width:2)*n,e.method){case enums/* GeometricEffectDonutMethod */.M1.Mitered:case enums/* GeometricEffectDonutMethod */.M1.Bevelled:case enums/* GeometricEffectDonutMethod */.M1.Rounded:case enums/* GeometricEffectDonutMethod */.M1.TrueBuffer:case enums/* GeometricEffectDonutMethod */.M1.Square:}this._option=e.option}next(){let i;for(;i=this._inputGeometries.next();){if("esriGeometryEnvelope"===i.geometryType&&this._width>0){const e=i.asJSON();return Math.min(e.xmax-e.xmin,e.ymax-e.ymin)-2*this._width<0?i:GeometryCursor/* GeometryCursor */.z.fromJSONCIM({paths:[[[e.xmin+this._width,e.ymin+this._width],[e.xmax-this._width,e.ymin+this._width],[e.xmax-this._width,e.ymax-this._width],[e.xmin+this._width,e.ymax-this._width],[e.xmin+this._width,e.ymin+this._width]],[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}if("esriGeometryPolygon"===i.geometryType){if(0===this._width)return i.clone();const t=this._geometryEngine;if(null==t)return null;const s=this._tileKey?(0,CIMEffects/* clipCursorToTileExtent */.q)(i,this._maxInflateSize):i.clone();if(!s)continue;const r=t.buffer(SpatialReference/* default */.A.WebMercator,s.asJSON(),-this._width,1);if(r)for(const e of r.rings)e&&s.pushPath(e.reverse());return s}}return null}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectJog.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectJog_e{static local(){return null===EffectJog_e.instance&&(EffectJog_e.instance=new EffectJog_e),EffectJog_e.instance}execute(t,i,s,e,o){return new EffectJog_n(t,i,s)}}EffectJog_e.instance=null;class EffectJog_n extends i{constructor(t,i,e){super(t,!1,!0),this._curveHelper=new CurveHelper_s,this._length=(void 0!==i.length?i.length:20)*e,this._angle=void 0!==i.angle?i.angle:225,this._position=void 0!==i.position?i.position:50,this._length<0&&(this._length=-this._length),this._position<20&&(this._position=20),this._position>80&&(this._position=80),this._mirror=!1}processPath(i){const s=GeometryCursor/* GeometryCursor */.z.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._curveHelper.isEmpty(i))return null;i.seekInPath(0);const e=i.x,n=i.y;i.seekInPath(i.pathSize-1);const o=i.x,r=i.y,h=[o-e,r-n];this._curveHelper.normalize(h);const l=e+(o-e)*this._position/100,_=n+(r-n)*this._position/100,a=Math.cos((90-this._angle)/180*Math.PI);let p=Math.sin((90-this._angle)/180*Math.PI);this._mirror&&(p=-p),this._mirror=!this._mirror;const c=[l-this._length/2*a,_-this._length/2*p],m=[l+this._length/2*a,_+this._length/2*p];return s.pushPath([[e,n],c,m,[o,r]]),s}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectMove.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectMove_t{static local(){return null===EffectMove_t.instance&&(EffectMove_t.instance=new EffectMove_t),EffectMove_t.instance}execute(t,s,n,o,i){return new EffectMove_e(t,s,n)}}EffectMove_t.instance=null;class EffectMove_e{constructor(t,e,s){this._inputGeometries=t,this._offsetX=void 0!==e.offsetX?e.offsetX*s:0,this._offsetY=void 0!==e.offsetY?e.offsetY*s:0}next(){let t=this._inputGeometries.next();for(;t;){if(t.totalSize>0)return this._move(t.clone(),this._offsetX,this._offsetY);t=this._inputGeometries.next()}return null}_move(t,e,s){for(;t.nextPath();)for(;t.nextPoint();)t.x=t.x+e,t.y=t.y+s;return t.reset(),t}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/jsonUtils.js
var jsonUtils = __webpack_require__(1171);
;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectOffset.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectOffset_m{static local(){return null===EffectOffset_m.instance&&(EffectOffset_m.instance=new EffectOffset_m),EffectOffset_m.instance}execute(t,e,o,s,r,i){return new EffectOffset_h(t,e,o,s,r,i)}}EffectOffset_m.instance=null;class EffectOffset_h{constructor(t,e,o,s,n,f){this._inputGeometries=t,this._tileKey=s,this._geometryEngine=n,this._curveHelper=new CurveHelper_s,this._offset=(e.offset??1)*o,this._method=e.method,this._maxInflateSize=f*o,this._option=e.option,this._offsetFlattenError=CurveHelper_n*o}next(){let r;for(;r=this._inputGeometries.next();){if(0===this._offset)return r.clone();if("esriGeometryEnvelope"===r.geometryType){if(this._method===enums/* GeometricEffectOffsetMethod */.xw.Rounded&&this._offset>0){const o=(0,geometryCursorCollectUtils/* collectPath */.A)(r),s=this._curveHelper.offset(o,-this._offset,this._method,4,this._offsetFlattenError);if(s){const e=GeometryCursor/* GeometryCursor */.z.createEmptyOptimizedCIM(r.geometryType);return e.pushPath(s),e}return null}const s=r.asJSON();if((0,jsonUtils/* isExtent */.ZC)(s)&&Math.min(s.xmax-s.xmin,s.ymax-s.ymin)+2*this._offset>0)return GeometryCursor/* GeometryCursor */.z.fromJSONCIM({xmin:s.xmin-this._offset,xmax:s.xmax+this._offset,ymin:s.ymin-this._offset,ymax:s.ymax+this._offset})}const i=this._geometryEngine;if(null==i)continue;const m=this._tileKey?(0,CIMEffects/* clipCursorToTileExtent */.q)(r,this._maxInflateSize):r.clone();if(!m)continue;const h=i.offset(SpatialReference/* default */.A.WebMercator,m.asJSON(),-this._offset,1,this._method,4,this._offsetFlattenError);return h?GeometryCursor/* GeometryCursor */.z.fromJSONCIM(h):null}return null}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectReverse.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectReverse_e{static local(){return null===EffectReverse_e.instance&&(EffectReverse_e.instance=new EffectReverse_e),EffectReverse_e.instance}execute(e,n,r,s,i){return new EffectReverse_t(e,n,r)}}EffectReverse_e.instance=null;class EffectReverse_t{constructor(e,t,n){this._inputGeometries=e,this._reverse=void 0===t.reverse||t.reverse}next(){let e=this._inputGeometries.next();for(;e;){if(!this._reverse)return e;if("esriGeometryPolyline"===e.geometryType)return EffectReverse_n(e.clone());e=this._inputGeometries.next()}return null}}function EffectReverse_n(e){for(;e.nextPath();)for(let t=0;t<e.pathSize/2;t++){e.seekInPath(t);const n=e.x,r=e.y;e.seekInPath(e.pathSize-t-1);const s=e.x,i=e.y;e.x=n,e.y=r,e.seekInPath(t),e.x=s,e.y=i}return e.reset(),e}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/boundsUtils.js
var boundsUtils = __webpack_require__(36358);
;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectRotate.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectRotate_e{static local(){return null===EffectRotate_e.instance&&(EffectRotate_e.instance=new EffectRotate_e),EffectRotate_e.instance}execute(t,e,r,s,o){return new EffectRotate_n(t,e,r)}}EffectRotate_e.instance=null;class EffectRotate_n{constructor(t,e,n){this._inputGeometries=t,this._rotateAngle=void 0!==e.angle?e.angle*Math.PI/180:0}next(){let e=this._inputGeometries.next();for(;e;){if(0===this._rotateAngle||"esriGeometryPoint"===e.geometryType)return e;if(e.totalSize>0){const n=(0,boundsUtils/* getCursorBoundsXY */.z8)(e),r=(n[2]+n[0])/2,s=(n[3]+n[1])/2;return e.reset(),this._rotate(e.clone(),r,s)}e=this._inputGeometries.next()}return null}_rotate(t,e,n){const r=Math.cos(this._rotateAngle),s=Math.sin(this._rotateAngle);for(;t.nextPath();)for(;t.nextPoint();){const o=t.x-e,i=t.y-n;t.x=e+o*r-i*s,t.y=n+o*s+i*r}return t.reset(),t}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectScale.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectScale_e{static local(){return null===EffectScale_e.instance&&(EffectScale_e.instance=new EffectScale_e),EffectScale_e.instance}execute(t,e,o,s,n){return new EffectScale_r(t,e,o)}}EffectScale_e.instance=null;class EffectScale_r{constructor(t,e,r){this._inputGeometries=t,this._xFactor=void 0!==e.XScaleFactor?e.XScaleFactor:1.15,this._yFactor=void 0!==e.YScaleFactor?e.YScaleFactor:1.15}next(){const e=this._inputGeometries.next();if(e){if(1===this._xFactor&&1===this._yFactor)return e;if("esriGeometryPoint"===e.geometryType)return e;if(e.totalSize>0){const r=(0,boundsUtils/* getCursorBoundsXY */.z8)(e),o=(r[2]+r[0])/2,s=(r[3]+r[1])/2;return e.reset(),this._scaleCursor(e.clone(),o,s)}}return null}_scaleCursor(t,e,r){for(;t.nextPath();)for(;t.nextPoint();)t.x=e+(t.x-e)*this._xFactor,t.y=r+(t.y-r)*this._yFactor;return t.reset(),t}}

;// ../node_modules/@arcgis/core/symbols/cim/effects/EffectWave.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EffectWave_n{static local(){return null===EffectWave_n.instance&&(EffectWave_n.instance=new EffectWave_n),EffectWave_n.instance}execute(t,e,i,s,h){return new EffectWave_r(t,e,i)}}EffectWave_n.instance=null;class EffectWave_r{constructor(t,e,h){this._inputGeometries=t,this._height=(void 0!==e.amplitude?e.amplitude:2)*h,this._period=(void 0!==e.period?e.period:3)*h,this._style=e.waveform,this._height<=0&&(this._height=Math.abs(this._height)),this._period<=0&&(this._period=Math.abs(this._period)),this._pattern=new GeometryWalker_i,this._pattern.addValue(this._period),this._pattern.addValue(this._period),this._walker=new o,this._walker.updateTolerance(h)}next(){let t=this._inputGeometries.next();for(;t;){if(0===this._height||0===this._period)return t;const e=this._processGeom(t);if(e)return e;t=this._inputGeometries.next()}return null}_processGeom(i){const s=GeometryCursor/* GeometryCursor */.z.createEmptyOptimizedCIM(i.geometryType);for(;i.nextPath();){s.startPath();const t=i.pathLength();if(this._walker.init(i,this._pattern))switch(this._style){case enums/* GeometricEffectWaveform */.WE.Sinus:default:this._constructCurve(s,t,!1);break;case enums/* GeometricEffectWaveform */.WE.Square:this._constructSquare(s,t);break;case enums/* GeometricEffectWaveform */.WE.Triangle:this._constructTriangle(s,t);break;case enums/* GeometricEffectWaveform */.WE.Random:this._constructCurve(s,t,!0)}else for(;i.nextPoint();)s.pushXY(i.x,i.y)}return s}_constructCurve(t,e,i){let s=Math.round(e/this._period);0===s&&(s=1);const n=s*16+1,r=e/s,a=this._period/16,o=1/n,p=2*Math.PI*e/r,_=2*Math.PI*Math.random(),u=2*Math.PI*Math.random(),l=2*Math.PI*Math.random(),c=.75-Math.random()/2,d=.75-Math.random()/2,g=new GeometryWalker_h;this._walker.curPointAndAngle(g),t.pushPoint(g.pt);let w=0;for(;;){if(!this._walker.nextPointAndAngle(a,g)){t.pushPoint(this._walker.getPathEnd());break}{const e=w;let s;if(w+=o,i){const t=this._height/2*(1+.3*Math.sin(c*p*e+_));s=t*Math.sin(p*e+u),s+=t*Math.sin(d*p*e+l),s/=2}else s=.5*this._height*Math.sin(.5*p*e);t.pushXY(g.pt[0]-s*g.sa,g.pt[1]+s*g.ca)}}}_constructSquare(t,e){Math.round(e/this._period);let i=!0;for(;;){let e=!1;if(this._walker.curPositionIsValid()){const s=new GeometryWalker_h;this._walker.curPointAndAngle(s);const n=new GeometryWalker_h;if(this._walker.nextPointAndAngle(this._period,n)){const r=new GeometryWalker_h;this._walker.nextPointAndAngle(this._period,r)&&(i?(t.pushPoint(s.pt),i=!1):t.pushPoint(s.pt),t.pushXY(s.pt[0]-this._height/2*s.sa,s.pt[1]+this._height/2*s.ca),t.pushXY(n.pt[0]-this._height/2*n.sa,n.pt[1]+this._height/2*n.ca),t.pushXY(n.pt[0]+this._height/2*n.sa,n.pt[1]-this._height/2*n.ca),t.pushXY(r.pt[0]+this._height/2*r.sa,r.pt[1]-this._height/2*r.ca),e=!0)}}if(!e){t.pushPoint(this._walker.getPathEnd());break}}}_constructTriangle(t,e){Math.round(e/this._period);let i=!0;for(;;){let e=!1;if(this._walker.curPositionIsValid()){const s=new GeometryWalker_h;this._walker.curPointAndAngle(s);const n=new GeometryWalker_h;if(this._walker.nextPointAndAngle(this._period/2,n)){const r=new GeometryWalker_h;this._walker.nextPointAndAngle(this._period,r)&&(this._walker.nextPosition(this._period/2)&&(i?(t.pushPoint(s.pt),i=!1):t.pushPoint(s.pt),t.pushXY(n.pt[0]-this._height/2*n.sa,n.pt[1]+this._height/2*n.ca),t.pushXY(r.pt[0]+this._height/2*r.sa,r.pt[1]-this._height/2*r.ca)),e=!0)}}if(!e){t.pushPoint(this._walker.getPathEnd());break}}}}

;// ../node_modules/@arcgis/core/symbols/cim/placements/PlacementAlongLineSameSize.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class PlacementAlongLineSameSize_a{static local(){return null===PlacementAlongLineSameSize_a.instance&&(PlacementAlongLineSameSize_a.instance=new PlacementAlongLineSameSize_a),PlacementAlongLineSameSize_a.instance}execute(t,e,s,i,n){return new PlacementAlongLineSameSize_r(t,e,s)}}PlacementAlongLineSameSize_a.instance=null;class PlacementAlongLineSameSize_r extends s{constructor(t,e,n){super(t),this._geometryWalker=new o,this._geometryWalker.updateTolerance(n),this._angleToLine=e.angleToLine??!0,this._offset=(e.offset?e.offset:0)*n,this._originalEndings=e.endings,this._offsetAtEnd=(e.customEndingOffset?e.customEndingOffset:0)*n,this._position=-(e.offsetAlongLine?e.offsetAlongLine:0)*n,this._pattern=new GeometryWalker_i,this._pattern.init(e.placementTemplate,!1),this._pattern.scale(n),this._endings=this._originalEndings}processPath(t){if(this._pattern.isEmpty())return null;let s;if(this.iteratePath)s=this._pattern.nextValue();else{this._originalEndings===enums/* PlacementEndings */.e_.WithFullGap&&this.isClosed?this._endings=enums/* PlacementEndings */.e_.WithMarkers:this._endings=this._originalEndings,this._pattern.extPtGap=0;let i,n=!0;switch(this._endings){case enums/* PlacementEndings */.e_.NoConstraint:i=-this._position,i=this._adjustPosition(i),n=!1;break;case enums/* PlacementEndings */.e_.WithHalfGap:default:i=-this._pattern.lastValue()/2;break;case enums/* PlacementEndings */.e_.WithFullGap:i=-this._pattern.lastValue(),this._pattern.extPtGap=this._pattern.lastValue();break;case enums/* PlacementEndings */.e_.WithMarkers:i=0;break;case enums/* PlacementEndings */.e_.Custom:i=-this._position,i=this._adjustPosition(i),this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._geometryWalker.init(t,this._pattern,n))return null;this._pattern.reset();let a=0;for(;i>a;)i-=a,a=this._pattern.nextValue();a-=i,s=a,this.iteratePath=!0}const i=new GeometryWalker_h;return this._geometryWalker.nextPointAndAngle(s,i)?this._endings===enums/* PlacementEndings */.e_.WithFullGap&&this._geometryWalker.isPathEnd()?(this.iteratePath=!1,null):this._endings===enums/* PlacementEndings */.e_.WithMarkers&&this._geometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed)?null:(this.internalPlacement.setTranslate(i.pt[0]-this._offset*i.sa,i.pt[1]+this._offset*i.ca),this._angleToLine&&this.internalPlacement.setRotateCS(i.ca,i.sa),this.internalPlacement):(this.iteratePath=!1,null)}_adjustPosition(t){let e=t/this._pattern.length();return e-=Math.floor(e),e*this._pattern.length()}}

;// ../node_modules/@arcgis/core/symbols/cim/placements/PlacementAtExtremities.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class PlacementAtExtremities_i{static local(){return null===PlacementAtExtremities_i.instance&&(PlacementAtExtremities_i.instance=new PlacementAtExtremities_i),PlacementAtExtremities_i.instance}execute(e,t,s,i,r){return new PlacementAtExtremities_n(e,t,s)}}PlacementAtExtremities_i.instance=null;class PlacementAtExtremities_n extends s{constructor(e,s,i){super(e,!1,!0),this._curveHelper=new CurveHelper_s,this._angleToLine=void 0===s.angleToLine||s.angleToLine,this._offset=void 0!==s.offset?s.offset*i:0,this._type=s.extremityPlacement,this._position=void 0!==s.offsetAlongLine?s.offsetAlongLine*i:0,this._beginProcessed=!1}processPath(e){let t;switch(this._type){case enums/* ExtremityPlacement */.$2.Both:default:this._beginProcessed?(t=this._atExtremities(e,this._position,!1),this._beginProcessed=!1,this.iteratePath=!1):(t=this._atExtremities(e,this._position,!0),this._beginProcessed=!0,this.iteratePath=!0);break;case enums/* ExtremityPlacement */.$2.JustBegin:t=this._atExtremities(e,this._position,!0);break;case enums/* ExtremityPlacement */.$2.JustEnd:t=this._atExtremities(e,this._position,!1);case enums/* ExtremityPlacement */.$2.None:}return t}_atExtremities(e,t,s){if(s||e.seekPathEnd(),s?e.nextPoint():e.prevPoint()){let i=0,[n,r]=[0,0],[o,a]=[e.x,e.y];for(;s?e.nextPoint():e.prevPoint();){n=o,r=a,o=e.x,a=e.y;const s=this._curveHelper.getLength(n,r,o,a);if(i+s>t){const e=(t-i)/s,[h,l]=this._curveHelper.getAngleCS(n,r,o,a,e),c=this._curveHelper.getCoord2D(n,r,o,a,e);return this.internalPlacement.setTranslate(c[0]-this._offset*l,c[1]+this._offset*h),this._angleToLine&&this.internalPlacement.setRotateCS(-h,-l),this.internalPlacement}i+=s}}return null}}

;// ../node_modules/@arcgis/core/symbols/cim/placements/PlacementAtRatioPositions.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class PlacementAtRatioPositions_a{static local(){return null===PlacementAtRatioPositions_a.instance&&(PlacementAtRatioPositions_a.instance=new PlacementAtRatioPositions_a),PlacementAtRatioPositions_a.instance}execute(t,i,s,e,n){return new PlacementAtRatioPositions_r(t,i,s)}}PlacementAtRatioPositions_a.instance=null;class PlacementAtRatioPositions_r extends s{constructor(t,e,n){super(t),this._walker=new o,this._walker.updateTolerance(n),this._angleToLine=void 0===e.angleToLine||e.angleToLine,this._offset=void 0!==e.offset?e.offset*n:0,this._beginGap=void 0!==e.beginPosition?e.beginPosition*n:0,this._endGap=void 0!==e.endPosition?e.endPosition*n:0,this._flipFirst=void 0===e.flipFirst||e.flipFirst,this._pattern=new GeometryWalker_i,this._pattern.init(e.positionArray,!1,!1),this._subPathLen=0,this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0}processPath(t){if(this._pattern.isEmpty())return null;let i;if(this.iteratePath){const t=this._pattern.nextValue()*this._subPathLen,s=this._beginGap+t;i=s-this._prevPos,this._prevPos=s}else{if(this._posCount=this._pattern.size(),this._isFirst=!0,this._prevPos=0,this._subPathLen=t.pathLength()-this._beginGap-this._endGap,this._subPathLen<0)return this.iteratePath=!1,null;if(!this._walker.init(t,this._pattern,!1))return null;this._pattern.reset();const s=this._pattern.nextValue()*this._subPathLen,e=this._beginGap+s;i=e-this._prevPos,this._prevPos=e,this.iteratePath=!0}const s=new GeometryWalker_h;if(!this._walker.nextPointAndAngle(i,s,GeometryWalker_r.END))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(s.pt[0]-this._offset*s.sa,s.pt[1]+this._offset*s.ca);const a=this._isFirst&&this._flipFirst;let r,h;return this._angleToLine?(r=s.ca,h=s.sa):(r=1,h=0),a&&(r=-r,h=-h),this.internalPlacement.setRotateCS(r,h),this._isFirst=!1,this._posCount--,0===this._posCount&&(this.iteratePath=!1),this.internalPlacement}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/RandomLCG.js
var RandomLCG = __webpack_require__(9272);
;// ../node_modules/@arcgis/core/symbols/cim/placements/PlacementInsidePolygon.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const PlacementInsidePolygon_e=512,PlacementInsidePolygon_h=10,PlacementInsidePolygon_n=24,_=1e-6;class PlacementInsidePolygon_r{static local(){return null===PlacementInsidePolygon_r.instance&&(PlacementInsidePolygon_r.instance=new PlacementInsidePolygon_r),PlacementInsidePolygon_r.instance}execute(t,s,i,e,h){return new PlacementInsidePolygon_a(t,s,i,e,h)}}PlacementInsidePolygon_r.instance=null;class PlacementInsidePolygon_a{constructor(h,n,_,r,a){if(this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,this._currentX=0,this._currentY=0,this._accelerationMap=null,this._testInsidePolygon=!1,this._verticalSubdivision=!0,this._stepX=Math.abs(n.stepX??16)*_,this._stepY=Math.abs(n.stepY??16)*_,this._stepX=Math.round(128*this._stepX)/128,this._stepY=Math.round(128*this._stepY)/128,0!==this._stepX&&0!==this._stepY){if(this._gridType=n.gridType??enums/* PlacementGridType */.Q1.Fixed,this._gridType===enums/* PlacementGridType */.Q1.Random){const s=n.seed??13,i=1;this._randomLCG=new RandomLCG/* default */.A(s*i),this._randomness=(n.randomness??100)/100,this._gridAngle=0,this._shiftOddRows=!1,this._cosAngle=1,this._sinAngle=0,this._offsetX=0,this._offsetY=0,this._buildRandomValues()}else{if(this._randomness=0,this._gridAngle=n.gridAngle??0,this._shiftOddRows=n.shiftOddRows??!1,this._offsetX=(n.offsetX??0)*_,this._offsetY=(n.offsetY??0)*_,this._cosAngle=Math.cos(this._gridAngle/180*Math.PI),this._sinAngle=-Math.sin(this._gridAngle/180*Math.PI),this._stepX)if(this._offsetX<0)for(;this._offsetX<-.5*this._stepX;)this._offsetX+=this._stepX;else for(;this._offsetX>=.5*this._stepX;)this._offsetX-=this._stepX;if(this._stepY)if(this._offsetY<0)for(;this._offsetY<-.5*this._stepY;)this._offsetY+=this._stepY;else for(;this._offsetY>=.5*this._stepY;)this._offsetY-=this._stepY}if(this._graphicOriginX=0,this._graphicOriginY=0,null!=r){const[t,s,i,h]=r.split("/"),n=parseFloat(t),_=parseFloat(s),a=parseFloat(i),o=parseFloat(h);this._graphicOriginX=-(o*2**n+a)*PlacementInsidePolygon_e,this._graphicOriginY=_*PlacementInsidePolygon_e,this._testInsidePolygon=!0}this._internalPlacement=new CIMPlacements/* Placement */.W,this._calculateMinMax(h),this._geometryCursor=h}}next(){return this._geometryCursor?this._nextInside():null}_buildRandomValues(){if(!PlacementInsidePolygon_a._randValues){PlacementInsidePolygon_a._randValues=[];for(let t=0;t<PlacementInsidePolygon_n;t++)for(let s=0;s<PlacementInsidePolygon_n;s++)PlacementInsidePolygon_a._randValues.push(this._randomLCG.getFloat()),PlacementInsidePolygon_a._randValues.push(this._randomLCG.getFloat())}}_calculateMinMax(t){let s,i,h,n,_,r,a,o,l,f,c,u,p,M;this._xMin=0,this._xMax=0,this._yMin=0,this._yMax=0,a=o=p=c=Number.MAX_VALUE,l=f=M=u=-Number.MAX_VALUE;const g=1!==this._cosAngle;for(t.reset();t.nextPath();)for(;t.nextPoint();)r=t.x,_=t.y,s=r-this._graphicOriginX-this._offsetX,i=_-this._graphicOriginY-this._offsetY,g?(h=this._cosAngle*s-this._sinAngle*i,n=this._sinAngle*s+this._cosAngle*i):(h=s,n=i),a=Math.min(a,h),l=Math.max(l,h),o=Math.min(o,n),f=Math.max(f,n),c=Math.min(c,_),u=Math.max(u,_),p=Math.min(p,r),M=Math.max(M,r);c=c!==Number.MAX_VALUE?c:-PlacementInsidePolygon_e-this._stepY,u=u!==-Number.MAX_VALUE?u:this._stepY,p=p!==Number.MAX_VALUE?p:-this._stepX,M=M!==-Number.MAX_VALUE?M:PlacementInsidePolygon_e+this._stepX;const d=u-c,X=M-p;if(this._verticalSubdivision=d>=X,this._polygonMin=this._verticalSubdivision?c:p,this._testInsidePolygon){let t=0-this._graphicOriginX-this._offsetX-this._stepX,s=PlacementInsidePolygon_e-this._graphicOriginX-this._offsetX+this._stepX,i=-PlacementInsidePolygon_e-this._graphicOriginY-this._offsetY-this._stepY,h=0-this._graphicOriginY-this._offsetY+this._stepY;if(g){const e=[[t,i],[t,h],[s,i],[s,h]];t=i=Number.MAX_VALUE,s=h=-Number.MAX_VALUE;for(const n of e){const e=this._cosAngle*n[0]-this._sinAngle*n[1],_=this._sinAngle*n[0]+this._cosAngle*n[1];t=Math.min(t,e),s=Math.max(s,e),i=Math.min(i,_),h=Math.max(h,_)}}a=a!==Number.MAX_VALUE?Math.max(a,t):t,o=o!==Number.MAX_VALUE?Math.max(o,i):i,l=l!==-Number.MAX_VALUE?Math.min(l,s):s,f=f!==-Number.MAX_VALUE?Math.min(f,h):h}this._xMin=Math.round(a/this._stepX),this._xMax=Math.round(l/this._stepX),this._yMin=Math.round(o/this._stepY),this._yMax=Math.round(f/this._stepY),this._currentX=this._xMax+1,this._currentY=this._yMin-1,this._buildAccelerationMap(t,p,M,c,u)}_buildAccelerationMap(t,s,i,n,_){t.reset();const r=new Map,a=this._verticalSubdivision,o=a?_-n:i-s;let f=Math.ceil(o/PlacementInsidePolygon_h);if(f<=1)return;const c=Math.floor(o/f);let u,p,M,g,d,X,m,x,A,Y,y;for(f++,this._delta=c,a?(A=-PlacementInsidePolygon_e-this._stepY,Y=this._stepY,y=n):(A=-this._stepX,Y=PlacementInsidePolygon_e+this._stepX,y=s);t.nextPath();)if(!(t.pathSize<2)&&t.nextPoint())for(u=t.x,p=t.y;t.nextPoint();u=M,p=g){if(M=t.x,g=t.y,a){if(p===g||p<A&&g<A||p>Y&&g>Y)continue;d=Math.min(p,g),X=Math.max(p,g)}else{if(u===M||u<A&&M<A||u>Y&&M>Y)continue;d=Math.min(u,M),X=Math.max(u,M)}for(;d<X;)m=Math.floor((d-y)/c),PlacementInsidePolygon_l(m,u,p,M,g,r),d+=c;x=Math.floor((X-y)/c),x>m&&PlacementInsidePolygon_l(x,u,p,M,g,r)}this._accelerationMap=r}_nextInside(){for(;;){if(this._currentX>this._xMax){if(this._currentY++,this._currentY>this._yMax)return null;this._currentX=this._xMin,this._shiftOddRows&&this._currentY%2&&this._currentX--}let t=this._currentX*this._stepX+this._offsetX;this._shiftOddRows&&this._currentY%2&&(t+=.5*this._stepX);const s=this._currentY*this._stepY+this._offsetY;let e,h;if(this._currentX++,this._gridType===enums/* PlacementGridType */.Q1.Random){const i=(this._currentX%PlacementInsidePolygon_n+PlacementInsidePolygon_n)%PlacementInsidePolygon_n,_=(this._currentY%PlacementInsidePolygon_n+PlacementInsidePolygon_n)%PlacementInsidePolygon_n;e=this._graphicOriginX+t+this._stepX*this._randomness*(.5-PlacementInsidePolygon_a._randValues[_*PlacementInsidePolygon_n+i])*2/3,h=this._graphicOriginY+s+this._stepY*this._randomness*(.5-PlacementInsidePolygon_a._randValues[_*PlacementInsidePolygon_n+i+1])*2/3}else e=this._graphicOriginX+this._cosAngle*t+this._sinAngle*s,h=this._graphicOriginY-this._sinAngle*t+this._cosAngle*s;if(!this._testInsidePolygon||this._isInsidePolygon(e,h,this._geometryCursor))return this._internalPlacement.setTranslate(e,h),this._internalPlacement}}_isInsidePolygon(t,s,i){if(null==this._accelerationMap)return PlacementInsidePolygon_o(t,s,i);t+=_,s+=_;const e=this._verticalSubdivision,h=e?s:t,n=Math.floor((h-this._polygonMin)/this._delta),r=this._accelerationMap.get(n);if(!r)return!1;let a,l,f,c=0;for(const _ of r){if(a=_[0],l=_[1],e){if(a[1]>s==l[1]>s)continue;f=(l[0]-a[0])*(s-a[1])-(l[1]-a[1])*(t-a[0])}else{if(a[0]>t==l[0]>t)continue;f=(l[1]-a[1])*(t-a[0])-(l[0]-a[0])*(s-a[1])}f>0?c++:c--}return 0!==c}}function PlacementInsidePolygon_o(t,s,i){let e,h,n,r,a=0;for(t+=_,s+=_,i.reset();i.nextPath();)if(i.nextPoint())for(e=i.x,h=i.y;i.nextPoint();e=n,h=r){if(n=i.x,r=i.y,h>s==r>s)continue;(n-e)*(s-h)-(r-h)*(t-e)>0?a++:a--}return 0!==a}function PlacementInsidePolygon_l(t,s,i,e,h,n){let _=n.get(t);_||(_=[],n.set(t,_)),_.push([[s,i],[e,h]])}

;// ../node_modules/@arcgis/core/symbols/cim/placements/PlacementOnLine.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const PlacementOnLine_i=.001;class PlacementOnLine_s{static local(){return null===PlacementOnLine_s.instance&&(PlacementOnLine_s.instance=new PlacementOnLine_s),PlacementOnLine_s.instance}execute(e,t,n,i,s){return new PlacementOnLine_r(e,t,n)}}PlacementOnLine_s.instance=null;class PlacementOnLine_r extends s{constructor(e,n,s){super(e),this._curveHelper=new CurveHelper_s,this._angleToLine=void 0===n.angleToLine||n.angleToLine,this._offset=void 0!==n.offset?n.offset*s:0,this._relativeTo=n.relativeTo,this._position=void 0!==n.startPointOffset?n.startPointOffset*s:0,this._epsilon=PlacementOnLine_i*s}processPath(e){const t=this._position;if(this._relativeTo===enums/* PlacementOnLineRelativeTo */.ip.SegmentMidpoint){if(this.iteratePath||(this.iteratePath=!0),e.nextPoint()){let[t,n]=[e.x,e.y],[i,s]=[0,0];for(;e.nextPoint();){i=e.x,s=e.y;const r=this._curveHelper.getLength(t,n,i,s);if(r<this._epsilon){t=i,n=s;continue}const o=.5+this._position/r,[a,l]=this._curveHelper.getAngleCS(t,n,i,s,o),h=this._curveHelper.getCoord2D(t,n,i,s,o);return this.internalPlacement.setTranslate(h[0]-this._offset*l,h[1]+this._offset*a),this._angleToLine&&this.internalPlacement.setRotateCS(a,l),this.internalPlacement}}return this.iteratePath=!1,null}const i=this._relativeTo===enums/* PlacementOnLineRelativeTo */.ip.LineEnd;return this.onLine(e,t,i)}onLine(e,t,i){let s,r=!1;switch(this._relativeTo){case enums/* PlacementOnLineRelativeTo */.ip.LineMiddle:default:e.seekPathStart(),s=e.pathLength()/2+t;break;case enums/* PlacementOnLineRelativeTo */.ip.LineBeginning:s=t;break;case enums/* PlacementOnLineRelativeTo */.ip.LineEnd:s=t,r=!0}i?e.seekPathEnd():e.seekPathStart();let o=0;if(i?e.prevPoint():e.nextPoint()){let[t,n]=[e.x,e.y],[a,l]=[0,0];for(;i?e.prevPoint():e.nextPoint();){a=e.x,l=e.y;const i=this._curveHelper.getLength(t,n,a,l);if(o+i>s){const e=(s-o)/i,[h,c]=this._curveHelper.getAngleCS(t,n,a,l,e),f=this._curveHelper.getCoord2D(t,n,a,l,e),u=r?-this._offset:this._offset;return this.internalPlacement.setTranslate(f[0]-u*c,f[1]+u*h),this._angleToLine&&(r?this.internalPlacement.setRotateCS(-h,-c):this.internalPlacement.setRotateCS(h,c)),this.internalPlacement}t=a,n=l,o+=i}}return null}}

;// ../node_modules/@arcgis/core/symbols/cim/placements/PlacementOnVertices.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const PlacementOnVertices_s=1e-15;class PlacementOnVertices_i{static local(){return null===PlacementOnVertices_i.instance&&(PlacementOnVertices_i.instance=new PlacementOnVertices_i),PlacementOnVertices_i.instance}execute(t,e,s,i,o){return new PlacementOnVertices_n(t,e,s)}}PlacementOnVertices_i.instance=null;class PlacementOnVertices_n extends s{constructor(t,s,i){super(t),this._curveHelper=new CurveHelper_s,this._angleToLine=void 0===s.angleToLine||s.angleToLine,this._offset=void 0!==s.offset?s.offset*i:0,this._endPoints=void 0===s.placeOnEndPoints||s.placeOnEndPoints,this._controlPoints=void 0===s.placeOnControlPoints||s.placeOnControlPoints,this._regularVertices=void 0===s.placeOnRegularVertices||s.placeOnRegularVertices,this._tags=[],this._tagIterator=0}processPath(t){if(this.iteratePath||(this._preparePath(t),this.iteratePath=!0),this._tagIterator>=this._tags.length)return this._tags.length=0,this._tagIterator=0,this.iteratePath=!1,null;const e=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(e[2]);let s=e[0],i=e[1];if(0!==this._offset){const t=Math.cos(e[2]),n=Math.sin(e[2]);s-=this._offset*n,i+=this._offset*t}return this.internalPlacement.setTranslate(s,i),this._tagIterator++,this.internalPlacement}_preparePath(t){this._tags.length=0,this._tagIterator=0,t.seekPathStart();const e=t.isClosed();let s=0,i=!1,n=0,r=0;if(t.seekPathStart(),t.nextPoint()){let a=t.x,h=t.y,l=t.getControlPoint(),_=!0,c=t.nextPoint();for(;c;){const g=t.x,P=t.y,u=t.getControlPoint();(this._angleToLine||0!==this._offset)&&(n=this._curveHelper.getAngle(a,h,g,P,0)),_?(_=!1,e?(s=n,i=l):(this._endPoints||this._controlPoints&&l)&&this._tags.push([a,h,n])):l?this._controlPoints&&this._tags.push([a,h,PlacementOnVertices_o(r,n)]):this._regularVertices&&this._tags.push([a,h,PlacementOnVertices_o(r,n)]),(this._angleToLine||0!==this._offset)&&(r=this._curveHelper.getAngle(a,h,g,P,1)),c=t.nextPoint(),c||(e?u||i?this._controlPoints&&this._tags.push([g,P,PlacementOnVertices_o(r,s)]):this._regularVertices&&this._tags.push([g,P,PlacementOnVertices_o(r,s)]):(this._endPoints||this._controlPoints&&u)&&this._tags.push([g,P,r])),a=g,h=P,l=u}}this._tagIterator=0}}function PlacementOnVertices_o(t,e){const i=Math.PI;for(;Math.abs(e-t)>i+2*PlacementOnVertices_s;)e-t>i?e-=2*i:e+=2*i;return(t+e)/2}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/centroid.js
var centroid = __webpack_require__(23806);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/labelPoint.js
var labelPoint = __webpack_require__(73138);
;// ../node_modules/@arcgis/core/symbols/cim/placements/PlacementPolygonCenter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class PlacementPolygonCenter_r{static local(){return null===PlacementPolygonCenter_r.instance&&(PlacementPolygonCenter_r.instance=new PlacementPolygonCenter_r),PlacementPolygonCenter_r.instance}execute(t,e,s,n,o){return new PlacementPolygonCenter_i(t,e,s)}}PlacementPolygonCenter_r.instance=null;class PlacementPolygonCenter_i{constructor(t,e,s){this._geometryCursor=t,this._offsetX=void 0!==e.offsetX?e.offsetX*s:0,this._offsetY=void 0!==e.offsetY?e.offsetY*s:0,this._method=void 0!==e.method?e.method:enums/* PlacementPolygonCenterMethod */.YI.OnPolygon,this._internalPlacement=new CIMPlacements/* Placement */.W}next(){const t=this._geometryCursor;return this._geometryCursor=null,t?this._polygonCenter(t):null}_polygonCenter(n){let r=!1;switch(this._method){case enums/* PlacementPolygonCenterMethod */.YI.CenterOfMass:{const t=(0,centroid/* weightedAreaCentroid */.TP)(n);t&&(this._internalPlacement.setTranslate(t[0]+this._offsetX,t[1]+this._offsetY),r=!0)}break;case enums/* PlacementPolygonCenterMethod */.YI.BoundingBoxCenter:{const e=(0,boundsUtils/* getCursorBoundsXY */.z8)(n);e&&(this._internalPlacement.setTranslate((e[2]+e[0])/2+this._offsetX,(e[3]+e[1])/2+this._offsetY),r=!0)}break;case enums/* PlacementPolygonCenterMethod */.YI.OnPolygon:default:{const t=(0,labelPoint/* getLabelPoint */.d)(n);null!==t&&(this._internalPlacement.setTranslate(t[0]+this._offsetX,t[1]+this._offsetY),r=!0)}}return r?this._internalPlacement:null}}

;// ../node_modules/@arcgis/core/symbols/cim/CIMOperators.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function A(p){if(!p)return null;switch(p.type){case"CIMGeometricEffectAddControlPoints":return e.local();case"CIMGeometricEffectArrow":return EffectArrow_p.local();case"CIMGeometricEffectBuffer":return m.local();case"CIMGeometricEffectControlMeasureLine":return EffectControlMeasureLine_e.local();case"CIMGeometricEffectCut":return EffectCut_r.local();case"CIMGeometricEffectDashes":return EffectDashes_n.local();case"CIMGeometricEffectDonut":return EffectDonut_s.local();case"CIMGeometricEffectJog":return EffectJog_e.local();case"CIMGeometricEffectMove":return EffectMove_t.local();case"CIMGeometricEffectOffset":return EffectOffset_m.local();case"CIMGeometricEffectReverse":return EffectReverse_e.local();case"CIMGeometricEffectRotate":return EffectRotate_e.local();case"CIMGeometricEffectScale":return EffectScale_e.local();case"CIMGeometricEffectWave":return EffectWave_n.local()}return null}function g(e){if(!e)return null;switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":return PlacementAlongLineSameSize_a.local();case"CIMMarkerPlacementAtExtremities":return PlacementAtExtremities_i.local();case"CIMMarkerPlacementAtRatioPositions":return PlacementAtRatioPositions_a.local();case"CIMMarkerPlacementInsidePolygon":return PlacementInsidePolygon_r.local();case"CIMMarkerPlacementOnLine":return PlacementOnLine_s.local();case"CIMMarkerPlacementOnVertices":return PlacementOnVertices_i.local();case"CIMMarkerPlacementPolygonCenter":return PlacementPolygonCenter_r.local()}return null}


/***/ }),

/***/ 82250:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ t)
/* harmony export */ });
/* unused harmony export EmptyPlacementCursor */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(){this.setIdentity()}getAngle(){return(null==this.rz||0===this.rz&&1!==this.rzCos&&0!==this.rzSin)&&(this.rz=Math.atan2(this.rzSin,this.rzCos)),this.rz}setIdentity(){this.tx=0,this.ty=0,this.tz=0,this.s=1,this.rx=0,this.ry=0,this.rz=0,this.rzCos=1,this.rzSin=0}setTranslate(t,s){this.tx=t,this.ty=s}setTranslateZ(t){this.tz=t}setRotateCS(t,s){this.rz=void 0,this.rzCos=t,this.rzSin=s}setRotate(t){this.rz=t,this.rzCos=void 0,this.rzSin=void 0}setRotateY(t){this.ry=t}setScale(t){this.s=t}setMeasure(t){this.m=t}}class s{next(){return null}}


/***/ }),

/***/ 74339:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _core_fontUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72777);
/* harmony import */ var _core_imageUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(25801);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(e){return this._resourceMap.get(e)??null}async fetchResource(e,i){const h=this._resourceMap.get(e);if(h)return{width:h.width,height:h.height};let r=this._inFlightResourceMap.get(e);return r?r.then((e=>({width:e.width,height:e.height}))):(r=(0,_core_imageUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getImageData */ .M5)(e,i),this._inFlightResourceMap.set(e,r),r.then((t=>(this._inFlightResourceMap.delete(e),this._resourceMap.set(e,t),{width:t.width,height:t.height})),(()=>({width:0,height:0}))))}deleteResource(e){this._inFlightResourceMap.delete(e),this._resourceMap.delete(e)}loadFont(t){return (0,_core_fontUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .loadFont */ .Al)(t)}}


/***/ }),

/***/ 48655:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Rj: () => (/* binding */ et),
  mx: () => (/* binding */ $),
  CK: () => (/* binding */ tt),
  IT: () => (/* binding */ Q),
  Lh: () => (/* binding */ Y),
  Zg: () => (/* binding */ q),
  CR: () => (/* binding */ V),
  Kr: () => (/* binding */ O),
  sA: () => (/* binding */ W),
  vx: () => (/* binding */ st),
  QF: () => (/* binding */ nt),
  Jm: () => (/* binding */ ot)
});

// UNUSED EXPORTS: CIMSymbolDrawHelper, cDegToRad, defaultTextHaloSize

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/BidiText.js
var BidiText = __webpack_require__(21870);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/fontUtils.js
var fontUtils = __webpack_require__(72777);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(19251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/ObjectPool.js
var ObjectPool = __webpack_require__(90086);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/screenUtils.js
var screenUtils = __webpack_require__(89882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/GeometryCursor.js
var GeometryCursor = __webpack_require__(14816);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/aaBoundingRect.js
var aaBoundingRect = __webpack_require__(80510);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/boundsUtils.js
var boundsUtils = __webpack_require__(36358);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/centroid.js
var centroid = __webpack_require__(23806);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/jsonUtils.js
var jsonUtils = __webpack_require__(1171);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/CIMEffects.js
var CIMEffects = __webpack_require__(13022);
;// ../node_modules/@arcgis/core/symbols/cim/CIMImageColorSubstitutionHelper.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class CIMImageColorSubstitutionHelper_t{applyColorSubstituition(t,a){if(!a)return t;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const{width:e,height:n}=t,o=this._rasterizationCanvas,r=o.getContext("2d",{willReadFrequently:!0});t!==o&&(o.width=e,o.height=n,r.drawImage(t,0,0,e,n));const i=r.getImageData(0,0,e,n).data;if(a)for(const l of a)if(l&&l.oldColor&&4===l.oldColor.length&&l.newColor&&4===l.newColor.length){const[t,a,e,n]=l.oldColor,[o,r,s,h]=l.newColor;if(t===o&&a===r&&e===s&&n===h)continue;for(let l=0;l<i.length;l+=4)t===i[l]&&a===i[l+1]&&e===i[l+2]&&n===i[l+3]&&(i[l]=o,i[l+1]=r,i[l+2]=s,i[l+3]=h)}const s=new ImageData(i,e,n);return r.putImageData(s,0,0),o}tintImageData(t,a){if(!a||a.length<4)return t;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const{width:e,height:n}=t,o=this._rasterizationCanvas,r=o.getContext("2d",{willReadFrequently:!0});t!==o&&(o.width=e,o.height=n,r.drawImage(t,0,0,e,n));const i=r.getImageData(0,0,e,n),s=new Uint8Array(i.data),l=[a[0]/255,a[1]/255,a[2]/255,a[3]/255];for(let g=0;g<s.length;g+=4)s[g]*=l[0],s[g+1]*=l[1],s[g+2]*=l[2],s[g+3]*=l[3];const h=new ImageData(new Uint8ClampedArray(s.buffer),e,n);return r.putImageData(h,0,0),o}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/CIMOperators.js + 24 modules
var CIMOperators = __webpack_require__(29659);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/CIMPlacements.js
var CIMPlacements = __webpack_require__(82250);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/enums.js
var enums = __webpack_require__(63643);
;// ../node_modules/@arcgis/core/symbols/cim/imageUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function imageUtils_t(t){const e=t.getFrame(0);if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement)return e;const n=document.createElement("canvas");n.width=t.width,n.height=t.height;const a=n.getContext("2d");return e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0),n}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/Rect.js
var Rect = __webpack_require__(76715);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/TextRasterizer.js
var TextRasterizer = __webpack_require__(95159);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/utils.js
var utils = __webpack_require__(50072);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js
var alignmentUtils = __webpack_require__(22610);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js
var definitions = __webpack_require__(43556);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js + 1 modules
var shapingUtils = __webpack_require__(19938);
;// ../node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const J=Math.PI/180,N=Logger/* default */.A.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),O=4,q=10,V=10,Y=4,W=10,K=1;class Q{constructor(t){this._t=t}static createIdentity(){return new Q([1,0,0,0,1,0])}clone(){const t=this._t;return new Q(t.slice())}transform(t){const e=this._t;return[e[0]*t[0]+e[1]*t[1]+e[2],e[3]*t[0]+e[4]*t[1]+e[5]]}static createScale(t,e){return new Q([t,0,0,0,e,0])}scale(t,e){const r=this._t;return r[0]*=t,r[1]*=t,r[2]*=t,r[3]*=e,r[4]*=e,r[5]*=e,this}scaleRatio(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}static createTranslate(t,e){return new Q([0,0,t,0,0,e])}translate(t,e){const r=this._t;return r[2]+=t,r[5]+=e,this}static createRotate(t){const e=Math.cos(t),r=Math.sin(t);return new Q([e,-r,0,r,e,0])}rotate(t){return Q.multiply(this,Q.createRotate(t),this)}angle(){const t=this._t[0],e=this._t[3],r=Math.sqrt(t*t+e*e);return[t/r,e/r]}static multiply(t,e,r){const i=t._t,s=e._t,o=i[0]*s[0]+i[3]*s[1],n=i[1]*s[0]+i[4]*s[1],a=i[2]*s[0]+i[5]*s[1]+s[2],l=i[0]*s[3]+i[3]*s[4],h=i[1]*s[3]+i[4]*s[4],c=i[2]*s[3]+i[5]*s[4]+s[5],m=r._t;return m[0]=o,m[1]=n,m[2]=a,m[3]=l,m[4]=h,m[5]=c,r}invert(){const t=this._t;let e=t[0]*t[4]-t[1]*t[3];if(0===e)return new Q([0,0,0,0,0,0]);e=1/e;const r=(t[1]*t[5]-t[2]*t[4])*e,i=(t[2]*t[3]-t[0]*t[5])*e,s=t[4]*e,o=-t[1]*e,n=-t[3]*e,a=t[0]*e;return new Q([s,o,r,n,a,i])}}class Z{constructor(t,e){this._resourceManager=t,this._transfos=[],this._sizeTransfos=[],this._geomUnitsPerPoint=1,this._placementPool=new ObjectPool/* default */.A(CIMPlacements/* Placement */.W,void 0,void 0,100),this._earlyReturn=!1,this._mapRotation=0,this._transfos.push(e||Q.createIdentity()),this._sizeTransfos.push(e?e.scaleRatio():1)}setTransform(t,e){this._transfos=[t||Q.createIdentity()],this._sizeTransfos=[e||(t?t.scaleRatio():1)]}setGeomUnitsPerPoint(t){this._geomUnitsPerPoint=t}transformPt(t){return this._transfos[this._transfos.length-1].transform(t)}transformSize(t){return t*this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformPt(t){return this._transfos[this._transfos.length-1].invert().transform(t)}reverseTransformSize(t){return t/this._sizeTransfos[this._sizeTransfos.length-1]}getTransformAngle(){return this._transfos[this._transfos.length-1].angle()}geomUnitsPerPoint(){return this.isEmbedded()?1:this._geomUnitsPerPoint}isEmbedded(){return this._transfos.length>1}back(){return this._transfos[this._transfos.length-1]}push(t,e){const r=e?t.scaleRatio():1;Q.multiply(t,this.back(),t),this._transfos.push(t),this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*r)}pop(){this._transfos.splice(-1,1),this._sizeTransfos.splice(-1,1)}drawSymbol(t,e,r){if(t)switch(t.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this.drawMultiLayerSymbol(t,e);break;case"CIMTextSymbol":this.drawTextSymbol(t,e,r)}}drawMultiLayerSymbol(t,e){if(!t||!e)return;const r=t.symbolLayers;if(!r)return;const i=t.effects;if(i&&i.length>0){const t=this.executeEffects(i,e);if(t){let e=t.next();for(;e;)this.drawSymbolLayers(r,e.asJSON()),e=t.next()}}else this.drawSymbolLayers(r,e)}executeEffects(t,e){const r=this._resourceManager.geometryEngine;let i=new CIMEffects/* SimpleEffectCursor */.k(GeometryCursor/* GeometryCursor */.z.fromJSONCIM(e));for(const s of t){const t=(0,CIMOperators/* getEffectOperator */.A)(s);t&&(i=t.execute(i,s,this.geomUnitsPerPoint(),null,r))}return i}drawSymbolLayers(t,e){let r=t.length;for(;r--;){const i=t[r];if(!i||!1===i.enable)continue;const s=i.effects;if(s&&s.length>0){const t=this.executeEffects(s,e);if(t){let e=null;for(;(e=t.next())&&(this.drawSymbolLayer(i,e.asJSON()),!this._earlyReturn););}}else this.drawSymbolLayer(i,e);if(this._earlyReturn)return}}drawSymbolLayer(t,e){switch(t.type){case"CIMSolidFill":this.drawSolidFill(e,t.color);break;case"CIMHatchFill":this.drawHatchFill(e,t);break;case"CIMPictureFill":this.drawPictureFill(e,t);break;case"CIMGradientFill":this.drawGradientFill(e,t);break;case"CIMSolidStroke":this.drawSolidStroke(e,t.color,t.width,t.capStyle,t.joinStyle,t.miterLimit);break;case"CIMPictureStroke":this.drawPictureStroke(e,t);break;case"CIMGradientStroke":this.drawGradientStroke(e,t);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":this.drawMarkerLayer(t,e)}}drawHatchFill(t,e){const r=this._buildHatchPolyline(e,t,this.geomUnitsPerPoint());r&&(this.pushClipPath(t),this.drawMultiLayerSymbol(e.lineSymbol,r),this.popClipPath())}drawPictureFill(t,e){}drawGradientFill(t,e){}drawPictureStroke(t,e){}drawGradientStroke(t,e){}drawMarkerLayer(t,e){const r=t.markerPlacement;if(r){const i=(0,CIMOperators/* getPlacementOperator */.c)(r);if(i){const s="CIMMarkerPlacementInsidePolygon"===r.type||"CIMMarkerPlacementPolygonCenter"===r.type&&r.clipAtBoundary;s&&this.pushClipPath(e);const o=i.execute(GeometryCursor/* GeometryCursor */.z.fromJSONCIM(e),r,this.geomUnitsPerPoint(),null,this._resourceManager.geometryEngine);if(o){let e=null;for(;(e=o.next())&&(this.drawMarker(t,e),!this._earlyReturn););}s&&this.popClipPath()}}else{const r=this._placementPool.acquire();if((0,jsonUtils/* isPoint */.fT)(e))r.tx=e.x,r.ty=e.y,this.drawMarker(t,r);else if((0,jsonUtils/* isPolygon */.Bi)(e)){const i=(0,centroid/* polygonCentroid */.l8)(e);i&&([r.tx,r.ty]=i,this.drawMarker(t,r))}else for(const i of e.points)if(r.tx=i[0],r.ty=i[1],this.drawMarker(t,r),this._earlyReturn)break;this._placementPool.release(r)}}drawMarker(t,e){switch(t.type){case"CIMCharacterMarker":case"CIMPictureMarker":this.drawPictureMarker(t,e);break;case"CIMVectorMarker":this.drawVectorMarker(t,e)}}drawPictureMarker(t,e){if(!t)return;const r=this._resourceManager.getResource(t.url),i=(0,utils/* getValue */._W)(t.size,q);if(null==r||i<=0)return;const s=r.width,o=r.height;if(!s||!o)return;const n=s/o,a=(0,utils/* getValue */._W)(t.scaleX,1),l=Q.createIdentity(),h=t.anchorPoint;if(h){let e=h.x,r=h.y;"Absolute"!==t.anchorPointUnits&&(e*=i*n*a,r*=i),l.translate(-e,-r)}let c=(0,utils/* getValue */._W)(t.rotation);t.rotateClockwise&&(c=-c),this._mapRotation&&(c+=this._mapRotation),c&&l.rotate(c*J);let m=(0,utils/* getValue */._W)(t.offsetX),f=(0,utils/* getValue */._W)(t.offsetY);if(m||f){if(this._mapRotation){const t=J*this._mapRotation,e=Math.cos(t),r=Math.sin(t),i=m*r+f*e;m=m*e-f*r,f=i}l.translate(m,f)}const u=this.geomUnitsPerPoint();1!==u&&l.scale(u,u);const d=e.getAngle();d&&l.rotate(d),l.translate(e.tx,e.ty),this.push(l,!1),this.drawImage(t,i),this.pop()}drawVectorMarker(t,e){if(!t)return;const r=t.markerGraphics;if(!r)return;const i=(0,utils/* getValue */._W)(t.size,q),s=t.frame,o=s?s.ymax-s.ymin:0,n=i&&o?i/o:1,a=Q.createIdentity();s&&a.translate(.5*-(s.xmax+s.xmin),.5*-(s.ymax+s.ymin));const l=t.anchorPoint;if(l){let e=l.x,r=l.y;"Absolute"!==t.anchorPointUnits?s&&(e*=s.xmax-s.xmin,r*=s.ymax-s.ymin):(e/=n,r/=n),a.translate(-e,-r)}1!==n&&a.scale(n,n);let h=(0,utils/* getValue */._W)(t.rotation);t.rotateClockwise&&(h=-h),this._mapRotation&&(h+=this._mapRotation),h&&a.rotate(h*J);let c=(0,utils/* getValue */._W)(t.offsetX),m=(0,utils/* getValue */._W)(t.offsetY);if(c||m){if(this._mapRotation){const t=J*this._mapRotation,e=Math.cos(t),r=Math.sin(t),i=c*r+m*e;c=c*e-m*r,m=i}a.translate(c,m)}const f=this.geomUnitsPerPoint();1!==f&&a.scale(f,f);const u=e.getAngle();u&&a.rotate(u),a.translate(e.tx,e.ty),this.push(a,t.scaleSymbolsProportionally);for(const d of r)if(d?.symbol&&d.geometry||N.error("Invalid marker graphic",d),this.drawSymbol(d.symbol,d.geometry,d.textString),this._earlyReturn)break;this.pop()}drawTextSymbol(t,e,r){if(!t)return;if(!(0,jsonUtils/* isPoint */.fT)(e))return;if((0,utils/* getValue */._W)(t.height,W)<=0)return;const i=Q.createIdentity();let s=(0,utils/* getValue */._W)(t.angle);s=-s,s&&i.rotate(s*J);const o=(0,utils/* getValue */._W)(t.offsetX),n=(0,utils/* getValue */._W)(t.offsetY);(o||n)&&i.translate(o,n);const a=this.geomUnitsPerPoint();1!==a&&i.scale(a,a),i.translate(e.x,e.y),this.push(i,!1),this.drawText(t,r),this.pop()}_buildHatchPolyline(t,e,r){let i=(0,utils/* getValue */._W)(t.separation,Y)*r,s=(0,utils/* getValue */._W)(t.rotation);if(0===i)return null;i<0&&(i=-i);let o=0;const n=.5*i;for(;o>n;)o-=i;for(;o<-n;)o+=i;const a=(0,aaBoundingRect/* create */.vt)();(0,boundsUtils/* getBoundsXY */.Rg)(a,e),a[0]-=n,a[1]-=n,a[2]+=n,a[3]+=n;const h=[[a[0],a[1]],[a[0],a[3]],[a[2],a[3]],[a[2],a[1]]];for(;s>180;)s-=180;for(;s<0;)s+=180;const m=Math.cos(s*J),f=Math.sin(s*J),u=-i*f,d=i*m;let p,_,g,y;o=(0,utils/* getValue */._W)(t.offsetX)*r*f-(0,utils/* getValue */._W)(t.offsetY)*r*m,p=g=Number.MAX_VALUE,_=y=-Number.MAX_VALUE;for(const l of h){const t=l[0],e=l[1],r=m*t+f*e,i=-f*t+m*e;p=Math.min(p,r),g=Math.min(g,i),_=Math.max(_,r),y=Math.max(y,i)}g=Math.floor(g/i)*i;let P=m*p-f*g-u*o/i,w=f*p+m*g-d*o/i,x=m*_-f*g-u*o/i,S=f*_+m*g-d*o/i;const M=1+Math.round((y-g)/i),b=[];for(let l=0;l<M;l++)P+=u,w+=d,x+=u,S+=d,b.push([[P,w],[x,S]]);return{paths:b}}}class $ extends Z{constructor(t,e){super(t,e),this.reset()}reset(){this._xmin=this._ymin=1/0,this._xmax=this._ymax=-1/0,this._clipCount=0}envelope(){return new Rect/* default */.A(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}bounds(){return (0,aaBoundingRect/* fromValues */.fA)(this._xmin,this._ymin,this._xmax,this._ymax)}drawSolidFill(t){if(t&&!(this._clipCount>0))if((0,jsonUtils/* isPolygon */.Bi)(t))this._processPath(t.rings,0);else if((0,jsonUtils/* isPolyline */.Rg)(t))this._processPath(t.paths,0);else if((0,jsonUtils/* isExtent */.ZC)(t)){const e=it(t);e&&this._processPath(e.rings,0)}else console.error("drawSolidFill Unexpected geometry type!")}drawSolidStroke(t,e,r){if(!t||this._clipCount>0)return;const i=.5*this.transformSize((0,utils/* getValue */._W)(r,O));if((0,jsonUtils/* isPolygon */.Bi)(t))this._processPath(t.rings,i);else if((0,jsonUtils/* isPolyline */.Rg)(t))this._processPath(t.paths,i);else if((0,jsonUtils/* isExtent */.ZC)(t)){const e=it(t);e&&this._processPath(e.rings,i)}else console.error("drawSolidStroke unexpected geometry type!")}drawMarkerLayer(t,e){(0,jsonUtils/* isPolygon */.Bi)(e)&&t.markerPlacement&&("CIMMarkerPlacementInsidePolygon"===t.markerPlacement.type||"CIMMarkerPlacementPolygonCenter"===t.markerPlacement.type&&t.markerPlacement.clipAtBoundary)?this._processPath(e.rings,0):super.drawMarkerLayer(t,e)}drawHatchFill(t,e){this.drawSolidFill(t)}drawPictureFill(t,e){this.drawSolidFill(t)}drawGradientFill(t,e){this.drawSolidFill(t)}drawPictureStroke(t,e){this.drawSolidStroke(t,null,e.width)}drawGradientStroke(t,e){this.drawSolidStroke(t,null,e.width)}pushClipPath(t){this.drawSolidFill(t),this._clipCount++}popClipPath(){this._clipCount--}drawImage(t,e){const{url:r}=t,i=(0,utils/* getValue */._W)(t.scaleX,1);let s=i*e,o=e;const n=this._resourceManager.getResource(r);e||null==n||(s=i*n.width,o=n.height),this._merge(this.transformPt([-s/2,-o/2]),0),this._merge(this.transformPt([-s/2,o/2]),0),this._merge(this.transformPt([s/2,-o/2]),0),this._merge(this.transformPt([s/2,o/2]),0)}drawText(t,e){if(!e||0===e.length)return;this._textRasterizer||(this._textRasterizer=new TextRasterizer/* default */.A);const r=at(t),[i,s]=this._textRasterizer.computeTextSize(e,r);let o=0;switch(t.horizontalAlignment){case"Left":o=i/2;break;case"Right":o=-i/2}let n=0;switch(t.verticalAlignment){case"Bottom":n=s/2;break;case"Top":n=-s/2;break;case"Baseline":n=s/6}this._merge(this.transformPt([-i/2+o,-s/2+n]),0),this._merge(this.transformPt([-i/2+o,s/2+n]),0),this._merge(this.transformPt([i/2+o,-s/2+n]),0),this._merge(this.transformPt([i/2+o,s/2+n]),0)}_processPath(t,e){if(t)for(const r of t){const t=r?r.length:0;if(t>1){this._merge(this.transformPt(r[0]),e);for(let i=1;i<t;i++)this._merge(this.transformPt(r[i]),e)}}}_merge(t,e){t[0]-e<this._xmin&&(this._xmin=t[0]-e),t[0]+e>this._xmax&&(this._xmax=t[0]+e),t[1]-e<this._ymin&&(this._ymin=t[1]-e),t[1]+e>this._ymax&&(this._ymax=t[1]+e)}}class tt extends Z{constructor(){super(...arguments),this._searchPoint=[0,0],this._searchDistPoint=0,this._textInfo=null}hitTest(t,e,r,i,s,o){const a=o*(0,screenUtils/* pt2px */.Lz)(1);this.setTransform(),this.setGeomUnitsPerPoint(a),this._searchPoint=[(t[0]+t[2])/2,(t[1]+t[3])/2],this._searchDistPoint=(t[2]-t[0])/2/a,this._textInfo=i;const l=e&&("CIMPointSymbol"===e.type&&"Map"!==e.angleAlignment||"CIMTextSymbol"===e.type);return this._mapRotation=l?s:0,this._earlyReturn=!1,this.drawSymbol(e,r),this._earlyReturn}drawSolidFill(t,e){this._hitTestFill(t)}drawHatchFill(t,e){this._hitTestFill(t)}drawPictureFill(t,e){this._hitTestFill(t)}drawGradientFill(t,e){this._hitTestFill(t)}drawSolidStroke(t,e,r,i,s,o){this._hitTestStroke(t,r)}drawPictureStroke(t,e){this._hitTestStroke(t,e.width)}drawGradientStroke(t,e){this._hitTestStroke(t,e.width)}drawMarkerLayer(t,e){t.markerPlacement&&("CIMMarkerPlacementInsidePolygon"===t.markerPlacement.type||"CIMMarkerPlacementPolygonCenter"===t.markerPlacement.type&&t.markerPlacement.clipAtBoundary)?this._hitTestFill(e):super.drawMarkerLayer(t,e)}pushClipPath(t){}popClipPath(){}drawImage(t,e){const{url:r}=t,i=(0,utils/* getValue */._W)(t.scaleX,1),s=this._resourceManager.getResource(r);if(null==s||0===s.height||0===e)return;const o=e*this.geomUnitsPerPoint(),n=o*i*(s.width/s.height),a=this.reverseTransformPt(this._searchPoint),l=this._searchDistPoint;Math.abs(a[0])<n/2+l&&Math.abs(a[1])<o/2+l&&(this._earlyReturn=!0)}drawText(e,r){const i=this._textInfo;if(!i)return;const s=i.get(e);if(!s)return;const{text:o,mosaicItem:n}=s;if(!n?.glyphMosaicItems?.length)return;const a=(0,utils/* getValue */._W)(e.height,W),{lineGapType:l,lineGap:h}=e,c=l?nt(l,(0,utils/* getValue */._W)(h),a):0,m=(0,BidiText/* bidiText */.y)(o)[1],f=n.glyphMosaicItems,u="CIMBackgroundCallout"===e.callout?.type,d=(0,shapingUtils/* shapeGlyphs */.Tl)(f,m,{scale:a/definitions/* glyphSize */.eG,angle:0,xOffset:0,yOffset:0,hAlign:st(e.horizontalAlignment),vAlign:ot(e.verticalAlignment),maxLineWidth:512,lineHeight:definitions/* magicLabelLineHeight */.DY*Math.max(.25,Math.min(c||1,4)),decoration:e.font.decoration||"none",isCIM:!0,hasBackground:u}),p=this.reverseTransformPt(this._searchPoint),_=p[0],g=p[1];for(const t of d.glyphs)if(_>t.xTopLeft&&_<t.xBottomRight&&g>-t.yBottomRight&&g<-t.yTopLeft){this._earlyReturn=!0;break}}_hitTestFill(t){let e=null;if((0,jsonUtils/* isExtent */.ZC)(t)){const r=t;e=[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]}else if((0,jsonUtils/* isPolygon */.Bi)(t))e=t.rings;else{if(!(0,jsonUtils/* isPolyline */.Rg)(t))return;e=t.paths}const r=this.reverseTransformPt(this._searchPoint);if(this._pointInPolygon(r,e)&&(this._earlyReturn=!0),!this._earlyReturn){const t=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(r,e,t)&&(this._earlyReturn=!0)}}_hitTestStroke(t,e){let r=null;if((0,jsonUtils/* isExtent */.ZC)(t)){const e=t;r=[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}else if((0,jsonUtils/* isPolygon */.Bi)(t))r=t.rings;else{if(!(0,jsonUtils/* isPolyline */.Rg)(t))return;r=t.paths}const i=this.reverseTransformPt(this._searchPoint),s=(0,utils/* getValue */._W)(e,O)*this.geomUnitsPerPoint(),o=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(i,r,s/2+o)&&(this._earlyReturn=!0)}_pointInPolygon(t,e){let r=0;for(const i of e){const e=i.length;for(let s=1;s<e;s++){const e=i[s-1],o=i[s];if(e[1]>t[1]==o[1]>t[1])continue;(o[0]-e[0])*(t[1]-e[1])-(o[1]-e[1])*(t[0]-e[0])>0?r++:r--}}return 0!==r}_nearLine(t,e,r){for(const i of e){const e=i.length;for(let s=1;s<e;s++){const e=i[s-1],o=i[s];let n=(o[0]-e[0])*(o[0]-e[0])+(o[1]-e[1])*(o[1]-e[1]);if(0===n)continue;n=Math.sqrt(n);const a=((o[0]-e[0])*(t[1]-e[1])-(o[1]-e[1])*(t[0]-e[0]))/n;if(Math.abs(a)<r){const i=((o[0]-e[0])*(t[0]-e[0])+(o[1]-e[1])*(t[1]-e[1]))/n;if(i>-r&&i<n+r)return!0}}}return!1}}class et extends Z{constructor(t,e,r,i){super(e,r),this._applyAdditionalRenderProps=i,this._colorSubstitutionHelper=new CIMImageColorSubstitutionHelper_t,this._ctx=t}drawSolidFill(t,e){if(!t)return;if((0,jsonUtils/* isPolygon */.Bi)(t))this._buildPath(t.rings,!0);else if((0,jsonUtils/* isPolyline */.Rg)(t))this._buildPath(t.paths,!0);else if((0,jsonUtils/* isExtent */.ZC)(t))this._buildPath(it(t).rings,!0);else{if(!(0,jsonUtils/* isMultipoint */.U9)(t))return;console.log("CanvasDrawHelper.drawSolidFill - No implementation!")}const r=this._ctx;r.fillStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+(e[3]??255)/255+")",r.fill("evenodd")}drawSolidStroke(t,e,r,i,s,o){if(!t||!e||0===r)return;if((0,jsonUtils/* isPolygon */.Bi)(t))this._buildPath(t.rings,!0);else if((0,jsonUtils/* isPolyline */.Rg)(t))this._buildPath(t.paths,!1);else{if(!(0,jsonUtils/* isExtent */.ZC)(t))return void console.log("CanvasDrawHelper.drawSolidStroke isn't implemented!");this._buildPath(it(t).rings,!0)}const n=this._ctx;n.strokeStyle="string"==typeof e?e:"rgba("+Math.round(e[0])+","+Math.round(e[1])+","+Math.round(e[2])+","+(e[3]??255)/255+")",n.lineWidth=Math.max(this.transformSize(r),.5),this._setCapStyle(i),this._setJoinStyle(s),n.miterLimit=o,n.stroke()}pushClipPath(t){if(this._ctx.save(),(0,jsonUtils/* isPolygon */.Bi)(t))this._buildPath(t.rings,!0);else if((0,jsonUtils/* isPolyline */.Rg)(t))this._buildPath(t.paths,!0);else{if(!(0,jsonUtils/* isExtent */.ZC)(t))return;this._buildPath(it(t).rings,!0)}this._ctx.clip("evenodd")}popClipPath(){this._ctx.restore()}drawImage(t,e){const{colorSubstitutions:r,url:i,tintColor:s}=t,o=(0,utils/* getValue */._W)(t.scaleX,1),n=this._resourceManager.getResource(i);if(null==n)return;let a=e*(n.width/n.height),l=e;e||(a=n.width,l=n.height);const h=(0,utils/* isSVGImage */.UE)(i)||"src"in n&&(0,utils/* isSVGImage */.UE)(n.src);let c="getFrame"in n?imageUtils_t(n):n;r&&(c=this._colorSubstitutionHelper.applyColorSubstituition(c,r)),this._applyAdditionalRenderProps&&!h&&s&&(c=this._colorSubstitutionHelper.tintImageData(c,s));const m=this.transformPt([0,0]),[f,u]=this.getTransformAngle(),d=this.transformSize(1),p=this._ctx;p.save(),p.setTransform({m11:o*d*f,m12:o*d*u,m21:-d*u,m22:d*f,m41:m[0],m42:m[1]}),p.drawImage(c,-a/2,-l/2,a,l),p.restore()}drawText(t,e){if(!e||0===e.length)return;this._textRasterizer||(this._textRasterizer=new TextRasterizer/* default */.A);const r=at(t);r.size*=this.transformSize((0,screenUtils/* px2pt */.PN)(1));const i=this._textRasterizer.rasterizeText(e,r);if(!i)return;const{size:s,anchorX:n,anchorY:a,canvas:l}=i,h=s[0]*(n+.5),c=s[1]*(a-.5),m=this._ctx,f=this.transformPt([0,0]),[u,d]=this.getTransformAngle(),p=1;m.save(),m.setTransform({m11:p*u,m12:p*d,m21:-p*d,m22:p*u,m41:f[0]-p*h,m42:f[1]+p*c}),m.drawImage(l,0,0),m.restore()}drawPictureFill(t,e){if(!t)return;let{colorSubstitutions:r,height:i,offsetX:s,offsetY:o,rotation:n,scaleX:a,tintColor:l,url:h}=e;const c=this._resourceManager.getResource(h);if(null==c)return;if((0,jsonUtils/* isPolygon */.Bi)(t))this._buildPath(t.rings,!0);else if((0,jsonUtils/* isPolyline */.Rg)(t))this._buildPath(t.paths,!0);else if((0,jsonUtils/* isExtent */.ZC)(t))this._buildPath(it(t).rings,!0);else{if(!(0,jsonUtils/* isMultipoint */.U9)(t))return;console.log("CanvasDrawHelper.drawPictureFill - No implementation!")}const m=this._ctx,f=(0,utils/* isSVGImage */.UE)(h)||"src"in c&&(0,utils/* isSVGImage */.UE)(c.src);let g,y="getFrame"in c?imageUtils_t(c):c;if(r&&(y=this._colorSubstitutionHelper.applyColorSubstituition(y,r)),this._applyAdditionalRenderProps){f||l&&(y=this._colorSubstitutionHelper.tintImageData(y,l)),g=m.createPattern(y,"repeat");const t=this.transformSize(1);n||(n=0),s?s*=t:s=0,o?o*=t:o=0,i&&(i*=t);const e=i?i/c.height:1,r=a&&i?a*i/c.width:1;if(0!==n||1!==e||1!==r||0!==s||0!==o){const t=new DOMMatrix;t.rotateSelf(0,0,-n).translateSelf(s,o).scaleSelf(r,e,1),g.setTransform(t)}}else g=m.createPattern(y,"repeat");m.save(),m.fillStyle=g,m.fill("evenodd"),m.restore()}drawPictureStroke(t,e){if(!t)return;let{colorSubstitutions:i,capStyle:s,joinStyle:o,miterLimit:a,tintColor:l,url:h,width:c}=e;const m=this._resourceManager.getResource(h);if(null==m)return;let f;if((0,jsonUtils/* isPolygon */.Bi)(t))f=t.rings;else if((0,jsonUtils/* isPolyline */.Rg)(t))f=t.paths;else{if(!(0,jsonUtils/* isExtent */.ZC)(t))return (0,jsonUtils/* isMultipoint */.U9)(t)?void console.log("CanvasDrawHelper.drawPictureStroke - No implementation!"):void 0;f=it(t).rings}c||(c=m.width);const g=(0,utils/* isSVGImage */.UE)(h)||"src"in m&&(0,utils/* isSVGImage */.UE)(m.src);let y="getFrame"in m?imageUtils_t(m):m;i&&(y=this._colorSubstitutionHelper.applyColorSubstituition(y,i)),this._applyAdditionalRenderProps&&(g||l&&(y=this._colorSubstitutionHelper.tintImageData(y,l)));const P=Math.max(this.transformSize((0,screenUtils/* pt2px */.Lz)(c)),.5),w=P/y.width,x=this._ctx,S=x.createPattern(y,"repeat-y");let M,k;x.save(),this._setCapStyle(s),this._setJoinStyle(o),void 0!==a&&(x.miterLimit=a),x.lineWidth=P;for(let n of f)if(n=(0,lang/* clone */.o8)(n),ht(n),n&&!(n.length<=1)){M=this.transformPt(n[0]);for(let t=1;t<n.length;t++){k=this.transformPt(n[t]);const e=rt(M,k),r=new DOMMatrix;r.translateSelf(0,M[1]-P/2).scaleSelf(w,w,1).rotateSelf(0,0,90-e),S.setTransform(r),x.strokeStyle=S,x.beginPath(),x.moveTo(M[0],M[1]),x.lineTo(k[0],k[1]),x.stroke(),M=k}}x.restore()}_buildPath(t,e){const r=this._ctx;if(r.beginPath(),t)for(const i of t){const t=i?i.length:0;if(t>1){let s=this.transformPt(i[0]);r.moveTo(s[0],s[1]);for(let e=1;e<t;e++)s=this.transformPt(i[e]),r.lineTo(s[0],s[1]);e&&r.closePath()}}}_setCapStyle(t){switch(t){case enums/* LineCapStyle */.uT.Butt:this._ctx.lineCap="butt";break;case enums/* LineCapStyle */.uT.Round:this._ctx.lineCap="round";break;case enums/* LineCapStyle */.uT.Square:this._ctx.lineCap="square"}}_setJoinStyle(t){switch(t){case enums/* LineJoinStyle */.wd.Bevel:this._ctx.lineJoin="bevel";break;case enums/* LineJoinStyle */.wd.Round:this._ctx.lineJoin="round";break;case enums/* LineJoinStyle */.wd.Miter:this._ctx.lineJoin="miter"}}}function rt(t,e){const r=e[0]-t[0],i=e[1]-t[1];return 180/Math.PI*Math.atan2(i,r)}const it=t=>t?{spatialReference:t.spatialReference,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:null,st=t=>{switch(t){case"Left":return alignmentUtils/* HAlign */.oX.Left;case"Right":return alignmentUtils/* HAlign */.oX.Right;case"Center":return alignmentUtils/* HAlign */.oX.Center;case"Justify":return N.warnOnce("Horizontal alignment 'justify' is not implemented. Falling back to 'center'."),alignmentUtils/* HAlign */.oX.Center}},ot=t=>{switch(t){case"Top":return alignmentUtils/* VAlign */.gy.Top;case"Center":return alignmentUtils/* VAlign */.gy.Center;case"Bottom":return alignmentUtils/* VAlign */.gy.Bottom;case"Baseline":return alignmentUtils/* VAlign */.gy.Baseline}},nt=(t,e,r)=>{switch(t){case"ExtraLeading":return 1+e/r;case"Multiple":return e;case"Exact":return e/r}};function at(t,r=1){const i=(0,utils/* fromCIMFontDecoration */.DW)(t),s=(0,utils/* fromCIMFontStyle */._d)(t.fontStyleName),o=t.fontFamilyName??fontUtils/* defaultFontFamily */.Vb,{weight:n,style:a}=s,l=r*(t.height||5),h=(0,utils/* fromCIMHorizontalAlignment */.Bu)(t.horizontalAlignment),c=(0,utils/* fromCIMVerticalAlignment */.Nl)(t.verticalAlignment),m=(0,utils/* getFillColor */.pM)(t),f=(0,utils/* getFillColor */.pM)(t.haloSymbol),u=f?r*(0|t.haloSize):0,d="CIMBackgroundCallout"===t.callout?.type?t.callout.backgroundSymbol:null,p=(0,utils/* getFillColor */.pM)(d),_=(0,utils/* getStrokeWidth */.xo)(d),g=(0,utils/* getStrokeColor */._1)(d);return{color:m,size:l,horizontalAlignment:h,verticalAlignment:c,font:{family:o,style:(0,utils/* getFontStyle */.pV)(a),weight:(0,utils/* getFontWeight */.Kn)(n),decoration:i},halo:{size:u||0,color:f,style:a},backgroundColor:p,borderLine:null!=_&&null!=g?{size:_,color:g}:null,pixelRatio:1,premultiplyColors:!0}}const lt=1e-4;function ht(t){let e,r,i,s,o,n=t[0],a=1;for(;a<t.length;)e=t[a][0]-n[0],r=t[a][1]-n[1],s=0!==e?r/e:Math.PI/2,void 0!==i&&s-i<=lt?(t.splice(a-1,1),n=o):(o=n,n=t[a],a++),i=s}


/***/ }),

/***/ 48002:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $N: () => (/* binding */ le),
/* harmony export */   BW: () => (/* binding */ de),
/* harmony export */   Sc: () => (/* binding */ ie),
/* harmony export */   Vb: () => (/* binding */ te),
/* harmony export */   ll: () => (/* binding */ se),
/* harmony export */   wp: () => (/* binding */ ne)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96220);
/* harmony import */ var _core_BidiText_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21870);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(39831);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19251);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(539);
/* harmony import */ var _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9272);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(89882);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(80510);
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(36358);
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(28965);
/* harmony import */ var _Font_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(60340);
/* harmony import */ var _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(82250);
/* harmony import */ var _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(48655);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(63643);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(50072);
/* harmony import */ var _views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(29986);
/* harmony import */ var _views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(15946);
/* harmony import */ var _views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(43556);
/* harmony import */ var _views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(19938);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const W=Math.PI,J=W/2,K=Math.PI/180,Q=96/72,Z=4,ee=_core_Logger_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.getLogger("esri.symbols.cim.CIMSymbolHelper");function te(e){if(!e?.type)return null;let t;switch(e.type){case"cim":return e.data;case"web-style":return e;case"simple-marker":{const r=ne.fromSimpleMarker(e);if(!r)return null;t=r;break}case"picture-marker":t=ne.fromPictureMarker(e);break;case"simple-line":t=ne.fromSimpleLineSymbol(e);break;case"simple-fill":t=ne.fromSimpleFillSymbol(e);break;case"picture-fill":t=ne.fromPictureFillSymbol(e);break;case"text":t=ne.fromTextSymbol(e)}return{type:"CIMSymbolReference",symbol:t}}function re(e,t,r){switch(t.type){case"CIMSymbolReference":return re(e,t.symbol,r);case"CIMPointSymbol":null==r&&(r={x:0,y:0}),e.drawSymbol(t,r);break;case"CIMLineSymbol":null==r&&(r={paths:[[[0,0],[10,0]]]}),e.drawSymbol(t,r);break;case"CIMPolygonSymbol":null==r&&(r={rings:[[[0,0],[0,10],[10,10],[10,0],[0,0]]]}),e.drawSymbol(t,r);break;case"CIMTextSymbol":{const r={x:0,y:0};e.drawSymbol(t,r);break}case"CIMVectorMarker":{const r=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_16__/* .Placement */ .W;e.drawMarker(t,r);break}}return e.envelope()}function oe(e){if(!e)return 0;switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAtExtremities":case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementAtRatioPositions":case"CIMMarkerPlacementOnLine":case"CIMMarkerPlacementOnVertices":return Math.abs(e.offset);default:return 0}}function ae(e){if(!e)return 0;switch(e.type){case"CIMGeometricEffectArrow":return Math.abs(.5*e.width);case"CIMGeometricEffectBuffer":return Math.abs(e.size);case"CIMGeometricEffectExtension":case"CIMGeometricEffectRadial":return Math.abs(e.length);case"CIMGeometricEffectJog":return Math.abs(.5*e.length);case"CIMGeometricEffectMove":return Math.max(Math.abs((0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.offsetX)),Math.abs((0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.offsetY)));case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":return Math.abs(e.offset);case"CIMGeometricEffectRegularPolygon":return Math.abs(e.radius);case"CIMGeometricEffectRotate":case"CIMGeometricEffectScale":default:return 0;case"CIMGeometricEffectTaperedPolygon":return.5*Math.max(Math.abs(e.fromWidth),Math.abs(e.toWidth));case"CIMGeometricEffectWave":return Math.abs(e.amplitude);case"CIMGeometricEffectDonut":return Math.abs(e.width)}}function se(e){if(!e)return 0;let t=0;for(const r of e)t+=ae(r);return t}class ie{getSymbolInflateSize(e,t,r,o,a){return e||(e=[0,0,0,0]),t?this._getInflateSize(e,t,r,o,a):e}static safeSize(e){const t=Math.max(Math.abs(e[0]),Math.abs(e[2])),r=Math.max(Math.abs(e[1]),Math.abs(e[3]));return Math.sqrt(t*t+r*r)}_vectorMarkerBounds(e,t,r,o){let a=!0;const s=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)();if(t?.markerGraphics)for(const i of t.markerGraphics){const t=[0,0,0,0];i.geometry&&((0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .getBoundsXY */ .Rg)(s,i.geometry),t[0]=0,t[1]=0,t[2]=0,t[3]=0,this.getSymbolInflateSize(t,i.symbol,r,0,o),s[0]+=t[0],s[1]+=t[1],s[2]+=t[2],s[3]+=t[3],a?(e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=s[3],a=!1):(e[0]=Math.min(e[0],s[0]),e[1]=Math.min(e[1],s[1]),e[2]=Math.max(e[2],s[2]),e[3]=Math.max(e[3],s[3])))}return e}_getInflateSize(e,t,r,o,a){if(Se(t)){const s=this._getLayersInflateSize(e,t.symbolLayers,r,o,a),i=se(t.effects);return i>0&&(s[0]-=i,s[1]-=i,s[2]+=i,s[3]+=i),s}return this._getTextInflatedSize(e,t,a)}_getLayersInflateSize(e,t,r,o,a){let s=!0;if(!t)return e;for(const i of t){if(!i)continue;let t=[0,0,0,0];switch(i.type){case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=i;let r=e.width;null!=r&&(e.capStyle===_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineCapStyle */ .uT.Square||e.joinStyle===_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineJoinStyle */ .wd.Miter?r/=1.4142135623730951:r/=2,t[0]=-r,t[1]=-r,t[2]=r,t[3]=r);break}case"CIMCharacterMarker":case"CIMVectorMarker":case"CIMPictureMarker":{const e=i;if("CIMVectorMarker"===i.type){const e=i;if(t=this._vectorMarkerBounds(t,e,r,a),e.frame){const r=(e.frame.xmin+e.frame.xmax)/2,o=(e.frame.ymin+e.frame.ymax)/2;if(t[0]-=r,t[1]-=o,t[2]-=r,t[3]-=o,null!=e.size){const r=e.size/(e.frame.ymax-e.frame.ymin);t[0]*=r,t[1]*=r,t[2]*=r,t[3]*=r}}}else if("CIMPictureMarker"===i.type){const o=i,a=r.getResource(o.url);let s=1;if(null!=a&&a.height&&(s=a.width/a.height),null!=e.size){const r=e.size/2,a=e.size*s*o.scaleX/2;t=[-a,-r,a,r]}}else if(null!=e.size){const r=e.size/2;t=[-r,-r,r,r]}if(e.anchorPoint){let r,o;"Absolute"===e.anchorPointUnits?(r=e.anchorPoint.x,o=e.anchorPoint.y):(r=e.anchorPoint.x*(t[2]-t[0]),o=e.anchorPoint.y*(t[3]-t[1])),t[0]-=r,t[1]-=o,t[2]-=r,t[3]-=o}let s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.rotation);if(e.rotateClockwise&&(s=-s),o&&(s-=o),s){const e=K*s,r=Math.cos(e),o=Math.sin(e),a=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)([_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .cInfinity */ .MG,_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .cInfinity */ .MG,-_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .cInfinity */ .MG,-_views_2d_engine_vectorTiles_GeometryUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .cInfinity */ .MG]);(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__/* .expandPointInPlace */ .tK)(a,[t[0]*r-t[1]*o,t[0]*o+t[1]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__/* .expandPointInPlace */ .tK)(a,[t[0]*r-t[3]*o,t[0]*o+t[3]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__/* .expandPointInPlace */ .tK)(a,[t[2]*r-t[1]*o,t[2]*o+t[1]*r]),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_6__/* .expandPointInPlace */ .tK)(a,[t[2]*r-t[3]*o,t[2]*o+t[3]*r]),t=a}let c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.offsetX),f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.offsetY);if(o){const e=K*o,t=Math.cos(e),r=Math.sin(e),a=c*r+f*t;c=c*t-f*r,f=a}t[0]+=c,t[1]+=f,t[2]+=c,t[3]+=f;const m=oe(e.markerPlacement);m>0&&(t[0]-=m,t[1]-=m,t[2]+=m,t[3]+=m);break}}const c=se(i.effects);c>0&&(t[0]-=c,t[1]-=c,t[2]+=c,t[3]+=c),s?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],s=!1):(e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[2]),e[3]=Math.max(e[3],t[3]))}return e}_getTextInflatedSize(e,r,o){const a=r.height??_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__/* .defaultTextHeight */ .sA;if(e[0]=-a/2,e[1]=-a/2,e[2]=a/2,e[3]=a/2,!o)return e;const s=o.get(r);if(!s)return e;const{text:i,mosaicItem:n}=s;if(!n?.glyphMosaicItems?.length)return e;const{lineGapType:l,lineGap:c}=r,f=l?(0,_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__/* .lineGapType2LineHeight */ .QF)(l,c??0,a):0,m=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_1__/* .bidiText */ .y)(i)[1],y=n.glyphMosaicItems,M="CIMBackgroundCallout"===r.callout?.type,d=(0,_views_2d_engine_webgl_mesh_templates_shapingUtils_js__WEBPACK_IMPORTED_MODULE_15__/* .shapeGlyphs */ .Tl)(y,m,{scale:a/_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__/* .glyphSize */ .eG,angle:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(r.angle),xOffset:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(r.offsetX),yOffset:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(r.offsetY),hAlign:(0,_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__/* .horizontalAlignment2HAlign */ .vx)(r.horizontalAlignment),vAlign:(0,_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__/* .verticalAlignment2VAlign */ .Jm)(r.verticalAlignment),maxLineWidth:512,lineHeight:_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__/* .magicLabelLineHeight */ .DY*Math.max(.25,Math.min(f||1,4)),decoration:r.font.decoration||"none",isCIM:!0,hasBackground:M}).boundsT;return e[0]=d.x-d.halfWidth,e[1]=-d.y-d.halfHeight,e[2]=d.x+d.halfWidth,e[3]=-d.y+d.halfHeight,e}}class ne{static getEnvelope(e,t,r){if(!e)return null;const o=new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__/* .EnvDrawHelper */ .mx(r);if(Array.isArray(e)){let r;for(const a of e)r?r.union(re(o,a,t)):r=re(o,a,t);return r}return re(o,e,t)}static getTextureAnchor(e,t){const r=this.getEnvelope(e,null,t);if(!r)return[0,0,0];const o=(r.x+.5*r.width)*Q,a=(r.y+.5*r.height)*Q,s=r.width*Q+2,i=r.height*Q+2;return[-o/s,-a/i,i]}static rasterize(e,t,r,o,a=!0){const s=r||this.getEnvelope(t,null,o);if(!s)return[null,0,0,0,0];const i=(s.x+.5*s.width)*Q,n=(s.y+.5*s.height)*Q;e.width=s.width*Q,e.height=s.height*Q,r||(e.width+=2,e.height+=2);const l=e.getContext("2d"),c=_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__/* .Transformation */ .IT.createScale(Q,-Q);c.translate(.5*e.width-i,.5*e.height+n);const f=new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__/* .CanvasDrawHelper */ .Rj(l,o,c);switch(t.type){case"CIMPointSymbol":{const e={type:"point",x:0,y:0};f.drawSymbol(t,e);break}case"CIMVectorMarker":{const e=new _CIMPlacements_js__WEBPACK_IMPORTED_MODULE_16__/* .Placement */ .W;f.drawMarker(t,e);break}}const m=l.getImageData(0,0,e.width,e.height),u=new Uint8Array(m.data);if(a){let e;for(let t=0;t<u.length;t+=4)e=u[t+3]/255,u[t]=u[t]*e,u[t+1]=u[t+1]*e,u[t+2]=u[t+2]*e}return[u,e.width,e.height,-i/e.width,-n/e.height]}static fromTextSymbol(e){const{angle:r,color:o,font:a,haloColor:s,haloSize:i,horizontalAlignment:n,kerning:l,text:c,verticalAlignment:f,xoffset:m,yoffset:y,backgroundColor:u,borderLineColor:h,borderLineSize:p}=e;let M,d,S,b,C,g;a&&(M=a.family,d=a.style,S=a.weight,b=a.size,C=a.decoration);let I=!1;if(c){I=(0,_core_BidiText_js__WEBPACK_IMPORTED_MODULE_1__/* .bidiText */ .y)(c)[1]}return(u||p)&&(g={type:"CIMBackgroundCallout",margin:null,backgroundSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",color:ue(u)},{type:"CIMSolidStroke",color:ue(h),width:p}]},accentBarSymbol:null,gap:null,leaderLineSymbol:null,lineStyle:null}),{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:{type:"CIMTextSymbol",angle:r,blockProgression:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .BlockProgression */ .TZ.BTT,depth3D:1,extrapolateBaselines:!0,fontEffects:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .FontEffects */ .Y.Normal,fontEncoding:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .FontEncoding */ .bj.Unicode,fontFamilyName:M||"Arial",fontStyleName:he(d,S),fontType:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .FontType */ .g7.Unspecified,haloSize:i,height:b,hinting:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .GlyphHinting */ .mU.Default,horizontalAlignment:me(n??"center"),kerning:l,letterWidth:100,ligatures:!0,lineGapType:"Multiple",offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(m),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(y),strikethrough:"line-through"===C,underline:"underline"===C,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:ue(o)}]},haloSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:ue(s)}]},shadowColor:[0,0,0,255],shadowOffsetX:1,shadowOffsetY:1,textCase:"Normal",textDirection:I?_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .TextReadingDirection */ .f0.RTL:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .TextReadingDirection */ .f0.LTR,verticalAlignment:ye(f??"baseline"),verticalGlyphOrientation:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .VerticalGlyphOrientation */ .vG.Right,wordSpacing:100,billboardMode3D:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .BillBoardMode */ .xn.FaceNearPlane,callout:g},textString:c}],scaleSymbolsProportionally:!0,respectFrame:!0}],scaleX:1,angleAlignment:"Display"}}static fromPictureFillSymbol(e){const{height:t,outline:r,width:o,xoffset:a,xscale:s,yoffset:i,yscale:n}=e,l=[],c={type:"CIMPolygonSymbol",symbolLayers:l};if(r){const e=ke(r);e&&l.push(e)}let f=e.url;"esriPFS"===e.type&&e.imageData&&(f=e.imageData);const m="angle"in e?e.angle??0:0,y=(o??0)*(s||1),u=(t??0)*(n||1);return l.push({type:"CIMPictureFill",invertBackfaceTexture:!1,scaleX:1,textureFilter:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .TextureFilter */ .O$.Picture,tintColor:null,url:f,height:u,width:y,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(a),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(i),rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(-m),colorSubstitutions:null}),c}static fromSimpleFillSymbol(e){const{color:t,style:o,outline:a}=e,s=[],n={type:"CIMPolygonSymbol",symbolLayers:s};if(a){const e=ke(a);e&&s.push(e)}if(o&&"solid"!==o&&"none"!==o&&"esriSFSSolid"!==o&&"esriSFSNull"!==o){const e={type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",color:ue(t),capStyle:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineCapStyle */ .uT.Butt,joinStyle:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineJoinStyle */ .wd.Miter,width:.75}]};let a=0;const n=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .px2pt */ .PN)(Ce(o)?8:10);switch(o){case"vertical":case"esriSFSVertical":a=90;break;case"forward-diagonal":case"esriSFSForwardDiagonal":case"diagonal-cross":case"esriSFSDiagonalCross":a=-45;break;case"backward-diagonal":case"esriSFSBackwardDiagonal":a=45;break;case"cross":case"esriSFSCross":a=0}s.push({type:"CIMHatchFill",lineSymbol:e,offsetX:0,offsetY:0,rotation:a,separation:n}),"cross"===o||"esriSFSCross"===o?s.push({type:"CIMHatchFill",lineSymbol:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(e),offsetX:0,offsetY:0,rotation:90,separation:n}):"diagonal-cross"!==o&&"esriSFSDiagonalCross"!==o||s.push({type:"CIMHatchFill",lineSymbol:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(e),offsetX:0,offsetY:0,rotation:45,separation:n})}else!o||"solid"!==o&&"esriSFSSolid"!==o||s.push({type:"CIMSolidFill",enable:!0,color:ue(t)});return n}static fromSimpleLineSymbol(e){const{cap:t,color:r,join:o,marker:a,miterLimit:s,style:i,width:n}=e;let l=null;"solid"!==i&&"none"!==i&&"esriSLSSolid"!==i&&"esriSLSNull"!==i&&(l=[{type:"CIMGeometricEffectDashes",dashTemplate:de(i,t),lineDashEnding:"NoConstraint",scaleDash:!0,offsetAlongLine:null}]);const c=[];if(a){let e;switch(a.placement){case"begin-end":e=_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .ExtremityPlacement */ .$2.Both;break;case"begin":e=_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .ExtremityPlacement */ .$2.JustBegin;break;case"end":e=_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .ExtremityPlacement */ .$2.JustEnd;break;default:e=_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .ExtremityPlacement */ .$2.None}const t=ne.fromSimpleMarker(a,n,r).symbolLayers[0];t.markerPlacement={type:"CIMMarkerPlacementAtExtremities",angleToLine:!0,offset:0,extremityPlacement:e,offsetAlongLine:0},c.push(t)}return c.push({type:"CIMSolidStroke",color:"none"!==i&&"esriSLSNull"!==i?ue(r):[0,0,0,0],capStyle:ce(t),joinStyle:fe(o),miterLimit:s,width:n,effects:l}),{type:"CIMLineSymbol",symbolLayers:c}}static fromPictureMarker(e){const{angle:t,height:r,width:o,xoffset:a,yoffset:s}=e;let i=e.url;return"esriPMS"===e.type&&e.imageData&&(i=e.imageData),{type:"CIMPointSymbol",symbolLayers:[{type:"CIMPictureMarker",invertBackfaceTexture:!1,scaleX:1,textureFilter:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .TextureFilter */ .O$.Picture,tintColor:null,url:i,size:r,width:o,offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(a),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(s),rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(-t)}]}}static fromSimpleMarker(e,t,r){const{style:o}=e,a=e.color??r;if("path"===o){const t=[];if("outline"in e&&e.outline){const r=e.outline;t.push({type:"CIMSolidStroke",enable:!0,width:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .pt2px */ .Lz)(Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .px2pt */ .PN)(r.width))),color:ue(r.color),path:e.path})}t.push({type:"CIMSolidFill",enable:!0,color:ue(a),path:e.path});const[r,o]=be("square");return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(-e.angle),size:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.size||6),offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.xoffset),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.yoffset),frame:r,markerGraphics:[{type:"CIMMarkerGraphic",geometry:o,symbol:{type:"CIMPolygonSymbol",symbolLayers:t}}]}]}}const n=[];let l,c;if("outline"in e&&e.outline&&"none"!==e.outline.style&&"esriSLSNull"!==e.outline.style){const t=e.outline,r="solid"!==t.style&&"esriSLSSolid"!==t.style;[l,c]=r?be(o,e.size):be(o);const a="cross"!==e.style&&"x"!==e.style||"dot"===e?.outline.style||"short-dot"===e?.outline.style?_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineDashEnding */ .yS.HalfGap:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineDashEnding */ .yS.FullPattern,f=r?[{type:"CIMGeometricEffectAddControlPoints"},{type:"CIMGeometricEffectDashes",dashTemplate:de(t.style,null).map((e=>t.width&&t.width>0?e*t.width:e)),lineDashEnding:a,controlPointEnding:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineDashEnding */ .yS.FullPattern}]:void 0;n.push({type:"CIMSolidStroke",capStyle:r?_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineCapStyle */ .uT.Round:_enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineCapStyle */ .uT.Butt,enable:!0,width:null!=t.width&&t.width>.667?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .pt2px */ .Lz)(Math.round((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .px2pt */ .PN)(t.width))):t.width,color:ue(t.color),effects:f})}else!t||"line-marker"!==e.type||"cross"!==e.style&&"x"!==e.style?[l,c]=be(o):([l,c]=be(o),n.push({type:"CIMSolidStroke",enable:!0,width:t,color:ue(a)}));n.push({type:"CIMSolidFill",enable:!0,color:ue(a)});const f={type:"CIMPolygonSymbol",symbolLayers:n};return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(-e.angle),size:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.size||6*t),offsetX:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.xoffset),offsetY:(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .getValue */ ._W)(e.yoffset),frame:l,markerGraphics:[{type:"CIMMarkerGraphic",geometry:c,symbol:f}]}]}}static fromCIMHatchFill(e,t){const o=t*(e.separation??_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_10__/* .defaultHatchFillSeparation */ .Lh),a=o/2,s=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(e.lineSymbol);s.symbolLayers?.forEach((e=>{switch(e.type){case"CIMSolidStroke":null!=e.width&&(e.width*=t),e.effects?.forEach((e=>{"CIMGeometricEffectDashes"===e.type&&(e.dashTemplate=e.dashTemplate.map((e=>e*t)))}));break;case"CIMVectorMarker":{null!=e.size&&(e.size*=t);const r=e.markerPlacement;null!=r&&"placementTemplate"in r&&(r.placementTemplate=r.placementTemplate.map((e=>e*t)));break}}}));let i=this._getLineSymbolPeriod(s)||Z;for(;i<Z;)i*=2;const n=i/2;return{type:"CIMVectorMarker",frame:{xmin:-n,xmax:n,ymin:-a,ymax:a},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-n,0],[n,0]]]},symbol:s}],size:o}}static fetchResources(e,t,r){if(e&&t)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const o=e.symbolLayers;if(!o)return;for(const e of o)switch(Ie(e,t,r),e.type){case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMCharacterMarker":case"CIMPictureMarker":"url"in e&&e.url&&r.push(t.fetchResource(e.url,null));break;case"CIMVectorMarker":{const o=e.markerGraphics;if(!o)continue;for(const e of o)if(e){const o=e.symbol;o&&ne.fetchResources(o,t,r)}}}break}}}static fetchFonts(e,t,r){if(e&&t)if("symbolLayers"in e&&e.symbolLayers){for(const o of e.symbolLayers)if("CIMVectorMarker"===o.type&&o.markerGraphics)for(const e of o.markerGraphics)e?.symbol&&ne.fetchFonts(e.symbol,t,r)}else if("CIMTextSymbol"===e.type){const{fontFamilyName:o,fontStyleName:a}=e;if(!o||"calcitewebcoreicons"===o.toLowerCase())return;const{style:s,weight:i}=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .fromCIMFontStyle */ ._d)(a),n=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .fromCIMFontDecoration */ .DW)(e),l=new _Font_js__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A({family:o,style:s,weight:i,decoration:n});r.push(t.loadFont(l).catch((()=>{ee.error(`Unsupported font ${o} in CIM symbol`)})))}}static _getLineSymbolPeriod(e){if(e){const t=this._getEffectsRepeat(e.effects);if(t)return t;if(e.symbolLayers)for(const r of e.symbolLayers)if(r){const e=this._getEffectsRepeat(r.effects);if(e)return e;switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const e=this._getPlacementRepeat(r.markerPlacement);if(e)return e}}}}return 0}static _getEffectsRepeat(e){if(e)for(const t of e)if(t)switch(t.type){case"CIMGeometricEffectDashes":{const e=t.dashTemplate;if(e&&e.length){let t=0;for(const r of e)t+=r;return 1&e.length&&(t*=2),t}break}case"CIMGeometricEffectWave":return t.period;default:ee.error(`unsupported geometric effect type ${t.type}`)}return 0}static _getPlacementRepeat(e){if(e)switch(e.type){case"CIMMarkerPlacementAlongLineSameSize":case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineVariableSize":{const t=e.placementTemplate;if(t&&t.length){let e=0;for(const r of t)e+=+r;return 1&t.length&&(e*=2),e}break}}return 0}static fromCIMInsidePolygon(e){const t=e.markerPlacement,r={...e};r.markerPlacement=null,r.anchorPoint=null;const o=Math.abs(t.stepX),s=Math.abs(t.stepY),n=(t.randomness??100)/100;let l,c,f,m;if("Random"===t.gridType){const e=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_18__/* .px2pt */ .PN)(_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_14__/* .randomInsidePolygonTextureSize */ .yv),r=Math.max(Math.floor(e/o),1),y=Math.max(Math.floor(e/s),1);l=r*o/2,c=y*s/2,f=2*c;const u=new _core_RandomLCG_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A(t.seed),h=n*o/1.5,p=n*s/1.5;m=[];for(let t=0;t<r;t++)for(let e=0;e<y;e++){const r=t*o-l+h*(.5-u.getFloat()),a=e*s-c+p*(.5-u.getFloat());m.push({x:r,y:a}),0===t&&m.push({x:r+2*l,y:a}),0===e&&m.push({x:r,y:a+2*c})}}else!0===t.shiftOddRows?(l=o/2,c=s,f=2*s,m=[{x:-l,y:0},{x:l,y:0},{x:0,y:c},{x:0,y:-c}]):(l=o/2,c=s/2,f=s,m=[{x:-o,y:0},{x:0,y:-s},{x:-o,y:-s},{x:0,y:0},{x:o,y:0},{x:0,y:s},{x:o,y:s},{x:-o,y:s},{x:o,y:-s}]);return{type:"CIMVectorMarker",frame:{xmin:-l,xmax:l,ymin:-c,ymax:c},markerGraphics:m.map((e=>({type:"CIMMarkerGraphic",geometry:e,symbol:{type:"CIMPointSymbol",symbolLayers:[r]}}))),size:f}}static getSize(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const e=r.size;null!=e&&e>t&&(t=e);break}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers)for(const r of e.symbolLayers)if(r)switch(r.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=r.width;null!=e&&e>t&&(t=e);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(r.markerPlacement&&(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .isCIMMarkerStrokePlacement */ .zr)(r.markerPlacement)){const e=r.size;null!=e&&e>t&&(t=e)}}return t}}}static getMarkerScaleRatio(e){if(e&&"CIMVectorMarker"===e.type)if(!1!==e.scaleSymbolsProportionally&&e.frame&&null!=e.size){const t=e.frame.ymax-e.frame.ymin;return e.size/t}return 1}}class le{static findApplicableOverrides(e,t,r){if(e&&t){if(e.primitiveName){let o=!1;for(const t of r)if(t.primitiveName===e.primitiveName){o=!0;break}if(!o)for(const a of t)a.primitiveName===e.primitiveName&&r.push(a)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const o of e.effects)le.findApplicableOverrides(o,t,r);if(e.symbolLayers)for(const o of e.symbolLayers)le.findApplicableOverrides(o,t,r);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":case"CIMSolidFill":case"CIMPictureFill":case"CIMHatchFill":case"CIMGradientFill":case"CIMVectorMarker":case"CIMCharacterMarker":case"CIMPictureMarker":if(e.effects)for(const o of e.effects)le.findApplicableOverrides(o,t,r);if(e.markerPlacement&&le.findApplicableOverrides(e.markerPlacement,t,r),"CIMVectorMarker"===e.type){if(e.markerGraphics)for(const o of e.markerGraphics)le.findApplicableOverrides(o,t,r),le.findApplicableOverrides(o.symbol,t,r)}else"CIMCharacterMarker"===e.type?le.findApplicableOverrides(e.symbol,t,r):"CIMHatchFill"===e.type?le.findApplicableOverrides(e.lineSymbol,t,r):"CIMPictureMarker"===e.type&&le.findApplicableOverrides(e.animatedSymbolProperties,t,r)}}}static findEffectOverrides(e,t,r){if(!t||!e)return;const o=e.length;for(let a=0;a<o;a++){const o=e[a],s=o?.primitiveName;if(s){let e=!1;for(const t of r)if(t.primitiveName===s){e=!0;break}if(!e)for(const o of t)o.primitiveName===s&&r.push(o)}}}static async resolveSymbolOverrides(e,t,o,a,s,i,n){if(!e?.symbol)return null;let{symbol:l,primitiveOverrides:c}=e;const f=!!c;if(!f&&!a)return l;l=(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(l);let m=!0;if(t||(t={attributes:{}},m=!1),f){if(m||(c=c.filter((e=>!e.valueExpressionInfo?.expression.includes("$feature")))),n||(c=c.filter((e=>!e.valueExpressionInfo?.expression.includes("$view")))),c.length>0){const e=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .attributesToFields */ .O2)(t.attributes);await le.evaluateOverrides(c,t,{spatialReference:o,fields:e,geometryType:s},i,n)}le.applyOverrides(l,c)}return a&&le.applyDictionaryTextOverrides(l,t,a),l}static async evaluateOverrides(e,t,r,o,a){if(!t)return;let s;for(const i of e){const e=i.valueExpressionInfo;if(e&&r?.geometryType){s||(s=[]),i.value=void 0;const n=(0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_8__/* .createRendererExpression */ .Ad)(e.expression,r.spatialReference,r.fields).then((e=>{i.value=(0,_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A)(e,t,{$view:a},r.geometryType,o)}));s.push(n)}}void 0!==s&&s.length>0&&await Promise.all(s)}static applyDictionaryTextOverrides(e,t,r,o="Normal"){if(e?.type)switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":case"CIMTextSymbol":{const a=e.symbolLayers;if(!a)return;for(const s of a)s&&"CIMVectorMarker"===s.type&&le.applyDictionaryTextOverrides(s,t,r,"CIMTextSymbol"===e.type?e.textCase:o)}break;case"CIMVectorMarker":{const o=e.markerGraphics;if(!o)return;for(const e of o)e&&le.applyDictionaryTextOverrides(e,t,r)}break;case"CIMMarkerGraphic":{const a=e.textString;if(a&&a.includes("[")){const s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .analyzeTextParts */ .gQ)(a,r);e.textString=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .assignTextValuesFromFeature */ .FM)(t,s,o)}}}}static applyOverrides(e,t,r,o){if(e.primitiveName)for(const a of t)if(a.primitiveName===e.primitiveName){const t=ge(a.propertyName);if(o&&o.push({cim:e,nocapPropertyName:t,value:e[t]}),a.expression&&(a.value=le.toValue(a.propertyName,a.expression)),r){let t=!1;for(const o of r)o.primitiveName===e.primitiveName&&(t=!0);t||r.push(a)}null!=a.value&&(e[t]=a.value)}switch(e.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":if(e.effects)for(const a of e.effects)le.applyOverrides(a,t,r,o);if(e.symbolLayers)for(const a of e.symbolLayers)le.applyOverrides(a,t,r,o);break;case"CIMTextSymbol":break;case"CIMSolidStroke":case"CIMSolidFill":case"CIMVectorMarker":if(e.effects)for(const a of e.effects)le.applyOverrides(a,t,r,o);if("CIMVectorMarker"===e.type&&e.markerGraphics)for(const a of e.markerGraphics)le.applyOverrides(a,t,r,o),le.applyOverrides(a.symbol,t,r,o)}}static restoreOverrides(e){for(const t of e)t.cim[t.nocapPropertyName]=t.value}static buildOverrideKey(e){let t="";for(const r of e)void 0!==r.value&&(t+=`${r.primitiveName}${r.propertyName}${JSON.stringify(r.value)}`);return t}static toValue(t,r){if("DashTemplate"===t)return r.split(" ").map((e=>Number(e)));if("Color"===t){const t=new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(r).toRgba();return t[3]*=255,t}return r}}const ce=e=>{if(!e)return _enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineCapStyle */ .uT.Butt;switch(e){case"butt":return _enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineCapStyle */ .uT.Butt;case"square":return _enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineCapStyle */ .uT.Square;case"round":return _enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineCapStyle */ .uT.Round}},fe=e=>{if(!e)return _enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineJoinStyle */ .wd.Miter;switch(e){case"miter":return _enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineJoinStyle */ .wd.Miter;case"round":return _enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineJoinStyle */ .wd.Round;case"bevel":return _enums_js__WEBPACK_IMPORTED_MODULE_11__/* .LineJoinStyle */ .wd.Bevel}},me=e=>{if(null==e)return"Center";switch(e){case"left":return"Left";case"right":return"Right";case"center":return"Center"}},ye=e=>{if(null==e)return"Center";switch(e){case"baseline":return"Baseline";case"top":return"Top";case"middle":return"Center";case"bottom":return"Bottom"}},ue=e=>{if(!e)return[0,0,0,0];const{r:t,g:r,b:o,a}=e;return[t,r,o,255*a]},he=(e,t)=>{const r=pe(t),o=Me(e);return r&&o?`${r}-${o}`:`${r}${o}`},pe=e=>{if(!e)return"";switch(e.toLowerCase()){case"bold":case"bolder":return"bold"}return""},Me=e=>{if(!e)return"";switch(e.toLowerCase()){case"italic":case"oblique":return"italic"}return""},de=(e,t)=>{const r=(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)("safari")?.001:0,o="butt"===t;switch(e){case"dash":case"esriSLSDash":return o?[4,3]:[3,4];case"dash-dot":case"esriSLSDashDot":return o?[4,3,1,3]:[3,4,r,4];case"dot":case"esriSLSDot":return o?[1,3]:[r,4];case"long-dash":case"esriSLSLongDash":return o?[8,3]:[7,4];case"long-dash-dot":case"esriSLSLongDashDot":return o?[8,3,1,3]:[7,4,r,4];case"long-dash-dot-dot":case"esriSLSDashDotDot":return o?[8,3,1,3,1,3]:[7,4,r,4,r,4];case"short-dash":case"esriSLSShortDash":return o?[4,1]:[3,2];case"short-dash-dot":case"esriSLSShortDashDot":return o?[4,1,1,1]:[3,2,r,2];case"short-dash-dot-dot":case"esriSLSShortDashDotDot":return o?[4,1,1,1,1,1]:[3,2,r,2,r,2];case"short-dot":case"esriSLSShortDot":return o?[1,1]:[r,2];case"solid":case"esriSLSSolid":case"none":return ee.error("Unexpected: style does not require rasterization"),[0,0];default:return ee.error(`Tried to rasterize SLS, but found an unexpected style: ${e}!`),[0,0]}};function Se(e){return void 0!==e.symbolLayers}const be=(e,t=100)=>{const r=t/2;let o,a;const s=e;if("circle"===s||"esriSMSCircle"===s){const e=.25;let t=Math.acos(1-e/r),s=Math.ceil(W/t/4);0===s&&(s=1),t=J/s,s*=4;const i=[];i.push([r,0]);for(let o=1;o<s;o++)i.push([r*Math.cos(o*t),-r*Math.sin(o*t)]);i.push([r,0]),o={rings:[i]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("cross"===s||"esriSMSCross"===s){const e=0;o={paths:[[[e,r],[e,-r]],[[r,e],[-r,e]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r}}else if("diamond"===s||"esriSMSDiamond"===s)o={rings:[[[-r,0],[0,r],[r,0],[0,-r],[-r,0]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("square"===s||"esriSMSSquare"===s)o={rings:[[[-r,-r],[-r,r],[r,r],[r,-r],[-r,-r]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("x"===s||"esriSMSX"===s)o={paths:[[[r,r],[-r,-r]],[[r,-r],[-r,r]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r};else if("triangle"===s||"esriSMSTriangle"===s){const e=t*.5773502691896257,r=-e,s=2/3*t,i=s-t;o={rings:[[[r,i],[0,s],[e,i],[r,i]]]},a={xmin:r,ymin:i,xmax:e,ymax:s}}else"arrow"===s&&(o={rings:[[[-50,50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},a={xmin:-r,ymin:-r,xmax:r,ymax:r});return[a,o]},Ce=e=>"vertical"===e||"horizontal"===e||"cross"===e||"esriSFSCross"===e||"esriSFSVertical"===e||"esriSFSHorizontal"===e,ge=e=>e?e.charAt(0).toLowerCase()+e.substr(1):e;function Ie(e,t,r){if(!e.effects||null!=t.geometryEngine)return;if(t.geometryEnginePromise)return void r.push(t.geometryEnginePromise);(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .isGeometryEngineRequired */ .yH)(e.effects)&&(t.geometryEnginePromise=(0,_utils_js__WEBPACK_IMPORTED_MODULE_17__/* .importGeometryEngine */ ._H)(),r.push(t.geometryEnginePromise),t.geometryEnginePromise.then((e=>t.geometryEngine=e)))}function ke(e){if(!e)return null;let t=null;const{cap:r,color:o,join:a,miterLimit:s,style:i,width:n}=e;return"solid"!==i&&"none"!==i&&"esriSLSSolid"!==i&&"esriSLSNull"!==i&&(t=[{type:"CIMGeometricEffectDashes",dashTemplate:de(i,r),lineDashEnding:"NoConstraint",scaleDash:!0,offsetAlongLine:null}]),{type:"CIMSolidStroke",color:"esriSLSNull"!==i&&"none"!==i?ue(o):[0,0,0,0],capStyle:ce(r),joinStyle:fe(a),miterLimit:s,width:n,effects:t}}


/***/ }),

/***/ 79851:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CIMSymbolRasterizer: () => (/* binding */ M)
/* harmony export */ });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96220);
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86394);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(40189);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(89882);
/* harmony import */ var _cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80047);
/* harmony import */ var _CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(74339);
/* harmony import */ var _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(48655);
/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(48002);
/* harmony import */ var _Rasterizer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(68724);
/* harmony import */ var _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(95159);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(50072);
/* harmony import */ var _support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(77573);
/* harmony import */ var _support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(15790);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const C=e=>e?.scaleFactor?e.scaleFactor:1,_=96/72;class M{constructor(e,t){this._spatialReference=e,this._avoidSDF=t,this._resourceCache=new Map,this._lazyImageDataCanvas=null,this._pictureMarkerCache=new Map,this._textRasterizer=new _TextRasterizer_js__WEBPACK_IMPORTED_MODULE_8__/* ["default"] */ .A,this._cimResourceManager=new _CIMResourceManager_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A,this._rasterizer=new _Rasterizer_js__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A(this._cimResourceManager)}get _imageDataCanvas(){return this._lazyImageDataCanvas??=document.createElement("canvas"),this._lazyImageDataCanvas}get _imageDataContext(){return this._imageDataCanvas.getContext("2d",{willReadFrequently:!0})}get resourceManager(){return this._cimResourceManager}async rasterizeCIMSymbolAsync(e,t,a,i,r,o,s,m,g){if(!e)return null;const{data:f}=e;if(!f||"CIMSymbolReference"!==f.type||!f.symbol)return null;const{symbol:d}=f;o||(o=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .mapCIMSymbolToGeometryType */ .n5)(d));const y=await _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .OverrideHelper */ .$N.resolveSymbolOverrides(f,t,this._spatialReference,r,o,s,m),p=this._imageDataCanvas,w=this._cimResourceManager,C=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .CIMSymbolHelper */ .wp.fetchResources(y,w,C),_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .CIMSymbolHelper */ .wp.fetchFonts(y,w,C),C.length>0&&await Promise.all(C);const{width:M,height:b}=a,I=z(o,M,b,i),x=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .CIMSymbolHelper */ .wp.getEnvelope(y,I,w);if(!x)return null;const R=(window.devicePixelRatio||1)*_;let v=1,D=0,P=0;switch(d.type){case"CIMPointSymbol":case"CIMTextSymbol":{let e=1;x.width>M&&(e=M/x.width);let t=1;x.height>b&&(t=b/x.height),"preview"===i&&(x.width<M&&(e=M/x.width),x.height<b&&(t=b/x.height)),v=Math.min(e,t),D=x.x+x.width/2,P=x.y+x.height/2}break;case"CIMLineSymbol":{(g||x.height>b)&&(v=b/x.height),P=x.y+x.height/2;const e=x.x*v+M/2,t=(x.x+x.width)*v+M/2,{paths:a}=I;a[0][0][0]-=e/v,a[0][2][0]-=(t-M)/v}break;case"CIMPolygonSymbol":{D=x.x+x.width/2,P=x.y+x.height/2;const e=x.x*v+M/2,t=(x.x+x.width)*v+M/2,a=x.y*v+b/2,i=(x.y+x.height)*v+b/2,{rings:r}=I;e<0&&(r[0][0][0]-=e,r[0][3][0]-=e,r[0][4][0]-=e),a<0&&(r[0][0][1]+=a,r[0][1][1]+=a,r[0][4][1]+=a),t>M&&(r[0][1][0]-=t-M,r[0][2][0]-=t-M),i>b&&(r[0][2][1]+=i-b,r[0][3][1]+=i-b)}}p.width=M*R,p.height=b*R;const S=1;p.width+=2*S,p.height+=2*S;const k=this._imageDataContext,A=_CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__/* .Transformation */ .IT.createIdentity();A.translate(-D,-P),A.scale(v*R,-v*R),A.translate(M*R/2+S,b*R/2+S),k.clearRect(0,0,p.width,p.height);return new _CIMSymbolDrawHelper_js__WEBPACK_IMPORTED_MODULE_5__/* .CanvasDrawHelper */ .Rj(k,w,A,!0).drawSymbol(y,I),k.getImageData(0,0,p.width,p.height)}async analyzeCIMSymbol3D(e,t,i,o,s){const n=[],l=t?{geometryType:o,spatialReference:this._spatialReference,fields:t}:null,c=[];_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_6__/* .CIMSymbolHelper */ .wp.fetchFonts(e.data.symbol,this._cimResourceManager,c),await Promise.all(c);const m=new _cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__/* .CIMAnalyzer */ .U(this._cimResourceManager,l);let g;await m.analyzeSymbolReference(e.data,this._avoidSDF,n),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .throwIfAborted */ .Te)(s);for(const a of n)"CIMPictureMarker"!==a.cim.type&&"CIMPictureFill"!==a.cim.type&&"CIMPictureStroke"!==a.cim.type||(g||(g=[]),g.push(this._fetchPictureMarkerResource(a,s))),i&&"text"===a.type&&"string"==typeof a.text&&a.text.includes("[")&&(a.text=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .createLabelOverrideFunction */ .P3)(i,a.text,a.cim.textCase));return g&&await Promise.all(g),n}rasterizeCIMSymbol3D(e,t,a,i,r,o){const s=[];for(const n of e){i&&"function"==typeof i.scaleFactor&&(i.scaleFactor=i.scaleFactor(t,r,o));const e=this._getRasterizedResource(n,t,a,i,r,o);if(!e)continue;let l=0,c=e.anchorX||0,h=e.anchorY||0,m=!1,g=0,u=0;if("esriGeometryPoint"===a){const e=C(i);if(g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(n.offsetX,t,r,o)*e||0,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(n.offsetY,t,r,o)*e||0,"marker"===n.type)l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(n.rotation,t,r,o)||0,m=n.rotateClockwise??!1;else if("text"===n.type){if(l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(n.angle,t,r,o)||0,void 0!==n.horizontalAlignment)switch(n.horizontalAlignment){case"left":c=-.5;break;case"right":c=.5;break;default:c=0}if(void 0!==n.verticalAlignment)switch(n.verticalAlignment){case"top":h=.5;break;case"bottom":h=-.5;break;case"baseline":h=-.25;break;default:h=0}}}null!=e&&s.push({angle:l,rotateClockWise:m,anchorX:c,anchorY:h,offsetX:g,offsetY:u,rasterizedResource:e})}return this.getSymbolImage(s)}getSymbolImage(e){const t=document.createElement("canvas"),a=t.getContext("2d");let r=0,o=0,s=0,n=0;const l=[];for(let g=0;g<e.length;g++){const t=e[g],c=t.rasterizedResource;if(!c)continue;const h=c.size,m=t.offsetX,u=t.offsetY,f=t.anchorX,d=t.anchorY,y=t.rotateClockWise||!1;let p=t.angle,w=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(m)-h[0]*(.5+f),C=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(u)-h[1]*(.5+d),_=w+h[0],M=C+h[1];if(p){y&&(p=-p);const e=Math.sin(p*Math.PI/180),t=Math.cos(p*Math.PI/180),a=w*t-C*e,i=w*e+C*t,r=w*t-M*e,o=w*e+M*t,s=_*t-M*e,n=_*e+M*t,l=_*t-C*e,c=_*e+C*t;w=Math.min(a,r,s,l),C=Math.min(i,o,n,c),_=Math.max(a,r,s,l),M=Math.max(i,o,n,c)}r=w<r?w:r,o=C<o?C:o,s=_>s?_:s,n=M>n?M:n;const z=a.createImageData(c.size[0],c.size[1]);z.data.set(new Uint8ClampedArray(c.image.buffer));const b={offsetX:m,offsetY:u,rotateClockwise:y,angle:p,rasterizedImage:z,anchorX:f,anchorY:d};l.push(b)}t.width=s-r,t.height=n-o;const c=-r,h=n;for(let g=0;g<l.length;g++){const e=l[g],t=this._imageDataToCanvas(e.rasterizedImage),r=e.rasterizedImage.width,o=e.rasterizedImage.height,s=c-r*(.5+e.anchorX),n=h-o*(.5-e.anchorY);if(e.angle){const r=(360-e.angle)*Math.PI/180;a.save(),a.translate((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(e.offsetX),-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(e.offsetY)),a.translate(c,h),a.rotate(r),a.translate(-c,-h),a.drawImage(t,s,n),a.restore()}else a.drawImage(t,s+(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(e.offsetX),n-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(e.offsetY))}const m=new _support_Symbol3DAnchorPosition2D_js__WEBPACK_IMPORTED_MODULE_10__/* .Symbol3DAnchorPosition2D */ .Q({x:c/t.width-.5,y:h/t.height-.5});return{imageData:0!==t.width&&0!==t.height?a.getImageData(0,0,t.width,t.height):a.createImageData(1,1),anchorPosition:m}}async _fetchPictureMarkerResource(e,a){const i=e.materialHash;if(!this._pictureMarkerCache.get(i)){const r=(await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A)(e.cim.url,{responseType:"image",signal:a?.signal})).data;this._pictureMarkerCache.set(i,r)}}_imageDataToCanvas(e){const t=this._imageDataCanvas,a=this._imageDataContext;return t.width=e.width,t.height=e.height,a.putImageData(e,0,0),t}_imageTo32Array(t,a,i,r){const o=this._imageDataCanvas,s=this._imageDataContext;if(o.width=a,o.height=i,s.drawImage(t,0,0,a,i),r){s.save();const o=new _Color_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(r);s.fillStyle=o.toHex(),s.globalCompositeOperation="multiply",s.fillRect(0,0,a,i),s.globalCompositeOperation="destination-atop",s.drawImage(t,0,0,a,i),s.restore()}return new Uint32Array(s.getImageData(0,0,a,i).data.buffer)}_getRasterizedResource(e,t,a,i,r,o){let s,n,l;const c=null,h=null;if("text"===e.type)return this._rasterizeTextResource(e,t,i,r,o);({analyzedCIM:s,hash:n}=b(e,t,r,o));const m=C(i);if("CIMPictureMarker"===e.cim.type){const a=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.size,t,r,o)*m,{image:i,width:s,height:n}=this._getPictureResource(e,a,(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.color,t,r,o));return l={image:i,size:[s,n],sdf:!1,simplePattern:!1,anchorX:e.anchorPoint?e.anchorPoint.x:0,anchorY:e.anchorPoint?e.anchorPoint.y:0},l}(0,_support_cimSymbolUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .scaleCIMMarker */ .mR)(s,m,{preserveOutlineWidth:!1});const g=s;n+=a,i&&(n+=JSON.stringify(i));const u=this._resourceCache;return u.has(n)?u.get(n):(l=this._rasterizer.rasterizeJSONResource({cim:g,type:e.type,url:e.url,mosaicHash:n,size:c,path:h},window.devicePixelRatio||1,this._avoidSDF),u.set(n,l),l)}_rasterizeTextResource(e,t,a,i,r){const o=C(a),s=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.text,t,i,r);if(!s||0===s.length)return null;const n=e.cim,l=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(n?.fontFamilyName||e.fontName,t,i,r),c=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(n?.font?.style||e.style,t,i,r),h=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(n?.font?.weight||e.weight,t,i,r),m=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(n?.font?.decoration||e.decoration,t,i,r),g=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.size,t,i,r)*o,u=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.horizontalAlignment,t,i,r),f=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.verticalAlignment,t,i,r),p=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .colorToArray */ .G9)((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.color,t,i,r)),w=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .colorToArray */ .G9)((0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.outlineColor,t,i,r)),_=(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .evaluateValueOrFunction */ .s4)(e.outlineSize,t,i,r),M=null!=e.backgroundColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .colorToArray */ .G9)(e.backgroundColor):null,z=null!=e.borderLineColor?(0,_utils_js__WEBPACK_IMPORTED_MODULE_11__/* .colorToArray */ .G9)(e.borderLineColor):null,b=null!=e.borderLineWidth?e.borderLineWidth:null,I={color:p,size:g,horizontalAlignment:u,verticalAlignment:f,font:{family:l,style:c,weight:h,decoration:m},halo:{size:_||0,color:w,style:c},backgroundColor:M,borderLine:null!=z&&null!=b?{color:z,size:b}:null,pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(s,I)}_getPictureResource(e,t,a){const r=this._pictureMarkerCache.get(e.materialHash);if(!r)return null;const o=r.height/r.width,s=t?o>1?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(t):(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(t)/o:r.width,n=t?o>1?(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(t)*o:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_12__/* .pt2px */ .Lz)(t):r.height;return{image:this._imageTo32Array(r,s,n,a),width:s,height:n}}}function z(e,t,a,i){const r=1,o=-t/2+r,s=t/2-r,n=a/2-r,l=-a/2+r;switch(e){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[o,0],[0,0],[s,0]]]};default:return"legend"===i?{rings:[[[o,n],[s,0],[s,l],[o,l],[o,n]]]}:{rings:[[[o,n],[s,n],[s,l],[o,l],[o,n]]]}}}function b(e,t,a,i){let r,s;if("function"==typeof e.materialHash){r=(0,e.materialHash)(t,a,i),s=(0,_cimAnalyzer_js__WEBPACK_IMPORTED_MODULE_3__/* .analyzeCIMResource */ .G)(e.cim,e.materialOverrides)}else r=e.materialHash,s=e.cim;return{analyzedCIM:s,hash:r}}


/***/ }),

/***/ 68724:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(48002);
/* harmony import */ var _rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(79126);
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(76715);
/* harmony import */ var _SDFHelper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21422);
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(50072);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const m=512;class c{constructor(e){this._resourceManager=e,this._lazyRasterizationCanvas=null}dispose(){this._lazyRasterizationCanvas=null}get _rasterizationCanvas(){return null==this._lazyRasterizationCanvas&&(this._lazyRasterizationCanvas=document.createElement("canvas"),this._lazyRasterizationCanvas.getContext("2d",{willReadFrequently:!0})),this._lazyRasterizationCanvas}rasterizeJSONResource(l,m,c){if("simple-fill"===l.type||"esriSFS"===l.type){const[t,a,i]=(0,_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .rasterizeSimpleFill */ .r)(this._rasterizationCanvas,l.style,m);return{size:[a,i],image:new Uint32Array(t.buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0,rasterizationScale:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .nextPowerOfTwo */ .yR)(Math.ceil(m))}}if("simple-line"===l.type||"esriSLS"===l.type||"line"===l.type&&l.dashTemplate){let e,a;if("simple-line"===l.type||"esriSLS"===l.type)switch(e=(0,_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .slsDashToTemplateArray */ .BW)(l.style,l.cap),l.cap){case"butt":a="Butt";break;case"square":a="Square";break;default:a="Round"}else e=l.dashTemplate,a=l.cim.capStyle;const[r,n,s]=(0,_rasterizingUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .rasterizeDash */ .k)(e,a);return{size:[n,s],image:new Uint32Array(r.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}}let f,h=null,p=null,u=1;if("simple-marker"===l.type||"esriSMS"===l.type||"line-marker"===l.type?(f=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .CIMSymbolHelper */ .wp.fromSimpleMarker(l),p=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_3__/* .getSDFInfo */ .eR)(f)):l.cim&&"CIMHatchFill"===l.cim.type?(f=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .CIMSymbolHelper */ .wp.fromCIMHatchFill(l.cim,m),h=new _Rect_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A(f.frame.xmin,-f.frame.ymax,f.frame.xmax-f.frame.xmin,f.frame.ymax-f.frame.ymin),u=m):l.cim.markerPlacement&&"CIMMarkerPlacementInsidePolygon"===l.cim.markerPlacement.type?(f=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .CIMSymbolHelper */ .wp.fromCIMInsidePolygon(l.cim),h=new _Rect_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A(f.frame.xmin,-f.frame.ymax,f.frame.xmax-f.frame.xmin,f.frame.ymax-f.frame.ymin)):(f=l.cim,l.avoidSDFRasterization||(p=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_3__/* .getSDFInfo */ .eR)(f))),p&&!c){const[e,t,a]=(0,_SDFHelper_js__WEBPACK_IMPORTED_MODULE_3__/* .buildSDF */ .ce)(p);return e?{size:[t,a],image:new Uint32Array(e.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0,rasterizationScale:u}:null}const[y,z,d,C,g]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__/* .CIMSymbolHelper */ .wp.rasterize(this._rasterizationCanvas,f,h,this._resourceManager,!c);return y?{size:[z,d],image:new Uint32Array(y.buffer),sdf:!1,simplePattern:!1,anchorX:C,anchorY:g}:null}rasterizeImageResource(e,t,a,r){this._rasterizationCanvas.width=e,this._rasterizationCanvas.height=t;const i=this._rasterizationCanvas.getContext("2d");a instanceof ImageData?i.putImageData(a,0,0):(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`),i.drawImage(a,0,0,e,t));const n=i.getImageData(0,0,e,t),s=new Uint8Array(n.data);if(r)for(const l of r)if(l&&l.oldColor&&4===l.oldColor.length&&l.newColor&&4===l.newColor.length){const[e,t,a,r]=l.oldColor,[i,n,o,m]=l.newColor;if(e===i&&t===n&&a===o&&r===m)continue;for(let l=0;l<s.length;l+=4)e===s[l]&&t===s[l+1]&&a===s[l+2]&&r===s[l+3]&&(s[l]=i,s[l+1]=n,s[l+2]=o,s[l+3]=m)}let o;for(let l=0;l<s.length;l+=4)o=s[l+3]/255,s[l]=s[l]*o,s[l+1]=s[l+1]*o,s[l+2]=s[l+2]*o;let c=s,f=e,h=t;const p=m;if(f>=p||h>=p){const a=f/h;a>1?(f=p,h=Math.round(p/a)):(h=p,f=Math.round(p*a)),c=new Uint8Array(4*f*h);const r=new Uint8ClampedArray(c.buffer);(0,_utils_js__WEBPACK_IMPORTED_MODULE_5__/* .resampleHermite */ .Go)(s,e,t,r,f,h,!1)}return{size:[f,h],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}}


/***/ }),

/***/ 76715:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}


/***/ }),

/***/ 21422:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fj: () => (/* binding */ m),
/* harmony export */   Z7: () => (/* binding */ f),
/* harmony export */   ce: () => (/* binding */ a),
/* harmony export */   eR: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51859);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1171);
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(76715);
/* harmony import */ var _views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(43556);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":{const o=t.symbolLayers;return o&&1===o.length?l(o[0]):null}case"CIMVectorMarker":{const o=t.markerGraphics;if(!o||1!==o.length)return null;const n=o[0];if(!n)return null;const r=n.geometry;if(!r)return null;const l=n.symbol;return!l||"CIMPolygonSymbol"!==l.type&&"CIMLineSymbol"!==l.type||l.symbolLayers?.some((t=>!!t.effects))?null:{geom:r,asFill:"CIMPolygonSymbol"===l.type}}case"sdf":return{geom:t.geom,asFill:t.asFill}}return null}function e(t){return t?t.rings?t.rings:t.paths?t.paths:void 0!==t.xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]:null:null}function i(t){let o=1/0,r=-1/0,l=1/0,e=-1/0;for(const n of t)for(const t of n)t[0]<o&&(o=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new _Rect_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A(o,l,r-o,e-l)}function s(t){let o=1/0,n=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<o&&(o=t[0]),t[0]>n&&(n=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[o,r,n,l]}function f(t){return t?t.rings?s(t.rings):t.paths?s(t.paths):(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isExtent */ .ZC)(t)?[t.xmin,t.ymin,t.xmax,t.ymax]:null:null}function m(t,o,n,l,e){const[i,s,f,m]=t;if(f<i||m<s)return[0,0,0];const a=f-i,u=m-s,c=128,h=_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__/* .spritePadding */ .hM,y=Math.floor(.5*(.5*c-h)),x=(c-2*(y+h))/Math.max(a,u),M=Math.round(a*x)+2*y,g=Math.round(u*x)+2*y;let p=1;if(o){p=g/x/(o.ymax-o.ymin)}let d=0,b=0,w=1;l&&(e?o&&n&&o.ymax-o.ymin>0&&(w=(o.xmax-o.xmin)/(o.ymax-o.ymin),d=l.x/(n*w),b=l.y/n):(d=l.x,b=l.y)),o&&(d=.5*(o.xmax+o.xmin)+d*(o.xmax-o.xmin),b=.5*(o.ymax+o.ymin)+b*(o.ymax-o.ymin)),d-=i,b-=s,d*=x,b*=x,d+=y,b+=y;let F=d/M-.5,j=b/g-.5;return e&&n&&(F*=n*w,j*=n),[p,F,j]}function a(t){const o=e(t.geom),n=i(o),l=128,s=_views_2d_engine_webgl_definitions_js__WEBPACK_IMPORTED_MODULE_2__/* .spritePadding */ .hM,f=Math.floor(.5*(.5*l-s)),m=(l-2*(f+s))/Math.max(n.width,n.height),a=Math.round(n.width*m)+2*f,y=Math.round(n.height*m)+2*f,x=[];for(const r of o)if(r&&r.length>1){const o=[];for(const l of r){let[r,e]=l;r-=n.x,e-=n.y,r*=m,e*=m,r+=f-.5,e+=f-.5,t.asFill?o.push([r,e]):o.push([Math.round(r),Math.round(e)])}if(t.asFill){const t=o.length-1;o[0][0]===o[t][0]&&o[0][1]===o[t][1]||o.push(o[0])}x.push(o)}const M=u(x,a,y,f);return t.asFill&&c(x,a,y,f,M),[h(M,f),a,y]}function u(t,o,n,r){const l=o*n,e=new Array(l),i=r*r+1;for(let s=0;s<l;++s)e[s]=i;for(const s of t){const t=s.length;for(let l=1;l<t;++l){const t=s[l-1],i=s[l];let f,m,a,u;t[0]<i[0]?(f=t[0],m=i[0]):(f=i[0],m=t[0]),t[1]<i[1]?(a=t[1],u=i[1]):(a=i[1],u=t[1]);let c=Math.floor(f)-r,h=Math.floor(m)+r,y=Math.floor(a)-r,x=Math.floor(u)+r;c<0&&(c=0),h>o&&(h=o),y<0&&(y=0),x>n&&(x=n);const M=i[0]-t[0],g=i[1]-t[1],p=M*M+g*g;for(let r=c;r<h;r++)for(let l=y;l<x;l++){let s,f,m=(r-t[0])*M+(l-t[1])*g;m<0?(s=t[0],f=t[1]):m>p?(s=i[0],f=i[1]):(m/=p,s=t[0]+m*M,f=t[1]+m*g);const a=(r-s)*(r-s)+(l-f)*(l-f),u=(n-l-1)*o+r;a<e[u]&&(e[u]=a)}}}for(let s=0;s<l;++s)e[s]=Math.sqrt(e[s]);return e}function c(t,o,n,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,m,a,u;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],u=s[1]):(a=s[1],u=t[1]);let c=Math.floor(f),h=Math.floor(m)+1,y=Math.floor(a),x=Math.floor(u)+1;c<r&&(c=r),h>o-r&&(h=o-r),y<r&&(y=r),x>n-r&&(x=n-r);for(let e=y;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(n-e-1)*o;for(let o=c;o<h;++o)o<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+o]=-l[i+o]);for(let t=r;t<c;++t)l[i+t]=-l[i+t]}}}}function h(o,n){const r=2*n,l=o.length,e=new Uint8Array(4*l);for(let i=0;i<l;++i){const n=.5-o[i]/r;(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__/* .packFloatRGBA */ .U)(n,e,4*i)}return e}


/***/ }),

/***/ 95159:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(89882);
/* harmony import */ var _support_textUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51481);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(t){return`rgb(${t.slice(0,3).toString()})`}function s(t){return`rgba(${t.slice(0,3).toString()},${t[3]})`}class r{constructor(t){t&&(this._textRasterizationCanvas=t)}rasterizeText(r,o){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const h=this._textRasterizationCanvas,a=h.getContext("2d");this._setFontProperties(a,o),this._parameters=o,this._textLines=r.split(/\r?\n/),this._lineHeight=this._computeLineHeight();const{decoration:l,weight:d}=o.font;this._lineThroughWidthOffset=l&&"line-through"===l?.1*this._lineHeight:0;const c=null!=o.backgroundColor||null!=o.borderLine,_=c?_support_textUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .backgroundPadding */ .y7:0,g=this._computeTextWidth(a,o)+2*_,f=this._lineHeight*this._textLines.length+2*_;if(h.width=g+2*this._lineThroughWidthOffset,h.height=f,0===h.width||0===h.height)return h.width=h.height=1,{size:[0,0],image:new Uint32Array(0),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0,canvas:h};this._renderedLineHeight=Math.round(this._lineHeight*o.pixelRatio),this._renderedHaloSize=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .pt2px */ .Lz)(o.halo.size)*o.pixelRatio,this._renderedWidth=g*o.pixelRatio,this._renderedHeight=f*o.pixelRatio,this._lineThroughWidthOffset*=o.pixelRatio;const u=o.color??[0,0,0,0],p=o.halo&&o.halo.color?o.halo.color:[0,0,0,0];this._fillStyle=s(u),this._haloStyle=i(p);const x=this._renderedLineHeight,m=this._renderedHaloSize;a.save(),a.clearRect(0,0,h.width,h.height),this._setFontProperties(a,o);const b=_*o.pixelRatio,w=n(a.textAlign,this._renderedWidth-2*b)+m+b,z=m+b,v=m>0;let y=this._lineThroughWidthOffset,R=0;if(c){a.save();const e=o.backgroundColor??[0,0,0,0],i=o.borderLine?.color??[0,0,0,0],r=2*(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .pt2px */ .Lz)(o.borderLine?.size??0);a.fillStyle=s(e),a.strokeStyle=s(i),a.lineWidth=r,a.fillRect(0,0,h.width,h.height),a.strokeRect(0,0,h.width,h.height),a.restore()}v&&this._renderHalo(a,w,z,y,R,o),R+=z,y+=w;for(const t of this._textLines)v?(a.globalCompositeOperation="destination-out",a.fillStyle="rgb(0, 0, 0)",a.fillText(t,y,R),a.globalCompositeOperation="source-over",a.fillStyle=this._fillStyle,a.fillText(t,y,R)):(a.fillStyle=this._fillStyle,a.fillText(t,y,R)),l&&"none"!==l&&this._renderDecoration(a,y,R,l,d),R+=x;a.restore();const H=this._renderedWidth+2*this._lineThroughWidthOffset,S=this._renderedHeight,C=a.getImageData(0,0,H,S),T=new Uint8Array(C.data);if(o.premultiplyColors){let t;for(let e=0;e<T.length;e+=4)t=T[e+3]/255,T[e]=T[e]*t,T[e+1]=T[e+1]*t,T[e+2]=T[e+2]*t}let W,k;switch(o.horizontalAlignment){case"left":W=-.5;break;case"right":W=.5;break;default:W=0}switch(o.verticalAlignment){case"bottom":k=-.5;break;case"top":k=.5;break;default:k=0}return{size:[H,S],image:new Uint32Array(T.buffer),sdf:!1,simplePattern:!1,anchorX:W,anchorY:k,canvas:h}}_renderHalo(t,e,i,s,r,n){const o=this._renderedWidth,h=this._renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement("canvas")),this._haloRasterizationCanvas.width=o,this._haloRasterizationCanvas.height=h;const a=this._haloRasterizationCanvas,l=a.getContext("2d");l.clearRect(0,0,o,h),this._setFontProperties(l,n);const{decoration:d,weight:c}=n.font;l.fillStyle=this._haloStyle,l.strokeStyle=this._haloStyle,l.lineJoin="round",this._renderHaloNative(l,e,i,d,c),t.globalAlpha=this._parameters.halo.color[3],t.drawImage(a,0,0,o,h,s,r,o,h),t.globalAlpha=1}_renderHaloNative(t,e,i,s,r){const n=this._renderedLineHeight,o=this._renderedHaloSize;for(const h of this._textLines){const a=2*o,l=5,d=.1;for(let n=0;n<l;n++){const o=(1-(l-1)*d+n*d)*a;t.lineWidth=o,t.strokeText(h,e,i),s&&"none"!==s&&this._renderDecoration(t,e,i,s,r,o)}i+=n}}_setFontProperties(e,i){const s=Math.max(i.size,.5),r=i.font,n=`${r.style} ${r.weight} ${(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .pt2px */ .Lz)(s*i.pixelRatio).toFixed(1)}px ${r.family}, sans-serif`;let o;switch(e.font=n,e.textBaseline="top",i.horizontalAlignment){case"left":default:o="left";break;case"right":o="right";break;case"center":o="center"}e.textAlign=o}computeTextSize(t,e){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const i=this._textRasterizationCanvas,s=i.getContext("2d");this._setFontProperties(s,e),this._parameters=e,this._textLines=t.split(/\r?\n/),this._lineHeight=this._computeLineHeight();const r=this._computeTextWidth(s,e),n=this._lineHeight*this._textLines.length;return i.width=r,i.height=n,[r*e.pixelRatio,n*e.pixelRatio]}_computeTextWidth(e,i){let s=0;for(const t of this._textLines)s=Math.max(s,e.measureText(t).width);const r=i.font;return("italic"===r.style||"oblique"===r.style||"string"==typeof r.weight&&("bold"===r.weight||"bolder"===r.weight)||"number"==typeof r.weight&&r.weight>600)&&(s+=.3*e.measureText("w").width),s+=2*(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .pt2px */ .Lz)(this._parameters.halo.size),Math.round(s)}_computeLineHeight(){let e=1.275*this._parameters.size;const i=this._parameters.font.decoration;return i&&"underline"===i&&(e*=1.3),Math.round(e+2*(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .pt2px */ .Lz)(this._parameters.halo.size))}_renderDecoration(t,e,i,s,r,n){const o=.9*this._lineHeight,h="bold"===r?.06:"bolder"===r?.09:.04;switch(t.textAlign){case"center":e-=this._renderedWidth/2;break;case"right":e-=this._renderedWidth}const a=t.textBaseline;if("underline"===s)switch(a){case"top":i+=o;break;case"middle":i+=o/2}else if("line-through"===s)switch(a){case"top":i+=o/1.5;break;case"middle":i+=o/3}const l=n?1.5*n:Math.ceil(o*h);t.save(),t.beginPath(),t.strokeStyle=t.fillStyle,t.lineWidth=l,t.moveTo(e-this._lineThroughWidthOffset,i),t.lineTo(e+this._renderedWidth+2*this._lineThroughWidthOffset,i),t.stroke(),t.restore()}}function n(t,e){return"center"===t?.5*e:"right"===t?e:0}


/***/ }),

/***/ 80047:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  U: () => (/* binding */ j),
  G: () => (/* binding */ V)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/Color.js
var Color = __webpack_require__(96220);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/fontUtils.js
var fontUtils = __webpack_require__(72777);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(19251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/screenUtils.js
var screenUtils = __webpack_require__(89882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/string.js
var string = __webpack_require__(96274);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/arcadeOnDemand.js
var arcadeOnDemand = __webpack_require__(28965);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/CIMSymbolDrawHelper.js + 2 modules
var CIMSymbolDrawHelper = __webpack_require__(48655);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js
var CIMSymbolHelper = __webpack_require__(48002);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/enums.js
var enums = __webpack_require__(63643);
;// ../node_modules/@arcgis/core/symbols/cim/quantizeTime.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t=.05;function n(n){return Math.max(Math.round(n/t),1)*t}const e=new Set(["StartTimeOffset","Duration","RepeatDelay"]);function quantizeTime_a(t,a){return e.has(a)?n(t):t}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/SDFHelper.js
var SDFHelper = __webpack_require__(21422);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/utils.js
var utils = __webpack_require__(50072);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/cim/effects/CIMEffectHelper.js
var CIMEffectHelper = __webpack_require__(78006);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js
var callExpressionWithFeature = __webpack_require__(29986);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/engine/webgl/definitions.js
var definitions = __webpack_require__(43556);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/engine/webgl/grouping.js
var grouping = __webpack_require__(75625);
;// ../node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const E=Logger/* default */.A.getLogger("esri.symbols.cim.cimAnalyzer");function T(e){switch(e){case"Butt":return enums/* CapType */.xR.BUTT;case"Square":return enums/* CapType */.xR.SQUARE;default:return enums/* CapType */.xR.ROUND}}function $(e){switch(e){case"Bevel":return enums/* JoinType */.JO.BEVEL;case"Miter":return enums/* JoinType */.JO.MITER;default:return enums/* JoinType */.JO.ROUND}}function G(e){const t=e.markerPlacement;return t&&t.angleToLine?enums/* Alignment */.C1.MAP:enums/* Alignment */.C1.SCREEN}class j{constructor(e,t){this._cimLayers=[],this._poMap={},this._primitiveOverrides=[],this._resourceManager=e,this._info=t}async analyzeSymbolReference(e,t,i){if(this._cimLayers=i??[],!e)return this._cimLayers;if(e.primitiveOverrides){this._primitiveOverrides=e.primitiveOverrides,this._poMap={};const t=[],i=this._info;for(const e of this._primitiveOverrides){const r=e.valueExpressionInfo;if(r&&i){const o=r.expression,n=(0,arcadeOnDemand/* createRendererExpression */.Ad)(o,i.spatialReference,i.fields).then((t=>{null!=t&&this._setPoMap(e.primitiveName,e.propertyName,t)}));t.push(n)}else null!=e.value&&this._setPoMap(e.primitiveName,e.propertyName,e.value);t.length>0&&await Promise.all(t)}}const r=e.symbol,o=[];return CIMSymbolHelper/* CIMSymbolHelper */.wp.fetchResources(r,this._resourceManager,o),o.length>0&&await Promise.all(o),this._analyzeSymbol(r,t),this._cimLayers}_analyzeSymbol(e,t){switch(e?.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":this._analyzeMultiLayerSymbol(e,t,1,0,0,0)}}_analyzeMultiLayerSymbol(e,t,i,r,o,n){const a=e?.symbolLayers;if(!a)return;const s=e.effects;let l=enums/* Alignment */.C1.SCREEN;const c=CIMSymbolHelper/* CIMSymbolHelper */.wp.getSize(e)??0;"CIMPointSymbol"===e.type&&"Map"===e.angleAlignment&&(l=enums/* Alignment */.C1.MAP);const m="CIMPolygonSymbol"===e.type;let f=a.length;for(;f--;){const h=a[f];if(!h||!1===h.enable)continue;let u;s?.length&&(u=[...s]);const p=h.effects;p?.length&&(s?u.push(...p):u=[...p]);const d=[];let v;CIMSymbolHelper/* OverrideHelper */.$N.findEffectOverrides(u,this._primitiveOverrides,d),v=d.length>0?this._createEffectsOverrideFunction(u,d):u;const _=[];switch(CIMSymbolHelper/* OverrideHelper */.$N.findApplicableOverrides(h,this._primitiveOverrides,_),h.type){case"CIMSolidFill":this._analyzeSolidFill(h,v);break;case"CIMPictureFill":this._analyzePictureFill(h,v);break;case"CIMHatchFill":this._analyzeHatchFill(h,v);break;case"CIMGradientFill":this._analyzeGradientFill(h,v);break;case"CIMSolidStroke":this._analyzeSolidStroke(h,v,m,c);break;case"CIMPictureStroke":this._analyzePictureStroke(h,v,m,c);break;case"CIMGradientStroke":this._analyzeGradientStroke(h,v,m,c);break;case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":{"CIMLineSymbol"===e.type&&(l=G(h));const a=[],s=h.primitiveName;s&&a.push(s),this._analyzeMarker(h,v,null,a,l,c,1,t,i,r,o,n);break}default:E.error("Cannot analyze CIM layer",h.type)}}}_analyzeSolidFill(e,t){const i=e.primitiveName,r=(0,utils/* fromCIMColor */.ZT)(e.color),[o,n]=this._analyzePrimitiveOverrides(i,t,null,null),s=(0,string/* numericHash */.Wm)(JSON.stringify(e)+n).toString();this._cimLayers.push({type:"fill",templateHash:s,materialHash:o?()=>s:s,cim:e,materialOverrides:null,colorLocked:!!e.colorLocked,color:this._createOverrideFunction(i,"Color",r,U),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:t,applyRandomOffset:!1,sampleAlphaOnly:!0})}_analyzePictureFill(e,t){const i=e.primitiveName,r=(0,utils/* getTintColor */.Ny)(e),[o,n]=this._analyzePrimitiveOverrides(i,t,null,null),s=(0,string/* numericHash */.Wm)(JSON.stringify(e)+n).toString(),l=(0,string/* numericHash */.Wm)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),m=(0,utils/* getValue */._W)(e.height,CIMSymbolDrawHelper/* defaultPictureFillHeight */.CR);let f=(0,utils/* getValue */._W)(e.scaleX,1);if("width"in e&&"number"==typeof e.width){const t=e.width;let i=1;const r=this._resourceManager.getResource(e.url);null!=r&&(i=r.width/r.height),f/=i*(m/t)}this._cimLayers.push({type:"fill",templateHash:s,materialHash:o?()=>l:l,cim:e,materialOverrides:null,colorLocked:!!e.colorLocked,effects:t,color:this._createOverrideFunction(i,"TintColor",r,U),height:this._createOverrideFunction(i,"Height",m),scaleX:this._createOverrideFunction(i,"ScaleX",f),angle:this._createOverrideFunction(i,"Rotation",(0,utils/* getValue */._W)(e.rotation)),offsetX:this._createOverrideFunction(i,"OffsetX",(0,utils/* getValue */._W)(e.offsetX)),offsetY:this._createOverrideFunction(i,"OffsetY",(0,utils/* getValue */._W)(e.offsetY)),url:e.url,applyRandomOffset:!1,sampleAlphaOnly:!1})}_analyzeHatchFill(e,t){const i=e.primitiveName,r=this._analyzeMaterialOverrides(i,["Rotation","OffsetX","OffsetY"]);let[o,n]=this._analyzePrimitiveOverrides(i,t,null,null);const s=(0,string/* numericHash */.Wm)(JSON.stringify(e)+n).toString(),l=(0,string/* numericHash */.Wm)(`${e.separation}${JSON.stringify(e.lineSymbol)}`).toString();let c={r:255,g:255,b:255,a:1},f=!1;const h=e.lineSymbol?.symbolLayers?.find((e=>"CIMSolidStroke"===e.type&&null!=this._poMap[e.primitiveName]?.Color));if(h){c=(0,utils/* fromCIMColor */.ZT)(h.color),c=this._createOverrideFunction(h.primitiveName,"Color",c,U);const e="function"==typeof c;o=o||e,f=null!=h.color||e}this._cimLayers.push({type:"fill",templateHash:s,materialHash:o&&r?this._createMaterialHashFunction(l,r):l,cim:e,materialOverrides:r,colorLocked:!!e.colorLocked,effects:t,color:c,height:this._createOverrideFunction(i,"Separation",(0,utils/* getValue */._W)(e.separation,CIMSymbolDrawHelper/* defaultHatchFillSeparation */.Lh)),scaleX:1,angle:this._createOverrideFunction(i,"Rotation",(0,utils/* getValue */._W)(e.rotation)),offsetX:this._createOverrideFunction(i,"OffsetX",(0,utils/* getValue */._W)(e.offsetX)),offsetY:this._createOverrideFunction(i,"OffsetY",(0,utils/* getValue */._W)(e.offsetY)),applyRandomOffset:!1,sampleAlphaOnly:!0,hasUnresolvedReplacementColor:!f})}_analyzeGradientFill(e,t){const i=e.primitiveName,[r,o]=this._analyzePrimitiveOverrides(i,t,null,null),n=(0,string/* numericHash */.Wm)(JSON.stringify(e)+o).toString();this._cimLayers.push({type:"fill",templateHash:n,materialHash:r?()=>n:n,cim:e,materialOverrides:null,colorLocked:!!e.colorLocked,effects:t,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,applyRandomOffset:!1,sampleAlphaOnly:!1})}_analyzeSolidStroke(e,t,i,r){const o=e.primitiveName,n=(0,utils/* fromCIMColor */.ZT)(e.color),s=(0,utils/* getValue */._W)(e.width,CIMSymbolDrawHelper/* defaultStrokeWidth */.Kr),l=T(e.capStyle),c=$(e.joinStyle),m=e.miterLimit,[h,u]=this._analyzePrimitiveOverrides(o,t,null,null),p=(0,string/* numericHash */.Wm)(JSON.stringify(e)+u).toString();let y,d;if(t&&t instanceof Array&&t.length>0){const e=t[t.length-1];if("CIMGeometricEffectDashes"===e.type&&"NoConstraint"===e.lineDashEnding&&null===e.offsetAlongLine){const e=(t=[...t]).pop();y=e.dashTemplate,d=e.scaleDash}}this._cimLayers.push({type:"line",templateHash:p,materialHash:h?()=>p:p,cim:e,materialOverrides:null,isOutline:i,colorLocked:!!e.colorLocked,effects:t,color:this._createOverrideFunction(o,"Color",n,U),width:this._createOverrideFunction(o,"Width",s),cap:this._createOverrideFunction(o,"CapStyle",l),join:this._createOverrideFunction(o,"JoinStyle",c),miterLimit:m&&this._createOverrideFunction(o,"MiterLimit",m),referenceWidth:r,zOrder:D(e.name),dashTemplate:y,scaleDash:d,sampleAlphaOnly:!0})}_analyzePictureStroke(e,t,i,r){const o=(0,string/* numericHash */.Wm)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),n=e.primitiveName,s=(0,utils/* getTintColor */.Ny)(e),l=(0,utils/* getValue */._W)(e.width,CIMSymbolDrawHelper/* defaultStrokeWidth */.Kr),c=T(e.capStyle),m=$(e.joinStyle),h=e.miterLimit,[u,p]=this._analyzePrimitiveOverrides(n,t,null,null),y=(0,string/* numericHash */.Wm)(JSON.stringify(e)+p).toString();this._cimLayers.push({type:"line",templateHash:y,materialHash:u?()=>o:o,cim:e,materialOverrides:null,isOutline:i,colorLocked:!!e.colorLocked,effects:t,color:this._createOverrideFunction(n,"TintColor",s,U),width:this._createOverrideFunction(n,"Width",l),cap:this._createOverrideFunction(n,"CapStyle",c),join:this._createOverrideFunction(n,"JoinStyle",m),miterLimit:h&&this._createOverrideFunction(n,"MiterLimit",h),referenceWidth:r,zOrder:D(e.name),dashTemplate:null,scaleDash:!1,url:e.url,sampleAlphaOnly:!1})}_analyzeGradientStroke(e,t,i,r){const o=e.primitiveName,n=(0,utils/* getValue */._W)(e.width,CIMSymbolDrawHelper/* defaultStrokeWidth */.Kr),s=T(e.capStyle),l=$(e.joinStyle),c=e.miterLimit,[m,h]=this._analyzePrimitiveOverrides(o,t,null,null),u=(0,string/* numericHash */.Wm)(JSON.stringify(e)+h).toString();this._cimLayers.push({type:"line",templateHash:u,materialHash:m?()=>u:u,cim:e,materialOverrides:null,isOutline:i,colorLocked:!!e.colorLocked,effects:t,color:{r:128,g:128,b:128,a:1},width:this._createOverrideFunction(o,"Width",n),cap:this._createOverrideFunction(o,"CapStyle",s),join:this._createOverrideFunction(o,"JoinStyle",l),miterLimit:c&&this._createOverrideFunction(o,"MiterLimit",c),referenceWidth:r,zOrder:D(e.name),dashTemplate:null,scaleDash:!1,sampleAlphaOnly:!1})}_analyzeMarker(e,t,i,r,o,n,a,s,l,c,m,f,u=!1){if(this._analyzeMarkerInsidePolygon(e,t))return;const p=(0,utils/* getValue */._W)(e.size,CIMSymbolDrawHelper/* defaultMarkerSize */.Zg),y=(0,utils/* getValue */._W)(e.rotation),d=(0,utils/* getValue */._W)(e.offsetX),v=(0,utils/* getValue */._W)(e.offsetY);let _=this._createOverrideFunction(e.primitiveName,"Size",p),O=this._createOverrideFunction(e.primitiveName,"Rotation",y),S=this._createOverrideFunction(e.primitiveName,"OffsetX",d),g=this._createOverrideFunction(e.primitiveName,"OffsetY",v);_=this._transformSize(_,a),O=this._transformRotation(O,!!e.rotateClockwise,c);const M=this._transformOffsetX(S,g,c,a,m),k=this._transformOffsetY(S,g,c,a,f);switch(S=M,g=k,e.type){case"CIMPictureMarker":this._analyzePictureMarker(e,t,i,r,o,n,_,O,S,g,e.colorLocked||u);break;case"CIMVectorMarker":this._analyzeVectorMarker(e,t,i,r,o,n,a,s,_,O,S,g,e.colorLocked||u)}}_analyzeMarkerInsidePolygon(e,t){const{markerPlacement:i,type:r}=e;if(!i||"CIMMarkerPlacementInsidePolygon"!==i.type)return!1;if("CIMVectorMarker"===r||"CIMPictureMarker"===r){const o=e.primitiveName;if(o){const[e,i]=this._analyzePrimitiveOverrides([o],t,null,null);if(e)return!1}const n=i.primitiveName;if(n){const[e,i]=this._analyzePrimitiveOverrides([n],t,null,null);if(e)return!1}if("CIMVectorMarker"===r){const{markerGraphics:t}=e;if(t)for(const e of t){const{symbol:t}=e;if("CIMPolygonSymbol"===t?.type&&t.symbolLayers){const{symbolLayers:e}=t;for(const t of e)if("CIMSolidStroke"===t.type)return!1}}}else{const{animatedSymbolProperties:t}=e;if(t)return!1}}const o=i,s=Math.abs(o.stepX),l=Math.abs(o.stepY);if(0===s||0===l)return!0;const c=new Set(["Rotation","OffsetX","OffsetY"]),m=this._primitiveOverrides.filter((t=>t.primitiveName!==e.primitiveName||!c.has(t.propertyName))),f="url"in e&&"string"==typeof e.url?e.url:void 0,h=(0,string/* numericHash */.Wm)(JSON.stringify(e)).toString();let u,p,y=null;if("Random"===i.gridType){const e=(0,screenUtils/* px2pt */.PN)(definitions/* randomInsidePolygonTextureSize */.yv),t=Math.max(Math.floor(e/s),1),i=Math.max(Math.floor(e/l),1);u=l*i,y=e=>e?e*i:0;p=t*s/u}else i.shiftOddRows?(u=2*l,y=e=>e?2*e:0,p=s/l*.5):(u=l,y=null,p=s/l);const d=(0,utils/* getTintColor */.Ny)(e);return this._cimLayers.push({type:"fill",templateHash:h,materialHash:h,cim:e,materialOverrides:m,colorLocked:!!e.colorLocked,effects:t,color:d,height:this._createOverrideFunction(o.primitiveName,"StepY",u,y),scaleX:p,angle:o.gridAngle,offsetX:(0,utils/* getValue */._W)(o.offsetX),offsetY:(0,utils/* getValue */._W)(o.offsetY),url:f,applyRandomOffset:"Random"===i.gridType,sampleAlphaOnly:!f,hasUnresolvedReplacementColor:!0}),!0}_analyzePictureMarker(e,t,i,r,o,n,s,l,c,m,f){let h=(0,utils/* getValue */._W)(e.scaleX,1);const u=(0,utils/* getTintColor */.Ny)(e),p=(0,string/* numericHash */.Wm)(`${e.url}${JSON.stringify(e.colorSubstitutions)}${JSON.stringify(e.animatedSymbolProperties)}`).toString();i||(i=this._createMarkerPlacementOverrideFunction(e.markerPlacement));const y=this._createAnimatedSymbolPropertiesOverrideFunction(e.animatedSymbolProperties),[d,v]=this._analyzePrimitiveOverrides(r,t,i,y),_=(0,string/* numericHash */.Wm)(JSON.stringify(e)+v).toString(),O=e.anchorPoint??{x:0,y:0};if("width"in e&&"number"==typeof e.width){const t=e.width;let i=1;const r=this._resourceManager.getResource(e.url);null!=r&&(i=r.width/r.height);h/=i*((0,utils/* getValue */._W)(e.size)/t)}function S(e,t){return null!=y?(0,utils/* evaluateValueOrFunction */.s4)(y,e,t):null}const g=e.animatedSymbolProperties&&!0===e.animatedSymbolProperties.randomizeStartTime?(e,t,i,r)=>{const o=(0,grouping/* getMaterialGroup */.p)(r??0),n=S(e,t);return p+`-MATERIALGROUP(${o})`+`-ASP(${JSON.stringify(n)})`}:d?(e,t)=>{const i=S(e,t);return p+`-ASP(${JSON.stringify(i)})`}:p;this._cimLayers.push({type:"marker",templateHash:_,materialHash:g,cim:e,materialOverrides:null,colorLocked:!!e.colorLocked||!!f,effects:t,scaleSymbolsProportionally:!1,alignment:o,size:s,scaleX:this._createOverrideFunction(e.primitiveName,"ScaleX",h),rotation:l,offsetX:c,offsetY:m,color:this._createOverrideFunction(e.primitiveName,"TintColor",u,U),anchorPoint:{x:O.x,y:O.y},isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:!1,referenceSize:n,sizeRatio:1,markerPlacement:i,url:e.url,animatedSymbolProperties:y})}_analyzeVectorMarker(e,t,i,r,o,n,a,s,l,c,m,f,h){const u=e.markerGraphics;if(!u)return;const p=e.frame;let y=0,d=1;e.scaleSymbolsProportionally&&p&&(y=p.ymax-p.ymin,d=this._transformSize(l,1/y)),d=this._transformSize(d,a),i||(i=this._createMarkerPlacementOverrideFunction(e.markerPlacement));for(const v of u)if(v){const a=v.symbol;if(!a)continue;const u=v.primitiveName;u&&r.push(u);let _=m,O=f;if(("CIMPointSymbol"===a.type||"CIMTextSymbol"===a.type)&&p){let t=0,i=0;const r=v.geometry;"x"in r&&"y"in r&&(t+=r.x-.5*(p.xmin+p.xmax),i+=r.y-.5*(p.ymin+p.ymax));const o=e.anchorPoint;o&&("Absolute"===e.anchorPointUnits?(t-=o.x,i-=o.y):p&&(t-=(p.xmax-p.xmin)*o.x,i-=(p.ymax-p.ymin)*o.y)),_=this._transformOffsetX(t,i,c,d,m),O=this._transformOffsetY(t,i,c,d,f)}switch(a.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":s||q(a)?this._analyzeMultiLayerGraphicNonSDF(e,t,i,null,v,r,o,n,y,!!h||!!e.colorLocked):this._analyzeMultiLayerGraphic(e,t,i,null,v,r,o,n,y,d,l,c,_,O,!!h||!!e.colorLocked);break;case"CIMTextSymbol":this._analyzeTextGraphic(e,t,i,v,r,o,n,y,d,l,c,_,O,!!h||!!e.colorLocked)}u&&r.pop()}}_analyzeMultiLayerGraphic(e,t,i,r,o,n,s,l,c,m,f,h,u,p,y){const d=o.symbol,v=d.symbolLayers;if(!v)return;let _=v.length;if(B(v))return void this._analyzeCompositeMarkerGraphic(e,t,i,r,o,v,n,s,l,c,f,h,u,p,!!y||!!e.colorLocked);const O=this._resourceManager.geometryEngine,k=CIMEffectHelper/* CIMEffectHelper */.V.applyEffects(d.effects,o.geometry,O);if(k)for(;_--;){const d=v[_];if(!d||!1===d.enable)continue;const b=d.primitiveName;switch(b&&n.push(b),d.type){case"CIMSolidFill":case"CIMSolidStroke":{const m=CIMEffectHelper/* CIMEffectHelper */.V.applyEffects(d.effects,k,O),v=(0,SDFHelper/* getExtent */.Z7)(m);if(!v)continue;const _="Relative"!==e.anchorPointUnits,[C,F,I]=(0,SDFHelper/* getSDFMetrics */.Fj)(v,e.frame,e.size,e.anchorPoint,_),w="CIMSolidFill"===d.type,x={type:"sdf",geom:m,asFill:w},A=d.path,R=w?(0,utils/* fromCIMColor */.ZT)((0,utils/* getFillColor */.pM)(d)):null==A?(0,utils/* fromCIMColor */.ZT)((0,utils/* getStrokeColor */._1)(d)):{r:0,g:0,b:0,a:0},H=w?{r:0,g:0,b:0,a:0}:(0,utils/* fromCIMColor */.ZT)((0,utils/* getStrokeColor */._1)(d)),J=(0,utils/* getStrokeWidth */.xo)(d)??0;if(!w&&!J)break;const Y=o.primitiveName;let E=null;w&&!d.colorLocked&&(E=this._createOverrideFunction(Y,"FillColor",R,U));let T=null;w||d.colorLocked||(T=this._createOverrideFunction(Y,"StrokeColor",H,U));const $=this._createOverrideFunction(Y,"StrokeWidth",J);let G=!1,j="";for(const e of this._primitiveOverrides)n.includes(e.primitiveName)&&(null!=e.value?j+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(G=!0));(null!=t&&"function"==typeof t||null!=i&&"function"==typeof i)&&(G=!0),((0,utils/* isFeatureValueFn */.qJ)(f)||(0,utils/* isFeatureValueFn */.qJ)(h)||(0,utils/* isFeatureValueFn */.qJ)(u)||(0,utils/* isFeatureValueFn */.qJ)(p))&&(G=!0);const D=JSON.stringify({...e,markerGraphics:null}),W=(0,string/* numericHash */.Wm)(JSON.stringify(x)+A).toString(),V=(0,string/* numericHash */.Wm)(JSON.stringify(o)+JSON.stringify(d)+D+j).toString();this._cimLayers.push({type:"marker",templateHash:V,materialHash:G?()=>W:W,cim:x,materialOverrides:null,colorLocked:!!d.colorLocked||!!y,effects:t,scaleSymbolsProportionally:!!e.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:F,y:I},isAbsoluteAnchorPoint:_,size:f,rotation:h,offsetX:u,offsetY:p,scaleX:1,frameHeight:c,rotateClockwise:!1,referenceSize:l,sizeRatio:C,color:(0,utils/* isFeatureValueFn */.qJ)(E)?E:this._createOverrideFunction(b,"Color",R,U),outlineColor:(0,utils/* isFeatureValueFn */.qJ)(T)?T:this._createOverrideFunction(b,"Color",H,U),outlineWidth:(0,utils/* isFeatureValueFn */.qJ)($)?$:this._createOverrideFunction(b,"Width",J),markerPlacement:i,animatedSymbolProperties:r,path:A});break}case"CIMVectorMarker":d.markerPlacement?this._analyzeMultiLayerGraphicNonSDF(e,t,i,r,o,n,s,l,c,!!y||!!d.colorLocked):this._analyzeMarker(d,t,i,n,s,l,m,!1,f,h,u,p,!!y||!!e.colorLocked);break;default:this._analyzeMultiLayerGraphicNonSDF(e,t,i,r,o,n,s,l,c,!!y||!!e.colorLocked)}b&&n.pop()}}_analyzeTextGraphic(e,i,r,o,n,s,l,c,m,h,p,d,v,_){const O=[];CIMSymbolHelper/* OverrideHelper */.$N.findApplicableOverrides(o,this._primitiveOverrides,O);const S=o.geometry;if(!("x"in S)||!("y"in S))return;const g=o.symbol,k=(0,utils/* fromCIMFontDecoration */.DW)(g),X=(0,utils/* fromCIMFontStyle */._d)(g.fontStyleName),H=(0,fontUtils/* getFontFamily */.af)(g.fontFamilyName);g.font={family:H,decoration:k,...X};let J=(0,utils/* getValue */._W)(g.height,CIMSymbolDrawHelper/* defaultTextHeight */.sA),Y=(0,utils/* getValue */._W)(g.angle),E=(0,utils/* getValue */._W)(g.offsetX),T=(0,utils/* getValue */._W)(g.offsetY);J=this._transformSize(J,m),Y=this._transformRotation(Y,!1,p);const $=this._transformOffsetX(E,T,p,m,d),G=this._transformOffsetY(E,T,p,m,v);E=$,T=G;const j=(0,utils/* fromCIMColor */.ZT)((0,utils/* getFillColor */.pM)(g));let D=(0,utils/* fromCIMColor */.ZT)((0,utils/* getStrokeColor */._1)(g)),W=(0,utils/* getStrokeWidth */.xo)(g)??0;W||(D=(0,utils/* fromCIMColor */.ZT)((0,utils/* getFillColor */.pM)(g.haloSymbol)),W=(0,utils/* getValue */._W)(g.haloSize)),W=this._transformSize(W,m);let V=!1;if(g.symbol?.symbolLayers)for(const t of g.symbol.symbolLayers){null!=(0,utils/* getFillColor */.pM)(t)&&(V=!!t.colorLocked)}const B=o.primitiveName;let q=null;V||(q=this._createOverrideFunction(B,"Color",j,U));let K=null,Q=null,Z=0;if(g.callout&&"CIMBackgroundCallout"===g.callout.type){const e=g.callout;if(e.backgroundSymbol){const t=e.backgroundSymbol.symbolLayers;if(t)for(const e of t)"CIMSolidFill"===e.type?K=(0,utils/* fromCIMColor */.ZT)(e.color):"CIMSolidStroke"===e.type&&(Q=(0,utils/* fromCIMColor */.ZT)(e.color),Z=(0,utils/* getValue */._W)(e.width,CIMSymbolDrawHelper/* defaultStrokeWidth */.Kr))}}const[ee,te]=this._analyzePrimitiveOverrides(n,i,r,null),ie=JSON.stringify(e.effects)+Number(e.colorLocked||_).toString()+JSON.stringify(e.anchorPoint)+e.anchorPointUnits+JSON.stringify(e.markerPlacement)+e.size.toString(),re=(0,string/* numericHash */.Wm)(JSON.stringify(o)+ie+te).toString();let oe=this._createOverrideFunction(o.primitiveName,"TextString",o.textString??"",utils/* adjustTextCase */.lO,g.textCase);if(null==oe)return;const{fontStyleName:ne}=g,ae=H+(ne?"-"+ne.toLowerCase():"-regular"),se=ae;"string"==typeof oe&&oe.includes("[")&&g.fieldMap&&(oe=(0,utils/* createLabelOverrideFunction */.P3)(g.fieldMap,oe,g.textCase)),this._cimLayers.push({type:"text",templateHash:re,materialHash:ee||"function"==typeof oe||/\[(.*?)\]/.test(oe)?(e,t,i)=>se+"-"+(0,utils/* evaluateValueOrFunction */.s4)(oe,e,t,i):se+"-"+(0,string/* numericHash */.Wm)(oe),cim:g,materialOverrides:null,colorLocked:!!_||!!V,effects:i,alignment:s,anchorPoint:{x:0,y:0},isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,fontName:ae,decoration:k,weight:X.weight,style:X.style,size:J,angle:Y,offsetX:E,offsetY:T,horizontalAlignment:(0,utils/* fromCIMHorizontalAlignment */.Bu)(g.horizontalAlignment),verticalAlignment:(0,utils/* fromCIMVerticalAlignment */.Nl)(g.verticalAlignment),text:oe,color:(0,utils/* isFeatureValueFn */.qJ)(q)?q:j,outlineColor:D,outlineSize:W,backgroundColor:K,borderLineColor:Q,borderLineWidth:Z,lineWidth:null,referenceSize:l,sizeRatio:1,markerPlacement:r})}_analyzeMultiLayerGraphicNonSDF(e,t,i,r,n,s,l,c,m,f){const u=this._buildSimpleMarker(e,n),y=e.primitiveName,d=this._analyzeMaterialOverrides(y,["Rotation","OffsetX","OffsetY"]),[v,_]=this._analyzePrimitiveOverrides(s,null,null,null),[O,S,g]=CIMSymbolHelper/* CIMSymbolHelper */.wp.getTextureAnchor(u,this._resourceManager),M=(0,utils/* getValue */._W)(e.rotation),k=(0,utils/* getValue */._W)(e.offsetX),N=(0,utils/* getValue */._W)(e.offsetY),P=(0,string/* numericHash */.Wm)(JSON.stringify(u)+_).toString(),z=d&&d.length>0||null!=t&&"function"==typeof t;this._cimLayers.push({type:"marker",templateHash:P,materialHash:z&&d?this._createMaterialHashFunction(P,d):P,cim:u,materialOverrides:d,colorLocked:!!e.colorLocked||!!f,effects:t,scaleSymbolsProportionally:!!e.scaleSymbolsProportionally,alignment:l,anchorPoint:{x:O,y:S},isAbsoluteAnchorPoint:!1,size:(0,utils/* getValue */._W)(e.size,CIMSymbolDrawHelper/* defaultMarkerSize */.Zg),rotation:this._createOverrideFunction(y,"Rotation",M),offsetX:this._createOverrideFunction(y,"OffsetX",k),offsetY:this._createOverrideFunction(y,"OffsetY",N),color:{r:255,g:255,b:255,a:1},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:!!e.rotateClockwise,referenceSize:c,sizeRatio:g/(0,screenUtils/* pt2px */.Lz)(e.size),markerPlacement:i,animatedSymbolProperties:r,avoidSDFRasterization:!0})}_buildSimpleMarker(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath}}_analyzeCompositeMarkerGraphic(e,t,i,r,o,n,s,l,c,m,h,u,p,y,d){const v=o.geometry,_=n[0],O=n[1],k=(0,SDFHelper/* getExtent */.Z7)(v);if(!k)return;const N="Relative"!==e.anchorPointUnits,[P,z,C]=(0,SDFHelper/* getSDFMetrics */.Fj)(k,e.frame,e.size,e.anchorPoint,N),F={type:"sdf",geom:v,asFill:!0},I=O.path,w=O.primitiveName,x=_.primitiveName,A=(0,utils/* fromCIMColor */.ZT)(O.color),R=(0,utils/* fromCIMColor */.ZT)(_.color),X=(0,utils/* getValue */._W)(_.width,CIMSymbolDrawHelper/* defaultStrokeWidth */.Kr),H=o.primitiveName;let J=null;O.colorLocked||d||(J=this._createOverrideFunction(H,"FillColor",A,U));let Y=null;_.colorLocked||d||(Y=this._createOverrideFunction(H,"StrokeColor",R,U));const E=this._createOverrideFunction(H,"StrokeWidth",X);let T=!1,$="";for(const a of this._primitiveOverrides)(a.primitiveName===w||a.primitiveName===x||s.includes(a.primitiveName))&&(null!=a.value?$+=`-${a.primitiveName}-${a.propertyName}-${JSON.stringify(a.value)}`:a.valueExpressionInfo&&(T=!0));null!=i&&"function"==typeof i&&(T=!0),((0,utils/* isFeatureValueFn */.qJ)(h)||(0,utils/* isFeatureValueFn */.qJ)(u)||(0,utils/* isFeatureValueFn */.qJ)(p)||(0,utils/* isFeatureValueFn */.qJ)(y))&&(T=!0);const G=JSON.stringify({...e,markerGraphics:null}),j=(0,string/* numericHash */.Wm)(JSON.stringify(F)+I).toString(),D=(0,string/* numericHash */.Wm)(JSON.stringify(o)+JSON.stringify(O)+JSON.stringify(_)+G+$).toString();this._cimLayers.push({type:"marker",templateHash:D,materialHash:T?()=>j:j,cim:F,materialOverrides:null,colorLocked:!!d,effects:t,scaleSymbolsProportionally:!!e.scaleSymbolsProportionally,alignment:l,anchorPoint:{x:z,y:C},isAbsoluteAnchorPoint:N,size:h,rotation:u,offsetX:p,offsetY:y,scaleX:1,frameHeight:m,rotateClockwise:!1,referenceSize:c,sizeRatio:P,color:(0,utils/* isFeatureValueFn */.qJ)(J)?J:this._createOverrideFunction(w,"Color",A,U),outlineColor:(0,utils/* isFeatureValueFn */.qJ)(Y)?Y:this._createOverrideFunction(x,"Color",R,U),outlineWidth:(0,utils/* isFeatureValueFn */.qJ)(E)?E:this._createOverrideFunction(x,"Width",X),markerPlacement:i,path:I,animatedSymbolProperties:r})}_createMaterialHashFunction(e,t){const i=this._info?.geometryType;if(i){const e=this._poMap;for(const r of t){if(r.valueExpressionInfo){const t=e[r.primitiveName]&&e[r.primitiveName][r.propertyName];t instanceof arcadeOnDemand/* ArcadeExpression */.vi&&(r.fn=(e,r,o)=>(0,callExpressionWithFeature/* default */.A)(t,e,{$view:o},i,r))}}}return(i,r,o)=>{for(const e of t)e.fn&&(e.value=e.fn(i,r,o));return (0,string/* numericHash */.Wm)(e+CIMSymbolHelper/* OverrideHelper */.$N.buildOverrideKey(t)).toString()}}_setPoMap(e,t,i){let r;this._poMap[e]?r=this._poMap[e]:(r={},this._poMap[e]=r),r[t]=i}_createOverrideFunction(e,t,i,r,o){if(null==e)return i;const n=this._poMap[e];if(null==n)return i;const a=n[t];if("string"==typeof a||"number"==typeof a||a instanceof Array)return r?r.call(null,a,o):a;const s=this._info?.geometryType;return null!=a&&a instanceof arcadeOnDemand/* ArcadeExpression */.vi&&null!=s?(e,t,n)=>{let l=(0,callExpressionWithFeature/* default */.A)(a,e,{$view:n},s,t);return null!==l&&r&&(l=r.call(null,l,o)),null!==l?l:i}:i}_createEffectsOverrideFunction(e,t){const r=this._poMap,o=this._info?.geometryType;for(const i of t){if(i.valueExpressionInfo&&o){const e=r[i.primitiveName]&&r[i.primitiveName][i.propertyName];e instanceof arcadeOnDemand/* ArcadeExpression */.vi&&(i.fn=(t,i,r)=>(0,callExpressionWithFeature/* default */.A)(e,t,{$view:r},o,i))}}return(r,o,n)=>{for(const e of t)e.fn&&(e.value=e.fn(r,o,n));const a=[];for(let s of e){const e=s?.primitiveName;if(e){let r=!1;for(const o of t)if(o.primitiveName===e){const e=W(o.propertyName);null!=o.value&&o.value!==s[e]&&(r||(s=(0,lang/* clone */.o8)(s),r=!0),s[e]=o.value)}}a.push(s)}return a}}_createMarkerPlacementOverrideFunction(e){const t=[];if(CIMSymbolHelper/* OverrideHelper */.$N.findApplicableOverrides(e,this._primitiveOverrides,t),null==e||0===t.length)return e;const r=this._poMap,o=this._info?.geometryType;for(const i of t){if(i.valueExpressionInfo&&o){const e=r[i.primitiveName]&&r[i.primitiveName][i.propertyName];e instanceof arcadeOnDemand/* ArcadeExpression */.vi&&(i.fn=(t,i,r)=>(0,callExpressionWithFeature/* default */.A)(e,t,{$view:r},o,i))}}return(r,o,n)=>{for(const e of t)e.fn&&(e.value=e.fn(r,o,n));const a=(0,lang/* clone */.o8)(e),s=e.primitiveName;for(const e of t)if(e.primitiveName===s){const t=W(e.propertyName);null!=e.value&&e.value!==a[t]&&(a[t]=e.value)}return a}}_createAnimatedSymbolPropertiesOverrideFunction(e){const t=[];if(CIMSymbolHelper/* OverrideHelper */.$N.findApplicableOverrides(e,this._primitiveOverrides,t),null==e||0===t.length)return e;const r=this._info?.geometryType;if(r){const e=this._poMap;for(const i of t){if(i.valueExpressionInfo){const t=e[i.primitiveName]&&e[i.primitiveName][i.propertyName];t instanceof arcadeOnDemand/* ArcadeExpression */.vi&&(i.fn=(e,i,o)=>(0,callExpressionWithFeature/* default */.A)(t,e,{$view:o},r,i))}}}return(r,o,n)=>{for(const e of t)e.fn&&(e.value=e.fn(r,o,n));const a=(0,lang/* clone */.o8)(e),s=e.primitiveName;for(const e of t)if(e.primitiveName===s){const t=W(e.propertyName);if(null!=e.value){const i=quantizeTime_a(e.value,e.propertyName);i!==a[t]&&(a[t]=i)}}return a}}_analyzePrimitiveOverrides(e,t,i,r){let o=!1,n="";"string"==typeof e&&(e=[e]);for(const a of this._primitiveOverrides)e?.includes(a.primitiveName)&&(null!=a.value?n+=`-${a.primitiveName}-${a.propertyName}-${JSON.stringify(a.value)}`:a.valueExpressionInfo&&(o=!0));return null!=t&&"function"==typeof t&&(o=!0),null!=i&&"function"==typeof i&&(o=!0),null!=r&&"function"==typeof r&&(o=!0),[o,n]}_analyzeMaterialOverrides(e,t){return this._primitiveOverrides.filter((i=>i.primitiveName!==e||!t.includes(i.propertyName)))}_transformSize(e,t){return (0,utils/* isFeatureValueFn */.qJ)(e)||(0,utils/* isFeatureValueFn */.qJ)(t)?(i,r,o)=>((0,utils/* isFeatureValueFn */.qJ)(e)?e(i,r,o):e)*((0,utils/* isFeatureValueFn */.qJ)(t)?t(i,r,o):t):e*t}_transformRotation(e,t,i){return (0,utils/* isFeatureValueFn */.qJ)(e)||(0,utils/* isFeatureValueFn */.qJ)(i)?(r,o,n)=>{const a=(0,utils/* isFeatureValueFn */.qJ)(e)?e(r,o,n):e,s=(0,utils/* isFeatureValueFn */.qJ)(i)?i(r,o,n):i;return t?s-a:s+a}:t?i-e:i+e}_transformOffsetX(e,t,i,r,o){if(!((0,utils/* isFeatureValueFn */.qJ)(e)||(0,utils/* isFeatureValueFn */.qJ)(t)||(0,utils/* isFeatureValueFn */.qJ)(i)||(0,utils/* isFeatureValueFn */.qJ)(r)||(0,utils/* isFeatureValueFn */.qJ)(o))){const n=i*Math.PI/180;if(n){const i=Math.cos(n),a=Math.sin(n);return(i*e-a*t)*r+o}return e*r+o}return(n,a,s)=>{let l=(0,utils/* isFeatureValueFn */.qJ)(i)?i(n,a,s):i;const c=(0,utils/* isFeatureValueFn */.qJ)(r)?r(n,a,s):r,m=(0,utils/* isFeatureValueFn */.qJ)(e)?e(n,a,s):e,f=(0,utils/* isFeatureValueFn */.qJ)(o)?o(n,a,s):o;if(l){l*=Math.PI/180;return(Math.cos(l)*m-Math.sin(l)*((0,utils/* isFeatureValueFn */.qJ)(t)?t(n,a,s):t))*c+f}return m*c+f}}_transformOffsetY(e,t,i,r,o){if(!((0,utils/* isFeatureValueFn */.qJ)(e)||(0,utils/* isFeatureValueFn */.qJ)(t)||(0,utils/* isFeatureValueFn */.qJ)(i)||(0,utils/* isFeatureValueFn */.qJ)(r)||(0,utils/* isFeatureValueFn */.qJ)(o))){const n=i*Math.PI/180;if(n){const i=Math.cos(n);return(Math.sin(n)*e+i*t)*r+o}return t*r+o}return(n,a,s)=>{let l=(0,utils/* isFeatureValueFn */.qJ)(i)?i(n,a,s):i;const c=(0,utils/* isFeatureValueFn */.qJ)(r)?r(n,a,s):r,m=(0,utils/* isFeatureValueFn */.qJ)(t)?t(n,a,s):t,f=(0,utils/* isFeatureValueFn */.qJ)(o)?o(n,a,s):o;if(l){l*=Math.PI/180;const t=Math.cos(l);return(Math.sin(l)*((0,utils/* isFeatureValueFn */.qJ)(e)?e(n,a,s):e)+t*m)*c+f}return m*c+f}}}function D(e){if(e&&0===e.indexOf("Level_")){const t=parseInt(e.substr(6),10);if(!isNaN(t))return t}return 0}function U(t){if(!t||0===t.length)return null;const i=new Color/* default */.A(t).toRgba();return{r:i[0],g:i[1],b:i[2],a:i[3]}}function W(e){return e?e.charAt(0).toLowerCase()+e.substr(1):e}function V(e,t){if(!t||0===t.length)return e;const r=(0,lang/* clone */.o8)(e);return CIMSymbolHelper/* OverrideHelper */.$N.applyOverrides(r,t),r}const B=e=>e&&2===e.length&&e[0].enable&&e[1].enable&&"CIMSolidStroke"===e[0].type&&"CIMSolidFill"===e[1].type&&null==e[0].path&&null==e[1].path&&!e[0].effects&&!e[1].effects;function q(e){const t=e.symbolLayers;if(!t||2!==t.length)return!1;const i=t.find((e=>e.effects?.find((e=>"CIMGeometricEffectDashes"===e.type)))),r=t.find((e=>e.effects?.find((e=>"CIMGeometricEffectAddControlPoints"===e.type))));return!!i&&!!r}


/***/ }),

/***/ 78006:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14816);
/* harmony import */ var _geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(18159);
/* harmony import */ var _CIMEffects_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13022);
/* harmony import */ var _CIMOperators_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29659);
/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(48002);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=96/72;class l{static executeEffects(t,e,l,c){const f=n,m=(0,_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_3__/* .getEffectsInflateSize */ .ll)(t);let p=new _CIMEffects_js__WEBPACK_IMPORTED_MODULE_1__/* .SimpleEffectCursor */ .k(e);for(const o of t){const t=(0,_CIMOperators_js__WEBPACK_IMPORTED_MODULE_2__/* .getEffectOperator */ .A)(o);t&&(p=t.execute(p,o,f,l,c,m))}return p}static applyEffects(n,l,c){if(!n)return l;const f=(0,_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_3__/* .getEffectsInflateSize */ .ll)(n);let m,p=new _CIMEffects_js__WEBPACK_IMPORTED_MODULE_1__/* .SimpleEffectCursor */ .k(_geometry_GeometryCursor_js__WEBPACK_IMPORTED_MODULE_0__/* .GeometryCursor */ .z.fromJSONCIM(l));for(const t of n){const e=(0,_CIMOperators_js__WEBPACK_IMPORTED_MODULE_2__/* .getEffectOperator */ .A)(t);e&&(p=e.execute(p,t,1,null,c,f))}const u=[];let i=null;for(;m=p.next();)u.push(...(0,_geometry_geometryCursorCollectUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .collectMultipath */ .x)(m)),i=m.geometryType;return 0===u.length||null===i?null:"esriGeometryPolygon"===i?{rings:u}:{paths:u}}}


/***/ }),

/***/ 79126:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   k: () => (/* binding */ e),
/* harmony export */   r: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51859);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(92504);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a=o=>"vertical"===o||"horizontal"===o||"cross"===o||"esriSFSCross"===o||"esriSFSVertical"===o||"esriSFSHorizontal"===o;function r(o,r,e){const i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .nextPowerOfTwo */ .yR)(Math.ceil(e)),n=a(r)?8*i:16*i,s=2*i;o.width=n,o.height=n;const l=o.getContext("2d");l.strokeStyle="#FFFFFF",l.lineWidth=i,l.beginPath(),"vertical"!==r&&"cross"!==r&&"esriSFSCross"!==r&&"esriSFSVertical"!==r||(l.moveTo(n/2,-s),l.lineTo(n/2,n+s)),"horizontal"!==r&&"cross"!==r&&"esriSFSCross"!==r&&"esriSFSHorizontal"!==r||(l.moveTo(-s,n/2),l.lineTo(n+s,n/2)),"forward-diagonal"!==r&&"diagonal-cross"!==r&&"esriSFSDiagonalCross"!==r&&"esriSFSForwardDiagonal"!==r||(l.moveTo(-s,-s),l.lineTo(n+s,n+s),l.moveTo(n-s,-s),l.lineTo(n+s,s),l.moveTo(-s,n-s),l.lineTo(s,n+s)),"backward-diagonal"!==r&&"diagonal-cross"!==r&&"esriSFSBackwardDiagonal"!==r&&"esriSFSDiagonalCross"!==r||(l.moveTo(n+s,-s),l.lineTo(-s,n+s),l.moveTo(s,-s),l.lineTo(-s,s),l.moveTo(n+s,n-s),l.lineTo(n-s,n+s)),l.stroke();const h=l.getImageData(0,0,o.width,o.height),c=new Uint8Array(h.data);let m;for(let t=0;t<c.length;t+=4)m=c[t+3]/255,c[t]=c[t]*m,c[t+1]=c[t+1]*m,c[t+2]=c[t+2]*m;return[c,o.width,o.height]}function e(t,a){const r="Butt"===a,e="Square"===a,i=!r&&!e;t.length%2==1&&(t=[...t,...t]);const n=15.5,s=2*n;let l=0;for(const o of t)l+=o;const h=Math.round(l*n),c=new Float32Array(h*s),m=.5*n;let S=0,F=0,g=.5,T=!0;for(const o of t){for(S=F,F+=o*n;g<=F;){let o=.5;for(;o<s;){const t=(o-.5)*h+g-.5,a=i?(o-n)*(o-n):Math.abs(o-n);c[t]=T?r?Math.max(Math.max(S+m-g,a),Math.max(g-F+m,a)):a:i?Math.min((g-S)*(g-S)+a,(g-F)*(g-F)+a):e?Math.min(Math.max(g-S,a),Math.max(F-g,a)):Math.min(Math.max(g-S+m,a),Math.max(F+m-g,a)),o++}g++}T=!T}const d=c.length,f=new Uint8Array(4*d);for(let M=0;M<d;++M){const t=(i?Math.sqrt(c[M]):c[M])/n;(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_0__/* .packFloatRGBA */ .U)(t,f,4*M)}return[f,h,s]}


/***/ }),

/***/ 60470:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t=0,h=0,i=0,s=0){this.x=t,this.y=h,this.width=i,this.height=s}get isEmpty(){return this.width<=0||this.height<=0}union(t){this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height)}}


/***/ }),

/***/ 22610:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dy: () => (/* binding */ o),
/* harmony export */   UD: () => (/* binding */ n),
/* harmony export */   fO: () => (/* binding */ a),
/* harmony export */   gy: () => (/* binding */ t),
/* harmony export */   iT: () => (/* binding */ c),
/* harmony export */   nE: () => (/* binding */ i),
/* harmony export */   oX: () => (/* binding */ e),
/* harmony export */   p1: () => (/* binding */ s),
/* harmony export */   xy: () => (/* binding */ r)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e,t;function r(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function n(e){switch(e){case"top":return t.Top;case"middle":return t.Center;case"baseline":return t.Baseline;case"bottom":return t.Bottom}}function a(r){switch(r){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[e.Right,t.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[e.Center,t.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[e.Left,t.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[e.Right,t.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[e.Center,t.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[e.Left,t.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[e.Right,t.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[e.Center,t.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[e.Left,t.Top];default:return console.debug(`Found invalid placement type ${r}`),[e.Center,t.Center]}}function c(t){switch(t){case e.Right:return-1;case e.Center:return 0;case e.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${t}`),0}}function o(e){switch(e){case t.Top:return 1;case t.Center:return 0;case t.Bottom:case t.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function s(t){switch(t){case"left":return e.Left;case"right":return e.Right;case"center":return e.Center}}function i(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}!function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(e||(e={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(t||(t={}));


/***/ }),

/***/ 75625:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ e),
/* harmony export */   p: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96274);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,o){let r;if("string"==typeof e)r=(0,_core_string_js__WEBPACK_IMPORTED_MODULE_0__/* .numericHash */ .Wm)(e+`-seed(${o})`);else{let t=12;r=e^o;do{r=107*(r>>8^r)+t|0}while(0!=--t)}return(1+r/(1<<31))/2}function o(t){return Math.floor(e(t,r)*n)}const r=53290320,n=10;


/***/ }),

/***/ 19938:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Tl: () => (/* binding */ S)
});

// UNUSED EXPORTS: ShapedGlyph, ShapingInfo

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/screenUtils.js
var screenUtils = __webpack_require__(89882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat2d.js
var mat2d = __webpack_require__(94734);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat2df32.js
var mat2df32 = __webpack_require__(50499);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2.js
var vec2 = __webpack_require__(58680);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2f32.js
var vec2f32 = __webpack_require__(48325);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/engine/webgl/alignmentUtils.js
var alignmentUtils = __webpack_require__(22610);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/engine/webgl/number.js
var number = __webpack_require__(55429);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/2d/engine/webgl/Rect.js
var Rect = __webpack_require__(60470);
;// ../node_modules/@arcgis/core/views/2d/engine/webgl/collisions/BoundingBox.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class BoundingBox_i{constructor(i,e,s,r){this.center=(0,vec2f32.f)(i,e),this.centerT=(0,vec2f32.c)(),this.halfWidth=s/2,this.halfHeight=r/2,this.width=s,this.height=r}get x(){return this.center[0]}get y(){return this.center[1]}get blX(){return this.center[0]+this.halfWidth}get blY(){return this.center[1]+this.halfHeight}get trX(){return this.center[0]-this.halfWidth}get trY(){return this.center[1]-this.halfHeight}get xmin(){return this.x-this.halfWidth}get xmax(){return this.x+this.halfWidth}get ymin(){return this.y-this.halfHeight}get ymax(){return this.y+this.halfHeight}set x(t){this.center[0]=t}set y(t){this.center[1]=t}clone(){return new BoundingBox_i(this.x,this.y,this.width,this.height)}serialize(t){return t.writeF32(this.center[0]),t.writeF32(this.center[1]),t.push(this.width),t.push(this.height),t}findCollisionDelta(t,h=4){const i=Math.abs(t.centerT[0]-this.centerT[0]),e=Math.abs(t.centerT[1]-this.centerT[1]),s=(t.halfWidth+this.halfWidth+h)/i,r=(t.halfHeight+this.halfHeight+h)/e,n=Math.min(s,r);return Math.log2(n)}extend(t){const h=Math.min(this.xmin,t.xmin),i=Math.min(this.ymin,t.ymin),e=Math.max(this.xmax,t.xmax)-h,s=Math.max(this.ymax,t.ymax)-i,r=h+e/2,n=i+s/2;this.width=e,this.height=s,this.halfWidth=e/2,this.halfHeight=s/2,this.x=r,this.y=n}static deserialize(t){const h=t.readF32(),e=t.readF32(),s=t.readInt32(),r=t.readInt32();return new BoundingBox_i(h,e,s,r)}}

;// ../node_modules/@arcgis/core/views/2d/engine/webgl/mesh/templates/shapingUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const l=26,g=4,_=l+g,p=l-6,x=3,w=8,y=Math.PI/180,M=8,b=1.5;class B{constructor(t,s,e,i){this._rotationT=(0,mat2df32.c)(),this._xBounds=0,this._yBounds=0,this.minZoom=0,this.maxZoom=255,this._bounds=null;const n=e.rect,h=new Float32Array(8);t*=i,s*=i;const r=e.code?n.width*i:e.metrics.width,a=e.code?n.height*i:e.metrics.height;this.width=r,this.height=a,h[0]=t,h[1]=s,h[2]=t+r,h[3]=s,h[4]=t,h[5]=s+a,h[6]=t+r,h[7]=s+a,this._data=h,this._setTextureCoords(n),this._scale=i,this._mosaic=e,this.x=t,this.y=s,this.maxOffset=Math.max(t+r,s+a)}get mosaic(){return this._mosaic}set angle(t){this._angle=t,(0,mat2d.b)(this._rotationT,-t),this._setOffsets(this._data)}get angle(){return this._angle}get xTopLeft(){return this._data[0]}get yTopLeft(){return this._data[1]}get xBottomRight(){return this._data[6]}get yBottomRight(){return this._data[7]}get texcoords(){return this._texcoords}get textureBinding(){return this._mosaic.textureBinding}get offsets(){return this._offsets||this._setOffsets(this._data),this._offsets}get char(){return String.fromCharCode(this._mosaic.code)}get code(){return this._mosaic.code}get bounds(){if(!this._bounds){const{height:t,width:s}=this._mosaic.metrics,i=s*this._scale,n=Math.abs(t)*this._scale,r=new Float32Array(8);r[0]=this.x,r[1]=this.y,r[2]=this.x+i,r[3]=this.y,r[4]=this.x,r[5]=this.y+n,r[6]=this.x+i,r[7]=this.y+n;const a=(0,mat2d.m)((0,mat2df32.c)(),this._rotationT,this._transform);(0,mat2df32.t)(r,r,a);let c=1/0,d=1/0,f=0,m=0;for(let e=0;e<4;e++){const t=r[2*e],s=r[2*e+1];c=Math.min(c,t),d=Math.min(d,s),f=Math.max(f,t),m=Math.max(m,s)}const l=f-c,g=m-d,_=c+l/2,p=d+g/2;this._bounds=new BoundingBox_i(_,p,l,g)}return this._bounds}setTransform(t){this._transform=t,this._offsets=null}_setOffsets(t){this._offsets||(this._offsets={upperLeft:0,upperRight:0,lowerLeft:0,lowerRight:0});const s=this._offsets,i=new Float32Array(8),n=(0,mat2d.m)((0,mat2df32.c)(),this._rotationT,this._transform);(0,mat2df32.t)(i,t,n),s.upperLeft=(0,number/* i1616to32 */.M9)(i[0]*w,i[1]*w),s.upperRight=(0,number/* i1616to32 */.M9)(i[2]*w,i[3]*w),s.lowerLeft=(0,number/* i1616to32 */.M9)(i[4]*w,i[5]*w),s.lowerRight=(0,number/* i1616to32 */.M9)(i[6]*w,i[7]*w)}_setTextureCoords({x:t,y:s,width:e,height:i}){this._texcoords={upperLeft:(0,number/* i1616to32 */.M9)(t,s),upperRight:(0,number/* i1616to32 */.M9)(t+e,s),lowerLeft:(0,number/* i1616to32 */.M9)(t,s+i),lowerRight:(0,number/* i1616to32 */.M9)(t+e,s+i)}}}const L=(t,s)=>({code:0,page:0,sdf:!0,rect:new Rect/* default */.A(0,0,11,8),textureBinding:s,metrics:{advance:0,height:4,width:t,left:0,top:0}});function R(t,s){return t.forEach((t=>(0,vec2.t)(t,t,s))),{upperLeft:(0,number/* i1616to32 */.M9)(w*t[0][0],w*t[0][1]),upperRight:(0,number/* i1616to32 */.M9)(w*t[1][0],w*t[1][1]),lowerLeft:(0,number/* i1616to32 */.M9)(w*t[2][0],w*t[2][1]),lowerRight:(0,number/* i1616to32 */.M9)(w*t[3][0],w*t[3][1])}}class T{constructor(t,s,e){this._rotation=0,this._decorate(t,s,e),this.glyphs=t,this.bounds=this._createBounds(t),this.isMultiline=s.length>1,this._hasRotation=0!==e.angle,this._transform=this._createGlyphTransform(this.bounds,e),this._borderLineSize=e.borderLineSize,(e.borderLineSize||e.hasBackground)&&([this.bounds,this.background]=this.shapeBackground(this._transform));for(const i of t)i.setTransform(this._transform)}setRotation(t){if(0===t&&0===this._rotation)return;this._rotation=t;const i=this._transform,n=(0,mat2d.b)((0,mat2df32.c)(),t);(0,mat2d.m)(i,n,i);for(const s of this.glyphs)s.setTransform(this._transform)}_decorate(t,s,e){if(!e.decoration||"none"===e.decoration||!t.length)return;const i=e.scale,n="underline"===e.decoration?_:p,o=t[0].textureBinding;for(const h of s){const s=h.startX*i,e=h.startY*i,r=(h.width+h.glyphWidthEnd)*i;t.push(new B(s,e+n*i,L(r,o),1))}}shapeBackground(s){const e=M,{xmin:i,ymin:n,xmax:o,ymax:h,x:r,y:a,width:c,height:d}=this.bounds,f=Math.min(c,d)+2*e-b,m=Math.min((0,screenUtils/* pt2px */.Lz)(this._borderLineSize||0),f),l=(b+m)/2,g=this._borderLineSize?l:0,_=[i-e,n-e],p=[o+e,n-e],x=[i-e,h+e],w=[o+e,h+e],y=R([[_[0]-l,_[1]-l],[p[0]+l,p[1]-l],[_[0]+g,_[1]+g],[p[0]-g,p[1]+g]],s),B=R([[x[0]+g,x[1]-g],[w[0]-g,w[1]-g],[x[0]-l,x[1]+l],[w[0]+l,w[1]+l]],s),L=R([[_[0]-l,_[1]-l],[_[0]+g,_[1]+g],[x[0]-l,x[1]+l],[x[0]+g,x[1]-g]],s),T=R([[p[0]-g,p[1]+g],[p[0]+l,p[1]-l],[w[0]-g,w[1]-g],[w[0]+l,w[1]+l]],s),v={main:R([_,p,x,w],s),top:y,bot:B,left:L,right:T};return[new BoundingBox_i(r,a,c+2*l,d+2*l),v]}get boundsT(){const t=this.bounds,s=(0,vec2.s)((0,vec2f32.c)(),t.x,t.y);if((0,vec2.t)(s,s,this._transform),this._hasRotation){const e=Math.max(t.width,t.height);return new BoundingBox_i(s[0],s[1],e,e)}return new BoundingBox_i(s[0],s[1],t.width,t.height)}_createBounds(t){let s=1/0,e=1/0,i=0,n=0;for(const r of t)s=Math.min(s,r.xTopLeft),e=Math.min(e,r.yTopLeft),i=Math.max(i,r.xBottomRight),n=Math.max(n,r.yBottomRight);const o=i-s,h=n-e;return new BoundingBox_i(s+o/2,e+h/2,o,h)}_createGlyphTransform(t,s){const e=y*s.angle,h=(0,mat2df32.c)(),a=(0,vec2f32.c)();return (0,mat2d.t)(h,h,(0,vec2.s)(a,s.xOffset,-s.yOffset)),s.isCIM?(0,mat2d.r)(h,h,e):((0,mat2d.t)(h,h,(0,vec2.s)(a,t.x,t.y)),(0,mat2d.r)(h,h,e),(0,mat2d.t)(h,h,(0,vec2.s)(a,-t.x,-t.y))),h}}class v{constructor(t,s,e,i,n,o){this.glyphWidthEnd=0,this.startX=0,this.startY=0,this.start=Math.max(0,Math.min(s,e)),this.end=Math.max(0,Math.max(s,e)),this.end<t.length&&(this.glyphWidthEnd=t[this.end].metrics.width),this.width=i,this.yMin=n,this.yMax=o}}const j=t=>10===t,k=t=>32===t;function A(t,s,e){const i=new Array,n=1/e.scale,o=e.maxLineWidth*n,h=s?t.length-1:0,r=s?-1:t.length,a=s?-1:1;let c=h,d=0,f=0,m=c,u=m,l=0,g=1/0,_=0;for(;c!==r;){const{code:s,metrics:e}=t[c],n=Math.abs(e.top);if(j(s)||k(s)||(g=Math.min(g,n),_=Math.max(_,n+e.height)),j(s))c!==h&&(i.push(new v(t,m,c-a,d,g,_)),g=1/0,_=0),d=0,m=c+a,u=c+a,f=0;else if(k(s))u=c+a,f=0,l=e.advance,d+=e.advance;else if(d>o){if(u!==m){const s=u-2*a;d-=l,i.push(new v(t,m,s,d-f,g,_)),g=1/0,_=0,m=u,d=f}else i.push(new v(t,m,c-a,d,g,_)),g=1/0,_=0,m=c,u=c,d=0;d+=e.advance,f+=e.advance}else d+=e.advance,f+=e.advance;c+=a}const p=new v(t,m,c-a,d,g,_);return p.start>=0&&p.end<t.length&&i.push(p),i}function O(t,s){let e=0;for(let o=0;o<t.length;o++){const{width:s}=t[o];e=Math.max(s,e)}const i="underline"===s.decoration?g:0,n=t[0].yMin;return{x:0,y:n,height:t[t.length-1].yMax+s.lineHeight*(t.length-1)+i-n,width:e}}function S(t,s,e){const i=e.scale,n=new Array,o=A(t,s,e),h=O(o,e),{vAlign:r,hAlign:a}=e,c=r===alignmentUtils/* VAlign */.gy.Baseline?1:0,f=c?0:r-1,m=(1-c)*-h.y+f*(h.height/2)+(c?1:0)*-l;for(let d=0;d<o.length;d++){const{start:s,end:h,width:r}=o[d];let c=-1*(a+1)*(r/2)-x;const f=d*e.lineHeight+m-x;o[d].startX=c,o[d].startY=f;for(let e=s;e<=h;e++){const s=t[e];if(j(s.code))continue;const o=new B(c+s.metrics.left,f-s.metrics.top,s,i);c+=s.metrics.advance,n.push(o)}}return new T(n,o,e)}


/***/ }),

/***/ 55429:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   M9: () => (/* binding */ w),
/* harmony export */   Pl: () => (/* binding */ M),
/* harmony export */   Ss: () => (/* binding */ x)
/* harmony export */ });
/* unused harmony exports i16, i32, i8, i8816to32, numTo32, toFloat32, toUint32, u16, u32, u4u4to8, u8 */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n=new Float32Array(1),r=new Uint32Array(n.buffer);function t(n,r,t){return Math.round(Math.max(Math.min(n,t),r))}function u(n){return t(n,-128,127)}function e(n){return t(n,-32768,32767)}function o(n){return t(n,-2147483648,2147483647)}function f(n){return t(n,0,255)}function i(n){return t(n,0,65535)}function c(n){return t(n,0,4294967295)}function a(t){return n[0]=t,r[0]}function h(t){return r[0]=t,n[0]}function M(n){return[255&n,(65280&n)>>>8,(16711680&n)>>>16,(4278190080&n)>>>24]}function m(n,r){return 15&n|(15&r)<<4}function w(n,r){return 65535&n|r<<16}function x(n,r,t,u){return 255&n|(255&r)<<8|(255&t)<<16|u<<24}function y(n,r,t){return 255&n|(255&r)<<8|t<<16}function A(n){return 0|n}


/***/ })

};
;