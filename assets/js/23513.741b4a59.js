"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[23513],{23513:(n,t,r)=>{r.d(t,{projectMeshVertexPositions:()=>u});var e=r(88133),o=r(58823),i=r(67488),l=r(81587);function u(n,t){const r=(0,l.UR)(n,o.A.absolute);if(!r)return null;let u=r.position;return(0,i.aI)(n.spatialReference,t)||(u=new Float64Array(r.position.length),(0,e.projectBuffer)(r.position,n.spatialReference,0,u,t,0))?u:null}},90514:(n,t,r)=>{r.d(t,{$5:()=>v,CN:()=>R,JP:()=>m,KM:()=>x,Mv:()=>w,X4:()=>E,gr:()=>d,qs:()=>C,si:()=>N,xA:()=>F});var e=r(4506),o=r(82541),i=r(79441),l=r(25336),u=r(26110),a=r(80347),c=r(19913),s=r(70600),f=r(88133),p=(r(99263),r(67488)),g=r(64672),A=r(10559),y=r(72449),T=r(57290);const m="Projection may be possible after calling projection.load().";function R(n,t,r,e){n.error(`Failed to project from (wkid:${t.wkid}) to (wkid:${r.wkid}).${e?" ":""}${e}`)}function E(n,t,r,e,o,i){return M(h.TO_PCPF,A.xs.fromTypedArray(n),O.NORMAL,A.Xm.fromTypedArray(t),r,A.Xm.fromTypedArray(e),o,A.xs.fromTypedArray(i))?i:null}function N(n,t,r,e,o,i){return M(h.FROM_PCPF,A.xs.fromTypedArray(n),O.NORMAL,A.Xm.fromTypedArray(t),r,A.Xm.fromTypedArray(e),o,A.xs.fromTypedArray(i))?i:null}function d(n,t,r,e){return(0,f.projectBuffer)(n,t,0,r,e,0)?r:null}function v(n,t,r,e){return(0,f.projectBuffer)(n,t,0,r,e,0)?r:null}function C(n,t,r){return(0,o.Ge)(b,r),(0,y.b)(t,n,b),(0,e.or)(b)&&(0,y.n)(t,t),t}function x(n,t,r){return(0,o.z0)(b,r),(0,T.t)(t,n,b),(0,e.or)(b)&&(0,y.n)(t,t,4),t}function F(n,t,r,e,o,i){if(!M(h.TO_PCPF,A.xs.fromTypedArray(n,4*Float32Array.BYTES_PER_ELEMENT),O.TANGENT,A.Xm.fromTypedArray(t),r,A.Xm.fromTypedArray(e),o,A.xs.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let l=3;l<n.length;l+=4)i[l]=n[l];return i}function w(n,t,r,e,o,i){if(!M(h.FROM_PCPF,A.xs.fromTypedArray(n,16),O.TANGENT,A.Xm.fromTypedArray(t),r,A.Xm.fromTypedArray(e),o,A.xs.fromTypedArray(i,16)))return null;for(let l=3;l<n.length;l+=4)i[l]=n[l];return i}var O,h,P;function _(n,t,r,e,i){switch((0,s.l)(e,r,U,e),n===h.FROM_PCPF&&(0,l.B8)(U,U),t){case O.NORMAL:return(0,o.Ge)(i,U);case O.TANGENT:return(0,o.z0)(i,U)}}function M(n,t,r,e,o,i,l,u){if(!t)return;const c=e.count;if(function(n){return n.isWGS84||(0,p.x1)(n)||(0,p.q8)(n)||(0,p.KQ)(n)}(o))for(let s=0;s<c;s++)i.getVec(s,S),t.getVec(s,G),(0,a.o)(G,G,_(n,r,S,l,b)),u.setVec(s,G);else for(let s=0;s<c;s++){i.getVec(s,S),t.getVec(s,G);const o=(0,g.jg)(e.get(s,1));let c=Math.cos(o);r===O.TANGENT!=(n===h.TO_PCPF)&&(c=1/c),_(n,r,S,l,b),n===h.TO_PCPF?(b[0]*=c,b[1]*=c,b[2]*=c,b[3]*=c,b[4]*=c,b[5]*=c):(b[0]*=c,b[3]*=c,b[6]*=c,b[1]*=c,b[4]*=c,b[7]*=c),(0,a.o)(G,G,b),(0,a.n)(G,G),u.setVec(s,G)}return u}(P=O||(O={}))[P.NORMAL=0]="NORMAL",P[P.TANGENT=1]="TANGENT",function(n){n[n.TO_PCPF=0]="TO_PCPF",n[n.FROM_PCPF=1]="FROM_PCPF"}(h||(h={}));const S=(0,c.vt)(),G=(0,c.vt)(),U=(0,u.vt)(),b=(0,i.vt)()},81587:(n,t,r)=>{r.d(t,{UR:()=>d,p5:()=>N,xK:()=>O});var e=r(80861),o=r(4506),i=r(5262),l=r(82541),u=r(79441),a=r(25336),c=r(26110),s=r(80347),f=r(19913),p=r(32159),g=r(70600),A=r(64159),y=r(28364),T=r(67488),m=r(72449),R=r(90514);const E=()=>e.A.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function N(n,t,{vertexSpace:r,spatialReference:e}){if("georeferenced"===r.type){const o=n;if(!(0,A.g)(t,o,e))return!1;const{origin:i}=r;return(0,s.d)(n,o,i),!0}const o=(0,p.lO)(e),i=n;if(!(0,A.g)(t,i,o))return!1;const{origin:l}=r,u=S;if(!(0,g.l)(e,l,u,o))return!1;const c=(0,a.B8)(S,u);return null!=c&&((0,s.t)(n,i,c),!0)}function d(n,t,r){const{vertexSpace:e,transform:o,vertexAttributes:i}=n,u=(0,y.Hq)(e)?o:null,f=F(n.spatialReference,r,G.SOURCE_AND_TARGET);if((0,y.yJ)(e,t)&&(!u||(0,a.t2)(u.localMatrix,c.zK))&&w(f)){const{position:n,normal:t,tangent:e}=i,o=r?.allowBufferReuse;return{position:o?n:n.slice(),normal:o?t:t?.slice(),tangent:o?e:e?.slice()}}switch(n.vertexSpace.type){case"local":return"local"===t.type?function({vertexAttributes:n,spatialReference:t,transform:r},{origin:e},o,i){const l=v(t,i);if(!(0,g.l)(t,e,h,l))return(0,R.CN)(E(),t,l),null;if(r&&(0,a.lw)(h,h,r.localMatrix),!(0,g.l)(t,o,P,l))return(0,R.CN)(E(),l,t),null;(0,a.B8)(P,P);const u=(0,a.lw)(h,P,h);return x(u,t,i,G.SOURCE_AND_TARGET),C(n,u)}(n,n.vertexSpace,t.origin,r):function({spatialReference:n,vertexAttributes:t,transform:r},{origin:e},o,i){const l=v(n,i);if(!(0,g.l)(n,e,h,l))return(0,R.CN)(E(),n,l),null;r&&(0,a.lw)(h,h,r.localMatrix),x(h,n,i,G.SOURCE);const u=new Float64Array(t.position.length),c=function(n,t,r,e,o){(0,m.t)(e,n,t);const i=new Float64Array(n.length);return(0,R.$5)(e,o,i,r)?i:((0,R.CN)(E(),o,r),null)}(t.position,h,n,u,l);if(!c)return null;const f=function(n,t,r,e,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,R.qs)(o,l,i),(0,R.si)(l,n,t,r,e,l)?l:((0,R.CN)(E(),e,t),null)}(c,n,u,l,t.normal,h);if(t.normal&&!f)return null;const p=function(n,t,r,e,o,i){if(null==o)return null;const l=new Float32Array(o.length);return(0,R.KM)(o,l,i),(0,R.Mv)(l,n,t,r,e,l)?l:((0,R.CN)(E(),e,t),null)}(c,n,u,l,t.tangent,h);if(t.tangent&&!p)return null;if(o){const n=(0,s.u)(M,o);(0,m.a)(c,c,n)}return{position:c,normal:f,tangent:p}}(n,n.vertexSpace,t.origin,r);case"georeferenced":return"local"===t.type?function({vertexAttributes:n,spatialReference:t,transform:r},{origin:e},o,i){const u=v(t,i);if(!(0,g.l)(t,o,h,u))return(0,R.CN)(E(),t,u),null;const c=1/F(t,i,G.TARGET);(0,a.hs)(h,h,[c,c,c]);const s=(0,a.B8)(P,h),{position:f,normal:p,tangent:A}=function(n,t,r){if(!t)return n;if(!r){const{position:r,normal:e,tangent:o}=n;return{position:(0,m.a)(new Float64Array(r.length),r,t),tangent:o,normal:e}}const e=C(n,r.localMatrix);return(0,m.a)(e.position,e.position,t),e}(n,e,r),y=new Float64Array(f.length),T=function(n,t,r,e,o){const i=(0,R.gr)(n,t,e,o);if(!i)return(0,R.CN)(E(),t,o),null;const l=new Float64Array(i.length);return(0,m.t)(l,i,r),l}(f,t,s,y,u);if(!T)return null;const N=(0,l.Ge)(_,s),d=function(n,t,r,e,o,i,l){if(null==n)return null;const u=l??new Float32Array(n.length);return(0,R.X4)(n,t,r,e,o,u)?((0,m.b)(u,u,i),u):((0,R.CN)(E(),r,o),null)}(p,f,t,y,u,N,p!==n.normal?p:void 0);if(!d&&p)return null;const x=function(n,t,r,e,o,i,l){if(null==n)return null;const u=l??new Float32Array(n.length);return(0,R.xA)(n,t,r,e,o,u)?((0,m.b)(u,u,i,4),u):((0,R.CN)(E(),r,o),null)}(A,f,t,y,u,N,A!==n.tangent?A:void 0);return!x&&A?null:{position:T,normal:d,tangent:x}}(n,n.vertexSpace,t.origin,r):function({vertexAttributes:n,transform:t,spatialReference:r},{origin:e},o,i){const l=F(r,i,G.SOURCE_AND_TARGET),u=e||!w(l)?(0,a.C)(h,t?.localMatrix??c.zK):null;u&&x(u,r,i,G.SOURCE_AND_TARGET);const{position:f,normal:p,tangent:g}=u?C(n,u):n,A=i?.allowBufferReuse,y=A?f:new Float64Array(f.length);let T=f;if(e&&(T=(0,m.a)(y,T,e)),o){const n=(0,s.u)(M,o);T=(0,m.a)(y,T,n)}return{position:T!==n.position||A?T:T.slice(),normal:p!==n.normal||A?p:p?.slice(),tangent:g!==n.tangent||A?g:g?.slice()}}(n,n.vertexSpace,t.origin,r)}}function v(n,t){return t?.useEllipsoid&&(0,T.B3)(n)?p.Y0:(0,p.lO)(n)}function C(n,t){const r=new Float64Array(n.position.length);(0,m.t)(r,n.position,t);const e=n.normal?new Float32Array(n.normal.length):null,o=n.tangent?new Float32Array(n.tangent.length):null;return e&&n.normal&&(0,R.qs)(n.normal,e,t),o&&n.tangent&&(0,R.KM)(n.tangent,o,t),{position:r,normal:e,tangent:o}}function x(n,t,r,e){const o=F(t,r,e);w(o)||(0,a.hs)(n,n,[o,o,o])}function F(n,t,r){const e=!!(r&G.SOURCE),o=!!(r&G.TARGET),i=t?.sourceUnit,l=t?.targetUnit;if(!i&&!l)return 1;let u=O(i,n);e||!i||w(u)||(E().warn("source unit conversion not supported"),u=1);let a=1/O(l,n);return o||!l||w(a)||(E().warn("target unit conversion not supported"),a=1),u*a}function w(n){return(0,o.Io)(n,1)}function O(n,t){if(null==n)return 1;const r=(0,i.KX)(t);return 1/(0,i.oU)(r,"meters",n)}const h=(0,c.vt)(),P=(0,c.vt)(),_=(0,u.vt)(),M=(0,f.vt)(),S=(0,c.vt)();var G;!function(n){n[n.NONE=0]="NONE",n[n.SOURCE=1]="SOURCE",n[n.TARGET=2]="TARGET",n[n.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"}(G||(G={}))},28364:(n,t,r)=>{r.d(t,{CK:()=>a,Hq:()=>u,MW:()=>c,TE:()=>s,yJ:()=>f});var e=r(80347),o=r(30214),i=r(58823),l=r(93320);function u(n){return null!=n.origin}function a(n){return u(n.vertexSpace)}function c(n,t){if(!u(n))return null;const[r,e,i]=n.origin;return new o.A({x:r,y:e,z:i,spatialReference:t})}function s(n,t){const{x:r,y:e,z:o,spatialReference:u}=n,a=[r,e,o??0];return"local"===(t?.vertexSpace??function(n){return n.isGeographic||n.isWebMercator?"local":"georeferenced"}(u))?new l.A({origin:a}):new i.A({origin:a})}function f(n,t){return n.type===t.type&&(n.origin===t.origin||null!=n.origin&&null!=t.origin&&(0,e.q)(n.origin,t.origin))}}}]);