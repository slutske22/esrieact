"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8764],{38394:(e,t,n)=>{n.d(t,{l:()=>c});var r=n(92504),o=n(37046),i=n(22279);function s(e,t,n){const r=Math.sin(e),o=Math.cos(e),i=Math.sin(t),s=Math.cos(t),a=n;return a[0]=-r,a[4]=-i*o,a[8]=s*o,a[12]=0,a[1]=o,a[5]=-i*r,a[9]=s*r,a[13]=0,a[2]=0,a[6]=s,a[10]=i,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}var a=n(11473),u=n(87926);function c(e,t,n,r){if(null==e||null==r)return!1;const i=(0,a.Qk)(e,a.Wv),c=(0,a.Qk)(r,a.zp);if(i===c&&!l(c)&&(i!==a.rz.UNKNOWN||(0,u.aI)(e,r)))return(0,o.d)(n,t),!0;if(l(c)){const e=a.w5[i][a.rz.LON_LAT],r=a.w5[a.rz.LON_LAT][c];return null!=e&&null!=r&&(e(t,0,d,0),r(d,0,f,0),s(p*d[0],p*d[1],n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}if((c===a.rz.WEB_MERCATOR||c===a.rz.PLATE_CARREE)&&(i===a.rz.WGS84||i===a.rz.CGCS2000&&c===a.rz.PLATE_CARREE||i===a.rz.SPHERICAL_ECEF||i===a.rz.WEB_MERCATOR)){const e=a.w5[i][a.rz.LON_LAT],r=a.w5[a.rz.LON_LAT][c];return null!=e&&null!=r&&(e(t,0,d,0),r(d,0,f,0),i===a.rz.SPHERICAL_ECEF?function(e,t,n){s(e,t,n),(0,o.t)(n,n)}(p*d[0],p*d[1],n):(0,o.g)(n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}return!1}function l(e){return e===a.rz.SPHERICAL_ECEF||e===a.rz.SPHERICAL_MARS_PCPF||e===a.rz.SPHERICAL_MOON_PCPF}const p=(0,r.kU)(1),d=(0,i.c)(),f=(0,i.c)()},32937:(e,t,n)=>{n.d(t,{lO:()=>c});var r=n(47936),o=n(78983),i=n(87926);const s=new o.A(r.fv),a=new o.A(r.FY),u=new o.A(r.LJ);new o.A(r.Ro);function c(e){return e&&((0,i.q8)(e)||(0,i.aI)(e,a))?a:e&&((0,i.KQ)(e)||(0,i.aI)(e,u))?u:s}},8585:(e,t,n)=>{n.d(t,{A:()=>l});var r,o=n(66866),i=n(48982),s=n(21877),a=n(21564),u=(n(73446),n(85569),n(39831),n(63863));let c=r=class extends s.oY{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new i.A}clone(){return new r({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"floorField",void 0),(0,o._)([(0,a.MZ)({json:{read:!1,write:!1}})],c.prototype,"viewAllMode",void 0),(0,o._)([(0,a.MZ)({json:{read:!1,write:!1}})],c.prototype,"viewAllLevelIds",void 0),c=r=(0,o._)([(0,u.$)("esri.layers.support.LayerFloorInfo")],c);const l=c},98154:(e,t,n)=>{n.d(t,{L:()=>l});var r=n(28830),o=n(86394),i=n(98849),s=n(40189),a=n(16123),u=n(10282),c=n(26099);async function l(e,t){const n=(0,a.qg)(e);if(!n)throw new i.A("invalid-url","Invalid scene service url");const l={...t,sceneServerUrl:n.url.path,layerId:n.sublayer??void 0};if(l.sceneLayerItem??=await async function(e){const t=(await p(e)).serviceItemId;if(!t)return null;const n=new c.default({id:t,apiKey:e.apiKey}),i=await async function(e){const t=r.id?.findServerInfo(e.sceneServerUrl);if(t?.owningSystemUrl)return t.owningSystemUrl;const n=e.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const t=(await(0,o.A)(n,{query:{f:"json"},responseType:"json",signal:e.signal})).data.owningSystemUrl;if(t)return t}catch(f){(0,s.QP)(f)}return null}(e);null!=i&&(n.portal=new u.A({url:i}));try{return n.load({signal:e.signal})}catch(y){return(0,s.QP)(y),null}}(l),null==l.sceneLayerItem)return d(l.sceneServerUrl.replace("/SceneServer","/FeatureServer"),l);const f=await async function({sceneLayerItem:e,signal:t}){if(!e)return null;try{const n=(await e.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:t})).find((e=>"Feature Service"===e.type))||null;if(!n)return null;const r=new c.default({portal:n.portal,id:n.id});return await r.load(),r}catch(n){return(0,s.QP)(n),null}}(l);if(!f?.url)throw new i.A("related-service-not-found","Could not find feature service through portal item relationship");const y=await d(f.url,l);return y.portalItem=f,y}async function p(e){if(e.rootDocument)return e.rootDocument;const t={query:{f:"json",token:e.apiKey},responseType:"json",signal:e.signal};try{const n=await(0,o.A)(e.sceneServerUrl,t);e.rootDocument=n.data}catch{e.rootDocument={}}return e.rootDocument}async function d(e,t){const n=(0,a.qg)(e);if(!n)throw new i.A("invalid-feature-service-url","Invalid feature service url");const r=n.url.path,s=t.layerId;if(null==s)return{serverUrl:r};const u=p(t),c=e=>{const n={query:{f:"json"},responseType:"json",authMode:e,signal:t.signal};return(0,o.A)(r,n)},l=c("anonymous").catch((()=>c("no-prompt"))),[d,f]=await Promise.all([l,u]),y=f?.layers,h=d.data&&d.data.layers;if(!Array.isArray(h))throw new Error("expected layers array");if(Array.isArray(y)){for(let o=0;o<Math.min(y.length,h.length);o++)if(y[o].id===s)return{serverUrl:r,layerId:h[o].id}}else if(null!=s&&s<h.length)return{serverUrl:r,layerId:h[s].id};throw new Error("could not find matching associated sublayer")}},97934:(e,t,n)=>{n.d(t,{P:()=>r});const r={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},19370:(e,t,n)=>{n.d(t,{MA:()=>d,m0:()=>g,wH:()=>h});var r=n(98849),o=n(19251),i=n(539),s=n(68538),a=n(50645);const u=i.A.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function c(e,t,n){let o="",i=0;for(;i<n;){const s=e[t+i];if(s<128)o+=String.fromCharCode(s),i++;else if(s>=192&&s<224){if(i+1>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const a=(31&s)<<6|63&e[t+i+1];o+=String.fromCharCode(a),i+=2}else if(s>=224&&s<240){if(i+2>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const a=(15&s)<<12|(63&e[t+i+1])<<6|63&e[t+i+2];o+=String.fromCharCode(a),i+=3}else{if(!(s>=240&&s<248))throw new r.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(i+3>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const a=(7&s)<<18|(63&e[t+i+1])<<12|(63&e[t+i+2])<<6|63&e[t+i+3];if(a>=65536){const e=55296+(a-65536>>10),t=56320+(1023&a);o+=String.fromCharCode(e,t)}else o+=String.fromCharCode(a);i+=4}}}return o}function l(e,t){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<t.length;o++){const i=t[o],s=i.valueType||i.type,a=m[s];n.fields[i.property]=a(e,r),r+=A[s].BYTES_PER_ELEMENT}return n.byteCount=r,n}function p(e,t,n){const o=[];let i,s,a=0;for(s=0;s<e;s+=1){if(i=t[s],i>0){if(o.push(c(n,a,i-1)),0!==n[a+i-1])throw new r.A("string-array-error","Invalid string array: missing null termination.")}else o.push(null);a+=i}return o}function d(e,t){return new(0,A[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function f(e,t,n){const i=null!=t.header?l(e,t.header):{byteOffset:0,byteCount:0,fields:{count:n}},s={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let a=i.byteCount;for(let u=0;u<t.ordering.length;u++){const e=t.ordering[u],n=(0,o.o8)(t[e]);if(n.count=i.fields.count??0,"String"===n.valueType){if(n.byteOffset=a,n.byteCount=i.fields[e+"ByteCount"],"UTF-8"!==n.encoding)throw new r.A("unsupported-encoding","Unsupported String encoding.",{encoding:n.encoding});if(n.timeEncoding&&"ECMA_ISO8601"!==n.timeEncoding)throw new r.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:n.timeEncoding})}else{if(!v(n.valueType))throw new r.A("unsupported-value-type","Unsupported binary valueType",{valueType:n.valueType});{const e=b(n.valueType);a+=a%e!=0?e-a%e:0,n.byteOffset=a,n.byteCount=e*n.valuesPerElement*n.count}}a+=n.byteCount??0,s.entries[e]=n}return s.byteCount=a-s.byteOffset,s}function y(e,t,n){if(t!==e&&u.error(`Invalid ${n} buffer size\n expected: ${e}, actual: ${t})`),t<e)throw new r.A("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function h(e,t){const n=l(e,t&&t.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},i=n.fields,s=null!=i.vertexCount?i.vertexCount:i.count;for(const c of t.ordering){if(!t.vertexAttributes[c])continue;const e={...t.vertexAttributes[c],byteOffset:r,count:s},n=w[c]||"_"+c;o.vertexAttributes[n]=e,r+=b(e.valueType)*e.valuesPerElement*s}const a=i.faceCount;if(t.faces&&a){o.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const n={...t.faces[e],byteOffset:r,count:a};o.faces[e]=n,r+=b(n.valueType)*n.valuesPerElement*a}}const u=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&u){o.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const n={...t.featureAttributes[e],byteOffset:r,count:u};o.featureAttributes[e]=n,r+=("UInt64"===n.valueType?8:b(n.valueType))*n.valuesPerElement*u}}return y(r,e.byteLength,"geometry"),o.byteCount=r-o.byteOffset,o}const w={position:a.r.POSITION,normal:a.r.NORMAL,color:a.r.COLOR,uv0:a.r.UV0,region:a.r.UVREGION};function g(e,t,n){if("lepcc-rgb"===e.encoding)return(0,s.mb)(t);if("lepcc-intensity"===e.encoding)return(0,s.Ax)(t);if(null!=e.encoding&&""!==e.encoding)throw new r.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(u.warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(u.warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");const o=f(t,e,n);y(o.byteOffset+o.byteCount,t.byteLength,"attribute");const i=o.entries.attributeValues||o.entries.objectIds;if(i){if("String"===i.valueType){const e=o.entries.attributeByteCounts,n=d(t,e),r=function(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}(t,i);return i.timeEncoding?function(e,t,n){return p(e,t,n).map((e=>{const t=e?Date.parse(e):null;return t&&!Number.isNaN(t)?t:null}))}(e.count,n,r):p(e.count,n,r)}return d(t,i)}throw new r.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const A={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},m={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function v(e){return A.hasOwnProperty(e)}function b(e){return v(e)?A[e].BYTES_PER_ELEMENT:0}},88169:(e,t,n)=>{n.d(t,{s1:()=>A});var r=n(86394),o=(n(85569),n(98849),n(39831),n(86942)),i=(n(46615),n(76287)),s=(n(37046),n(56192)),a=(n(76743),n(46991)),u=(n(21839),n(22279));n(47936),n(13484),n(78983),n(32937),n(38394),n(84119);(0,u.c)();var c=n(80510),l=(n(87926),n(24587),n(19370));n(96220);var p,d=n(52712);function f(e){return{...y,...e,type:"solid"}}!function(e){e[e.INVISIBLE=0]="INVISIBLE",e[e.TRANSPARENT=1]="TRANSPARENT",e[e.OPAQUE=2]="OPAQUE"}(p||(p={}));const y={color:(0,d.f)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:p.OPAQUE,hasSlicePlane:!1};(0,d.f)(0,0,0,.2),p.OPAQUE;n(55623);var h=n(29709),w=n(70807);(0,c.vt)();var g;async function A(e,t,n,o,i){const s=[];for(const r of t)if(r&&i.includes(r.name)){const t=`${e}/nodes/${n}/attributes/${r.key}/0`;s.push({url:t,storageInfo:r})}const a=await Promise.allSettled(s.map((e=>(0,r.A)(e.url,{responseType:"array-buffer"}).then((t=>(0,l.m0)(e.storageInfo,t.data)))))),u=[];for(const r of o){const e={};for(let t=0;t<a.length;t++){const n=a[t];if("fulfilled"===n.status){const o=n.value;e[s[t].storageInfo.name]=b(o,r)}}u.push(e)}return u}!function(e){e[e.OUTSIDE=0]="OUTSIDE",e[e.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",e[e.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",e[e.INSIDE=3]="INSIDE"}(g||(g={}));const m=-32768,v=-(2**31);function b(e,t){if(!e)return null;const n=e[t];return(0,o.IY)(e)?n===m?null:n:(0,o._G)(e)?n===v?null:n:n!=n?null:n}f({color:[0,0,0,0],opacity:0});const C=new Array(24);new w.K(C,3),(0,u.c)(),(0,u.c)(),(0,i.a)();(0,s.a)(),(0,a.a)(),(0,c.vt)(),(0,c.vt)(),(0,h.vt)(),(0,u.c)(),new Array(72),(0,s.a)()},68538:(e,t,n)=>{n.d(t,{Ax:()=>g,Me:()=>c,mb:()=>y});var r=n(98849);const o=!0,i={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function s(e,t,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,n+i.identifierOffset,i.identifierLength)),version:t.getUint16(n+i.versionOffset,o),checksum:t.getUint32(n+i.checksumOffset,o)}}const a={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function u(e,t){return{sizeLo:e.getUint32(t+a.sizeLo,o),sizeHi:e.getUint32(t+a.sizeHi,o),minX:e.getFloat64(t+a.minX,o),minY:e.getFloat64(t+a.minY,o),minZ:e.getFloat64(t+a.minZ,o),maxX:e.getFloat64(t+a.maxX,o),maxY:e.getFloat64(t+a.maxY,o),maxZ:e.getFloat64(t+a.maxZ,o),errorX:e.getFloat64(t+a.errorX,o),errorY:e.getFloat64(t+a.errorY,o),errorZ:e.getFloat64(t+a.errorZ,o),count:e.getUint32(t+a.count,o),reserved:e.getUint32(t+a.reserved,o)}}function c(e){const t=new DataView(e,0);let n=0;const{identifier:o,version:c}=s(e,t,n);if(n+=i.byteCount,"LEPCC     "!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(c>1)throw new r.A("lepcc-decode-error","Unknown version");const p=u(t,n);if(n+=a.byteCount,p.sizeHi*2**32+p.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const d=new Float64Array(3*p.count),f=[],y=[],h=[],w=[];if(n=l(e,n,f),n=l(e,n,y),n=l(e,n,h),n=l(e,n,w),n!==e.byteLength)throw new r.A("lepcc-decode-error","Bad length");let g=0,A=0;for(let r=0;r<f.length;r++){A+=f[r];let e=0;for(let t=0;t<y[r];t++){e+=h[g];const t=w[g];d[3*g]=Math.min(p.maxX,p.minX+2*p.errorX*e),d[3*g+1]=Math.min(p.maxY,p.minY+2*p.errorY*A),d[3*g+2]=Math.min(p.maxZ,p.minZ+2*p.errorZ*t),g++}}return{errorX:p.errorX,errorY:p.errorY,errorZ:p.errorZ,result:d}}function l(e,t,n){const r=[];t=p(e,t,r);const o=[];for(let i=0;i<r.length;i++){o.length=0,t=p(e,t,o);for(let e=0;e<o.length;e++)n.push(o[e]+r[i])}return t}function p(e,t,n){const i=new DataView(e,t),s=i.getUint8(0),a=31&s,u=!!(32&s),c=(192&s)>>6;let l=0;if(0===c)l=i.getUint32(1,o),t+=5;else if(1===c)l=i.getUint16(1,o),t+=3;else{if(2!==c)throw new r.A("lepcc-decode-error","Bad count type");l=i.getUint8(1),t+=2}if(u)throw new r.A("lepcc-decode-error","LUT not implemented");const p=Math.ceil(l*a/8),d=new Uint8Array(e,t,p);let f=0,y=0,h=0;const w=-1>>>32-a;for(let r=0;r<l;r++){for(;y<a;)f|=d[h]<<y,y+=8,h+=1;n[r]=f&w,f>>>=a,y-=a,y+a>32&&(f|=d[h-1]>>8-y)}return t+h}const d={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function f(e,t){return{sizeLo:e.getUint32(t+d.sizeLo,o),sizeHi:e.getUint32(t+d.sizeHi,o),count:e.getUint32(t+d.count,o),colorMapCount:e.getUint16(t+d.colorMapCount,o),lookupMethod:e.getUint8(t+d.lookupMethod),compressionMethod:e.getUint8(t+d.compressionMethod)}}function y(e){const t=new DataView(e,0);let n=0;const{identifier:o,version:a}=s(e,t,n);if(n+=i.byteCount,"ClusterRGB"!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(a>1)throw new r.A("lepcc-decode-error","Unknown version");const u=f(t,n);if(n+=d.byteCount,u.sizeHi*2**32+u.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");if((2===u.lookupMethod||1===u.lookupMethod)&&0===u.compressionMethod){if(3*u.colorMapCount+u.count+n!==e.byteLength||u.colorMapCount>256)throw new r.A("lepcc-decode-error","Bad count");const t=new Uint8Array(e,n,3*u.colorMapCount),o=new Uint8Array(e,n+3*u.colorMapCount,u.count),i=new Uint8Array(3*u.count);for(let e=0;e<u.count;e++){const n=o[e];i[3*e]=t[3*n],i[3*e+1]=t[3*n+1],i[3*e+2]=t[3*n+2]}return i}if(0===u.lookupMethod&&0===u.compressionMethod){if(3*u.count+n!==e.byteLength||0!==u.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");return new Uint8Array(e,n).slice()}if(u.lookupMethod<=2&&1===u.compressionMethod){if(n+3!==e.byteLength||1!==u.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");const o=t.getUint8(n),i=t.getUint8(n+1),s=t.getUint8(n+2),a=new Uint8Array(3*u.count);for(let e=0;e<u.count;e++)a[3*e]=o,a[3*e+1]=i,a[3*e+2]=s;return a}throw new r.A("lepcc-decode-error","Bad method "+u.lookupMethod+","+u.compressionMethod)}const h={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function w(e,t){return{sizeLo:e.getUint32(t+h.sizeLo,o),sizeHi:e.getUint32(t+h.sizeHi,o),count:e.getUint32(t+h.count,o),scaleFactor:e.getUint16(t+h.scaleFactor,o),bitsPerPoint:e.getUint8(t+h.bitsPerPoint),reserved:e.getUint8(t+h.reserved)}}function g(e){const t=new DataView(e,0);let n=0;const{identifier:o,version:a}=s(e,t,n);if(n+=i.byteCount,"Intensity "!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(a>1)throw new r.A("lepcc-decode-error","Unknown version");const u=w(t,n);if(n+=h.byteCount,u.sizeHi*2**32+u.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const c=new Uint16Array(u.count);if(8===u.bitsPerPoint){if(u.count+n!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const t=new Uint8Array(e,n,u.count);for(let e=0;e<u.count;e++)c[e]=t[e]*u.scaleFactor}else if(16===u.bitsPerPoint){if(2*u.count+n!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const t=new Uint16Array(e,n,u.count);for(let e=0;e<u.count;e++)c[e]=t[e]*u.scaleFactor}else{const t=[];if(p(e,n,t)!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");for(let e=0;e<u.count;e++)c[e]=t[e]*u.scaleFactor}return c}},55623:(e,t,n)=>{n.d(t,{k5:()=>r});var r;n(92504);!function(e){e[e.Multiply=1]="Multiply",e[e.Ignore=2]="Ignore",e[e.Replace=3]="Replace",e[e.Tint=4]="Tint"}(r||(r={}))},29709:(e,t,n)=>{n.d(t,{gm:()=>p,vt:()=>l});n(46615);var r=n(76287),o=n(76743),i=n(46991),s=n(21839),a=n(22279),u=(n(25102),n(52712)),c=(n(4675),n(80530),n(10714));n(70807);(0,i.a)(),(0,a.c)(),(0,a.c)(),(0,u.c)(),(0,r.a)();function l(e=[0,0,0],t=[-1,-1,-1],n=(0,i.a)()){return{center:(0,a.g)(e),halfSize:(0,a.g)(t),quaternion:(0,i.b)(n)}}(()=>{const e=new Int8Array(162);let t=0;const n=n=>{for(let r=0;r<n.length;r++)e[t+r]=n[r];t+=6};n([6,2,3,1,5,4]),n([0,2,3,1,5,4]),n([0,2,3,7,5,4]),n([0,1,3,2,6,4]),n([0,1,3,2,0,0]),n([0,1,5,7,3,2]),n([0,1,3,7,6,4]),n([0,1,3,7,6,2]),n([0,1,5,7,6,2]),n([0,1,5,4,6,2]),n([0,1,5,4,0,0]),n([0,1,3,7,5,4]),n([0,2,6,4,0,0]),n([0,0,0,0,0,0]),n([1,3,7,5,0,0]),n([2,3,7,6,4,0]),n([2,3,7,6,0,0]),n([2,3,1,5,7,6]),n([0,1,5,7,6,2]),n([0,1,5,7,6,4]),n([0,1,3,7,6,4]),n([4,5,7,6,2,0]),n([4,5,7,6,0,0]),n([4,5,1,3,7,6]),n([0,2,3,7,5,4]),n([6,2,3,7,5,4]),n([6,2,3,1,5,4])})();function p(e,t,n,r,i){if((0,o.c)(i.quaternion,e.quaternion),r===c.RT.Global){(0,o.a)(h,e.quaternion),(0,s.v)(d,e.center,h),(0,s.w)(f,d),(0,s.x)(y,f,e.halfSize),(0,s.u)(y,f,y);const r=(0,s.l)(y);(0,s.g)(y,f,e.halfSize);const a=(0,s.l)(y);if(r<n)(0,s.c)(i.center,e.center),(0,s.s)(d,n,n,n),(0,s.g)(i.halfSize,e.halfSize,d);else{const o=a>0?1+t/a:1,u=r>0?1+n/r:1,c=(u+o)/2,l=(u-o)/2;(0,s.i)(i.halfSize,f,l),(0,s.q)(i.halfSize,i.halfSize,e.halfSize,c),(0,s.i)(i.center,f,c),(0,s.q)(i.center,i.center,e.halfSize,l),(0,s.z)(d,d),(0,s.A)(i.center,i.center,d),(0,s.v)(i.center,i.center,i.quaternion)}}else{const r=(0,s.s)(d,0,0,1);(0,s.q)(i.center,e.center,r,(n+t)/2),(0,o.a)(h,e.quaternion),(0,s.v)(r,r,h),(0,s.w)(r,r),(0,s.q)(i.halfSize,e.halfSize,r,(n-t)/2)}return i}const d=(0,a.c)(),f=(0,a.c)(),y=(0,a.c)(),h=(0,i.a)()},18846:(e,t,n)=>{n.d(t,{D8:()=>i,TO:()=>o});var r=n(42453);async function o(e,t=e.popupTemplate){if(null==t)return[];const n=await t.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:o}=t,{objectIdField:i,typeIdField:s,globalIdField:a,relationships:u}=e;if(n.includes("*"))return["*"];const c=o?(0,r.eX)(e):[],l=(0,r.DB)(e.fieldsIndex,[...n,...c]);return s&&l.push(s),l&&i&&e.fieldsIndex?.has(i)&&!l.includes(i)&&l.push(i),l&&a&&e.fieldsIndex?.has(a)&&!l.includes(a)&&l.push(a),u&&u.forEach((t=>{const{keyField:n}=t;l&&n&&e.fieldsIndex?.has(n)&&!l.includes(n)&&l.push(n)})),l}function i(e,t){return e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}}}]);