"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9997],{24121:(e,t,r)=>{r.d(t,{a:()=>a,b:()=>s,c:()=>o,d:()=>c,e:()=>l,n:()=>p,s:()=>u,t:()=>i});var n=r(64521);function o(e,t,r){i(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function i(e,t,r,o=3,i=o){if(e.length/o!==Math.ceil(t.length/i))return n.J.error("source and destination buffers need to have the same number of elements"),e;const s=e.length/o,a=r[0],l=r[1],u=r[2],c=r[4],p=r[5],h=r[6],g=r[8],f=r[9],d=r[10],m=r[12],y=r[13],v=r[14];let T=0,w=0;for(let n=0;n<s;n++){const r=t[T],n=t[T+1],s=t[T+2];e[w]=a*r+c*n+g*s+m,e[w+1]=l*r+p*n+f*s+y,e[w+2]=u*r+h*n+d*s+v,T+=i,w+=o}return e}function s(e,t,r){a(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function a(e,t,r,o=3,i=o){if(e.length/o!==Math.ceil(t.length/i))return void n.J.error("source and destination buffers need to have the same number of elements");const s=e.length/o,a=r[0],l=r[1],u=r[2],c=r[3],p=r[4],h=r[5],g=r[6],f=r[7],d=r[8];let m=0,y=0;for(let n=0;n<s;n++){const r=t[m],n=t[m+1],s=t[m+2];e[y]=a*r+c*n+g*s,e[y+1]=l*r+p*n+f*s,e[y+2]=u*r+h*n+d*s,m+=i,y+=o}}function l(e,t,r){u(e.typedBuffer,t,r,e.typedBufferStride)}function u(e,t,r,n=3){const o=Math.min(e.length/n,t.count),i=t.typedBuffer,s=t.typedBufferStride;let a=0,l=0;for(let u=0;u<o;u++)e[l]=r*i[a],e[l+1]=r*i[a+1],e[l+2]=r*i[a+2],a+=s,l+=n}function c(e,t){p(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function p(e,t,r=3,n=r){const o=Math.min(e.length/r,t.length/n);let i=0,s=0;for(let a=0;a<o;a++){const o=t[i],a=t[i+1],l=t[i+2],u=o*o+a*a+l*l;if(u>0){const t=1/Math.sqrt(u);e[s]=t*o,e[s+1]=t*a,e[s+2]=t*l}i+=n,s+=r}}Object.freeze(Object.defineProperty({__proto__:null,normalize:p,normalizeView:c,scale:u,scaleView:l,shiftRight:function(e,t,r){const n=Math.min(e.count,t.count),o=e.typedBuffer,i=e.typedBufferStride,s=t.typedBuffer,a=t.typedBufferStride;let l=0,u=0;for(let c=0;c<n;c++)o[u]=s[l]>>r,o[u+1]=s[l+1]>>r,o[u+2]=s[l+2]>>r,l+=a,u+=i},transformMat3:a,transformMat3View:s,transformMat4:i,transformMat4View:o},Symbol.toStringTag,{value:"Module"}))},42609:(e,t,r)=>{r.d(t,{g:()=>i});var n=r(22279),o=r(84119);function i(e,t,r,n=0){s[0]=e.x,s[1]=e.y;const i=e.z;return s[2]=void 0!==i?i:n,(0,o.projectBuffer)(s,e.spatialReference,0,t,r,0,1)}const s=(0,n.c)()},21104:(e,t,r)=>{r.d(t,{A:()=>v});var n,o=r(66866),i=r(21877),s=r(19251),a=r(539),l=r(21564),u=r(4130),c=r(63863),p=r(73446),h=r(78118),g=r(93413),f=r(29796);const d="esri.geometry.support.MeshComponent",m=a.A.getLogger(d);let y=n=class extends i.oY{static from(e){return(0,p.PZ)(n,e)}constructor(e){super(e),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(e){return(0,f.b)(e,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},m)}castMaterial(e){return(0,p.PZ)(e&&"object"==typeof e&&("metallic"in e||"roughness"in e||"metallicRoughnessTexture"in e)?g.A:h.A,e)}clone(){return new n({faces:(0,s.o8)(this.faces),shading:this.shading,material:(0,s.o8)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(e,t){const r={faces:(0,s.o8)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(e,t):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new n(r)}get memoryUsage(){let e=0;return null!=this.faces&&(e+=this.faces.byteLength),null!=this.material&&(e+=this.material.memoryUsage),e}};(0,o._)([(0,l.MZ)({json:{write:!0}})],y.prototype,"faces",void 0),(0,o._)([(0,u.w)("faces")],y.prototype,"castFaces",null),(0,o._)([(0,l.MZ)({type:h.A,json:{write:!0}})],y.prototype,"material",void 0),(0,o._)([(0,u.w)("material")],y.prototype,"castMaterial",null),(0,o._)([(0,l.MZ)()],y.prototype,"name",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],y.prototype,"shading",void 0),(0,o._)([(0,l.MZ)({type:Boolean})],y.prototype,"trustSourceNormals",void 0),y=n=(0,o._)([(0,c.$)(d)],y);const v=y},29317:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(66866),o=r(24793),i=r(21877),s=r(21564),a=(r(73446),r(85569),r(39831),r(28902)),l=r(63863),u=r(22279),c=r(78632);let p=class extends((0,o.O)(i.oY)){constructor(e){super(e),this.type="georeferenced-relative",this.isRelative=!0,this.isGeoreferenced=!0,this.origin=(0,u.c)()}getOriginPoint(e){const[t,r,n]=this.origin;return new c.A({x:t,y:r,z:n,spatialReference:e})}setOriginFromPoint({x:e,y:t,z:r}){this.origin=(0,u.f)(e,t,r??0)}};(0,n._)([(0,a.e)({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],p.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],p.prototype,"origin",void 0),p=(0,n._)([(0,l.$)("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],p);const h=p},19938:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(66866),o=r(24793),i=r(21877),s=(r(539),r(73446),r(85569),r(39831),r(98849),r(28902)),a=r(63863);let l=class extends((0,o.O)(i.oY)){constructor(){super({}),this.type="georeferenced",this.isRelative=!1,this.isGeoreferenced=!0}};(0,n._)([(0,s.e)({georeferenced:"georeferenced"},{readOnly:!0})],l.prototype,"type",void 0),l=(0,n._)([(0,a.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],l);const u=l},99218:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(66866),o=r(24793),i=r(21877),s=r(21564),a=(r(73446),r(85569),r(39831),r(28902)),l=r(63863),u=r(22279),c=r(78632);let p=class extends((0,o.O)(i.oY)){constructor(e){super(e),this.type="local",this.isRelative=!0,this.isGeoreferenced=!1,this.origin=(0,u.c)()}getOriginPoint(e){const[t,r,n]=this.origin;return new c.A({x:t,y:r,z:n,spatialReference:e})}setOriginFromPoint({x:e,y:t,z:r}){this.origin=(0,u.f)(e,t,r??0)}};(0,n._)([(0,a.e)({local:"local"},{readOnly:!0})],p.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],p.prototype,"origin",void 0),p=(0,n._)([(0,l.$)("esri.geometry.support.MeshLocalVertexSpace")],p);const h=p},78118:(e,t,r)=>{r.d(t,{A:()=>h});var n,o=r(66866),i=r(96220),s=r(21877),a=r(21564),l=(r(73446),r(85569),r(39831),r(63863)),u=r(34804),c=r(94578);let p=n=class extends s.oY{constructor(e){super(e),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,t){const r=null!=e?e.get(this):null;if(r)return r;const o=new n(this.clonePropertiesWithDeduplication(t));return null!=e&&e.set(this,o),o}clonePropertiesWithDeduplication(e){return{color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(e),normalTexture:this.normalTexture?.cloneWithDeduplication(e),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let e=0;return e+=null!=this.color?16:0,null!=this.colorTexture&&(e+=this.colorTexture.memoryUsage),e+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(e+=this.normalTexture.memoryUsage),e+=null!=this.normalTextureTransform?20:0,e}};(0,o._)([(0,a.MZ)({type:i.A,json:{write:!0}})],p.prototype,"color",void 0),(0,o._)([(0,a.MZ)({type:u.A,json:{write:!0}})],p.prototype,"colorTexture",void 0),(0,o._)([(0,a.MZ)({type:c.A,json:{write:!0}})],p.prototype,"colorTextureTransform",void 0),(0,o._)([(0,a.MZ)({type:u.A,json:{write:!0}})],p.prototype,"normalTexture",void 0),(0,o._)([(0,a.MZ)({type:c.A,json:{write:!0}})],p.prototype,"normalTextureTransform",void 0),(0,o._)([(0,a.MZ)({nonNullable:!0,json:{write:!0}})],p.prototype,"alphaMode",void 0),(0,o._)([(0,a.MZ)({nonNullable:!0,json:{write:!0}})],p.prototype,"alphaCutoff",void 0),(0,o._)([(0,a.MZ)({nonNullable:!0,json:{write:!0}})],p.prototype,"doubleSided",void 0),p=n=(0,o._)([(0,l.$)("esri.geometry.support.MeshMaterial")],p);const h=p},93413:(e,t,r)=>{r.d(t,{A:()=>h});var n,o=r(66866),i=r(96220),s=r(21564),a=(r(73446),r(85569),r(39831),r(63863)),l=r(78118),u=r(34804),c=r(94578);let p=n=class extends l.A{constructor(e){super(e),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(e,t){const r=null!=e?e.get(this):null;if(r)return r;const o=new n(this.clonePropertiesWithDeduplication(t));return null!=e&&e.set(this,o),o}getMemoryUsage(){let e=super.getMemoryUsage();return e+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(e+=this.emissiveTexture.memoryUsage),e+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(e+=this.occlusionTexture.memoryUsage),e+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(e+=this.metallicRoughnessTexture.memoryUsage),e+=null!=this.metallicRoughnessTextureTransform?20:0,e}clonePropertiesWithDeduplication(e){return{...super.clonePropertiesWithDeduplication(e),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(e),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(e),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(e),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};(0,o._)([(0,s.MZ)({type:i.A,json:{write:!0}})],p.prototype,"emissiveColor",void 0),(0,o._)([(0,s.MZ)({type:u.A,json:{write:!0}})],p.prototype,"emissiveTexture",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],p.prototype,"emissiveTextureTransform",void 0),(0,o._)([(0,s.MZ)({type:u.A,json:{write:!0}})],p.prototype,"occlusionTexture",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],p.prototype,"occlusionTextureTransform",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],p.prototype,"metallic",void 0),(0,o._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],p.prototype,"roughness",void 0),(0,o._)([(0,s.MZ)({type:u.A,json:{write:!0}})],p.prototype,"metallicRoughnessTexture",void 0),(0,o._)([(0,s.MZ)({type:c.A,json:{write:!0}})],p.prototype,"metallicRoughnessTextureTransform",void 0),p=n=(0,o._)([(0,a.$)("esri.geometry.support.MeshMaterialMetallicRoughness")],p);const h=p},34804:(e,t,r)=>{r.d(t,{A:()=>m});var n,o=r(66866),i=(r(39831),r(25801)),s=r(21877),a=r(21564),l=r(73446),u=(r(85569),r(75094)),c=r(63863),p=r(77542),h=r(63680);const g=new WeakMap;let f=0,d=n=class extends s.oY{constructor(e){super(e),this.wrap="repeat"}get url(){return this._get("url")||null}set url(e){this._set("url",e),e&&this._set("data",null)}get data(){return this._get("data")||null}set data(e){this._set("data",e),e&&this._set("url",null)}writeData(e,t,r,n){if(e instanceof HTMLImageElement){const o={type:"image-element",src:(0,h.t)(e.src,n),crossOrigin:e.crossOrigin};t[r]=o}else if(e instanceof HTMLCanvasElement){const n=e.getContext("2d").getImageData(0,0,e.width,e.height),o={type:"canvas-element",imageData:this._encodeImageData(n)};t[r]=o}else if(e instanceof HTMLVideoElement){const o={type:"video-element",src:(0,h.t)(e.src,n),autoplay:e.autoplay,loop:e.loop,muted:e.muted,crossOrigin:e.crossOrigin,preload:e.preload};t[r]=o}else if(e instanceof ImageData){const n={type:"image-data",imageData:this._encodeImageData(e)};t[r]=n}}readData(e){switch(e.type){case"image-element":{const t=new Image;return t.src=e.src,t.crossOrigin=e.crossOrigin,t}case"canvas-element":{const t=this._decodeImageData(e.imageData),r=document.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").putImageData(t,0,0),r}case"image-data":return this._decodeImageData(e.imageData);case"video-element":{const t=document.createElement("video");return t.src=e.src,t.crossOrigin=e.crossOrigin,t.autoplay=e.autoplay,t.loop=e.loop,t.muted=e.muted,t.preload=e.preload,t}default:return}}get transparent(){const e=this.data,t=this.url;if(e instanceof HTMLCanvasElement)return this._imageDataContainsTransparent(e.getContext("2d").getImageData(0,0,e.width,e.height));if(e instanceof ImageData)return this._imageDataContainsTransparent(e);if(t){const e=t.substr(t.length-4,4).toLowerCase(),r=t.substr(0,15).toLocaleLowerCase();if(".png"===e||"data:image/png;"===r)return!0}return!1}set transparent(e){this._overrideIfSome("transparent",e)}get contentHash(){const e="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",t=(t="")=>`d:${t},t:${this.transparent},w:${e}`;return null!=this.url?t(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?t(this.data.src):(g.has(this.data)||g.set(this.data,++f),t(g.get(this.data))):t()}get memoryUsage(){let e=0;if(e+=null!=this.url?this.url.length:0,null!=this.data){const t=this.data;"data"in t?e+=t.data.byteLength:t instanceof HTMLImageElement?e+=t.naturalWidth*t.naturalHeight*3:t instanceof HTMLCanvasElement&&(e+=t.width*t.height*3)}return e}clone(){const e={url:this.url,data:this.data,wrap:this._cloneWrap()};return new n(e)}cloneWithDeduplication(e){const t=e.get(this);if(t)return t;const r=this.clone();return e.set(this,r),r}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}_encodeImageData(e){let t="";for(let r=0;r<e.data.length;r++)t+=String.fromCharCode(e.data[r]);return{data:btoa(t),width:e.width,height:e.height}}_decodeImageData(e){const t=atob(e.data),r=new Uint8ClampedArray(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return(0,i.eV)(r,e.width,e.height)}_imageDataContainsTransparent(e){for(let t=3;t<e.data.length;t+=4)if(255!==e.data[t])return!0;return!1}static from(e){return"string"==typeof e?new n({url:e}):e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof ImageData||e instanceof HTMLVideoElement?new n({data:e}):(0,l.PZ)(n,e)}};(0,o._)([(0,a.MZ)({type:String,json:{write:h.w}})],d.prototype,"url",null),(0,o._)([(0,a.MZ)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,a.MZ)()],d.prototype,"data",null),(0,o._)([(0,p.K)("data")],d.prototype,"writeData",null),(0,o._)([(0,u.w)("data")],d.prototype,"readData",null),(0,o._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],d.prototype,"transparent",null),(0,o._)([(0,a.MZ)({json:{write:!0}})],d.prototype,"wrap",void 0),(0,o._)([(0,a.MZ)({readOnly:!0})],d.prototype,"contentHash",null),d=n=(0,o._)([(0,c.$)("esri.geometry.support.MeshTexture")],d);const m=d},94578:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(66866),o=r(24793),i=r(21877),s=r(21564),a=(r(73446),r(85569),r(39831),r(63863));let l=class extends((0,o.O)(i.oY)){constructor(e){super(e),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"offset",void 0),(0,n._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],l.prototype,"rotation",void 0),(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"scale",void 0),l=(0,n._)([(0,a.$)("esri.geometry.support.MeshTextureTransform")],l);const u=l},29796:(e,t,r)=>{r.d(t,{H:()=>g,b:()=>d});var n,o=r(66866),i=r(21877),s=r(19251),a=r(539),l=r(21564),u=r(4130),c=r(63863);const p="esri.geometry.support.MeshVertexAttributes",h=a.A.getLogger(p);let g=n=class extends i.oY{constructor(e){super(e),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(e){return d(e,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},h)}castPosition(e){return e&&e instanceof Float32Array&&h.warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),d(e,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},h)}castUv(e){return d(e,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},h)}castNormal(e){return d(e,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},h)}castTangent(e){return d(e,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},h)}clone(){const e={position:(0,s.o8)(this.position),uv:(0,s.o8)(this.uv),normal:(0,s.o8)(this.normal),tangent:(0,s.o8)(this.tangent),color:(0,s.o8)(this.color)};return new n(e)}clonePositional(){const e={position:(0,s.o8)(this.position),normal:(0,s.o8)(this.normal),tangent:(0,s.o8)(this.tangent),uv:this.uv,color:this.color};return new n(e)}get memoryUsage(){let e=0;return e+=this.position.byteLength,null!=this.uv&&(e+=this.uv.byteLength),null!=this.normal&&(e+=this.normal.byteLength),null!=this.tangent&&(e+=this.tangent.byteLength),null!=this.color&&(e+=this.color.byteLength),e}};function f(e,t,r,n){const{loggerTag:o,stride:i}=t;return e.length%i!=0?(n.error(o,`Invalid array length, expected a multiple of ${i}`),new r([])):e}function d(e,t,r,n,o){if(!e)return e;if(e instanceof t)return f(e,n,t,o);for(const i of r)if(e instanceof i)return f(new t(e),n,t,o);if(Array.isArray(e))return f(new t(e),n,t,o);{const n=r.map((e=>`'${e.name}'`));return o.error(`Failed to set property, expected one of ${n}, but got ${e.constructor.name}`),new t([])}}function m(e,t,r){t[r]=function(e){const t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e[r];return t}(e)}(0,o._)([(0,l.MZ)({json:{write:m}})],g.prototype,"color",void 0),(0,o._)([(0,u.w)("color")],g.prototype,"castColor",null),(0,o._)([(0,l.MZ)({nonNullable:!0,json:{write:m}})],g.prototype,"position",void 0),(0,o._)([(0,u.w)("position")],g.prototype,"castPosition",null),(0,o._)([(0,l.MZ)({json:{write:m}})],g.prototype,"uv",void 0),(0,o._)([(0,u.w)("uv")],g.prototype,"castUv",null),(0,o._)([(0,l.MZ)({json:{write:m}})],g.prototype,"normal",void 0),(0,o._)([(0,u.w)("normal")],g.prototype,"castNormal",null),(0,o._)([(0,l.MZ)({json:{write:m}})],g.prototype,"tangent",void 0),(0,o._)([(0,u.w)("tangent")],g.prototype,"castTangent",null),g=n=(0,o._)([(0,c.$)(p)],g)},64521:(e,t,r)=>{r.d(t,{J:()=>n});const n=r(539).A.getLogger("esri.views.3d.support.buffer.math")},22759:(e,t,r)=>{r.d(t,{C:()=>u,Cr:()=>p,H6:()=>d,_I:()=>g,dz:()=>m,fA:()=>c,kb:()=>h,ld:()=>y,sd:()=>f,vt:()=>l});var n=r(92504),o=r(92114),i=r(21839),s=r(22279),a=r(45573);function l(e){return e?{origin:(0,s.g)(e.origin),vector:(0,s.g)(e.vector)}:{origin:(0,s.c)(),vector:(0,s.c)()}}function u(e,t=l()){return c(e.origin,e.vector,t)}function c(e,t,r=l()){return(0,i.c)(r.origin,e),(0,i.c)(r.vector,t),r}function p(e,t,r=l()){return(0,i.c)(r.origin,e),(0,i.f)(r.vector,t,e),r}function h(e,t){const r=(0,i.f)(a.rq.get(),t,e.origin),o=(0,i.j)(e.vector,r),s=(0,i.j)(e.vector,e.vector),l=(0,n.qE)(o/s,0,1),u=(0,i.f)(a.rq.get(),(0,i.i)(a.rq.get(),e.vector,l),r);return(0,i.j)(u,u)}function g(e,t,r){return d(e,t,0,1,r)}function f(e,t,r){return(0,i.g)(r,e.origin,(0,i.i)(r,e.vector,t))}function d(e,t,r,o,s){const{vector:l,origin:u}=e,c=(0,i.f)(a.rq.get(),t,u),p=(0,i.j)(l,c)/(0,i.m)(l);return(0,i.i)(s,l,(0,n.qE)(p,r,o)),(0,i.g)(s,s,e.origin)}function m(e,t){if(v(e,function(e,t){const r=w.get();return r.origin=e,r.vector=t,r}(t.origin,t.direction),!1,T)){const{tA:t,pB:r,distance2:n}=T;if(t>=0&&t<=1)return n;if(t<0)return(0,i.a)(e.origin,r);if(t>1)return(0,i.a)((0,i.g)(a.rq.get(),e.origin,e.vector),r)}return null}function y(e,t,r){return!!v(e,t,!0,T)&&((0,i.c)(r,T.pA),!0)}function v(e,t,r,o){const s=1e-6,l=e.origin,u=(0,i.g)(a.rq.get(),l,e.vector),c=t.origin,p=(0,i.g)(a.rq.get(),c,t.vector),h=a.rq.get(),g=a.rq.get();if(h[0]=l[0]-c[0],h[1]=l[1]-c[1],h[2]=l[2]-c[2],g[0]=p[0]-c[0],g[1]=p[1]-c[1],g[2]=p[2]-c[2],Math.abs(g[0])<s&&Math.abs(g[1])<s&&Math.abs(g[2])<s)return!1;const f=a.rq.get();if(f[0]=u[0]-l[0],f[1]=u[1]-l[1],f[2]=u[2]-l[2],Math.abs(f[0])<s&&Math.abs(f[1])<s&&Math.abs(f[2])<s)return!1;const d=h[0]*g[0]+h[1]*g[1]+h[2]*g[2],m=g[0]*f[0]+g[1]*f[1]+g[2]*f[2],y=h[0]*f[0]+h[1]*f[1]+h[2]*f[2],v=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],T=(f[0]*f[0]+f[1]*f[1]+f[2]*f[2])*v-m*m;if(Math.abs(T)<s)return!1;let w=(d*m-y*v)/T,M=(d+m*w)/v;r&&(w=(0,n.qE)(w,0,1),M=(0,n.qE)(M,0,1));const x=a.rq.get(),A=a.rq.get();return x[0]=l[0]+w*f[0],x[1]=l[1]+w*f[1],x[2]=l[2]+w*f[2],A[0]=c[0]+M*g[0],A[1]=c[1]+M*g[1],A[2]=c[2]+M*g[2],o.tA=w,o.tB=M,o.pA=x,o.pB=A,o.distance2=(0,i.a)(x,A),!0}const T={tA:0,tB:0,pA:(0,s.c)(),pB:(0,s.c)(),distance2:0},w=new o.I((()=>l()))},87773:(e,t,r)=>{r.d(t,{D:()=>o,O:()=>i});var n=r(539);function o(e,t){return e.isGeographic||e.isWebMercator&&(t?.geographic??!0)}function i(e,t,r){const o=!e.isGeoreferenced;null!=r?.geographic&&r.geographic!==o&&n.A.getLogger(t).warnOnce(`Specifying the 'geographic' parameter (${r.geographic}) for a Mesh vertex space of type "${e.type}" is not supported. This parameter will be ignored.`)}},97519:(e,t,r)=>{r.d(t,{$y:()=>x,NW:()=>A,YL:()=>P,bA:()=>_,h7:()=>F,project:()=>j,qD:()=>b});var n=r(92976),o=r(76287),i=r(37046),s=r(56192),a=r(21839),l=r(22279),u=r(46615),c=r(97303),p=r(32937),h=r(59538),g=r(84119),f=r(90166),d=r(29317),m=r(19938),y=r(99218),v=r(8695),T=r(24121),w=r(87773),M=r(72188);function x(e,t,r){return(0,w.D)(t.spatialReference,r)?function(e,t,r){const n=t.spatialReference,o=O(t,r,L),i=new Float64Array(e.position.length),s=function(e,t,r,n){(0,T.t)(n,e,t);const o=new Float64Array(e.length);return(0,M.$5)(n,o,r)}(e.position,o,n,i),a=(0,u.n)(E,o);return{position:s,normal:C(s,i,e.normal,a,n),tangent:R(s,i,e.tangent,a,n)}}(e,t,r):function(e,t,r){const n=new Float64Array(e.position.length),o=e.position,i=t.x,s=t.y,a=t.z??0,l=B(r?r.unit:null,t.spatialReference);for(let u=0;u<o.length;u+=3)n[u]=o[u]*l+i,n[u+1]=o[u+1]*l+s,n[u+2]=o[u+2]*l+a;return{position:n,normal:e.normal,tangent:e.tangent}}(e,t,r)}function A(e,t=s.I){const{position:r,normal:n,tangent:o}=e;return{position:(0,T.t)(new Float64Array(r.length),r,t),normal:null!=n?(0,M.qs)(n,new Float32Array(n.length),t):null,tangent:null!=o?(0,M.KM)(o,new Float32Array(o.length),t):null}}function _(e,t,r,n){const{position:o,normal:i,tangent:s}=e;return t.isRelative?x(A(e,r?.localMatrix),t.getOriginPoint(n),{geographic:!t.isGeoreferenced}):{position:o,normal:i,tangent:s}}function b(e,t,r){if(r?.useTransform){const{position:n,normal:o,tangent:i}=e,{x:s,y:a,z:u}=t,c=(0,l.f)(s,a,u??0);return{vertexAttributes:{position:n,normal:o,tangent:i},vertexSpace:r.geographic??1?new y.A({origin:c}):new d.A({origin:c}),transform:new v.A}}return{vertexAttributes:x(e,t,r),vertexSpace:new m.A,transform:null}}function P(e,t,r){return(0,w.D)(t.spatialReference,r)?function(e,t,r){const n=t.spatialReference;O(t,r,L);const o=(0,i.i)(N,L),s=new Float64Array(e.position.length),a=function(e,t,r,n){const o=(0,M.gr)(e,t,n),i=new Float64Array(o.length);return(0,T.t)(i,o,r),i}(e.position,n,o,s),l=(0,u.n)(E,o);return{position:a,normal:Z(e.normal,e.position,s,n,l),tangent:S(e.tangent,e.position,s,n,l)}}(e,t,r):D(e,t,r)}function F(e,t,r,n,o){if(!t.isRelative)return P(e,n,o);const{spatialReference:i}=n,s=_(e,t,r,i);return n.equals(t.getOriginPoint(i))?D(s,n,o):P(s,n,o)}function j({positions:e,transform:t,vertexSpace:r,inSpatialReference:n,outSpatialReference:o,outPositions:u,localMode:d}){const m=r.isRelative?r.origin:l.Z,y=r.isRelative?t?.localMatrix??s.I:s.I;if(r.isGeoreferenced){const t=u??(0,f.jh)(e.length);if((0,i.a)(y,s.I)?(0,f.s)(t,e):(0,T.t)(t,e,y),!(0,a.h)(m,l.Z)){const[e,r,n]=m;for(let o=0;o<t.length;o+=3)t[o]+=e,t[o+1]+=r,t[o+2]+=n}return(0,g.projectBuffer)(t,n,0,t,o,0,t.length/3),t}let v=n;const w=(0,p.lO)(n);v=o.isWebMercator&&d||!(0,c.canProjectWithoutEngine)(n,w)?v:w,(0,h.l)(n,m,L,v),(0,i.m)(L,L,y);const M=u??(0,f.jh)(e.length);return(0,T.t)(M,e,L),(0,g.projectBuffer)(M,v,0,M,o,0,M.length/3),M}function C(e,t,r,n,o){if(null==r)return null;const i=new Float32Array(r.length);return(0,T.a)(i,r,n),(0,M.si)(i,e,t,o,i),i}function R(e,t,r,n,o){if(null==r)return null;const i=new Float32Array(r.length);(0,T.a)(i,r,n,4);for(let s=3;s<i.length;s+=4)i[s]=r[s];return(0,M.Mv)(i,e,t,o,i),i}function D(e,t,r){const n=new Float64Array(e.position.length),o=e.position,i=t.x,s=t.y,a=t.z??0,l=B(r?r.unit:null,t.spatialReference);for(let u=0;u<o.length;u+=3)n[u]=(o[u]-i)/l,n[u+1]=(o[u+1]-s)/l,n[u+2]=(o[u+2]-a)/l;return{position:n,normal:e.normal,tangent:e.tangent}}function O(e,t,r){(0,h.l)(e.spatialReference,[e.x,e.y,e.z??0],r,(0,p.lO)(e.spatialReference));const n=B(t?t.unit:null,e.spatialReference);return(0,i.b)(r,r,[n,n,n]),r}function Z(e,t,r,n,o){if(null==e)return null;const i=(0,M.X4)(e,t,r,n,new Float32Array(e.length));return(0,T.a)(i,i,o),i}function S(e,t,r,n,o){if(null==e)return null;const i=(0,M.xA)(e,t,r,n,new Float32Array(e.length));return(0,T.a)(i,i,o,4),i}function B(e,t){if(null==e)return 1;const r=(0,n.KX)(t);return 1/(0,n.oU)(r,"meters",e)}const L=(0,s.a)(),N=(0,s.a)(),E=(0,o.a)()},72188:(e,t,r)=>{r.d(t,{$5:()=>w,KM:()=>x,Mv:()=>_,X4:()=>y,gr:()=>T,qs:()=>M,si:()=>v,xA:()=>A});var n=r(539),o=r(46615),i=r(76287),s=r(56192),a=r(21839),l=r(22279),u=r(32937),c=r(59538),p=r(84119),h=r(87926),g=r(96082),f=r(57813),d=r(24121);const m=n.A.getLogger("esri.geometry.support.meshUtils.normalProjection");function y(e,t,r,n,o){return P(n)?(b(j.TO_PCPF,f.xs.fromTypedArray(e),f.Xm.fromTypedArray(t),f.Xm.fromTypedArray(r),n,f.xs.fromTypedArray(o)),o):(m.error("Cannot convert spatial reference to PCPF"),o)}function v(e,t,r,n,o){return P(n)?(b(j.FROM_PCPF,f.xs.fromTypedArray(e),f.Xm.fromTypedArray(t),f.Xm.fromTypedArray(r),n,f.xs.fromTypedArray(o)),o):(m.error("Cannot convert to spatial reference from PCPF"),o)}function T(e,t,r){return(0,p.projectBuffer)(e,t,0,r,(0,u.lO)(t),0,e.length/3),r}function w(e,t,r){return(0,p.projectBuffer)(e,(0,u.lO)(r),0,t,r,0,e.length/3),t}function M(e,t,r){return(0,o.n)(O,r),(0,d.a)(t,e,O),(0,o.i)(O)||(0,d.n)(t,t),t}function x(e,t,r){if((0,o.n)(O,r),(0,d.a)(t,e,O,4),(0,o.i)(O)||(0,d.n)(t,t,4),e!==t)for(let n=3;n<e.length;n+=4)t[n]=e[n];return t}function A(e,t,r,n,o){if(!P(n))return m.error("Cannot convert spatial reference to PCPF"),o;b(j.TO_PCPF,f.xs.fromTypedArray(e,4*Float32Array.BYTES_PER_ELEMENT),f.Xm.fromTypedArray(t),f.Xm.fromTypedArray(r),n,f.xs.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT));for(let i=3;i<e.length;i+=4)o[i]=e[i];return o}function _(e,t,r,n,o){if(!P(n))return m.error("Cannot convert to spatial reference from PCPF"),o;b(j.FROM_PCPF,f.xs.fromTypedArray(e,16),f.Xm.fromTypedArray(t),f.Xm.fromTypedArray(r),n,f.xs.fromTypedArray(o,16));for(let i=3;i<e.length;i+=4)o[i]=e[i];return o}function b(e,t,r,n,i,s){if(!t)return;const l=r.count,p=(0,u.lO)(i);if(F(i))for(let u=0;u<l;u++)n.getVec(u,C),t.getVec(u,R),(0,c.l)(p,C,D,p),(0,o.f)(O,D),e===j.FROM_PCPF&&(0,o.t)(O,O),(0,a.t)(R,R,O),s.setVec(u,R);else for(let u=0;u<l;u++){n.getVec(u,C),t.getVec(u,R),(0,c.l)(p,C,D,p),(0,o.f)(O,D);const i=(0,g.jg)(r.get(u,1));let l=Math.cos(i);e===j.TO_PCPF&&(l=1/l),O[0]*=l,O[1]*=l,O[2]*=l,O[3]*=l,O[4]*=l,O[5]*=l,e===j.FROM_PCPF&&(0,o.t)(O,O),(0,a.t)(R,R,O),(0,a.n)(R,R),s.setVec(u,R)}return s}function P(e){return F(e)||function(e){return e.isWebMercator}(e)}function F(e){return e.isWGS84||(0,h.x1)(e)||(0,h.q8)(e)||(0,h.KQ)(e)}var j;!function(e){e[e.TO_PCPF=0]="TO_PCPF",e[e.FROM_PCPF=1]="FROM_PCPF"}(j||(j={}));const C=(0,l.c)(),R=(0,l.c)(),D=(0,s.a)(),O=(0,i.a)()},50958:(e,t,r)=>{r.d(t,{Fm:()=>l,Q7:()=>u});var n=r(92114),o=r(21839),i=r(22279),s=r(22759);r(45573);function a(e){return e?{p0:(0,i.g)(e.p0),p1:(0,i.g)(e.p1),p2:(0,i.g)(e.p2)}:{p0:(0,i.c)(),p1:(0,i.c)(),p2:(0,i.c)()}}function l(e,t,r){const n=t[0]-e[0],o=t[1]-e[1],i=r[0]-e[0],s=r[1]-e[1];return.5*Math.abs(n*s-o*i)}function u(e,t,r){return(0,o.f)(c,t,e),(0,o.f)(p,r,e),(0,o.l)((0,o.b)(c,c,p))/2}new n.I(s.vt),new n.I((()=>a()));const c=(0,i.c)(),p=(0,i.c)()}}]);