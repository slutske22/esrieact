"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[36127],{8708:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>t,metadata:()=>c,toc:()=>o});var s=a(74848),n=a(28453);const t={sidebar_position:4},i="Layer Views",c={id:"layer-views",title:"Layer Views",description:"Intro",source:"@site/docs/layer-views.md",sourceDirName:".",slug:"/layer-views",permalink:"/esrieact/layer-views",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"FeatureLayer",permalink:"/esrieact/layer-components/feature-layer"},next:{title:"Widgets",permalink:"/esrieact/category/widgets"}},l={},o=[{value:"Intro",id:"intro",level:2},{value:"FeatureLayerView",id:"featurelayerview",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"layer-views",children:"Layer Views"})}),"\n",(0,s.jsx)(r.h2,{id:"intro",children:"Intro"}),"\n",(0,s.jsxs)(r.p,{children:["There are various react ",(0,s.jsx)(r.a,{href:"https://developers.arcgis.com/javascript/latest/api-reference/esri-views-layers-LayerView.html",children:"LayerView"})," components available.  Traditionally, accessing and manipulating the ",(0,s.jsx)(r.a,{href:"https://developers.arcgis.com/javascript/latest/api-reference/esri-views-layers-LayerView.html",children:"LayerView"})," of a layer required ",(0,s.jsx)(r.a,{href:"https://developers.arcgis.com/javascript/latest/api-reference/esri-views-View.html#whenLayerView",children:"imperative, asynchronous code"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",children:"let layer = new FeatureLayer(url);\n\nmap.add(layer);\n\nview.whenLayerView(layer)\n    .then(function(layerView){ ... })\n    .catch(function(error){ ... });\n"})}),"\n",(0,s.jsxs)(r.p,{children:["With ESRIEACT, LayerView components are available that abstract away asynchronous paradigm, and react to prop/state updates.  For example, a ",(0,s.jsx)(r.code,{children:"CSVLayer"})," can take a ",(0,s.jsx)(r.code,{children:"CSVLayerView"})," as a child:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:'const MyCsvMap = () => {\n  const [selectedObjectIds, setSelectedObjectIds] = useState<string[]>([])\n\n  return (\n    <MapView {...props}>\n      <CSVLayer url="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.csv">\n        <CSVLayerView featureEffect={{\n          filter: {\n            objectIds: selectedObjectIds\n          },\n          excludedEffect: "blur(5px) grayscale(90%) opacity(40%)"\n        }} />\n      </CSVLayer>\n    </MapView>\n  )\n}\n'})}),"\n",(0,s.jsxs)(r.p,{children:["Or you may want to use the ref of a ",(0,s.jsx)(r.code,{children:"KMLLayerView"})," to get its underlying map images:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"const MyKmlMap = () => {\n  const [kmlRef, setKmlRef] = useState<string[]>([])\n\n  useEffect(() => {\n    if (kmlRef) {\n      console.log('Visible map images are:', kmlRef.allVisibleMapImages)\n    }\n  }, [kmlRef])\n\n  return (\n    <MapView {...props}>\n      <KMLLayer url=\"http://quickmap.dot.ca.gov/data/lcs.kml\">\n        <KMLLayerView ref={r => setKmlRef(r)} />\n      </KMLLayer>\n    </MapView>\n  )\n}\n"})}),"\n",(0,s.jsx)(r.h2,{id:"featurelayerview",children:"FeatureLayerView"}),"\n",(0,s.jsxs)(r.p,{children:["Must be a child of a ",(0,s.jsx)(r.code,{children:"<FeatureLayer />"}),"."]}),"\n",(0,s.jsxs)(r.p,{children:["Props are equivalent to ",(0,s.jsx)(r.a,{href:"https://developers.arcgis.com/javascript/latest/api-reference/esri-views-layers-FeatureLayerView.html#properties-summary",children:"FeatureLayerView Props"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"ref"})," is the instance of the underlying ",(0,s.jsx)(r.code,{children:"FeatureLayerView"})," instance"]})]})}function p(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);