"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5478],{85470:(e,t,n)=>{n.d(t,{A:()=>c});var i,a=n(66866),r=n(21877),l=n(19251),s=n(21564),o=n(73446),u=n(63863);let c=i=class extends r.A{constructor(e){super(e),this.variableName=null,this.dimensionName=null,this.values=[],this.isSlice=!1}clone(){return new i({variableName:this.variableName,dimensionName:this.dimensionName,values:(0,l.o8)(this.values),isSlice:this.isSlice})}};(0,a._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"variableName",void 0),(0,a._)([(0,s.MZ)({type:String,json:{write:!0}})],c.prototype,"dimensionName",void 0),(0,a._)([(0,s.MZ)({type:o.gK.array(o.gK.oneOf([o.gK.native(Number),o.gK.array(o.gK.native(Number))])),json:{write:!0}})],c.prototype,"values",void 0),(0,a._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],c.prototype,"isSlice",void 0),c=i=(0,a._)([(0,u.$)("esri.layers.support.DimensionalDefinition")],c)},75786:(e,t,n)=>{n.d(t,{jX:()=>c,zo:()=>f,gd:()=>m,ph:()=>s,no:()=>h,kz:()=>o,ht:()=>u,yo:()=>x});var i=n(97066);var a=n(15995);const r=new Map,l=new class{constructor(e=15e3,t=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=e,this._interval=Math.min(e,t)}decreaseRefCount(e,t){const n=e+"/"+t,i=this._cachedBlocks;if(i.has(n)){const e=i.get(n);return e.refCount--,e.refCount<=0&&(i.delete(n),e.controller&&e.controller.abort()),e.refCount}return 0}getBlock(e,t){const n=e+"/"+t,i=this._cachedBlocks;if(i.has(n)){const e=i.get(n);return e.ts=Date.now(),e.refCount++,i.delete(n),i.set(n,e),e.block}return null}putBlock(e,t,n,i){const a=this._cachedBlocks,r=e+"/"+t;if(a.has(r)){const e=a.get(r);e.ts=Date.now(),e.refCount++}else a.set(r,{block:n,ts:Date.now(),refCount:1,controller:i});this._trim(),this._updateTimer()}deleteBlock(e,t){const n=this._cachedBlocks,i=e+"/"+t;n.has(i)&&n.delete(i)}updateMaxSize(e){this._size=e,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const e=this._cachedBlocks;this._timer=setInterval((()=>{const t=Array.from(e),n=Date.now();for(let i=0;i<t.length&&t[i][1].ts<=n-this._duration;i++)e.delete(t[i][0]);0===e.size&&this._clearTimer()}),this._interval)}_trim(){const e=this._cachedBlocks;if(-1===this._size||this._size>=e.size)return;const t=Array.from(e);for(let n=0;n<t.length-this._size;n++)e.delete(t[n][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}};function s(e,t,n){const i=[];return null!=t&&i.push(`sliceId=${t}`),null!=n&&i.push(`bandIds=${n.join(",")}`),i.length?`${e}?${i.join("&")}`:e}function o(e,t){const n={extent:null,rasterInfo:t,cache:new Map},i=r.get(e);return i?(i.push(n),i.length-1):(r.set(e,[n]),0)}function u(e,t){const n=r.get(e);n&&(n[t]=null,n.some((e=>null!=e))||r.delete(e))}function c(e,t,n){const i=r.get(e);if(!i)return null==t?l.decreaseRefCount(e,n):0;if(null==t||null==i[t])return l.decreaseRefCount(e,n);const a=i[t]?.cache,s=a?.get(n);if(a&&s){if(s.refCount--,0===s.refCount){a.delete(n);for(let e=0;e<i.length;e++)i[e]?.cache.delete(n);s.controller&&s.controller.abort()}return s.refCount}return 0}function m(e,t,n){const i=r.get(e);if(!i)return null==t?l.getBlock(e,n):null;if(null==t||null==i[t]){for(let e=0;e<i.length;e++){const t=i[e]?.cache.get(n);if(t)return t.refCount++,t.block}return l.getBlock(e,n)}const a=i[t]?.cache.get(n);if(a)return a.refCount++,a.block;for(let r=0;r<i.length;r++){if(r===t||!i[r])continue;const e=i[r]?.cache,a=e?.get(n);if(e&&a)return a.refCount++,e.set(n,a),a.block}return null}function h(e,t,n,i,a=null){const s=r.get(e);if(!s)return void(null==t&&l.putBlock(e,n,i,a));if(null==t||null==s[t])return void l.putBlock(e,n,i,a);const o={refCount:1,block:i,isResolved:!1,isRejected:!1,controller:a};i.then((()=>o.isResolved=!0)).catch((()=>o.isRejected=!0)),s[t]?.cache.set(n,o)}function f(e,t,n){const i=r.get(e);i?null!=t&&null!=i[t]?i[t]?.cache.delete(n):l.deleteBlock(e,n):null==t&&l.deleteBlock(e,n)}function d(e,t){const n=r.get(e);return n?n[t]??null:null}function x(e,t,n,r,l,s,o=null){const u=d(e,t);if(!u)return;const c=u.extent,{cache:m,rasterInfo:h}=u;if(c&&c.xmin===n.xmin&&c.xmax===n.xmax&&c.ymin===n.ymin&&c.ymax===n.ymax)return;r=r??0;const f=n.clone().normalize(),{spatialReference:x,transform:g}=h,y=new Set;for(let d=0;d<f.length;d++){const e=f[d];if(e.xmax-e.xmin<=r||e.ymax-e.ymin<=r)continue;let t=(0,a._l)(e,x,o);if(null==t)continue;if(null!=g&&(t=g.inverseTransform(t),null==t))continue;const n=new i.A({x:r,y:r,spatialReference:e.spatialReference});if(null==l&&!(l=(0,a.Wo)(n,x,e,o)))return;const{pyramidLevel:u,pyramidResolution:c,excessiveReading:m}=(0,a.t$)(l,h,s||"closest");if(m)return;const{storageInfo:p}=h,{origin:v}=p,{x:M,y:b}=c,w=Math.max(0,Math.floor((t.xmin-v.x)/M)),k=Math.max(0,Math.floor((v.y-t.ymax)/b)),T=Math.ceil(t.width/M-.1),A=Math.ceil(t.height/b-.1),C=u>0?p.pyramidBlockWidth:p.blockWidth,D=u>0?p.pyramidBlockHeight:p.blockHeight,N=p.blockBoundary[u];if(!N)continue;const S=1,R=Math.max(N.minCol,Math.floor(w/C)-S),_=Math.max(N.minRow,Math.floor(k/D)-S),$=Math.min(N.maxCol,Math.floor((w+T-1)/C)+S),I=Math.min(N.maxRow,Math.floor((k+A-1)/D)+S);for(let i=_;i<=I;i++)for(let e=R;e<=$;e++)y.add(`${u}/${i}/${e}`)}m.forEach(((e,t)=>{if(!y.has(t)){const e=m.get(t);(null==e||e.isResolved||e.isRejected)&&m.delete(t)}})),u.extent={xmin:n.xmin,ymin:n.ymin,xmax:n.xmax,ymax:n.ymax}}},28582:(e,t,n)=>{function i(e){return"Function"===e?.datasetFormat}function a(e){return i(e)?e.primaryRasters.rasters:[e]}n.d(t,{p:()=>a,q:()=>i})},75792:(e,t,n)=>{n.d(t,{$E:()=>k,DY:()=>y,NG:()=>w,QW:()=>l,Rp:()=>f,XU:()=>d,Xg:()=>b,ct:()=>x,fy:()=>g,sx:()=>h,xx:()=>s,z2:()=>p});var i=n(85569),a=n(85470);function r(e,t,n){const i=t.shift();if(0===n.length){const e=[];n.push({sliceId:-1,multidimensionalDefinition:e})}const a=n.length;for(let r=0;r<a;r++){const t=n.shift().multidimensionalDefinition;i.values?.forEach((a=>{n.push({sliceId:-1,multidimensionalDefinition:[...t,{variableName:e,dimensionName:i.name,values:[a]}]})}))}t.length&&r(e,t,n)}function l(e,t){const n=[];let i=0;return(t?e.variables.filter((e=>e.name.toLowerCase()===t.toLowerCase())):[...e.variables].sort(((e,t)=>e.name>t.name?1:-1))).forEach((e=>{const t=[],a=[...e.dimensions].sort(((e,t)=>e.name>t.name?-1:1));r(e.name,a,t),t.forEach((e=>{n.push({...e,sliceId:i++})}))})),n}function s(e,t,n){let i=e;if(t&&(t=[...t].sort(((e,t)=>e.dimensionName<t.dimensionName?-1:1))).forEach((({dimensionName:e,values:t,isSlice:n})=>{t.length&&(i=i.filter((i=>{const a=i.multidimensionalDefinition.find((t=>t.dimensionName===e));if(null==a)return!1;const r=a.values[0];return"number"==typeof r?"number"==typeof t[0]?t.includes(r):t.some((e=>e[0]<=r&&e[1]>=r)):"number"==typeof t[0]?t.some((e=>r[0]<=e&&r[1]>=e)):n?t.some((e=>e[0]===r[0]&&e[0]===r[1])):t.some((e=>e[0]>=r[0]&&e[0]<=r[1]||e[1]>=r[0]&&e[1]<=r[1]||e[0]<r[0]&&e[1]>r[1]))})))})),i.length&&null!=n?.start&&null!=n.end){const e=n.start.getTime(),t=n.end.getTime(),a=i[0].multidimensionalDefinition.findIndex((e=>"StdTime"===e.dimensionName));a>-1&&(i=i.filter((n=>{const i=n.multidimensionalDefinition[a].values[0];return e<=i&&t>=i})))}return i.map((e=>e.sliceId))}function o(e,t){return Array.isArray(e)?t[0]===t[1]?e[0]===t[0]||e[1]===t[0]:e[0]>=t[0]&&e[0]<=t[1]&&e[1]>=t[0]&&e[1]<=t[1]:e>=t[0]&&e<=t[1]}function u(e,t){return e[0]<=t[0]&&e[1]>=t[0]||e[0]<=t[1]&&e[1]>=t[1]||e[0]>=t[0]&&e[1]<=t[1]}function c(e){return 1===e.length?[e[0],e[0]]:[e[0],e[e.length-1]]}function m(e,t,n){if(!t?.subsetDefinitions?.length)return e;let i;if(n){const{variables:a}=t;if(a.length&&!a.includes(n))return null;const r=t.subsetDefinitions.find((t=>t.dimensionName===e.name&&t.variableName===n));if(!r?.values?.length)return e;i=c(r.values)}else{const n=t.dimensions.find((({name:t})=>t===e.name));i=n?.extent}const a=i;if(!a?.length)return e;const r=e.values.filter((e=>o(e,a)));return{...e,extent:[...a],values:r}}function h(e,t,n){if(!t?.subsetDefinitions?.length)return!1;const{variables:i}=t;if(i.length&&e.some((({variableName:e})=>e&&!i.includes(e))))return!0;for(let a=0;a<e.length;a++){const i=e[a],r=t.subsetDefinitions.find((e=>(""===i.variableName||e.variableName===i.variableName)&&e.dimensionName===i.dimensionName));if(r?.values.length){const e=c(r.values);if(i.isSlice||2!==i.values.length||Array.isArray(i.values[0])||i.values[0]===i.values[1]||!n){if(i.values.some((t=>!o(t,e))))return!0}else if(!u(i.values,e))return!0}}return!1}function f(e,t){if(null==e)return{isOutside:!1};const{geometry:n,timeExtent:i,multidimensionalDefinition:r}=t;let l=null;if(null!=i&&(l=function(e,t){const n=e.dimensions.find((({name:e})=>"StdTime"===e));if(null==n||null==t.start&&null==t.end)return t;t=t.clone();const{start:i,end:r}=t.toJSON(),l=i===r?[i]:null!=i&&null!=r?[i,r]:[i??r];return 2===l.length&&n?.extent.length&&(l[0]=Math.max(l[0],n.extent[0]),l[1]=Math.min(l[1],n.extent[1]??n.extent[0]),l[1]<l[0])||h([new a.A({variableName:"",dimensionName:"StdTime",isSlice:1===l.length,values:l})],e,!0)?null:(t.start=new Date(l[0]),t.end=new Date(l[1]??l[0]),t)}(e,i),null==l))return{isOutside:!0};const{areaOfInterest:s}=e;if(s&&n){const e="point"===n.type?n:"extent"===n.type?n.center:"polygon"===n.type?n.centroid:null;if(e&&!s.contains(e))return{isOutside:!0}}return null!=r&&r.length&&h(r,e,!0)?{isOutside:!0}:{isOutside:!1,intersection:{geometry:n,timeExtent:l,multidimensionalDefinition:r}}}function d(e){const{rasterInfo:t,multidimensionalSubset:n}=e,{multidimensionalInfo:i}=t;if(null==i)return null;let a=e.multidimensionalDefinition?.length?e.multidimensionalDefinition:g(t,{multidimensionalSubset:n});if(!a?.length)return null;if(a.some((e=>!e.dimensionName))){const{variableName:e}=a[0],i=g(t,{multidimensionalSubset:n,variableName:e});i?.forEach((e=>{const t=a?.find((({dimensionName:t})=>t===e.dimensionName));t?.values?.length&&(e.values=t.values,e.isSlice=t.isSlice)})),a=i}const{timeExtent:r}=e;if(null!=a&&null!=r&&(null!=r.start||null!=r.end)){a=a.map((e=>e.clone()));const e=i.variables.find((({name:e})=>e===a[0].variableName))?.dimensions?.find((({name:e})=>"StdTime"===e)),t=a.find((({dimensionName:e})=>"StdTime"===e));if(!e||!t)return null;const{start:n,end:l}=r,s=null==n?null:n.getTime(),o=null==l?null:l.getTime(),u=s??o,c=o??s;if(null!=e.values){const n=e.values.filter((e=>{if(Array.isArray(e)){if(u===c)return e[0]<=u&&e[1]>=u;const t=e[0]<=u&&e[1]>u||e[0]<c&&e[1]>=c,n=e[0]>=u&&e[1]<=c||e[0]<u&&e[1]>c;return t||n}return u===c?e===u:e>=u&&e<=c}));if(n.length){const e=n.sort(((e,t)=>{const n=Array.isArray(e)?e[0]:e,i=Array.isArray(e)?e[1]:e,a=Array.isArray(t)?t[0]:t,r=Array.isArray(t)?t[1]:t;return u===c?n-a:Math.abs(i-c)-Math.abs(r-c)}))[0];t.values=[e]}else a=null}else if(e.hasRegularIntervals&&e.extent){const[n,i]=e.extent;u>i||c<n?a=null:t.values=u===c?[u]:[Math.max(n,u),Math.min(i,c)]}}return null!=a&&h(a,n)?null:a}function x(e,t={}){const{multidimensionalInfo:n,keyProperties:i}=e;if(null==n)return null;const{variableName:a,multidimensionalSubset:r,multidimensionalDefinition:l}=t,s=null!=l?l[0]?.variableName:null,o=a||s||i?.DefaultVariable;let{variables:u}=n;return r?.variables?.length&&(u=u.filter((({name:e})=>r.variables.includes(e)))),o?u.find((({name:e})=>e===o))??u[0]:u[0]}function g(e,t={}){const n=x(e,t);if(!n)return null;const i=[],{dimensions:r,name:l}=n;if(0===r.length)return[new a.A({variableName:l,dimensionName:"",values:[],isSlice:!0})];for(let s=0;s<r.length;s++){const e=m(r[s],t.multidimensionalSubset,l);if(!e)return null;const{values:n,extent:o}=e;let u=n?.[0]??o?.[0];"stdz"===e.name.toLowerCase()&&!e.hasRanges&&o&&Math.abs(o[1])<=Math.abs(o[0])&&(u=n?.length?n[n.length-1]:o[1]),i.push(new a.A({variableName:l,dimensionName:e.name,values:[u],isSlice:!t.useRangeForRangedDimensionInfo||!!e.hasRanges}))}return i}function y(e){return!!e?.length&&e.some((e=>{if(null==e.values)return!0;const t=e.values.length;return 0===t||t>1||!e.isSlice&&Array.isArray(e.values[0])}))}function p(e,t){if(null==t||null==e)return null;let n=t.variables.map((e=>({...e})));return e?.variables?.length&&(n=n.filter((({name:t})=>e.variables.includes(t))),n.forEach((t=>{t.dimensions=t.dimensions.map((n=>m(n,e,t.name))).filter(i.Ru)}))),n}function v(e,t){const{values:n}=t;if(n?.length){const t=Array.isArray(n[0]),i=Array.isArray(e);return t!==i?-1:t&&i?n.findIndex((t=>t[0]===e[0]&&t[1]===e[1])):n.indexOf(e)}const{extent:i}=t;if(Array.isArray(e)||!i||e<i[0]||e>i[1])return-1;const a=t.interval||1;if("ISO8601"!==t.unit)return Math.round((e-i[0])/a);const r=i[0];let l=-1;switch(t.intervalUnit?.toLowerCase()||"days"){case"seconds":l=Math.round((e-r)/1e3/a);break;case"minutes":l=Math.round((e-r)/6e4/a);break;case"hours":l=Math.round((e-r)/36e5/a);break;case"days":l=Math.round((e-r)/864e5/a);break;case"months":{const t=new Date(e).getUTCFullYear()-new Date(r).getUTCFullYear(),n=new Date(r).getUTCMonth(),i=new Date(e).getUTCMonth();l=0===t?i-n:i+11-n+12*(t-1)}break;case"years":l=Math.round((new Date(e).getUTCFullYear()-new Date(r).getUTCFullYear())/a);break;case"decades":l=Math.round((new Date(e).getUTCFullYear()-new Date(r).getUTCFullYear())/10/a)}return l}function M(e){let t=e.values?.length;if(t)return t;const{extent:n,unit:i}=e,a=e.interval||1,r=n?n[1]-n[0]:0;if("ISO8601"!==i)return Math.round(r/a);switch(e.intervalUnit?.toLowerCase()??"seconds"){case"seconds":t=Math.round(r/1e3/a);break;case"minutes":t=Math.round(r/6e4/a);break;case"hours":t=Math.round(r/36e5/a);break;case"days":t=Math.round(r/864e5/a);break;case"months":if(n){const e=new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear(),i=new Date(n[0]).getUTCMonth(),a=new Date(n[1]).getUTCMonth();t=0===e?a-i+1:a+11-i+12*(e-1)+1}else t=0;break;case"years":t=n?Math.round((new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear())/a):0;break;case"decades":t=n?Math.round((new Date(n[1]).getUTCFullYear()-new Date(n[0]).getUTCFullYear())/10/a):0;break;default:t=0}return t}function b(e){if(2!==e.extent?.length||!e.interval)return[];const{extent:[t,n],interval:i}=e;if("ISO8601"===e.unit){const a=e.intervalUnit?.toLowerCase()??"days";return["decades","years","months","days","hours","minutes","seconds"].includes(a)?function(e,t,n,i){const a=[];let r=e;const l=new Date(e);for(;r<=t;)switch(a.push(r),i){case"decades":l.setUTCFullYear(l.getUTCFullYear()+10*n),r=l.getTime();break;case"years":l.setUTCFullYear(l.getUTCFullYear()+n),r=l.getTime();break;case"months":l.setUTCMonth(l.getUTCMonth()+n),r=l.getTime();break;case"days":r+=864e5*n;break;case"hours":r+=36e5*n;break;case"minutes":r+=6e4*n;break;case"seconds":r+=1e3*n}return 1===a.length?a[1]=t:a[a.length-1]=t,a}(t,n,i,a):[]}const a=Math.round((n-t)/i);return Array.from({length:a},((e,r)=>r===a-1?n:t+r*i))}function w(e,t){let n=0;const i=e[0].variableName,a=[...t.variables].sort(((e,t)=>e.name>t.name?1:-1));for(let r=0;r<a.length;r++){const t=a[r],l=[...t.dimensions].sort(((e,t)=>e.name>t.name?-1:1));if(t.name!==i){n+=l.map((e=>M(e))).reduce(((e,t)=>e*t));continue}const s=l.map((e=>M(e))),o=l.length;for(let i=0;i<o;i++){const t=e.find((e=>e.dimensionName===l[i].name));if(null==t)return null;const a=v(t.values[0],l[i]);if(-1===a)return null;s.shift(),n+=i===o-1?a:a*s.reduce(((e,t)=>e*t))}break}return n}function k(e){return Math.round(24*(e-25569)*3600*1e3)}},49012:(e,t,n)=>{n.d(t,{AL:()=>p,DV:()=>x,ER:()=>a,F_:()=>s,Nd:()=>f,Oo:()=>r,dy:()=>h,eS:()=>w,h4:()=>k,jC:()=>y,nq:()=>d,rZ:()=>m,y6:()=>g});var i=n(24738);const a="Raster.",r="Raster.Dim.",l=".Max",s={servicePixelValue:"Raster.ServicePixelValue",rawServicePixelValue:"Raster.ServicePixelValue.Raw",itemPixelValue:"Raster.ItemPixelValue",magnitude:"Raster.Magnitude",direction:"Raster.Direction",variable:"Raster.Variable"},o=new Map([["quarters","Quarter"],["months","Month"],["weeks","Week of the year"],["days","Day of the year"]]);function u(e,t){return new i.A({name:e,alias:t,domain:null,editable:!1,length:50,type:"string"})}function c(e,t){return new i.A({name:e,alias:t,domain:null,editable:!1,type:"double"})}function m(e){return u(s.servicePixelValue,e??"Service Pixel Value")}function h(e){return u(s.rawServicePixelValue,e??"Raw Service Pixel Value")}function f(){return u(s.itemPixelValue,"Item Pixel Value")}function d(e){return u(`${s.servicePixelValue}.${e}`,e)}function x(e){return c(`${s.magnitude}`,"Magnitude"+(e?` (${e})`:""))}function g(){return c(`${s.direction}`,"Direction (\xb0)")}function y(e){return e.fields.filter((e=>"oid"!==e.type&&"value"!==e.name.toLowerCase())).map((e=>{const t=e.clone();return t.name=`${a}${e.name}`,t}))}function p(e){const t=new Set,n=new Set,a=new Map;return e.variables.forEach((({dimensions:e})=>{e.forEach((e=>{if(e.recurring)a.set(e.name,e.unit);else{const i="ISO8601"===e.unit?.trim()?t:n;i.add(e.name),e.hasRanges&&i.add(`${e.name}${l}`)}}))})),[u(s.variable,"Variable"),...[...t].map((e=>function(e,t){return new i.A({name:e,alias:t,domain:null,editable:!1,type:"date"})}(`${r}${e}`,M(e)))),...[...n].map((e=>c(`${r}${e}`,M(e)))),...[...a].map((([e,t])=>c(`${r}${e}`,v(e,t))))]}function v(e,t){return t=t?.toLowerCase(),t&&o.has(t)?o.get(t):M(e)}function M(e){const t=e.endsWith(l),n=t?e.slice(0,-4):e,i="StdTime"===n?"Standard Time":"StdZ"===n?"Standard Z":n;return t?`${i} Max`:i}function b(e,t){return t?new Date(e):e}function w(e,t,n){n?.length&&(t[s.variable]=n[0].variableName,n.forEach((({dimensionName:n,values:i})=>{if(n&&i?.length){const a=`${r}${n}`,s=e.find((({name:e})=>e===a));if(!s)return;const o="date"===s.type,u=i[0];if(Array.isArray(u)){if(t[`${r}${n}`]=b(u[0],o),null!=u[1]){const i=`${r}${n}${l}`;if(e.some((({name:e})=>e===i))){const e=b(u[1],o);t[i]=e}}}else t[`${r}${n}`]=b(u,o)}})))}function k(e,t){if(t.pixelType.startsWith("f")&&e.forEach((({format:e,fieldName:t})=>{e&&t&&/^raster\.(item|service)pixelvalue/i.test(t)&&(e.places=2)})),t.multidimensionalInfo){const n=t.multidimensionalInfo.variables.flatMap((({dimensions:e})=>e));e.forEach((({format:e,fieldName:t})=>{if(e&&t?.startsWith(r)){const i=t.slice(r.length),a=`${i}${l}`,s=n.find((({name:e})=>e===i||e===a));s?.values?.every((e=>Number.isInteger(e)))&&(e.places=0)}}))}}},5572:(e,t,n)=>{n.d(t,{$Q:()=>s,Sd:()=>c,b5:()=>u,b7:()=>m});var i=n(92976),a=n(84698),r=n(97066),l=n(71509);async function s(e,t,i){if("extent"===i.type)return function(e,t,n){const{width:i,height:a}=e,r=new Uint8Array(i*a),s=t.width/i,o=t.height/a;if(n.width/s<.5||n.height/o<.5)return new l.A({pixelType:e.pixelType,width:i,height:a,mask:r,pixels:[...e.pixels]});const{xmin:u,xmax:c,ymin:m,ymax:h}=t,{xmin:f,xmax:d,ymin:x,ymax:g}=n,y=Math.max(u,f),p=Math.min(c,d),v=Math.max(m,x),M=Math.min(h,g),b=.5*s,w=.5*o;if(p-y<b||M-v<w||p<u+b||y>c-b||v>h-w||M<m+w)return new l.A({pixelType:e.pixelType,width:i,height:a,mask:r,pixels:[...e.pixels]});const k=Math.max(0,(y-u)/s),T=Math.min(i,Math.max(0,(p-u)/s)),A=Math.max(0,(h-M)/o),C=Math.min(a,Math.max(0,(h-v)/o)),D=Math.round(k),N=Math.round(T)-1,S=Math.round(A),R=Math.round(C)-1;if(D===N&&k%1>.5&&T%1<.5||S===R&&A%1>.5&&C%1<.5)return new l.A({pixelType:e.pixelType,width:i,height:a,mask:r,pixels:[...e.pixels]});if(0===D&&0===S&&N===i&&R===a)return e;const _=e.mask;for(let l=S;l<=R;l++)for(let e=D;e<=N;e++){const t=l*i+e;r[t]=_?_[t]:255}return new l.A({pixelType:e.pixelType,width:i,height:a,mask:r,pixels:[...e.pixels]})}(e,t,i);const{width:a,height:r}=e,s=new Uint8Array(a*r);return(await Promise.all([n.e(2076),n.e(8318)]).then(n.bind(n,68318))).execute(t,i)?"polyline"===i.type?function(e,t,n){const{width:i,height:a}=e,r=new Uint8Array(i*a),s=t.width/i,o=t.height/a,{xmin:u,ymax:c}=t,{paths:m}=n,h=e.mask;for(let l=0;l<m.length;l++){const e=m[l];for(let t=0;t<e.length-1;t++){const[n,l]=e[t],[m,f]=e[t+1];let d=Math.floor((c-l)/o),x=Math.floor((c-f)/o);if(x<d){const e=d;d=x,x=e}d=Math.max(0,d),x=Math.min(a-1,x);const g=(m-n)/(f-l);for(let e=d;e<=x;e++){const t=e===d?Math.max(l,f):(a+1-e)*o,c=e===x?Math.min(l,f):t-o;let y=f===l?Math.floor((n-u)/s):Math.floor((g*(t-l)+n-u)/s),p=f===l?Math.floor((m-u)/s):Math.floor((g*(c-l)+n-u)/s);if(p<y){const e=y;y=p,p=e}const v=e*i;y=Math.max(0,y),p=Math.min(i-1,p);for(let e=v+y;e<=v+p;e++)r[e]=h?h[e]:255}}}return new l.A({pixelType:e.pixelType,width:i,height:a,mask:r,pixels:[...e.pixels]})}(e,t,i):(await Promise.all([n.e(2076),n.e(9849)]).then(n.bind(n,9849))).execute(i,t)?e:o(e,t,i):new l.A({pixelType:e.pixelType,width:a,height:r,mask:s,maskIsAlpha:!1,pixels:[...e.pixels]})}function o(e,t,n){if(!e)return e;const{width:i,height:a}=e,r=u({geometry:n,size:[i,a],srcExtent:t,srcMask:e.mask});return new l.A({pixelType:e.pixelType,width:i,height:a,mask:r,maskIsAlpha:!1,pixels:[...e.pixels]})}function u(e){const{geometry:t,size:n,srcExtent:i,srcMask:a}=e,[r,l]=n;let s;const o=i.width/r,u=i.height/l,{xmin:c,ymax:m}=i;if("extent"===t.type){const e=(t.xmin-c)/o,n=(t.xmax-c)/o,i=(m-t.ymax)/u,a=(m-t.ymin)/u;s=[[[e,i],[e,a],[n,a],[n,i],[e,i]]]}else s=t.rings.map((e=>e.map((([e,t])=>[(e-c)/o,(m-t)/u]))));return function(e,t,n){const[i,a]=t,r=new OffscreenCanvas(i,a).getContext("2d");r.fillStyle="#f00",r.beginPath(),e.forEach((e=>{r.moveTo(e[0][0],e[0][1]);for(let t=0;t<e.length;t++)r.lineTo(e[t][0],e[t][1]);r.closePath()})),r.fill();const l=r.getImageData(0,0,i,a).data,s=i*a,o=new Uint8Array(s);let u=!1;for(let c=0;c<s;c++)n&&!n[c]||(l[4*c+3]>127?o[c]=255:u=!0);return u||n?o:void 0}(s,n,a)}function c(e,t){const{extent:n}=m(e,t,new r.A({x:e.pixelSize.x,y:e.pixelSize.y,spatialReference:e.spatialReference})),{extent:i}=e.extent;if(n.xmax=Math.min(n.xmax,i.xmax),n.ymax=Math.min(n.ymax,i.ymax),n.xmin<n.xmax&&n.ymin<n.ymax){const{x:t,y:i}=e.pixelSize,a=Math.round(n.width/t),r=Math.round(n.height/i);e.extent=n,e.width=a,e.height=r}}function m(e,t,n,r=!0){const{spatialReference:l}=e,{x:s,y:o}=function(e,t){if(e.spatialReference.equals(t))return e;const n=(0,i.GA)(e.spatialReference),a=(0,i.GA)(t);if(n===a)return e;const r=n/a;return{x:e.x*r,y:e.y*r}}(n,l);let u,c,m;const h="extent"===t.type?t:t.extent;let{xmin:f,xmax:d,ymax:x,ymin:g}=h;const{xmin:y,ymax:p}=e.extent;return r?(f=y+(f>y?s*Math.round((f-y)/s):0),x=p-(x<p?o*Math.round((p-x)/o):0),d=y+(d>y?s*Math.round((d-y)/s):0),g=p-(g<p?o*Math.round((p-g)/o):0),u=new a.A({xmin:f,ymax:x,xmax:d,ymin:g,spatialReference:l}),c=Math.round(u.width/s),m=Math.round(u.height/o)):(c=Math.floor((d-f)/s+.8),m=Math.floor((x-g)/o+.8),f=y+(f>y?s*Math.floor((f-y)/s+.1):0),x=p-(x<p?o*Math.floor((p-x)/o+.1):0),d=f+c*s,g=x-m*o,u=new a.A({xmin:f,ymax:x,xmax:d,ymin:g,spatialReference:l})),{extent:u,width:c,height:m}}}}]);