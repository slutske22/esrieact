"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3375],{45626:(e,t,n)=>{n.d(t,{O:()=>l});var r=n(62188),o=n(21566),s=n(86330),i=n(57592);function a(){return c(new s.P,-1,Number.NaN)}function c(e,t,n){return{m_coordinate:e.clone(),m_vertexIndex:t,m_geometryIndex:0,m_distance:n,m_bRightSide:!1,isEmpty:u}}function u(){return Number.isNaN(this.m_distance)}function g(e,t,n=-1,a=-1){if(e.isEmpty())return 3;const c=e.getGeometryType();if((0,r.f)(c))return function(e,t,n,o){if(n>=0||o>=0)return(0,r.a)("");if(e.isDegenerate(0))return e.getStartXY().equals(t)?2:3;if(!e.isCurve()){const n=s.P.orientationRobust(t,e.getStartXY(),e.getEndXY());return n<0?1:n>0?0:2}const i=e.getClosestCoordinate(t,!1),a=e.getTangent(i),c=e.getCoord2D(i),u=s.P.orientationRobust(t,c,c.add(a));return u<0?1:u>0?0:2}(e,t,n,a);if(c===r.G.enumPolygon)return function(e,t,n,s){(n>=0||s>=0)&&(0,r.a)("");const a=new o.Envelope2D;e.queryEnvelope(a);const c=(0,i.h)(e,t,0);return 0===c?0:1===c?1:2}(e,t,n,a);if(c===r.G.enumPolyline)return function(e,t,n,o){(n<0&&o>=0||n>=0&&o<0)&&(0,r.a)("");const i=e.querySegmentIterator();if(n<0){let e=Number.MAX_VALUE,r=0;for(;i.nextPath();)for(;i.hasNextSegment();){const a=i.nextSegment(),c=a.getClosestCoordinate(t,!1),u=a.getCoord2D(c),g=s.P.sqrDistance(u,t);g<e?(r=1,n=i.getStartPointIndex(),o=i.getPathIndex(),e=g):g===e&&r++}if(0===r)return 3;if(1===r)return i.resetToVertex(n,o),g(i.nextSegment(),t)}const a=function(e,t,n,r){const o={i1:-1,i2:-1,bRight1:!1,bRight2:!1};if(o.i1=function(e,t,n){for(e.resetToVertex(t,n);e.hasNextSegment();)if(!e.nextSegment().isDegenerate(0))return e.getStartPointIndex();for(e.resetToVertex(t,n);e.hasPreviousSegment();)if(!e.previousSegment().isDegenerate(0))return e.getStartPointIndex();return-1}(t,n,r),-1!==o.i1){t.resetToVertex(o.i1,-1);const n=t.nextSegment(),r=n.getClosestCoordinate(e,!1),i=n.getCoord2D(r),a=s.P.sqrDistance(i,e);{const t=i.clone();t.subThis(n.getStartXY());const r=e.clone();r.subThis(n.getStartXY()),o.bRight1=t.crossProduct(r)<0}if(o.i2=function(e,t){for(e.resetToVertex(t,-1),e.nextSegment();e.hasNextSegment();)if(!e.nextSegment().isDegenerate(0))return e.getStartPointIndex();return-1}(t,o.i1),-1!==o.i2){t.resetToVertex(o.i2,-1);const n=t.nextSegment(),r=n.getClosestCoordinate(e,!1),i=n.getCoord2D(r);if(s.P.sqrDistance(i,e)>a)o.i2=-1;else{const t=i.clone();t.subThis(n.getStartXY());const r=e.clone();r.subThis(n.getStartXY()),o.bRight2=t.crossProduct(r)<0}}if(-1===o.i2&&(o.i2=function(e,t){for(e.resetToVertex(t,-1);e.hasPreviousSegment();)if(!e.previousSegment().isDegenerate(0))return e.getStartPointIndex();return-1}(t,o.i1),-1!==o.i2)){t.resetToVertex(o.i2,-1);const n=t.nextSegment(),r=n.getClosestCoordinate(e,!1),i=n.getCoord2D(r);if(s.P.sqrDistance(i,e)>a)o.i2=-1;else{const t=i.clone();t.subThis(n.getStartXY());const r=e.clone();r.subThis(n.getStartXY()),o.bRight2=t.crossProduct(r)<0;const s=o.i1;o.i1=o.i2,o.i2=s;const a=o.bRight1;o.bRight1=o.bRight2,o.bRight2=a}}}return o}(t,i,n,o);if(-1!==a.i1&&-1===a.i2)return a.bRight1?1:0;if(-1!==a.i1&&-1!==a.i2){if(a.bRight1===a.bRight2)return a.bRight1?1:0;{i.resetToVertex(a.i1,-1);const e=i.nextSegment().getTangent(1);i.resetToVertex(a.i2,-1);const t=i.nextSegment().getTangent(0);return e.crossProduct(t)>=0?1:0}}return i.resetToVertex(n,o),g(i.nextSegment(),t)}(e,t,n,a);if(c===r.G.enumEnvelope){const n=new o.Envelope2D;return e.queryEnvelope(n),n.contains(t)?n.containsExclusive(t)?1:2:0}return 3}var m=n(75992);class l{getOperatorType(){return 10500}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}getNearestCoordinate(e,t,n,o){if(t.isNAN()&&(0,r.a)("NAN xy coordinates are not allowed"),e.isEmpty())return a();switch(e.getGeometryType()){case r.G.enumPoint:return this.pointGetNearestVertex(e,t);case r.G.enumMultiPoint:return this.multiVertexGetNearestVertex(e,t);case r.G.enumPolyline:case r.G.enumPolygon:return this.multiPathGetNearestCoordinate(e,t,n,o);default:(0,r.t)("")}}getNearestVertex(e,t){if(t.isNAN()&&(0,r.a)("NAN xy coordinates are not allowed"),e.isEmpty())return a();switch(e.getGeometryType()){case r.G.enumPoint:return this.pointGetNearestVertex(e,t);case r.G.enumMultiPoint:case r.G.enumPolyline:case r.G.enumPolygon:return this.multiVertexGetNearestVertex(e,t);default:(0,r.t)("")}}getNearestVertices(e,t,n,o){if(0===o&&(0,r.a)(""),t.isNAN()&&(0,r.a)("NAN xy coordinates are not allowed"),e.isEmpty())return[];switch(e.getGeometryType()){case r.G.enumPoint:return this.pointGetNearestVertices(e,t,n,o);case r.G.enumMultiPoint:case r.G.enumPolyline:case r.G.enumPolygon:return this.multiVertexGetNearestVertices(e,t,n,o);default:(0,r.t)("")}}multiPathGetNearestCoordinate(e,t,n,a){if(e.getGeometryType()===r.G.enumPolygon&&n){const n=new o.Envelope2D;e.queryEnvelope(n);const r=(0,m.a)(null,n,!1);let s;if(s=(0,i.h)(e,t,a?0:r),0!==s){const e=c(t,-1,0);return a&&(e.m_bRightSide=!0),e}}const u=e.querySegmentIterator(),l=new s.P;let d=-1,f=-1,x=Number.MAX_VALUE,h=0;for(;u.nextPath();)for(;u.hasNextSegment();){const e=u.nextSegment(),n=e.getClosestCoordinate(t,!1),r=e.getCoord2D(n),o=s.P.sqrDistance(r,t);o<x?(h=1,l.assign(r),d=u.getStartPointIndex(),f=u.getPathIndex(),x=o):o===x&&h++}-1===d&&(0,r.a)("");const P=c(l,d,Math.sqrt(x));if(a)if(e.getGeometryType()!==r.G.enumPolygon){let n=!1;if(h>1){const r=g(e,t,d,f);n=0!==r&&3!==r}else{u.resetToVertex(d,f);n=0!==g(u.nextSegment(),t)}P.m_bRightSide=n}else n||0!==(0,i.h)(e,t,0)&&(P.m_bRightSide=!0);return P}pointGetNearestVertex(e,t){const n=e.getXY();return c(n,0,s.P.distance(n,t))}multiVertexGetNearestVertex(e,t){const n=e.getAttributeStreamRef(0),r=e.getPointCount();let o=-1;const i=new s.P;let a=Number.MAX_VALUE;const u=new s.P;for(let c=0;c<r;c++){n.queryPoint2D(2*c,u);const e=s.P.sqrDistance(u,t);e<a&&(i.assign(u),o=c,a=e)}return c(i,o,Math.sqrt(a))}pointGetNearestVertices(e,t,n,r){const o=[];if(0!==r){const r=n*n,i=e.getXY(),a=s.P.sqrDistance(i,t);a<=r&&o.push(c(i,0,Math.sqrt(a)))}return o}multiVertexGetNearestVertices(e,t,n,r){const o=[];if(0!==r){const i=e.getAttributeStreamRef(0),a=e.getPointCount();o.length=r+1;const u=n*n;for(let e=0;e<a;e++){const n=i.read(2*e),r=i.read(2*e+1),a=t.x-n,g=t.y-r,m=a*a+g*g;m<=u&&o.push(c(s.P.construct(n,r),e,Math.sqrt(m)))}o.sort(((e,t)=>e.m_distance-t.m_distance))}return o.slice(0,r)}}},88127:(e,t,n)=>{n.d(t,{a:()=>u,b:()=>g,g:()=>c,p:()=>l,s:()=>m});var r=n(45626),o=n(92976),s=n(62900),i=n(69874);const a=new r.O;function c(e,t,n={}){const{calculateLeftRightSide:r=!1,testPolygonInterior:c=!0,unit:u}=n,g=a.getNearestCoordinate((0,s.fromGeometry)(e),(0,s.fromPoint)(t).getXY(),c,r);if(u&&g.m_distance){const t=(0,s.getSpatialReference)(e);g.m_distance=(0,o.PQ)(g.m_distance,t,u)}return(0,i.C)(g,e,r)}function u(e,t,n={}){const{unit:r}=n,c=a.getNearestVertex((0,s.fromGeometry)(e),(0,s.fromPoint)(t).getXY());if(r&&c.m_distance){const t=(0,s.getSpatialReference)(e);c.m_distance=(0,o.PQ)(c.m_distance,t,r)}return(0,i.C)(c,e)}function g(e,t,n,r,c={}){const{unit:u}=c,g=(0,s.getSpatialReference)(e);return u&&n&&(n=(0,o.UW)(n,u,g)),a.getNearestVertices((0,s.fromGeometry)(e),(0,s.fromPoint)(t).getXY(),n,r).map((t=>(u&&t.m_distance&&(t.m_distance=(0,o.PQ)(t.m_distance,g,u)),(0,i.C)(t,e))))}const m=a.supportsCurves(),l=Object.freeze(Object.defineProperty({__proto__:null,getNearestCoordinate:c,getNearestVertex:u,getNearestVertices:g,supportsCurves:m},Symbol.toStringTag,{value:"Module"}))},63375:(e,t,n)=>{n.r(t),n.d(t,{getNearestCoordinate:()=>r.g,getNearestVertex:()=>r.a,getNearestVertices:()=>r.b,supportsCurves:()=>r.s});n(45626),n(92976),n(62900),n(69874);var r=n(88127)},69874:(e,t,n)=>{n.d(t,{C:()=>o});var r=n(62900);function o(e,t,n=!1){const o=(0,r.toPoint)(e.m_coordinate,(0,r.getSpatialReference)(t)),s=e.m_distance,i=e.isEmpty(),a=e.m_bRightSide;return{coordinate:o,distance:s,isEmpty:i,...n&&{isRightSide:a},vertexIndex:e.m_vertexIndex}}}}]);