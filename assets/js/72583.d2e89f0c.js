"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[72583],{93321:(t,e,r)=>{r.d(e,{A:()=>y});var o,i=r(66866),n=r(19251),s=r(21564),a=(r(39831),r(539),r(28902)),l=r(63863),u=r(42422),c=r(49900),d=r(96220),h=r(21877),f=r(73446);let p=o=class extends h.A{constructor(){super(...arguments),this.description=null,this.label=null,this.minValue=0,this.maxValue=0,this.color=null}clone(){return new o({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:(0,n.o8)(this.color)})}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue",isRequired:!0}}})],p.prototype,"minValue",void 0),(0,i._)([(0,s.MZ)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue",isRequired:!0}}})],p.prototype,"maxValue",void 0),(0,i._)([(0,s.MZ)({type:d.A,json:{type:[f.jz],write:{isRequired:!0}}})],p.prototype,"color",void 0),p=o=(0,i._)([(0,l.$)("esri.renderers.support.pointCloud.ColorClassBreakInfo")],p);const b=p;var m;let y=m=class extends u.A{constructor(t){super(t),this.type="point-cloud-class-breaks",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.colorClassBreakInfos=null}clone(){return new m({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:(0,n.o8)(this.colorClassBreakInfos),legendOptions:(0,n.o8)(this.legendOptions)})}};(0,i._)([(0,a.e)({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],y.prototype,"type",void 0),(0,i._)([(0,s.MZ)({json:{write:{isRequired:!0}},type:String})],y.prototype,"field",void 0),(0,i._)([(0,s.MZ)({type:c.A,json:{write:!0}})],y.prototype,"legendOptions",void 0),(0,i._)([(0,s.MZ)({type:u.A.fieldTransformTypeKebabDict.apiValues,json:{type:u.A.fieldTransformTypeKebabDict.jsonValues,read:u.A.fieldTransformTypeKebabDict.read,write:u.A.fieldTransformTypeKebabDict.write}})],y.prototype,"fieldTransformType",void 0),(0,i._)([(0,s.MZ)({type:[b],json:{write:{isRequired:!0}}})],y.prototype,"colorClassBreakInfos",void 0),y=m=(0,i._)([(0,l.$)("esri.renderers.PointCloudClassBreaksRenderer")],y)},42422:(t,e,r)=>{r.d(e,{A:()=>M});var o,i=r(66866),n=r(59851),s=r(21877),a=r(19251),l=r(21564),u=(r(39831),r(539),r(63863));r(9272);let c=o=class extends s.A{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new o({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};(0,i._)([(0,l.MZ)({type:String,json:{write:{isRequired:!0}}})],c.prototype,"field",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],c.prototype,"minValue",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],c.prototype,"maxValue",void 0),c=o=(0,i._)([(0,u.$)("esri.renderers.support.pointCloud.ColorModulation")],c);const d=c,h=new n.J({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});let f=class extends s.A{};(0,i._)([(0,l.MZ)({type:h.apiValues,readOnly:!0,nonNullable:!0,json:{type:h.jsonValues,read:!1,write:{writer:h.write,isRequired:!0}}})],f.prototype,"type",void 0),f=(0,i._)([(0,u.$)("esri.renderers.support.pointCloud.PointSizeAlgorithm")],f);const p=f;var b,m=r(28902);let y=b=class extends p{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new b({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};(0,i._)([(0,m.e)({pointCloudFixedSizeAlgorithm:"fixed-size"})],y.prototype,"type",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],y.prototype,"size",void 0),(0,i._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],y.prototype,"useRealWorldSymbolSizes",void 0),y=b=(0,i._)([(0,u.$)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],y);const v=y;var A;let _=A=class extends p{constructor(){super(...arguments),this.type="splat",this.scaleFactor=1}clone(){return new A({scaleFactor:this.scaleFactor})}};(0,i._)([(0,m.e)({pointCloudSplatAlgorithm:"splat"})],_.prototype,"type",void 0),(0,i._)([(0,l.MZ)({type:Number,value:1,nonNullable:!0,json:{write:{isRequired:!0}}})],_.prototype,"scaleFactor",void 0),_=A=(0,i._)([(0,u.$)("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],_);const T={key:"type",base:p,typeMap:{"fixed-size":v,splat:_}},g=(0,n.O)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let M=class extends s.A{constructor(t){super(t),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:(0,a.o8)(this.pointSizeAlgorithm),colorModulation:(0,a.o8)(this.colorModulation),pointsPerInch:(0,a.o8)(this.pointsPerInch)}}};(0,i._)([(0,l.MZ)({type:g.apiValues,readOnly:!0,nonNullable:!0,json:{type:g.jsonValues,read:!1,write:{writer:g.write,isRequired:!0}}})],M.prototype,"type",void 0),(0,i._)([(0,l.MZ)({types:T,json:{write:!0}})],M.prototype,"pointSizeAlgorithm",void 0),(0,i._)([(0,l.MZ)({type:d,json:{write:!0}})],M.prototype,"colorModulation",void 0),(0,i._)([(0,l.MZ)({json:{write:!0},nonNullable:!0,type:Number})],M.prototype,"pointsPerInch",void 0),M=(0,i._)([(0,u.$)("esri.renderers.PointCloudRenderer")],M),(M||(M={})).fieldTransformTypeKebabDict=new n.J({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"})},36275:(t,e,r)=>{r.d(e,{A:()=>h});var o,i=r(66866),n=r(19251),s=r(21564),a=(r(39831),r(539),r(28902)),l=r(63863),u=r(42422),c=r(49900),d=r(5001);let h=o=class extends u.A{constructor(t){super(t),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new o({...this.cloneProperties(),field:(0,n.o8)(this.field),fieldTransformType:(0,n.o8)(this.fieldTransformType),stops:(0,n.o8)(this.stops),legendOptions:(0,n.o8)(this.legendOptions)})}};(0,i._)([(0,a.e)({pointCloudStretchRenderer:"point-cloud-stretch"})],h.prototype,"type",void 0),(0,i._)([(0,s.MZ)({json:{write:{isRequired:!0}},type:String})],h.prototype,"field",void 0),(0,i._)([(0,s.MZ)({type:c.A,json:{write:!0}})],h.prototype,"legendOptions",void 0),(0,i._)([(0,s.MZ)({type:u.A.fieldTransformTypeKebabDict.apiValues,json:{type:u.A.fieldTransformTypeKebabDict.jsonValues,read:u.A.fieldTransformTypeKebabDict.read,write:u.A.fieldTransformTypeKebabDict.write}})],h.prototype,"fieldTransformType",void 0),(0,i._)([(0,s.MZ)({type:[d.A],json:{write:{isRequired:!0}}})],h.prototype,"stops",void 0),h=o=(0,i._)([(0,l.$)("esri.renderers.PointCloudStretchRenderer")],h)},12954:(t,e,r)=>{r.d(e,{A:()=>y});var o,i=r(66866),n=r(19251),s=r(21564),a=(r(39831),r(539),r(28902)),l=r(63863),u=r(42422),c=r(49900),d=r(96220),h=r(21877),f=r(73446);let p=o=class extends h.A{constructor(){super(...arguments),this.description=null,this.label=null,this.values=null,this.color=null}clone(){return new o({description:this.description,label:this.label,values:(0,n.o8)(this.values),color:(0,n.o8)(this.color)})}};(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],p.prototype,"description",void 0),(0,i._)([(0,s.MZ)({type:String,json:{write:!0}})],p.prototype,"label",void 0),(0,i._)([(0,s.MZ)({type:[String],json:{write:{isRequired:!0}}})],p.prototype,"values",void 0),(0,i._)([(0,s.MZ)({type:d.A,json:{type:[f.jz],write:{isRequired:!0}}})],p.prototype,"color",void 0),p=o=(0,i._)([(0,l.$)("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],p);const b=p;var m;let y=m=class extends u.A{constructor(t){super(t),this.type="point-cloud-unique-value",this.field=null,this.fieldTransformType=null,this.colorUniqueValueInfos=null,this.legendOptions=null}clone(){return new m({...this.cloneProperties(),field:(0,n.o8)(this.field),fieldTransformType:(0,n.o8)(this.fieldTransformType),colorUniqueValueInfos:(0,n.o8)(this.colorUniqueValueInfos),legendOptions:(0,n.o8)(this.legendOptions)})}};(0,i._)([(0,a.e)({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],y.prototype,"type",void 0),(0,i._)([(0,s.MZ)({json:{write:{isRequired:!0}},type:String})],y.prototype,"field",void 0),(0,i._)([(0,s.MZ)({type:u.A.fieldTransformTypeKebabDict.apiValues,json:{type:u.A.fieldTransformTypeKebabDict.jsonValues,read:u.A.fieldTransformTypeKebabDict.read,write:u.A.fieldTransformTypeKebabDict.write}})],y.prototype,"fieldTransformType",void 0),(0,i._)([(0,s.MZ)({type:[b],json:{write:{isRequired:!0}}})],y.prototype,"colorUniqueValueInfos",void 0),(0,i._)([(0,s.MZ)({type:c.A,json:{write:!0}})],y.prototype,"legendOptions",void 0),y=m=(0,i._)([(0,l.$)("esri.renderers.PointCloudUniqueValueRenderer")],y)},72483:(t,e,r)=>{r.r(e),r.d(e,{default:()=>M});var o=r(85569),i=r(86942),n=r(42927),s=r(38911),a=r(24121),l=r(3912),u=r(78983),c=r(84119),d=(r(39831),r(93321)),h=r(36275),f=r(12954),p=r(44138),b=r(68538);function m(t,e,r){return t?.attributeInfo.useElevation?e?function(t,e){const r=new Float64Array(e);for(let o=0;o<e;o++)r[o]=t[3*o+2];return r}(e,r):null:t?.attributeInfo.storageInfo?(0,p.m0)(t.attributeInfo.storageInfo,t.buffer,r,!0):null}function y(t){switch(t){default:case null:case"none":return t=>t;case"low-four-bit":return t=>15&t;case"high-four-bit":return t=>(240&t)>>4;case"absolute-value":return t=>Math.abs(t);case"modulo-ten":return t=>t%10}}function v(t){let e=0;for(const r of t||[])e|=1<<r;return e}var A=r(29709);class _{transform(t){const e=this._transform(t),r=[e.points.buffer,e.rgb.buffer];null!=e.pointIdFilterMap&&r.push(e.pointIdFilterMap.buffer);for(const o of e.attributes)"buffer"in o.values&&(0,i.mw)(o.values.buffer)&&o.values.buffer!==e.rgb.buffer&&r.push(o.values.buffer);return Promise.resolve({result:e,transferList:r})}_transform(t){const e=function(t,e){if(null==t.encoding||""===t.encoding){const r=(0,p.wH)(e,t);if(null==r.vertexAttributes.position)return;const o=(0,p.MA)(e,r.vertexAttributes.position),i=r.header.fields,n=[i.offsetX,i.offsetY,i.offsetZ],s=[i.scaleX,i.scaleY,i.scaleZ],a=o.length/3,l=new Float64Array(3*a);for(let t=0;t<a;t++)l[3*t]=o[3*t]*s[0]+n[0],l[3*t+1]=o[3*t+1]*s[1]+n[1],l[3*t+2]=o[3*t+2]*s[2]+n[2];return l}if("lepcc-xyz"===t.encoding)return(0,b.Me)(e).result}(t.schema,t.geometryBuffer);let r=e.length/3,i=null;const n=new Array,s=m(t.primaryAttributeData,e,r);null!=t.primaryAttributeData&&s&&n.push({attributeInfo:t.primaryAttributeData.attributeInfo,values:s});const a=m(t.modulationAttributeData,e,r);null!=t.modulationAttributeData&&a&&n.push({attributeInfo:t.modulationAttributeData.attributeInfo,values:a});let l=function(t,e,r,o){const{rendererJSON:i,isRGBRenderer:n}=t;let s=null,a=null;if(e&&n)s=e;else if(e&&"pointCloudUniqueValueRenderer"===i?.type){a=f.A.fromJSON(i);const t=a.colorUniqueValueInfos;s=new Uint8Array(3*o);const r=y(a.fieldTransformType);for(let i=0;i<o;i++){const o=(r?r(e[i]):e[i])+"";for(let e=0;e<t.length;e++)if(t[e].values.includes(o)){s[3*i]=t[e].color.r,s[3*i+1]=t[e].color.g,s[3*i+2]=t[e].color.b;break}}}else if(e&&"pointCloudStretchRenderer"===i?.type){a=h.A.fromJSON(i);const t=a.stops;s=new Uint8Array(3*o);const r=y(a.fieldTransformType);for(let i=0;i<o;i++){const o=r?r(e[i]):e[i],n=t.length-1;if(o<t[0].value)s[3*i]=t[0].color.r,s[3*i+1]=t[0].color.g,s[3*i+2]=t[0].color.b;else if(o>=t[n].value)s[3*i]=t[n].color.r,s[3*i+1]=t[n].color.g,s[3*i+2]=t[n].color.b;else for(let e=1;e<t.length;e++)if(o<t[e].value){const r=(o-t[e-1].value)/(t[e].value-t[e-1].value);s[3*i]=t[e].color.r*r+t[e-1].color.r*(1-r),s[3*i+1]=t[e].color.g*r+t[e-1].color.g*(1-r),s[3*i+2]=t[e].color.b*r+t[e-1].color.b*(1-r);break}}}else if(e&&"pointCloudClassBreaksRenderer"===i?.type){a=d.A.fromJSON(i);const t=a.colorClassBreakInfos;s=new Uint8Array(3*o);const r=y(a.fieldTransformType);for(let i=0;i<o;i++){const o=r?r(e[i]):e[i];for(let e=0;e<t.length;e++)if(o>=t[e].minValue&&o<=t[e].maxValue){s[3*i]=t[e].color.r,s[3*i+1]=t[e].color.g,s[3*i+2]=t[e].color.b;break}}}else s=new Uint8Array(3*o).fill(255);if(r&&a?.colorModulation){const t=a.colorModulation.minValue,e=a.colorModulation.maxValue,i=.3;for(let n=0;n<o;n++){const o=r[n],a=o>=e?1:o<=t?i:i+(1-i)*(o-t)/(e-t);s[3*n]=a*s[3*n],s[3*n+1]=a*s[3*n+1],s[3*n+2]=a*s[3*n+2]}}return s}(t.rendererInfo,s,a,r);if(t.filterInfo&&t.filterInfo.length>0&&null!=t.filterAttributesData){const s=t.filterAttributesData.filter(o.Ru).map((t=>{const o=m(t,e,r),i={attributeInfo:t.attributeInfo,values:o};return n.push(i),i}));i=new Uint32Array(r),r=function(t,e,r,o,i){const n=t.length/3;let s=0;for(let a=0;a<n;a++){let n=!0;for(let t=0;t<o.length&&n;t++){const{filterJSON:e}=o[t],r=i[t].values[a];switch(e.type){case"pointCloudValueFilter":{const t="exclude"===e.mode;e.values.includes(r)===t&&(n=!1);break}case"pointCloudBitfieldFilter":{const t=v(e.requiredSetBits),o=v(e.requiredClearBits);(r&t)===t&&!(r&o)||(n=!1);break}case"pointCloudReturnFilter":{const t=15&r,o=r>>>4&15,i=o>1,s=1===t,a=t===o;let l=!1;for(const r of e.includedReturns)if("last"===r&&a||"firstOfMany"===r&&s&&i||"lastOfMany"===r&&a&&i||"single"===r&&!i){l=!0;break}l||(n=!1);break}}}n&&(r[s]=a,t[3*s]=t[3*a],t[3*s+1]=t[3*a+1],t[3*s+2]=t[3*a+2],e[3*s]=e[3*a],e[3*s+1]=e[3*a+1],e[3*s+2]=e[3*a+2],s++)}return s}(e,l,i,t.filterInfo,s)}for(const o of t.userAttributesData){const t=m(o,e,r);n.push({attributeInfo:o.attributeInfo,values:t})}3*r<l.length&&(l=new Uint8Array(l.buffer.slice(0,3*r))),function(t,e,r){if(0!==r)for(let o=0;o<e;o++)t[3*o+2]+=r}(e,r,t.elevationOffset);const c=T(e,r,A.ab.fromData(t.obbData),u.A.fromJSON(t.inSR),u.A.fromJSON(t.outSR));return{obbData:t.obbData,points:c,rgb:l,attributes:n,pointIdFilterMap:i}}}function T(t,e,r,o,i){if(!(0,c.projectBuffer)(t,o,0,t,i,0,e))throw new Error("Can't reproject");const s=(0,l.o8)(r.center),u=(0,l.vt)(),d=(0,l.vt)(),h=(0,l.o8)(r.halfSize);(0,n.Xr)(g,r.quaternion);const f=new Float32Array(3*e);for(let n=0;n<e;n++){let e=3*n;u[0]=t[e]-s[0],u[1]=t[e+1]-s[1],u[2]=t[e+2]-s[2],(0,a.v)(d,u,g),h[0]=Math.max(h[0],Math.abs(d[0])),h[1]=Math.max(h[1],Math.abs(d[1])),h[2]=Math.max(h[2],Math.abs(d[2])),f[e++]=u[0],f[e++]=u[1],f[e]=u[2]}return r.halfSize=h,f}const g=(0,s.vt)();function M(){return new _}},29709:(t,e,r)=>{r.d(e,{ab:()=>_t,gm:()=>Ct});var o=r(25423),i=r(78607),n=r(86128),s=r(42927),a=r(38911),l=r(24121),u=r(58359),c=r(2662),d=r(28152),h=r(47936),f=r(32937),p=r(59538),b=r(84119),m=r(12943),y=r(38774),v=r(87926),A=r(45573),_=r(10714),T=r(59646),g=r(70807);const M=1e-6,I=(0,u.vt)(),S=(0,u.vt)();function R(t,e,r,o,i,n,s,a,l,u){return function(t,e,r){let o=vt(t.maxVert[0],t.minVert[0]),i=0;for(let n=1;n<7;++n){const e=vt(t.maxVert[n],t.minVert[n]);e>o&&(o=e,i=n)}pt(e,t.minVert[i]),pt(r,t.maxVert[i])}(t,o,i),vt(o,i)<M?1:(ht(s,o,i),mt(s,s),function(t,e,r,o){const{data:i,size:n}=t;let s=Number.NEGATIVE_INFINITY,a=0;for(let l=0;l<i.length;l+=n){D[0]=i[l]-e[0],D[1]=i[l+1]-e[1],D[2]=i[l+2]-e[2];const t=r[0]*D[0]+r[1]*D[1]+r[2]*D[2],o=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],n=D[0]*D[0]+D[1]*D[1]+D[2]*D[2]-t*t/o;n>s&&(s=n,a=l)}return pt(o,i,a),s}(e,o,s,n)<M?2:(ht(a,i,n),mt(a,a),ht(l,n,o),mt(l,l),bt(r,a,s),mt(r,r),k(e,r,s,a,l,u),0))}const O=(0,u.vt)(),w=(0,u.vt)(),N=(0,u.vt)(),C=(0,u.vt)(),j=(0,u.vt)(),E=(0,u.vt)(),P=(0,u.vt)(),x=(0,u.vt)();function V(t,e,r,o,i,n,s,a,l){(function(t,e,r,o,i){!function(t,e,r,o,i){const{data:n,size:s}=t;pt(o,n),pt(i,o),r[0]=At(K,e),r[1]=r[0];for(let a=s;a<n.length;a+=s){const t=n[a]*e[0]+n[a+1]*e[1]+n[a+2]*e[2];t<r[0]&&(r[0]=t,pt(o,n,a)),t>r[1]&&(r[1]=t,pt(i,n,a))}}(t,e,z,i,o);const n=At(r,e);z[1]-M<=n&&(o[0]=void 0),z[0]+M>=n&&(i[0]=void 0)})(t,e,r,O,w),void 0!==O[0]&&(ht(N,O,r),mt(N,N),ht(C,O,o),mt(C,C),ht(j,O,i),mt(j,j),bt(E,C,n),mt(E,E),bt(P,j,s),mt(P,P),bt(x,N,a),mt(x,x),k(t,E,n,C,N,l),k(t,P,s,j,C,l),k(t,x,a,N,j,l)),void 0!==w[0]&&(ht(N,w,r),mt(N,N),ht(C,w,o),mt(C,C),ht(j,w,i),mt(j,j),bt(E,C,n),mt(E,E),bt(P,j,s),mt(P,P),bt(x,N,a),mt(x,x),k(t,E,n,C,N,l),k(t,P,s,j,C,l),k(t,x,a,N,j,l))}const D=[0,0,0];const z=(0,T.vt)();const q=(0,u.vt)(),F=(0,u.vt)(),U=(0,u.vt)(),L=(0,u.vt)(),Z=(0,u.vt)(),B=(0,u.vt)();function k(t,e,r,o,i,n){if(yt(e)<M)return;bt(q,r,e),bt(F,o,e),bt(U,i,e),G(t,e,z),Z[1]=z[0],L[1]=z[1],B[1]=L[1]-Z[1];const s=[r,o,i],a=[q,F,U];for(let l=0;l<3;++l){G(t,s[l],z),Z[0]=z[0],L[0]=z[1],G(t,a[l],z),Z[2]=z[0],L[2]=z[1],B[0]=L[0]-Z[0],B[2]=L[2]-Z[2];const r=ct(B);r<n.quality&&(pt(n.b0,s[l]),pt(n.b1,e),pt(n.b2,a[l]),n.quality=r)}}const K=(0,u.vt)();function G(t,e,r){const{data:o,size:i}=t;r[0]=Number.POSITIVE_INFINITY,r[1]=Number.NEGATIVE_INFINITY;for(let n=0;n<o.length;n+=i){const t=o[n]*e[0]+o[n+1]*e[1]+o[n+2]*e[2];r[0]=Math.min(r[0],t),r[1]=Math.max(r[1],t)}}function X(t,e,r){r.center=t,r.halfSize=(0,l.g)(e,e,.5),r.quaternion=a.zK}const Q=(0,u.vt)(),H=(0,u.vt)(),Y=(0,u.vt)(),J=(0,u.vt)(),$=(0,u.vt)(),W=(0,u.vt)();function tt(t,e,r){pt(Q,e),Math.abs(e[0])>Math.abs(e[1])&&Math.abs(e[0])>Math.abs(e[2])?Q[0]=0:Math.abs(e[1])>Math.abs(e[2])?Q[1]=0:Q[2]=0,yt(Q)<M&&(Q[0]=Q[1]=Q[2]=1),bt(H,e,Q),mt(H,H),bt(Y,e,H),mt(Y,Y),et(t,e,H,Y,J,$),ht(W,$,J),at(e,H,Y,J,$,W,r)}function et(t,e,r,o,i,n){G(t,e,z),i[0]=z[0],n[0]=z[1],G(t,r,z),i[1]=z[0],n[1]=z[1],G(t,o,z),i[2]=z[0],n[2]=z[1]}const rt=(0,u.vt)(),ot=(0,u.vt)(),it=(0,u.vt)(),nt=(0,i.fA)(1,0,0,0,1,0,0,0,1),st=(0,a.vt)();function at(t,e,r,o,i,n,s){nt[0]=t[0],nt[1]=t[1],nt[2]=t[2],nt[3]=e[0],nt[4]=e[1],nt[5]=e[2],nt[6]=r[0],nt[7]=r[1],nt[8]=r[2],s.quaternion=function(t,e){const r=e[0]+e[4]+e[8];if(r>0){let o=Math.sqrt(r+1);t[3]=.5*o,o=.5/o,t[0]=(e[5]-e[7])*o,t[1]=(e[6]-e[2])*o,t[2]=(e[1]-e[3])*o}else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);const o=(r+1)%3,i=(r+2)%3;let n=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*i+i]+1);t[r]=.5*n,n=.5/n,t[3]=(e[3*o+i]-e[3*i+o])*n,t[o]=(e[3*o+r]+e[3*r+o])*n,t[i]=(e[3*i+r]+e[3*r+i])*n}return t}(st,nt),dt(rt,o,i),ft(rt,rt,.5),ft(ot,t,rt[0]),ft(it,e,rt[1]),dt(ot,ot,it),ft(it,r,rt[2]),s.center=(0,l.f)(ot,ot,it),s.halfSize=(0,l.g)(rt,n,.5)}class lt{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7);this.buffer=new ArrayBuffer(448);let e=0;this.minProj=new Float64Array(this.buffer,e,7),e+=56,this.maxProj=new Float64Array(this.buffer,e,7),e+=56;for(let s=0;s<7;++s)this.minVert[s]=new Float64Array(this.buffer,e,3),e+=24;for(let s=0;s<7;++s)this.maxVert[s]=new Float64Array(this.buffer,e,3),e+=24;for(let s=0;s<7;++s)this.minProj[s]=Number.POSITIVE_INFINITY,this.maxProj[s]=Number.NEGATIVE_INFINITY;const r=new Array(7),o=new Array(7),{data:i,size:n}=t;for(let s=0;s<i.length;s+=n){let t=i[s];t<this.minProj[0]&&(this.minProj[0]=t,r[0]=s),t>this.maxProj[0]&&(this.maxProj[0]=t,o[0]=s),t=i[s+1],t<this.minProj[1]&&(this.minProj[1]=t,r[1]=s),t>this.maxProj[1]&&(this.maxProj[1]=t,o[1]=s),t=i[s+2],t<this.minProj[2]&&(this.minProj[2]=t,r[2]=s),t>this.maxProj[2]&&(this.maxProj[2]=t,o[2]=s),t=i[s]+i[s+1]+i[s+2],t<this.minProj[3]&&(this.minProj[3]=t,r[3]=s),t>this.maxProj[3]&&(this.maxProj[3]=t,o[3]=s),t=i[s]+i[s+1]-i[s+2],t<this.minProj[4]&&(this.minProj[4]=t,r[4]=s),t>this.maxProj[4]&&(this.maxProj[4]=t,o[4]=s),t=i[s]-i[s+1]+i[s+2],t<this.minProj[5]&&(this.minProj[5]=t,r[5]=s),t>this.maxProj[5]&&(this.maxProj[5]=t,o[5]=s),t=i[s]-i[s+1]-i[s+2],t<this.minProj[6]&&(this.minProj[6]=t,r[6]=s),t>this.maxProj[6]&&(this.maxProj[6]=t,o[6]=s)}for(let s=0;s<7;++s){let t=r[s];pt(this.minVert[s],i,t),t=o[s],pt(this.maxVert[s],i,t)}}}class ut{constructor(){this.b0=(0,u.fA)(1,0,0),this.b1=(0,u.fA)(0,1,0),this.b2=(0,u.fA)(0,0,1),this.quality=0}}function ct(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function dt(t,e,r){t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2]}function ht(t,e,r){t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2]}function ft(t,e,r){t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r}function pt(t,e,r=0){t[0]=e[r],t[1]=e[r+1],t[2]=e[r+2]}function bt(t,e,r){const o=e[0],i=e[1],n=e[2],s=r[0],a=r[1],l=r[2];t[0]=i*l-n*a,t[1]=n*s-o*l,t[2]=o*a-i*s}function mt(t,e){const r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(r>0){const o=1/Math.sqrt(r);t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o}}function yt(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function vt(t,e){const r=e[0]-t[0],o=e[1]-t[1],i=e[2]-t[2];return r*r+o*o+i*i}function At(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}class _t{constructor(t=u.uY,e=kt,r=a.zK){this._data=[t[0],t[1],t[2],e[0],e[1],e[2],r[0],r[1],r[2],r[3]]}clone(){const t=new _t;return t._data=this._data.slice(),t}invalidate(){this._data[3]=-1}get isValid(){return this._data[3]>=0}static fromData(t){const e=new _t;return e._data=t.slice(),e}static fromJSON(t){return new _t(t.center,t.halfSize,t.quaternion)}copy(t){this._data=t.data.slice()}get center(){return(0,l.i)(A.rq.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(t){return t[0]=this._data[0],t[1]=this._data[1],t[2]=this._data[2],t}set center(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]}setCenter(t,e,r){this._data[0]=t,this._data[1]=e,this._data[2]=r}get halfSize(){return(0,l.i)(A.rq.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(t){return t[0]=this._data[3],t[1]=this._data[4],t[2]=this._data[5],t}set halfSize(t){this._data[3]=t[0],this._data[4]=t[1],this._data[5]=t[2]}get quaternion(){return(0,s.hZ)(A.J8.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(t){return t[0]=this._data[6],t[1]=this._data[7],t[2]=this._data[8],t[3]=this._data[9],t}set quaternion(t){this._data[6]=t[0],this._data[7]=t[1],this._data[8]=t[2],this._data[9]=t[3]}get data(){return this._data}getCorners(t){const e=Tt,r=this._data;e[0]=r[6],e[1]=r[7],e[2]=r[8],e[3]=r[9];for(let o=0;o<8;++o){const i=t[o];i[0]=(1&o?-1:1)*r[3],i[1]=(2&o?-1:1)*r[4],i[2]=(4&o?-1:1)*r[5],(0,l.v)(i,i,e),i[0]+=r[0],i[1]+=r[1],i[2]+=r[2]}}doesIntersectFrustumConservativeApproximation(t){return this.intersectPlane(t[0])<=0&&this.intersectPlane(t[1])<=0&&this.intersectPlane(t[2])<=0&&this.intersectPlane(t[3])<=0&&this.intersectPlane(t[4])<=0&&this.intersectPlane(t[5])<=0}get radius(){const t=this._data[3],e=this._data[4],r=this._data[5];return Math.sqrt(t*t+e*e+r*r)}intersectSphere(t){It[0]=this._data[0]-t[0],It[1]=this._data[1]-t[1],It[2]=this._data[2]-t[2];const e=this.getQuaternion(gt);return(0,s.Xr)(Tt,e),(0,l.v)(It,It,Tt),(0,l.w)(It,It),St[0]=Math.min(It[0],this._data[3]),St[1]=Math.min(It[1],this._data[4]),St[2]=Math.min(It[2],this._data[5]),(0,l.x)(St,It)<t[3]*t[3]}intersectSphereWithMBS(t,e=this.radius){const r=this._data;It[0]=r[0]-t[0],It[1]=r[1]-t[1],It[2]=r[2]-t[2];const o=t[3],i=o+e;return!((0,l.y)(It)>i*i)&&(Tt[0]=-r[6],Tt[1]=-r[7],Tt[2]=-r[8],Tt[3]=r[9],(0,l.v)(It,It,Tt),(0,l.w)(It,It),St[0]=Math.min(It[0],r[3]),St[1]=Math.min(It[1],r[4]),St[2]=Math.min(It[2],r[5]),(0,l.x)(St,It)<o*o)}intersectPlane(t){const e=t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3],r=this.projectedRadius((0,y.Qj)(t));return e>r?1:e<-r?-1:0}intersectRay(t,e,r=0){const o=this._data,i=Tt;i[0]=-o[6],i[1]=-o[7],i[2]=-o[8],i[3]=o[9],It[0]=t[0]-o[0],It[1]=t[1]-o[1],It[2]=t[2]-o[2];const n=(0,l.v)(It,It,Tt),s=(0,l.v)(St,e,Tt);let a=-1/0,u=1/0;const c=this.getHalfSize(zt);for(let l=0;l<3;l++){const t=n[l],e=s[l],o=c[l]+r;if(Math.abs(e)>1e-6){const r=(o-t)/e,i=(-o-t)/e;a=Math.max(a,Math.min(r,i)),u=Math.min(u,Math.max(r,i))}else if(t>o||t<-o)return!1}return a<=u}projectedArea(t,e,r,i){const n=this.getQuaternion(gt);(0,s.Xr)(Tt,n),It[0]=t[0]-this._data[0],It[1]=t[1]-this._data[1],It[2]=t[2]-this._data[2],(0,l.v)(It,It,Tt);const a=this.getHalfSize(zt),u=It[0]<-a[0]?-1:It[0]>a[0]?1:0,d=It[1]<-a[1]?-1:It[1]>a[1]?1:0,h=It[2]<-a[2]?-1:It[2]>a[2]?1:0,f=Math.abs(u)+Math.abs(d)+Math.abs(h);if(0===f)return 1/0;const p=1===f?4:6,b=6*(u+3*d+9*h+13);(0,o.I0)(qt,n),(0,o.hs)(qt,qt,a);const m=this.getCenter(Vt);for(let o=0;o<p;o++){const t=Nt[b+o];(0,l.i)(It,((1&t)<<1)-1,(2&t)-1,((4&t)>>1)-1),(0,l.o)(It,It,qt),(0,l.f)(Rt,m,It),Rt[3]=1,(0,c.t)(Rt,Rt,e);const r=1/Math.max(1e-6,Rt[3]);wt[2*o]=Rt[0]*r,wt[2*o+1]=Rt[1]*r}const y=2*p-2;let v=wt[0]*(wt[3]-wt[y+1])+wt[y]*(wt[1]-wt[y-1]);for(let o=2;o<y;o+=2)v+=wt[o]*(wt[o+3]-wt[o-1]);return Math.abs(v)*r*i*.125}projectedRadius(t){const e=this.getQuaternion(gt);return(0,s.Xr)(Tt,e),(0,l.v)(It,t,Tt),Math.abs(It[0]*this._data[3])+Math.abs(It[1]*this._data[4])+Math.abs(It[2]*this._data[5])}minimumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]-this.projectedRadius((0,y.Qj)(t))}maximumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]+this.projectedRadius((0,y.Qj)(t))}toAaBoundingBox(t){const e=this.getQuaternion(gt),r=(0,o.I0)(qt,e),i=this._data[3]*Math.abs(r[0])+this._data[4]*Math.abs(r[3])+this._data[5]*Math.abs(r[6]),n=this._data[3]*Math.abs(r[1])+this._data[4]*Math.abs(r[4])+this._data[5]*Math.abs(r[7]),s=this._data[3]*Math.abs(r[2])+this._data[4]*Math.abs(r[5])+this._data[5]*Math.abs(r[8]);t[0]=this._data[0]-i,t[1]=this._data[1]-n,t[2]=this._data[2]-s,t[3]=this._data[0]+i,t[4]=this._data[1]+n,t[5]=this._data[2]+s}transform(t,e,r,o=0,i=(0,f.lO)(r),n=(0,f.lO)(e),a=(0,m.jd)(e,n)){if(r===i)e.isGeographic?function(t,e,r,o,i=(0,f.lO)(r)){const n=(0,h.tO)(r),a=1+Math.max(0,o)/(n.radius+t.centerZ);t.getCenter(xt),xt[2]+=o,(0,b.projectBuffer)(xt,r,0,xt,i,0),e.center=xt;const u=t.getQuaternion(gt);e.quaternion=u,(0,s.Xr)(Tt,u),(0,l.i)(Lt,0,0,1),(0,l.v)(Lt,Lt,Tt);const c=t.getHalfSize(zt);(0,l.i)(Lt,c[0]*Math.abs(Lt[0]),c[1]*Math.abs(Lt[1]),c[2]*Math.abs(Lt[2])),(0,l.g)(Lt,Lt,n.inverseFlattening),(0,l.f)(Lt,c,Lt),e.halfSize=(0,l.g)(Lt,Lt,a)}(this,t,e,o,n):function(t,e,r,o,i=(0,f.lO)(r),n=(0,m.jd)(r,i)){t.getCorners(Ut),t.getCenter(xt),xt[2]+=o,(0,p.l)(r,xt,Ft,i),e.setCenter(Ft[12],Ft[13],Ft[14]);const a=2*Math.sqrt(1+Ft[0]+Ft[5]+Ft[10]);Tt[0]=(Ft[6]-Ft[9])/a,Tt[1]=(Ft[8]-Ft[2])/a,Tt[2]=(Ft[1]-Ft[4])/a,Tt[3]=.25*a;const u=t.getQuaternion(gt);e.quaternion=(0,s.lw)(Tt,Tt,u),(0,s.Xr)(Tt,Tt),(0,l.i)(Zt,0,0,0);const c=e.getCenter(Dt);for(const s of Ut)s[2]+=o,n(s,0,s,0),(0,l.a)(Lt,s,c),(0,l.v)(Lt,Lt,Tt),(0,l.w)(Lt,Lt),(0,l.z)(Zt,Zt,Lt);e.halfSize=Zt}(this,t,e,o,n,a);else if(e.isWGS84&&(r.isWebMercator||(0,v.r1)(r)))!function(t,e,r,o,i){e.getCenter(Vt),Vt[2]+=i;const n=(0,f.lO)(r);(0,b.projectBuffer)(Vt,t,0,Vt,n,0),jt(n,e,Vt,r,o)}(e,this,r,t,o);else if(e.isWebMercator&&(0,v.r1)(r))!function(t,e,r,o,i){e.getCenter(Vt),Vt[2]+=i,jt(t,e,Vt,r,o)}(e,this,r,t,o);else{const i=this.getCenter(Vt);i[2]+=o,(0,b.projectBuffer)(i,e,0,i,r,0),t.center=i,this!==t&&(t.quaternion=this.getQuaternion(gt),t.halfSize=this.getHalfSize(zt))}}}const Tt=(0,a.vt)(),gt=(0,a.vt)(),Mt=(0,a.vt)(),It=(0,u.vt)(),St=(0,u.vt)(),Rt=(0,d.vt)();function Ot(t,e=new _t){return function(t,e){const{data:r,size:o}=t,i=r.length/o;if(i<=0)return;const n=new lt(t);dt(I,n.minProj,n.maxProj),ft(I,I,.5),ht(S,n.maxProj,n.minProj);const s=ct(S),a=new ut;a.quality=s,i<14&&(t=new g.K(new Float64Array(n.buffer,112,42),3));const l=(0,u.vt)(),c=(0,u.vt)(),d=(0,u.vt)(),h=(0,u.vt)(),f=(0,u.vt)(),p=(0,u.vt)(),b=(0,u.vt)();switch(R(n,t,b,l,c,d,h,f,p,a)){case 1:return void X(I,S,e);case 2:return void tt(t,h,e)}V(t,b,l,c,d,h,f,p,a),et(t,a.b0,a.b1,a.b2,J,$);const m=(0,u.vt)();ht(m,$,J),a.quality=ct(m),a.quality<s?at(a.b0,a.b1,a.b2,J,$,m,e):X(I,S,e)}(t,e),e}const wt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],Nt=(()=>{const t=new Int8Array(162);let e=0;const r=r=>{for(let o=0;o<r.length;o++)t[e+o]=r[o];e+=6};return r([6,2,3,1,5,4]),r([0,2,3,1,5,4]),r([0,2,3,7,5,4]),r([0,1,3,2,6,4]),r([0,1,3,2,0,0]),r([0,1,5,7,3,2]),r([0,1,3,7,6,4]),r([0,1,3,7,6,2]),r([0,1,5,7,6,2]),r([0,1,5,4,6,2]),r([0,1,5,4,0,0]),r([0,1,3,7,5,4]),r([0,2,6,4,0,0]),r([0,0,0,0,0,0]),r([1,3,7,5,0,0]),r([2,3,7,6,4,0]),r([2,3,7,6,0,0]),r([2,3,1,5,7,6]),r([0,1,5,7,6,2]),r([0,1,5,7,6,4]),r([0,1,3,7,6,4]),r([4,5,7,6,2,0]),r([4,5,7,6,0,0]),r([4,5,1,3,7,6]),r([0,2,3,7,5,4]),r([6,2,3,7,5,4]),r([6,2,3,1,5,4]),t})();function Ct(t,e,r,o,i){const n=t.getQuaternion(gt);i.quaternion=n,(0,s.Xr)(Tt,n);const a=t.getCenter(Vt),c=t.getHalfSize(zt);if(o===_.RT.Global){(0,l.v)(Lt,a,Tt),(0,l.w)(Zt,Lt),(0,l.A)(Bt,Zt,c),(0,l.a)(Bt,Zt,Bt);const o=(0,l.l)(Bt);(0,l.f)(Bt,Zt,c);const n=(0,l.l)(Bt);if(o<r)i.center=a,(0,l.i)(Lt,r,r,r),i.halfSize=(0,l.f)(Lt,c,Lt);else{const s=n>0?1+e/n:1,a=o>0?1+r/o:1,u=(a+s)/2,d=(a-s)/2;(0,l.g)(Bt,Zt,d),i.halfSize=(0,l.b)(Bt,Bt,c,u),(0,l.g)(Bt,Zt,u),(0,l.b)(Bt,Bt,c,d),(0,l.B)(Lt,Lt),(0,l.C)(Lt,Bt,Lt);const h=t.getQuaternion(Mt);i.center=(0,l.v)(Lt,Lt,h)}}else{i.center=(0,l.b)(Lt,a,u.Cb,(r+e)/2);const t=(0,l.v)(Lt,u.Cb,Tt);(0,l.w)(t,t),i.halfSize=(0,l.b)(Zt,c,t,(r-e)/2)}return i}function jt(t,e,r,i,n){const s=e.getQuaternion(gt),a=(0,o.I0)(qt,s),l=e.getHalfSize(zt);for(let o=0;o<8;++o){for(let t=0;t<3;++t)xt[t]=l[t]*(o&1<<t?-1:1);for(let t=0;t<3;++t){let e=r[t];for(let r=0;r<3;++r)e+=xt[r]*a[3*r+t];Et[3*o+t]=e}}(0,b.projectBuffer)(Et,t,0,Et,i,0,8),Ot(Pt,n)}const Et=new Array(24),Pt=new g.K(Et,3),xt=(0,u.vt)(),Vt=(0,u.vt)(),Dt=(0,u.vt)(),zt=(0,u.vt)(),qt=(0,i.vt)(),Ft=(0,n.vt)(),Ut=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],Lt=(0,u.vt)(),Zt=(0,u.vt)(),Bt=(0,u.vt)(),kt=(0,u.CN)(-1,-1,-1)},70807:(t,e,r)=>{r.d(e,{K:()=>o,n:()=>i});class o{constructor(t,e,r=e){this.data=t,this.size=e,this.stride=r}}class i extends o{constructor(t,e,r,o=!1,i=r){super(t,r,i),this.indices=e,this.exclusive=o}}},50645:(t,e,r)=>{var o;function i(t){return t===o.POSITION}r.d(e,{b:()=>i,r:()=>o}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.UVI="uvi",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.ROTATION="rotation",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.NEXTDELTA="nextDelta",t.PREVIOUSDELTA="previousDelta",t.U0="u0",t.LINEPARAMETERS="lineParameters",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.PROFILEAUXDATA="profileAuxData",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.START_UP="startUp",t.END_UP="endUp",t.EXTRUDE="extrude",t.OLIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(o||(o={}))}}]);