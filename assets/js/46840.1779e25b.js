"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[46840],{46840:(e,t,n)=>{n.r(t),n.d(t,{OperatorGeodeticLength:()=>u});var s=n(82392),o=n(77382),r=n(65806),a=n(85300),c=n(74720),i=n(45262),g=n(95602);class u{getOperatorType(){return 10311}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}execute(e,t,n,s){if(4===n)return(new r.O).execute(e,t,s);if(0===t.getCoordinateSystemType()&&(0,o.a)(""),(0,o.c)(e),e.isEmpty()||e.getDimension()<1)return 0;const u=t.getGCS(),m=(0,i.v)();u.querySpheroidData(m);const l=m.majorSemiAxis,h=m.e2,y=u.getUnit().getUnitToBaseFactor();let p;const x=e.getGeometryType();if(x===o.G.enumPolygon?p=e.getBoundary():x===o.G.enumEnvelope?p=(0,a.c)(e):(0,o.f)(x)?(p=new a.P({vd:e.getDescription()}),p.addSegment(e,!0)):p=e,p.hasNonLinearSegments()&&(p=(new g.O).execute(p,0,t.getTolerance(0),0,s)),u!==t){const n=t.getSRToGCSTransform();if(t.isPannable()){p=(0,i.H)(p,t),x===o.G.enumPolyline&&p===e&&(p=e.clone());const n=new c.E;t.getPannableExtent().queryIntervalX(n);for(let e=0,t=p.getPointCount();e<t;e++){const t=p.getXY(e);t.x=(0,i.M)(t.x,n),p.setXY(e,t)}}const r=p.createInstance();p=(0,i.N)(n,p,r,s)?r:(new i.A).execute(p,n,s)}return this._ExecuteMultiPathGeodeticLength(p,n,l,h,y)}_ExecuteMultiPathGeodeticLength(e,t,n,o,r){const a={stack:[],error:void 0,hasError:!1};try{const c=(0,s.b)(a,new i.P,!1);let g=0;const u=e.querySegmentIterator();for(;u.nextPath();)for(;u.hasNextSegment();){const e=u.nextSegment(),s=e.getStartXY(),a=e.getEndXY();s.scale(r),a.scale(r),i.z.geodeticDistance(n,o,s.x,s.y,a.x,a.y,c,null,null,t),g+=c.val}return g}catch(c){a.error=c,a.hasError=!0}finally{(0,s.c)(a)}}}},65806:(e,t,n)=>{n.d(t,{O:()=>p});var s=n(77382),o=n(45262),r=n(85300),a=n(74720),c=n(25298),i=n(68164),g=n(95602),u=n(15076);function m(){return{m_pGcs:new a.P,m_xyz:new c.d,m_factor:Number.NaN,m_geoLength:Number.NaN,setValues:l,setLength:h,assign:y}}function l(e,t,n,s){this.m_factor=e,this.m_pGcs.assign(t),this.m_xyz.assign(s),this.m_geoLength=n}function h(e){this.m_geoLength=e}function y(e){this.m_pGcs.assign(e.m_pGcs),this.m_xyz.assign(e.m_xyz),this.m_factor=e.m_factor,this.m_geoLength=e.m_geoLength}class p{getOperatorType(){return 10315}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}_ExecuteShapePreservingLength(e,t,n,s,r){if(e.hasNonLinearSegments()&&(e=(new g.O).execute(e,0,t.getTolerance(0),0,r)),t.isPannable()){let s=90,a=-90;if(1===n.getUnit().getUnitToBaseFactor()&&(s*=Math.PI/180,a*=Math.PI/180),2===t.getCoordinateSystemType()){let e=null;const n=[0,0,0,0];e=t.getPECoordSys(),n[0]=0,n[1]=s,n[2]=0,n[3]=a,o.K.geogToProj(e,2,n),s=n[1],a=n[3]}const c=new i.Envelope2D;e.queryEnvelope(c),c.ymin=a,c.ymax=s,e=(new u.O).execute(e,c,t,r)}else{const n=t.getPCSHorizon();if((e=(new o.g).execute(e,n,t,r))===n){const t=e.clone();e=t}}return e.isEmpty()?0:this._ExecuteIterativeApproach(e,t,n,s,1,r)}_ExecuteIterativeApproach(e,t,n,r,i,g){const u=(0,o.v)();n.querySpheroidData(u);const l=u.majorSemiAxis,h=u.e2,y=n.getUnit().getUnitToBaseFactor(),p=(0,a.n)(m,40),f=(0,a.d)(40,Number.NaN),P=m(),_=m();let S;const w=[0,0,0,0],E=t.getPECoordSys(),G=new a.P,C=new a.P,v=new a.P,N=new a.P,T=new a.P;let L=0;const b=e.querySegmentIterator();for(;b.nextPath();)for(;b.hasNextSegment();){const e=b.nextSegment();G.assign(e.getStartXY()),C.assign(e.getEndXY()),2===t.getCoordinateSystemType()?(w[0]=G.x,w[1]=G.y,w[2]=C.x,w[3]=C.y,o.K.projToGeog(E,2,w),v.x=w[0]*y,v.y=w[1]*y,N.x=w[2]*y,N.y=w[3]*y):(v.setCoordsPoint2D(G),N.setCoordsPoint2D(C),v.scale(y),N.scale(y));const n=new c.d,r=new c.d;x(l,h,v,n),x(l,h,N,r);let a=d(l,n,r);P.setValues(0,v,Number.NaN,n),_.setValues(1,N,a,r),S=i,p[0].assign(_),f[0]=i;let g=0;for(;;){g>128&&(0,s.d)("iterations exceeded");const n=.5*(P.m_factor+_.m_factor),r=e.getCoord2D(n);2===t.getCoordinateSystemType()?(w[0]=r.x,w[1]=r.y,o.K.projToGeog(E,1,w),T.x=w[0]*y,T.y=w[1]*y):(T.setCoordsPoint2D(r),T.scale(y)),v.setCoordsPoint2D(P.m_pGcs),N.setCoordsPoint2D(_.m_pGcs);const u=new c.d;x(l,h,T,u);const m=d(l,P.m_xyz,u),G=d(l,_.m_xyz,u);a=_.m_geoLength,Number.isNaN(a)&&(a=d(l,P.m_xyz,_.m_xyz));const C=m+G,b=S===i&&C>=20&&Math.abs(C-a)>1e-8*(a+C);if(g+2<40&&(b||Math.abs(C-a)>0&&S>0))_.setLength(G),p[g].assign(_),_.setValues(n,T,m,u),p[++g].assign(_),b?(S=i,f[g]=i):(S--,f[g-1]=S,f[g]=S);else{if(L+=C,0===g)break;P.assign(_),_.assign(p[--g]),S=f[g]}}}return L}execute(e,t,n){if(t&&0!==t.getCoordinateSystemType()||(0,s.a)(""),e.isEmpty()||e.getDimension()<1)return 0;let a=null;const c=t.getGCS();c!==t&&(a=(0,o.B)(t,c,null));const i=e.getGeometryType();if(i===s.G.enumEnvelope){const s=new r.a;return s.addEnvelope(e,!1),this._ExecuteShapePreservingLength(s,t,c,a,n)}if((0,s.f)(i)){const s=new r.P;return s.addSegment(e,!0),this._ExecuteShapePreservingLength(s,t,c,a,n)}return this._ExecuteShapePreservingLength(e,t,c,a,n)}}function x(e,t,n,s){s.assign((0,o.w)(e,t,n))}function d(e,t,n){const s=e,o=new c.d;o.setSub(t,n);const r=o.length();return 2*s*Math.asin(r/(2*s))}}}]);