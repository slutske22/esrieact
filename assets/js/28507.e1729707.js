"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[28507],{12364:(t,e,r)=>{r.d(e,{a:()=>i,b:()=>l,l:()=>c,n:()=>u,t:()=>f});var s=r(31415),n=(r(39831),r(539));function i(t,e,r){f(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function f(t,e,r,s=4,n=s){if(t.length/s!=e.length/n)return;const i=t.length/s,f=r[0],u=r[1],o=r[2],c=r[3],l=r[4],y=r[5],a=r[6],p=r[7],h=r[8];let d=0,B=0;for(let T=0;T<i;T++){const r=e[d],i=e[d+1],T=e[d+2],E=e[d+3];t[B]=f*r+c*i+a*T,t[B+1]=u*r+l*i+p*T,t[B+2]=o*r+y*i+h*T,t[B+3]=E,d+=n,B+=s}}function u(t,e){const r=Math.min(t.count,e.count),s=t.typedBuffer,n=t.typedBufferStride,i=e.typedBuffer,f=e.typedBufferStride;for(let u=0;u<r;u++){const t=u*n,e=u*f,r=i[e],o=i[e+1],c=i[e+2],l=r*r+o*o+c*c;if(l>0){const e=1/Math.sqrt(l);s[t]=e*r,s[t+1]=e*o,s[t+2]=e*c}}}function o(t,e,r,s=4){const n=Math.min(t.length/s,e.count),i=e.typedBuffer,f=e.typedBufferStride;let u=0,o=0;for(let c=0;c<n;c++)t[o]=r*i[u],t[o+1]=r*i[u+1],t[o+2]=r*i[u+2],t[o+3]=r*i[u+3],u+=f,o+=s}function c(t,e,r,s){l(t.typedBuffer,e,r,s,t.typedBufferStride)}function l(t,e,r,n,i=4){const f=Math.min(t.length/i,e.count),u=e.typedBuffer,o=e.typedBufferStride;let c=0,l=0;const y=1/s.Tf;for(let s=0;s<f;s++)t[l]=n*(r*u[c])**y,t[l+1]=n*(r*u[c+1])**y,t[l+2]=n*(r*u[c+2])**y,t[l+3]=n*r*u[c+3],c+=o,l+=i}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:c,normalize:u,scale:o,scaleView:function(t,e,r){o(t.typedBuffer,e,r,t.typedBufferStride)},transformMat3:f,transformMat3View:i,transformMat4:function(t,e,r,s=4,i=s){if(t.length/s!=e.length/i)return void n.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const f=t.length/s,u=r[0],o=r[1],c=r[2],l=r[3],y=r[4],a=r[5],p=r[6],h=r[7],d=r[8],B=r[9],T=r[10],E=r[11],m=r[12],A=r[13],g=r[14],S=r[15];let x=0,M=0;for(let n=0;n<f;n++){const r=e[x],n=e[x+1],f=e[x+2],_=e[x+3];t[M]=u*r+y*n+d*f+m*_,t[M+1]=o*r+a*n+B*f+A*_,t[M+2]=c*r+p*n+T*f+g*_,t[M+3]=l*r+h*n+E*f+S*_,x+=i,M+=s}},transformMat4View:function(t,e,r){if(t.count!==e.count)return;const s=t.count,n=r[0],i=r[1],f=r[2],u=r[3],o=r[4],c=r[5],l=r[6],y=r[7],a=r[8],p=r[9],h=r[10],d=r[11],B=r[12],T=r[13],E=r[14],m=r[15],A=t.typedBuffer,g=t.typedBufferStride,S=e.typedBuffer,x=e.typedBufferStride;for(let M=0;M<s;M++){const t=M*g,e=M*x,r=S[e],s=S[e+1],_=S[e+2],R=S[e+3];A[t]=n*r+o*s+a*_+B*R,A[t+1]=i*r+c*s+p*_+T*R,A[t+2]=f*r+l*s+h*_+E*R,A[t+3]=u*r+y*s+d*_+m*R}}},Symbol.toStringTag,{value:"Module"}))},57813:(t,e,r)=>{r.d(e,{Y$:()=>d,XW:()=>h,qB:()=>R,Qt:()=>q,My:()=>J,bf:()=>j,jZ:()=>S,j0:()=>x,Sx:()=>M,E$:()=>_,h:()=>O,P:()=>X,SL:()=>w,gH:()=>T,ZD:()=>B,si:()=>C,mJ:()=>D,UL:()=>W,D6:()=>$,Yi:()=>L,An:()=>G,LC:()=>v,xs:()=>m,EC:()=>E,Xm:()=>N,Vp:()=>K,zD:()=>Z,m8:()=>k,nS:()=>U,H$:()=>V,eI:()=>F,Eq:()=>g,jz:()=>A,Aj:()=>b,E7:()=>H,Y4:()=>Q,TX:()=>z,Uz:()=>Y,ml:()=>I,XP:()=>P});var s=r(11449);class n{static{this.ElementCount=9}constructor(t,e,r=0,s,n){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;void 0===s&&(s=9*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==n?new i(e,f):new i(e,f,(n-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<9;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const s=this.typedBuffer,n=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;for(let u=0;u<9;++u)s[i++]=n[f++]}get buffer(){return this.typedBuffer.buffer}}class i{static{this.ElementCount=16}constructor(t,e,r=0,s,n){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;void 0===s&&(s=16*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==n?new i(e,f):new i(e,f,(n-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)e[s]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let s=0;s<16;s++)this.typedBuffer[r++]=e[s]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const s=this.typedBuffer;let n=t*this.typedBufferStride;for(let i=0;i<16;++i)s[n++]=e[r++]}get buffer(){return this.typedBuffer.buffer}}class f{static{this.ElementCount=1}constructor(t,e,r=0,s,n){this.TypedArrayConstructor=t,this.elementCount=1;const i=this.TypedArrayConstructor;void 0===s&&(s=i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==n?new i(e,f):new i(e,f,(n-r)/i.BYTES_PER_ELEMENT),this.stride=s,this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}var u=r(60704);class o{static{this.ElementCount=2}constructor(t,e,r=0,s,n){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const i=this.TypedArrayConstructor;void 0===s&&(s=2*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==n?new i(e,f):new i(e,f,(n-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,u.hZ)(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const s=this.typedBuffer,n=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;s[i++]=n[f++],s[i]=n[f]}get buffer(){return this.typedBuffer.buffer}}var c=r(24121);class l{static{this.ElementCount=3}constructor(t,e,r=0,s,n){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;void 0===s&&(s=3*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==n?new i(e,f):new i(e,f,(n-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,c.i)(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=s}copyFrom(t,e,r){const s=this.typedBuffer,n=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;s[i++]=n[f++],s[i++]=n[f++],s[i]=n[f]}get buffer(){return this.typedBuffer.buffer}}var y=r(2662);class a{static{this.ElementCount=4}constructor(t,e,r=0,s,n){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;void 0===s&&(s=4*i.BYTES_PER_ELEMENT);const f=0===e.byteLength?0:r;this.typedBuffer=null==n?new i(e,f):new i(e,f,(n-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=s/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,y.s)(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,s,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=s,this.typedBuffer[t]=n}copyFrom(t,e,r){const s=this.typedBuffer,n=e.typedBuffer;let i=t*this.typedBufferStride,f=r*e.typedBufferStride;s[i++]=n[f++],s[i++]=n[f++],s[i++]=n[f++],s[i]=n[f]}get buffer(){return this.typedBuffer.buffer}}var p=r(58947);class h extends f{constructor(t,e=0,r,n){(0,p.vA)(s.SX),super((0,s.pX)(),t,e,r,n),this.elementType="f16"}static{this.ElementType="f16"}}class d extends f{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}static{this.ElementType="f32"}}class B extends o{constructor(t,e=0,r,n){(0,p.vA)(s.SX),super((0,s.pX)(),t,e,r,n),this.elementType="f16"}slice(t,e){return this.sliceBuffer(B,t,e)}static{this.ElementType="f16"}}class T extends o{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(T,t,e)}static{this.ElementType="f32"}}class E extends l{constructor(t,e=0,r,n){(0,p.vA)(s.SX),super((0,s.pX)(),t,e,r,n),this.elementType="f16"}slice(t,e){return this.sliceBuffer(E,t,e)}static{this.ElementType="f16"}}class m extends l{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class A extends a{constructor(t,e=0,r,n){(0,p.vA)(s.SX),super((0,s.pX)(),t,e,r,n),this.elementType="f16"}slice(t,e){return this.sliceBuffer(A,t,e)}static{this.ElementType="f16"}}class g extends a{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(g,t,e)}static{this.ElementType="f32"}}class S extends n{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(S,t,e)}static{this.ElementType="f32"}}class x extends n{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(x,t,e)}static{this.ElementType="f64"}}class M extends i{constructor(t,e=0,r,s){super(Float32Array,t,e,r,s),this.elementType="f32"}slice(t,e){return this.sliceBuffer(M,t,e)}static{this.ElementType="f32"}}class _ extends i{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(_,t,e)}static{this.ElementType="f64"}}class R extends f{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="f64"}}class C extends o{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="f64"}}class N extends l{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(N,t,e)}static fromTypedArray(t,e){return new N(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class b extends a{constructor(t,e=0,r,s){super(Float64Array,t,e,r,s),this.elementType="f64"}slice(t,e){return this.sliceBuffer(b,t,e)}static{this.ElementType="f64"}}class w extends f{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="u8"}}class v extends o{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(v,t,e)}static{this.ElementType="u8"}}class F extends l{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(F,t,e)}static fromTypedArray(t,e){return new F(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class P extends a{constructor(t,e=0,r,s){super(Uint8Array,t,e,r,s),this.elementType="u8"}slice(t,e){return this.sliceBuffer(P,t,e)}static{this.ElementType="u8"}}class O extends f{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="u16"}}class L extends o{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="u16"}}class U extends l{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="u16"}}class Y extends a{constructor(t,e=0,r,s){super(Uint16Array,t,e,r,s),this.elementType="u16"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="u16"}}class X extends f{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="u32"}}class G extends o{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="u32"}}class V extends l{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="u32"}}class I extends a{constructor(t,e=0,r,s){super(Uint32Array,t,e,r,s),this.elementType="u32"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="u32"}}class j extends f{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="i8"}}class $ extends o{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="i8"}}class k extends l{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="i8"}}class z extends a{constructor(t,e=0,r,s){super(Int8Array,t,e,r,s),this.elementType="i8"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="i8"}}class q extends f{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="i16"}}class D extends o{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="i16"}}class K extends l{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="i16"}}class H extends a{constructor(t,e=0,r,s){super(Int16Array,t,e,r,s),this.elementType="i16"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="i16"}}class J extends f{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="i32"}}class W extends o{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i32"}}class Z extends l{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i32"}}class Q extends a{constructor(t,e=0,r,s){super(Int32Array,t,e,r,s),this.elementType="i32"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="i32"}}},11449:(t,e,r)=>{r.d(e,{Bg:()=>n,SX:()=>f,pX:()=>i});let s=globalThis.Float16Array;function n(...t){return new(s??Float32Array)(...t)}function i(){return s}let f=!!s},28507:(t,e,r)=>{r.d(e,{projectMeshVertexPositions:()=>u});var s=r(84119),n=r(97557),i=r(87926),f=r(5025);function u(t,e){const r=(0,f.UR)(t,n.A.absolute);if(!r)return null;let u=r.position;return(0,i.aI)(t.spatialReference,e)||(u=new Float64Array(r.position.length),(0,s.projectBuffer)(r.position,t.spatialReference,0,u,e,0))?u:null}},72188:(t,e,r)=>{r.d(e,{$5:()=>x,CN:()=>m,GN:()=>C,JP:()=>E,KM:()=>_,Mv:()=>w,OD:()=>v,X4:()=>A,gZ:()=>R,gr:()=>S,qs:()=>M,si:()=>g,xA:()=>b});var s=r(92504),n=r(25423),i=r(78607),f=r(21742),u=r(86128),o=r(24121),c=r(58359),l=r(59538),y=r(84119),a=r(99817),p=r(87926),h=r(96082),d=r(57813),B=r(21839),T=r(12364);const E="Projection may be possible after calling projection.load().";function m(t,e,r,s){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${r.wkid}).${s?" ":""}${s}`)}function A(t,e,r,s,n,i){return O(F.TO_PCPF,d.xs.fromTypedArray(t),v.NORMAL,d.Xm.fromTypedArray(e),r,d.Xm.fromTypedArray(s),n,d.xs.fromTypedArray(i))?i:null}function g(t,e,r,s,n,i){return O(F.FROM_PCPF,d.xs.fromTypedArray(t),v.NORMAL,d.Xm.fromTypedArray(e),r,d.Xm.fromTypedArray(s),n,d.xs.fromTypedArray(i))?i:null}function S(t,e,r,s){return(0,y.projectBuffer)(t,e,0,r,s,0)?r:null}function x(t,e,r,s){return(0,y.projectBuffer)(t,e,0,r,s,0)?r:null}function M(t,e,r){return(0,n.Ge)(X,r),(0,B.b)(e,t,X),(0,s.or)(X)&&(0,B.n)(e,e),e}function _(t,e,r){return(0,n.z0)(X,r),(0,T.t)(e,t,X),(0,s.or)(X)&&(0,B.n)(e,e,4),e}function R(t,e,r,n){const i=e===v.NORMAL;return N(t,e,r,((t,e)=>{const r=Math.cos((0,s.kU)(t));e[0]=i?r:1/r,e[1]=1}),n)}function C(t,e,r,s){const n=e===v.NORMAL;return N(t,e,r,((t,e)=>{const r=Math.cosh(-t/a.$O.radius);e[0]=1,e[1]=n?r:1/r}),s)}function N(t,e,r,s,n){const i=e===v.NORMAL?3:4,f=[0,0];for(let u=0,o=1;u<t.length;u+=i,o+=3){s(r[o],f);const e=t[u]*f[0],c=t[u+1]*f[1],l=t[u+2],y=1/Math.sqrt(e*e+c*c+l*l);n[u]=e*y,n[u+1]=c*y,n[u+2]=l*y,4===i&&(n[u+3]=t[u+3])}return n}function b(t,e,r,s,n,i){if(!O(F.TO_PCPF,d.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),v.TANGENT,d.Xm.fromTypedArray(e),r,d.Xm.fromTypedArray(s),n,d.xs.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let f=3;f<t.length;f+=4)i[f]=t[f];return i}function w(t,e,r,s,n,i){if(!O(F.FROM_PCPF,d.xs.fromTypedArray(t,16),v.TANGENT,d.Xm.fromTypedArray(e),r,d.Xm.fromTypedArray(s),n,d.xs.fromTypedArray(i,16)))return null;for(let f=3;f<t.length;f+=4)i[f]=t[f];return i}var v,F;function P(t,e,r,s,i){switch((0,l.l)(s,r,Y,s),t===F.FROM_PCPF&&(0,f.B8)(Y,Y),e){case v.NORMAL:return(0,n.Ge)(i,Y);case v.TANGENT:return(0,n.z0)(i,Y)}}function O(t,e,r,s,n,i,f,u){if(!e)return;const c=s.count;if(function(t){return t.isWGS84||(0,p.x1)(t)||(0,p.q8)(t)||(0,p.KQ)(t)}(n))for(let l=0;l<c;l++)i.getVec(l,L),e.getVec(l,U),(0,o.o)(U,U,P(t,r,L,f,X)),u.setVec(l,U);else for(let l=0;l<c;l++){i.getVec(l,L),e.getVec(l,U);const n=(0,h.jg)(s.get(l,1));let c=Math.cos(n);r===v.TANGENT!=(t===F.TO_PCPF)&&(c=1/c),P(t,r,L,f,X),t===F.TO_PCPF?(X[0]*=c,X[1]*=c,X[2]*=c,X[3]*=c,X[4]*=c,X[5]*=c):(X[0]*=c,X[3]*=c,X[6]*=c,X[1]*=c,X[4]*=c,X[7]*=c),(0,o.o)(U,U,X),(0,o.n)(U,U),u.setVec(l,U)}return u}!function(t){t[t.NORMAL=0]="NORMAL",t[t.TANGENT=1]="TANGENT"}(v||(v={})),function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(F||(F={}));const L=(0,c.vt)(),U=(0,c.vt)(),Y=(0,u.vt)(),X=(0,i.vt)()},5025:(t,e,r)=>{r.d(e,{UR:()=>g,p5:()=>A,xK:()=>C});var s=r(539),n=r(92504),i=r(92976),f=r(25423),u=r(78607),o=r(21742),c=r(86128),l=r(24121),y=r(58359),a=r(32937),p=r(59538),h=r(42609),d=r(1114),B=r(87926),T=r(21839),E=r(72188);const m=()=>s.A.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function A(t,e,{vertexSpace:r,spatialReference:s}){if("georeferenced"===r.type){const n=t;if(!(0,h.g)(e,n,s))return!1;const{origin:i}=r;return(0,l.d)(t,n,i),!0}const n=(0,a.lO)(s),i=t;if(!(0,h.g)(e,i,n))return!1;const{origin:f}=r,u=F;if(!(0,p.l)(s,f,u,n))return!1;const c=(0,o.B8)(F,u);return null!=c&&((0,l.t)(t,i,c),!0)}function g(t,e,r){const{vertexSpace:s,transform:n,vertexAttributes:i}=t,u=(0,d.Hq)(s)?n:null,y=_(t.spatialReference,r,P.SOURCE_AND_TARGET);if((0,d.yJ)(s,e)&&(!u||(0,o.t2)(u.localMatrix,c.zK))&&R(y)){const{position:t,normal:e,tangent:s}=i,n=r?.allowBufferReuse;return{position:n?t:t.slice(),normal:n?e:e?.slice(),tangent:n?s:s?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:s},n,i){const f=S(e,i);if(!(0,p.l)(e,s,N,f))return(0,E.CN)(m(),e,f),null;if(r&&(0,o.lw)(N,N,r.localMatrix),!(0,p.l)(e,n,b,f))return(0,E.CN)(m(),f,e),null;(0,o.B8)(b,b);const u=(0,o.lw)(N,b,N);return M(u,e,i,P.SOURCE_AND_TARGET),x(t,u)}(t,t.vertexSpace,e.origin,r):function({spatialReference:t,vertexAttributes:e,transform:r},{origin:s},n,i){const f=S(t,i);if(!(0,p.l)(t,s,N,f))return(0,E.CN)(m(),t,f),null;r&&(0,o.lw)(N,N,r.localMatrix),M(N,t,i,P.SOURCE);const u=new Float64Array(e.position.length),c=function(t,e,r,s,n){(0,T.t)(s,t,e);const i=new Float64Array(t.length);return(0,E.$5)(s,n,i,r)?i:((0,E.CN)(m(),n,r),null)}(e.position,N,t,u,f);if(!c)return null;const y=function(t,e,r,s,n,i){if(null==n)return null;const f=new Float32Array(n.length);return(0,E.qs)(n,f,i),(0,E.si)(f,t,e,r,s,f)?f:((0,E.CN)(m(),s,e),null)}(c,t,u,f,e.normal,N);if(e.normal&&!y)return null;const a=function(t,e,r,s,n,i){if(null==n)return null;const f=new Float32Array(n.length);return(0,E.KM)(n,f,i),(0,E.Mv)(f,t,e,r,s,f)?f:((0,E.CN)(m(),s,e),null)}(c,t,u,f,e.tangent,N);if(e.tangent&&!a)return null;if(n){const t=(0,l.u)(v,n);(0,T.a)(c,c,t)}return{position:c,normal:y,tangent:a}}(t,t.vertexSpace,e.origin,r);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:s},n,i){const u=S(e,i);if(!(0,p.l)(e,n,N,u))return(0,E.CN)(m(),e,u),null;const c=1/_(e,i,P.TARGET);(0,o.hs)(N,N,[c,c,c]);const l=(0,o.B8)(b,N),{position:y,normal:a,tangent:h}=function(t,e,r){if(!e)return t;if(!r){const{position:r,normal:s,tangent:n}=t;return{position:(0,T.a)(new Float64Array(r.length),r,e),tangent:n,normal:s}}const s=x(t,r.localMatrix);return(0,T.a)(s.position,s.position,e),s}(t,s,r),d=new Float64Array(y.length),B=function(t,e,r,s,n){const i=(0,E.gr)(t,e,s,n);if(!i)return(0,E.CN)(m(),e,n),null;const f=new Float64Array(i.length);return(0,T.t)(f,i,r),f}(y,e,l,d,u);if(!B)return null;const A=(0,f.Ge)(w,l),g=function(t,e,r,s,n,i,f){if(null==t)return null;const u=f??new Float32Array(t.length);return(0,E.X4)(t,e,r,s,n,u)?((0,T.b)(u,u,i),u):((0,E.CN)(m(),r,n),null)}(a,y,e,d,u,A,a!==t.normal?a:void 0);if(!g&&a)return null;const M=function(t,e,r,s,n,i,f){if(null==t)return null;const u=f??new Float32Array(t.length);return(0,E.xA)(t,e,r,s,n,u)?((0,T.b)(u,u,i,4),u):((0,E.CN)(m(),r,n),null)}(h,y,e,d,u,A,h!==t.tangent?h:void 0);return!M&&h?null:{position:B,normal:g,tangent:M}}(t,t.vertexSpace,e.origin,r):function({vertexAttributes:t,transform:e,spatialReference:r},{origin:s},n,i){const f=_(r,i,P.SOURCE_AND_TARGET),u=s||!R(f)?(0,o.C)(N,e?.localMatrix??c.zK):null;u&&M(u,r,i,P.SOURCE_AND_TARGET);const{position:y,normal:a,tangent:p}=u?x(t,u):t,h=i?.allowBufferReuse,d=h?y:new Float64Array(y.length);let B=y;if(s&&(B=(0,T.a)(d,B,s)),n){const t=(0,l.u)(v,n);B=(0,T.a)(d,B,t)}return{position:B!==t.position||h?B:B.slice(),normal:a!==t.normal||h?a:a?.slice(),tangent:p!==t.tangent||h?p:p?.slice()}}(t,t.vertexSpace,e.origin,r)}}function S(t,e){return e?.useEllipsoid&&(0,B.B3)(t)?a.Y0:(0,a.lO)(t)}function x(t,e){const r=new Float64Array(t.position.length);(0,T.t)(r,t.position,e);const s=t.normal?new Float32Array(t.normal.length):null,n=t.tangent?new Float32Array(t.tangent.length):null;return s&&t.normal&&(0,E.qs)(t.normal,s,e),n&&t.tangent&&(0,E.KM)(t.tangent,n,e),{position:r,normal:s,tangent:n}}function M(t,e,r,s){const n=_(e,r,s);R(n)||(0,o.hs)(t,t,[n,n,n])}function _(t,e,r){const s=!!(r&P.SOURCE),n=!!(r&P.TARGET),i=e?.sourceUnit,f=e?.targetUnit;if(!i&&!f)return 1;let u=C(i,t);s||!i||R(u)||(m().warn("source unit conversion not supported"),u=1);let o=1/C(f,t);return n||!f||R(o)||(m().warn("target unit conversion not supported"),o=1),u*o}function R(t){return(0,n.Io)(t,1)}function C(t,e){if(null==t)return 1;const r=(0,i.KX)(e);return 1/(0,i.oU)(r,"meters",t)}const N=(0,c.vt)(),b=(0,c.vt)(),w=(0,u.vt)(),v=(0,y.vt)(),F=(0,c.vt)();var P,O;(O=P||(P={}))[O.NONE=0]="NONE",O[O.SOURCE=1]="SOURCE",O[O.TARGET=2]="TARGET",O[O.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"},1114:(t,e,r)=>{r.d(e,{CK:()=>c,E9:()=>u,Hq:()=>o,MW:()=>l,TE:()=>y,yJ:()=>a});var s=r(24121),n=r(97066),i=r(97557),f=r(99218);function u(t){return null==t.origin}function o(t){return null!=t.origin}function c(t){return o(t.vertexSpace)}function l(t,e){if(!o(t))return null;const[r,s,i]=t.origin;return new n.A({x:r,y:s,z:i,spatialReference:e})}function y(t,e){const{x:r,y:s,z:n,spatialReference:u}=t,o=[r,s,n??0];return"local"===(e?.vertexSpace??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(u))?new f.A({origin:o}):new i.A({origin:o})}function a(t,e){return t.type===e.type&&(t.origin===e.origin||null!=t.origin&&null!=e.origin&&(0,s.q)(t.origin,e.origin))}},58947:(t,e,r)=>{r.d(e,{L:()=>o,MX:()=>f,O_:()=>u,kL:()=>c,vA:()=>i,zH:()=>l});var s=r(59646);r(2662);(0,r(28152).vt)();class n{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function i(t,e="Assertion"){if(!t){const t=new Error(e).stack;throw new n(`${e} at ${t}`)}}function f(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function u(t,e,r,s){let n,i=(r[0]-t[0])/e[0],f=(s[0]-t[0])/e[0];i>f&&(n=i,i=f,f=n);let u=(r[1]-t[1])/e[1],o=(s[1]-t[1])/e[1];if(u>o&&(n=u,u=o,o=n),i>o||u>f)return!1;u>i&&(i=u),o<f&&(f=o);let c=(r[2]-t[2])/e[2],l=(s[2]-t[2])/e[2];return c>l&&(n=c,c=l,l=n),!(i>l||c>f||(l<f&&(f=l),f<0))}function o(t,e,r,n,i,f=(0,s.vt)()){const u=(n[i]-r[i])*(e[0]-t[0])-(n[0]-r[0])*(e[i]-t[i]),o=(n[0]-r[0])*(t[i]-r[i])-(n[i]-r[i])*(t[0]-r[0]);if(0===u)return!1;const c=o/u;return f[0]=t[0]+c*(e[0]-t[0]),f[1]=t[i]+c*(e[i]-t[i]),!0}function c(t,e){return Math.log(t)/Math.log(e)}function l(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}}}]);