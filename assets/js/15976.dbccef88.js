"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[15976],{31803:(t,e,n)=>{n.d(e,{N:()=>p,a:()=>R,c:()=>m,e:()=>b,f:()=>C,g:()=>M,k:()=>F,l:()=>A,m:()=>E,n:()=>v,o:()=>k,p:()=>N,s:()=>j,w:()=>T});n(39831),n(539);var o=n(92504),r=n(21742),i=n(24121),c=n(58359),s=n(2662),a=n(28152),l=n(65257),u=n(58331),f=n(10151);function d(t,e){const n=(0,i.l)(t),r=(0,o.YN)(t[2]/n),c=Math.atan2(t[1]/n,t[0]/n);return(0,i.i)(e,n,r,c),e}var h=n(16597),g=n(45573);const p=m();function m(){return(0,a.vt)()}const v=s.e,y=s.e;function b(t,e){return(0,s.c)(e,t)}function A(t,e){return(0,a.fA)(t[0],t[1],t[2],e)}function T(t){return t}function M(t){return t[3]}function R(t){return t}function C(t,e,n,o){return(0,a.fA)(t,e,n,o)}function _(t,e,n){if(null==e)return!1;if(!I(t,e,S))return!1;let{t0:o,t1:r}=S;if((o<0||r<o&&r>0)&&(o=r),o<0)return!1;if(n){const{origin:t,direction:r}=e;n[0]=t[0]+r[0]*o,n[1]=t[1]+r[1]*o,n[2]=t[2]+r[2]*o}return!0}function E(t,e,n){const o=(0,f.Cr)(e,n);if(!I(t,o,S))return[];const{origin:r,direction:s}=o,{t0:a,t1:u}=S,d=e=>{const n=(0,c.vt)();return(0,i.b)(n,r,s,e),N(t,n,n)};return Math.abs(a-u)<(0,l.FD)()?[d(a)]:[d(a),d(u)]}const S={t0:0,t1:0};function I(t,e,n){const{origin:o,direction:r}=e,i=x;i[0]=o[0]-t[0],i[1]=o[1]-t[1],i[2]=o[2]-t[2];const c=r[0]*r[0]+r[1]*r[1]+r[2]*r[2];if(0===c)return!1;const s=2*(r[0]*i[0]+r[1]*i[1]+r[2]*i[2]),a=s*s-4*c*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(a<0)return!1;const l=Math.sqrt(a);return n.t0=(-s-l)/(2*c),n.t1=(-s+l)/(2*c),!0}const x=(0,c.vt)();function F(t,e){return _(t,e,null)}function O(t,e,n){const o=g.rq.get(),c=g.Rc.get();(0,i.h)(o,e.origin,e.direction);const s=M(t);(0,i.h)(n,o,e.origin),(0,i.g)(n,n,1/(0,i.l)(n)*s);const a=P(t,e.origin),l=(0,h.g7)(e.origin,n);return(0,r.$0)(c,l+a,o),(0,i.t)(n,n,c),n}function N(t,e,n){const o=(0,i.d)(g.rq.get(),e,t),r=(0,i.g)(g.rq.get(),o,t[3]/(0,i.l)(o));return(0,i.f)(n,r,t)}function P(t,e){const n=(0,i.d)(g.rq.get(),e,t),r=(0,i.l)(n),c=M(t),s=c+Math.abs(c-r);return(0,o.XM)(c/s)}const q=(0,c.vt)();function U(t,e,n,o){const r=(0,i.d)(q,e,t);switch(n){case u._.X:{const t=d(r,q)[2];return(0,i.i)(o,-Math.sin(t),Math.cos(t),0)}case u._.Y:{const t=d(r,q),e=t[1],n=t[2],c=Math.sin(e);return(0,i.i)(o,-c*Math.cos(n),-c*Math.sin(n),Math.cos(e))}case u._.Z:return(0,i.n)(o,r);default:return}}function w(t,e){const n=(0,i.d)(z,e,t);return(0,i.l)(n)-t[3]}function k(t,e){const n=(0,i.s)(t,e),o=M(t);return n<=o*o}const z=(0,c.vt)(),L=m(),j=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:p,altitudeAt:w,angleToSilhouette:P,axisAt:U,cameraFrustumCoverage:function(t,e,n,o){const r=M(t),i=r*r,c=e+.5*Math.PI,s=n*n+i-2*Math.cos(c)*n*r,a=Math.sqrt(s),l=s-i;if(l<=0)return.5;const u=Math.sqrt(l),f=Math.acos(u/a)-Math.asin(r/(a/Math.sin(c)));return Math.min(1,(f+.5*o)/o)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,n){return _(t,e,n)?n:((0,f.oC)(e,t,n),N(t,n,n))},closestPointOnSilhouette:O,containsPoint:k,copy:b,create:m,distanceToSilhouette:function(t,e){const n=(0,i.d)(g.rq.get(),e,t),o=(0,i.k)(n),r=t[3]*t[3];return Math.sqrt(Math.abs(o-r))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:y,exactEquals:v,fromCenterAndRadius:A,fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:C,getCenter:R,getExtent:function(t,e){return e},getRadius:M,intersectLine:E,intersectRay:_,intersectRayClosestSilhouette:function(t,e,n){if(_(t,e,n))return n;const o=O(t,e,g.rq.get());return(0,i.f)(n,e.origin,(0,i.g)(g.rq.get(),e.direction,(0,i.j)(e.origin,o)/(0,i.l)(e.direction))),n},intersectsRay:F,projectPoint:N,setAltitudeAt:function(t,e,n,o){const r=w(t,e),c=U(t,e,u._.Z,z),s=(0,i.g)(z,c,n-r);return(0,i.f)(o,e,s)},setExtent:function(t,e,n){return t!==n&&b(t,n),n},tmpSphere:L,union:function(t,e,n=(0,a.vt)()){const o=(0,i.j)(t,e),r=t[3],c=e[3];return o+c<r?((0,s.c)(n,t),n):o+r<c?((0,s.c)(n,e),n):((0,i.m)(n,t,e,(o+c-r)/(2*o)),n[3]=(o+r+c)/2,n)},wrap:T},Symbol.toStringTag,{value:"Module"}))},92114:(t,e,n)=>{n.d(e,{I:()=>r});var o=n(37103);class r{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,o.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*i);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,i));t++)this._items.push(this._allocator())}}const i=1024},42609:(t,e,n)=>{n.d(e,{W:()=>s,g:()=>c});var o=n(58359),r=n(68490),i=n(84119);function c(t,e,n,o){if((0,r.canProjectWithoutEngine)(t.spatialReference,n)){a[0]=t.x,a[1]=t.y;const r=t.z;return a[2]=r??o??0,(0,i.projectBuffer)(a,t.spatialReference,0,e,n,0)}const c=(0,r.tryProjectWithZConversion)(t,n);return!!c&&(e[0]=c?.x,e[1]=c?.y,e[2]=c?.z??o??0,!0)}async function s(t,e,n,o,i){return await(0,r.initializeProjection)(t.spatialReference,n,null,i),c(t,e,n,o)}const a=(0,o.vt)()},42120:(t,e,n)=>{n.d(e,{F:()=>i});n(68490);var o=n(78983),r=n(42609);function i(t,e,n,o,i){return!(null==e||null==o||t.length<2)&&(c.x=t[0],c.y=t[1],c.z=t[2],c.spatialReference=e,(0,r.g)(c,n,o,i))}const c=(0,n(29394).T)(0,0,0,o.A.WGS84)},10151:(t,e,n)=>{n.d(e,{C:()=>f,Cr:()=>d,LV:()=>u,kb:()=>h,oC:()=>g,vt:()=>a});n(85569);var o=n(92114),r=(n(25423),n(78607)),i=n(24121),c=n(58359),s=n(45573);function a(t){return t?l((0,c.o8)(t.origin),(0,c.o8)(t.direction)):l((0,c.vt)(),(0,c.vt)())}function l(t,e){return{origin:t,direction:e}}function u(t,e){const n=p.get();return n.origin=t,n.direction=e,n}function f(t,e=a()){return function(t,e,n=a()){return(0,i.c)(n.origin,t),(0,i.c)(n.direction,e),n}(t.origin,t.direction,e)}function d(t,e,n=a()){return(0,i.c)(n.origin,t),(0,i.d)(n.direction,e,t),n}function h(t,e){const n=(0,i.h)(s.rq.get(),(0,i.n)(s.rq.get(),t.direction),(0,i.d)(s.rq.get(),e,t.origin));return(0,i.e)(n,n)}function g(t,e,n){const o=(0,i.e)(t.direction,(0,i.d)(n,e,t.origin));return(0,i.f)(n,t.origin,(0,i.g)(n,t.direction,o)),n}const p=new o.I((()=>a()));(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,r.vt)()},29394:(t,e,n)=>{function o(t,e,n,o){return{x:t,y:e,z:n,hasZ:null!=n,hasM:!1,spatialReference:o,type:"point"}}function r(t,e,n,o,r){t.x=e,t.y=n,t.z=o,t.hasZ=null!=o,t.spatialReference=r}n.d(e,{J:()=>r,T:()=>o})},74677:(t,e,n)=>{n.d(e,{A:()=>s,Y:()=>a});var o=n(40189),r=n(76859),i=n(42453),c=n(35387);async function s(t,e,n,c){const s=new Array(e.length),l=new Map,u=new Map,f=(0,i.hL)(t.fieldsIndex,n.outFields),d=c?.hasRequiredFields??i.Kl;for(let r=0;r<e.length;r++){const t=e[r];if(t.isAggregate){s[r]=t;continue}let n=!1;if(c?.getPopupTemplate){const e=t.origin?.layer??t.sourceLayer??t.layer,r=c.getPopupTemplate(e);if(null==r)continue;const i=await a(r);(0,o.Te)(c),n=i&&i.arcadeUtils.hasGeometryOperations(r)}if(n||!d(t,f)){const e=t.getObjectId();if(null!=e){l.set(e,{graphic:t,index:r});continue}const n=t.getGlobalId();if(null!=n){u.set(n,{graphic:t,index:r});continue}}s[r]=t}if(!t.queryFeatures||0===l.size&&0===u.size)return s.filter(Boolean);const h=[],g=(t,e)=>{e&&(t.outFields??=[],t.outFields.includes(e)||t.outFields.push(e))};if(l.size>0){const e=n.clone();g(e,t.objectIdField),"uniqueIdFields"in t&&t.uniqueIdFields?.length&&(e.outFields??=[],e.outFields.push(...t.uniqueIdFields)),e.objectIds=Array.from(l.keys()),h.push({type:"object-id",query:e,map:l})}const p="globalIdField"in t?t.globalIdField:null;if(null!=p&&u.size>0){const t=n.clone();g(t,p);const e=Array.from(u.keys());t.where=(0,r.mA)(n.where,`${p} IN (${e.map((t=>`'${t}'`)).join(",")})`),h.push({type:"global-id",query:t,map:u})}const m=c?.updateSourceAttributes??!1;for(const{type:o,query:r,map:i}of h)try{const e=await t.queryFeatures(r,c);for(const t of e.features){const e="object-id"===o?t.getObjectId():t.getGlobalId();if(null==e)continue;const n=i.get(e);if(!n)continue;const{graphic:r,index:c}=n;if(m&&t.attributes){r.attributes??={};for(const e of f)e in t.attributes&&(r.attributes[e]=t.attributes[e])}const{geometry:a,origin:l}=r;t.geometry||=a,t.origin=l,s[c]=t}}catch{}return s.filter(Boolean)}async function a(t){if(t.expressionInfos?.length||Array.isArray(t.content)&&t.content.some((t=>"expression"===t.type)))return(0,c.l)()}},15976:(t,e,n)=>{n.d(e,{Q7:()=>d,s1:()=>f});var o=n(86394),r=(n(85569),n(98849),n(39831),n(21742),n(86128)),i=(n(24121),n(58359)),c=(n(68490),n(78983),n(42120),n(80510)),s=(n(31803),n(74677),n(14474),n(44138));n(47936),n(59538);var a=n(41419),l=(n(55623),n(29709));n(38201);(0,c.vt)();var u;async function f(t,e,n,r,i,c,a,l){const u=[];for(const o of e)if(o&&i.includes(o.name)){const e=`${t}/nodes/${n}/attributes/${o.key}/0`;u.push({url:e,storageInfo:o})}const f=await Promise.allSettled(u.map((t=>(0,o.A)(t.url,{responseType:"array-buffer",query:{...a,token:c},signal:l?.signal}).then((e=>(0,s.m0)(t.storageInfo,e.data)))))),d=[];for(const o of r){const t={};for(let e=0;e<f.length;e++){const n=f[e];if("fulfilled"===n.status){const r=n.value;t[u[e].storageInfo.name]=(0,s.E5)(r,o)}}d.push(t)}return d}!function(t){t[t.OUTSIDE=0]="OUTSIDE",t[t.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",t[t.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",t[t.INSIDE=3]="INSIDE"}(u||(u={}));(0,a.CC)({color:[0,0,0,0],opacity:0});function d(t){null!=t&&(t[3]=-1)}(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,c.vt)(),(0,c.vt)(),new l.ab,(0,i.vt)(),new Array(72),(0,r.vt)()},41419:(t,e,n)=>{n.d(e,{Cc:()=>d,CC:()=>h,RF:()=>f});var o=n(96220),r=(n(39831),n(89882)),i=n(28152);var c=n(34443),s=(n(73345),n(51859),n(66976),n(55274),n(70224),n(84674),n(72196),n(11809),n(99120));s.n;var a;n(52293),n(36340),n(50645);!function(t){t[t.Uniform=0]="Uniform",t[t.Varying=1]="Varying",t[t.COUNT=2]="COUNT"}(a||(a={}));var l,u;n(81283),n(10470),n(13501),n(60840),n(8376),n(6561),n(82088);function f(t){return t&&t.enabled&&(function(t){return"extrude"===t.type}(t)||function(t){return"fill"===t.type}(t))&&null!=t.edges}function d(t,e){return function(t,e){if(null==t)return null;const n=null!=t.color?(0,i.ci)(o.A.toUnitRGBA(t.color)):(0,i.fA)(0,0,0,0),c=(0,r.Lz)(t.size),s=(0,r.Lz)(t.extensionLength);switch(t.type){case"solid":return h({color:n,size:c,extensionLength:s,...e});case"sketch":return function(t){return{...p,...t,type:l.Sketch}}({color:n,size:c,extensionLength:s,...e});default:return}}(function(t){return t&&t.enabled&&t.edges||null}(t),e)}function h(t){return{...g,...t,type:l.Solid}}!function(t){t[t.Solid=0]="Solid",t[t.Sketch=1]="Sketch",t[t.Mixed=2]="Mixed",t[t.COUNT=3]="COUNT"}(l||(l={})),function(t){t[t.REGULAR=0]="REGULAR",t[t.SILHOUETTE=1]="SILHOUETTE"}(u||(u={}));const g={color:(0,i.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:c.x.OPAQUE,hasSlicePlane:!1},p={color:(0,i.fA)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:c.x.OPAQUE,hasSlicePlane:!1}},55623:(t,e,n)=>{n.d(e,{Eb:()=>i,_j:()=>c,k5:()=>o});var o,r=n(92504);function i(t){switch(t){case"multiply":default:return o.Multiply;case"ignore":return o.Ignore;case"replace":return o.Replace;case"tint":return o.Tint}}function c(t,e,n){if(null==t||e===o.Ignore)return n[0]=255,n[1]=255,n[2]=255,void(n[3]=255);const i=(0,r.qE)(Math.round(t[3]*a),0,a),c=0===i||e===o.Tint?0:e===o.Replace?l:u;n[0]=(0,r.qE)(Math.round(t[0]*s),0,s),n[1]=(0,r.qE)(Math.round(t[1]*s),0,s),n[2]=(0,r.qE)(Math.round(t[2]*s),0,s),n[3]=i+c}!function(t){t[t.Multiply=1]="Multiply",t[t.Ignore=2]="Ignore",t[t.Replace=3]="Replace",t[t.Tint=4]="Tint"}(o||(o={}));const s=255,a=85,l=a,u=2*a},66976:(t,e,n)=>{n.d(e,{A:()=>i});var o=n(55623),r=n(72196);function i(t){t.vertex.code.add(r.H`
    vec4 decodeSymbolColor(vec4 symbolColor, out int colorMixMode) {
      float symbolAlpha = 0.0;

      const float maxTint = 85.0;
      const float maxReplace = 170.0;
      const float scaleAlpha = 3.0;

      if (symbolColor.a > maxReplace) {
        colorMixMode = ${r.H.int(o.k5.Multiply)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxReplace);
      } else if (symbolColor.a > maxTint) {
        colorMixMode = ${r.H.int(o.k5.Replace)};
        symbolAlpha = scaleAlpha * (symbolColor.a - maxTint);
      } else if (symbolColor.a > 0.0) {
        colorMixMode = ${r.H.int(o.k5.Tint)};
        symbolAlpha = scaleAlpha * symbolColor.a;
      } else {
        colorMixMode = ${r.H.int(o.k5.Multiply)};
        symbolAlpha = 0.0;
      }

      return vec4(symbolColor.r, symbolColor.g, symbolColor.b, symbolAlpha);
    }
  `)}},81283:(t,e,n)=>{n.d(e,{W:()=>o,Y:()=>s});var o,r=n(73345),i=n(72196),c=n(50645);function s(t,e){switch(e.normalType){case o.Compressed:t.attributes.add(c.r.NORMALCOMPRESSED,"vec2"),t.vertex.code.add(i.H`vec3 decompressNormal(vec2 normal) {
float z = 1.0 - abs(normal.x) - abs(normal.y);
return vec3(normal + sign(normal) * min(z, 0.0), z);
}
vec3 normalModel() {
return decompressNormal(normalCompressed);
}`);break;case o.Attribute:t.attributes.add(c.r.NORMAL,"vec3"),t.vertex.code.add(i.H`vec3 normalModel() {
return normal;
}`);break;case o.ScreenDerivative:t.fragment.code.add(i.H`vec3 screenDerivativeNormal(vec3 positionView) {
return normalize(cross(dFdx(positionView), dFdy(positionView)));
}`);break;default:(0,r.Xb)(e.normalType);case o.COUNT:}}!function(t){t[t.Attribute=0]="Attribute",t[t.Compressed=1]="Compressed",t[t.ScreenDerivative=2]="ScreenDerivative",t[t.COUNT=3]="COUNT"}(o||(o={}))},70224:(t,e,n)=>{n.d(e,{W:()=>r});var o=n(72196);function r(t){t.code.add(o.H`const float MAX_RGBA_FLOAT =
255.0 / 256.0 +
255.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 / 256.0;
const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);
vec4 float2rgba(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);
vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);
const float toU8AsFloat = 1.0 / 255.0;
return fixedPointU8 * toU8AsFloat;
}`),t.code.add(o.H`const vec4 RGBA_TO_FLOAT_FACTORS = vec4(
255.0 / (256.0),
255.0 / (256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0 * 256.0)
);
float rgbaTofloat(vec4 rgba) {
return dot(rgba, RGBA_TO_FLOAT_FACTORS);
}`),t.code.add(o.H`const vec4 uninterpolatedRGBAToFloatFactors = vec4(
1.0 / 256.0,
1.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0,
1.0 / 256.0 / 256.0 / 256.0 / 256.0
);
float uninterpolatedRGBAToFloat(vec4 rgba) {
return (dot(round(rgba * 255.0), uninterpolatedRGBAToFloatFactors) - 0.5) * 2.0;
}`)}},84674:(t,e,n)=>{n.d(e,{V:()=>i});var o=n(11809),r=n(99120);class i extends r.n{constructor(t,e){super(t,"vec4",o.c.Draw,((n,o,r)=>n.setUniform4fv(t,e(o,r))))}}},34443:(t,e,n)=>{var o;n.d(e,{x:()=>o}),function(t){t[t.TRANSPARENT=0]="TRANSPARENT",t[t.OPAQUE=1]="OPAQUE"}(o||(o={}))}}]);