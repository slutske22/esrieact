"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[92079],{71943:(e,t,n)=>{n.d(t,{D:()=>P,m:()=>c,s:()=>D,w:()=>p});var r=n(66866),i=n(62188),s=n(74642),o=n(57592),m=n(86330),a=n(21566),u=n(75992);function c(){return{outPoint:new m.P,index:-1,t:Number.NaN}}function h(e,t,n){return{outPoint:e.clone(),index:t,t:n}}function l(e,t,n,r){e.outPoint.assign(t),e.index=n,e.t=r}function g(e,t){e.outPoint.assign(t.outPoint),e.index=t.index,e.t=t.t}function y(e,t,n,r){e.index=n,e.t=r,t.queryCoord2D(e.t,e.outPoint)}function _(e,t){const n=c();g(n,e),g(e,t),g(t,n)}function p(e,t,n,r,s,m){if(e.getGeometryType()===i.G.enumPolygon){for(;r.nextPath();)if(r.hasNextSegment()){const t=r.nextSegment();if(0!==(0,o.h)(e,t.getEndXY(),0))return l(s,t.getEndXY(),-1,Number.NaN),l(m,t.getEndXY(),-1,Number.NaN),!0}r.resetToFirstPath()}if(t.getGeometryType()===i.G.enumPolygon){for(;n.nextPath();)if(n.hasNextSegment()){const e=n.nextSegment();if(0!==(0,o.h)(t,e.getEndXY(),0))return l(s,e.getEndXY(),-1,Number.NaN),l(m,e.getEndXY(),-1,Number.NaN),!0}n.resetToFirstPath()}return!1}function D(e){const t=e.getPathCount(),n=(0,m.d)(e.getSegmentCount(),0);let r=0;for(let i=0;i<t;++i){const t=r+e.getSegmentCountPath(i);for(let s=r,o=e.getPathStart(i);s<t;++s,++o)n[s]=o;r=t}return(0,s.s)(e.getPointCount(),n),n}function v(e,t){return!!Number.isNaN(t)||e<=t}function N(e){const t=new s.a;return t.addEnvelope(e,!1),t}class P{constructor(e,t){if(this.m_env2DgeometryA=null,this.m_env2DgeometryB=null,this.m_progressCounter=0,this.m_progressTracker=t,this.m_maxSqrDistance=e*e,this.m_maxDistance=e,this.m_bIsNearCalc=!1,Number.isNaN(this.m_maxDistance)?this.m_maxDistance=Number.POSITIVE_INFINITY:this.m_maxDistance=e,this.m_maxSqrDistance=this.m_maxDistance*this.m_maxDistance,Number.isFinite(this.m_maxSqrDistance)){let e=Math.sqrt(this.m_maxSqrDistance);for(;e<this.m_maxDistance;)this.m_maxSqrDistance*=1+Number.EPSILON,e=Math.sqrt(this.m_maxSqrDistance)}}calculate(e,t,n,r){if((e.getGeometryType()!==u.P.type||t.getGeometryType()!==u.P.type)&&(this.m_env2DgeometryA=new a.Envelope2D,this.m_env2DgeometryB=new a.Envelope2D,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!v(this.m_env2DgeometryA.distanceFromEnvelope(this.m_env2DgeometryB),this.m_maxDistance)))return Number.POSITIVE_INFINITY;const i=h(new m.P,(0,m.j)(),Number.NaN),s=h(new m.P,(0,m.j)(),Number.NaN),o=this._ExecuteBruteForce(e,t,i,s);return v(o,this.m_maxDistance)?(null!==n&&g(n,i),null!==r&&g(r,s),o):Number.POSITIVE_INFINITY}isNear(e,t){if(this.m_bIsNearCalc=!0,e.isEmpty()||t.isEmpty())return!1;if(e===t)return!0;let n=!0;if(e.getGeometryType()!==u.P.type&&e.getGeometryType()!==u.E.type||t.getGeometryType()!==u.P.type&&t.getGeometryType()!==u.E.type||(n=!1),n){if(this.m_env2DgeometryA=new a.Envelope2D,this.m_env2DgeometryB=new a.Envelope2D,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!(this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)>this.m_maxSqrDistance))return!0;if(this.m_env2DgeometryA.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>this.m_maxSqrDistance)return!1}const r=h(new m.P,(0,m.j)(),Number.NaN),i=h(new m.P,(0,m.j)(),Number.NaN);return this._ExecuteBruteForce(e,t,r,i)<=this.m_maxDistance}progress_(e=!1){}_ExecuteBruteForce(e,t,n,r){switch(e.getGeometryType()){case i.G.enumPoint:return this.distancePointGeometry(e,t,n,r);case i.G.enumMultiPoint:return this.distanceMultipointGeometry(e,t,n,r);case i.G.enumEnvelope:return this.distanceEnvelopeGeometry(e,t,n,r);case i.G.enumPolyline:case i.G.enumPolygon:return this.distanceMultipathGeometry(e,t,n,r);default:return Number.NaN}}distancePointGeometry(e,t,n,r){switch(t.getGeometryType()){case i.G.enumPoint:return this.distancePointPoint(e,t,n,r);case i.G.enumMultiPoint:return this.distancePointMultipoint(e,t,n,r);case i.G.enumPolyline:case i.G.enumPolygon:return this.distancePointMultipath(e,t,n,r);case i.G.enumEnvelope:return this.distancePointEnvelope(e,t,n,r);default:return Number.NaN}}distancePointPoint(e,t,n,r){const i=e.getXY(),s=t.getXY();return l(n,i,0,0),l(r,s,0,0),Math.sqrt(m.P.sqrDistance(i,s))}distancePointMultipoint(e,t,n,r){const i=e.getXY();let s=this.m_maxSqrDistance,o=s,a=!1;const u=t.getPointCount(),c=new m.P;for(let h=0;h<u;++h)if(t.queryXY(h,c),o=m.P.sqrDistance(i,c),this.m_bIsNearCalc){if(o<=s)return 0}else if(!(o>s)&&(!a&&o===s||o<s)&&(s=o,l(n,i,0,0),l(r,c,h,0),a=!0,0===s))return 0;return a?Math.sqrt(s):Number.POSITIVE_INFINITY}distancePointMultipath(e,t,n,r){const s=!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB),u=e.getXY();if(!s&&t.getGeometryType()===i.G.enumPolygon&&0!==(0,o.h)(t,u,0))return l(n,u,0,0),l(r,u,-1,Number.NaN),0;t.getImpl().getAccelerators();let c=this.m_maxSqrDistance,h=c,g=-1;const y=new a.Envelope2D,_=t.querySegmentIterator();let p=!1;for(;_.nextPath();)for(;_.hasNextSegment();){const e=_.nextSegment();e.queryEnvelope(y);const t=y.sqrDistance(u);if(t>c)continue;if(!this.m_bIsNearCalc&&p&&t===c)continue;g=e.getClosestCoordinate(u,!1);const i=e.getCoord2D(g);if(h=m.P.sqrDistance(u,i),this.m_bIsNearCalc){if(h<=c)return 0}else if(!(h>c)&&(!p||h<c)&&(c=h,l(n,u,0,0),l(r,i,_.getStartPointIndex(),g),p=!0,0===c))return 0}return p?Math.sqrt(c):Number.POSITIVE_INFINITY}distancePointEnvelope(e,t,n,r){const i=e.getXY();l(n,i,0,0),l(r,i,-1,Number.NaN);const s=t.asEnvelope2D();return s.contains(i)?0:Math.sqrt(s.sqrDistance(i,r.outPoint))}distanceMultipointGeometry(e,t,n,r){switch(t.getGeometryType()){case i.G.enumPoint:{this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const i=this.distancePointMultipoint(t,e,r,n);return this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i}case i.G.enumMultiPoint:return this.distanceMultipointMultipoint(e,t,n,r,1,1);case i.G.enumPolyline:case i.G.enumPolygon:return this.distanceMultipointMultipath(e,t,n,r);case i.G.enumEnvelope:return this.distanceMultipointMultipath(e,N(t),n,r);default:return Number.NaN}}distanceMultipointMultipoint(e,t,n,i,s,o){const a={stack:[],error:void 0,hasError:!1};try{if(this.m_bIsNearCalc&&1===s&&1===o){const r=Math.trunc((0,m.s)(Math.sqrt(e.getPointCount())+1,1,(0,m.i)())),s=Math.trunc((0,m.s)(Math.sqrt(t.getPointCount())+1,1,(0,m.i)()));if((r>=4||s>=4)&&this.distanceMultipointMultipoint(e,t,n,i,r,s)<=this.m_maxSqrDistance)return 0}let u=this.m_maxSqrDistance;const c=[e],h=[t],g=this.swapGeometriesIfBGtA(c,h);g&&(this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o=(0,m.c)(s,s=o),_(n,i)),(0,r.b)(a,(0,m.h)((()=>{_(n,i),this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)}),!g),!1);const y=c[0].getImpl(),p=h[0].getImpl(),D=y.getPointCount(),v=p.getPointCount(),N=v>1;let P=!1;const f=new m.P,I=new m.P;for(let e=0;e<D;e+=s){if(y.queryXY(e,f),N){const e=this.m_env2DgeometryB.sqrDistance(f);if(this.m_bIsNearCalc){if(e>u)continue;if(this.m_env2DgeometryB.sqrMaxMinDistance(f)<=u)return 0}else if(e>=u)continue}for(let t=0;t<v;t+=o){p.queryXY(t,I);const r=m.P.sqrDistance(f,I);if(this.m_bIsNearCalc){if(r<=u)return 0}else if(!(r>u||P&&r===u)&&(!P||r<u)&&(l(n,f,e,0),l(i,I,t,0),P=!0,u=r,0===u))return P?Math.sqrt(u):Number.POSITIVE_INFINITY}}return P?Math.sqrt(u):Number.POSITIVE_INFINITY}catch(u){a.error=u,a.hasError=!0}finally{(0,r.c)(a)}}distanceMultipointMultipath(e,t,n,r){let s=!!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)&&t.getGeometryType()===i.G.enumPolygon;const u=t.querySegmentIterator();u.stripAttributes();const c=new a.Envelope2D,h=new m.P;let g=this.m_maxSqrDistance;const y=e.getImpl(),_=y.getPointCount(),p=_>1;let D=!1;for(;u.nextPath();)for(;u.hasNextSegment();){const e=u.nextSegment();if(e.queryLooseEnvelope(c),p){const e=c.sqrDistanceEnvelope(this.m_env2DgeometryA,null,null);if(this.m_bIsNearCalc){if(e>g)continue}else if(e>g||D&&e===g)continue}for(let i=0;i<_;i++){if(y.queryXY(i,h),s&&0!==(0,o.h)(t,h,0))return l(n,h,-1,Number.NaN),l(r,h,i,0),0;{const e=c.sqrDistance(h);if(this.m_bIsNearCalc){if(e>g)continue}else if(e>g)continue}const m=e.getClosestCoordinate(h,!1),a=e.getCoord2D(m);h.subThis(a);const _=h.sqrLength();if(this.m_bIsNearCalc){if(_<=g)return 0}else if(!(_>g)&&(!D||_<g)&&(g=_,l(n,y.getXY(i),i,0),l(r,a,u.getStartPointIndex(),m),D=!0,0===g))return 0}s=!1}return D?Math.sqrt(g):Number.POSITIVE_INFINITY}distanceEnvelopeGeometry(e,t,n,r){switch(t.getGeometryType()){case i.G.enumPoint:return this.distancePointEnvelope(t,e,r,n);case i.G.enumMultiPoint:{this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const i=this.distanceMultipointMultipath(t,N(e),r,n);return this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i}case i.G.enumPolyline:case i.G.enumPolygon:return this.distanceMultipathMultipath(N(e),t,n,r);case i.G.enumEnvelope:return this.distanceEnvelopeEnvelope(e,t,n,r);default:return Number.NaN}}distanceEnvelopeEnvelope(e,t,n,r){n.t=Number.NaN,n.index=-1,r.t=Number.NaN,r.index=-1;const i=e.asEnvelope2D(),s=t.asEnvelope2D();return Math.sqrt(i.sqrDistanceEnvelope(s,n.outPoint,r.outPoint))}distanceMultipathGeometry(e,t,n,r){switch(t.getGeometryType()){case i.G.enumPoint:{this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const i=this.distancePointMultipath(t,e,r,n);return this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i}case i.G.enumMultiPoint:{this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const i=this.distanceMultipointMultipath(t,e,r,n);return this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i}case i.G.enumPolyline:case i.G.enumPolygon:return this.distanceMultipathMultipath(e,t,n,r);case i.G.enumEnvelope:return this.distanceMultipathMultipath(e,N(t),n,r);default:return Number.NaN}}distanceMultipathMultipath(e,t,n,i){const o={stack:[],error:void 0,hasError:!1};try{const u=[e],h=[t],l=this.swapGeometriesIfAGtB(u,h);l&&(this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),_(n,i)),(0,r.b)(o,(0,m.h)((()=>{_(n,i),this.m_env2DgeometryB=(0,m.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)}),!l),!1);const v=u[0],N=h[0],P=v.querySegmentIterator();P.stripAttributes();const f=N.querySegmentIterator();if(f.stripAttributes(),this.m_bIsNearCalc&&this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)<=this.m_maxSqrDistance)return 0;if(this.m_bIsNearCalc){const e=Math.trunc((0,m.s)(Math.sqrt(v.getPointCount())+1,1,(0,m.i)())),t=Math.trunc((0,m.s)(Math.sqrt(v.getPointCount())+1,1,(0,m.i)()));if(this.distanceMultipointMultipoint(v,N,n,i,e,t)<=this.m_maxSqrDistance)return 0}if(this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)){const e=c(),t=c();if(p(v,N,P,f,e,t))return g(n,e),g(i,t),0}const I=D(v),d=[],E=new s.S,x=new a.Envelope2D,q=new a.Envelope2D,M=new a.Envelope2D;let G=this.m_maxSqrDistance,b=!0,S=!1;for(let e=0,t=I.length;e<t;++e){v.querySegment(I[e],E,!0);const t=E.get();if(t.queryEnvelope(x),!(x.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>G)){if(this.m_bIsNearCalc&&x.sqrMaxDistanceEnvelope(this.m_env2DgeometryB)<=G)return 0;for(;f.nextPath();){if(this.progress_(),b)N.queryPathEnvelope(f.getPathIndex(),M),d[f.getPathIndex()]=M.clone();else if(x.sqrDistanceEnvelope(d[f.getPathIndex()],null,null)>G)continue;for(;f.hasNextSegment();){const r=f.nextSegment();if(r.queryEnvelope(q),x.sqrDistanceEnvelope(q,null,null)<=G){const s=!x.isIntersecting(q),o=[0],m=[0];let a=t.distance(r,s,o,m);if(a*=a,this.m_bIsNearCalc&&a<=this.m_maxSqrDistance)return 0;if(a<G||a===G&&I[e]<n.index){if(S=!0,y(n,t,I[e],o[0]),y(i,r,f.getStartPointIndex(),m[0]),0===a)return 0;G=a}}}}f.resetToFirstPath(),b=!1}}return S?Math.sqrt(G):Number.POSITIVE_INFINITY}catch(u){o.error=u,o.hasError=!0}finally{(0,r.c)(o)}}swapGeometriesIfAGtB(e,t){return(0,i.v)(e[0])>(0,i.v)(t[0])&&(t[0]=(0,m.c)(e[0],e[0]=t[0]),!0)}swapGeometriesIfBGtA(e,t){return this.swapGeometriesIfAGtB(t,e)}}},82079:(e,t,n)=>{n.d(t,{d:()=>c,e:()=>a,s:()=>u});var r=n(62188),i=n(71943),s=n(92976),o=n(62900);const m=new class{getOperatorType(){return 10100}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}execute(e,t,n){return this.executeEx(e,t,n,null,null,Number.NaN)}executeEx(e,t,n,s,o,m){if(e.isEmpty()||t.isEmpty())return Number.NaN;(0,r.c)(e),(0,r.c)(t);const a=e,u=t;Number.isNaN(m)&&(m=Number.POSITIVE_INFINITY);const c=new i.D(m,n).calculate(a,u,s,o);return Number.isFinite(c)?c:Number.NaN}};function a(e,t,n={}){const{unit:r}=n;let i=m.execute((0,o.fromGeometry)(e),(0,o.fromGeometry)(t),null);if(i&&r){const t=(0,o.getSpatialReference)(e);i=(0,s.PQ)(i,t,r)}return i}const u=m.supportsCurves(),c=Object.freeze(Object.defineProperty({__proto__:null,execute:a,supportsCurves:u},Symbol.toStringTag,{value:"Module"}))},92079:(e,t,n)=>{n.r(t),n.d(t,{execute:()=>r.e,supportsCurves:()=>r.s});var r=n(82079);n(92976),n(62900)}}]);