"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[73579],{31803:(t,e,n)=>{n.d(e,{N:()=>_,a:()=>E,c:()=>M,e:()=>I,f:()=>T,g:()=>y,k:()=>A,l:()=>m,m:()=>q,n:()=>p,o:()=>U,p:()=>O,s:()=>k,w:()=>S});n(39831),n(539);var r=n(92504),i=n(21742),o=n(24121),c=n(58359),u=n(2662),f=n(28152),s=n(65257),a=n(58331),l=n(10151);function h(t,e){const n=(0,o.l)(t),i=(0,r.YN)(t[2]/n),c=Math.atan2(t[1]/n,t[0]/n);return(0,o.i)(e,n,i,c),e}var d=n(16597),g=n(45573);const _=M();function M(){return(0,f.vt)()}const p=u.e,v=u.e;function I(t,e){return(0,u.c)(e,t)}function m(t,e){return(0,f.fA)(t[0],t[1],t[2],e)}function S(t){return t}function y(t){return t[3]}function E(t){return t}function T(t,e,n,r){return(0,f.fA)(t,e,n,r)}function N(t,e,n){if(null==e)return!1;if(!b(t,e,B))return!1;let{t0:r,t1:i}=B;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(n){const{origin:t,direction:i}=e;n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n[2]=t[2]+i[2]*r}return!0}function q(t,e,n){const r=(0,l.Cr)(e,n);if(!b(t,r,B))return[];const{origin:i,direction:u}=r,{t0:f,t1:a}=B,h=e=>{const n=(0,c.vt)();return(0,o.b)(n,i,u,e),O(t,n,n)};return Math.abs(f-a)<(0,s.FD)()?[h(f)]:[h(f),h(a)]}const B={t0:0,t1:0};function b(t,e,n){const{origin:r,direction:i}=e,o=w;o[0]=r[0]-t[0],o[1]=r[1]-t[1],o[2]=r[2]-t[2];const c=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===c)return!1;const u=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),f=u*u-4*c*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(f<0)return!1;const s=Math.sqrt(f);return n.t0=(-u-s)/(2*c),n.t1=(-u+s)/(2*c),!0}const w=(0,c.vt)();function A(t,e){return N(t,e,null)}function C(t,e,n){const r=g.rq.get(),c=g.Rc.get();(0,o.h)(r,e.origin,e.direction);const u=y(t);(0,o.h)(n,r,e.origin),(0,o.g)(n,n,1/(0,o.l)(n)*u);const f=P(t,e.origin),s=(0,d.g7)(e.origin,n);return(0,i.$0)(c,s+f,r),(0,o.t)(n,n,c),n}function O(t,e,n){const r=(0,o.d)(g.rq.get(),e,t),i=(0,o.g)(g.rq.get(),r,t[3]/(0,o.l)(r));return(0,o.f)(n,i,t)}function P(t,e){const n=(0,o.d)(g.rq.get(),e,t),i=(0,o.l)(n),c=y(t),u=c+Math.abs(c-i);return(0,r.XM)(c/u)}const V=(0,c.vt)();function R(t,e,n,r){const i=(0,o.d)(V,e,t);switch(n){case a._.X:{const t=h(i,V)[2];return(0,o.i)(r,-Math.sin(t),Math.cos(t),0)}case a._.Y:{const t=h(i,V),e=t[1],n=t[2],c=Math.sin(e);return(0,o.i)(r,-c*Math.cos(n),-c*Math.sin(n),Math.cos(e))}case a._.Z:return(0,o.n)(r,i);default:return}}function D(t,e){const n=(0,o.d)(z,e,t);return(0,o.l)(n)-t[3]}function U(t,e){const n=(0,o.s)(t,e),r=y(t);return n<=r*r}const z=(0,c.vt)(),j=M(),k=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:_,altitudeAt:D,angleToSilhouette:P,axisAt:R,cameraFrustumCoverage:function(t,e,n,r){const i=y(t),o=i*i,c=e+.5*Math.PI,u=n*n+o-2*Math.cos(c)*n*i,f=Math.sqrt(u),s=u-o;if(s<=0)return.5;const a=Math.sqrt(s),l=Math.acos(a/f)-Math.asin(i/(f/Math.sin(c)));return Math.min(1,(l+.5*r)/r)},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,e,n){return N(t,e,n)?n:((0,l.oC)(e,t,n),O(t,n,n))},closestPointOnSilhouette:C,containsPoint:U,copy:I,create:M,distanceToSilhouette:function(t,e){const n=(0,o.d)(g.rq.get(),e,t),r=(0,o.k)(n),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:v,exactEquals:p,fromCenterAndRadius:m,fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},fromValues:T,getCenter:E,getExtent:function(t,e){return e},getRadius:y,intersectLine:q,intersectRay:N,intersectRayClosestSilhouette:function(t,e,n){if(N(t,e,n))return n;const r=C(t,e,g.rq.get());return(0,o.f)(n,e.origin,(0,o.g)(g.rq.get(),e.direction,(0,o.j)(e.origin,r)/(0,o.l)(e.direction))),n},intersectsRay:A,projectPoint:O,setAltitudeAt:function(t,e,n,r){const i=D(t,e),c=R(t,e,a._.Z,z),u=(0,o.g)(z,c,n-i);return(0,o.f)(r,e,u)},setExtent:function(t,e,n){return t!==n&&I(t,n),n},tmpSphere:j,union:function(t,e,n=(0,f.vt)()){const r=(0,o.j)(t,e),i=t[3],c=e[3];return r+c<i?((0,u.c)(n,t),n):r+i<c?((0,u.c)(n,e),n):((0,o.m)(n,t,e,(r+c-i)/(2*r)),n[3]=(r+i+c)/2,n)},wrap:S},Symbol.toStringTag,{value:"Module"}))},21839:(t,e,n)=>{n.d(e,{a:()=>l,b:()=>u,c:()=>c,d:()=>i,e:()=>h,f:()=>a,l:()=>s,n:()=>d,t:()=>o});var r=n(31415);n(39831),n(539);function i(t,e,n){o(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function o(t,e,n,r=3,i=r){if(t.length/r!==Math.ceil(e.length/i))return t;const o=t.length/r,c=n[0],u=n[1],f=n[2],s=n[4],a=n[5],l=n[6],h=n[8],d=n[9],g=n[10],_=n[12],M=n[13],p=n[14];let v=0,I=0;for(let m=0;m<o;m++){const n=e[v],o=e[v+1],m=e[v+2];t[I]=c*n+s*o+h*m+_,t[I+1]=u*n+a*o+d*m+M,t[I+2]=f*n+l*o+g*m+p,v+=i,I+=r}return t}function c(t,e,n){u(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function u(t,e,n,r=3,i=r){if(t.length/r!==Math.ceil(e.length/i))return;const o=t.length/r,c=n[0],u=n[1],f=n[2],s=n[3],a=n[4],l=n[5],h=n[6],d=n[7],g=n[8];let _=0,M=0;for(let p=0;p<o;p++){const n=e[_],o=e[_+1],p=e[_+2];t[M]=c*n+s*o+h*p,t[M+1]=u*n+a*o+d*p,t[M+2]=f*n+l*o+g*p,_+=i,M+=r}}function f(t,e,n,r=3,i=r){const o=Math.min(t.length/r,e.length/i);let c=0,u=0;for(let f=0;f<o;f++)t[u]=n*e[c],t[u+1]=n*e[c+1],t[u+2]=n*e[c+2],c+=i,u+=r;return t}function s(t,e,n,r){a(t.typedBuffer,e.typedBuffer,n,r,t.typedBufferStride,e.typedBufferStride)}function a(t,e,n,i,o=3,c=o){const u=Math.min(t.length/o,e.length/c);let f=0,s=0;const a=1/r.Tf;for(let r=0;r<u;r++)t[s]=i*(n*e[f])**a,t[s+1]=i*(n*e[f+1])**a,t[s+2]=i*(n*e[f+2])**a,f+=c,s+=o}function l(t,e,n,r=3,i=r){const o=t.length/r;if(o!==Math.ceil(e.length/i))return t;let c=0,u=0;for(let f=0;f<o;f++)t[u]=e[c]+n[0],t[u+1]=e[c+1]+n[1],t[u+2]=e[c+2]+n[2],c+=i,u+=r;return t}function h(t,e){d(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function d(t,e,n=3,r=n){const i=Math.min(t.length/n,e.length/r);let o=0,c=0;for(let u=0;u<i;u++){const i=e[o],u=e[o+1],f=e[o+2],s=i*i+u*u+f*f;if(s>0){const e=1/Math.sqrt(s);t[c]=e*i,t[c+1]=e*u,t[c+2]=e*f}o+=r,c+=n}}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:a,linearToSRGBView:s,normalize:d,normalizeView:h,scale:f,scaleView:function(t,e,n){f(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)},shiftRight:function(t,e,n){const r=Math.min(t.count,e.count),i=t.typedBuffer,o=t.typedBufferStride,c=e.typedBuffer,u=e.typedBufferStride;let f=0,s=0;for(let a=0;a<r;a++)i[s]=c[f]>>n,i[s+1]=c[f+1]>>n,i[s+2]=c[f+2]>>n,f+=u,s+=o},transformMat3:u,transformMat3View:c,transformMat4:o,transformMat4View:i,translate:l},Symbol.toStringTag,{value:"Module"}))},12364:(t,e,n)=>{n.d(e,{a:()=>o,b:()=>a,l:()=>s,n:()=>u,t:()=>c});var r=n(31415),i=(n(39831),n(539));function o(t,e,n){c(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function c(t,e,n,r=4,i=r){if(t.length/r!=e.length/i)return;const o=t.length/r,c=n[0],u=n[1],f=n[2],s=n[3],a=n[4],l=n[5],h=n[6],d=n[7],g=n[8];let _=0,M=0;for(let p=0;p<o;p++){const n=e[_],o=e[_+1],p=e[_+2],v=e[_+3];t[M]=c*n+s*o+h*p,t[M+1]=u*n+a*o+d*p,t[M+2]=f*n+l*o+g*p,t[M+3]=v,_+=i,M+=r}}function u(t,e){const n=Math.min(t.count,e.count),r=t.typedBuffer,i=t.typedBufferStride,o=e.typedBuffer,c=e.typedBufferStride;for(let u=0;u<n;u++){const t=u*i,e=u*c,n=o[e],f=o[e+1],s=o[e+2],a=n*n+f*f+s*s;if(a>0){const e=1/Math.sqrt(a);r[t]=e*n,r[t+1]=e*f,r[t+2]=e*s}}}function f(t,e,n,r=4){const i=Math.min(t.length/r,e.count),o=e.typedBuffer,c=e.typedBufferStride;let u=0,f=0;for(let s=0;s<i;s++)t[f]=n*o[u],t[f+1]=n*o[u+1],t[f+2]=n*o[u+2],t[f+3]=n*o[u+3],u+=c,f+=r}function s(t,e,n,r){a(t.typedBuffer,e,n,r,t.typedBufferStride)}function a(t,e,n,i,o=4){const c=Math.min(t.length/o,e.count),u=e.typedBuffer,f=e.typedBufferStride;let s=0,a=0;const l=1/r.Tf;for(let r=0;r<c;r++)t[a]=i*(n*u[s])**l,t[a+1]=i*(n*u[s+1])**l,t[a+2]=i*(n*u[s+2])**l,t[a+3]=i*n*u[s+3],s+=f,a+=o}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:a,linearToSRGBView:s,normalize:u,scale:f,scaleView:function(t,e,n){f(t.typedBuffer,e,n,t.typedBufferStride)},transformMat3:c,transformMat3View:o,transformMat4:function(t,e,n,r=4,o=r){if(t.length/r!=e.length/o)return void i.A.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const c=t.length/r,u=n[0],f=n[1],s=n[2],a=n[3],l=n[4],h=n[5],d=n[6],g=n[7],_=n[8],M=n[9],p=n[10],v=n[11],I=n[12],m=n[13],S=n[14],y=n[15];let E=0,T=0;for(let i=0;i<c;i++){const n=e[E],i=e[E+1],c=e[E+2],N=e[E+3];t[T]=u*n+l*i+_*c+I*N,t[T+1]=f*n+h*i+M*c+m*N,t[T+2]=s*n+d*i+p*c+S*N,t[T+3]=a*n+g*i+v*c+y*N,E+=o,T+=r}},transformMat4View:function(t,e,n){if(t.count!==e.count)return;const r=t.count,i=n[0],o=n[1],c=n[2],u=n[3],f=n[4],s=n[5],a=n[6],l=n[7],h=n[8],d=n[9],g=n[10],_=n[11],M=n[12],p=n[13],v=n[14],I=n[15],m=t.typedBuffer,S=t.typedBufferStride,y=e.typedBuffer,E=e.typedBufferStride;for(let T=0;T<r;T++){const t=T*S,e=T*E,n=y[e],r=y[e+1],N=y[e+2],q=y[e+3];m[t]=i*n+f*r+h*N+M*q,m[t+1]=o*n+s*r+d*N+p*q,m[t+2]=c*n+a*r+g*N+v*q,m[t+3]=u*n+l*r+_*N+I*q}}},Symbol.toStringTag,{value:"Module"}))},80912:(t,e,n)=>{n.d(e,{O:()=>r});class r{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get outerSize(){return this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,n){const r=this._outer.get(t);r?r.set(e,n):this._outer.set(t,new Map([[e,n]]))}delete(t,e){const n=this._outer.get(t);n&&(n.delete(e),0===n.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,n)=>t(e,n)))}forAll(t){this._outer.forEach(((e,n)=>e.forEach(((e,r)=>t(e,n,r)))))}}},92114:(t,e,n)=>{n.d(e,{I:()=>i});var r=n(37103);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}const o=1024},86128:(t,e,n)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,e,n,r,i,o,c,u,f,s,a,l,h,d,g,_){return[t,e,n,r,i,o,c,u,f,s,a,l,h,d,g,_]}n.d(e,{fA:()=>o,o8:()=>i,vt:()=>r,zK:()=>c});const c=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:c,clone:i,create:r,fromValues:o},Symbol.toStringTag,{value:"Module"}))},38911:(t,e,n)=>{function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}n.d(e,{o8:()=>i,vt:()=>r,zK:()=>o});const o=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:i,create:r,fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},32937:(t,e,n)=>{n.d(e,{Y0:()=>s,lO:()=>a});var r=n(47936),i=n(78983),o=n(87926);const c=new i.A(r.fv),u=new i.A(r.FY),f=new i.A(r.LJ),s=new i.A(r.Ro);function a(t){const e=l.get(t);if(e)return e;let n=c;if(t)if(t===u)n=u;else if(t===f)n=f;else{const e=t.wkid,r=t.latestWkid;if(null!=e||null!=r)(0,o.tl)(e)||(0,o.tl)(r)?n=u:((0,o.ZL)(e)||(0,o.ZL)(r))&&(n=f);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===h?n=u:t===d&&(n=f)}}}return l.set(t,n),n}const l=new Map,h=u.wkt.toUpperCase(),d=f.wkt.toUpperCase()},22759:(t,e,n)=>{n.d(e,{C:()=>s,Cr:()=>l,H6:()=>_,_I:()=>d,dz:()=>M,fA:()=>a,kb:()=>h,ld:()=>p,sd:()=>g,vt:()=>f});var r=n(92504),i=n(92114),o=n(24121),c=n(58359),u=n(45573);function f(t){return t?{origin:(0,c.o8)(t.origin),vector:(0,c.o8)(t.vector)}:{origin:(0,c.vt)(),vector:(0,c.vt)()}}function s(t,e=f()){return a(t.origin,t.vector,e)}function a(t,e,n=f()){return(0,o.c)(n.origin,t),(0,o.c)(n.vector,e),n}function l(t,e,n=f()){return(0,o.c)(n.origin,t),(0,o.d)(n.vector,e,t),n}function h(t,e){const n=(0,o.d)(u.rq.get(),e,t.origin),i=(0,o.e)(t.vector,n),c=(0,o.e)(t.vector,t.vector),f=(0,r.qE)(i/c,0,1),s=(0,o.d)(u.rq.get(),(0,o.g)(u.rq.get(),t.vector,f),n);return(0,o.e)(s,s)}function d(t,e,n){return _(t,e,0,1,n)}function g(t,e,n){return(0,o.f)(n,t.origin,(0,o.g)(n,t.vector,e))}function _(t,e,n,i,c){const{vector:f,origin:s}=t,a=(0,o.d)(u.rq.get(),e,s),l=(0,o.e)(f,a)/(0,o.k)(f);return(0,o.g)(c,f,(0,r.qE)(l,n,i)),(0,o.f)(c,c,t.origin)}function M(t,e){if(v(t,function(t,e){const n=m.get();return n.origin=t,n.vector=e,n}(e.origin,e.direction),!1,I)){const{tA:e,pB:n,distance2:r}=I;if(e>=0&&e<=1)return r;if(e<0)return(0,o.s)(t.origin,n);if(e>1)return(0,o.s)((0,o.f)(u.rq.get(),t.origin,t.vector),n)}return null}function p(t,e,n){return!!v(t,e,!0,I)&&((0,o.c)(n,I.pA),!0)}function v(t,e,n,i){const c=1e-6,f=t.origin,s=(0,o.f)(u.rq.get(),f,t.vector),a=e.origin,l=(0,o.f)(u.rq.get(),a,e.vector),h=u.rq.get(),d=u.rq.get();if(h[0]=f[0]-a[0],h[1]=f[1]-a[1],h[2]=f[2]-a[2],d[0]=l[0]-a[0],d[1]=l[1]-a[1],d[2]=l[2]-a[2],Math.abs(d[0])<c&&Math.abs(d[1])<c&&Math.abs(d[2])<c)return!1;const g=u.rq.get();if(g[0]=s[0]-f[0],g[1]=s[1]-f[1],g[2]=s[2]-f[2],Math.abs(g[0])<c&&Math.abs(g[1])<c&&Math.abs(g[2])<c)return!1;const _=h[0]*d[0]+h[1]*d[1]+h[2]*d[2],M=d[0]*g[0]+d[1]*g[1]+d[2]*g[2],p=h[0]*g[0]+h[1]*g[1]+h[2]*g[2],v=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],I=(g[0]*g[0]+g[1]*g[1]+g[2]*g[2])*v-M*M;if(Math.abs(I)<c)return!1;let m=(_*M-p*v)/I,S=(_+M*m)/v;n&&(m=(0,r.qE)(m,0,1),S=(0,r.qE)(S,0,1));const y=u.rq.get(),E=u.rq.get();return y[0]=f[0]+m*g[0],y[1]=f[1]+m*g[1],y[2]=f[2]+m*g[2],E[0]=a[0]+S*d[0],E[1]=a[1]+S*d[1],E[2]=a[2]+S*d[2],i.tA=m,i.tB=S,i.pA=y,i.pB=E,i.distance2=(0,o.s)(y,E),!0}const I={tA:0,tB:0,pA:(0,c.vt)(),pB:(0,c.vt)(),distance2:0},m=new i.I((()=>f()))},38774:(t,e,n)=>{n.d(e,{C:()=>l,Cr:()=>_,Io:()=>R,LV:()=>a,O_:()=>g,Qj:()=>h,T7:()=>w,Tj:()=>C,U5:()=>B,Ui:()=>b,Z1:()=>V,_I:()=>P,b6:()=>O,ci:()=>p,fA:()=>d,gv:()=>A,lU:()=>M,mN:()=>D,mP:()=>T,mR:()=>q,vt:()=>s,ze:()=>N});var r=n(92504),i=n(24121),o=n(58359),c=(n(2662),n(16597)),u=n(45573),f=n(72699);function s(t=k){return[t[0],t[1],t[2],t[3]]}function a(t=k[0],e=k[1],n=k[2],r=k[3]){return d(t,e,n,r,u.Km.get())}function l(t,e){return d(e[0],e[1],e[2],e[3],t)}function h(t){return t}function d(t,e,n,r,i=s()){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function g(t,e,n){const r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function _(t,e,n,r=s()){const i=n[0]-e[0],o=n[1]-e[1],c=n[2]-e[2],u=t[0]-e[0],f=t[1]-e[1],a=t[2]-e[2],l=o*a-c*f,h=c*u-i*a,d=i*f-o*u,g=l*l+h*h+d*d,_=Math.abs(g-1)>1e-5&&g>1e-12?1/Math.sqrt(g):1;return r[0]=l*_,r[1]=h*_,r[2]=d*_,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function M(t,e,n,r=0,o=Math.floor(n*(1/3)),c=Math.floor(n*(2/3))){if(n<3)return!1;e(I,r);let u=o,f=!1;for(;u<n-1&&!f;)e(m,u),u++,f=!(0,i.q)(I,m);if(!f)return!1;for(u=Math.max(u,c),f=!1;u<n&&!f;)e(S,u),u++,(0,i.d)(y,I,m),(0,i.n)(y,y),(0,i.d)(E,m,S),(0,i.n)(E,E),f=!(0,i.q)(I,S)&&!(0,i.q)(m,S)&&Math.abs((0,i.e)(y,E))<v;return f?(_(I,m,S,t),!0):(0!==r||1!==o||2!==c)&&M(t,e,n,0,1,2)}function p(t,e,n=!0){const r=e.length/3;return M(t,((t,n)=>(0,i.i)(t,e[3*n+0],e[3*n+1],e[3*n+2])),n?r-1:r)}const v=.99619469809,I=(0,o.vt)(),m=(0,o.vt)(),S=(0,o.vt)(),y=(0,o.vt)(),E=(0,o.vt)();function T(t,e,n){return e!==t&&l(t,e),t[3]=-(0,i.e)(t,n),t}function N(t,e){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function q(t,e,n,r){return(0,i.h)(S,e,t),g(n,S,r)}function B(t,e,n,r){return z(j(t,e,(0,i.d)(u.rq.get(),n,e),L,r))}function b(t,e,n){return null!=e&&z(j(t,e.origin,e.direction,X,n))}function w(t,e,n){return z(j(t,e.origin,e.vector,F.NONE,n))}function A(t,e,n){return z(j(t,e.origin,e.vector,F.CLAMP,n))}function C(t,e){return D(t,e)>=0}function O(t,e){const n=(0,i.e)(t,e.ray.direction),r=-D(t,e.ray.origin);if(n>-1e-6&&n<1e-6)return r>0;const o=r/n;return n>0?o<e.c1&&(e.c1=o):o>e.c0&&(e.c0=o),e.c0<=e.c1}function P(t,e,n){const r=(0,i.g)(u.rq.get(),t,-t[3]),o=function(t,e,n){const r=(0,i.g)(u.rq.get(),t,(0,i.e)(t,e));return(0,i.d)(n,e,r),n}(t,(0,i.d)(u.rq.get(),e,r),u.rq.get());return(0,i.f)(n,o,r),n}function V(t,e,n,r){const o=t,s=u.rq.get(),a=u.rq.get();(0,f.VV)(o,s,a);const l=(0,i.d)(u.rq.get(),n,e),h=(0,c.gr)(s,l),d=(0,c.gr)(a,l),g=(0,c.gr)(o,l);return(0,i.i)(r,h,d,g)}function R(t,e){return Math.abs(D(t,e))}function D(t,e){return(0,i.e)(t,e)+t[3]}var U;function z(t){return t===U.INTERSECTS_INSIDE_OUT||t===U.INTERSECTS_OUTSIDE_IN}function j(t,e,n,o,c){const u=(0,i.e)(t,n),f=D(t,e);if(0===u)return f>=0?U.INSIDE:U.OUTSIDE;let s=-f/u;return o&F.CLAMP&&(s=(0,r.qE)(s,0,1)),!(o&F.INFINITE_MIN)&&s<0||!(o&F.INFINITE_MAX)&&s>1?f>=0?U.INSIDE:U.OUTSIDE:((0,i.f)(c,e,(0,i.g)(c,n,s)),f>=0?U.INTERSECTS_INSIDE_OUT:U.INTERSECTS_OUTSIDE_IN)}!function(t){t[t.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",t[t.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",t[t.INSIDE=2]="INSIDE",t[t.OUTSIDE=3]="OUTSIDE"}(U||(U={}));const k=[0,0,1,0];var F;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(F||(F={}));const L=F.INFINITE_MIN|F.INFINITE_MAX,X=F.INFINITE_MAX},10151:(t,e,n)=>{n.d(e,{C:()=>l,Cr:()=>h,LV:()=>a,kb:()=>d,oC:()=>g,vt:()=>f});n(85569);var r=n(92114),i=(n(25423),n(78607)),o=n(24121),c=n(58359),u=n(45573);function f(t){return t?s((0,c.o8)(t.origin),(0,c.o8)(t.direction)):s((0,c.vt)(),(0,c.vt)())}function s(t,e){return{origin:t,direction:e}}function a(t,e){const n=_.get();return n.origin=t,n.direction=e,n}function l(t,e=f()){return function(t,e,n=f()){return(0,o.c)(n.origin,t),(0,o.c)(n.direction,e),n}(t.origin,t.direction,e)}function h(t,e,n=f()){return(0,o.c)(n.origin,t),(0,o.d)(n.direction,e,t),n}function d(t,e){const n=(0,o.h)(u.rq.get(),(0,o.n)(u.rq.get(),t.direction),(0,o.d)(u.rq.get(),e,t.origin));return(0,o.e)(n,n)}function g(t,e,n){const r=(0,o.e)(t.direction,(0,o.d)(n,e,t.origin));return(0,o.f)(n,t.origin,(0,o.g)(n,t.direction,r)),n}const _=new r.I((()=>f()));(0,c.vt)(),(0,c.vt)(),(0,c.vt)(),(0,i.vt)()},50958:(t,e,n)=>{n.d(e,{Fm:()=>f,Q7:()=>s});var r=n(92114),i=n(24121),o=n(58359),c=n(22759);n(45573);function u(t){return t?{p0:(0,o.o8)(t.p0),p1:(0,o.o8)(t.p1),p2:(0,o.o8)(t.p2)}:{p0:(0,o.vt)(),p1:(0,o.vt)(),p2:(0,o.vt)()}}function f(t,e,n){const r=e[0]-t[0],i=e[1]-t[1],o=n[0]-t[0],c=n[1]-t[1];return.5*Math.abs(r*c-i*o)}function s(t,e,n){return(0,i.d)(a,e,t),(0,i.d)(l,n,t),.5*(0,i.l)((0,i.h)(a,a,l))}new r.I(c.vt),new r.I((()=>u()));const a=(0,o.vt)(),l=(0,o.vt)()},16597:(t,e,n)=>{n.d(e,{EJ:()=>s,_I:()=>c,g7:()=>f,gr:()=>u});var r=n(92504),i=n(24121),o=n(58359);function c(t,e,n){const r=(0,i.e)(t,e)/(0,i.e)(t,t);return(0,i.g)(n,t,r)}function u(t,e){return(0,i.e)(t,e)/(0,i.l)(t)}function f(t,e){const n=(0,i.e)(t,e)/((0,i.l)(t)*(0,i.l)(e));return-(0,r.XM)(n)}function s(t,e,n){(0,i.n)(a,t),(0,i.n)(l,e);const o=(0,i.e)(a,l),c=(0,r.XM)(o),u=(0,i.h)(a,a,l);return(0,i.e)(u,n)<0?2*Math.PI-c:c}const a=(0,o.vt)(),l=(0,o.vt)()},45573:(t,e,n)=>{n.d(e,{Rc:()=>g,J8:()=>_,oG:()=>l,rq:()=>h,Km:()=>d});n(39831);var r=n(37103),i=n(78607),o=n(86128),c=n(38911),u=n(59646),f=n(58359),s=n(28152);class a{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.d)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new a(u.vt)}static createVec3f64(){return new a(f.vt)}static createVec4f64(){return new a(s.vt)}static createMat3f64(){return new a(i.vt)}static createMat4f64(){return new a(o.vt)}static createQuatf64(){return new a(c.vt)}get test(){}}const l=a.createVec2f64(),h=a.createVec3f64(),d=a.createVec4f64(),g=(a.createMat3f64(),a.createMat4f64()),_=a.createQuatf64()},72699:(t,e,n)=>{n.d(e,{VV:()=>u,hG:()=>o,wp:()=>c});n(92504);var r=n(24121),i=n(58359);function o(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],n=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],r=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}function c(t,e){const n=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),i=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),o=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return(0,r.i)(t,n,i,o),t}function u(t,e,n){Math.abs(t[0])>Math.abs(t[1])?(0,r.i)(e,0,1,0):(0,r.i)(e,1,0,0),(0,r.h)(n,t,e),(0,r.h)(e,n,t),(0,r.n)(n,n),(0,r.n)(e,e)}(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)()}}]);