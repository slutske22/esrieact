"use strict";
exports.id = 6527;
exports.ids = [6527,835,3164,2724];
exports.modules = {

/***/ 17504:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ C),
/* harmony export */   b: () => (/* binding */ w)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40641);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1110);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(66012);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(33045);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39739);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(56178);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(63269);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(80600);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(34328);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(33448);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(89002);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(63592);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(1411);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(81868);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function w(w){const C=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_14__/* .ShaderBuilder */ .N5,{vertex:j,fragment:y,attributes:L,varyings:O}=C;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_11__/* .addProjViewLocalOrigin */ .NB)(j,w),C.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .Transform */ .d,w),C.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_VertexColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexColor */ .c,w),C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_9__/* .VisualVariables */ .A,w),C.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .ObjectAndLayerIdColor */ .g,w),L.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__/* .VertexAttribute */ .r.POSITION,"vec3"),w.vvColor&&L.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_16__/* .VertexAttribute */ .r.COLORFEATUREATTRIBUTE,"float"),O.add("vColor","vec4"),O.add("vpos","vec3");const A=w.multipassEnabled&&(w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color||w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Alpha);A&&O.add("depth","float"),j.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__/* .Float4PassUniform */ .E("eColor",(e=>e.color)));const T=w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Depth;T&&(C.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_6__/* .OutputDepth */ .L,w),(0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .addNearFar */ .xJ)(C),(0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .addLinearDepth */ .Mu)(C)),j.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`
    void main(void) {
      vpos = position;
      forwardNormalizedVertexColor();
      forwardObjectAndLayerIdColor();

      ${w.hasVertexColors?"vColor *= eColor;":w.vvColor?"vColor = eColor * interpolateVVColor(colorFeatureAttribute);":"vColor = eColor;"}
      ${A?"depth = (view * vec4(vpos, 1.0)).z;":""}
      gl_Position = ${T?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`transformPositionWithDepth(proj, view, vpos, nearFar, linearDepth);`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`transformPosition(proj, view, vpos);`}
    }
  `),C.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .SliceDraw */ .HQ,w),A&&C.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__/* .multipassTerrainTest */ .Q,w),y.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_10__/* .ColorConversion */ .a);const $=w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Highlight;return $&&C.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .OutputHighlight */ .Qh,w),y.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`
  void main() {
    discardBySlice(vpos);
    ${A?"terrainDepthTest(depth);":""}
    vec4 fColor = vColor;

    ${w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.ObjectAndLayerIdColor?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`fColor.a = 1.0;`:""}

    if (fColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_17__/* .symbolAlphaCutoff */ .y)}) {
      discard;
    }

    ${w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Alpha?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`fragColor = vec4(fColor.a);`:""}

    ${w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`fragColor = highlightSlice(fColor, vpos); ${w.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_15__/* .TransparencyPassType */ .y.Color?"fragColor = premultiplyAlpha(fragColor);":""}`:""}
    ${$?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`outputHighlight();`:""};
    ${w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Depth?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`outputDepth(linearDepth);`:""};
    ${w.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.ObjectAndLayerIdColor?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_13__/* .glsl */ .H)`outputObjectAndLayerIdColor();`:""}
  }
  `),C}const C=Object.freeze(Object.defineProperty({__proto__:null,build:w},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 69726:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ H),
/* harmony export */   b: () => (/* binding */ F),
/* harmony export */   c: () => (/* binding */ D)
/* harmony export */ });
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58680);
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78286);
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52712);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(55274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1110);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(33045);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16917);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(97085);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUDOcclusionPass_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(36985);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_hud_HUDVisibility_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(3097);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(63269);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(34328);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(33448);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(89002);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(70224);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(6916);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(63592);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(54473);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(1411);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(35449);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(79856);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(81868);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function F(o){const i=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_20__/* .ShaderBuilder */ .N5,F=o.signedDistanceFieldEnabled;if(i.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUD_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .HUD */ .Q,o),i.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .SliceDraw */ .HQ,o),o.occlusionPass)return i.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUDOcclusionPass_glsl_js__WEBPACK_IMPORTED_MODULE_8__/* .HUDOcclusionPass */ .I,o),i;const{vertex:B,fragment:H}=i;i.include(_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_14__/* .ScreenSizePerspective */ .Y6),H.include(_views_3d_webgl_engine_core_shaderLibrary_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_13__/* .RgbaFloatEncoding */ .W),H.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_12__/* .ColorConversion */ .a),i.include(_views_3d_webgl_engine_core_shaderLibrary_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_11__/* .VisualVariables */ .A,o),i.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_5__/* .ObjectAndLayerIdColor */ .g,o),i.include(_views_3d_webgl_engine_core_shaderLibrary_hud_HUDVisibility_glsl_js__WEBPACK_IMPORTED_MODULE_9__/* .HUDVisibility */ .y),i.varyings.add("vcolor","vec4"),i.varyings.add("vtc","vec2"),i.varyings.add("vsize","vec2"),i.varyings.add("voccluded","float"),B.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__/* .Float4PassUniform */ .E("viewport",((e,o)=>o.camera.fullViewport)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_16__/* .Float2PassUniform */ .G("screenOffset",((o,i)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(T,2*o.screenOffset[0]*i.camera.pixelRatio,2*o.screenOffset[1]*i.camera.pixelRatio))),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_16__/* .Float2PassUniform */ .G("anchorPosition",(e=>D(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__/* .Float4PassUniform */ .E("materialColor",(e=>e.color))),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_15__/* .addPixelRatio */ .Nz)(B),F&&(B.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__/* .Float4PassUniform */ .E("outlineColor",(e=>e.outlineColor))),H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_17__/* .Float4PassUniform */ .E("outlineColor",(e=>L(e)?e.outlineColor:_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.Z)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_18__/* .FloatPassUniform */ .m("outlineSize",(e=>L(e)?e.outlineSize:0)))),o.pixelSnappingEnabled&&B.include(_views_3d_webgl_engine_core_shaderLibrary_hud_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_6__/* .AlignPixel */ .K),o.hasScreenSizePerspective&&((0,_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_14__/* .addScreenSizePerspective */ .pM)(B),(0,_views_3d_webgl_engine_core_shaderLibrary_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_14__/* .addScreenSizePerspectiveAlignment */ .OH)(B)),o.debugDrawLabelBorder&&i.varyings.add("debugBorderCoords","vec4"),i.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__/* .VertexAttribute */ .r.UV0,"vec2"),i.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__/* .VertexAttribute */ .r.COLOR,"vec4"),i.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__/* .VertexAttribute */ .r.SIZE,"vec2"),i.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_23__/* .VertexAttribute */ .r.FEATUREATTRIBUTE,"vec4"),B.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
    void main(void) {
      ProjectHUDAux projectAux;
      vec4 posProj = projectPositionHUD(projectAux);
      forwardObjectAndLayerIdColor();

      if (rejectBySlice(projectAux.posModel)) {
        // Project outside of clip plane
        gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
        return;
      }
      vec2 inputSize;
      ${o.hasScreenSizePerspective?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
            inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);
            vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);
         `:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
            inputSize = size;
            vec2 screenOffsetScaled = screenOffset;`}

      ${o.vvSize?"inputSize *= vvScale(featureAttribute).xx;":""}

      vec2 combinedSize = inputSize * pixelRatio;
      vec4 quadOffset = vec4(0.0);
      bool visible = testHUDVisibility(posProj);
      voccluded = visible ? 0.0 : 1.0;
    `);const U=(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`vec2 uv01 = floor(uv0);
vec2 uv = uv0 - uv01;
quadOffset.xy = ((uv01 - anchorPosition) * 2.0 * combinedSize + screenOffsetScaled) / viewport.zw * posProj.w;`,V=o.pixelSnappingEnabled?F?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`posProj += quadOffset;
if (inputSize.x == size.x) {
posProj = alignToPixelOrigin(posProj, viewport.zw);
}`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`posProj += quadOffset;`;B.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
    ${o.occlusionTestEnabled?"if (visible) {":""}
    ${U}
    ${o.vvColor?"vcolor = interpolateVVColor(featureAttribute.y) * materialColor;":"vcolor = color / 255.0 * materialColor;"}

    ${o.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__/* .ShaderOutput */ .V.ObjectAndLayerIdColor?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`vcolor.a = 1.0;`:""}

    bool alphaDiscard = vcolor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_24__/* .symbolAlphaCutoff */ .y)};
    ${F?`alphaDiscard = alphaDiscard && outlineColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_24__/* .symbolAlphaCutoff */ .y)};`:""}
    if (alphaDiscard) {
      // "early discard" if both symbol color (= fill) and outline color (if applicable) are transparent
      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
      return;
    } else {
      ${V}
      gl_Position = posProj;
    }

    vtc = uv;

    ${o.debugDrawLabelBorder?"debugBorderCoords = vec4(uv01, 1.5 / combinedSize);":""}
    vsize = inputSize;
    ${o.occlusionTestEnabled?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`} else { vtc = vec2(0.0);
      ${o.debugDrawLabelBorder?"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);}":"}"}`:""}
  }
  `),H.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_21__/* .Texture2DPassUniform */ .N("tex",(e=>e.texture)));const E=o.debugDrawLabelBorder?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`(isBorder > 0.0 ? 0.0 : ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_24__/* .defaultMaskAlphaCutoff */ .H)})`:_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_24__/* .defaultMaskAlphaCutoff */ .H),I=(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
    ${o.debugDrawLabelBorder?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
      float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`:""}

    ${o.sampleSignedDistanceFieldTexelCenter?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
      // Attempt to sample texel centers to avoid that thin cross outlines
      // disappear with large symbol sizes.
      // see: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/7058#issuecomment-603041
      float txSize = float(textureSize(tex, 0).x);
      float texelSize = 1.0 / txSize;

      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel
      vec2 scaleFactor = (vsize - txSize) * texelSize;
      vec2 samplePos = vtc + (vec2(1.0, -1.0) * texelSize) * scaleFactor;
      `:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
      vec2 samplePos = vtc;
      `}

    ${F?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
      vec4 fillPixelColor = vcolor;

      // Get distance and map it into [-0.5, 0.5]
      float d = rgba2float(texture(tex, samplePos)) - 0.5;

      // Distance in output units (i.e. pixels)
      float dist = d * vsize.x;

      // Create smooth transition from the icon into its outline
      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);
      fillPixelColor.a *= fillAlphaFactor;

      if (outlineSize > 0.25) {
        vec4 outlinePixelColor = outlineColor;
        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);

        // Create smooth transition around outline
        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);
        outlinePixelColor.a *= outlineAlphaFactor;

        if (
          outlineAlphaFactor + fillAlphaFactor < ${E} ||
          fillPixelColor.a + outlinePixelColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_24__/* .symbolAlphaCutoff */ .y)}
        ) {
          discard;
        }

        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)
        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);
        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +
          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);

        fragColor = vec4(compositeColor, compositeAlpha);
      } else {
        if (fillAlphaFactor < ${E}) {
          discard;
        }

        fragColor = premultiplyAlpha(fillPixelColor);
      }

      // visualize SDF:
      // fragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);
      `:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
          vec4 texColor = texture(tex, vtc, -0.5);
          if (texColor.a < ${E}) {
            discard;
          }
          fragColor = texColor * premultiplyAlpha(vcolor);
          `}

    // Draw debug border with transparency, so that original texels along border are still partially visible
    ${o.debugDrawLabelBorder?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`fragColor = mix(fragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder * 0.5);`:""}
  `;switch(o.output){case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__/* .ShaderOutput */ .V.Color:H.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
        void main() {
          ${I}
          ${o.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_22__/* .TransparencyPassType */ .y.FrontFace?"fragColor.rgb /= fragColor.a;":""}
        }`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__/* .ShaderOutput */ .V.Alpha:H.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
        void main() {
          ${I}
          fragColor = vec4(fragColor.a);
        }`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__/* .ShaderOutput */ .V.ObjectAndLayerIdColor:H.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
        void main() {
          ${I}
          outputObjectAndLayerIdColor();
        }`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_3__/* .ShaderOutput */ .V.Highlight:H.constants.add("occludedHighlightFlag","vec4",_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_10__/* .occludedHighlightFlag */ .U).add("unoccludedHighlightFlag","vec4",_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_10__/* .unoccludedHighlightFlag */ .bO),H.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_19__/* .glsl */ .H)`
        void main() {
          ${I}
          if (voccluded == 1.0) {
            fragColor = occludedHighlightFlag;
          } else {
            fragColor = unoccludedHighlightFlag;
          }
        }`)}return i}function L(e){return e.outlineColor[3]>0&&e.outlineSize>0}function D(e,i=T){return e.textureIsSignedDistanceField?B(e.anchorPosition,e.distanceFieldBoundingBox,i):(0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.j)(i,e.anchorPosition),i}function B(o,i,r){null!=i?(0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(r,o[0]*(i[2]-i[0])+i[0],o[1]*(i[3]-i[1])+i[1]):(0,_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(r,0,0)}const T=(0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),H=Object.freeze(Object.defineProperty({__proto__:null,build:F,calculateAnchorPosForRendering:D},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 44350:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ m),
/* harmony export */   b: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(55274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1110);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(66012);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80600);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(33448);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(89002);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(63592);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(35449);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(79856);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(81868);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(v){const m=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_8__/* .ShaderBuilder */ .N5,{vertex:f,fragment:u}=m;return (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_5__/* .addProjViewLocalOrigin */ .NB)(f,v),m.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .Transform */ .d,v),m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.POSITION,"vec3"),m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.UV0,"vec2"),v.perspectiveInterpolation&&m.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.PERSPECTIVEDIVIDE,"float"),m.varyings.add("vpos","vec3"),v.multipassEnabled&&m.varyings.add("depth","float"),f.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`
    void main(void) {
      vpos = position;
      ${v.multipassEnabled?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0;
      gl_Position = transformPosition(proj, view, vpos);

      ${v.perspectiveInterpolation?"gl_Position *= perspectiveDivide;":""}
    }
  `),m.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .SliceDraw */ .HQ,v),m.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .multipassTerrainTest */ .Q,v),u.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__/* .Texture2DPassUniform */ .N("tex",(e=>e.texture)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .FloatPassUniform */ .m("opacity",(e=>e.opacity))),m.varyings.add("vTexCoord","vec2"),v.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.Alpha?u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`
    void main() {
      discardBySlice(vpos);
      ${v.multipassEnabled?"terrainDepthTest(depth);":""}

      float alpha = texture(tex, vTexCoord).a * opacity;
      if (alpha  < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__/* .defaultMaskAlphaCutoff */ .H)}) {
        discard;
      }

      fragColor = vec4(alpha);
    }
    `):(u.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .ColorConversion */ .a),u.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`
    void main() {
      discardBySlice(vpos);
      ${v.multipassEnabled?"terrainDepthTest(depth);":""}
      fragColor = texture(tex, vTexCoord) * opacity;

      if (fragColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_12__/* .defaultMaskAlphaCutoff */ .H)}) {
        discard;
      }

      fragColor = highlightSlice(fragColor, vpos);
      ${v.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_10__/* .TransparencyPassType */ .y.Color?"fragColor = premultiplyAlpha(fragColor);":""}
    }
    `)),m}const m=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 14628:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ w),
/* harmony export */   b: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(56192);
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(58680);
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78286);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(35911);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(54473);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(35449);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(20778);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(i){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_9__/* .ShaderBuilder */ .N5;r.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .Laserline */ .K,i);const{vertex:v,fragment:w}=r;return v.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__/* .Matrix4PassUniform */ .X("modelView",((i,o)=>(0,_mat4_js__WEBPACK_IMPORTED_MODULE_0__.w)(m,o.camera.viewMatrix,i.origin))),new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_8__/* .Matrix4PassUniform */ .X("proj",((e,i)=>i.camera.projectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .FloatPassUniform */ .m("glowWidth",((e,i)=>e.glowWidth*i.camera.pixelRatio)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Float2PassUniform */ .G("pixelToNDC",((e,i)=>(0,_vec2_js__WEBPACK_IMPORTED_MODULE_2__.s)(p,2/i.camera.fullViewport[2],2/i.camera.fullViewport[3])))),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__/* .VertexAttribute */ .r.START,"vec3"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__/* .VertexAttribute */ .r.END,"vec3"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__/* .VertexAttribute */ .r.UP,"vec3"),r.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__/* .VertexAttribute */ .r.EXTRUDE,"vec2"),r.varyings.add("uv","vec2"),r.varyings.add("vViewStart","vec3"),r.varyings.add("vViewEnd","vec3"),r.varyings.add("vViewPlane","vec4"),v.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`void main() {
vec3 pos = mix(start, end, extrude.x);
vec4 viewPos = modelView * vec4(pos, 1);
vec4 projPos = proj * viewPos;
vec2 ndcPos = projPos.xy / projPos.w;
vec3 viewUp = (modelView * vec4(extrude.y * up, 0)).xyz;
vec4 projPosUp = proj * vec4(viewPos.xyz + viewUp, 1);
vec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);
vec2 lxy = abs(sign(projExtrudeDir) - ndcPos);
ndcPos += length(lxy) * projExtrudeDir;
vec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));
vec3 viewPlaneNormal = (modelView * vec4(worldPlaneNormal, 0)).xyz;
vViewStart = (modelView * vec4(start, 1)).xyz;
vViewEnd = (modelView * vec4(end, 1)).xyz;
vViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));
float xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;
ndcPos.x += xPaddingPixels * pixelToNDC.x;
uv = ndcPos * 0.5 + 0.5;
gl_Position = vec4(ndcPos, 0, 1);
}`),w.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .FloatPassUniform */ .m("perScreenPixelRatio",((e,i)=>i.camera.perScreenPixelRatio))),w.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {
vec3 origin = mix(start, end, 0.5);
vec3 basis = end - origin;
vec3 posAtOrigin = pos - origin;
float x = dot(normalize(basis), posAtOrigin);
float y = dot(plane.xyz, posAtOrigin);
float dx = max(abs(x) - length(basis), 0.0);
float dy = y;
float dist = length(vec2(dx, dy));
float width = fwidth(y);
float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;
float pixelDist = dist / min(width, maxPixelDistance);
return abs(pixelDist);
}
void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
vec3 dEndStart = vViewEnd - vViewStart;
if (dot(dEndStart, dEndStart) < 1e-5) {
discard;
}
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
float distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);
vec4 color = laserlineProfile(distance);
float alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));
fragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);
}`),r}const p=(0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),m=(0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),w=Object.freeze(Object.defineProperty({__proto__:null,build:v},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 250:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ _),
/* harmony export */   b: () => (/* binding */ A),
/* harmony export */   d: () => (/* binding */ C)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(58680);
/* harmony import */ var _vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(78286);
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21839);
/* harmony import */ var _vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22279);
/* harmony import */ var _vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(25102);
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(52712);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(22759);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(38774);
/* harmony import */ var _sphere_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(96245);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(35911);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(16961);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(54473);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(60840);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(1411);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(35449);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(4274);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const C=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .deg2rad */ .kU)(6);function A(e){const i=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_17__/* .ShaderBuilder */ .N5;i.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_11__/* .ScreenSpacePass */ .c),i.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_10__/* .Laserline */ .K,e);const t=i.fragment;if(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)if(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__/* .FloatPassUniform */ .m("maxPixelDistance",((i,t)=>e.heightManifoldEnabled?2*t.camera.computeScreenPixelSizeAt(i.heightManifoldTarget):2*t.camera.computeScreenPixelSizeAt(i.lineVerticalPlaneSegment.origin)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`float planeDistancePixels(vec4 plane, vec3 pos) {
float dist = dot(plane.xyz, pos) + plane.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`),e.spherical){const e=(e,i,t)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(e,i.heightManifoldTarget,t.camera.viewMatrix),i=(e,i)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(e,[0,0,0],i.camera.viewMatrix);t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .Float4PassUniform */ .E("heightManifoldOrigin",((t,r)=>(e(T,t,r),i(U,r),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(U,U,T),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(R,U),R[3]=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)(U),R))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float3PassUniform */ .t("globalOrigin",((e,t)=>i(T,t))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__/* .FloatPassUniform */ .m("cosSphericalAngleThreshold",((e,i)=>1-Math.max(2,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(i.camera.eye,e.heightManifoldTarget)*i.camera.perRenderPixelRatio)/(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)(e.heightManifoldTarget)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`float globeDistancePixels(float posInGlobalOriginLength) {
float dist = abs(posInGlobalOriginLength - heightManifoldOrigin.w);
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}
float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {
vec3 posInGlobalOriginNorm = normalize(globalOrigin - pos);
float cosAngle = dot(posInGlobalOriginNorm, heightManifoldOrigin.xyz);
vec3 posInGlobalOrigin = globalOrigin - pos;
float posInGlobalOriginLength = length(posInGlobalOrigin);
float sphericalDistance = globeDistancePixels(posInGlobalOriginLength);
float planarDistance = planeDistancePixels(heightPlane, pos);
return cosAngle < cosSphericalAngleThreshold ? sphericalDistance : planarDistance;
}`)}else t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`float heightManifoldDistancePixels(vec4 heightPlane, vec3 pos) {
return planeDistancePixels(heightPlane, pos);
}`);if(e.pointDistanceEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__/* .FloatPassUniform */ .m("maxPixelDistance",((e,i)=>2*i.camera.computeScreenPixelSizeAt(e.pointDistanceTarget)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`float sphereDistancePixels(vec4 sphere, vec3 pos) {
float dist = distance(sphere.xyz, pos) - sphere.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`)),e.intersectsLineEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__/* .FloatPassUniform */ .m("perScreenPixelRatio",((e,i)=>i.camera.perScreenPixelRatio))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {
float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);
return abs(dist) - radius;
}`)),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {
vec3 dir = end - start;
float t2 = dot(dir, pos - start);
float l2 = dot(dir, dir);
return t2 >= 0.0 && t2 <= l2;
}`),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
vec4 color = vec4(0, 0, 0, 0);`),e.heightManifoldEnabled){t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__/* .Float2PassUniform */ .G("angleCutoff",(e=>V(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .Float4PassUniform */ .E("heightPlane",((e,i)=>z(e.heightManifoldTarget,e.renderCoordsHelper.worldUpAtPosition(e.heightManifoldTarget,T),i.camera.viewMatrix))));const i=e.spherical?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`normalize(globalOrigin - pos)`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`heightPlane.xyz`;t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`
    {
      float heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, ${i})));
      vec4 heightManifoldColor = laserlineProfile(heightManifoldDistancePixels(heightPlane, pos));
      color = max(color, heightManifoldColor * heightManifoldAlpha);
    }
    `)}return e.pointDistanceEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__/* .Float2PassUniform */ .G("angleCutoff",(e=>V(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .Float4PassUniform */ .E("pointDistanceSphere",((e,i)=>j(e,i)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`{
float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);
vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);
float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));
color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);
}`)),e.lineVerticalPlaneEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__/* .Float2PassUniform */ .G("angleCutoff",(e=>V(e))),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .Float4PassUniform */ .E("lineVerticalPlane",((e,i)=>y(e,i))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float3PassUniform */ .t("lineVerticalStart",((e,i)=>O(e,i))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float3PassUniform */ .t("lineVerticalEnd",((e,i)=>E(e,i)))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`{
if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {
float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);
vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);
float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));
color = max(color, lineVerticalColor * lineVerticalAlpha);
}
}`)),e.intersectsLineEnabled&&(t.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__/* .Float2PassUniform */ .G("angleCutoff",(e=>V(e))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float3PassUniform */ .t("intersectsLineStart",((e,i)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(T,e.lineStartWorld,i.camera.viewMatrix))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float3PassUniform */ .t("intersectsLineEnd",((e,i)=>(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(T,e.lineEndWorld,i.camera.viewMatrix))),new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float3PassUniform */ .t("intersectsLineDirection",((e,i)=>((0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(R,e.intersectsLineSegment.vector),R[3]=0,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(T,(0,_vec4_js__WEBPACK_IMPORTED_MODULE_5__.t)(R,R,i.camera.viewMatrix))))),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_15__/* .FloatPassUniform */ .m("intersectsLineRadius",(e=>e.intersectsLineRadius))),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`{
if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {
float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);
vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);
float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));
color = max(color, intersectsLineColor * intersectsLineAlpha);
}
}`)),t.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_16__/* .glsl */ .H)`fragColor = laserlineOutput(color * depthDiscontinuityAlpha);
}`),i}function V(t){return (0,_vec2_js__WEBPACK_IMPORTED_MODULE_1__.s)(I,Math.cos(t.angleCutoff),Math.cos(Math.max(0,t.angleCutoff-(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .deg2rad */ .kU)(2))))}function j(e,i){return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(H,e.pointDistanceOrigin,i.camera.viewMatrix),H[3]=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.o)(e.pointDistanceOrigin,e.pointDistanceTarget),H}function y(e,i){const t=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_7__/* .pointAt */ .sd)(e.lineVerticalPlaneSegment,.5,T),n=e.renderCoordsHelper.worldUpAtPosition(t,G),o=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(U,e.lineVerticalPlaneSegment.vector),r=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(R,n,o);return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(r,r),z(e.lineVerticalPlaneSegment.origin,r,i.camera.viewMatrix)}function O(e,i){const t=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(T,e.lineVerticalPlaneSegment.origin);return e.renderCoordsHelper.setAltitude(t,0),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(t,t,i.camera.viewMatrix)}function E(e,i){const t=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)(T,e.lineVerticalPlaneSegment.origin,e.lineVerticalPlaneSegment.vector);return e.renderCoordsHelper.setAltitude(t,0),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(t,t,i.camera.viewMatrix)}function z(e,i,t){return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.e)(F,e,t),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(R,i),R[3]=0,(0,_vec4_js__WEBPACK_IMPORTED_MODULE_5__.t)(R,R,t),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__/* .fromPositionAndNormal */ .O_)(F,R,W)}const I=(0,_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),T=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),R=(0,_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),G=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),U=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),F=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),W=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_8__/* .create */ .vt)(),H=(0,_sphere_js__WEBPACK_IMPORTED_MODULE_9__.c)(),_=Object.freeze(Object.defineProperty({__proto__:null,build:A,defaultAngleCutoff:C},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 36004:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ d),
/* harmony export */   a: () => (/* binding */ m),
/* harmony export */   b: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _views_3d_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(36572);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16961);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35449);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3445);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(79856);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class d extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .NoParameters */ .Y{constructor(){super(...arguments),this.overlayIndex=_views_3d_terrain_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .OverlayIndex */ .vr.INNER,this.opacity=1}}function l(){const e=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_5__/* .ShaderBuilder */ .N5;return e.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .ScreenSpacePass */ .c),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Texture2DPassUniform */ .N("tex",(e=>e.texture))),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_IntegerPassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .IntegerPassUniform */ .c("overlayIdx",(e=>e.overlayIndex))),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .FloatPassUniform */ .m("opacity",(e=>e.opacity))),e.fragment.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .glsl */ .H)`void main() {
vec2 overlayUV = overlayIdx == 0 ? vec2(uv.x * 0.5, uv.y) : vec2(uv.x * 0.5 + 0.5, uv.y);
fragColor = texture(tex, overlayUV) * opacity;
}`),e}const m=Object.freeze(Object.defineProperty({__proto__:null,OverlayCompositingPassParameters:d,build:l},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 50126:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   R: () => (/* binding */ R),
/* harmony export */   b: () => (/* binding */ A),
/* harmony export */   r: () => (/* binding */ j)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40641);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1110);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(33045);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(56289);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(56178);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6821);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(2119);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(80600);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(66579);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(33448);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(89002);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(63592);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(54473);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(1411);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(35449);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(20778);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(81868);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(50645);
/* harmony import */ var _views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(58376);
/* harmony import */ var _views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(16906);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const j=1;function A(A){const R=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_17__/* .ShaderBuilder */ .N5,{vertex:P,fragment:F}=R,z=A.multipassEnabled&&(A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color||A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Alpha);R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_PiUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__/* .PiUtils */ .p),R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_RibbonVertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .RibbonVertexPosition */ .s,A),R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_6__/* .LineStipple */ .q,A);const E=A.applyMarkerOffset&&!A.draped;E&&(P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .FloatPassUniform */ .m("markerScale",(e=>e.markerScale))),R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MarkerSizing_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .MarkerSizing */ .r,{space:_views_3d_webgl_engine_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_20__/* .LineMarkerSpace */ .lM.World,draped:!1})),A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Depth&&R.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputDepth_glsl_js__WEBPACK_IMPORTED_MODULE_5__/* .OutputDepth */ .L,A),R.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .ObjectAndLayerIdColor */ .g,A),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_11__/* .addProjViewLocalOrigin */ .NB)(P,A),P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_16__/* .Matrix4PassUniform */ .X("inverseProjectionMatrix",((e,i)=>i.camera.inverseProjectionMatrix)),new _views_3d_webgl_engine_core_shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_12__/* .Float2PassUniform */ .G("nearFar",((e,i)=>i.camera.nearFar)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .FloatPassUniform */ .m("miterLimit",(e=>"miter"!==e.join?0:e.miterLimit)),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float4PassUniform */ .E("viewport",((e,i)=>i.camera.fullViewport))),P.constants.add("LARGE_HALF_FLOAT","float",65500),R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_19__/* .VertexAttribute */ .r.POSITION,"vec3"),R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_19__/* .VertexAttribute */ .r.SUBDIVISIONFACTOR,"float"),R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_19__/* .VertexAttribute */ .r.UV0,"vec2"),R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_19__/* .VertexAttribute */ .r.AUXPOS1,"vec3"),R.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_19__/* .VertexAttribute */ .r.AUXPOS2,"vec3"),R.varyings.add("vColor","vec4"),R.varyings.add("vpos","vec3"),(0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .addLinearDepth */ .Mu)(R),z&&R.varyings.add("depth","float");const T=A.stippleEnabled;T&&R.varyings.add("vLineSizeInv","float");const W=A.capType===_views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_21__/* .CapType */ .x.ROUND,V=T||W;V&&R.varyings.add("vLineWidth","float");const O=A.innerColorEnabled||W;O&&R.varyings.add("vLineDistance","float");const N=A.stippleEnabled&&W,I=A.falloffEnabled||N;I&&R.varyings.add("vLineDistanceNorm","float"),W&&(R.varyings.add("vSegmentSDF","float"),R.varyings.add("vReverseSegmentSDF","float")),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`#define PERPENDICULAR(v) vec2(v.y, -v.x);
float interp(float ncp, vec4 a, vec4 b) {
return (-ncp - a.z) / (b.z - a.z);
}
vec2 rotate(vec2 v, float a) {
float s = sin(a);
float c = cos(a);
mat2 m = mat2(c, -s, s, c);
return m * v;
}`),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vec4 projectAndScale(vec4 pos) {
vec4 posNdc = proj * pos;
posNdc.xy *= viewport.zw / posNdc.w;
return posNdc;
}`),(0,_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .addCalculateLinearDepth */ .i$)(R),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
    void clipAndTransform(inout vec4 pos, inout vec4 prev, inout vec4 next, in bool isStartVertex) {
      float vnp = nearFar[0] * 0.99;

      if(pos.z > -nearFar[0]) {
        //current pos behind ncp --> we need to clip
        if (!isStartVertex) {
          if(prev.z < -nearFar[0]) {
            //previous in front of ncp
            pos = mix(prev, pos, interp(vnp, prev, pos));
            next = pos;
          } else {
            pos = vec4(0.0, 0.0, 0.0, 1.0);
          }
        } else {
          if(next.z < -nearFar[0]) {
            //next in front of ncp
            pos = mix(pos, next, interp(vnp, pos, next));
            prev = pos;
          } else {
            pos = vec4(0.0, 0.0, 0.0, 1.0);
          }
        }
      } else {
        //current position visible
        if (prev.z > -nearFar[0]) {
          //previous behind ncp
          prev = mix(pos, prev, interp(vnp, pos, prev));
        }
        if (next.z > -nearFar[0]) {
          //next behind ncp
          next = mix(next, pos, interp(vnp, next, pos));
        }
      }

      ${z?"depth = pos.z;":""}
      linearDepth = calculateLinearDepth(nearFar,pos.z);

      pos = projectAndScale(pos);
      next = projectAndScale(next);
      prev = projectAndScale(prev);
    }
  `),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_11__/* .addPixelRatio */ .Nz)(P),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
  void main(void) {
    // unpack values from uv0.y
    bool isStartVertex = abs(abs(uv0.y)-3.0) == 1.0;

    float coverage = 1.0;

    // Check for special value of uv0.y which is used by the Renderer when graphics
    // are removed before the VBO is recompacted. If this is the case, then we just
    // project outside of clip space.
    if (uv0.y == 0.0) {
      // Project out of clip space
      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);
    }
    else {
      bool isJoin = abs(uv0.y) < 3.0;

      float lineSize = getSize();
      float lineWidth = lineSize * pixelRatio;

      ${V?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vLineWidth = lineWidth;`:""}
      ${T?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vLineSizeInv = 1.0 / lineSize;`:""}

      // convert sub-pixel coverage to alpha
      if (lineWidth < 1.0) {
        coverage = lineWidth;
        lineWidth = 1.0;
      }else{
        // Ribbon lines cannot properly render non-integer sizes. Round width to integer size if
        // larger than one for better quality. Note that we do render < 1 pixels more or less correctly
        // so we only really care to round anything larger than 1.
        lineWidth = floor(lineWidth + 0.5);
      }

      vec4 pos  = view * vec4(position.xyz, 1.0);
      vec4 prev = view * vec4(auxpos1.xyz, 1.0);
      vec4 next = view * vec4(auxpos2.xyz, 1.0);
  `),E&&P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vec4 other = isStartVertex ? next : prev;
bool markersHidden = areWorldMarkersHidden(pos, other);
if(!isJoin && !markersHidden) {
pos.xyz += normalize(other.xyz - pos.xyz) * getWorldMarkerSize(pos) * 0.5;
}`),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`clipAndTransform(pos, prev, next, isStartVertex);
vec2 left = (pos.xy - prev.xy);
vec2 right = (next.xy - pos.xy);
float leftLen = length(left);
float rightLen = length(right);`);(A.stippleEnabled||W)&&P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
      float isEndVertex = float(!isStartVertex);
      vec2 segmentOrigin = mix(pos.xy, prev.xy, isEndVertex);
      vec2 segment = mix(right, left, isEndVertex);
      ${W?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vec2 segmentEnd = mix(next.xy, pos.xy, isEndVertex);`:""}
    `),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`left = (leftLen > 0.001) ? left/leftLen : vec2(0.0, 0.0);
right = (rightLen > 0.001) ? right/rightLen : vec2(0.0, 0.0);
vec2 capDisplacementDir = vec2(0, 0);
vec2 joinDisplacementDir = vec2(0, 0);
float displacementLen = lineWidth;
if (isJoin) {
bool isOutside = (left.x * right.y - left.y * right.x) * uv0.y > 0.0;
joinDisplacementDir = normalize(left + right);
joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);
if (leftLen > 0.001 && rightLen > 0.001) {
float nDotSeg = dot(joinDisplacementDir, left);
displacementLen /= length(nDotSeg * left - joinDisplacementDir);
if (!isOutside) {
displacementLen = min(displacementLen, min(leftLen, rightLen)/abs(nDotSeg));
}
}
if (isOutside && (displacementLen > miterLimit * lineWidth)) {`),A.roundJoins?P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
        vec2 startDir = leftLen < 0.001 ? right : left;
        startDir = PERPENDICULAR(startDir);

        vec2 endDir = rightLen < 0.001 ? left : right;
        endDir = PERPENDICULAR(endDir);

        float factor = ${A.stippleEnabled?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`min(1.0, subdivisionFactor * ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H.float((j+2)/(j+1))})`:(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`subdivisionFactor`};

        float rotationAngle = acos(clamp(dot(startDir, endDir), -1.0, 1.0));
        joinDisplacementDir = rotate(startDir, -sign(uv0.y) * factor * rotationAngle);
      `):P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`if (leftLen < 0.001) {
joinDisplacementDir = right;
}
else if (rightLen < 0.001) {
joinDisplacementDir = left;
}
else {
joinDisplacementDir = (isStartVertex || subdivisionFactor > 0.0) ? right : left;
}
joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);`);const $=A.capType!==_views_3d_webgl_engine_shaders_RibbonLineTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_21__/* .CapType */ .x.BUTT;return P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
        displacementLen = lineWidth;
      }
    } else {
      // CAP handling ---------------------------------------------------
      joinDisplacementDir = isStartVertex ? right : left;
      joinDisplacementDir = PERPENDICULAR(joinDisplacementDir);

      ${$?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`capDisplacementDir = isStartVertex ? -right : left;`:""}
    }
  `),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
    // Displacement (in pixels) caused by join/or cap
    vec2 dpos = joinDisplacementDir * sign(uv0.y) * displacementLen + capDisplacementDir * displacementLen;

    ${I||O?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`float lineDistNorm = sign(uv0.y) * pos.w;`:""}

    ${O?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vLineDistance = lineWidth * lineDistNorm;`:""}
    ${I?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vLineDistanceNorm = lineDistNorm;`:""}

    pos.xy += dpos;
  `),W&&P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vec2 segmentDir = normalize(segment);
vSegmentSDF = (isJoin && isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentOrigin, segmentDir) * pos.w) ;
vReverseSegmentSDF = (isJoin && !isStartVertex) ? LARGE_HALF_FLOAT : (dot(pos.xy - segmentEnd, -segmentDir) * pos.w);`),A.stippleEnabled&&(A.draped?P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .FloatPassUniform */ .m("worldToScreenRatio",((e,i)=>1/i.screenToPCSRatio))):P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vec3 segmentCenter = mix((auxpos2 + position) * 0.5, (position + auxpos1) * 0.5, isEndVertex);
float worldToScreenRatio = computeWorldToScreenRatio(segmentCenter);`),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`float segmentLengthScreenDouble = length(segment);
float segmentLengthScreen = segmentLengthScreenDouble * 0.5;
float discreteWorldToScreenRatio = discretizeWorldToScreenRatio(worldToScreenRatio);
float segmentLengthRender = length(mix(auxpos2 - position, position - auxpos1, isEndVertex));
vStipplePatternStretch = worldToScreenRatio / discreteWorldToScreenRatio;`),A.draped?P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`float segmentLengthPseudoScreen = segmentLengthScreen / pixelRatio * discreteWorldToScreenRatio / worldToScreenRatio;
float startPseudoScreen = uv0.x * discreteWorldToScreenRatio - mix(0.0, segmentLengthPseudoScreen, isEndVertex);`):P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`float startPseudoScreen = mix(uv0.x, uv0.x - segmentLengthRender, isEndVertex) * discreteWorldToScreenRatio;
float segmentLengthPseudoScreen = segmentLengthRender * discreteWorldToScreenRatio;`),P.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .FloatPassUniform */ .m("stipplePatternPixelSize",(e=>(0,_views_3d_webgl_engine_core_shaderLibrary_shading_LineStipple_glsl_js__WEBPACK_IMPORTED_MODULE_6__/* .computePixelSize */ .h)(e)))),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`float patternLength = lineSize * stipplePatternPixelSize;
vStippleDistanceLimits = computeStippleDistanceLimits(startPseudoScreen, segmentLengthPseudoScreen, segmentLengthScreen, patternLength);
vStippleDistance = mix(vStippleDistanceLimits.x, vStippleDistanceLimits.y, isEndVertex);
if (segmentLengthScreenDouble >= 0.001) {
vec2 stippleDisplacement = pos.xy - segmentOrigin;
float stippleDisplacementFactor = dot(segment, stippleDisplacement) / (segmentLengthScreenDouble * segmentLengthScreenDouble);
vStippleDistance += (stippleDisplacementFactor - isEndVertex) * (vStippleDistanceLimits.y - vStippleDistanceLimits.x);
}
vStippleDistanceLimits *= pos.w;
vStippleDistance *= pos.w;
vStippleDistanceLimits = isJoin ?
vStippleDistanceLimits :
isStartVertex ?
vec2(-1e34, vStippleDistanceLimits.y) :
vec2(vStippleDistanceLimits.x, 1e34);`)),P.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
      // Convert back into NDC
      pos.xy = (pos.xy / viewport.zw) * pos.w;

      vColor = getColor();
      vColor.a *= coverage;

      ${A.wireframe&&!A.draped?"pos.z -= 0.001 * pos.w;":""}

      // transform final position to camera space for slicing
      vpos = (inverseProjectionMatrix * pos).xyz;
      gl_Position = pos;
      forwardObjectAndLayerIdColor();
    }
  }
  `),z&&R.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__/* .multipassTerrainTest */ .Q,A),R.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .SliceDraw */ .HQ,A),F.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_10__/* .ColorConversion */ .a),F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
  void main() {
    discardBySlice(vpos);
    ${z?"terrainDepthTest(depth);":""}
  `),A.wireframe?F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vec4 finalColor = vec4(1.0, 0.0, 1.0, 1.0);`):(W&&F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
      float sdf = min(vSegmentSDF, vReverseSegmentSDF);
      vec2 fragmentPosition = vec2(
        min(sdf, 0.0),
        vLineDistance
      ) * gl_FragCoord.w;

      float fragmentRadius = length(fragmentPosition);
      float fragmentCapSDF = (fragmentRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale
      float capCoverage = clamp(0.5 - fragmentCapSDF, 0.0, 1.0);

      if (capCoverage < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__/* .symbolAlphaCutoff */ .y)}) {
        discard;
      }
    `),N?F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
      vec2 stipplePosition = vec2(
        min(getStippleSDF() * 2.0 - 1.0, 0.0),
        vLineDistanceNorm * gl_FragCoord.w
      );
      float stippleRadius = length(stipplePosition * vLineWidth);
      float stippleCapSDF = (stippleRadius - vLineWidth) * 0.5; // Divide by 2 to transform from double pixel scale
      float stippleCoverage = clamp(0.5 - stippleCapSDF, 0.0, 1.0);
      float stippleAlpha = step(${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__/* .symbolAlphaCutoff */ .y)}, stippleCoverage);
      `):F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`float stippleAlpha = getStippleAlpha();`),A.output!==_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.ObjectAndLayerIdColor&&F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`discardByStippleAlpha(stippleAlpha, stippleAlphaColorDiscard);`),F.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float4PassUniform */ .E("intrinsicColor",(e=>e.color))),F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vec4 color = intrinsicColor * vColor;`),A.innerColorEnabled&&(F.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_13__/* .Float4PassUniform */ .E("innerColor",(e=>e.innerColor??e.color)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .FloatPassUniform */ .m("innerWidth",((e,i)=>e.innerWidth*i.camera.pixelRatio))),F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`float distToInner = abs(vLineDistance * gl_FragCoord.w) - innerWidth;
float innerAA = clamp(0.5 - distToInner, 0.0, 1.0);
float innerAlpha = innerColor.a + color.a * (1.0 - innerColor.a);
color = mix(color, vec4(innerColor.rgb, innerAlpha), innerAA);`)),F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`vec4 finalColor = blendStipple(color, stippleAlpha);`),A.falloffEnabled&&(F.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_14__/* .FloatPassUniform */ .m("falloff",(e=>e.falloff))),F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`finalColor.a *= pow(max(0.0, 1.0 - abs(vLineDistanceNorm * gl_FragCoord.w)), falloff);`))),F.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`
    ${A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.ObjectAndLayerIdColor?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`finalColor.a = 1.0;`:""}

    if (finalColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__/* .symbolAlphaCutoff */ .y)}) {
      discard;
    }

    ${A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Alpha?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`fragColor = vec4(finalColor.a);`:""}
    ${A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`fragColor = highlightSlice(finalColor, vpos);`:""}
    ${A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color&&A.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_18__/* .TransparencyPassType */ .y.Color?"fragColor = premultiplyAlpha(fragColor);":""}
    ${A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Highlight?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`fragColor = vec4(1.0);`:""}
    ${A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Depth?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`outputDepth(linearDepth);`:""}
    ${A.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.ObjectAndLayerIdColor?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_15__/* .glsl */ .H)`outputObjectAndLayerIdColor();`:""}
  }
  `),R}const R=Object.freeze(Object.defineProperty({__proto__:null,build:A,ribbonlineNumRoundJoinSubdivisions:j},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 86451:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: () => (/* binding */ h),
/* harmony export */   b: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52712);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80010);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(55274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1110);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(66012);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(80600);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(33448);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(89002);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(63592);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(60840);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(1411);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(81868);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(e){const p=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_11__/* .ShaderBuilder */ .N5,b=e.multipassEnabled&&(e.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__/* .ShaderOutput */ .V.Color||e.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__/* .ShaderOutput */ .V.Alpha);p.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .Transform */ .d,e),p.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .ScreenSizeScaling */ .L,e),p.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .SliceDraw */ .HQ,e);const{vertex:h,fragment:C}=p;return C.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_6__/* .ColorConversion */ .a),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .addProjViewLocalOrigin */ .NB)(h,e),C.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__/* .Float4PassUniform */ .E("uColor",(e=>e.color))),p.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.POSITION,"vec3"),p.varyings.add("vWorldPosition","vec3"),b&&p.varyings.add("depth","float"),e.screenSizeEnabled&&p.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.OFFSET,"vec3"),e.shadingEnabled&&((0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .addViewNormal */ .S7)(h),p.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.NORMAL,"vec3"),p.varyings.add("vViewNormal","vec3")),h.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
    void main(void) {
      vWorldPosition = ${e.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `),e.shadingEnabled&&h.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),h.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
    ${b?"depth = (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `),b&&p.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_5__/* .multipassTerrainTest */ .Q,e),C.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
    void main() {
      discardBySlice(vWorldPosition);
      ${b?"terrainDepthTest(depth);":""}
    `),e.shadingEnabled?(C.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_8__/* .Float3PassUniform */ .t("shadingDirection",(e=>e.shadingDirection))),C.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_9__/* .Float4PassUniform */ .E("shadedColor",(e=>w(e.shadingTint,e.color)))),C.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):C.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`vec4 finalColor = uColor;`),C.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
      ${e.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__/* .ShaderOutput */ .V.ObjectAndLayerIdColor?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`finalColor.a = 1.0;`:""}
      if (finalColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_14__/* .symbolAlphaCutoff */ .y)}) {
        discard;
      }
      ${e.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__/* .ShaderOutput */ .V.Alpha?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`fragColor = vec4(finalColor.a);`:""}

      ${e.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_2__/* .ShaderOutput */ .V.Color?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`fragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_12__/* .TransparencyPassType */ .y.Color?"fragColor = premultiplyAlpha(fragColor);":""}`:""}
    }
    `),p}function w(e,o){const r=1-e[3],i=e[3]+o[3]*r;return 0===i?(b[3]=i,b):(b[0]=(e[0]*e[3]+o[0]*o[3]*r)/i,b[1]=(e[1]*e[3]+o[1]*o[3]*r)/i,b[2]=(e[2]*e[3]+o[2]*o[3]*r)/i,b[3]=o[3],b)}const b=(0,_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(),h=Object.freeze(Object.defineProperty({__proto__:null,build:p},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 78699:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: () => (/* binding */ g),
/* harmony export */   b: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63592);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1411);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35449);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){const g=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__/* .ShaderBuilder */ .N5,{vertex:l,fragment:s,attributes:n,varyings:c}=g;return (0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .addProjViewLocalOrigin */ .NB)(l,t),n.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexAttribute */ .r.POSITION,"vec3"),n.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexAttribute */ .r.UV0,"vec2"),c.add("vUV","vec2"),l.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),s.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float4PassUniform */ .E("backgroundColor",(e=>e.backgroundColor)),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float4PassUniform */ .E("gridColor",(e=>e.gridColor)),new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .FloatPassUniform */ .m("gridWidth",(e=>e.gridWidth))),s.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
fragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),g}const g=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 52377:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T: () => (/* binding */ i),
/* harmony export */   a: () => (/* binding */ d),
/* harmony export */   b: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52712);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16961);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1411);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(79856);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i extends _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .NoParameters */ .Y{constructor(){super(...arguments),this.color=(0,_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(1,1,1,1)}}function l(){const e=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__/* .ShaderBuilder */ .N5;return e.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .ScreenSpacePass */ .c),e.fragment.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Texture2DPassUniform */ .N("tex",(e=>e.texture)),new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Float4PassUniform */ .E("uColor",(e=>e.color))),e.fragment.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void main() {
vec4 texColor = texture(tex, uv);
fragColor = texColor * uColor;
}`),e}const d=Object.freeze(Object.defineProperty({__proto__:null,TextureOnlyPassParameters:i,build:l},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 33006:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ M),
/* harmony export */   b: () => (/* binding */ x)
/* harmony export */ });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40641);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55274);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1110);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(66012);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(33045);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(63269);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(52636);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(696);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(80600);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(22455);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(39486);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(64062);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(65554);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(41679);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(33448);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(89002);
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(63592);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(1411);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(35449);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(99152);
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(4274);
/* harmony import */ var _views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(81868);
/* harmony import */ var _views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function x(x){const M=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_19__/* .ShaderBuilder */ .N5,{vertex:D,fragment:N}=M;(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_15__/* .addProjViewLocalOrigin */ .NB)(D,x),M.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .Transform */ .d,x),M.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_21__/* .VertexAttribute */ .r.POSITION,"vec3"),M.attributes.add(_views_3d_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_21__/* .VertexAttribute */ .r.UV0,"vec2");const O=new _views_3d_webgl_engine_core_shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_16__/* .Float4PassUniform */ .E("waterColor",(e=>e.color));if(x.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color&&x.isDraped)return M.varyings.add("vpos","vec3"),D.uniforms.add(O),D.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`
        void main(void) {
          if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__/* .symbolAlphaCutoff */ .y)}) {
            // Discard this vertex
            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
            return;
          }

          vpos = position;
          gl_Position = transformPosition(proj, view, vpos);
        }
    `),N.uniforms.add(O),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`void main() {
fragColor = waterColor;
}`),M;switch(x.output!==_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color&&x.output!==_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Alpha||(M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__/* .NormalUtils */ .n,x),M.include(_views_3d_webgl_engine_core_shaderLibrary_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .ForwardLinearDepth */ .oD,x),M.varyings.add("vuv","vec2"),M.varyings.add("vpos","vec3"),M.varyings.add("vnormal","vec3"),M.varyings.add("vtbnMatrix","mat3"),x.multipassEnabled&&M.varyings.add("depth","float"),D.uniforms.add(O),D.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`
      void main(void) {
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__/* .symbolAlphaCutoff */ .y)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vuv = uv0;
        vpos = position;

        vnormal = getLocalUp(vpos, localOrigin);
        vtbnMatrix = getTBNMatrix(vnormal);

        ${x.multipassEnabled?"depth = (view * vec4(vpos, 1.0)).z;":""}

        gl_Position = transformPosition(proj, view, vpos);
        ${x.output===_views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color?"forwardLinearDepth();":""}
      }
    `)),M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_8__/* .multipassTerrainTest */ .Q,x),x.output){case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Alpha:M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .SliceDraw */ .HQ,x),N.uniforms.add(O),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`
        void main() {
          discardBySlice(vpos);
          ${x.multipassEnabled?"terrainDepthTest(depth);":""}

          fragColor = vec4(waterColor.a);
        }
      `);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color:M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .MainLighting */ .qU),M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_EvaluateAmbientLighting_glsl_js__WEBPACK_IMPORTED_MODULE_6__/* .EvaluateAmbientLighting */ .W,{pbrMode:_views_3d_webgl_engine_core_shaderLibrary_shading_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_10__/* .PBRMode */ .A9.Disabled,lightingSphericalHarmonicsOrder:2}),M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__/* .WaterDistortion */ .V),M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .SliceDraw */ .HQ,x),M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_11__/* .ReadShadowMapDraw */ .Bz,x),M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_Water_glsl_js__WEBPACK_IMPORTED_MODULE_12__/* .Water */ .E,x),N.uniforms.add(O,new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_17__/* .FloatPassUniform */ .m("timeElapsed",(e=>e.timeElapsed)),D.uniforms.get("view"),D.uniforms.get("localOrigin")),(0,_views_3d_webgl_engine_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_15__/* .addCameraPosition */ .yu)(N,x),N.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_14__/* .ColorConversion */ .a),(0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .addMainLightDirection */ .Gc)(N),(0,_views_3d_webgl_engine_core_shaderLibrary_shading_MainLighting_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .addMainLightIntensity */ .O4)(N),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`
      void main() {
        discardBySlice(vpos);
        ${x.multipassEnabled?"terrainDepthTest(depth);":""}
        vec3 localUp = vnormal;
        // the created normal is in tangent space
        vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);

        // we rotate the normal according to the tangent-bitangent-normal-Matrix
        vec3 n = normalize(vtbnMatrix * tangentNormalFoam.xyz);
        vec3 v = -normalize(vpos - cameraPosition);
        float shadow = ${x.receiveShadows?(0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`1.0 - readShadowMap(vpos, linearDepth)`:"1.0"};
        vec4 vPosView = view * vec4(vpos, 1.0);
        vec4 final = vec4(getSeaColor(n, v, mainLightDirection, waterColor.rgb, mainLightIntensity, localUp, shadow, tangentNormalFoam.w, vPosView.xyz, vpos + localOrigin), waterColor.w);

        // gamma correction
        fragColor = delinearizeGamma(final);
        fragColor = highlightSlice(fragColor, vpos);
        ${x.transparencyPassType===_views_3d_webgl_engine_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_20__/* .TransparencyPassType */ .y.Color?"fragColor = premultiplyAlpha(fragColor);":""}
      }
    `);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Normal:M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_NormalUtils_glsl_js__WEBPACK_IMPORTED_MODULE_9__/* .NormalUtils */ .n,x),M.include(_views_3d_webgl_engine_core_shaderLibrary_shading_WaterDistortion_glsl_js__WEBPACK_IMPORTED_MODULE_13__/* .WaterDistortion */ .V,x),M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .SliceDraw */ .HQ,x),M.varyings.add("vpos","vec3"),M.varyings.add("vuv","vec2"),D.uniforms.add(O),D.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`
        void main(void) {
          if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__/* .symbolAlphaCutoff */ .y)}) {
            // Discard this vertex
            gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
            return;
          }

          vuv = uv0;
          vpos = position;

          gl_Position = transformPosition(proj, view, vpos);
        }
    `),N.uniforms.add(new _views_3d_webgl_engine_core_shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_17__/* .FloatPassUniform */ .m("timeElapsed",(e=>e.timeElapsed))),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`void main() {
discardBySlice(vpos);
vec4 tangentNormalFoam = getSurfaceNormalAndFoam(vuv, timeElapsed);
tangentNormalFoam.xyz = normalize(tangentNormalFoam.xyz);
fragColor = vec4((tangentNormalFoam.xyz + vec3(1.0)) * 0.5, tangentNormalFoam.w);
}`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Highlight:M.include(_views_3d_webgl_engine_core_shaderLibrary_output_OutputHighlight_glsl_js__WEBPACK_IMPORTED_MODULE_5__/* .OutputHighlight */ .Qh,x),M.varyings.add("vpos","vec3"),D.uniforms.add(O),D.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`
      void main(void) {
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__/* .symbolAlphaCutoff */ .y)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vpos = position;
        gl_Position = transformPosition(proj, view, vpos);
      }
    `),M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .SliceDraw */ .HQ,x),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`void main() {
discardBySlice(vpos);
outputHighlight();
}`);break;case _views_3d_webgl_engine_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.ObjectAndLayerIdColor:M.include(_views_3d_webgl_engine_core_shaderLibrary_attributes_ObjectAndLayerIdColor_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .ObjectAndLayerIdColor */ .g,x),M.varyings.add("vpos","vec3"),D.uniforms.add(O),D.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`
      void main(void) {
        if (waterColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaCutoff_js__WEBPACK_IMPORTED_MODULE_22__/* .symbolAlphaCutoff */ .y)}) {
          // Discard this vertex
          gl_Position = vec4(1e38, 1e38, 1e38, 1.0);
          return;
        }

        vpos = position;
        gl_Position = transformPosition(proj, view, vpos);
        forwardObjectAndLayerIdColor();
      }
    `),M.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .SliceDraw */ .HQ,x),N.code.add((0,_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_18__/* .glsl */ .H)`void main() {
discardBySlice(vpos);
outputObjectAndLayerIdColor();
}`)}return M}const M=Object.freeze(Object.defineProperty({__proto__:null,build:x},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 28769:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ W),
/* harmony export */   c: () => (/* binding */ Z),
/* harmony export */   g: () => (/* binding */ $),
/* harmony export */   h: () => (/* binding */ as),
/* harmony export */   u: () => (/* binding */ J)
/* harmony export */ });
/* unused harmony exports A, B, C, b, d, e, f, i, j, k, l, m, n, o, p, q, r, s, t, v, w, x, y, z */
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39831);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(539);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92504);
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(92114);
/* harmony import */ var _mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(37046);
/* harmony import */ var _mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(56192);
/* harmony import */ var _vec3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(21839);
/* harmony import */ var _vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(22279);
/* harmony import */ var _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(58331);
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(22759);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(38774);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(32532);
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(16597);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(45573);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const U=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");class z{constructor(){this.plane=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .create */ .vt)(),this.origin=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this.basis1=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this.basis2=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)()}}const G=z;function W(s=Ns){return{plane:(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .create */ .vt)(s.plane),origin:(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.g)(s.origin),basis1:(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.g)(s.basis1),basis2:(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.g)(s.basis2)}}function X(s,t,i){const n=Ts.get();return n.origin=s,n.basis1=t,n.basis2=i,n.plane=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .wrap */ .LV)(0,0,0,0),J(n),n}function Z(s,t=W()){return H(s.origin,s.basis1,s.basis2,t)}function D(s,t){(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(t.origin,s.origin),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(t.basis1,s.basis1),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(t.basis2,s.basis2),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .copy */ .C)(t.plane,s.plane)}function H(s,t,i,n=W()){return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(n.origin,s),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(n.basis1,t),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(n.basis2,i),J(n),Ps(n,"fromValues()"),n}function J(s){(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .fromVectorsAndPoint */ .mR)(s.basis2,s.basis1,s.origin,s.plane)}function K(s,t,i){s!==i&&Z(s,i);const n=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),ds(s),t);return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(i.origin,i.origin,n),i.plane[3]-=t,i}function Q(s,t,i){return $(t,i),K(i,bs(s,s.origin),i),i}function $(s,t=W()){const i=(s[2]-s[0])/2,n=(s[3]-s[1])/2;return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(t.origin,s[0]+i,s[1]+n,0),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(t.basis1,i,0,0),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(t.basis2,0,n,0),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .fromValues */ .fA)(0,0,1,0,t.plane),t}function ss(s,t,i){return!!(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .intersectRay */ .Ui)(s.plane,t,i)&&js(s,i)}function ts(s,t,i){if(ss(s,t,i))return i;const n=is(s,t,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get());return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(i,t.origin,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),t.direction,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.o)(t.origin,n)/(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.l)(t.direction))),i}function is(s,i,n){const o=ws.get();vs(s,i,o,ws.get());let r=Number.POSITIVE_INFINITY;for(const e of As){const c=ys(s,e,Ms.get()),u=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get();if((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .intersectLineSegment */ .T7)(o,c,u)){const s=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.C)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),i.origin,u),o=Math.abs((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .acosClamped */ .XM)((0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.j)(i.direction,s)));o<r&&(r=o,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(n,u))}}return r===Number.POSITIVE_INFINITY?ns(s,i,n):n}function ns(s,t,i){if(ss(s,t,i))return i;const n=ws.get(),o=ws.get();vs(s,t,n,o);let r=Number.POSITIVE_INFINITY;for(const e of As){const c=ys(s,e,Ms.get()),u=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get();if((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .intersectLineSegmentClamp */ .gv)(n,c,u)){const s=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__/* .distance2 */ .kb)(t,u);if(!(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .isPointInside */ .Tj)(o,u))continue;s<r&&(r=s,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(i,u))}}return es(s,t.origin)<r&&os(s,t.origin,i),i}function os(s,t,i){const n=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .projectPoint */ ._I)(s.plane,t,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get()),o=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__/* .projectPointClamp */ .H6)(Is(s,s.basis1),n,-1,1,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get()),r=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__/* .projectPointClamp */ .H6)(Is(s,s.basis2),n,-1,1,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get());return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.f)(i,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),o,r),s.origin),i}function rs(s,t,i){const{origin:n,basis1:o,basis2:r}=s,e=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.f)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),t,n),a=(0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_11__/* .projectPointSignedLength */ .gr)(o,e),c=(0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_11__/* .projectPointSignedLength */ .gr)(r,e),u=(0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_11__/* .projectPointSignedLength */ .gr)(ds(s),e);return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.s)(i,a,c,u)}function es(s,t){const i=rs(s,t,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get()),{basis1:n,basis2:o}=s,r=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.l)(n),e=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.l)(o),a=Math.max(Math.abs(i[0])-r,0),c=Math.max(Math.abs(i[1])-e,0),u=i[2];return a*a+c*c+u*u}function as(s,t){return Math.sqrt(es(s,t))}function cs(s,t){let i=Number.NEGATIVE_INFINITY;for(const n of As){const o=ys(s,n,Ms.get()),r=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__/* .distance2 */ .kb)(o,t);r>i&&(i=r)}return Math.sqrt(i)}function us(s,t){return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .isPointInside */ .Tj)(s.plane,t)&&js(s,t)}function gs(s,t,i,n){return hs(s,i,n)}function bs(s,t){const i=-s.plane[3];return (0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_11__/* .projectPointSignedLength */ .gr)(ds(s),t)-i}function fs(s,t,i,n){const o=bs(s,t),r=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(Ss,ds(s),i-o);return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(n,t,r),n}function ps(s,t){return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.h)(s.basis1,t.basis1)&&(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.h)(s.basis2,t.basis2)&&(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.h)(s.origin,t.origin)}function ls(s,t,i){return s!==i&&Z(s,i),(0,_mat4_js__WEBPACK_IMPORTED_MODULE_3__.i)(xs,t),(0,_mat4_js__WEBPACK_IMPORTED_MODULE_3__.t)(xs,xs),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(i.basis1,s.basis1,xs),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(i.basis2,s.basis2,xs),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .normal */ .qb)(i.plane),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .normal */ .qb)(s.plane),xs),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(i.origin,s.origin,t),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .setOffsetFromPoint */ .mP)(i.plane,i.plane,i.origin),i}function ms(s,t,i,n){return s!==n&&Z(s,n),(0,_mat4_js__WEBPACK_IMPORTED_MODULE_3__.c)(Vs,t,i),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(n.basis1,s.basis1,Vs),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.e)(n.basis2,s.basis2,Vs),J(n),n}function ds(s){return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .normal */ .qb)(s.plane)}function hs(s,t,i){switch(t){case _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_7__/* .Axis */ ._.X:(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(i,s.basis1),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.n)(i,i);break;case _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_7__/* .Axis */ ._.Y:(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(i,s.basis2),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.n)(i,i);break;case _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_7__/* .Axis */ ._.Z:(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(i,ds(s))}return i}function js(s,t){const i=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.f)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),t,s.origin),n=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.m)(s.basis1),o=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.m)(s.basis2),r=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.j)(s.basis1,i),e=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.j)(s.basis2,i);return-r-n<0&&r-n<0&&-e-o<0&&e-o<0}function Is(s,t){const i=Ms.get();return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(i.origin,s.origin),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.c)(i.vector,t),i}function ys(s,t,i){const{basis1:n,basis2:o,origin:r}=s,e=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),n,t.origin[0]),a=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),o,t.origin[1]);(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(i.origin,e,a),(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(i.origin,i.origin,r);const g=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),n,t.direction[0]),b=(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_12__/* .sv3d */ .rq.get(),o,t.direction[1]);return (0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.i)(i.vector,(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.g)(g,g,b),2),i}function Ps(s,t){Math.abs((0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.j)(s.basis1,s.basis2)/((0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.l)(s.basis1)*(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.l)(s.basis2)))>1e-6&&U.warn(t,"Provided basis vectors are not perpendicular"),Math.abs((0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.j)(s.basis1,ds(s)))>1e-6&&U.warn(t,"Basis vectors and plane normal are not perpendicular"),Math.abs(-(0,_vec3_js__WEBPACK_IMPORTED_MODULE_5__.j)(ds(s),s.origin)-s.plane[3])>1e-6&&U.warn(t,"Plane offset is not consistent with plane origin")}function vs(s,t,i,n){const o=ds(s);(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .fromVectorsAndPoint */ .mR)(o,t.direction,t.origin,i),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .fromVectorsAndPoint */ .mR)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .normal */ .qb)(i),o,t.origin,n)}const Ns={plane:(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .create */ .vt)(),origin:(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.f)(0,0,0),basis1:(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.f)(1,0,0),basis2:(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.f)(0,1,0)},ws=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_13__/* .ObjectStack */ .I(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_9__/* .create */ .vt),Ms=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_13__/* .ObjectStack */ .I(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_8__/* .create */ .vt),Ss=(0,_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),Ts=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_13__/* .ObjectStack */ .I((()=>W())),As=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],xs=(0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.a)(),Vs=(0,_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__.a)(),_s=Object.freeze(Object.defineProperty({__proto__:null,BoundedPlaneClass:G,altitudeAt:bs,axisAt:gs,closestPoint:ns,closestPointOnSilhouette:is,copy:Z,copyWithoutVerify:D,create:W,distance:as,distance2:es,distanceToSilhouette:cs,elevate:K,equals:ps,extrusionContainsPoint:us,fromAABoundingRect:$,fromValues:H,intersectRay:ss,intersectRayClosestSilhouette:ts,normal:ds,projectPoint:os,projectPointLocal:rs,rotate:ms,setAltitudeAt:fs,setExtent:Q,transform:ls,up:Ns,updateUnboundedPlane:J,wrap:X},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 16528:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42784);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var n,t,r,x={exports:{}};x.exports,n=x,t=function(){function e(e,t,x){x=x||2;var i,u,v,o,y,p,a,l=t&&t.length,h=l?t[0]*x:e.length,s=n(e,0,h,x,!0),c=[];if(!s||s.next===s.prev)return c;if(l&&(s=f(e,t,s,x)),e.length>80*x){i=v=e[0],u=o=e[1];for(var Z=x;Z<h;Z+=x)(y=e[Z])<i&&(i=y),(p=e[Z+1])<u&&(u=p),y>v&&(v=y),p>o&&(o=p);a=0!==(a=Math.max(v-i,o-u))?1/a:0}return r(s,c,x,i,u,a),c}function n(e,n,t,r,x){var i,u;if(x===C(e,n,t,r)>0)for(i=n;i<t;i+=r)u=q(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=q(i,e[i],e[i+1],u);if(u&&m(u,u.next)){var v=u.next;A(u),u=v}return u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!m(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{var x=r.prev;if(A(r),(r=n=x)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,o,y,p,a){if(e){!a&&p&&h(e,o,y,p);for(var l,s,c=e;e.prev!==e.next;)if(l=e.prev,s=e.next,p?i(e,o,y,p):x(e))n.push(l.i/f),n.push(e.i/f),n.push(s.i/f),A(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=u(t(e),n,f),n,f,o,y,p,2):2===a&&v(e,n,f,o,y,p):r(t(e),n,f,o,y,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(w(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(g(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&w(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(w(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,o=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,y=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=c(v,f,n,t,r),a=c(o,y,n,t,r),l=e.prevZ,h=e.nextZ;l&&l.z>=p&&h&&h.z<=a;){if(l!==e.prev&&l!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&w(l.prev,l,l.next)>=0)return!1;if(l=l.prevZ,h!==e.prev&&h!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;l&&l.z>=p;){if(l!==e.prev&&l!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,l.x,l.y)&&w(l.prev,l,l.next)>=0)return!1;l=l.prevZ}for(;h&&h.z<=a;){if(h!==e.prev&&h!==e.next&&g(x.x,x.y,i.x,i.y,u.x,u.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function u(e,n,r){var x=e;do{var i=x.prev,u=x.next.next;!m(i,u)&&M(i,x,x.next,u)&&j(i,u)&&j(u,i)&&(n.push(i.i/r),n.push(x.i/r),n.push(u.i/r),A(x),A(x.next),x=e=u),x=x.next}while(x!==e);return t(x)}function v(e,n,x,i,u,v){var f=e;do{for(var o=f.next.next;o!==f.prev;){if(f.i!==o.i&&d(f,o)){var y=_(f,o);return f=t(f,f.next),y=t(y,y.next),r(f,n,x,i,u,v),void r(y,n,x,i,u,v)}o=o.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,y=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),y.push(Z(f));for(y.sort(o),u=0;u<y.length;u++)x=t(x=p(y[u],x),x.next);return x}function o(e,n){return e.x-n.x}function y(e){if(e.next.prev===e)return e;let n=e;for(;;){const t=n.next;if(t.prev===n||t===n||t===e)break;n=t}return n}function p(e,n){var r=a(e,n);if(!r)return n;var x=_(r,e),i=t(r,r.next);let u=y(x);return t(u,u.next),i=y(i),y(n===r?i:n)}function a(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t;var f,o=t,y=t.x,p=t.y,a=1/0;r=t;do{x>=r.x&&r.x>=y&&x!==r.x&&g(i<p?x:u,i,y,p,i<p?u:x,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(x-r.x),j(r,e)&&(f<a||f===a&&(r.x>t.x||r.x===t.x&&l(t,r)))&&(t=r,a=f)),r=r.next}while(r!==o);return t}function l(e,n){return w(e.prev,e,n.prev)<0&&w(n.next,e,e.next)<0}function h(e,n,t,r){var x=e;do{null===x.z&&(x.z=c(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,s(x)}function s(e){var n,t,r,x,i,u,v,f,o=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<o&&(v++,r=r.nextZ);n++);for(f=o;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,o*=2}while(u>1);return e}function c(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function Z(e){var n=e,t=e;do{(n.x<t.x||n.x===t.x&&n.y<t.y)&&(t=n),n=n.next}while(n!==e);return t}function g(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function d(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!k(e,n)&&(j(e,n)&&j(n,e)&&H(e,n)&&(w(e.prev,e,n.prev)||w(e,n.prev,n))||m(e,n)&&w(e.prev,e,e.next)>0&&w(n.prev,n,n.next)>0)}function w(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function m(e,n){return e.x===n.x&&e.y===n.y}function M(e,n,t,r){var x=b(w(e,n,t)),i=b(w(e,n,r)),u=b(w(t,r,e)),v=b(w(t,r,n));return x!==i&&u!==v||!(0!==x||!z(e,t,n))||!(0!==i||!z(e,r,n))||!(0!==u||!z(t,e,r))||!(0!==v||!z(t,n,r))}function z(e,n,t){return n.x<=Math.max(e.x,t.x)&&n.x>=Math.min(e.x,t.x)&&n.y<=Math.max(e.y,t.y)&&n.y>=Math.min(e.y,t.y)}function b(e){return e>0?1:e<0?-1:0}function k(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&M(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function j(e,n){return w(e.prev,e,e.next)<0?w(e,n,e.next)>=0&&w(e,e.prev,n)>=0:w(e,n,e.prev)<0||w(e,e.next,n)<0}function H(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function _(e,n){var t=new B(e.i,e.x,e.y),r=new B(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function q(e,n,t,r){var x=new B(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function A(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function B(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}return e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,u=Math.abs(C(e,0,i,t));if(x)for(var v=0,f=n.length;v<f;v++){var o=n[v]*t,y=v<f-1?n[v+1]*t:e.length;u-=Math.abs(C(e,o,y,t))}var p=0;for(v=0;v<r.length;v+=3){var a=r[v]*t,l=r[v+1]*t,h=r[v+2]*t;p+=Math.abs((e[a]-e[h])*(e[l+1]-e[a+1])-(e[a]-e[l])*(e[h+1]-e[a+1]))}return 0===u&&0===p?0:Math.abs((p-u)/u)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<n;u++)t.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t},e},void 0!==(r=t())&&(n.exports=r);const i=(0,_commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__.g)(x.exports);


/***/ }),

/***/ 40835:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G: () => (/* binding */ h),
/* harmony export */   g: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(42784);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(t,i){for(var s=0;s<i.length;s++){const n=i[s];if("string"!=typeof n&&!Array.isArray(n))for(const i in n)if("default"!==i&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var s={exports:{}};s.exports,function(t,i){function s(){function t(t){if("number"==typeof t)return Q.Tc.Zg(t);if(null==t)return null;if(null!=rt[t])return Q.Tc.Zg(rt[t]);throw Error("Unrecognised Unit Type")}function i(t){if("number"==typeof t)return Q.Tc.Zg(t);if(null==t)return null;if(null!=et[t])return Q.Tc.Zg(et[t]);throw Error("Unrecognised Unit Type")}function s(t){if(t)switch(t){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function n(t,i,s,n){if(null==s||s.B())return null;switch(s.getType()){case Q.qn.Point:return t.exportPoint(i,s,n);case Q.qn.Polygon:return t.exportPolygon(i,s,n);case Q.qn.Polyline:return t.exportPolyline(i,s,n);case Q.qn.MultiPoint:return t.exportMultipoint(i,s,n);case Q.qn.Envelope:return t.exportExtent(i,s,n)}return null}function h(t,i,s,n){if(s.getType()!==Q.qn.Point)throw Error("Geometry not Point");return t.exportPoint(i,s,n)}function r(t,i,s){return t.convertToGEGeometry(i,s)}function e(t){var i=t.wkid;t=t.wkt2||t.wkt;var s=ot.get(i||t);return null==s&&(-1!==i&&null!=i?(s=Q.Eg.create(i),ot.set(i,s)):t&&(s=Q.Eg.qP(t),ot.set(t,s)),ut.has(i||t)&&s.VW(ut.get(i||t))),s}function o(t){var i,s,n;if(null==t)return null;var h=e(t);return t=h.Hd(),h=h.Kn(),(i={}).tolerance=h,i.unitType=null==t?-1:t.od,i.unitID=null==t?-1:t.Ec(),i.unitBaseFactor=null==t?0:t.ai,i.unitSquareDerivative=null==t?0:null!==(n=null===(s=Q.Tc.aG(t))||void 0===s?void 0:s.Ec())&&void 0!==n?n:0,i}function a(t,i,s,h){return null==s?null:(s=Q.$b.clip(r(t,at,s),r(t,at,h),e(i)),n(t,at,s,i))}function u(t,i,s,h){s=Q.$b.dl(r(t,at,s),r(t,at,h),e(i)),h=[];for(var o=0;o<s.length;o++)h.push(n(t,at,s[o],i));return h}function f(t,i,s,n){if(null==s||null==n)throw Error("Illegal Argument Exception");return Q.$b.contains(r(t,at,s),r(t,at,n),e(i))}function c(t,i,s,n){if(null==s||null==n)throw Error("Illegal Argument Exception");return Q.$b.BP(r(t,at,s),r(t,at,n),e(i))}function l(i,s,n,h,o){if(null==n||null==h)throw Error("Illegal Argument Exception");return Q.$b.tb(r(i,at,n),r(i,at,h),e(s),t(o))}function p(t,i,s,n){return!(null==s&&null!=n||null==n&&null!=s)&&Q.$b.Nb(r(t,at,s),r(t,at,n),e(i))}function v(t,i,s,n){if(null==s||null==n)throw Error("Illegal Argument Exception");return Q.$b.TS(r(t,at,s),r(t,at,n),e(i))}function y(t,i,s,n){if(null==s||null==n)throw Error("Illegal Argument Exception");return Q.$b.touches(r(t,at,s),r(t,at,n),e(i))}function d(t,i,s,n){if(null==s||null==n)throw Error("Illegal Argument Exception");return Q.$b.qY(r(t,at,s),r(t,at,n),e(i))}function b(t,i,s,n){if(null==s||null==n)throw Error("Illegal Argument Exception");return Q.$b.TP(r(t,at,s),r(t,at,n),e(i))}function g(t,i,s,n){if(null==s||null==n)throw Error("Illegal Argument Exception");return Q.$b.DU(r(t,at,s),r(t,at,n),e(i))}function w(t,i,s,n,h){if(null==s||null==n)throw Error("Illegal Argument Exception");return Q.$b.yB(r(t,at,s),r(t,at,n),e(i),h)}function x(t,i,s){if(null==s)throw Error("Illegal Argument Exception");return Q.$b.dT(r(t,at,s),e(i))}function m(t,i,s){if(null==s)throw Error("Illegal Argument Exception");return s=Q.$b.eC(r(t,at,s),e(i)),n(t,at,s,i)}function j(t,i,s,h){if(void 0===h&&(h=!1),null==s)throw Error("Illegal Argument Exception");if(Array.isArray(s)){var o=h,a=[];for(h=0;h<s.length;h++)a.push(r(t,at,s[h]));for(s=Q.$b.jP(a,o),o=Array(s.length),h=0;h<s.length;h++)o[h]=n(t,at,s[h],i);return o}return h=Q.$b.iP(r(t,at,s),e(i)),n(t,at,h,i)}function M(t,i,s,h){if(null==s||null==h)throw Error("Illegal Argument Exception");if(Array.isArray(s)){for(var o=[],a=0;a<s.length;a++)o.push(r(t,at,s[a]));for(s=Q.$b.QP(o,r(t,at,h),e(i)),h=Array(s.length),a=0;a<s.length;a++)h[a]=n(t,at,s[a],i);return h}return a=Q.$b.im(r(t,at,s),r(t,at,h),e(i)),n(t,at,a,i)}function k(t,i,s,h){if(null==s||null==h)throw Error("Illegal Argument Exception");if(Array.isArray(s)){for(var o=[],a=0;a<s.length;a++)o.push(r(t,at,s[a]));for(s=Q.$b.VX(o,r(t,at,h),e(i)),h=Array(s.length),a=0;a<s.length;a++)h[a]=n(t,at,s[a],i);return h}return a=Q.$b.ep(r(t,at,s),r(t,at,h),e(i)),n(t,at,a,i)}function z(t,i,s,h){if(null==s||null==h)throw Error("Illegal Argument Exception");if(Array.isArray(s)){for(var o=[],a=0;a<s.length;a++)o.push(r(t,at,s[a]));for(s=Q.$b.RS(o,r(t,at,h),e(i)),h=Array(s.length),a=0;a<s.length;a++)h[a]=n(t,at,s[a],i);return h}return a=Q.$b.Ea(r(t,at,s),r(t,at,h),e(i)),n(t,at,a,i)}function A(t,i,s,h){if(null==s)return null;var o=[];if(Array.isArray(s)){if(0===s.length)return null;for(h=0;h<s.length;h++)o.push(r(t,at,s[h]))}else o.push(r(t,at,s)),null!=h&&o.push(r(t,at,h));return n(t,at,Q.$b.jY(o,e(i)),i)}function N(i,s,h,o,a,u,f,c){var l=0;if(null!=u)switch(u){case"round":l=0;break;case"bevel":l=1;break;case"miter":l=2;break;case"square":l=3}if(Array.isArray(h)){if(null==h)i=null;else if(0===h.length)i=[];else{var p=[];for(u=0;u<h.length;u++)p.push(r(i,at,h[u]));for(h=Q.$b.BU(p,e(s),o,l,f,c,t(a)),o=Array(h.length),u=0;u<h.length;u++)o[u]=n(i,at,h[u],s);i=o}return i}return h=Q.$b.offset(r(i,at,h),e(s),o,l,f,c,t(a)),n(i,at,h,s)}function I(i,s,h,o,a,u){if(void 0===u&&(u=!1),Array.isArray(h)){if(!Array.isArray(o)){for(var f=[],c=0;c<h.length;c++)f.push(o);o=f}if(o.length!=h.length){if(0==o.length)throw Error("Illegal Argument Exception");f=[];var l=0;for(c=0;c<h.length;c++)void 0===o[c]?f.push(l):(f.push(o[c]),l=o[c]);o=f}return P(i,s,h,o,a,!1,u,"geodesic",NaN)}return h=Q.$b.buffer(r(i,at,h),e(s),o,t(a),!1,0,NaN),n(i,at,h,s)}function T(i,h,o,a,u,f,c,l){if(Array.isArray(o)){if(!Array.isArray(a)){for(var p=[],v=0;v<o.length;v++)p.push(a);a=p}if(a.length!==o.length){if(0===a.length)throw Error("Illegal Argument Exception");p=[];var y=0;for(v=0;v<o.length;v++)void 0===a[v]?p.push(y):(p.push(a[v]),y=a[v]);a=p}return P(i,h,o,a,u,!0,f,c,l)}return void 0===c&&(c=NaN),o=Q.$b.buffer(r(i,at,o),e(h),a,t(u),!0,s(f),c),n(i,at,o,h)}function P(i,h,o,a,u,f,c,l,p){if(void 0===p&&(p=NaN),null==o)return null;if(0===o.length)return[];for(var v=[],y=0;y<o.length;y++)v.push(r(i,at,o[y]));for(o=Q.$b.MN(v,e(h),a,t(u),f,c,s(l),p),a=Array(o.length),y=0;y<o.length;y++)a[y]=n(i,at,o[y],h);return a}function C(t,i,s,n,e){var o;return void 0===e&&(e=!0),s=Q.$b.nz(r(t,at,s),r(t,at,n),e),(o={}).coordinate=h(t,at,s.fz(),i),o.distance=s.hz(),o.isRightSide=s.Sz(),o.vertexIndex=s.Ua(),o.isEmpty=s.B(),o}function B(t,i,s,n){var e;return s=Q.$b.oz(r(t,at,s),r(t,at,n)),(e={}).coordinate=h(t,at,s.fz(),i),e.distance=s.hz(),e.isRightSide=s.Sz(),e.vertexIndex=s.Ua(),e.isEmpty=s.B(),e}function D(t,i,s,n,e,o){var a;for(s=Q.$b.pz(r(t,at,s),r(t,at,n),e,o),n=[],e=0;e<s.length;e++)!1===s[e].B()&&n.push(((a={}).coordinate=h(t,at,s[e].fz(),i),a.distance=s[e].hz(),a.isRightSide=s[e].Sz(),a.vertexIndex=s[e].Ua(),a.isEmpty=s[e].B(),a));return n}function q(i,s,h,o,a,u){return h=Q.$b.QQ(r(i,at,h),e(s),o,a,t(u)),n(i,at,h,s)}function G(i,s,h,o,a){return h=Q.$b.Qr(r(i,at,h),e(s),o,t(a)),n(i,at,h,s)}function F(i,s,h,o,a,u){return void 0===u&&(u=0),h=Q.$b.Wy(r(i,at,h),e(s),o,t(a),u),n(i,at,h,s)}function E(t,s,n,h){if(null==n)throw Error("Illegal Argument Exception");return Q.$b.JU(r(t,at,n),e(s),i(h))}function S(i,s,n,h){if(null==n)throw Error("Illegal Argument Exception");return Q.$b.KU(r(i,at,n),e(s),t(h))}function O(t,n,h,o,a){if(null==h)throw Error("Illegal Argument Exception");return Q.$b.WQ(r(t,at,h),e(n),i(o),s(a))}function H(i,n,h,o,a){if(null==h)throw Error("Illegal Argument Exception");return Q.$b.ZQ(r(i,at,h),e(n),t(o),s(a))}function J(t){Q.NL.bind(t)}function R(t,i,s,n,h){var o=null,a=null;if(n){if(!h)throw Q.i.N("AOI missing Spatial Reference");o=r(t,at,n),a=e(h).fh()}return null!==(t=Q.gu.XR(e(i).fh(),e(s).fh(),o,a))?t:null}function L(t,i,s,n,h){var o=null,a=null;if(n){if(!h)throw Q.i.N("AOI missing Spatial Reference");o=r(t,at,n),a=e(h).fh()}return Q.gu.YR(e(i).fh(),e(s).fh(),o,a)}function K(t,i,s,n,h,r){if(void 0===h&&(h=null),void 0===r&&(r=null),r){var o=new Q.yC;o.Vu=r.densificationStep,o.Jr=r.centralMeridianOfOutputGCS,r.clipWithInputHorizon&&o.PW(r.clipWithInputHorizon),r.clipWithOutputHorizon&&o.QW(r.clipWithOutputHorizon)}if(!1===this.KY)throw Error("Projection Engine must be enabled using enableProjection");if(0===i.length)return[];if(h){if(!(r=h.getCachedGeTransformation(s,n)))t:{if(r=h,h=null,r){var a=r.getGTListEntry();if(null!==a){h=new Q.wC(null);for(var u=0,f=a.steps;u<f.length;u++){a=f[u];var c=new Q.Dx(a.geogtran);a.isInverse&&c.Qz(),h.add(c)}o=Q.vr.Nr(e(s).fh(),e(n).fh(),h,o),r.assignCachedGe(s,n,o),r=o;break t}}if(null===h&&r&&r.steps&&0<r.steps.length){for(h=new Q.wC(null),u=0,f=r.steps;u<f.length;u++)-1!=(a=f[u]).wkid&&null!=a.wkid?h.add(Q.Dx.create(a.wkid,a.isInverse)):h.add(Q.Dx.uP(a.wkt,a.isInverse));o=Q.vr.Nr(e(s).fh(),e(n).fh(),h,o),r.assignCachedGe(s,n,o),r=o}else r=Q.vr.Nr(e(s).fh(),e(n).fh(),h,o)}for(s=[],h=0;h<i.length;h++)o=i[h],s.push(U(t,o,n,r))}else for(r=Q.vr.Nr(e(s).fh(),e(n).fh(),null),s=[],h=0;h<i.length;h++)o=i[h],s.push(U(t,o,n,r));return s}function U(t,i,s,h){return i=Q.$b.zh(r(t,at,i),h),n(t,at,i,s)}function W(t,i){null!=t&&(t=t.wkid||t.wkt2||t.wkt,ut.has(t),ut.set(t,i),ot.has(t)&&ot.delete(t))}function V(t){null!=t&&(t=t.wkid||t.wkt2||t.wkt,ut.has(t)&&(ut.delete(t),ot.has(t)&&ot.delete(t)))}function X(t,i,s,h){if(null==s||null==h)return[];var o=[],a=0;for(s=Q.$b.QS(r(t,at,s),r(t,at,h),e(i))||[];a<s.length;a++)o.push(n(t,at,s[a],i));return o}var Y,Q,$,Z,_=this&&this.__extends||function(){function t(i,s){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])})(i,s)}return function(i,s){function n(){this.constructor=i}t(i,s),i.prototype=null===s?Object.create(s):(n.prototype=s.prototype,new n)}}();!function(t){var i;(i=t.qn||(t.qn={}))[i.Unknown=0]="Unknown",i[i.Point=33]="Point",i[i.Line=322]="Line",i[i.Envelope=197]="Envelope",i[i.MultiPoint=550]="MultiPoint",i[i.Polyline=1607]="Polyline",i[i.Polygon=1736]="Polygon",function(t){t[t.enumMild=0]="enumMild",t[t.enumMedium=1]="enumMedium",t[t.enumHot=2]="enumHot"}(t.YK||(t.YK={}));var s=function(){function i(){this.description=null,this.VA=0}return i.prototype.getType=function(){return 0},i.prototype.Db=function(){return-1},i.prototype.Nf=function(t){this.vc(),t!=this.description&&this.sn(t)},i.prototype.sn=function(){},i.prototype.Jl=function(i){this.vc(),i!=this.description&&((i=t.ee.CR(this.description,i))!=this.description&&this.sn(i))},i.prototype.hasAttribute=function(t){return this.description.hasAttribute(t)},i.prototype.re=function(i){this.vc(),this.description.hasAttribute(i)||(i=t.ee.BR(this.description,i),this.sn(i))},i.prototype.Tg=function(){return null},i.prototype.bn=function(){},i.prototype.A=function(){},i.prototype.Qo=function(){},i.prototype.xc=function(t){this.A(t)},i.prototype.B=function(){return!0},i.prototype.Oa=function(){},i.prototype.Oc=function(){},i.prototype.Ia=function(){return null},i.prototype.copyTo=function(){},i.prototype.Ke=function(){return 0},i.prototype.Qb=function(){return 0},i.prototype.iG=function(){return this.hasAttribute(1)},i.tf=function(t){return 1+((192&t)>>6)>>1},i.Rn=function(t){return 0!=(32&t)},i.US=function(t){return 0!=(128&t)},i.yd=function(t){return 0!=(256&t)},i.xj=function(t){return 0!=(512&t)},i.Hc=function(t){return 0!=(1024&t)},i.prototype.Of=function(){var t=this.Ia();return this.copyTo(t),t},i.prototype.mg=function(){return null},i.jg=function(t){var i=t.Ia();return t.copyTo(i),i},i.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},i.Ax=function(s){var n=s.getType();if(i.xj(n))return s.I();if(s.B())return 0;if(197==n)return 4;if(33==n)return 1;if(i.yd(n))return 2;throw t.i.fa("missing type")},i}();t.aa=s}(Q||(Q={})),$=Q||(Q={}),Z=function(){function t(){this.y=this.x=0}return t.construct=function(i,s){var n=new t;return n.x=i,n.y=s,n},t.al=function(i){var s=new t;return s.x=i.x,s.y=i.y,s},t.prototype.ma=function(t,i){this.x=t,this.y=i},t.prototype.L=function(t){this.x=t.x,this.y=t.y},t.prototype.fq=function(t,i){return this.x===t&&this.y===i},t.prototype.Rz=function(t){return 2220446049250313e-31>=Math.abs(this.x-t.x)&&2220446049250313e-31>=Math.abs(this.y-t.y)},t.prototype.qb=function(t){return this.x===t.x&&this.y===t.y},t.prototype.Nb=function(i){return i==this||i instanceof t&&this.x==i.x&&this.y==i.y},t.prototype.sub=function(t){this.x-=t.x,this.y-=t.y},t.prototype.uc=function(t,i){this.x=t.x-i.x,this.y=t.y-i.y},t.prototype.add=function(t,i){void 0!==i?(this.x=t.x+i.x,this.y=t.y+i.y):(this.x+=t.x,this.y+=t.y)},t.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},t.prototype.mt=function(t){this.x=-t.x,this.y=-t.y},t.prototype.NS=function(t,i,s){this.x=t.x*(1-s)+i.x*s,this.y=t.y*(1-s)+i.y*s},t.prototype.Ct=function(t,i){this.x=this.x*t+i.x,this.y=this.y*t+i.y},t.prototype.HW=function(t,i,s){this.x=i.x*t+s.x,this.y=i.y*t+s.y},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.compare=function(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:this.x>t.x?1:0},t.prototype.normalize=function(){var t=this.length();0==t&&(this.x=1,this.y=0),this.x/=t,this.y/=t},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.Sk=function(){return this.x*this.x+this.y*this.y},t.tb=function(t,i){return Math.sqrt(this.yc(t,i))},t.Oy=function(t,i,s,n){return t-=s,i-=n,Math.sqrt(t*t+i*i)},t.prototype.Qh=function(t){return this.x*t.x+this.y*t.y},t.prototype.fD=function(t){return Math.abs(this.x*t.x)+Math.abs(this.y*t.y)},t.prototype.wi=function(t){return this.x*t.y-this.y*t.x},t.prototype.Bt=function(t,i){var s=-this.x*i+this.y*t;this.x=this.x*t+this.y*i,this.y=s},t.prototype.Hv=function(){var t=this.x;this.x=-this.y,this.y=t},t.prototype.MG=function(t){this.x=-t.y,this.y=t.x},t.prototype.ar=function(){var t=this.x;this.x=this.y,this.y=-t},t.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3},t.nu=function(t,i){var s=t.qu(),n=i.qu();return n==s?0>(t=t.wi(i))?1:0<t?-1:0:s<n?-1:1},t.yc=function(t,i){var s=t.x-i.x;return s*s+(t=t.y-i.y)*t},t.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},t.prototype.Rc=function(){this.y=this.x=NaN},t.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},t.prototype.offset=function(i,s){var n=t.tb(i,s),h=t.construct(this.x,this.y);if(0==n)return t.tb(h,i);var r=new t;return r.L(s),r.sub(i),h.sub(i),h.wi(r)/n},t.Uq=function(t,i,s){var n=new $.Wb;n.set(i.x),n.sub(t.x);var h=new $.Wb;h.set(s.y),h.sub(t.y);var r=new $.Wb;r.set(i.y),r.sub(t.y);var e=new $.Wb;return e.set(s.x),e.sub(t.x),n.Ag(h),r.Ag(e),n.sub(r),n.ps()?(n=new $.hp(i.x),h=new $.hp(t.x),r=new $.hp(t.y),n=n.jt(h),t=(t=new $.hp(s.y)).jt(r),i=(i=new $.hp(i.y)).jt(r),s=(s=new $.hp(s.x)).jt(h),n=n.lr(t),i=i.lr(s),(n=n.lr(i)).nT()?-1:n.fS()?1:0):0>(s=n.value())?-1:0<s?1:0},t.prototype.cc=function(){return $.O.uj($.O.uj())},t}(),$.h=Z,function(t){var i=function(){function t(t){this.Fy=this.Mt=0,this.OX=t}return t.prototype.reset=function(){this.Fy=this.Mt=0},t.prototype.add=function(t){t-=this.Fy;var i=this.Mt+t;this.Fy=i-this.Mt-t,this.Mt=i},t.prototype.sub=function(t){this.add(-t)},t.prototype.rm=function(){return this.OX+this.Mt},t}();t.Fx=i,t.lc=function(){function t(){}return t.Cn=function(t,i){return 0<=i?Math.abs(t):-Math.abs(t)},t.sign=function(t){return 0>t?-1:0<t?1:0},t.RK=function(t){return t-360*Math.floor(t/360)},t.round=function(t){return Math.floor(t+.5)},t.ox=function(t){return t*t},t.hq=function(t,i,s){return.5>=s?t+(i-t)*s:i-(i-t)*(1-s)},t.OG=function(t,i,s,n){.5>=s?(n.x=t.x+(i.x-t.x)*s,n.y=t.y+(i.y-t.y)*s):(n.x=i.x-(i.x-t.x)*(1-s),n.y=i.y-(i.y-t.y)*(1-s))},t.lT=function(t,i,s,n,h,r){.5>=h?(r.x=t+(s-t)*h,r.y=i+(n-i)*h):(r.x=s-(s-t)*(1-h),r.y=n-(n-i)*(1-h))},t}()}(Q||(Q={})),function(t){var i=function(i){function s(){var t=i.call(this)||this;return t.sa=0,t.na=0,t.pa=0,t.la=0,t.ka=null,t}return _(s,i),s.prototype.ac=function(){return t.h.construct(this.sa,this.na)},s.prototype.Yp=function(t){t.x=this.sa,t.y=this.na},s.prototype.Dc=function(t){this.em(0,t)},s.prototype.ZB=function(i,s){this.em(0,t.h.construct(i,s))},s.prototype.To=function(t){this.hD(0,t)},s.prototype.setStart=function(t){this.uD(0,t)},s.prototype.wv=function(t,i){return this.Od(0,t,i)},s.prototype.YB=function(t,i,s){this.tn(0,t,i,s)},s.prototype.wc=function(){return t.h.construct(this.pa,this.la)},s.prototype.Tr=function(t){t.x=this.pa,t.y=this.la},s.prototype.Qc=function(t){this.em(1,t)},s.prototype.Ql=function(i,s){this.em(1,t.h.construct(i,s))},s.prototype.Po=function(t){this.hD(1,t)},s.prototype.setEnd=function(t){this.uD(1,t)},s.prototype.gv=function(t,i){return this.Od(1,t,i)},s.prototype.OB=function(t,i,s){this.tn(1,t,i,s)},s.prototype.Db=function(){return 1},s.prototype.B=function(){return this.Ac()},s.prototype.Oa=function(){},s.prototype.Ke=function(){return 0},s.prototype.Ea=function(t,i,s,n,h){return this.KM(t,i,s,n,h)},s.prototype.isIntersecting=function(t,i){return 0!=this.zr(t,i,!1)},s.prototype.qs=function(t,i){return this.ru(t,i,!1)},s.prototype.ru=function(){return null},s.prototype.Ac=function(){return!1},s.prototype.ay=function(i){if(this.vc(),null==this.ka&&0<i)this.ka=t.O.lg(2*i);else if(null!=this.ka&&this.ka.length<2*i){for(var s=this.ka.slice(0),n=this.ka.length;n<2*i;n++)s[n]=0;this.ka=s}},s.gM=function(t,i,s){if(0<s)var n=0;for(var h=0;h<s;h++)i[0+n]=t[0],n++},s.prototype.em=function(t,i){0!=t?(this.pa=i.x,this.la=i.y):(this.sa=i.x,this.na=i.y)},s.prototype.sn=function(i){if(null!=this.ka){for(var n=t.ee.Iw(i,this.description),h=[],r=s.Gg(this.description,0),e=s.Gg(this.description,1),o=s.Gg(i,0),a=s.Gg(i,1),u=0,f=1,c=i.Aa;f<c;f++){var l=i.kd(f),p=t.ra.Va(l);if(-1==n[f]){var v=t.ra.se(l);for(l=0;l<p;l++)h[o+u]=v,h[a+u]=v,u++}else for(v=this.description.$j(n[f])-2,l=0;l<p;l++)h[o+u]=this.ka[r+v],h[a+u]=this.ka[e+v],u++,v++}this.ka=h}this.description=i},s.prototype.hD=function(i,s){if(this.Ac())throw t.i.fa("empty geometry");s.Nf(this.description),s.Ac()&&s.un();for(var n=0;n<this.description.Aa;n++)for(var h=this.description.Ed(n),r=0,e=t.ra.Va(h);r<e;r++){var o=this.Od(i,h,r);s.setAttribute(h,r,o)}},s.prototype.uD=function(i,s){if(this.vc(),s.Ac())throw t.i.fa("empty geometry");for(var n=s.description,h=0,r=n.Aa;h<r;h++)for(var e=n.Ed(h),o=t.ra.Va(e),a=0;a<o;a++){var u=s.Uc(e,a);this.tn(i,e,a,u)}},s.prototype.Od=function(i,n,h){if(this.Ac())throw t.i.fa("This operation was performed on an Empty Geometry.");if(0==n)return 0!=i?0!=h?this.la:this.pa:0!=h?this.na:this.sa;if(h>=t.ra.Va(n))throw t.i.ce();var r=this.description.Pf(n);return 0<=r?(null!=this.ka&&this.ay(this.description.Ae.length-2),this.ka[s.Gg(this.description,i)+this.description.$j(r)-2+h]):t.ra.se(n)},s.prototype.tn=function(i,n,h,r){if(this.vc(),h>=t.ra.Va(n))throw t.i.ce();var e=this.description.Pf(n);0>e&&(this.re(n),e=this.description.Pf(n)),0==n?0!=i?0!=h?this.la=r:this.pa=r:0!=h?this.na=r:this.sa=r:(null==this.ka&&this.ay(this.description.Ae.length-2),this.ka[s.Gg(this.description,i)+this.description.$j(e)-2+h]=r)},s.prototype.copyTo=function(i){if(i.getType()!=this.getType())throw t.i.N();i.description=this.description,i.ay(this.description.Ae.length-2),s.gM(this.ka,i.ka,2*(this.description.Ae.length-2)),i.sa=this.sa,i.na=this.na,i.pa=this.pa,i.la=this.la,i.vc(),this.op(i)},s.prototype.Tg=function(i,s){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(n.oa=this.Od(0,i,s),n.va=n.oa,n.Lk(this.Od(1,i,s)),n)},s.prototype.ZI=function(t){this.Ac()?t.Oa():(t.oa=this.Od(0,0,0),t.va=t.oa,t.Lk(this.Od(1,0,0)))},s.prototype.Tw=function(i,s){s.Nf(this.description),s.Cb(this.hc(i));for(var n=1,h=this.description.Aa;n<h;n++)for(var r=this.description.Ed(n),e=t.ra.Va(r),o=0;o<e;o++){var a=this.Uc(i,r,o);s.setAttribute(r,o,a)}},s.prototype.FM=function(t){if(this.description!=t.description||this.sa!=t.sa||this.pa!=t.pa||this.na!=t.na||this.la!=t.la)return!1;for(var i=0;i<2*(this.description.Ae.length-2);i++)if(this.ka[i]!=t.ka[i])return!1;return!0},s.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},s.prototype.reverse=function(){var i=this.sa;this.sa=this.pa,this.pa=i,i=this.na,this.na=this.la,this.la=i,i=1;for(var s=this.description.Aa;i<s;i++)for(var n=this.description.kd(i),h=0,r=t.ra.Va(n);h<r;h++){var e=this.Od(0,n,h),o=this.Od(1,n,h);this.tn(0,n,h,o),this.tn(1,n,h,e)}},s.prototype.zr=function(i,s,n){var h=this.getType(),r=i.getType();if(322===h){if(322==r)return t.yb.OM(this,i,s,n);throw t.i.Qa()}throw t.i.Qa()},s.prototype.KM=function(i,s,n,h,r){var e=this.getType(),o=i.getType();if(322===e){if(322==o)return t.yb.Zx(this,i,s,n,h,r);throw t.i.Qa()}throw t.i.Qa()},s.prototype.Tx=function(){return null},s.Gg=function(t,i){return i*(t.Ae.length-2)},s.prototype.hc=function(i,s){if(void 0===s)return s=new t.h,this.hc(i,s),s;t.lc.lT(this.sa,this.na,this.pa,this.la,i,s)},s.prototype.fe=function(){return null},s.prototype.eG=function(){return null},s.prototype.cq=function(){return null},s.prototype.Bi=function(){return null},s.prototype.Pn=function(){return null},s.prototype.kg=function(){return null},s.prototype.Ux=function(t,i){return void 0!==i?this.vx(i)-this.vx(t):this.vx(t)},s.prototype.op=function(){},s.prototype.dl=function(){return null},s.prototype.ah=function(){},s.prototype.Uc=function(){return null},s.prototype.Pe=function(){return null},s.prototype.vx=function(){return null},s.prototype.NG=function(){return null},s.prototype.tb=function(t,i){if(!i&&0!=this.zr(t,0,!1))return 0;i=17976931348623157e292;var s=this.ac(),n=t.fe(s,!1);return s.sub(t.hc(n)),(s=s.length())<i&&(i=s),s=this.wc(),n=t.fe(s,!1),s.sub(t.hc(n)),(s=s.length())<i&&(i=s),s=t.ac(),n=this.fe(s,!1),s.sub(this.hc(n)),(s=s.length())<i&&(i=s),s=t.wc(),n=this.fe(s,!1),s.sub(this.hc(n)),(s=s.length())<i&&(i=s),i},s.prototype.mg=function(){return t.pi.gm(this,null)},s}(t.aa);t.SC=i}(Q||(Q={})),new Q.h,function(t){var i;(i=t.$K||(t.$K={}))[i.Unknown=-1]="Unknown",i[i.Not=0]="Not",i[i.Weak=1]="Weak",i[i.Strong=2]="Strong",function(t){t[t.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",t[t.IsWeakSimple=2]="IsWeakSimple",t[t.IsStrongSimple=4]="IsStrongSimple",t[t.DirtyOGCFlags=8]="DirtyOGCFlags",t[t.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",t[t.DirtyExactIntervals=64]="DirtyExactIntervals",t[t.DirtyLooseIntervals=128]="DirtyLooseIntervals",t[t.DirtyIntervals=192]="DirtyIntervals",t[t.DirtyIsEnvelope=256]="DirtyIsEnvelope",t[t.DirtyLength2D=512]="DirtyLength2D",t[t.DirtyRingAreas2D=1024]="DirtyRingAreas2D",t[t.DirtyCoordinates=1993]="DirtyCoordinates",t[t.DirtyAllInternal=65535]="DirtyAllInternal",t[t.DirtyAll=16777215]="DirtyAll"}(t.MK||(t.MK={}));var s=function(i){function s(){var t=i.call(this)||this;return t.Hm=65535,t.wa=0,t.Pg=-1,t.Bb=null,t}return _(s,i),s.prototype.op=function(){},s.prototype.$x=function(){},s.prototype.iy=function(){},s.prototype.I=function(){return this.wa},s.prototype.B=function(){return this.Ac()},s.prototype.Ac=function(){return 0==this.wa},s.prototype.ak=function(t){return 0!=(this.Hm&t)},s.prototype.Lf=function(t,i){this.Hm=i?this.Hm|t:this.Hm&~t},s.prototype.mc=function(){this.ak(32)&&this.bN()},s.prototype.wx=function(){if(this.Ac())throw t.i.fa("This operation was performed on an Empty Geometry.")},s.prototype.ve=function(i,s){if(0>i||i>=this.wa)throw t.i.fa("index out of bounds");this.mc(),s.Nf(this.description),s.B()&&s.un();for(var n=0;n<this.description.Aa;n++)for(var h=this.description.Ed(n),r=0,e=t.ra.Va(h);r<e;r++){var o=this.za[n].eg(e*i+r);s.setAttribute(h,r,o)}},s.prototype.Ht=function(i,s){this.mc();for(var n=s.description,h=0;h<n.Aa;h++)for(var r=n.Ed(h),e=t.ra.Va(r),o=0;o<e;o++){var a=s.Uc(r,o);this.setAttribute(r,i,o,a)}},s.prototype.D=function(i,s){if(0>i||i>=this.I())throw t.i.ce();this.mc(),this.za[0].tc(2*i,s)},s.prototype.Na=function(i){var s=new t.h;return this.D(i,s),s},s.prototype.Gc=function(t,i){this.za[0].tc(2*t,i)},s.prototype.Cb=function(i,s,n){if(0>i||i>=this.wa)throw t.i.ce();this.mc();var h=this.za[0];void 0!==n?(h.write(2*i,s),h.write(2*i+1,n)):h.Tt(2*i,s),this.Pc(1993)},s.prototype.Cz=function(){if(void 0>=this.I())throw t.i.ce();this.mc();var i=this.za[0],s=new t.Nd;return s.x=i.read(NaN),s.y=i.read(NaN),s.z=this.hasAttribute(1)?this.za[1].eg():t.ra.se(1),s},s.prototype.dC=function(i){if(0>i||i>=this.I())throw t.i.ce();this.re(1),this.mc(),this.Pc(1993);var s=this.za[0];s.write(2*i,(void 0).x),s.write(2*i+1,(void 0).y),this.za[1].pr(i,(void 0).z)},s.prototype.Uc=function(i,s,n){if(0>s||s>=this.wa)throw t.i.ce();var h=t.ra.Va(i);if(n>=h)throw t.i.ce();this.mc();var r=this.description.Pf(i);return 0<=r?this.za[r].eg(s*h+n):t.ra.se(i)},s.prototype.yF=function(t,i){return this.Uc(t,i)},s.prototype.setAttribute=function(i,s,n,h){if(0>s||s>=this.wa)throw t.i.ce();var r=t.ra.Va(i);if(n>=r)throw t.i.ce();this.re(i),this.mc(),i=this.description.Pf(i),this.Pc(1993),this.za[i].pr(s*r+n,h)},s.prototype.ub=function(t){return this.wx(),this.re(t),this.mc(),this.za[this.description.Pf(t)]},s.prototype.hn=function(i,s){if(null!=s&&t.ra.Tp(i)!=s.Tp())throw t.i.N();this.re(i),i=this.description.Pf(i),null==this.za&&(this.za=t.Yc.qI(this.description.Aa)),this.za[i]=s,this.Pc(16777215)},s.prototype.sn=function(i){var s=null;if(null!=this.za){var n=t.ee.Iw(i,this.description);s=[];for(var h=0,r=i.Aa;h<r;h++)-1!=n[h]&&(s[h]=this.za[n[h]])}this.description=i,this.za=s,this.Pg=-1,this.Pc(16777215)},s.prototype.AD=function(i){this.wu(!0),i instanceof t.l?this.$.A(i):this.$.Qo(i)},s.prototype.aN=function(i){this.wu(!1),i instanceof t.l?this.$.A(i):this.$.Qo(i)},s.prototype.bn=function(t){this.wu(!0),this.$.copyTo(t)},s.prototype.A=function(t){this.AD(t)},s.prototype.Qo=function(t){this.AD(t)},s.prototype.xc=function(t){this.aN(t)},s.prototype.Tg=function(i,s){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(this.wu(!0),this.$.Tg(i,s))},s.prototype.cc=function(){var i=this.description.cc();if(!this.Ac())for(var s=this.I(),n=0,h=this.description.Aa;n<h;n++)i=this.za[n].An(i,0,s*t.ra.Va(this.description.Ed(n)));return i},s.prototype.Nb=function(i){if(i==this)return!0;if(!(i instanceof s&&this.description.Nb(i.description))||this.Ac()!=i.Ac())return!1;if(this.Ac())return!0;var n=this.I();if(n!=i.I())return!1;for(var h=0;h<this.description.Aa;h++){var r=this.description.kd(h),e=this.ub(r),o=i.ub(r);if(!e.Nb(o,0,n*t.ra.Va(r)))return!1}return!0},s.prototype.copyTo=function(i){if(i.getType()!=this.getType())throw t.i.N();this.dD(i)},s.prototype.dD=function(i){this.mc(),i.description=this.description,i.za=null;var s=this.description.Aa,n=null;if(null!=this.za){n=[];for(var h=0;h<s;h++)null!=this.za[h]&&(n[h]=this.za[h].GB(this.I()*t.ra.Va(this.description.Ed(h))))}null!=this.$?(i.$=this.$.Ia(),this.$.copyTo(i.$)):i.$=null,i.wa=this.wa,i.Hm=this.Hm,i.za=n;try{this.op(i)}catch(r){throw i.Oa(),t.i.fu()}},s.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},s.prototype.Pc=function(t){16777215==t&&(this.Pg=-1,this.$x()),this.Hm|=t,this.lM(),this.vc()},s.prototype.wu=function(i){if(this.mc(),this.ak(192))if(null==this.$?this.$=new t.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(i);for(var s=1;s<this.description.Aa;s++)for(var n=this.description.Ed(s),h=t.ra.Va(n),r=this.za[s],e=0;e<h;e++){var o=new t.Nc;o.Oa();for(var a=0;a<this.wa;a++){var u=r.eg(a*h+e);o.Zb(u)}this.$.setInterval(n,e,o)}i&&this.Lf(192,!1)}},s.prototype.hy=function(){this.$.Oa();for(var i=this.za[0],s=new t.h,n=0;n<this.wa;n++)i.tc(2*n,s),this.$.Zb(s)},s.prototype.yp=function(i){i.Oa();for(var s=this.za[0],n=new t.h,h=0;h<this.wa;h++)s.tc(2*h,n),i.Zb(n)},s.prototype.bN=function(){if(this.Pg<this.wa){null==this.za&&(this.za=t.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var i=0;i<this.description.Aa;i++){var s=this.description.Ed(i);if(null!=this.za[i]){var n=t.ra.Va(s),h=t.O.truncate(this.za[i].size/n);h<this.wa&&(h=t.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[i].resize(h*n,t.ra.se(s))),h<this.Pg&&(this.Pg=h)}else this.za[i]=t.Yc.YE(s,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},s.prototype.dm=function(i){if(0>i)throw t.i.N();i!=this.wa&&(this.wa=i,this.Pc(65535))},s.prototype.om=function(t){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=t)return this.ak(8)?1:2}return-1},s.prototype.Ch=function(i,s){if(this.QT=s,-1==i)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),0==i)this.Lf(2,!1),this.Lf(4,!1);else if(1==i)this.Lf(2,!0),this.Lf(4,!1);else{if(2!=i)throw t.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},s.prototype.lM=function(){null!=this.Bb&&(this.Bb=null)},s.prototype.kD=function(i,s,n,h){if(0>i||i>=this.wa)throw t.i.fa("index out of bounds");if(0>s||s>=this.wa)throw t.i.fa("index out of bounds");this.mc(),h.Nf(this.description),h.B()&&h.un();for(var r=0;r<this.description.Aa;r++)for(var e=this.description.Ed(r),o=0,a=t.ra.Va(e);o<a;o++){var u=this.za[r].eg(a*i+o),f=this.za[r].eg(a*s+o);h.setAttribute(e,o,t.lc.hq(u,f,n))}},s.prototype.yr=function(t,i){var s=this.za[0].o,n=s[2*t]-s[2*i];return t=s[2*t+1]-s[2*i+1],Math.sqrt(n*n+t*t)},s.prototype.KR=function(i){if(0>i||i>=this.wa)throw t.i.ce();this.mc();var s=new t.Sa;s.Nf(this.description),s.B()&&s.un();for(var n=0;n<this.description.Aa;n++)for(var h=this.description.kd(n),r=0,e=t.ra.Va(h);r<e;r++){var o=this.za[n].eg(e*i+r);s.setAttribute(h,r,o)}return s},s.prototype.Dh=function(i,s){if(0>i||i>=this.wa)throw t.i.ce();if(s.B())throw t.i.N();this.mc();for(var n=s.description,h=0;h<n.Aa;h++)for(var r=n.kd(h),e=t.ra.Va(r),o=0;o<e;o++){var a=s.Uc(r,o);this.setAttribute(r,i,o,a)}},s.prototype.lu=function(){return null},s.prototype.fj=function(){return null},s}(t.aa);t.Gx=s}(Q||(Q={})),function(t){var i=function(){function i(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new t.$c(7),this.Zn=null}return i.prototype.Vo=function(t){this.Zn=t},i.prototype.RP=function(){this.Rv=!1},i.prototype.De=function(t){this.ob.De(t)},i.prototype.Pr=function(t){var i=this.ob.Ce();return this.rX(i),this.uX(t,i),i},i.prototype.MP=function(t){this.ob.jd(t)},i.prototype.addElement=function(t,i){return-1==i&&(-1==this.Qe&&(this.Qe=this.Pr(-1)),i=this.Qe),this.FD(t,0,i)},i.prototype.KD=function(t){return-1==this.Qe&&(this.Qe=this.Pr(-1)),this.FD(t,1,this.Qe)},i.prototype.xn=function(t){-1==this.Qe&&(this.Qe=this.Pr(-1));var i=this.Qe,s=this.ob.o;if(-1==i||-1==s[7*i])return t=this.ob.Ll([-1,-1,-1,t,this.gl(),-1,-1]),(s=this.ob.o)[7*i]=t,this.vp(-1,t,i,s),t;var n=-1==i?-1:s[7*i+2];return t=this.ob.Ll([-1,-1,n,t,this.gl(),-1,-1]),(s=this.ob.o)[7*n+1]=t,this.oy(t,s),-1===s[7*t+2]&&(s[7*i]=t),this.vp(-1,t,i,s),t},i.prototype.zu=function(i,s,n,h){var r=-1;-1==r&&(-1==this.Qe&&(this.Qe=this.Pr(-1)),r=this.Qe);var e=this.ob.o;if(-1==r||-1==e[7*r])return n=this.ob.Ll([-1,-1,-1,n,this.gl(),-1,-1]),(e=this.ob.o)[7*r]=n,this.vp(-1,n,r,e),n;if(h){h=-1!=s?this.Zn.compare(this,n,s):-1;var o=-1!=i?this.Zn.compare(this,n,i):1}else h=-1,o=1;if(0==h||0==o)return e[7*r+3]=0==h?s:i,-1;for((-1!=s&&-1!=i?this.Tm>t.O.bB(this.Tm)>>1:-1!=s)?i=s:h=o,s=!0;;){if(0>h){if(-1==(o=e[7*i])){h=i,n=this.ob.Ll([-1,-1,i,n,this.gl(),-1,-1]),(e=this.ob.o)[7*i]=n;break}i=o}else{if(-1==(o=e[7*i+1])){h=e[7*i+6],n=this.ob.Ll([-1,-1,i,n,this.gl(),-1,-1]),(e=this.ob.o)[7*i+1]=n;break}i=o}s&&(h*=-1,s=!1)}return this.oy(n,e),-1===e[7*n+2]&&(e[7*r]=n),this.vp(h,n,r,e),n},i.prototype.FF=function(){return this.iR(this.Qe)},i.prototype.vd=function(t,i){i=-1==i?this.Qe:i,this.Rv?this.LP(t,i):this.iY(t,i)},i.prototype.search=function(t,i){for(i=this.sv(i);-1!=i;){var s=this.Zn.compare(this,t,i);if(0==s)return i;i=0>s?this.ll(i):this.Xp(i)}return-1},i.prototype.IW=function(t){for(var i=this.sv(-1),s=-1;-1!=i;){var n=t.compare(this,i);if(0==n)return i;0>n?i=this.ll(i):(s=i,i=this.Xp(i))}return s},i.prototype.uJ=function(t){for(var i=this.sv(-1),s=-1;-1!=i;){var n=t.compare(this,i);if(0==n)return i;0>n?(s=i,i=this.ll(i)):i=this.Xp(i)}return s},i.prototype.ja=function(t){return this.ob.T(t,3)},i.prototype.ll=function(t){return this.ob.T(t,0)},i.prototype.Xp=function(t){return this.ob.T(t,1)},i.prototype.getParent=function(t){return this.ob.T(t,2)},i.prototype.lb=function(t){return this.ob.T(t,6)},i.prototype.we=function(t){return this.ob.T(t,5)},i.prototype.rc=function(t){return-1==t?this.kl(this.Qe):this.kl(t)},i.prototype.Fc=function(t){return-1==t?this.Zr(this.Qe):this.Zr(t)},i.prototype.ZR=function(t){return-1==t?this.bG(this.Qe):this.bG(t)},i.prototype.Sj=function(t,i){this.NB(t,i)},i.prototype.sv=function(t){return-1==t?this.YF(this.Qe):this.YF(t)},i.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},i.prototype.size=function(t){return-1==t?this.$F(this.Qe):this.$F(t)},i.prototype.KN=function(t,i){for(var s=i[7*t],n=i[7*t+1],h=i[7*t+4];-1!=s||-1!=n;){var r=-1!=s?i[7*s+4]:2147483647;if(n=-1!=n?i[7*n+4]:2147483647,h<=Math.min(r,n))break;r<=n?this.sJ(s,i):this.rJ(t,i),s=i[7*t],n=i[7*t+1]}},i.prototype.oy=function(t,i){if(this.Rv)for(var s=i[7*t+4],n=i[7*t+2];-1!=n&&i[7*n+4]>s;)i[7*n]==t?this.sJ(t,i):this.rJ(n,i),n=i[7*t+2]},i.prototype.rJ=function(t,i){var s=i[7*t+1];i[7*s+2]=i[7*t+2],i[7*t+2]=s;var n=i[7*s];i[7*t+1]=n,-1!=n&&(i[7*n+2]=t),i[7*s]=t,-1!=(n=i[7*s+2])&&(i[7*n]==t?i[7*n]=s:i[7*n+1]=s)},i.prototype.sJ=function(t,i){var s=i[7*t+2];i[7*t+2]=i[7*s+2],i[7*s+2]=t;var n=i[7*t+1];i[7*s]=n,-1!=n&&(i[7*n+2]=s),i[7*t+1]=s,-1!=(n=i[7*t+2])&&(i[7*n]===s?i[7*n]=t:i[7*n+1]=t)},i.prototype.Pk=function(t,i){this.ob.S(t,2,i)},i.prototype.TB=function(t,i){this.ob.S(t,0,i)},i.prototype.XB=function(t,i){this.ob.S(t,1,i)},i.prototype.WB=function(t,i){this.ob.S(t,5,i)},i.prototype.ex=function(t,i){this.ob.S(t,6,i)},i.prototype.XJ=function(t,i){this.ob.S(i,0,t)},i.prototype.rX=function(t){this.ob.S(t,4,0)},i.prototype.uX=function(t,i){this.ob.S(i,5,t)},i.prototype.YF=function(t){return-1==t?-1:this.ob.T(t,0)},i.prototype.kl=function(t){return-1==t?-1:this.ob.T(t,1)},i.prototype.Zr=function(t){return-1==t?-1:this.ob.T(t,2)},i.prototype.iR=function(t){return-1==t?-1:this.ob.T(t,3)},i.prototype.$F=function(t){return-1==t?0:this.ob.T(t,4)},i.prototype.bG=function(t){return this.ob.T(t,5)},i.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},i.prototype.fl=function(t){-1!=t&&this.ob.jd(t)},i.prototype.gl=function(){return this.Tm=t.O.bB(this.Tm),1073741823&this.Tm},i.prototype.FD=function(t,i,s){var n=this.ob.o;if(-1==s||-1==n[7*s])return t=this.ob.Ll([-1,-1,-1,t,this.gl(),-1,-1]),(n=this.ob.o)[7*s]=t,this.vp(-1,t,s,n),t;for(var h=-1==s?-1:n[7*s];;){var r=-1==i?1:this.Zn.compare(this,t,h);if(0>r){if(-1==(r=this.ll(h))){i=h,t=this.ob.Ll([-1,-1,h,t,this.gl(),-1,-1]),(n=this.ob.o)[7*h]=t;break}h=r}else{if(1==i&&0==r)return n[7*s+3]=h,-1;if(-1==(r=n[7*h+1])){i=n[7*h+6],t=this.ob.Ll([-1,-1,h,t,this.gl(),-1,-1]),(n=this.ob.o)[7*h+1]=t;break}h=r}}return this.oy(t,n),-1===n[7*t+2]&&(n[7*s]=t),this.vp(i,t,s,n),t},i.prototype.vp=function(t,i,s,n){if(-1!=t){var h=n[7*t+5];n[7*t+5]=i}else h=-1==s?-1:n[7*s+2];n[7*i+5]=h,-1!=h&&(n[7*h+6]=i),n[7*i+6]=t,t==(-1==s?-1:n[7*s+1])&&(n[7*s+1]=i),-1==t&&(n[7*s+2]=i),n[7*s+4]=(-1==s?0:n[7*s+4])+1},i.prototype.AB=function(t,i){var s=this.ob.o,n=s[7*t+5];t=s[7*t+6],-1!=n?s[7*n+6]=t:s[7*i+1]=t,-1!=t?s[7*t+5]=n:s[7*i+2]=n,s[7*i+4]=-1===i?-1:s[7*i+4]-1},i.prototype.iY=function(i,s){this.AB(i,s);var n=this.ll(i),h=this.Xp(i),r=this.getParent(i),e=i;if(-1!=n&&-1!=h){this.Tm=t.O.bB(this.Tm);var o=1073741823<this.Tm?this.lb(i):this.we(i),a=this.getParent(o)==i;this.ob.gC(i,o,0),this.ob.gC(i,o,1),this.ob.gC(i,o,2),-1!=r?this.ll(r)==i?this.TB(r,o):this.XB(r,o):this.XJ(o,s),a?(n==o?(this.TB(o,i),this.Pk(h,o)):h==o&&(this.XB(o,i),this.Pk(n,o)),this.Pk(i,o),r=o):(this.Pk(n,o),this.Pk(h,o),r=this.getParent(i),e=o),n=this.ll(i),h=this.Xp(i),-1!=n&&this.Pk(n,i),-1!=h&&this.Pk(h,i)}n=-1!=n?n:h,-1==r?this.XJ(n,s):this.ll(r)==e?this.TB(r,n):this.XB(r,n),-1!=n&&this.Pk(n,r),this.fl(i)},i.prototype.LP=function(t,i){var s=this.ob.o;s[7*t+4]=2147483647;var n=-1,h=-1,r=-1===i?-1:s[7*i],e=r==t;if(e&&(n=s[7*r],h=s[7*r+1],-1==n&&-1==h))return this.AB(r,i),this.fl(r),void(s[7*i]=-1);this.KN(t,s),-1!=(r=s[7*t+2])&&(s[7*r]==t?s[7*r]=-1:s[7*r+1]=-1),this.AB(t,i),this.fl(t),e&&(s[7*i]=-1==n||-1!=s[7*n+2]?h:n)},i.prototype.NB=function(t,i){this.ob.S(t,3,i)},i}();t.Yj=i}(Q||(Q={})),function(t){var i=function(){function i(t,i){void 0!==t&&this.K(t,i)}return i.prototype.K=function(t,i){this.oa=t,this.va=i,this.normalize()},i.prototype.isIntersecting=function(t){return this.oa<=t.oa?this.va>=t.oa:t.va>=this.oa},i.prototype.move=function(t){this.B()||(this.oa+=t,this.va+=t)},i.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var t=this.oa;this.oa=this.va,this.va=t}isNaN(this.va)&&this.Oa()}},i.prototype.Oa=function(){this.va=this.oa=NaN},i.prototype.B=function(){return isNaN(this.oa)},i.prototype.Zb=function(t){"number"==typeof t?this.B()?this.va=this.oa=t:this.Lk(t):t.B()||(this.B()?(this.oa=t.oa,this.va=t.va):(this.oa>t.oa&&(this.oa=t.oa),this.va<t.va&&(this.va=t.va),this.oa>this.va&&this.Oa()))},i.prototype.Lk=function(t){t<this.oa?this.oa=t:t>this.va&&(this.va=t)},i.prototype.contains=function(t){return"number"==typeof t?t>=this.oa&&t<=this.va:t.oa>=this.oa&&t.va<=this.va},i.prototype.Ea=function(t){this.B()||t.B()?this.Oa():(this.oa<t.oa&&(this.oa=t.oa),this.va>t.va&&(this.va=t.va),this.oa>this.va&&this.Oa())},i.prototype.W=function(t){this.B()||(this.oa-=t,this.va+=t,this.va<this.oa&&this.Oa())},i.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},i.prototype.KB=function(t,i){t>i?(this.oa=i,this.va=t):(this.oa=t,this.va=i)},i.prototype.It=function(i){return t.O.Rk(i,this.oa,this.va)},i.prototype.R=function(){return this.va-this.oa},i.prototype.sf=function(){return.5*(this.oa+this.va)},i.prototype.Nb=function(t){return t==this||t instanceof i&&(!(!this.B()||!t.B())||this.oa==t.oa&&this.va==t.va)},i.prototype.cc=function(){return t.O.uj(t.O.uj())},i}();t.Nc=i}(Q||(Q={})),function(t){var i=new t.Nc,s=new t.Nc,n=function(){this.ne=null,this.pb=-1,this.sb=new t.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new t.Nc,this.Uf.KB(0,0)};t.IY=n;var h=function(){function h(i,s,h){this.g=i,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=s,this.Nq=10*s,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=h,this.TA=new n,this.YH=new n,t.O.truncate(3*i.fd/2)}return h.prototype.mG=function(t,i,s,n){t.ne=null===n?null:n[s[5*i]],t.Tv=null!=t.ne,t.Tv||(-1!==(n=s[5*i+2])&&this.g.mW(s[5*i],s[5*n],t.sb),t.ne=t.sb,t.Uf.KB(t.sb.sa,t.sb.pa),t.Uf.va+=this.qa,t.sb.rI(),t.Vv=t.sb.la==t.sb.na,t.Vv||(t.qA=(t.sb.pa-t.sb.sa)/(t.sb.la-t.sb.na)))},h.prototype.OO=function(t,i){var s=t.zr(i,this.qa,!0);return 0!=s?2==s?this.Qy():this.xi():(t.Yp(it),t.Tr(st),i.Yp(nt),i.Tr(ht),tt.ma(this.Kq,this.Hk),it.qb(nt)&&this.Hk==it.y?0>st.compare(ht)?tt.L(st):tt.L(ht):it.qb(ht)&&this.Hk==it.y?0>st.compare(nt)?tt.L(st):tt.L(nt):nt.qb(st)&&this.Hk==nt.y?0>it.compare(ht)?tt.L(it):tt.L(ht):st.qb(ht)&&this.Hk==st.y&&(0>it.compare(nt)?tt.L(it):tt.L(nt)),t.Pe(tt.y,tt.x)<i.Pe(tt.y,tt.x)?-1:1)},h.prototype.MO=function(t,i){if(t.sb.na==i.sb.na&&t.sb.sa==i.sb.sa)return t.sb.la==i.sb.la&&t.sb.pa==i.sb.pa?this.gA?this.Qy():0:this.PE(t,i);if(t.sb.la==i.sb.la&&t.sb.pa==i.sb.pa)return this.OE(t,i);var s=this.OE(t,i);return t=this.PE(t,i),0>s&&0>t?-1:0<s&&0<t?1:this.xi()},h.prototype.IO=function(t,i){if(t.pa>i.pa){if(i.pa>i.sa&&i.la-i.na<2*this.qa&&t.vi(i.pa,i.la,this.qa))return this.xi()}else if((i.la-i.na)/(i.pa-i.sa)*(t.pa-t.sa)<this.Nq&&i.vi(t.pa,t.la,this.qa))return this.xi();return 1},h.prototype.JO=function(t,i){if(t.sa<i.sa){if(i.pa>i.sa&&i.la-i.na<2*this.qa&&t.vi(i.pa,i.la,this.qa))return this.xi()}else if((i.la-i.na)/(i.pa-i.sa)*(t.sa-t.pa)<this.Nq&&i.vi(t.sa,t.na,this.qa))return this.xi();return-1},h.prototype.KO=function(i,s){var n=new t.h;n.uc(s.wc(),s.ac()),n.ar(),n.normalize();var h=new t.h;h.uc(i.ac(),s.ac());var r=new t.h;r.uc(i.wc(),s.ac()),h=h.Qh(n),n=r.Qh(n),r=Math.abs(h);var e=Math.abs(n);if(r<e){if(r<this.Nq&&s.vi(i.sa,i.na,this.qa))return this.xi()}else if(e<this.Nq&&s.vi(i.pa,i.la,this.qa))return this.xi();return 0>h&&0>n?-1:0<h&&0<n?1:this.xi()},h.prototype.NE=function(t,i){return t.na==i.na&&t.sa==i.sa?this.IO(t,i):t.la==i.la&&t.pa==i.pa?this.JO(t,i):this.KO(t,i)},h.prototype.LO=function(t,i){return t.la==i.la&&t.pa==i.pa&&t.na==i.na&&t.sa==i.sa?this.gA?this.Qy():0:this.xi()},h.prototype.OE=function(t,i){var s=1;if(t.sb.na<i.sb.na){s=-1;var n=t;t=i,i=n}t=t.sb,n=i.sb;var h=t.sa-n.sa;i=i.qA*(t.na-n.na);var r=this.Nq;return h<i-r?-s:h>i+r?s:n.vi(t.sa,t.na,this.qa)?this.xi():h<i?-s:s},h.prototype.PE=function(t,i){var s=1;if(i.sb.la<t.sb.la){s=-1;var n=t;t=i,i=n}t=t.sb,n=i.sb;var h=t.pa-n.sa;i=i.qA*(t.la-n.na);var r=this.Nq;return h<i-r?-s:h>i+r?s:n.vi(t.pa,t.la,this.qa)?this.xi():h<i?-s:s},h.prototype.Qy=function(){return this.rg=!0,this.Ni=new t.Md(5,this.Lo,this.gt),-1},h.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new t.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},h.prototype.NO=function(t,n,h,r){if(this.rg)return-1;var e=this.OH==this.Hk&&this.NH==this.Kq;if(e&&t==this.Ws)var o=this.PH;else o=NaN,this.Ws=-1;return e&&n==this.Xs?e=this.QH:(e=NaN,this.Xs=-1),h.ne.ZI(i),r.ne.ZI(s),i.va<s.oa?-1:s.va<i.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(o)&&(this.Ws=t,this.PH=o=t=h.ne.Pe(this.Hk,this.Kq)),isNaN(e)&&(this.Xs=n,this.QH=e=t=r.ne.Pe(this.Hk,this.Kq)),Math.abs(o-e)<=this.qa?this.OO(h.ne,r.ne):o<e?-1:o>e?1:0)},h.prototype.Kr=function(){this.rg=!1},h.prototype.rm=function(){return this.Ni},h.prototype.$J=function(t,i){this.Hk=t,this.Kq=i,this.gt=this.Lo=this.Xs=this.Ws=-1},h.prototype.compare=function(t,i,s){return this.rg?-1:(t=t.ja(s),this.Dm=s,this.RE(i,i,t,t))},h.prototype.RE=function(t,i,s,n){if(this.Lo==i)var h=this.TA;else this.Lo=i,h=this.TA,this.TA.pb=t,this.mG(h,i,this.g.td.o,this.g.We);if(null==r){this.gt=n;var r=this.YH;this.YH.pb=s,this.mG(r,n,this.g.td.o,this.g.We)}return h.Tv||r.Tv?this.NO(i,n,h,r):h.Uf.va<r.Uf.oa?-1:r.Uf.va<h.Uf.oa?1:(t=h.Vv?1:0,0==(t|=r.Vv?2:0)?this.MO(h,r):1==t?this.NE(h.sb,r.sb):2==t?-1*this.NE(r.sb,h.sb):this.LO(h.sb,r.sb))},h}();t.UC=h}(Q||(Q={})),function(t){var i=function(){function i(i,s){this.g=i,this.qa=s,this.rg=!1,this.Lo=-1,this.Uf=new t.Nc,this.Gq=new t.h,this.Gq.Rc(),this.ie=new t.yb,this.Dm=-1,this.BA=17976931348623157e292}return i.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},i.prototype.Dh=function(t){this.Gq.L(t)},i.prototype.compare=function(t,i){return this.SE(i,t.ja(i))},i.prototype.SE=function(i,s){var n=null!=this.g.bc(s);if(n||(this.g.ed(s,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),n)throw t.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=i,this.rg=!0,0;this.ie.rI(),n=this.ie.ac(),(s=new t.h).uc(this.ie.wc(),n),s.ar();var h=new t.h;return h.uc(this.Gq,n),n=s.Qh(h),(n/=s.length())<10*-this.qa?-1:n>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((s=Math.abs(n))<this.BA&&(this.Dm=i,this.BA=s),this.rg=!0,s<.25*this.qa)?0:0>n?-1:1},i}();t.aM=i}(Q||(Q={})),function(t){function i(t,i,s,n){s=new Float64Array(t.subarray(s,n)),t.set(s,i)}var s=function(){function s(t){this.Pb=this.pk=!1,this.o=null;var i=t;2>i&&(i=2),this.o=new Float64Array(i),this.size=t}return s.prototype.rotate=function(i,s,n){if(this.Pb)throw t.i.fa("invalid_call");if(s<i||s>n||i>n)throw t.i.N();i!=s&&n!=s&&(this.ni(i,s-i,1),this.ni(s,n-s,1),this.ni(i,n-i,1))},s.qf=function(t,i){var n=new s(t),h=n.o;if(2>t&&(t=2),0!==i)for(var r=0;r<t;r++)h[r]=i;return n},s.Bn=function(t){var i=new s(0);return i.o=new Float64Array(t.o),i.size=t.size,i},s.Lr=function(t,i){var n=new s(0);return n.size=t.size,n.size>i&&(n.size=i),2>(i=n.size)&&(i=2),n.o=new Float64Array(i),n.o.set(t.o.length<=i?t.o:t.o.subarray(0,i),0),n},s.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Float64Array(t):t<=this.o.length||(0<this.o.length?((t=new Float64Array(t)).set(this.o),this.o=t):this.o=new Float64Array(t)))},s.prototype.read=function(t){return this.o[t]},s.prototype.tc=function(t,i){i.x=this.o[t],i.y=this.o[t+1]},s.prototype.get=function(t){return this.o[t]},s.prototype.write=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s},s.prototype.set=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s},s.prototype.Tt=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s.x,this.o[i+1]=s.y},s.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},s.prototype.GB=function(t){return s.Lr(this,t)},s.prototype.eg=function(t){return this.read(t)},s.prototype.resize=function(i,s){if(void 0===s&&(s=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(i<=this.size){if(30<this.o.length&&5*i/4<this.o.length){var n=new Float64Array(this.o,0,i);this.o=n}}else{i>this.o.length&&(n=t.O.truncate(64>i?Math.max(2*i,4):5*i/4),(n=new Float64Array(n)).set(this.o),this.o=n),n=this.o;for(var h=this.size;h<i;h++)n[h]=s}this.size=i},s.prototype.Bh=function(i){if((null==this.o||i>this.o.length)&&this.resize(i),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=i},s.prototype.pr=function(t,i){this.write(t,i)},s.prototype.An=function(i,s,n){for(var h=this.size;s<h&&s<n;s++)i=t.O.uj(this.read(s));return i},s.prototype.Nb=function(t,i,n){if(null==t||!(t instanceof s))return!1;var h=this.size,r=t.size;if(n>h||n>r&&h!=r)return!1;for(n>h&&(n=h);i<n;i++)if(this.read(i)!=t.read(i))return!1;return!0},s.prototype.addRange=function(i,s,n,h,r){if(this.Pb)throw t.i.Hb();if(!h&&(1>r||0!=n%r))throw t.i.N();var e=this.size;if(this.resize(e+n),h)this.o.set(i.o.subarray(s,s+n),e);else{h=n;for(var o=0;o<n;o+=r){h-=r;for(var a=0;a<r;a++)this.o[e+o+a]=i.o[s+h+a]}}},s.prototype.Mn=function(s,n,h,r,e,o,a){if(this.Pb)throw t.i.Hb();if(!e&&(1>o||0!=r%o))throw t.i.N();var u=this.size-a;if(u<r&&this.resize(this.size+r-u),i(this.o,s+r,s,s+(a-s)),this.o==n.o&&s<h&&(h+=r),e)this.o.set(n.o.subarray(h,h+r),s);else for(e=r,a=0;a<r;a+=o)for(e-=o,u=0;u<o;u++)this.o[s+a+u]=n.o[h+e+u]},s.prototype.Iz=function(s,n,h,r,e,o){if(this.Pb)throw t.i.Hb();if(0>o&&(o=this.size),this.size+2*r>this.o.length?this.resize(this.size+2*r):this.size+=2*r,i(this.o,s+2*r,s,s+(o-s)),e)for(e=0;e<r;e++)o=n[h++],this.o[s++]=o.x,this.o[s++]=o.y;else{e=0;for(var a=r-1;e<r;++e)o=n[h+a],this.o[s++]=o.x,this.o[s++]=o.y,a--}},s.prototype.Ln=function(s,n,h,r){if(this.Pb)throw t.i.Hb();for(r-=s,i(this.o,s+r,s,s+r),r=0;r<h;r++)this.o[s+r]=n},s.prototype.vj=function(s,n,h){if(this.Pb)throw t.i.Hb();i(this.o,s+2,s,s+(h-s)),this.o[s]=n.x,this.o[s+1]=n.y},s.prototype.Ut=function(i,s,n,h,r,e){if(0>i||0>s||0>h)throw t.i.N();if(!r&&(0>=e||0!=s%e))throw t.i.N();if(n.size<h+s)throw t.i.N();if(0!=s)if(this.size<s+i&&this.resize(s+i),n==this)this.Ar(i,s,h,r,e);else if(r)for(r=0;r<s;r++)this.o[i]=n.o[h],i++,h++;else if(h=h+s-e,1==e)for(r=0;r<s;r++)this.o[i]=n.o[h],i++,h--;else for(r=0,s=t.O.truncate(s/e);r<s;r++){for(var o=0;o<e;o++)this.o[i+o]=n.o[h+o];i+=e,h-=e}},s.prototype.En=function(s,n,h){if(this.Pb)throw t.i.Hb();if(s+n>this.size)throw t.i.Hb();0<h-(s+n)&&i(this.o,s,s+n,s+(h-(s+n))+n),this.size-=n},s.prototype.ni=function(i,s,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=s%n)throw t.i.Hb();for(var h=s>>1,r=0;r<h;r+=n){s-=n;for(var e=0;e<n;e++){var o=this.o[i+r+e];this.o[i+r+e]=this.o[i+s+e],this.o[i+s+e]=o}}},s.prototype.Wj=function(i,s,n){if(0>s||0>n||0>s||n+s>this.size)throw t.i.N();for(var h=s;h<s+n;h++)this.o[h]=i},s.prototype.Ar=function(i,s,n,h,r){if(!(h&&i==n||(this.o.set(this.o.subarray(n,n+s),i),h)))for(n=i,i=i+s-r,h=0,s=t.O.truncate(s/2);h<s;h++){for(var e=0;e<r;e++){var o=this.o[n+e];this.o[n+e]=this.o[i+e],this.o[i+e]=o}n+=r,i-=r}},s.prototype.vC=function(i,s,n,h,r){if(0>i||0>s||0>h)throw t.i.N();if(0!=s)for(this.size<(s<<1)+i&&this.resize((s<<1)+i),r||(i+=s-1<<1),r=r?2:-2,s+=h;h<s;h++)this.o[i]=n[h].x,this.o[i+1]=n[h].y,i+=r},s.prototype.uC=function(i,s,n){if(0>i||0>s)throw t.i.N();if(0!=s){this.size<(s<<1)+i&&this.resize((s<<1)+i),s+=0;for(var h=0;h<s;h++)this.o[i]=n[h][0],this.o[i+1]=n[h][1],i+=2}},s.prototype.Vw=function(i,s,n,h,r){if(0>i||0>s||0>h||this.size<s+i)throw t.i.N();if(r)for(r=0;r<s;r++)n[h+r]=this.o[i+r];else for(h=h+s-1;i<s;i++)n[h]=this.o[i],h--},s.prototype.uB=function(i,s,n){if(0>i||0>s||this.size<(s>>1)+i)throw t.i.N();if(0!=s){s=0+s;for(var h=0;h<s;h++)n[h][0]=this.o[i],n[h][1]=this.o[i+1],i+=2}},s.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},s.prototype.ix=function(){this.pk=this.Pb=!0},s.prototype.Vd=function(t,i,s){Array.prototype.sort.call(this.o.subarray(t,i),s)},s.prototype.Tp=function(){return 1},s}();t.be=s}(Q||(Q={})),function(t){function i(t,i,s,n){s=new Int32Array(t.subarray(s,n)),t.set(s,i)}t.rY=function(){this.random=1973};var s=function(){function s(t){this.Pb=this.pk=!1,this.o=null;var i=t;2>i&&(i=2),this.o=new Int32Array(i),this.size=t}return s.prototype.rotate=function(i,s,n){if(this.Pb)throw t.i.fa("invalid_call");if(s<i||s>n||i>n)throw t.i.N();i!=s&&n!=s&&(this.ni(i,s-i,1),this.ni(s,n-s,1),this.ni(i,n-i,1))},s.qf=function(t,i){var n=new s(t),h=n.o;if(2>t&&(t=2),0!==i)for(var r=0;r<t;r++)h[r]=i;return n},s.Bn=function(t){var i=new s(0);return i.o=new Int32Array(t.o),i.size=t.size,i},s.Lr=function(t,i){var n=new s(0);return n.size=t.size,n.size>i&&(n.size=i),2>(i=n.size)&&(i=2),n.o=new Int32Array(i),n.o.set(t.o.length<=i?t.o:t.o.subarray(0,i),0),n},s.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Int32Array(t):t<=this.o.length||(0<this.o.length?((t=new Int32Array(t)).set(this.o),this.o=t):this.o=new Int32Array(t)))},s.prototype.read=function(t){return this.o[t]},s.prototype.tc=function(t,i){i.x=this.o[t],i.y=this.o[t+1]},s.prototype.get=function(t){return this.o[t]},s.prototype.write=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s},s.prototype.set=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s},s.prototype.Tt=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s.x,this.o[i+1]=s.y},s.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},s.prototype.GB=function(t){return s.Lr(this,t)},s.prototype.eg=function(t){return this.read(t)},s.prototype.resize=function(i,s){if(void 0===s&&(s=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(i<=this.size){if(30<this.o.length&&5*i/4<this.o.length){var n=new Int32Array(this.o,0,i);this.o=n}}else{i>this.o.length&&(n=t.O.truncate(64>i?Math.max(2*i,4):5*i/4),(n=new Int32Array(n)).set(this.o),this.o=n),n=this.o;for(var h=this.size;h<i;h++)n[h]=s}this.size=i},s.prototype.Bh=function(i){if((null==this.o||i>this.o.length)&&this.resize(i),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=i},s.prototype.pr=function(t,i){this.write(t,i)},s.prototype.An=function(i,s,n){for(var h=this.size;s<h&&s<n;s++)i=t.O.Th(this.read(s),i);return i},s.prototype.Nb=function(t,i,n){if(null==t||!(t instanceof s))return!1;var h=this.size,r=t.size;if(n>h||n>r&&h!=r)return!1;for(n>h&&(n=h);i<n;i++)if(this.read(i)!=t.read(i))return!1;return!0},s.prototype.addRange=function(i,s,n,h,r){if(this.Pb)throw t.i.Hb();if(!h&&(1>r||0!=n%r))throw t.i.N();var e=this.size;if(this.resize(e+n),h)this.o.set(i.o.subarray(s,s+n),e);else{h=n;for(var o=0;o<n;o+=r){h-=r;for(var a=0;a<r;a++)this.o[e+o+a]=i.o[s+h+a]}}},s.prototype.Mn=function(s,n,h,r,e,o,a){if(this.Pb)throw t.i.Hb();if(!e&&(1>o||0!=r%o))throw t.i.N();if(i(this.o,s+r,s,s+(a-s)),this.o==n.o&&s<h&&(h+=r),e)this.o.set(n.o.subarray(h,h+r),s);else for(e=r,a=0;a<r;a+=o){e-=o;for(var u=0;u<o;u++)this.o[s+a+u]=n.o[h+e+u]}},s.prototype.Iz=function(s,n,h,r,e,o){if(this.Pb)throw t.i.Hb();if(0>o&&(o=this.size),this.size+2*r>this.o.length?this.resize(this.size+2*r):this.size+=2*r,i(this.o,s+2*r,s,s+(o-s)),e)for(e=0;e<r;e++)o=n[h++],this.o[s++]=o.x,this.o[s++]=o.y;else{e=0;for(var a=r-1;e<r;++e)o=n[h+a],this.o[s++]=o.x,this.o[s++]=o.y,a--}},s.prototype.Ln=function(s,n,h,r){if(this.Pb)throw t.i.Hb();for(r-=s,i(this.o,s+r,s,s+r),r=0;r<h;r++)this.o[s+r]=n},s.prototype.vj=function(s,n,h){if(this.Pb)throw t.i.Hb();i(this.o,s+2,s,s+(h-s)),this.o[s]=n.x,this.o[s+1]=n.y},s.prototype.Ut=function(i,s,n,h,r,e){if(0>i||0>s||0>h)throw t.i.N();if(!r&&(0>=e||0!=s%e))throw t.i.N();if(n.size<h+s)throw t.i.N();if(0!=s)if(this.size<s+i&&this.resize(s+i),n==this)this.Ar(i,s,h,r,e);else if(r)for(r=0;r<s;r++)this.o[i]=n.o[h],i++,h++;else if(h=h+s-e,1==e)for(r=0;r<s;r++)this.o[i]=n.o[h],i++,h--;else for(r=0,s=t.O.truncate(s/e);r<s;r++){for(var o=0;o<e;o++)this.o[i+o]=n.o[h+o];i+=e,h-=e}},s.prototype.En=function(s,n,h){if(this.Pb)throw t.i.Hb();if(s+n>this.size)throw t.i.Hb();0<h-(s+n)&&i(this.o,s,s+n,s+(h-(s+n))+n),this.size-=n},s.prototype.ni=function(i,s,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=s%n)throw t.i.Hb();for(var h=s>>1,r=0;r<h;r+=n){s-=n;for(var e=0;e<n;e++){var o=this.o[i+r+e];this.o[i+r+e]=this.o[i+s+e],this.o[i+s+e]=o}}},s.prototype.Wj=function(i,s,n){if(0>s||0>n||0>s||n+s>this.size)throw t.i.N();for(var h=s;h<s+n;h++)this.o[h]=i},s.prototype.Ar=function(i,s,n,h,r){if(!(h&&i==n||(this.o.set(this.o.subarray(n,n+s),i),h)))for(n=i,i=i+s-r,h=0,s=t.O.truncate(s/2);h<s;h++){for(var e=0;e<r;e++){var o=this.o[n+e];this.o[n+e]=this.o[i+e],this.o[i+e]=o}n+=r,i-=r}},s.prototype.vC=function(i,s,n,h,r){if(0>i||0>s||0>h)throw t.i.N();if(0!=s)for(this.size<(s<<1)+i&&this.resize((s<<1)+i),r||(i+=s-1<<1),r=r?2:-2,s+=h;h<s;h++)this.o[i]=n[h].x,this.o[i+1]=n[h].y,i+=r},s.prototype.Vw=function(i,s,n,h,r){if(0>i||0>s||0>h||this.size<s+i)throw t.i.N();if(r)for(r=0;r<s;r++)n[h+r]=this.o[i+r];else for(h=h+s-1;i<s;i++)n[h]=this.o[i],h--},s.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},s.prototype.ix=function(){this.pk=this.Pb=!0},s.prototype.Vd=function(t,i,n){10>i-t?s.rG(this.o,t,i,n):s.qB(this.o,t,i-1,n)},s.prototype.Tp=function(){return 2},s.prototype.Fc=function(){return this.o[this.size-1]},s.prototype.If=function(){this.resize(this.size-1)},s.prototype.bX=function(t){this.o[this.size-1]=t},s.prototype.SV=function(t){t<this.size-1&&(this.o[t]=this.o[this.size-1]),this.resize(this.size-1)},s.prototype.lF=function(t){for(var i=0,s=this.size;i<s;i++)if(this.o[i]==t)return i;return-1},s.prototype.hG=function(t){return 0<=this.lF(t)},s.rG=function(t,i,s,n){for(var h=i;h<s;h++){for(var r=t[h],e=h-1;e>=i&&0<n(t[e],r);)t[e+1]=t[e],e--;t[e+1]=r}},s.tx=function(t,i,s){var n=t[s];t[s]=t[i],t[i]=n},s.qB=function(t,i,n,h){if(!(i>=n))for(;;){if(9>n-i){s.rG(t,i,n+1,h);break}var r=t[i];s.tx(t,i,n);for(var e=i,o=i;o<n;o++)0>=h(t[o],r)&&(s.tx(t,e,o),e+=1);s.tx(t,e,n),e-i<n-e?(s.qB(t,i,e-1,h),i=e+1):(s.qB(t,e+1,n,h),n=e-1)}},s}();t.ia=s}(Q||(Q={})),function(t){function i(t,i,s,n){s=new Int8Array(t.subarray(s,n)),t.set(s,i)}var s=function(){function s(t){this.o=null;var i=t;2>i&&(i=2),this.o=new Int8Array(i),this.size=t}return s.prototype.rotate=function(i,s,n){if(this.Pb)throw t.i.fa("invalid_call");if(s<i||s>n||i>n)throw t.i.N();i!=s&&n!=s&&(this.ni(i,s-i,1),this.ni(s,n-s,1),this.ni(i,n-i,1))},s.qf=function(t,i){var n=new s(t),h=n.o;if(2>t&&(t=2),0!==i)for(var r=0;r<t;r++)h[r]=i;return n},s.Bn=function(t){var i=new s(0);return i.o=new Int8Array(t.o),i.size=t.size,i},s.Lr=function(t,i){var n=new s(0);return n.size=t.size,n.size>i&&(n.size=i),2>(i=n.size)&&(i=2),n.o=new Int8Array(i),n.o.set(t.o.length<=i?t.o:t.o.subarray(0,i),0),n},s.prototype.Jb=function(t){0>=t||(null==this.o?this.o=new Int8Array(t):t<=this.o.length||(0<this.o.length?((t=new Int8Array(t)).set(this.o),this.o=t):this.o=new Int8Array(t)))},s.prototype.read=function(t){return this.o[t]},s.prototype.tc=function(t,i){i.x=this.o[t],i.y=this.o[t+1]},s.prototype.get=function(t){return this.o[t]},s.prototype.write=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s},s.prototype.set=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s},s.prototype.Tt=function(i,s){if(this.Pb)throw t.i.Hb();this.o[i]=s.x,this.o[i+1]=s.y},s.prototype.add=function(t){this.resize(this.size+1),this.o[this.size-1]=t},s.prototype.GB=function(t){return s.Lr(this,t)},s.prototype.eg=function(t){return this.read(t)},s.prototype.resize=function(i,s){if(void 0===s&&(s=0),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(i<=this.size){if(30<this.o.length&&5*i/4<this.o.length){var n=new Int8Array(this.o,0,i);this.o=n}}else{i>this.o.length&&(n=t.O.truncate(64>i?Math.max(2*i,4):5*i/4),(n=new Int8Array(n)).set(this.o),this.o=n),n=this.o;for(var h=this.size;h<i;h++)n[h]=s}this.size=i},s.prototype.Bh=function(i){if((null==this.o||i>this.o.length)&&this.resize(i),this.pk)throw t.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=i},s.prototype.pr=function(t,i){this.write(t,i)},s.prototype.An=function(i,s,n){for(var h=this.size;s<h&&s<n;s++)i=t.O.Th(this.read(s),i);return i},s.prototype.Nb=function(t,i,n){if(null==t||!(t instanceof s))return!1;var h=this.size,r=t.size;if(n>h||n>r&&h!=r)return!1;for(n>h&&(n=h);i<n;i++)if(this.read(i)!=t.read(i))return!1;return!0},s.prototype.addRange=function(i,s,n,h,r){if(this.Pb)throw t.i.Hb();if(!h&&(1>r||0!=n%r))throw t.i.N();var e=this.size;if(this.resize(e+n),h)this.o.set(i.o.subarray(s,s+n),e);else{h=n;for(var o=0;o<n;o+=r){h-=r;for(var a=0;a<r;a++)this.o[e+o+a]=i.o[s+h+a]}}},s.prototype.Mn=function(s,n,h,r,e,o,a){if(this.Pb)throw t.i.Hb();if(!e&&(1>o||0!=r%o))throw t.i.N();if(i(this.o,s+r,s,s+(a-s)),this.o==n.o&&s<h&&(h+=r),e)this.o.set(n.o.subarray(h,h+r),s);else for(e=r,a=0;a<r;a+=o){e-=o;for(var u=0;u<o;u++)this.o[s+a+u]=n.o[h+e+u]}},s.prototype.Ln=function(s,n,h,r){if(this.Pb)throw t.i.Hb();for(r-=s,i(this.o,s+r,s,s+r),r=0;r<h;r++)this.o[s+r]=n},s.prototype.Iz=function(s,n,h,r,e,o){if(this.Pb)throw t.i.Hb();if(0>o&&(o=this.size),this.size+2*r>this.o.length?this.resize(this.size+2*r):this.size+=2*r,i(this.o,s+2*r,s,s+(o-s)),e)for(e=0;e<r;e++)o=n[h++],this.o[s++]=o.x,this.o[s++]=o.y;else{e=0;for(var a=r-1;e<r;++e)o=n[h+a],this.o[s++]=o.x,this.o[s++]=o.y,a--}},s.prototype.vj=function(s,n,h){if(this.Pb)throw t.i.Hb();i(this.o,s+2,s,s+(h-s)),this.o[s]=n.x,this.o[s+1]=n.y},s.prototype.Ut=function(i,s,n,h,r,e){if(0>i||0>s||0>h)throw t.i.N();if(!r&&(0>=e||0!=s%e))throw t.i.N();if(n.size<h+s)throw t.i.N();if(0!=s)if(this.size<s+i&&this.resize(s+i),n==this)this.Ar(i,s,h,r,e);else if(r)for(r=0;r<s;r++)this.o[i]=n.o[h],i++,h++;else if(h=h+s-e,1==e)for(r=0;r<s;r++)this.o[i]=n.o[h],i++,h--;else for(r=0,s=t.O.truncate(s/e);r<s;r++){for(var o=0;o<e;o++)this.o[i+o]=n.o[h+o];i+=e,h-=e}},s.prototype.En=function(s,n,h){if(this.Pb)throw t.i.Hb();if(s+n>this.size)throw t.i.Hb();0<h-(s+n)&&i(this.o,s,s+n,s+(h-(s+n))+n),this.size-=n},s.prototype.ni=function(i,s,n){if(this.Pb)throw t.i.Hb();if(1>n||0!=s%n)throw t.i.Hb();for(var h=s>>1,r=0;r<h;r+=n){s-=n;for(var e=0;e<n;e++){var o=this.o[i+r+e];this.o[i+r+e]=this.o[i+s+e],this.o[i+s+e]=o}}},s.prototype.Wj=function(i,s,n){if(0>s||0>n||0>s||n+s>this.size)throw t.i.N();for(var h=s;h<s+n;h++)this.o[h]=i},s.prototype.Ar=function(i,s,n,h,r){if(!(h&&i==n||(this.o.set(this.o.subarray(n,n+s),i),h)))for(n=i,i=i+s-r,h=0,s=t.O.truncate(s/2);h<s;h++){for(var e=0;e<r;e++){var o=this.o[n+e];this.o[n+e]=this.o[i+e],this.o[i+e]=o}n+=r,i-=r}},s.prototype.vC=function(i,s,n,h,r){if(0>i||0>s||0>h)throw t.i.N();if(0!=s)for(this.size<(s<<1)+i&&this.resize((s<<1)+i),r||(i+=s-1<<1),r=r?2:-2,s+=h;h<s;h++)this.o[i]=n[h].x,this.o[i+1]=n[h].y,i+=r},s.prototype.Vw=function(i,s,n,h,r){if(0>i||0>s||0>h||this.size<s+i)throw t.i.N();if(r)for(r=0;r<s;r++)n[h+r]=this.o[i+r];else for(h=h+s-1;i<s;i++)n[h]=this.o[i],h--},s.prototype.clear=function(t){t?this.resize(0):this.Bh(0)},s.prototype.ix=function(){this.pk=this.Pb=!0},s.prototype.Vd=function(t,i,s){i=this.o.subarray(t,i),Array.prototype.sort.call(i,s),this.o.set(i,t)},s.prototype.zJ=function(i,s){if(this.Pb)throw t.i.fa("invalid call. Attribute Stream is read only.");this.o[i]|=s},s.prototype.KE=function(i,s){if(this.Pb)throw t.i.fa("invalid call. Attribute Stream is read only.");this.o[i]&=~s},s.prototype.Tp=function(){return 1},s}();t.pn=s}(Q||(Q={})),function(t){t.Yc=function(){function i(){}return i.Mr=function(i,s){return t.pn.qf(i,s)},i.Dn=function(i,s){return t.be.qf(i,s)},i.pP=function(i,s,n){switch(i){case 1:i=t.be.qf(s,n);break;case 2:i=t.ia.qf(s,n);break;case 4:i=t.pn.qf(s,n);break;default:throw t.i.Qa()}return i},i.YE=function(s,n){return i.pP(t.ra.Tp(s),n*t.ra.Va(s),t.ra.se(s))},i.Oh=function(i,s){return t.ia.qf(i,s)},i.qI=function(t){var i,s=[];for(i=0;i<t;i++)s.push(null);return s},i}()}(Q||(Q={})),function(t){t.ga=function(t){void 0===t&&(t=0),this.u=t}}(Q||(Q={})),function(t){t.NL=function(){function i(){}return i.bind=function(i){t.Sc=i.PeDefs,t.pf=i.PeFactory,t.NC=i.PeVertcs,t.ej=i.PeCSTransformations,t.MC=i.PeGTTransformations,t.LL=i.PeGeogtran,t.KL=i.PeFactoryCodechange,t.LC=i.PeGCSExtent,t.Cg=i.PePCSInfo,t.ML=i.PeHorizon,t.JL=i.PeCoordsys,t.lp=i.PeGTlistExtended,t.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,t.pf.initialize(null),t.Mx=i.PeGTlistExtendedEntry,t.pf.fromString(t.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},i}(),t.pf=null,t.NC=null,t.JL=null,t.ML=null,t.Cg=null,t.lp=null,t.Mx=null,t.LC=null,t.KL=null,t.LL=null,t.Sc=null,t.MC=null,t.ej=null}(Q||(Q={})),function(t){var i=function(){function t(){}return t.Mb=function(i,s){return 0<=s?t.P(i):-t.P(i)},t.P=function(t){return 0>t?-t:t},t.ti=function(t){return 3552713678800501e-30>t},t.KC=function(i,s,n){return t.P(i-s)<=n*(1+(t.P(i)+t.P(s))/2)},t.Y=function(i,s){return t.KC(i,s,3552713678800501e-30)},t.FL=function(i){return 3552713678800501e-30>=t.P(i)},t.Cd=function(i){return t.FL(i)},t}();t.s=i,t.F=function(){function s(){}return s.gp=function(t,s){var n=0;return 0!=(t=i.P(t))+(s=i.P(s))&&(t>s?(n=s/t,n=t*Math.sqrt(1+n*n)):(n=t/s,n=s*Math.sqrt(1+n*n))),n},s.Wq=function(t,n,h,r,e){for(var o=[0,0,0],a=[0,0,0],u=0;2>=u;u++)n[u]-=t[u],h[u]-=n[u];h=o[1]*a[2]-o[2]*a[1],n=o[2]*a[0]-o[0]*a[2],o=o[0]*a[1]-o[1]*a[0],t=-1*(h*t[0]+n*t[1]+o*t[2]),r[0]=h,r[1]=n,r[2]=o,r[3]=t,a=s.on(r),r[0]/=a,r[1]/=a,r[2]/=a,r[3]/=a,0!=e&&(a=i.Cd(o)?i.Cd(t)?i.Mb(1,n):-i.Mb(1,t):i.Mb(1,o),a*=i.Mb(1,e),r[0]*=a,r[1]*=a,r[2]*=a,r[3]*=a)},s.zx=function(t,i,s){s[0]=t[1]*i[2]-i[1]*t[2],s[1]=t[2]*i[0]-i[2]*t[0],s[2]=t[0]*i[1]-i[0]*t[1]},s.St=function(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]},s.on=function(t){return s.gp(s.gp(t[0],t[1]),t[2])},s.cl=function(t,i,n,h,r,e,o,a){t=s.n(t,i,n);var u=Math.cos(n);e.u=(t+r)*u*Math.cos(h),o.u=(t+r)*u*Math.sin(h),a.u=(t*(1-i)+r)*Math.sin(n)},s.jO=function(t,n,h,r,e,o,a){var u=s.gp(n,h),f=1*Math.sqrt(1-t),c=f/1;if(i.Y(u,0))o.u=0,e.u=i.Mb(1.570796326794897,r),a.u=i.P(r)-f;else{o.u=Math.atan2(h,n),h=Math.atan2(1*r,f*u),o=Math.cos(h);var l=Math.sin(h);n=f*t/(1-t),t*=1,h=Math.atan2(r+n*l*l*l,u-t*o*o*o),3.141592653589793<i.P(h)&&(h=i.Mb(3.141592653589793,h)-h),h=Math.atan(c*Math.tan(h)),l=Math.sin(h),o=Math.cos(h),e.u=Math.atan2(r+n*l*l*l,u-t*o*o*o),1.570796326794897<i.P(e.u)&&(e.u=i.Mb(3.141592653589793,e.u)-e.u),h=Math.atan(c*Math.tan(e.u)),l=Math.sin(h),o=Math.cos(h),a.u=(r-f*l)*Math.sin(e.u)+(u-1*o)*Math.cos(e.u)}},s.n=function(t,i,s){return s=Math.sin(s),t/Math.sqrt(1-i*s*s)},s.ot=function(t,i){return Math.atan2(Math.sin(i)*(1-t),Math.cos(i))},s.Qj=function(t,i){return Math.atan2(Math.sin(i),Math.cos(i)*(1-t))},s.Rq=function(t,n){if(i.ti(t)||0==n||i.Y(i.P(n),1.570796326794897))return n;if(.006884661117170036>t){var h=Math.sqrt(1-t),r=(1-h)/(1+h),e=r*r,o=r*e,a=r*o,u=r*a,f=r*u,c=r*f,l=1.572916666666667*o-3.2578125*u+4.295068359375*c;t=2.142578125*a-6.071484375*f,h=3.129296875*u-11.249837239583334*c;var p=4.775276692708333*f,v=7.958636765252976*c,y=Math.cos(2*n);return n+Math.sin(2*n)*(1.5*r-.84375*o+.525390625*u-.2688395182291667*c-l+h-v+y*(2*(1.3125*e-1.71875*a+1.650146484375*f)-4*t+6*p+y*(4*l-12*h+24*v+y*(8*t-32*p+y*(16*h-80*v+y*(32*p+64*y*v))))))}for(h=1-t,r=t/2,o=(e=i.P(n))*s.Zu(t)/(1.570796326794897*h),a=9999,f=e,e=0;1e-16<a&&50>e;e++)c=s.w(t,f),u=f-(l=(u=(s.kG(f,t)-r*Math.sin(2*f)/c)/h-o)/(c=1/(c*c*c))),a=i.P(l),f=u;return 0<=n?f:-f},s.qW=function(t,n){return i.ti(n)?t:t*s.Zu(n)/1.570796326794897},s.ba=function(t){return 0>(t=s.pF(t,6.283185307179586))?t+6.283185307179586:3.141592653589793>i.P(t)||i.Y(i.P(t),3.141592653589793)?t:t-6.283185307179586},s.pF=function(t,i){return t-Math.floor(t/i)*i},s.Ah=function(t,i){if(.006884661117170036>i){var n=(i=(1-(i=Math.sqrt(1-i)))/(1+i))*i,h=n*n;return t/(1+i)*(1+.25*n+.015625*h+.00390625*n*h)*1.570796326794897}return t*s.Zu(i)},s.Vq=function(t,n){var h=i.Mb(1,Math.sin(n));return n=1.570796326794897>=(n=i.P(s.pF(n,3.141592653589793)))?n:3.141592653589793-n,(i.Y(n,1.570796326794897)?n:Math.atan(Math.sqrt(1-t)*Math.tan(n)))*h},s.q=function(t,i,n){if(.006884661117170036>i){var h=(i=(1-(i=Math.sqrt(1-i)))/(1+i))*i,r=i*h,e=i*r,o=i*e,a=i*o,u=i*a,f=-.7291666666666666*r+.2278645833333333*o+.03987630208333334*u,c=.615234375*e-.21533203125*a,l=-.54140625*o+.20302734375*u,p=.48876953125*a,v=-.4488699776785715*u,y=Math.cos(2*n);return t/(1+i)*((1+.25*h+.015625*e+.00390625*a)*n+Math.sin(2*n)*(-1.5*i+.1875*r+.0234375*o+.00732421875*u-f+l-v+y*(2*(.9375*h-.234375*e-.03662109375*a)-4*c+6*p+y*(4*f-12*l+24*v+y*(8*c-32*p+y*(16*l-80*v+y*(32*p+64*y*v)))))))}return t*(s.kG(n,i)-.5*i*Math.sin(2*n)/s.w(i,n))},s.w=function(t,i){return i=Math.sin(i),Math.sqrt(1-t*i*i)},s.Zu=function(t){return i.KC(t,1,2220446049250313e-31)?1:1>t?s.Xw(0,1-t)-t/3*s.Uw(0,1-t):NaN},s.kG=function(n,h){var r=i.Mb(1,n);n=i.P(n);var e=Math.floor(n/1.570796326794897);if(1<h)h=0==n?0:NaN;else if(i.Cd(e))h=(n=s.sin(n))*s.Xw(1-n*n,1-h*n*n)-h/3*n*n*n*s.Uw(1-n*n,1-h*n*n);else{var o=t.O.truncate(e%2),a=s.Zu(h);0<o?(n=1.570796326794897*(e+1)-n,h=a*(e+1)-(h=(n=Math.sin(n))*s.Xw(1-n*n,1-h*n*n)-h/3*n*n*n*s.Uw(1-n*n,1-h*n*n))):(n-=1.570796326794897*e,h=a*e+(h=(n=Math.sin(n))*s.Xw(1-n*n,1-h*n*n)-h/3*n*n*n*s.Uw(1-n*n,1-h*n*n)))}return h*r},s.sin=function(t){t=s.ba(t);var n=i.Mb(1,t);return t=i.P(t),i.Y(t,3.141592653589793)?0:i.Y(t,1.570796326794897)?1*n:Math.sin(t)*n},s.Uw=function(t,s){var n,h,r,e,o=t,a=s,u=1;for(s=0,t=1;h=((n=.2*(o+a+3*u))-o)/n,r=(n-a)/n,e=(n-u)/n,!(1e-4>i.P(h)&&1e-4>i.P(r)&&1e-4>i.P(e));)e=Math.sqrt(a),s+=t/((n=Math.sqrt(u))*(u+(e=Math.sqrt(o)*(e+n)+e*n))),t*=.25,o=.25*(o+e),a=.25*(a+e),u=.25*(u+e);return a=(o=h*r)-(u=e*e),3*s+t*(1+(u=o-6*u)*(.10227272727272728*u-.2142857142857143-.1730769230769231*e*(h=u+a+a))+e*(.1666666666666667*h+e*(-.4090909090909091*a+.1153846153846154*e*o)))/(n*Math.sqrt(n))},s.Xw=function(t,s){for(var n,h,r,e,o=1;h=2-((n=(t+s+o)/3)+t)/n,r=2-(n+s)/n,e=2-(n+o)/n,!(1e-4>i.P(h)&&1e-4>i.P(r)&&1e-4>i.P(e));o=.25*(o+n))n=Math.sqrt(s),h=Math.sqrt(o),t=.25*(t+(n=Math.sqrt(t)*(n+h)+n*h)),s=.25*(s+n);return(1+(.04166666666666666*(t=h*r-e*e)-.1-.06818181818181818*(s=h*r*e))*t+.07142857142857142*s)/Math.sqrt(n)},s.Qw=function(t,s){if(i.ti(t)||0==s||i.Y(i.P(s),1.570796326794897))return s;if(.006884661117170036>t){var n=t*t,h=t*n,r=t*h,e=t*r,o=t*e,a=t*o,u=-(.02708333333333333*h+.03430059523809524*r+.03149181547619048*e+.02634359154541446*o+.02156896735835538*a),f=.007669890873015873*r+.01299603174603175*e+.0148051353064374*o+.01454454953803912*a,c=-(.002275545634920635*e+.004830845032667949*o+.006558395368616723*a),l=.0006957236677288761*o+.001775193002406544*a,p=-.000217324089394402*a,v=Math.cos(2*s);return s+Math.sin(2*s)*(-(.5*t+.2083333333333333*n+.09375*h+.04878472222222222*r+.02916666666666667*e+.01938905423280423*o+.01388255931712963*a)-u+c-p+v*(2*(.1041666666666667*n+.0875*h+.06050347222222222*r+.04151785714285714*e+.02958958540013228*o+.02203667534722222*a)-4*f+6*l+v*(4*u-12*c+24*p+v*(8*f-32*l+v*(16*c-80*p+v*(32*l+64*v*p))))))}return 0==s||i.Y(i.P(s),1.570796326794897)?n=s:(r=(h=Math.sqrt(t))*Math.sin(s),n=Math.tan(.7853981633974483+s/2)*Math.pow((1-r)/(1+r),h/2),n=2*Math.atan(n)-1.570796326794897),n},s.yO=function(t,s){if(i.ti(t)||0==s||i.Y(i.P(s),1.570796326794897))return s;if(.006884661117170036>t){var n=t*(l=t*(c=t*(v=t*t))),h=t*(p=t*n),r=.05833333333333333*c+.07232142857142858*l+.05634300595238095*n+.0355325796406526*p+.020235546186067*h,e=.02653149801587302*l+.04379960317460317*n+.0429211791776896*p+.03255384637546096*h,o=.01294022817460318*n+.02668104344536636*p+.03155651254609588*h,a=.00659454790965208*p+.0163075268674227*h,u=.003463473736911237*h,f=Math.cos(2*s);return s+Math.sin(2*s)*(.5*t+.2083333333333333*v+.08333333333333333*c+.03611111111111111*l+.01875*n+.01195601851851852*p+.008863673941798942*h-r+o-u+f*(2*(.1458333333333333*v+.1208333333333333*c+.07039930555555556*l+.03616071428571429*n+.01839451058201058*p+.01017113095238095*h)-4*e+6*a+f*(4*r-12*o+24*u+f*(8*e-32*a+f*(16*o-80*u+f*(32*a+64*f*u))))))}var c=Math.sqrt(t),l=c/2,p=Math.tan(.7853981633974483+s/2);t=0,r=1;for(var v=s;0!=r;v=h)n=c*Math.sin(v),h=p*Math.pow((1+n)/(1-n),l),h=2*Math.atan(h)-1.570796326794897,t++,(i.Y(h,v)||3e4<t)&&(r=0);return v},s}()}(Q||(Q={})),function(t){var i=function(){function i(i){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new t.h,this.XH=new t.h,this.KA=!1,this.vq=new t.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=i,this.As=t.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var s=i.getCode();0<s?(this.Kk=s,t.pf.getCode(i)):this.Kk=t.pf.getCode(i),0>this.Kk&&(this.Kk=0);var n=this.Ue.getType();if(this.jH=n==t.Sc.PE_TYPE_PROJCS?2:1,n==t.Sc.PE_TYPE_PROJCS&&!i.loadConstants())throw t.i.N("PeProjcs.loadConstants failed");s=n==t.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),n!=t.Sc.PE_TYPE_GEOGCS&&t.pf.getCode(s),this.Eo=i.getUnit(),this.RH=s.getPrimem().getLongitude(),this.wH=i=s.getUnit().getUnitFactor(),i=Math.PI/(180*i),1e-10>Math.abs(i-1)&&(i=1),this.GA=i,0!=(n&t.Sc.PE_TYPE_PROJCS)?(s=this.Ue,this.HA=1/s.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=t.Cg.generate(s,t.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=t.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,n=1/s.getUnit().getUnitFactor(),this.sw=.001/s.getDatum().getSpheroid().getAxis()*n,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return i.prototype.$r=function(){return this.Kk},i.prototype.kk=function(){return this.tw},i.Py=function(t,i){return t==i||null!=t&&null!=i&&0==t.Kk&&0==i.Kk&&t.As===i.As},i.prototype.Wc=function(){return this.zl},i.prototype.gh=function(t){t.K(this.so)},i.prototype.pv=function(){return this.so.v},i.prototype.ov=function(){return this.so.C},i.prototype.GR=function(t){t.K(this.uw)},i.prototype.lY=function(){var i=this.Ue.getType();if(i==t.Sc.PE_TYPE_PROJCS){i=this.Ue;var s=this.kk().getCentralMeridian(),n=i.getGeogcs();if(null==n)throw t.i.fa("internal error");s=[[s+(n=1/n.getUnit().getUnitFactor()*Math.PI),0]],t.ej.geogToProj(i,1,s),s=s[0][0],n=i.getParameters()[t.Sc.PE_PARM_X0].getValue();var h=this.ml();i=new t.l,h.A(i),s=(h=Math.abs(s-n))+n,n=-1*h+n,h=i.H,i=i.G;var r=new t.l;r.K(n,i,s,h),null==this.so&&(this.so=r)}else{if(i!=t.Sc.PE_TYPE_GEOGCS)throw t.i.fa("internal error");n=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(i=new t.l).K(-n,-n/2,n,n/2),null==this.so&&(this.so=i)}},i.prototype.mY=function(){var i=this.Ue.getType();if(i==t.Sc.PE_TYPE_PROJCS){var s=this.Ue;if(i=this.kk().getCentralMeridian(),null==(s=s.getGeogcs()))throw t.i.fa("internal error");s=1/s.getUnit().getUnitFactor()*Math.PI;var n=this.Vr(),h=new t.l;n.A(h),(n=new t.l).K(i-s,h.G,i+s,h.H),null==this.uw&&(this.uw=n)}else{if(i!=t.Sc.PE_TYPE_GEOGCS)throw t.i.fa("internal error");s=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(i=new t.l).K(-s,-s/2,s,s/2),null==this.uw&&(this.uw=i)}},i.prototype.bf=function(){return this.GA},i.prototype.pm=function(){return this.HA},i.prototype.Vr=function(){if(this.zl)return this.ul;var t=this.ul;return null!=t?t:(this.xx(),this.ul)},i.prototype.Wr=function(){return this.zl?null:(null!=this.ul||this.xx(),this.YG)},i.prototype.xx=function(){if(this.Ue.getType()==t.Sc.PE_TYPE_PROJCS){var i=this.Ue,s=i.getGeogcs(),n=i.horizonGcsGenerate();if(null!=n){var h=n[0].getNump(),r=n[0].getKind();i=0<n[0].getInclusive();var e=this.bf(),o=90*e,a=360*e,u=370*e,f=180*e*t.Sc.PE_HORIZON_DELTA/Math.PI,c=new t.l,l=null;if(1<h)for(var p=1;p<h;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_LINE){null==l&&(l=new t.Ta);var v=n[p].getCoord();l.sx(v[0][0],v[0][1]),l.yj(v[1][0],v[1][1])}if(r==t.Sc.PE_HORIZON_RECT)n=n[0].getCoord(),c.K(n[0][0],n[0][1]),c.Zb(n[1][0],n[1][1]),Math.abs(c.H-o)<1e-7*f&&(c.H=o),Math.abs(c.G+o)<1e-7*f&&(c.G=-o),c.R()>u&&(n=-400*e,c.K(n,c.G,n+5*a,c.H)),n=new t.Fh(c),null==this.ul&&(this.ul=n,this.Iv=i);else{if(u=new t.Da,a=this.kk().isGcsHorizonMultiOverlap(),c=t.gu.bF(s,t.hu.Integer64),a){for(u=new t.gL,f=t.Gh.local().V(u,c,null),p=0;p<h;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_POLY){for(s=n[p].getSize(),e=n[p].getCoord(),r=[],o=0;o<s;o++)r[o]=t.h.construct(e[o][0],e[o][1]);n[p].getInclusive(),a&&((e=new t.Da).Yk(r,s-1),u.ZX(e),f.qe())}u=f.next()}else for(p=0;p<h;p++)if(n[p].getKind()==t.Sc.PE_HORIZON_POLY){for(s=n[p].getSize(),e=n[p].getCoord(),a=[],o=0;o<s;o++)a[o]=t.h.construct(e[o][0],e[o][1]);n[p].getInclusive(),u.Yk(a,s-1)}i?t.Xj.local().wn(u,c,1):t.kp.local().wn(u,c,1),t.dj.local().wn(u,c,1),null==this.ul&&(this.ul=u,this.Iv=i,this.YG=l)}}}},i.prototype.hv=function(){return this.zl||null==this.ul&&this.xx(),this.Iv},i.prototype.DK=function(){if(2==this.jH){var i=this.Ue.horizonPcsGenerate();if(null!=i){var s=i[0].getKind();i[0].getInclusive();var n=i[0].getNump(),h=!1;if(s==t.Sc.PE_HORIZON_RECT)i=i[0].getCoord(),(n=new t.l).K(i[0][0],i[0][1]),n.Zb(i[1][0],i[1][1]),i=new t.Fh(n);else{for(s=-1,h=0;h<n;h++)i[h].getKind()==t.Sc.PE_HORIZON_POLY&&(s=h);for(h=i[s].getSize()-1,i=i[s].getCoord(),n=[],s=0;s<h;s++)n[s]=t.h.construct(i[s][0],i[s][1]);i=s=new t.Da,s.Yk(n,h),h=!0}this.kk().isDensificationNeeded()&&(n=1e5*this.pm(),i=t.Xl.local().V(i,n,null)),h&&(h=new t.Fh,i.bn(h),i.Ke(),i.Qb(),i.qR(),t.Xj.local().wn(i,null,1)),null==this.Us&&(this.Us=i)}}},i.prototype.ml=function(){if(this.zl)return this.Us;var t=this.Us;return null!=t?t:(this.DK(),this.Us)},i.prototype.nY=function(){if(this.Ue.getType()==t.Sc.PE_TYPE_PROJCS){var i=90*this.bf();i=[[0,i],[0,-i]],t.ej.geogToProj(this.Ue,2,i);var s=this.kk(),n=s.getNorthPoleLocation()!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY;s=s.getSouthPoleLocation()!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(n&&this.HH.ma(i[0][0],i[0][1]),s&&this.XH.ma(i[1][0],i[1][1]))}this.KA=!0},i.prototype.CK=function(){if(1==this.jH){var i=400*this.bf();this.vq.K(-i,-i,i,i)}else i=t.Cg.generate(this.Ue,t.Cg.PE_PCSINFO_OPTION_DOMAIN),i=t.l.construct(i.getDomainMinx(),i.getDomainMiny(),i.getDomainMaxx(),i.getDomainMaxy()),this.vq.B()&&this.vq.K(i)},i.prototype.hR=function(t){this.zl&&t.K(this.vq),this.vq.B()&&this.CK(),t.K(this.vq)},i.prototype.Up=function(){return this.RH},i.prototype.zi=function(){return this.bA},i.prototype.Hd=function(){return this.Eo},i.prototype.Xr=function(){return this.wH},i}();t.OC=i}(Q||(Q={})),function(t){var i=function(){function i(i){this.KT=i,this.As=t.zb.xv(i,0,!0);var s=i.getCode();this.ss=0<s?s:t.pf.getCode(i),0>this.ss&&(this.ss=0),this.Eo=s=this.KT.getUnit(),this.IH=1/s.getUnitFactor(),t.pf.getCode(i)}return i.Py=function(t,i){return t==i||null!=t&&null!=i&&0==t.ss&&0==i.ss&&t.As===i.As},i.prototype.$r=function(){return this.ss},i}();t.PL=i}(Q||(Q={})),function(t){t.Yg=function(){function i(){}return i.tb=function(i,s,n,h,r,e,o,a){if(null!=e||null!=o||null!=a){h=t.F.ba(h),s=t.F.ba(s),n=t.F.ba(n),r=t.F.ba(r),1.570796326794897<t.s.P(n)&&(n=t.s.Mb(3.141592653589793,n)-n,s=t.F.ba(s+3.141592653589793)),1.570796326794897<t.s.P(r)&&(r=t.s.Mb(3.141592653589793,r)-r,h=t.F.ba(h+3.141592653589793));var u=t.F.ba(h-s);if(t.s.Y(n,r)&&(t.s.Y(s,h)||t.s.Y(t.s.P(n),1.570796326794897)))null!=e&&(e.u=0),null!=o&&(o.u=0),null!=a&&(a.u=0);else{if(t.s.Y(n,-r)){if(t.s.Y(t.s.P(n),1.570796326794897))return null!=e&&(e.u=3.141592653589793*i),null!=o&&(o.u=0<n?t.F.ba(3.141592653589793-t.F.ba(h)):t.F.ba(h)),void(null!=a&&(a.u=0<n?t.F.ba(h):t.F.ba(3.141592653589793-t.F.ba(h))));if(t.s.Y(t.s.P(u),3.141592653589793))return null!=e&&(e.u=3.141592653589793*i),null!=o&&(o.u=0),void(null!=a&&(a.u=0))}var f=1.570796326794897==t.s.P(n)?0:Math.cos(n),c=Math.sin(n),l=1.570796326794897==t.s.P(r)?0:Math.cos(r),p=Math.sin(r),v=1.570796326794897==t.s.P(u)?0:Math.cos(u),y=3.141592653589793==t.s.P(u)?0:Math.sin(u);if(null!=e){var d=Math.sin((r-n)/2);u=Math.sin(u/2),e.u=2*Math.asin(Math.sqrt(d*d+f*l*u*u))*i}null!=o&&(o.u=t.s.Y(t.s.P(n),1.570796326794897)?0>n?h:t.F.ba(3.141592653589793-h):Math.atan2(l*y,f*p-c*l*v)),null!=a&&(t.s.Y(t.s.P(r),1.570796326794897)?a.u=0>r?s:t.F.ba(3.141592653589793-s):(a.u=Math.atan2(f*y,p*f*v-l*c),a.u=t.F.ba(a.u+3.141592653589793)))}}},i.rf=function(i,s,n,h,r,e,o){if(null!=e||null!=o){s=t.F.ba(s),n=t.F.ba(n),1.570796326794897<t.s.P(n)&&(n=t.s.Mb(3.141592653589793,n)-n,s=t.F.ba(s+3.141592653589793)),t.s.Y(t.s.P(n),1.570796326794897)&&(s=0),r=t.F.ba(r);var a=t.s.Y(t.s.P(r),1.570796326794897)?0:Math.cos(r),u=t.s.Y(t.s.P(r),3.141592653589793)?0:Math.sin(r),f=t.s.Y(t.s.P(n),1.570796326794897)?0:Math.cos(n),c=Math.sin(n);i=h/i,h=t.s.Y(t.s.P(i),1.570796326794897)?0:Math.cos(i);var l=t.s.Y(t.s.P(i),3.141592653589793)?0:Math.sin(i),p=Math.asin(c*h+f*l*a);null!=o&&(o.u=p),null!=e&&(e.u=t.s.Y(t.s.P(p),1.570796326794897)?t.s.Y(n,-p)?0>p?r:t.F.ba(3.141592653589793-r):s:t.s.Y(t.s.P(n),1.570796326794897)&&t.s.Y(i,3.141592653589793)?0>n?r:t.F.ba(3.141592653589793-r):t.F.ba(s+Math.atan2(l*u,f*h-c*l*a)))}},i}()}(Q||(Q={})),function(t){t.Wk=function(){function i(){}return i.tb=function(i,s,n,h,r,e,o,a,u){var f=new t.ga(0),c=new t.ga(0),l=[0,0,0],p=[0,0,0],v=[0,0,0],y=new t.ga(0),d=new t.ga(0),b=new t.ga(0),g=new t.ga(0),w=new t.ga(0);if(null!=o||null!=a||null!=u)if(t.s.ti(s))t.Yg.tb(i,n,h,r,e,o,a,u);else{r=t.F.ba(r),n=t.F.ba(n);var x=t.F.ba(r-n);if(t.s.Y(h,e)&&(t.s.Y(n,r)||t.s.Y(t.s.P(h),1.570796326794897)))null!=o&&(o.u=0),null!=a&&(a.u=0),null!=u&&(u.u=0);else{if(t.s.Y(h,-e)){if(t.s.Y(t.s.P(h),1.570796326794897))return null!=o&&(o.u=2*t.F.Ah(i,s)),null!=a&&(a.u=0<h?t.F.ba(3.141592653589793-t.F.ba(r)):t.F.ba(r)),void(null!=u&&(u.u=0<h?t.F.ba(r):t.F.ba(3.141592653589793-t.F.ba(r))));t.s.Y(t.s.P(x),3.141592653589793)&&(null!=o&&(o.u=2*t.F.Ah(i,s)),null!=a&&(a.u=0),null!=u&&(u.u=0))}else(t.s.Y(t.s.P(h),1.570796326794897)||t.s.Y(t.s.P(e),1.570796326794897))&&(t.s.Y(t.s.P(h),1.570796326794897)?n=r:r=n);var m=0;if(0>x){m=1;var j=n;n=r,r=j,j=h,h=e,e=j}x=t.F.ot(s,h);var M=t.F.ot(s,e);null==a&&null==u||(t.Yg.tb(i,n,x,r,M,null,f,c),f=Math.atan2(Math.sin(f.u)*Math.cos(h-x),Math.cos(f.u)),c=Math.atan2(Math.sin(c.u)*Math.cos(e-M),Math.cos(c.u)),0!=m&&(j=f,f=c,c=j),null!=a&&(a.u=f),null!=u&&(u.u=c)),null!=o&&(t.F.cl(1,s,h,n,0,b,g,w),l[0]=b.u,l[1]=g.u,l[2]=w.u,t.F.cl(1,s,e,r,0,b,g,w),p[0]=b.u,p[1]=g.u,p[2]=w.u,v[0]=l[1]*p[2]-p[1]*l[2],v[1]=-(l[0]*p[2]-p[0]*l[2]),v[2]=l[0]*p[1]-p[0]*l[1],s=1-t.F.w(s,t.F.Vq(s,t.F.Qj(s,Math.acos(v[2]/Math.sqrt(v[0]*v[0]+v[1]*v[1]+v[2]*v[2]))))),s*=2-s,a=Math.atan2(-v[1],-v[0]),v=t.F.ba(a-1.570796326794897),a=t.F.ba(a+1.570796326794897),v=t.s.P(t.F.ba(n-v))<=t.s.P(t.F.ba(n-a))?v:a,t.Yg.tb(1,v,0,n,x,y,null,null),t.Yg.tb(1,v,0,r,M,d,null,null),3.141592653589793<y.u+d.u&&(v=t.F.ba(v+3.141592653589793),t.Yg.tb(1,v,0,n,x,y,null,null),t.Yg.tb(1,v,0,r,M,d,null,null)),y.u*=t.s.Mb(1,h),d.u*=t.s.Mb(1,e),y.u=t.F.Qj(s,y.u),d.u=t.F.Qj(s,d.u),n=t.F.q(i,s,y.u),i=t.F.q(i,s,d.u),o.u=t.s.P(i-n))}}},i.rf=function(i,s,n,h,r,e,o,a){var u=0,f=new t.ga(0),c=new t.ga(0),l=[0,0,0],p=[0,0,0],v=new t.ga(0),y=new t.ga(0),d=new t.ga(0);if(null!=o||null!=a)if(t.s.ti(s))t.Yg.rf(i,n,h,r,e,o,a);else if(t.s.Cd(r))null!=o&&(o.u=n),null!=a&&(a.u=h);else if(e=t.F.ba(e),0>r&&(r=t.s.P(r),e=t.F.ba(e+3.141592653589793)),n=t.F.ba(n),h=t.F.ba(h),1.570796326794897<t.s.P(h)&&(n=t.F.ba(n+3.141592653589793),h=t.s.Mb(3.141592653589793,h)-h),t.s.Y(t.s.P(h),1.570796326794897)&&(n=0),t.s.Cd(h)){var b=t.s.P(1.570796326794897-t.s.P(e));b=t.F.Qj(s,b),b=1-t.F.w(s,t.F.Vq(s,b)),b*=2-b,i=r/t.F.Ah(i,b)*1.570796326794897,i=t.F.Rq(b,i),i=t.F.ot(b,i),t.Yg.rf(1,n,h,i,e,o,f),null!=a&&(u=f.u),null!=a&&(a.u=t.F.Qj(s,u))}else if(t.s.Y(t.s.P(h),1.570796326794897))f=2*(u=t.F.Ah(i,s)),e=0<(i=t.s.Mb(1.570796326794897,h))?t.F.ba(3.141592653589793-e):e,h=u-r,t.s.P(h)<=u?null!=o&&(o.u=e):(h=Math.floor(r/f),0==t.O.truncate(h%2)?(null!=o&&(o.u=e),r-=h*f):(null!=o&&(o.u=t.F.ba(e+3.141592653589793)),r=(h+1)*f-r),h=u-r),null!=a&&(a.u=t.F.Rq(s,h/u*i));else{b=t.F.ot(s,h),e=Math.atan2(Math.sin(e),Math.cos(e)*Math.cos(h-b));var g=t.O.truncate(t.s.Mb(1,b))*(1.570796326794897>=t.s.P(e)?1:-1);e=t.F.ba(n+Math.atan(Math.tan(e)*-Math.sin(b))),t.Yg.tb(i,e,0,n,b,null,c,null),b=t.s.P(1.570796326794897-t.s.P(c.u)),b=t.F.Qj(s,b),b=1-t.F.w(s,t.F.Vq(s,b)),b*=2-b,t.F.cl(1,s,0,e,0,v,y,d),l[0]=v.u,l[1]=y.u,l[2]=d.u,t.F.cl(1,s,h,n,0,v,y,d),p[0]=v.u,p[1]=y.u,p[2]=d.u,h=Math.acos((l[0]*p[0]+l[1]*p[1]+l[2]*p[2])/Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])),h=t.F.Qj(b,h),r=0<(h=t.F.q(i,b,h)+r*g)?c.u:t.F.ba(c.u+3.141592653589793),i=t.s.P(h)/t.F.Ah(i,b)*1.570796326794897,i=t.F.Rq(b,i),i=t.F.ot(b,i),t.Yg.rf(1,e,0,i,r,o,f),null!=a&&(u=f.u),null!=a&&(a.u=t.F.Qj(s,u))}},i}()}(Q||(Q={})),function(t){t.cu=function(){function i(){}return i.tb=function(i,s,n,h,r,e,o,a,u){var f=0,c=0,l=0;if(null!=o||null!=a||null!=u)if(t.s.ti(s))t.Yg.tb(i,n,h,r,e,o,a,u);else{var p=t.F.ba(r-n);if(t.s.Y(h,e)&&(t.s.Cd(p)||t.s.Y(t.s.P(h),1.570796326794897)))null!=o&&(o.u=0),null!=a&&(a.u=0),null!=u&&(u.u=0);else{if(t.s.Y(h,-e)){if(t.s.Y(t.s.P(h),1.570796326794897))return null!=o&&(o.u=2*t.F.Ah(i,s)),null!=a&&(a.u=0<h?t.F.ba(3.141592653589793-t.F.ba(r)):t.F.ba(r)),void(null!=u&&(u.u=0<h?t.F.ba(r):t.F.ba(3.141592653589793-t.F.ba(r))));t.s.Y(t.s.P(p),3.141592653589793)&&(null!=o&&(o.u=2*t.F.Ah(i,s)),null!=a&&(a.u=0),null!=u&&(u.u=0))}else{if(t.s.Y(t.s.P(h),1.570796326794897)||t.s.Y(t.s.P(e),1.570796326794897))return void t.Wk.tb(i,s,n,h,r,e,o,a,u);if(t.s.Cd(p)||t.s.Y(t.s.P(p),3.141592653589793))return void t.Wk.tb(i,s,n,h,r,e,o,a,u)}var v=1-Math.sqrt(1-s),y=s/(1-s),d=i*(1-v);i=t.F.Vq(s,h);var b=t.F.Vq(s,e);s=1.570796326794897==t.s.P(i)?0:Math.cos(i);var g=Math.sin(i),w=1.570796326794897==t.s.P(b)?0:Math.cos(b),x=Math.sin(b),m=p,j=Math.cos(m),M=Math.sin(m),k=1,z=0;do{var A=m,N=Math.sqrt(Math.pow(w*M,2)+Math.pow(s*x-g*w*j,2)),I=g*x+s*w*j,T=Math.atan2(N,I);if(0==N){k=0;break}var P=s*w*M/N;if(f=Math.cos(Math.asin(P)),c=I-2*g*x/(f*=f),1<t.s.P(c)&&(c=t.s.Mb(1,c)),m=p+(1-(m=v/16*f*(4+v*(4-3*f))))*v*P*(T+m*N*(c+m*I*(2*(l=c*c)-1))),j=Math.cos(m),M=Math.sin(m),z++,3.141592653589793<t.s.P(m)&&30<z){k=0;break}}while(5e3>=z&&!t.s.Y(A,m));if(0!=k)v=(y*=f)*(256+y*(y*(74-47*y)-128))/1024,null!=o&&(o.u=d*(1+y*(4096+y*(y*(320-175*y)-768))/16384)*(T-v*N*(c+v/4*(I*(2*l-1)-v/6*c*(4*N*N-3)*(4*l-3))))),null!=a&&(a.u=t.s.Y(t.s.P(h),1.570796326794897)?0>h?r:t.F.ba(3.141592653589793-r):Math.atan2(w*M,s*x-g*w*j)),null!=u&&(t.s.Y(t.s.P(e),1.570796326794897)?u.u=0>e?n:t.F.ba(3.141592653589793-n):(u.u=Math.atan2(s*M,s*x*j-g*w),u.u=t.F.ba(u.u+3.141592653589793)));else{m=t.s.Mb(3.141592653589793,p),I=g*x-s*w,T=Math.acos(I),N=Math.sin(T),f=1,z=P=0;do{l=P,j=1-.25*(P=v*(f*=f)*(1+v+v*v))+.1875*(c=v*v*(j=f*f)*(1+2.25*v))-.1953125*(k=v*v*v*j*f),P=.25*P-.25*c+.29296875*k,M=.03125*c-.05859375*k,k*=.00651041666666667,c=I-2*g*x/f,1<t.s.P(c)&&(c=t.s.Mb(1,c)),f=Math.acos(c),I=Math.cos(2*f),A=Math.cos(3*f),M=(P=t.s.Y(h,-e)?t.F.ba(3.141592653589793-p)/(3.141592653589793*v*j):t.F.ba(m-p)/(v*(j*T+P*N*c+M*Math.sin(2*T)*I+k*Math.sin(3*T)*A)))*N/(s*w),m=1.570796326794897<t.s.P(p)?t.s.Mb(3.141592653589793,M)-Math.asin(M):Math.asin(M),j=Math.cos(m),N=Math.sqrt(Math.pow(w*M,2)+Math.pow(s*x-g*w*j,2)),T=3.141592653589793-Math.asin(t.s.P(N)),I=Math.cos(T),f=Math.cos(Math.asin(P)),z++}while(70>=z&&!t.s.Y(l,P));null!=o&&(j=1+(y*=f*=f)*(4096+y*(y*(320-175*y)-768))/16384,t.s.Y(h,-e)?o.u=3.141592653589793*d*j:(c=I-2*g*x/f,f=Math.acos(c),I=Math.cos(2*f),A=Math.cos(3*f),o.u=d*(j*T+y*(y*(128+y*(35*y-60))-512)/2048*N*c+y*(5*y-4)/6144*y*y*Math.sin(2*T)*I+k*Math.sin(3*T)*A+-762939453125e-16*y*y*y*y*Math.sin(4*T)*Math.cos(4*f)))),null!=a&&(t.s.Cd(h)&&t.s.Cd(e)?(f=Math.sqrt(1-P*P),a.u=Math.acos(f),0>p&&(a.u*=-1)):t.s.Y(t.s.P(h),1.570796326794897)?a.u=0>h?r:t.F.ba(3.141592653589793-r):(o=P/s,d=Math.sqrt(1-o*o),0>s*x-g*w*Math.cos(m)&&(d*=-1),a.u=Math.atan2(o,d),t.s.Y(h,-e)&&t.s.P(t.F.ba(n-r))>3.141592653589793*(1-v*Math.cos(h))&&(0<h&&1.570796326794897>t.s.P(a.u)||0>h&&1.570796326794897<t.s.P(a.u))&&(a.u=t.s.Mb(3.141592653589793,a.u)-a.u))),null!=u&&(t.s.Cd(h)&&t.s.Cd(e)?(f=Math.sqrt(1-P*P),u.u=Math.acos(f),0<=p&&(u.u*=-1)):t.s.Y(t.s.P(e),1.570796326794897)?u.u=0>e?n:t.F.ba(3.141592653589793-n):(p=P/w,o=Math.sqrt(1-p*p),d=Math.sin(m/2),0>Math.sin(b-i)-2*s*x*d*d&&(o*=-1),u.u=Math.atan2(p,o),u.u=t.F.ba(u.u+3.141592653589793),t.s.Y(h,-e)&&!t.s.Cd(h)&&!t.s.Y(t.s.P(h),1.570796326794897)&&t.s.P(t.F.ba(n-r))>3.141592653589793*(1-v*Math.cos(h))&&(null!=a?d=a.u:(o=P/s,d=Math.sqrt(1-o*o),0>s*x-g*w*Math.cos(m)&&(d*=-1),d=Math.atan2(o,d),t.s.Y(h,-e)&&t.s.P(t.F.ba(n-r))>3.141592653589793*(1-v*Math.cos(h))&&(0<h&&1.570796326794897>t.s.P(d)||0>h&&1.570796326794897<t.s.P(d))&&(d=t.s.Mb(3.141592653589793,d)-d)),1.570796326794897>=t.s.P(d)&&1.570796326794897<t.s.P(u.u)||1.570796326794897<=t.s.P(d)&&1.570796326794897>t.s.P(u.u))&&(u.u=-1*t.F.ba(u.u+3.141592653589793))))}}}},i.rf=function(i,s,n,h,r,e,o,a){if(null!=o||null!=a)if(t.s.ti(s))t.Yg.rf(i,n,h,r,e,o,a);else if(e=t.F.ba(e),t.s.Y(t.s.P(h),1.570796326794897)||t.s.Cd(e)||t.s.Y(t.s.P(e),3.141592653589793))t.Wk.rf(i,s,n,h,r,e,o,a);else{var u=1.570796326794897==t.s.P(e)?0:Math.cos(e),f=3.141592653589793==t.s.P(e)?0:Math.sin(e);t.s.Y(t.s.P(h),1.570796326794897)&&(n=0),e=1-Math.sqrt(1-s);var c=t.F.Vq(s,h);h=1.570796326794897==t.s.P(c)?0:Math.cos(c);var l=Math.sin(c);c=Math.atan2(Math.tan(c),u);var p=h*f,v=p*p,y=1-v,d=s/(1-s)*y,b=(s=d*(256+d*(d*(74-47*d)-128))/1024)/4,g=s/6,w=r/(i*(1-e)*(1+d*(4096+d*(d*(320-175*d)-768))/16384)),x=w;do{var m=x;r=1.570796326794897==t.s.P(x)?0:Math.cos(x);var j=(d=3.141592653589793==t.s.P(x)?0:Math.sin(x))*d;x=s*d*((i=Math.cos(2*c+x))+b*(r*(2*(x=i*i)-1)-g*i*(4*j-3)*(4*x-3)))+w}while(!t.s.Y(m,x));r=1.570796326794897==t.s.P(x)?0:Math.cos(x),d=3.141592653589793==t.s.P(x)?0:Math.sin(x),null!=o&&(f=Math.atan2(d*f,h*r-l*d*u),y=e/16*y*(4+e*(4-3*y)),i=Math.cos(2*c+x),o.u=t.F.ba(n+(f-(1-y)*e*p*(x+y*d*(i+y*r*(2*i*i-1)))))),null!=a&&(y=l*d-h*r*u,y=(1-e)*Math.sqrt(v+y*y),a.u=Math.atan2(l*r+h*d*u,y))}},i}()}(Q||(Q={})),function(t){t.PC=function(){function i(){}return i.tb=function(i,s,n,h,r,e,o,a,u){var f=t.F.ba(r-n),c=t.s.Y(t.s.P(h),1.570796326794897),l=t.s.Y(t.s.P(e),1.570796326794897);if(t.s.Y(h,e)&&(t.s.Cd(f)||c))null!=o&&(o.u=0),null!=a&&(a.u=0),null!=u&&(u.u=0);else{if(t.s.ti(s)){var p=Math.sin(h),v=Math.sin(e);p=Math.sqrt((1+p)/(1-p)),v=Math.sqrt((1+v)/(1-v)),p=Math.log(v)-Math.log(p),p=Math.atan2(f,p),null!=o&&(o.u=t.s.Y(h,e)?t.s.P(i*Math.cos(h)*f):t.s.P((i*e-i*h)/Math.cos(p)))}else v=t.F.Qw(s,e),p=Math.sin(t.F.Qw(s,h)),v=Math.sin(v),p=Math.sqrt((1+p)/(1-p)),v=Math.sqrt((1+v)/(1-v)),p=Math.log(v)-Math.log(p),p=Math.atan2(f,p),null!=o&&(t.s.Y(h,e)?o.u=t.s.P(i*f*Math.cos(h)/t.F.w(s,h)):(f=t.F.q(i,s,h),i=t.F.q(i,s,e),o.u=t.s.P((i-f)/Math.cos(p))));null==a&&null==u||(o=t.F.ba(p+3.141592653589793),c&&l||!c&&!l||(c?p=0>h?r:t.F.ba(3.141592653589793-r):l&&(o=0>e?n:t.F.ba(3.141592653589793-n))),null!=a&&(a.u=p),null!=u&&(u.u=o))}},i.rf=function(i,s,n,h,r,e,o,a){e=t.F.ba(e),0>r&&(r=t.s.P(r),e=t.F.ba(e+3.141592653589793)),t.s.ti(s)?t.s.Y(t.s.P(h),1.570796326794897)?(n=0>h?e:t.F.ba(3.141592653589793-e),3.141592653589793>=(e=r/i%6.283185307179586)?i=h-t.s.Mb(e,h):(n=t.F.ba(n+3.141592653589793),i=-h+t.s.Mb(e-3.141592653589793,h))):t.s.Y(t.s.P(e),1.570796326794897)?(n=t.F.ba(n+t.s.Mb(r,e)/(i*Math.cos(h))),i=h):(i=h+r*Math.cos(e)/i,1.570796326794897<t.s.P(i)&&(i=1.570796326794897),t.s.Y(t.s.P(i),1.570796326794897)&&(t.s.Cd(e)||t.s.Y(t.s.P(e),3.141592653589793))||(1.570796316258184<t.s.P(i)&&(i=t.s.Mb(1.570796316258184,i)),s=Math.sin(h),h=Math.sin(i),s=Math.sqrt((1+s)/(1-s)),h=Math.sqrt((1+h)/(1-h)),s=Math.log(h)-Math.log(s),n=t.F.ba(n+Math.tan(e)*s))):t.s.Y(t.s.P(h),1.570796326794897)?(n=0>h?e:t.F.ba(3.141592653589793-e),e=r/t.F.qW(i,s),3.141592653589793>=(e%=6.283185307179586)?i=h-t.s.Mb(e,h):(n=t.F.ba(n+3.141592653589793),i=-h+t.s.Mb(e-3.141592653589793,h)),i=t.F.Rq(s,i)):t.s.Y(t.s.P(e),1.570796326794897)?(n=t.F.ba(n+t.s.Mb(r,e)*t.F.w(s,h)/(i*Math.cos(h))),i=h):(i=1.570796326794897*(r*Math.cos(e)+t.F.q(i,s,h))/t.F.Ah(i,s),1.570796326794897<t.s.P(i)&&(i=t.s.Mb(1.570796326794897,i)),i=t.F.Rq(s,i),t.s.Y(t.s.P(i),1.570796326794897)&&(t.s.Cd(e)||t.s.Y(t.s.P(e),3.141592653589793))||(r=t.F.Qw(s,h),h=t.F.Qw(s,i),1.570796316258184<t.s.P(h)&&(h=t.s.Mb(1.570796316258184,i),i=t.F.yO(s,h)),s=Math.sin(r),h=Math.sin(h),s=Math.sqrt((1+s)/(1-s)),h=Math.sqrt((1+h)/(1-h)),s=Math.log(h)-Math.log(s),n=t.F.ba(n+Math.tan(e)*s))),null!=o&&(o.u=n),null!=a&&(a.u=i)},i}()}(Q||(Q={})),function(t){t.kb=function(){function i(){}return i.Xy=function(i,s,n,h,r,e,o){t.cu.tb(i,s,n,h,r,e,null,o,null)},i.yi=function(i,s,n,h,r,e,o,a){t.cu.rf(i,s,n,h,r,e,o,a)},i.wd=function(i,s,n,h,r,e,o,a,u,f){switch(f){case 2:t.Wk.tb(i,s,n,h,r,e,o,a,u);break;case 3:t.QC.tb(i,s,n,h,r,e,o,a,u);break;case 1:t.PC.tb(i,s,n,h,r,e,o,a,u);break;default:t.cu.tb(i,s,n,h,r,e,o,a,u)}},i.oj=function(i,s,n,h,r,e,o,a,u){switch(u){case 2:t.Wk.rf(i,s,n,h,r,e,o,a);break;case 3:t.QC.rf(i,s,n,h,r,e,o,a);break;case 1:t.PC.rf(i,s,n,h,r,e,o,a);break;default:t.cu.rf(i,s,n,h,r,e,o,a)}},i}()}(Q||(Q={})),function(t){var i=function(){function i(){this.y=this.x=null}return i.construct=function(s){var n=new i;return n.x=new t.Wb,n.x.set(s.x),n.y=new t.Wb,n.y.set(s.y),n},i.VE=function(s,n){var h=new i;return h.x=new t.Wb,h.x.set(s),h.y=new t.Wb,h.y.set(n),h},i.prototype.qg=function(){return this.x.qg()&&this.y.qg()},i.prototype.value=function(){return t.h.construct(this.x.value(),this.y.value())},i}();t.vY=i;var s=function(){function i(){this.z=this.y=this.x=null}return i.construct=function(s){var n=new i;return n.x=new t.Wb,n.x.set(s.x),n.y=new t.Wb,n.y.set(s.y),n.z=new t.Wb,n.z.set(s.z),n},i.VE=function(s,n,h){var r=new i;return r.x=new t.Wb,r.x.set(s),r.y=new t.Wb,r.y.set(n),r.z=new t.Wb,r.z.set(h),r},i.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},i.prototype.value=function(){return new t.Nd(this.x.value(),this.y.value(),this.z.value())},i.prototype.Qh=function(i){var s=new t.Wb,n=new t.Wb,h=new t.Wb;return s.Kl(this.x,i.x),n.Kl(this.y,i.y),h.Kl(this.z,i.z),(i=new t.Wb).dN(s,n),i.add(h),i},i.prototype.cF=function(s){var n=new i;n.x.Kl(this.y,s.z),n.y.Kl(this.z,s.x),n.z.Kl(this.x,s.y);var h=new t.Wb,r=new t.Wb,e=new t.Wb;return h.Kl(this.z,s.y),r.Kl(this.x,s.z),e.Kl(this.y,s.x),n.x.sub(h),n.y.sub(r),n.z.sub(e),n},i}();t.wY=s,t.Ox=function(){function n(){}return n.EP=function(t,i,s){var h=i.x;i=i.y,n.cl(1,t,Math.cos(h),Math.sin(h),Math.cos(i),Math.sin(i),s)},n.DP=function(i,s){var h=new t.Nd;return n.EP(i,s,h),h},n.cl=function(t,i,s,n,h,r,e){t/=Math.sqrt(1-i*r*r),e.K(t*h*s,t*h*n,t*(1-i)*r)},n.Yu=function(i,n){var h=new t.Wb,r=new t.Wb,e=new t.Wb,o=new t.Wb;h.cos(n.x),r.sin(n.x),e.cos(n.y),o.sin(n.y);var a=new t.Wb;return a.set(o),a.Ag(o),a.No(i),a.No(-1),a.kN(),a.sqrt(),(n=new t.Wb).set(1),n.jm(a),(a=new t.Wb).set(n),a.Ag(e),a.Ag(h),(h=new t.Wb).set(n),h.Ag(e),h.Ag(r),(r=new t.Wb).set(n),r.No(1-i),r.Ag(o),s.VE(a,h,r)},n.SS=function(s,h,r,e){if(Math.abs(h.x-r.x)>Math.PI||Math.abs(h.y)>.5*Math.PI||Math.abs(r.y)>.5*Math.PI||(Math.abs(h.y)==.5*Math.PI||Math.abs(r.y)==.5*Math.PI)&&h.x!=r.x)return NaN;if(e=n.cB(e,Math.min(h.x,r.x),Math.max(h.x,r.x)),!new t.Nc(h.x,r.x).contains(e))return NaN;var o=i.construct(h);if(r=i.construct(r),o=n.Yu(s,o),r=n.Yu(s,r),(r=o.cF(r)).z.qg())return h.y;var a=new t.Wb;a.set(r.x),a.jm(r.z),a.No(-1);var u=new t.Wb;u.set(r.y),u.jm(r.z),u.No(-1);var f=new t.Wb;return f.set(u),f.Ag(u),(o=new t.Wb).set(a),o.Ag(a),o.add(f),o.sqrt(),o.qg()||a.qg()&&u.qg()?h.y:(h=Math.atan2(u.value(),a.value()),h=Math.atan2(o.value()*Math.cos(h-e),1-s),e=n.DP(s,t.h.construct(e,h)),s=new t.Nd(e.x,e.y,-e.z),e=r.value().Qh(e),s=r.value().Qh(s),Math.abs(s)<Math.abs(e)&&(h=-h),h)},n.Oz=function(s,h,r,e,o){if(o[0]=NaN,o[1]=NaN,Math.abs(h.x-r.x)>Math.PI||Math.abs(h.y)>.5*Math.PI||Math.abs(r.y)>.5*Math.PI||(Math.abs(h.y)==.5*Math.PI||Math.abs(r.y)==.5*Math.PI)&&h.x!=r.x||Math.abs(e)>=.5*Math.PI||0<h.y&&0<r.y&&h.y>e&&r.y>e||0>h.y&&0>r.y&&h.y<e&&r.y<e)return 0;var a=i.construct(h),u=i.construct(r);a=n.Yu(s,a),u=n.Yu(s,u);var f=a.cF(u);if(f.z.qg())return new t.Nc(h.y,r.y).contains(e)?(o[0]=h.x,1):0;(u=new t.Wb).set(f.x),u.jm(f.z),u.No(-1),(a=new t.Wb).set(f.y),a.jm(f.z),a.No(-1),(f=new t.Wb).set(a),f.Ag(a);var c=new t.Wb;return c.set(u),c.Ag(u),c.add(f),c.sqrt(),c.qg()||u.qg()&&a.qg()?0==e?(o[0]=h.x,o[1]=r.x,2):0:(s=(1-s)*Math.tan(e)/c.value(),1<Math.abs(s)?0:(s=Math.acos(s),f=Math.atan2(a.value(),u.value()),u=Math.min(h.x,r.x),a=Math.max(h.x,r.x),r=n.cB(f-s,u,a),s=0!=e?n.cB(f+s,u,a):r,e=0,u<=r&&r<=a&&(o[e]=r,e++),s!=r&&u<=s&&s<=a&&(o[e]=s,2==++e&&Math.abs(o[0]-h.x)>Math.abs(o[1]-h.x)&&(h=o[0],o[0]=o[1],o[1]=h)),e))},n.cB=function(t,i,s){return t>s?t-=2*(i=Math.ceil((t-s)/(2*Math.PI)))*Math.PI:t<i&&(t+=2*(i=Math.ceil((i-t)/(2*Math.PI)))*Math.PI),t},n}()}(Q||(Q={})),function(t){t.XK=function(){function i(){}return i.$X=function(s,n){var h=8,r=[0,0,0,0],e=new t.h;e.L(n),e.scale(9102==t.cb.sc(s).Hd().Ec()?1:t.cb.sc(s).Hd().ai/3.141592653589793*180),-180>e.x?(e.x-=e.x%360,-180>e.x&&(e.x+=360)):180<e.x&&(e.x-=e.x%360,180<e.x&&(e.x-=360)),90<e.y&&(e.y=90),-90>e.y&&(e.y=-90);for(var o=-180,a=180,u=(s=5*h)-1,f=(n=(s+31)/32)-1;0<=f;f--)for(var c=u-32*f,l=Math.min(32,s-32*f),p=1;p<l;p+=2){var v=.5*(a+o);e.x>=v?(r[f]|=1<<c,o=v):a=v,c-=2,u-=2}for(o=-90,a=90,u=s-2,f=n-1;0<=f;f--)for(c=u-32*f,l=Math.min(32,s-32*f),p=0;p<l;p+=2)v=.5*(a+o),e.y>=v?(r[f]|=1<<c,o=v):a=v,c-=2,u-=2;return i.$P(r,h,h)},i.$P=function(t,i,s){for(var n=[],h=0;h<i;h++)n[h]="";for(var r=h=0,e=0;e<i;e++){var o=t[h]>>r&31;if(31<(r+=5)){var a=37-r;o&=(1<<a)-1,r-=32,o|=(t[++h]&(1<<r)-1)<<a}n[i-1-e]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[o]}if(s>i)for(e=0;e<s-i;e++)n.push("0");else s<i&&(n.length=s);return n.join("")},i}()}(Q||(Q={})),function(t){var i={gcstol:[0,2e-9,1,2.241706620489156e-9,2,2.313672246530541e-9,3,8.98240164660333e-9,4,8.982433838020134e-9,5,8.982439417325895e-9,6,8.982466029667677e-9,7,8.982476760268133e-9,8,8.982492642167149e-9,9,8.98251968292634e-9,10,8.98253685210448e-9,11,8.982546725256576e-9,12,8.982557456049832e-9,13,8.98257333682596e-9,14,8.982575482995276e-9,15,8.982578488197342e-9,16,8.982579775336987e-9,17,8.9825840676828e-9,18,8.982599090925448e-9,19,8.982605529473397e-9,20,8.982609220517402e-9,21,8.982611968030573e-9,22,8.982616260407152e-9,23,8.982620552787834e-9,24,8.982633429954492e-9,25,8.982637722351582e-9,26,8.98264416095491e-9,27,8.982646307158072e-9,28,8.982654891980968e-9,29,8.982667769246082e-9,30,8.982674207892485e-9,31,8.982680646548117e-9,32,8.982682792768713e-9,33,8.982685798042582e-9,34,8.982689231436652e-9,35,8.98269137766135e-9,36,8.98269266624163e-9,37,8.982705114087017e-9,38,8.982706830791106e-9,39,8.982711958374661e-9,40,8.982712839964735e-9,41,8.982717991496125e-9,42,8.982721424914803e-9,43,8.982723571154887e-9,44,8.982727863638127e-9,45,8.982730868942154e-9,46,8.982734302370678e-9,47,8.982745033612112e-9,48,8.982751472369276e-9,49,8.982755764879183e-9,50,8.982762203651733e-9,51,8.982764776628385e-9,52,8.982766496171896e-9,53,8.98277722749025e-9,54,8.98278152002477e-9,55,8.98279933943848e-9,56,8.9829143024805e-9,57,8.982922161948598e-9,58,8.98292327314211e-9,59,8.982925667349601e-9,60,8.982932222965576e-9,61,8.982961298941316e-9,62,8.982965524049989e-9,63,8.982994818246099e-9,64,8.982994895706967e-9,65,8.98299489597736e-9,66,8.983000733443498e-9,67,8.983055097289157e-9,68,8.983064111047368e-9,69,8.983111996941178e-9,70,8.983120447446023e-9,71,8.98312748954554e-9,72,8.983134531656096e-9,73,8.983141573777694e-9,74,8.983148615910332e-9,75,8.983152841195215e-9,76,8.983153545409748e-9,77,8.983153827095593e-9,78,8.98315396793852e-9,79,8.983154249624393e-9,80,8.983155658054012e-9,81,8.983960794340072e-9,82,8.984061344391998e-9,83,8.984072829255685e-9,84,8.984194981201908e-9,85,8.984275233099427e-9,86,8.984326127007554e-9,87,8.984330099816539e-9,88,8.98433275258421e-9,89,8.984333047023206e-9,90,8.984333885258723e-9,91,8.984337959508212e-9,92,8.984365176209457e-9,93,8.984727360418079e-9,94,8.984901041679577e-9,95,8.98542662091587e-9,96,8.98610024130669e-9,97,8.992894229037531e-9,98,8.993203677616635e-9,99,8.993206178094346e-9,100,8.993216059187305e-9,101,8.99322029394808e-9,102,8.994627867045891e-9,103,9.467559984315793e-9,104,9.46881168618118e-9,105,9.980888154931644e-9,106,9.981105353606775e-9,107,9.983807356573187e-9,108,1.687060485811522e-8,109,1.688447560354875e-8,110,2.176606011487185e-8,111,2.225078816042032e-8,112,2.348476432064694e-8,113,2.348765250187846e-8,114,2.378108974103778e-8,115,3.14559636297708e-8,116,3.297788621680806e-8,117,3.667892343788279e-8,118,4.235973644320739e-8,119,4.794625900676345e-8,120,7.262742998235812e-8,121,7.499447580246377e-8,122,7.525056410964318e-8,123,7.979913581209237e-8,124,9.662020153976783e-8,125,9.799175562353741e-8,126,9.897353517547472e-8,127,1.02313891987647e-7,128,1.081460541960784e-7,129,1.21905913857622e-7,130,2.246893314238523e-7,131,2.297344808062643e-7,132,2.42984645941825e-7,133,2.754604784282804e-7,134,2.884548130346993e-7,135,3.370339971357784e-7,136,4.307953346848296e-7,137,5.208707228462029e-7,138,5.509209568565608e-7,139,6.452227422644406e-7,140,6.740679942715567e-7,141,6.861770001566745e-7,142,7.252630318111686e-7,143,7.441010326374328e-7,144,7.742672907173287e-7,145,9.629542775307953e-7,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6.666666666666667e-9,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},s={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};t.wr=function(){function t(){}return t.Sy=function(i){!1===t.xp&&t.yt();var s=t.FQ(i);if(-1==s){var n=t.Bx(i);n!=i&&(s=t.Sy(n))}return-1==s&&((n=t.FK(i))!=i&&(s=t.Sy(n))),s},t.FQ=function(i){return void 0!==t.Fw[i]?t.Fw[i]:-1},t.CQ=function(i){!1===t.xp&&t.yt();var s=t.nF(i);if(1e38==s){var n=t.Bx(i);if(n!=i&&(s=t.nF(n)),1e38==s)return 1e-10}return s},t.ZS=function(i){if(void 0!==t.Is[i])return!0;var s=t.Bx(i);return s!=i&&void 0!==t.Is[s]},t.aT=function(i){if(void 0!==t.xo[i])return!0;var s=t.Bx(i);return s!=i&&void 0!==t.xo[s]},t.nF=function(i){return!1===t.xp&&t.yt(),void 0!==t.Is[i]?t.Is[i]:void 0!==t.xo[i]?t.xo[i]:1e38},t.FK=function(i){return!1===t.xp&&t.yt(),void 0!==t.WA[i]?t.WA[i]:i},t.Bx=function(i){return!1===t.xp&&t.yt(),void 0!==t.XA[i]?t.XA[i]:i},t.yt=function(){for(var n,h=i,r=0;r<h.pcsid.length;r+=2)t.xo[h.pcsid[r]]=h.pcstol[2*h.pcsid[r+1]+1];for(r=0;r<h.pcsidc.length;r+=1)for(var e=(n=h.pcsidc[r])[0];e<=n[1];e++)t.xo[e]=h.pcstol[2*n[2]+1];for(r=0;r<h.gcsid.length;r+=2)t.Is[h.gcsid[r]]=h.gcstol[2*h.gcsid[r+1]+1];for(r=0;r<h.gcsidc.length;r+=1)for(e=(n=h.gcsidc[r])[0];e<=n[1];e++)t.xo[e]=h.gcstol[2*n[2]+1];for(r=0;r<s.c.length;r+=1)for(e=(n=s.c[r])[0];e<=n[1];e++)t.Fw[e]=n[2];for(r=0;r<s.nc.length;r+=2)t.Fw[s.nc[r]]=s.nc[r+1];for(s=null,r=0;r<h.newtoold.length;r+=2)t.WA[h.newtoold[r+1]]=h.newtoold[r],t.XA[h.newtoold[r]]=h.newtoold[r+1];i=null,t.xp=!0},t.xp=!1,t.Is=[],t.xo=[],t.WA=[],t.XA=[],t.Fw=[],t}()}(Q||(Q={})),function(t){function i(t){return 0===t.length?'""':'"'==t[0]||"."==t[0]||"0"<=t[0]&&"9">=t[0]?t:'"'+t.trim()+'"'}var s=[];t.XC=function(){function n(){}return n.EQ=function(h){try{for(var r=0;r<s.length;r++)if(s[r].wkttext===h)return s[r].unit;for(var e,o=r="",a=!1,u=0;u<h.length;u++){var f=h[u];!0===a?'"'==f?'"'==h[u+1]?r+=f:a=a=!1:r+=f:/[\s]/.test(f)||(","==f?(o=""!==r?o+(i(r)+","):o+",",r=""):")"==f||"]"==f?(o=""!==r?o+(i(r)+"]}"):o+"]}",r=""):"("==f||"["==f?(o+='{ "entity": "'+r.toUpperCase().trim()+'", "values":[',r=""):'"'==f?(a=!0,r=""):r+=f)}e=JSON.parse(o);var c=n.mF(e);if(null===c)return null;for(e=null,f=0;f<c.values.length;f++)if("object"==typeof c.values[f]&&("UNIT"===c.values[f].entity||"ANGLEUNIT"===c.values[f].entity||"LENGTHUNIT"===c.values[f].entity)){e=c.values[f];break}if(null===e)return null;var l=t.Tc.ZO("GEOGCS"===c.entity||"GEOGCRS"===c.entity?1:0,e.values[1],e.values[2]);return s.push({wkttext:h,unit:l}),10<s.length&&s.shift(),l}catch(p){return null}},n.mF=function(t){if(null===t)return null;switch(t.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return t}for(var i=[],s=0;s<t.values.length;s++)if("object"==typeof t.values[s]&&void 0!==t.values[s].entity)switch(t.values[s].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return t.values[s];default:i.push(t.values[s])}for(t=0;t<i.length;t++)if(null!==(s=n.mF(i[t])))return s;return null},n.DQ=function(t){var i=-1;if(null!=t&&0<t.length){var s=t.search(/PROJCR?S/);if(0<=s){var n=0;if(0<=(s=t.lastIndexOf("UNIT"))&&0<(s=t.indexOf(",",s+4))){s++;var h=t.indexOf("]",s+1);if(0<h)try{n=parseFloat(t.substring(s,h))}catch(e){n=0}}0<n&&(i=.001/n)}else if(0<=(s=t.search(/GEOGCR?S/))){var r=0;if(n=0,-1===(s=t.indexOf("SPHEROID",s+6))&&(s=t.indexOf("ELLIPSOID",s+7)),0<s&&0<(s=t.indexOf(",",s+8))){if(s++,0<(h=t.indexOf(",",s+1)))try{r=parseFloat(t.substring(s,h))}catch(e){r=0}if(0<r&&(-1===(s=t.lastIndexOf("ANGLEUNIT",h+1))&&(s=t.lastIndexOf("UNIT",h+1)),0<=s&&(0<(s=t.indexOf(",",s+4))&&(s++,0<(h=t.indexOf("]",s+1))))))try{n=parseFloat(t.substring(s,h))}catch(e){n=0}}0<r&&0<n&&(i=.001/(r*n))}}return i},n}()}(Q||(Q={})),function(t){var i;(i=t.eL||(t.eL={}))[i.NONE=0]="NONE",i[i.LINEAR=1]="LINEAR",i[i.ANGULAR=2]="ANGULAR",function(t){t[t.enumFloat=0]="enumFloat",t[t.enumDouble=1]="enumDouble",t[t.enumInt32=2]="enumInt32",t[t.enumInt64=3]="enumInt64",t[t.enumInt8=4]="enumInt8",t[t.enumInt16=5]="enumInt16"}(t.QL||(t.QL={})),function(t){t[t.POSITION=0]="POSITION",t[t.Z=1]="Z",t[t.M=2]="M",t[t.ID=3]="ID",t[t.NORMAL=4]="NORMAL",t[t.TEXTURE1D=5]="TEXTURE1D",t[t.TEXTURE2D=6]="TEXTURE2D",t[t.TEXTURE3D=7]="TEXTURE3D",t[t.ID2=8]="ID2",t[t.MAXSEMANTICS=10]="MAXSEMANTICS"}(t.Ih||(t.Ih={}));var s=function(){function i(t,s){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,void 0!==s){for(this.Aa=s.Aa,this.Oq=s.Oq,this.bg=s.bg.slice(0),this.uh=s.uh.slice(0),this.wl=s.wl,this.Vs=[],t=s=0;t<this.Aa;t++)this.Vs[t]=s,s+=i.Va(this.bg[t]);for(this.Oq=s,this.Ae=[],t=0;t<this.Aa;t++){s=i.Va(this.kd(t));for(var n=i.se(this.kd(t)),h=0;h<s;h++)this.Ae[this.Vs[t]+h]=n}}else this.Oq=this.Aa=0}return i.prototype.kd=function(i){if(0>i||i>this.Aa)throw t.i.N();return this.bg[i]},i.prototype.Pf=function(t){return this.uh[t]},i.lz=function(t){return i.JM[t]},i.Tp=function(t){return i.SM[t]},i.Va=function(t){return i.rM[t]},i.prototype.hasAttribute=function(t){return 0<=this.uh[t]},i.prototype.iG=function(){return this.hasAttribute(1)},i.se=function(t){return i.eD[t]},i.prototype.LR=function(t){return this.Vs[t]},i.DG=function(t,s){return i.eD[t]===s},i.prototype.Nb=function(t){return this===t},i.prototype.An=function(){for(var i=t.O.Th(this.bg[0]),s=1;s<this.Aa;s++)i=t.O.Th(this.bg[s],i);return i},i.prototype.$j=function(t){return this.Vs[t]},i.prototype.cc=function(){return this.wl},i.prototype.Ed=function(t){return this.bg[t]},i.eD=[0,0,NaN,0,0,0,0,0,0],i.JM=[1,1,1,0,2,1,1,1,0],i.SM=[1,1,1,2,0,0,0,0,2],i.rM=[2,1,1,1,3,1,2,3,2],i}();t.ra=s}(Q||(Q={})),function(t){function i(t,i,n){var r=i-(t=new o(t)).e,e=t.c;for(e.length>++i&&s(t,r,o.eu),e[0]?n?r=i:(e=t.c,r=t.e+r+1):++r;e.length<r;e.push(0));return r=t.e,1===n||n&&(i<=r||r<=h)?(0>t.Bd&&e[0]?"-":"")+(1<e.length?e[0]+"."+e.join("").slice(1):e[0])+(0>r?"e":"e+")+r:t.toString()}function s(t,i,s,h){var r=t.c,e=t.e+i+1;if(1===s?h=5<=r[e]:2===s?h=5<r[e]||5==r[e]&&(h||0>e||void 0!==r[e+1]||1&r[e-1]):3===s?h=h||void 0!==r[e]||0>e:(h=!1,0!==s&&n("!Big.RM!")),1>e||!r[0])h?(t.e=-i,t.c=[1]):t.c=[t.e=0];else{if(r.length=e--,h)for(;9<++r[e];)r[e]=0,e--||(++t.e,r.unshift(1));for(e=r.length;!r[--e];r.pop());}return t}function n(t){throw(t=Error(t)).name="BigError",t}var h=-7,r=21,e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,o=function(){function t(i){if(i instanceof t)this.Bd=i.Bd,this.e=i.e,this.c=i.c.slice();else{var s,h,r;for(0===i&&0>1/i?i="-0":e.test(i+="")||n(NaN),this.Bd="-"==i.charAt(0)?(i=i.slice(1),-1):1,-1<(s=i.indexOf("."))&&(i=i.replace(".","")),0<(h=i.search(/e/i))?(0>s&&(s=h),s+=+i.slice(h+1),i=i.substring(0,h)):0>s&&(s=i.length),h=0;"0"==i.charAt(h);h++);if(h==(r=i.length))this.c=[this.e=0];else{for(;"0"==i.charAt(--r););for(this.e=s-h-1,this.c=[],s=0;h<=r;this.c[s++]=+i.charAt(h++));}}}return t.prototype.abs=function(){var i=new t(this);return i.Bd=1,i},t.prototype.cmp=function(i){var s=this.c,n=(i=new t(i)).c,h=this.Bd,r=i.Bd,e=this.e,o=i.e;if(!s[0]||!n[0])return s[0]?h:n[0]?-r:0;if(h!=r)return h;if(i=0>h,e!=o)return e>(o^i)?1:-1;for(h=-1,r=(e=s.length)<(o=n.length)?e:o;++h<r;)if(s[h]!=n[h])return s[h]>(n[h]^i)?1:-1;return e==o?0:e>(o^i)?1:-1},t.prototype.jm=function(i){var h=this.c,r=(i=new t(i)).c,e=this.Bd==i.Bd?1:-1,o=t.rr;if((o!==~~o||0>o||1e6<o)&&n("!Big.DP!"),!h[0]||!r[0])return h[0]==r[0]&&n(NaN),r[0]||n(e/0),new t(0*e);var a,u,f=r.slice(),c=a=r.length,l=h.length,p=h.slice(0,a),v=p.length,y=i,d=y.c=[],b=0,g=o+(y.e=this.e-i.e)+1;for(y.Bd=e,e=0>g?0:g,f.unshift(0);v++<a;p.push(0));do{for(u=0;10>u;u++){if(a!=(v=p.length))var w=a>v?1:-1;else{var x=-1;for(w=0;++x<a;)if(r[x]!=p[x]){w=r[x]>p[x]?1:-1;break}}if(!(0>w))break;for(i=v==a?r:f;v;){if(p[--v]<i[v]){for(x=v;x&&!p[--x];p[x]=9);--p[x],p[v]+=10}p[v]-=i[v]}for(;!p[0];p.shift());}d[b++]=w?u:++u,p[0]&&w?p[v]=h[c]||0:p=[h[c]]}while((c++<l||void 0!==p[0])&&e--);return d[0]||1==b||(d.shift(),y.e--),b>g&&s(y,o,t.eu,void 0!==p[0]),y},t.prototype.fS=function(){return 0<this.cmp(0)},t.prototype.nT=function(){return 0>this.cmp(0)},t.prototype.jt=function(i){var s,n=this.Bd,h=(i=new t(i)).Bd;if(n!=h)return i.Bd=-h,this.tI(i);var r=this.c.slice(),e=this.e,o=i.c,a=i.e;if(!r[0]||!o[0])return o[0]?(i.Bd=-h,i):new t(r[0]?this:0);if(n=e-a){for((s=0>n)?(n=-n,e=r):(a=e,e=o),e.reverse(),h=n;h--;e.push(0));e.reverse()}else for(e=((s=r.length<o.length)?r:o).length,n=h=0;h<e;h++)if(r[h]!=o[h]){s=r[h]<o[h];break}if(s&&(e=r,r=o,o=e,i.Bd=-i.Bd),0<(h=(e=o.length)-(s=r.length)))for(;h--;r[s++]=0);for(h=s;e>n;){if(r[--e]<o[e]){for(s=e;s&&!r[--s];r[s]=9);--r[s],r[e]+=10}r[e]-=o[e]}for(;0==r[--h];r.pop());for(;0==r[0];)r.shift(),--a;return r[0]||(i.Bd=1,r=[a=0]),i.c=r,i.e=a,i},t.prototype.tI=function(i){var s=this.Bd,n=(i=new t(i)).Bd;if(s!=n)return i.Bd=-n,this.jt(i);n=this.e;var h=this.c,r=i.e,e=i.c;if(!h[0]||!e[0])return e[0]?i:new t(h[0]?this:0*s);if(h=h.slice(),s=n-r){for(0<s?(r=n,n=e):(s=-s,n=h),n.reverse();s--;n.push(0));n.reverse()}for(0>h.length-e.length&&(n=e,e=h,h=n),s=e.length,n=0;s;)n=(h[--s]=h[s]+e[s]+n)/10|0,h[s]%=10;for(n&&(h.unshift(n),++r),s=h.length;0==h[--s];h.pop());return i.c=h,i.e=r,i},t.prototype.pow=function(i){var s=this,h=new t(1),r=h,e=0>i;for((i!==~~i||-1e6>i||1e6<i)&&n("!pow!"),i=e?-i:i;1&i&&(r=r.lr(s)),i>>=1;)s=s.lr(s);return e?h.jm(r):r},t.prototype.round=function(i,h){var r=this;return null==i?i=0:(i!==~~i||0>i||1e6<i)&&n("!round!"),s(r=new t(r),i,h??t.eu),r},t.prototype.sqrt=function(){var i=this.c,h=this.Bd,r=this.e,e=new t("0.5");if(!i[0])return new t(this);0>h&&n(NaN),0==(h=Math.sqrt(this.toString()))||h==1/0?((h=i.join("")).length+r&1||(h+="0"),(i=new t(Math.sqrt(h).toString())).e=((r+1)/2|0)-(0>r||1&r)):i=new t(h.toString()),h=i.e+(t.rr+=4);do{r=i,i=e.lr(r.tI(this.jm(r)))}while(r.c.slice(0,h).join("")!==i.c.slice(0,h).join(""));return s(i,t.rr-=4,t.eu),i},t.prototype.lr=function(i){var s=this.c,n=(i=new t(i)).c,h=s.length,r=n.length,e=this.e,o=i.e;if(i.Bd=this.Bd==i.Bd?1:-1,!s[0]||!n[0])return new t(0*i.Bd);if(i.e=e+o,h<r){var a=s;s=n,n=a,o=h,h=r,r=o}for(a=Array(o=h+r);o--;a[o]=0);for(e=r;e--;){for(r=0,o=h+e;o>e;)r=a[o]+n[e]*s[o-e-1]+r,a[o--]=r%10,r=r/10|0;a[o]=(a[o]+r)%10}for(r&&++i.e,a[0]||a.shift(),e=a.length;!a[--e];a.pop());return i.c=a,i},t.prototype.toString=function(){var t=this.e,i=this.c.join(""),s=i.length;if(t<=h||t>=r)i=i.charAt(0)+(1<s?"."+i.slice(1):"")+(0>t?"e":"e+")+t;else if(0>t){for(;++t;i="0"+i);i="0."+i}else if(0<t)if(++t>s)for(t-=s;t--;i+="0");else t<s&&(i=i.slice(0,t)+"."+i.slice(t));else 1<s&&(i=i.charAt(0)+"."+i.slice(1));return 0>this.Bd&&this.c[0]?"-"+i:i},t.prototype.toExponential=function(t){return null==t?t=this.c.length-1:(t!==~~t||0>t||1e6<t)&&n("!toExp!"),i(this,t,1)},t.prototype.toFixed=function(t){var s=h,e=r;if(h=-(r=1/0),null==t)var o=this.toString();else t===~~t&&0<=t&&1e6>=t&&(o=i(this,this.e+t),0>this.Bd&&this.c[0]&&0>o.indexOf("-")&&(o="-"+o));return h=s,r=e,o||n("!toFix!"),o},t.prototype.toPrecision=function(t){return null==t?this.toString():((t!==~~t||1>t||1e6<t)&&n("!toPre!"),i(this,t-1,2))},t.rr=20,t.eu=1,t}();t.hp=o}(Q||(Q={})),function(t){var i=function(){function i(t){this.lf=t}return i.prototype.nr=function(i,s,n){var h=new t.h,r=new t.h,e=this.lf;n.Vd(i,s,(function(t,i){return e.tc(2*t,h),e.tc(2*i,r),h.compare(r)}))},i.prototype.$p=function(t){return this.lf.read(2*t+1)},i}();t.pi=function(){function s(){}return s.aq=function(i){if(i.B())return!1;var n=i.getType();return 1736==n?0!=i.Ke():1607==n?(n=[!1],s.sE(i,!0,n),n[0]):!(197!=n&&(!t.aa.yd(n)||i.BG()))},s.gm=function(i){var n=i.getType();if(1736==n)return n=new t.Ta(i.description),i.B()||i.dD(n),n;if(1607==n)return s.sE(i,!1,null);if(197==n)return n=new t.Ta(i.description),i.B()||n.ad(i,!1),n;if(t.aa.yd(n)){if(n=new t.de(i.description),!i.B()&&!i.BG()){var h=new t.Sa;i.To(h),n.add(h),i.Po(h),n.add(h)}return n}if(t.aa.Rn(n))return null;throw t.i.N()},s.sE=function(s,n,h){null!=h&&(h[0]=!1);var r=null;if(n||(r=new t.de(s.description)),!s.B()){var e=new t.ia(0);e.Jb(2*s.da());for(var o=0,a=s.da();o<a;o++)if(0<s.Ja(o)&&!s.Nn(o)){var u=s.Ba(o);e.add(u),u=s.Vc(o)-1,e.add(u)}if(0<e.size){a=new t.Xt,o=s.ub(0),a.sort(e,0,e.size,new i(o)),a=new t.h,o.tc(2*e.get(0),a),u=0;for(var f=1,c=new t.Sa,l=new t.h,p=1,v=e.size;p<v;p++)if(o.tc(2*e.get(p),l),l.qb(a))e.get(u)>e.get(p)?(e.set(u,2147483647),u=p):e.set(p,2147483647),f++;else{if(0==(1&f))e.set(u,2147483647);else if(n)return null!=h&&(h[0]=!0),null;a.L(l),u=p,f=1}if(0==(1&f))e.set(u,2147483647);else if(n)return null!=h&&(h[0]=!0),null;if(!n)for(e.Vd(0,e.size,(function(t,i){return t-i})),p=0,v=e.size;p<v&&2147483647!=e.get(p);p++)s.ve(e.get(p),c),r.add(c)}}return n?null:r},s}()}(Q||(Q={})),function(t){var i=function(){function i(){this.yf=new t.ia(0),this.ys=new t.ia(0),this.EH=1,this.Es=NaN}return i.prototype.sort=function(t,i,s,n){if(32>s-i)n.nr(i,s,t);else{var h=!0;try{for(var r=1/0,e=-1/0,o=i;o<s;o++){var a=n.$p(t.get(o));a<r&&(r=a),a>e&&(e=a)}if(this.reset(s-i,r,e,s-i)){for(o=i;o<s;o++){var u=t.get(o);a=n.$p(u);var f=this.zF(a);this.yf.set(f,this.yf.get(f)+1),this.ys.write(o-i,u)}var c=this.yf.get(0);this.yf.set(0,0),o=1;for(var l=this.yf.size;o<l;o++){var p=this.yf.get(o);this.yf.set(o,c),c+=p}for(o=i;o<s;o++){u=this.ys.read(o-i),a=n.$p(u),f=this.zF(a);var v=this.yf.get(f);t.set(v+i,u),this.yf.set(f,v+1)}h=!1}}catch(y){this.yf.resize(0),this.ys.resize(0)}if(h)n.nr(i,s,t);else{for(o=s=0,l=this.yf.size;o<l;o++)h=s,(s=this.yf.get(o))>h&&n.nr(i+h,i+s,t);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},i.prototype.reset=function(t,s,n,h){return!(2>t||n==s)&&(t=Math.min(i.hL,t),this.yf.Jb(t),this.yf.resize(t),this.yf.Wj(0,0,this.yf.size),this.EH=s,this.ys.resize(h),this.Es=(n-s)/(t-1),!0)},i.prototype.zF=function(i){return t.O.truncate((i-this.EH)/this.Es)},i.hL=65536,i}();t.Xt=i}(Q||(Q={})),function(t){var i,s;(s=i||(i={}))[s.enum_line=1]="enum_line",s[s.enum_arc=2]="enum_arc",s[s.enum_dummy=4]="enum_dummy",s[s.enum_concave_dip=8]="enum_concave_dip",s[s.enum_connection=3]="enum_connection";var n=function(){function i(){}return i.Qu=function(s,n,h,r,e,o){var a=new i;return a.Im=new t.h,a.Vm=new t.h,a.aw=new t.h,a.Im.L(s),a.Vm.L(n),a.aw.L(h),a.Co=r,a.qh=e,a.sh=o,a},i.construct=function(s,n,h,r){var e=new i;return e.Im=new t.h,e.Vm=new t.h,e.aw=new t.h,e.Im.L(s),e.Vm.L(n),e.aw.Rc(),e.Co=4,e.qh=h,e.sh=r,e},i}(),h=function(){function i(t,i,s,n,h,r){this.Yv=null,this.ya=0,this.EA=t,this.bI=this.$H=0,this.Ka=i,this.Mj=s,this.vk=n,this.Dq=h,this.Ub=r}return i.prototype.next=function(){for(var i=new t.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,i),this.ya++,!i.B())break}var s=!1;if(null==this.Yv&&(this.$H=i.Lg(),this.bI=i.ih(),this.Yv=o.buffer(i,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),s=!0),this.ya<this.EA.I()){var n=new t.Da;this.Yv.copyTo(n)}else n=this.Yv;if(!s){s=new t.Dd;var h=i.Lg()-this.$H;i=i.ih()-this.bI,s.gg(h,i),n.Oc(s)}return n},i.prototype.La=function(){return 0},i.prototype.qe=function(){},i}(),r=function(){function i(t,i){this.Wa=t,this.ya=0,this.oq=i}return i.prototype.next=function(){var i=this.Wa.X;if(this.ya<i.da()){var s=this.ya;if(this.ya++,!i.Nn(s))for(var n=i.Na(i.Vc(s)-1);this.ya<i.da();){var h=i.Na(i.Ba(this.ya));if(i.Nn(this.ya))break;if(h!=n)break;n=i.Na(i.Vc(this.ya)-1),this.ya++}if(1==this.ya-s)return this.Wa.kE(this.Wa.X,s,this.oq);for((n=new t.Ta(this.Wa.X.description)).addPath(this.Wa.X,s,!0),s+=1;s<this.ya;s++)n.Dr(this.Wa.X,s,0,i.rv(s),!1);return this.Wa.kE(n,0,this.oq)}return null},i.prototype.La=function(){return 0},i.prototype.qe=function(){},i}(),e=function(){function t(t){this.Wa=t,this.ya=0}return t.prototype.next=function(){var t=this.Wa.X;if(this.ya<t.da()){var i=this.ya;for(t.Ir(this.ya),this.ya++;this.ya<t.da()&&!(0<t.Ir(this.ya));)this.ya++;return 0==i&&this.ya==t.da()?this.Wa.py(t,0,t.da()):this.Wa.py(t,i,this.ya)}return null},t.prototype.La=function(){return 0},t.prototype.qe=function(){},t}(),o=function(){function i(t){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=t,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return i.buffer=function(s,n,h,r,e,o){if(null==s)throw t.i.N();if(0>r)throw t.i.N();if(s.B())return new t.Da(s.description);var a=new t.l;return s.xc(a),0<n&&a.W(n,n),(o=new i(o)).Mj=h,o.X=s,o.qa=t.ta.Wd(h,a,!0),o.ct=t.ta.Wd(null,a,!0),o.Ka=n,o.JT=s.getType(),0>=e&&(e=96),o.rb=Math.abs(o.Ka),o.Kv=0!=o.rb?1/o.rb:0,isNaN(r)||0==r?r=1e-5*o.rb:r>.5*o.rb&&(r=.5*o.rb),12>e&&(e=12),(s=Math.abs(n)*(1-Math.cos(Math.PI/e)))>r?r=s:(s=Math.PI/Math.acos(1-r/Math.abs(n)))<e-1&&(12>(e=t.O.truncate(s))&&(e=12,r=Math.abs(n)*(1-Math.cos(Math.PI/e)))),o.vk=r,o.Dq=e,o.tA=Math.min(o.ct,.25*r),o.lE()},i.prototype.cv=function(){if(null==this.Id)this.Id=[];else if(0!==this.Id.length)return;var i=this.qE();i=t.O.truncate((i+3)/4);var s=.5*Math.PI/i;this.oA=s;for(var n=0;n<4*i;n++)this.Id.push(null);var h=Math.cos(s);s=Math.sin(s);var r=t.h.construct(0,1);for(n=0;n<i;n++)this.Id[n+0*i]=t.h.construct(r.y,-r.x),this.Id[n+1*i]=t.h.construct(-r.x,-r.y),this.Id[n+2*i]=t.h.construct(-r.y,r.x),this.Id[n+3*i]=r,(r=t.h.construct(r.x,r.y)).Bt(h,s)},i.prototype.lE=function(){var i=this.X.getType();if(t.aa.yd(i))return(i=new t.Ta(this.X.description)).oc(this.X,!0),this.X=i,this.lE();if(this.Ka<=this.qa){if(!t.aa.US(i))return new t.Da(this.X.description);if(0>=this.Ka&&(i=new t.l,this.X.A(i),i.R()<=2*-this.Ka||i.ca()<=2*this.Ka))return new t.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw t.i.Qa()}},i.prototype.RN=function(){if(this.EG(this.X)){var i=new t.Sa;this.X.ve(0,i);var s=new t.l;return this.X.A(s),i.Cb(s.sf()),this.Gu(i)}return this.X=this.WV(this.X),i=new r(this,this.oq),t.Gh.local().V(i,this.Mj,this.Ub).next()},i.prototype.QN=function(){if(0==this.Ka)return this.X;var i=t.Yl.local();if(this.cv(),this.X=i.V(this.X,null,!1,this.Ub),0>this.Ka){var s=this.X;return s=this.py(s,0,s.da()),i.V(s,this.Mj,!1,this.Ub)}return this.EG(this.X)?(i=new t.Sa,this.X.ve(0,i),s=new t.l,this.X.A(s),i.Cb(s.sf()),this.Gu(i)):(i=new e(this),t.Gh.local().V(i,this.Mj,this.Ub).next())},i.prototype.py=function(s,n,h){for(var r=new t.Da(s.description);n<h;n++)if(!(1>s.Ja(n))){var e=s.Ir(n),o=new t.l;if(s.Rj(n,o),0<this.Ka){if(0<e)if(this.FG(s,n))e=new t.Sa,s.ve(s.Ba(n),e),e.Cb(o.sf()),this.yu(r,e);else{var a=e=new t.Ta(s.description);a=t.Zt.JG(this.X,n)||2==this.zn(this.X,n,a,!0,1)?this.jE(s,n):this.yn(e),r.add(a,!1)}else if(!(o.R()+this.qa<=2*this.rb||o.ca()+this.qa<=2*this.rb||(a=e=new t.Ta(s.description),this.zn(this.X,n,a,!0,1),e.B()))){var u=new t.l;for(u.K(o),u.W(this.rb,this.rb),a.tp(u),o=1,e=(a=this.yn(e)).da();o<e;o++)r.addPath(a,o,!0)}}else if(0<e){if(!(o.R()+this.qa<=2*this.rb||o.ca()+this.qa<=2*this.rb||(a=e=new t.Ta(s.description),this.zn(this.X,n,a,!0,-1),e.B())))for(u=new t.l,a.xc(u),u.W(this.rb,this.rb),a.tp(u),o=1,e=(a=this.yn(e)).da();o<e;o++)r.addPath(a,o,!0)}else for(a=e=new t.Ta(s.description),this.zn(this.X,n,a,!0,-1),o=0,e=(a=this.yn(e)).da();o<e;o++)r.addPath(a,o,!0)}if(0<this.Ka)return 1<r.da()?r=this.yn(r):i.kx(r);if(s=new t.l,r.xc(s),r.B())return i.kx(r);for(s.W(this.rb,this.rb),r.tp(s),r=this.yn(r),s=new t.Da(r.description),o=1,e=r.da();o<e;o++)s.addPath(r,o,!1);return i.kx(s)},i.prototype.PN=function(){return this.Gu(this.X)},i.prototype.Gu=function(i){var s=new t.Da(this.X.description);return this.yu(s,i),this.sX(s)},i.prototype.ON=function(){var i=new h(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return t.Gh.local().V(i,this.Mj,this.Ub).next()},i.prototype.LN=function(){var i=new t.Da(this.X.description);if(0>=this.Ka){if(0==this.Ka)i.ad(this.X,!1);else{var s=new t.Fh;this.X.bn(s),s.W(this.Ka,this.Ka),i.ad(s,!1)}return i}return i.ad(this.X,!1),this.X=i,this.jE(i,0)},i.prototype.jE=function(s,n){this.cv();var h=new t.Da(s.description),r=new t.h,e=new t.h,o=new t.h,a=new t.h,u=new t.h,f=new t.h,c=new t.h,l=new t.h,p=s.Ja(n),v=s.Ba(n),y=0;for(n=s.Ja(n);y<n;y++){if(s.D(v+y,e),s.D(v+(y+1)%p,a),s.D(v+(y+2)%p,f),c.uc(a,e),0==c.length())throw t.i.Qa();if(c.Hv(),c.normalize(),c.scale(this.rb),r.add(c,e),o.add(c,a),0==y?h.Lt(r):h.Ci(r),h.Ci(o),l.uc(f,a),0==l.length())throw t.i.Qa();l.Hv(),l.normalize(),l.scale(this.rb),u.add(l,a),this.GD(h,a,o,u,!1)}return i.kx(h)},i.prototype.kE=function(i,s,n){if(this.cv(),1>i.Ja(s))return null;if(this.FG(i,s)&&0<this.Ka){n=new t.Sa,i.ve(i.Ba(s),n);var h=new t.l;return i.Rj(s,h),n.Cb(h.sf()),this.Gu(n)}if(h=new t.Ta(i.description),i.Nn(s))this.zn(i,s,h,n,1),this.zn(i,s,h,n,-1);else{var r=new t.Ta(i.description);r.addPath(i,s,!1),r.Dr(i,s,0,i.rv(s),!1),this.zn(r,0,h,n,1)}return this.yn(h)},i.prototype.Xq=function(){if(this.Ys++,0==this.Ys%1024&&null!=this.Ub&&!this.Ub.progress(-1,-1))throw t.i.fu("user_canceled")},i.prototype.yn=function(i){return t.Fg.Mk(i,this.ct,!0,!0,this.Ub)},i.prototype.qE=function(){if(0==this.vk)return this.Dq;var i=1-this.vk*Math.abs(this.Kv);return 4>(i=-1>i?4:2*Math.PI/Math.acos(i)+.5)?i=4:i>this.Dq&&(i=this.Dq),t.O.truncate(i)},i.prototype.GD=function(i,s,n,h,r){this.cv();var e=new t.h;e.uc(n,s),e.scale(this.Kv);var o=new t.h;o.uc(h,s),o.scale(this.Kv),0>(e=Math.atan2(e.y,e.x)/this.oA)&&(e=this.Id.length+e),e=this.Id.length-e,0>(o=Math.atan2(o.y,o.x)/this.oA)&&(o=this.Id.length+o),(o=this.Id.length-o)<e&&(o+=this.Id.length);var a=t.O.truncate(o);o=t.O.truncate(Math.ceil(e)),(e=new t.h).L(this.Id[o%this.Id.length]),e.Ct(this.rb,s);var u=10*this.qa;for(e.sub(n),e.length()<u&&(o+=1),e.L(this.Id[a%this.Id.length]),e.Ct(this.rb,s),e.sub(h),e.length()<u&&--a,n=a-o,n++,a=0,o%=this.Id.length;a<n;a++,o=(o+1)%this.Id.length)e.L(this.Id[o]),e.Ct(this.rb,s),i.Ci(e),this.Xq();r&&i.Ci(h)},i.prototype.zn=function(i,s,h,r,e){var o=new t.gd,a=o.mN(i,s);if(o.Gp(this.tA,!1,!1),2>o.I(a))return 0>e||(e=i,o=new t.Sa,e.ve(e.Ba(s),o),this.yu(h,o)),1;var u=o.Na(o.Xa(o.Ob(a))),f=new t.Dd;if(f.gg(-u.x,-u.y),o.Oc(f),r&&(this.tQ(o,a,e),2>o.I(a)))return 0>e||(e=i,o=new t.Sa,e.ve(e.Ba(s),o),this.yu(h,o)),1;this.Zd.length=0;var c=o.Ob(a);s=o.Xa(c);var l=1==e?o.Ma(s):o.U(s);i=1==e?o.U(s):o.Ma(s);var p=!0;r=new t.h,a=new t.h;var v=new t.h,y=new t.h,d=new t.h,b=new t.h,g=new t.h,w=new t.h,x=new t.h,m=new t.h,j=this.rb;c=o.Ja(c);for(var M=0;M<c;M++)o.D(i,a),p&&(o.D(s,r),o.D(l,v),w.uc(r,v),w.normalize(),m.MG(w),m.scale(j),y.add(m,r)),g.uc(a,r),g.normalize(),x.MG(g),x.scale(j),d.add(r,x),l=w.wi(g),p=w.Qh(g),0>l||0>p&&0==l?this.Zd.push(n.Qu(y,d,r,2,this.Zd.length+1,this.Zd.length-1)):y.qb(d)||(this.Zd.push(n.construct(y,r,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(n.construct(r,d,this.Zd.length+1,this.Zd.length-1,"dummy"))),b.add(a,x),this.Zd.push(n.Qu(d,b,r,1,this.Zd.length+1,this.Zd.length-1)),y.L(b),m.L(x),v.L(r),r.L(a),w.L(g),l=s,s=i,p=!1,i=1==e?o.U(s):o.Ma(s);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(h),f.gg(u.x,u.y),h.YD(f,h.da()-1),1},i.prototype.YV=function(t){for(var i=this.zO(),s=!0,n=i+1,h=i;n!=i;h=n){var r=this.Zd[h];n=-1!=r.qh?r.qh:(h+1)%this.Zd.length,0!=r.Co&&(s&&t.Lt(r.Im),2==r.Co?this.GD(t,r.aw,r.Im,r.Vm,!0):t.Ci(r.Vm),s=!1)}},i.prototype.zO=function(){null==this.Ks&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var i=0,s=0,n=this.Zd.length;s<n;){var h=this.Zd[s];if(0!=(3&h.Co)){i=s;break}s=h.qh}for(n=i+1,s=i;n!=i;s=n){n=(h=this.Zd[s]).qh;for(var r=1,e=null;n!=s&&0==(3&(e=this.Zd[n]).Co);)n=e.qh,r++;1!=r&&1==(h.Co&e.Co)&&(null==this.Ls&&(this.Ls=new t.yb,this.lw=new t.yb),this.Ls.Dc(h.Im),this.Ls.Qc(h.Vm),this.lw.Dc(e.Im),this.lw.Qc(e.Vm),1==this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)&&(h.Vm.L(this.Ks[0]),e.Im.L(this.Ks[0]),h.qh=n,e.sh=s))}return i},i.prototype.Fv=function(i,s,n){var h=new t.h;if(h.uc(n,i),n=h.length(),0<(n=this.rb*this.rb-n*n*.25)){n=Math.sqrt(n),h.normalize(),h.ar();var r=new t.h;if(r.uc(s,i),r.Qh(h)+n>=this.rb)return!0}return!1},i.prototype.tQ=function(i,s,n){for(var h=0;1>h;h++){var r=!1,e=i.Ob(s),o=i.Ja(e);if(0==o)break;var a=o;if(3>o)break;!i.dc(e)&&(a=o-1),e=i.Xa(e),o=0<n?i.Ma(e):i.U(e);for(var u=0<n?i.U(e):i.Ma(e),f=o,c=!0,l=new t.h,p=new t.h,v=new t.h,y=new t.h,d=new t.h,b=t.h.construct(0,0),g=new t.h,w=new t.h,x=new t.h,m=new t.h,j=this.rb,M=0,k=0;k<a&&(i.D(u,p),c&&(i.D(e,l),i.D(o,v),f=o),w.uc(l,v),w.normalize(),g.uc(p,l),g.normalize(),f!=u);){var z=w.wi(g),A=w.Qh(g),N=!0;if(0>z||0>A&&0==z||!this.Fv(v,l,p)||(b.L(p),N=!1,++M,r=!0),N){if(0<M)for(;(z=0<n?i.Ma(f):i.U(f))!=e;){if(i.D(z,y),!this.Fv(y,v,b)){z!=u&&this.Fv(y,v,p)&&this.Fv(y,l,p)&&(v.L(y),f=z,N=!1,++M);break}v.L(y),f=z,N=!1,++M}if(!N)continue;if(0<M){for(f=0<n?i.Ma(o):i.U(o),c=1;c<M;c++)N=0<n?i.Ma(f):i.U(f),i.pd(f,!0),f=N;x.uc(l,v),M=j*j-(M=x.length())*M*.25,j-(M=Math.sqrt(M))>.5*this.vk?(d.add(v,l),d.scale(.5),x.normalize(),x.ar(),m.L(x),m.scale(j-M),d.add(m),i.mf(o,d)):i.pd(o,!0),M=0}v.L(l),f=e}l.L(p),o=e,e=u,u=0<n?i.U(e):i.Ma(e),k++,c=!1}if(0<M){for(f=0<n?i.Ma(o):i.U(o),c=1;c<M;c++)N=0<n?i.Ma(f):i.U(f),i.pd(f,!0),f=N;d.add(v,l),d.scale(.5),x.uc(l,v),M=j*j-(M=x.length())*M*.25,M=Math.sqrt(M),x.normalize(),x.ar(),m.L(x),m.scale(j-M),d.add(m),i.mf(o,d)}if(i.Gp(this.tA,!1,!1),!r)break}},i.prototype.FG=function(i,s){if(1==i.Ja(s))return!0;var n=new t.l;return i.Rj(s,n),Math.max(n.R(),n.ca())<.5*this.vk},i.prototype.EG=function(i){var s=new t.l;return i.A(s),Math.max(s.R(),s.ca())<.5*this.vk},i.prototype.WV=function(i){for(var s=0,n=0,h=(i=t.EC.local().V(i,.25*this.vk,!1,this.Ub)).da();n<h;n++)s=Math.max(i.Ja(n),s);return 32>s?(this.oq=!1,i):(this.oq=!0,t.Fg.Mk(i,this.ct,!1,!0,this.Ub))},i.prototype.yu=function(i,s){if(s=s.D(),null!=this.Id&&0!==this.Id.length){var n=new t.h;n.L(this.Id[0]),n.Ct(this.rb,s),i.Lt(n);for(var h=1,r=this.Id.length;h<r;h++)n.L(this.Id[h]),n.Ct(this.rb,s),i.Ci(n)}else{h=this.qE(),n=t.O.truncate((h+3)/4),h=.5*Math.PI/n,r=Math.cos(h);for(var e=Math.sin(h),o=new t.h,a=3;0<=a;a--){switch(o.ma(0,this.rb),a){case 0:for(h=0;h<n;h++)i.yj(o.x+s.x,o.y+s.y),o.Bt(r,e);break;case 1:for(h=0;h<n;h++)i.yj(-o.y+s.x,o.x+s.y),o.Bt(r,e);break;case 2:for(h=0;h<n;h++)i.yj(-o.x+s.x,-o.y+s.y),o.Bt(r,e);break;default:for(i.sx(o.y+s.x,-o.x+s.y),h=1;h<n;h++)o.Bt(r,e),i.yj(o.y+s.x,-o.x+s.y)}this.Xq()}}},i.kx=function(t){return t.Ch(1,0),t},i.prototype.sX=function(t){return t.Ch(2,this.qa),t.fm(),t},i}();t.HK=o}(Q||(Q={})),function(t){var i=function(){function i(i){this.Ca=i,this.g=new t.gd,this.dd=new t.ia(0)}return i.prototype.Lh=function(t,i,s){switch(i){case 0:if(t.v<s&&t.C<=s)break;return t.v>=s?1:-1;case 1:if(t.G<s&&t.H<=s)break;return t.G>=s?1:-1;case 2:if(t.v>=s&&t.C>s)break;return t.C<=s?1:-1;case 3:if(!(t.G>=s&&t.H>s))return t.H<=s?1:-1}return 0},i.prototype.Ay=function(t,i){return 1736==t.getType()?this.Cy(t,i):this.Dy(t)},i.prototype.Cy=function(i,s){if(0==this.Ca.R()||0==this.Ca.ca())return i.Ia();var n=new t.l;i.xc(n),this.X=this.g.Ib(i);var h=new t.l,r=new t.l,e=new t.h,o=new t.h,a=[0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0];new t.ig;var f=new t.yb,c=new t.ia(0);c.Jb(Math.min(100,i.I()));for(var l=!1,p=0;!l&&4>p;p++){var v=!1,y=0!=(1&p),d=0;switch(p){case 0:d=this.Ca.v,v=n.v<=d&&n.C>=d;break;case 1:d=this.Ca.G,v=n.G<=d&&n.H>=d;break;case 2:d=this.Ca.C,v=n.v<=d&&n.C>=d;break;case 3:d=this.Ca.H,v=n.G<=d&&n.H>=d}if(v)for(l=!0,v=this.g.Ob(this.X);-1!=v;){var b=-1,g=-1,w=this.g.Xa(v),x=w;do{var m=this.g.bc(x);null==m&&(m=f,this.g.D(x,e),m.Dc(e),this.g.D(this.g.U(x),o),m.Qc(o)),m.A(h);var j=this.Lh(h,p,d),M=0,k=-1;if(-1==j){M=0<(m=m.cq(y,d,a,u))?this.g.Ul(x,u,m):0,M+=1;var z=x,A=this.g.U(z);for(m=0;m<M;m++){if(this.g.D(z,e),this.g.D(A,o),null==(k=this.g.bc(z))&&((k=f).Dc(e),k.Qc(o)),k.A(r),-1==(k=this.Lh(r,p,d))){if(y)(k=Math.abs(e.y-d))<(N=Math.abs(o.y-d))?(e.y=d,this.g.mf(z,e)):(o.y=d,this.g.mf(A,o));else{k=Math.abs(e.x-d);var N=Math.abs(o.x-d);k<N?(e.x=d,this.g.mf(z,e)):(o.x=d,this.g.mf(A,o))}null==(k=this.g.bc(z))&&((k=f).Dc(e),k.Qc(o)),k.A(r),k=this.Lh(r,p,d)}N=b,b=k,-1==g&&(g=b),0==N&&1==b||1==N&&0==b||0!=N||0!=b||c.add(z),1==b&&(l=!1),k=z=A,A=this.g.U(A)}}0==M&&(N=b,b=j,-1==g&&(g=b),0==N&&1==b||1==N&&0==b||0!=N||0!=b||c.add(x),1==b&&(l=!1),k=this.g.U(x)),x=k}while(x!=w);for(0==g&&0==b&&c.add(w),m=0,b=c.size;m<b;m++)g=c.get(m),this.g.pd(g,!1);c.clear(!1),v=3>this.g.Ja(v)?this.g.Zq(v):this.g.Rb(v)}}return l?i.Ia():(this.FB(),0<s&&this.My(s),this.g.Ne(this.X))},i.prototype.Dy=function(i){var s=new t.l,n=new t.l,h=[0,0,0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0,0,0],e=new t.ig,o=i,a=new t.l;i.xc(a);for(var u=0;4>u;u++){var f=!1,c=0!=(1&u),l=0;switch(u){case 0:l=this.Ca.v,f=a.v<=l&&a.C>=l;break;case 1:l=this.Ca.G,f=a.G<=l&&a.H>=l;break;case 2:l=this.Ca.C,f=a.v<=l&&a.C>=l;break;case 3:l=this.Ca.H,f=a.G<=l&&a.H>=l}if(f){f=o,o=i.Ia(),(f=f.Ga()).Zi();for(var p,v=new t.h;f.$a();)for(var y,d=!0;f.Ha();){var b=f.ha();b.A(s);var g=this.Lh(s,u,l);if(-1==g){if(0<(g=b.cq(c,l,h,r))){var w=0;p=b.ac();for(var x=0;x<=g;x++)if(w!=(y=x<g?r[x]:1)){b.ah(w,y,e);var m=e.get();m.Dc(p),x<g&&(c?(v.x=h[x],v.y=l):(v.x=l,v.y=h[x]),m.Qc(v)),m.A(n);var j=this.Lh(n,u,l);if(-1==j){if(p=m.ac(),w=m.wc(),c)(j=Math.abs(p.y-l))<(M=Math.abs(w.y-l))?(p.y=l,m.Dc(p)):(w.y=l,m.Qc(w));else{j=Math.abs(p.x-l);var M=Math.abs(w.x-l);j<M?(p.x=l,m.Dc(p)):(w.x=l,m.Qc(w))}m.A(n),j=this.Lh(n,u,l)}p=m.wc(),w=y,1==(y=j)?(o.oc(m,d),d=!1):d=!0}}}else 1==(y=g)?(o.oc(b,d),d=!1):d=!0}}}return o},i.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var i=new t.h,s=this.g.Ob(this.X);-1!=s;s=this.g.Rb(s))for(var n=this.g.Xa(s),h=0,r=this.g.Ja(s);h<r;h++,n=this.g.U(n))this.g.D(n,i),(this.Ca.v==i.x||this.Ca.C==i.x||this.Ca.G==i.y||this.Ca.H==i.y)&&(this.g.Ra(n,this.ji,this.dd.size),this.dd.add(n));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},i.prototype.My=function(i){for(var s=new t.h,n=new t.h,h=t.O.lg(2048,0),r=this.g.Ob(this.X);-1!=r;r=this.g.Rb(r)){var e=this.g.Xa(r),o=e;do{var a=this.g.U(o);this.g.D(o,s);var u=-1;if(s.x==this.Ca.v?(this.g.D(a,n),n.x==this.Ca.v&&(u=1)):s.x==this.Ca.C&&(this.g.D(a,n),n.x==this.Ca.C&&(u=1)),s.y==this.Ca.G?(this.g.D(a,n),n.y==this.Ca.G&&(u=0)):s.y==this.Ca.H&&(this.g.D(a,n),n.y==this.Ca.H&&(u=0)),-1!=u&&(u=t.h.tb(s,n),!(1>=(u=t.O.truncate(Math.min(Math.ceil(u/i),2048)))))){for(var f=1;f<u;f++)h[f-1]=1*f/u;this.g.Ul(o,h,u-1)}o=a}while(o!=e)}},i.prototype.Vl=function(i,s){var n=this.g.Gd(),h=new t.h,r=new t.ia(0);r.Jb(100);for(var e=this.g.Ob(this.X);-1!=e;e=this.g.Rb(e))for(var o=this.g.Xa(e),a=0,u=this.g.Ja(e);a<u;a++){var f=this.g.U(o);this.g.D(o,h),(i?h.y==s:h.x==s)&&(this.g.D(f,h),(i?h.y==s:h.x==s)&&(1!=this.g.Pa(o,n)&&(r.add(o),this.g.Ra(o,n,1)),1!=this.g.Pa(f,n)&&(r.add(f),this.g.Ra(f,n,1)))),o=f}if(this.g.Td(n),!(3>r.size)){var c=this;r.Vd(0,r.size,(function(t,i){return c.Mh(t,i)})),n=new t.h,e=new t.h,o=new t.h,e.Rc();var l=-1;a=new t.ia(0),u=new t.ia(0),f=this.g.Gd();for(var p=this.g.Gd(),v=0,y=r.size;v<y;v++){var d=r.get(v);if(this.g.D(d,h),!h.qb(e)){if(-1!=l){for(var b=l;b<v;b++){l=r.get(b);var g=this.g.U(l);d=this.g.Ma(l);var w=!1;0>this.Mh(l,g)&&(this.g.D(g,n),i?n.y==s:n.x==s)&&(a.add(l),w=!0,this.g.Ra(l,p,1)),0>this.Mh(l,d)&&(this.g.D(d,n),i?n.y==s:n.x==s)&&(w||a.add(l),this.g.Ra(l,f,1))}for(b=0,w=a.size;b<w;b++){if(l=a.get(b),d=this.g.Pa(l,f),g=this.g.Pa(l,p),1==d){d=this.g.Ma(l),this.g.D(d,o);var x=[0];if(x[0]=0,!o.qb(h)){var m=t.h.tb(e,o);x[0]=t.h.tb(o,h)/m,0==x[0]?x[0]=2220446049250313e-31:1==x[0]&&(x[0]=.9999999999999998),this.g.Ul(d,x,1),d=this.g.Ma(l),this.g.mf(d,h),u.add(d),this.g.Ra(d,f,1),this.g.Ra(d,p,-1)}}1==g&&(g=this.g.U(l),this.g.D(g,o),(x=[0])[0]=0,o.qb(h)||(m=t.h.tb(e,o),x[0]=t.h.tb(e,h)/m,0==x[0]?x[0]=2220446049250313e-31:1==x[0]&&(x[0]=.9999999999999998),this.g.Ul(l,x,1),d=this.g.U(l),this.g.mf(d,h),u.add(d),this.g.Ra(d,f,-1),this.g.Ra(d,p,1)))}l=a,a=u,(u=l).clear(!1)}l=v,e.L(h)}}this.g.Td(f),this.g.Td(p)}},i.prototype.Nl=function(i,s){var n=new t.h,h=new t.ia(0);h.Jb(100);for(var r=this.g.Gd(),e=0,o=this.dd.size;e<o;e++){var a=this.dd.get(e);if(-1!=a){var u=this.g.U(a);this.g.D(a,n),(i?n.y==s:n.x==s)&&(this.g.D(u,n),(i?n.y==s:n.x==s)&&(-2!=this.g.Pa(a,r)&&(h.add(a),this.g.Ra(a,r,-2)),-2!=this.g.Pa(u,r)&&(h.add(u),this.g.Ra(u,r,-2))))}}if(0!=h.size){var f=this;for(h.Vd(0,h.size,(function(t,i){return f.Mh(t,i)})),e=0,o=h.size;e<o;e++){var c=h.get(e);this.g.Ra(c,r,e)}a=new t.h,(u=new t.h).Rc();var l=-1;for(e=0,o=h.size;e<o;e++)if(-1!=(c=h.get(e))&&(this.g.D(c,n),!n.qb(u))){if(-1!=l)for(;;){c=!1;for(var p=1<e-l?e-1:e,v=l;v<p;v++){var y=h.get(v);if(-1!=y){var d=-1,b=this.g.U(y);0>this.Mh(y,b)&&(this.g.D(b,a),i?a.y==s:a.x==s)&&(d=b),b=-1;var g=this.g.Ma(y);if(0>this.Mh(y,g)&&(this.g.D(g,a),i?a.y==s:a.x==s)&&(b=g),-1!=d&&-1!=b)this.Kh(y,h,r),this.g.pd(y,!1),this.Kh(d,h,r),this.g.pd(d,!1),c=!0;else if(-1!=d||-1!=b){for(g=v+1;g<e;g++){var w=h.get(g);if(-1!=w){var x=this.g.U(w),m=-1;0>this.Mh(w,x)&&(this.g.D(x,a),i?a.y==s:a.x==s)&&(m=x),x=this.g.Ma(w);var j=-1;if(0>this.Mh(w,x)&&(this.g.D(x,a),i?a.y==s:a.x==s)&&(j=x),-1!=m&&-1!=j){this.Kh(w,h,r),this.g.pd(w,!1),this.Kh(m,h,r),this.g.pd(m,!1),c=!0;break}if(-1!=d&&-1!=j){this.zt(h,y,d,w,j,r),c=!0;break}if(-1!=b&&-1!=m){this.zt(h,w,m,y,b,r),c=!0;break}}}if(c)break}}}if(!c)break}l=e,u.L(n)}}this.g.Td(r)},i.prototype.Kh=function(t,i,s){s=this.g.Pa(t,s),i.set(s,-1),s=this.g.Pa(t,this.ji),this.dd.set(s,-1),-1!=(i=this.g.bd(t))&&this.g.Xa(i)==t&&(this.g.Jf(i,-1),this.g.Wg(i,-1))},i.prototype.zt=function(t,i,s,n,h,r){this.g.Bc(i,n),this.g.Cc(n,i),this.g.Cc(s,h),this.g.Bc(h,s),this.Kh(n,t,r),this.g.mi(n,!1),this.Kh(h,t,r),this.g.mi(h,!0)},i.prototype.Ty=function(){for(var t=0,i=this.dd.size;t<i;t++){var s=this.dd.get(t);-1!=s&&this.g.aj(s,-1)}for(var n=0,h=0,r=this.g.Ob(this.X);-1!=r;){var e=this.g.Xa(r);if(-1==e||r!=this.g.bd(e)){var o=r;r=this.g.Rb(r),this.g.Jf(o,-1),this.g.$q(o)}else{s=e,o=0;do{this.g.aj(s,r),o++,s=this.g.U(s)}while(s!=e);2>=o?(s=this.g.Pa(e,this.ji),this.dd.set(s,-1),e=this.g.pd(e,!1),2==o&&(s=this.g.Pa(e,this.ji),this.dd.set(s,-1),this.g.pd(e,!1)),o=r,r=this.g.Rb(r),this.g.Jf(o,-1),this.g.$q(o)):(this.g.cp(r,!1),this.g.Wg(r,this.g.Ma(e)),this.g.Vj(r,o),h+=o,n++,r=this.g.Rb(r))}}for(t=0,i=this.dd.size;t<i;t++)if(-1!=(s=this.dd.get(t))&&-1==(r=this.g.bd(s))){r=this.g.vf(this.X,-1),o=0,e=s;do{this.g.aj(s,r),o++,s=this.g.U(s)}while(s!=e);2>=o?(s=this.g.Pa(e,this.ji),this.dd.set(s,-1),e=this.g.pd(e,!1),2==o&&(0<=(s=this.g.Pa(e,this.ji))&&this.dd.set(s,-1),this.g.pd(e,!1)),o=r,this.g.Jf(o,-1),this.g.$q(o)):(this.g.kn(r,!0),this.g.Vj(r,o),this.g.Jf(r,e),this.g.Wg(r,this.g.Ma(e)),this.g.cp(r,!1),h+=o,n++)}for(this.g.Rl(this.X,n),this.g.Tj(this.X,h),t=0,i=this.g.ld;-1!=i;i=this.g.ue(i))t+=this.g.I(i);this.g.bC(t)},i.By=function(t,s,n){return new i(s).Ay(t,n)},i.clip=function(s,n,h,r){if(s.B())return s;if(n.B())return s.Ia();if(33==(h=s.getType()))return r=s.D(),n.contains(r)?s:s.Ia();if(197==h)return r=new t.l,s.A(r),r.Ea(n)?(n=new t.Fh,s.copyTo(n),n.Xo(r),n):s.Ia();var e=new t.l;if(s.xc(e),n.contains(e))return s;if(!n.isIntersecting(e))return s.Ia();if(null!=(e=s.Bb)&&null!=(e=e.Fk)){if(1==(e=e.Ro(n))){if(1736!=h)throw t.i.Qa();return(s=new t.Da(s.description)).tp(n),s}if(0==e)return s.Ia()}switch(h){case 550:h=null,e=s.I();for(var o=s.ub(0),a=0,u=0;u<e;u++)r=new t.h,o.tc(2*u,r),n.contains(r)||(0==a&&(h=s.Ia()),a<u&&h.Fd(s,a,u),a=u+1);return 0<a&&h.Fd(s,a,e),0==a?s:h;case 1736:case 1607:return i.By(s,n,r);default:throw t.i.Qa()}},i.prototype.Mh=function(i,s){var n=new t.h;return this.g.D(i,n),i=new t.h,this.g.D(s,i),n.compare(i)},i}();t.Ud=i}(Q||(Q={})),function(t){var i=function(){function i(i,s){this.Ca=i,this.g=new t.gd,this.dd=new t.ia(0),this.nd=s}return i.prototype.Lh=function(t,i,s){switch(i){case 0:if(t.v<s&&t.C<=s)break;return t.v>=s?1:-1;case 1:if(t.G<s&&t.H<=s)break;return t.G>=s?1:-1;case 2:if(t.v>=s&&t.C>s)break;return t.C<=s?1:-1;case 3:if(!(t.G>=s&&t.H>s))return t.H<=s?1:-1}return 0},i.prototype.Ay=function(t,i){return 1736==t.getType()?this.Cy(t,i):this.Dy(t)},i.prototype.Cy=function(i,s){if(0==this.Ca.R()||0==this.Ca.ca())return i.Ia();var n=new t.l;i.xc(n),this.X=this.g.Ib(i);var h=new t.l,r=new t.l,e=new t.h,o=new t.h,a=[0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0],f=new t.yb,c=new t.ia(0);c.Jb(256);for(var l=!1,p=0;!l&&4>p;p++){var v=!1,y=0!=(1&p),d=0;switch(p){case 0:d=this.Ca.v,v=n.v<=d&&n.C>=d;break;case 1:d=this.Ca.G,v=n.G<=d&&n.H>=d;break;case 2:d=this.Ca.C,v=n.v<=d&&n.C>=d;break;case 3:d=this.Ca.H,v=n.G<=d&&n.H>=d}if(v)for(l=!0,v=this.g.Ob(this.X);-1!=v;){var b=!0,g=-1,w=-1,x=this.g.Xa(v),m=x;do{var j=this.g.bc(m);null==j&&(j=f,this.g.D(m,e),j.Dc(e),this.g.D(this.g.U(m),o),j.Qc(o)),j.A(h);var M=this.Lh(h,p,d),k=0,z=-1;if(-1==M){k=0<(j=j.cq(y,d,a,u))?this.g.LX(m,u,j):0,k+=1;var A=m,N=this.g.U(A);for(j=0;j<k;j++){if(this.g.D(A,e),this.g.D(N,o),null==(z=this.g.bc(A))&&((z=f).Dc(e),z.Qc(o)),z.A(r),-1==(z=this.Lh(r,p,d))){if(y)(z=Math.abs(e.y-d))<(I=Math.abs(o.y-d))?(e.y=d,this.g.mf(A,e)):(o.y=d,this.g.mf(N,o));else{z=Math.abs(e.x-d);var I=Math.abs(o.x-d);z<I?(e.x=d,this.g.mf(A,e)):(o.x=d,this.g.mf(N,o))}null==(z=this.g.bc(A))&&((z=f).Dc(e),z.Qc(o)),z.A(r),z=this.Lh(r,p,d)}I=g,g=z,-1==w&&(w=g),0==I&&1==g||1==I&&0==g||0!=I||0!=g||c.add(A),1==g&&(b=l=!1),z=A=N,N=this.g.U(N)}}if(0==k&&(I=g,g=M,-1==w&&(w=g),0==I&&1==g||1==I&&0==g||0!=I||0!=g||c.add(m),1==g&&(b=l=!1),z=this.g.U(m)),m=z,256<=c.size){for(j=1,M=c.size-1;j<M;j++)k=c.get(j),this.g.pd(k,!1);c.set(1,c.Fc()),c.Bh(2)}}while(m!=x);if(!b)for(0==w&&0==g&&c.add(x),j=0,M=c.size;j<M;j++)k=c.get(j),this.g.pd(k,!1);c.clear(!1),v=b||0==this.g.Ja(v)?this.g.Zq(v):this.g.Rb(v)}}return l?i.Ia():(this.FB(),0<s&&this.My(s),this.g.Ne(this.X))},i.prototype.Dy=function(i){var s=new t.l,n=new t.l,h=[0,0,0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0,0,0],e=new t.ig,o=i,a=new t.l;i.xc(a);for(var u=new t.h,f=new t.h,c=null,l=null,p=0;4>p;p++){var v=!1,y=0!=(1&p),d=0;switch(p){case 0:d=this.Ca.v,v=a.v<=d&&a.C>=d;break;case 1:d=this.Ca.G,v=a.G<=d&&a.H>=d;break;case 2:d=this.Ca.C,v=a.v<=d&&a.C>=d;break;case 3:d=this.Ca.H,v=a.G<=d&&a.H>=d}if(v)for(v=o,o=i.Ia(),(v=v.Ga()).Zi();v.$a();)for(var b,g=!0;v.Ha();){var w=v.ha();w.A(s);var x=this.Lh(s,p,d);if(-1==x){if(0<(x=w.cq(y,d,h,r))){var m=0;w.Yp(u);for(var j=0;j<=x;j++)if(m!=(b=j<x?r[j]:1)){w.ah(m,b,e);var M=e.get();M.Dc(u),j<x&&(y?(f.x=h[j],f.y=d):(f.x=d,f.y=h[j]),M.Qc(f)),M.A(n);var k=this.Lh(n,p,d);-1==k&&(null==c&&(c=new t.h),null==l&&(l=new t.h),M.Yp(c),M.Tr(l),y?(m=Math.abs(c.y-d))<(k=Math.abs(l.y-d))?(c.y=d,M.Dc(c)):(l.y=d,M.Qc(l)):(m=Math.abs(c.x-d))<(k=Math.abs(l.x-d))?(c.x=d,M.Dc(c)):(l.x=d,M.Qc(l)),M.A(n),k=this.Lh(n,p,d)),M.Tr(u),m=b,1==(b=k)?(o.oc(M,g),g=!1):g=!0}}}else 1==(b=x)?(o.oc(w,g),g=!1):g=!0}}return o},i.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var i=new t.h,s=this.g.Ob(this.X);-1!=s;s=this.g.Rb(s))for(var n=this.g.Xa(s),h=0,r=this.g.Ja(s);h<r;h++,n=this.g.U(n))this.g.D(n,i),(this.Ca.v==i.x||this.Ca.C==i.x||this.Ca.G==i.y||this.Ca.H==i.y)&&(this.g.Ra(n,this.ji,this.dd.size),this.dd.add(n));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},i.prototype.My=function(i){for(var s=new t.h,n=new t.h,h=null,r=null,e=t.O.lg(2048,0),o=this.g.Ob(this.X);-1!=o;o=this.g.Rb(o)){var a=this.g.Xa(o),u=a;do{var f=this.g.U(u);this.g.D(u,s);var c=-1;if(s.x==this.Ca.v?(this.g.D(f,n),n.x==this.Ca.v&&(c=1)):s.x==this.Ca.C&&(this.g.D(f,n),n.x==this.Ca.C&&(c=1)),s.y==this.Ca.G?(this.g.D(f,n),n.y==this.Ca.G&&(c=0)):s.y==this.Ca.H&&(this.g.D(f,n),n.y==this.Ca.H&&(c=0)),-1!=c){if(null==h&&(h=new t.h),null==r&&(r=new t.h),h.L(s),r.ma(0,0),0==c){var l=s.x-this.Ca.v;r.x=t.lc.sign(n.x-s.x),h.x=i*t.lc.Cn(Math.floor(Math.abs(l/i)),l)+this.Ca.v,0>h.x&&(h.x+=i)}else l=s.y-this.Ca.G,r.y=t.lc.sign(n.y-s.y),h.y=i*t.lc.Cn(Math.floor(Math.abs(l/i)),l)+this.Ca.G,0>h.y&&(h.y+=i);l=0!=c?n.y-s.y:n.x-s.x;var p=Math.abs(l);if(65536<p/i)throw t.i.fa("internal error");if(0<p){p=t.O.truncate(p/i)+2,e.length<p&&(e=t.O.lg(p));for(var v=p=0;;v++){var y=new t.h;if(y.x=h.x+r.x*v*i,y.y=h.y+r.y*v*i,1<=(y=(0!=c?y.y-s.y:y.x-s.x)/l))break;0>=y||(e[p]=y,p++)}0!=p&&this.g.Ul(u,e,p)}}u=f}while(u!=a)}},i.prototype.Vl=function(i,s){for(var n=-1,h=new t.h,r=null,e=this.g.Ob(this.X);-1!=e;e=this.g.Rb(e))for(var o=this.g.Xa(e),a=0,u=this.g.Ja(e);a<u;a++){var f=this.g.U(o);this.g.D(o,h),(i?h.y==s:h.x==s)&&(this.g.D(f,h),(i?h.y==s:h.x==s)&&(-1==n&&(n=this.g.Gd()),null==r&&(r=new t.ia(0)).Jb(100),1!=this.g.Pa(o,n)&&(r.add(o),this.g.Ra(o,n,1)),1!=this.g.Pa(f,n)&&(r.add(f),this.g.Ra(f,n,1)))),o=f}if(-1!=n&&this.g.Td(n),!(null==r||3>r.size)){var c=this;r.Vd(0,r.size,(function(t,i){return c.Mh(t,i)})),n=new t.h,e=new t.h,o=new t.h,e.Rc();var l=-1;a=new t.ia(0),u=new t.ia(0),f=null;for(var p=this.g.Gd(),v=this.g.Gd(),y=0,d=r.size;y<d;y++){var b=r.get(y);if(this.g.D(b,h),!h.qb(e)){if(-1!=l){for(var g=l;g<y;g++){l=r.get(g);var w=this.g.U(l);b=this.g.Ma(l);var x=!1;this.g.D(w,n),0>e.compare(n)&&(i?n.y==s:n.x==s)&&(a.add(l),x=!0,this.g.Ra(l,v,1)),this.g.D(b,n),0>e.compare(n)&&(i?n.y==s:n.x==s)&&(x||a.add(l),this.g.Ra(l,p,1))}for(g=0,x=a.size;g<x;g++){if(l=a.get(g),b=this.g.Pa(l,p),w=this.g.Pa(l,v),1==b&&(b=this.g.Ma(l),this.g.D(b,o),!o.qb(h))){null==f&&(f=[]);var m=t.h.tb(e,o);f[0]=t.h.tb(o,h)/m,0==f[0]?f[0]=2220446049250313e-31:1==f[0]&&(f[0]=.9999999999999998),this.g.Ul(b,f,1),b=this.g.Ma(l),this.g.mf(b,h),u.add(b),this.g.Ra(b,p,1),this.g.Ra(b,v,-1)}1==w&&(w=this.g.U(l),this.g.D(w,o),o.qb(h)||(null==f&&(f=[]),m=t.h.tb(e,o),f[0]=t.h.tb(e,h)/m,0==f[0]?f[0]=2220446049250313e-31:1==f[0]&&(f[0]=.9999999999999998),this.g.Ul(l,f,1),b=this.g.U(l),this.g.mf(b,h),u.add(b),this.g.Ra(b,p,-1),this.g.Ra(b,v,1)))}l=a,a=u,(u=l).clear(!1)}l=y,e.L(h)}}this.g.Td(p),this.g.Td(v)}},i.prototype.Nl=function(i,s){for(var n=new t.h,h=null,r=-1,e=0,o=this.dd.size;e<o;e++){var a=this.dd.get(e);if(-1!=a){var u=this.g.U(a);this.g.D(a,n),(i?n.y==s:n.x==s)&&(this.g.D(u,n),(i?n.y==s:n.x==s)&&(-1==r&&(r=this.g.Gd()),null==h&&(h=new t.ia(0)).Jb(100),-2!=this.g.Pa(a,r)&&(h.add(a),this.g.Ra(a,r,-2)),-2!=this.g.Pa(u,r)&&(h.add(u),this.g.Ra(u,r,-2))))}}if(null==h)-1!=r&&this.g.Td(r);else{var f=this;for(h.Vd(0,h.size,(function(t,i){return f.Mh(t,i)})),e=0,o=h.size;e<o;e++){var c=h.get(e);this.g.Ra(c,r,e)}a=new t.h,(u=new t.h).Rc();var l=-1;for(e=0,o=h.size;e<o;e++)if(-1!=(c=h.get(e))&&(this.g.D(c,n),!n.qb(u))){if(-1!=l)for(;;){c=!1;for(var p=1<e-l?e-1:e,v=l;v<p;v++){var y=h.get(v);if(-1!=y){var d=-1,b=this.g.U(y);this.g.D(b,a),0>u.compare(a)&&(i?a.y==s:a.x==s)&&(d=b),b=-1;var g=this.g.Ma(y);if(this.g.D(g,a),0>u.compare(a)&&(i?a.y==s:a.x==s)&&(b=g),-1!=d&&-1!=b)this.Kh(y,h,r),this.g.pd(y,!1),this.Kh(d,h,r),this.g.pd(d,!1),c=!0;else if(-1!=d||-1!=b){for(g=v+1;g<e;g++){var w=h.get(g);if(-1!=w){var x=this.g.U(w),m=-1;this.g.D(x,a),0>u.compare(a)&&(i?a.y==s:a.x==s)&&(m=x),x=this.g.Ma(w);var j=-1;if(this.g.D(x,a),0>u.compare(a)&&(i?a.y==s:a.x==s)&&(j=x),-1!=m&&-1!=j){this.Kh(w,h,r),this.g.pd(w,!1),this.Kh(m,h,r),this.g.pd(m,!1),c=!0;break}if(-1!=d&&-1!=j){this.zt(h,y,d,w,j,r),c=!0;break}if(-1!=b&&-1!=m){this.zt(h,w,m,y,b,r),c=!0;break}}}if(c)break}}}if(!c)break}l=e,u.L(n)}this.g.Td(r)}},i.prototype.Kh=function(t,i,s){s=this.g.Pa(t,s),i.set(s,-1),s=this.g.Pa(t,this.ji),this.dd.set(s,-1),-1!=(i=this.g.bd(t))&&this.g.Xa(i)==t&&(this.g.Jf(i,-1),this.g.Wg(i,-1))},i.prototype.zt=function(t,i,s,n,h,r){this.g.Bc(i,n),this.g.Cc(n,i),this.g.Cc(s,h),this.g.Bc(h,s),this.Kh(n,t,r),this.g.mi(n,!1),this.Kh(h,t,r),this.g.mi(h,!0)},i.prototype.Ty=function(){for(var t=0,i=this.dd.size;t<i;t++){var s=this.dd.get(t);-1!=s&&this.g.aj(s,-1)}for(var n=0,h=0,r=this.g.Ob(this.X);-1!=r;){var e=this.g.Xa(r);if(-1==e||r!=this.g.bd(e)){var o=r;r=this.g.Rb(r),this.g.Jf(o,-1),this.g.$q(o)}else{s=e,o=0;do{this.g.aj(s,r),o++,s=this.g.U(s)}while(s!=e);this.g.cp(r,!1),this.g.Wg(r,this.g.Ma(e)),this.g.Vj(r,o),h+=o,n++,r=this.g.Rb(r)}}for(t=0,i=this.dd.size;t<i;t++)if(-1!=(s=this.dd.get(t))&&-1==(r=this.g.bd(s))){r=this.g.vf(this.X,-1),o=0,e=s;do{this.g.aj(s,r),o++,s=this.g.U(s)}while(s!=e);2>=o?(s=this.g.Pa(e,this.ji),this.dd.set(s,-1),e=this.g.pd(e,!1),2==o&&(0<=(s=this.g.Pa(e,this.ji))&&this.dd.set(s,-1),this.g.pd(e,!1)),o=r,this.g.Jf(o,-1),this.g.$q(o)):(this.g.kn(r,!0),this.g.Vj(r,o),this.g.Jf(r,e),this.g.Wg(r,this.g.Ma(e)),this.g.cp(r,!1),h+=o,n++)}for(this.g.Rl(this.X,n),this.g.Tj(this.X,h),t=0,i=this.g.ld;-1!=i;i=this.g.ue(i))t+=this.g.I(i);this.g.bC(t)},i.By=function(t,s,n,h){return new i(s,h).Ay(t,n)},i.clip=function(t,s,n,h,r){return i.Nu(t,s,null,n,h,r)},i.Nu=function(s,n,h,r,e,o){var a=s.getType();if(33==a)return e=s.D(),n.contains(e)?s:s.Ia();if(197==a)return e=new t.l,s.A(e),e.Ea(n)?(n=new t.Fh,s.copyTo(n),n.Xo(e),n):s.Ia();if(s.B())return s;if(n.B())return s.Ia();var u=new t.l;if(s.xc(u),n.contains(u))return s;if(!n.isIntersecting(u))return s.Ia();if((null!=h||isNaN(r))&&t.ta.ty(h,n,!1),!t.aa.xj(a))throw t.i.N();if(null!=(h=s.Bb)&&null!=(h=h.Fk)){if(1==(h=h.Ro(n))){if(1736!=a)throw t.i.fa("internal error");return(s=new t.Da(s.description)).tp(n),s}if(0==h)return s.Ia()}switch(a){case 550:for(o=null,a=s.I(),h=s.ub(0),r=0,e=new t.h,u=0;u<a;u++)h.tc(2*u,e),n.contains(e)||(0==r&&(o=s.Ia()),r<u&&o.Fd(s,r,u),r=u+1);return 0<r&&o.Fd(s,r,a),0==r?s:o;case 1736:case 1607:return i.By(s,n,e,o);default:throw t.i.fa("internal error")}},i.prototype.Mh=function(i,s){var n=new t.h;return this.g.D(i,n),i=new t.h,this.g.D(s,i),n.compare(i)},i}();t.ri=i}(Q||(Q={})),function(t){var i=new t.h,s=function(){function i(i,s,n,h,r){this.Pm=new t.h,this.Dk=new t.h,this.Pi=new t.h,this.g=i,this.Aw=n,this.no=h,this.Pm=s,this.yl=r,this.Dk.Rc(),this.Pi.Rc()}return i.prototype.xE=function(i){this.g.D(i,this.Dk),i=t.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var s=t.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return n.jG(i,s)},i.prototype.jz=function(t){return this.g.Pa(t,this.yl)},i.prototype.Py=function(t,i){return this.g.D(t,this.Dk),this.g.D(i,this.Pi),n.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},i}();t.sY=function(){};var n=function(){function n(){this.Pm=new t.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return n.iQ=function(t,i){var s=new n;return s.g=t,s.qa=i,s.Aw=i*i,s.$v=2*i,s.no=1/s.$v,s.BO()},n.Cv=function(t,i,s,n,h){return(t-=s)*t+(i-=n)*i<=h},n.jG=function(i,s){return t.O.Th(s,t.O.Th(i))},n.prototype.DO=function(s,h){this.g.Gc(s,i);for(var r=(i.y-this.Pm.y)*this.no,e=t.O.truncate((i.x-this.Pm.x)*this.no),o=t.O.truncate(r),a=r=0;1>=a;a+=1)for(var u=0;1>=u;u+=1){var f=n.jG(e+a,o+u),c=this.xl.rR(f);-1!=c&&(this.pq[r]=c,this.xs[r]=f,r++)}for(e=r-1;1<=e;e--)for(c=this.pq[e],o=e-1;0<=o;o--)if(c==this.pq[o]){this.xs[o]=-1,e!=--r&&(this.xs[e]=this.xs[r],this.pq[e]=this.pq[r]);break}for(o=0;o<r;o++)this.EO(s,this.xs[o],i,this.pq[o],h)},n.prototype.EO=function(i,s,h,r,e){for(var o=new t.h;-1!=r;r=this.xl.ER(r)){var a=this.xl.ja(r);i==a||-1!=s&&this.g.Pa(a,this.yl)!=s||(this.g.Gc(a,o),n.Cv(h.x,h.y,o.x,o.y,this.Aw)&&e.add(r))}},n.prototype.Xm=function(t,i,s){var n=this.g.Pa(t,this.qo),h=this.g.Pa(i,this.qo);return-1==n&&(n=this.zd.Ph(),this.zd.addElement(n,t),this.g.Ra(t,this.qo,n)),-1==h?this.zd.addElement(n,i):this.zd.Hy(n,h),this.g.Ra(i,this.qo,-2),i=this.YT(t,i),s&&(s=this.kw.xE(t),this.g.Ra(t,this.yl,s)),i},n.WT=function(i,s,h){i.Nb(s),h=i;var r=new t.h;n.XT(i.D(),s.D(),r),h.Cb(r)},n.XT=function(t,i,s){var n=t.x;t.x!=i.x&&(n=(1*t.x+1*i.x)/2);var h=t.y;t.y!=i.y&&(h=(1*t.y+1*i.y)/2),s.ma(n,h)},n.prototype.YT=function(i,s){var n=new t.h;this.g.D(i,n);var h=new t.h;this.g.D(s,h);var r=this.g.cG(i),e=r+(s=this.g.cG(s)),o=0,a=n.x;n.x!=h.x&&(a=(n.x*r+h.x*s)/e,o++);var u=n.y;return n.y!=h.y&&(u=(n.y*r+h.y*s)/e,o++),0<o&&this.g.Cb(i,a,u),this.g.vX(i,e),0!=o},n.prototype.BO=function(){var i=this.g.fd,n=this.g.IF();for(this.Pm=n.mz(),n=Math.max(n.ca(),n.R())/2147483646,this.$v<n&&(this.$v=n,this.no=1/this.$v),this.zd=new t.au,this.zd.At(t.O.truncate(this.g.fd/3+1)),this.zd.fn(t.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new s(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new t.dL(t.O.truncate(4*i/3),this.kw),this.xl.AW(this.g.fd),i=!1,n=this.g.ld;-1!=n;n=this.g.ue(n))for(var h=this.g.Ob(n);-1!=h;h=this.g.Rb(h))for(var r=this.g.Xa(h),e=0,o=this.g.Ja(h);e<o;e++){var a=this.kw.xE(r);this.g.Ra(r,this.yl,a),this.xl.addElement(r,a),r=this.g.U(r)}var u=new t.ia(0);for(u.Jb(10),n=this.g.ld;-1!=n;n=this.g.ue(n))for(h=this.g.Ob(n);-1!=h;h=this.g.Rb(h))for(r=this.g.Xa(h),e=0,o=this.g.Ja(h);e<o;e++){if(-2!=this.g.Pa(r,this.qo))for(a=this.g.Pa(r,this.yl),this.xl.jd(r,a);this.DO(r,u),0!=u.size;){a=!1;for(var f=0,c=u.size;f<c;f++){var l=u.get(f),p=this.xl.ja(l);this.xl.vd(l),a=this.Xm(r,p,f+1==c)||a}if(i=i||a,u.clear(!1),!a)break}r=this.g.U(r)}return i&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),i},n.prototype.vN=function(){for(var i=new t.h,s=this.zd.je;-1!=s;s=this.zd.qz(s)){var n=this.zd.rc(s);for(this.g.D(this.zd.ja(n),i),n=this.zd.lb(n);-1!=n;n=this.zd.lb(n))this.g.mf(this.zd.ja(n),i)}},n}();t.Yt=n}(Q||(Q={})),function(t){var i=function(){function i(t){void 0===t&&(t=null),this.yg=null,this.Pb=!1,this.yg=null===t?[]:t}return i.prototype.copyTo=function(i){if(i.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");for(var s=0;s<this.yg.length;s++)i.yg.push(this.yg[s].Of())},i.prototype.count=function(){return this.yg.length},i.prototype.add=function(i){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(i.Of())},i.prototype.clear=function(){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},i.prototype.remove=function(i){if(this.Pb)throw t.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(i,1)},i.prototype.jg=function(){var t=new i;return this.copyTo(t),t},i.prototype.Of=function(){return this.jg()},i.prototype.transform=function(i,s,n,h){if(i.length<s)throw t.i.fa("invalid Argument");var r=n;for(n=0;n<this.yg.length;n++){var e=this.yg[n];if(null!=e.qm()){var o=e.Un,a=o?1:0,u=o?e.qm().getGeogcs2():e.qm().getGeogcs1();if(u=r/(u=u.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(u-1))for(r=0;r<s;r++)i[r][0]*=u,i[r][1]*=u;t.MC.geogToGeog(e.qm(),s,i,null,a),r=(o?e.qm().getGeogcs1():e.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(u=r/h,3552713678800501e-30<Math.abs(u-1))for(r=0;r<s;r++)i[r][0]*=u,i[r][1]*=u;return s},i.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof i)||this.yg.length!=t.yg.length)return!1;for(var s=0;s<this.yg.length;s++)if(!this.yg[s].Nb(t.yg[s]))return!1;return!0},i.prototype.ix=function(){this.Pb=!0},i.prototype.toString=function(){for(var t="CGT ("+this.count()+") ",i=0,s=this.count();i<s;++i)t+=this.yg[i].toString()+", ";return 200<t.length?t.substring(0,197)+"... ("+t.length.toString()+" characters)":t},i.create=function(){return new i},i}();t.wC=i}(Q||(Q={})),function(t){var i,s=Math.PI,n=2*Math.PI,h=Math.PI/2,r=function(){function t(){}return t.TO=function(i,s){var n=new t;return n.x=i,n.y=s,n.type=0,n.Uh=0,n},t.al=function(i){var s=new t;return s.x=i.x,s.y=i.y,s.type=0,s.Uh=0,s},t.SO=function(i){var s=new t;return s.x=i.x,s.y=i.y,s.type=i.type,s.Uh=i.Uh,s},t.Pd=function(i,s,n){var h=new t;return h.x=i.x+s*Math.cos(n),h.y=i.y+s*Math.sin(n),h.type=i.type,h.Uh=i.Uh,h},t.Pu=function(i,s){var n=new t;return n.x=.5*(i.x+s.x),n.y=.5*(i.y+s.y),n.type=i.type,n.Uh=i.Uh,n},t.TE=function(i,s){var n=new t;return n.x=i.x+.001*(s.x-i.x),n.y=i.y+.001*(s.y-i.y),n.type=i.type,n.Uh=i.Uh,n},t}(),e=function(){};(i=t.fL||(t.fL={}))[i.Round=0]="Round",i[i.Bevel=1]="Bevel",i[i.Miter=2]="Miter",i[i.Square=3]="Square";var o=function(){function i(t){this.NA=this.Yb=this.wg=null,this.nd=t}return i.V=function(s,n,h,r,e,o){if(null==s)throw t.i.N();if(1>s.Db())throw t.i.N();return 0==n||s.B()?s:((o=new i(o)).ko=s,o.Ka=n,o.qa=e,o.Ki=h,o.CA=r,o.Rx())},i.prototype.eM=function(){var i=this.ko,s=i.ac(),n=i.wc(),h=new t.h;return h.uc(n,s),h.normalize(),h.Hv(),h.scale(this.Ka),s.add(h),n.add(h),h=i.Ia(),i.Dc(s),i.Qc(n),h},i.prototype.dM=function(){var i=this.ko;if(0<this.Ka&&2!=this.Ki){var s=new t.Da;return s.ad(i,!1),this.ko=s,this.Rx()}return(i=new t.Fh(i.$)).W(this.Ka,this.Ka),i},i.prototype.tJ=function(t,i,s,n){return(i.x-t.x)*(n.x-s.x)+(i.y-t.y)*(n.y-s.y)},i.prototype.fc=function(t,i){if(void 0===i)this.Yb.push(t),this.gf++;else if(0==this.gf)this.fc(t);else{var s=this.Bw,n=this.wg[0==i?s-1:i-1],e=this.wg[i],o=this.tJ(n,e,this.Yb[this.gf-1],t);0<o?this.fc(t):0>o&&(0<this.tJ(n,e,e,this.Yb[this.gf-1])?(e=this.wg[0==i?s-2:1==i?s-1:i-2],s=r.Pd(n,this.Ka,Math.atan2(n.y-e.y,n.x-e.x)-h),this.Yb[this.gf-1]=s,1==this.Ki||2==this.Ki?(s=r.Pu(s,n),this.fc(s),s=r.Pd(n,this.Ka,this.Jv+h),(n=r.Pu(s,n)).type|=256,this.fc(n)):(s=r.Pd(n,this.Ka,this.Jv+h)).type|=256,this.fc(s),this.fc(t,i)):(s=r.Pd(e,this.Ka,this.Jv+h),this.fc(s),1==this.Ki||2==this.Ki?(s=r.Pu(s,e),this.fc(s),s=r.Pd(e,this.Ka,this.aA-h),(n=r.Pu(s,e)).type|=256,this.fc(n)):(s=r.Pd(e,this.Ka,this.aA-h)).type|=256,this.fc(s)))}},i.prototype.mE=function(){var i,e=this.Bw;this.gf=0;var o=.5*this.qa,a=0,u=0;for(i=0;i<e;i++){var f=this.wg[i],c=0==i?this.wg[e-1]:this.wg[i-1],l=i==e-1?this.wg[0]:this.wg[i+1],p=c.x-f.x,v=c.y-f.y,y=l.x-f.x,d=l.y-f.y,b=Math.atan2(v,p),g=Math.atan2(d,y);if(this.Jv=b,this.aA=g,0==i&&(a=b,u=g),p=p*d-y*v,v=g,g<b&&(g+=n),0<p*this.Ka)1==this.Ki||2==this.Ki?(b=r.Pd(f,this.Ka,b+h),this.fc(b),b=r.TE(f,b),this.fc(b),b=r.Pd(f,this.Ka,g-h),(f=r.TE(f,b)).type|=256,this.fc(f),this.fc(b)):(p=.5*(g-b),p=this.Ka/Math.abs(Math.sin(p)),b=r.Pd(f,p,.5*(b+g)),this.fc(b,i));else if(0!=(512&f.type)){for(p=1-o/Math.abs(this.Ka),c=1,l=0>this.Ka?-s:s,-1<p&&1>p&&(.017453292519943295>(v=2*Math.acos(p))&&(v=.017453292519943295),1<(c=t.O.truncate(s/v+1.5))&&(l/=c)),v=b+h,b=r.Pd(f,this.Ka,v),0==i&&(b.type|=1024),this.fc(b,i),p=this.Ka/Math.cos(l/2),v+=l/2,(b=r.Pd(f,p,v)).type|=1024,this.fc(b);0<--c;)v+=l,(b=r.Pd(f,p,v)).type|=1024,this.fc(b);(b=r.Pd(f,this.Ka,g-h)).type|=1024,this.fc(b)}else if(1==this.Ki)b=r.Pd(f,this.Ka,b+h),this.fc(b,i),b=r.Pd(f,this.Ka,g-h),this.fc(b);else if(0==this.Ki)for(p=1-o/Math.abs(this.Ka),c=1,l=g-h-(b+h),-1<p&&1>p&&(.017453292519943295>(v=2*Math.acos(p))&&(v=.017453292519943295),1<(c=t.O.truncate(Math.abs(l)/v+1.5))&&(l/=c)),p=this.Ka/Math.cos(.5*l),v=b+h+.5*l,b=r.Pd(f,p,v),this.fc(b,i);0<--c;)v+=l,b=r.Pd(f,p,v),this.fc(b);else 2==this.Ki?(p=c.x-f.x,v=c.y-f.y,.99999999<(c=(p*(y=l.x-f.x)+v*(d=l.y-f.y))/Math.sqrt(p*p+v*v)/Math.sqrt(y*y+d*d))?(b=r.Pd(f,1.4142135623730951*this.Ka,g-.25*s),this.fc(b,i),b=r.Pd(f,1.4142135623730951*this.Ka,g+.25*s),this.fc(b)):(c=Math.abs(this.Ka/Math.sin(.5*Math.acos(c))))>(l=Math.abs(this.CA*this.Ka))?(p=.5*(g-b),p=this.Ka/Math.abs(Math.sin(p)),b=r.Pd(f,p,.5*(b+g)),g=t.h.construct(b.x,b.y),b=t.h.construct(f.x,f.y),(f=new t.h).uc(g,b),(g=new t.h).HW(l/f.length(),f,b),b=(c-l)*Math.abs(this.Ka)/Math.sqrt(c*c-this.Ka*this.Ka),0<this.Ka?f.Hv():f.ar(),f.scale(b/f.length()),(b=new t.h).add(g,f),(c=new t.h).uc(g,f),b=r.al(b),this.fc(b,i),b=r.al(c),this.fc(b)):(p=.5*(g-b),p=this.Ka/Math.abs(Math.sin(p)),b=r.Pd(f,p,.5*(b+g)),this.fc(b,i))):(g=v,0<this.Ka?(g>b&&(g-=n),c=b-g<h):(g<b&&(g+=n),c=g-b<h),c?(v=0>(p=1.4142135623730951*this.Ka)?b+.25*s:b+.75*s,b=r.Pd(f,p,v),this.fc(b,i),v=0>p?g-.25*s:g-.75*s,b=r.Pd(f,p,v),this.fc(b)):(p=.5*(g-b),p=this.Ka/Math.abs(Math.sin(p)),g<b&&(g+=n),b=r.Pd(f,p,(b+g)/2),this.fc(b,i)))}return this.Jv=a,this.aA=u,this.fc(this.Yb[0],0),f=r.SO(this.Yb[this.gf-1]),this.Yb[0]=f,this.wW()},i.prototype.Au=function(i,s){if(!(2>s))for(var n=0;n<s;n++){var h=this.Yb[i+n];0!=n?this.NA.Ci(t.h.construct(h.x,h.y)):this.NA.Lt(t.h.construct(h.x,h.y))}},i.prototype.fM=function(t,i,s){var n=t.Ba(i),h=t.Vc(i);if(this.Yb=[],this.NA=s,t.dc(i)){for(i=t.Na(n);t.Na(h-1).qb(i);)h--;if(2<=h-n){for(this.Bw=h-n,this.wg=[],i=n;i<h;i++)this.wg.push(r.al(t.Na(i)));this.mE()&&this.Au(0,this.gf-1)}}else{for(i=t.Na(n);n<h&&t.Na(n+1).qb(i);)n++;for(i=t.Na(h-1);n<h&&t.Na(h-2).qb(i);)h--;if(2<=h-n){for(this.Bw=2*(h-n)-2,this.wg=[],(s=r.al(t.Na(n))).type|=1536,this.wg.push(s),i=n+1;i<h-1;i++)s=r.al(t.Na(i)),this.wg.push(s);for((s=r.al(t.Na(h-1))).type|=512,this.wg.push(s),i=h-2;i>=n+1;i--)(s=r.al(t.Na(i))).type|=1024,this.wg.push(s);if(this.mE())if(2<=this.Yb.length){for(t=-1,(h=0!=(1024&this.Yb[this.gf-1].type))||(t=0),i=1;i<this.gf;i++)(n=0!=(1024&this.Yb[i].type))?h||1<(h=i-1)-t+1&&this.Au(t,h-t+1):h&&(t=i-1),h=n;h||1<(h=this.gf-1)-t+1&&this.Au(t,h-t+1)}else t=0,h=this.gf-1,0<=t&&1<=h-t&&this.Au(t,h-t+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},i.prototype.wW=function(){for(var t=!1,i=0;i<this.gf;i++){var s=this.Yb[i];s.qh=i+1,s.sh=i-1,this.Yb[i]=s}for((s=this.Yb[0]).sh=this.gf-2,this.Yb[0]=s,(s=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=s,i=s=0;i<this.gf;i++)if(0!=(256&this.Yb[s].type)){var n=this.GP(s);if(-1==n){t=!0;break}s=n}else s=this.Yb[s].qh;return!t&&(this.QO(s),!0)},i.prototype.GP=function(t){for(var i,s,n=this.gf-1,h=t,r=1;r<=n-2;r++){i=h=this.Yb[h].qh,s=t;for(var e=1;e<=r;e++){if(s=this.Yb[s].sh,0==(256&this.Yb[s].type)&&0==(256&this.Yb[i].type)){var o=this.gS(s,i);if(-1!=o)return o}i=this.Yb[i].sh}}return-1},i.prototype.gS=function(i,s){var n=this.Yb[this.Yb[i].sh],h=this.Yb[i],r=this.Yb[this.Yb[s].sh],o=this.Yb[s];if(!this.JW(n,h,r,o))return-1;var a=new e;return this.xQ(n,h,r,o,a)&&!a.bE&&t.O.bK((h.x-n.x)*(o.y-r.y)-(h.y-n.y)*(o.x-r.x))!=t.O.bK(this.Ka)?(n=this.Yb[i].sh,a.an.type=h.type,a.an.qh=s,a.an.sh=n,this.Yb[i]=a.an,a.an=this.Yb[s],a.an.sh=i,this.Yb[s]=a.an,s):-1},i.prototype.JW=function(t,i,s,n){return Math.max(t.x,i.x)>=Math.min(s.x,n.x)&&Math.max(s.x,n.x)>=Math.min(t.x,i.x)&&Math.max(t.y,i.y)>=Math.min(s.y,n.y)&&Math.max(s.y,n.y)>=Math.min(t.y,i.y)},i.prototype.xQ=function(t,i,s,n,h){h.bE=!1;var e=(i.y-t.y)*(n.x-s.x)-(i.x-t.x)*(n.y-s.y),o=(s.y-t.y)*(i.x-t.x)-(s.x-t.x)*(i.y-t.y);if(0<=(e=0==e?2:o/e)&&1>=e){var a=e;if(e=(n.y-s.y)*(i.x-t.x)-(n.x-s.x)*(i.y-t.y),o=(t.y-s.y)*(n.x-s.x)-(t.x-s.x)*(n.y-s.y),0<=(e=0==e?2:o/e)&&1>=e)return h.an=r.TO(t.x+e*(i.x-t.x),t.y+e*(i.y-t.y)),h.an.Uh=s.Uh+a*(n.Uh-s.Uh),0!=a&&1!=a||0!=e&&1!=e||(h.bE=!0),h.VY=e,h.WY=a,!((0==a||1==a)&&0<e&&1>e||(0==e||1==e)&&0<a&&1>a)}return!1},i.prototype.QO=function(t){for(;this.Yb[t].sh<t;)t=this.Yb[t].sh;var i=0,s=t;do{s=this.Yb[s],this.Yb[i]=s,s=s.qh,i++}while(s!=t);this.Yb[i]=this.Yb[0],this.gf=i+1},i.prototype.$C=function(t){var i=this.ko,s=i.Ga();if(null!=s){s.Zi();for(var n=-1;s.$a();)n++,this.fM(i,n,t)}},i.prototype.Rx=function(){var i=this.ko.getType();return 322==i?this.eM():197==i?this.dM():t.aa.yd(i)?((i=new t.Ta).oc(this.ko,!0),this.ko=i,this.Rx()):1607==i?(i=new t.Ta,this.$C(i),i):1736==i?(i=new t.Da,this.$C(i),i):null},i}();t.IK=o}(Q||(Q={})),function(t){var i=function(){function t(t){this.qk=t}return t.prototype.D=function(t,i){this.qk.g.D(t,i)},t.prototype.vd=function(t){var i=this.qk.Fa.ja(t);this.qk.Fa.vd(t,-1),this.qk.g.pd(i,!1)},t}(),s=function(){function t(t){this.qk=t}return t.prototype.D=function(t,i){this.qk.IT.D(t,i)},t.prototype.vd=function(t){this.qk.Fa.vd(t,-1)},t}(),n=function(){function t(t){this.qk=t}return t.prototype.D=function(t,i){i.L(this.qk.LT[t])},t.prototype.vd=function(t){this.qk.Fa.vd(t,-1)},t}(),h=function(){function h(h){void 0===h?(this.Fa=new t.Yj,this.Fa.De(20),this.g=new t.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new i(this)):h instanceof Array?(this.Fa=new t.Yj,this.Fa.De(20),this.LT=h,this.Xh=new n(this)):(this.Fa=new t.Yj,this.Fa.De(20),this.IT=h,this.Xh=new s(this))}return h.prototype.Ib=function(i){var s=i.getType();if(t.Gx.xj(s))this.jN(i);else if(t.Vk.yd(s))this.oN(i);else if(197==s)this.gN(i);else{if(33!=s)throw t.i.N("invalid shape type");this.nN(i)}},h.prototype.cR=function(){var i=new t.Sa,s=this.Fa.rc(-1),n=new t.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(s),i),n.nf(i),s=this.Fa.lb(s);-1!=s;s=this.Fa.lb(s))this.g.Vi(this.Fa.ja(s),i),n.lineTo(i);return n},h.RO=function(i){var s=new h(i),n=i.I(),r=1,e=new t.h,o=new t.h,a=new t.h;for(i.D(0,e);i.D(r,o),o.Rz(e)&&r<n-1;)r++;for(s.Fa.addElement(0,-1),s.Fa.xn(r),n=r+1;n<i.I();n++)i.D(n,a),-1!=(r=s.pC(a))&&s.Fa.Sj(r,n);for(a=new t.Sa,r=s.Fa.rc(-1),n=new t.Da(i.description),i.ve(s.Fa.ja(r),a),n.nf(a),r=s.Fa.lb(r);-1!=r;r=s.Fa.lb(r))i.ve(s.Fa.ja(r),a),n.lineTo(a);return n},h.construct=function(t,i,s){for(var n=new h(t),r=1,e=t[0];t[r].Rz(e)&&r<i-1;)r++;for(n.Fa.addElement(0,-1),n.Fa.xn(r),r+=1;r<i;r++)-1!=(e=n.pC(t[r]))&&n.Fa.Sj(e,r);for(t=0,i=n.Fa.rc(-1);-1!=i;i=n.Fa.lb(i))s[t++]=n.Fa.ja(i);return t},h.JG=function(i,s){var n=i.Ba(s),r=i.Vc(s);if(s=!i.dc(s)&&i.Nn(s),i=i.ub(0),r*=2,s&&(r-=2),6>r-(n*=2))return!0;s=new t.h;var e=new t.h,o=new t.h;i.tc(n,s),i.tc(n+2,e),i.tc(n+4,o);var a=h.Wu(e,o,s);if(a.ps()||!h.um(a.value()))return!1;var u=t.h.construct(e.x,e.y),f=new t.h;for(n+=6;n<r;n+=2){if(f.L(e),e.L(o),i.tc(n,o),(a=h.Wu(e,o,s)).ps()||!h.um(a.value()))return!1;if((a=h.Wu(u,o,s)).ps()||!h.um(a.value()))return!1;if((a=h.Wu(e,o,f)).ps()||!h.um(a.value()))return!1}return!0},h.prototype.jN=function(i){for(var s=new t.Sa,n=new t.h,h=0;h<i.I();h++){i.D(h,n);var r=this.Cr(n);if(-1!=r){i.ve(h,s);var e=this.g.fc(this.Ss,s);this.Fa.Sj(r,e)}}},h.prototype.gN=function(i){for(var s=new t.Sa,n=new t.h,h=0;4>h;h++){i.mB(h,n);var r=this.Cr(n);if(-1!=r){i.Hf(h,s);var e=this.g.fc(this.Ss,s);this.Fa.Sj(r,e)}}},h.prototype.oN=function(i){var s=new t.Sa,n=i.ac();if(-1!=(n=this.Cr(n))){i.To(s);var h=this.g.fc(this.Ss,s);this.Fa.Sj(n,h)}n=i.wc(),-1!=(n=this.Cr(n))&&(i.Po(s),i=this.g.fc(this.Ss,s),this.Fa.Sj(n,i))},h.prototype.nN=function(t){var i=t.D();-1!=(i=this.Cr(i))&&(t=this.g.fc(this.Ss,t),this.Fa.Sj(i,t))},h.prototype.Cr=function(t){var i=-1;if(0==this.Fa.size(-1))return this.Fa.addElement(-4,-1);if(1==this.Fa.size(-1)){var s=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return t.Rz(s)||(i=this.Fa.xn(-5)),i}return this.pC(t)},h.prototype.pC=function(i){var s=-1;do{var n=this.Fa.rc(-1),r=this.Fa.Fc(-1),e=this.Fa.ja(n),o=this.Fa.ja(r),a=new t.h,u=new t.h;if(this.Xh.D(e,a),this.Xh.D(o,u),e=t.h.Uq(u,i,a),h.um(e))s=this.Fa.xn(-1),(a=this.nC(i,r,n))!=n&&this.oC(i,n,this.Fa.we(a));else if(h.CG(e)){u=this.Fa.sv(-1);var f=this.Fa.rc(-1),c=this.Fa.Fc(-1);for(e=new t.h,o=new t.h;f!=this.Fa.we(c);){var l=this.Fa.ja(u);this.Xh.D(l,e),l=t.h.Uq(e,i,a),h.CG(l)?(c=u,u=this.Fa.ll(u)):(f=u,u=this.Fa.Xp(u))}if(u=c,a=f,l=this.Fa.ja(u),f=this.Fa.ja(a),this.Xh.D(l,e),this.Xh.D(f,o),a!=n&&(e=t.h.Uq(o,i,e),!h.um(e)))continue;s=this.Fa.zu(a,u,-2,!1),this.oC(i,u,r),this.nC(i,a,n)}else null==this.sb&&(this.sb=new t.yb),this.sb.Dc(u),this.sb.Qc(a),0>(a=this.sb.fe(i,!0))?(a=this.Fa.we(r),this.Fa.vd(r,-1),s=this.Fa.xn(-3),this.nC(i,a,n)):1<a&&(a=this.Fa.lb(n),this.Fa.vd(n,-1),s=this.Fa.zu(-1,a,-3,!1),this.oC(i,a,r))}while(0);return s},h.prototype.oC=function(i,s,n){if(s!=n){var r=this.Fa.ja(s),e=this.Fa.lb(s),o=new t.h,a=new t.h;for(this.Xh.D(r,o);s!=n&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(e),a),r=t.h.Uq(a,i,o),!h.um(r));)r=s,s=e,o.L(a),e=this.Fa.lb(s),this.Xh.vd(r)}},h.prototype.nC=function(i,s,n){if(s==n)return n;var r=this.Fa.ja(s),e=this.Fa.we(s),o=new t.h,a=new t.h;for(this.Xh.D(r,o);s!=n&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(e),a),r=t.h.Uq(o,i,a),!h.um(r));)r=s,s=e,o.L(a),e=this.Fa.we(s),this.Xh.vd(r);return s},h.Wu=function(i,s,n){var h=new t.Wb;h.set(s.x),h.sub(i.x);var r=new t.Wb;r.set(n.y),r.sub(i.y);var e=new t.Wb;return e.set(s.y),e.sub(i.y),(s=new t.Wb).set(n.x),s.sub(i.x),h.Ag(r),e.Ag(s),h.sub(e),h},h.um=function(t){return 0>t},h.CG=function(t){return 0<t},h}();t.Zt=h}(Q||(Q={})),function(t){var i=function(){function i(t){this.g=null,this.tH=!0,this.nd=t}return i.zU=function(i,s,n){return i=t.ta.Er(i),t.Yt.Cv(s.Lg(),s.ih(),n.Lg(),n.ih(),t.lc.ox(i))},i.CO=function(i,s){var n=new t.Sa;return t.Yt.WT(i,s,n),n},i.V=function(t,s,n,h){return(n=new i(n)).g=t,n.qa=s,n.tH=h,n.EM()},i.prototype.nM=function(i){return t.Yt.iQ(this.g,i)},i.prototype.sM=function(i){return t.$t.V(this.g,i,this.nd)},i.prototype.EM=function(){var i=this.qa,s=t.ta.Er(i),n=1.00001*(i=t.ta.rN(i));i*=1.000001;for(var h=!1,r=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),e=0,o=this.g.jS();;e++){if(e>r)throw t.i.fa("Internal Error: max number of iterations exceeded");var a=this.nM(s);if(h=h||a,this.tH&&(a=0!=this.g.Gp(s,!0,!1),h=h||a),a=!1,(0==e||o||t.$t.kI(!0,this.g,i,null,this.nd))&&(a=this.sM(n),h=h||a),!a)break;t.mp.zp(this.nd)}return h},i}();t.Tk=i}(Q||(Q={})),function(t){var i=function(){function i(t){this.$d=this.Mc=null,this.Ys=0,this.Ub=t,this.cA=!0}return i.prototype.uv=function(t,i){var s=this.g.bc(t);if(null==s){if(!this.g.ed(t,i))return null;s=i}return s},i.prototype.Xq=function(){var i;void 0===i&&(i=!1),this.Ys++,(i||0==(4095&this.Ys))&&(this.Ys=0,t.mp.zp(this.Ub))},i.prototype.nP=function(){var i=this.g.Yq(!1),s=!1,n=new t.yb,h=new t.yb,r=new t.l;r.Oa();var e=new t.l;e.Oa();for(var o=new t.Sa,a=new t.TC,u=i.next();-1!=u;u=i.next()){t.mp.zp(this.Ub);var f=null,c=!1;if(!t.aa.Rn(this.g.ic(i.ck))){if(null==(f=this.uv(u,n)))continue;if(f.A(r),r.W(this.qa,this.qa),f.Bi(this.qa)){if(!f.Bi(0))continue;c=!0,f=null}}var l=this.g.Yq(i),p=l.next();for(-1!=p&&(p=l.next());-1!=p;p=l.next()){var v=null,y=!1;if(!t.aa.Rn(this.g.ic(l.ck))){if(null==(v=this.uv(p,h)))continue;if(v.A(e),v.Bi(this.qa)){if(!v.Bi(0))continue;y=!0,v=null}}var d=0,b=0;if(null!=f&&null!=v)r.HG(e)&&(a.Oo(f),a.Oo(v),a.Ea(this.qa,!1),0<(d=a.ol(0))+(b=a.ol(1))&&(this.g.jr(u,a,0,!0),this.g.jr(p,a,1,!0)),a.clear());else if(null!=f){var g=new t.h;if(this.g.D(p,g),r.contains(g)){if(a.Oo(f),this.g.Vi(p,o),a.Kz(this.qa,o,!1),0<(d=a.ol(0)))if(this.g.jr(u,a,0,!0),y){for(y=-1,g=this.g.U(p);-1!=g&&g!=p&&(y=g,null!=(v=this.uv(g,h))&&v.Bi(0));g=this.g.U(g));for(g=p;-1!=g&&(this.g.Dh(g,a.Bf),g!=y);g=this.g.U(g));}else this.g.Dh(p,a.Bf);a.clear()}}else{if(null==v)continue;if(g=new t.h,this.g.D(u,g),e.W(this.qa,this.qa),e.contains(g)){if(a.Oo(v),this.g.Vi(u,o),a.Kz(this.qa,o,!1),0<(b=a.ol(0)))if(this.g.jr(p,a,0,!0),c){for(y=-1,g=this.g.U(u);-1!=g&&g!=u&&(y=g,null!=(v=this.uv(g,h))&&v.Bi(0));g=this.g.U(g));for(g=u;-1!=g&&(this.g.Dh(g,a.Bf),g!=y);g=this.g.U(g));}else this.g.Dh(u,a.Bf);a.clear()}}if(0!=d+b){if(0!=d){if(null==(f=this.g.bc(u))){if(!this.g.ed(u,n))continue;f=n,n.A(r)}else f.A(r);if(f.Bi(this.qa))break}s=!0}}}return s},i.prototype.oP=function(){return this.QU()},i.prototype.QU=function(){return(new t.RC).PX(this.g,this.qa)},i.prototype.lI=function(){var i=!1;null==this.Mc&&(this.Mc=new t.Yj);var s=new t.ia(0);s.Jb(this.g.fd+1);for(var n=this.g.Yq(),h=n.next();-1!=h;h=n.next())s.add(h);this.g.nx(s,s.size),s.add(-1),n=this.g.Gd(),h=this.g.Gd(),this.$d=new t.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var r=new t.ia(0),e=new t.ia(0),o=0;new t.h;var a=this.g.td;this.g.vb.mc();for(var u,f,c=this.g.vb.za[0].o,l=s.get(o++);-1!=l;){var p=u=c[2*(f=a.T(l,0))],v=f=c[2*f+1];do{var y=a.T(l,2),d=a.T(l,1);if(-1!=y){var b=a.T(y,0),g=c[2*b];0>(v<(b=c[2*b+1])?-1:v>b?1:p<g?-1:p>g?1:0)&&(e.add(l),e.add(y))}-1!=d&&(g=c[2*(b=a.T(d,0))],0>(v<(b=c[2*b+1])?-1:v>b?1:p<g?-1:p>g?1:0)&&(e.add(d),e.add(d))),-1!=(g=this.g.Pa(l,n))&&(r.add(g),this.g.Ra(l,n,-1)),-1!=(g=this.g.Pa(l,h))&&(r.add(g),this.g.Ra(l,h,-1)),-1!==(l=s.get(o++))&&(p=c[2*(v=a.T(l,0))],v=c[2*v+1])}while(-1!=l&&p===u&&v===f);for(p=1==r.size&&2==e.size,g=v=-1,y=0,d=r.size;y<d;y++){b=r.get(y);var w=this.Mc.we(b);if(-1==w||r.hG(w)||(v=w),-1==(b=this.Mc.lb(b))||r.hG(b)||(g=b),-1!=v&&-1!=g)break}for(this.$d.$J(f,u),y=0,d=r.size;y<d;y++)b=r.get(y),this.Mc.vd(b,-1);if(r.clear(!1),!p&&-1!=v&&-1!=g&&this.qO(v,g)){i=!0,this.Ni=this.$d.rm();break}for(y=0,d=e.size;y<d;y+=2){if(f=e.get(y),u=e.get(y+1),p?(f=this.Mc.zu(v,g,f,!0),p=!1):f=this.Mc.addElement(f,-1),this.$d.rg){this.Ni=this.$d.rm(),i=!0;break}-1==this.g.Pa(u,n)?this.g.Ra(u,n,f):this.g.Ra(u,h,f)}if(i)break;e.Bh(0)}return this.g.Td(n),this.g.Td(h),i},i.prototype.qO=function(t,i){return this.$d.compare(this.Mc,this.Mc.ja(t),i),t=this.$d.rg,this.$d.Kr(),t},i.yE=function(i){for(var s=i.ld;-1!=s;s=i.ue(s))if(t.aa.Hc(i.ic(s)))return!0;return!1},i.fQ=function(t,s,n,h){return!!i.yE(t)&&((s=new i(h)).g=t,s.qa=n,15>t.fd?t=s.nP():s.oP())},i.V=function(t,s,n){return i.fQ(t,t.IF(),s,n)},i.kI=function(s,n,h,r,e){if(!i.yE(n))return!1;var o=new i(e);if(o.g=n,o.qa=h,o.cA=s,o.lI())return null!=r&&r.Wt(o.Ni),!0;var a=new t.Dd;return a.$B(),n.Oc(a),(o=new i(e)).g=n,o.qa=h,o.cA=s,s=o.lI(),a.$B(),n.Oc(a),!!s&&(null!=r&&r.Wt(o.Ni),!0)},i.Ml=function(t,i){return!(16>(t=t.I()))&&2*t+Math.log(t)*Math.LOG10E/Math.log(2)*i<1*t*i},i.lP=function(s,n,h,r){var e=n.getType();if(t.aa.Hc(e))return new i(r).mP(s,n,h);throw t.i.fa("crack_A_with_B")},i.prototype.mP=function(n,h,r){var e=new t.l;n.xc(e);var o=new t.l;if(h.xc(o),o.W(r,r),!o.isIntersecting(e))return n;var a=n.Bb,u=null;null!=a&&(u=a.Fb),i.Ml(n,n.I())&&(u=t.ta.jj(n,o));var f=null!=u?u.getIterator():null,c=h.Ga();h=n.Ga();var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=[];c.$a();)for(;c.Ha();){var p=c.ha();if(null!=u){for(f.Uo(p,r),a=f.next();-1!=a;a=f.next())if(this.Xq(),h.Vb(u.ja(a),-1),h.Ha()){var v=(a=h.ha()).Ea(p,null,l,null,r);for(a=0;a<v;++a){var y=l[a];if(0!=y&&1!=y){var d=h.wb(),b=new s;b.t=y,b.index=d,o.push(b)}}}}else{var g=new t.l;if(p.xc(g),g.W(r,r),e.isIntersecting(g))for(h.Zi();h.$a();)for(;h.Ha();)if(this.Xq(),a=h.ha(),y=new t.l,a.xc(y),y.isIntersecting(g))for(v=a.Ea(p,null,l,null,r),a=0;a<v;++a)0!=(y=l[a])&&1!=y&&(d=h.wb(),(b=new s).t=y,b.index=d,o.push(b))}}if(0==o.length)return n;for(o=o.sort(s.Ey),n=n.Ia(),h.Zi();h.$a()&&!h.Ha(););for(r=h.ha(),e=new t.ig,u=-1,a=0,f=o.length;a<f;){for(l=o[a].index,c=a+1;c<f&&o[c].index==l;)++c;for(;h.wb()<l;){if(this.Xq(),p=h.Ha(),y=h.gb,(g=p||!h.On()||h.Pn())&&n.oc(r,u!=y),u=y,!p)for(;h.$a()&&!h.Ha(););r=h.ha()}for(l=0;a<c;a++)(y=o[a].t)!=l&&(r.ah(l,y,e),l=y,y=h.gb,n.oc(e.get(),u!=y),u=y);if((g=(p=h.Ha())||!h.On()||h.Pn())&&(r.ah(l,1,e),n.oc(e.get(),!1)),p)r=h.ha();else{for(;h.$a()&&!h.Ha(););r=h.Ha()?h.ha():null}a=c}for(null!=r&&(y=h.gb,(g=(p=h.Ha())||!h.On()||h.Pn())&&n.oc(r,u!=y),u=y),p=h.Ha();;){if(!p){for(;h.$a()&&!(p=h.Ha()););if(!p)break}r=h.ha(),y=h.gb,(g=(p=h.Ha())||!h.On()||h.Pn())&&n.oc(r,u!=y),u=y}return n},i}();t.$t=i;var s=function(){function t(){}return t.Ey=function(t,i){return t.index==i.index?t.t>i.t?1:t.t<i.t?-1:0:t.index>i.index?1:-1},t}()}(Q||(Q={})),function(t){var i;(i=t.KK||(t.KK={}))[i.Left=0]="Left",i[i.Right=1]="Right",i[i.Coincident=2]="Coincident",i[i.Undefined=3]="Undefined",i[i.Uncut=4]="Uncut";var s=function(t,i,s,n,h,r,e,o,a,u,f){this.X=t,this.bt=i,this.Ns=s,this.tg=n,this.Lm=u,this.Al=f};t.uY=s;var n=function(){function i(t,i){this.JH=t,this.Hi=i}return i.prototype.qM=function(i,s){var n=new t.h;this.Hi.D(i,n);var h=new t.h;return this.Hi.D(s,h),0!=(n=n.compare(h))?n:(i=this.Hi.Pa(i,this.JH))<(s=this.Hi.Pa(s,this.JH))?-1:i==s?0:1},i}(),h=function(t,i,s,n,h,r,e,o,a){this.tg=t,this.Ns=i,this.OA=s,this.UH=n,this.Ei=h,this.Al=r,this.Lm=e,this.VH=o,this.OT=a};t.tY=h,t.LK=function(){function i(){}return i.JK=function(n,h,r,e,o,a){if(h.B())n=new s(h,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),o.push(n);else if(r.B())n=new s(h,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),o.push(n);else{var u=new t.gd;if(u.Ib(h),u.Ib(r),t.Tk.V(u,e,a,!0),0==u.fd)n=new s(h.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),o.push(n);else{for(h=0,r=u.Gd(),e=u.ld;-1!=e;e=u.ue(e))for(a=u.Ob(e);-1!=a;a=u.Rb(a))for(var f=u.Xa(a),c=0,l=u.Ja(a);c<l;f=u.U(f),c++)u.Ra(f,r,h++);h=i.HM(r,u),i.cM(n,h,u,o)}}},i.HM=function(s,h){for(var r=h.fd,e=new t.ia(0),o=h.ld;-1!=o;o=h.ue(o))for(var a=h.Ob(o);-1!=a;a=h.Rb(a))for(var u=h.Xa(a),f=0,c=h.Ja(a);f<c;u=h.U(u),f++)e.add(u);var l=new n(s,h);e.Vd(0,r,(function(t,i){return l.qM(t,i)})),s=[];var p=[],v=h.Gd(),y=h.Gd();o=h.ld,a=h.ue(o),c=new t.h;var d=new t.h,b=e.get(0),g=h.bd(b),w=h.Qf(g);h.D(b,c);var x=1;for(u=0;x<r-1;){var m=!1;for(f=x;f<r;f++)if(f!=u){var j=e.get(f),M=h.bd(j),k=h.Qf(M);if(h.D(j,d),!c.qb(d))break;w==o&&k==a&&(m=i.uM(v,y,h,s,p,g,b,M,j))}if(m||u==x-1){if(m&&u==x-1&&x--,++u==r)break;b=e.get(u),g=h.bd(b),w=h.Qf(g),h.D(b,c)}m||(x=u+1)}for(r=[],o=h.ld;-1!=o;o=h.ue(o))for(a=h.Ob(o);-1!=a;a=h.Rb(a))for(e=h.Xa(a),f=0,c=h.Ja(a);f<c;e=h.U(e),f++){if(0<=(u=h.Pa(e,y)))for(;u<p.length&&p[u].tg==e;)r.push(p[u++]);if(0<=(u=h.Pa(e,v)))for(;u<s.length&&s[u].tg==e;)r.push(s[u++])}return h.Td(v),h.Td(y),r},i.uM=function(t,s,n,h,r,e,o,a,u){var f=n.rj(e),c=n.rj(a),l=n.Xa(e),p=n.Xa(a),v=n.Ma(o),y=n.Ma(u),d=!1,b=!1,g=!1,w=!1;return o!=l&&(u!=p&&(d=i.vM(t,n,h,e,v,a,y)),u!=c&&(b=i.wM(t,n,h,e,v,a,u))),o!=f&&(u!=p&&(g=i.xM(s,n,r,e,o,a,y,l)),u!=c&&(w=i.yM(s,n,r,e,o,a,u,l))),d&&b&&g?(t=h.length-1,2==r[w?r.length-2:r.length-1].Ei&&(h[t-1]=h[t],--h.length)):d&&b&&w&&2==r[r.length-1].Ei&&(r=h[h.length-1],--h.length,n.Pa(r.tg,t)==h.length&&n.Ra(r.tg,t,-1)),d||b||g||w},i.vM=function(i,s,n,r,e,o,a){var u=new t.yb,f=new t.yb,c=[0,0],l=[0,0],p=s.bc(e);return null==p&&(s.ed(e,u),p=u),null==(u=s.bc(a))&&(s.ed(a,f),u=f),2>(p=p.Ea(u,null,c,l,0))&&(r=new h(e,r,c[0],NaN,p,a,o,l[0],NaN),n.push(r),0>(r=s.Pa(e,i))&&s.Ra(e,i,n.length-1)),!0},i.wM=function(i,s,n,r,e,o,a){var u=new t.yb,f=new t.yb,c=[0,0],l=[0,0],p=s.bc(e);return null==p&&(s.ed(e,u),p=u),null==(u=s.bc(a))&&(s.ed(a,f),u=f),2>(p=p.Ea(u,null,c,l,0))&&(r=new h(e,r,c[0],NaN,p,a,o,l[0],NaN),n.push(r),0>(r=s.Pa(e,i))&&s.Ra(e,i,n.length-1),!0)},i.xM=function(i,s,n,r,e,o,a,u){var f=new t.yb,c=new t.yb,l=[0,0],p=[0,0],v=s.bc(e);return null==v&&(s.ed(e,f),v=f),null==(f=s.bc(a))&&(s.ed(a,c),f=c),2==(v=v.Ea(f,null,l,p,0))?(r=new h(e,r,l[0],l[1],v,a,o,p[0],p[1]),n.push(r),0>(r=s.Pa(e,i))&&s.Ra(e,i,n.length-1),!0):(c=!1,e==u&&(r=new h(e,r,l[0],NaN,v,a,o,p[0],NaN),n.push(r),0>(r=s.Pa(e,i))&&s.Ra(e,i,n.length-1),c=!0),c)},i.yM=function(i,s,n,r,e,o,a,u){var f=new t.yb,c=new t.yb,l=[0,0],p=[0,0],v=s.bc(e);return null==v&&(s.ed(e,f),v=f),null==(f=s.bc(a))&&(s.ed(a,c),f=c),2==(v=v.Ea(f,null,l,p,0))?(r=new h(e,r,l[0],l[1],v,a,o,p[0],p[1]),n.push(r),0>(r=s.Pa(e,i))&&s.Ra(e,i,n.length-1),!0):(c=!1,e==u&&(r=new h(e,r,l[0],NaN,v,a,o,p[0],NaN),n.push(r),0>(r=s.Pa(e,i))&&s.Ra(e,i,n.length-1),c=!0),c)},i.cM=function(n,h,r,e){var o=[];o[0]=new t.h,o[1]=new t.h,o[2]=new t.h,o[3]=new t.h;var a=new t.h,u=new t.h,f=new t.h,c=new t.h,l=null;null!=e&&(l=new t.ig).Or();var p=0,v=null,y=new t.yb;new t.yb;for(var d=r.Ob(r.ld);-1!=d;d=r.Rb(d)){for(var b=4,g=-1,w=-1,x=-1,m=-1,j=NaN,M=!0,k=!1,z=!0,A=!0,N=!0,I=0,T=d,P=0,C=r.Xa(d),B=r.Ja(d),D=0;D<B;C=r.U(C),D++){var q=r.bc(C);if(null==q){if(!r.ed(C,y))continue;q=y}-1==w&&(w=C);for(var G=0;p<h.length&&C==h[p].tg;){g=h[p].Ns;var F=h[p].tg,E=h[p].OA,S=h[p].Lm,O=h[p].Al,H=h[p].VH;if(2==h[p].Ei){if(k||(T=g,w=F,P=E,x=S,m=O,j=H,b=2,null!=e?v=new t.Ta:I=0,N=!1,A=!0),E=h[p].UH,H=h[p].OT,null!=e?(q.ah(G,h[p].UH,l),v.oc(l.get(),A)):I++,G=E,k=!0,A=M=!1,p+1==h.length||2!=h[p+1].Ei||h[p+1].tg==F&&h[p+1].OA!=G){if(null!=e){var J=new s(v,2,g,F,E,b,T,w,P,S,O,H,x,m,j);e.push(J)}else null.add(I);T=g,w=F,P=E,x=S,m=O,j=H,b=2,k=M=!1,A=N=!0}}else{var R=r.U(F);if(p<h.length-1&&h[p+1].tg==R&&h[p+1].Al==O&&2==h[p+1].Ei)E!=G&&(N&&(null!=e?v=new t.Ta:I=0),M=0<p&&h[p-1].Ns==g?1==b?0:0==b?1:3:3,null!=e?(q.ah(G,E,l),v.oc(l.get(),A),J=new s(v,M,g,F,E,b,T,w,P,S,O,H,x,m,j),e.push(J)):(I++,null.add(I)),G=E,T=g,w=F,P=E,x=S,m=O,j=H,b=M,M=z=!1,A=N=!0);else if(!i.CM(n,r,h,p,a,u)){i.zM(r,h,p,d,C,f,c);var L=!1;if(R=!1,J=!0,!(a.qb(f)||u.qb(f)||a.qb(c)||u.qb(c))){o[0].L(a),o[1].L(u),o[2].L(f),o[3].L(c),o.sort(t.h.nu);var K=o[0],U=o[1],W=o[2],V=o[3];K.qb(a)?U.qb(u)?n?(R=L=!0,J=!1):L=!1:V.qb(u)?n?J=R=L=!0:L=!1:(L=!0,J=U.qb(f)):U.qb(a)?W.qb(u)?n?(R=L=!0,J=!1):L=!1:K.qb(u)?n?J=R=L=!0:L=!1:(L=!0,J=W.qb(f)):W.qb(a)?V.qb(u)?n?(R=L=!0,J=!1):L=!1:U.qb(u)?n?J=R=L=!0:L=!1:(L=!0,J=V.qb(f)):K.qb(u)?n?(R=L=!0,J=!1):L=!1:W.qb(u)?n?J=R=L=!0:L=!1:(L=!0,J=K.qb(f))}L&&(L=C==F,(E!=G||L&&0==G)&&(N&&(null!=e?v=new t.Ta:I=0),null!=e?(q.ah(G,E,l),v.oc(l.get(),A)):I++),J?1!=b?((E!=G||L&&0==G)&&(null!=e?(J=new s(v,1,g,F,E,b,T,w,P,S,O,H,x,m,j),e.push(J)):null.add(I)),R?(p>=h.length-2||h[p+2].Ns!=g)&&(b=0):b=1):((E!=G||L&&0==G)&&(null!=e?(J=new s(v,3,g,F,E,b,T,w,P,S,O,H,x,m,j),e.push(J)):null.add(I)),b=1):0!=b?((E!=G||L&&0==G)&&(null!=e?(J=new s(v,0,g,F,E,b,T,w,P,S,O,H,x,m,j),e.push(J)):null.add(I)),R?(p>=h.length-2||h[p+2].Ns!=g)&&(b=1):b=0):((E!=G||L&&0==G)&&(null!=e?(J=new s(v,3,g,F,E,b,T,w,P,S,O,H,x,m,j),e.push(J)):null.add(I)),b=0),(E!=G||L&&0==G)&&(G=E,T=g,w=F,P=E,x=S,m=O,j=H,M=z=!1,A=N=!0))}}p++}1!=G&&(N&&(null!=e?v=new t.Ta:I=0),null!=e?(q.ah(G,1,l),v.oc(l.get(),A)):I++,A=N=!1,z=!0)}z&&(E=1,F=r.rj(d),F=r.Ma(F),O=S=-1,H=NaN,M?null!=e?(J=new s(v,4,g,F,E,b,T,w,P,S,O,H,x,m,j),e.push(J)):null.add(I):(M=1==b?0:0==b?1:3,null!=e?(J=new s(v,M,g,F,E,b,T,w,P,S,O,H,x,m,j),e.push(J)):null.add(I)))}},i.CM=function(s,n,h,r,e,o){var a=h[r].VH;if(1==a)return i.AM(s,n,h,r,e,o);if(0==a)return i.BM(s,n,h,r,e,o);throw t.i.Qa()},i.AM=function(i,s,n,h,r,e){var o=new t.yb,a=n[h].tg,u=n[h].Lm,f=n[h].Al,c=-1,l=-1,p=-1,v=-1;if(!i&&0<h){var y=n[h-1];c=y.tg,l=y.Lm,p=y.Al,v=y.Ei}var d=-1,b=-1,g=-1,w=-1;h<n.length-1&&(d=(y=n[h+1]).tg,b=y.Lm,g=y.Al,w=y.Ei);var x=s.U(a);return y=s.U(f),i?h==n.length-1||d!=a||b!=u||g!=y||2==w?(null==(i=s.bc(f))&&(s.ed(f,o),i=o),e.L(i.kg()),r.mt(e),e.normalize(),r.normalize(),!1):(null==(i=s.bc(f))&&(s.ed(f,o),i=o),r.L(i.kg()),null==(i=s.bc(y))&&(s.ed(y,o),i=o),e.L(i.kg()),r.Sq(),e.normalize(),r.normalize(),!1):0<h&&c==a&&l==u&&p==y&&2==v||h<n.length-1&&d==x&&b==u&&g==y&&2==w?(null==(i=s.bc(f))&&(s.ed(f,o),i=o),e.L(i.kg()),r.mt(e),e.normalize(),r.normalize(),!1):!(h<n.length-1&&d==a&&b==u&&g==y)||(null==(i=s.bc(f))&&(s.ed(f,o),i=o),r.L(i.kg()),null==(i=s.bc(y))&&(s.ed(y,o),i=o),e.L(i.kg()),r.Sq(),e.normalize(),r.normalize(),!1)},i.BM=function(i,s,n,h,r,e){var o=new t.yb,a=n[h].tg,u=n[h].Lm,f=n[h].Al,c=-1,l=-1,p=-1,v=-1;if(!i&&h<n.length-1){var y=n[h+1];c=y.tg,l=y.Lm,p=y.Al,v=y.Ei}var d=-1,b=-1,g=-1;y=-1,0<h&&(d=(y=n[h-1]).tg,b=y.Lm,g=y.Al,y=y.Ei);var w=s.U(a),x=s.Ma(f);return i?0!=h&&d==a&&b==u&&g==x&&2!=y||(null==(i=s.bc(f))&&(s.ed(f,o),i=o),e.L(i.kg()),r.mt(e),e.normalize(),r.normalize(),!1):!(0<h&&d==a&&b==u&&g==x&&2==y||h<n.length-1&&c==w&&l==u&&p==x&&2==v)||(null==(i=s.bc(f))&&(s.ed(f,o),i=o),e.L(i.kg()),r.mt(e),e.normalize(),r.normalize(),!1)},i.zM=function(i,s,n,h,r,e,o){var a=new t.yb,u=i.bc(r);if(null==u&&(i.ed(r,a),u=a),s=(n=s[n]).tg,n=n.OA,r=i.U(s),1==n)e.L(u.kg()),-1!=r&&r!=i.rj(h)?(null==(u=i.bc(r))&&(i.ed(r,a),u=a),o.L(u.kg()),null==(u=i.bc(s))&&i.ed(s,a)):o.L(e),e.Sq(),o.normalize(),e.normalize();else{if(0!=n)throw t.i.Qa();o.L(u.kg()),e.mt(o),o.normalize(),e.normalize()}},i}()}(Q||(Q={})),function(t){var i;(i=t.bM||(t.bM={}))[i.Linear=0]="Linear",i[i.Angular=1]="Angular",i[i.Area=2]="Area";var s=function(){function i(t,i,s){this.od=i,this.ai=s,this.vA=t}return i.prototype.Nb=function(t){return t instanceof i&&this.ai===t.ai},i.aG=function(t){return 0!==t.od?null:-1===t.vA?new i(-1,2,t.ai*t.ai):i.Zg(o[t.vA])},i.Zg=function(t){return void 0===(t=e[t])?null:t},i.ZO=function(t,s,n){var h=null;if(null!=n)try{"EPSG"===n.values[0]&&(h=i.Zg(parseInt(n.values[1])))}catch(r){}return null===h&&(h=new i(-1,t,s)),h},i.prototype.Ec=function(){return this.vA},i.prototype.CF=function(i){if(i.od!=this.od)throw t.i.Hb();return this.ai/i.ai},i.Nh=function(t,i,s){return i.CF(s)*t},i.XE=function(t,i,s,n,h){for(s=s.CF(n),n=0;n<i;n++)h[n]=t[n]*s},i}();t.Tc=s;for(var n=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1.244521604938272e-7,109465,1e-12,109466,1e-18],h=[1031,4.84813681109536e-9,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],r=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],e=[],o=[],a=0;a<n.length;a+=2)e[n[a]]=new s(n[a],2,n[a+1]);for(n=null,a=0;a<h.length;a+=2)e[h[a]]=new s(h[a],1,h[a+1]);for(h=null,a=0;a<r.length;a+=3)e[r[a]]=new s(r[a],0,r[a+1]),o[r[a]]=r[a+2];r=null}(Q||(Q={})),function(t){var i=function(){function t(){this.xb=this.pb=0}return t.prototype.set=function(t,i){void 0!==i?(this.pb=t,this.xb=i):"number"==typeof t?(this.pb=t,this.xb=0):(this.pb=t.pb,this.xb=t.xb)},t.prototype.value=function(){return this.pb},t.prototype.add=function(t){var i=this.pb+t.pb;t=this.xb+t.xb+2220446049250313e-31*Math.abs(i),this.pb=i,this.xb=t},t.prototype.kN=function(){var t=this.pb+1,i=this.xb+2220446049250313e-31*Math.abs(t);this.pb=t,this.xb=i},t.prototype.dN=function(t,i){this.pb=t.pb+i.pb,this.xb=t.xb+i.xb+2220446049250313e-31*Math.abs(this.pb)},t.prototype.sub=function(t){if("number"==typeof t){var i=this.pb-t;t=this.xb+2220446049250313e-31*Math.abs(i)}else i=this.pb-t.pb,t=this.xb+t.xb+2220446049250313e-31*Math.abs(i);this.pb=i,this.xb=t},t.prototype.Ag=function(t){var i=this.pb*t.pb;this.xb=this.xb*Math.abs(t.pb)+t.xb*Math.abs(this.pb)+this.xb*t.xb+2220446049250313e-31*Math.abs(i),this.pb=i},t.prototype.No=function(t){var i=this.pb*t;this.xb=this.xb*Math.abs(t)+2220446049250313e-31*Math.abs(i),this.pb=i},t.prototype.Kl=function(t,i){var s=Math.abs(t.pb)*Math.abs(i.pb);this.xb=t.xb*Math.abs(i.pb)+i.xb*Math.abs(t.pb)+t.xb*i.xb+2220446049250313e-31*Math.abs(s),this.pb=s},t.prototype.jm=function(t){var i=Math.abs(t.pb),s=this.pb/t.pb,n=(this.xb+Math.abs(s)*t.xb)/i;t.xb>.01*i&&(n*=1+(1+(t=t.xb/i))*t),this.pb=s,this.xb=n+2220446049250313e-31*Math.abs(s)},t.prototype.sqrt=function(){if(0<=this.pb){var t=Math.sqrt(this.pb),i=this.pb>10*this.xb?.5*this.xb/t:this.pb>this.xb?t-Math.sqrt(this.pb-this.xb):Math.max(t,Math.sqrt(this.pb+this.xb)-t);i+=2220446049250313e-31*Math.abs(t)}else this.pb<-1*this.xb?i=t=NaN:(t=0,i=Math.sqrt(this.xb));this.pb=t,this.xb=i},t.prototype.sin=function(t){var i=Math.sin(t.pb),s=Math.cos(t.pb);this.pb=i,i=Math.abs(i),this.xb=(Math.abs(s)+.5*i*t.xb)*t.xb+2220446049250313e-31*i},t.prototype.cos=function(t){var i=Math.sin(t.pb),s=Math.cos(t.pb);this.pb=s,s=Math.abs(s),this.xb=(Math.abs(i)+.5*s*t.xb)*t.xb+2220446049250313e-31*s},t.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},t.prototype.ps=function(){return this.qg()&&0!=this.xb},t}();t.Wb=i}(Q||(Q={}));var tt=new Q.h,it=new Q.h,st=new Q.h,nt=new Q.h,ht=new Q.h;!function(t){var i,s;(s=i||(i={}))[s.closedPath=1]="closedPath",s[s.exteriorPath=2]="exteriorPath",s[s.ringAreaValid=4]="ringAreaValid";var n=function(){function i(t,i,s,n,h,r,e){void 0!==i?(this.ib=t,this.ck=i,this.bl=s,this.ii=n,this.ya=r,this.hA=e,this.ew=h):(this.ib=t.ib,this.ck=t.ck,this.bl=t.bl,this.ii=t.ii,this.ya=t.ya,this.hA=t.hA,this.ew=t.ew),this.bH=!0}return i.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):-1!=this.ii?(this.ii=this.ib.U(this.ii),this.ya++,-1!=this.ii&&this.ii!=this.ew?this.ii:this.$T()):-1},i.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;-1!=this.ck;){for(;-1!=this.bl;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),-1!=this.ii)return this.ii;if(this.ck=this.ib.ue(this.ck),-1==this.ck)break;this.hA&&!t.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},i.AP=function(t,s,n,h,r,e,o){return new i(t,s,n,h,r,e,o)},i}();t.zY=n,i=function(){function i(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return i.prototype.Sh=function(t){return null!=this.We?this.We[t]:null},i.prototype.Xg=function(t,i){if(null==this.We){if(null==i)return;this.We=[];for(var s=0,n=this.vb.I();s<n;s++)this.We.push(null)}this.We[t]=i},i.prototype.bp=function(t,i){this.md.S(t,1,i)},i.prototype.ap=function(t,i){this.md.S(t,2,i)},i.prototype.VB=function(t,i){this.md.S(t,6,i)},i.prototype.Sp=function(t){return this.md.T(t,6)},i.prototype.gx=function(t,i){this.md.S(t,7,i)},i.prototype.qv=function(t){return this.md.T(t,0)},i.prototype.OJ=function(t,i){this.cd.S(t,1,i)},i.prototype.SJ=function(t,i){this.cd.S(t,0,i)},i.prototype.JF=function(t){return this.cd.T(t,7)},i.prototype.Zo=function(t,i){this.cd.S(t,3,i)},i.prototype.$o=function(t,i){this.cd.S(t,4,i)},i.prototype.uU=function(i){null==this.cd&&(this.cd=new t.$c(8));var s=this.cd.Ce();return this.cd.S(s,2,i),this.cd.S(s,5,0),this.cd.S(s,6,0),this.cd.S(s,7,s),s},i.prototype.OQ=function(t){this.cd.jd(t)},i.prototype.wU=function(i){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0));var s=this.md.Ce();return this.md.S(s,0,s),this.md.S(s,3,0),this.md.S(s,6,0),this.gx(s,i),s>=this.Oi.size&&(i=16>s?16:t.O.truncate(3*s/2),this.Oi.resize(i),this.vo.resize(i)),this.Oi.set(s,0),this.vo.set(s,0),s},i.prototype.sF=function(t){this.md.jd(t)},i.prototype.Vy=function(t){this.td.jd(t),this.fd--},i.prototype.oI=function(i){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0));var s=this.td.Ce(),n=0<=i?i:s;if(this.td.S(s,0,n),0>i){if(n>=this.vb.I()){if(i=16>n?16:t.O.truncate(3*n/2),this.vb.resize(i),null!=this.We)for(var h=0;h<i;h++)this.We.push(null);null!=this.Sg&&this.Sg.resize(i),this.it=this.vb.ub(0)}this.vb.Cb(n,-1e38,-1e38),null!=this.We&&(this.We[n]=null),null!=this.Sg&&this.Sg.write(n,1)}return this.td.S(s,4,2*n),this.fd++,s},i.prototype.wj=function(t,i,s){var n=-1!=i?this.Ma(i):this.rj(t),h=-1!=n?this.U(n):-1,r=this.oI(null==s?this.fd:-1),e=this.Ua(r);return null!=s&&this.vb.Ht(e,s),this.aj(r,t),this.Bc(r,h),this.Cc(r,n),-1!=h&&this.Cc(h,r),-1!=n&&this.Bc(n,r),s=this.dc(t),n=this.Xa(t),-1==i&&this.Wg(t,r),i==n&&this.Jf(t,r),s&&-1==h&&(this.Bc(r,r),this.Cc(r,r)),this.Vj(t,this.Ja(t)+1),t=this.Qf(t),this.Tj(t,this.I(t)+1),r},i.prototype.nm=function(){return null==this.jo&&(this.jo=new t.Sa(this.vb.description)),this.jo},i.prototype.Yo=function(t,i){this.cd.S(t,2,-134217729&this.cd.T(t,2)||(1==i?134217728:0))},i.prototype.In=function(t){return 0!=(134217728&this.cd.T(t,2))?1:0},i.prototype.hN=function(t){var i=this.Ig(t.getType(),t.description);return 1736==t.getType()&&this.Yo(i,t.In()),this.UD(i,t),i},i.prototype.iN=function(t){var i=this.Ig(t.getType(),t.description);return this.VD(i,t),i},i.prototype.XV=function(i,s){null==this.md&&(this.md=new t.$c(8),this.td=new t.$c(5),this.Oi=new t.be(0),this.vo=new t.be(0)),this.md.De(this.md.Hg+i),this.td.De(this.td.Hg+s),this.Oi.Jb(this.Oi.size+i),this.vo.Jb(this.vo.size+i)},i.prototype.UD=function(i,s){this.XV(s.da(),s.I()),this.Il.Fd(s,0,s.I()),this.it=this.vb.ub(0);for(var n=null!=this.We&&null!=s.Ve,h=0,r=s.da();h<r;h++)if(!(2>s.Ja(h))){var e=this.vf(i,-1);this.kn(e,s.dc(h));for(var o=s.Ba(h),a=s.Vc(h);o<a;o++){var u=this.wj(e,-1,null);if(n)if(u=this.Ua(u),0!=(1&s.ZF(o)))this.Xg(u,null);else{var f=new t.ig;s.bc(o,f,!0),this.Xg(u,f.get())}}}},i.prototype.VD=function(t,i){this.Il.Fd(i,0,i.I()),this.it=this.vb.ub(0),t=this.vf(t,-1);var s=0;for(i=i.I();s<i;s++)this.wj(t,-1,null)},i.prototype.NX=function(i,s,n){var h=this.U(i);if(-1==h)throw t.i.Qa();for(var r=this.nm(),e=this.bd(i),o=0,a=s.ol(n);o<a;o++){var u=this.Ua(i),f=this.U(i),c=s.Vp(n,o);0==o&&(c.To(r),this.Dh(i,r)),322==c.getType()?this.Xg(u,null):this.Xg(u,t.aa.jg(c)),c.Po(r),o<a-1?i=this.wj(e,f,r):this.Dh(h,r)}},i.prototype.MX=function(i,s,n){var h=this.U(i);if(-1==h)throw t.i.Qa();for(var r=this.nm(),e=this.bd(i),o=0,a=s.ol(n);o<a;o++){var u=this.Ua(i),f=this.U(i),c=s.Vp(n,a-o-1);0==o&&(c.Po(r),this.Dh(i,r)),322==c.getType()?this.Xg(u,null):this.Xg(u,t.aa.jg(c)),c.To(r),o<a-1?i=this.wj(e,f,r):this.Dh(h,r)}},i.prototype.IF=function(){var i=new t.l;i.Oa();for(var s=this.Yq(),n=new t.h,h=!0,r=s.next();-1!=r;r=s.next())this.D(r,n),h?i.Zb(n.x,n.y):i.Lk(n.x,n.y),h=!1;return i},i.prototype.Ib=function(i){var s=i.getType();if(t.aa.Hc(s))return this.hN(i);if(550==s)return this.iN(i);throw t.i.Qa()},i.prototype.uN=function(i,s){var n=s.getType();if(t.aa.Hc(n))this.UD(i,s);else{if(550!=n)throw t.i.Qa();this.VD(i,s)}},i.prototype.mN=function(i,s){var n=this.Ig(1736,i.description);if(2>i.Ja(s))return n;this.Il.Fd(i,i.Ba(s),i.Vc(s)),this.it=this.vb.ub(0);var h=this.vf(n,-1);this.kn(h,i.dc(s)||!0);var r=null!=this.We&&null!=i.Ve,e=i.Ba(s);for(s=i.Vc(s);e<s;e++){var o=this.wj(h,-1,null);if(r)if(o=this.Ua(o),0!=(1&i.ZF(e)))this.Xg(o,null);else{var a=new t.ig;i.bc(e,a,!0),this.Xg(o,a.get())}}return n},i.prototype.Ne=function(i){var s=this.ic(i),n=t.ZK.Ig(s,this.Il.description),h=this.I(i);if(0==h)return n;if(t.aa.Hc(s)){s=this.da(i);for(var r=t.Yc.Oh(s+1),e=t.Yc.Mr(s+1,0),o=n.description,a=0,u=o.Aa;a<u;a++){for(var f=o.kd(a),c=t.ra.Va(f),l=t.Yc.YE(f,h),p=this.vb.ub(f),v=0,y=0,d=0,b=this.Ob(i);-1!=b;b=this.Rb(b)){var g=0;this.dc(b)&&(g|=1),this.YS(b)&&(g|=4),0!=g&&e.zJ(y,g);var w=this.Ja(b);if(r.write(y++,d),d+=w,0==f){w=p;var x=l,m=new t.h;for(g=this.Xa(b);v<d;g=this.U(g),v++){var j=this.Ua(g);w.tc(2*j,m),x.Tt(2*v,m)}}else for(g=this.Xa(b);v<d;g=this.U(g),v++)for(j=this.Ua(g),x=0;x<c;x++)m=p.eg(j*c+x),l.pr(v*c+x,m)}n.hn(f,l),r.write(s,h)}n.PJ(e),n.QJ(r),n.Pc(16777215)}else if(550==s){for(o=n.description,n.resize(h),a=0,u=o.Aa;a<u;a++){for(f=o.kd(a),c=t.ra.Va(f),l=n.ub(f),p=this.vb.ub(f),v=0,b=this.Ob(i),w=this.Ja(b),g=this.Xa(b);v<w;g=this.U(g),v++)for(j=this.Ua(g),x=0;x<c;x++)m=p.eg(j*c+x),l.pr(v*c+x,m);n.hn(f,l)}n.Pc(16777215)}return n},i.prototype.BB=function(t){for(var i=this.Ob(t);-1!=i;i=this.Zq(i));i=this.PR(t);var s=this.ue(t);-1!=i?this.OJ(i,s):this.ld=s,-1!=s?this.SJ(s,i):this.qw=i,this.OQ(t)},i.prototype.Ig=function(i,s){return void 0===s?this.$E(i,t.ee.og()):this.$E(i,s)},i.prototype.$E=function(i,s){return i=this.uU(i),null==this.vb?this.vb=this.Il=new t.de(s):this.Il.Jl(s),this.ht=this.Il.description,this.fA=1<this.ht.Aa,-1==this.ld?this.ld=i:(this.SJ(i,this.qw),this.OJ(this.qw,i)),this.qw=i},i.prototype.ue=function(t){return this.cd.T(t,1)},i.prototype.PR=function(t){return this.cd.T(t,0)},i.prototype.ic=function(t){return 2147483647&this.cd.T(t,2)},i.prototype.HJ=function(i,s,n){s=this.wk[s],(i=this.JF(i))>=s.size&&s.resize(Math.max(t.O.truncate(1.25*i),16),-1),s.write(i,n)},i.prototype.KF=function(t,i){return(t=this.JF(t))<(i=this.wk[i]).size?i.read(t):-1},i.prototype.aF=function(){null==this.wk&&(this.wk=[]);for(var i=0;i<this.wk.length;i++)if(null==this.wk[i])return this.wk[i]=t.Yc.Oh(0),i;return this.wk.push(t.Yc.Oh(0)),this.wk.length-1},i.prototype.xW=function(t){this.wk[t]=null},i.prototype.Ob=function(t){return this.cd.T(t,3)},i.prototype.kv=function(t){return this.cd.T(t,4)},i.prototype.I=function(t){return this.cd.T(t,5)},i.prototype.da=function(t){return this.cd.T(t,6)},i.prototype.Gp=function(i,s,n){for(var h=0,r=this.ld;-1!=r;r=this.ue(r)){var e=this.ic(r);if(t.aa.Hc(e)&&(!n||1736==e)){e=1736==this.ic(r);for(var o=this.Ob(r);-1!=o;){for(var a=0,u=this.Xa(o);a<t.O.truncate(this.Ja(o)/2);){var f=this.U(u);if(-1==f)break;var c=this.Ua(u),l=this.Sh(c);null!=l?c=l.Qb():(l=this.Ua(f),c=this.vb.yr(c,l)),c<=i?(0==c?0==h&&(h=-1):h=1,f!=this.rj(o)&&(this.lC(f,u),this.pd(f,!0))):u=this.U(u),a++}for(a=this.Xa(o),u=this.dc(o)?a:this.rj(o);0<this.Ja(o);){if(-1==(f=this.Ma(u))){this.pd(u,!0),0==h&&(h=-1);break}var p=this.Ua(f);if(null!=(l=this.Sh(p))?c=l.Qb():(c=this.Ua(u),c=this.vb.yr(c,p)),c<=i)0==c?0==h&&(h=-1):h=1,this.lC(f,u),this.pd(f,!1),a==f&&(a=this.Xa(o));else if((u=this.Ma(u))==a)break}u=this.Ja(o),s&&(e?3>u:2>u)?(o=this.Zq(o),h=0<u?1:0==h?-1:h):o=this.Rb(o)}}}return h},i.prototype.lC=function(t,i){var s=this.Ua(t),n=this.Ua(i);if(null!=this.Sg&&(s=this.Sg.read(s),this.Sg.write(n,s)),null!=this.bi)for(n=0,s=this.bi.length;n<s;n++)if(null!=this.bi[n]){var h=this.Pa(t,n);-1!=h&&this.Ra(i,n,h)}},i.prototype.Ul=function(i,s,n){var h=0,r=this.U(i);if(-1==r)throw t.i.Qa();for(var e=this.Ua(i),o=this.Ua(r),a=this.Sh(e),u=null==a?this.vb.yr(e,o):a.Qb(),f=0;f<n;f++){var c=s[f];if(0<c&&1>c){var l=c;null!=a&&(l=0<u?a.Ux(c)/u:0),this.vb.kD(e,o,l,this.nm());var p=this.wj(this.bd(i),r,this.nm());if(h++,null!=a){var v=a.dl(0,c);l=this.Ua(this.Ma(p)),this.Xg(l,v),this.mf(p,v.wc()),f!=n-1&&1!=s[f+1]||(c=a.dl(c,1),this.Xg(l,c))}}}return h},i.prototype.LX=function(i,s,n){var h=0,r=this.U(i);if(-1==r)throw t.i.fa("internal error");var e=this.Ua(i),o=this.Ua(r),a=this.Sh(e),u=null==a?this.vb.yr(e,o):a.Qb(),f=0;i=this.bd(i);for(var c=0;c<n;c++){var l=s[c];if(f<l&&1>l){var p=l;if(null!=a&&(p=0<u?a.Ux(l)/u:0),this.vb.kD(e,o,p,this.nm()),p=this.yS(i,r,this.nm()),h++,null!=a){f=a.dl(f,l);var v=this.Ua(this.Ma(p));this.Xg(v,f),this.Cb(p,f.pa,f.la),c!=n-1&&1!=s[c+1]||(f=a.dl(l,1),p=this.Ua(p),this.Xg(p,f))}}f=l}return h},i.prototype.yS=function(t,i,s){var n=-1!=i?this.Ma(i):this.rj(t),h=-1!=n?this.U(n):-1,r=this.oI(null==s?this.fd:-1),e=this.Ua(r);return null!=s&&this.vb.Ht(e,s),this.aj(r,t),this.Bc(r,h),this.Cc(r,n),-1!=h&&this.Cc(h,r),-1!=n&&this.Bc(n,r),s=this.dc(t),n=this.Xa(t),-1==i&&this.Wg(t,r),i==n&&(s&&-1!=n||this.Jf(t,r)),s&&-1==h&&(this.Bc(r,r),this.Cc(r,r)),this.Vj(t,this.Ja(t)+1),t=this.Qf(t),this.Tj(t,this.I(t)+1),r},i.prototype.uE=function(i,s,n){var h=this.Ua(s),r=this.Ua(n);if(0>h||r>this.fd-1)throw t.i.N("invalid call");if(h>r&&!this.dc(i))throw t.i.N("cannot iterate across an open path");for(i=0;s!=n;s=this.U(s))h=this.Ua(s),null!=(r=this.Sh(h))?i+=r.Qb():(r=this.Ua(this.U(s)),i+=this.vb.yr(h,r));return i},i.prototype.Dh=function(t,i){var s=this.Ua(t);this.vb.Ht(s,i),null!=(s=this.Sh(s))&&s.setStart(i),-1!=(t=this.Ma(t))&&(t=this.Ua(t),null!=this.Sh(t)&&s.setEnd(i))},i.prototype.Vi=function(t,i){t=this.Ua(t),this.vb.ve(t,i)},i.prototype.mf=function(t,i){this.Cb(t,i.x,i.y)},i.prototype.Cb=function(t,i,s){var n=this.Ua(t);this.vb.Cb(n,i,s),null!=(n=this.Sh(n))&&n.ZB(i,s),-1!=(t=this.Ma(t))&&(t=this.Ua(t),null!=this.Sh(t)&&n.Ql(i,s))},i.prototype.D=function(t,i){this.vb.D(this.td.T(t,0),i)},i.prototype.Gc=function(t,i){this.vb.za[0].tc(2*this.td.T(t,0),i)},i.prototype.Na=function(i){var s=new t.h;return this.vb.D(this.td.T(i,0),s),s},i.prototype.dG=function(t,i){this.it.tc(2*t,i)},i.prototype.Uc=function(t,i,s){return this.vb.Uc(t,this.Ua(i),s)},i.prototype.setAttribute=function(t,i,s,n){this.vb.setAttribute(t,this.Ua(i),s,n)},i.prototype.Ua=function(t){return this.td.T(t,0)},i.prototype.ih=function(){var i=new t.h;return this.D(void 0,i),i.y},i.prototype.fq=function(t,i){t=this.Ua(t),i=this.Ua(i);var s=this.vb.za[0].o;return s[2*t]===s[2*i]&&s[2*t+1]===s[2*i+1]},i.prototype.Dv=function(t,i){t=this.Ua(t);var s=this.vb.za[0].o;return s[2*t]===i.x&&s[2*t+1]===i.y},i.prototype.vX=function(i,s){if(1>s&&(s=1),null==this.Sg){if(1==s)return;this.Sg=t.Yc.Dn(this.vb.I(),1)}(i=this.Ua(i))>=this.Sg.size&&this.Sg.resize(i+1,1),this.Sg.write(i,s)},i.prototype.cG=function(t){return t=this.Ua(t),null==this.Sg||t>=this.Sg.size?1:this.Sg.read(t)},i.prototype.Ra=function(t,i,s){i=this.bi[i],t=this.Ua(t),i.size<this.vb.I()&&i.resize(this.vb.I(),-1),i.write(t,s)},i.prototype.Pa=function(t,i){return(t=this.Ua(t))<(i=this.bi[i]).size?i.read(t):-1},i.prototype.Gd=function(){null==this.bi&&(this.bi=[]);for(var i=0;i<this.bi.length;i++)if(null==this.bi[i])return this.bi[i]=t.Yc.Oh(0,-1),i;return this.bi.push(t.Yc.Oh(0,-1)),this.bi.length-1},i.prototype.Td=function(t){this.bi[t]=null},i.prototype.bc=function(t){return null!=this.We?(t=this.Ua(t),this.We[t]):null},i.prototype.ed=function(i,s){var n=this.td.T(i,2);if(-1==n)return!1;if(this.fA){var h=new t.Sa;this.Vi(i,h),s.setStart(h),this.Vi(n,h),s.setEnd(h)}else this.vb.Gc(this.td.T(i,0),tt),s.em(0,tt),this.vb.Gc(this.td.T(n,0),tt),s.em(1,tt);return!0},i.prototype.mW=function(i,s,n){if(this.fA){var h=new t.Sa;this.Vi(i,h),n.setStart(h),this.Vi(s,h),n.setEnd(h)}else this.vb.Gc(i,tt),n.em(0,tt),this.vb.Gc(s,tt),n.em(1,tt)},i.prototype.vf=function(i,s){if(-1!=s){if(i!=this.Qf(s))throw t.i.Qa();var n=this.cs(s)}else n=this.kv(i);var h=this.wU(i);return-1!=s&&this.bp(s,h),this.ap(h,s),this.bp(h,n),-1!=n?this.ap(n,h):this.Zo(i,h),-1==s&&this.$o(i,h),this.Rl(i,this.da(i)+1),h},i.prototype.nG=function(t,i,s,n){t=this.vf(t,-1);for(var h=0,r=i,e=!1;r==s&&(e=!0),this.aj(r,t),h++,(r=this.U(r))!=i;);return this.kn(t,!0),this.Vj(t,h),e&&(i=s),this.Jf(t,i),this.Wg(t,this.Ma(i)),this.cp(t,!1),null!=n&&(n[0]=e),t},i.prototype.Zq=function(t){var i=this.cs(t),s=this.Rb(t),n=this.Qf(t);return-1!=i?this.ap(i,s):this.Zo(n,s),-1!=s?this.bp(s,i):this.$o(n,i),this.AO(t),this.Rl(n,this.da(n)-1),this.sF(t),s},i.prototype.AO=function(t){var i=this.Xa(t);if(-1!=i){for(var s=0,n=this.Ja(t);s<n;s++){var h=i;i=this.U(i),this.Vy(h)}i=this.Qf(t),this.Tj(i,this.I(i)-this.Ja(t))}this.Vj(t,0)},i.prototype.Rb=function(t){return this.md.T(t,2)},i.prototype.cs=function(t){return this.md.T(t,1)},i.prototype.Ja=function(t){return this.md.T(t,3)},i.prototype.dc=function(t){return 0!=(1&this.Sp(t))},i.prototype.kn=function(t,i){if(this.dc(t)!=i){if(0<this.Ja(t)){var s=this.Xa(t),n=this.rj(t);i?(this.Bc(n,s),this.Cc(s,n),s=this.Ua(n)):(this.Bc(n,-1),this.Cc(s,-1),s=this.Ua(n)),this.Xg(s,null)}this.VB(t,(1|this.Sp(t))-1|(i?1:0))}},i.prototype.Qf=function(t){return this.md.T(t,7)},i.prototype.YS=function(t){return 0!=(2&this.Sp(t))},i.prototype.PB=function(t,i){this.VB(t,(2|this.Sp(t))-2|(i?2:0))},i.prototype.wz=function(i){if(this.cT(i))return this.Oi.get(this.qv(i));var s=new t.yb,n=this.Xa(i);if(-1==n)return 0;var h=new t.h;this.D(n,h);for(var r=0,e=0,o=this.Ja(i);e<o;e++,n=this.U(n)){var a=this.bc(n);if(null==a){if(!this.ed(n,s))continue;a=s}r+=a.Tx(h.x,h.y)}return this.cp(i,!0),this.Oi.set(this.qv(i),r),r},i.prototype.gr=function(t,i,s){i=this.Ck[i],t=this.qv(t),i.size<this.Oi.size&&i.resize(this.Oi.size,-1),i.write(t,s)},i.prototype.sj=function(t,i){return(t=this.qv(t))<(i=this.Ck[i]).size?i.read(t):-1},i.prototype.Ky=function(){null==this.Ck&&(this.Ck=[]);for(var i=0;i<this.Ck.length;i++)if(null==this.Ck[i])return this.Ck[i]=t.Yc.Oh(0),i;return this.Ck.push(t.Yc.Oh(0)),this.Ck.length-1},i.prototype.CB=function(t){this.Ck[t]=null},i.prototype.ZT=function(i,s,n){if(-1==n)throw t.i.N();if(s!=n){var h=this.Rb(n),r=this.cs(n),e=this.Qf(n);-1==r?this.Zo(e,h):this.ap(r,h),-1==h?this.$o(e,r):this.bp(h,r),this.Tj(e,this.I(e)-this.Ja(n)),this.Rl(e,this.da(e)-1),r=-1==s?this.kv(i):this.cs(s),this.bp(n,r),this.ap(n,s),-1==s?this.$o(i,n):this.bp(s,n),-1==r?this.Zo(i,n):this.ap(r,n),this.Tj(i,this.I(i)+this.Ja(n)),this.Rl(i,this.da(i)+1),this.gx(n,i)}},i.prototype.ij=function(t,i){this.vb.ve(this.Ua(i),this.nm()),this.wj(t,-1,this.nm())},i.prototype.pd=function(i,s){var n=this.bd(i),h=this.Ma(i),r=this.U(i);-1!=h&&this.Bc(h,r);var e=this.Ja(n);if(i==this.Xa(n)&&this.Jf(n,1<e?r:-1),-1!=r&&this.Cc(r,h),i==this.rj(n)&&this.Wg(n,1<e?h:-1),-1!=h&&-1!=r){h=this.Ua(h);var o=this.Ua(r);s?null!=(s=this.Sh(h))&&(h=new t.h,this.vb.D(o,h),s.Qc(h)):(o=this.Ua(i),s=this.Sh(o),this.Xg(h,s),null!=s&&(h=this.vb.Na(h),s.Dc(h)))}return this.Vj(n,e-1),n=this.Qf(n),this.Tj(n,this.I(n)-1),this.Vy(i),r},i.prototype.Xa=function(t){return this.md.T(t,4)},i.prototype.rj=function(t){return this.md.T(t,5)},i.prototype.U=function(t){return this.td.T(t,2)},i.prototype.Ma=function(t){return this.td.T(t,1)},i.prototype.bd=function(t){return this.td.T(t,3)},i.prototype.fc=function(t,i){return this.wj(t,-1,i)},i.prototype.Yq=function(i){if(void 0===i)return this.Yq(!1);if(i instanceof n)return new n(i);var s,h=-1,r=-1,e=-1,o=0,a=!1;for(s=this.ld;-1!=s;s=this.ue(s))if(!i||t.aa.Hc(this.ic(s))){for(h=this.Ob(s);-1!=h;h=this.Rb(h))if(e=r=this.Xa(h),o=0,-1!=r){a=!0;break}if(a)break}return n.AP(this,s,h,r,e,o,i)},i.prototype.Oc=function(t){if(this.Il.Oc(t),null!=this.We)for(var i=0,s=this.We.length;i<s;i++)null!=this.We[i]&&this.We[i].Oc(t)},i.prototype.jr=function(t,i,s,n){n?this.NX(t,i,s):this.MX(t,i,s)},i.prototype.Cc=function(t,i){this.td.S(t,1,i)},i.prototype.Bc=function(t,i){this.td.S(t,2,i)},i.prototype.aj=function(t,i){this.td.S(t,3,i)},i.prototype.Vj=function(t,i){this.md.S(t,3,i)},i.prototype.Jf=function(t,i){this.md.S(t,4,i)},i.prototype.Wg=function(t,i){this.md.S(t,5,i)},i.prototype.Rl=function(t,i){this.cd.S(t,6,i)},i.prototype.Tj=function(t,i){this.cd.S(t,5,i)},i.prototype.pJ=function(t){var i=t;do{var s=this.U(i);this.Bc(i,this.Ma(i)),this.Cc(i,s),i=s}while(i!=t)},i.prototype.bC=function(t){this.fd=t},i.prototype.$q=function(t){var i=this.cs(t),s=this.Rb(t),n=this.Qf(t);-1!=i?this.ap(i,s):this.Zo(n,s),-1!=s?this.bp(s,i):this.$o(n,i),this.Jf(t,-1),this.Wg(t,-1),this.sF(t)},i.prototype.mi=function(i,s){var n=this.Ma(i),h=this.U(i);if(-1!=n&&this.Bc(n,h),-1!=h&&this.Cc(h,n),-1!=n&&-1!=h)if(n=this.Ua(n),h=this.Ua(h),s){if(null!=(s=this.Sh(n))){var r=new t.h;this.vb.D(h,r),s.Qc(r)}}else s=this.Ua(i),s=this.Sh(s),this.Xg(n,s),null!=s&&(r=new t.h,this.vb.D(n,r),s.Dc(r));this.Vy(i)},i.prototype.cT=function(t){return 0!=(4&this.Sp(t))},i.prototype.cp=function(t,i){this.VB(t,(4|this.Sp(t))-4|(i?4:0))},i.prototype.nx=function(t,i){var s=this.td.o;this.vb.mc();var n=this.vb.za[0].o;t.Vd(0,i,(function(t,i){var h=s[5*t];t=s[5*i],i=n[2*h],h=n[2*h+1];var r=n[2*t];return h<(t=n[2*t+1])?-1:h>t?1:i<r?-1:i>r?1:0}))},i.prototype.jS=function(){for(var i=this.ld;-1!=i;i=this.ue(i))if(!t.aa.Hc(this.ic(i)))return!0;return!1},i.prototype.hC=function(t,i){for(var s=this.Ob(t),n=this.Ob(i),h=this.kv(t),r=this.kv(i),e=this.Ob(t);-1!=e;e=this.Rb(e))this.gx(e,i);for(e=this.Ob(i);-1!=e;e=this.Rb(e))this.gx(e,t);this.Zo(t,n),this.Zo(i,s),this.$o(t,r),this.$o(i,h),s=this.I(t),n=this.da(t),h=this.da(i),this.Tj(t,this.I(i)),this.Tj(i,s),this.Rl(t,h),this.Rl(i,n),s=this.cd.T(t,2),this.cd.S(t,2,this.cd.T(i,2)),this.cd.S(i,2,s)},i}(),t.gd=i}(Q||(Q={})),function(t){var i=function(i){function s(s,n,h,r){var e=i.call(this)||this;return e.$=new t.l,void 0===s?e.UE():"number"==typeof s?e.VO(s,n,h,r):s instanceof t.Sa?void 0!==n?e.Qu(s,n,h):e.WO(s):s instanceof t.ra?void 0!==n?e.YO(s,n):e.XO(s):s instanceof t.l?e.UO(s):e.UE(),e}return _(s,i),s.prototype.Qu=function(i,s,n){this.description=t.ee.og(),this.$.Oa(),i.B()||this.tu(i,s,n)},s.prototype.UO=function(i){this.description=t.ee.og(),this.$.K(i),this.$.normalize()},s.prototype.XO=function(i){if(null==i)throw t.i.N();this.description=i,this.$.Oa()},s.prototype.YO=function(i,s){if(null==i)throw t.i.N();this.description=i,this.$.K(s),this.$.normalize()},s.prototype.UE=function(){this.description=t.ee.og(),this.$.Oa()},s.prototype.WO=function(i){this.description=t.ee.og(),this.$.Oa(),i.B()||this.tu(i)},s.prototype.VO=function(i,s,n,h){this.description=t.ee.og(),this.K(i,s,n,h)},s.prototype.K=function(t,i,s,n){if(this.vc(),"number"==typeof t)this.$.K(t,i,s,n);else for(this.Oa(),i=0,s=t.length;i<s;i++)this.Zb(t[i])},s.prototype.Xo=function(i){if(this.vc(),!i.fT())throw t.i.N();this.$.K(i)},s.prototype.Oa=function(){this.vc(),this.$.Oa()},s.prototype.B=function(){return this.$.B()},s.prototype.R=function(){return this.$.R()},s.prototype.ca=function(){return this.$.ca()},s.prototype.gk=function(){return this.$.gk()},s.prototype.Jp=function(){return this.$.Jp()},s.prototype.Ip=function(){return this.$.sf()},s.prototype.Zb=function(i){if(i instanceof t.h)this.vc(),this.$.Zb(i);else if(i instanceof t.l)this.vc(),this.$.Zb(i);else if(i instanceof t.Sa){if(this.vc(),!i.Ac()){var n=i.description;if(this.description!=n&&this.Jl(n),this.B())this.tu(i);else{this.$.Zb(i.D());for(var h=1,r=n.Aa;h<r;h++)for(var e=n.Ed(h),o=t.ra.Va(e),a=0;a<o;a++){var u=i.Uc(e,a),f=this.Tg(e,a);f.Zb(u),this.setInterval(e,a,f)}}}}else if(i instanceof s&&!i.B())for((n=i.description)!=this.description&&this.Jl(n),this.$.Zb(i.$),h=1,r=n.Aa;h<r;h++)for(e=n.kd(h),o=t.ra.Va(e),a=0;a<o;a++)u=i.Tg(e,a),(f=this.Tg(e,a)).Zb(u),this.setInterval(e,a,f)},s.prototype.tu=function(i,s,n){if(void 0!==s){this.$.K(i.D(),s,n),n=1;for(var h=(s=i.description).Aa;n<h;n++)for(var r=s.Ed(n),e=t.ra.Va(r),o=0;o<e;o++){var a=i.Uc(r,o);this.setInterval(r,o,a,a)}}else for(this.$.K(i.ka[0],i.ka[1]),n=1,h=(s=i.description).Aa;n<h;n++)for(r=s.Ed(n),e=t.ra.Va(r),o=0;o<e;o++)a=i.Uc(r,o),this.setInterval(r,o,a,a)},s.prototype.setInterval=function(i,s,n,h){if(n="number"==typeof n?new t.Nc(n,h):n,this.vc(),0==i)if(0==s)this.$.v=n.oa,this.$.C=n.va;else{if(1!=s)throw t.i.ce();this.$.G=n.oa,this.$.H=n.va}else this.vD(0,i,s,n.oa),this.vD(1,i,s,n.va)},s.prototype.W=function(t,i){this.vc(),this.$.W(t,i)},s.prototype.Oc=function(i){if(i instanceof t.Dd)this.vc(),i.mC(this.$);else if(this.vc(),!this.$.B()){var s=new t.OK;this.Qo(s),s.XS()?s.Oa():i.mC(s)}},s.prototype.copyTo=function(i){if(i.getType()!=this.getType())throw t.i.N();if(i.vc(),i.description=this.description,i.$.K(this.$),i.ka=null,null!=this.ka){i.ou();for(var s=0;s<2*(this.description.Ae.length-2);s++)i.ka[s]=this.ka[s]}},s.prototype.Ia=function(){return new s(this.description)},s.prototype.Ke=function(){return this.$.wF()},s.prototype.Qb=function(){return this.$.yR()},s.prototype.getType=function(){return 197},s.prototype.Db=function(){return 2},s.prototype.bn=function(t){this.copyTo(t)},s.prototype.A=function(t){t.v=this.$.v,t.G=this.$.G,t.C=this.$.C,t.H=this.$.H},s.prototype.Qo=function(t){t.v=this.$.v,t.G=this.$.G,t.C=this.$.C,t.H=this.$.H,t.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},s.prototype.Tg=function(i,s){var n=new t.Nc;return n.K(this.Od(0,i,s),this.Od(1,i,s)),n},s.prototype.Hf=function(i,s){s.Nf(this.description);var n=this.description.Aa-1;switch(i){case 0:for(i=0;i<n;i++)for(var h=this.description.kd(i),r=t.ra.Va(h),e=0;e<r;e++)s.setAttribute(h,e,this.Od(0,h,e));s.Cb(this.$.v,this.$.G);break;case 1:for(i=0;i<n;i++)for(h=this.description.kd(i),r=t.ra.Va(h),e=0;e<r;e++)s.setAttribute(h,e,this.Od(1,h,e));s.Cb(this.$.v,this.$.H);break;case 2:for(i=0;i<n;i++)for(h=this.description.kd(i),r=t.ra.Va(h),e=0;e<r;e++)s.setAttribute(h,e,this.Od(0,h,e));s.Cb(this.$.C,this.$.H);break;case 3:for(i=0;i<n;i++)for(h=this.description.kd(i),r=t.ra.Va(h),e=0;e<r;e++)s.setAttribute(h,e,this.Od(1,h,e));s.Cb(this.$.C,this.$.G);break;default:throw t.i.ce()}},s.prototype.mB=function(t,i){t=this.$.mB(t),i.ma(t.x,t.y)},s.prototype.kR=function(t,i){return i*(t.Oq-2)},s.prototype.xF=function(i,s,n){if(this.$.B())throw t.i.fa("empty geometry");if(0==s)return 0!=i?0!=n?this.$.H:this.$.C:0!=n?this.$.G:this.$.v;if(n>=t.ra.Va(s))throw t.i.N();var h=this.description.Pf(s);return this.ou(),0<=h?this.ka[this.kR(this.description,i)+this.description.LR(h)-2+n]:t.ra.se(s)},s.prototype.ou=function(){if(this.vc(),null==this.ka&&2<this.description.Ae.length){this.ka=[];for(var i=s.Gg(this.description,0),n=s.Gg(this.description,1),h=0,r=1,e=this.description.Aa;r<e;r++){var o=this.description.kd(r),a=t.ra.Va(o);o=t.ra.se(o);for(var u=0;u<a;u++)this.ka[i+h]=o,this.ka[n+h]=o,h++}}},s.prototype.sn=function(i){if(null!=this.ka)if(2<i.Ae.length){for(var n=t.ee.Iw(i,this.description),h=[],r=s.Gg(this.description,0),e=s.Gg(this.description,1),o=s.Gg(i,0),a=s.Gg(i,1),u=0,f=1,c=i.Aa;f<c;f++){var l=i.kd(f),p=t.ra.Va(l);if(-1==n[f]){var v=t.ra.se(l);for(l=0;l<p;l++)h[o+u]=v,h[a+u]=v,u++}else for(v=this.description.$j(n[f])-2,l=0;l<p;l++)h[o+u]=this.ka[r+v],h[a+u]=this.ka[e+v],u++,v++}this.ka=h}else this.ka=null;this.description=i},s.prototype.Od=function(i,n,h){if(this.$.B())throw t.i.fa("This operation was performed on an Empty Geometry.");if(0==n)return 0!=i?0!=h?this.$.H:this.$.C:0!=h?this.$.G:this.$.v;if(h>=t.ra.Va(n))throw t.i.ce();var r=this.description.Pf(n);return 0<=r?(this.ou(),this.ka[s.Gg(this.description,i)+this.description.$j(r)-2+h]):t.ra.se(n)},s.prototype.vD=function(i,n,h,r){if(this.vc(),0==n)0!=i?0!=h?this.$.H=r:this.$.C=r:0!=h?this.$.G=r:this.$.v=r;else{if(h>=t.ra.Va(n))throw t.i.ce();if(!this.hasAttribute(n)){if(t.ra.DG(n,r))return;this.re(n)}n=this.description.Pf(n),this.ou(),this.ka[s.Gg(this.description,i)+this.description.$j(n)-2+h]=r}},s.Gg=function(t,i){return i*(t.Ae.length-2)},s.prototype.Ea=function(i){this.vc();var s=new t.l;return i.A(s),this.$.Ea(s)},s.prototype.isIntersecting=function(i){return i instanceof t.l?this.$.isIntersecting(i):this.$.isIntersecting(i.$)},s.prototype.Ju=function(t,i){this.vc(),t.B()?this.Oa():void 0!==i?this.tu(t,i):this.$.Ju(t.Lg(),t.ih())},s.prototype.offset=function(t,i){this.vc(),this.$.offset(t,i)},s.prototype.normalize=function(){this.vc(),this.$.normalize()},s.prototype.sf=function(i){if(void 0===i){if(i=new t.Sa(this.description),this.B())return i;for(s=this.description.Aa,n=1;n<s;n++)for(h=this.description.Ed(n),r=t.ra.Va(h),e=0;e<r;e++)o=.5*(this.Od(0,h,e)+this.Od(1,h,e)),i.setAttribute(h,e,o);return i.Cb(this.$.gk(),this.$.Jp()),i}if(i.Nf(this.description),this.B())i.Oa();else{for(var s=this.description.Aa,n=1;n<s;n++)for(var h=this.description.kd(n),r=t.ra.Va(h),e=0;e<r;e++){var o=.5*(this.xF(0,h,e)+this.xF(1,h,e));i.setAttribute(h,e,o)}i.Cb(this.$.sf())}},s.prototype.mz=function(){return new t.Sa(this.$.mz())},s.prototype.contains=function(i){return i instanceof t.Sa?!i.B()&&this.$.contains(i.Lg(),i.ih()):this.$.contains(i.$)},s.prototype.dP=function(t){return this.$.contains(t)},s.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof s)||this.description!=t.description)return!1;if(this.B())return!!t.B();if(!this.$.Nb(t.$))return!1;for(var i=0,n=2*(this.description.Ae.length-2);i<n;i++)if(this.ka[i]!=t.ka[i])return!1;return!0},s.prototype.cc=function(){var i=this.description.cc();if(i=t.O.Th(i,this.$.cc()),!this.B()&&null!=this.ka)for(var s=0,n=2*(this.description.Ae.length-2);s<n;s++)i=t.O.Th(i,this.ka[s]);return i},s.prototype.es=function(){return this.$.v},s.prototype.gs=function(){return this.$.G},s.prototype.ds=function(){return this.$.C},s.prototype.fs=function(){return this.$.H},s.prototype.mg=function(){return t.pi.gm(this,null)},s.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},s}(t.aa);t.Fh=i}(Q||(Q={})),function(t){var i=function(){function i(t,i,s,n){void 0===t?this.Oa():(this.v=t,this.G=i,this.C=s,this.H=n)}return i.construct=function(t,s,n,h){var r=new i;return r.v=t,r.G=s,r.C=n,r.H=h,r},i.prototype.K=function(s,n,h,r){"number"==typeof s?void 0!==h?(this.v=s,this.G=n,this.C=h,this.H=r,this.normalize()):(this.v=s,this.G=n,this.C=s,this.H=n):s instanceof t.h?void 0!==n?(this.v=s.x-.5*n,this.C=this.v+n,this.G=s.y-.5*h,this.H=this.G+h,this.normalize()):(this.v=s.x,this.G=s.y,this.C=s.x,this.H=s.y):s instanceof i?this.K(s.v,s.G,s.C,s.H):s instanceof t.Nc&&(s.B()||n.B()?this.Oa():(this.v=s.oa,this.C=s.va,this.G=n.oa,this.H=n.va))},i.prototype.Zw=function(t,i){if(void 0!==i)if(0==i)this.Oa();else{this.v=t[0].x,this.G=t[0].y,this.C=this.v,this.H=this.G;for(var s=1;s<i;s++){var n=t[s];n.x<this.v?this.v=n.x:n.x>this.C&&(this.C=n.x),n.y<this.G?this.G=n.y:n.y>this.H&&(this.H=n.y)}}else if(null==t||0==t.length)this.Oa();else for(n=t[0],this.K(n.x,n.y),s=1;s<t.length;s++)i=t[s],this.Lk(i.x,i.y)},i.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},i.prototype.B=function(){return isNaN(this.v)},i.prototype.Zb=function(s,n){"number"==typeof s?this.B()?(this.v=s,this.G=n,this.C=s,this.H=n):(this.v>s?this.v=s:this.C<s&&(this.C=s),this.G>n?this.G=n:this.H<n&&(this.H=n)):s instanceof t.h||s instanceof t.Nd?this.Zb(s.x,s.y):s instanceof i&&!s.B()&&(this.Zb(s.v,s.G),this.Zb(s.C,s.H))},i.prototype.Lk=function(t,i){this.v>t?this.v=t:this.C<t&&(this.C=t),this.G>i?this.G=i:this.H<i&&(this.H=i)},i.prototype.W=function(t,i){this.B()||(this.v-=t,this.C+=t,this.G-=i,this.H+=i,(this.v>this.C||this.G>this.H)&&this.Oa())},i.prototype.scale=function(t){0>t&&this.Oa(),this.B()||(this.v*=t,this.C*=t,this.G*=t,this.H*=t)},i.prototype.zoom=function(t,i){this.B()||this.K(this.sf(),t*this.R(),i*this.ca())},i.prototype.isIntersecting=function(t){return!this.B()&&!t.B()&&(this.v<=t.v?this.C>=t.v:t.C>=this.v)&&(this.G<=t.G?this.H>=t.G:t.H>=this.G)},i.prototype.HG=function(t){return(this.v<=t.v?this.C>=t.v:t.C>=this.v)&&(this.G<=t.G?this.H>=t.G:t.H>=this.G)},i.prototype.Ea=function(t){return!this.B()&&!t.B()&&(t.v>this.v&&(this.v=t.v),t.C<this.C&&(this.C=t.C),t.G>this.G&&(this.G=t.G),t.H<this.H&&(this.H=t.H),(t=this.v<=this.C&&this.G<=this.H)||this.Oa(),t)},i.prototype.mB=function(i){switch(i){case 0:return t.h.construct(this.v,this.G);case 1:return t.h.construct(this.v,this.H);case 2:return t.h.construct(this.C,this.H);case 3:return t.h.construct(this.C,this.G);default:throw t.i.ce()}},i.prototype.nB=function(i){if(null==i||4>i.length)throw t.i.N();null!=i[0]?i[0].ma(this.v,this.G):i[0]=t.h.construct(this.v,this.G),null!=i[1]?i[1].ma(this.v,this.H):i[1]=t.h.construct(this.v,this.H),null!=i[2]?i[2].ma(this.C,this.H):i[2]=t.h.construct(this.C,this.H),null!=i[3]?i[3].ma(this.C,this.G):i[3]=t.h.construct(this.C,this.G)},i.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},i.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},i.prototype.gk=function(){return(this.C+this.v)/2},i.prototype.Jp=function(){return(this.H+this.G)/2},i.prototype.R=function(){return this.C-this.v},i.prototype.ca=function(){return this.H-this.G},i.prototype.move=function(t,i){this.B()||(this.v+=t,this.G+=i,this.C+=t,this.H+=i)},i.prototype.Ju=function(i,s){if(void 0!==s)this.move(i-this.gk(),s-this.Jp());else if(i instanceof t.h)this.Ju(i.x,i.y);else{if(!(i instanceof t.Sa))throw t.i.N();s=(this.C-this.v)/2;var n=(this.H-this.G)/2;this.v=i.Lg()-s,this.C=i.Lg()+s,this.G=i.ih()-n,this.H=i.ih()+n}},i.prototype.offset=function(t,i){this.v+=t,this.C+=t,this.G+=i,this.H+=i},i.prototype.normalize=function(){if(!this.B()){var t=Math.min(this.v,this.C),i=Math.max(this.v,this.C);this.v=t,this.C=i,t=Math.min(this.G,this.H),i=Math.max(this.G,this.H),this.G=t,this.H=i}},i.prototype.dn=function(t){t.ma(this.v,this.G)},i.prototype.$I=function(t){t.ma(this.C,this.G)},i.prototype.cJ=function(t){t.ma(this.v,this.H)},i.prototype.en=function(t){t.ma(this.C,this.H)},i.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},i.prototype.sf=function(){return t.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},i.prototype.mz=function(){return t.h.construct(this.v,this.G)},i.prototype.contains=function(s,n){if(void 0!==n)return s>=this.v&&s<=this.C&&n>=this.G&&n<=this.H;if(s instanceof t.Sa)return this.contains(s.Lg(),s.ih());if(s instanceof t.h)return this.contains(s.x,s.y);if(s instanceof i)return s.v>=this.v&&s.C<=this.C&&s.G>=this.G&&s.H<=this.H;throw t.i.N()},i.prototype.hm=function(s,n){if(void 0!==n)return s>this.v&&s<this.C&&n>this.G&&n<this.H;if(s instanceof t.h)return this.hm(s.x,s.y);if(s instanceof i)return s.v>this.v&&s.C<this.C&&s.G>this.G&&s.H<this.H;throw t.i.N()},i.prototype.Nb=function(t){return t==this||t instanceof i&&(!(!this.B()||!t.B())||this.v==t.v&&this.G==t.G&&this.C==t.C&&this.H==t.H)},i.prototype.cc=function(){var i=this.v;i=t.O.truncate(i^i>>>32);var s=t.O.Th(i);return i=this.C,i=t.O.truncate(i^i>>>32),s=t.O.Th(i,s),i=this.G,i=t.O.truncate(i^i>>>32),s=t.O.Th(i,s),i=this.H,i=t.O.truncate(i^i>>>32),t.O.Th(i,s)},i.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},i.prototype.zy=function(t,s){var n=this.Zj(t),h=this.Zj(s);if(0!=(n&h))return 0;if(0==(n|h))return 4;var r=(0!=n?1:0)|(0!=h?2:0);do{var e=s.x-t.x,o=s.y-t.y;if(e>o?0!=(n&i.YC)?(0!=(n&i.ju)?(t.y+=o*(this.v-t.x)/e,t.x=this.v):(t.y+=o*(this.C-t.x)/e,t.x=this.C),n=this.Zj(t)):0!=(h&i.YC)?(0!=(h&i.ju)?(s.y+=o*(this.v-s.x)/e,s.x=this.v):(s.y+=o*(this.C-s.x)/e,s.x=this.C),h=this.Zj(s)):0!=n?(0!=(n&i.ku)?(t.x+=e*(this.G-t.y)/o,t.y=this.G):(t.x+=e*(this.H-t.y)/o,t.y=this.H),n=this.Zj(t)):(0!=(h&i.ku)?(s.x+=e*(this.G-s.y)/o,s.y=this.G):(s.x+=e*(this.H-s.y)/o,s.y=this.H),h=this.Zj(s)):0!=(n&i.ZC)?(0!=(n&i.ku)?(t.x+=e*(this.G-t.y)/o,t.y=this.G):(t.x+=e*(this.H-t.y)/o,t.y=this.H),n=this.Zj(t)):0!=(h&i.ZC)?(0!=(h&i.ku)?(s.x+=e*(this.G-s.y)/o,s.y=this.G):(s.x+=e*(this.H-s.y)/o,s.y=this.H),h=this.Zj(s)):0!=n?(0!=(n&i.ju)?(t.y+=o*(this.v-t.x)/e,t.x=this.v):(t.y+=o*(this.C-t.x)/e,t.x=this.C),n=this.Zj(t)):(0!=(h&i.ju)?(s.y+=o*(this.v-s.x)/e,s.x=this.v):(s.y+=o*(this.C-s.x)/e,s.x=this.C),h=this.Zj(s)),0!=(n&h))return 0}while(0!=(n|h));return r},i.prototype.Zj=function(t){return(t.x<this.v?1:0)|(t.x>this.C?1:0)<<1|(t.y<this.G?1:0)<<2|(t.y>this.H?1:0)<<3},i.prototype.Bi=function(t){return!this.B()&&(this.R()<=t||this.ca()<=t)},i.prototype.tb=function(i){return i instanceof t.h?Math.sqrt(this.iK(i)):Math.sqrt(this.px(i))},i.prototype.px=function(t){var i=0,s=0,n=this.v-t.C;return n>i&&(i=n),(n=this.G-t.H)>s&&(s=n),(n=t.v-this.C)>i&&(i=n),(n=t.G-this.H)>s&&(s=n),i*i+s*s},i.prototype.iK=function(t){var i=0,s=0,n=this.v-t.x;return n>i&&(i=n),(n=this.G-t.y)>s&&(s=n),(n=t.x-this.C)>i&&(i=n),(n=t.y-this.H)>s&&(s=n),i*i+s*s},i.prototype.cn=function(t){this.B()?t.Oa():t.K(this.v,this.C)},i.ju=1,i.ku=4,i.YC=3,i.ZC=12,i}();t.l=i}(Q||(Q={})),function(t){var i,s;(s=i||(i={}))[s.initialize=0]="initialize",s[s.initializeRed=1]="initializeRed",s[s.initializeBlue=2]="initializeBlue",s[s.initializeRedBlue=3]="initializeRedBlue",s[s.sweep=4]="sweep",s[s.sweepBruteForce=5]="sweepBruteForce",s[s.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",s[s.sweepRedBlue=7]="sweepRedBlue",s[s.sweepRed=8]="sweepRed",s[s.sweepBlue=9]="sweepBlue",s[s.iterate=10]="iterate",s[s.iterateRed=11]="iterateRed",s[s.iterateBlue=12]="iterateBlue",s[s.iterateBruteForce=13]="iterateBruteForce",s[s.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",s[s.resetRed=15]="resetRed",s[s.resetBlue=16]="resetBlue";var n=function(){function t(t,i){this.ci=t,this.dH=i}return t.prototype.nr=function(t,i,s){this.ci.JX(s,t,i,this.dH)},t.prototype.$p=function(t){return this.ci.Rr(t,this.dH)},t}();i=function(){function i(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new t.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return i.prototype.kr=function(){this.Nk(),this.Pv=!0,null==this.Eb?(this.fo=new t.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},i.prototype.ad=function(i,s){if(!this.Pv)throw t.i.Hb();var n=new t.l;n.K(s),this.fo.add(i),this.Eb.push(n)},i.prototype.Fp=function(){if(!this.Pv)throw t.i.Hb();this.Pv=!1,null!=this.Eb&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},i.prototype.pK=function(){this.Nk(),this.Ov=!0,null==this.Eb?(this.fo=new t.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},i.prototype.JD=function(i,s){if(!this.Ov)throw t.i.Hb();var n=new t.l;n.K(s),this.fo.add(i),this.Eb.push(n)},i.prototype.iF=function(){if(!this.Ov)throw t.i.Hb();this.Ov=!1,null!=this.Eb&&0<this.Eb.length&&null!=this.qd&&0<this.qd.length&&(-1==this.Xb||2==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=1),this.Ic=!1)},i.prototype.oK=function(){this.Nk(),this.Nv=!0,null==this.qd?(this.cw=new t.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},i.prototype.ED=function(i,s){if(!this.Nv)throw t.i.Hb();var n=new t.l;n.K(s),this.cw.add(i),this.qd.push(n)},i.prototype.hF=function(){if(!this.Nv)throw t.i.Hb();this.Nv=!1,null!=this.Eb&&0<this.Eb.length&&null!=this.qd&&0<this.qd.length&&(-1==this.Xb||1==this.Xb?this.Xb=3:3!=this.Xb&&(this.Xb=2),this.Ic=!1)},i.prototype.next=function(){if(this.Ic)return!1;for(var i=!0;i;)switch(this.Xb){case 0:i=this.Gz();break;case 1:i=this.rS();break;case 2:i=this.oS();break;case 3:i=this.qS();break;case 4:i=this.UX();break;case 5:i=this.QX();break;case 6:i=this.RX();break;case 7:i=this.SX();break;case 8:i=this.ux();break;case 9:i=this.iC();break;case 10:i=this.Uz();break;case 11:i=this.jT();break;case 12:i=this.gT();break;case 13:i=this.hT();break;case 14:i=this.iT();break;case 15:i=this.kJ();break;case 16:i=this.jJ();break;default:throw t.i.Qa()}return!this.Ic},i.prototype.aC=function(t){this.qa=t},i.prototype.uz=function(t){return this.Eb[t]},i.prototype.az=function(t){return this.qd[t]},i.prototype.nl=function(t){return this.fo.read(t)},i.prototype.hl=function(t){return this.cw.read(t)},i.Tz=function(t){return 1==(1&t)},i.eq=function(t){return 0==(1&t)},i.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},i.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),this.rd.kr();for(var i=0;i<this.Eb.length;i++){var s=this.Eb[i];this.rd.Br(s.v,s.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),i=0;i<2*this.Eb.length;i++)this.Ld.add(i);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},i.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),this.rd.kr();for(var i=0;i<this.Eb.length;i++){var s=this.Eb[i];this.rd.Br(s.v,s.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),i=0;i<2*this.Eb.length;i++)this.Ld.add(i);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},i.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.ff&&(this.ff=new t.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new t.ia(0)),this.ff.kr();for(var i=0;i<this.qd.length;i++){var s=this.qd[i];this.ff.Br(s.v,s.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),i=0;i<2*this.qd.length;i++)this.Ef.add(i);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},i.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;null==this.rd&&(this.rd=new t.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new t.ia(0)),null==this.ff&&(this.ff=new t.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new t.ia(0)),this.rd.kr();for(var i=0;i<this.Eb.length;i++){var s=this.Eb[i];this.rd.Br(s.v,s.C)}for(this.rd.Fp(),this.ff.kr(),i=0;i<this.qd.length;i++)s=this.qd[i],this.ff.Br(s.v,s.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),i=0;i<2*this.Eb.length;i++)this.Ld.add(i);for(i=0;i<2*this.qd.length;i++)this.Ef.add(i);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},i.prototype.UX=function(){var t=this.Ld.get(--this.pe),s=t>>1;return i.eq(t)?(this.rd.remove(s),0!=this.pe||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[s].v,this.Eb[s].C,this.qa),this.Vf=s,this.Xb=10,!0)},i.prototype.QX=function(){return-1==--this.pe?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},i.prototype.RX=function(){return-1==--this.pe?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},i.prototype.SX=function(){var t=this.Ld.get(this.pe-1),s=this.Ef.get(this.Rg-1),n=this.Rr(t,!0),h=this.Rr(s,!1);return n>h?this.ux():n<h?this.iC():i.Tz(t)?this.ux():i.Tz(s)?this.iC():this.ux()},i.prototype.ux=function(){var s=this.Ld.get(--this.pe),n=s>>1;if(i.eq(s))return-1!=this.Df&&-1!=this.Ij.get(n)?(this.Ad.jd(this.Df,this.Ij.get(n)),this.Ij.set(n,-1)):this.rd.remove(n),0!=this.pe||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(-1!=this.Cf&&0<this.Ad.bs(this.Cf))for(s=this.Ad.rc(this.Cf);-1!=s;){var h=this.Ad.getData(s);this.ff.vj(h),this.Hj.set(h,-1),h=this.Ad.lb(s),this.Ad.jd(this.Cf,s),s=h}return 0<this.ff.size()?(this.ow.EB(this.Eb[n].v,this.Eb[n].C,this.qa),this.Vf=n,this.Xb=12):(-1==this.Df&&(null==this.Ad&&(this.Ad=new t.jp),this.Ij=new t.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(n,this.Ad.addElement(this.Df,n)),this.Xb=7),!0},i.prototype.iC=function(){var s=this.Ef.get(--this.Rg),n=s>>1;if(i.eq(s))return-1!=this.Cf&&-1!=this.Hj.get(n)?(this.Ad.jd(this.Cf,this.Hj.get(n)),this.Hj.set(n,-1)):this.ff.remove(n),0!=this.Rg||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(-1!=this.Df&&0<this.Ad.bs(this.Df))for(s=this.Ad.rc(this.Df);-1!=s;){var h=this.Ad.getData(s);this.rd.vj(h),this.Ij.set(h,-1),h=this.Ad.lb(s),this.Ad.jd(this.Df,s),s=h}return 0<this.rd.size()?(this.oo.EB(this.qd[n].v,this.qd[n].C,this.qa),this.Af=n,this.Xb=11):(-1==this.Cf&&(null==this.Ad&&(this.Ad=new t.jp),this.Hj=new t.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(n,this.Ad.addElement(this.Cf,n)),this.Xb=7),!0},i.prototype.Uz=function(){if(this.Af=this.oo.next(),-1!=this.Af)return!1;var t=this.Ld.get(this.pe)>>1;return this.rd.vj(t),this.Xb=4,!0},i.prototype.jT=function(){if(this.Vf=this.oo.next(),-1!=this.Vf)return!1;this.Af=this.Vf=-1;var t=this.Ef.get(this.Rg)>>1;return this.ff.vj(t),this.Xb=7,!0},i.prototype.gT=function(){if(this.Af=this.ow.next(),-1!=this.Af)return!1;var t=this.Ld.get(this.pe)>>1;return this.rd.vj(t),this.Xb=7,!0},i.prototype.hT=function(){if(-1==--this.Rg)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var t=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(t)||(this.Af=this.Rg,!1)},i.prototype.iT=function(){if(-1==--this.Rg)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var t=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(t)||(this.Af=this.Rg,!1)},i.prototype.kJ=function(){return null==this.rd?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),-1!=this.Df&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},i.prototype.jJ=function(){return null==this.ff?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),-1!=this.Cf&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},i.prototype.Kt=function(i,s,h){null==this.Am&&(this.Am=new t.Xt),h=new n(this,h),this.Am.sort(i,0,s,h)},i.prototype.JX=function(t,s,n,h){var r=this;t.Vd(s,n,(function(t,s){var n=r.Rr(t,h),e=r.Rr(s,h);return n<e||n==e&&i.eq(t)&&i.Tz(s)?-1:1}))},i.prototype.Rr=function(t,s){var n=.5*this.qa;return s?(s=this.Eb[t>>1],i.eq(t)?s.G-n:s.H+n):(s=this.qd[t>>1],i.eq(t)?s.G-n:s.H+n)},i}(),t.xC=i}(Q||(Q={})),function(t){var i=function(){function i(){}return i.construct=function(t,s,n,h,r,e){var o=new i;return o.v=t,o.G=s,o.Ye=n,o.C=h,o.H=r,o.Bg=e,o},i.prototype.Oa=function(){this.Ye=this.v=NaN},i.prototype.B=function(){return isNaN(this.v)},i.prototype.XS=function(){return isNaN(this.Ye)},i.prototype.K=function(t,i,s,n,h,r){void 0!==n?"number"==typeof t?(this.v=t,this.G=i,this.Ye=s,this.C=n,this.H=h,this.Bg=r):(this.v=t.x-.5*i,this.C=this.v+i,this.G=t.y-.5*s,this.H=this.G+s,this.Ye=t.z-.5*n,this.Bg=this.Ye+n):(this.v=t,this.G=i,this.Ye=s,this.C=t,this.H=i,this.Bg=s)},i.prototype.move=function(t){this.v+=t.x,this.G+=t.y,this.Ye+=t.z,this.C+=t.x,this.H+=t.y,this.Bg+=t.z},i.prototype.copyTo=function(t){t.v=this.v,t.G=this.G,t.C=this.C,t.H=this.H},i.prototype.Lk=function(t,i,s){this.v>t?this.v=t:this.C<t&&(this.C=t),this.G>i?this.G=i:this.H<i&&(this.H=i),0==isNaN(this.Ye)?this.Ye>s?this.Ye=s:this.Bg<s&&(this.Bg=s):this.Bg=this.Ye=s},i.prototype.Zb=function(s,n,h){if("number"==typeof s)this.B()?(this.v=s,this.G=n,this.Ye=h,this.C=s,this.H=n,this.Bg=h):this.Lk(s,n,h);else if(s instanceof t.Nd)this.Zb(s.x,s.y,s.z);else{if(!(s instanceof i))throw t.i.N();s.B()||(this.Zb(s.v,s.G,s.Ye),this.Zb(s.C,s.H,s.Bg))}},i.prototype.construct=function(t,i,s){t.B()||i.B()?this.Oa():(this.v=t.oa,this.C=t.va,this.G=i.oa,this.H=i.va,this.Ye=s.oa,this.Bg=s.va)},i.prototype.nB=function(i){if(null==i||8>i.length)throw t.i.N();i[0]=new t.Nd(this.v,this.G,this.Ye),i[1]=new t.Nd(this.v,this.H,this.Ye),i[2]=new t.Nd(this.C,this.H,this.Ye),i[3]=new t.Nd(this.C,this.G,this.Ye),i[4]=new t.Nd(this.v,this.G,this.Bg),i[5]=new t.Nd(this.v,this.H,this.Bg),i[6]=new t.Nd(this.C,this.H,this.Bg),i[7]=new t.Nd(this.C,this.G,this.Bg)},i.prototype.Zw=function(t){if(null==t||0==t.length)this.Oa();else{var i=t[0];for(this.K(i.x,i.y,i.z),i=1;i<t.length;i++){var s=t[i];this.Lk(s.x,s.y,s.z)}}},i}();t.OK=i}(Q||(Q={})),function(t){!function(t){t.Qa=function(){var t=Error();return t.message="Internal Error",t},t.Ie=function(){var t=Error();return t.message="Not Implemented",t},t.Xk=function(){var t=Error();return t.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",t},t.Hb=function(){var t=Error();return t.message="Invalid Call",t},t.N=function(t){var i=Error();return i.message="Illegal Argument Exception",void 0!==t&&(i.message+=": "+t),i},t.fu=function(t){var i=Error();return i.message=void 0!==t?"Runtime Exception: "+t:"Runtime Exception.",i},t.fa=function(t){var i=Error();return i.message="Geometry Exception: "+t,i},t.GK=function(){var t=Error();return t.message="Assert Failed Exception",t},t.ce=function(){var t=Error();return t.message="IndexOutOfBoundsException",t},t.WC=function(){var t=Error();return t.message="UserCancelException",t}}(t.i||(t.i={}))}(Q||(Q={})),function(t){(t=t.bm||(t.bm={}))[t.forward=0]="forward",t[t.reverse=1]="reverse"}(Q||(Q={})),function(t){var i=function(){function i(t,i){this.Wa=t,this.FH=i,this.LH=-1,this.sl=!1}return i.prototype.qe=function(){},i.prototype.next=function(){if(++this.LH==this.FH.I())return null;var i=this.FH.Na(this.LH);i.scale(this.Wa.ec);var s=new t.Da;return this.Wa.sy(i,this.sl,s),s},i.prototype.La=function(){return 0},i}(),s=function(){function i(i,s,n){this.Wa=i,this.rw=s,this.Xn=!1,this.co=n,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new t.Da,this.uk=[]}return i.prototype.qe=function(){},i.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var i=t.aa.jg(this.qq);return t.Fg.Mk(i,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(null==this.sd&&(this.sd=this.rw.Ga(),this.sd.$a(),null!=this.co&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;null!=this.co&&this.co.Yk(null,0)}i=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var s=this.uk.length=0,h=new t.h,r=new t.h,e=[0];this.sd.Ha()&&8>this.FA;){var o=this.sd.ha();if(h.L(o.ac()),r.L(o.wc()),h.scale(this.Wa.ec),r.scale(this.Wa.ec),t.cj.Mu(h,r)?h.x=r.x:t.cj.Ku(h,r)&&(r.x=h.x),this.uk.length=0,t.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,h,r,this.Wa.QA,this.Wa.Zs,e,this.Nj,this.Gs,this.uk,this.bw),null!=this.co&&(o=this.uk.slice(0),this.co.qG(this.co.da()-1,o,o.length-1)),t.cj.Lu(h,r)?(this.qq.Oa(),this.Wa.sy(h,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(e[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}null==i&&(i=new t.Da).Yk(null,0),this.OD(i),s++}if(this.bw[0]=0,0<s){for(e=this.sd.wb();0<s;)this.sd.li(),h.L(this.rw.Na(this.sd.wb())),r.L(this.rw.Na(this.sd.ik())),h.scale(this.Wa.ec),r.scale(this.Wa.ec),this.sl&&(t.cj.Mu(h,r)?h.x=r.x:t.cj.Ku(h,r)&&(r.x=h.x)),this.uk.length=0,t.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,r,h,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(i),s--;return h.L(this.rw.Na(this.sd.wb())),h.scale(this.Wa.ec),n.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,h,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,i,NaN,NaN),this.sd.Vb(e),this.sd.ha(),s=t.ta.kj(null,i,!0),t.Fg.Mk(i,s,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),i=t.aa.jg(this.qq),t.Fg.Mk(i,this.Wa.Aq,!0,!0,this.Wa.Ub)},i.prototype.OD=function(i){var s=this.uk[0],h=this.Nj[0]-1.570796326794897,r=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var e=this.di+1.570796326794897;h=e+3.141592653589793-(this.di-this.Nj[0])}else h=(e=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var o=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0])&&!(this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),a=!1;if(Math.abs(h-e)<=.5*this.Wa.ao)if(o){var u=i.Na(i.I()-2);u.scale(this.Wa.ec);var f=new t.ga(0);for(t.kb.Xy(this.Wa.Tb,this.Wa.kc,s.x,s.y,u.x,u.y,f),u=f.u;u<=e;)u+=6.283185307179586;for(;u>e;)u-=6.283185307179586;u<h&&(a=!0)}else a=!0;a?(i.DB(0,i.I()-1),this.sl||((s=new t.h).L(i.Na(i.I()-1)),s.scale(this.Wa.ec),-3.141592653589793>s.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<s.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),o||(h=.5*(h+e))):(o?((e=new t.h).L(s),e.scale(1/this.Wa.ec),i.wf(0,-1,e)):n.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],e,h,this.Wa.ao,this.sl,this.sk,i,NaN,NaN),this.FA+=1)}n.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,h,r,this.sl,this.sk,i),this.di=this.Gs[0]},i.prototype.xy=function(t,i){return this.Wa.xy(this.uk,t,this.Nj[0],this.Gs[0],this.sl,i)},i.prototype.La=function(){return 0},i}(),n=function(){function n(){}return n.buffer=function(i,s,h,r,e,o){if(null==i)throw t.i.N("Geometry::Geodesic_bufferer::buffer");if(i.B())return new t.Da(i.description);var a=new n;a.Qg=s,a.Jc=t.cb.sc(s);var u=t.cb.vv(a.Jc);if(a.Ub=o,a.Tb=t.cb.ev(a.Jc),a.kc=u*(2-u),a.ec=a.Jc.Hd().ai,a.qa=a.Qg.Kn(),a.Aq=a.Jc.Kn(),a.Zs=a.Aq*a.ec,a.zq=1.570796326794897/a.ec,a.OY=3.141592653589793/a.ec,a.Js=6.283185307179586/a.ec,a.PY=a.Js/6,a.LA=0,a.NY=1.5707963267948966*a.Tb/a.LA,4==h?(a.ze=2,a.Wv=!0):(a.ze=h,a.Wv=!1),a.Ka=r,a.rb=Math.abs(r),isNaN(e)||.001>e?a.xX():a.$n=e,h=i.getType(),t.aa.yd(h)?((h=new t.Ta(i.description)).oc(i,!0),i=h,h=1607):197==h&&(h=new t.l,i.A(h),h.R()<=a.qa||h.ca()<=a.qa?((h=new t.Ta(i.description)).ad(i,!1),i=h,h=1607):((h=new t.Da(i.description)).ad(i,!1),i=h,h=1736)),a.yX(),t.aa.Rn(h)||a.zX(),a.rb<=.5*a.$n)return 1736!=h?new t.Da(i.description):a.Wv?i:t.cj.Qr(i,a.Qg,a.ze,a.QA,-1,o);if(0>a.Ka&&1736!=h)return new t.Da(i.description);if(a.Wv&&t.aa.Hc(h)?(s=t.cj.Qr(i,s,4,NaN,a.$n,o),i=t.cb.zh(s,a.Qg,a.Jc)):i=t.cb.zh(i,a.Qg,a.Jc),(i=t.Hh.lj(i,a.Jc)).B())return new t.Da(i.description);switch(!a.Wv&&t.aa.Hc(h)&&(i=t.cj.pI(a.ec,i)),i=n.KX(i,a.Jc),h){case 1736:s=a.UN(i);break;case 1607:s=a.VN(i);break;case 550:s=a.SN(i);break;case 33:s=a.TN(i);break;default:throw t.i.fa("corrupted_geometry")}return(a=t.cb.zh(s,a.Jc,a.Qg)).Jl(i.description),a},n.prototype.UN=function(i){var n=new t.Da;i=new s(this,i,n),i=t.Gh.local().V(i,this.Jc,this.Ub).next(),i=t.ip.nj(i,this.Jc,2);var h=new t.Dd;return h.scale(1/this.ec,1/this.ec),n.Oc(h),n=t.ip.nj(n,this.Jc,2),0<=this.Ka?t.Gh.local().V(n,i,this.Jc,this.Ub):t.kp.local().V(n,i,this.Jc,this.Ub)},n.prototype.VN=function(i){return i=new s(this,i,null),i=t.Gh.local().V(i,this.Jc,this.Ub).next(),t.ip.nj(i,this.Jc,2)},n.prototype.SN=function(s){return s=new i(this,s),s=t.Gh.local().V(s,this.Jc,this.Ub).next(),t.ip.nj(s,this.Jc,2)},n.prototype.TN=function(i){(i=i.D()).scale(this.ec);var s=new t.Da;return this.sy(i,!1,s),t.ip.nj(s,this.Jc,2)},n.prototype.xy=function(i,s,h,r,e,o){var a=i[0],u=i[i.length-1],f=a.y>u.y?a.y:u.y,c=t.F.q(this.Tb,this.kc,a.y<u.y?a.y:u.y);if(f=t.F.q(this.Tb,this.kc,f),.001<this.LA-(c+s+this.rb)&&.001<this.LA+(f-s-this.rb))return!1;c=(s=h-1.570796326794897)-3.141592653589793,f=s+3.141592653589793;var l=(h=r+1.570796326794897)+3.141592653589793,p=[NaN],v=[NaN],y=[NaN],d=[NaN];if(r=!1,n.dJ(this.Tb,this.kc,this.rb,a,s,c,u,h,p,v),n.dJ(this.Tb,this.kc,this.rb,u,l,h,a,c,y,d),(h<p[0]&&p[0]<l||h<v[0]&&v[0]<l)&&(r=!0),r||(c<y[0]&&y[0]<s||c<d[0]&&d[0]<s)&&(r=!0),!r&&e)return!1;for(var b=[],g=i.length-1;0<=g;g--)b.push(i[g]);return o.Oa(),o.Yk(null,0),g=[0],n.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,i,s,h,e,g,o),n.Hr(this.Tb,this.kc,this.ec,this.rb,u,h,l,this.ao,e,g,o,p[0],v[0]),n.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,b,l,f,e,g,o),n.Hr(this.Tb,this.kc,this.ec,this.rb,a,c,s,this.ao,e,g,o,y[0],d[0]),i=!1,e||(i=this.IE(this.ec,o)),r||i},n.prototype.sy=function(t,i,s){s.Oa(),s.Yk(null,0),n.Hr(this.Tb,this.kc,this.ec,this.rb,t,-this.ao,6.283185307179586,this.ao,i,[0],s,NaN,NaN),i||this.IE(this.ec,s)},n.prototype.IE=function(t,i){var s=this.vO(t,i);return t=this.wO(t,i),s||t},n.prototype.vO=function(i,s){var n=s.I(),h=!1,r=new t.l;if(s.A(r),!t.s.Y(r.H*i,1.570796326794897)&&!t.s.Y(r.G*i,-1.570796326794897))return!1;var e=new t.h;for(--n;0<=n;n--)s.D(n,e),(e.y==r.H&&t.s.Y(e.y*i,1.570796326794897)||e.y==r.G&&t.s.Y(e.y*i,-1.570796326794897))&&(h=!0,this.OI(e,n,s));return h},n.prototype.wO=function(t,i){var s=i.Na(0),n=i.Na(i.I()-1);return 3.141592653589793<Math.abs(s.x-n.x)*t?(this.VV(i),!0):this.uO(i)},n.prototype.uO=function(t){return 0>t.Ke()&&(this.UV(t),!0)},n.prototype.OI=function(i,s,n){var h=n.I(),r=0<s?s-1:h-1;if(h=n.Na(s<h-1?s+1:0),r=n.Na(r),!t.s.Y(h.y,i.y)&&!t.s.Y(h.x,i.x)){var e=new t.h;e.ma(h.x,i.y),n.Cb(s,e)}t.s.Y(r.y,i.y)||t.s.Y(r.x,i.x)||((h=new t.h).ma(r.x,i.y),n.wf(0,s,h))},n.prototype.VV=function(i){var s=new t.Da,n=new t.Da,h=new t.Dd,r=i.Na(0),e=i.Na(i.I()-1),o=new t.h;r.x>e.x?(e=this.zq,h.gg(-this.Js,0)):(e=-this.zq,h.gg(this.Js,0)),s.add(i,!1),i.Oa(),n.add(s,!1),n.Oc(h),r=new t.l,n.A(r),r.W((this.Js-r.R())/2,0),r.G=-this.zq,r.H=this.zq;for(var a=0;a<n.I();a++)n.D(a,o),s.wf(0,-1,o);for(n.Oc(h),a=0;a<n.I();a++)n.D(a,o),s.wf(0,-1,o);n=s.Na(0),h=s.Na(s.I()-1),o.ma(h.x,e),s.wf(0,-1,o),o.ma(.5*(h.x+n.x),e),s.wf(0,-1,o),o.ma(n.x,e),s.wf(0,-1,o),s=t.Hh.ks(s,this.Jc,2,!0,r.v),s=t.Hh.ks(s,this.Jc,2,!0,r.C),s=t.Ud.clip(s,r,this.Aq,NaN),i.add(s,!1)},n.prototype.UV=function(i){var s=new t.l;i.A(s),s.W((this.Js-s.R())/2,0),s.G=-this.zq,s.H=this.zq,i.Yk(null,0);var n=new t.h;n.ma(s.v,s.G),i.wf(1,-1,n),n.ma(s.v,s.H),i.wf(1,-1,n),n.ma(.5*(s.v+s.C),s.H),i.wf(1,-1,n),n.ma(s.C,s.H),i.wf(1,-1,n),n.ma(s.C,s.G),i.wf(1,-1,n),n.ma(.5*(s.v+s.C),s.G),i.wf(1,-1,n)},n.qy=function(i,s,h,r,e,o,a,u,f,c,l){var p=null;f||((p=new t.h).Rc(),0<l.I()&&(p.L(l.Na(l.I()-1)),p.scale(h)));var v=new t.ga(0),y=new t.ga(0),d=new t.ga(0),b=new t.h,g=new t.h,w=o[o.length-1];h=1/h;for(var x=0;x<o.length;x++){var m=o[x];if(0==x)var j=a;else x==o.length-1?j=u:(t.kb.wd(i,s,w.x,w.y,m.x,m.y,null,null,v,e),j=v.u-1.570796326794897);t.kb.yi(i,s,m.x,m.y,r,j,y,d),f?g.ma(y.u,d.u):(b.ma(y.u,d.u),n.gJ(m.x,b.x,p.x,c),g.ma(c[0]+b.x,b.y),p.L(g)),g.scale(h),l.wf(0,-1,g)}},n.Hr=function(i,s,h,r,e,o,a,u,f,c,l,p,v){if(!(a-o<u)){var y=new t.ga(0),d=new t.ga(0),b=new t.h,g=new t.h,w=null;f||((w=new t.h).Rc(),0<l.I()&&(w.L(l.Na(l.I()-1)),w.scale(h)));var x=t.O.truncate(Math.ceil(o/u)),m=x++*u;for(m==o&&(m=x++*u),h=1/h;m<a+u&&(o<p&&p<m?(m=p,x--):o<v&&v<m&&(m=v,x--),!(m>=a));)t.kb.yi(i,s,e.x,e.y,r,m,y,d),f?g.ma(y.u,d.u):(b.ma(y.u,d.u),n.gJ(e.x,b.x,w.x,c),g.ma(c[0]+b.x,b.y),w.L(g)),g.scale(h),l.wf(0,-1,g),o=m,m=x++*u}},n.dJ=function(i,s,n,h,r,e,o,a,u,f){var c=new t.h,l=new t.h,p=new t.ga(0),v=new t.ga(0);for(t.kb.yi(i,s,h.x,h.y,n,r,p,v),c.ma(p.u,v.u),t.kb.yi(i,s,h.x,h.y,n,e,p,v),l.ma(p.u,v.u),n=new t.ga(0),t.kb.Xy(i,s,o.x,o.y,c.x,c.y,n),u[0]=n.u,t.kb.Xy(i,s,o.x,o.y,l.x,l.y,n),f[0]=n.u;u[0]<=f[0];)u[0]+=6.283185307179586;for(;u[0]>f[0];)u[0]-=6.283185307179586;for(;u[0]>=a;)u[0]-=6.283185307179586,f[0]-=6.283185307179586;for(;u[0]<a;)u[0]+=6.283185307179586,f[0]+=6.283185307179586},n.gJ=function(t,i,s,n){if(isNaN(s)){for(;3.141592653589793<n[0]+i-t;)n[0]-=6.283185307179586;for(;3.141592653589793<t-(n[0]+i);)n[0]+=6.283185307179586}else 3.141592653589793<n[0]+i-s?n[0]-=6.283185307179586:3.141592653589793<s-(n[0]+i)&&(n[0]+=6.283185307179586)},n.KX=function(i,s){var n=i.getType(),h=t.aa.Hc(n)?i.da():550==n?i.I():1;if(1==h)return i;var r=new t.ia(0);r.resize(h);for(var e=[],o=new t.l,a=0;a<h;a++){if(r.write(a,a),t.aa.Hc(n)){i.Rj(a,o);var u=o.sf()}else u=i.Na(a);u=t.XK.$X(s,u),e[a]=u}for(r.Vd(0,r.size,(function(t,i){return e[t]<e[i]?-1:e[t]>e[i]?1:0})),s=i.Ia(),a=0;a<h;a++)o=r.read(a),t.aa.Hc(n)?s.addPath(i,o,!0):s.Fd(i,o,o+1);return s},n.prototype.yX=function(){var i=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);i=Math.min(i,.39269908169872414*this.Tb);var s=new t.h;s.ma(0,10*this.ec);var n=45*this.ec,h=new t.ga(0),r=new t.ga(0),e=new t.ga(0),o=new t.ga(0),a=new t.ga(0),u=new t.ga(0),f=new t.ga(0),c=new t.ga(0),l=new t.h,p=new t.h,v=new t.h,y=new t.h;t.kb.yi(this.Tb,this.kc,s.x,s.y,i,0,h,r),l.ma(h.u,r.u),t.kb.yi(this.Tb,this.kc,s.x,s.y,i,n,e,o),p.ma(e.u,o.u),h=new t.ga(0),r=new t.ga(0);for(var d=new t.ga(0);t.kb.yi(this.Tb,this.kc,s.x,s.y,i,.5*(0+n),a,u),v.ma(a.u,u.u),t.kb.wd(this.Tb,this.kc,l.x,l.y,p.x,p.y,h,r,null,2),t.kb.oj(this.Tb,this.kc,l.x,l.y,.5*h.u,r.u,f,c,2),y.ma(f.u,c.u),t.kb.wd(this.Tb,this.kc,v.x,v.y,y.x,y.y,d,null,null,2),!(d.u<=this.$n);)n*=.9,t.kb.yi(this.Tb,this.kc,s.x,s.y,i,n,e,o),p.ma(e.u,o.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(n-0))},n.prototype.zX=function(){var i=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);i=Math.min(i,.39269908169872414*this.Tb);var s=new t.h,n=new t.h;s.ma(0,10*this.ec),n.ma(10*this.ec,10*this.ec);var h=new t.ga(0),r=new t.ga(0),e=new t.ga(0);t.kb.wd(this.Tb,this.kc,s.x,s.y,n.x,n.y,e,h,r,this.ze);var o=new t.ga(0),a=new t.ga(0),u=new t.ga(0),f=new t.ga(0),c=new t.h,l=new t.ga(0),p=new t.ga(0),v=new t.ga(0),y=new t.ga(0),d=new t.ga(0),b=new t.ga(0),g=new t.ga(0),w=new t.ga(0),x=new t.ga(0),m=new t.h,j=new t.h,M=new t.h,k=new t.h,z=1;h=h.u,r=r.u+1.570796326794897,e=e.u,t.kb.yi(this.Tb,this.kc,s.x,s.y,i,h-1.570796326794897,p,v),m.ma(p.u,v.u),t.kb.yi(this.Tb,this.kc,n.x,n.y,i,r,y,d),j.ma(y.u,d.u),p=new t.ga(0),v=new t.ga(0),r=new t.ga(0);for(var A=new t.ga(0);t.kb.oj(this.Tb,this.kc,s.x,s.y,.5*(0+z)*e,h,o,a,this.ze),c.ma(o.u,a.u),t.kb.wd(this.Tb,this.kc,s.x,s.y,c.x,c.y,null,null,l,this.ze),t.kb.yi(this.Tb,this.kc,c.x,c.y,i,l.u+1.570796326794897,b,g),M.ma(b.u,g.u),t.kb.wd(this.Tb,this.kc,m.x,m.y,j.x,j.y,p,v,null,2),t.kb.oj(this.Tb,this.kc,m.x,m.y,.5*p.u,v.u,w,x,2),k.ma(w.u,x.u),t.kb.wd(this.Tb,this.kc,M.x,M.y,k.x,k.y,r,null,null,2),!(r.u<=this.$n);)z*=.9,t.kb.oj(this.Tb,this.kc,s.x,s.y,z*e,h,u,f,this.ze),n.ma(u.u,f.u),t.kb.wd(this.Tb,this.kc,s.x,s.y,n.x,n.y,null,null,A,this.ze),t.kb.yi(this.Tb,this.kc,n.x,n.y,i,A.u+1.570796326794897,y,d),j.ma(y.u,d.u);1e5<(i=z*e)&&(i=1e5),this.QA=i},n.prototype.xX=function(){var t=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/t&&(t=this.rb/500),.01>t&&(t=.01),this.$n=t},n}();t.VK=n}(Q||(Q={})),function(t){var i=function(){function i(){}return i.Mf=function(i,s){var n=new t.h;n.L(s),i.push(n)},i.up=function(t,i){t.add(i.x),t.add(i.y)},i.hB=function(t){t.Bh(t.size-2)},i.oB=function(t,i){i.ma(t.get(t.size-2),t.get(t.size-1))},i.Qr=function(s,n,h,r,e,o){if(null==s)throw t.i.N();var a=s.getType();if(s.B()||t.aa.Rn(a))return s;var u=new i;u.Qg=n,u.Jc=t.cb.sc(n);var f=t.cb.vv(u.Jc);if(u.Ub=o,u.Tb=t.cb.ev(u.Jc),u.kc=f*(2-f),u.ec=u.Jc.Hd().ai,u.Aq=u.Jc.Kn(),u.Zs=u.Aq*u.ec,u.AA=r,u.zA=e,u.ze=h,197==a?(h=new t.Da(s.description)).ad(s,!1):t.aa.yd(a)?(h=new t.Ta(s.description)).oc(s,!0):h=s,4!=u.ze){if((n=0==u.Qg.Nb(u.Jc)?t.cb.zh(h,u.Qg,u.Jc):t.Hh.lj(h,u.Jc)).B())return n;n=i.pI(u.ec,n),n=u.Zy(n),n=t.ip.nj(n,u.Jc,u.ze),u=t.cb.zh(n,u.Jc,u.Qg)}else{if(2==t.Eg.Sb(n)?(s=t.cb.ml(),(n=t.Xj.local().V(h,s,n,o))==s&&(n=new t.Da,s.copyTo(n))):n=t.Hh.lj(h,u.Jc),n.B())return n;u=u.CX(n)}return u},i.pI=function(s,n){var h=new t.l;if(n.xc(h),3.141592653589793>h.R()*s)return n;var r=!1;h=n.Ga();for(var e=new t.h,o=new t.h;h.$a();)for(;h.Ha();){var a=h.ha();if(e.L(a.ac()),o.L(a.wc()),e.scale(s),o.scale(s),3.141592653589793<Math.abs(e.x-o.x)){var u=i.Lu(e,o);if(!u){r=!0;break}if(6.283185307179586<Math.abs(e.x-o.x)){r=!0;break}}}if(!r)return n;r=n.Ia();var f=1<n.description.Aa,c=new t.h,l=new t.h,p=new t.h,v=new t.h,y=new t.Sa;for(h.Zi();h.$a();)for(var d=NaN,b=[0];h.Ha();){if(a=h.ha(),e.L(a.ac()),o.L(a.wc()),e.scale(s),o.scale(s),isNaN(d)?(i.Wi(e.x,NaN,b),l.L(e)):l.L(p),d=l.x,u=i.Lu(e,o)){if(6.283185307179586<o.x-e.x)for(;6.283185307179586<o.x-e.x;)o.x-=6.283185307179586;if(-6.283185307179586>o.x-e.x)for(;-6.283185307179586>o.x-e.x;)o.x+=6.283185307179586;i.Wi(o.x,NaN,b),p.L(o)}else c.L(o),i.AU(c),i.Wi(c.x,d,b),p.ma(b[0]+c.x,c.y);.5>Math.abs(p.x-o.x)&&p.L(o),f?(a.Tw(0,y),v.L(l),v.scale(1/s),y.Cb(v),(u=h.vm())?r.nf(y):r.lineTo(y),h.Qn()&&!n.dc(h.gb)&&(a.Tw(1,y),v.L(p),v.scale(1/s),y.Cb(v),r.lineTo(y))):((u=h.vm())&&r.Hz(null,0),a=r.da()-1,v.L(l),v.scale(1/s),r.wf(a,-1,v),h.Qn()&&!n.dc(h.gb)&&(v.L(p),v.scale(1/s),r.wf(a,-1,v)))}return r},i.tF=function(s,n,h,r,e,o,a,u,f,c,l,p){var v=new t.h,y=new t.h,d=0<r.compare(e);i.fJ(d,r,e,v,y),i.uF(s,n,h,v,y,o,NaN,a,u,f,c,null,l,p),d&&i.fC(f,c,null,l)},i.prototype.Zy=function(s){var n=s.Ia(),h=s.Ga(),r=[],e=null,o=null,a=1<s.description.Aa;a&&(e=new t.be(0),o=new t.ig);for(var u=[0],f=new t.h,c=new t.h,l=new t.h,p=new t.h;h.$a();)for(u[0]=0;h.Ha();){var v=h.ha();f.L(v.ac()),c.L(v.wc()),f.scale(this.ec),c.scale(this.ec);var y=0<f.compare(c);i.fJ(y,f,c,l,p),r.length=0,null!=e&&e.Bh(0),0<this.AA?i.uF(this.Tb,this.kc,this.ze,l,p,this.AA,this.zA,this.Zs,null,null,null,a?e:null,r,u):i.aR(this.Tb,this.kc,this.ze,l,p,this.zA,this.Zs,a?e:null,r,u),y&&i.fC(null,null,a?e:null,r),r[0].L(v.ac()),r[r.length-1].L(v.wc());for(var d=1;d<r.length-1;d++)r[d].scale(1/this.ec);a?(y=i.eJ(y,v,o),i.TD(h.vm(),h.Qn()&&!s.dc(h.gb),v,y,e,r,n)):i.SD(h.vm(),h.Qn()&&!s.dc(h.gb),r,n)}return n},i.prototype.CX=function(s){var n=s.Ia(),h=s.Ga(),r=[],e=null,o=new t.ig,a=1<s.description.Aa;for(a&&(e=new t.be(0));h.$a();)for(;h.Ha();){var u=h.ha(),f=u.ac(),c=u.wc();f=0<f.compare(c),c=i.eJ(f,u,o),r.length=0,null!=e&&e.Bh(0),i.BX(this.Tb,this.kc,this.ec,c,this.Qg,this.AA,this.zA,a?e:null,r),f&&i.fC(null,null,a?e:null,r),a?i.TD(h.vm(),h.Qn()&&!s.dc(h.gb),u,c,e,r,n):i.SD(h.vm(),h.Qn()&&!s.dc(h.gb),r,n)}return n},i.SD=function(t,i,s,n){t&&n.Hz(null,0),t=n.da()-1;var h=s.slice(0);n.qG(t,h,h.length-1),i&&n.wf(t,-1,s[s.length-1])},i.TD=function(i,s,n,h,r,e,o){var a=new t.Sa;if(n.To(a),i?o.nf(a):o.lineTo(a),2<e.length){i=h.Qb();for(var u=1;u<e.length-1;u++){var f=h.NG(r.get(u)*i);h.Tw(f,a),a.Cb(e[u]),o.lineTo(a)}}s&&(n.Po(a),o.lineTo(a))},i.uF=function(s,n,h,r,e,o,a,u,f,c,l,p,v,y){var d=new t.ga(0),b=new t.ga(0),g=new t.ga(0);t.kb.wd(s,n,r.x,r.y,e.x,e.y,g,d,b,h),g=g.u;var w=d=d.u;0>w&&(w+=6.283185307179586),0>(b=b.u)&&(b+=6.283185307179586),null!=f&&(f[0]=g),null!=c&&(c[0]=w),null!=l&&(l[0]=b),c=f=NaN,null!=p&&(f=((c=t.F.Ah(s,n))-(l=t.F.q(s,n,r.y)))/g,c=(c+l)/g),l=i.Mu(r,e),b=i.Ku(r,e),w=l||b;var x=i.FE(r,e,u),m=new t.ga(0),j=new t.ga(0),M=new t.h,k=new t.h,z=new t.h;i.Wi(r.x,NaN,y);var A=[y[0]];if(g<=o)i.Mf(v,r),i.Wi(e.x,NaN,y),null!=p&&p.add(0),w?(l&&i.kB(r,e,p,v),b&&i.iB(r,e,p,v)):x?i.jB(r,e,d,f,c,p,v):0<a&&(k.ma(r.x-A[0],r.y),M.ma(e.x-y[0],e.y),i.Yy(s,n,h,r,g,d,k,M,0,1,a,p,v,A)),i.Mf(v,e);else{var N=g/((o=1+t.O.truncate(Math.ceil(g/o)))-1),I=new t.h,T=0;i.Mf(v,r),I.L(r),k.ma(r.x-y[0],r.y),null!=p&&p.add(0);for(var P=1;P<o;P++){if(P<o-1){t.kb.oj(s,n,r.x,r.y,P*N,d,m,j,h),M.ma(m.u,j.u),i.Wi(M.x,I.x,y),z.ma(y[0]+M.x,M.y);var C=P/(o-1)}else i.Wi(e.x,NaN,y),M.ma(e.x-y[0],e.y),z.L(e),C=1;w?(1==P&&l&&i.kB(r,z,p,v),P==o-1&&b&&i.iB(I,e,p,v)):x?i.EE(I,z,u)&&(r.x<e.x?I.x>z.x&&(y[0]+=6.283185307179586,z.ma(y[0]+M.x,M.y)):I.x<z.x&&(y[0]-=6.283185307179586,z.ma(y[0]+M.x,M.y)),i.jB(I,z,d,f,c,p,v)):0<a&&i.Yy(s,n,h,r,g,d,k,M,T,C,a,p,v,A),i.Mf(v,z),null!=p&&p.add(C),I.L(z),k.L(M),A[0]=y[0],T=C}}},i.aR=function(s,n,h,r,e,o,a,u,f,c){var l=new t.ga(0),p=new t.ga(0),v=new t.ga(0);t.kb.wd(s,n,r.x,r.y,e.x,e.y,v,l,p,h),p=v.u,l=l.u;var y=v=NaN;if(null!=u){y=t.F.Ah(s,n);var d=t.F.q(s,n,r.y);v=(y-d)/p,y=(y+d)/p}d=i.Mu(r,e);var b=i.Ku(r,e),g=d||b;a=i.FE(r,e,a);var w=i.Lu(r,e);w=g||a||w,i.Wi(r.x,NaN,c);var x=new t.h;i.Mf(f,r),x.L(r),null!=u&&u.add(0),w?(g?(d&&i.kB(r,e,u,f),b&&i.iB(r,e,u,f)):a&&i.jB(r,e,l,v,y,u,f),i.Wi(e.x,NaN,c),i.Mf(f,e)):p<=o?(i.Wi(e.x,NaN,c),i.Mf(f,e)):(v=new t.h,a=new t.h,v.L(r),a.L(e),v.x-=c[0],a.x-=c[0],-3.141592653589793>a.x?a.x+=6.283185307179586:3.141592653589793<a.x&&(a.x-=6.283185307179586),i.Yy(s,n,h,r,p,l,v,a,0,1,o,u,f,c),i.Mf(f,e),i.Wi(e.x,NaN,c)),null!=u&&u.add(1)},i.Yy=function(s,n,h,r,e,o,a,u,f,c,l,p,v,y){var d=new t.h,b=new t.h;d.ma(a.x+y[0],a.y),new t.ga(0),new t.ga(0),new t.ga(0),new t.ga(0);var g=new t.ga(0),w=new t.ga(0),x=new t.ga(0),m=new t.h,j=new t.h,M=new t.h,k=new t.h;m.L(a),j.L(u),a=new t.be(0),u=new t.be(0),i.up(a,j),u.add(c);var z=new t.h,A=new t.yb,N=[];for(i.YJ(4,N);0<a.size;){for(var I,T=!1,P=NaN,C=0;3>C;C++)if(I=N[C]*c+(1-N[C])*f,t.kb.oj(s,n,r.x,r.y,I*e,o,g,w,h),M.ma(g.u,w.u),0==C&&(P=I,k.L(M)),i.WW(m,M,j,A),A.hc(A.fe(M,!0),z),t.kb.wd(s,n,M.x,M.y,z.x,z.y,x,null,null,2),x.u>l){T=!0;break}T?(j.L(k),c=P,i.up(a,j),u.add(c)):(i.hB(a),u.En(u.size-1,1,u.size-1),0<a.size&&(i.Wi(j.x,d.x,y),b.ma(y[0]+j.x,j.y),i.Mf(v,b),d.L(b),null!=p&&p.add(c),m.L(j),f=c,i.oB(a,j),c=u.get(u.size-1)))}},i.BX=function(s,n,h,r,e,o,a,u,f){var c=new t.h,l=new t.h,p=new t.h,v=new t.h,y=new t.h,d=new t.h,b=new t.h,g=new t.h,w=new t.h,x=new t.h,m=new t.ga(0),j=new t.ga(0),M=new t.h,k=[[],[]],z=1==t.Eg.Sb(e);e=e.Xd(0);var A=r.ac(),N=r.wc();z?(d.ma(A.x*h,A.y*h),b.ma(N.x*h,N.y*h)):(k[0][0]=A.x,k[0][1]=A.y,k[1][0]=N.x,k[1][1]=N.y,t.cb.vt(),d.x=k[0][0]*h,d.y=k[0][1]*h,b.x=k[1][0]*h,b.y=k[1][1]*h);var I=0,T=0,P=1,C=r.Pn();c.L(A),l.L(N),N=new t.be(0);var B=new t.be(0),D=new t.be(0);i.up(N,l),i.up(B,b),D.add(P),i.Mf(f,c),null!=u&&u.add(T);var q=[],G=0<a?C?5:3:C?5:1;i.YJ(G,q);for(var F=new t.ga(0),E=new t.ga(0),S=new t.ga(0),O=new t.ga(0),H=new t.ga(0),J=new t.ga(0),R=new t.ga(0);0<B.size;){var L=!1,K=NaN;for(t.kb.wd(s,n,d.x,d.y,b.x,b.y,F,E,null,2),A=0;A<G;A++){if(0==A){if(!C&&0>=a&&F.u<=o&&3.141592653589793>Math.abs(d.x-b.x))break;if(r.Ux(T,P)<=e)break}var U=q[A]*P+(1-q[A])*T;if(r.hc(U,p),z?g.ma(p.x*h,p.y*h):(k[0][0]=p.x,k[0][1]=p.y,t.cb.vt(),g.x=k[0][0]*h,g.y=k[0][1]*h),0==A&&(K=U,y.L(p),x.L(g),0<o&&(F.u>o||3.141592653589793<=Math.abs(d.x-b.x)))){L=!0;break}if(C&&0<o){if(t.kb.wd(s,n,d.x,d.y,g.x,g.y,S,null,null,2),S.u>o||3.141592653589793<=Math.abs(d.x-g.x)){L=!0;break}}else if(0<a){if(C?(v.NS(c,l,q[A]),z?w.ma(v.x*h,v.y*h):(k[0][0]=v.x,k[0][1]=v.y,t.cb.vt(),w.x=k[0][0]*h,w.y=k[0][1]*h)):(v.L(p),w.L(g)),t.kb.wd(s,n,d.x,d.y,w.x,w.y,O,null,null,2),!(O.u<=F.u)){L=!0;break}if(t.kb.oj(s,n,d.x,d.y,O.u,E.u,m,j,2),M.ma(m.u,j.u),t.kb.wd(s,n,M.x,M.y,g.x,g.y,H,null,null,2),H.u>a){L=!0;break}if(C){if(t.kb.wd(s,n,M.x,M.y,w.x,w.y,J,null,null,2),J.u>a){L=!0;break}if(t.kb.wd(s,n,w.x,w.y,g.x,g.y,R,null,null,2),R.u>a){L=!0;break}}}}L?(l.L(y),b.L(x),P=K,i.up(N,l),i.up(B,b),D.add(P)):(i.hB(N),i.hB(B),D.En(D.size-1,1,D.size-1),i.Mf(f,l),I+=F.u,null!=u&&u.add(I),0<B.size&&(c.L(l),d.L(b),T=P,i.oB(N,l),i.oB(B,b),P=D.get(D.size-1)))}if(null!=u)for(s=1/I,A=0;A<u.size;A++)u.write(A,u.read(A)*s)},i.fC=function(t,i,s,n){n.reverse(),null!=s&&s.ni(0,s.size,1),s=null!=t?t[0]:NaN,n=null!=i?i[0]:NaN,null!=t&&(t[0]=n),null!=i&&(i[0]=s)},i.fJ=function(t,i,s,n,h){t?(n.L(s),h.L(i)):(n.L(i),h.L(s))},i.eJ=function(t,i,s){return t?(s.create(i.getType()),i.copyTo(s.get()),s.get().reverse(),s.get()):i},i.Wi=function(t,i,s){if(isNaN(i)){for(;3.141592653589793<s[0]-t;)s[0]-=6.283185307179586;for(;3.141592653589793<t-s[0];)s[0]+=6.283185307179586}else 3.141592653589793<s[0]+t-i?s[0]-=6.283185307179586:3.141592653589793<i-(s[0]+t)&&(s[0]+=6.283185307179586)},i.WW=function(t,i,s,n){3.141592653589793>Math.abs(i.x-t.x)?(n.Dc(t),3.141592653589793<=s.x-t.x?n.Ql(s.x-6.283185307179586,s.y):3.141592653589793<=t.x-s.x?n.Ql(s.x+6.283185307179586,s.y):n.Ql(s.x,s.y)):(n.Dc(s),3.141592653589793<=t.x-s.x?n.Ql(t.x-6.283185307179586,t.y):3.141592653589793<=s.x-t.x?n.Ql(t.x+6.283185307179586,t.y):n.Ql(t.x,t.y))},i.YJ=function(t,i){for(var s=0;s<t;s++){var n=Math.ceil(s/2)/(t+1);0!=s%2&&(n=-n),i[s]=.5+n}},i.Mu=function(i,s){return!!(t.s.Y(i.y,1.570796326794897)&&!t.s.Y(s.y,1.570796326794897)||t.s.Y(i.y,-1.570796326794897)&&!t.s.Y(s.y,-1.570796326794897))},i.Ku=function(i,s){return!!(t.s.Y(s.y,1.570796326794897)&&!t.s.Y(i.y,1.570796326794897)||t.s.Y(s.y,-1.570796326794897)&&!t.s.Y(i.y,-1.570796326794897))},i.FE=function(s,n,h){return!(!i.EE(s,n,h)||t.s.Y(s.y,1.570796326794897)||t.s.Y(s.y,-1.570796326794897)||t.s.Y(n.y,1.570796326794897)||t.s.Y(n.y,-1.570796326794897))},i.EE=function(t,i,s){return Math.abs(Math.abs(t.x-i.x)-3.141592653589793)<=s},i.Lu=function(i,s){return!!(t.s.Y(i.y,1.570796326794897)&&t.s.Y(s.y,1.570796326794897)||t.s.Y(i.y,-1.570796326794897)&&t.s.Y(s.y,-1.570796326794897))},i.kB=function(s,n,h,r){if(0<s.y){var e=new t.h;e.ma(n.x,1.570796326794897)}else(e=new t.h).ma(n.x,-1.570796326794897);t.s.Y(s.x,e.x)||t.s.Y(n.y,e.y)||(i.Mf(r,e),null!=h&&h.add(0))},i.iB=function(s,n,h,r){if(0<n.y){var e=new t.h;e.ma(s.x,1.570796326794897)}else(e=new t.h).ma(s.x,-1.570796326794897);t.s.Y(n.x,e.x)||t.s.Y(s.y,e.y)||(i.Mf(r,e),null!=h&&h.add(1))},i.jB=function(s,n,h,r,e,o,a){t.s.Cd(h)?(0<1.570796326794897-s.y&&((h=new t.h).ma(s.x,1.570796326794897),i.Mf(a,h),null!=o&&o.add(r)),0<1.570796326794897-n.y&&((h=new t.h).ma(n.x,1.570796326794897),i.Mf(a,h),null!=o&&o.add(r))):(0<1.570796326794897+s.y&&((h=new t.h).ma(s.x,-1.570796326794897),i.Mf(a,h),null!=o&&o.add(e)),0<1.570796326794897+n.y&&((h=new t.h).ma(n.x,-1.570796326794897),i.Mf(a,h),null!=o&&o.add(e)))},i.AU=function(t){if(-3.141592653589793>t.x)for(;-3.141592653589793>t.x;)t.x+=6.283185307179586;if(3.141592653589793<t.x)for(;3.141592653589793<t.x;)t.x-=6.283185307179586},i}();t.cj=i}(Q||(Q={})),function(t){t.ip=function(){function i(){}return i.nj=function(s,n,h){if(null==s||null==n||!t.cb.Wc(n))throw t.i.N();if(s.B())return s;var r=s,e=r.getType();if(t.aa.Hc(e)){r=t.Hh.lj(s,n),s=new t.l,r.A(s),e=t.ta.Wd(n,s,!1);for(var o=t.cb.gh(n),a=Math.floor((s.v-o.v)/o.R())*o.R()+o.v;a<s.C;)a>s.v+e&&a<s.C-e&&(r=t.Hh.ks(r,n,h,!0,a)),a+=o.R()}else{if(197==e)return(s=new t.Da(r.description)).ad(r,!1),i.nj(s,n,h);if(t.aa.yd(e))return(s=new t.Ta(r.description)).oc(r,!0),i.nj(s,n,h)}return i.Uy(r,n)},i.Uy=function(s,n){if(null==s||null==n||!t.cb.Wc(n))throw t.i.N();if(s.B())return s;var h=s.getType();return 197==h?(h=new t.Da(s.description)).ad(s,!1):t.aa.yd(h)?(h=new t.Ta(s.description)).oc(s,!0):h=s,(h=t.Hh.lj(h,n)).B()?h:1==t.Eg.Sb(n)?t.Hh.Fn(h,n,0,h!=s,0):i.NQ(h,n,h!=s)},i.NQ=function(i,s,n){if(!t.cb.Wc(s))throw t.i.N();if(i.B())return i;var h=t.cb.bf(s),r=-180*h;return h*=360,2==t.Eg.Sb(s)&&(h=(r=t.cb.gh(s)).C,h-=r=r.v),t.Hh.Hp(i,r,h,s,n,0,!0)},i}()}(Q||(Q={})),function(t){t.BY=function(){function t(){}return t.P=function(t){return 0>t?-t:t},t.Mb=function(i,s){return 0<=s?t.P(i):-t.P(i)},t.Y=function(i,s){return i==s||t.P(i-s)<=t.JC*(1+(t.P(i)+t.P(s))/2)},t.Cd=function(i){return 0==i||t.P(i)<=t.JC},t.Ah=function(i,s){var n=(s=(1-(s=Math.sqrt(1-s)))/(1+s))*s;return i/(1+s)*(1+n*(.25+n*(.015625+1/256*n)))*t.EL},t.EL=1.5707963267948966,t.JC=3552713678800501e-30,t}()}(Q||(Q={})),function(t){var i=function(t){this.Wf=t,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};t.DY=i;var s=function(){function s(t){void 0===t&&(t=null),this.Cj=null,this.Un=!1,null!==t&&(this.Cj=new i(t))}return s.prototype.Ec=function(){return null!=this.Cj?this.Cj.Kk:0},s.prototype.Of=function(){var t=new s;return this.copyTo(t),t},s.prototype.copyTo=function(t){t.Cj=this.Cj,t.Un=this.Un},s.prototype.Qz=function(){this.Un=!this.Un},s.prototype.qm=function(){return null!=this.Cj?this.Cj.Wf:null},s.prototype.LJ=function(s){if(0>=s)throw t.i.N();if(s!=this.Ec()){if(null==(s=t.pf.geogtran(s)))throw t.i.N("Geogtran not found.");this.Cj=new i(s)}},s.prototype.Bz=function(){return null==this.Cj?null:this.Cj.Wf.toString()},s.prototype.tX=function(s){if(null==s)throw t.i.N();var n=null;try{n=t.pf.fromString(t.Sc.PE_TYPE_GEOGTRAN,s)}catch(h){throw t.i.N()}this.Cj=new i(n)},s.prototype.Nb=function(t){return t==this||!(!(t instanceof s)||(0>=this.Ec()||this.Ec()!=t.Ec())&&!this.qm().isEqual(t.qm()))&&this.Un==t.Un},s.prototype.toString=function(){var t="GeographicTransformation: "+this.Bz();return 200<t.length?t.substring(0,197)+"... ("+t.length.toString()+" characters)":t},s.create=function(t,i){var n=new s;return n.LJ(t),i&&n.Qz(),n},s.uP=function(t,i){var n=new s;return n.tX(t),i&&n.Qz(),n},s}();t.Dx=s}(Q||(Q={})),function(t){var i=function(){function t(){}return t.construct=function(i,s,n,h){var r=new t;return r.hw=i,r.iw=s,r.QY=n,r.RY=h,r},t.Ey=function(t,i){return t.hw==i.hw?t.iw==i.iw?0:t.iw<i.iw?-1:1:t.hw<i.hw?-1:1},t}(),s=function(){function t(){this.yT=[],this.zT=[],this.qp()}return t.kz=function(){return null==t.jK&&(t.jK=new t),t.jK},t.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},t.prototype.iD=function(t){try{var s=[];s=s.sort(i.Ey);for(var n=0;n<s.length;n++)t.push(s[n])}catch(h){}},t}();t.CY=s}(Q||(Q={})),function(t){var i=function(){function t(){}return t.prototype.yD=function(t){this.Fk=t},t.prototype.WM=function(t){this.Fb=t},t.prototype.xD=function(t){this.zo=t},t.CE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType())},t.AE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType()||20>t.I())},t.BE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType()||20>t.I())},t}();t.Uk=i}(Q||(Q={})),function(t){t.$b=function(){function i(){}return i.TT=function(i){var s=new t.Da;return s.sx(i.es(),i.gs()),s.yj(i.es(),i.fs()),s.yj(i.ds(),i.fs()),s.yj(i.ds(),i.gs()),s},i.zh=function(i,s){return null===i?null:t.Hx.local().V(i,s,null)},i.jY=function(i,s){var n=t.Gh.local();return i=new t.Zc(i),n.V(i,s,null).next()},i.im=function(i,s,n){return t.kp.local().V(i,s,n,null)},i.ep=function(i,s,n){return t.Kx.local().V(i,s,n,null)},i.VX=function(i,s,n){var h=t.Kx.local();for(i=new t.Zc(i),s=new t.Zc(s),n=h.V(i,s,n,null),h=[];null!=(s=n.next());)h.push(s);return h},i.Nb=function(i,s,n){return t.dj.local().V(3,i,s,n,null)},i.TP=function(i,s,n){return t.dj.local().V(4,i,s,n,null)},i.RS=function(i,s,n){var h=t.Xj.local();for(i=new t.Zc(i),s=new t.Zc(s),n=h.V(i,s,n,null),h=[];null!=(s=n.next());)h.push(s);return h},i.QP=function(i,s,n){var h=t.kp.local();for(i=new t.Zc(i),s=new t.Zc(s),n=h.V(i,s,n,null),h=[];null!=(s=n.next());)h.push(s);return h},i.Ea=function(i,s,n){return t.Xj.local().V(i,s,n,null)},i.QS=function(i,s,n){if(null===(i=t.Xj.local().V(i,s,n,null,1)))return[];if(550===i.getType()){for(s=[],n=0;n<i.wa;n++)s.push(i.KR(n));return s}return 33===i.getType()?[i]:[]},i.qY=function(i,s,n){return t.dj.local().V(2,i,s,n,null)},i.contains=function(i,s,n){return t.dj.local().V(1,i,s,n,null)},i.BP=function(i,s,n){return t.dj.local().V(16,i,s,n,null)},i.touches=function(i,s,n){return t.dj.local().V(8,i,s,n,null)},i.DU=function(i,s,n){return t.dj.local().V(32,i,s,n,null)},i.TS=function(i,s,n){return t.dj.local().V(1073741824,i,s,n,null)},i.yB=function(i,s,n,h){return t.zL.local().V(i,s,n,h,null)},i.tb=function(i,s,n,h){var r=null;if(null!=n){if(r=n.Hd(),null!=h&&r.Ec()!=h.Ec()&&r.od!=h.od)throw t.i.Xk()}else if(null!=h)throw t.i.N();return i=t.rL.local().V(i,s,null),null!==r&&null!==h&&(i=t.Tc.Nh(i,r,h)),i},i.clip=function(i,s,n){return t.kL.local().V(i,t.l.construct(s.es(),s.gs(),s.ds(),s.fs()),n,null)},i.dl=function(i,s,n){if(null==i||null==s)return null;for(i=t.mL.local().V(!0,i,s,n,null),s=[];null!=(n=i.next());)n.B()||s.push(n);return s.slice(0)},i.MN=function(s,n,h,r,e,o,a,u){if(!0===e)return i.NN(s,n,h,r,o,a,u);if(e=h,null!=n){if(a=n.Hd(),null!=r&&a.Ec()!=r.Ec()){if(a.od!=r.od)throw t.i.Xk();e=[],t.Tc.XE(h,h.length,r,a,e)}}else if(null!=r)throw t.i.N();if(h=t.AC.local(),o){for(s=new t.Zc(s),n=h.V(s,n,e,o,null),s=[];null!=(o=n.next());)s.push(o);o=s.slice(0)}else for(o=[],r=0;r<s.length;r++)o[r]=h.V(s[r],n,e[r],null);return o},i.NN=function(i,s,n,h,r,e,o){if(null===s)throw t.i.N();if(null==h&&(h=4326!==s.Ec()?s.Hd():t.Tc.Zg(9001)),0!==h.od)throw t.i.N();if(t.Tc.XE(n,n.length,h,t.Tc.Zg(9001),n),h=t.FC.local(),r){for(i=new t.Zc(i),s=h.V(i,s,e,n,o,!1,r,null),n=[];null!=(e=s.next());)n.push(e);r=n.slice(0)}else{r=[];for(var a=0;a<i.length;a++)r[a]=h.V(i[a],s,e,n[a],o,!1,null)}return r},i.buffer=function(i,s,n,h,r,e,o){var a=n;if(!1===r){if(null!=s){if(r=s.Hd(),null!=h&&r.Ec()!=h.Ec()){if(r.od!=h.od)throw t.i.Xk();a=t.Tc.Nh(n,h,r)}}else if(null!=h)throw t.i.N();i=t.AC.local().V(i,s,a,null)}else{if(null===s)throw t.i.N();if(null==h&&(h=4326!==s.Ec()?s.Hd():t.Tc.Zg(9001)),0!==h.od)throw t.i.N();a=t.Tc.Nh(n,h,t.Tc.Zg(9001)),i=t.FC.local().V(i,s,e,a,o,!1,null)}return i},i.BU=function(i,s,n,h,r,e,o){if(null!=s){var a=s.Hd();if(null!=o&&a.Ec()!=o.Ec()){if(a.od!=o.od)throw t.i.Xk();n=t.Tc.Nh(n,o,a)}}else if(null!=o)throw t.i.N();for(i=new t.Zc(i),s=t.IC.local().V(i,s,n,h,r,e,null),n=[];null!=(h=s.next());)n.push(h);return n.slice(0)},i.offset=function(i,s,n,h,r,e,o){if(null!=s){var a=s.Hd();if(null!=o&&a.Ec()!=o.Ec()){if(a.od!=o.od)throw t.i.Xk();n=t.Tc.Nh(n,o,a)}}else if(null!=o)throw t.i.N();return t.IC.local().V(i,s,n,h,r,e,null)},i.iP=function(i){return t.CC.local().V(i,null)},i.jP=function(i,s){var n=t.CC.local();for(i=new t.Zc(i),s=n.V(i,s,null),n=[];null!=(i=s.next());)n.push(i);return n},i.nz=function(i,s,n){return t.Ix.local().nz(i,s,n)},i.oz=function(i,s){return t.Ix.local().oz(i,s)},i.pz=function(i,s,n,h){return t.Ix.local().pz(i,s,n,h)},i.eC=function(i,s){return t.Yl.local().V(i,s,!1,null)},i.dT=function(i,s){return t.Yl.local().rs(i,s,null)},i.QQ=function(i,s,n,h,r){var e=t.EC.local();if(null!=s){if(s=s.Hd(),null!=r&&s.Ec()!=r.Ec()){if(s.od!=r.od)throw t.i.Xk();n=t.Tc.Nh(n,r,s)}}else if(null!=r)throw t.i.N();return e.V(i,n,h,null)},i.Qr=function(i,s,n,h){var r=t.Xl.local();if(null!=s){if(s=s.Hd(),null!=h&&s.Ec()!=h.Ec()){if(s.od!=h.od)throw t.i.Xk();n=t.Tc.Nh(n,h,s)}}else if(null!=h)throw t.i.N();return r.V(i,n,null)},i.Wy=function(i,s,n,h,r){void 0===r&&(r=0);var e=t.tL.local();if(4==r)throw t.i.Ie();if(0!==r)throw t.i.Ie();if(null!==h){if(0!==h.od)throw t.i.N("Unit must be a linear unit type");n=t.Tc.Nh(n,h,t.Tc.Zg(9001))}return e.V(i,n,s,r,null)},i.WQ=function(s,n,h,r){if(null===s)return 0;if(4==r)throw t.i.Ie();if(0!==r)throw t.i.Ie();if(197==s.getType())s=i.TT(s);else if(1736!=s.getType())return 0;if(r=t.cb.sc(n),s=t.cb.zh(s,n,r),s=t.UK.XQ([s])[0],null!==h){if(2!==h.od)throw t.i.N("Unit must be a area unit type");s=t.Tc.Nh(s,t.Tc.Zg(109404),h)}return s},i.ZQ=function(i,s,n,h){if(i=t.vL.local().V(i,s,h,null),null!==n){if(0!==n.od)throw t.i.N("Unit must be a linear unit type");i=t.Tc.Nh(i,t.Tc.Zg(9001),n)}return i},i.JU=function(i,s,n){if(null===i)return 0;var h=null;if(null!=s){if(0==(h=s.Hd()).od&&(null==(h=t.Tc.aG(h))&&null!==n))throw t.i.N();if(null!=n&&h.Ec()!=n.Ec()&&h.od!=n.od)throw t.i.Xk()}else if(null!=n)throw t.i.N();return 1736==i.getType()||197==i.getType()?(i=i.Ke(),null!==n?t.Tc.Nh(i,h,n):i):0},i.KU=function(i,s,n){if(null===i||i.B()||1>i.Db())return 0;var h=null;if(null!=s){if(h=s.Hd(),null!=n&&h.Ec()!=n.Ec()&&h.od!=n.od)throw t.i.Xk()}else if(null!=n)throw t.i.N();1736==i.getType()||197==i.getType()?s=i.mg():t.aa.yd(i.getType())?(s=new t.Ta(i.description)).oc(i,!0):s=i,i=0,s=s.Ga();for(var r=new t.h,e=new t.h;s.$a();)for(;s.Ha();){var o=s.ha();o.Yp(r),o.Tr(e),i+=t.h.tb(r,e)}return null!==h&&null!==n&&(i=t.Tc.Nh(i,h,n)),i},i.fP=function(t){return void 0!==t.points?i.mS(t,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM):void 0!==t.rings?i.lG(t.rings,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM,"P"):void 0!==t.paths?i.lG(t.paths,void 0!==t.hasZ&&t.hasZ,void 0!==t.hasM&&t.hasM,"L"):void 0!==t.x?i.nS(t):void 0!==t.xmin?i.lS(t):null},i.nS=function(i){if(null==i.x||"NaN"==i.x)return new t.Sa;var s=new t.Sa(i.x,i.y);return void 0!==i.z&&null!==i.z&&s.wX(i.z),void 0!==i.m&&null!==i.m&&s.hX(i.m),s},i.lS=function(i){if(null==i.xmin||"NaN"==i.xmin)return new t.Fh;var s=new t.Fh(i.xmin,i.ymin,i.xmax,i.ymax);return void 0!==i.zmin&&null!==i.zmin&&s.setInterval(1,0,i.zmin,i.zmax),void 0!==i.mmin&&null!==i.mmin&&s.setInterval(2,0,i.mmin,i.mmax),s},i.mS=function(i,s,n){var h=0,r=new t.de,e=3*i.points.length;0!=e%2&&e++,2>e&&(e=2);var o=t.O.truncate(3*i.points.length/2);4>o?o=4:16>o&&(o=16),e=t.Yc.Dn(e,0);var a=t.Yc.Dn(o);o=t.Yc.Dn(o);for(var u=0;u<i.points.length;u++)e.write(2*u,i.points[u][0]),e.write(2*u+1,i.points[u][1]),a.write(u,s||n?i.points[u][2]:NaN),o.write(u,n&&s?i.points[u][3]:NaN),h++;return 0!=h&&(r.resize(h),r.hn(0,e)),s&&(r.re(1),r.hn(1,a)),n&&(r.re(2),r.hn(2,0==s?a:o)),r.Pc(16777215),r},i.lG=function(i,s,n,h){var r=0,e=2;if("P"==h){var o=new t.Da;r=1,e=3}else o=new t.Ta;for(var a=t.Yc.Oh(0),u=t.Yc.Mr(0),f=0,c=0,l=[],p=[],v=0;v<i.length;v++){var y=i[v].length;if(l[v]=!1,"P"===h&&i[v][0][0]===i[v][i[v].length-1][0]&&i[v][0][1]===i[v][i[v].length-1][1]){var d=0==n||(i[v][0][3]===i[v][i[v].length-1][3]||void 0===i[v][0][3]&&void 0===i[v][i[v].length-1][3]);(0==s||i[v][0][2]===i[v][i[v].length-1][2]||void 0===i[v][0][2]&&void 0===i[v][i[v].length-1][2])&&d&&(l[v]=!0,--y)}y>=e?(p[v]=!1,c+=1,a.add(f),u.add(r),f+=y):p[v]=!0}for(0!=(h=3*f)%2&&h++,2>h&&(h=2),4>(v=t.O.truncate(3*f/2))?v=4:16>v&&(v=16),h=t.Yc.Dn(h,0),r=t.Yc.Dn(v),e=t.Yc.Dn(v),v=y=0;v<i.length;v++)if(!1===p[v])for(d=0;d<i[v].length;d++){var b=!1;d===i[v].length-1&&!0===l[v]&&(b=!0),b||(h.write(2*y,i[v][d][0]),h.write(2*y+1,i[v][d][1]),r.write(y,s||n?i[v][d][2]:NaN),e.write(y,n&&s?i[v][d][3]:NaN),y++)}return 0!=f&&(i=o,a.resize(c),u.resize(c),0<f&&(a.add(f),u.add(0)),i.hn(0,h),i.PJ(u),i.QJ(a)),s&&(o.re(1),o.hn(1,r)),n&&(o.re(2),o.hn(2,0==s?r:e)),o.Pc(16777215),o},i}()}(Q||(Q={})),function(t){t.Ex=function(){function t(){}return t.br=function(t){var i,s=0,n=t.length,h=t[0];for(i=0;i<n-1;i++){var r=t[i+1];s+=(r[0]-h[0])*(r[1]+h[1]),h=r}return 0<=s},t.rotate=function(i,s,n){s=s*Math.PI/180;var h=Math.cos(s),r=Math.sin(s);if(void 0!==i.paths){s={paths:[]};for(var e=0;e<i.paths.length;e++){for(var o=i.paths[e],a=[],u=0;u<o.length;u++){var f=o[u].slice(0);a.push(f);var c=h*(o[u][0]-n.x)-r*(o[u][1]-n.y)+n.x,l=r*(o[u][0]-n.x)+h*(o[u][1]-n.y)+n.y;f[0]=c,f[1]=l}s.paths.push(a),void 0!==i.hasZ&&(s.hasZ=i.hasZ),void 0!==i.hasM&&(s.hasM=i.hasM)}return s}if(void 0!==i.rings){for(s={rings:[]},e=0;e<i.rings.length;e++){o=i.rings[e],a=[];var p=t.br(o);for(u=0;u<o.length;u++)f=o[u].slice(0),a.push(f),c=h*(o[u][0]-n.x)-r*(o[u][1]-n.y)+n.x,l=r*(o[u][0]-n.x)+h*(o[u][1]-n.y)+n.y,f[0]=c,f[1]=l;t.br(a)!==p&&a.reverse(),s.rings.push(a),void 0!==i.hasZ&&(s.hasZ=i.hasZ),void 0!==i.hasM&&(s.hasM=i.hasM)}return s}if(void 0!==i.x)return s={x:h*(i.x-n.x)-r*(i.y-n.y)+n.x,y:r*(i.x-n.x)+h*(i.y-n.y)+n.y},void 0!==i.z&&(s.z=i.z),void 0!==i.m&&(s.m=i.m),void 0!==i.hasZ&&(s.hasZ=i.hasZ),void 0!==i.hasM&&(s.hasM=i.hasM),s;if(void 0!==i.points){for(s={points:[]},e=i.points,u=0;u<e.length;u++)(o=e[u].slice(0))[0]=h*(e[u][0]-n.x)-r*(e[u][1]-n.y)+n.x,o[1]=r*(e[u][0]-n.x)+h*(e[u][1]-n.y)+n.y,s.points.push(o);return void 0!==i.hasZ&&(s.hasZ=i.hasZ),void 0!==i.hasM&&(s.hasM=i.hasM),s}return null},t.JQ=function(i,s){if(void 0!==i.paths){for(var n={paths:[]},h=0;h<i.paths.length;h++){for(var r=i.paths[h],e=[],o=0;o<r.length;o++){var a=r[o].slice(0);e.push(a);var u=s.x-r[o][0];a[0]=r[o][0]+2*u}n.paths.push(e)}return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}if(void 0!==i.rings){for(n={rings:[]},h=0;h<i.rings.length;h++){r=i.rings[h];var f=t.br(r);for(e=[],o=0;o<r.length;o++)a=r[o].slice(0),e.push(a),u=s.x-r[o][0],a[0]=r[o][0]+2*u;t.br(e)!==f&&e.reverse(),n.rings.push(e)}return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}if(void 0!==i.x)return u=s.x-i.x,n={x:i.x+2*u,y:i.y},void 0!==i.z&&(n.z=i.z),void 0!==i.m&&(n.m=i.m),void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n;if(void 0!==i.points){for(n={points:[]},h=i.points,o=0;o<h.length;o++)r=h[o].slice(0),u=s.x-r[0],r[0]+=2*u,n.points.push(r);return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}return void 0!==i.xmin?(n={v:i.xmin,G:i.ymin,C:i.xmax,H:i.ymax},void 0!==i.zmin&&(n.zmin=i.zmin,n.zmax=i.zmax),void 0!==i.mmin&&(n.mmin=i.mmin,n.mmax=i.mmax),u=s.x-i.xmin,n.xmax=i.xmin+2*u,u=s.x-i.xmax,n.xmin=i.xmax+2*u,void 0!==i.zmin&&(n.zmin=i.zmin),void 0!==i.zmax&&(n.zmax=i.zmax),void 0!==i.mmin&&(n.mmin=i.mmin),void 0!==i.mmax&&(n.mmax=i.mmax),void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n):null},t.KQ=function(i,s){if(void 0!==i.paths){for(var n={paths:[]},h=0;h<i.paths.length;h++){for(var r=i.paths[h],e=[],o=0;o<r.length;o++){var a=r[o].slice(0);e.push(a);var u=s.y-r[o][1];a[1]=r[o][1]+2*u}n.paths.push(e)}return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}if(void 0!==i.rings){for(n={rings:[]},h=0;h<i.rings.length;h++){r=i.rings[h];var f=t.br(r);for(e=[],o=0;o<r.length;o++)a=r[o].slice(0),e.push(a),u=s.y-r[o][1],a[1]=r[o][1]+2*u;t.br(e)!==f&&e.reverse(),n.rings.push(e)}return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}if(void 0!==i.x)return u=s.y-i.y,n={y:i.y+2*u,x:i.x},void 0!==i.z&&(n.z=i.z),void 0!==i.m&&(n.m=i.m),void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n;if(void 0!==i.points){for(n={points:[]},h=i.points,o=0;o<h.length;o++)r=h[o].slice(0),u=s.y-r[1],r[1]+=2*u,n.points.push(r);return void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n}return void 0!==i.xmin?(n={v:i.xmin,G:i.ymin,C:i.xmax,H:i.ymax},void 0!==i.zmin&&(n.zmin=i.zmin,n.zmax=i.zmax),void 0!==i.mmin&&(n.mmin=i.mmin,n.mmax=i.mmax),u=s.y-i.ymin,n.ymax=i.ymin+2*u,u=s.y-i.ymax,n.ymin=i.ymax+2*u,void 0!==i.zmin&&(n.zmin=i.zmin),void 0!==i.zmax&&(n.zmax=i.zmax),void 0!==i.mmin&&(n.mmin=i.mmin),void 0!==i.mmax&&(n.mmax=i.mmax),void 0!==i.hasZ&&(n.hasZ=i.hasZ),void 0!==i.hasM&&(n.hasM=i.hasM),n):null},t}()}(Q||(Q={})),function(t){t.ZK=function(){function i(){}return i.Ig=function(i,s){switch(null==s&&(s=t.ee.og()),i){case 33:return new t.Sa(s);case 322:return new t.yb(s);case 197:return new t.Fh(s);case 550:return new t.de(s);case 1607:return new t.Ta(s);case 1736:return new t.Da(s);default:throw t.i.fa("invalid argument.")}},i}()}(Q||(Q={})),function(t){var i=function(){function i(i,s){this.Te=t.ia.qf(i,-1),this.ua=new t.au,this.wl=s}return i.prototype.AW=function(t){this.ua.At(Math.min(this.Te.size,t)),this.ua.fn(t)},i.prototype.addElement=function(i,s){if(void 0===s)return this.eN(i);s=t.O.truncate(s%this.Te.size);var n=this.Te.get(s);return-1==n&&(n=this.ua.Ph(),this.Te.set(s,n)),this.ua.addElement(n,i)},i.prototype.eN=function(i){var s=this.wl.jz(i);s=t.O.truncate(s%this.Te.size);var n=this.Te.get(s);return-1==n&&(n=this.ua.Ph(),this.Te.set(s,n)),this.ua.addElement(n,i)},i.prototype.jd=function(i,s){if(void 0===s)this.KP(i);else{s=t.O.truncate(s%this.Te.size);var n=this.Te.get(s);if(-1==n)throw t.i.N();for(var h=this.ua.rc(n),r=-1;-1!=h;){var e=this.ua.lb(h);this.ua.ja(h)==i?(this.ua.jd(n,r,h),-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(s,-1))):r=h,h=e}}},i.prototype.KP=function(i){var s=this.wl.jz(i);s=t.O.truncate(s%this.Te.size);var n=this.Te.get(s);if(-1==n)throw t.i.N();for(var h=this.ua.rc(n),r=-1;-1!=h;){var e=this.ua.lb(h);this.ua.ja(h)==i?(this.ua.jd(n,r,h),-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(s,-1))):r=h,h=e}},i.prototype.rR=function(i){return i=t.O.truncate(i%this.Te.size),-1==(i=this.Te.get(i))?-1:this.ua.rc(i)},i.prototype.ER=function(t){return this.ua.lb(t)},i.prototype.vd=function(i){var s=this.wl.jz(this.ja(i));s=t.O.truncate(s%this.Te.size);var n=this.Te.get(s);if(-1==n)throw t.i.N();for(var h=this.ua.rc(n),r=-1;-1!=h;){if(h==i)return this.ua.jd(n,r,h),void(-1==this.ua.rc(n)&&(this.ua.bh(n),this.Te.set(s,-1)));r=h,h=this.ua.lb(h)}throw t.i.N()},i.prototype.ja=function(t){return this.ua.ja(t)},i.prototype.clear=function(){this.Te=t.ia.qf(this.Te.size,-1),this.ua.clear()},i.prototype.size=function(){return this.ua.TF()},i}();t.dL=i}(Q||(Q={})),function(t){var i=function(){function i(){this.Li=new t.$c(3),this.ua=new t.$c(6),this.sT=!1,this.je=-1}return i.prototype.fl=function(t){this.Li.jd(t)},i.prototype.Pw=function(){return this.Li.Ce()},i.prototype.bv=function(t){this.ua.jd(t)},i.prototype.$A=function(){return this.ua.Ce()},i.prototype.WB=function(t,i){this.Li.S(t,1,i)},i.prototype.ex=function(t,i){this.Li.S(t,2,i)},i.prototype.gX=function(t,i){this.Li.S(t,3,i)},i.prototype.UB=function(t,i){this.ua.S(t,4,i)},i.prototype.jX=function(t,i){this.ua.S(t,3,i)},i.prototype.TJ=function(t,i){this.ua.S(t,2,i)},i.prototype.Ph=function(t){var i=this.$A();return this.ua.S(i,3,this.je),this.ua.S(i,4,0),this.ua.S(i,5,t),-1!=this.je&&this.TJ(this.je,i),this.je=i},i.prototype.bh=function(t){this.LE(t);var i=this.ua.T(t,2),s=this.ua.T(t,3);return-1!=i?this.jX(i,s):this.je=s,-1!=s&&this.TJ(s,i),this.bv(t),s},i.prototype.At=function(t){this.ua.De(t)},i.prototype.PF=function(t){return this.ua.T(t,5)},i.prototype.fX=function(t,i){this.ua.S(t,5,i)},i.prototype.addElement=function(t,i){return this.tS(t,i)},i.prototype.tS=function(t,i){var s=this.Pw();this.ex(s,-1),-1==this.ua.T(t,0)&&this.ua.S(t,0,s);var n=this.ua.T(t,1);return this.WB(s,n),-1!=n&&this.ex(n,s),this.ua.S(t,1,s),this.setData(s,i),this.UB(t,this.bs(t)+1),this.sT&&this.gX(s,t),s},i.prototype.jd=function(t,i){var s=this.we(i),n=this.lb(i);return-1!=s?this.ex(s,n):this.ua.S(t,0,n),-1!=n?this.WB(n,s):this.ua.S(t,1,s),this.fl(i),this.UB(t,this.bs(t)-1),n},i.prototype.fn=function(t){this.Li.De(t)},i.prototype.getData=function(t){return this.Li.T(t,0)},i.prototype.setData=function(t,i){this.Li.S(t,0,i)},i.prototype.lb=function(t){return this.Li.T(t,2)},i.prototype.we=function(t){return this.Li.T(t,1)},i.prototype.rc=function(t){return this.ua.T(t,0)},i.prototype.Fc=function(t){return this.ua.T(t,1)},i.prototype.clear=function(){for(var t=this.je;-1!=t;)t=this.bh(t)},i.prototype.LE=function(t){for(var i=this.Fc(t);-1!=i;){var s=i;i=this.we(s),this.fl(s)}this.ua.S(t,0,-1),this.ua.S(t,1,-1),this.UB(t,0)},i.prototype.B=function(){return 0==this.Li.size},i.prototype.TF=function(){return this.Li.size},i.prototype.bs=function(t){return this.ua.T(t,4)},i.prototype.qz=function(t){return this.ua.T(t,3)},i}();t.jp=i}(Q||(Q={})),function(t){var i=function(){function i(i){void 0===i?(this.ug=new t.$c(2),this.ua=new t.$c(4),this.je=-1,this.Qv=!0):(this.ug=new t.$c(2),this.ua=new t.$c(i?4:2),this.je=-1,this.Qv=i)}return i.prototype.fl=function(t){this.ug.jd(t)},i.prototype.Pw=function(){return this.ug.Ce()},i.prototype.bv=function(t){this.ua.jd(t)},i.prototype.$A=function(){return this.ua.Ce()},i.prototype.Ph=function(){var t=this.$A();return this.Qv&&(this.ua.S(t,3,this.je),-1!=this.je&&this.ua.S(this.je,2,t),this.je=t),t},i.prototype.bh=function(t){for(var i=this.rc(t);-1!=i;){var s=i;i=this.lb(i),this.fl(s)}this.Qv&&(i=this.ua.T(t,2),s=this.ua.T(t,3),-1!=i?this.ua.S(i,3,s):this.je=s,-1!=s&&this.ua.S(s,2,i)),this.bv(t)},i.prototype.At=function(t){this.ua.De(t)},i.prototype.addElement=function(t,i){var s=this.ua.T(t,1),n=this.Pw();return-1!=s?this.ug.S(s,1,n):this.ua.S(t,0,n),this.ua.S(t,1,n),this.ug.S(n,0,i),n},i.prototype.fn=function(t){this.ug.De(t)},i.prototype.jd=function(t,i,s){-1!=i?(this.ug.S(i,1,this.ug.T(s,1)),this.ua.T(t,1)==s&&this.ua.S(t,1,i)):(this.ua.S(t,0,this.ug.T(s,1)),this.ua.T(t,1)==s&&this.ua.S(t,1,-1)),this.fl(s)},i.prototype.Hy=function(t,i){var s=this.ua.T(t,1),n=this.ua.T(i,0);-1!=n&&(-1!=s?this.ug.S(s,1,n):this.ua.S(t,0,n),this.ua.S(t,1,this.ua.T(i,1))),this.Qv&&(t=this.ua.T(i,2),s=this.ua.T(i,3),-1!=t?this.ua.S(t,3,s):this.je=s,-1!=s&&this.ua.S(s,2,t)),this.bv(i)},i.prototype.ja=function(t){return this.ug.T(t,0)},i.prototype.Sj=function(t,i){this.ug.S(t,0,i)},i.prototype.lb=function(t){return this.ug.T(t,1)},i.prototype.rc=function(t){return this.ua.T(t,0)},i.prototype.Jn=function(t){return this.ja(this.rc(t))},i.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},i.prototype.B=function(){return 0==this.ug.size},i.prototype.TF=function(){return this.ug.size},i.prototype.qz=function(t){return this.ua.T(t,3)},i}();t.au=i}(Q||(Q={})),function(t){t.ta=function(){function i(){}return i.Wd=function(t,i,s){return i=i.xr(),t=null!=t&&void 0!==t.Xd?t.Xd(0):0,s&&(i*=4,t*=1.1),Math.max(t,i)},i.Er=function(t){return 2*Math.sqrt(2)*t},i.rN=function(t){return Math.sqrt(2)*t},i.kj=function(s,n,h){var r=new t.l;return n.A(r),i.Wd(s,r,h)},i.wE=function(t,i,s){return i=i.Tg(1,0).xr(),t=null!=t?t.Xd(1):0,s&&(i*=4,t*=1.1),Math.max(t,i)},i.mv=function(i,s){var n=new t.l;return i.xc(n),i=new t.l,s.xc(i),n.Zb(i),n},i.YN=function(i){var s=new t.l;if(i.xc(s),s.B())return null;var n=new t.du(s,8),h=-1,r=new t.l,e=!1;do{for(var o=0,a=i.da();o<a;o++){if(i.Rj(o,r),-1==(h=n.Jz(o,r,h))){if(e)throw t.i.fa("internal error");i.yp(s,!1),e=!0,n.reset(s,8);break}e=!1}}while(e);return n},i.nE=function(i){var s=new t.l;i.xc(s);for(var n=new t.du(s,8),h=-1,r=i.Ga(),e=new t.l,o=!1;r.$a();)for(;r.Ha();){var a=r.ha(),u=r.wb();if(a.A(e),-1==(h=n.Jz(u,e,h))){if(o)throw t.i.Qa();i.yp(s,!1),o=!0,n.reset(s,8),r.Zi();break}}return n},i.jj=function(i,s){var n=new t.l;i.xc(n);for(var h=new t.du(n,8),r=-1,e=new t.l,o=i.Ga(),a=!1;o.$a();)for(;o.Ha();){var u=o.ha(),f=o.wb();if(u.A(e),e.isIntersecting(s)&&-1==(r=h.Jz(f,e,r))){if(a)throw t.i.fa("internal error.");i.yp(n,!1),a=!0,h.reset(n,8),o.Zi();break}}return h},i.oE=function(i,s){for(var n=new t.du(s,8),h=new t.h,r=!1,e=new t.l,o=0;o<i.I();o++)if(i.D(o,h),s.contains(h)&&(e.K(h),-1==n.vj(o,e))){if(r)throw t.i.Qa();r=!0,o=new t.l,i.yp(o,!1),n.reset(o,8),o=-1}return n},i.lR=function(i,s,n){var h=new t.l,r=new t.l;i.xc(h),s.xc(r),h.W(n,n),r.W(n,n);var e=new t.l;e.K(h),e.Ea(r),i=i.Ga(),s=s.Ga();var o=new t.xC;o.aC(n);var a=!1;for(o.pK();i.$a();)for(;i.Ha();)i.ha().A(h),h.isIntersecting(e)&&(a=!0,(n=new t.l).K(h),o.JD(i.wb(),n));if(o.iF(),!a)return null;for(h=!1,o.oK();s.$a();)for(;s.Ha();)s.ha().A(r),r.isIntersecting(e)&&(h=!0,(n=new t.l).K(r),o.ED(s.wb(),n));return o.hF(),h?o:null},i.mR=function(i,s,n,h,r){var e=i.getType(),o=s.getType(),a=new t.l,u=new t.l;i.xc(a),s.xc(u),a.W(n,n),u.W(n,n);var f=new t.l;f.K(a),f.Ea(u);var c=new t.xC;c.aC(n);var l=!1;c.pK();var p=0;for(n=i.da();p<n;p++)h&&1736==e&&!i.Ev(p)||(i.Rj(p,a),a.isIntersecting(f)&&(l=!0,c.JD(p,a)));if(c.iF(),!l)return null;for(i=!1,c.oK(),h=0,n=s.da();h<n;h++)r&&1736==o&&!s.Ev(h)||(s.Rj(h,u),u.isIntersecting(f)&&(i=!0,c.ED(h,u)));return c.hF(),i?c:null},i.Ru=function(i,s,n){if(i!=s)for(var h=0;h<n;h++)null==i[h]?i[h]=t.h.al(s[h]):i[h].L(s[h])},i.Jy=function(t,i,s,n){var h=0;for(n+=0;h<n;s++,h++)null==t[h]&&(t[h]=[0,0]),t[h][0]=i[s].x,t[h][1]=i[s].y},i.Iy=function(i,s,n,h){var r=s,e=0;for(s=h+s;r<s;e++,r++)null==i[r]?i[r]=t.h.construct(n[e][0],n[e][1]):i[r].ma(n[e][0],n[e][1])},i.kP=function(i,s,n){if(i!=s)for(var h=0;h<n;h++)null==i[h]?i[h]=new t.Sa(s[h]):s[h].copyTo(i[h])},i.vE=function(t,i,s,n){var h=0;return null!=t&&(h=t.Xd(0),n&&!s||null==t||(h+=1.01*t.vz(0))),s&&(i*=4,h*=1.01),Math.max(h,i)},i.ty=function(t,s,n){return i.vE(t,s.xr(),n,!1)},i.gO=function(s,n){var h=new t.l;return n.A(h),i.ty(s,h,!0)},i.uy=function(t,s){return i.vE(t,s.xr(),!1,!0)},i.Hu=function(s,n){var h=new t.l;return n.A(h),i.uy(s,h)},i.AG=function(i,s,n,h){h*=h;var r=new t.h;if(r.uc(i,s),(i=new t.h).uc(n,s),s=r.Sk(),n=i.Sk(),s<=h&&n<=h)return!0;var e=t.lc.ox(r.wi(i));return(e<=h*s||e<=h*n)&&0<=r.Qh(i)},i.dK=function(i,s,n,h){for(var r=0;r<s;r++){var e=i[r].y,o=t.O.Rk(e,n,h);o!=e&&(i[r].y=o)}},i}()}(Q||(Q={})),function(t){var i,s,n=function(){function t(t){this.Ya=t}return t.prototype.compare=function(t,i,s){t=t.ja(s),s=this.Ya.nk(i);var n=this.Ya.nk(t);return s<n?-1:s==n?e.gq(i)&&e.Gv(t)?-1:e.gq(t)&&e.Gv(i)?1:0:1},t}(),h=function(){function t(t){this.Ya=t}return t.prototype.nr=function(t,i,s){this.Ya.GX(s,t,i)},t.prototype.$p=function(t){return this.Ya.nk(t)},t}();(s=i||(i={}))[s.initialize=0]="initialize",s[s.pIn=1]="pIn",s[s.pL=2]="pL",s[s.pR=3]="pR",s[s.pT=4]="pT",s[s.right=5]="right",s[s.left=6]="left",s[s.all=7]="all";var r=function(){function i(){this.Ya=null,this.Qi=new t.Nc,this.hi=new t.ia(0),this.sg=[0,0]}return i.prototype.Xi=function(t,i){this.Qi.oa=t.oa-i,this.Qi.va=t.va+i,this.hi.resize(0),this.he=0,this.sg[0]=0},i.prototype.EB=function(i,s,n){if(i>s)throw t.i.N();this.Qi.oa=i-n,this.Qi.va=s+n,this.hi.resize(0),this.he=0,this.sg[0]=0},i.prototype.Uo=function(t,i){this.Qi.oa=t-i,this.Qi.va=t+i,this.hi.resize(0),this.he=0,this.sg[0]=0},i.prototype.next=function(){if(!this.Ya.lq)throw t.i.Hb();if(0>this.he)return-1;for(var i=!0;i;)switch(this.sg[this.he]){case 1:i=this.FU();break;case 2:i=this.GU();break;case 3:i=this.HU();break;case 4:i=this.IU();break;case 5:i=this.GW();break;case 6:i=this.kT();break;case 7:i=this.tN();break;case 0:i=this.Gz();break;default:throw t.i.Qa()}return-1!=this.Og?this.Mp()>>1:-1},i.construct=function(t){var s=new i;return s.Ya=t,s.hi.Jb(20),s.he=-1,s},i.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,null!=this.Ya.me&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},i.prototype.FU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.Og=this.he=-1,!1;var t=this.Ya.Np(this.Lc);return this.Qi.va<t?(t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=6),!0):t<this.Qi.oa?(t=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.Zr(t),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),!0)},i.prototype.GU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var t=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.Zr(t),this.sg[++this.he]=5),!0}return t=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=(t=this.Ya.lk(this.Lc))&&this.hi.add(t),!0},i.prototype.HU=function(){if(this.Lc=this.Mi,-1==this.Lc)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var t=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=6),!0}return t=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=(t=this.Ya.qj(this.Lc))&&this.hi.add(t),!0},i.prototype.IU=function(){if(0==this.hi.size)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var t=this.Ya.mk(this.Lc);return-1!=t&&(this.ei=this.Ya.kl(t),this.sg[++this.he]=7),-1!=this.Ya.qj(this.Lc)&&this.hi.add(this.Ya.qj(this.Lc)),-1!=this.Ya.lk(this.Lc)&&this.hi.add(this.Ya.lk(this.Lc)),!0},i.prototype.kT=function(){return this.Og=this.ei,-1!=this.Og&&e.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},i.prototype.GW=function(){return this.Og=this.ei,-1!=this.Og&&e.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},i.prototype.tN=function(){return this.Og=this.ei,-1!=this.Og&&e.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},i.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},i.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},i.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},i}();t.EY=r;var e=function(){function i(t){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=t,this.lq=this.Sv=!1}return i.prototype.kr=function(){this.Nk(!0)},i.prototype.Br=function(i,s){if(!this.Sv)throw t.i.Hb();this.Fj.push(new t.Nc(i,s))},i.prototype.Fp=function(){if(!this.Sv)throw t.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},i.prototype.vj=function(i){if(!this.Sf||!this.lq)throw t.i.N("invalid call");if(-1==this.kf){var s=this.Fj.length;if(this.iA){var n=new t.ia(0);n.Jb(2*s),this.bJ(n),this.$h.Jb(2*s),this.$h.resize(0),this.aJ(n),this.Km.resize(s,-1),this.Km.Wj(-1,0,s),this.iA=!1}else this.Km.Wj(-1,0,s);this.kf=this.Tu()}s=this.pG(i<<1,this.kf),n=this.$f.addElement(1+(i<<1),this.xz(s)),this.VJ(s,n),this.Km.set(i,s),this.Zv++},i.prototype.remove=function(i){if(!this.Sf||!this.lq)throw t.i.fa("invalid call");var s=this.Km.get(i);if(-1==s)throw t.i.N("the interval does not exist in the interval tree");this.Km.set(i,-1),this.Zv--;var n=this.xz(s),h=this.$f.ZR(n);this.$f.vd(this.wR(s),n),this.$f.vd(this.TR(s),n),0==(i=this.$f.size(n))&&(this.$f.MP(n),this.ZJ(h,-1)),this.Ej.jd(s),n=this.UF(h);var r=this.qj(h),e=this.lk(h);for(s=0;!(0<i||h==this.kf||-1!=r&&-1!=e);)h==this.qj(n)?-1!=r?(this.Ok(n,r),this.Uj(r,n),this.Ok(h,-1)):-1!=e?(this.Ok(n,e),this.Uj(e,n),this.Qk(h,-1)):this.Ok(n,-1):-1!=r?(this.Qk(n,r),this.Uj(r,n),this.Ok(h,-1)):-1!=e?(this.Qk(n,e),this.Uj(e,n),this.Qk(h,-1)):this.Qk(n,-1),this.Uj(h,-1),s++,h=n,i=-1!=(n=this.mk(h))?this.$f.size(n):0,r=this.qj(h),e=this.lk(h),n=this.UF(h)},i.prototype.reset=function(){if(!this.Sf||!this.lq)throw t.i.N("invalid call");this.Nk(!1)},i.prototype.size=function(){return this.Zv},i.prototype.getIterator=function(){return r.construct(this)},i.prototype.bJ=function(t){for(var i=this.Fj.length,s=0;s<2*i;s++)t.add(s);this.HX(t,2*i)},i.prototype.aJ=function(t){for(var i=NaN,s=0;s<t.size;s++){var n=t.get(s),h=this.nk(n);h!=i&&(this.$h.add(n),i=h)}},i.prototype.vS=function(){var i=this.Fj.length,s=new t.ia(0);s.Jb(2*i),this.bJ(s),this.$h.Jb(2*i),this.$h.resize(0),this.aJ(s),this.Ej.De(i),this.Ti.fn(2*i);var n=t.Yc.Oh(i);for(n.Wj(-1,0,i),this.kf=this.Tu(),i=0;i<s.size;i++){var h=s.get(i),r=n.get(h>>1);-1!=r?this.VJ(r,this.Ti.addElement(this.xz(r),h)):(r=this.pG(h,this.kf),n.set(h>>1,r))}},i.prototype.pG=function(i,s){var n=s,h=s,r=-1,e=0,o=this.$h.size-1,a=0,u=i>>1,f=NaN,c=NaN,l=!0,p=this.DR(u);for(u=this.AR(u);l;){e<o?(a=e+t.O.truncate((o-e)/2),-1==this.gz(n)&&this.FJ(n,this.$h.get(a),this.$h.get(a+1))):-1==this.gz(n)&&this.FJ(n,this.$h.get(e),this.$h.get(e));var v=this.Np(n);if(u<v)-1!=s&&(s==n?(h=n,f=v,c=-1!=(s=this.qj(n))?this.Np(s):NaN):c>v&&(v<f?this.Ok(h,n):this.Qk(h,n),this.Qk(n,s),this.Sf&&(this.Uj(n,h),this.Uj(s,n)),h=n,f=v,s=-1,c=NaN)),-1==(o=this.xR(n))&&(o=this.Tu(),this.dX(n,o)),n=o,o=a;else if(p>v)-1!=s&&(s==n?(h=n,f=v,c=-1!=(s=this.lk(n))?this.Np(s):NaN):c<v&&(v<f?this.Ok(h,n):this.Qk(h,n),this.Ok(n,s),this.Sf&&(this.Uj(n,h),this.Uj(s,n)),h=n,f=v,s=-1,c=NaN)),-1==(e=this.UR(n))&&(e=this.Tu(),this.oX(n,e)),n=e,e=a+1;else{-1==(l=this.mk(n))&&(l=this.zP(n),this.ZJ(n,l));var y=this.fN(l,i);r=this.xP(),this.qX(r,l),this.cX(r,y),n!=s&&(v<f?this.Ok(h,n):this.Qk(h,n),this.Sf&&this.Uj(n,h),-1!=s&&(c<v?this.Ok(n,s):this.Qk(n,s),this.Sf&&this.Uj(s,n))),l=!1}}return r},i.prototype.Tu=function(){return this.me.Ce()},i.prototype.zP=function(t){return this.Sf?this.$f.Pr(t):this.Ti.Ph(t)},i.prototype.xP=function(){return this.Ej.Ce()},i.prototype.Nk=function(i){i?(this.Sv=this.iA=!0,this.lq=!1,null==this.$h?this.$h=t.Yc.Oh(0):this.$h.resize(0),null==this.Fj?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?null==this.Km?(this.Km=t.Yc.Oh(0),this.$f=new t.Yj,this.$f.Vo(new n(this))):this.$f.clear():null==this.Ti?this.Ti=new t.jp:this.Ti.clear(),null==this.me?(this.Ej=new t.$c(3),this.me=new t.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},i.prototype.FJ=function(t,i,s){this.XW(t,i),this.YW(t,s)},i.prototype.Np=function(t){var i=this.gz(t);return-1==i?NaN:(i=this.nk(i))==(t=this.nk(this.gR(t)))?i:.5*(i+t)},i.prototype.XW=function(t,i){this.me.S(t,0,i)},i.prototype.YW=function(t,i){this.me.S(t,1,i)},i.prototype.dX=function(t,i){this.me.S(t,3,i)},i.prototype.oX=function(t,i){this.me.S(t,4,i)},i.prototype.ZJ=function(t,i){this.me.S(t,2,i)},i.prototype.Ok=function(t,i){this.me.S(t,5,i)},i.prototype.Qk=function(t,i){this.me.S(t,6,i)},i.prototype.Uj=function(t,i){this.me.S(t,7,i)},i.prototype.qX=function(t,i){this.Ej.S(t,0,i)},i.prototype.fN=function(t,i){return this.Sf?this.$f.addElement(i,t):this.Ti.addElement(t,i)},i.prototype.cX=function(t,i){this.Ej.S(t,1,i)},i.prototype.VJ=function(t,i){this.Ej.S(t,2,i)},i.prototype.kl=function(t){return this.Sf?this.$f.rc(t):this.Ti.rc(t)},i.prototype.Zr=function(t){return this.Sf?this.$f.Fc(t):this.Ti.Fc(t)},i.gq=function(t){return 0==(1&t)},i.Gv=function(t){return 1==(1&t)},i.prototype.gz=function(t){return this.me.T(t,0)},i.prototype.gR=function(t){return this.me.T(t,1)},i.prototype.mk=function(t){return this.me.T(t,2)},i.prototype.xR=function(t){return this.me.T(t,3)},i.prototype.UR=function(t){return this.me.T(t,4)},i.prototype.qj=function(t){return this.me.T(t,5)},i.prototype.lk=function(t){return this.me.T(t,6)},i.prototype.UF=function(t){return this.me.T(t,7)},i.prototype.xz=function(t){return this.Ej.T(t,0)},i.prototype.wR=function(t){return this.Ej.T(t,1)},i.prototype.TR=function(t){return this.Ej.T(t,2)},i.prototype.DR=function(t){return this.Fj[t].oa},i.prototype.AR=function(t){return this.Fj[t].va},i.prototype.HX=function(i,s){null==this.Am&&(this.Am=new t.Xt);var n=new h(this);this.Am.sort(i,0,s,n)},i.prototype.GX=function(t,s,n){var h=this;t.Vd(s,n,(function(t,s){var n=h.nk(t),r=h.nk(s);return n<r||n==r&&i.gq(t)&&i.Gv(s)?-1:1}))},i.prototype.nk=function(t){var s=this.Fj[t>>1];return i.gq(t)?s.oa:s.va},i}();t.sr=e}(Q||(Q={})),function(t){var i=function(){function i(i){if(null==i)throw t.i.fa("Invalid arguement");this.hf=i;var s=i.nR();s.hS()?i.ef.IG()?this.lo=t.si.PannableFold:this.lo=t.si.Clip:this.lo=t.si.DontClip,s.iS()?i.Yf.IG()?this.Qm=t.si.PannableFold:this.Qm=t.si.Clip:this.Qm=t.si.DontClip,this.Bm=s.Jr,this.mH=s.Vu,i=this.hf.sH,this.aH=i.hs(2147483648),this.Uv=i.hs(1073741824)}return i.zh=function(t,i,s){return i.ww.zh(t,s)},i.Rt=function(t,i,s,n){return t.ww.Rt(i,s,n)},i.Qt=function(t,i,s,n){if(s=0>s?i.length:s,(t=t.ww.Rt(i,s,n))==s)return t;for(var h=i=0;h<s;h++){var r=n[h];r.isNaN()||(i<h&&n[i].L(r),i++)}for(;i<s;i++)n[i].Rc();return t},i.transform=function(s,n,h,r,e){if(s.isIdentity())return t.ta.kP(r,n,h),h;for(var o=[],a=0,u=0;u<h;){for(var f=Math.min(o.length,h-u),c=u,l=0;c<f;c++,l++)null==o[l]?o[l]=n[c].D():n[c].D(o[l]);var p=e?i.Qt(s,o,f,o):i.Rt(s,o,f,o);for(l=c=0;c<p;c++,l++)null==r[u]&&(r[u]=new t.Sa(n[u])),r[u].Cb(o[l]);u+=f,a+=p}return a},i.prototype.Rt=function(i,s,n){if(this.hf.isIdentity())return i!=n&&t.ta.Ru(n,i,s),s;var h=this.hf.ef,r=this.hf.Yf,e=h.Sb(),o=r.Sb();if(0==e&&e===o){var a=h.Qp();return r=a/(r=r.Qp()),(a=new t.Dd).setScale(r,r),a.eY(i,s,n),s}if(a=t.O.Fu(Math.min(s,64)),3==e){var u=h.Ji;e=(h=u.fk()).Sb(),n!=i&&t.ta.Ru(n,i,s),t.zb.$k(u,n,s,!0),u.Qt(t.bm.forward,n,s),t.zb.Zk(u,n,s,!0)}if(3==e||3===o)throw t.i.fa("image: transform_in_place_");if(2==e)this.lo==t.si.Clip?(n!=i&&t.ta.Ru(n,i,s),i=h.ml(),t.zb.OS(i,h,n,s)):(n!=i&&t.ta.Ru(n,i,s),h.Wc()&&(e=h.Xd(0),u=h.Oe(),t.zb.EX(n,s,u,e),t.zb.qF(n,s,h,0))),t.zb.IL(h,n,s,a);else for(e=h.Xd(0),u=h.Oe(),h=0;h<s;h++)t.zb.FX(i[h],u,e,n[h]);for(t.zb.GL(this.hf,n,s,a),i=0,(o=2==o)?i=r.zi():isNaN(this.Bm)||(i=this.Bm),o&&this.Qm!=t.si.Clip||t.zb.qF(n,s,r.sc(),i),o&&(t.zb.yG(n,s,r,this.Qm),t.zb.HL(r,n,s,a)),i=s,h=0;h<s;++h)n[h].isNaN()&&i--;return i},i.prototype.zh=function(i,s){if(this.hf.isIdentity()||i.B())return i;if(33==i.getType())return this.XI(i);var n=this.hf.ef,h=this.hf.Yf,r=n.Sb(),e=h.Sb();if(0==r&&r==e)return s=n.Qp(),s/=h=h.Qp(),(h=new t.Dd).setScale(s,s),(i=t.aa.jg(i)).Oc(h),i;switch(i.getType()){case 1607:case 1736:i=this.VI(i,s);break;case 550:i=this.fW(i,s);break;case 197:i=this.eW(i,s);break;default:throw t.i.fa("")}return i},i.prototype.XI=function(i){var s=i.D(),n=[];return n[0]=s,this.Rt(n,1,n),(i=new t.Sa(i)).Cb(n[0]),i},i.prototype.VI=function(i,s){if(i.tm())throw t.i.fa("curves not supported");var n=i.getType();if(1736==n)return this.gW(i,s);if(1607==n)return this.hW(i,s);throw t.i.fa("projectMultiPath")},i.prototype.gW=function(s,n){var h=this.hf.ef,r=this.hf.Yf,e=h.Sb(),o=r.Sb(),a=t.O.Fu(Math.min(s.I(),64)),u=t.Da.jg(s);3==e&&(e=(h=(s=h.Ji).fk()).Sb(),u=s.$k(u,!0),this.wp(s,t.bm.forward,u),u=s.Zk(u,!0)),s=null,3==o&&(o=(r=(s=r.Ji).fk()).Sb());var f=2==e,c=2==o,l=c?r.sc():r,p=!c&&!this.Uv;o=!1;var v=u;if(f){if((v=t.zb.UI(v,h,this.lo,n)).B())return v}else{if(u=new t.l,v.xc(u),e=h.Oe(),u.G<e.G||u.H>e.H){var y=t.l.construct(u.v-1,e.G,u.C+1,e.H);if((v=t.ri.Nu(v,y,h,NaN,0,n)).B())return v}u.R()>2*e.R()&&(v=t.zb.Hp(v,-2*e.R(),2*e.R(),h,!0,0,!0,n))}u=this.mH,(e=!isNaN(u))&&(v=t.Xl.local().V(v,u,n)),y=c?r.kk():null;var d=NaN;f&&(d=h.zi());var b=null!=r.Wr();if(this.aH)f&&(t.zb.ur(h,d,v,a),e&&(f=h.hh(),u*=(d=h.sc().hh())/f)),t.zb.tr(this.hf,v,p,a),e&&(f=h.sc().hh(),u*=(d=r.sc().hh())/f),h=v;else{var g=new t.Ta(v.description);g.DD(v),f&&(t.zb.ur(h,d,g,a),e&&(f=h.hh(),u*=(d=h.sc().hh())/f)),t.zb.tr(this.hf,g,p,a),e&&(f=h.sc().pm(),u*=(d=r.sc().pm())/f),p=NaN,c?(y=r.kk(),p=r.zi()):isNaN(this.Bm)||(p=this.Bm),f=i.tv(h)|i.tv(r),d=10*l.Xd(0),this.Uv&&(f=3,d=0),h=t.zb.UQ(v,h,g,l,p,n,f,d)}return b&&(h=t.zb.XD(h,r,n)),c&&(o||(c=l.Oe().R(),h.Tg(0,0).R()>=c-l.Xd(0)&&(l=y.getNorthPoleLocation(),c=y.getSouthPoleLocation(),v=y.getNorthPoleGeometry(),y=y.getSouthPoleGeometry(),p=0,v==t.Cg.PE_POLE_POINT&&l!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(p=1),y==t.Cg.PE_POLE_POINT&&c!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(p|=2),0!==p&&(o=!0))),h=t.zb.Mz(h,r,this.Qm,n),e&&(h=t.Xl.local().V(h,u,n)),t.zb.Lx(r,h,a)),h.B()||(o&&(h=t.Yl.local().V(h,r,!1,n)),null!=s&&(h=s.Zk(h,!1),this.wp(s,t.bm.reverse,h),h=s.$k(h,!1))),h},i.tv=function(i){if(2!=i.Sb())return 0;var s=0,n=i.kk();i=n.getNorthPoleLocation();var h=n.getSouthPoleLocation(),r=n.getNorthPoleGeometry();return n=n.getSouthPoleGeometry(),r==t.Cg.PE_POLE_POINT&&i!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(s=1),n==t.Cg.PE_POLE_POINT&&h!=t.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(s|=2),s},i.prototype.hW=function(s,n){var h=this.hf.ef,r=this.hf.Yf,e=h.Sb(),o=r.Sb(),a=t.O.Fu(Math.min(s.I(),64)),u=t.Ta.jg(s);3==e&&(e=(h=(s=h.Ji).fk()).Sb(),u=s.$k(u,!0),this.wp(s,t.bm.forward,u),u=s.Zk(u,!0)),s=null,3==o&&(o=(r=(s=r.Ji).fk()).Sb());var f=2==e;e=(o=2==o)?r.sc():r;var c=!o&&!this.Uv;if(f){if((u=t.zb.UI(u,h,this.lo,n)).B())return u}else{var l=new t.l;u.xc(l);var p=h.Oe();if((l.G<p.G||l.H>p.H)&&(l=t.l.construct(l.v-1,p.G,l.C+1,p.H),(u=t.ri.Nu(u,l,h,NaN,0,n)).B()))return u}var v=NaN;f&&(v=h.zi()),l=null!=r.Wr(),p=this.mH;var y=!isNaN(p);if(y&&(u=t.Xl.local().V(u,p,n)),this.aH)f&&t.zb.ur(h,v,u,a),y&&(f=h.hh(),p*=(v=h.sc().hh())/f),t.zb.tr(this.hf,u,c,a),y&&(f=h.sc().hh(),p*=(v=r.sc().hh())/f),h=u;else{var d=new t.Ta(u.description);d.DD(u),f&&(t.zb.ur(h,v,d,a),y&&(f=h.hh(),p*=(v=h.sc().hh())/f)),t.zb.tr(this.hf,d,c,a),y&&(f=h.sc().hh(),p*=(v=r.sc().hh())/f),c=NaN,o?c=r.zi():isNaN(this.Bm)||(c=this.Bm),f=i.tv(h)|i.tv(r),v=10*e.Xd(0),this.Uv&&(f=3,v=0),h=t.zb.VQ(u,h,d,e,c,n,f,v)}return l&&(h=t.zb.XD(h,r,n)),o&&(h=t.zb.Mz(h,r,this.Qm,n),y&&(h=t.Xl.local().V(h,p,n)),t.zb.Lx(r,h,a)),h.B()||null!=s&&(h=s.Zk(h,!1),this.wp(s,t.bm.reverse,h),h=s.$k(h,!1)),h},i.prototype.eW=function(i,s){var n=(i.ca()+i.R())/400;return 0!=n?(n=t.Xl.local().V(i,n,s),n=this.VI(n,s),s=i.Ia(),n.bn(s)):(s=new t.Sa(i.Ip()),n=this.XI(s),s=i.Ia(),n.B()?s.Oa():(i.copyTo(s),i=n.D(),s.K(i.x,i.y,i.x,i.y))),s},i.prototype.fW=function(i,s){i=t.aa.jg(i);var n=this.hf.ef,h=this.hf.Yf,r=n.Sb(),e=h.Sb(),o=t.O.Fu(Math.min(i.I(),64));if(3==r){var a=n.Ji;r=(n=a.fk()).Sb(),i=a.Zk(i,!0),this.wp(a,t.bm.forward,i),i=a.$k(i,!0)}if(2==r){if(this.lo==t.si.Clip?i=t.Xj.local().V(i,n.ml(),n,s):n.Wc()&&(r=new t.l,i.xc(r),n.Oe().contains(r)||(this.lo==t.si.PannableFold&&(i=t.zb.lj(i,n)),t.zb.Jt(i,n.Oe(),n.Xd(0),!0),i=t.zb.Fn(i,n,0,!0,0,s))),i.B())return i;t.zb.ur(n,0,i,o)}else t.zb.Jt(i,n.Oe(),n.Xd(0),!0);return t.zb.tr(this.hf,i,!1,o),n=0,r=!1,a=null,3==e&&(r=!0,e=(h=(a=h.Ji).fk()).Sb()),(e=2==e)?n=h.zi():isNaN(this.Bm)||(n=this.Bm),e&&this.Qm!=t.si.Clip||(i=t.zb.Fn(i,h.sc(),n,!1,0,s)),e&&(i=t.zb.Mz(i,h,this.Qm,s),t.zb.Lx(h,i,o),i.B())||r&&(i=a.Zk(i,!0),this.wp(a,t.bm.reverse,i),i=a.$k(i,!0)),i},i.prototype.wp=function(i,s,n){var h=n.I();if(0!=h){for(var r=n.ub(0),e=t.O.lg(200,0),o=[],a=0;a<h;){var u=Math.min(100,h-a);r.Vw(2*a,2*u,e,2,!0);for(var f=0;f<u;++f)o[f]=t.h.construct(e[2*a],e[2*a+1]);i.Qt(s,o,u),a+=u}n.Pc(1993)}},i.Uy=function(i,s,n){if(null==i||null==s||!s.Wc())throw t.i.fa("Invalid Arguement");if(i.B())return i;var h=i.getType();return 197==h?(h=new t.Da(i.description)).ad(i,!1):t.aa.yd(h)?(h=new t.Ta(i.description)).oc(i,!0):h=i,(h=t.zb.lj(h,s)).B()?h:t.zb.Fn(h,s,0,h!=i,0,n)},i.nj=function(s,n,h,r){if(null==s||null==n||!n.Wc())throw t.i.fa("Invalid Arguement");if(s.B())return s;var e=s.getType();if(t.aa.Hc(e)){s=t.zb.lj(s,n),e=new t.l,s.A(e);for(var o=t.ta.ty(n,e,!1),a=n.gh(),u=Math.floor((e.v-a.v)/a.R())*a.R()+a.v;u<e.C;)u>e.v+o&&u<e.C-o&&(s=t.zb.uS(s,n,h,u)),u+=a.R()}else{if(197==e)return(e=new t.Da(s.description)).ad(s,!1),i.nj(e,n,h,r);if(t.aa.yd(e))return(e=new t.Ta(s.description)).oc(s,!0),i.nj(e,n,h,r)}return i.Uy(s,n,r)},i}();t.bu=i}(Q||(Q={})),function(t){var i=function(i){function s(s,n,h,r){var e=i.call(this)||this;return void 0===s?e.description=t.ee.og():void 0===h?e.description=s:(e.description=t.ee.og(),e.ZB(s,n),e.Ql(h,r)),e}return _(s,i),s.prototype.getType=function(){return 322},s.prototype.Qb=function(){var t=this.sa-this.pa,i=this.na-this.la;return Math.sqrt(t*t+i*i)},s.prototype.Bi=function(t){var i=this.sa-this.pa,s=this.na-this.la;return Math.sqrt(i*i+s*s)<=t},s.prototype.Pn=function(){return!1},s.prototype.kg=function(){var i=new t.h;return i.uc(this.wc(),this.ac()),i},s.cP=function(t,i){return new s(t.x,t.y,i.x,i.y)},s.prototype.bn=function(i){i.Oa(),i.Nf(this.description);var s=new t.l;this.A(s),i.Xo(s),s=1;for(var n=this.description.Aa;s<n;s++)for(var h=this.description.kd(s),r=t.ra.Va(h);s<r;s++){var e=this.Tg(h,0);i.setInterval(h,0,e)}},s.prototype.A=function(t){t.K(this.sa,this.na,this.pa,this.la),t.normalize()},s.prototype.Qo=function(t){t.Oa(),t.Zb(this.sa,this.na,this.Od(0,1,0)),t.Zb(this.pa,this.la,this.Od(1,1,0))},s.prototype.Oc=function(i){if(i instanceof t.Dd){this.vc();var s=new t.h;s.x=this.sa,s.y=this.na,i.Eh(s,s),this.sa=s.x,this.na=s.y,s.x=this.pa,s.y=this.la,i.Eh(s,s),this.pa=s.x,this.la=s.y}else this.vc(),(s=new t.Nd).x=this.sa,s.y=this.na,s.z=this.Od(0,1,0),s=i.fp(s),this.sa=s.x,this.na=s.y,this.tn(0,1,0,s.z),s.x=this.pa,s.y=this.la,s.z=this.Od(1,1,0),s=i.fp(s),this.pa=s.x,this.la=s.y,this.tn(1,1,0,s.z)},s.prototype.Ia=function(){return new s(this.description)},s.prototype.Tx=function(t,i){return(this.pa-t-(this.sa-t))*(this.la-i+(this.na-i))*.5},s.prototype.vx=function(t){return t*this.Qb()},s.prototype.NG=function(t){return t/this.Qb()},s.prototype.DF=function(i){return t.lc.hq(this.sa,this.pa,i)},s.prototype.fR=function(i){return t.lc.hq(this.na,this.la,i)},s.prototype.dl=function(i,s){var n=new t.ig;return this.ah(i,s,n),n.get()},s.prototype.ah=function(i,s,n){if(null==n)throw t.i.N();n.Or(),(n=n.get()).Nf(this.description);var h=new t.h;this.hc(i,h),n.ZB(h.x,h.y),this.hc(s,h),n.Ql(h.x,h.y),h=1;for(var r=this.description.Aa;h<r;h++)for(var e=this.description.Ed(h),o=t.ra.Va(e),a=0;a<o;a++){var u=this.Uc(i,e,a);n.YB(e,a,u),u=this.Uc(s,e,a),n.OB(e,a,u)}},s.prototype.Uc=function(i,s,n){if(0==s)return 0==n?this.hc(i).x:this.hc(i).y;switch(t.ra.lz(s)){case 0:return.5>i?this.wv(s,n):this.gv(s,n);case 1:var h=this.wv(s,n);return s=this.gv(s,n),t.lc.hq(h,s,i);case 2:throw t.i.fa("not implemented")}throw t.i.Qa()},s.prototype.fe=function(t,i){var s=this.pa-this.sa,n=this.la-this.na,h=s*s+n*n;return 0==h?.5:(t=((t.x-this.sa)*s+(t.y-this.na)*n)/h,i||(0>t?t=0:1<t&&(t=1)),t)},s.prototype.cq=function(t,i,s,n){if(t){if(0==(t=this.la-this.na))return i==this.la?-1:0;if(0>(i=(i-this.na)/t)||1<i)return 0;null!=s&&(s[0]=this.DF(i))}else{if(0==(t=this.pa-this.sa))return i==this.pa?-1:0;if(0>(i=(i-this.sa)/t)||1<i)return 0;null!=s&&(s[0]=this.fR(i))}return null!=n&&(n[0]=i),1},s.prototype.Pe=function(t,i){var s=this.la-this.na;return 0==s?t==this.la?i:NaN:(t=(t-this.na)/s,i=this.DF(t),1==t&&(i=this.pa),i)},s.prototype.ru=function(t,i,s){return 0<=this.rp(t.x,t.y,i,s)},s.prototype.vi=function(t,i,s){return 0<=this.rp(t,i,s,!0)},s.prototype.qs=function(t,i){return this.ru(t,i,!1)},s.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var t=this.sa;this.sa=this.pa,this.pa=t,t=this.na,this.na=this.la,this.la=t,t=0;for(var i=this.description.Oq-2;t<i;t++){var s=this.ka[t];this.ka[t]=this.ka[t+i],this.ka[t+i]=s}}},s.prototype.uu=function(i,s){(s=t.h.construct(i,s)).sub(this.ac());var n=new t.h;return n.uc(this.wc(),this.ac()),(i=n.wi(s))>(s=8881784197001252e-31*(Math.abs(n.x*s.y)+Math.abs(n.y*s.x)))?-1:i<-s?1:0},s.prototype.rp=function(i,s,n,h){var r=this.sa,e=this.na,o=i-r,a=s-e;if((o=Math.sqrt(o*o+a*a))<=Math.max(n,6661338147750939e-31*o))return h&&0==o?NaN:0;if(o=i-this.pa,a=s-this.la,(o=Math.sqrt(o*o+a*a))<=Math.max(n,6661338147750939e-31*o))return h&&0==o?NaN:1;if(o=this.pa-this.sa,a=this.la-this.na,0<(h=Math.sqrt(o*o+a*a))){var u=1/h,f=i-r,c=s-e,l=f*(o*=u)+c*(a*=u),p=17763568394002505e-31*(Math.abs(f*o)+Math.abs(c*a)),v=o;if(o=-a,a=v,l<-(p=Math.max(n,p))||l>h+p)return NaN;if(Math.abs(f*o+c*a)<=Math.max(n,17763568394002505e-31*(Math.abs(f*o)+Math.abs(c*a)))&&(.5>=(o=t.O.Rk(l*u,0,1))?(a=this.sa+(this.pa-this.sa)*o,h=this.na+(this.la-this.na)*o):(a=this.pa-(this.pa-this.sa)*(1-o),h=this.la-(this.la-this.na)*(1-o)),t.h.Oy(a,h,i,s)<=n)){if(.5>o){if(t.h.Oy(a,h,r,e)<=n)return 0}else if(t.h.Oy(a,h,this.pa,this.la)<=n)return 1;return o}}return NaN},s.prototype.Nb=function(t){return null!=t&&(t==this||t.constructor===this.constructor&&this.FM(t))},s.prototype.rD=function(i,s,n){var h=n?this.sa:this.pa;n=n?this.na:this.la;var r=new t.h;return r.x=i.pa-h,r.y=i.la-n,!(s.Qh(r)>6661338147750939e-31*s.fD(r))||(r.x=i.sa-h,r.y=i.na-n,s.Qh(r)<=6661338147750939e-31*s.fD(r))},s.prototype.qD=function(i){var s=new t.h;return s.x=this.pa-this.sa,s.y=this.la-this.na,!!this.rD(i,s,!1)&&(s.Sq(),!!this.rD(i,s,!0))},s.NM=function(t,i){var s=t.uu(i.sa,i.na),n=t.uu(i.pa,i.la);return!(0>s&&0>n||0<s&&0<n)&&(s=i.uu(t.sa,t.na),n=i.uu(t.pa,t.la),!(0>s&&0>n||0<s&&0<n)&&((s=t.Qb())>(n=i.Qb())?t.qD(i):i.qD(t)))},s.LM=function(i,s,n){var h=t.h.construct(NaN,NaN),r=i.pa-i.sa,e=i.la-i.na,o=s.pa-s.sa,a=s.la-s.na,u=o*e-r*a;if(0==u)return h;var f=8881784197001252e-31*(Math.abs(o*e)+Math.abs(r*a)),c=s.sa-i.sa,l=s.na-i.na,p=o*l-c*a,v=p/u,y=Math.abs(u);return v<-(o=(8881784197001252e-31*(Math.abs(o*l)+Math.abs(c*a))*y+f*Math.abs(p))/(u*u)+2220446049250313e-31*Math.abs(v))||v>1+o||(o=(a=r*l-c*e)/u)<-(r=(8881784197001252e-31*(Math.abs(r*l)+Math.abs(c*e))*y+f*Math.abs(a))/(u*u)+2220446049250313e-31*Math.abs(o))||o>1+r?h:(v=t.O.Rk(v,0,1),r=t.O.Rk(o,0,1),e=i.hc(v),u=s.hc(r),(f=new t.h).uc(e,u),f.length()>n&&(f.add(e,u),f.scale(.5),v=i.fe(f,!1),r=s.fe(f,!1),i=i.hc(v),s=s.hc(r),i.sub(s),i.length()>n)||h.ma(v,r),h)},s.OM=function(t,i,n,h){var r=0;if((t.sa==i.sa&&t.na==i.na||t.sa==i.pa&&t.na==i.la)&&(r++,!h))return 1;if(t.pa==i.sa&&t.la==i.na||t.pa==i.pa&&t.la==i.la){if(2==++r)return 2;if(!h)return 1}return i.vi(t.sa,t.na,n)||i.vi(t.pa,t.la,n)||t.vi(i.sa,i.na,n)||t.vi(i.pa,i.la,n)?1:h&&0!=r||0==s.NM(t,i)?0:1},s.Zx=function(i,n,h,r,e,o){var a=0,u=i.rp(n.sa,n.na,o,!1),f=i.rp(n.pa,n.la,o,!1),c=n.rp(i.sa,i.na,o,!1),l=n.rp(i.pa,i.la,o,!1);return isNaN(u)||(null!=r&&(r[a]=u),null!=e&&(e[a]=0),null!=h&&(h[a]=t.h.construct(n.sa,n.na)),a++),isNaN(f)||(null!=r&&(r[a]=f),null!=e&&(e[a]=1),null!=h&&(h[a]=t.h.construct(n.pa,n.la)),a++),2==a||isNaN(c)||0==u&&0==c||0==f&&1==c||(null!=r&&(r[a]=0),null!=e&&(e[a]=c),null!=h&&(h[a]=t.h.construct(i.sa,i.na)),a++),2==a||isNaN(l)||1==u&&0==l||1==f&&1==l||(null!=r&&(r[a]=1),null!=e&&(e[a]=l),null!=h&&(h[a]=t.h.construct(n.pa,n.la)),a++),0<a?(2==a&&null!=r&&r[0]>r[1]&&(i=r[0],r[0]=r[1],r[1]=i,null!=e&&(r=e[0],e[0]=e[1],e[1]=r),null!=h&&(e=t.h.construct(h[0].x,h[0].y),h[0]=h[1],h[1]=e)),a):(a=s.LM(i,n,o),isNaN(a.x)?0:(null!=h&&(h[0]=i.hc(a.x)),null!=r&&(r[0]=a.x),null!=e&&(e[0]=a.y),1))},s.prototype.eG=function(){return 0},s.prototype.op=function(){},s.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},s}(t.SC);t.yb=i}(Q||(Q={})),function(t){var i=function(){function t(){this.Jm=[],this.ya=-1}return t.prototype.La=function(){return this.ya},t.prototype.next=function(){if(null!=this.Jm&&0!=this.Jm.length){this.ya++;var t=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),t}return this.Jm=null},t.prototype.ZX=function(t){this.Jm.push(t)},t.prototype.qe=function(){},t}();t.gL=i}(Q||(Q={})),function(t){var i;(i=t.SL||(t.SL={}))[i.enumFillRuleOddEven=0]="enumFillRuleOddEven",i[i.enumFillRuleWinding=1]="enumFillRuleWinding";var s=function(i){function s(s,n){var h=i.call(this)||this;if(h.xf=!1,h.Eq=null,h.sq=0,h.rq=0,h.Aj=null,h.Mg=!1,h.nb=null,h.mb=null,h.Ve=null,h.Lj=null,h.Sd=null,h.tq=0,h.gb=0,h.xq=0,void 0===n)h.xf=s,h.Mg=!1,h.tq=0,h.sq=0,h.rq=0,h.wa=0,h.description=t.ee.og();else{if(null==n)throw t.i.N();h.xf=s,h.Mg=!1,h.tq=0,h.sq=0,h.rq=0,h.wa=0,h.description=n}return h.Aj=null,h.gb=0,h}return _(s,i),s.prototype.tm=function(){return 0<this.tq},s.prototype.Yx=function(){this.vc(),null==this.Eq?this.Eq=new t.Sa(this.description):this.Eq.Nf(this.description)},s.prototype.sx=function(i,s){var n=new t.h;n.x=i,n.y=s,this.Lt(n)},s.prototype.Lt=function(t){this.Yx(),this.Eq.Cb(t),this.Mg=!0},s.prototype.nf=function(i){if(i.B())throw t.i.N();this.Jl(i.description),this.Yx(),i.copyTo(this.Eq),this.Mg=!0},s.prototype.Sx=function(){var i=1;this.Mg&&(this.Yx(),null==this.nb?(this.nb=t.Yc.Oh(2),this.nb.write(0,0),this.mb=t.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),i++);var s=this.wa;this.nb.write(this.nb.size-1,this.wa+i),this.dm(s+i),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(s,this.Eq),this.Mg=!1)},s.prototype.yj=function(t,i){this.Sx(),this.Cb(this.wa-1,t,i)},s.prototype.Ci=function(t){this.Sx(),this.Cb(this.wa-1,t)},s.prototype.lineTo=function(t){this.Sx(),this.Ht(this.wa-1,t)},s.prototype.CU=function(i){if(this.vc(),this.xf)throw t.i.Qa();var s=this.da();if(i>s)throw t.i.Qa();if(this.dc(i)){if(null==this.mb)throw t.i.Qa();var n=this.wa,h=this.Ba(i),r=this.Vc(i);this.dm(this.wa+1),this.mc();for(var e=0,o=this.description.Aa;e<o;e++)if(null!=this.za[e]){var a=t.ra.Va(this.description.Ed(e));this.za[e].Mn(a*r,this.za[e],a*h,a,!0,1,a*n)}for(;s>i;s--)n=this.nb.read(s),this.nb.write(s,n+1);this.mb.KE(i,1)}},s.prototype.Ap=function(){if(this.wx(),void 0===t){this.Mg=!1;var t=this.da()-1}var i=this.mb.read(t);this.mb.write(t,1|i),null!=this.Ve&&(t=this.Vc(t)-1,this.Ve.write(t,1),this.Lj.write(t,-1))},s.prototype.dc=function(t){return 0!=(1&this.mb.read(t))},s.prototype.Nn=function(t){if(this.dc(t))return!0;var i=this.Ba(t);return!(i>(t=this.Vc(t)-1))&&(i=this.Na(i),t=this.Na(t),i.qb(t))},s.prototype.yv=function(t){return 0!=(2&this.mb.read(t))},s.prototype.oc=function(i,s){if(this.Jl(i.description),322!=i.getType())throw t.i.Qa();var n=new t.Sa;(s||this.B())&&(i.To(n),this.nf(n)),i.Po(n),this.lineTo(n)},s.prototype.tp=function(t){var i=0==this.wa;this.sx(t.v,t.G),this.yj(t.v,t.H),this.yj(t.C,t.H),this.yj(t.C,t.G),this.Ap(),this.Mg=!1,i&&this.Lf(256,!1)},s.prototype.ad=function(i,s){if(!i.B()){for(var n=0==this.wa,h=new t.Sa(this.description),r=0;4>r;r++)i.Hf(s?4-r-1:r,h),0==r?this.nf(h):this.lineTo(h);this.Ap(),this.Mg=!1,n&&!s&&this.Lf(256,!1)}},s.prototype.add=function(t,i){for(var s=0;s<t.da();s++)this.addPath(t,s,!i)},s.prototype.addPath=function(t,i,s){this.vf(-1,t,i,s)},s.prototype.Yk=function(t,i){this.Hz(t,i)},s.prototype.Dr=function(i,s,n,h,r){if(r||0!=this.da()||(r=!0),0>s&&(s=i.da()-1),s>=i.da()||0>n||0>h||h>i.rv(s))throw t.i.fa("index out of bounds");if(0!=h){var e=i.dc(s)&&n+h==i.rv(s);if(!e||1!=h){if(this.Mg=!1,this.Jl(i.description),n=i.Ba(s)+n+1,r&&(h++,n--),e&&h--,e=this.wa,this.dm(this.wa+h),this.mc(),r){if(0==h)return;this.nb.add(this.wa),r=i.mb.read(s),r&=-5,this.xf&&(r|=1),this.mb.write(this.mb.size-1,r),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);r=0;for(var o=this.description.Aa;r<o;r++){var a=this.description.kd(r),u=t.ra.Va(a),f=i.description.Pf(a);0>f||null==i.za[f]?this.za[r].Ln(u*e,t.ra.se(a),h*u,u*e):this.za[r].Mn(u*e,i.za[f],u*n,h*u,!0,u,u*e)}if(this.tm())throw t.i.Qa();if(i.yv(s))throw t.i.Qa();this.Pc(1993)}}},s.prototype.oJ=function(){for(var t=0,i=this.da();t<i;t++)this.FW(t)},s.prototype.FW=function(i){if(this.mc(),i>=this.da())throw t.i.N();var s=this.Ba(i),n=this.Ja(i);i=this.dc(i)?1:0;for(var h=0,r=this.description.Aa;h<r;h++)if(null!=this.za[h]){var e=t.ra.Va(this.description.Ed(h));this.za[h].ni(e*(s+i),e*(n-i),e)}this.Pc(1993)},s.prototype.Zq=function(i){this.mc();var s=this.da();if(0>i&&(i=s-1),i>=s)throw t.i.N();for(var n=this.Ba(i),h=this.Ja(i),r=0,e=this.description.Aa;r<e;r++)if(null!=this.za[r]){var o=t.ra.Va(this.description.Ed(r));this.za[r].En(o*n,o*h,o*this.wa)}for(n=i+1;n<=s;n++)r=this.nb.read(n),this.nb.write(n-1,r-h);if(null==this.mb)for(n=i+1;n<=s;n++)i=this.mb.read(n),this.mb.write(n-1,i);this.nb.resize(s),this.mb.resize(s),this.wa-=h,this.Pg-=h,this.Pc(1993)},s.prototype.vf=function(i,s,n,h){if(s==this)throw t.i.N();if(n>=s.da())throw t.i.N();var r=this.da();if(i>r)throw t.i.N();0>i&&(i=r),0>n&&(n=s.da()-1),this.Mg=!1,this.Jl(s.description),s.mc();var e=s.Ba(n),o=s.Ja(n),a=this.wa,u=s.dc(n)&&!h?1:0;this.dm(this.wa+o),this.mc();for(var f=i<r?this.Ba(i):a,c=0,l=this.description.Aa;c<l;c++){var p=this.description.Ed(c),v=s.description.Pf(p),y=t.ra.Va(p);0<=v&&null!=s.za[v]?(0!=u&&this.za[c].Mn(f*y,s.za[v],y*e,y,!0,y,y*a),this.za[c].Mn((f+u)*y,s.za[v],y*(e+u),y*(o-u),h,y,y*(a+u))):this.za[c].Ln(f*y,t.ra.se(p),y*o,y*a)}for(this.nb.add(a+o),h=r;h>=i+1;h--)e=this.nb.read(h-1),this.nb.write(h,e+o);for(s.yv(n),this.mb.add(0),h=r-1;h>=i+1;h--)r=this.mb.read(h),r&=-5,this.mb.write(h+1,r);r=s.JR().read(n),r&=-5,this.xf&&(r|=1),this.mb.write(i,r)},s.prototype.Hz=function(i,s){var n=-1,h=this.da();if(n>h)throw t.i.N();0>n&&(n=h),this.Mg=!1;var r=this.wa;this.dm(this.wa+s),this.mc();var e=n<h?this.Ba(n):r;if(null!=i)this.za[0].Iz(2*e,i,0,s,!0,2*r);else{var o=t.ra.se(0);this.za[0].Ln(2*e,o,2*s,2*r)}i=1;for(var a=this.description.Aa;i<a;i++){o=this.description.kd(i);var u=t.ra.Va(o);o=t.ra.se(o),this.za[i].Ln(e*u,o,u*s,u*r)}for(this.nb.add(this.wa),r=h;r>=n+1;r--)e=this.nb.read(r-1),this.nb.write(r,e+s);for(this.mb.add(0),r=h-1;r>=n+1;r--)s=this.mb.read(r),s&=-5,this.mb.write(r+1,s);this.xf&&this.mb.write(n,1)},s.prototype.qG=function(i,s,n){var h=-1;if(0>i&&(i=this.da()),i>this.da()||h>this.Ja(i)||n>s.length)throw t.i.fa("index out of bounds");if(0!=n){i==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>h&&(h=this.Ja(i)),this.mc();var r=this.wa;this.dm(this.wa+n),this.mc();for(var e=0,o=this.description.Aa;e<o;e++){var a=this.description.Ed(e),u=t.ra.Va(a);this.za[e].Ut(u*(this.Ba(i)+h+n),(r-this.Ba(i)-h)*u,this.za[e],u*(this.Ba(i)+h),!0,u),0==e?this.za[e].vC(u*(this.Ba(i)+h),n,s,0,!0):this.za[e].Wj(t.ra.se(a),(this.Ba(i)+h)*u,n*u)}for(this.tm()&&(this.Ve.Ut(this.Ba(i)+h+n,r-this.Ba(i)-h,this.Ve,this.Ba(i)+h,!0,1),this.Lj.Ut(this.Ba(i)+h+n,r-this.Ba(i)-h,this.Lj,this.Ba(i)+h,!0,1),this.Ve.Wj(1,this.Ba(i)+h,n),this.Lj.Wj(-1,this.Ba(i)+h,n)),i+=1,s=this.da();i<=s;i++)this.nb.write(i,this.nb.read(i)+n)}},s.prototype.wf=function(i,s,n){var h=this.da();if(0>i&&(i=this.da()),i>=h||s>this.Ja(i))throw t.i.fa("index out of bounds");i==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>s&&(s=this.Ja(i));var r=this.wa;this.dm(this.wa+1),this.mc();var e=this.Ba(i);this.za[0].vj(2*(e+s),n,2*r),n=1;for(var o=this.description.Aa;n<o;n++){var a=this.description.Ed(n),u=t.ra.Va(a);this.za[n].Ln(u*(e+s),t.ra.se(a),u,u*r)}for(i+=1;i<=h;i++)this.nb.write(i,this.nb.read(i)+1)},s.prototype.DB=function(i,s){var n=this.da();if(0>i&&(i=n-1),i>=n||s>=this.Ja(i))throw t.i.fa("index out of bounds");this.mc();var h=this.Ba(i);0>s&&(s=this.Ja(i)-1),s=h+s,h=0;for(var r=this.description.Aa;h<r;h++)if(null!=this.za[h]){var e=t.ra.Va(this.description.Ed(h));this.za[h].En(e*s,e,e*this.wa)}for(;n>=i+1;n--)s=this.nb.read(n),this.nb.write(n,s-1);this.wa--,this.Pg--,this.Pc(1993)},s.prototype.uE=function(i,s,n){var h=this.Ba(i)+s;if((n=this.Ba(n)+void 0)<h||0>h||n>this.I()-1)throw t.i.N();s=0,(i=this.Ga()).Vb(h);do{for(;i.Ha()&&(h=i.ha(),i.wb()!=n);)s+=h=h.Qb();if(i.wb()==n)break}while(i.$a());return s},s.prototype.fO=function(i,s,n){if(s=this.Ba(i)+s,n=this.Ba(i)+n,0>s||n>this.I()-1)throw t.i.N();var h=this.Ga();if(s>n){if(!this.dc(i))throw t.i.N("cannot iterate across an open path");h.JB()}var r=i=0;h.Vb(s);do{r+=i,i=h.ha().Qb()}while(h.wb()!=n);return r},s.prototype.mg=function(){return t.pi.gm(this,null)},s.prototype.KS=function(i,s,n){for(var h=i;h<n-1;h++)if(this.dc(h))throw t.i.N("cannot interpolate across closed paths");if(1!=(h=this.description.Aa)){var r=this.uE(i,s,n);if(0!=r)for(var e=1;e<h;e++){var o=this.description.kd(e);if(2!=t.ra.lz(o))for(var a=t.ra.Va(o),u=0;u<a;u++)this.MS(o,i,s,n,r,u)}}},s.prototype.JS=function(i,s,n){var h=this.description.Aa;if(1!=h){var r=this.fO(i,s,n);if(0!=r)for(var e=1;e<h;e++){var o=this.description.kd(e);if(2!=t.ra.lz(o))for(var a=t.ra.Va(o),u=0;u<a;u++)this.LS(o,i,s,n,r,u)}}},s.prototype.MS=function(i,s,n,h,r,e){var o=this.Ga(),a=this.Ba(s)+n;h=this.Ba(h)+void 0,s=this.Uc(i,a,e),n=this.Uc(i,h,e);var u=s,f=0;o.Vb(a);do{if(o.Ha()){if(o.ha(),o.wb()==h)break;this.setAttribute(i,o.wb(),e,u),o.li();do{if(a=o.ha(),o.ik()==h)return;f+=a=a.Qb(),u=t.lc.hq(s,n,f/r),o.On()||this.setAttribute(i,o.ik(),e,u)}while(o.Ha())}}while(o.$a())},s.prototype.LS=function(i,s,n,h,r,e){var o=this.Ga(),a=this.Ba(s)+n;if((s=this.Ba(s)+h)!=a){h=this.Uc(i,a,e),n=this.Uc(i,s,e);var u=0;o.Vb(a),o.JB(),a=h;do{var f=o.ha();this.setAttribute(i,o.wb(),e,a),u+=a=f.Qb(),a=t.lc.hq(h,n,u/r)}while(o.ik()!=s)}},s.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},s.prototype.Oc=function(i){i instanceof t.Dd?this.YD(i,-1):this.wN(i)},s.prototype.YD=function(i,s){if(!this.B()&&!i.isIdentity()){this.mc();var n=this.za[0],h=new t.h,r=new t.h;if(0>s){var e=this.tm(),o=0;s=this.wa}else e=this.yv(s),o=this.Ba(s),s=this.Vc(s);for(;o<s;o++){if(h.x=n.read(2*o),h.y=n.read(2*o+1),e){var a=this.Lj.read(o);if(0<=a)switch(7&this.Ve.read(o)){case 2:r.x=this.Sd.read(a),r.y=this.Sd.read(a+1),i.Eh(r,r),this.Sd.write(a,r.x),this.Sd.write(a+1,r.y),r.x=this.Sd.read(a+3),r.y=this.Sd.read(a+4),i.Eh(r,r),this.Sd.write(a+3,r.x),this.Sd.write(a+4,r.y);break;case 4:throw t.i.Qa()}}i.Eh(h,h),n.write(2*o,h.x),n.write(2*o+1,h.y)}this.Pc(1993)}},s.prototype.wN=function(i){if(!this.B()){this.re(1),this.mc();for(var s=this.za[0],n=this.za[1],h=new t.Nd,r=new t.Nd,e=this.tm(),o=0;o<this.wa;o++){if(h.x=s.read(2*o),h.y=s.read(2*o+1),h.z=n.read(o),e){var a=this.Lj.read(o);if(0<=a)switch(7&this.Ve.read(o)){case 2:r.x=this.Sd.read(a),r.y=this.Sd.read(a+1),r.z=this.Sd.read(a+2),r=i.fp(r),this.Sd.write(a,r.x),this.Sd.write(a+1,r.y),this.Sd.write(a+1,r.z),r.x=this.Sd.read(a+3),r.y=this.Sd.read(a+4),r.z=this.Sd.read(a+5),r=i.fp(r),this.Sd.write(a+3,r.x),this.Sd.write(a+4,r.y),this.Sd.write(a+5,r.z);break;case 4:throw t.i.Qa()}}h=i.fp(h),s.write(2*o,h.x),s.write(2*o+1,h.y),n.write(o,h.z)}this.Pc(1993)}},s.prototype.iy=function(){null==this.nb&&(this.nb=t.Yc.Oh(1,0),this.mb=t.Yc.Mr(1,0)),null!=this.Ve&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},s.prototype.op=function(i){i.Mg=!1,i.tq=this.tq,i.xq=this.xq,i.nb=null!=this.nb?t.ia.Bn(this.nb):null,i.mb=null!=this.mb?t.pn.Bn(this.mb):null,i.Lj=null!=this.Lj?t.ia.Bn(this.Lj):null,i.Ve=null!=this.Ve?t.pn.Bn(this.Ve):null,i.Sd=null!=this.Sd?t.be.Bn(this.Sd):null,i.sq=this.sq,i.rq=this.rq,i.Aj=this.ak(1024)?null:this.Aj},s.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var i=this.Ga(),s=new t.Fx(0);i.$a();)for(;i.Ha();)s.add(i.ha().Qb());return this.sq=s.rm(),this.Lf(512,!1),s.rm()},s.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof s&&i.prototype.Nb.call(this,t)))return!1;var n=this.da();return!(n!=t.da()||null!=this.nb&&!this.nb.Nb(t.nb,0,n+1)||this.xq!=t.xq||null!=this.mb&&!this.mb.Nb(t.mb,0,n))&&i.prototype.Nb.call(this,t)},s.prototype.Ga=function(){return new t.YL(this)},s.prototype.hy=function(t){if(i.prototype.hy.call(this,t),this.tm())for(t=this.Ga();t.$a();){t.Ha()}},s.prototype.yp=function(t,s){if(i.prototype.yp.call(this,t,s),this.tm())for(t=this.Ga();t.$a();){t.Ha()}},s.prototype.$x=function(){this.wa=null==this.nb||0==this.nb.size?0:this.nb.read(this.nb.size-1)},s.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},s.prototype.Ev=function(t){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(t)):0!=(4&this.mb.read(t)))},s.prototype.Ir=function(t){return this.xf?(this.xu(),this.Aj.read(t)):0},s.prototype.xu=function(){if(this.ak(1024)){var i=this.da();null==this.Aj?this.Aj=new t.be(i):this.Aj.size!=i&&this.Aj.resize(i),i=new t.Fx(0);for(var s=new t.Fx(0),n=new t.h,h=0,r=this.Ga();r.$a();){for(s.reset(),this.D(this.Ba(r.gb),n);r.Ha();)s.add(r.ha().Tx(n.x,n.y));i.add(s.rm());var e=h++;this.Aj.write(e,s.rm())}this.rq=i.rm(),this.Lf(1024,!1)}},s.prototype.FR=function(){if(this.xf){this.fm();for(var t=this.da(),i=0;i<t;i++)0!=(4&this.mb.read(i))&&0}},s.prototype.fm=function(){if(this.ak(8)){this.xu();var i=this.da();(null==this.mb||this.mb.size<i)&&(this.mb=t.Yc.Mr(i+1));for(var s=1,n=0;n<i;n++){var h=this.Aj.read(n);0==n&&(s=0<h?1:-1),0<h*s?this.mb.zJ(n,4):this.mb.KE(n,4)}this.Lf(8,!1)}},s.prototype.sz=function(i){var s=this.gb,n=this.da();if(0<=s&&s<n){if(i<this.Vc(s)){if(i>=this.Ba(s))return s;s--}else s++;if(0<=s&&s<n&&i>=this.Ba(s)&&i<this.Vc(s))return this.gb=s}if(5>n){for(s=0;s<n;s++)if(i<this.Vc(s))return this.gb=s;throw t.i.fa("corrupted geometry")}for(s=0,--n;n>s;){var h=s+(n-s>>1);if(i<this.Ba(h))n=h-1;else{if(!(i>=(s=this.Vc(h))))return this.gb=h;s=h+1}}return this.gb=s},s.prototype.yz=function(){var t=this.I();if(!this.xf){t-=this.da();for(var i=0,s=this.da();i<s;i++)this.dc(i)&&t++}return t},s.prototype.rv=function(t){var i=this.Ja(t);return this.dc(t)||i--,i},s.prototype.Ia=function(){return new s(this.xf,this.description)},s.prototype.Db=function(){return this.xf?2:1},s.prototype.getType=function(){return this.xf?1736:1607},s.prototype.QJ=function(t){this.nb=t,this.Pc(16777215)},s.prototype.VR=function(){return this.wx(),this.Ve},s.prototype.JR=function(){return this.wx(),this.mb},s.prototype.PJ=function(t){this.mb=t,this.Pc(16777215)},s.prototype.da=function(){return null!=this.nb?this.nb.size-1:0},s.prototype.Vc=function(t){return this.nb.read(t+1)},s.prototype.Ja=function(t){return this.nb.read(t+1)-this.nb.read(t)},s.prototype.Ba=function(t){return this.nb.read(t)},s.prototype.lu=function(i,s){null==this.Bb&&(this.Bb=new t.Uk),s=t.Nx.pW(s);var n=this.Bb.Fk;if(null!=n){if(!(n.Ik<i||s>n.RR()))return!0;this.Bb.yD(null)}return n=t.Nx.create(this,i,s),this.Bb.yD(n),!0},s.prototype.cc=function(){var t=i.prototype.cc.call(this);if(!this.Ac()){var s=this.da();null!=this.nb&&this.nb.An(t,0,s+1),null!=this.mb&&this.mb.An(t,0,s)}return t},s.prototype.ZF=function(t){return null!=this.Ve?this.Ve.read(t):1},s.prototype.bc=function(i,s,n){var h=this.sz(i);if(i==this.Vc(h)-1&&!this.dc(h))throw t.i.fa("index out of bounds");this.mc();var r=this.Ve,e=1;if(null!=r&&(e=7&r.read(i)),1!==e)throw t.i.Qa();if(s.Or(),s=s.get(),n?s.Nf(t.ee.og()):s.Nf(this.description),h=i==this.Vc(h)-1&&this.dc(h)?this.Ba(h):i+1,r=new t.h,this.D(i,r),s.Dc(r),this.D(h,r),s.Qc(r),!n)for(n=1,r=this.description.Aa;n<r;n++){e=this.description.Ed(n);for(var o=t.ra.Va(e),a=0;a<o;a++){var u=this.Uc(e,i,a);s.YB(e,a,u),u=this.Uc(e,h,a),s.OB(e,a,u)}}},s.prototype.Rj=function(i,s){if(i>=this.da())throw t.i.N();if(this.B())s.Oa();else{if(this.yv(i))throw t.i.fa("not implemented");var n=this.ub(0),h=new t.h,r=new t.l;r.Oa();var e=this.Ba(i);for(i=this.Vc(i);e<i;e++)n.tc(2*e,h),r.Zb(h);s.K(r)}},s.prototype.fj=function(i){return null==this.Bb&&(this.Bb=new t.Uk),!(0==i||16>this.I())&&(i=t.ta.nE(this),this.Bb.WM(i),!0)},s.prototype.hM=function(){if(null==this.Bb&&(this.Bb=new t.Uk),null==this.Bb.zo){this.Bb.xD(null);var i=t.ta.YN(this);this.Bb.xD(i)}},s.prototype.Yo=function(t){this.xq=t},s.prototype.In=function(){return this.xq},s.prototype.DD=function(i){if(this==i)throw t.i.fa("MultiPathImpl.add");for(var s=this.da(),n=0;n<i.da();n++)this.addPath(i,n,!0),this.CU(s),s++},s.prototype.kO=function(i){var s=this.sz(i),n=this.Ba(s);if(n!=i){if(i>=(s=this.Vc(s))||i<n)throw t.i.fa("change_ring_start_point");for(var h=0,r=this.description.Aa;h<r;h++){var e=this.description.kd(h);e=t.ra.Va(e),this.za[h].rotate(n*e,i*e,s*e)}}},s}(t.Gx);t.Vk=s}(Q||(Q={})),function(t){var i=function(i){function s(s){var n=i.call(this)||this;if(void 0!==s){if(null==s)throw t.i.N();n.description=s}else n.description=t.ee.og();return n.wa=0,n}return _(s,i),s.prototype.Ia=function(){return new s(this.description)},s.prototype.add=function(t){this.resize(this.wa+1),this.Dh(this.wa-1,t)},s.prototype.Bu=function(i,s){this.resize(this.wa+1);var n=new t.h;n.ma(i,s),this.Cb(this.wa-1,n)},s.prototype.Fd=function(i,s,n){if(n=0>n?i.I():n,0>s||s>i.I()||n<s)throw t.i.N();if(s!=n){this.Jl(i.description),n-=s;var h=this.wa;this.resize(this.wa+n),this.mc();for(var r=0,e=i.description.Aa;r<e;r++){var o=i.description.Ed(r),a=t.ra.Va(o),u=this.ub(o);o=i.ub(o),u.Mn(h*a,o,s*a,n*a,!0,1,h*a)}}},s.prototype.HD=function(i,s){var n=i.length;if(s=0>s?n:s,0>n||0>s)throw t.i.N();if(0!=s){n=s-0,s=this.wa,this.resize(this.wa+n);for(var h=0;h<n;h++)this.Cb(s+h,i[0+h])}},s.prototype.DB=function(i){if(0>i||i>=this.I())throw t.i.fa("index out of bounds");this.mc();for(var s=0,n=this.description.Aa;s<n;s++)if(null!=this.za[s]){var h=t.ra.Va(this.description.Ed(s));this.za[s].En(h*i,h,h*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},s.prototype.resize=function(t){this.dm(t)},s.prototype.op=function(){},s.prototype.Oa=function(){i.prototype.wD.call(this)},s.prototype.Oc=function(i){if(i instanceof t.Dd){if(this.B())return;this.mc();for(var s=this.za[0],n=new t.h,h=0;h<this.wa;h++)n.x=s.read(2*h),n.y=s.read(2*h+1),i.Eh(n,n),s.write(2*h,n.x),s.write(2*h+1,n.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),s=this.za[0],n=this.za[1];var r=new t.Nd;for(h=0;h<this.wa;h++){r.x=s.read(2*h),r.y=s.read(2*h+1),r.z=n.read(h);var e=i.fp(r);s.write(2*h,e.x),s.write(2*h+1,e.y),n.write(h,e.z)}}this.Pc(1993)},s.prototype.Db=function(){return 0},s.prototype.getType=function(){return 550},s.prototype.Ke=function(){return 0},s.prototype.Qb=function(){return 0},s.prototype.Nb=function(t){return t==this||t instanceof s&&i.prototype.Nb.call(this,t)},s.prototype.lW=function(i,s){var n=this.wa;if(n=Math.min(n,s+1e3),0>s||s>=this.wa||n<s||1e3!=i.length)throw t.i.N();var h=n-s,r=[];for(this.ub(0).Vw(2*s,2*h,r,0,!0),s=0;s<h;s++)i[s]=t.h.construct(r[2*s],r[2*s+1]);return n},s.prototype.$x=function(){},s.prototype.iy=function(){},s.prototype.lu=function(){return!1},s.prototype.fj=function(){return!1},s.prototype.mg=function(){return null},s}(t.Gx);t.de=i}(Q||(Q={})),function(t){var i;(i=t.iL||(t.iL={}))[i.NotDetermined=0]="NotDetermined",i[i.Structure=1]="Structure",i[i.DegenerateSegments=2]="DegenerateSegments",i[i.Clustering=3]="Clustering",i[i.Cracking=4]="Cracking",i[i.CrossOver=5]="CrossOver",i[i.RingOrientation=6]="RingOrientation",i[i.RingOrder=7]="RingOrder",i[i.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",i[i.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",i[i.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var s=function(){function t(t,i,s){void 0===t?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=t,this.Jo=i,this.Ko=s)}return t.prototype.Wt=function(t){this.Jj=t.Jj,this.Jo=t.Jo,this.Ko=t.Ko},t}();t.Md=s}(Q||(Q={})),function(t){t.O=function(){function i(){}return i.assert=function(i){if(!1===i)throw t.i.GK()},i.bK=function(t){return isNaN(t)?NaN:0===t?t:0<t?1:-1},i.Fu=function(t){var s;void 0===s&&(s=0);for(var n=[],h=0;h<t;h++)n[h]=i.lg(2,s);return n},i.lg=function(t,i){void 0===i&&(i=0);for(var s=[],n=0;n<t;n++)s[n]=i;return s},i.$u=function(t,i){var s,n;for(void 0===s&&(s=0),void 0===n&&(n=t.length-1);s<=n;s++)t[s]=i},i.Rk=function(t,i,s){return t<i?i:t>s?s:t},i.Th=function(t,i){var s=5381;return((s=((s=((s=void 0!==i?(i<<5)+i+(255&t):(s<<5)+s+(255&t))<<5)+s+(t>>8&255))<<5)+s+(t>>16&255))<<5)+s+(t>>24&255)&2147483647},i.uj=function(){throw Error("Not Implemented")},i.bB=function(t){return i.aU(t)+12345&2147483647},i.XG=function(t){var s=32,n=t%i.Qx|0,h=t/i.Qx|0;return 0==(s&=63)?t:(32>s?(t=n>>>s|h<<32-s,s=h>>s):(t=h>>s-32,s=0<=h?0:-1),s*i.Qx+(t>>>0))},i.aU=function(t){var i=1103515245,s=65535&i;return((i-s)*(t|=0)|0)+(s*t|0)|0},i.truncate=function(t){return 0>t?-1*Math.floor(Math.abs(t)):Math.floor(t)},i.MAX_SAFE_INTEGER=Math.pow(2,53)-1,i.MIN_SAFE_INTEGER=-i.MAX_SAFE_INTEGER,i.VC=65536,i.Qx=i.VC*i.VC,i}()}(Q||(Q={})),function(t){var i;(i=t.CL||(t.CL={}))[i.Project=0]="Project",i[i.Union=1]="Union",i[i.Difference=2]="Difference",i[i.Proximity2D=3]="Proximity2D",i[i.Relate=4]="Relate",i[i.Equals=5]="Equals",i[i.Disjoint=6]="Disjoint",i[i.Intersects=7]="Intersects",i[i.Within=8]="Within",i[i.Contains=9]="Contains",i[i.Crosses=10]="Crosses",i[i.Touches=11]="Touches",i[i.Overlaps=12]="Overlaps",i[i.Buffer=13]="Buffer",i[i.Distance=14]="Distance",i[i.Intersection=15]="Intersection",i[i.Clip=16]="Clip",i[i.Cut=17]="Cut",i[i.DensifyByLength=18]="DensifyByLength",i[i.DensifyByAngle=19]="DensifyByAngle",i[i.LabelPoint=20]="LabelPoint",i[i.GeodesicBuffer=21]="GeodesicBuffer",i[i.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",i[i.ShapePreservingDensify=23]="ShapePreservingDensify",i[i.GeodeticLength=24]="GeodeticLength",i[i.GeodeticArea=25]="GeodeticArea",i[i.Simplify=26]="Simplify",i[i.SimplifyOGC=27]="SimplifyOGC",i[i.Offset=28]="Offset",i[i.Generalize=29]="Generalize",i[i.SymmetricDifference=30]="SymmetricDifference",i[i.ConvexHull=31]="ConvexHull",i[i.Boundary=32]="Boundary",i[i.SimpleRelation=33]="SimpleRelation";var s=function(){function t(){}return t.prototype.getType=function(){return null},t.prototype.wn=function(){},t.prototype.Iu=function(){return!1},t}();t.Je=s}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 13},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n,h,r){return i instanceof t.aa?(r=new t.Zc(i),this.V(r,s,[n],!1,h).next()):!0===h?(n=new t.BC(i,s,n,!1,r),t.Gh.local().V(n,s,r)):new t.BC(i,s,n,!1,r)},s.instance=null,s}(t.Je);t.AC=i}(Q||(Q={})),function(t){var i=function(){function i(i,s,n,h,r){this.ya=-1,this.Rd=i,this.$z=s,this.Cs=n,this.tT=new t.l,this.tT.Oa(),this.eo=-1,this.Ub=r}return i.prototype.next=function(){for(var t;null!=(t=this.Rd.next());)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(t,this.Cs[this.eo]);return null},i.prototype.La=function(){return this.ya},i.prototype.buffer=function(i,s){return t.HK.buffer(i,s,this.$z,NaN,96,this.Ub)},i.prototype.qe=function(){},i}();t.BC=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 16},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n,h){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,s,n,h).next()):new t.lL(i,s,n,h)},s.instance=null,s}(t.Je);t.kL=i}(Q||(Q={})),function(t){var i=function(){function i(i,s,n){if(this.ya=-1,null==i)throw t.i.N();this.$=s,this.yk=i,this.qa=t.ta.Wd(n,s,!1)}return i.prototype.next=function(){var i;return null!=(i=this.yk.next())?(this.ya=this.yk.La(),t.Ud.clip(i,this.$,this.qa,0)):null},i.prototype.La=function(){return this.ya},i.prototype.qe=function(){},i}();t.lL=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 31},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n){return i instanceof t.aa?t.DC.rE(i):new t.DC(s,i,n)},s.instance=null,s}(t.Je);t.CC=i}(Q||(Q={})),function(t){var i=function(){function i(i,s,n){if(this.uA=new t.Zt,this.ya=-1,null==s)throw t.i.N();this.cH=i,this.Ic=!1,this.yk=s,this.Ub=n}return i.prototype.next=function(){if(this.cH){if(!this.Ic){var t=this.dO(this.yk);return this.Ic=!0,t}return null}if(!this.Ic){if(null!=(t=this.yk.next()))return this.ya=this.yk.La(),i.rE(t);this.Ic=!0}return null},i.prototype.La=function(){return this.ya},i.prototype.dO=function(t){for(var i;null!=(i=t.next());)this.uA.Ib(i);return this.uA.cR()},i.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw t.i.fa("Invalid call for non merging convex hull.");var i=this.yk.next();if(null==i)throw t.i.fa("Expects a non-null geometry.");this.uA.Ib(i)}},i.rE=function(s){if(i.VS(s))return s;var n=s.getType();if(t.Vk.yd(n))return(n=new t.Ta(s.description)).oc(s,!0),n;if(550==n&&2==s.I()){var h=new t.Sa;return n=new t.Ta(s.description),s.ve(0,h),n.nf(h),s.ve(1,h),n.lineTo(h),n}return t.Zt.RO(s)},i.VS=function(i){if(i.B())return!0;var s=i.getType();return 33==s||197==s||!t.Vk.yd(s)&&(550==s?1==i.I():1607==s?1==i.da()&&2>=i.I():1==i.da()&&(2>=i.I()||t.Zt.JG(i,0)))},i}();t.DC=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 17},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n,h,r){return new t.nL(i,s,n,h,r)},s.instance=null,s}(t.Je);t.mL=i}(Q||(Q={})),function(t){var i=function(){function i(i,s,n,h,r){if(this.Tf=null,null==s||null==n)throw t.i.fa("invalid argument");this.qT=i,this.nA=s,this.lH=n,i=t.ta.mv(s,n),this.qa=t.ta.Wd(h,i,!0),this.kH=-1,this.nd=r}return i.prototype.La=function(){return 0},i.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},i.prototype.RQ=function(){if(null==this.Tf)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},i.prototype.TQ=function(){var i=new t.Ta,s=new t.Ta,n=new t.Ta;this.Tf.push(i),this.Tf.push(s);var h=[];t.LK.JK(this.qT,this.nA,this.lH,this.qa,h,this.nd);for(var r=0;r<h.length;r++){var e=h[r];if(0==e.bt)i.add(e.X,!1);else if(1==e.bt||2==e.bt)s.add(e.X,!1);else if(3==e.bt)this.Tf.push(e.X);else{if(4!=e.bt)throw t.i.fa("internal");n.add(e.X,!1)}}n.B()||i.B()&&s.B()&&!(3<=this.Tf.length)||this.Tf.push(n),i.B()&&s.B()&&3>this.Tf.length&&(this.Tf.length=0)},i.prototype.SQ=function(){var i=new t.ia(0),s=new t.gd,n=s.aF(),h=s.Ib(this.nA),r=s.Ib(this.lH),e=new t.Fg;try{e.Ft(s,this.qa,this.nd),e.dl(n,h,r,i);var o=s.Ne(h),a=new t.Da,u=new t.Da;for(this.Tf.length=0,this.Tf.push(a),this.Tf.push(u),h=0;h<i.size;h++){var f=new t.gd,c=f.Ib(o),l=f.Ib(s.Ne(i.get(h)));e.dr(f,this.nd);var p=e.Av(c,l),v=f.Ne(p);if(!v.B()){var y=s.KF(i.get(h),n);2==y?a.add(v,!1):1==y?u.add(v,!1):this.Tf.push(v);var d=new t.gd;c=d.Ib(o),l=d.Ib(s.Ne(i.get(h))),e.dr(d,this.nd),o=d.Ne(e.im(c,l))}}!o.B()&&0<i.size&&this.Tf.push(o),a.B()&&u.B()&&(this.Tf.length=0)}finally{e.Ug()}},i.prototype.qe=function(){},i}();t.nL=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 18},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n){if(i instanceof t.aa)return i=new t.Zc(i),this.V(i,s,n).next();if(0>=s)throw t.i.N();return new t.oL(i,s,n)},s.instance=null,s}(t.Je);t.Xl=i}(Q||(Q={})),function(t){var i=function(){function i(t,i){this.ya=-1,this.Rd=t,this.Ps=i}return i.prototype.La=function(){return this.ya},i.prototype.next=function(){var t;return null!=(t=this.Rd.next())?(this.ya=this.Rd.La(),this.NP(t)):null},i.prototype.NP=function(i){if(i.B()||1>i.Db())return i;var s=i.getType();if(1736==s||1607==s)return this.Ny(i);if(t.aa.yd(s))return this.PP(i);if(197==s)return this.OP(i);throw t.i.Qa()},i.prototype.PP=function(i){if(i.Qb()<=this.Ps)return i;var s=new t.Ta(i.description);return s.oc(i,!0),this.Ny(s)},i.prototype.OP=function(i){var s=new t.Da(i.description);s.ad(i,!1);var n=new t.l;return i.A(n),i=n.ca(),n.R()<=this.Ps&&i<=this.Ps?s:this.Ny(s)},i.prototype.Ny=function(i){for(var s=i.Ia(),n=i.Ga();n.$a();)for(var h=!0;n.Ha();){var r=n.ha();if(322!=r.getType())throw t.i.fa("not implemented");var e=n.On(),o=r.Qb();if(o>this.Ps){var a=Math.ceil(o/this.Ps);o=new t.Sa(i.description),h&&(r.To(o),s.nf(o));var u=h=1/a,f=0;for(--a;f<a;f++)r.Tw(u,o),s.lineTo(o),u+=h;e?s.Ap():(r.Po(o),s.lineTo(o))}else e?s.Ap():s.oc(r,h);h=!1}return s},i.prototype.qe=function(){},i}();t.oL=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.getType=function(){return 2},s.prototype.V=function(i,s,n,h){return i instanceof t.aa?(i=new t.Zc(i),s=new t.Zc(s),this.V(i,s,n,h).next()):new t.qL(i,s,n,h)},s.im=function(i,n,h,r){if(i.B()||n.B())return i;var e=i.Db(),o=n.Db();if(e>o)return i;var a=i.getType(),u=n.getType(),f=new t.l,c=new t.l,l=new t.l;i.A(f),n.A(c),l.K(f),l.Zb(c);var p=(l=t.ta.Wd(h,l,!0))*Math.sqrt(2)*1.00001,v=new t.l;if(v.K(f),v.W(p,p),!v.isIntersecting(c))return i;if(1==e&&2==o)return s.KV(i,n,u,h,r);if(33==a)switch(t.Vk.yd(u)?(h=new t.Ta(n.description),h.oc(n,!0)):h=n,u){case 1736:return s.XU(i,h,l);case 1607:return s.YU(i,h,l);case 550:return s.VU(i,h,l);case 197:return s.UU(i,h,l);case 33:return s.WU(i,h,l);default:throw t.i.N()}else if(550==a)switch(u){case 1736:return s.nU(i,n,l);case 197:return s.lU(i,n,l);case 33:return s.mU(i,n,l)}return t.Fg.im(i,n,h,r)},s.XU=function(i,s,n){return 0==t.hd.KG(s,i,n)?i:i.Ia()},s.YU=function(i,s,n){var h=i.D();s=s.Ga();for(var r=n*Math.sqrt(2)*1.00001,e=r*r,o=new t.l;s.$a();)for(;s.Ha();){var a=s.ha();if(a.A(o),o.W(r,r),o.contains(h)){if(a.qs(h,n))return i.Ia();var u=a.ac();if(t.h.yc(h,u)<=e)return i.Ia();if(u=a.wc(),t.h.yc(h,u)<=e)return i.Ia()}}return i},s.VU=function(i,s,n){var h=s.ub(0);s=s.I();var r=i.D(),e=new t.h;n=n*Math.sqrt(2)*1.00001,n*=n;for(var o=0;o<s;o++)if(h.tc(2*o,e),t.h.yc(e,r)<=n)return i.Ia();return i},s.UU=function(i,s,n){var h=new t.l;return s.A(h),h.W(n,n),s=i.D(),h.contains(s)?i.Ia():i},s.WU=function(i,s,n){n=n*Math.sqrt(2)*1.00001,n*=n;var h=i.D();return s=s.D(),t.h.yc(h,s)<=n?i.Ia():i},s.nU=function(i,s,n){var h=new t.l;s.A(h),h.W(n,n);for(var r=i.I(),e=!1,o=[],a=0;a<r;a++)o[a]=!1;var u=new t.h;for(a=0;a<r;a++)i.D(a,u),h.contains(u)&&0!=t.hd.Yd(s,u,n)&&(e=!0,o[a]=!0);if(!e)return i;for(s=i.Ia(),a=0;a<r;a++)o[a]||s.Fd(i,a,a+1);return s},s.lU=function(i,s,n){var h=new t.l;s.A(h),h.W(n,n),s=i.I();var r=!1;n=[];for(var e=0;e<s;e++)n[e]=!1;var o=new t.h;for(e=0;e<s;e++)i.D(e,o),h.contains(o)&&(r=!0,n[e]=!0);if(!r)return i;for(h=i.Ia(),e=0;e<s;e++)n[e]||h.Fd(i,e,e+1);return h},s.mU=function(i,s,n){var h=i.ub(0),r=i.I(),e=s.D(),o=new t.h,a=!1;s=[];for(var u=0;u<r;u++)s[u]=!1;for(n=(u=n*Math.sqrt(2)*1.00001)*u,u=0;u<r;u++)h.tc(2*u,o),t.h.yc(o,e)<=n&&(a=!0,s[u]=!0);if(!a)return i;for(h=i.Ia(),u=0;u<r;u++)s[u]||h.Fd(i,u,u+1);return h},s.KV=function(i,s,n,h,r){var e=new t.Fh;i.bn(e);var o=new t.l;return s.A(o),e.Zb(o),e.W(.1*e.R(),.1*e.ca()),(o=new t.Da).ad(e,!1),1736==n?o.add(s,!0):o.ad(s,!0),t.Xj.local().V(i,o,h,r)},s.instance=null,s}(t.Je);t.kp=i}(Q||(Q={})),function(t){var i=function(){function i(t,i,s,n){this.ts=null==i,this.ya=-1,this.Rd=t,this.$z=s,this.wT=i.next(),this.Ub=n}return i.prototype.next=function(){return this.ts?null:null!=(i=this.Rd.next())?(this.ya=this.Rd.La(),t.kp.im(i,this.wT,this.$z,this.Ub)):null;var i},i.prototype.La=function(){return this.ya},i.prototype.qe=function(){},i}();t.qL=i}(Q||(Q={})),function(t){var i=function(){function i(i){this.nd=i,this.Bj=new t.l,this.Bj.Oa(),this.oh=new t.l,this.oh.Oa()}return i.prototype.Nt=function(){var t=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=t,t=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=t,t=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=t,t=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=t},i.prototype.eQ=function(i,s){if(null!=this.nd&&!this.nd.progress(-1,-1))throw t.i.fu("user_canceled");var n=!this.Bj.isIntersecting(this.oh);return t.aa.Hc(i.getType())&&t.aa.Hc(s.getType())?i.I()>s.I()?this.gE(i,s,n):(this.Nt(),i=this.gE(s,i,n),this.Nt(),i):550==i.getType()&&t.aa.Hc(s.getType())?(i=this.hE(s,i,n),this.Nt(),i):550==s.getType()&&t.aa.Hc(i.getType())?this.hE(i,s,n):550==i.getType()&&550==s.getType()?i.I()>s.I()?this.iE(i,s):(this.Nt(),i=this.iE(s,i),this.Nt(),i):0},i.prototype.gE=function(i,s,n){var h=i.Ga(),r=s.Ga(),e=new t.l,o=new t.l,a=17976931348623157e292;if(!n&&this.pY(i,s,h,r))return 0;for(;h.$a();)for(;h.Ha();)if((i=h.ha()).A(e),!(e.px(this.oh)>a)){for(;r.$a();)for(;r.Ha();)if((s=r.ha()).A(o),e.px(o)<a&&(s=i.tb(s,n),(s*=s)<a)){if(0==s)return 0;a=s}r.Zi()}return Math.sqrt(a)},i.prototype.hE=function(i,s,n){var h=i.Ga(),r=new t.l,e=17976931348623157e292,o=new t.h,a=s.I();for(n=!n&&1736==i.getType();h.$a();)for(;h.Ha();){var u=h.ha();if(u.A(r),!(1<a&&r.px(this.oh)>e)){for(var f=0;f<a;f++){if(s.D(f,o),n&&0!=t.hd.Yd(i,o,0))return 0;var c=u.fe(o,!1);if(o.sub(u.hc(c)),(c=o.Sk())<e){if(0==c)return 0;e=c}}n=!1}}return Math.sqrt(e)},i.prototype.iE=function(i,s){for(var n,h=17976931348623157e292,r=new t.h,e=new t.h,o=i.I(),a=s.I(),u=0;u<o;u++)if(i.D(u,r),!(1<a&&this.oh.iK(r)>h))for(var f=0;f<a;f++)if(s.D(f,e),(n=t.h.yc(r,e))<h){if(0==n)return 0;h=n}return Math.sqrt(h)},i.prototype.pY=function(i,s,n,h){if(1736==i.getType()){for(;h.$a();)if(h.Ha()){var r=h.ha();if(0!=t.hd.Yd(i,r.wc(),0))return!0}h.Zi()}if(1736==s.getType()){for(;n.$a();)if(n.Ha()&&(i=n.ha(),0!=t.hd.Yd(s,i.wc(),0)))return!0;n.Zi()}return!1},i.prototype.gm=function(t,i){return t.B()||i.B()?NaN:(t.A(this.Bj),i.A(this.oh),this.eQ(t,i))},i}(),s=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return _(n,s),n.prototype.V=function(s,n,h){if(null==s||null==n)throw t.i.N();if(s.B()||n.B())return NaN;var r=s.getType(),e=n.getType();if(33==r){if(33==e)return t.h.tb(s.D(),n.D());if(197==e)return h=new t.l,n.A(h),h.tb(s.D());(r=new t.de).add(s),s=r}else if(197==r){if(197==e)return e=new t.l,s.A(e),h=new t.l,n.A(h),h.tb(e);(r=new t.Da).ad(s,!1),s=r}return 33==e?((e=new t.de).add(n),n=e):197==e&&((e=new t.Da).ad(n,!1),n=e),new i(h).gm(s,n)},n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.getType=function(){return 14},n.instance=null,n}(t.Je);t.rL=s}(Q||(Q={})),function(t){var i=function(){function i(t,i,s,n){this.zH=t,this.DH=i,this.nd=n,this.$G=s}return i.prototype.next=function(){var t=this.zH.next();return null==t?null:this.zC(t)},i.prototype.La=function(){return this.zH.La()},i.prototype.zC=function(i){var s=i.getType();if(t.aa.Rn(s))return i;if(197==s)return(s=new t.Da(i.description)).ad(i,!1),this.zC(s);if(i.B())return i;if(null==i)throw t.i.Qa();s=i.Ia();for(var n=new t.yb,h=0,r=i.da();h<r;h++)this.TK(i,h,s,n);return s},i.prototype.TK=function(i,s,n,h){if(!(2>i.Ja(s))){var r=i.Ba(s),e=i.Vc(s)-1,o=i.ub(0),a=i.dc(s),u=new t.ia(0);u.Jb(i.Ja(s)+1);var f=new t.ia(0);for(f.Jb(i.Ja(s)+1),u.add(a?r:e),u.add(r),r=new t.h;1<u.size;){var c=u.Fc();u.If();var l=u.Fc();i.D(c,r),h.Dc(r),i.D(l,r),h.Qc(r),0<=(l=this.SK(h,r,o,c,l,e))?(u.add(l),u.add(c)):f.add(c)}if(a||f.add(u.get(0)),f.size==u.size)n.addPath(i,s,!0);else if(2<=f.size&&(!this.$G||2!=f.size||!(a||t.h.tb(i.Na(f.get(0)),i.Na(f.get(1)))<=this.DH))){for(s=new t.Sa,h=0,e=f.size;h<e;h++)i.ve(f.get(h),s),0==h?n.nf(s):n.lineTo(s);a&&(this.$G||2!=f.size||n.lineTo(s),n.Ap())}}},i.prototype.SK=function(t,i,s,n,h,r){var e=h-1;for(h<=n&&(e=r),r=h=-1,n+=1;n<=e;n++){s.tc(2*n,i);var o=i.x,a=i.y;t.hc(t.fe(i,!1),i),i.x-=o,i.y-=a,(o=i.length())>this.DH&&o>r&&(h=n,r=o)}return h},i.prototype.qe=function(){},i}();t.sL=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 29},s.prototype.V=function(i,s,n,h){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,s,n,h).next()):new t.sL(i,s,n,h)},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.instance=null,s}(t.Je);t.EC=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 21},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n,h,r,e,o,a){return i instanceof t.aa?(a=new t.Zc(i),this.V(a,s,n,[h],r,e,!1,o).next()):!0===o?(n=new t.GC(i,s,n,h,r,!1,!1,a),t.Gh.local().V(n,s,a)):new t.GC(i,s,n,h,r,!1,!1,a)},s.instance=null,s}(t.Je);t.FC=i}(Q||(Q={})),function(t){var i=function(){function i(i,s,n,h,r,e,o,a){if(e)throw t.i.Ie();if(null==s)throw t.i.N();this.ya=-1,this.Ms=i,this.vg=s,this.ze=n,this.Cs=h,this.$n=r,this.eo=-1,this.Ub=a,this.uT=new t.l,this.uT.Oa()}return i.prototype.next=function(){for(var t;null!=(t=this.Ms.next());)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(t,this.Cs[this.eo]);return null},i.prototype.La=function(){return this.ya},i.prototype.$Q=function(i,s){return t.VK.buffer(i,this.vg,this.ze,s,this.$n,this.Ub)},i.prototype.qe=function(){},i}();t.GC=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 24},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n){if(null==s)throw t.i.N();if(i.B()||1>i.Db())return 0;if(4==n)throw t.i.Ie();var h=t.cb.sc(s),r=t.cb.vv(h),e=t.cb.ev(h);r*=2-r;var o=h.Hd().ai,a=i.getType();if(1736==a||197==a)var u=i.mg();else t.aa.yd(a)?(u=new t.Ta(i.description)).oc(i,!0):u=i;if(0==h.Nb(s)){if(t.cb.Wc(s)){u=t.Hh.lj(u,s),1607==a&&u==i&&(u=t.aa.jg(i)),i=new t.Nc,t.cb.gh(s).cn(i),a=0;for(var f=u.I();a<f;a++){var c=u.Na(a);c.x=t.Hh.Zm(c.x,i),u.Cb(a,c)}}i=u.Ia(),u=t.Hh.WI(s,h,u,i)?i:t.cb.zh(u,s,h)}return this.hQ(u,n,e,r,o)},s.prototype.hQ=function(i,s,n,h,r){var e=new t.ga(0),o=0;for(i=i.Ga();i.$a();)for(;i.Ha();){var a=i.ha(),u=a.ac();a=a.wc(),u.scale(r),a.scale(r),t.kb.wd(n,h,u.x,u.y,a.x,a.y,e,null,null,s),o+=e.u}return o},s.instance=null,s}(t.Je);t.vL=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 18},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n,h,r){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,s,n,h,r).next()):new t.uL(i,n,h,s,-1,-1,r)},s.instance=null,s}(t.Je);t.tL=i}(Q||(Q={})),function(t){var i=function(){function i(i,s,n,h,r,e){if(0<e)throw t.i.Ie();if(4!=n&&0<r)throw t.i.Ie();if(null==s)throw t.i.N();this.ya=-1,this.Ms=i,this.vg=s,this.ze=n,this.DT=h,this.CT=r}return i.prototype.next=function(){for(var t;null!=(t=this.Ms.next());)return this.ya=this.Ms.La(),this.Zy(t);return null},i.prototype.La=function(){return this.ya},i.prototype.Zy=function(i){return t.cj.Qr(i,this.vg,this.ze,this.DT,this.CT,this.Ub)},i.prototype.qe=function(){},i}();t.uL=i}(Q||(Q={})),function(t){!function(t){t[t.Unknown=0]="Unknown",t[t.Contains=1]="Contains",t[t.Within=2]="Within",t[t.Equals=3]="Equals",t[t.Disjoint=4]="Disjoint",t[t.Touches=8]="Touches",t[t.Crosses=16]="Crosses",t[t.Overlaps=32]="Overlaps",t[t.NoThisRelation=64]="NoThisRelation",t[t.Intersects=1073741824]="Intersects",t[t.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"}(t.cL||(t.cL={})),t.wL=function(){function i(){}return i.nW=function(i,s){var n=i.getType(),h=s.getType();if(t.aa.xj(n)){var r=i.Bb;if(null!=r&&null!=(r=r.Fk)){if(33==h){var e=s.D();r=r.So(e.x,e.y)}else e=new t.l,s.A(e),r=r.Ro(e);if(1==r)return 1;if(0==r)return 4}}if(t.aa.xj(h)&&(null!=(r=s.Bb)&&null!=(r=r.Fk))){if(33==n?(i=i.D(),r=r.So(i.x,i.y)):(s=new t.l,i.A(s),r=r.Ro(s)),1==r)return 2;if(0==r)return 4}return 0},i}()}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.getType=function(){return 15},s.prototype.V=function(i,s,n,h,r){return i instanceof t.aa?(i=new t.Zc(i),s=new t.Zc(s),this.V(i,s,n,h,void 0===r?-1:r).next()):void 0===r?new t.HC(i,s,n,h,-1):new t.HC(i,s,n,h,r)},s.prototype.wn=function(i,s,n){this.Iu(i)&&(s=t.ta.kj(s,i,!1),i.fj(n)||i.lu(s,n))},s.prototype.Iu=function(i){return t.Nx.zE(i)},s.instance=null,s}(t.Je);t.Xj=i}(Q||(Q={})),function(t){var i=function(){function i(i,s,n,h,r){if(this.ts=null==s,this.ya=-1,this.Rd=i,this.vg=n,this.Se=s.next(),this.Dj=this.Se.getType(),this.Ub=h,this.Fi=r,-1!=this.Fi&&(0>=this.Fi||7<this.Fi))throw t.i.N("bad dimension mask")}return i.prototype.next=function(){if(this.ts)return null;if(null!=this.zw){var t=this.zw.next();if(null!=t)return t;this.zw=null}for(;null!=(t=this.Rd.next());)return this.ya=this.Rd.La(),-1==this.Fi?t=this.Ea(t):(this.zw=this.PS(t),t=this.zw.next()),t;return null},i.prototype.La=function(){return this.ya},i.prototype.Ea=function(i){var s=this.zK(i);if(null!=s)return s;s=t.ta.mv(this.Se,i);var n=t.ta.Wd(this.vg,s,!0);s=new t.l,this.Se.A(s);var h=new t.l;return i.A(h),s.W(2*n,2*n),s.Ea(h),s.W(100*n,100*n),n=t.Ud.clip(this.Se,s,0,0),i=t.Ud.clip(i,s,0,0),t.Fg.Av(i,n,this.vg,this.Ub)},i.prototype.QI=function(i,s,n){var h=0;if(0!=(1&s))null==n[0]&&(n[0]=new t.de(i)),h++;else for(var r=0;r<n.length-1;r++)n[r]=n[r+1];if(0!=(2&s))null==n[h]&&(n[h]=new t.Ta(i)),h++;else for(r=h;r<n.length-1;r++)n[r]=n[r+1];if(0!=(4&s))null==n[h]&&(n[h]=new t.Da(i)),h++;else for(r=h;r<n.length-1;r++)n[r]=n[r+1];if(3!=h){for(i=[],r=0;r<h;r++)i[r]=n[r];return new t.Zc(i)}return new t.Zc(n)},i.prototype.PS=function(i){var s=this.zK(i);if(null!=s){var n=[null,null,null];return n[s.Db()]=s,this.QI(i.description,this.Fi,n)}s=t.ta.mv(this.Se,i),n=t.ta.Wd(this.vg,s,!0),s=new t.l,this.Se.A(s),s.W(2*n,2*n);var h=new t.l;return i.A(h),s.Ea(h),s.W(100*n,100*n),n=t.Ud.clip(this.Se,s,0,0),s=t.Ud.clip(i,s,0,0),n=t.Fg.Pz(s,n,this.vg,this.Ub),this.QI(i.description,this.Fi,n)},i.prototype.zK=function(s){var n=t.ta.mv(s,this.Se),h=t.ta.Wd(this.vg,n,!0);n=s.getType();var r=s.B(),e=this.Se.B();if(!(e=r||e)){e=new t.l,s.A(e);var o=new t.l;this.Se.A(o),o.W(2*h,2*h),e=!e.isIntersecting(o)}if(!e)if(4==(o=t.wL.nW(this.Se,s)))e=!0;else{if(0!=(2&o))return this.Se;if(0!=(1&o))return s}if(e)return(h=t.aa.tf(n))<(e=t.aa.tf(this.Dj))?i.HB(s,r):h>e||0==h&&550==n&&33==this.Dj?this.nJ():i.HB(s,r);if((-1==this.Fi||4==this.Fi)&&197==n&&197==this.Dj)return h=this.Se,n=new t.l,s.A(n),r=new t.l,h.A(r),n.Ea(r),h=new t.Fh,s.copyTo(h),h.Xo(n),h;if(197==n&&0==t.aa.tf(this.Dj)||197==this.Dj&&0==t.aa.tf(n))return r=197==n?s:this.Se,s=197==n?this.Se:s,n=new t.l,r.A(n),t.Ud.clip(s,n,h,0);if(0==t.aa.tf(n)&&0<t.aa.tf(this.Dj)||0<t.aa.tf(n)&&0==t.aa.tf(this.Dj)){if(h=t.ta.kj(this.vg,s,!1),550==n||33==n)return t.Fg.zG(s,this.Se,h);if(550==this.Dj||33==this.Dj)return t.Fg.zG(this.Se,s,h);throw t.i.Qa()}return-1!=this.Fi&&2!=this.Fi||1607!=n||1736!=this.Dj?-1!=this.Fi&&2!=this.Fi||1736!=n||1607!=this.Dj?null:this.wK(this.Se,s):this.wK(s,this.Se)},i.prototype.wK=function(i,s){var n=i,h=s,r=t.ta.kj(this.vg,s,!1),e=new t.l;h.A(e);var o=new t.l;n.A(o),o.W(2*r,2*r),e.Ea(o),e.W(10*r,10*r),n=i=t.Ud.clip(i,e,0,0),o=new t.ia(0);var a=-1,u=h.Bb;if(null!=u){var f=u.Fk;if(null!=f){a=0,o.Jb(n.I()+n.da());for(var c=new t.l,l=n.Ga();l.$a();)for(;l.Ha();){l.ha().A(c);var p=f.Ro(c);1==p?o.add(1):0==p?o.add(0):(o.add(-1),a++)}}}if(5<s.I()&&(u=(h=s=t.Ud.clip(s,e,0,0)).Bb),0>a&&(a=n.yz()),e=n.I()+h.I(),a*h.I()>Math.log(e)*e*4)return null;e=null,a=h.Ga(),null!=u&&null!=u.Fb&&(e=u.Fb),null==e&&20<h.I()&&(e=t.ta.nE(h)),i=i.Ia(),h=null,u=n.Ga(),f=[0,0,0,0,0,0,0,0,0],c=new t.be(0),l=new t.ig,p=-1;for(var v=0,y=0,d=0<o.size,b=-1;u.$a();){b=u.gb;var g=0;for(p=-1,v=0;u.Ha();){var w=d?t.O.truncate(o.get(y)):-1;y++;var x=u.ha();if(0>w){if(null!=e)for(null==h?h=e.vR(x,r):h.Uo(x,r),w=h.next();-1!=w;w=h.next()){a.Vb(e.ja(w)),w=a.ha();var m=x.Ea(w,null,f,null,r);for(w=0;w<m;w++)c.add(f[w])}else for(a.Zi();a.$a();)for(;a.Ha();)for(w=a.ha(),m=x.Ea(w,null,f,null,r),w=0;w<m;w++)c.add(f[w]);if(0<c.size){c.Vd(0,c.size,(function(t,i){return t-i}));var j=0;c.add(1),m=-1,w=0;for(var M=c.size;w<M;w++){var k=c.get(w);if(k!=j){var z=!1;if(0!=j||1!=k?(x.ah(j,k,l),j=l.get()):(j=x,z=!0),2<=g){if(i.Dr(n,b,p,v,3==g),1!=this.QD(s,j.ac(),r)&&1!=this.RD(s,j,r))return null;i.oc(j,!1),g=1,v=0}else switch(m=this.RD(s,j,r),m){case 1:z?2>g?(p=u.wb()-n.Ba(b),v=1,g=0==g?3:2):v++:(i.oc(j,0==g),g=1);break;case 0:g=0,p=-1,v=0;break;default:return null}j=k}}}else{if(0>(w=this.QD(s,x.ac(),r)))return null;1==w?(2>g&&(p=u.wb()-n.Ba(b),g=0==g?3:2),v++):(p=-1,v=0)}c.clear(!1)}else 0!=w&&1==w&&(0==g?(g=3,p=u.wb()-n.Ba(b)):1==g?(g=2,p=u.wb()-n.Ba(b)):v++)}2<=g&&(i.Dr(n,b,p,v,3==g),p=-1)}return i},i.prototype.QD=function(i,s,n){return t.Dg.wm(i,s,n)},i.prototype.RD=function(i,s,n){var h=s.ac();s=s.wc();var r=t.Dg.wm(i,h,n),e=t.Dg.wm(i,s,n);return 1==r&&0==e||0==r&&1==e?-1:0==r||0==e?0:1==r||1==e?1:((r=new t.h).add(h,s),r.scale(.5),0==(i=t.Dg.wm(i,r,n))?0:1==i?1:-1)},i.HB=function(t,i){return i?t:t.Ia()},i.prototype.nJ=function(){return null==this.yH&&(this.yH=this.Se.Ia()),this.yH},i.prototype.qe=function(){},i}();t.HC=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 28},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n,h,r,e,o){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,s,n,h,r,e,o).next()):new t.xL(i,s,n,h,r,e,o)},s.instance=null,s}(t.Je);t.IC=i}(Q||(Q={})),function(t){var i=function(){function i(t,i,s,n,h,r,e){this.ya=-1,this.Rd=t,this.Mj=i,this.Ka=s,this.Ki=n,this.CA=h,this.uH=r,this.nd=e}return i.prototype.next=function(){var t=this.Rd.next();return null!=t?(this.ya=this.Rd.La(),this.jL(t)):null},i.prototype.La=function(){return this.ya},i.prototype.jL=function(i){var s=0>=this.uH?t.ta.kj(this.Mj,i,!1):this.uH;return t.IK.V(i,this.Ka,this.Ki,this.CA,s,this.nd)},i.prototype.qe=function(){},i}();t.xL=i}(Q||(Q={})),function(t){var i;(i=t.NK||(t.NK={}))[i.clipToDomainOnly=1]="clipToDomainOnly",i[i.clipWithHorizon=2]="clipWithHorizon",i[i.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var s=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 0},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,s,n).next()):new t.yL(i,s,n)},s.prototype.transform=function(i,s,n,h){return t.bu.transform(i,s,n,h,!0)},s.prototype.Qt=function(i,s,n,h){return t.bu.Qt(i,s,n,h)},s.instance=null,s}(t.Je);t.Hx=s}(Q||(Q={})),function(t){var i=function(){function i(t,i,s){this.ya=-1,this.Rd=t,this.MT=i,this.nd=s}return i.prototype.next=function(){var i=this.Rd.next();return null!=i?(this.ya=this.Rd.La(),t.bu.zh(i,this.MT,this.nd)):null},i.prototype.La=function(){return this.ya},i.prototype.qe=function(){},i}();t.yL=i}(Q||(Q={})),function(t){var i=function(){function i(){}return i.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},i.prototype.AQ=function(t,i,s){for(t.Vb(i,s);t.Ha();){var n=t.ha();if(0!=(n=n.Qb()))return t.wb()}for(t.Vb(i,s);t.Ez();)if(0!=(n=(n=t.li()).Qb()))return t.wb();return-1},i.prototype.BQ=function(t,i){for(t.Vb(i,-1);t.Ez();)if(0!=t.li().Qb())return t.wb();return-1},i.prototype.zQ=function(t,i){for(t.Vb(i,-1),t.ha();t.Ha();)if(0!=t.ha().Qb())return t.wb();return-1},i.prototype.yQ=function(i,s,n,h){if(this.xk=this.AQ(s,n,h),-1!=this.xk){s.Vb(this.xk,-1);var r=s.ha(),e=r.hc(r.fe(i,!1));if(n=t.h.yc(e,i),(h=new t.h).L(e),h.sub(r.ac()),(e=new t.h).L(i),e.sub(r.ac()),this.kq=0>h.wi(e),this.ph=this.zQ(s,this.xk),-1!=this.ph){s.Vb(this.ph,-1);var o=(r=s.ha()).fe(i,!1);o=r.hc(o);var a=t.h.yc(o,i);a>n?this.ph=-1:(h.L(o),h.sub(r.ac()),e.L(i),e.sub(r.ac()),this.us=0>h.wi(e))}-1==this.ph&&(this.ph=this.BQ(s,this.xk),-1!=this.ph&&(s.Vb(this.ph,-1),o=(r=s.ha()).fe(i,!1),o=r.hc(o),(a=t.h.yc(o,i))>n?this.ph=-1:(h.L(o),h.sub(r.ac()),e.L(i),e.sub(r.ac()),this.us=0>h.wi(e),i=this.xk,this.xk=this.ph,this.ph=i,i=this.kq,this.kq=this.us,this.us=i)))}},i.prototype.cO=function(t,i,s,n,h){return s=s.Ga(),this.yQ(t,s,n,h),-1!=this.xk&&-1==this.ph?this.kq:-1!=this.xk&&-1!=this.ph?this.kq==this.us?this.kq:(s.Vb(this.xk,-1),t=s.ha().kg(),s.Vb(this.ph,-1),i=s.ha().kg(),0<=t.wi(i)):i},i}(),s=function(s){function n(){return null!==s&&s.apply(this,arguments)||this}return _(n,s),n.local=function(){return null===n.instance&&(n.instance=new n),n.instance},n.prototype.getType=function(){return 3},n.prototype.nz=function(i,s,n){var h;if(void 0===h&&(h=!1),i.B())return new t.$l;s=s.D();var r=i,e=i.getType();switch(197==e&&((r=new t.Da).ad(i,!1),e=1736),e){case 33:return this.xI(r,s);case 550:return this.jI(r,s);case 1607:case 1736:return this.bU(r,s,n,h);default:throw t.i.fa("not implemented")}},n.prototype.oz=function(i,s){if(i.B())return new t.$l;s=s.D();var n=i,h=i.getType();switch(197==h&&((n=new t.Da).ad(i,!1),h=1736),h){case 33:return this.xI(n,s);case 550:case 1607:case 1736:return this.jI(n,s);default:throw t.i.fa("not implemented")}},n.prototype.pz=function(i,s,n,h){if(0>h)throw t.i.N();if(i.B())return[];s=s.D();var r=i,e=i.getType();switch(197==e&&((r=new t.Da).ad(i,!1),e=1736),e){case 33:return this.TU(r,s,n,h);case 550:case 1607:case 1736:return this.tU(r,s,n,h);default:throw t.i.fa("not implemented")}},n.prototype.bU=function(s,n,h,r){if(1736==s.getType()&&h&&(h=new t.l,s.A(h),h=t.ta.Wd(null,h,!1),0!=(r?t.hd.Yd(s,n,0):t.hd.Yd(s,n,h)))){var e=new t.$l(n,0,0);return r&&e.WJ(!0),e}var o=s.Ga();e=new t.h;for(var a=h=-1,u=17976931348623157e292,f=0;o.$a();)for(;o.Ha();){var c=o.ha();c=c.hc(c.fe(n,!1));var l=t.h.yc(c,n);l<u?(f=1,e=c,h=o.wb(),a=o.gb,u=l):l==u&&f++}return e=new t.$l(e,h,Math.sqrt(u)),r&&(o.Vb(h,a),c=o.ha(),r=0>t.h.Uq(n,c.ac(),c.wc()),1<f&&((f=new i).reset(),r=f.cO(n,r,s,h,a)),e.WJ(r)),e},n.prototype.xI=function(i,s){return i=i.D(),s=t.h.tb(i,s),new t.$l(i,0,s)},n.prototype.jI=function(i,s){for(var n=i.ub(0),h=i.I(),r=i=0,e=0,o=17976931348623157e292,a=0;a<h;a++){var u=new t.h;n.tc(2*a,u);var f=t.h.yc(u,s);f<o&&(r=u.x,e=u.y,i=a,o=f)}return(s=new t.$l).ey(r,e,i,Math.sqrt(o)),s},n.prototype.TU=function(i,s,n,h){return 0==h?[]:(n*=n,i=i.D(),(s=t.h.yc(i,s))<=n?(n=[],(h=new t.$l).ey(i.x,i.y,0,Math.sqrt(s)),n[0]=h):n=[],n)},n.prototype.tU=function(i,s,n,h){if(0==h)return[];var r=i.ub(0),e=i.I();i=[],n*=n;for(var o=0;o<e;o++){var a=r.read(2*o),u=r.read(2*o+1),f=s.x-a,c=s.y-u;(f=f*f+c*c)<=n&&((c=new t.$l).ey(a,u,o,Math.sqrt(f)),i.push(c))}return s=i.length,i.sort((function(t,i){return t.Ka<i.Ka?-1:t.Ka==i.Ka?0:1})),h>=s||(i.length=h),i.slice(0)},n.instance=null,n}(t.Je);t.Ix=s}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 4},s.prototype.V=function(i,s,n,h,r){return t.am.yB(i,s,n,h,r)},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.Iu=function(i){return t.Vt.wy(i)},s.prototype.wn=function(i,s,n){t.Vt.CD(i,s,n)},s.instance=null,s}(t.Je);t.zL=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 33},s.prototype.V=function(i,s,n,h,r){return 1073741824===i?!t.ud.zB(s,n,h,4,r):t.ud.zB(s,n,h,i,r)},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.Iu=function(i){return t.Vt.wy(i)},s.prototype.wn=function(i,s,n){t.Vt.CD(i,s,n)},s.instance=null,s}(t.Je);t.dj=i}(Q||(Q={})),function(t){var i=function(){function i(i,s,n,h){if(this.nd=h,this.rT=n,this.ya=-1,null==i)throw t.i.N();this.yk=i,this.Mj=s}return i.prototype.next=function(){var i;if(null!=(i=this.yk.next())){if(this.ya=this.yk.La(),null!=this.nd&&!this.nd.progress(-1,-1))throw t.i.fu("user_canceled");return this.eC(i)}return null},i.prototype.La=function(){return this.ya},i.prototype.eC=function(i){if(null==i)throw t.i.N();return t.Jx.cK(i,this.Mj,this.rT,this.nd)},i.prototype.qe=function(){},i}();t.AL=i}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 26},s.prototype.V=function(i,s,n,h){return i instanceof t.aa?(i=new t.Zc(i),this.V(i,s,n,h).next()):new t.AL(i,s,n,h)},s.prototype.rs=function(i,s,n,h,r){return 0<(void 0!==h?t.Jx.rs(i,s,n,h,r):t.Jx.rs(i,s,!1,null,n))},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.instance=null,s}(t.Je);t.Yl=i}(Q||(Q={})),function(t){var i=function(){function t(){this.yq=0}return t.prototype.nX=function(t){this.yq&=-2,this.yq|=t?1:0},t.prototype.Wp=function(){return 0!=(1&this.yq)},t.prototype.XF=function(){return this.Wp()?0:1},t}();t.xY=i;var s=function(){},n=function(t,i,s,n){this.x=t,this.y=i,this.Ai=s,this.xm=n},h=function(){function t(t){this.Be=t}return t.prototype.compare=function(t,i,s){return t=t.ja(s),i=this.Be.lf.read(2*i),0>(i-=t=this.Be.lf.read(2*t))?-1:0<i?1:0},t}(),r=function(){function t(t){this.Be=t}return t.prototype.compare=function(t,i,s){i=this.Be.hb[i],t=this.Be.hb[t.ja(s)];var n=i.Wp(),h=t.Wp();s=i.ne.Pe(this.Be.Mo,0);var r=t.ne.Pe(this.Be.Mo,0);return s==r&&((n=.5*((s=Math.min(n?i.ne.na:i.ne.la,h?t.ne.na:t.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&(n=s),s=i.ne.Pe(n,0),r=t.ne.Pe(n,0)),s<r?-1:s>r?1:0},t}(),e=function(){function i(i,s){this.YI=new t.h,this.parent=i,this.dS=s}return i.prototype.nr=function(t,i,s){var n=this.parent,h=this.dS;s.Vd(t,i,(function(t,i){return n.Mh(t,i,h)}))},i.prototype.$p=function(t){return t=this.parent.gi.get(t),this.parent.lf.tc(2*(t>>1),this.YI),this.YI.y+(0!=(1&t)?this.parent.Oj:-this.parent.Oj)},i}(),o=function(){function o(i,s,n,h,r){this.nH=i.description,this.X=i,this.Qg=s,this.Oj=t.ta.kj(this.Qg,i,!1),this.Bo=t.ta.kj(this.Qg,i,!0),this.xA=n,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new t.jp,this.fb=new t.Yj,this.ke=new t.Md,this.ZG=this.ql=r}return o.prototype.eT=function(){return this.ZG=!0,(!t.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?t.aa.Hc(this.X.getType())?this.pO()?1607==this.X.getType()?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},o.prototype.kC=function(i,s){var n=this.lf.read(2*i);i=this.lf.read(2*i+1);var h=this.lf.read(2*s);s=this.lf.read(2*s+1);var r=!t.Yt.Cv(n,i,h,s,this.Oj*this.Oj);return r||0!=this.X.Db()&&(n==h&&i==s)},o.prototype.GE=function(){for(var i=this.X,s=i.xf?3:2,n=0,h=i.da();n<h;n++)if(i.Ja(n)<s)return this.ke=new t.Md(1,n,0),!1;return!0},o.prototype.DE=function(i){var s=this.X,n=s.Ga(),h=s.hasAttribute(1);for(s=h?t.ta.wE(this.Qg,s,!1):0;n.$a();)for(;n.Ha();){var r=n.ha();if(!(r.Qb()>this.Oj)){if(i&&h){var e=r.wv(1,0);if(r=r.wv(1,0),Math.abs(r-e)>s)continue}return this.ke=new t.Md(2,n.wb(),-1),!1}}return!0},o.prototype.mO=function(){var i=this.X,s=null;t.aa.Hc(this.X.getType())&&(s=this.X);var n=(this.ZG||this.ql)&&null!=s,r=i.I();this.lf=i.ub(0),this.gi=new t.ia(0),this.gi.Jb(2*r),this.fi=new t.ia(0),this.fi.Jb(2*r),n&&(null==this.Fl&&(this.Fl=new t.ia(0)),this.Fl.Jb(r));for(var o=i=0;o<r;o++)if(this.gi.add(2*o),this.gi.add(2*o+1),this.fi.add(2*o),this.fi.add(2*o+1),n){for(;o>=s.Vc(i);)i++;this.Fl.add(i)}for((new t.Xt).sort(this.fi,0,2*r,new e(this,n)),this.fb.clear(),this.fb.Vo(new h(this)),this.fb.De(r),s=0,r*=2;s<r;s++)if(n=this.fi.get(s),n=(i=this.gi.get(n))>>1,0==(1&i)){if(i=this.fb.addElement(n,-1),-1!=(o=this.fb.we(i))&&!this.kC(this.fb.ja(o),n))return this.ke=new t.Md(3,n,this.fb.ja(o)),!1;var a=this.fb.lb(i);if(-1!=a&&!this.kC(this.fb.ja(a),n))return this.ke=new t.Md(3,n,this.fb.ja(a)),!1}else if(i=this.fb.search(n,-1),o=this.fb.we(i),a=this.fb.lb(i),this.fb.vd(i,-1),-1!=o&&-1!=a&&!this.kC(this.fb.ja(o),this.fb.ja(a)))return this.ke=new t.Md(3,this.fb.ja(o),this.fb.ja(a)),!1;return!0},o.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},o.prototype.oO=function(){var i=new t.gd;i.Ib(this.X);var s=new t.Md;return!t.$t.kI(!1,i,this.Oj,s,this.nd)||(s.Jo=i.Ua(s.Jo),s.Ko=i.Ua(s.Ko),this.ke.Wt(s),!1)},o.prototype.nO=function(){var i=this.X,s=i.Ga();for(i=i.Ga();s.$a();)for(;s.Ha();){var n=s.ha();if(!s.Qn()||!s.$S()){i.BW(s);do{for(;i.Ha();){var h=i.ha();if(0!=(h=n.zr(h,this.Oj,!0)))return this.ke=new t.Md(2==h?5:4,s.wb(),i.wb()),!1}}while(i.$a())}}return!0},o.prototype.sO=function(){var i=this.X;this.hb.length=0,this.po.length=0,this.Zf=i.Ga(),this.Zf.JB();var s=new t.ia(0);s.Jb(10);var n=NaN,h=0,r=0;for(i=2*i.I();r<i;r++){var e=this.fi.get(r);if(0==(1&(e=this.gi.get(e)))){e>>=1;var o=this.lf.read(2*e),a=this.lf.read(2*e+1);if(0!=s.size&&(o!=n||a!=h)){if(!this.RI(s))return!1;null!=s&&s.clear(!1)}s.add(e),n=o,h=a}}return!!this.RI(s)},o.prototype.rO=function(){for(var i=this.X,n=Array(i.da()),h=0,r=i.da();h<r;h++)n[h]=i.Nn(h);r=new s;var e=new t.h;h=this.fi.get(0);var o=(h=this.gi.get(h))>>1;this.lf.tc(2*o,e);var a=n[h=this.Fl.get(o)],u=i.Ba(h),f=i.Vc(h)-1;r.el=o==u||o==f,r.ny=this.ql?!a&&r.el:r.el,r.Ai=h,r.x=e.x,r.y=e.y,r.xm=o;for(var c=new s,l=1,p=this.fi.size;l<p;l++)if(h=this.fi.get(l),0==(1&(h=this.gi.get(h)))){o=h>>1,this.lf.tc(2*o,e),(h=this.Fl.get(o))!=r.Ai&&(a=n[h],u=i.Ba(h),f=i.Vc(h)-1);var v=o==u||o==f,y=this.ql?!a&&r.el:r.el;if(c.x=e.x,c.y=e.y,c.Ai=h,c.xm=o,c.ny=y,c.el=v,c.x==r.x&&c.y==r.y)if(this.ql){if(!(c.ny&&r.ny||c.Ai==r.Ai&&(c.el||r.el)))return this.ke=new t.Md(8,c.xm,r.xm),!1}else if(!c.el||!r.el)return this.ke=new t.Md(5,c.xm,r.xm),!1;h=r,r=c,c=h}return!0},o.prototype.JE=function(){for(var i=this.X,s=[],h=-1,r=!1,e=0,o=i.da();e<o;e++)i.Ev(e)&&(r=!1,h++,e<o-1&&(i.Ev(e+1)||(r=!0))),s[e]=r?h:-1;r=new t.h,e=this.fi.get(0);var a=(e=this.gi.get(e))>>1;this.lf.tc(2*a,r),e=this.Fl.get(a),h=new n(r.x,r.y,e,a,s[e]),i=[];var u=1;for(o=this.fi.size;u<o;u++)if(e=this.fi.get(u),0==(1&(e=this.gi.get(e)))){if(a=e>>1,this.lf.tc(2*a,r),e=this.Fl.get(a),(e=new n(r.x,r.y,e,a,s[e])).x==h.x&&e.y==h.y){if(e.Ai==h.Ai)return this.ke=new t.Md(9,e.xm,h.xm),!1;0<=s[e.Ai]&&s[e.Ai]==s[h.Ai]&&(0!=i.length&&i[i.length-1]==h||i.push(h),i.push(e))}h=e}if(0==i.length)return!0;for(e=new t.jp(!0),t.O.$u(s,-1),r=-1,(u=new t.h).Rc(),h=0,o=i.length;h<o;h++){(a=i[h]).x==u.x&&a.y==u.y||(r=e.Ph(0),u.x=a.x,u.y=a.y);var f=s[a.Ai];-1==f&&(f=e.Ph(2),s[a.Ai]=f),e.addElement(f,r),e.addElement(r,f)}for((o=new t.ia(0)).Jb(10),h=e.je;-1!=h;h=e.qz(h))if(0==(1&(i=e.PF(h)))&&0!=(2&i)){for(i=-1,o.add(h),o.add(-1);0<o.size;){if(r=o.Fc(),o.If(),u=o.Fc(),o.If(),0!=(1&(a=e.PF(u)))){i=0==(2&a)?r:u;break}for(e.fX(u,1|a),a=e.rc(u);-1!=a;a=e.lb(a))(f=e.getData(a))!=r&&(o.add(f),o.add(u))}if(-1!=i){for(e=-1,h=0,o=s.length;h<o;h++)if(s[h]==i){e=h;break}return this.ke=new t.Md(10,e,-1),!1}}return!0},o.prototype.tO=function(){var i=this.X;if(0>=i.Ke())return this.ke=new t.Md(6,1==i.da()?1:-1,-1),0;if(1==i.da())return this.ql&&!this.JE()?0:2;this.to=t.ia.qf(i.da(),0),this.JA=t.ia.qf(i.da(),-1);for(var s=-1,n=0,h=0,e=i.da();h<e;h++){var o=i.Ir(h);if(this.to.write(h,0>o?0:256),0<o)s=h,n=o;else{if(0==o)return this.ke=new t.Md(6,h,-1),0;if((0>s||n<Math.abs(o))&&(this.ke=new t.Md(7,h,-1),this.ql))return 0;this.JA.write(h,s)}}for(this.dt=i.da(),this.Om=new t.ia(0),this.Om.Jb(10),e=i.I(),this.Mo=NaN,(i=new t.ia(0)).Jb(10),this.Qq=t.ia.qf(e,-1),this.Hw=t.ia.qf(e,-1),null!=this.zj?this.zj.clear(!1):this.zj=new t.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new r(this)),s=0,e*=2;0<this.dt&&s<e;s++)if(n=this.fi.get(s),0==(1&(n=this.gi.get(n)))){if(n>>=1,(h=this.lf.read(2*n+1))!=this.Mo&&0!=i.size){if(!this.ut(i))return 0;null!=i&&i.clear(!1)}i.add(n),this.Mo=h}return 0<this.dt&&!this.ut(i)?0:this.ql?0==this.ke.Jj&&this.JE()?2:0:0==this.ke.Jj?2:1},o.prototype.RI=function(i){if(1==i.size)return!0;for(var s=0,n=i.size;s<n;s++){var h=i.get(s);this.Zf.Vb(h);var r=this.Zf.li();this.hb.push(this.Su(r,h,this.Zf.gb,!0)),this.Zf.ha(),r=this.Zf.ha(),this.hb.push(this.Su(r,h,this.Zf.gb,!1))}var e=this;for(this.hb.sort((function(t,i){return e.XP(t,i)})),-1==(h=this.mh.je)&&(h=this.mh.Ph(0)),this.mh.fn(this.hb.length),s=0,n=this.hb.length;s<n;s++)this.mh.addElement(h,s);s=!0;for(var o=n=-1;s&&(s=!1,-1!=(r=this.mh.rc(h)));)for(var a=this.mh.lb(r);-1!=a;)if(n=this.mh.getData(r),o=this.mh.getData(a),(n=this.hb[n].Io)!=(o=this.hb[o].Io))r=a,a=this.mh.lb(r);else if(s=!0,this.mh.jd(h,r),r=this.mh.we(a),-1==(a=this.mh.jd(h,a))||-1==r)break;if(s=this.mh.bs(h),this.mh.LE(h),0<s)return this.ke=new t.Md(5,n,o),!1;for(s=0,n=i.size;s<n;s++)this.vB(this.hb[s]);return this.hb.length=0,!0},o.prototype.ut=function(i){for(var s=0,n=i.size;s<n;s++){var h=i.get(s),r=this.Qq.read(h);if(-1!=r){var e=this.fb.ja(r);this.zj.add(e),this.fb.vd(r,-1),this.vB(this.hb[e]),this.hb[e]=null,this.Qq.write(h,-1)}-1!=(r=this.Hw.read(h))&&(e=this.fb.ja(r),this.zj.add(e),this.fb.vd(r,-1),this.vB(this.hb[e]),this.hb[e]=null,this.Hw.write(h,-1))}for(s=0,n=i.size;s<n;s++){if(h=i.get(s),this.Zf.Vb(h),(r=this.Zf.li()).na>r.la){var o=this.Zf.wb(),a=this.Su(r,h,this.Zf.gb,!0);0<this.zj.size?(e=this.zj.Fc(),this.zj.If(),this.hb[e]=a):(e=this.hb.length,this.hb.push(a)),r=this.fb.addElement(e,-1),-1==this.Qq.read(o)?this.Qq.write(o,r):this.Hw.write(o,r),0==(3&this.to.read(this.Zf.gb))&&this.Om.add(r)}this.Zf.ha(),(r=this.Zf.ha()).na<r.la&&(o=this.Zf.ik(),a=this.Su(r,h,this.Zf.gb,!1),0<this.zj.size?(e=this.zj.Fc(),this.zj.If(),this.hb[e]=a):(e=this.hb.length,this.hb.push(a)),r=this.fb.addElement(e,-1),-1==this.Qq.read(o)?this.Qq.write(o,r):this.Hw.write(o,r),0==(3&this.to.read(this.Zf.gb))&&this.Om.add(r))}for(s=0,n=this.Om.size;s<n&&0<this.dt;s++)if(r=this.Om.get(s),0==(3&this.to.read(this.hb[this.fb.ja(r)].IA))){i=-1,h=this.fb.we(r);var u=r;a=null,e=-1;for(var f=0;-1!=h&&(e=this.fb.ja(h),e=(a=this.hb[e]).IA,0==(3&(f=this.to.read(e))));)u=h,h=this.fb.we(h);-1==h?(o=1,h=u):(i=1==(3&f)?e:this.JA.read(e),o=0!=a.XF()?0:1,h=this.fb.lb(h));do{if(e=this.fb.ja(h),e=(a=this.hb[e]).IA,0==(3&(u=this.to.read(e)))){if(o!=a.XF())return this.ke=new t.Md(6,e,-1),!1;if(u=252&u|(f=0==o||a.Wp()?2:1),this.to.write(e,f),2==f&&0==this.ke.Jj&&this.JA.read(e)!=i&&(this.ke=new t.Md(7,e,-1),this.ql))return!1;if(this.dt--,0==this.dt)return!0}1==(3&u)&&(i=e),u=h,h=this.fb.lb(h),o=0!=o?0:1}while(u!=r)}return null!=this.Om?this.Om.clear(!1):this.Om=new t.ia(0),!0},o.prototype.Su=function(i,s,n,h){if(322!=i.getType())throw t.i.Qa();return(i=this.sP(i)).Io=s,i.IA=n,i.yq=0,i.nX(h),i},o.prototype.sP=function(s){if(0<this.po.length){var n=this.po[this.po.length-1];--this.po.length,s.copyTo(n.ne)}else(n=new i).ne=t.SC.jg(s);return n},o.prototype.vB=function(t){322==t.ne.getType()&&this.po.push(t)},o.prototype.kU=function(){for(var i=this.X.I(),s=new t.ia(0),n=0;n<i;n++)s.add(n);var h=this;for(s.Vd(0,i,(function(t,i){return h.Ou(t,i)})),n=1;n<i;n++)if(0==this.Ou(s.get(n-1),s.get(n)))return this.ke=new t.Md(3,s.get(n-1),s.get(n)),0;return 2},o.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},o.prototype.oV=function(){return this.eT()},o.prototype.pU=function(){for(var i=this.X.I(),s=new t.ia(0),n=0;n<i;n++)s.add(n);var h=this;s.Vd(0,i,(function(t,i){return h.PO(t,i)}));var r=Array(i);for(t.O.$u(r,!1),r[s.get(0)]=!0,n=1;n<i;n++){var e=s.get(n-1),o=s.get(n);0==this.Ou(e,o)?r[o]=!1:r[o]=!0}s=this.X.Ia(),e=this.X,o=0;var a=1;for(n=0;n<i;n++)r[n]?a=n+1:(o<a&&s.Fd(e,o,a),o=n+1);return o<a&&s.Fd(e,o,a),s.Ch(2,this.Bo),s},o.prototype.NV=function(){var i=this.X,s=i.Ga(),n=i.Ga(),h=this.X.Ia(),r=this.X,e=i.hasAttribute(1),o=e?t.ta.wE(this.Qg,i,!0):0,a=new t.ia(0),u=new t.ia(0);for(a.Jb(t.O.truncate(i.I()/2+1)),u.Jb(t.O.truncate(i.I()/2+1));s.$a();)if(n.$a(),!(2>i.Ja(s.gb))){n.EW();for(var f,c,l=!0;s.Ha();){var p=s.ha(),v=n.li();if(s.wb()>n.wb())break;l&&(a.add(s.wb()),u.add(n.ik()),l=!1),c=a.Fc();var y=s.ik();if(1<y-c){var d=new t.h;d.uc(i.Na(c),i.Na(y)),f=d.length()}else f=p.Qb();c=u.Fc(),1<(y=n.wb())-c?((d=new t.h).uc(i.Na(c),i.Na(y)),c=d.length()):c=v.Qb(),f>this.Bo?a.add(s.ik()):e&&(f=i.Uc(1,a.Fc(),0),p=p.gv(1,0),Math.abs(p-f)>o&&a.add(s.ik())),c>this.Bo?u.add(n.wb()):e&&(f=i.Uc(1,u.Fc(),0),p=v.gv(1,0),Math.abs(p-f)>o&&u.add(n.wb()))}if(a.Fc()<u.Fc()?a.size>u.size?a.If():u.If():(a.Fc()!=u.Fc()&&u.If(),u.If()),2<=u.size+a.size){for(l=new t.Sa,v=0,p=a.size;v<p;v++)r.ve(a.get(v),l),0==v?h.nf(l):h.lineTo(l);for(v=u.size-1;0<v;v--)r.ve(u.get(v),l),h.lineTo(l);r.dc(s.gb)?h.Ap():0<u.size&&(r.ve(u.get(0),l),h.lineTo(l))}null!=a&&a.clear(!1),null!=u&&u.clear(!1)}return h.Ch(2,this.Bo),h},o.prototype.rV=function(){return this.DX()},o.prototype.DX=function(){return 1736==this.X.getType()&&1==this.X.In()?t.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new t.gd,this.Hi.Ib(this.X),0!=this.Hi.fd&&(1!=this.xA&&t.Tk.V(this.Hi,this.Bo,this.nd,!0),1736==this.X.getType()&&t.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),1736==this.X.getType()&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},o.rs=function(i,s,n,h,r){if(null!=h&&(h.Jj=0,h.Jo=-1,h.Ko=-1),i.B())return 1;var e=i.getType();if(33==e)return 1;var a=t.ta.kj(s,i,!1);if(197==e)return s=new t.l,i.A(s),s.Bi(a)?(null!=h&&(h.Jj=2,h.Jo=-1,h.Ko=-1),0):1;if(t.aa.yd(e))return(a=new t.Ta(i.description)).oc(i,!0),o.rs(a,s,n,h,r);var u=i.om(a);if(-1!=(n=n?-1:u))return n;if(s=new o(i,s,n,r,!1),550==e)n=s.kU();else if(1607==e)n=s.JV();else{if(1736!=e)throw t.i.Qa();n=s.oV()}return i.Ch(n,a),null!=h&&0==n&&h.Wt(s.ke),n},o.cK=function(i,s,n,h){if(i.B())return i;var r=i.getType();if(33==r)return i;var e=t.ta.kj(s,i,!1);if(197==r)return s=new t.l,i.A(s),s.Bi(e)?i.Ia():i;if(t.aa.yd(r))return(r=new t.Ta(i.description)).oc(i,!0),o.cK(r,s,n,h);if(e=i.om(e),2==(n=n?-1:e))return i;if(i=new o(i,s,n,h,!1),550==r)i=i.pU();else if(1607==r)i=i.NV();else{if(1736!=r)throw t.i.Qa();i=i.rV()}return i},o.prototype.Mh=function(i,s,n){if(i==s)return 0;i=this.gi.get(i);var h=this.gi.get(s);s=i>>1;var r=h>>1,e=new t.h,o=new t.h;return this.lf.tc(2*s,e),e.y+=0!=(1&i)?this.Oj:-this.Oj,this.lf.tc(2*r,o),o.y+=0!=(1&h)?this.Oj:-this.Oj,0==(i=e.compare(o))&&n?0>(n=this.Fl.get(s)-this.Fl.get(r))?-1:0<n?1:0:i},o.prototype.Ou=function(i,s){if(i==s)return 0;var n=this.X,h=n.Na(i),r=n.Na(s);if(h.x<r.x)return-1;if(h.x>r.x)return 1;if(h.y<r.y)return-1;if(h.y>r.y)return 1;for(h=1;h<this.oT;h++){r=this.nH.kd(h);for(var e=t.ra.Va(r),o=0;o<e;o++){var a=n.Uc(r,i,o),u=n.Uc(r,s,o);if(a<u)return-1;if(a>u)return 1}}return 0},o.prototype.PO=function(t,i){var s=this.Ou(t,i);return 0==s?t<i?-1:1:s},o.prototype.XP=function(t,i){if(t===i)return 0;var s=t.ne.kg();t.Wp()&&s.Sq(),t=i.ne.kg(),i.Wp()&&t.Sq(),i=s.qu();var n=t.qu();return n==i?(i=s.wi(t),Math.abs(i)<=8881784197001252e-31*(Math.abs(t.x*s.y)+Math.abs(t.y*s.x))&&(i--,i++),0>i?1:0<i?-1:0):i<n?-1:1},o}();t.Jx=o}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 30},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.prototype.V=function(i,s,n,h){return i instanceof t.aa?(i=new t.Zc(i),s=new t.Zc(s),this.V(i,s,n,h).next()):new t.BL(i,s,n,h)},s.ep=function(i,n,h,r){var e=i.Db(),o=n.Db();if(i.B()&&n.B())return e>o?i:n;if(i.B())return n;if(n.B())return i;var a=new t.l,u=new t.l,f=new t.l;return i.A(a),n.A(u),f.K(a),f.Zb(u),a=t.ta.Wd(h,f,!0),u=i.getType(),f=n.getType(),33==u&&33==f?s.aV(i,n,a):u!=f?0<e||0<o?e>o?i:n:550==u?s.iI(i,n,a):s.iI(n,i,a):t.Fg.ep(i,n,h,r)},s.aV=function(i,s,n){n=n*Math.sqrt(2)*1.00001,n*=n;var h=i.D(),r=s.D(),e=new t.de(i.description);return t.h.yc(h,r)>n&&(e.add(i),e.add(s)),e},s.iI=function(i,s,n){var h=i.ub(0),r=i.I(),e=s.D(),o=i.Ia();n=n*Math.sqrt(2)*1.00001;var a=new t.l;if(i.A(a),a.W(n,n),a.contains(e)){n*=n,a=!1;for(var u=[],f=0;f<r;f++)u[f]=!1;for(f=0;f<r;f++){var c=h.read(2*f),l=h.read(2*f+1);(c-=e.x)*c+(l-=e.y)*l<=n&&(a=!0,u[f]=!0)}if(a)for(f=0;f<r;f++)u[f]||o.Fd(i,f,f+1);else o.Fd(i,0,r),o.add(s)}else o.Fd(i,0,r),o.add(s);return o},s.instance=null,s}(t.Je);t.Kx=i}(Q||(Q={})),function(t){var i=function(){function i(t,i,s,n){this.ts=null==i,this.ya=-1,this.Rd=t,this.vg=s,this.NT=i.next(),this.Ub=n}return i.prototype.next=function(){return this.ts?null:null!=(i=this.Rd.next())?(this.ya=this.Rd.La(),t.Kx.ep(i,this.NT,this.vg,this.Ub)):null;var i},i.prototype.La=function(){return this.ya},i.prototype.qe=function(){},i}();t.BL=i}(Q||(Q={})),function(t){var i=function(){function t(){}return t.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},t}(),s=function(){function t(){this.Gr=0,this.pj=[]}return t.prototype.pN=function(t){this.Gr+=t.Ax,this.pj.push(t)},t.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},t.prototype.my=function(){return this.pj[this.pj.length-1]},t.prototype.Nb=function(t){return t===this},t}(),n=function(){function n(t,i,s){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=t,this.vg=i,this.Ub=s}return n.dE=function(t){var i=[],s=0;for(t=Object.keys(t);s<t.length;s++)i.push(Number(t[s]));return i.sort((function(t,i){return t-i})),i},n.prototype.fG=function(i){var s=this.Do[i],h=n.dE(s)[0],r=s[h],e=r.my().$y;return r=r.my().AK,delete s[h],r&&(e=t.Yl.local().V(e,this.vg,!1,this.Ub),0==i&&33==e.getType()&&(i=new t.de(e.description),e.B()||i.add(e),e=i)),e},n.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(-1==this.zk)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw t.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},n.prototype.La=function(){return this.ya},n.prototype.qK=function(){if(this.Ic)return!0;var i=null;if(null!=this.Rd&&(null==(i=this.Rd.next())&&(this.Ic=!0,this.Rd=null)),t.mp.zp(this.Ub),null!=i){var s=i.Db();this.AH[s]=!0,s>=this.zk&&!this.jA&&(this.ND(s,!1,i),s>this.zk&&!this.jA&&this.zW(s))}if(0<this.iq)for(s=0;s<=this.zk;s++)for(;1<this.uq[s]&&0!=(i=this.FO(s)).length;)i=t.Fg.VP(i,this.vg,this.Ub),this.ND(s,!0,i);return this.Ic},n.prototype.FO=function(t){for(var i=[],s=[],h=this.Do[t],r=n.dE(h),e=0;e<r.length;e++){var o=r[e],a=h[o];if(this.Ic||1e4<a.Gr&&1<a.pj.length){for(this.uq[t]-=a.pj.length,this.iq-=a.pj.length;0<a.pj.length;)i.push(a.my().$y),a.TV();s.push(o)}}for(e=0;e<s.length;e++)delete h[s[e]];return i},n.prototype.zW=function(t){for(var i=0;i<t;i++)this.Do[i]=[],this.iq-=this.uq[i],this.uq[i]=0},n.prototype.ND=function(t,h,r){var e=new i;if(e.Fz(),e.$y=r,r=n.eS(r),e.Ax=r,r=n.cS(r),t+1>this.Do.length)for(var o=0,a=Math.max(2,t+1);o<a;o++)this.Do.push([]);void 0===(o=this.Do[t][r])&&(o=new s,this.Do[t][r]=o),e.AK=h,o.pN(e),this.uq[t]++,this.iq++,this.zk=Math.max(this.zk,t)},n.cS=function(i){return 0<i?t.O.truncate(Math.log(i)/Math.log(4)+.5):0},n.eS=function(i){var s=i.getType();if(t.aa.xj(s))return i.I();if(33==s)return 1;if(197==s)return 4;if(t.aa.yd(s))return 2;throw t.i.Qa()},n.prototype.qe=function(){this.qK()},n}();t.DL=n}(Q||(Q={})),function(t){var i=function(i){function s(){return null!==i&&i.apply(this,arguments)||this}return _(s,i),s.prototype.getType=function(){return 1},s.prototype.V=function(i,s,n,h){return void 0===h?new t.DL(i,s,n):this.gQ(i,s,n,h)},s.prototype.gQ=function(i,s,n,h){return i=new t.Zc([i,s]),this.V(i,n,h).next()},s.local=function(){return null===s.instance&&(s.instance=new s),s.instance},s.instance=null,s}(t.Je);t.Gh=i}(Q||(Q={})),function(t){var i,s;(s=i||(i={}))[s.nextPath=0]="nextPath",s[s.nextSegment=1]="nextSegment",s[s.iterate=2]="iterate",i=function(){function i(i,s,n,h){this.Ts=new t.l,this.GT=i,this.HT=s,this.mq=h,this.uo=-1,this.rl=!1;var r=i.Bb;null!=r&&(null!=(r=h?r.zo:r.Fb)&&(this.Ic=!1,this.qa=n,this.Fb=r,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,h?this.uo=s.da():this.sd=s.Ga())),this.rl||null!=(r=s.Bb)&&(null!=(r=h?r.zo:r.Fb)&&(this.Ic=!1,this.qa=n,this.Fb=r,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,h?this.uo=i.da():this.sd=i.Ga())),this.rl||(this.ci=h?t.ta.mR(i,s,n,1<=i.om(0),1<=s.om(0)):t.ta.lR(i,s,n))}return i.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var i=!0;i;)switch(this.Xb){case 0:i=this.xU();break;case 1:i=this.yU();break;case 2:i=this.Uz();break;default:throw t.i.fa("internal error")}return!this.Ic}return null!=this.ci&&this.ci.next()},i.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},i.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},i.prototype.uz=function(){if(!this.mq)throw t.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},i.prototype.az=function(){if(!this.mq)throw t.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},i.prototype.xU=function(){return this.mq?-1==--this.uo?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},i.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var t=this.sd.ha();return this.xw.Uo(t,this.qa),this.Xb=2,!0},i.prototype.Uz=function(){return this.Fs=this.xw.next(),-1==this.Fs&&(this.Xb=this.mq?0:1,!0)},i}(),t.Zl=i}(Q||(Q={})),function(t){(t=t.OL||(t.OL={}))[t.enumClosed=1]="enumClosed",t[t.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",t[t.enumOGCStartPolygon=4]="enumOGCStartPolygon",t[t.enumCalcMask=4]="enumCalcMask"}(Q||(Q={})),function(t){t.QC=function(){function i(){}return i.tb=function(s,n,h,r,e,o,a,u,f){var c=[0,0,0],l=[0,0,0],p=[0,0,0],v=[0,0,0,0],y=new t.ga(0),d=new t.ga(0),b=new t.ga(0);if(null!=a||null!=u||null!=f)if(t.s.ti(n))t.Yg.tb(s,h,r,e,o,a,u,f);else{e=t.F.ba(e),h=t.F.ba(h);var g=t.F.ba(e-h);if(t.s.Y(r,o)&&(t.s.Y(h,e)||t.s.Y(t.s.P(r),1.570796326794897)))null!=a&&(a.u=0),null!=u&&(u.u=0),null!=f&&(f.u=0);else{if(t.s.Y(r,-o)){if(t.s.Y(t.s.P(r),1.570796326794897))return null!=a&&(a.u=2*t.F.Ah(s,n)),null!=u&&(u.u=0<r?t.F.ba(3.141592653589793-t.F.ba(e)):t.F.ba(e)),void(null!=f&&(f.u=0<r?t.F.ba(e):t.F.ba(3.141592653589793-t.F.ba(e))));t.s.Y(t.s.P(g),3.141592653589793)&&(null!=a&&(a.u=2*t.F.Ah(s,n)),null!=u&&(u.u=0),null!=f&&(f.u=0))}else{if(t.s.Y(t.s.P(r),1.570796326794897)||t.s.Y(t.s.P(o),1.570796326794897))return void t.Wk.tb(s,n,h,r,e,o,a,u,f);if(t.s.Y(h,e)||t.s.Y(t.s.P(g),3.141592653589793))return void t.Wk.tb(s,n,h,r,e,o,a,u,f);if(t.s.Cd(r))return void t.Wk.tb(s,n,h,r,e,o,a,u,f)}var w=Math.sqrt(1-n);e=t.F.ba(e-h),h=0,t.F.cl(1,n,r,h,0,y,d,b),c[0]=y.u,c[1]=d.u,c[2]=b.u,t.F.cl(1,n,o,e,0,y,d,b),l[0]=y.u,l[1]=d.u,l[2]=b.u,p[0]=0,p[1]=0,p[2]=-1*n*t.F.n(1,n,r)*Math.sin(r),0>e?t.F.Wq(p,l,c,v,0):t.F.Wq(p,c,l,v,0),d=[0,0,0],b=[0,0,0];var x=[0,0,0];c=[0,0,0],y=[0,0,0];var m=Math.acos(v[2]/1),j=1-n,M=Math.tan(m),k=1+M*M/j,z=2*p[2]*M/j;for(j=(-z+(M=Math.sqrt(z*z-4*k*(p[2]*p[2]/j-1))))/(k*=2),z=(-z-M)/k,M=Math.tan(m),m=(j+z)/2,p=((k=M*j+p[2])+(M*z+p[2]))/2,M=t.F.gp(j-m,k-p),j=p/w*1.570796326794897,z=0;100>z&&(k=(k=t.F.w(n,j))*k/Math.cos(j)*(Math.sin(j)-p*k/(1-n)),!t.s.Cd(k));z++)j-=k;p=t.F.n(1,n,j)*Math.cos(j),M=1-M/(p=Math.sqrt((p-m)*(p+m))),M*=2-M,k=t.F.on(d),m=t.F.on(b),j=t.F.on(x);var A=t.F.St(x,d);z=t.F.St(x,b),t.F.zx(x,d,c),t.F.zx(x,b,y),d=Math.acos(A/(j*k)),b=Math.acos(z/(j*m)),b*=t.s.Mb(1,t.F.St(c,y)),(1.570796326794897<=t.s.P(d)&&1.570796326794897<=t.s.P(b)||3.141592653589793<t.s.P(d-b))&&(d=(3.141592653589793-t.s.P(d))*t.s.Mb(1,d),b=(3.141592653589793-t.s.P(b))*t.s.Mb(1,b)),c=t.F.Qj(M,b),y=t.F.q(p,M,t.F.Qj(M,d)),c=t.F.q(p,M,c),c=t.s.P(c-y)*s,d=new t.ga(0),b=new t.ga(0),x=v[1]/1,x*=-t.s.Mb(1,g),y=Math.acos(x)*t.s.Mb(1,g),i.rf(s,n,h,r,c,y,d,b),t.s.Y(e,d.u)&&t.s.Y(o,b.u)||(M=t.F.gp(t.F.ba(e-d.u),o-b.u),i.rf(s,n,h,r,c,t.F.ba(y+3.141592653589793),d,b),(k=t.F.gp(t.F.ba(e-d.u),o-b.u))<M&&(y=t.F.ba(y+3.141592653589793))),d=[0,0,0,0],b=[0,0,0,0],M=[0,0,0],s=[0,0,0],h=[0,0,0],r=[0,0,0],x=[0,0,0],(p=[0,0,0])[0]=0,p[1]=0,p[2]=w,M[0]=0,M[1]=0,M[2]=0,t.F.Wq(M,p,l,d,0),t.s.Cd(o)?(s[0]=l[0],s[1]=l[1],s[2]=1,h[0]=1*Math.cos(e)-1*Math.sin(e),h[1]=1*Math.sin(e)+1*Math.cos(e)):(n=t.F.n(1,n,o)*Math.cos(o),s[0]=0,s[1]=0,l[2]+=Math.tan(1.570796326794897-t.s.P(o))*n*t.s.Mb(1,o),h[0]=n*Math.cos(e)-n*Math.sin(e),h[1]=n*Math.sin(e)+n*Math.cos(e)),h[2]=l[2],t.F.Wq(l,h,s,b,1),t.F.zx(b,d,r),t.F.zx(b,v,x),x=t.F.St(r,x)/(t.F.on(r)*t.F.on(x)),x*=t.s.Mb(1,g),e=Math.acos(x)*-t.s.Mb(1,g),(0<y&&0<e||0>y&&0>e)&&(e=t.F.ba(e+3.141592653589793)),null!=a&&(a.u=c),null!=u&&(u.u=y),null!=f&&(f.u=e)}}},i.rf=function(i,s,n,h,r,e,o,a){var u=[0,0,0],f=[0,0,0],c=[0,0,0],l=[0,0,0],p=[0,0,0],v=[0,0,0],y=[0,0,0],d=[0,0,0,0],b=new t.ga(0),g=new t.ga(0),w=new t.ga(0),x=new t.ga(0),m=new t.ga(0),j=new t.ga(0);if(null!=o&&null!=a)if(t.s.ti(s))t.Yg.rf(i,n,h,r,e,o,a);else if(t.s.Cd(r))null!=o&&(o.u=n),null!=a&&(a.u=h);else if(e=t.F.ba(e),0>r&&(r=t.s.P(r),e=t.F.ba(e+3.141592653589793)),n=t.F.ba(n),h=t.F.ba(h),1.570796326794897<t.s.P(h)&&(n=t.F.ba(n+3.141592653589793),h=t.s.Mb(3.141592653589793,h)-h),t.s.Y(t.s.P(h),1.570796326794897)||t.s.Cd(h)||t.s.Cd(e)||t.s.Y(t.s.P(e),3.141592653589793))t.Wk.rf(i,s,n,h,r,e,o,a);else{var M=Math.sqrt(1-s);for(i=r/i,t.F.cl(1,s,h,0,0,x,m,j),u[0]=x.u,u[1]=m.u,u[2]=m.u,y[0]=0,y[1]=0,y[2]=-1*s*t.F.n(1,s,h)*Math.sin(h),x=t.F.n(1,s,h),m=t.F.ba(1.570796326794897-e),j=Math.sin(m),r=Math.cos(h),h=Math.sin(h),p[0]=x*r-h*j,p[1]=Math.cos(m),p[2]=(1-s)*x*h+r*j,0>e?t.F.Wq(y,p,u,d,0):t.F.Wq(y,u,p,d,0),u=Math.acos(d[2]/1),d=Math.atan2(-d[1],-d[0]),h=1-s,m=1+(p=Math.tan(u))*p/h,h=(-(x=2*y[2]*p/h)+(p=Math.sqrt(x*x-4*m*(y[2]*y[2]/h-1))))/(m*=2),x=(-x-p)/m,p=Math.tan(u),u=(h+x)/2,y=((m=p*h+y[2])+(p*x+y[2]))/2,p=t.F.gp(h-u,m-y),M=y/M*1.570796326794897,h=0;100>h&&(x=(x=t.F.w(s,M))*x/Math.cos(M)*(Math.sin(M)-y*x/(1-s)),!t.s.Cd(x));h++)M-=x;M=t.F.n(1,s,M)*Math.cos(M),y=1-p/(M=Math.sqrt((M-u)*(M+u))),y*=2-y,v=Math.acos(t.F.St(v,f)/(t.F.on(v)*t.F.on(f))),v*=t.s.Mb(1,f[0]),e=(t.F.q(M,y,t.F.Qj(y,v))+i*t.s.Mb(1,e))/t.F.Ah(M,y),e=t.F.ba(1.570796326794897*e),e=t.F.Rq(y,e),t.F.n(M,y,e),p=t.F.ba(d+n),n=Math.cos(p),e=Math.sin(p),c[0]=l[0]*n+l[1]*-e,c[1]=l[0]*e+l[1]*n,c[2]=l[2],t.F.jO(s,c[0],c[1],c[2],w,g,b),null!=o&&(o.u=g.u),null!=a&&(a.u=w.u)}},i}()}(Q||(Q={})),function(t){var i=function(){function i(i){this.Ya=null,this.wt=new t.h,this.xt=new t.h,this.g=i}return i.prototype.compare=function(t,i,s){return this.g.Gc(i,this.wt),this.g.Gc(t.ja(s),this.xt),this.wt.compare(this.xt)},i}(),s=function(){function i(i){this.Bf=new t.h,this.Dk=new t.h,this.g=i}return i.prototype.Dh=function(t){this.Bf.L(t)},i.prototype.compare=function(t,i){return this.g.Gc(t.ja(i),this.Dk),this.Bf.compare(this.Dk)},i}(),n=function(t){function i(i){var s=t.call(this,i.g,i.qa,!1)||this;return s.ib=i,s}return _(i,t),i.prototype.compare=function(t,i,s){if(this.rg)return-1;var n=this.ib.Qd.Jn(this.ib.Rh(i));t=t.ja(s);var h=this.ib.Qd.Jn(this.ib.Rh(t));return this.Dm=s,this.RE(i,n,t,h)},i}(t.UC),h=function(t){function i(i){var s=t.call(this,i.g,i.qa)||this;return s.ib=i,s}return _(i,t),i.prototype.compare=function(t,i){return this.rg?-1:(t=this.ib.Qd.Jn(this.ib.Rh(t.ja(i))),this.Dm=i,this.SE(i,t))},i}(t.aM),r=function(){function r(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new t.h,this.Pi=new t.h,this.hb=new t.$c(8),this.zd=new t.$c(5),this.lh=new t.au,this.Qd=new t.au,this.Ng=!1,this.vh=new t.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new t.Yj,this.Mc=new t.Yj,this.nh=new t.ia(0),this.Gk=new t.TC,this.Ff=new t.ia(0),this.Ak=new t.ia(0),this.jo=new t.Sa}return r.prototype.PX=function(i,s){var n=new t.Dd;return n.$B(),i.Oc(n),this.er(i),this.Wn=!1,this.qa=s,this.UA=s*s,s=this.jC(),i.Oc(n),s||(this.qQ(),s||this.jC()),-1!=this.xh&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},r.prototype.TX=function(t,i){this.er(t),this.Wn=!1,this.qa=i,this.UA=i*i,this.Ng=!1,this.jC(),this.Ng||(this.Ng=1==t.Gp(i,!0,!1)),-1!=this.xh&&(this.g.Td(this.xh),this.xh=-1),this.g=null},r.prototype.pg=function(t,i){return this.hb.T(t,0+i)},r.prototype.LB=function(t,i,s){this.hb.S(t,0+i,s)},r.prototype.Rh=function(t){return this.hb.T(t,2)},r.prototype.ZW=function(t,i){this.hb.S(t,2,i)},r.prototype.RF=function(t,i){return this.hb.T(t,3+i)},r.prototype.Pp=function(t){return this.hb.T(t,7)},r.prototype.Pl=function(t,i){this.hb.S(t,7,i)},r.prototype.Rp=function(t,i){return this.hb.T(t,3+this.Op(t,i))},r.prototype.fr=function(t,i,s){this.hb.S(t,3+this.Op(t,i),s)},r.prototype.NR=function(t,i){return this.hb.T(t,5+this.Op(t,i))},r.prototype.hr=function(t,i,s){this.hb.S(t,5+this.Op(t,i),s)},r.prototype.Sr=function(t){return this.zd.T(t,0)},r.prototype.UW=function(t,i){this.zd.S(t,0,i)},r.prototype.ez=function(t){return this.zd.T(t,4)},r.prototype.cr=function(t,i){this.zd.S(t,4,i)},r.prototype.il=function(t){return this.zd.T(t,1)},r.prototype.ln=function(t,i){this.zd.S(t,1,i)},r.prototype.dz=function(t){return this.zd.T(t,3)},r.prototype.Et=function(t,i){this.zd.S(t,3,i)},r.prototype.Ym=function(t){var i=this.zd.Ce(),s=this.lh.Ph();return this.UW(i,s),-1!=t?(this.lh.addElement(s,t),this.g.Ra(t,this.xh,i),this.cr(i,this.g.Ua(t))):this.cr(i,-1),i},r.prototype.HP=function(t){this.zd.jd(t)},r.prototype.LD=function(t,i){this.lh.addElement(this.Sr(t),i),this.g.Ra(i,this.xh,t)},r.prototype.nt=function(t){var i=this.hb.Ce(),s=this.Qd.Ph();return this.ZW(i,s),-1!=t&&this.Qd.addElement(s,t),i},r.prototype.MD=function(t,i){this.Qd.addElement(this.Rh(t),i)},r.prototype.Uu=function(t){this.hb.jd(t),0<=(t=this.nh.lF(t))&&this.nh.SV(t)},r.prototype.hj=function(i,s){if(-1==this.pg(i,0))this.LB(i,0,s);else{if(-1!=this.pg(i,1))throw t.i.Qa();this.LB(i,1,s)}this.ky(i,s)},r.prototype.ky=function(t,i){var s=this.il(i);if(-1!=s){var n=this.Rp(s,i);this.hr(n,i,t),this.fr(t,i,n),this.fr(s,i,t),this.hr(t,i,s)}else this.hr(t,i,t),this.fr(t,i,t),this.ln(i,t)},r.prototype.Op=function(t,i){return this.pg(t,0)==i?0:1},r.prototype.Xm=function(t,i){var s,n=this.dz(i);if(-1!=n&&(this.df.vd(n,-1),this.Et(i,-1)),-1!=(n=this.il(i))){var h=s=n;do{var r=!1,e=this.Op(s,i),o=this.RF(s,e);if(this.pg(s,e+1&1)==t){if(this.Xu(s),this.Qd.bh(this.Rh(s)),this.Uu(s),s==o){n=-1;break}n==s&&(n=this.il(i),h=o,r=!0)}s=o}while(s!=h||r);if(-1!=n){do{e=this.Op(s,i),o=this.RF(s,e),this.LB(s,e,t),s=o}while(s!=h);-1!=(s=this.il(t))?(h=this.Rp(s,t),r=this.Rp(n,t),h==s?(this.ln(t,n),this.ky(s,t),this.ln(t,s)):r==n&&this.ky(n,t),this.fr(n,t,h),this.hr(h,t,n),this.fr(s,t,r),this.hr(r,t,s)):this.ln(t,n)}}for(n=this.Sr(t),s=this.Sr(i),h=this.lh.rc(s);-1!=h;h=this.lh.lb(h))this.g.Ra(this.lh.ja(h),this.xh,t);this.lh.Hy(n,s),this.HP(i)},r.prototype.UT=function(t,i){var s=this.pg(t,0),n=this.pg(t,1),h=this.pg(i,0),r=this.pg(i,1);this.Qd.Hy(this.Rh(t),this.Rh(i)),i==this.il(s)&&this.ln(s,t),i==this.il(n)&&this.ln(n,t),this.Xu(i),this.Uu(i),s==h&&n==r||n==h&&s==r||(this.Hn(s,this.yo),this.Hn(h,this.Pi),this.yo.qb(this.Pi)?(s!=h&&this.Xm(s,h),n!=r&&this.Xm(n,r)):(n!=h&&this.Xm(n,h),s!=r&&this.Xm(s,r)))},r.prototype.Xu=function(t){var i=this.pg(t,1);this.dF(t,this.pg(t,0)),this.dF(t,i)},r.prototype.dF=function(t,i){var s=this.Rp(t,i),n=this.NR(t,i),h=this.il(i);s!=t?(this.fr(n,i,s),this.hr(s,i,n),h==t&&this.ln(i,s)):this.ln(i,-1)},r.prototype.WD=function(t,i,s){var n=this.Qd.rc(t),h=this.Qd.ja(n);t=this.Le(h);var r=this.Le(this.g.U(h));for(this.g.jr(h,i,s,!0),n=this.Qd.lb(n);-1!=n;n=this.Qd.lb(n)){h=this.Qd.ja(n);var e=this.Le(h)==t;this.g.jr(h,i,s,e)}n=i.Vp(s,0).ac(),i=i.Vp(s,i.ol(s)-1).wc(),this.BK(t,n),this.BK(r,i)},r.prototype.ZE=function(t,i,s){var n=this.Rh(t),h=this.pg(t,0),r=this.pg(t,1),e=this.nt(-1);for(this.nh.add(e),this.Pl(e,-3),this.Ff.add(e),this.hj(e,h),t=1,i=i.ol(s);t<i;t++)s=this.Ym(-1),this.Ak.add(s),this.Ff.add(s),this.hj(e,s),e=this.nt(-1),this.nh.add(e),this.Pl(e,-3),this.Ff.add(e),this.hj(e,s);for(this.hj(e,r),n=this.Qd.rc(n);-1!=n;n=this.Qd.lb(n))if(r=this.Qd.ja(n),this.Le(r)==h){t=0;do{0<t&&(e=this.Ff.get(t-1),this.LD(e,r),-1==this.ez(e)&&this.cr(e,this.g.Ua(r))),e=this.Ff.get(t),t+=2,this.MD(e,r),r=this.g.U(r)}while(t<this.Ff.size)}else{t=this.Ff.size-1;do{t<this.Ff.size-2&&(e=this.Ff.get(t+1),this.LD(e,r),0>this.ez(e)&&this.cr(e,this.g.Ua(r))),e=this.Ff.get(t),t-=2,this.MD(e,r),r=this.g.U(r)}while(0<=t)}this.Ff.clear(!1)},r.prototype.Le=function(t){return this.g.Pa(t,this.xh)},r.prototype.TI=function(i,s,n){var h=this.pg(s,0),r=new t.h;this.Hn(h,r);var e=new t.h,o=this.pg(s,1);this.Hn(o,e);var a=n.ol(i),u=n.Vp(i,0),f=new t.h;if(u.Yp(f),!r.qb(f)){if(!this.Ng){var c=r.compare(this.vh);0>c*(f=f.compare(this.vh))&&(this.Ng=!0)}this.vF(h,this.Ff),this.Ak.add(h)}for(!this.Ng&&1<a&&(c=r.compare(e),u=u.wc(),(r.compare(u)!=c||u.compare(e)!=c||0>u.compare(this.vh))&&(this.Ng=!0)),i=(u=n.Vp(i,a-1)).wc(),e.qb(i)||(this.Ng||0>(c=e.compare(this.vh))*(f=i.compare(this.vh))&&(this.Ng=!0),this.vF(o,this.Ff),this.Ak.add(o)),this.Ff.add(s),e=0,o=this.Ff.size;e<o;e++)i=this.Ff.get(e),n=this.Pp(i),t.$c.LG(n)&&(this.Mc.vd(n,-1),this.Pl(i,-1)),i!=s&&-3!=this.Pp(i)&&(this.nh.add(i),this.Pl(i,-3));this.Ff.clear(!1)},r.prototype.lO=function(t,i){this.$d.compare(this.Mc,this.Mc.ja(t),i),this.$d.rg&&(this.$d.Kr(),this.oF(t,i))},r.prototype.oF=function(i,s){this.Wn=!0,i=this.Mc.ja(i),s=this.Mc.ja(s);var n=this.Qd.Jn(this.Rh(i)),h=this.Qd.Jn(this.Rh(s)),r=this.g.bc(n);null==r&&(null==this.ie&&(this.ie=new t.yb),this.g.ed(n,this.ie),r=this.ie),null==(n=this.g.bc(h))&&(null==this.Nm&&(this.Nm=new t.yb),this.g.ed(h,this.Nm),n=this.Nm),this.Gk.Oo(r),this.Gk.Oo(n),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(i,s,-1,this.Gk),this.Gk.clear()},r.prototype.GQ=function(i,s){this.Wn=!0,s=this.Mc.ja(s);var n=this.Qd.Jn(this.Rh(s)),h=this.g.bc(n);null==h&&(null==this.ie&&(this.ie=new t.yb),this.g.ed(n,this.ie),h=this.ie),n=this.BF(i),this.Gk.Oo(h),this.g.Vi(n,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(s,-1,i,this.Gk),this.Gk.clear()},r.prototype.xS=function(){if(0!=this.nh.size)for(;0!=this.nh.size;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var t=this.nh.Fc();this.nh.If(),this.Pl(t,-1),-1!=this.WS(t)&&this.wS(t),this.Vn=!1}},r.prototype.wS=function(t){if(this.Vn){var i=this.Mc.zu(this.MH,this.GH,t,!0);this.Vn=!1}else i=this.Mc.KD(t);-1==i?this.UT(this.Mc.ja(this.Mc.FF()),t):(this.Pl(t,i),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,i)))},r.prototype.WS=function(i){var s=this.pg(i,0);if(i=this.pg(i,1),this.Hn(s,this.yo),this.Hn(i,this.Pi),t.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var n=this.yo.compare(this.vh),h=this.Pi.compare(this.vh);return 0>=n&&0<h?i:0>=h&&0<n?s:-1},r.prototype.oQ=function(){var i=new t.ia(0);i.Jb(this.g.fd);for(var s=this.g.Yq(),n=s.next();-1!=n;n=s.next())-1!=this.g.Pa(n,this.xh)&&i.add(n);this.g.nx(i,i.size),this.pQ(i)},r.prototype.pQ=function(s){this.df.clear(),this.df.De(s.size),this.df.Vo(new i(this.g));var n=new t.h;n.Rc();for(var h=-1,r=new t.h,e=0,o=s.size;e<o;e++){var a=s.get(e);this.g.Gc(a,r),r.qb(n)?(a=this.g.Pa(a,this.xh),this.Xm(h,a)):(h=this.Le(a),this.g.Gc(a,n),a=this.df.xn(a),this.Et(h,a))}},r.prototype.qQ=function(){var i=new t.ia(0);i.Jb(this.g.fd);for(var s=this.df.rc(-1);-1!=s;s=this.df.lb(s))i.add(this.df.ja(s));this.df.clear(),this.g.nx(i,i.size),s=0;for(var n=i.size;s<n;s++){var h=i.get(s),r=this.Le(h);h=this.df.xn(h),this.Et(r,h)}},r.prototype.vF=function(i,s){var n=this.il(i);if(-1!=n){var h=n;do{t.$c.LG(this.Pp(h))&&s.add(h),h=this.Rp(h,i)}while(h!=n)}},r.prototype.BK=function(t,i){for(t=this.lh.rc(this.Sr(t));-1!=t;t=this.lh.lb(t))this.g.mf(this.lh.ja(t),i)},r.prototype.hK=function(t,i,s,n){this.Xu(t),-1!=i&&this.Xu(i),this.TI(0,t,n),-1!=i&&this.TI(1,i,n),-1!=s&&(n.Bf.D(this.yo),this.Hn(s,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(s)),s=0;for(var h=this.Ak.size;s<h;s++){var r=this.Ak.get(s),e=this.dz(r);-1!=e&&(this.df.vd(e,-1),this.Et(r,-1))}for(s=this.Rh(t),h=-1!=i?this.Rh(i):-1,this.WD(s,n,0),-1!=i&&this.WD(h,n,1),this.ZE(t,n,0),-1!=i&&this.ZE(i,n,1),this.Qd.bh(s),this.Uu(t),-1!=i&&(this.Qd.bh(h),this.Uu(i)),s=0,h=this.Ak.size;s<h;s++)(r=this.Ak.get(s))==this.Jq&&(this.Xv=!0),-1==(e=this.dz(r))&&(-1==(e=this.df.KD(this.BF(r)))?(t=this.Le(this.df.ja(this.df.FF())),this.Xm(t,r)):this.Et(r,e));this.Ak.clear(!1)},r.prototype.Hn=function(t,i){this.g.dG(this.ez(t),i)},r.prototype.BF=function(t){return this.lh.Jn(this.Sr(t))},r.prototype.jC=function(){this.Xv=!1,this.Jq=-1,null==this.$d&&(this.Mc.Rv=!1,this.$d=new n(this),this.Mc.Zn=this.$d);var i=new t.ia(0),r=null,e=null;this.GH=this.MH=-1,this.Vn=!1;for(var o=this.df.rc(-1);-1!=o;){this.Vn=!1;var a=this.df.ja(o);this.Jq=this.Le(a),this.g.Gc(a,this.vh),this.$d.$J(this.vh.y,this.vh.x);var u=this.il(this.Jq),f=-1==u;if(!f){a=u;do{var c=this.Pp(a);-1==c?(this.nh.add(a),this.Pl(a,-3)):-3!=c&&i.add(c),a=this.Rp(a,this.Jq)}while(a!=u)}if(0<i.size){for(this.Vn=1==i.size&&1==this.nh.size,f=0,u=i.size;f<u;f++)a=this.Mc.ja(i.get(f)),this.Pl(a,-2);var l=-2,p=-2;for(f=0,u=i.size;f<u;f++){if(c=i.get(f),-2==l){var v=this.Mc.we(c);-1!=v?(a=this.Mc.ja(v),-2!=(a=this.Pp(a))&&(l=v)):l=-1}if(-2==p&&(-1!=(c=this.Mc.lb(c))?(a=this.Mc.ja(c),-2!=(a=this.Pp(a))&&(p=c)):p=-1),-2!=l&&-2!=p)break}for(f=0,u=i.size;f<u;f++)c=i.get(f),a=this.Mc.ja(c),this.Mc.vd(c,-1),this.Pl(a,-1);i.clear(!1),this.MH=-1!=l?l:-1,this.GH=-1!=p?p:-1,-1!=l&&-1!=p?this.Vn||this.lO(l,p):-1==l&&-1==p&&(this.Vn=!1)}else f&&(null==r&&(r=new h(this)),r.Dh(this.vh),this.Mc.uJ(r),r.rg&&(r.Kr(),this.GQ(this.Jq,r.Dm)));this.xS(),this.Xv?(this.Xv=!1,null==e&&(e=new s(this.g)),e.Dh(this.vh),o=this.df.uJ(e)):o=this.df.lb(o)}return this.Wn},r.prototype.er=function(i){for(this.g=i,this.xh=this.g.Gd(),this.hb.De(i.fd+32),this.zd.De(i.fd),this.lh.At(i.fd),this.lh.fn(i.fd),this.Qd.At(i.fd+32),this.Qd.fn(i.fd+32),i=this.g.ld;-1!=i;i=this.g.ue(i))if(t.aa.Hc(this.g.ic(i)))for(a=this.g.Ob(i);-1!=a;a=this.g.Rb(a)){var s=this.g.Ja(a),n=this.g.Xa(a),h=this.Ym(n),r=this.nt(n);for(this.hj(r,h),u=this.g.U(n),n=0,s-=2;n<s;n++){var e=this.g.U(u),o=this.Ym(u);this.hj(r,o),r=this.nt(u),this.hj(r,o),u=e}this.g.dc(a)?(o=this.Ym(u),this.hj(r,o),r=this.nt(u),this.hj(r,o),this.hj(r,h)):(o=this.Ym(u),this.hj(r,o))}else for(var a=this.g.Ob(i);-1!=a;a=this.g.Rb(a)){var u=this.g.Xa(a);for(h=0,s=this.g.Ja(a);h<s;h++)this.Ym(u),u=this.g.U(u)}this.oQ()},r}();t.RC=r}(Q||(Q={})),function(t){var i=function(i){function s(n,h,r){var e=i.call(this)||this;if(void 0!==n)if(void 0!==r){e.description=t.ee.og();var o=new t.Nd;o.K(n,h,r),e.dC(o)}else if(void 0!==h)e.description=t.ee.og(),e.Cb(n,h);else if(n instanceof t.ra)e.description=n;else if(n instanceof t.h)e.description=t.ee.og(),e.Cb(n);else{if(!(n instanceof s))throw t.i.N();e.description=n.description,e.Cb(n.Lg(),n.ih()),null!==n.ka&&(e.ka=n.ka.slice(0))}else e.description=t.ee.og();return e}return _(s,i),s.prototype.D=function(i){if(void 0===i){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return(i=new t.h).ma(this.ka[0],this.ka[1]),i}if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");i.ma(this.ka[0],this.ka[1])},s.prototype.Cb=function(t,i){"number"==typeof t?(this.vc(),null==this.ka&&this.un(),this.ka[0]=t,this.ka[1]=i):(this.vc(),this.Cb(t.x,t.y))},s.prototype.Cz=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");var i=new t.Nd;return i.x=this.ka[0],i.y=this.ka[1],i.z=this.description.iG()?this.ka[2]:t.ra.se(1),i},s.prototype.dC=function(i){this.vc();var s=this.hasAttribute(1);s||t.ra.DG(1,i.z)||(this.re(1),s=!0),null==this.ka&&this.un(),this.ka[0]=i.x,this.ka[1]=i.y,s&&(this.ka[2]=i.z)},s.prototype.Lg=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},s.prototype.cC=function(t){this.setAttribute(0,0,t)},s.prototype.ih=function(){if(this.Ac())throw t.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},s.prototype.aK=function(t){this.setAttribute(0,1,t)},s.prototype.bS=function(){return this.Uc(1,0)},s.prototype.wX=function(t){this.setAttribute(1,0,t)},s.prototype.zR=function(){return this.Uc(2,0)},s.prototype.hX=function(t){this.setAttribute(2,0,t)},s.prototype.Ec=function(){return this.yF(3,0)},s.prototype.LJ=function(t){this.setAttribute(3,0,t)},s.prototype.Uc=function(i,s){var n=this.description.Pf(i);return 0<=n?this.ka[this.description.$j(n)+s]:t.ra.se(i)},s.prototype.yF=function(i,s){var n=this.description.Pf(i);return 0<=n?this.ka[this.description.$j(n)+s]:t.ra.se(i)},s.prototype.setAttribute=function(t,i,s){this.vc();var n=this.description.Pf(t);0>n&&(this.re(t),n=this.description.Pf(t)),null==this.ka&&this.un(),this.ka[this.description.$j(n)+i]=s},s.prototype.getType=function(){return 33},s.prototype.Db=function(){return 0},s.prototype.Oa=function(){this.vc(),null!=this.ka&&(this.ka[0]=NaN,this.ka[1]=NaN)},s.prototype.sn=function(i){if(null!=this.ka){for(var s=t.ee.Iw(i,this.description),n=[],h=0,r=0,e=i.Aa;r<e;r++){var o=i.kd(r),a=t.ra.Va(o);if(-1==s[r]){var u=t.ra.se(o);for(o=0;o<a;o++)n[h]=u,h++}else for(u=this.description.$j(s[r]),o=0;o<a;o++)n[h]=this.ka[u],h++,u++}this.ka=n}this.description=i},s.prototype.un=function(){this.lJ(this.description.Ae.length),s.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},s.prototype.Oc=function(i){if(i instanceof t.Dd){if(!this.Ac()){var s=this.D();i.Eh(s,s),this.Cb(s)}}else this.Ac()||(this.re(1),s=this.Cz(),this.dC(i.fp(s)))},s.prototype.copyTo=function(i){if(33!=i.getType())throw t.i.N();i.vc(),null==this.ka?(i.Oa(),i.ka=null,i.Nf(this.description)):(i.Nf(this.description),i.lJ(this.description.Ae.length),s.cE(this.ka,i.ka,this.description.Ae.length))},s.prototype.Ia=function(){return new s(this.description)},s.prototype.B=function(){return this.Ac()},s.prototype.Ac=function(){return null==this.ka||isNaN(this.ka[0])||isNaN(this.ka[1])},s.prototype.bn=function(t){t.Oa(),this.description!=t.description&&t.Nf(this.description),t.Zb(this)},s.prototype.A=function(t){this.Ac()?t.Oa():(t.v=this.ka[0],t.G=this.ka[1],t.C=this.ka[0],t.H=this.ka[1])},s.prototype.Qo=function(t){if(this.Ac())t.Oa();else{var i=this.Cz();t.v=i.x,t.G=i.y,t.Ye=i.z,t.C=i.x,t.H=i.y,t.Bg=i.z}},s.prototype.Tg=function(i,s){var n=new t.Nc;return this.Ac()?(n.Oa(),n):(i=this.Uc(i,s),n.oa=i,n.va=i,n)},s.prototype.lJ=function(i){if(null==this.ka)this.ka=t.O.lg(i);else if(this.ka.length<i){for(var s=this.ka.slice(0),n=this.ka.length;n<i;n++)s[n]=0;this.ka=s}},s.cE=function(t,i,s){if(0<s)for(s=0;s<t.length;s++)i[s]=t[s]},s.prototype.Nb=function(t){if(t==this)return!0;if(!(t instanceof s)||this.description!=t.description)return!1;if(this.Ac())return!!t.Ac();for(var i=0,n=this.description.Ae.length;i<n;i++)if(this.ka[i]!=t.ka[i])return!1;return!0},s.prototype.cc=function(){var i=this.description.cc();if(!this.Ac())for(var s=0,n=this.description.Ae.length;s<n;s++){var h=this.ka[s];h=t.O.truncate(h^h>>>32),i=t.O.Th(h,i)}return i},s.prototype.mg=function(){return null},s}(t.aa);t.Sa=i}(Q||(Q={})),function(t){var i=function(){function t(t,i,s){void 0!==t&&(this.x=t,this.y=i,this.z=s)}return t.construct=function(i,s,n){var h=new t;return h.x=i,h.y=s,h.z=n,h},t.prototype.K=function(t,i,s){this.x=t,this.y=i,this.z=s},t.prototype.lx=function(){this.z=this.y=this.x=0},t.prototype.normalize=function(){var t=this.length();0==t&&(this.x/=t,this.y/=t,this.z/=t)},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.sub=function(i){return new t(this.x-i.x,this.y-i.y,this.z-i.z)},t.prototype.Ag=function(i){new t(this.x*i,this.y*i,this.z*i)},t.prototype.Qh=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t}();t.Nd=i}(Q||(Q={})),function(t){var i=function(){function i(t,i,s){this.Gw=this.DA=null,this.Xf=i,this.FT=i.y-s,this.ET=i.y+s,this.Ew=0,this.dA=t,this.qa=s,this.RT=s*s,this.eA=0!=s,this.Lv=!1}return i.prototype.result=function(){return 0!=this.Ew?1:0},i.prototype.ZM=function(i){return i=i.hc(i.fe(this.Xf,!1)),t.h.yc(i,this.Xf)<=this.RT},i.prototype.fF=function(t){if(!this.eA&&(this.dA&&this.Xf.qb(t.ac())||this.Xf.qb(t.wc())))this.Lv=!0;else if(t.na==this.Xf.y&&t.na==t.la){if(this.dA&&!this.eA){var i=Math.max(t.sa,t.pa);this.Xf.x>Math.min(t.sa,t.pa)&&this.Xf.x<i&&(this.Lv=!0)}}else{var s=!1;if(i=Math.max(t.sa,t.pa),this.Xf.x>i?s=!0:this.Xf.x>=Math.min(t.sa,t.pa)&&(s=0<t.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),s){if(this.Xf.y==t.ac().y){if(this.Xf.y<t.wc().y)return}else if(this.Xf.y==t.wc().y&&this.Xf.y<t.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(t.ac().y>t.wc().y?1:-1)}}},i.prototype.SI=function(t){var i=t.Tg(0,1);if(i.oa>this.ET||i.va<this.FT)return!1;if(this.eA&&this.ZM(t))return!0;if(i.oa>this.Xf.y||i.va<this.Xf.y)return!1;if(null==this.DA&&(this.DA=[null,null,null,null,null]),null==this.Gw&&(this.Gw=[0,0,0]),0<(i=t.eG()))for(t=0;t<i;t++){var s=this.DA[t].get();if(this.fF(s),this.Lv)return!0}else if(this.fF(t),this.Lv)return!0;return!1},i.PM=function(t,s,n){for(s=new i(0==t.In(),s,n),t=t.Ga();t.$a();)for(;t.Ha();)if(n=t.ha(),s.SI(n))return-1;return s.result()},i.QM=function(s,n,h,r){var e=new t.l;s.xc(e),e.W(r,r);var o=new i(0==s.In(),h,r);s=s.Ga();var a=new t.l;for(a.K(e),a.C=h.x+r,a.G=h.y-r,a.H=h.y+r,r=(h=n.MF(a,r)).next();-1!=r;r=h.next())if(s.Vb(n.ja(r)),s.Ha()&&(r=s.ha(),o.SI(r)))return-1;return o.result()},i.wm=function(s,n,h){if(s.B())return 0;var r=new t.l;if(s.xc(r),r.W(h,h),!r.contains(n))return 0;if(null!=(r=s.Bb)){var e=r.Fk;if(null!=e){if(1==(e=e.So(n.x,n.y)))return 1;if(0==e)return 0}if(null!=(r=r.Fb))return i.QM(s,r,n,h)}return i.PM(s,n,h)},i.bT=function(t,s,n){return s.B()?0:i.wm(t,s.D(),n)},i.Ml=function(t,i){return!(16>(t=t.I()))&&2*t+Math.log(t)/Math.log(2)*i<1*t*i},i}();t.Dg=i}(Q||(Q={})),function(t){var i=function(t){function i(i){return t.call(this,!0,i)||this}return _(i,t),i.prototype.Ia=function(){return new i(this.description)},i.prototype.Db=function(){return 2},i.prototype.getType=function(){return 1736},i.prototype.xG=function(t,i,s){this.JS(t,i,s)},i.prototype.qR=function(){this.FR()},i}(t.Vk);t.Da=i}(Q||(Q={})),function(t){!function(t){t[t.PiPOutside=0]="PiPOutside",t[t.PiPInside=1]="PiPInside",t[t.PiPBoundary=2]="PiPBoundary"}(t.RL||(t.RL={})),t.hd=function(){function i(){}return i.KG=function(i,s,n){return 0==(i=t.Dg.bT(i,s,n))?0:1==i?1:2},i.Yd=function(i,s,n){return 0==(i=t.Dg.wm(i,s,n))?0:1==i?1:2},i.WX=function(s,n,h,r,e){if(n.length<h||e.length<h)throw t.i.N();for(var o=0;o<h;o++)e[o]=i.Yd(s,n[o],r)},i.sK=function(s,n,h,r,e){if(1736==s.getType())i.WX(s,n,h,r,e);else{if(197!=s.getType())throw t.i.fa("invalid_call");var o=new t.l;s.A(o),i.$M(o,n,h,r,e)}},i.$M=function(i,s,n,h,r){if(s.length<n||r.length<n)throw t.i.N();if(i.B())for(h=0;h<n;h++)r[h]=0;else for(i.W(.5*-h,.5*-h),i.W(.5*h,.5*h),h=0;h<n;h++)i.contains(s[h])?r[h]=1:i.contains(s[h])?r[h]=2:r[h]=0},i.YX=function(t,i,s,n,h){for(var r=0;r<s;r++)h[r]=t.qs(i[r],n)?2:0},i.XX=function(t,i,s,n,h){var r=t.Bb,e=null;null!=r&&(e=r.Fk),r=s;for(var o=0;o<s;o++)if(h[o]=1,null!=e){var a=i[o];0==e.So(a.x,a.y)&&(h[o]=0,r--)}if(0!=r)for(t=t.Ga();t.$a()&&0!=r;)for(;t.Ha()&&0!=r;)for(e=t.ha(),o=0;o<s&&0!=r;o++)1==h[o]&&e.qs(i[o],n)&&(h[o]=2,r--);for(o=0;o<s;o++)1==h[o]&&(h[o]=0)},i.tK=function(s,n,h,r,e){var o=s.getType();if(1607==o)i.XX(s,n,h,r,e);else{if(!t.aa.yd(o))throw t.i.fa("Invalid call.");i.YX(s,n,h,r,e)}},i}()}(Q||(Q={})),function(t){var i=function(t){function i(i,s){if(2==arguments.length){var n=t.call(this,!1,i.description)||this;n.nf(i),n.lineTo(s)}else n=t.call(this,!1,i)||this;return n}return _(i,t),i.prototype.Ia=function(){return new i(this.description)},i.prototype.Db=function(){return 1},i.prototype.getType=function(){return 1607},i.prototype.xG=function(t,i,s){this.KS(t,i,s)},i}(t.Vk);t.Ta=i}(Q||(Q={})),function(t){var i=function(){function i(){}return i.prototype.progress=function(){return!0},i.zp=function(i){if(null!=i&&!i.progress(-1,-1))throw t.i.WC()},i}();t.mp=i}(Q||(Q={})),function(t){var i;(i=t.PK||(t.PK={}))[i.clipWithInputHorizon=1]="clipWithInputHorizon",i[i.clipWithOutputHorizon=2]="clipWithOutputHorizon";var s=function(){function t(){this.Kg=3,this.Vu=this.Jr=NaN}return t.prototype.PW=function(t){this.QB(1,t)},t.prototype.QW=function(t){this.QB(2,t)},t.prototype.hS=function(){return this.hs(1)},t.prototype.iS=function(){return this.hs(2)},t.prototype.QB=function(t,i){this.Kg=i?this.Kg|t:this.Kg&~t},t.prototype.hs=function(t){return 0!=(this.Kg&t)},t.prototype.Of=function(){var i=new t;return i.Jr=this.Jr,i.Vu=this.Vu,i.Kg=this.Kg,i},t}();t.yC=s,function(t){t[t.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",t[t.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(t.QK||(t.QK={}));var n=function(){function t(){this.Kg=0}return t.prototype.QB=function(t,i){this.Kg=i?this.Kg|t:this.Kg&~t},t.prototype.hs=function(t){return 0!=(this.Kg&t)},t.jg=function(i){var s=new t;return s.Kg=i.Kg,s},t.prototype.mM=function(t){this.Kg=t.Kg},t}();t.AY=n;var h=function(){function i(i,s,n){this.ef=i,this.Yf=s,this.Uf=new t.l,this.Uf.K(n),this.AT=i.cc()+s.cc()+this.Uf.cc().toString()}return i.prototype.cc=function(){return this.AT},i.prototype.Nb=function(t){return this==t||this.ef.Nb(t.ef)&&this.Yf.Nb(t.Yf)&&this.Uf.Nb(t.Uf)},i}();t.FY=h,h=function(){function i(){this.Yf=this.ef=null,this.rH=new s,this.sH=new n,this.ww=this.Wf=null,this.mw=this.Tn=!0}return i.Nr=function(t,s,n,h){var r;void 0===h&&(h=null),void 0===r&&(r=null);var e=new i;return e.qp(t,s,n,h,r),e},i.prototype.qp=function(i,s,n,h,r){if(null==i||null==s)throw t.i.fa("invalidArgument");if(this.ef=i,this.Yf=s,this.mw=this.Tn=!1,null!=h&&(this.rH=h.Of()),null!=r&&this.sH.mM(r),r=!1,1==s.Sb()&&null!=h&&(h=h.Jr,isNaN(h)||0==h||(r=!0)),i==s)this.Tn=!r,this.mw=!0;else{h=i.Sb();var e=s.Sb();if(0==h||0==e){if(null!=n)throw t.i.N();null!=i.Hd()&&null!=s.Hd()&&(this.Tn=i.Hd().Nb(s.Hd()))}else 3==h||3==e?this.Tn=i.Nb(s):this.ef.kS(this.Yf)?this.Tn=!r:this.Tn=!1,this.Wf=n,null!=this.Wf&&this.Wf.ix(),this.mw=(null==this.Wf||0==this.Wf.count())&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},i.prototype.isIdentity=function(){return this.Tn},i.prototype.nR=function(){return this.rH.Of()},i.prototype.Nb=function(t){return t==this||!!(t instanceof i&&this.ef.Nb(t.ef)&&this.Yf.Nb(t.Yf))&&(this.Wf==t.Wf||!(null==this.Wf||null==t.Wf||!this.Wf.Nb(t.Wf)))},i.prototype.oY=function(){this.ww=new t.bu(this)},i}(),t.vr=h}(Q||(Q={})),function(t){var i=function(){function i(){}return i.Cp=function(t){return t*i.oW},i.mx=function(t,s){return i.gP(s-t)},i.hP=function(i){return-360<=i&&720>i?(0>i?i+=360:360<=i&&(i-=360),i):(0>(i=t.lc.RK(i))&&(i+=360),i)},i.gP=function(t){return 180<(t=i.hP(t))&&(t-=360),t},i.oW=57.29577951308232,i}();t.qr=i,t.Hh=function(){function s(){}return s.lj=function(i,s){var n=new t.l;i.A(n);var h=t.cb.gh(s),r=new t.l;return r.K(h),r.v=n.v,r.C=n.C,r.W(.01*r.ca(),0),s=t.ta.Wd(s,n,!1),r.contains(n)?i:t.Ud.clip(i,r,s,0)},s.ks=function(i,n,h,r,e){if(!t.cb.Wc(n))throw t.i.N();var o=t.ta.kj(n,i,!1),a=t.cb.gh(n),u=t.cb.sc(n),f=u.Hd().ai,c=t.cb.vv(u);u=t.cb.ev(u),c*=2-c;var l=new t.Nc;a.cn(l);var p=[[0,0],[0,0]];if(2==t.Eg.Sb(n)?r?(p[0][0]=s.Zm(e,l),p[0][1]=a.Jp(),t.cb.vt(),a=p[0][0]*f):(p[0][0]=a.gk(),p[0][1]=e,t.cb.vt(),a=p[0][1]*f):a=e*f,!r&&0!=a)throw t.i.N();var v=new t.ga,y=new t.gd;i=y.Ib(i);for(var d=[0],b=new t.h,g=new t.h,w=new t.h,x=new t.h,m=new t.h,j=new t.h,M=y.Ob(i);-1!=M;M=y.Rb(M)){var k=y.Xa(M);y.D(k,w);for(var z=!1,A=k=y.U(k);-1!=A;A=y.U(A)){if(A==k){if(z)break;z=!0}if(y.D(A,x),r&&o<e-w.x&&x.x-e>o||o<e-x.x&&w.x-e>o||!r&&o<-w.y&&x.y>o||o<-x.y&&w.y>o)do{if(!(Math.abs(w.x-x.x)>=.5*l.R())){if(2==t.Eg.Sb(n)?(p[0][0]=s.Zm(w.x,l),p[0][1]=w.y,p[1][0]=s.Zm(x.x,l),p[1][1]=x.y,t.cb.dW(),m.x=p[0][0]*f,m.y=p[0][1]*f,j.x=p[1][0]*f,j.y=p[1][1]*f):(m.x=w.x*f,m.y=w.y*f,j.x=x.x*f,j.y=x.y*f),j.x=6.283185307179586*(x.x-w.x)/l.R()+m.x,r){if(g.x=a,g.y=s.Nz(u,c,m,j,a,h),isNaN(g.y))break}else{if(g.x=s.Lz(u,c,m,j,h),isNaN(g.x))break;g.y=0}t.kb.wd(u,c,m.x,m.y,j.x,j.y,v,null,null,h);var N=v.u;t.kb.wd(u,c,m.x,m.y,g.x,g.y,v,null,null,h);var I=v.u;2==t.Eg.Sb(n)?(p[0][0]=g.x/f,p[0][1]=g.y/f,t.cb.bR(),r?(b.y=p[0][1],b.x=e):(b.x=s.os(p[0][0],w.x,x.x,l),b.y=e)):r?(b.x=e,b.y=g.y/f):(b.x=s.os(g.x/f,w.x,x.x,l),b.y=e),d[0]=0<N?t.O.Rk(I/N,0,1):.5,0!=d[0]&&1!=d[0]&&(N=y.Ma(A),y.Ul(N,d,1),y.Cb(y.U(N),b.x,b.y))}}while(0);w.L(x)}}return y.Ne(i)},s.Fn=function(i,n,h,r,e){if(i.B())return i;var o=t.cb.bf(n);return s.Hp(i,h-180*o,360*o,n,r,e,!0)},s.Nz=function(i,n,h,r,e,o){if(3.141592653589793<=Math.abs(h.x-r.x)||!s.Sn(h.x,r.x,e))return NaN;if(h.x>r.x)var a=r;else a=h,h=r;r=new t.ga(0);var u=new t.ga(0),f=new t.ga(0);t.kb.wd(i,n,a.x,a.y,h.x,h.y,u,r,null,o);var c=u.u,l=0,p=1,v=new t.h;for(v.L(a);c*(p-l)>1e-12*i;){var y=.5*(l+p);if(t.kb.oj(i,n,a.x,a.y,c*y,r.u,u,f,o),v.x=u.u,v.y=f.u,v.x==e)break;if(s.Sn(a.x,v.x,e))p=y;else{if(!s.Sn(h.x,v.x,e))return NaN;l=y}}return v.y},s.Sn=function(t,s,n){return t=i.Cp(t),s=i.mx(t,i.Cp(s)),0==(n=i.mx(t,i.Cp(n)))||0<s&&0<n&&n<=s||0>s&&0>n&&n>=s},s.Zm=function(t,i){var s=i.va-i.oa;return i.It(t-Math.floor((t-i.oa)/s)*s)},s.os=function(i,s,n,h){var r=new t.Nc;for(r.K(s,n),n=h.R(),i=Math.floor((i-s)/n)*n+i,r=r.sf();Math.abs(i-r)>Math.abs(i+n-r);)i+=n;return i},s.Lz=function(i,s,n,h,r){if(n.y>h.y)var e=h;else e=n,n=h;if((h=new t.Nc).K(e.y,n.y),!h.contains(0)||3.141592653589793<=Math.abs(e.x-n.x))return NaN;if(e.x==n.x)return e.x;var o=new t.ga(0),a=new t.ga(0),u=new t.ga(0);t.kb.wd(i,s,e.x,e.y,n.x,n.y,a,o,null,r);var f=a.u,c=0,l=1,p=new t.h;for(p.L(e);f*(l-c)>1e-12*i;){var v=.5*(c+l);if(t.kb.oj(i,s,e.x,e.y,f*v,o.u,a,u,r),p.x=a.u,p.y=u.u,h.K(e.y,p.y),0==p.y)break;if(h.contains(0))l=v;else{if(h.K(n.y,p.y),!h.contains(0))return NaN;c=v}}return p.x},s.Hp=function(i,s,n,h,r,e,o){var a=new t.l;if(i.A(a),a.B())return i;var u=new t.Nc;a.cn(u);var f=new t.Nc;if(f.K(s,s+n),f.contains(u)&&f.va!=u.va)return i;var c=new t.l;c.K(a);var l=i.getType();if(33==l)return((a=(c=r?i:i.Of()).Lg())<f.oa||a>=f.va||o&&a==f.va)&&(a+=Math.ceil((f.oa-a)/n)*n,a=f.It(a),c.cC(a)),c;if(550==l){for(h=(c=r?i:i.Of()).ub(0),l=2*c.I(),i=!1,r=0;r<l;r+=2)((a=h.read(r))<f.oa||a>=f.va||o&&a==f.va)&&(i=!0,a+=Math.ceil((f.oa-a)/n)*n,a=f.It(a),h.write(r,a));return i&&c.Pc(1993),c}if(f.contains(u))return i;if(197==l)return n=r?i:i.Of(),a.Ea(c),n.Xo(a),n;var p=.1*Math.max(a.ca(),a.R());c.W(0,p),o=i,f=h.Xd(0),i=t.Gh.local(),r=new t.Dd;for(;;){var v=Math.floor((u.oa-s)/n),y=Math.ceil((u.va-s)/n);if(!(3<y-v))break;v=Math.floor(.5*(y+v)),c.v=a.v-p,c.C=s+n*v;var d=t.Ud.clip(o,c,f,e);c.v=c.C,c.C=a.C+p;var b=t.Ud.clip(o,c,f,e);r.gg((v-y)*n,0),b.Oc(r),1736==l?o=i.V(d,b,h,null):(o=d).add(b,!1),o.A(a),a.cn(u)}for(c.v=s,c.C=s+n,(s=new t.l).K(c),s.W(f,0),0!=(s=Math.floor((a.v-c.v)/n)*n)?(c.move(s,0),r.gg(-s,0)):r.RB(),s=1607==l?new t.Ta(o.description):new t.Da(o.description),e=new t.l,u=new t.l;a.C>c.v;)(p=t.Ud.clip(o,c,f,0)).A(u),(1607==l?!p.B()&&(u.R()>f||u.ca()>f):!p.B()&&(1736!=l||u.R()>f))&&(p.Oc(r),p.A(u),s.A(e),e.W(f,f),e.isIntersecting(u)&&1736==l?s=i.V(s,p,h,null):s.add(p,!1)),c.move(n,0),r.shift(-n,0);return s},s.WI=function(i,s,n,h){var r=new t.de(n.description);r.Fd(n,0,-1),r=t.cb.zh(r,i,s);var e=n.I();if(h.Oa(),!t.cb.Wc(i)||e!=r.I())return!1;var o=new t.l;n.A(o);var a=new t.l;if(r.A(a),o=o.R(),a=a.R(),0!=o&&0!=a){if(a/=o,i=t.cb.gh(s).R()/t.cb.gh(i).R(),1e-10<Math.abs(a/i-1))return!1}else if(0!=o||0!=a)return!1;for(h.add(n,!1),n=0;n<e;n++)i=r.Na(n),h.Cb(n,i);return!0},s.Oz=function(){throw t.i.Ie()},s}()}(Q||(Q={})),function(t){var i,s,n;(s=i=t.si||(t.si={}))[s.Clip=0]="Clip",s[s.DontClip=1]="DontClip",s[s.PannableFold=2]="PannableFold",function(t){t[t.Geodesic=0]="Geodesic",t[t.Loxodrome=1]="Loxodrome",t[t.GreatElliptic=2]="GreatElliptic",t[t.NormalSection=3]="NormalSection",t[t.ShapePreserving=4]="ShapePreserving"}(n=t.WK||(t.WK={})),t.zb=function(){function s(){}return s.xv=function(i,s,n){if(n||0<s){for(i=i.toString(t.Sc.PE_STR_NAME_CANON|t.Sc.PE_STR_AUTH_NONE),s=[],n=0;n<i.length;n++)s[n]="a"<=i[n]&&"z">=i[n]?s[n]=i[n].toUpperCase():i[n];return s.join()}return i.toString(t.Sc.PE_STR_AUTH_TOP)},s.ur=function(i,s,n,h){var r=h.length,e=n.I();if(0!=e){var o=n.ub(0),a=Math.min(e,r),u=0,f=i.eh();isNaN(s)&&(s=0);for(var c=i.Wc(),l=179*(i=c?i.sc().Oe().R():0)/360;0<e;){if(o.uB(u<<1,a,h),t.ej.projToGeogCenter(f,a,h,s),c)for(var p=0;p<a;p++){var v=h[p][0]-s,y=t.lc.sign(v),d=o.read(2*(u+p));0>y*t.lc.sign(d)&&Math.abs(v)>l&&(h[p][0]+=-y*i)}o.uC(u<<1,a,h),u+=a,e-=a,a=Math.min(e,r)}n.Pc(1993)}},s.IL=function(i,s,n,h){var r=0,e=i.eh();isNaN(r)&&(r=0);var o=i.Wc(),a=i.bf();i=360*a,a*=179;for(var u=h.length,f=0;f<n;){for(var c=f;c<n&&s[c].isNaN();++c)f++;var l=Math.min(u,n-f);if(0<l){c=1;for(var p=f+1;c<l;++c,++p)if(s[p].isNaN()){l=c;break}if(t.ta.Jy(h,s,f,l),t.ej.projToGeogCenter(e,l,h,r),o)for(c=0,p=f;c<l;++c,++p){var v=s[p].x,y=h[c][0]-r,d=t.lc.sign(y);0>d*t.lc.sign(v)&&Math.abs(y)>a&&(h[c][0]-=d*i)}t.ta.Iy(s,f,h,l),f+=l}}},s.Lx=function(i,s,n){var h=n.length,r=s.I();if(!(1>r)){var e=s.ub(0),o=Math.min(r,h),a=0,u=i.eh(),f=i.Wc(),c=f?i.Oe().R():0,l=179*c/360,p=0;for(f&&(p=i.zi());0<r;){if(e.uB(a<<1,o,n),t.ej.geogToProj(u,o,n),f)for(i=0;i<o;i++){var v=n[i][0],y=t.lc.sign(v),d=e.read(2*(a+i))-p;0>y*t.lc.sign(d)&&Math.abs(v)>l&&(n[i][0]+=-y*c)}e.uC(a<<1,o,n),a+=o,r-=o,o=Math.min(r,h)}s.Pc(1993)}},s.HL=function(i,s,n,h){if(0!=n){var r=i.eh(),e=i.Wc(),o=e?i.Oe().R():0,a=179*o/360,u=0;for(e&&(u=i.zi()),i=0;i<n;){for(var f=i;f<n&&s[f].isNaN();++f)i++;var c=Math.min(h.length,n-i);if(0<c){f=1;for(var l=i+1;f<c;++f,++l)if(s[l].isNaN()){c=f;break}if(t.ta.Jy(h,s,i,c),t.ej.geogToProj(r,c,h),e)for(f=0,l=i;f<c;f++){var p=h[f][0],v=t.lc.sign(p);0>v*t.lc.sign(s[l].x-u)&&Math.abs(p)>a&&(h[f][0]-=v*o)}t.ta.Iy(s,i,h,c),i+=c}}}},s.tr=function(i,s,n,h){var r=s.I();if(0!=r){var e=s.ub(0),o=i.ef,a=i.Yf,u=o.sc().Qp(),f=a.sc().Qp(),c=o.bf(),l=a.bf();if(null==(i=i.Wf)||0==i.count()){for(n=u/f,h=(o.Up()-a.Up())*l,f=-90*c,i=90*c,u=!1,l=1,o=2*r;l<o;)c=e.get(l),(a=t.O.Rk(c,f,i))!=c&&(e.set(l,a),u=!0),l+=2;if(0!=h||1!=n)for(u=!0,f=new t.h,l=0;l<r;l++)e.tc(2*l,f),f.x*=n,f.x+=h,f.y*=n,e.Tt(2*l,f);u&&s.Pc(1993)}else{o=h.length,a=Math.min(r,o);var p=t.O.lg(a),v=null,y=0,d=NaN,b=NaN,g=360*l,w=l/c;n&&(b=90*l,d=89.9*c,v=t.O.lg(a));for(var x=!0,m=0;0!=r;){for(c=!1,e.uB(y<<1,a,h),l=0;l<a;l++)p[l]=h[l][0];if(n)for(l=0;l<a;l++){var j=Math.abs(h[l][1])-d;0<j&&(c=h[l][1],h[l][1]=t.lc.Cn(d,c),v[l]=t.lc.Cn(j,c),c=!0)}for(l=h[0][0],i.transform(h,a,u,f),x&&(m=h[0][0]-w*l,x=!1),l=0;l<a;l++)j=h[l][0]-p[l]*w-m,200<Math.abs(j)&&(h[l][0]=0<j?h[l][0]-g:h[l][0]+g);if(c){for(l=0;l<a;l++)0!=v[l]&&(h[l][1]+=w*v[l],h[l][1]>b?h[l][1]=b:h[l][1]<-b&&(h[l][1]=-b));for(c=0;c<a;c++)v[c]=0}e.uC(y<<1,a,h),y+=a,r-=a,a=Math.min(r,o)}s.Pc(1993)}}},s.GL=function(i,s,n,h){if(i.mw)h=90*i.ef.bf(),t.ta.dK(s,n,-h,h);else{var r=i.Wf,e=i.ef,o=i.Yf;i=e.Xr();var a=o.Xr(),u=e.bf(),f=90*u,c=o.bf();if(null==r||0==r.count()){if(h=i/a,r=(e.Up()-o.Up())*c,t.ta.dK(s,n,-f,f),0!=r||1!=h)for(c=0;c<n;c++)s[c].x*=h,s[c].x+=r,s[c].y*=h}else{e=Math.min(n,h.length),f=t.O.lg(e),o=360*c,u=c/u;for(var l=!0,p=0,v=0;0!=n;){for(c=0;c<e;c++)f[c]=s[c+v].x;for(c=s[0].x,t.ta.Jy(h,s,v,e),r.transform(h,e,i,a),t.ta.Iy(s,v,h,e),l&&(p=s[0].x-u*c,l=!1),c=0;c<e;c++){var y=s[v+c].x-f[c]*u-p;200<Math.abs(y)&&(s[v+c].x=0<y?s[v+c].x-o:s[v+c].x+o)}v+=e,n-=e,e=Math.min(n,h.length)}}}},s.dv=function(t,i){return t=t.gh(),isNaN(i)||t.Ju(i,0),t},s.UQ=function(i,n,h,r,e,o,a,u){for(var f=s.dv(r,e),c=f.R(),l=c/360,p=s.pE*l,v=i.ub(0),y=n.Wc(),d=y?c/n.Oe().R():0,b=!1,g=new t.Da(h.description),w=0,x=h.da();w<x;++w){var m=y,j=new t.Ta(h.description);if(j.addPath(h,w,!0),0!=a){var M=s.PD(!0,j,f.H-u,f.H,a);(b=b||M)&&(m=!1)}var k=-1;m&&(k=i.Ba(w));var z=j.ub(0),A=j.I(),N=0,I=z.read(0),T=0;M=3*r.Xd(0);var P=!1,C=new t.h;C.Rc();var B=new t.h;B.Rc();for(var D=!1,q=1;q<A;++q){var G=t.h.construct(z.eg(2*q),z.eg(2*q+1)),F=G.x,E=F+N,S=E-I;if(G.x=E,Math.abs(S)>p){if(m){var O=k+(q+1<A?q:0),H=v.read(2*(k+q-1));O=(v.read(2*O)-H)*d,Math.abs(S-O)>1*l&&(m=!1)}m||(E=F+(N-=t.lc.Cn(c,E-I)),++T,D=0!=N,G.x=E)}else P||t.ta.AG(B,C,G,M)&&(P=!0);D&&z.write(2*q,E),I=E,B.L(C),C.L(G)}0<T&&j.Pc(1993),m=j.Na(0),A=j.Na(A-1),j=t.h.tb(m,A)<M?s.uQ(j,r,e,o,P):s.vQ(i,w,j,r,e),g.add(j,!1)}return e=r.Xd(0),h=f.R()/180,s.Jt(g,f,.1*e,!1),g=g!=(e=t.ri.clip(g,f,e,h,o)),i=i.Ke(),a=0,0<(u=e.Ke())&&0>i?a=1:0>=u&&0<i&&(0==u?(u=NaN,2==n.Sb()?u=n.ml().Ke():1==n.Sb()&&(u=n.Oe().wF()),i>.99*u&&(a=-1)):a=-1),0!=a&&((n=new t.Da(e.description)).tp(f),(n=t.Xl.local().V(n,h,o)).add(e,!1),g=!0,e=n),g&&(e=t.Yl.local().V(e,r,!1,o)),e},s.vQ=function(i,n,h,r,e){var o=h.I(),a=h.Na(0),u=h.Na(o-1);e=(r=s.dv(r,e)).R(),a=t.lc.sign(u.x-a.x);var f=new t.l;h.xc(f);var c=r.gk();if(u=c-e,c+=e,0<=a){var l=Math.ceil((u-f.v)/e);for(l*=e;u>f.v+l;)l+=e;for(;u<f.C+l;)l-=e;var p=l;720<f.R()&&(c=u+360*Math.ceil(f.R()/360))}else{for(l=Math.ceil((c-f.C)/e),l*=e;c<f.C+l;)l-=e;for(;c>f.v+l;)l+=e;p=l,720<f.R()&&(u=c-360*Math.ceil(f.R()/360))}l=a*e;var v=t.l.construct(f.v,f.G,f.C,f.H);v.move(p,0);var y=new t.Dd;y.gg(p,0),h.Oc(y),(f=new t.Ta(h.description)).add(h,!1),p=h.Na(o-1),e=0;for(var d=f.Na(0).x,b=0;0<a?v.C<c:v.v>u;)1024<=b&&(b=0),v.move(l,0),y.Gb=l,h.Oc(y),d+=l,r.v<=d&&r.C>=d&&(e=f.I()-1),h.Cb(0,p),p=h.Na(o-1),f.Dr(h,0,0,o-1,!1);return h=new t.Da(f.description),o=0<i.Ir(n),h.add(f,!1),i=f.Na(0),u=f.Na(f.I()-1),n=h.da()-1,(0>a?o:!o)?(a=t.h.construct(u.x,r.H),h.Ci(a),a=t.h.construct(r.gk(),r.H),h.Ci(a),r=t.h.construct(i.x,r.H)):(a=t.h.construct(u.x,r.G),h.Ci(a),a=t.h.construct(r.gk(),r.G),h.Ci(a),r=t.h.construct(i.x,r.G)),h.Ci(r),h.xG(0,n,0),h.kO(e),h},s.uQ=function(i,n,h,r,e){var o=new t.Da(i.description);o.add(i,!1),o.DB(0,o.I()-1);var a=new t.l;o.xc(a);var u=(h=s.dv(n,h)).R(),f=Math.ceil((h.v-a.v)/u);for(f*=u;h.v>a.v+f;)f+=u;for(;h.v<a.C+f;)f-=u;if(0!=(f+=u)){a.move(f,0);var c=new t.Dd;c.gg(f,0),o.Oc(c)}if(h.v<=a.v&&h.C>a.C)return e&&(e=o.Ke(),n=(o=t.Yl.local().V(o,n,!0,r)).Ke(),(n=t.lc.sign(e)!=t.lc.sign(n))&&o.oJ()),o;for((i=new t.Da(i.description)).add(o,!1),e=e||a.R()>u-n.Xd(0);a.v<h.C;)a.move(u,0),(c=new t.Dd).gg(u,0),o.Oc(c),i.add(o,!1);return e&&(e=i.Ke(),i.Yo(1),n=(i=t.Yl.local().V(i,n,!0,r)).Ke(),(n=t.lc.sign(e)!=t.lc.sign(n))&&i.oJ()),i},s.PD=function(i,s,n,h,r){for(var e=s.ub(0),o=s.I(),a=!1,u=0;u<o;u++){var f=t.h.construct(e.eg(2*u),e.eg(2*u+1));if(0!=(1&r)&&f.y>=n){a=!0;break}if(0!=(2&r)&&f.y<=-n){a=!0;break}}if(!a)return!1;e=!1,i&&(e=s.Nn(0)),o=(i=new t.gd).Ib(s),a=i.Ob(o);var c=-1,l=!0,p=new t.h;p.Rc(),u=new t.Sa;for(var v=-1,y=i.Xa(a);-1!=y;y=i.U(y)){f=i.Na(y);var d=0!=(1&r)&&90<=f.y?1:0;if(d|=0!=(2&r)&&f.y<=-n?2:0,0<c&&c!=d){if(p.x!=f.x){p.x=f.x,i.Vi(i.Ma(y),u);var b=i.wj(a,y,u);i.mf(b,p)}if(e)for(v=-1!=v?i.U(v):i.Xa(a),b=i.Ma(y);v!=b;)v=i.pd(v,!1);v=-1}0<d&&(f.y=t.lc.Cn(h,f.y),i.mf(y,f),l||c==d||(f.x!=p.x?(i.Vi(y,u),b=i.wj(a,y,u),i.Cb(b,p.x,f.y),v=b):v=y)),c=d,p=f,l=!1}if(e){if(-1!=v)for(v=i.U(v);-1!=v;)v=i.pd(v,!1);n=i.Xa(a),i.fq(n,i.rj(a))||(i.Vi(n,u),i.wj(a,-1,u))}return i.Ne(o).copyTo(s),!0},s.Mz=function(n,h,r,e){var o=n;if(o.B()||r==i.DontClip)return o;var a=o.getType();if(33==a)return o=[(e=o).D()],s.yG(o,1,h,r),o[0].isNaN()?e.Oa():e.Cb(o[0]),n;var u=(n=h.sc()).bf(),f=90*u,c=180*u,l=360*u,p=h.zi(),v=.5*u,y=new t.l;o.A(y);var d=h.Vr(),b=h.PQ(),g=197==d.getType();if(h=new t.l,d.A(h),r==i.PannableFold&&(r=n.Oe().R(),h.v=p-.5*r,h.C=h.v+r),y.G<-f||y.H>f){if((new t.l).K(y.v-u,-f,y.C+u,f),(o=t.ri.Nu(o,h,n,NaN,0,e)).B())return o;o.A(y)}if(b&&(h.H<y.G||h.G>y.H))return o.Ia();if(y.R()>l&&(o=s.Hp(o,p-c,l,n,!0,0,!0,e)).A(y),0!=(f=s.eO(y.v,y.C,h.v,h.C,l))&&y.move(f,0),y.C>h.C||y.v<h.v){if(y.C>h.C)for(;y.v>=h.C;)y.move(-l,0),f-=l;for(;y.v<h.C-l;)y.move(l,0),f+=l}if(r=t.ta.Hu(n,d),0!=f&&((u=new t.Dd).gg(f,0),o.Oc(u)),b){if(g&&h.contains(y))return o;for(b=[null,null],f=0;2>f;f++){if(g?u=t.aa.Hc(a)?t.ri.clip(o,h,r,v,e):t.ri.clip(o,h,r,0,e):(u=t.Xj.local().V(o,d,n,e))==d&&(u=t.aa.jg(u)),h.v<=y.v&&h.C>=y.C||h.v>=y.v&&h.C<=y.C)return u;b[f]=u,0==f&&(y.move(-l,0),(u=new t.Dd).gg(-l,0),o.Oc(u))}if(550==a)b[0].Fd(b[1],0,-1);else if(t.aa.Hc(a))b[0].add(b[1],!1);else{if(33!=a)throw t.i.fa("intersect_with_GCS_horizon: unexpected geometry type");b[0].B()&&(b[0]=b[1])}return b[0]}if(h.H<y.G||h.G>y.H)return o;for(a=0;!o.B()&&y.C>h.v;)0!=a&&((u=new t.Dd).gg(a,0),o.Oc(u)),t.dj.local().V(4,o,d,n,e)||d==(o=t.kp.local().V(o,d,n,e))&&(o=t.aa.jg(o)),0!=a&&((v=new t.Dd).gg(-a,0),o.Oc(v)),a-=l,y.move(-l,0);return o},s.yG=function(n,h,r,e){if(0!=h&&e!=i.DontClip)if(e==i.PannableFold){e=r.HR();for(var o=h,a=0;a<h;a++)(n[a].y>e.H||n[a].y<e.G)&&(n[a].Rc(),o--);0!=o&&s.av(n,h,e.v,e.R())}else{var u=90*(e=r.bf()),f=180*e;for(e*=360,o=h,a=0;a<h;a++)(n[a].y>u||n[a].y<-u)&&(n[a].Rc(),o--);if(0!=o){(o=new t.l).Zw(n,h),u=r.Vr();var c=r.hv();a=197==u.getType();var l=new t.l;if(u.A(l),!c||!(l.H<o.G||l.G>o.H))if(c)if(s.av(n,h,l.gk()-f,e),o=h,a)for(a=0;a<h;a++)l.contains(n[a])||(n[a].Rc(),o--);else for(r=t.ta.Hu(r.sc(),u),a=0;a<h;a++)(f=0!=t.hd.Yd(u,n[a],r))||(n[a].Rc(),o--);else for(s.av(n,h,-f,e),o=h,r=t.ta.Hu(r.sc(),u),a=0;a<h;a++)(f=n[a]).isNaN()&&o--,c=s.tE(f.x,l.v,l.C,e),f.x+=c,(f=0!=t.hd.Yd(u,f,r))&&(n[a].Rc(),o--)}}},s.Hp=function(i,s,n,h,r,e,o,a){var u=i.getType(),f=s+n;if(33===u){var c=(h=r?i:i.Of()).Lg();return(c<s||c>=f||o&&c==f)&&(c+=Math.ceil((s-c)/n)*n,c=t.O.Rk(c,s,f),h.cC(c)),h}if(i.B())return i;if(c=new t.l,i.A(c),c.B())return i;var l=new t.Nc;c.cn(l);var p=new t.Nc;if(p.K(s,f),p.contains(l))return i;if((f=new t.l).K(c),550===u){for(a=(h=r?i:i.Of()).ub(0),u=2*h.I(),f=!1,s=0;s<u;s+=2)((c=a.read(s))<p.oa||c>=p.va||o&&c==p.va)&&(f=!0,c+=Math.ceil((p.oa-c)/n)*n,c=p.It(c),a.write(s,c));return f&&h.Pc(1993),h}if(197==u)return n=r?i:i.Of(),c.Ea(f),n.Xo(c),n;var v=.1*Math.max(c.ca(),c.R());for(f.W(0,v),o=i,p=h.Xd(0),i=t.Gh.local(),r=new t.Dd;;){var y=Math.floor((l.oa-s)/n),d=Math.ceil((l.va-s)/n);if(!(3<d-y))break;y=Math.floor(.5*(d+y)),f.v=c.v-v,f.C=s+n*y;var b=t.ri.clip(o,f,p,e,a);f.v=f.C,f.C=c.C+v;var g=t.ri.clip(o,f,p,e,a);r.gg((y-d)*n,0),g.Oc(r),1736==u?o=i.V(b,g,h,null):(o=b).add(g,!1),o.A(c),c.cn(l)}for(f.v=s,f.C=s+n,(s=new t.l).K(f),s.W(p,0),0!=(s=Math.floor((c.v-f.v)/n)*n)?(f.move(s,0),r.gg(-s,0)):r.RB(),s=1607==u?new t.Ta(o.description):new t.Da(o.description),e=new t.l,l=new t.l;c.C>f.v;)(v=t.ri.clip(o,f,p,0,a)).A(l),(1607==u?!v.B()&&(l.R()>p||l.ca()>p):!v.B()&&(1736!=u||l.R()>p))&&(v.Oc(r),v.A(l),s.A(e),e.W(p,p),e.isIntersecting(l)&&1736==u?s=i.V(s,v,h,null):s.add(v,!1)),f.move(n,0),r.shift(-n,0);return s},s.av=function(i,s,n,h){for(var r=n+h,e=0;e<s;e++){var o=i[e].x;n<=o&&o<r||!(o<n||o>r||o==r)||(o+=Math.ceil((n-o)/h)*h,o=t.O.Rk(o,n,r),i[e].x=o)}},s.Fn=function(i,n,h,r,e,o){if(!n.Wc())throw t.i.fa("fold_into_360_degree_range");if(i.B())return i;if(2==n.Sb()){h=n.pv();var a=n.ov()-h}else{var u=n.bf();a=360*u,h-=180*u}return s.Hp(i,h,a,n,r,e,!0,o)},s.qF=function(t,i,n,h){if(2==n.Sb())h=n.pv(),n=n.ov()-h;else{var r=n.bf();n=360*r,h-=180*r}s.av(t,i,h,n)},s.lj=function(i,s){var n=s.Oe();if(33==i.getType()){var h=i.ih();return n.G<=h&&h<=n.H?i:i.Ia()}h=new t.l,i.A(h);var r=new t.l;return r.K(n),r.v=h.v,r.C=h.C,r.W(.01*r.ca(),0),n=t.ta.uy(s,h),r.contains(h)?i:t.ri.clip(i,r,n,0,null)},s.ir=function(t,i,s){return t>i.C&&t-i.C<s?i.C:t<i.v&&i.v-t<s?i.v:t},s.FX=function(t,i,n,h){h.x=s.ir(t.x,i,n),h.y=t.y},s.EX=function(t,i,n,h){for(var r=0;r<i;r++)t[r].y<n.G||t[r].y>n.H?t[r].Rc():t[r].x=s.ir(t[r].x,n,h)},s.Jt=function(i,n,h,r){if(!i.B()){var e=i.getType();if(!r||1736!=e)if(t.aa.xj(e)){r=i.ub(0),e=0;for(var o=i.I();e<o;e++){var a=r.read(2*e),u=s.ir(a,n,h);u!=a&&r.write(2*e,u)}i.Pc(1993)}else if(197==e)r=new t.l,i.A(r),r.v=s.ir(r.v,n,h),r.C=s.ir(r.C,n,h),i.Xo(r);else{if(33!=e)throw t.i.fa("internal error");i.cC(s.ir(i.Lg(),n,h))}}},s.uS=function(i,n,h,r){var e=new t.gd,o=e.Ib(i);return i=t.ta.Hu(n,i),s.ks(e,o,n,i,h,!0,r),e.Ne(o)},s.ks=function(i,h,r,e,o,a,u){if(!r.Wc())throw t.i.N("invalid call");var f=r.Oe(),c=r.sc(),l=c.eh().getDatum().getSpheroid();c=c.Hd().ai;var p=l.getFlattening();l=l.getAxis(),p*=2-p;var v=new t.Nc;f.cn(v);var y=null,d=[[0,0],[0,0]];if(2==r.Sb()?(y=r.eh(),a?(d[0][0]=s.Zm(u,v),d[0][1]=f.Jp(),t.ej.projToGeog(y,1,d),f=d[0][0]*c):(d[0][0]=f.gk(),d[0][1]=u,t.ej.projToGeog(y,1,d),f=d[0][1]*c)):f=u*c,!a&&0!=f&&o!=n.GreatElliptic)throw t.i.fa("invalid argument");var b=new t.ga,g=[0],w=new t.h,x=new t.h,m=new t.h,j=[null,null],M=new t.h,k=new t.h,z=new t.h,A=new t.h;for(h=i.Ob(h);-1!=h;h=i.Rb(h)){var N=i.Xa(h);i.D(N,M);for(var I=!1,T=N=i.U(N);-1!=T;T=i.U(T)){if(T==N){if(I)break;I=!0}if(i.D(T,k),a&&(e<u-M.x&&k.x-u>e||e<u-k.x&&M.x-u>e)||!a&&(0!=u||e<-M.y&&k.y>e||e<-k.y&&M.y>e))do{if(!(Math.abs(M.x-k.x)>=.5*v.R())){if(2==r.Sb()?(d[0][0]=s.Zm(M.x,v),d[0][1]=M.y,d[1][0]=s.Zm(k.x,v),d[1][1]=k.y,t.ej.projToGeogCenter(y,2,d,0),z.x=d[0][0]*c,z.y=d[0][1]*c,A.y=d[1][1]*c):(z.x=M.x*c,z.y=M.y*c,A.y=k.y*c),A.x=2*(k.x-M.x)*Math.PI/v.R()+z.x,a){if(x.x=f,x.y=s.Nz(l,p,z,A,f,o),isNaN(x.y))break;j[0]=x;var P=1}else if(o==n.GreatElliptic){var C=[0,0];if(0==(P=t.Ox.Oz(p,z,A,f,C)))break;x.x=C[0],x.y=f,j[0]=x,2==P&&(m.x=C[1],m.y=f,j[1]=m)}else{if(x.x=s.Lz(l,p,z,A,o),isNaN(x.x))break;x.y=0,j[0]=x,P=1}var B=-1;for(C=0;C<P;C++){t.kb.wd(l,p,z.x,z.y,A.x,A.y,b,null,null,o);var D=b.u;t.kb.wd(l,p,z.x,z.y,j[C].x,j[C].y,b,null,null,o);var q=b.u;if(2==r.Sb()?(d[0][0]=j[C].x/c,d[0][1]=j[C].y/c,t.ej.geogToProj(y,1,d),a?(w.y=d[0][1],w.x=u):(w.x=s.os(d[0][0],M.x,k.x,v),w.y=u)):a?(w.x=u,w.y=j[C].y/c):(w.x=s.os(j[C].x/c,M.x,k.x,v),w.y=u),g[0]=0<D?t.O.Rk(q/D,0,1):.5,0==g[0]||1==g[0])break;B>g[0]||(B=i.Ma(T),i.Ul(B,g,1),i.Cb(i.U(B),w.x,w.y),B=g[0])}}}while(0);M.L(k)}}},s.Zm=function(t,i){var s=i.va-i.oa;return i.It(t-Math.floor((t-i.oa)/s)*s)},s.os=function(i,s,n,h){var r=new t.Nc;for(r.K(s,n),n=h.R(),i=Math.floor((i-s)/n)*n+i,r=r.sf();Math.abs(i-r)>Math.abs(i+n-r);)i+=n;return i},s.Sn=function(i,s,n){return i=t.qr.Cp(i),s=t.qr.mx(i,t.qr.Cp(s)),0==(n=t.qr.mx(i,t.qr.Cp(n)))||0<s&&0<n&&n<=s||0>s&&0>n&&n>=s},s.Nz=function(i,h,r,e,o,a){if(a==n.GreatElliptic)return t.Ox.SS(h,r,e,o);if(Math.abs(r.x-e.x)>=Math.PI||!s.Sn(r.x,e.x,o))return NaN;if(r.x>e.x)var u=e;else u=r,r=e;e=new t.ga;var f=new t.ga,c=new t.ga;t.kb.wd(i,h,u.x,u.y,r.x,r.y,f,e,null,a);var l=f.u,p=0,v=1,y=new t.h;for(y.L(u);l*(v-p)>1e-12*i;){var d=.5*(p+v);if(t.kb.oj(i,h,u.x,u.y,l*d,e.u,f,c,a),y.x=f.u,y.y=c.u,y.x==o)break;if(s.Sn(u.x,y.x,o))v=d;else{if(!s.Sn(r.x,y.x,o))return NaN;p=d}}return y.y},s.Lz=function(i,s,h,r,e){if(e==n.GreatElliptic)return i=[0,0],t.Ox.Oz(s,h,r,0,i),i[0];if(h.y>r.y)var o=r;else o=h,h=r;if((r=new t.Nc).K(o.y,h.y),!r.contains(0)||Math.abs(o.x-h.x)>=Math.PI)return NaN;if(o.x==h.x)return o.x;var a=new t.ga,u=new t.ga,f=new t.ga;t.kb.wd(i,s,o.x,o.y,h.x,h.y,u,a,null,e);var c=u.u,l=0,p=1,v=new t.h;for(v.L(o);c*(p-l)>1e-12*i;){var y=.5*(l+p);if(t.kb.oj(i,s,o.x,o.y,c*y,a.u,u,f,e),v.x=u.u,v.y=f.u,r.K(o.y,v.y),0==v.y)break;if(r.contains(0))p=y;else{if(r.K(h.y,v.y),!r.contains(0))return NaN;l=y}}return v.x},s.WI=function(i,s,n,h){if(!i.ef.Wc())return!1;var r=new t.de(s.description);if(r.Fd(s,0,-1),h=t.Hx.local().V(r,i,h),r=s.I(),n.Oa(),r!=h.I())return!1;var e=new t.l;s.A(e);var o=new t.l;if(h.A(o),e=e.R(),o=o.R(),0!=e&&0!=o){if(o/=e,i=i.Yf.gh().R()/i.ef.gh().R(),1e-10<Math.abs(o/i-1))return!1}else if(0!=e||0!=o)return!1;for(n.add(s,!1),s=new t.h,i=0;i<r;i++)h.D(i,s),n.Cb(i,s);return!0},s.qN=function(t,i){return(t%=360*i)>=180*i&&(t-=360*i),t},s.UI=function(n,h,r,e){if(r==i.Clip){var o=h.ml();197==o.getType()?(r=new t.l,o.A(r),o=t.ta.uy(h,r),n=t.ri.clip(n,r,o,5e4*h.pm(),e)):t.dj.local().V(1,o,n,h,e)||(n=t.Xj.local().V(n,o,h,e))==o&&(n=t.Vk.jg(n))}else h.Wc()&&(e=new t.l,n.xc(e),h.Oe().contains(e)||(s.Jt(n,h.Oe(),h.Xd(0),!0),r==i.PannableFold&&(n=s.lj(n,h)),n=s.Fn(n,h,0,!0,1e5*h.pm(),null)));return n},s.XD=function(i,s,n){var h=s.Wr();if(null==h)return i;var r=(s=s.sc()).Oe().R(),e=new t.l;i.xc(e);var o=new t.Nc;e.cn(o),e=h.Ga(),h=null;for(var a=new t.Dd;e.$a();)for(;e.Ha();){var u=e.ha(),f=u.Tg(0,0),c=new t.Nc;for(c.K(f.oa,f.va),f=0;c.va>o.oa;)c.move(-r),--f;for(;c.oa<=o.va;){if(c.isIntersecting(o)){null==h&&(h=new t.Ta);var l=t.yb.cP(u.ac(),u.wc());0!=f&&(a.gg(f*r,0),l.Oc(a)),h.oc(l,!0)}c.move(r),++f}}return null!=h?(s=t.ta.gO(s,h),s=t.ta.Er(s),t.$t.lP(i,h,s,n)):i},s.eO=function(t,i,n,h,r){return t>=n&&i<=h?0:s.tE(.5*(i+t),n,h,r)},s.tE=function(i,s,n,h){return t.lc.round((.5*(n+s)-i)/h)*h},s.VQ=function(i,n,h,r,e,o,a,u){var f=s.dv(r,e),c=f.R(),l=c/360,p=s.pE*l,v=i.ub(0),y=n.Wc(),d=y?c/n.Oe().R():0;n=i.Ia();for(var b=0,g=h.da();b<g;++b){var w=y,x=new t.Ta(h.description);x.addPath(h,b,!0);var m=h.dc(b);0!=a&&(m=s.PD(m,x,f.H-u,f.H,a))&&(w=!1);var j=-1;m=x.I();var M=!1;w&&(j=i.Ba(b),M=i.dc(b));var k=x.ub(0),z=0,A=k.read(0),N=0,I=3*r.Xd(0),T=!1,P=new t.h;P.Rc();var C=new t.h;C.Rc();for(var B=!1,D=1;D<m;++D){var q=t.h.construct(k.eg(2*D),k.eg(2*D+1)),G=q.x,F=G+z,E=F-A;if(q.x=F,Math.abs(E)>p){if(w){var S=j+D-1,O=j;(!M||D+1<m)&&(O+=D),S=v.read(2*S),O=(v.read(2*O)-S)*d,Math.abs(E-O)>1*l&&(y=!1)}w||(F=G+(z-=t.lc.Cn(c,F-A)),++N,B=0!=z,q.x=F)}else T||t.ta.AG(P,C,q,I)&&(T=!0);B&&k.write(2*D,F),A=F,P.L(C),C.L(q)}0!=N&&x.Pc(1993),w=x.Na(0),m=x.Na(m-1),t.h.tb(w,m),x=s.wQ(x,r,isNaN(e)?0:e,o),n.add(x,!1)}return i=r.Xd(0),h=f.R()/180,s.Jt(n,f,.1*i,!1),t.ri.clip(n,f,i,h,o)},s.wQ=function(t,i,n,h){return s.Fn(t,i,n,!0,0,h)},s.OS=function(i,s,n,h){var r=i.getType();if(1736==r)for(s=null!=s?s.Xd(0):0,r=0;r<h;r++)1!=t.hd.Yd(i,n[r],s)&&n[r].Rc();else{if(197!=r)throw t.i.N();for(r=0;r<h;r++)i.dP(n[r])||n[r].Rc()}},s.$k=function(i,s,n,h){if(32>n)for(var r=new t.Sa,e=0;e<n;e++)r.Cb(s[e]),i.$k(r,h).D(s[e]);else{var o=new t.de;for(o.re(3),o.HD(s,n),r=o.ub(3),e=0;e<n;e++)r.write(e,e);for(e=i.$k(o,h),i=e.ub(0),r=e.ub(3),h=t.h.construct(NaN,NaN),o=0;o<n;o++)s[o]=h;for(n=e.I(),e=0;e<n;e++)h=r.read(e),i.tc(2*e,s[h])}},s.Zk=function(i,s,n,h){if(32>n)for(var r=new t.Sa,e=0;e<n;e++)r.Cb(s[e]),i.Zk(r,h).D(s[e]);else{var o=new t.de;for(o.re(3),o.HD(s,n),r=o.ub(3),e=0;e<n;e++)r.write(e,e);for(e=i.Zk(o,h),i=e.ub(0),r=e.ub(3),h=t.h.construct(NaN,NaN),o=0;o<n;o++)s[o]=h;for(n=e.I(),e=0;e<n;e++)h=r.read(e),i.tc(2*e,s[h])}},s.pE=210,s}()}(Q||(Q={})),function(t){var i;(i=t.UL||(t.UL={}))[i.rightSide=1]="rightSide";var s=function(){function i(i,s,n){this.Bs=new t.h,void 0===i?this.Io=-1:(this.Bs.L(i),this.Io=s,this.Ka=n,this.nw=0)}return i.prototype.WJ=function(t){this.nw=t?1|this.nw:-2&this.nw},i.prototype.B=function(){return 0>this.Io},i.prototype.fz=function(){if(this.B())throw t.i.fa("invalid call");return new t.Sa(this.Bs.x,this.Bs.y)},i.prototype.Ua=function(){if(this.B())throw t.i.fa("invalid call");return this.Io},i.prototype.hz=function(){if(this.B())throw t.i.fa("invalid call");return this.Ka},i.prototype.Sz=function(){return 0!=(1&this.nw)},i.prototype.ey=function(t,i,s,n){this.Bs.x=t,this.Bs.y=i,this.Io=s,this.Ka=n},i}();t.$l=s}(Q||(Q={})),function(t){var i=function(){function i(){}return i.prototype.Uo=function(i,s){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,i.xc(this.Ek),this.Ek.W(s,s),this.Ek.isIntersecting(this.Fb.Ca)){var n=i.getType();(this.vs=t.aa.yd(n))?(this.TH=i.ac(),this.SH=i.wc(),this.qa=s):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},i.prototype.Xi=function(t,i){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(t),this.Ek.W(i,i),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},i.prototype.next=function(){if(0==this.th.size)return-1;this.tk=this.Qs;var i=null,n=null,h=null,r=null;this.vs&&(i=new t.h,n=new t.h,h=new t.l);for(var e=!1;!e;){for(;-1!=this.tk;){var o=this.Fb.bz(this.Fb.fv(this.tk));if(o.isIntersecting(this.Ek)){if(!this.vs){e=!0;break}if(i.L(this.TH),n.L(this.SH),h.K(o),h.W(this.qa,this.qa),0<h.zy(i,n)){e=!0;break}}this.tk=this.Fb.nv(this.tk)}if(-1==this.tk){o=this.th.Fc();var a=this.Ii[this.Ii.length-1];for(null==r&&((r=[])[0]=new t.l,r[1]=new t.l,r[2]=new t.l,r[3]=new t.l),s.EJ(a,r),this.th.If(),--this.Ii.length,a=0;4>a;a++){var u=this.Fb.Lp(o,a);if(-1!=u&&0<this.Fb.WR(u)&&r[a].isIntersecting(this.Ek))if(this.vs){if(i.L(this.TH),n.L(this.SH),h.K(r[a]),h.W(this.qa,this.qa),0<h.zy(i,n)){var f=new t.l;f.K(r[a]),this.th.add(u),this.Ii.push(f)}}else(f=new t.l).K(r[a]),this.th.add(u),this.Ii.push(f)}if(0==this.th.size)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},i.bP=function(s,n,h){var r=new i;return r.Fb=s,r.Ek=new t.l,r.th=new t.ia(0),r.Ii=[],r.Uo(n,h),r},i.aP=function(s,n,h){var r=new i;return r.Fb=s,r.Ek=new t.l,r.th=new t.ia(0),r.Ii=[],r.Xi(n,h),r},i.$O=function(s){var n=new i;return n.Fb=s,n.Ek=new t.l,n.th=new t.ia(0),n.Ii=[],n},i}();t.GY=i;var s=function(){function s(i,s){this.jf=new t.$c(11),this.Zh=new t.$c(5),this.ws=[],this.gw=new t.ia(0),this.Ca=new t.l,this.Nk(i,s)}return s.prototype.reset=function(t,i){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(t,i)},s.prototype.vj=function(t,i){return this.zv(t,i,0,this.Ca,this.kf,!1,-1)},s.prototype.Jz=function(t,i,s){s=-1==s?this.kf:this.WF(s);var n=this.ca(s),h=this.oR(s);return this.zv(t,i,n,h,s,!1,-1)},s.prototype.ja=function(t){return this.jR(t)},s.prototype.GF=function(t){return this.bz(this.fv(t))},s.prototype.ca=function(t){return this.jv(t)},s.prototype.oR=function(i){var s=new t.l;s.K(this.Ca);var n=this.jv(i);i=this.QF(i);for(var h=0;h<2*n;h+=2){var r=t.O.truncate(3&i>>h);0==r?(s.v=.5*(s.v+s.C),s.G=.5*(s.G+s.H)):1==r?(s.C=.5*(s.v+s.C),s.G=.5*(s.G+s.H)):(2==r?s.C=.5*(s.v+s.C):s.v=.5*(s.v+s.C),s.H=.5*(s.G+s.H))}return s},s.prototype.WR=function(t){return this.Az(t)},s.prototype.vR=function(t,s){return i.bP(this,t,s)},s.prototype.MF=function(t,s){return i.aP(this,t,s)},s.prototype.getIterator=function(){return i.$O(this)},s.prototype.Nk=function(i,s){if(0>s||32<2*s)throw t.i.N("invalid height");this.BT=s,this.Ca.K(i),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},s.prototype.zv=function(i,n,h,r,e,o,a){if(!r.contains(n))return 0==h?-1:this.zv(i,n,0,this.Ca,this.kf,o,a);if(!o)for(var u=e;-1!=u;u=this.IR(u))this.jx(u,this.Az(u)+1);(u=new t.l).K(r),r=e;var f=[];for(f[0]=new t.l,f[1]=new t.l,f[2]=new t.l,f[3]=new t.l;h<this.BT&&this.iO(r);h++){s.EJ(u,f);for(var c=!1,l=0;4>l;l++)if(f[l].contains(n)){c=!0;var p=this.Lp(r,l);-1==p&&(p=this.rP(r,l)),this.jx(p,this.Az(p)+1),r=p,u.K(f[l]);break}if(!c)break}return this.sS(i,n,h,u,r,o,e,a)},s.prototype.sS=function(t,i,s,n,h,r,e,o){var a=this.NF(h);if(r){if(h==e)return o;this.SP(o),r=o}else r=this.tP(),this.NB(r,t),this.KW(this.fv(r),i);return this.mX(r,h),-1!=a?(this.hx(r,a),this.bx(a,r)):this.GJ(h,r),this.SB(h,r),this.ax(h,this.lv(h)+1),this.hO(h)&&this.MQ(s,n,h),r},s.prototype.SP=function(t){var i=this.WF(t),s=this.NF(i),n=this.OR(t),h=this.nv(t);this.Ur(i)==t?(-1!=h?this.hx(h,-1):this.SB(i,-1),this.GJ(i,h)):s==t?(this.bx(n,-1),this.SB(i,n)):(this.hx(h,n),this.bx(n,h)),this.hx(t,-1),this.bx(t,-1),this.ax(i,this.lv(i)-1)},s.EJ=function(t,i){var s=.5*(t.v+t.C),n=.5*(t.G+t.H);i[0].K(s,n,t.C,t.H),i[1].K(t.v,n,s,t.H),i[2].K(t.v,t.G,s,n),i[3].K(s,t.G,t.C,n)},s.prototype.hO=function(t){return 8==this.lv(t)&&!this.gG(t)},s.prototype.MQ=function(t,i,s){var n=this.Ur(s);do{var h=this.fv(n),r=this.Zh.T(n,0);h=this.bz(h),this.zv(r,h,t,i,s,!0,n),n=r=this.nv(n)}while(-1!=n)},s.prototype.iO=function(t){return 8<=this.lv(t)||this.gG(t)},s.prototype.gG=function(t){return-1!=this.Lp(t,0)||-1!=this.Lp(t,1)||-1!=this.Lp(t,2)||-1!=this.Lp(t,3)},s.prototype.rP=function(t,i){var s=this.jf.Ce();return this.OW(t,i,s),this.jx(s,0),this.ax(s,0),this.Pk(s,t),this.KJ(s,this.jv(t)+1),this.NJ(s,i<<2*this.jv(t)|this.QF(t)),s},s.prototype.tP=function(){var i=this.Zh.Ce();if(0<this.gw.size){var s=this.gw.Fc();this.gw.If()}else s=this.ws.length,this.ws.push(new t.l);return this.LW(i,s),i},s.prototype.Lp=function(t,i){return this.jf.T(t,i)},s.prototype.OW=function(t,i,s){this.jf.S(t,i,s)},s.prototype.Ur=function(t){return this.jf.T(t,4)},s.prototype.GJ=function(t,i){this.jf.S(t,4,i)},s.prototype.NF=function(t){return this.jf.T(t,5)},s.prototype.SB=function(t,i){this.jf.S(t,5,i)},s.prototype.QF=function(t){return this.jf.T(t,6)},s.prototype.NJ=function(t,i){this.jf.S(t,6,i)},s.prototype.lv=function(t){return this.jf.T(t,7)},s.prototype.Az=function(t){return this.jf.T(t,8)},s.prototype.ax=function(t,i){this.jf.S(t,7,i)},s.prototype.jx=function(t,i){this.jf.S(t,8,i)},s.prototype.IR=function(t){return this.jf.T(t,9)},s.prototype.Pk=function(t,i){this.jf.S(t,9,i)},s.prototype.jv=function(t){return this.jf.T(t,10)},s.prototype.KJ=function(t,i){this.jf.S(t,10,i)},s.prototype.jR=function(t){return this.Zh.T(t,0)},s.prototype.NB=function(t,i){this.Zh.S(t,0,i)},s.prototype.OR=function(t){return this.Zh.T(t,1)},s.prototype.nv=function(t){return this.Zh.T(t,2)},s.prototype.hx=function(t,i){this.Zh.S(t,1,i)},s.prototype.bx=function(t,i){this.Zh.S(t,2,i)},s.prototype.WF=function(t){return this.Zh.T(t,3)},s.prototype.mX=function(t,i){this.Zh.S(t,3,i)},s.prototype.fv=function(t){return this.Zh.T(t,4)},s.prototype.LW=function(t,i){this.Zh.S(t,4,i)},s.prototype.bz=function(t){return this.ws[t]},s.prototype.KW=function(t,i){this.ws[t].K(i)},s}();t.du=s}(Q||(Q={})),function(t){var i;(i=t.aL||(t.aL={}))[i.Outside=0]="Outside",i[i.Inside=1]="Inside",i[i.Border=2]="Border";var s=function(){function t(t,i){this.PT=i,this.Vh=t}return t.prototype.setColor=function(t,i){this.iH!=i&&t.flush(),this.iH=i},t.prototype.gF=function(t,i){for(var s=0;s<i;)for(var n=t[s++],h=t[s++],r=t[s++]*this.PT;n<h;n++)this.Vh[r+(n>>4)]|=this.iH<<2*(15&n)},t}();t.HY=s;var n=function(){function i(t,i,s){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(t,i,s)}return i.create=function(s,n,h){if(!i.zE(s))throw t.i.N();return i.wP(s,n,h)},i.pW=function(i){switch(i){case 0:i=1024;break;case 1:i=16384;break;case 2:i=262144;break;default:throw t.i.fa("Internal Error")}return i},i.zE=function(t){return!(t.B()||1607!=t.getType()&&1736!=t.getType())},i.prototype.rQ=function(i,s){s=s.Ga();for(var n=new t.h,h=new t.h;s.$a();)for(;s.Ha();){var r=s.ha();if(322!=r.getType())throw t.i.fa("Internal Error");i.Eh(r.ac(),n),i.Eh(r.wc(),h),this.Ri.jy(n.x,n.y,h.x,h.y)}this.Ri.iJ(t.Px.Cx)},i.prototype.sQ=function(){throw t.i.fa("Internal Error")},i.prototype.Ry=function(i,s){for(var n=1;4>n;n++)i.jy(s[n-1].x,s[n-1].y,s[n].x,s[n].y);i.jy(s[3].x,s[3].y,s[0].x,s[0].y),this.Ri.iJ(t.Px.Cx)},i.prototype.rK=function(i,s,n){for(var h=[null,null,null,null],r=0;r<h.length;r++)h[r]=new t.h;s=s.Ga(),n=this.Jk.dY(n)+1.5,r=new t.h;for(var e=new t.h,o=new t.h,a=new t.h,u=new t.h,f=new t.l,c=new t.h;s.$a();){var l=!1,p=!0;for(c.ma(0,0);s.Ha();){var v=s.ha();if(a.x=v.sa,a.y=v.na,u.x=v.pa,u.y=v.la,f.Oa(),f.Zb(a.x,a.y),f.Lk(u.x,u.y),this.vl.HG(f)){this.Jk.Eh(u,u),p?(this.Jk.Eh(a,a),c.L(a),p=!1):a.L(c),r.uc(u,a);var y=.5>(v=r.length());0==v?r.ma(1,0):(y||c.L(u),r.scale(n/v),e.ma(-r.y,r.x),o.ma(r.y,-r.x),a.sub(r),u.add(r),h[0].add(a,e),h[1].add(a,o),h[2].add(u,o),h[3].add(u,e),y?l=!0:this.Ry(i,h))}else l&&(this.Ry(i,h),l=!1),p=!0}l&&this.Ry(i,h)}},i.prototype.sC=function(i){return t.O.truncate(i*this.qH+this.aI)},i.prototype.tC=function(i){return t.O.truncate(i*this.Es+this.cI)},i.wP=function(t,s,n){return new i(t,s,n)},i.prototype.Fz=function(i,n,h){this.Gf=Math.max(t.O.truncate(2*Math.sqrt(h)+.5),64),this.Um=t.O.truncate((2*this.Gf+31)/32),this.vl=new t.l,this.Ik=n,h=0;for(var r=this.Gf,e=this.Um;8<=r;)h+=r*e,r=t.O.truncate(r/2),e=t.O.truncate((2*r+31)/32);this.Vh=t.O.lg(h,0),this.Ri=new t.Px,h=new s(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,h),i.A(this.vl),this.vl.W(n,n),r=new t.l;var o=n*(e=t.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(n*=e.ca(),r.K(this.vl.sf(),Math.max(o,this.vl.R()),Math.max(n,this.vl.ca())),this.SA=this.Ik,this.Jk=new t.Dd,this.Jk.pS(r,e),new t.Dd,i.getType()){case 550:h.setColor(this.Ri,2),this.sQ();break;case 1607:h.setColor(this.Ri,2),this.rK(this.Ri,i,this.SA);break;case 1736:h.setColor(this.Ri,1),this.rQ(this.Jk,i),h.setColor(this.Ri,2),this.rK(this.Ri,i,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},i.prototype.XN=function(){this.Ri.flush();for(var i=0,s=this.Gf*this.Um,n=this.Gf,h=t.O.truncate(this.Gf/2),r=this.Um,e=t.O.truncate((2*h+31)/32);8<n;){for(n=0;n<h;n++)for(var o=2*n,a=2*n+1,u=0;u<h;u++){var f=2*u,c=2*u+1,l=f>>4;f=2*(15&f);var p=c>>4;c=2*(15&c);var v=this.Vh[i+r*o+l]>>f&3;v|=this.Vh[i+r*o+p]>>c&3,v|=this.Vh[i+r*a+l]>>f&3,v|=this.Vh[i+r*a+p]>>c&3,this.Vh[s+e*n+(u>>4)]|=v<<2*(15&u)}n=h,r=e,i=s,h=t.O.truncate(n/2),e=t.O.truncate((2*h+31)/32),s=i+r*n}},i.prototype.So=function(t,i){return this.vl.contains(t,i)?(t=this.sC(t),i=this.tC(i),0>t||t>=this.Gf||0>i||i>=this.Gf||0==(i=this.Vh[this.Um*i+(t>>4)]>>2*(15&t)&3)?0:1==i?1:2):0},i.prototype.Ro=function(i){if(!i.Ea(this.vl))return 0;var s=this.sC(i.v),n=this.sC(i.C),h=this.tC(i.G);if(i=this.tC(i.H),0>s&&(s=0),0>h&&(h=0),n>=this.Gf&&(n=this.Gf-1),i>=this.Gf&&(i=this.Gf-1),s>n||h>i)return 0;for(var r=Math.max(n-s,1)*Math.max(i-h,1),e=0,o=this.Um,a=this.Gf,u=0;;){if(32>r||16>a){for(r=h;r<=i;r++)for(var f=s;f<=n;f++)if(1<(u=this.Vh[e+o*r+(f>>4)]>>2*(15&f)&3))return 2;if(0==u)return 0;if(1==u)return 1}e+=o*a,a=t.O.truncate(a/2),o=t.O.truncate((2*a+31)/32),s=t.O.truncate(s/2),h=t.O.truncate(h/2),n=t.O.truncate(n/2),i=t.O.truncate(i/2),r=Math.max(n-s,1)*Math.max(i-h,1)}},i.prototype.RR=function(){return this.Gf*this.Um},i}();t.Nx=n}(Q||(Q={})),function(t){var i;(i=t.VL||(t.VL={}))[i.contains=1]="contains",i[i.within=2]="within",i[i.equals=3]="equals",i[i.disjoint=4]="disjoint",i[i.touches=8]="touches",i[i.crosses=16]="crosses",i[i.overlaps=32]="overlaps",i[i.unknown=0]="unknown",i[i.intersects=1073741824]="intersects";var s=function(){function t(){}return t.construct=function(i,s,n,h,r,e,o,a){var u=new t;return u.pw=i,u.Mm=s,u.Kj=n,u.Si=h,u.BH=r,u.SY=e,u.TY=o,u.UY=a,u},t}();t.Vt=function(){function i(){}return i.CD=function(s,n,h){if(i.wy(s)){var r=t.ta.kj(n,s,!1);n=!1,t.Uk.CE(s)&&(n=n||s.lu(r,h)),1736!=(r=s.getType())&&1607!=r||!t.Uk.AE(s)||0==h||(n=n||s.fj(h)),1736!=r&&1607!=r||!t.Uk.BE(s)||0==h||n||s.hM()}},i.wy=function(i){return t.Uk.CE(i)||t.Uk.AE(i)||t.Uk.BE(i)},i}();var n=function(){function i(){this.rh=[]}return i.zB=function(s,n,h,r,e){var o=s.getType(),a=n.getType();if(197==o){if(197==a)return i.tW(s,n,h,r);if(33==a)return 2==r?r=1:1==r&&(r=2),i.hJ(n,s,h,r)}else if(33==o){if(197==a)return i.hJ(s,n,h,r);if(33==a)return i.vW(s,n,h,r)}if(s.B()||n.B())return 4==r;var u=new t.l;s.A(u);var f=new t.l;n.A(f);var c=new t.l;if(c.K(u),c.Zb(f),h=t.ta.Wd(h,c,!1),i.dk(u,f,h))return 4==r;switch(u=!1,t.Vk.yd(o)&&((o=new t.Ta(s.description)).oc(s,!0),s=o,o=1607),t.Vk.yd(a)&&((a=new t.Ta(n.description)).oc(n,!0),n=a,a=1607),197!=o&&197!=a?(s.Db()<n.Db()||33==o&&550==a)&&(2==r?r=1:1==r&&(r=2)):1736!=o&&197!=a&&(2==r?r=1:1==r&&(r=2)),o){case 1736:switch(a){case 1736:u=i.rt(s,n,h,r,e);break;case 1607:u=i.$m(s,n,h,r,e);break;case 33:u=i.qt(s,n,h,r);break;case 550:u=i.pt(s,n,h,r,e);break;case 197:u=i.GI(s,n,h,r,e)}break;case 1607:switch(a){case 1736:u=i.$m(n,s,h,r,e);break;case 1607:u=i.gB(s,n,h,r,e);break;case 33:u=i.tt(s,n,h,r,e);break;case 550:u=i.st(s,n,h,r,e);break;case 197:u=i.MI(s,n,h,r)}break;case 33:switch(a){case 1736:u=i.qt(n,s,h,r);break;case 1607:u=i.tt(n,s,h,r,e);break;case 550:u=i.lt(n,s,h,r)}break;case 550:switch(a){case 1736:u=i.pt(n,s,h,r,e);break;case 1607:u=i.st(n,s,h,r,e);break;case 550:u=i.ZA(s,n,h,r,e);break;case 33:u=i.lt(s,n,h,r);break;case 197:u=i.hI(s,n,h,r)}break;case 197:switch(a){case 1736:u=i.GI(n,s,h,r,e);break;case 1607:u=i.MI(n,s,h,r);break;case 550:u=i.hI(n,s,h,r)}}return u},i.tW=function(s,n,h,r){if(s.B()||n.B())return 4==r;var e=new t.l,o=new t.l,a=new t.l;switch(s.A(e),n.A(o),a.K(e),a.Zb(o),s=t.ta.Wd(h,a,!1),r){case 4:return i.dk(e,o,s);case 2:return i.jF(o,e,s);case 1:return i.jF(e,o,s);case 3:return i.ek(e,o,s);case 8:return i.cQ(e,o,s);case 32:return i.bQ(e,o,s);case 16:return i.aQ(e,o,s)}return!1},i.hJ=function(s,n,h,r){if(s.B()||n.B())return 4==r;s=s.D();var e=new t.l,o=new t.l;switch(n.A(e),o.K(s),o.Zb(e),n=t.ta.Wd(h,o,!1),r){case 4:return i.Rw(s,e,n);case 2:return i.eB(s,e,n);case 1:return i.RU(s,e,n);case 3:return i.vI(s,e,n);case 8:return i.dB(s,e,n)}return!1},i.vW=function(s,n,h,r){if(s.B()||n.B())return 4==r;s=s.D(),n=n.D();var e=new t.l;switch(e.K(s),e.Zb(n),h=t.ta.Wd(h,e,!1),r){case 4:return i.SU(s,n,h);case 2:return i.uI(n,s,h);case 1:return i.uI(s,n,h);case 3:return i.wI(s,n,h)}return!1},i.rt=function(t,s,n,h,r){switch(h){case 4:return i.kV(t,s,n);case 2:return i.Sw(s,t,n,r);case 1:return i.Sw(t,s,n,r);case 3:return i.nV(t,s,n);case 8:return i.vV(t,s,n);case 32:return i.qV(t,s,n,r)}return!1},i.$m=function(t,s,n,h,r){switch(h){case 4:return i.lV(t,s,n);case 1:return i.fB(t,s,n,r);case 8:return i.wV(t,s,n,r);case 16:return i.gV(t,s,n)}return!1},i.qt=function(t,s,n,h){switch(h){case 4:return i.jV(t,s,n);case 1:return i.dV(t,s,n);case 8:return i.uV(t,s,n)}return!1},i.pt=function(t,s,n,h){switch(h){case 4:return i.iV(t,s,n);case 1:return i.cV(t,s,n);case 8:return i.tV(t,s,n);case 16:return i.fV(t,s,n)}return!1},i.GI=function(t,s,n,h,r){if(i.hV(t,s,n))return 4==h;if(4==h)return!1;switch(h){case 2:return i.xV(t,s,n);case 1:return i.bV(t,s,n);case 3:return i.mV(t,s,n);case 8:return i.sV(t,s,n,r);case 32:return i.pV(t,s,n,r);case 16:return i.eV(t,s,n,r)}return!1},i.gB=function(t,s,n,h){switch(h){case 4:return i.GV(t,s,n);case 2:return i.KI(s,t,n);case 1:return i.KI(t,s,n);case 3:return i.IV(t,s,n);case 8:return i.NI(t,s,n);case 32:return i.MV(t,s,n);case 16:return i.LI(t,s,n)}return!1},i.tt=function(t,s,n,h){switch(h){case 4:return i.FV(t,s,n);case 1:return i.AV(t,s,n);case 8:return i.QV(t,s,n)}return!1},i.st=function(t,s,n,h){switch(h){case 4:return i.EV(t,s,n);case 1:return i.zV(t,s,n);case 8:return i.PV(t,s,n);case 16:return i.CV(t,s,n)}return!1},i.MI=function(t,s,n,h){if(i.DV(t,s,n))return 4==h;if(4==h)return!1;switch(h){case 2:return i.RV(t,s,n);case 1:return i.yV(t,s,n);case 3:return i.HV(t,s,n);case 8:return i.OV(t,s,n);case 32:return i.LV(t,s,n);case 16:return i.BV(t,s,n)}return!1},i.ZA=function(t,s,n,h){switch(h){case 4:return i.gU(t,s,n);case 2:return i.eI(s,t,n);case 1:return i.eI(t,s,n);case 3:return i.iU(t,s,n);case 32:return i.oU(t,s,n)}return!1},i.lt=function(t,s,n,h){switch(h){case 4:return i.fI(t,s,n);case 2:return i.sU(t,s,n);case 1:return i.dU(t,s,n);case 3:return i.Nw(t,s,n)}return!1},i.hI=function(t,s,n,h){switch(h){case 4:return i.fU(t,s,n);case 2:return i.rU(t,s,n);case 1:return i.cU(t,s,n);case 3:return i.hU(t,s,n);case 8:return i.qU(t,s,n);case 16:return i.eU(t,s,n)}return!1},i.nV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!!i.ek(r,e,h)&&(4!=(r=i.qc(s,n,!1))&&1!=r&&2!=r&&(!!i.dI(s,n,h)||(r=s.Qb(),e=n.Qb(),!(Math.abs(r-e)>4*Math.max(s.I(),n.I())*h)&&i.Wz(s,n,h,!0))))},i.kV=function(t,s,n){var h=i.qc(t,s,!0);return 4==h||1!=h&&2!=h&&1073741824!=h&&i.EI(t,s,n)},i.vV=function(t,s,n){var h=i.qc(t,s,!1);return 4!=h&&1!=h&&2!=h&&i.II(t,s,n,null)},i.qV=function(t,s,n,h){var r=i.qc(t,s,!1);return 4!=r&&1!=r&&2!=r&&i.FI(t,s,n,h)},i.Sw=function(s,n,h,r){var e=new t.l,o=new t.l;return s.A(e),n.A(o),!!i.zc(e,o,h)&&(4!=(e=i.qc(s,n,!1))&&2!=e&&(1==e||i.BI(s,n,h,r)))},i.lV=function(t,s,n){var h=i.qc(t,s,!0);return 4==h||1!=h&&1073741824!=h&&i.EI(t,s,n)},i.wV=function(t,s,n,h){var r=i.qc(t,s,!1);return 4!=r&&1!=r&&i.JI(t,s,n,h)},i.gV=function(t,s,n){var h=i.qc(t,s,!1);return 4!=h&&1!=h&&i.DI(t,s,n,null)},i.fB=function(s,n,h,r){var e=new t.l,o=new t.l;return s.A(e),n.A(o),!!i.zc(e,o,h)&&(4!=(e=i.qc(s,n,!1))&&(1==e||i.CI(s,n,h,r)))},i.jV=function(i,s,n){return 0==t.hd.KG(i,s,n)},i.uV=function(t,s,n){return s=s.D(),i.HI(t,s,n)},i.dV=function(t,s,n){return s=s.D(),i.AI(t,s,n)},i.iV=function(s,n,h){var r=i.qc(s,n,!1);if(4==r)return!0;if(1==r)return!1;r=new t.l,s.A(r),r.W(h,h);for(var e=new t.h,o=0;o<n.I();o++)if(n.D(o,e),r.contains(e)){var a=t.hd.Yd(s,e,h);if(1==a||2==a)return!1}return!0},i.tV=function(i,s,n){var h=this.qc(i,s,!1);if(4==h||1==h)return!1;h=new t.l,i.A(h),h.W(n,n);for(var r=!1,e=i,o=!1,a=0;a<s.I();a++){var u=s.Na(a);if(h.contains(u))if(2==(u=t.hd.Yd(e,u,n)))r=!0;else if(1==u)return!1;o||(!t.Dg.Ml(i,s.I()-1)||null!=i.Bb&&null!=i.Bb.Fb?e=i:(e=new t.Da,i.copyTo(e),e.fj(1)),o=!0)}return!!r},i.fV=function(i,s,n){var h=this.qc(i,s,!1);if(4==h||1==h)return!1;var r=new t.l;h=new t.l;var e=new t.l;i.A(r),s.A(e),h.K(r),h.W(n,n),e=r=!1;for(var o=i,a=!1,u=0;u<s.I();u++){var f=s.Na(u);if(h.contains(f)?0==(f=t.hd.Yd(o,f,n))?e=!0:1==f&&(r=!0):e=!0,r&&e)return!0;a||(!t.Dg.Ml(i,s.I()-1)||null!=i.Bb&&null!=i.Bb.Fb?o=i:(o=new t.Da,i.copyTo(o),o.fj(1)),a=!0)}return!1},i.cV=function(i,s,n){var h=new t.l,r=new t.l;if(i.A(h),s.A(r),!this.zc(h,r,n))return!1;if(4==(r=this.qc(i,s,!1)))return!1;if(1==r)return!0;r=!1;for(var e=i,o=!1,a=0;a<s.I();a++){var u=s.Na(a);if(!h.contains(u))return!1;if(1==(u=t.hd.Yd(e,u,n)))r=!0;else if(0==u)return!1;o||(!t.Dg.Ml(i,s.I()-1)||null!=i.Bb&&null!=i.Bb.Fb?e=i:(e=new t.Da,i.copyTo(e),e.fj(1)),o=!0)}return r},i.mV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!!i.ek(r,e,h)&&((r=new t.Da).ad(n,!1),i.Wz(s,r,h,!0))},i.hV=function(s,n,h){var r=i.qc(s,n,!1);if(4==r)return!0;if(1==r||2==r)return!1;var e=new t.l;if(r=new t.l,s.A(e),n.A(r),i.zc(r,e,h))return!1;if(e=new t.h,r.dn(e),0!=(n=t.hd.Yd(s,e,h)))return!1;if(r.$I(e),0!=(n=t.hd.Yd(s,e,h)))return!1;if(r.en(e),0!=(n=t.hd.Yd(s,e,h)))return!1;if(r.cJ(e),0!=(n=t.hd.Yd(s,e,h)))return!1;n=s.ub(0),(e=new t.l).K(r),e.W(h,h);for(var o=0,a=s.I();o<a;o++){var u=n.read(2*o),f=n.read(2*o+1);if(e.contains(u,f))return!1}return!i.TG(s,r,h)},i.sV=function(s,n,h,r){var e=i.qc(s,n,!1);if(4==e||1==e||2==e)return!1;e=new t.l;var o=new t.l;return s.A(e),n.A(o),!i.zc(o,e,h)&&(o.R()<=h&&o.ca()<=h?(n=n.Ip(),i.HI(s,n,h)):o.R()<=h||o.ca()<=h?(e=new t.Ta,o=new t.Sa,n.Hf(0,o),e.nf(o),n.Hf(2,o),e.lineTo(o),i.JI(s,e,h,r)):((e=new t.Da).ad(n,!1),i.II(s,e,h,r)))},i.pV=function(s,n,h,r){var e=i.qc(s,n,!1);if(4==e||1==e||2==e)return!1;e=new t.l;var o=new t.l;return s.A(e),n.A(o),!(i.zc(o,e,h)||o.R()<=h||o.ca()<=h)&&((e=new t.Da).ad(n,!1),i.FI(s,e,h,r))},i.xV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),i.zc(e,r,h)},i.bV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!!i.zc(r,e,h)&&(4!=(r=i.qc(s,n,!1))&&2!=r&&(1==r||(e.R()<=h&&e.ca()<=h?(n=n.Ip(),i.AI(s,n,h)):e.R()<=h||e.ca()<=h?(e=new t.Ta,r=new t.Sa,n.Hf(0,r),e.nf(r),n.Hf(2,r),e.lineTo(r),i.CI(s,e,h,null)):((e=new t.Da).ad(n,!1),i.BI(s,e,h,null)))))},i.eV=function(s,n,h,r){var e=new t.l,o=new t.l;return s.A(e),n.A(o),!(i.zc(o,e,h)||o.ca()>h&&o.R()>h||o.ca()<=h&&o.R()<=h)&&(e=new t.Ta,o=new t.Sa,n.Hf(0,o),e.nf(o),n.Hf(2,o),e.lineTo(o),i.DI(s,e,h,r))},i.IV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!(!i.ek(r,e,h)||4==i.qc(s,n,!1))&&(!!i.dI(s,n,h)||i.Wz(s,n,h,!1))},i.GV=function(i,s,n){return 4==this.qc(i,s,!1)||!!new t.Zl(i,s,n,!0).next()&&!this.UG(i,s,n)},i.NI=function(s,n,h){if(4==i.qc(s,n,!1))return!1;var r=new t.be(0);if(0!=i.Xz(s,n,h,r))return!1;for(var e=new t.de,o=0;o<r.size;o+=2){var a=r.read(o),u=r.read(o+1);e.Bu(a,u)}return s=s.mg(),n=n.mg(),s.Fd(n,0,n.I()),i.Mw(s,e,h)},i.LI=function(s,n,h){if(4==i.qc(s,n,!1))return!1;var r=new t.be(0);if(0!=i.Xz(s,n,h,r))return!1;for(var e=new t.de,o=0;o<r.size;o+=2){var a=r.read(o),u=r.read(o+1);e.Bu(a,u)}return s=s.mg(),n=n.mg(),s.Fd(n,0,n.I()),!i.Mw(s,e,h)},i.MV=function(t,s,n){return 4!=i.qc(t,s,!1)&&i.WG(t,s,n)},i.KI=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!(!i.zc(r,e,h)||4==i.qc(s,n,!1))&&i.ym(n,s,h,!1)},i.FV=function(t,s,n){return 4==i.qc(t,s,!1)||(s=s.D(),!i.Yz(t,s,n))},i.QV=function(t,s,n){return 4!=i.qc(t,s,!1)&&(s=s.D(),i.Zz(t,s,n))},i.AV=function(t,s,n){return 4!=i.qc(t,s,!1)&&(s=s.D(),i.SG(t,s,n))},i.EV=function(t,s,n){return 4==i.qc(t,s,!1)||!i.VG(t,s,n,!1)},i.PV=function(i,s,n){if(4==this.qc(i,s,!1))return!1;var h=i.Ga(),r=new t.l,e=new t.l,o=new t.l;i.A(r),s.A(e),r.W(n,n),e.W(n,n),o.K(r),o.Ea(e),r=null;var a=i.Bb;if(null!=a){var u=a.Fb;r=a.zo,null==u&&(u=a=t.ta.jj(i,o))}else u=a=t.ta.jj(i,o);var f=u.getIterator(),c=null;null!=r&&(c=r.getIterator());var l=new t.h,p=new t.h,v=!1,y=n*n;for(r=new t.pn(s.I()),a=0;a<s.I();a++)r.write(a,0);for(a=0;a<s.I();a++)if(s.D(a,l),o.contains(l)){if(e.K(l.x,l.y,l.x,l.y),null!=c&&(c.Xi(e,n),-1==c.next()))continue;f.Xi(e,n);for(var d=f.next();-1!=d;d=f.next())if(h.Vb(u.ja(d)),(d=h.ha()).hc(d.fe(l,!1),p),t.h.yc(l,p)<=y){r.write(a,1),v=!0;break}}if(!v)return!1;for(i=i.mg(),h=new t.de,e=new t.h,a=0;a<s.I();a++)0!=r.read(a)&&(s.D(a,e),h.Bu(e.x,e.y));return this.Mw(i,h,n)},i.CV=function(i,s,n){if(4==this.qc(i,s,!1))return!1;var h=i.Ga(),r=new t.l,e=new t.l,o=new t.l;i.A(r),s.A(e),r.W(n,n),e.W(n,n),o.K(r),o.Ea(e),r=null;var a=i.Bb;if(null!=a){var u=a.Fb;r=a.zo,null==u&&(u=a=t.ta.jj(i,o))}else u=a=t.ta.jj(i,o);var f=u.getIterator(),c=null;null!=r&&(c=r.getIterator());var l=new t.h,p=new t.h,v=!1,y=!1,d=n*n;for(r=new t.pn(s.I()),a=0;a<s.I();a++)r.write(a,0);for(a=0;a<s.I();a++)if(s.D(a,l),o.contains(l)){if(e.K(l.x,l.y,l.x,l.y),null!=c&&(c.Xi(e,n),-1==c.next())){y=!0;continue}f.Xi(e,n);for(var b=!1,g=f.next();-1!=g;g=f.next())if(h.Vb(u.ja(g)),(g=h.ha()).hc(g.fe(l,!1),p),t.h.yc(l,p)<=d){r.write(a,1),b=v=!0;break}b||(y=!0)}else y=!0;if(!v||!y)return!1;for(i=i.mg(),h=new t.de,e=new t.h,a=0;a<s.I();a++)0!=r.read(a)&&(s.D(a,e),h.Bu(e.x,e.y));return!this.Mw(i,h,n)},i.zV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!(!i.zc(r,e,h)||4==i.qc(s,n,!1)||!i.VG(s,n,h,!0))&&(s=s.mg(),!i.gI(s,n,h))},i.HV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!(e.ca()>h&&e.R()>h)&&i.ek(r,e,h)},i.DV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!i.zc(e,r,h)&&!i.TG(s,e,h)},i.OV=function(s,n,h){var r=new t.l,e=new t.l;if(s.A(r),n.A(e),e.ca()<=h&&e.R()<=h)return e=n.Ip(),i.Zz(s,e,h);if(e.ca()<=h||e.R()<=h)return e=new t.Ta,r=new t.Sa,n.Hf(0,r),e.nf(r),n.Hf(2,r),e.lineTo(r),i.NI(s,e,h);s=s.Ga(),n=new t.l,r=new t.l,n.K(e),r.K(e),n.W(-h,-h),r.W(h,h),e=!1;for(var o=new t.l,a=new t.l;s.$a();)for(;s.Ha();){if(s.ha().A(o),a.K(n),a.Ea(o),!a.B()&&(a.ca()>h||a.R()>h))return!1;a.K(r),a.Ea(o),a.B()||(e=!0)}return e},i.LV=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!(i.zc(r,e,h)||i.zc(e,r,h)||i.zc(e,r,h)||e.ca()>h&&e.R()>h||e.ca()<=h&&e.R()<=h)&&(r=new t.Ta,e=new t.Sa,n.Hf(0,e),r.nf(e),n.Hf(2,e),r.lineTo(e),i.WG(s,r,h))},i.RV=function(s,n,h){var r=new t.l,e=new t.l;if(s.A(r),n.A(e),!i.zc(e,r,h)||e.ca()<=h&&e.R()<=h)return!1;if(e.ca()<=h||e.R()<=h)return i.zc(e,r,h);s=s.Ga(),(n=new t.l).K(e),n.W(-h,-h),e=!1,r=new t.l;for(var o=new t.l;s.$a();)for(;s.Ha();)s.ha().A(r),n.hm(r)?e=!0:(o.K(n),o.Ea(r),!o.B()&&(o.ca()>h||o.R()>h)&&(e=!0));return e},i.yV=function(s,n,h){var r=new t.l,e=new t.l;return n.A(e),s.A(r),!(!i.zc(r,e,h)||e.ca()>h&&e.R()>h)&&(e.ca()<=h&&e.R()<=h?(n=n.Ip(),i.SG(s,n,h)):(r=new t.Ta,e=new t.Sa,n.Hf(0,e),r.nf(e),n.Hf(2,e),r.lineTo(e),i.ym(r,s,h,!1)))},i.BV=function(s,n,h){var r=new t.l,e=new t.l;if(s.A(r),n.A(e),i.zc(e,r,h)||e.ca()<=h&&e.R()<=h)return!1;if(e.ca()<=h||e.R()<=h)return r=new t.Ta,e=new t.Sa,n.Hf(0,e),r.nf(e),n.Hf(2,e),r.lineTo(e),i.LI(s,r,h);s=s.Ga(),n=new t.l,(r=new t.l).K(e),n.K(e),r.W(-h,-h),n.W(h,h);for(var o=e=!1,a=new t.l,u=new t.l;s.$a();)for(;s.Ha();)if(s.ha().A(a),o||n.contains(a)||(o=!0),e||(u.K(r),u.Ea(a),!u.B()&&(u.ca()>h||u.R()>h)&&(e=!0)),e&&o)return!0;return!1},i.iU=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!!i.ek(r,e,h)&&(!!i.jU(s,n,h)||i.YA(s,n,h,!1,!0,!1))},i.gU=function(t,s,n){return!i.gI(t,s,n)},i.oU=function(t,s,n){return i.YA(t,s,n,!1,!1,!0)},i.eI=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!!i.zc(r,e,h)&&i.YA(n,s,h,!0,!1,!1)},i.Mw=function(i,s,n){n*=n;for(var h=new t.h,r=new t.h,e=0;e<s.I();e++){s.D(e,r);for(var o=!1,a=0;a<i.I();a++)if(i.D(a,h),t.h.yc(h,r)<=n){o=!0;break}if(!o)return!1}return!0},i.Nw=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),i.ek(r,e,h)},i.fI=function(t,s,n){return s=s.D(),i.kt(t,s,n)},i.sU=function(t,s,n){return i.Nw(t,s,n)},i.dU=function(t,s,n){return!i.fI(t,s,n)},i.hU=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!(e.ca()>h||e.R()>h)&&i.ek(r,e,h)},i.fU=function(s,n,h){var r=new t.l,e=new t.l;if(s.A(r),n.A(e),i.zc(e,r,h))return!1;for((n=new t.l).K(e),n.W(h,h),h=new t.h,e=0;e<s.I();e++)if(s.D(e,h),n.contains(h))return!1;return!0},i.qU=function(i,s,n){var h=new t.l,r=new t.l,e=new t.l;if(s.A(h),h.ca()<=n&&h.R()<=n)return!1;if(h.ca()<=n||h.R()<=n){s=new t.h;var o=!1;r.K(h),e.K(h),r.W(n,n),h.ca()>n?e.W(0,-n):e.W(-n,0);for(var a=0;a<i.I();a++)if(i.D(a,s),r.contains(s)){if(h.ca()>n){if(s.y>e.G&&s.y<e.H)return!1}else if(s.x>e.v&&s.x<e.C)return!1;o=!0}return o}for(r.K(h),e.K(h),r.W(n,n),e.W(-n,-n),s=new t.h,o=!1,a=0;a<i.I();a++)if(i.D(a,s),r.contains(s)){if(e.hm(s))return!1;o=!0}return o},i.rU=function(s,n,h){var r=new t.l,e=new t.l;if(s.A(r),n.A(e),!i.zc(e,r,h))return!1;if(e.ca()<=h&&e.R()<=h)return i.ek(r,e,h);if(e.ca()<=h||e.R()<=h){n=!1,r=new t.l;var o=new t.l;r.K(e),o.K(e),e.ca()>h?r.W(0,-h):r.W(-h,0),o.W(h,h);for(var a=new t.h,u=0;u<s.I();u++){if(s.D(u,a),!o.contains(a))return!1;e.ca()>h?a.y>r.G&&a.y<r.H&&(n=!0):a.x>r.v&&a.x<r.C&&(n=!0)}return n}for(n=!1,r=new t.l,o=new t.l,r.K(e),o.K(e),r.W(-h,-h),o.W(h,h),a=new t.h,u=0;u<s.I();u++){if(s.D(u,a),!o.contains(a))return!1;r.hm(a)&&(n=!0)}return n},i.cU=function(s,n,h){var r=new t.l,e=new t.l;return s.A(r),n.A(e),!(!i.zc(r,e,h)||e.ca()>h||e.R()>h)&&(n=n.Ip(),!i.kt(s,n,h))},i.eU=function(s,n,h){var r=new t.l,e=new t.l;if(s.A(r),n.A(e),i.zc(e,r,h)||e.ca()<=h&&e.R()<=h)return!1;if(e.ca()<=h||e.R()<=h){n=new t.l,r=new t.l,n.K(e),e.ca()>h?n.W(0,-h):n.W(-h,0),r.K(e),r.W(h,h);for(var o=new t.h,a=!1,u=!1,f=0;f<s.I();f++)if(s.D(f,o),a||(e.ca()>h?o.y>n.G&&o.y<n.H&&(a=!0):o.x>n.v&&o.x<n.C&&(a=!0)),u||r.contains(o)||(u=!0),a&&u)return!0;return!1}for(n=new t.l,r=new t.l,n.K(e),n.W(-h,-h),r.K(e),r.W(h,h),o=new t.h,u=a=!1,f=0;f<s.I();f++)if(s.D(f,o),!a&&n.hm(o)&&(a=!0),u||r.contains(o)||(u=!0),a&&u)return!0;return!1},i.wI=function(i,s,n){return t.h.yc(i,s)<=n*n},i.SU=function(i,s,n){return t.h.yc(i,s)>n*n},i.uI=function(t,s,n){return i.wI(t,s,n)},i.vI=function(s,n,h){var r=new t.l;return r.K(s),i.ek(r,n,h)},i.Rw=function(i,s,n){var h=new t.l;return h.K(s),h.W(n,n),!h.contains(i)},i.dB=function(i,s,n){if(s.ca()<=n&&s.R()<=n)return!1;var h=new t.l,r=new t.l;if(h.K(s),h.W(n,n),!h.contains(i))return!1;if(s.ca()<=n||s.R()<=n){if(r.K(s),s.ca()>n?r.W(0,-n):r.W(-n,0),s.ca()>n){if(i.y>r.G&&i.y<r.H)return!1}else if(i.x>r.v&&i.x<r.C)return!1;return!0}return r.K(s),r.W(-n,-n),!r.hm(i)},i.eB=function(i,s,n){if(s.ca()<=n&&s.R()<=n)return!0;if(s.ca()<=n||s.R()<=n){var h=new t.l;h.K(s),s.ca()>n?h.W(0,-n):h.W(-n,0);var r=!1;return s.ca()>n?i.y>h.G&&i.y<h.H&&(r=!0):i.x>h.v&&i.x<h.C&&(r=!0),r}return(h=new t.l).K(s),h.W(-n,-n),h.hm(i)},i.RU=function(t,s,n){return i.vI(t,s,n)},i.ek=function(t,s,n){return i.zc(t,s,n)&&i.zc(s,t,n)},i.dk=function(i,s,n){var h=new t.l;return h.K(s),h.W(n,n),!i.isIntersecting(h)},i.cQ=function(s,n,h){if(s.ca()<=h&&s.R()<=h){var r=s.sf();return i.dB(r,n,h)}if(n.ca()<=h&&n.R()<=h)return r=n.sf(),i.dB(r,s,h);if(s.ca()>h&&s.R()>h&&(n.ca()<=h||n.R()<=h)?r=n:(r=s,s=n),r.ca()<=h||r.R()<=h){if(s.ca()<=h||s.R()<=h){n=new t.yb;var e=new t.yb,o=[0,0],a=[0,0],u=new t.h;return r.dn(u),n.Dc(u),r.en(u),n.Qc(u),s.dn(u),e.Dc(u),s.en(u),e.Qc(u),n.Ea(e,null,o,a,h),1==n.Ea(e,null,null,null,h)&&(0==o[0]||1==o[1]||0==a[0]||1==a[1])}return n=new t.l,e=new t.l,n.K(s),n.W(-h,-h),e.K(n),e.Ea(r),!(!e.B()&&(e.ca()>h||e.R()>h))}return s.W(h,h),(e=new t.l).K(r),e.Ea(s),!(e.B()||!e.B()&&e.ca()>h&&e.R()>h)},i.bQ=function(s,n,h){if(i.zc(s,n,h)||i.zc(n,s,h)||s.ca()<=h&&s.R()<=h||n.ca()<=h&&n.R()<=h)return!1;if(s.ca()<=h||s.R()<=h){if(n.ca()>h&&n.R()>h)return!1;var r=new t.yb,e=new t.yb,o=[0,0],a=[0,0],u=new t.h;return s.dn(u),r.Dc(u),s.en(u),r.Qc(u),n.dn(u),e.Dc(u),n.en(u),e.Qc(u),r.Ea(e,null,o,a,h),2==r.Ea(e,null,null,null,h)&&((0<o[0]||1>o[1])&&(0<a[0]||1>a[1]))}return!(n.ca()<=h||n.R()<=h)&&((r=new t.l).K(s),r.Ea(n),!(r.B()||r.ca()<=h||r.R()<=h))},i.jF=function(s,n,h){if(!i.zc(s,n,h))return!1;if(s.ca()<=h&&s.R()<=h)return s=s.sf(),i.eB(s,n,h);if(n.ca()<=h&&n.R()<=h)return n=n.sf(),i.eB(n,s,h);if(s.ca()<=h||s.R()<=h)return i.zc(s,n,h);if(n.ca()<=h||n.R()<=h){var r=new t.l;return r.K(s),r.W(-h,-h),r.hm(n)?!0:((s=new t.l).K(r),s.Ea(n),!(s.B()||s.ca()<=h&&s.R()<=h))}return i.zc(s,n,h)},i.aQ=function(s,n,h){if(i.zc(s,n,h)||i.zc(n,s,h)||s.ca()<=h&&s.R()<=h||n.ca()<=h&&n.R()<=h||n.ca()>h&&n.R()>h&&s.ca()>h&&s.R()>h)return!1;if(s.ca()>h&&s.R()>h)var r=n;else r=s,s=n;if(s.ca()>h&&s.R()>h){n=new t.l;var e=new t.l;return e.K(s),e.W(-h,-h),n.K(e),n.Ea(r),!(n.B()||n.ca()<=h&&n.R()<=h)}n=new t.yb,e=new t.yb;var o=[0,0],a=[0,0],u=new t.h;return r.dn(u),n.Dc(u),r.en(u),n.Qc(u),s.dn(u),e.Dc(u),s.en(u),e.Qc(u),n.Ea(e,null,o,a,h),1==n.Ea(e,null,null,null,h)&&(0<o[0]&&1>o[1]&&0<a[0]&&1>a[1])},i.EI=function(i,s,n){var h=new t.l,r=new t.l,e=new t.Zl(i,s,n,!0);if(!e.next())return!0;if(this.UG(i,s,n))return!1;var o=i,a=null;1736==s.getType()&&(a=s);var u=!1,f=!1;do{var c=e.nl(),l=e.hl();if(l=s.Na(s.Ba(l)),h.K(e.uz()),h.W(n,n),h.contains(l)&&0!=(l=t.hd.Yd(o,l,0))||1736==s.getType()&&(c=i.Na(i.Ba(c)),r.K(e.az()),r.W(n,n),r.contains(c)&&0!=(l=t.hd.Yd(a,c,0))))return!1;u||(!t.Dg.Ml(i,s.da()-1)||null!=i.Bb&&null!=i.Bb.Fb?o=i:(o=new t.Da,i.copyTo(o),o.fj(1)),u=!0),1736!=s.getType()||f||(f=s,!t.Dg.Ml(f,i.da()-1)||null!=s.Bb&&null!=s.Bb.Fb?a=s:(a=new t.Da,f.copyTo(a),a.fj(1)),f=!0)}while(e.next());return!0},i.zc=function(i,s,n){var h=new t.l;return h.K(i),h.W(n,n),h.contains(s)},i.ls=function(i,s,n){var h=new t.l;return h.K(s),h.W(n,n),s=new t.h,i.dn(s),!h.contains(s)||(i.$I(s),!h.contains(s)||(i.cJ(s),!h.contains(s)||(i.en(s),!h.contains(s))))},i.dI=function(i,s,n){if(i.da()!=s.da()||i.I()!=s.I())return!1;var h=new t.h,r=new t.h,e=!0;n*=n;for(var o=0;o<i.da();o++){if(i.Vc(o)!=s.Vc(o)){e=!1;break}for(var a=i.Ba(o);a<s.Vc(o);a++)if(i.D(a,h),s.D(a,r),t.h.yc(h,r)>n){e=!1;break}if(!e)break}return!!e},i.jU=function(i,s,n){if(i.I()!=s.I())return!1;var h=new t.h,r=new t.h,e=!0;n*=n;for(var o=0;o<i.I();o++)if(i.D(o,h),s.D(o,r),t.h.yc(h,r)>n){e=!1;break}return!!e},i.YA=function(i,s,n,h,r,e){var o=!1;if(i.I()>s.I()){h&&(h=!1,o=!0);var a=s}else a=i,i=s;if(s=null,r||e||o){s=new t.pn(i.I());for(var u=0;u<i.I();u++)s.write(u,0)}u=new t.l;var f=new t.l,c=new t.l;a.A(u),i.A(f),u.W(n,n),f.W(n,n),c.K(u),c.Ea(f),f=new t.h;for(var l=new t.h,p=!0,v=t.ta.oE(i,c),y=v.getIterator(),d=n*n,b=0;b<a.I();b++)if(a.D(b,f),c.contains(f)){var g=!1;u.K(f.x,f.y,f.x,f.y),y.Xi(u,n);for(var w=y.next();-1!=w&&(w=v.ja(w),i.D(w,l),!(t.h.yc(f,l)<=d&&((r||e||o)&&s.write(w,1),g=!0,h)));w=y.next());if(!g&&(p=!1,r||h))return!1}else{if(r||h)return!1;p=!1}if(e&&p)return!1;if(h)return!0;for(u=0;u<i.I();u++)if(1==s.read(u)){if(e)return!0}else if(r||o)return!1;return!e},i.gI=function(i,s,n){if(i.I()>s.I())var h=s;else h=i,i=s;s=new t.l;var r=new t.l,e=new t.l;h.A(s),i.A(r),s.W(n,n),r.W(n,n),e.K(s),e.Ea(r),r=new t.h;for(var o=new t.h,a=n*n,u=t.ta.oE(i,e),f=u.getIterator(),c=0;c<h.I();c++)if(h.D(c,r),e.contains(r)){s.K(r.x,r.y,r.x,r.y),f.Xi(s,n);for(var l=f.next();-1!=l;l=f.next())if(i.D(u.ja(l),o),t.h.yc(r,o)<=a)return!0}return!1},i.Wz=function(t,s,n,h){return i.ym(t,s,n,h)&&i.ym(s,t,n,h)},i.ym=function(n,h,r,e){function o(t,i){return v.QE(t,i)}var a,u=!0,f=[0,0],c=[0,0],l=0,p=new t.ia(0),v=new i,y=new t.l,d=new t.l,b=new t.l;n.A(y),h.A(d),y.W(r,r),d.W(r,r),b.K(y),b.Ea(d),n=n.Ga(),d=h.Ga();var g=null,w=g=null,x=h.Bb;for(null!=x?(g=x.Fb,w=x.zo,null==g&&(g=t.ta.jj(h,b))):g=t.ta.jj(h,b),h=g.getIterator(),x=null,null!=w&&(x=w.getIterator());n.$a();)for(;n.Ha();){var m=!1,j=n.ha();if(j.A(y),!y.isIntersecting(b))return!1;if(null!=x&&(x.Xi(y,r),-1==x.next()))return!1;for(w=j.Qb(),h.Uo(j,r),a=h.next();-1!=a;a=h.next()){d.Vb(g.ja(a)),a=d.ha();var M=j.Ea(a,null,f,c,r);if(2==M&&(!e||c[0]<=c[1])){M=f[0];var k=f[1],z=c[0],A=c[1];if(M*w<=r&&(1-k)*w<=r){m=!0,l=0,p.resize(0),v.rh.length=0;var N=n.wb();for(z=!0;z;){if(n.Ha()){if(w=(j=n.ha()).Qb(),2==(M=j.Ea(a,null,f,c,r))&&(!e||c[0]<=c[1])&&(M=f[0],k=f[1],M*w<=r&&(1-k)*w<=r)){N=n.wb();continue}if(d.Ha()&&(a=d.ha(),2==(M=j.Ea(a,null,f,c,r))&&(!e||c[0]<=c[1])&&(M=f[0],k=f[1],M*w<=r&&(1-k)*w<=r))){N=n.wb();continue}}z=!1}N!=n.wb()&&(n.Vb(N),n.ha());break}N=n.wb(),a=s.construct(N,n.gb,M,k,d.wb(),d.gb,z,A),v.rh.push(a),p.add(p.size)}}if(!m){if(l==v.rh.length)return!1;for(1<p.size-l&&p.Vd(l,p.size,o),m=0;l<v.rh.length;l++)if(!((a=v.rh[p.get(l)]).Kj<m&&a.Si<m)){if(w*(a.Kj-m)>r)return!1;if(w*(1-(m=a.Si))<=r||1==m)break}if(w*(1-m)>r)return!1;l=0,p.resize(0),v.rh.length=0}}return u},i.WG=function(s,n,h){if(1>i.Xz(s,n,h,null))return!1;var r=new t.l,e=new t.l;s.A(r),n.A(e);var o=i.ls(r,e,h);return r=i.ls(e,r,h),!(!o||!r)||(o&&!r?!i.ym(n,s,h,!1):r&&!o?!i.ym(s,n,h,!1):!i.ym(s,n,h,!1)&&!i.ym(n,s,h,!1))},i.Xz=function(n,h,r,e){function o(t,i){return y.QE(t,i)}if(n.yz()>h.yz())var a=h,u=n;else a=n,u=h;n=a.Ga(),h=u.Ga();var f=[0,0],c=[0,0],l=-1,p=0,v=new t.ia(0),y=new i,d=new t.l,b=new t.l,g=new t.l;a.A(d),u.A(b),d.W(r,r),b.W(r,r),g.K(d),g.Ea(b),a=null,null!=e&&(a=new t.h);var w=b=b=null,x=u.Bb;for(null!=x?(b=x.Fb,w=x.zo,null==b&&(b=t.ta.jj(u,g))):b=t.ta.jj(u,g),u=b.getIterator(),x=null,null!=w&&(x=w.getIterator());n.$a();)for(w=0;n.Ha();){var m=n.ha();if(m.A(d),d.isIntersecting(g)){if(null!=x&&(x.Xi(d,r),-1==x.next()))continue;var j=m.Qb();u.Uo(m,r);for(var M=u.next();-1!=M;M=u.next()){var k=b.ja(M);h.Vb(k);var z=h.ha(),A=z.Qb(),N=m.Ea(z,null,f,c,r);if(0<N){M=f[0],l=c[0];var I=2==N?f[1]:NaN,T=2==N?c[1]:NaN;if(2==N){if(j*(I-M)>r)return 1;var P=j*(I-M);if(h.Ha()){if(z=h.ha(),2==(N=m.Ea(z,null,f,null,r))){N=f[0];var C=f[1];if(P+(N=j*(C-N))>r)return 1}h.Vb(k),h.ha()}if(!h.vm()){if(h.li(),z=h.li(),2==(N=m.Ea(z,null,f,null,r))&&(N=f[0],P+(N=j*((C=f[1])-N))>r))return 1;h.Vb(k),h.ha()}if(n.Ha()){if(k=n.wb(),2==(N=(m=n.ha()).Ea(z,null,f,null,r))&&(N=f[0],P+(N=j*((C=f[1])-N))>r))return 1;n.Vb(k),n.ha()}if(!n.vm()){if(k=n.wb(),n.li(),2==(N=(m=n.li()).Ea(z,null,f,null,r))&&(N=f[0],P+(N=A*((C=f[1])-N))>r))return 1;n.Vb(k),n.ha()}z=s.construct(n.wb(),n.gb,M,I,h.wb(),h.gb,l,T),y.rh.push(z),v.add(v.size)}l=0,null!=e&&(m.hc(M,a),e.add(a.x),e.add(a.y))}}if(p<y.rh.length){for(v.Vd(p,v.size,o),m=0,M=y.rh[v.get(p)].Mm;p<y.rh.length;p++)if(!((z=y.rh[v.get(p)]).Kj<m&&z.Si<m))if(j*(z.Kj-m)>r)w=j*(z.Si-z.Kj),m=z.Si,M=z.Mm;else{if(z.Mm!=M?(w=j*(z.Si-z.Kj),M=z.Mm):w+=j*(z.Si-z.Kj),w>r)return 1;if(1==(m=z.Si))break}j*(1-m)>r&&(w=0),p=0,v.resize(0),y.rh.length=0}}}return l},i.UG=function(i,s,n){var h=i.Ga(),r=s.Ga();for(i=new t.Zl(i,s,n,!1);i.next();){s=i.nl();var e=i.hl();if(h.Vb(s),r.Vb(e),s=h.ha(),0<r.ha().Ea(s,null,null,null,n))return!0}return!1},i.VG=function(i,s,n,h){var r=i.Ga(),e=new t.l,o=new t.l,a=new t.l;i.A(e),s.A(o),e.W(n,n),e.contains(o),o.W(n,n),a.K(e),a.Ea(o),null!=(e=i.Bb)?null==(e=e.Fb)&&(e=t.ta.jj(i,a)):e=t.ta.jj(i,a),i=e.getIterator();for(var u=new t.h,f=new t.h,c=n*n,l=0;l<s.I();l++)if(s.D(l,u),a.contains(u)){o.K(u.x,u.y,u.x,u.y),i.Xi(o,n);for(var p=!1,v=i.next();-1!=v;v=i.next())if(r.Vb(e.ja(v)),(v=r.ha()).hc(v.fe(u,!1),f),t.h.yc(f,u)<=c){p=!0;break}if(h){if(!p)return!1}else if(p)return!0}return!!h},i.Yz=function(i,s,n){var h=new t.h,r=n*n,e=i.Ga();if(null!=(i=i.Bb)&&null!=(i=i.Fb)){var o=new t.l;for(o.K(s),o=(n=i.MF(o,n)).next();-1!=o;o=n.next())if(e.Vb(i.ja(o)),e.Ha()){var a=(o=e.ha()).fe(s,!1);if(o.hc(a,h),t.h.yc(s,h)<=r)return!0}return!1}for(i=new t.l;e.$a();)for(;e.Ha();)if((o=e.ha()).A(i),i.W(n,n),i.contains(s)&&(a=o.fe(s,!1),o.hc(a,h),t.h.yc(s,h)<=r))return!0;return!1},i.SG=function(t,s,n){return i.Yz(t,s,n)&&!i.Zz(t,s,n)},i.Zz=function(t,s,n){return t=t.mg(),!i.kt(t,s,n)},i.TG=function(i,s,n){if(i.tm()){var h=new t.yb(s.v,s.G,s.v,s.H),r=new t.yb(s.v,s.H,s.C,s.H),e=new t.yb(s.C,s.H,s.C,s.G);for(s=new t.yb(s.C,s.G,s.v,s.G),i=i.Ga();i.$a();)for(;i.Ha();){var o=i.ha();if(o.isIntersecting(h,n)||o.isIntersecting(r,n)||o.isIntersecting(e,n)||o.isIntersecting(s,n))return!0}}else{(h=new t.l).K(s),h.W(n,n),n=i.ub(0),r=new t.h,e=new t.h,s=new t.h,o=new t.h;for(var a=0,u=i.da();a<u;a++)for(var f=!0,c=i.Ba(a),l=i.Vc(a);c<l;c++)if(f)n.tc(2*c,e),f=!1;else{if(n.tc(2*c,r),s.L(e),o.L(r),0!=h.zy(s,o))return!0;e.L(r)}}return!1},i.qc=function(s,n,h){var r=s.getType(),e=n.getType();if(t.aa.xj(r)){var o=s.Bb;if(null!=o&&null!=(o=o.Fk))if(33==e){var a=n.D();if(1==(a=o.So(a.x,a.y)))return 1;if(0==a)return 4}else{if(a=new t.l,n.A(a),1==(a=o.Ro(a)))return 1;if(0==a)return 4;if(h&&t.aa.xj(e)&&i.HE(n,o))return 1073741824}}if(t.aa.xj(e)&&(null!=(o=n.Bb)&&null!=(o=o.Fk)))if(33==r){if(s=s.D(),1==(a=o.So(s.x,s.y)))return 2;if(0==a)return 4}else{if(n=new t.l,s.A(n),1==(a=o.Ro(n)))return 2;if(0==a)return 4;if(h&&t.aa.xj(r)&&i.HE(s,o))return 1073741824}return 0},i.HE=function(i,s){for(var n=i.I(),h=new t.h,r=0;r<n;r++)if(i.D(r,h),1==s.So(h.x,h.y))return!0;return!1},i.II=function(i,s,n,h){for(var r=1<=i.om(0)&&1<=s.om(0),e=i.Ga(),o=s.Ga(),a=[0,0],u=[0,0],f=new t.Zl(i,s,n,!1),c=!1;f.next();){var l=f.nl(),p=f.hl();if(e.Vb(l),o.Vb(p),l=e.ha(),2==(p=o.ha().Ea(l,null,u,a,n))){if(c=a[0],p=a[1],l=l.Qb(),r&&(p-c)*l>n)return!1;c=!0}else if(0!=p){if(c=a[0],l=u[0],0<c&&1>c&&0<l&&1>l)return!1;c=!0}}return!!c&&(e=new t.l,o=new t.l,r=new t.l,i.A(e),s.A(o),e.W(1e3*n,1e3*n),o.W(1e3*n,1e3*n),r.K(e),r.Ea(o),!(10<i.I()&&(i=t.Ud.clip(i,r,n,0),i.B())||10<s.I()&&(s=t.Ud.clip(s,r,n,0),s.B()))&&t.am.rt(i,s,n,"F********",h))},i.FI=function(s,n,h,r){var e=1<=s.om(0)&&1<=n.om(0),o=new t.l,a=new t.l,u=new t.l;s.A(o),n.A(a);for(var f=!1,c=i.ls(o,a,h),l=i.ls(a,o,h),p=s.Ga(),v=n.Ga(),y=[0,0],d=[0,0],b=new t.Zl(s,n,h,!1);b.next();){var g=b.nl(),w=b.hl();if(p.Vb(g),v.Vb(w),w=p.ha(),2==(g=v.ha().Ea(w,null,d,y,h))){g=y[0];var x=y[1];if(w=w.Qb(),e&&(x-g)*w>h&&(f=!0,c&&l))return!0}else if(0!=g&&(g=y[0],w=d[0],0<g&&1>g&&0<w&&1>w))return!0}if(e=new t.l,p=new t.l,e.K(o),e.W(1e3*h,1e3*h),p.K(a),p.W(1e3*h,1e3*h),u.K(e),u.Ea(p),o="",o=f?o+"**":o+"T*",c){if(10<n.I()&&(n=t.Ud.clip(n,u,h,0)).B())return!1;o+="****"}else o+="T***";if(l){if(10<s.I()&&(s=t.Ud.clip(s,u,h,0)).B())return!1;o+="***"}else o+="T**";return t.am.rt(s,n,h,o.toString(),r)},i.BI=function(s,n,h,r){var e=[!1],o=i.zI(s,n,h,e);return e[0]?o:(e=new t.l,n.A(e),e.W(1e3*h,1e3*h),!(10<s.I()&&(s=t.Ud.clip(s,e,h,0),s.B()))&&t.am.Sw(s,n,h,r))},i.zI=function(i,s,n,h){h[0]=!1;for(var r=i.Ga(),e=s.Ga(),o=[0,0],a=[0,0],u=new t.Zl(i,s,n,!1),f=!1;u.next();){var c=u.nl(),l=u.hl();if(r.Vb(c,-1),e.Vb(l,-1),c=r.ha(),0!=(c=e.ha().Ea(c,null,a,o,n))&&(f=!0,1==c&&(c=o[0],l=a[0],0<c&&1>c&&0<l&&1>l)))return h[0]=!0,!1}if(!f){for(h[0]=!0,o=new t.l,i.A(o),o.W(n,n),u=i,f=!1,a=new t.l,h=0,r=s.da();h<r;h++)if(0<s.Ja(h)){if(s.Rj(h,a),!o.isIntersecting(a))return!1;if(e=s.Na(s.Ba(h)),0==(e=t.Dg.wm(u,e,0)))return!1;f||(!t.Dg.Ml(i,s.da()-1)||null!=i.Bb&&null!=i.Bb.Fb?u=i:(e=new t.Da,i.copyTo(e),e.fj(1),u=e),f=!0)}if(1==i.da()||1607==s.getType())return!0;for(o=new t.l,s.A(o),o.W(n,n),a=s,u=!1,n=new t.l,h=0,r=i.da();h<r;h++)if(0<i.Ja(h)){if(i.Rj(h,n),o.isIntersecting(n)&&(e=i.Na(i.Ba(h)),1==(e=t.Dg.wm(a,e,0))))return!1;u||(!t.Dg.Ml(s,i.da()-1)||null!=s.Bb&&null!=s.Bb.Fb?a=s:(e=new t.Da,s.copyTo(e),e.fj(1),a=e),u=!0)}return!0}return!1},i.JI=function(i,s,n,h){for(var r=i.Ga(),e=s.Ga(),o=[0,0],a=[0,0],u=new t.Zl(i,s,n,!1),f=!1;u.next();){var c=u.nl(),l=u.hl();if(r.Vb(c),e.Vb(l),c=r.ha(),2==(c=e.ha().Ea(c,null,a,o,n)))f=!0;else if(0!=c){if(f=o[0],c=a[0],0<f&&1>f&&0<c&&1>c)return!1;f=!0}}return!!f&&(e=new t.l,o=new t.l,r=new t.l,i.A(e),s.A(o),e.W(1e3*n,1e3*n),o.W(1e3*n,1e3*n),r.K(e),r.Ea(o),!(10<i.I()&&(i=t.Ud.clip(i,r,n,0),i.B())||10<s.I()&&(s=t.Ud.clip(s,r,n,0),s.B()))&&t.am.$m(i,s,n,"F********",h))},i.DI=function(s,n,h,r){for(var e=s.Ga(),o=n.Ga(),a=[0,0],u=[0,0],f=new t.Zl(s,n,h,!1),c=!1;f.next();){var l=f.nl(),p=f.hl();if(e.Vb(l),o.Vb(p),l=e.ha(),2==(l=o.ha().Ea(l,null,u,a,h)))c=!0;else if(0!=l){if(c=a[0],l=u[0],0<c&&1>c&&0<l&&1>l)return!0;c=!0}}return!!c&&(o=new t.l,a=new t.l,u=new t.l,f=new t.l,e=new t.l,s.A(o),n.A(a),i.ls(a,o,h)?(u.K(o),u.W(1e3*h,1e3*h),f.K(a),f.W(1e3*h,1e3*h),e.K(u),e.Ea(f),!(10<s.I()&&(s=t.Ud.clip(s,e,h,0),s.B())||10<n.I()&&(n=t.Ud.clip(n,e,h,0),n.B()))&&(h=t.am.$m(s,n,h,"T********",r))):h=t.am.$m(s,n,h,"T*****T**",r))},i.CI=function(s,n,h,r){var e=[!1],o=i.zI(s,n,h,e);return e[0]?o:(e=new t.l,n.A(e),e.W(1e3*h,1e3*h),!(10<s.I()&&(s=t.Ud.clip(s,e,h,0),s.B()))&&t.am.fB(s,n,h,r))},i.AI=function(i,s,n){return 1==t.hd.Yd(i,s,n)},i.HI=function(i,s,n){return 2==t.hd.Yd(i,s,n)},i.kt=function(i,s,n){var h=new t.h;n*=n;for(var r=0;r<i.I();r++)if(i.D(r,h),t.h.yc(h,s)<=n)return!1;return!0},i.prototype.QE=function(t,i){return t=this.rh[t],i=this.rh[i],t.Mm<i.Mm||t.Mm==i.Mm&&(t.pw<i.pw||t.pw==i.pw&&(t.Kj<i.Kj||t.Kj==i.Kj&&(t.Si<i.Si||t.Si==i.Si&&t.BH<i.BH)))?-1:1},i}();t.ud=n}(Q||(Q={})),function(t){var i,s,n;(s=i||(i={}))[s.InteriorInterior=0]="InteriorInterior",s[s.InteriorBoundary=1]="InteriorBoundary",s[s.InteriorExterior=2]="InteriorExterior",s[s.BoundaryInterior=3]="BoundaryInterior",s[s.BoundaryBoundary=4]="BoundaryBoundary",s[s.BoundaryExterior=5]="BoundaryExterior",s[s.ExteriorInterior=6]="ExteriorInterior",s[s.ExteriorBoundary=7]="ExteriorBoundary",s[s.ExteriorExterior=8]="ExteriorExterior",function(t){t[t.AreaAreaPredicates=0]="AreaAreaPredicates",t[t.AreaLinePredicates=1]="AreaLinePredicates",t[t.LineLinePredicates=2]="LineLinePredicates",t[t.AreaPointPredicates=3]="AreaPointPredicates",t[t.LinePointPredicates=4]="LinePointPredicates",t[t.PointPointPredicates=5]="PointPointPredicates"}(n||(n={})),i=function(){function i(){this.le=0,this.j=new t.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return i.yB=function(i,s,n,h,r){if(9!=h.length)throw t.i.fa("relation string length has to be 9 characters");for(var e=0;9>e;e++){var o=h.charAt(e);if("*"!=o&&"T"!=o&&"F"!=o&&"0"!=o&&"1"!=o&&"2"!=o)throw t.i.fa("relation string")}if(0!=(e=this.MR(h,i.Db(),s.Db())))return t.ud.zB(i,s,n,e,r);e=new t.l,i.A(e),o=new t.l,s.A(o);var a=new t.l;if(a.K(e),a.Zb(o),n=t.ta.Wd(n,a,!1),i=this.WE(i,n),s=this.WE(s,n),i.B()||s.B())return this.uW(i,s,h);switch(e=i.getType(),o=s.getType(),a=!1,e){case 1736:switch(o){case 1736:a=this.rt(i,s,n,h,r);break;case 1607:a=this.$m(i,s,n,h,r);break;case 33:a=this.qt(i,s,n,h);break;case 550:a=this.pt(i,s,n,h,r)}break;case 1607:switch(o){case 1736:a=this.$m(s,i,n,this.Zp(h),r);break;case 1607:a=this.gB(i,s,n,h,r);break;case 33:a=this.tt(i,s,n,h,r);break;case 550:a=this.st(i,s,n,h,r)}break;case 33:switch(o){case 1736:a=this.qt(s,i,n,this.Zp(h));break;case 1607:a=this.tt(s,i,n,this.Zp(h),r);break;case 33:a=this.$U(i,s,n,h);break;case 550:a=this.lt(s,i,n,this.Zp(h))}break;case 550:switch(o){case 1736:a=this.pt(s,i,n,this.Zp(h),r);break;case 1607:a=this.st(s,i,n,this.Zp(h),r);break;case 550:a=this.ZA(i,s,n,h,r);break;case 33:a=this.lt(i,s,n,h)}break;default:a=!1}return a},i.rt=function(s,n,h,r,e){var o=new i;o.Yi(),o.bj(r),o.xJ();var a=new t.l,u=new t.l;return s.A(a),n.A(u),r=!1,t.ud.dk(a,u,h)&&(o.Cu(s,n),r=!0),r||(4==(a=t.ud.qc(s,n,!1))?(o.Cu(s,n),r=!0):1==a?(o.ly(n),r=!0):2==a&&(o.ZD(s),r=!0)),r||(s=(r=new t.gd).Ib(s),n=r.Ib(n),o.Wo(r,h,e),o.Bp(s,n),o.j.Ug()),i.fg(o.J,o.Xc)},i.Sw=function(s,n,h,r){var e=new i;e.Yi(),e.bj("T*****F**"),e.xJ();var o=new t.l,a=new t.l;s.A(o),n.A(a);var u=!1;return t.ud.dk(o,a,h)&&(e.Cu(s,n),u=!0),u||(4==(o=t.ud.qc(s,n,!1))?(e.Cu(s,n),u=!0):1==o?(e.ly(n),u=!0):2==o&&(e.ZD(s),u=!0)),u?this.fg(e.J,e.Xc):(s=(u=new t.gd).Ib(s),o=u.Ib(n),t.Tk.V(u,h,r,!1),h=u.Ne(o).mg(),u.Gp(0,!0,!0),t.rn.V(u,s,-1,!1,r),0!=u.I(s)&&(t.rn.V(u,o,-1,!1,r),e.er(u,r),(n=0==u.I(o))||(e.Bp(s,o),e.j.Ug(),o=this.fg(e.J,e.Xc))?(s=u.Ne(s),s=(u=new t.gd).Ib(s),o=u.Ib(h),e.er(u,r),e.le=0,e.Yi(),e.bj(n?"T*****F**":"******F**"),e.IB(),e.Bp(s,o),e.j.Ug(),this.fg(e.J,e.Xc)):o))},i.$m=function(s,n,h,r,e){var o=new i;o.Yi(),o.bj(r),o.IB();var a=new t.l,u=new t.l;return s.A(a),n.A(u),r=!1,t.ud.dk(a,u,h)&&(o.Du(s,n),r=!0),r||(4==(a=t.ud.qc(s,n,!1))?(o.Du(s,n),r=!0):1==a&&(o.$D(n),r=!0)),r||(s=(r=new t.gd).Ib(s),n=r.Ib(n),o.Wo(r,h,e),o.kh=o.j.Dp(),i.Jw(n,o.j,o.kh),o.Bp(s,n),o.j.Ep(o.kh),o.j.Ug()),i.fg(o.J,o.Xc)},i.fB=function(s,n,h,r){var e=new i;e.Yi(),e.bj("T*****F**"),e.IB();var o=new t.l,a=new t.l;s.A(o),n.A(a);var u=!1;return t.ud.dk(o,a,h)&&(e.Du(s,n),u=!0),u||(4==(o=t.ud.qc(s,n,!1))?(e.Du(s,n),u=!0):1==o&&(e.$D(n),u=!0)),u?this.fg(e.J,e.Xc):(s=(u=new t.gd).Ib(s),n=u.Ib(n),e.Wo(u,h,r),0!=u.I(s)&&(e.Bp(s,n),e.j.Ug(),this.fg(e.J,e.Xc)))},i.pt=function(s,n,h,r,e){var o=new i;o.Yi(),o.bj(r),o.yJ();var a=new t.l,u=new t.l;return s.A(a),n.A(u),r=!1,t.ud.dk(a,u,h)&&(o.Eu(s),r=!0),r||(4==(a=t.ud.qc(s,n,!1))?(o.Eu(s),r=!0):1==a&&(o.zN(),r=!0)),r||(s=(r=new t.gd).Ib(s),n=r.Ib(n),o.Wo(r,h,e),o.Gy(s,n),o.j.Ug()),i.fg(o.J,o.Xc)},i.gB=function(s,n,h,r,e){var o=new i;o.Yi(),o.bj(r),o.eX(),r=new t.l;var a=new t.l;s.A(r),n.A(a);var u=!1;return t.ud.dk(r,a,h)&&(o.PG(s,n),u=!0),u||4!=t.ud.qc(s,n,!1)||(o.PG(s,n),u=!0),u||(s=(r=new t.gd).Ib(s),n=r.Ib(n),o.Wo(r,h,e),o.Yh=o.j.Dp(),o.kh=o.j.Dp(),i.Jw(s,o.j,o.Yh),i.Jw(n,o.j,o.kh),o.Bp(s,n),o.j.Ep(o.Yh),o.j.Ep(o.kh),o.j.Ug()),i.fg(o.J,o.Xc)},i.st=function(s,n,h,r,e){var o=new i;o.Yi(),o.bj(r),o.MJ(),r=new t.l;var a=new t.l;s.A(r),n.A(a);var u=!1;return t.ud.dk(r,a,h)&&(o.Vz(s),u=!0),u||4!=t.ud.qc(s,n,!1)||(o.Vz(s),u=!0),u||(s=(r=new t.gd).Ib(s),n=r.Ib(n),o.Wo(r,h,e),o.Yh=o.j.Dp(),i.Jw(s,o.j,o.Yh),o.Gy(s,n),o.j.Ep(o.Yh),o.j.Ug()),i.fg(o.J,o.Xc)},i.ZA=function(s,n,h,r,e){var o=new i;o.Yi(),o.bj(r),o.RJ(),r=new t.l;var a=new t.l;s.A(r),n.A(a);var u=!1;return t.ud.dk(r,a,h)&&(o.yI(),u=!0),u||(s=(r=new t.gd).Ib(s),n=r.Ib(n),o.Wo(r,h,e),o.Gy(s,n),o.j.Ug()),i.fg(o.J,o.Xc)},i.qt=function(s,n,h,r){var e=new i;e.Yi(),e.bj(r),e.yJ();var o=new t.l;s.A(o),n=n.D();var a=!1;return t.ud.Rw(n,o,h)&&(e.Eu(s),a=!0),a||(1==(h=t.hd.Yd(s,n,h))?(e.J[0]=0,e.J[2]=2,e.J[3]=-1,e.J[5]=1,e.J[6]=-1):2==h?(e.J[6]=-1,0!=s.Ke()?(e.J[0]=-1,e.J[3]=0,e.J[2]=2,e.J[5]=1):(e.J[0]=0,e.J[3]=-1,e.J[5]=-1,h=new t.l,s.A(h),e.J[2]=0==h.ca()&&0==h.R()?-1:1)):e.Eu(s)),this.fg(e.J,r)},i.tt=function(s,n,h,r,e){var o=new i;o.Yi(),o.bj(r),o.MJ();var a=new t.l;s.A(a),r=n.D();var u=!1;if(t.ud.Rw(r,a,h)&&(o.Vz(s),u=!0),!u){a=null;var f=u=!1;(o.ea[0]||o.ea[6])&&(t.ud.Yz(s,r,h)?(o.ea[0]&&(a=t.pi.gm(s,e),f=!t.ud.kt(a,r,h),u=!0,o.J[0]=f?-1:0),o.J[6]=-1):(o.J[0]=-1,o.J[6]=0)),o.ea[3]&&(null!=a&&a.B()?o.J[3]=-1:(u||(null==a&&(a=t.pi.gm(s,e)),f=!t.ud.kt(a,r,h),u=!0),o.J[3]=f?0:-1)),o.ea[5]&&(null!=a&&a.B()?o.J[5]=-1:u&&!f?o.J[5]=0:(null==a&&(a=t.pi.gm(s,e)),e=t.ud.Nw(a,n,h),o.J[5]=e?-1:0)),o.ea[2]&&(0!=s.Qb()?o.J[2]=1:((e=new t.de(s.description)).Fd(s,0,s.I()),s=t.ud.Nw(e,n,h),o.J[2]=s?-1:0))}return this.fg(o.J,o.Xc)},i.lt=function(s,n,h,r){var e=new i;e.Yi(),e.bj(r),e.RJ();var o=new t.l;s.A(o),n=n.D();var a=!1;if(t.ud.Rw(n,o,h)&&(e.yI(),a=!0),!a){o=!1,a=!0,h*=h;for(var u=0;u<s.I();u++){var f=s.Na(u);if(t.h.yc(f,n)<=h?o=!0:a=!1,o&&!a)break}o?(e.J[0]=0,e.J[2]=a?-1:0,e.J[6]=-1):(e.J[0]=-1,e.J[2]=0,e.J[6]=0)}return i.fg(e.J,r)},i.$U=function(s,n,h,r){s=s.D(),n=n.D();for(var e=[],o=0;9>o;o++)e[o]=-1;return t.h.yc(s,n)<=h*h?e[0]=0:(e[2]=0,e[6]=0),e[8]=2,i.fg(e,r)},i.fg=function(t,i){for(var s=0;9>s;s++)switch(i.charAt(s)){case"T":if(-1==t[s])return!1;break;case"F":if(-1!=t[s])return!1;break;case"0":if(0!=t[s])return!1;break;case"1":if(1!=t[s])return!1;break;case"2":if(2!=t[s])return!1}return!0},i.uW=function(i,s,n){var h=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(i.B()&&s.B()){for(var r=0;9>r;r++)h[r]=-1;return this.fg(h,n)}return r=!1,i.B()&&(i=s,r=!0),h[0]=-1,h[1]=-1,h[3]=-1,h[4]=-1,h[6]=-1,h[7]=-1,h[8]=2,s=i.getType(),t.aa.Hc(s)?1736==s?0!=i.Ke()?(h[2]=2,h[5]=1):(h[5]=-1,s=new t.l,i.A(s),h[2]=0==s.ca()&&0==s.R()?0:1):(s=0!=i.Qb(),h[2]=s?1:0,h[5]=t.pi.aq(i)?0:-1):(h[2]=0,h[5]=-1),r&&this.vK(h),this.fg(h,n)},i.MR=function(t,s,n){return i.dQ(t)?3:i.UP(t)?4:i.cY(t,s,n)?8:i.CP(t,s,n)?16:i.eP(t)?1:i.EU(t,s,n)?32:0},i.dQ=function(t){return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"F"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"F"==t.charAt(5)&&"F"==t.charAt(6)&&"F"==t.charAt(7)&&"*"==t.charAt(8)},i.UP=function(t){return"F"==t.charAt(0)&&"F"==t.charAt(1)&&"*"==t.charAt(2)&&"F"==t.charAt(3)&&"F"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)},i.cY=function(t,i,s){return(0!=i||0!=s)&&((2!=i||2!=s)&&("F"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"T"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)||1==i&&1==s&&"F"==t.charAt(0)&&"T"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))||0!=s&&"F"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"T"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))},i.CP=function(t,i,s){return i>s?"T"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8):1==i&&1==s&&"0"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"*"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8)},i.eP=function(t){return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"*"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"F"==t.charAt(6)&&"F"==t.charAt(7)&&"*"==t.charAt(8)},i.EU=function(t,i,s){if(i==s){if(1!=i)return"T"==t.charAt(0)&&"*"==t.charAt(1)&&"T"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8);if("1"==t.charAt(0)&&"*"==t.charAt(1)&&"T"==t.charAt(2)&&"*"==t.charAt(3)&&"*"==t.charAt(4)&&"*"==t.charAt(5)&&"T"==t.charAt(6)&&"*"==t.charAt(7)&&"*"==t.charAt(8))return!0}return!1},i.Jw=function(t,i,s){t=i.La(t);for(var n=i.Re;-1!=n;n=i.Rf(n))if(0!=(i.xd(n)&t)){var h=i.Me(n);if(-1==h)i.nn(n,s,0);else{var r=h,e=0;do{0!=(i.dh(r)&t)&&e++,r=i.jc(i.xa(r))}while(r!=h);i.nn(n,s,e)}}},i.Zp=function(t){var i=""+t.charAt(0);return i+=t.charAt(3),i+=t.charAt(6),i+=t.charAt(1),i+=t.charAt(4),i+=t.charAt(7),i+=t.charAt(2),(i+=t.charAt(5))+t.charAt(8)},i.prototype.Yi=function(){for(var t=0;9>t;t++)this.J[t]=-2,this.Za[t]=-2},i.vK=function(t){var i=t[1],s=t[2],n=t[5];t[1]=t[3],t[2]=t[6],t[5]=t[7],t[3]=i,t[6]=s,t[7]=n},i.prototype.bj=function(t){for(this.Xc=t,t=0;9>t;t++)"*"!=this.Xc.charAt(t)?(this.ea[t]=!0,this.le++):this.ea[t]=!1},i.prototype.UJ=function(){for(var t=0;9>t;t++)this.ea[t]&&-2==this.J[t]&&(this.J[t]=-1,this.ea[t]=!1)},i.prototype.pc=function(t){return-2!=this.J[t]&&(-1==this.J[t]?(this.ea[t]=!1,this.le--,!0):"T"!=this.Xc.charAt(t)&&"F"!=this.Xc.charAt(t)?!(this.J[t]<this.Za[t])&&(this.ea[t]=!1,this.le--,!0):(this.ea[t]=!1,this.le--,!0))},i.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},i.prototype.xN=function(t,i,s){var n=!0;return this.ea[0]&&(this.CS(t,i,s),n=n&&this.pc(0)),this.ea[1]&&(this.sG(t,i,1),n=n&&this.pc(1)),this.ea[2]&&(this.tG(t,i,s,2),n=n&&this.pc(2)),this.ea[3]&&(this.sG(t,s,3),n=n&&this.pc(3)),this.ea[4]&&(this.BN(t,i,s),n=n&&this.pc(4)),this.ea[5]&&(this.eE(t,s,5),n=n&&this.pc(5)),this.ea[6]&&(this.tG(t,s,i,6),n=n&&this.pc(6)),this.ea[7]&&(this.eE(t,i,7),n=n&&this.pc(7)),n},i.prototype.Cu=function(t,i){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(t,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(i,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},i.prototype.Fr=function(i,s,n,h,r){-1==s&&-1==h||(("T"!=n&&"F"!=n&&-1!=s||"T"!=r&&"F"!=r&&-1!=h)&&0==i.Ke()?(-1!=h&&(this.J[h]=-1),-1!=s&&(n=new t.l,i.A(n),this.J[s]=0==n.ca()&&0==n.R()?0:1)):(-1!=s&&(this.J[s]=2),-1!=h&&(this.J[h]=1)))},i.prototype.ly=function(t){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(t,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},i.prototype.ZD=function(t){this.ly(t),i.vK(this.J)},i.prototype.Du=function(i,s){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var n=this.Xc.charAt(6);n="T"==n||"F"==n||0!=s.Qb(),this.J[6]=n?1:0}this.ea[7]&&(s=t.pi.aq(s),this.J[7]=s?0:-1),this.Fr(i,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},i.prototype.$D=function(i){if(this.ea[0]){var s=this.Xc.charAt(0);s="T"==s||"F"==s||0!=i.Qb(),this.J[0]=s?1:0}this.ea[1]&&(i=t.pi.aq(i),this.J[1]=i?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},i.prototype.Eu=function(t){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(t,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},i.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},i.prototype.PG=function(i,s){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var n=this.Xc.charAt(2);n="T"==n||"F"==n||0!=i.Qb(),this.J[2]=n?1:0}this.ea[5]&&(i=t.pi.aq(i),this.J[5]=i?0:-1),this.ea[6]&&(n="T"==(n=this.Xc.charAt(6))||"F"==n||0!=s.Qb(),this.J[6]=n?1:0),this.ea[7]&&(s=t.pi.aq(s),this.J[7]=s?0:-1)},i.prototype.Vz=function(i){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var s=this.Xc.charAt(2);s="T"==s||"F"==s||0!=i.Qb(),this.J[2]=s?1:0}this.ea[5]&&(i=t.pi.aq(i),this.J[5]=i?0:-1),this.J[6]=0},i.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},i.prototype.yN=function(t,i,s){var n=!0;return this.ea[0]&&(this.DS(t,i),n=n&&this.pc(0)),this.ea[1]&&(this.zS(t,i,s,this.kh),n=n&&this.pc(1)),this.ea[2]&&(this.AS(t,i),n=n&&this.pc(2)),this.ea[3]&&(this.FN(t,i,s,this.kh),n=n&&this.pc(3)),this.ea[4]&&(this.CN(t,i,s,this.kh),n=n&&this.pc(4)),this.ea[5]&&(this.DN(t,i,s),n=n&&this.pc(5)),this.ea[6]&&(this.lQ(t,i),n=n&&this.pc(6)),this.ea[7]&&(this.kQ(t,i,s,this.kh),n=n&&this.pc(7)),n},i.prototype.mT=function(t,i,s){var n=!0;return this.ea[0]&&(this.GS(t,i,s,this.Yh,this.kh),n=n&&this.pc(0)),this.ea[1]&&(this.uG(t,i,s,this.Yh,this.kh,1),n=n&&this.pc(1)),this.ea[2]&&(this.vG(t,i,s,2),n=n&&this.pc(2)),this.ea[3]&&(this.uG(t,s,i,this.kh,this.Yh,3),n=n&&this.pc(3)),this.ea[4]&&(this.HN(t,i,s,this.Yh,this.kh),n=n&&this.pc(4)),this.ea[5]&&(this.fE(t,s,this.Yh,5),n=n&&this.pc(5)),this.ea[6]&&(this.vG(t,s,i,6),n=n&&this.pc(6)),this.ea[7]&&(this.fE(t,i,this.kh,7),n=n&&this.pc(7)),n},i.prototype.aE=function(t,i,s){var n=!0;return this.ea[0]&&(this.ES(t,i),n=n&&this.pc(0)),this.ea[2]&&(this.BS(t,i),n=n&&this.pc(2)),this.ea[3]&&(this.GN(t,i,s),n=n&&this.pc(3)),this.ea[5]&&(this.EN(t,i),n=n&&this.pc(5)),this.ea[6]&&(this.mQ(t,i),n=n&&this.pc(6)),n},i.prototype.QG=function(t,i,s){var n=!0;return this.ea[0]&&(this.HS(t,i,s,this.Yh),n=n&&this.pc(0)),this.ea[2]&&(this.FS(t,s),n=n&&this.pc(2)),this.ea[3]&&(this.JN(t,i,s,this.Yh),n=n&&this.pc(3)),this.ea[5]&&(this.IN(t,i,s,this.Yh),n=n&&this.pc(5)),this.ea[6]&&(this.nQ(t,i,s),n=n&&this.pc(6)),n},i.prototype.ZU=function(t,i,s){var n=!0;return this.ea[0]&&(this.IS(t,i,s),n=n&&this.pc(0)),this.ea[2]&&(this.wG(t,i,s,2),n=n&&this.pc(2)),this.ea[6]&&(this.wG(t,s,i,6),n=n&&this.pc(6)),n},i.prototype.CS=function(t,i,s){2!=this.J[0]&&(0!=((t=this.j.af(t))&i)&&0!=(t&s)&&(this.J[0]=2))},i.prototype.sG=function(t,i,s){if(1!=this.J[s]){var n=this.j.af(this.j.xa(t));0!=(this.j.af(t)&i)&&0!=(n&i)&&(this.J[s]=1)}},i.prototype.tG=function(t,i,s,n){2!=this.J[n]&&(0!=((t=this.j.af(t))&i)&&0==(t&s)&&(this.J[n]=2))},i.prototype.BN=function(t,i,s){if(1!=this.J[4]){var n=this.j.dh(t);0!=(n&i)&&0!=(n&s)?this.J[4]=1:0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(0!=((t=this.j.xd(this.j.uf(t)))&i)&&0!=(t&s)&&(this.J[4]=0))}},i.prototype.eE=function(t,i,s){if(1!=this.J[s]){var n=this.j.af(this.j.xa(t));0==(this.j.af(t)&i)&&0==(n&i)&&(this.J[s]=1)}},i.prototype.DS=function(t,i){if(1!=this.J[0]){var s=this.j.af(this.j.xa(t));0!=(this.j.af(t)&i)&&0!=(s&i)&&(this.J[0]=1)}},i.prototype.zS=function(t,i,s,n){if(0!=this.J[1]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var h=this.j.uf(t),r=this.j.xd(h);0==(r&i)&&0!=(this.j.af(t)&i)&&(t=this.j.ng(h,n),0!=(r&s)&&0!=t%2&&(this.J[1]=0))}},i.prototype.AS=function(t,i){2!=this.J[2]&&0!=(this.j.dh(t)&i)&&(this.J[2]=2)},i.prototype.FN=function(t,i,s,n){if(1!=this.J[3]){var h=this.j.dh(t);0!=(h&i)&&0!=(h&s)?this.J[3]=1:0!=this.J[3]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(h=this.j.uf(t),0!=((t=this.j.xd(h))&i)&&(i=this.j.ng(h,n),0!=(t&s)&&0==i%2&&(this.J[3]=0)))}},i.prototype.CN=function(t,i,s,n){if(0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var h=this.j.uf(t);0!=((t=this.j.xd(h))&i)&&(i=this.j.ng(h,n),0!=(t&s)&&0!=i%2&&(this.J[4]=0))}},i.prototype.DN=function(t,i,s){1!=this.J[5]&&(0!=((t=this.j.dh(t))&i)&&0==(t&s)&&(this.J[5]=1))},i.prototype.lQ=function(t,i){if(1!=this.J[6]){var s=this.j.af(this.j.xa(t));0==(this.j.af(t)&i)&&0==(s&i)&&(this.J[6]=1)}},i.prototype.kQ=function(t,i,s,n){if(0!=this.J[7]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){var h=this.j.uf(t),r=this.j.xd(h);0==(r&i)&&0==(this.j.af(t)&i)&&(t=this.j.ng(h,n),0!=(r&s)&&0!=t%2&&(this.J[7]=0))}},i.prototype.GS=function(t,i,s,n,h){if(1!=this.J[0]){var r=this.j.dh(t);0!=(r&i)&&0!=(r&s)?this.J[0]=1:0!=this.J[0]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(t=this.j.uf(t),0!=((r=this.j.xd(t))&i)&&0!=(r&s)&&(i=this.j.ng(t,n),h=this.j.ng(t,h),0==i%2&&0==h%2&&(this.J[0]=0)))}},i.prototype.uG=function(t,i,s,n,h,r){if(0!=this.J[r]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){t=this.j.uf(t);var e=this.j.xd(t);0!=(e&i)&&0!=(e&s)&&(i=this.j.ng(t,n),h=this.j.ng(t,h),0==i%2&&0!=h%2&&(this.J[r]=0))}},i.prototype.vG=function(t,i,s,n){1!=this.J[n]&&(0!=((t=this.j.dh(t))&i)&&0==(t&s)&&(this.J[n]=1))},i.prototype.HN=function(t,i,s,n,h){if(0!=this.J[4]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)){t=this.j.uf(t);var r=this.j.xd(t);0!=(r&i)&&0!=(r&s)&&(i=this.j.ng(t,n),h=this.j.ng(t,h),0!=i%2&&0!=h%2&&(this.J[4]=0))}},i.prototype.fE=function(t,i,s,n){0!=this.J[n]&&1!=this.j.Ab(this.j.te(this.j.xa(t)),this.Ui)&&(t=this.j.uf(t),0==(this.j.xd(t)&i)&&0!=this.j.ng(t,s)%2&&(this.J[n]=0))},i.prototype.ES=function(t,i){0!=this.J[0]&&0==(this.j.xd(t)&i)&&0!=(this.j.hk(this.j.cz(t))&i)&&(this.J[0]=0)},i.prototype.BS=function(t,i){2!=this.J[2]&&0!=(this.j.xd(t)&i)&&(this.J[2]=2)},i.prototype.GN=function(t,i,s){0!=this.J[3]&&(0!=((t=this.j.xd(t))&i)&&0!=(t&s)&&(this.J[3]=0))},i.prototype.EN=function(t,i){1!=this.J[5]&&0!=(this.j.xd(t)&i)&&(this.J[5]=1)},i.prototype.mQ=function(t,i){0!=this.J[6]&&0==(this.j.xd(t)&i)&&0==(this.j.hk(this.j.cz(t))&i)&&(this.J[6]=0)},i.prototype.HS=function(t,i,s,n){if(0!=this.J[0]){var h=this.j.xd(t);0!=(h&i)&&0!=(h&s)&&0==this.j.ng(t,n)%2&&(this.J[0]=0)}},i.prototype.FS=function(t,i){1!=this.J[2]&&(-1!=this.j.Me(t)?this.J[2]=1:0!=this.J[2]&&0==(this.j.xd(t)&i)&&(this.J[2]=0))},i.prototype.JN=function(t,i,s,n){if(0!=this.J[3]){var h=this.j.xd(t);0!=(h&i)&&0!=(h&s)&&0!=this.j.ng(t,n)%2&&(this.J[3]=0)}},i.prototype.IN=function(t,i,s,n){if(0!=this.J[5]){var h=this.j.xd(t);0!=(h&i)&&0==(h&s)&&0!=this.j.ng(t,n)%2&&(this.J[5]=0)}},i.prototype.nQ=function(t,i,s){0!=this.J[6]&&(0==((t=this.j.xd(t))&i)&&0!=(t&s)&&(this.J[6]=0))},i.prototype.IS=function(t,i,s){0!=this.J[0]&&(0!=((t=this.j.xd(t))&i)&&0!=(t&s)&&(this.J[0]=0))},i.prototype.wG=function(t,i,s,n){0!=this.J[n]&&(0!=((t=this.j.xd(t))&i)&&0==(t&s)&&(this.J[n]=0))},i.prototype.Bp=function(i,s){var n=!1;i=this.j.La(i),s=this.j.La(s),this.Ui=this.j.$g();for(var h=this.j.Re;-1!=h;h=this.j.Rf(h)){var r=this.j.Me(h);if(-1==r){if(-1!=this.Sm)switch(this.Sm){case 3:n=this.aE(h,i,s);break;case 4:n=this.QG(h,i,s);break;default:throw t.i.fa("internal error")}}else{var e=r;do{var o=e;if(1!=this.j.Ab(o,this.Ui))do{switch(this.vw){case 0:n=this.xN(o,i,s);break;case 1:n=this.yN(o,i,s);break;case 2:n=this.mT(o,i,s);break;default:throw t.i.fa("internal error")}if(n)break;this.j.Kb(o,this.Ui,1),o=this.j.jc(o)}while(o!=e&&!n);if(n)break;e=this.j.jc(this.j.xa(o))}while(e!=r);if(n)break}}n||this.UJ(),this.j.Jg(this.Ui)},i.prototype.Gy=function(i,s){var n=!1;i=this.j.La(i),s=this.j.La(s);for(var h=this.j.Re;-1!=h;h=this.j.Rf(h)){switch(this.Sm){case 3:n=this.aE(h,i,s);break;case 4:n=this.QG(h,i,s);break;case 5:n=this.ZU(h,i,s);break;default:throw t.i.Qa()}if(n)break}n||this.UJ()},i.prototype.er=function(t,i){this.j.dr(t,i)},i.prototype.Wo=function(t,i,s){this.YP(t,i,s),this.er(t,s)},i.prototype.YP=function(i,s,n){for(t.Tk.V(i,s,n,!1),i.Gp(0,!0,!0),s=i.ld;-1!=s;s=i.ue(s))1736==i.ic(s)&&t.rn.V(i,s,-1,!1,n)},i.WE=function(i,s){var n=i.getType();return t.aa.yd(n)?((s=new t.Ta(i.description)).oc(i,!0),s):197==n?(n=new t.l,i.A(n),n.ca()<=s&&n.R()<=s?(s=new t.Sa(i.description),i.sf(s),s):n.ca()<=s||n.R()<=s?(s=new t.Ta(i.description),n=new t.Sa,i.Hf(0,n),s.nf(n),i.Hf(2,n),s.lineTo(n),s):((s=new t.Da(i.description)).ad(i,!1),s)):i},i}(),t.am=i}(Q||(Q={})),function(t){var i=function(){function i(i){this.Em=new t.ia(0),this.dw=new t.ia(0),this.wt=new t.h,this.xt=new t.h,this.g=i,this.Hs=-1}return i.prototype.bc=function(t){return this.g.bc(this.zz(t))},i.prototype.Bv=function(t){var i=this.iz(t);if(t=this.HF(t),this.g.Ma(i)==t){var s=i;i=t,t=s}return this.g.Gc(i,this.wt),this.g.Gc(t,this.xt),this.wt.y<this.xt.y},i.prototype.zz=function(t){var i=this.iz(t);return t=this.HF(t),this.g.U(i)==t?i:t},i.prototype.iz=function(t){return this.Em.get(t)},i.prototype.HF=function(t){return this.dw.get(t)},i.prototype.rF=function(t){this.Em.set(t,this.Hs),this.Hs=t},i.prototype.nI=function(i){if(-1!=this.Hs){var s=this.Hs;return this.Hs=this.Em.get(s),this.Em.set(s,i),this.dw.set(s,this.g.U(i)),s}return null==this.Em&&(this.Em=new t.ia(0),this.dw=new t.ia(0)),s=this.Em.size,this.Em.add(i),this.dw.add(this.g.U(i)),s},i.prototype.rz=function(t){return this.g.bd(this.iz(t))},i}();t.yY=i;var s=function(){function i(i){this.Be=i,this.ie=new t.yb,this.Nm=new t.yb,this.CH=0,this.Ao=null,this.yA=-1}return i.prototype.compare=function(t,i,s){s=t.ja(s);var n=this.Be.hb;if(this.yA==i)var h=this.CH;else this.Ao=n.bc(i),null==this.Ao?((t=n.g).ed(n.zz(i),this.ie),this.Ao=this.ie,h=this.ie.Pe(this.Be.yh,0)):h=this.Ao.Pe(this.Be.yh,0),this.CH=h,this.yA=i;if(null==(t=n.bc(s))){(t=n.g).ed(n.zz(s),this.Nm),t=this.Nm;var r=this.Nm.Pe(this.Be.yh,0)}else r=t.Pe(this.Be.yh,0);return h==r&&(i=n.Bv(i),s=n.Bv(s),(i=.5*((s=Math.min(i?this.Ao.la:this.Ao.na,s?t.la:t.na))+this.Be.yh))==this.Be.yh&&(i=s),h=this.Ao.Pe(i,0),r=t.Pe(i,0)),h<r?-1:h>r?1:0},i.prototype.reset=function(){this.yA=-1},i}(),n=function(){function n(){this.Wm=this.Gl=null,this.fb=new t.Yj,this.fb.RP(),this.$d=new s(this),this.fb.Vo(this.$d)}return n.prototype.HQ=function(){var i=!1;if(this.fw&&(i=this.IQ()),1==this.g.da(this.X)){var s=this.g.Ob(this.X);return i=this.g.wz(s),this.g.PB(s,!0),0>i&&(i=this.g.Xa(s),this.g.pJ(i),this.g.Wg(s,this.g.Ma(i)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),s=this.g.Ob(this.X);-1!=s;s=this.g.Rb(s))this.g.gr(s,this.El,0),this.g.gr(s,this.wo,-1);s=new t.ia(0),this.yh=NaN;var n=new t.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var h=this.Gl.rc(this.Gl.je);-1!=h;h=this.Gl.lb(h)){var r=this.Gl.getData(h);if(this.g.Gc(r,n),n.y!=this.yh&&0!=s.size&&(i=this.ut(s)||i,this.$d.reset(),s.clear(!1)),s.add(r),this.yh=n.y,0==this.et)break}for(0<this.et&&(i=this.ut(s)||i,s.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),s=this.g.Ob(this.X);-1!=s;)if(3==this.g.sj(s,this.El)){for(this.g.PB(s,!0),n=s,s=this.g.sj(s,this.wo);-1!=s;)h=this.g.sj(s,this.wo),this.g.ZT(this.X,this.g.Rb(n),s),n=s,s=h;s=this.g.Rb(n)}else this.g.PB(s,!1),s=this.g.Rb(s);return this.g.CB(this.El),this.g.CB(this.wo),i},n.prototype.ut=function(t){return this.$V(t)},n.prototype.$V=function(s){var n=!1;null==this.hb&&(this.hb=new i(this.g)),null==this.Wm?(this.Wm=new t.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(s);for(var h=0,r=s.size;h<r;h++){var e=s.get(h);-1!=e&&this.oG(e,-1)}for(h=0;h<this.Wm.size&&0<this.et;h++)if(s=this.Wm.get(h),e=this.hb.rz(this.fb.ja(s)),r=-1,0==this.g.sj(e,this.El)){e=this.fb.we(s);for(var o,a=s;-1!=e;){var u=this.fb.ja(e),f=this.hb.rz(u),c=this.g.sj(f,this.El);if(0!=c){r=f;break}a=e,e=this.fb.we(e)}-1==e?(o=!0,e=a):(u=this.fb.ja(e),o=this.hb.Bv(u),e=this.fb.lb(e),o=!o);do{if(u=this.fb.ja(e),f=this.hb.rz(u),0==(c=this.g.sj(f,this.El))&&(o!=this.hb.Bv(u)&&(n=this.g.Xa(f),this.g.pJ(n),this.g.Wg(f,this.g.Ma(n)),n=!0),this.g.gr(f,this.El,o?3:2),o||(a=this.g.sj(r,this.wo),this.g.gr(r,this.wo,f),this.g.gr(f,this.wo,a)),this.et--,0==this.et))return n;r=f,a=e,e=this.fb.lb(e),o=!o}while(a!=s)}return n},n.prototype.ZV=function(t){for(var i=0,s=t.size;i<s;i++){var n=t.get(i),h=this.g.Pa(n,this.ro),r=this.g.Pa(n,this.Rs);if(-1!=h){var e=this.fb.ja(h);this.hb.rF(e),this.g.Ra(n,this.ro,-1)}-1!=r&&(e=this.fb.ja(r),this.hb.rF(e),this.g.Ra(n,this.Rs,-1)),e=-1,-1!=h&&-1!=r?(this.fb.vd(h,-1),this.fb.vd(r,-1),t.set(i,-1)):e=-1!=h?h:r,-1!=e&&(this.oG(n,e)||this.fb.vd(e,-1),t.set(i,-1))}},n.prototype.oG=function(i,s){var n=new t.h,h=new t.h;this.g.Gc(i,n);var r=this.g.U(i);this.g.Gc(r,h);var e=!1;if(n.y<h.y){e=!0;var o=this.hb.nI(i);if(-1==s)var a=this.fb.addElement(o,-1);else a=s,this.fb.Sj(a,o);-1==(o=this.g.Pa(r,this.ro))?this.g.Ra(r,this.ro,a):this.g.Ra(r,this.Rs,a),r=this.g.bd(i),0==this.g.sj(r,this.El)&&this.Wm.add(a)}return r=this.g.Ma(i),this.g.Gc(r,h),n.y<h.y&&(e=!0,o=this.hb.nI(r),-1==s?a=this.fb.addElement(o,-1):(a=s,this.fb.Sj(a,o)),-1==(o=this.g.Pa(r,this.ro))?this.g.Ra(r,this.ro,a):this.g.Ra(r,this.Rs,a),r=this.g.bd(i),0==this.g.sj(r,this.El)&&this.Wm.add(a)),e},n.V=function(t,i,s,h){var r=new n;return r.g=t,r.X=i,r.Gl=s,r.fw=h,r.HQ()},n.prototype.IQ=function(){var i=new t.ia(0),s=new t.ia(0),n=-1,h=-1,r=new t.h;r.Rc();for(var e=-1,o=-1,a=-1,u=new t.h,f=this.Gl.rc(this.Gl.je);-1!=f;f=this.Gl.lb(f)){var c=this.Gl.getData(f);this.g.Gc(c,u);var l=this.g.bd(c);r.qb(u)&&o==l?(-1==h&&(n=this.g.Ky(),h=this.g.Gd()),-1==a&&(a=s.size,this.g.Ra(e,h,a),s.add(1),-1==this.g.sj(l,n)&&(this.g.gr(l,n,e),i.add(l))),this.g.Ra(c,h,a),s.bX(s.Fc()+1)):(a=-1,r.L(u)),e=c,o=l}if(0==i.size)return!1;for(r=new t.ia(0),e=new t.ia(0),o=0,a=i.size;o<a;o++){l=i.get(o);var p=this.g.sj(l,n);for(c=this.g.Pa(p,h),r.clear(!1),e.clear(!1),r.add(p),e.add(c),c=this.g.U(p);c!=p;c=this.g.U(c)){var v=c;if(-1!=(u=this.g.Pa(v,h)))if(0==e.size)e.add(u),r.add(v);else if(e.Fc()==u){f=r.Fc();var y=this.g.U(f);p=this.g.U(v),this.g.Bc(f,p),this.g.Cc(p,f),this.g.Bc(v,y),this.g.Cc(y,v),v=[!1],y=this.g.nG(this.X,y,this.g.Xa(l),v),this.g.Ra(c,h,-1),v[0]&&this.g.Jf(l,p),c=this.g.Ja(l),c-=p=this.g.Ja(y),this.g.Vj(l,c),s.set(u,s.get(u)-1),1==s.get(u)&&(s.set(u,0),e.If(),r.If()),c=p=f}else r.add(c),e.add(u)}}return this.g.CB(n),this.g.Td(h),!0},n}();t.WL=n}(Q||(Q={})),function(t){var i=function(){function i(){}return i.prototype.ig=function(){this.PA=this.sb=null},i.prototype.get=function(){return this.PA},i.prototype.set=function(i){if(this.PA=i,null!=i)throw 322==i.getType()&&(this.sb=i),t.i.Qa()},i.prototype.create=function(i){if(322!=i)throw t.i.fa("Not Implemented");this.Or()},i.prototype.Or=function(){null==this.sb&&(this.sb=new t.yb),this.PA=this.sb},i}();t.ig=i}(Q||(Q={})),function(t){(t=t.XL||(t.XL={}))[t.enumLineSeg=1]="enumLineSeg",t[t.enumBezierSeg=2]="enumBezierSeg",t[t.enumArcSeg=4]="enumArcSeg",t[t.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",t[t.enumSegmentMask=7]="enumSegmentMask",t[t.enumDensified=8]="enumDensified"}(Q||(Q={})),function(t){var i=function(t){this.$i=t,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},s=function(){function s(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new t.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return s.prototype.wB=function(t){if(null!=t){for(var i=0,s=t.length;i<s;i++)this.rW(t[i]);t.length=0}},s.prototype.rW=function(t){t.$i=null,this.Iq.push(t)},s.prototype.Ow=function(t){if(0===this.Iq.length)var s=new i(t);else(s=this.Iq[this.Iq.length-1]).$i=t,--this.Iq.length;return s},s.prototype.SR=function(t,i){return 0==t?this.$s[i]:this.yw[i]},s.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new t.ig);var i=this.MA[this.Cw];return this.Cw++,i},s.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},s.prototype.Oo=function(t){this.mo.push(this.Ow(t))},s.prototype.ol=function(t){return 0==t?this.$s.length:this.yw.length},s.prototype.Vp=function(t,i){return this.SR(t,i).$i},s.prototype.Ea=function(i,s){if(2!=this.mo.length)throw t.i.Qa();this.qa=i;var n=t.lc.ox(.01*i),h=!1,r=this.mo[0],e=this.mo[1];if(s||0!=(5&r.$i.zr(e.$i,i,!0))){if(322==r.$i.getType()){var o=r.$i;if(322==e.$i.getType()){s=e.$i;var a=t.yb.Zx(o,s,null,this.Fq,this.Bk,i);if(0==a)throw t.yb.Zx(o,s,null,this.Fq,this.Bk,i),t.i.Qa();i=Array(9),t.O.$u(i,null);for(var u=0;u<a;u++){var f=this.Fq[u],c=this.Bk[u],l=r.sB,p=1;0==f?(l=r.tB,p=r.rC):1==f&&(l=r.rB,p=r.qC);var v=e.sB,y=1;0==c?(v=e.tB,y=e.rC):1==c&&(v=e.rB,y=e.qC);var d=new t.h;l==v?(l=new t.h,o.hc(f,l),f=new t.h,s.hc(c,f),y/=c=p+y,t.lc.OG(l,f,y,d),t.h.yc(d,l)+t.h.yc(d,f)>n&&(h=!0)):l>v?(o.hc(f,d),f=new t.h,s.hc(c,f),t.h.yc(d,f)>n&&(h=!0)):(s.hc(c,d),l=new t.h,o.hc(f,l),t.h.yc(d,l)>n&&(h=!0)),i[u]=d}for(r=0,e=-1,u=0;u<=a;u++)(y=u<a?this.Fq[u]:1)!=r&&(n=this.aB(),o.ah(r,y,n),-1!=e&&n.get().Dc(i[e]),u!=a&&n.get().Qc(i[u]),r=y,this.$s.push(this.Ow(n.get()))),e=u;for(o=[0,0,0,0,0,0,0,0,0],u=0;u<a;u++)o[u]=u;for(1<a&&this.Bk[0]>this.Bk[1]&&(y=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=y,u=o[0],o[0]=o[1],o[1]=u),r=0,e=-1,u=0;u<=a;u++)(y=u<a?this.Bk[u]:1)!=r&&(n=this.aB(),s.ah(r,y,n),-1!=e&&(r=o[e],n.get().Dc(i[r])),u!=a&&(r=o[u],n.get().Qc(i[r])),r=y,this.yw.push(this.Ow(n.get()))),e=u;return h}}throw t.i.Qa()}return!1},s.prototype.Kz=function(i,s,n){if(s.copyTo(this.Bf),1!=this.mo.length)throw t.i.Qa();this.qa=i;var h=this.mo[0];if(n||h.$i.ru(s.D(),i,!0)){if(322!=h.$i.getType())throw t.i.Qa();var r=(i=h.$i).fe(s.D(),!1);this.Fq[0]=r;var e=h.sB;for(n=1,0==r?(e=h.tB,n=h.rC):1==r&&(e=h.rB,n=h.qC),h=new t.h,0==e?(e=new t.h,i.hc(r,e),s=s.D(),t.lc.OG(e,s,1/(n+1),h)):0<e?(h=new t.h,i.hc(r,h)):h=s.D(),n=0,r=-1,e=0;1>=e;e++){if((s=1>e?this.Fq[e]:1)!=n){var o=this.aB();i.ah(n,s,o),-1!=r&&o.get().Dc(h),1!=e&&o.get().Qc(h),n=s,this.$s.push(this.Ow(o.get()))}r=e}this.Bf.Cb(h)}},s}();t.TC=s}(Q||(Q={})),function(t){var i=function(){function i(i){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=i,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new t.h}return i.prototype.BW=function(i){if(this.ib!=i.ib)throw t.i.Hb();this.zf=i.zf,this.Jd=i.Jd,this.gb=i.gb,this.Cl=i.Cl,this.ag=i.ag,this.zm=i.zm,this.rk=null},i.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw t.i.ce();this.Jd++}return this.rk},i.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(0==this.Jd)throw t.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},i.prototype.DW=function(){this.zf=-1,this.Jd=0},i.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},i.prototype.Vb=function(t,i){if(void 0===i&&(i=-1),0<=this.gb&&this.gb<this.ib.da()){var s=this.IM();if(t>=s&&t<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=t-s)}i=0<=i&&i<this.ib.da()&&t>=this.ib.Ba(i)&&t<this.ib.Vc(i)?i:this.ib.sz(t),this.Cl=i+1,this.gb=i,this.zf=-1,this.Jd=t-this.ib.Ba(i),this.ag=this.Wx(i),this.ib.Ba(this.gb),this.ib.dc(this.gb)},i.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da())&&(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,!0)},i.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},i.prototype.Wx=function(t){if(this.ib.Ac())return 0;var i=1;return this.ib.dc(t)&&(i=0),this.ib.Ja(t)-i},i.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},i.prototype.JB=function(){this.zm=!0},i.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},i.prototype.IM=function(){return this.ib.Ba(this.gb)},i.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},i.prototype.vm=function(){return 0==this.zf},i.prototype.Qn=function(){return this.zf==this.ag-1},i.prototype.Ha=function(){return this.Jd<this.ag},i.prototype.Ez=function(){return 0<this.Jd},i.prototype.Of=function(){var t=new i(this.ib);return t.zf=this.zf,t.Jd=this.Jd,t.ag=this.ag,t.gb=this.gb,t.Cl=this.Cl,t.ib=this.ib,t.zm=this.zm,t},i.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw t.i.ce();this.zf=this.Jd;var i=this.wb();this.ib.mc();var s=this.ib.Ve,n=1;switch(null!=s&&(n=7&s.read(i)),s=this.ib.description,n){case 1:null==this.sb&&(this.sb=new t.yb),this.rk=this.sb;break;case 2:throw t.i.fa("internal error");default:throw t.i.Qa()}this.rk.Nf(s),n=this.ik(),this.ib.Gc(i,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(n,this.Ds),this.rk.Qc(this.Ds);for(var h=1,r=s.Aa;h<r;h++)for(var e=s.kd(h),o=t.ra.Va(e),a=0;a<o;a++){var u=this.ib.Uc(e,i,a);this.rk.YB(e,a,u),u=this.ib.Uc(e,n,a),this.rk.OB(e,a,u)}},i.prototype.$S=function(){return this.gb==this.ib.da()-1},i.prototype.Pn=function(){var t=this.ib.VR();return null!=t&&1!=(7&t.read(this.zf))},i}();t.YL=i}(Q||(Q={})),function(t){var i=function(){function i(i){i instanceof t.aa?(this.xH=i,this.ya=-1,this.Ei=1):(this.vT=i.slice(0),this.ya=-1,this.Ei=i.length)}return i.prototype.La=function(){return this.ya},i.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,null!=this.xH?this.xH:this.vT[this.ya]):null},i.prototype.qe=function(){},i}();t.Zc=i}(Q||(Q={})),function(t){var i=function(){this.next=null},s=function(){function s(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return s.prototype.AX=function(i,s,n){this.oi=i,this.pl=s,this.Jh=this.Wl=null,this.Tq=0,this.vy=n,null==this.gn&&(this.gn=t.O.lg(384,0)),this.nK()},s.prototype.R=function(){return this.oi},s.prototype.ca=function(){return this.pl},s.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},s.prototype.nK=function(){if(0<this.Tq){for(var t=0;t<this.pl;t++){for(var i=this.Wl[t];null!=i;){var s=i;i=i.next,s.next=null}this.Wl[t]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},s.prototype.iJ=function(t){for(this.kF=t==s.Cx,t=this.Lw;t<=this.Kw;t++)this.sN(),this.lN(t),this.ZP();this.nK()},s.prototype.jy=function(s,n,h,r){if(n!=r){var e=1;if(n>r&&(e=s,s=h,h=e,e=n,n=r,r=e,e=-1),!(0>r||n>=this.pl)){0>s&&0>h?h=s=-1:s>=this.oi&&h>=this.oi&&(h=s=this.oi);var o=(h-s)/(r-n);r>this.pl&&(h=o*((r=this.pl)-n)+s),0>n&&(s=o*(0-n)+s,n=0);var a=Math.max(this.oi+1,8388607);-8388607>s?(n=(0-s)/o+n,s=0):s>a&&(n=(this.oi-s)/o+n,s=this.oi),-8388607>h?r=(0-s)/o+n:h>a&&(r=(this.oi-s)/o+n),(n=t.O.truncate(n))!=(r=t.O.truncate(r))&&((h=new i).x=t.O.truncate(4294967296*s),h.y=n,h.H=r,h.WP=t.O.truncate(4294967296*o),h.dir=e,null==this.Wl&&(this.Wl=t.O.lg(this.pl,null)),h.next=this.Wl[h.y],this.Wl[h.y]=h,h.y<this.Lw&&(this.Lw=h.y),h.H>this.Kw&&(this.Kw=h.H),this.Tq++)}}},s.prototype.sN=function(){if(null!=this.Jh){for(var t=!1,i=null,s=this.Jh;null!=s;)if(s.y++,s.y==s.H){var n=s;s=s.next,null!=i?i.next=s:this.Jh=s,n.next=null}else s.x+=s.WP,null!=i&&i.x>s.x&&(t=!0),i=s,s=s.next;t&&(this.Jh=this.fK(this.Jh))}},s.prototype.lN=function(t){if(!(t>=this.pl)){var i=this.Wl[t];if(null!=i){this.Wl[t]=null,i=this.fK(i),this.Tq-=this.gK,t=this.Jh;for(var s=!0,n=i,h=null;null!=t&&null!=n;)t.x>n.x?(s&&(this.Jh=n),s=n.next,n.next=t,null!=h&&(h.next=n),h=n,n=s):(s=t.next,t.next=n,null!=h&&(h.next=t),h=t,t=s),s=!1;null==this.Jh&&(this.Jh=i)}}},s.eK=function(t,i){return 0>t?0:t>i?i:t},s.prototype.ZP=function(){if(null!=this.Jh)for(var i=0,n=this.Jh,h=t.O.truncate(t.O.XG(n.x)),r=n.next;null!=r;r=r.next)if(i=this.kF?1^i:i+r.dir,r.x>n.x){var e=t.O.truncate(t.O.XG(r.x));0!=i&&(n=s.eK(h,this.oi),(h=s.eK(e,this.oi))>n&&n<this.oi&&(this.gn[this.Ol++]=n,this.gn[this.Ol++]=h,this.gn[this.Ol++]=r.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),n=r,h=e}},s.prototype.fK=function(i){for(var n=0,h=i;null!=h;h=h.next)n++;if(this.gK=n,1==n)return i;null==this.Kf?this.Kf=t.O.lg(Math.max(n,16),null):this.Kf.length<n&&(this.Kf=t.O.lg(Math.max(n,2*this.Kf.length),null));var r=0;for(h=i;null!=h;h=h.next)this.Kf[r++]=h;for(2==n?this.Kf[0].x>this.Kf[1].x&&(i=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=i):s.AN(this.Kf,n,(function(t,i){return t==i?0:t.x<i.x?-1:t.x>i.x?1:0})),i=this.Kf[0],this.Kf[0]=null,h=i,r=1;r<n;r++)h.next=this.Kf[r],h=this.Kf[r],this.Kf[r]=null;return h.next=null,i},s.AN=function(t,i,s){if(i==t.length)t.sort(s);else{var n=t.slice(0,0),h=t.slice(i);i=t.slice(0,i).sort(s),t.length=0,t.push.apply(t,n.concat(i).concat(h))}},s.Cx=0,s}();t.Px=s}(Q||(Q={})),function(t){var i=function(){function i(){}return i.prototype.ui=function(t,i){var s=this.g.Pa(t,this.Pq);if(this.Dl==s&&(this.Dl=this.oe.lb(this.Dl)),this.ho==s&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,s),this.bk(t),i&&(-1!=(i=this.g.bd(t))&&this.g.Xa(i)==t)){var n=this.g.U(t);if(n!=t){if((s=this.g.bd(n))==i)return void this.g.Jf(i,n);if((n=this.g.Ma(t))!=t&&(s=this.g.bd(n))==i)return void this.g.Jf(i,n)}this.g.Jf(i,-1),this.g.Wg(i,-1)}},i.prototype.pD=function(){for(var i=!1,s=new t.h;;){null==this.Wh?(this.Wh=new t.ia(0),this.zs=new t.ia(0),this.xe=new t.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var n=this.ho,h=0,r=!0;n!=this.Dl;){var e=this.oe.getData(n),o=new t.h;this.g.Gc(e,o),r&&(this.g.Gc(e,s),r=!1),o=this.g.Ma(e);var a=this.g.U(e);-559038737!=this.g.Pa(o,this.zg)&&(this.Wh.add(o),this.g.Ra(o,this.zg,-559038737),this.zs.add(e),this.xe.add(h++)),-559038737!=this.g.Pa(a,this.zg)&&(this.Wh.add(a),this.g.Ra(a,this.zg,-559038737),this.zs.add(e),this.xe.add(h++)),n=this.oe.lb(n)}if(2>this.Wh.size)break;var u=this;for(this.xe.Vd(0,this.xe.size,(function(t,i){return u.pM(t,i)})),n=0,h=this.xe.size;n<h;n++)r=this.xe.get(n),r=this.Wh.get(r),this.g.Ra(r,this.zg,n),o=new t.h,this.g.Gc(r,o);for(o=this.TM(s),n=0,h=this.xe.size;n<h;n++)-1!=(r=this.xe.get(n))&&(r=this.Wh.get(r),this.g.Ra(r,this.zg,-1));if(!o)break;i=!0}return i},i.prototype.TM=function(t){for(var i=!1,s=!0;s;){s=!1;var n=0;-1==this.xe.get(n)&&(n=this.cm(n));for(var h=this.cm(n),r=0,e=this.xe.size;r<e&&-1!=n&&-1!=h&&n!=h;r++){var o=this.xe.get(n);h=this.xe.get(h),o=this.Wh.get(o),h=this.Wh.get(h);var a=this.g.U(o);this.g.Dv(a,t)||(a=this.g.Ma(o));var u=this.g.U(h);this.g.Dv(u,t)||(u=this.g.Ma(h));var f=this.pu(a,o),c=this.pu(u,h),l=f?this.g.Ma(a):this.g.U(a),p=c?this.g.Ma(u):this.g.U(u),v=!1;(this.sp(a)||this.sp(u)||this.sp(o)||this.sp(h)||this.sp(l)||this.sp(p))&&(v=!0),!v&&this.g.fq(o,h)&&(v=!0,this.tD(f,c,a,o,u,h)),!v&&this.g.fq(l,p)&&(v=!0,this.tD(!f,!c,a,l,u,p)),v&&(i=!0),s=s||v,n=this.cm(n),h=this.cm(n)}}if(!i)for(n=0,-1==this.xe.get(n)&&(n=this.cm(n)),h=this.cm(n),r=0,e=this.xe.size;r<e&&-1!=n&&-1!=h&&n!=h;r++)o=this.xe.get(n),h=this.xe.get(h),o=this.Wh.get(o),h=this.Wh.get(h),a=this.g.U(o),this.g.Dv(a,t)||(a=this.g.Ma(o)),u=this.g.U(h),this.g.Dv(u,t)||(u=this.g.Ma(h)),f=this.pu(a,o),c=this.pu(u,h),l=f?this.g.Ma(a):this.g.U(a),p=c?this.g.Ma(u):this.g.U(u),this.DM(f,c,o,a,l,h,u,p)&&(i=!0),n=this.cm(n),h=this.cm(n);return i},i.prototype.XM=function(){1736==this.g.ic(this.X)&&1==this.g.In(this.X)&&(new t.Fg).MU(this.fw,this.g,this.X,this.nd);var i=!1,s=!0;this.zg=this.Pq=-1;var n=this.g.I(this.X),h=new t.ia(0);h.Jb(n);for(var r=this.g.Ob(this.X);-1!=r;r=this.g.Rb(r))for(var e=this.g.Xa(r),o=0,a=this.g.Ja(r);o<a;o++)h.add(e),e=this.g.U(e);var u=this.g.td.o,f=this.g.td.stride;this.g.vb.mc();var c=this.g.vb.za[0].o;for(h.Vd(0,n,(function(t,i){var s=u[f*t],n=u[f*i],h=c[2*s];s=c[2*s+1];var r=c[2*n];return 0==(h=s<(n=c[2*n+1])?-1:s>n?1:h<r?-1:h>r?1:0)&&(h=(t=u[f*t+3])<(i=u[f*i+3])?-1:t==i?0:1),h})),this.Pq=this.g.Gd(),this.oe=new t.jp,this.RA=this.oe.Ph(0),this.oe.fn(n),r=0;r<n;r++)e=h.get(r),o=this.oe.addElement(this.RA,e),this.g.Ra(e,this.Pq,o);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(i=!0);s;){s=!1,n=0,h=!1;do{h=!1,this.ho=-1,a=0,r=new t.h,o=new t.h;for(var l=this.oe.rc(this.RA);-1!=l;)e=this.oe.getData(l),-1!=this.ho?(this.g.Gc(e,o),r.qb(o)?a++:(r.L(o),this.Dl=l,0<a&&(e=this.pD())&&(h=!0,-1!=this.Dl&&(e=this.oe.getData(this.Dl),this.g.Gc(e,r))),this.ho=l=this.Dl,a=0)):(this.ho=l,this.g.Gc(this.oe.getData(l),r),a=0),-1!=l&&(l=this.oe.lb(l));if(this.Dl=-1,0<a&&(e=this.pD())&&(h=!0),10<n++)throw t.i.Qa();h&&this.GM(),this.cD()&&(h=!0),s=s||h&&!1,i=i||h}while(h)}return this.g.Td(this.Pq),this.g.Td(this.zg),t.WL.V(this.g,this.X,this.oe,this.fw)||i},i.prototype.pu=function(t,i){return this.g.U(i)!=t},i.prototype.DM=function(t,i,s,n,h,r,e,o){if(n==e)return this.bk(s),this.bk(r),!1;var a=this.g.Pa(s,this.zg),u=this.g.Pa(h,this.zg),f=this.g.Pa(r,this.zg),c=this.g.Pa(o,this.zg),l=[0,0,0,0];for((s=[0,0,0,0,0,0,0,0])[0]=0,l[0]=a,s[1]=0,l[1]=u,s[2]=1,l[2]=f,s[3]=1,l[3]=c,a=1;4>a;a++){for(u=l[a],f=s[a],c=a-1;0<=c&&l[c]>u;)l[c+1]=l[c],s[c+1]=s[c],c--;l[c+1]=u,s[c+1]=f}return l=0,0!=s[0]&&(l|=1),0!=s[1]&&(l|=2),0!=s[2]&&(l|=4),0!=s[3]&&(l|=8),(5==l||10==l)&&(t==i?t?(this.g.Bc(o,n),this.g.Cc(n,o),this.g.Bc(h,e),this.g.Cc(e,h)):(this.g.Cc(o,n),this.g.Bc(n,o),this.g.Cc(h,e),this.g.Bc(e,h)):t?(this.g.Cc(n,r),this.g.Bc(r,n),this.g.Cc(e,h),this.g.Bc(h,e)):(this.g.Bc(n,r),this.g.Cc(r,n),this.g.Bc(e,h),this.g.Cc(h,e)),!0)},i.prototype.tD=function(t,i,s,n,h,r){this.MY?this.VM():this.UM(t,i,s,n,h,r)},i.prototype.VM=function(){throw t.i.fa("not implemented.")},i.prototype.UM=function(t,i,s,n,h,r){if(t!=i)t?(this.g.Bc(s,h),this.g.Cc(h,s),this.g.Bc(r,n),this.g.Cc(n,r),this.vn(h,s),this.ui(h,!0),this.g.mi(h,!0),this.bk(s),this.vn(r,n),this.ui(r,!0),this.g.mi(r,!1)):(this.g.Bc(h,s),this.g.Cc(s,h),this.g.Bc(n,r),this.g.Cc(r,n),this.vn(h,s),this.ui(h,!0),this.g.mi(h,!1),this.bk(s),this.vn(r,n),this.ui(r,!0),this.g.mi(r,!0)),this.bk(n);else{var e=t?s:n,o=i?h:r;for(t=t?n:s,i=i?r:h,h=!1,this.g.Bc(e,o),this.g.Bc(o,e),this.g.Cc(t,i),this.g.Cc(i,t),r=i;r!=o;)s=this.g.Ma(r),n=this.g.U(r),this.g.Cc(r,n),this.g.Bc(r,s),h=h||r==e,r=n;h||(s=this.g.Ma(o),n=this.g.U(o),this.g.Cc(o,n),this.g.Bc(o,s)),this.vn(o,e),this.ui(o,!0),this.g.mi(o,!1),this.bk(e),this.vn(i,t),this.ui(i,!0),this.g.mi(i,!1),this.bk(t)}},i.prototype.cD=function(){for(var t=!1,i=this.g.Ob(this.X);-1!=i;){for(var s=this.g.Xa(i),n=0,h=this.g.Ja(i);n<h&&1<h;){var r=this.g.Ma(s),e=this.g.U(s);this.g.fq(r,e)?(t=!0,this.ui(s,!1),this.g.pd(s,!0),this.ui(e,!1),this.g.pd(e,!0),s=r,n=0,h=this.g.Ja(i)):(s=e,n++)}if(2>this.g.Ja(i)){for(t=this.g.Xa(i),n=0,h=this.g.Ja(i);n<h;n++)this.ui(t,!1),t=this.g.U(t);i=this.g.Zq(i),t=!0}else i=this.g.Rb(i)}return t},i.prototype.sp=function(t){for(var i=!1;;){var s=this.g.U(t),n=this.g.Ma(t);if(s==t)return this.ui(t,!0),this.g.mi(t,!1),!0;if(!this.g.fq(s,n))break;if(i=!0,this.bk(n),this.bk(s),this.ui(t,!0),this.g.mi(t,!1),this.vn(s,n),this.ui(s,!0),this.g.mi(s,!0),s==n)break;t=n}return i},i.prototype.GM=function(){for(var t=0,i=this.oe.rc(this.oe.je);-1!=i;i=this.oe.lb(i)){var s=this.oe.getData(i);this.g.aj(s,-1)}for(var n=0,h=this.g.Ob(this.X);-1!=h;)if(-1==(i=this.g.Xa(h))||-1!=this.g.bd(i))s=h,h=this.g.Rb(h),this.g.$q(s);else{this.g.aj(i,h);var r=1;for(s=this.g.U(i);s!=i;s=this.g.U(s))this.g.aj(s,h),r++;this.g.cp(h,!1),this.g.Vj(h,r),this.g.Wg(h,this.g.Ma(i)),n+=r,t++,h=this.g.Rb(h)}for(i=this.oe.rc(this.oe.je);-1!=i;i=this.oe.lb(i))s=this.oe.getData(i),-1==this.g.bd(s)&&(h=this.g.nG(this.X,s,s,null),n+=this.g.Ja(h),t++);for(this.g.Rl(this.X,t),this.g.Tj(this.X,n),t=0,n=this.g.ld;-1!=n;n=this.g.ue(n))t+=this.g.I(n);this.g.bC(t)},i.prototype.cm=function(t){for(var i=0,s=this.xe.size-1;i<s;i++)if(t=(t+1)%this.xe.size,-1!=this.xe.get(t))return t;return-1},i.prototype.vn=function(t,i){var s=this.g.Pa(i,this.Pq),n=this.g.Pa(i,this.zg);this.g.lC(t,i),this.g.Ra(i,this.Pq,s),this.g.Ra(i,this.zg,n)},i.prototype.bk=function(t){var i=this.g.Pa(t,this.zg);-1!=i&&(this.xe.set(i,-1),this.g.Ra(t,this.zg,-1))},i.V=function(t,s,n,h,r){var e=new i;return e.g=t,e.X=s,e.xA=n,e.fw=h,e.nd=r,e.XM()},i.prototype.pM=function(i,s){var n=this.Wh.get(i),h=new t.h;this.g.Gc(n,h),n=new t.h;var r=this.Wh.get(s);return this.g.Gc(r,n),h.qb(n)?0:(r=this.zs.get(i),i=new t.h,this.g.Gc(r,i),r=this.zs.get(s),s=new t.h,this.g.Gc(r,s),(r=new t.h).uc(h,i),(h=new t.h).uc(n,s),t.h.nu(r,h))},i}();t.rn=i}(Q||(Q={})),function(t){var i;(i=t.$L||(t.$L={}))[i.Local=0]="Local",i[i.Geographic=1]="Geographic",i[i.Projected=2]="Projected",i[i.Image=3]="Image",i[i.Unknown=4]="Unknown",function(t){t[t.Integer32=0]="Integer32",t[t.Integer64=1]="Integer64",t[t.FloatingPoint=2]="FloatingPoint"}(t.TL||(t.TL={}));var s=function(){function i(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return i.prototype.Ec=function(){return this.dg},i.prototype.VF=function(){return 1},i.prototype.VW=function(t){this.mA=t},i.prototype.Xd=function(){if(null!==this.mA)return this.mA;var i=.001;return 0!=this.dg?i=t.wr.CQ(this.dg):null!=this.wh&&(i=t.XC.DQ(this.wh)),i},i.prototype.Bz=function(){return this.wh},i.prototype.Hd=function(){return 0!=this.dg?t.Tc.Zg(t.wr.Sy(this.dg)):null!=this.wh?t.XC.EQ(this.wh):void 0},i.Sb=function(i){if(0!=i.dg){if(!0===t.wr.ZS(i.dg))return 1;if(!0===t.wr.aT(i.dg))return 2}return 4},i.prototype.$r=function(){var i=this.Ec();return-1!=this.Ho?this.Ho:(this.Ho=t.wr.FK(i),-1!=this.Ho?this.Ho:i)},i.create=function(s){if(0>=s)throw t.i.N("Invalid or unsupported wkid: "+s);var n=new i;return n.dg=s,n},i.qP=function(s){if(null==s||0==s.length)throw t.i.N("Cannot create SpatialReference from null or empty text.");var n=new i;return n.wh=s,n},i.prototype.Nb=function(t){return this==t||null!=t&&this.constructor==t.constructor&&this.dg==t.dg&&(0!=this.dg||this.wh===t.wh)},i.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},i.prototype.cc=function(){if(""!==this.pp)return this.pp;var t=this.toString();if(Array.prototype.reduce)return this.pp="S"+t.split("").reduce((function(t,i){return(t=(t<<5)-t+i.charCodeAt(0))&t}),0);var i=0;if(0===t.length)return"";for(var s=0;s<t.length;s++)i=(i<<5)-i+t.charCodeAt(s),i&=i;return this.pp="S"+i},i.prototype.Kn=function(){return this.Xd(0)},i.prototype.fh=function(){return null!==this.su?this.su:this.su=t.gu.yP(this)},i.ZN=2147483645,i.$N=9007199254740990,i}();t.Eg=s}(Q||(Q={})),function(t){var i=function(i){function s(){var s=null!==i&&i.apply(this,arguments)||this;return s.Ji=null,s.ST=null,s.Hq=new t.ZL,s.Eo=null,s.jw=null,s}return _(s,i),s.yP=function(i){var n=new s;if(n.dg=i.dg,n.Ho=i.Ho,n.ZH=i.ZH,n.wh=i.wh,""!==n.wh&&null!==n.wh){i=s.kM(n.wh);var h=s.iM(n.wh);n.Hq.Xx(i,h,t.hu.Integer64),n.by(i),n.gy(h),n.dg=i.$r()}else i=s.jM(n.dg),n.by(i),n.gy(null),n.Hq.Xx(i,null,t.hu.Integer64);return n},s.prototype.Xd=function(t){return this.Hq.Kn(t)},s.iM=function(i){if(0>=i.length)throw t.i.N();var n=null;try{n=t.NC.fromString(i)}catch(h){n=null}return null==n?null:s.bD(n,!0)},s.prototype.by=function(t){this.Kd=t,this.Eo=this.Kd.Hd()},s.prototype.gy=function(t){this.KH=t,this.ST=null!=this.KH?this.KH.Eo:null},s.prototype.Wc=function(){return 0!=this.Sb()&&3!=this.Sb()&&this.Kd.Wc()},s.prototype.IG=function(){return 0!=this.Sb()&&(3==this.Sb()?this.Ji.fk().Wc():this.Kd.Wc())},s.prototype.eh=function(){return null!=this.Kd?this.Kd.Ue:null},s.prototype.pm=function(){return this.Kd.pm()},s.prototype.bf=function(){return this.Kd.bf()},s.prototype.hh=function(){return null!=this.Kd?this.Kd.sw:NaN},s.prototype.Up=function(){return this.Kd.Up()},s.prototype.Wr=function(){return this.Kd.Wr()},s.prototype.kk=function(){return this.Kd.kk()},s.prototype.kS=function(i){return t.OC.Py(this.Kd,i.Kd)},s.prototype.ml=function(){return this.Kd.ml()},s.prototype.Vr=function(){return this.Kd.Vr()},s.prototype.zi=function(){return 3==this.Sb()?this.Ji.fk().zi():this.Kd.zi()},s.prototype.gh=function(){if(!this.Wc())throw t.i.N("!isPannable()");var i=new t.l;return this.Kd.gh(i),i},s.prototype.Oe=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.so},s.prototype.HR=function(){if(!this.Wc())throw t.i.N("!isPannable()");var i=new t.l;return this.Kd.GR(i),i},s.prototype.pv=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.pv()},s.prototype.ov=function(){if(!this.Wc())throw t.i.N("!isPannable()");return this.Kd.ov()},s.prototype.Xr=function(){return null!=this.Ji?this.Ji.fk().Xr():this.Kd.Xr()},s.prototype.PQ=function(){return this.Kd.hv()},s.prototype.Qp=function(){return this.Eo.getUnitFactor()},s.prototype.vz=function(t){return this.Hq.vz(t)},s.prototype.sc=function(){var i=this.Sb();if(1==i)return this;if(3==i)return this.Ji.fk().sc();if(0==i)throw t.i.fa("invalid call");if(4===i)throw t.i.fa("invalid call");if(null!==this.jw)return this.jw;if(null==(i=this.eh().getGeogcs()))throw t.i.Qa();return this.jw=s.bF(i,this.Hq.VF())},s.bF=function(i,n){if(null==i)throw t.i.N("null pointer.");var h=new s;return i=s.mu(i,!0),h.Hq.Xx(i,null,n),h.by(i),h.gy(null),h.dg=i.$r(),h},s.prototype.Sb=function(){var i=this.eh();if(null!=i)switch(i.getType()){case t.Sc.PE_TYPE_GEOGCS:return 1;case t.Sc.PE_TYPE_PROJCS:return 2}return 4},s.prototype.hv=function(){return this.Kd.hv()},s.mu=function(i,n){var h=i.getCode();if(0>=h&&0<(h=t.pf.getCode(i))){if(null==(i=t.pf.coordsys(h)))throw t.i.N("Text to wkid mapping had failed: "+h);return s.mu(i,n)}if(n&&0<h&&(n=s.qx[h]))return n;n=t.zb.xv(i,h,!1);var r=s.lK[n];return r||(i=0>=h?i:t.pf.coordsys(h),i=new t.OC(i),s.lK[n]=i,0<h&&(s.qx[h]=i),i)},s.jM=function(i){if(0>=i)throw t.i.N("Invalid or unsupported wkid: "+i);var n=s.qx[i];if(null!=n)return n;if(null==(n=t.pf.coordsys(i)))throw t.i.N("Invalid or unsupported wkid: "+i);return(n=s.mu(n,!1)).$r()!=i&&(s.qx[i]=n),n},s.kM=function(i){if(null==i||void 0===i||0==i.length)throw t.i.N("Cannot create SpatialReference from null or empty text.");var n=null;try{n=t.pf.fromString(t.Sc.PE_TYPE_COORDSYS,i)}catch(h){throw t.i.N("Cannot create SpatialReference from text. "+h.message)}if(null===n)throw t.i.N("Cannot create SpatialReference from text. ");return s.mu(n,!0)},s.bD=function(i,n){var h,r=i.getCode();if(0>=r&&0<(r=t.pf.getCode(i))){if(null===(r=t.pf.vertcs(r)))throw t.i.N();return s.bD(r,n)}if(n&&0<r&&(n=s.kK[r]))return n;if(i=t.zb.xv(i,r,!1),n=s.mK[i])return n;if(0>=r||(h=t.pf.vertcs(r)),null===h)throw t.i.N();return h=new t.PL(h),s.mK[i]=h,0<r&&(s.kK[r]=h),h},s.sI=function(i,s){if(null===s||s.B())return null;var n=new t.l;if(null!==s&&1!=i.Sb()){var h=i.sc(),r=h.eh();i=t.vr.Nr(i,h,null,null),(s=t.Hx.local().V(s,i,null)).A(n)}else r=i.eh(),s.A(n);return s=r.getPrimem().getLongitude(),r=r.getUnit().getUnitFactor(),new t.LC(n.v,n.G,n.C,n.H,s,r)},s.lD=function(t){var i={name:"",steps:[],_pt:null,_entry:null},s=0;for(t=t.getEntries();s<t.length;s++){var n=t[s],h={LY:!1,ZY:"",YY:-1,geogtran:null};0===n.getDirection()?h.isInverse=!1:h.isInverse=!0;var r=n.getGeogtran().getCode();-1<r?h.wkid=r:h.wkt=n.getGeogtran().toString(),i.steps.push(h)}return i},s.XR=function(i,n,h,r){return void 0===h&&(h=null),h=s.sI(r,h),i=t.lp.getGTlist(i.eh(),n.eh(),2,t.lp.PE_GTLIST_OPTS_COMMON,h,1),n=null,i&&0<i.length&&(n=this.lD(i[0]),t.Mx.destroy(i)),null!==h&&h.destroy(),n},s.YR=function(i,n,h,r){var e;if(void 0===h&&(h=null),void 0===r&&(r=null),void 0===e&&(e=30),h=s.sI(r,h),i=t.lp.getGTlist(i.eh(),n.eh(),2,t.lp.PE_GTLIST_OPTS_COMMON,h,e),n=[],i&&0<i.length){for(e=0;e<i.length;e++)n.push(this.lD(i[e]));t.Mx.destroy(i)}return null!==h&&h.destroy(),n},s.qx={},s.lK={},s.kK={},s.mK={},s}(t.Eg);t.gu=i}(Q||(Q={})),function(t){var i,s;(s=i=t.hu||(t.hu={}))[s.Integer32=0]="Integer32",s[s.Integer64=1]="Integer64",s[s.FloatingPoint=2]="FloatingPoint";var n=function(){function s(){this.qp()}return s.prototype.assign=function(t){this.Fm=t.Fm,this.Gm=t.Gm,this.Pj=t.Pj,this.sA=t.sA,this.Fo=t.Fo,this.rA=t.rA,this.Ik=t.Ik,this.Mq=t.Mq,this.Lq=t.Lq,this.Rm=t.Rm},s.prototype.VF=function(){return this.Rm},s.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=i.FloatingPoint},s.prototype.Xx=function(s,n,h){if(this.qp(),this.Rm=h,h!=i.FloatingPoint){var r=new t.l;s.hR(r),this.Fm=r.v,this.Gm=r.G}else this.Gm=this.Fm=-17976931348623157e292;(r=s.Ue.getType())==t.Sc.PE_TYPE_GEOGCS?(r=(h==i.Integer64?1e-9:1/18e5)*s.bf(),this.Pj=1/r):r==t.Sc.PE_TYPE_PROJCS&&(r=(h==i.Integer64?1e-4:.001)*s.pm(),this.Pj=1/r),null!=n?(r=(h==i.Integer32?.001:1e-4)*n.IH,this.Fo=1/r):this.Fo=1e4,this.YM(),this.Ik=s.sw,this.Mq=null!=n?.001*n.IH:.001,this.Lq=2220446049250313e-29},s.prototype.YM=function(){if(this.Rm!=i.FloatingPoint){var s=this.Rm==i.Integer64?t.Eg.$N:t.Eg.ZN,n=s/this.Pj,h=this.Fm+n,r=t.O.truncate((h-this.Fm)*this.Pj);r>s&&(this.Pj=s/(h-this.Fm)),n=this.Gm+n,(r=t.O.truncate((n-this.Gm)*this.Pj))>s&&(this.Pj=s/(n-this.Gm))}},s.prototype.aC=function(t){switch(t){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},s.prototype.Kn=function(t){switch(t){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},s.prototype.vz=function(t){if(this.Rm==i.FloatingPoint)return 0;switch(t){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},s.prototype.toString=function(){var t="SRPD [m_toleranceXY: "+this.Ik.toString();return(t=(t=(t=(t=(t=(t=(t=(t=(t=t+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},s}();t.ZL=n}(Q||(Q={})),function(t){function i(t,i){return 89.99999<i?i=89.99999:-89.99999>i&&(i=-89.99999),i*=.017453292519943,[111319.49079327169*t,3189068.5*Math.log((1+Math.sin(i))/(1-Math.sin(i)))]}function s(t,i,s){return t=t/6378137*57.29577951308232,s?[t,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*i/6378137)))]:[t-360*Math.floor((t+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*i/6378137)))]}function n(i,s,n){var h=i.Of();if(33===i.getType())s=s(h.Lg(),h.ih()),h.Cb(s[0],s[1]);else if(197===i.getType()){var r=s(i.es(),i.gs(),n);s=s(i.ds(),i.fs(),n),h.K(r[0],r[1],s[0],s[1])}else for(r=new t.h,i=0;i<h.I();i++){h.D(i,r);var e=s(r.x,r.y,n);r.ma(e[0],e[1]),h.Cb(i,r)}return h}function h(t){return n(t,s,!0)}function r(t){return n(t,i,!0)}var e=Math.PI/180;t.UK=function(){function i(){}return i.vu=function(i){var s=Math.sqrt(.006694379990197414),n=Math.sin(i.y*e);return t.h.construct(6378137*i.x*e,3167719.6636462314*(n/(1-.006694379990197414*n*n)-1/(2*s)*Math.log((1-s*n)/(1+s*n))))},i.Vx=function(i,s,n,h){var r=1/298.257223563,o=Math.sin(n);n=Math.cos(n);var a=(1-r)*Math.tan(i),u=a*(i=1/Math.sqrt(1+a*a)),f=Math.atan2(a,n),c=(a=i*o)*a,l=1-c,p=272331606107.54688*l/40408299984661.45,v=1+p/16384*(4096+p*(p*(320-175*p)-768)),y=p/1024*(256+p*(p*(74-47*p)-128));p=h/(6356752.31424518*v);for(var d,b,g,w=2*Math.PI;1e-12<Math.abs(p-w);)g=Math.cos(2*f+p),w=p,p=h/(6356752.31424518*v)+y*(d=Math.sin(p))*(g+y/4*((b=Math.cos(p))*(2*g*g-1)-y/6*g*(4*d*d-3)*(4*g*g-3)));return h=u*d-i*b*n,l=r/16*l*(4+r*(4-3*l)),t.h.construct((s+(Math.atan2(d*o,i*b-u*d*n)-(1-l)*r*a*(p+l*d*(g+l*b*(2*g*g-1)))))/e,Math.atan2(u*b+i*d*n,(1-r)*Math.sqrt(c+h*h))/e)},i.MM=function(t,i,s,n){var h=1/298.257223563,r=n-i,e=Math.atan((1-h)*Math.tan(t)),o=Math.atan((1-h)*Math.tan(s)),a=Math.sin(e);e=Math.cos(e);var u=Math.sin(o);o=Math.cos(o);var f=r,c=1e3;do{var l=Math.sin(f),p=Math.cos(f),v=Math.sqrt(o*l*o*l+(e*u-a*o*p)*(e*u-a*o*p));if(0===v)return 0;p=a*u+e*o*p;var y=Math.atan2(v,p),d=e*o*l/v,b=1-d*d;l=p-2*a*u/b,isNaN(l)&&(l=0);var g=h/16*b*(4+h*(4-3*b)),w=f;f=r+(1-g)*h*d*(y+g*v*(l+g*p*(2*l*l-1)))}while(1e-12<Math.abs(f-w)&&0<--c);return 0===c?(a=n-i,{azimuth:Math.atan2(Math.sin(a)*Math.cos(s),Math.cos(t)*Math.sin(s)-Math.sin(t)*Math.cos(s)*Math.cos(a)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(t)*Math.sin(s)+Math.cos(t)*Math.cos(s)*Math.cos(n-i))}):(i=(t=272331606107.54688*b/40408299984661.45)/1024*(256+t*(t*(74-47*t)-128)),{azimuth:Math.atan2(o*Math.sin(f),e*u-a*o*Math.cos(f)),YQ:6356752.31424518*(1+t/16384*(4096+t*(t*(320-175*t)-768)))*(y-i*v*(l+i/4*(p*(2*l*l-1)-i/6*l*(4*v*v-3)*(4*l*l-3)))),XY:Math.atan2(e*Math.sin(f),e*u*Math.cos(f)-a*o)})},i.jQ=function(i){var s=i.hasAttribute(1),n=i.hasAttribute(2),h=[],r=i.da(),e=null,o=null;s&&(e=i.ub(1)),n&&(o=i.ub(2));for(var a=new t.h,u=0;u<r;u++){for(var f=i.Ba(u),c=i.Ja(u),l=0,p=0,v=NaN,y=NaN,d=NaN,b=NaN,g=i.dc(u),w=[],x=f;x<f+c;x++){i.D(x,a),b=d=NaN;var m=[a.x,a.y];s&&(d=e.get(x),m.push(d)),n&&(r=o.get(x),m.push(b)),x==f&&g&&(l=a.x,p=a.y,v=d,y=b),w.push(m)}!g||l==a.x&&p==a.y&&(!s||isNaN(v)&&isNaN(d)||v==d)&&(!n||isNaN(y)&&isNaN(b)||y==b)||w.push(w[0].slice(0)),h.push(w)}return h},i.Wy=function(t,s){t=i.jQ(t),637.100877141506>s&&(s=637.100877141506);for(var n,h=[],r=0;r<t.length;r++){var o,a,u=t[r];h.push(n=[]),n.push([u[0][0],u[0][1]]);var f=u[0][0]*e,c=u[0][1]*e;for(o=0;o<u.length-1;o++){var l=u[o+1][0]*e,p=u[o+1][1]*e;if(f!==l||c!==p){l=(p=i.MM(c,f,p,l)).azimuth;var v=(p=p.YQ)/s;if(1<v){for(a=1;a<=v-1;a++){var y=i.Vx(c,f,l,a*s);n.push([y.x,y.y])}a=i.Vx(c,f,l,(p+Math.floor(v-1)*s)/2),n.push([a.x,a.y])}c=i.Vx(c,f,l,p),n.push([c.x,c.y]),f=c.x*e,c=c.y*e}}}return{qJ:h}},i.XQ=function(s){for(var n=[],h=0;h<s.length;h++){var r=s[h];r=i.Wy(r,1e4),n.push(r)}s=[];for(var e=0;e<n.length;e++){r=n[e];var o=0;for(h=0;h<r.qJ.length;h++){var a,u=r.qJ[h],f=i.vu(t.h.construct(u[0][0],u[0][1])),c=i.vu(t.h.construct(u[u.length-1][0],u[u.length-1][1])),l=c.x*f.y-f.x*c.y;for(a=0;a<u.length-1;a++)f=i.vu(t.h.construct(u[a+1][0],u[a+1][1])),l+=(c=i.vu(t.h.construct(u[a][0],u[a][1]))).x*f.y-f.x*c.y;o+=l}o/=1,s.push(o/-2)}return s},i}(),t.cb=function(){function i(){}return i.xB=function(t,s,n,h,r,e,o){i.gD[t.cc()]=s,0==isNaN(n)&&(i.mD[t.cc()]=n),0==isNaN(h)&&(i.zD[t.cc()]=h),0==isNaN(r)&&(i.aD[t.cc()]=r),i.nD[t.cc()]=e,null!==o&&(i.oD[t.cc()]=o)},i.Ww=function(t,s,n){i.sD[t.cc()+"-"+s.cc()]=n},i.sc=function(s){if(null==(s=i.gD[s.cc()]))throw t.i.Ie();return s},i.bf=function(s){if(null==(s=i.mD[s.cc()]))throw t.i.Ie();return s},i.vv=function(s){if(null==(s=i.zD[s.cc()]))throw t.i.Ie();return s},i.ev=function(s){if(null==(s=i.aD[s.cc()]))throw t.i.Ie();return s},i.gh=function(s){if(null==(s=i.oD[s.cc()]))throw t.i.Ie();return t.l.construct(s[0],s[1],s[2],s[3])},i.Wc=function(s){if(null==(s=i.nD[s.cc()]))throw t.i.Ie();return s},i.zh=function(s,n,h){if(n.Nb(h))return s;var r=i.sD[n.cc()+"-"+h.cc()];if(void 0!==r)return r(s,n,h);throw t.i.Ie()},i.vt=function(){throw t.i.Ie()},i.bR=function(){throw t.i.Ie()},i.dW=function(){throw t.i.Ie()},i.ml=function(){throw t.i.Ie()},i.sW=function(){var i=t.Eg.create(102100),s=t.Eg.create(3857),n=t.Eg.create(4326);t.cb.xB(i,n,NaN,NaN,NaN,!1,null),t.cb.xB(n,n,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),t.cb.xB(s,n,NaN,NaN,NaN,!1,null),t.cb.Ww(i,n,h),t.cb.Ww(n,i,r),t.cb.Ww(s,n,h),t.cb.Ww(n,s,r)},i.gD=[],i.mD=[],i.zD=[],i.aD=[],i.nD=[],i.oD=[],i.sD=[],i}()}(Q||(Q={})),Q.cb.sW(),function(t){var i=function(){function i(t){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=t}return i.prototype.jd=function(t){t<this.Bl?(this.o[t*this.stride]=this.io,this.io=t):this.Bl--,this.size--},i.prototype.T=function(t,i){return this.o[t*this.stride+i]},i.prototype.S=function(t,i,s){this.o[t*this.stride+i]=s},i.prototype.Ce=function(){var i=this.io;if(-1==i){if(this.Bl==this.Hg){if(2147483647<(i=0!=this.Hg?t.O.truncate(3*(this.Hg+1)/2):1)&&(i=2147483647),i==this.Hg)throw t.i.ce();this.Dz(i)}i=this.Bl,this.Bl++}else this.io=this.o[i*this.stride];this.size++;for(var s=i*this.stride;s<i*this.stride+this.stride;s++)this.o[s]=-1;return i},i.prototype.Ll=function(i){var s=this.io;if(-1==s){if(this.Bl==this.Hg){if(2147483647<(s=0!=this.Hg?t.O.truncate(3*(this.Hg+1)/2):1)&&(s=2147483647),s==this.Hg)throw t.i.ce();this.Dz(s)}s=this.Bl,this.Bl++}else this.io=this.o[s*this.stride];this.size++;for(var n=s*this.stride,h=0;h<i.length;h++)this.o[n+h]=i[h];return s},i.prototype.mj=function(t){this.io=-1,this.size=this.Bl=0,t&&(this.o=null,this.Hg=0)},i.prototype.De=function(t){t>this.Hg&&this.Dz(t)},i.prototype.tx=function(t,i){t*=this.stride,i*=this.stride;for(var s=0;s<this.stride;s++){var n=this.o[i+s];this.o[i+s]=this.o[t+s],this.o[t+s]=n}},i.prototype.gC=function(t,i,s){var n=this.o[this.stride*i+s];this.o[this.stride*i+s]=this.o[this.stride*t+s],this.o[this.stride*t+s]=n},i.LG=function(t){return 0<=t},i.prototype.Dz=function(t){null==this.o&&(this.o=new Int32Array(0));var i=new Int32Array(this.stride*t);i.set(this.o,0),this.o=i,this.Hg=t},i}();t.$c=i}(Q||(Q={})),function(t){var i,s;(s=i||(i={}))[s.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",s[s.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",s[s.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",s[s.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var n=function(){function i(i){this.Be=i,this.yh=NaN,this.eH=new t.ig,this.fH=new t.ig,this.ms=new t.Nc,this.ns=new t.Nc}return i.prototype.compare=function(t,i,s){if(t=t.ja(s),this.Be.pB(i,this.eH),this.Be.pB(t,this.fH),i=this.eH.get(),t=this.fH.get(),this.ms.K(i.sa,i.pa),this.ns.K(t.sa,t.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;s=i.na==i.la;var n=t.na==t.la;if(s||n){if(s&&n)return 0;if(i.na==t.na&&i.sa==t.sa)return s?1:-1;if(i.la==t.la&&i.pa==t.pa)return s?-1:1}return(s=i.Pe(this.yh,this.ms.oa))==(n=t.Pe(this.yh,this.ns.oa))&&((n=.5*((s=Math.min(i.la,t.la))+this.yh))==this.yh&&(n=s),s=i.Pe(n,this.ms.oa),n=t.Pe(n,this.ns.oa)),s<n?-1:s>n?1:0},i.prototype.aK=function(t){this.yh=t},i}(),h=function(){function i(i){this.ib=i,this.WH=new t.ig,this.Bf=new t.h,this.wA=new t.Nc}return i.prototype.kX=function(t){this.Bf.L(t)},i.prototype.compare=function(t,i){return this.ib.pB(t.ja(i),this.WH),t=this.WH.get(),this.wA.K(t.sa,t.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(t=t.Pe(this.Bf.y,this.Bf.x),this.Bf.x<t?-1:this.Bf.x>t?1:0)},i}();i=function(){function i(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new t.Md,this.bO=2147483647,this.aO=t.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return i.prototype.yy=function(t){this.lA=t},i.prototype.Ym=function(){null==this.ge&&(this.ge=new t.$c(8));var i=this.ge.Ce();return this.ge.S(i,1,0),i},i.prototype.vU=function(){null==this.Kc&&(this.Kc=new t.$c(8));var i=this.Kc.Ce();this.Kc.S(i,2,0),this.Kc.S(i,3,0);var s=this.Kc.Ce();return this.Kc.S(s,2,0),this.Kc.S(s,3,0),this.JJ(i,s),this.JJ(s,i),i},i.prototype.mI=function(){null==this.ye&&(this.ye=new t.$c(8));var i=this.ye.Ce();return this.ye.S(i,2,0),i},i.prototype.TW=function(t,i){this.ge.S(t,7,i)},i.prototype.mn=function(t,i){this.ge.S(t,2,i)},i.prototype.SW=function(t,i){this.ge.S(t,1,i)},i.prototype.lX=function(t,i){this.ge.S(t,3,i)},i.prototype.iX=function(t,i){this.ge.S(t,4,i)},i.prototype.cr=function(t,i){this.ge.S(t,5,i)},i.prototype.eR=function(t){return this.ge.T(t,5)},i.prototype.RW=function(t,i){this.ge.S(t,6,i)},i.prototype.cN=function(t,i){this.RW(i,t)},i.prototype.IJ=function(t,i){this.Kc.S(t,1,i)},i.prototype.JJ=function(t,i){this.Kc.S(t,4,i)},i.prototype.Tl=function(t,i){this.Kc.S(t,5,i)},i.prototype.Sl=function(t,i){this.Kc.S(t,6,i)},i.prototype.$W=function(t,i){this.Kc.S(t,2,i)},i.prototype.$w=function(t,i){this.Kc.S(t,3,i)},i.prototype.LF=function(t){return this.Kc.T(t,3)},i.prototype.Gt=function(t,i){this.Kc.S(t,7,i)},i.prototype.EK=function(t,i){if(-1!=this.mm(t))for(i=i?-1:t,t=this.mm(t);-1!=t;t=this.js(t))this.g.Ra(this.tj(t),this.Cq,i)},i.prototype.yx=function(t,i){-1!=t&&(this.EK(t,i),this.EK(this.xa(t),i))},i.prototype.Dt=function(t,i){this.ye.S(t,1,i)},i.prototype.Vg=function(t,i){this.ye.S(t,2,i)},i.prototype.jn=function(t,i){this.ye.S(t,3,i),this.NW(t,this.dR(i)),this.MW(i,t)},i.prototype.MW=function(t,i){this.ye.S(t,4,i)},i.prototype.NW=function(t,i){this.ye.S(t,5,i)},i.prototype.DJ=function(t,i){this.ye.S(t,6,i)},i.prototype.BJ=function(t,i){this.ye.S(t,7,i)},i.prototype.AJ=function(t,i){this.Yn.write(t,i)},i.prototype.CJ=function(t,i){this.kA.write(t,i)},i.prototype.kY=function(i){var s=0,n=0,h=this.AF(i),r=new t.h,e=new t.h,o=new t.h;this.Yr(h,r),e.L(r);var a=h;do{this.lm(a,o),n+=t.h.tb(e,o),this.$e(this.xa(a))!=i&&(s+=(o.x-r.x-(e.x-r.x))*(o.y-r.y+(e.y-r.y))*.5),e.L(o),a=this.jc(a)}while(a!=h);this.Yn.write(i,s),this.kA.write(i,n)},i.prototype.PU=function(i,s){var r=new n(this),e=new t.Yj;e.De(t.O.truncate(this.wa/2)),e.Vo(r);for(var o=new t.ia(0),a=this.$g(),u=null,f=0,c=new t.h,l=this.Re;-1!=l;l=this.Rf(l)){if(0==(255&++f)&&null!=s&&!s.progress(-1,-1))throw t.i.WC();var p=this.Me(l);if(-1!=p){if(o.Bh(0),!this.gY(e,a,o,p)){this.D(l,c),r.aK(c.y);var v=p;do{var y=this.Ab(v,a);-1!=y&&(e.vd(y,-1),this.Kb(v,a,-2)),v=this.jc(this.xa(v))}while(p!=v);v=p;do{-1==(y=this.Ab(v,a))&&(y=e.addElement(v,-1),o.add(y)),v=this.jc(this.xa(v))}while(p!=v)}for(p=o.size-1;0<=p;p--)y=o.get(p),v=e.ja(y),this.Kb(this.xa(v),a,y),this.OU(e,y,i)}else-1==this.cz(l)&&(null==u&&(u=new h(this)),this.D(l,c),u.kX(c),v=e.IW(u),p=this.Hl,-1!=v&&(y=e.ja(v),this.$e(y)==this.$e(this.xa(y))&&(y=this.OF(e,v)),-1!=y&&(p=this.$e(y))),this.cN(p,l))}this.Jg(a)},i.prototype.OU=function(t,i,s){var n=t.ja(i),h=this.$e(n);if(-1==this.Gn(h)){var r=this.OF(t,i),e=this.xa(n),o=this.$e(e);this.Kp(h),this.Kp(o);var a=this.Gn(h),u=this.Gn(o);if(-1==r&&-1==a&&(o==h?(this.jn(o,this.Hl),a=u=this.Hl):(-1==u&&(this.jn(o,this.Hl),u=this.Hl),this.jn(h,o),a=o)),-1!=r){var f=this.$e(r);-1==u&&(0>=this.Kp(f)?(u=this.Gn(f),this.jn(o,u)):(this.jn(o,f),u=f),o==h&&(a=u))}-1==a&&this.hY(h,o),0==s?this.jW(t,i,n,r,h,o):5==s?this.kW(t,i,n,e,h,o):4==s&&this.iW(n,r,h,o)}},i.prototype.jW=function(t,i,s,n,h,r){var e=this.hk(h);if(-1!=n){var o=this.hk(r),a=this.hk(this.$e(n));n=e&o&a,a^=a&this.dh(s),0!=(a|=n)&&(this.Vg(r,o|a),this.Vg(h,a|e),e=e||a)}for(i=t.lb(i);-1!=i&&(n=t.ja(i),s=this.$e(this.xa(n)),h=this.hk(s),r=this.dh(n),o=this.$e(n),n=h&(a=this.hk(o))&e,e^=e&r,0!=(e|=n));i=t.lb(i))this.Vg(s,h|e),this.Vg(o,a|e)},i.prototype.kW=function(i,s,n,h,r,e){if(r!=e){n=this.Ab(n,this.cg),n+=this.Ab(h,this.cg),h=0;var o=new t.ia(0),a=new t.ia(0);a.add(0);for(var u=i.rc(-1);u!=s;u=i.lb(u)){var f=i.ja(u),c=this.xa(f),l=this.$e(f),p=this.$e(c);if(l!=p){if(f=this.Ab(f,this.cg),h+=f+=this.Ab(c,this.cg),c=!1,0!=o.size&&o.Fc()==p&&(a.If(),o.If(),c=!0),-1==this.Gn(p))throw t.i.Qa();c&&this.Gn(p)==l||(a.add(h),o.add(l))}}h+=n,0!=o.size&&o.Fc()==e&&(a.If(),o.If()),0!=h?0==a.Fc()&&(i=this.g.ld,i=this.La(i),this.Vg(r,i)):0!=a.Fc()&&(i=this.g.ld,i=this.La(i),this.Vg(r,i))}},i.prototype.iW=function(t,i,s,n){var h=this.La(this.g.ld);if(-1==i)this.Vg(n,this.Go),0!=(1&(t=this.Ab(t,this.xg)))?this.Vg(s,h):this.Vg(s,this.Go);else{var r=this.hk(n);0==r?(r=this.hk(this.$e(i)),this.Vg(n,r),0!=(1&(t=this.Ab(t,this.xg)))?this.Vg(s,r==h?this.Go:h):this.Vg(s,r)):0!=(1&(t=this.Ab(t,this.xg)))?this.Vg(s,r==h?this.Go:h):this.Vg(s,r)}},i.prototype.gY=function(t,i,s,n){var h=n,r=-1,e=-1,o=0;do{if(2==o)return!1;var a=this.Ab(h,i);if(-1!=a){if(-1!=r)return!1;r=a}else{if(-1!=e)return!1;e=h}o++,h=this.jc(this.xa(h))}while(n!=h);return-1!=e&&-1!=r&&(this.Kb(t.ja(r),i,-2),t.Sj(r,e),s.add(r),!0)},i.prototype.hY=function(t,i){var s=this.Kp(t);if(0!=s){var n=this.Kp(i);0<s&&0>n||0>s&&0<n?this.jn(t,i):-1!=(i=this.Gn(i))&&this.jn(t,i)}},i.prototype.vP=function(i,s){this.Cq=this.g.Gd();for(var n=0,h=s.size;n<h;n++){var r=s.get(n),e=this.g.Pa(r,this.Cm),o=this.g.Qf(this.g.bd(r)),a=this.g.ic(o);if(t.aa.Hc(a)){var u=this.g.U(r);if(-1!=u){var f=this.g.Pa(u,this.Cm);if(e!=f){var c=this.vU(),l=this.xa(c),p=this.jh.Ce();this.jh.S(p,0,r),this.jh.S(p,1,-1),this.Gt(c,p),this.IJ(c,e),-1==(p=this.Me(e))?(this.mn(e,c),this.Tl(c,l),this.Sl(l,c)):(e=this.te(p),this.Tl(p,l),this.Sl(l,p),this.Sl(e,c),this.Tl(c,e)),this.IJ(l,f),-1==(e=this.Me(f))?(this.mn(f,l),this.Sl(c,l),this.Tl(l,c)):(f=this.te(e),this.Tl(e,c),this.Sl(c,e),this.Sl(f,l),this.Tl(l,f)),o=this.La(o),0==i?(this.Kb(l,this.ae,0),this.Kb(c,this.ae,1736==a?o:0)):5==i?(f=new t.h,this.g.D(r,f),r=new t.h,this.g.D(u,r),e=u=0,0>f.compare(r)?u=1:e=-1,this.Kb(l,this.ae,0),this.Kb(c,this.ae,0),this.Kb(c,this.cg,u),this.Kb(l,this.cg,e)):7==i?(this.Kb(l,this.ae,this.Go),this.Kb(c,this.ae,1736==a?o:0)):4==i&&(this.Kb(l,this.ae,0),this.Kb(c,this.ae,0),this.Kb(c,this.xg,1),this.Kb(l,this.xg,1)),a=1736==a?this.aO:0,this.$w(c,o|a),this.$w(l,o|a)}}}}},i.prototype.VT=function(t,i){var s=this.mm(i);if(-1!=s){var n=this.mm(t);this.jh.S(s,1,n),this.Gt(t,s),this.Gt(i,-1)}t=this.xa(t),i=this.xa(i),-1!=(s=this.mm(i))&&(n=this.mm(t),this.jh.S(s,1,n),this.Gt(t,s),this.Gt(i,-1))},i.prototype.IX=function(i){function s(t,i){return h.HO(t,i)}var n=new t.ia(0);n.Jb(10);for(var h=this,r=this.Re;-1!=r;r=this.Rf(r)){n.clear(!1);var e=this.Me(r);if(-1!=e){var o=e;do{n.add(o),o=this.jc(this.xa(o))}while(o!=e);if(1<n.size){if(o=!0,2<n.size)n.Vd(0,n.size,s),n.add(n.get(0));else if(0<this.GO(n.get(0),n.get(1))){var a=n.get(0);n.set(0,n.get(1)),n.set(1,a)}else o=!1;for(var u=a=n.get(0),f=this.uf(u),c=this.xa(u),l=-1,p=1,v=n.size;p<v;p++){var y=n.get(p),d=this.xa(y),b=this.jk(d);if(b==f&&y!=u){if(0==i)l=this.LF(u)|this.LF(y),this.$w(u,l),this.$w(c,l),this.Kb(u,this.ae,this.Ab(u,this.ae)|this.Ab(y,this.ae)),this.Kb(c,this.ae,this.Ab(c,this.ae)|this.Ab(d,this.ae));else if(-1!=this.cg)l=this.Ab(u,this.cg)+this.Ab(y,this.cg),d=this.Ab(c,this.cg)+this.Ab(d,this.cg),this.Kb(u,this.cg,l),this.Kb(c,this.cg,d);else{if(7==i)return void(this.Ni=new t.Md(5,r,-1));-1!=this.xg&&(l=this.Ab(u,this.xg)+this.Ab(y,this.xg),d=this.Ab(c,this.xg)+this.Ab(d,this.xg),this.Kb(u,this.xg,l),this.Kb(c,this.xg,d))}this.VT(u,y),this.Ly(y),l=u,n.set(p,-1),y==a&&(n.set(0,-1),a=-1)}else this.yx(l,!1),l=-1,u=y,f=b,c=d}if(this.yx(l,!1),l=-1,o){for(a=-1,p=0,v=n.size;p<v;p++)if(-1!=(y=n.get(p)))if(-1==a)u=a=y,f=this.uf(u),c=this.xa(u);else if(y!=u&&(d=this.xa(y),b=this.jk(d),this.Sl(c,y),this.Tl(y,c),u=y,f=b,c=d,7==i&&(this.Ab(y,this.ae)|this.Ab(this.te(y),this.ae))==(1|this.Go)))return void(this.Ni=new t.Md(5,r,-1));this.mn(r,a)}else{for(a=-1,p=0,v=n.size;p<v;p++)if(-1!=(y=n.get(p))){a=y;break}e!=a&&this.mn(r,a)}}}}},i.prototype.WN=function(){for(var i=-1,s=this.$g(),n=this.Re;-1!=n;n=this.Rf(n)){var h=this.Me(n);if(-1!=h){var r=h;do{if(1!=this.Ab(r,s)){var e=this.mI();this.Dt(e,r),this.BJ(e,i),-1!=i&&this.DJ(i,e),i=e;var o=0,a=r;do{o|=this.Ab(a,this.ae),this.$W(a,e),this.Kb(a,s,1),a=this.jc(a)}while(a!=r);this.Vg(e,o)}r=this.jc(this.xa(r))}while(r!=h)}}e=this.mI(),this.Dt(e,-1),this.BJ(e,i),-1!=i&&this.DJ(i,e),this.Hl=e,this.Yn=t.be.qf(this.ye.size,NaN),this.kA=t.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(s)},i.prototype.sR=function(t,i,s){if(-1==(i=-1!=i?i:this.Me(t)))return-1;for(t=i;;){if(1!=this.Ab(i,s))return i;if((i=this.jc(this.xa(i)))==t)return-1}},i.prototype.yW=function(){for(var t=this.$g(),i=this.Re;-1!=i;i=this.Rf(i))for(var s=-1;;){var n=this.sR(i,s,t);if(-1==n)break;s=this.jc(this.xa(n));for(var h=n;;){var r=this.jc(h),e=this.te(h),o=this.xa(h);if(e==o){if(this.IP(h),s!=h&&s!=o||(s=-1),h==n||e==n){if(h==(n=r)||e==n)break;h=r;continue}}else this.Kb(h,t,1);if((h=r)==n)break}}this.Jg(t)},i.prototype.MB=function(i,s,n,h,r){this.Ug(),this.gH=r,this.g=i,this.Bq=this.g.aF(),(i=new t.ia(0)).Jb(null!=n?this.g.I(n.get(0)):this.g.fd);var e=0,o=1,a=null!=n?n.get(0):this.g.ld;for(r=1;-1!=a;){this.g.HJ(a,this.Bq,o),o<<=1;for(var u=this.g.Ob(a);-1!=u;u=this.g.Rb(u))for(var f=this.g.Xa(u),c=0,l=this.g.Ja(u);c<l;c++)i.add(f),f=this.g.U(f);t.aa.Rn(this.g.ic(a))||(e+=this.g.da(a)),null!=n?(a=r<n.size?n.get(r):-1,r++):a=this.g.ue(a)}for(this.Go=o,this.wa=i.size,this.g.nx(i,this.wa),null==this.jh&&(this.jh=new t.$c(2),this.ge=new t.$c(8),this.Kc=new t.$c(8),this.ye=new t.$c(8)),this.jh.De(this.wa),t.mp.zp(h),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,e)),this.Cm=this.g.Gd(),n=new t.h,r=0,e=new t.h,n.Rc(),o=0;o<=this.wa;o++)if(o<this.wa?(f=i.get(o),this.g.D(f,e)):e.Rc(),!n.qb(e)){if(r<o){for(f=this.Ym(),l=c=-1;r<o;r++)l=i.get(r),this.g.Ra(l,this.Cm,f),a=this.jh.Ce(),this.jh.S(a,0,l),this.jh.S(a,1,c),c=a,u=this.g.bd(l),a=this.g.Qf(u),a=this.La(a),this.SW(f,this.xd(f)|a);this.TW(f,c),this.cr(f,this.g.Ua(l)),-1!=this.Os&&this.iX(this.Os,f),this.lX(f,this.Os),this.Os=f,-1==this.Re&&(this.Re=f)}r=o,n.L(e)}t.mp.zp(h),this.ae=this.$g(),5==s&&(this.cg=this.$g()),4==s&&(this.xg=this.$g()),this.vP(s,i),0==this.Ni.Jj&&(this.IX(s),0==this.Ni.Jj&&(isNaN(this.lA)||this.xO()?(this.WN(),0==this.Ni.Jj&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(s,h))):this.pA=!0))},i.prototype.Ly=function(t){var i=this.jc(t),s=this.te(t),n=this.xa(t),h=this.jc(n),r=this.te(n);i!=n&&(this.Sl(r,i),this.Tl(i,r)),s!=n&&(this.Sl(s,h),this.Tl(h,s)),s=this.jk(t),this.Me(s)==t&&(h!=t?this.mn(s,h):this.mn(s,-1)),h=this.jk(n),this.Me(h)==n&&(i!=n?this.mn(h,i):this.mn(h,-1)),this.Kc.jd(t),this.Kc.jd(n)},i.prototype.OF=function(t,i){for(;;){if(-1==(i=t.we(i)))return-1;var s=t.ja(i);if(this.$e(s)!=this.$e(this.xa(s)))return s}},i.prototype.dr=function(t,i){var s;void 0===s&&(s=!0),this.MB(t,0,null,i,s)},i.prototype.vJ=function(i,s,n){var h=new t.ia(0);h.add(s),this.MB(i,4,h,n,1736==i.ic(s))},i.prototype.wJ=function(i,s,n){var h=new t.ia(0);h.add(s),this.MB(i,5,h,n,!0)},i.prototype.Ug=function(){null!=this.g&&(-1!=this.Bq&&(this.g.xW(this.Bq),this.Bq=-1),-1!=this.Cm&&(this.g.Td(this.Cm),this.Cm=-1),-1!=this.Cq&&(this.g.Td(this.Cq),this.Cq=-1),-1!=this.ae&&(this.Jg(this.ae),this.ae=-1),-1!=this.cg&&(this.Jg(this.cg),this.cg=-1),-1!=this.xg&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,null!=this.Kc&&this.Kc.mj(!0),null!=this.Gi&&(this.Gi.length=0),null!=this.Di&&(this.Di.length=0),null!=this.hH&&(this.hH.length=0),null!=this.ye&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},i.prototype.Me=function(t){return this.ge.T(t,2)},i.prototype.D=function(t,i){this.g.dG(this.eR(t),i)},i.prototype.xd=function(t){return this.ge.T(t,1)},i.prototype.Rf=function(t){return this.ge.T(t,4)},i.prototype.cz=function(t){return this.ge.T(t,6)},i.prototype.km=function(t){return this.ge.T(t,7)},i.prototype.js=function(t){return this.jh.T(t,1)},i.prototype.tj=function(t){return this.jh.T(t,0)},i.prototype.ng=function(t,i){return(i=this.Di[i]).size<=t?-1:i.read(t)},i.prototype.nn=function(t,i,s){(i=this.Di[i]).size<=t&&i.resize(this.ge.size,-1),i.write(t,s)},i.prototype.Dp=function(){null==this.Di&&(this.Di=[]);for(var i=t.ia.qf(this.ge.Hg,-1),s=0,n=this.Di.length;s<n;s++)if(null==this.Di[s])return this.Di[s]=i,s;return this.Di.push(i),this.Di.length-1},i.prototype.Ep=function(t){this.Di[t]=null},i.prototype.jk=function(t){return this.Kc.T(t,1)},i.prototype.uf=function(t){return this.jk(this.xa(t))},i.prototype.xa=function(t){return this.Kc.T(t,4)},i.prototype.te=function(t){return this.Kc.T(t,5)},i.prototype.jc=function(t){return this.Kc.T(t,6)},i.prototype.$e=function(t){return this.Kc.T(t,2)},i.prototype.af=function(t){return this.hk(this.Kc.T(t,2))},i.prototype.mm=function(t){return this.Kc.T(t,7)},i.prototype.Yr=function(t,i){this.D(this.jk(t),i)},i.prototype.lm=function(t,i){this.D(this.uf(t),i)},i.prototype.dh=function(t){return this.Kc.T(t,3)&this.bO},i.prototype.Ab=function(t,i){return(i=this.Gi[i]).size<=t?-1:i.read(t)},i.prototype.Kb=function(t,i,s){(i=this.Gi[i]).size<=t&&i.resize(this.Kc.size,-1),i.write(t,s)},i.prototype.$g=function(){null==this.Gi&&(this.Gi=[]);for(var i=t.ia.qf(this.Kc.Hg,-1),s=0,n=this.Gi.length;s<n;s++)if(null==this.Gi[s])return this.Gi[s]=i,s;return this.Gi.push(i),this.Gi.length-1},i.prototype.Jg=function(t){this.Gi[t]=null},i.prototype.IP=function(t){var i=this.$e(t),s=this.xa(t),n=this.jc(t);n==s&&((n=this.jc(n))==t&&(n=-1));var h=this.AF(i);h!==t&&h!=s||this.Dt(i,n),s=this.Yn.read(i),isNaN(s)||(this.AJ(i,NaN),this.CJ(i,NaN)),this.yx(t,!0),this.Ly(t)},i.prototype.JP=function(t){for(var i=0,s=t.size;i<s;i++){var n=t.get(i),h=this.$e(this.xa(n));this.Dt(this.$e(n),-1),this.Dt(h,-1),this.yx(n,!0),this.Ly(n)}},i.prototype.AF=function(t){return this.ye.T(t,1)},i.prototype.hk=function(t){return this.ye.T(t,2)},i.prototype.Gn=function(t){return this.ye.T(t,3)},i.prototype.dR=function(t){return this.ye.T(t,4)},i.prototype.Kp=function(t){var i=this.Yn.read(t);return isNaN(i)&&(this.kY(t),i=this.Yn.read(t)),i},i.prototype.La=function(t){return this.g.KF(t,this.Bq)},i.prototype.Le=function(t){return this.g.Pa(t,this.Cm)},i.prototype.uR=function(t){return this.g.Pa(t,this.Cq)},i.prototype.tR=function(t,i){var s=this.Me(t);if(-1==s)return-1;var n=s,h=-1,r=-1;do{if(this.uf(n)==i)return n;if(-1==h){if(-1==(h=this.Me(i)))break;r=h}if(this.uf(r)==t)return this.xa(r);n=this.jc(this.xa(n)),r=this.jc(this.xa(r))}while(n!=s&&r!=h);return-1},i.prototype.pB=function(i,s){s.Or(),s=s.get();var n=new t.h;this.Yr(i,n),s.Dc(n),this.lm(i,n),s.Qc(n)},i.prototype.HO=function(i,s){if(i==s)return 0;var n=new t.h;this.lm(i,n);var h=new t.h;return this.lm(s,h),n.qb(h)?0:(s=new t.h,this.Yr(i,s),(i=new t.h).uc(n,s),(n=new t.h).uc(h,s),t.h.nu(i,n))},i.prototype.GO=function(i,s){if(i==s)return 0;var n=new t.h;this.lm(i,n);var h=new t.h;return this.lm(s,h),n.qb(h)?0:(s=new t.h,this.Yr(i,s),(i=new t.h).uc(n,s),(n=new t.h).uc(h,s),0<=n.y&&0<i.y?t.h.nu(i,n):0)},i.prototype.xO=function(){for(var i=t.lc.ox(this.lA),s=new t.h,n=new t.h,h=new t.h,r=new t.h,e=new t.h,o=this.Re;-1!=o;o=this.Rf(o)){var a=this.Me(o);if(-1!=a){var u=a;this.Yr(u,s),this.lm(u,n),e.uc(n,s);var f=e.Sk();do{var c=u;if((u=this.jc(this.xa(u)))!=c){this.lm(u,h),r.uc(h,s),c=r.Sk();var l=r.wi(e);if(l*l/(c*f)*Math.min(c,f)<=i)return!1;e.L(r),f=c,n.L(h)}}while(u!=a)}}return!0},i}(),t.iu=i}(Q||(Q={})),function(t){var i=function(){function i(){this.j=null,this.oH=new t.h,this.pH=new t.h,this.Gj=null,this.Mv=!1,this.tl=-1}return i.prototype.cf=function(t){return t<this.Gj.length&&this.Gj[t]},i.prototype.dl=function(i,s,n,h){var r=t.aa.tf(this.j.g.ic(n));if(2!=t.aa.tf(this.j.g.ic(s))||1!=r)throw t.i.Qa();this.FP(i,s,n,h)},i.prototype.dr=function(i,s){null==this.j&&(this.j=new t.iu),this.j.dr(i,s)},i.prototype.Ft=function(i,s,n){for(t.Tk.V(i,s,n,!0),s=i.ld;-1!=s;s=i.ue(s))1736==i.ic(s)&&t.rn.V(i,s,-1,this.Mv,n);this.dr(i,n)},i.prototype.ME=function(t,i,s,n,h){var r=this.j.g;if(1736==r.ic(t))for(t=r.Ob(t);-1!=t;t=r.Rb(t)){var e=r.Xa(t);this.j.Le(e),this.j.Le(r.U(e));var o=this.j.uR(e);if(-1!=o){var a=this.j.Ab(o,s);if(1!=a&&2!=a)if(this.cf(this.j.af(o))){this.j.Kb(o,s,1),a=r.vf(i,-1);var u=o,f=this.j.Le(e),c=1;do{var l=this.sm(e,h);r.ij(a,l),-1!=n&&this.j.nn(f,n,1),this.j.Kb(u,s,1),u=this.j.jc(u);do{var p=-1!=(l=1==c?r.U(e):r.Ma(e))?this.j.Le(l):-1}while(p==f);var v=this.j.jk(u);if(v!=p){do{p=-1!=(l=1==c?r.Ma(e):r.U(e))?this.j.Le(l):-1}while(p==f);v!=p?(p=v,l=this.j.tj(this.j.km(p))):c=-c}f=p,e=l}while(u!=o);r.kn(a,!0)}else this.j.Kb(o,s,2)}}},i.prototype.eF=function(){for(var i=this.j.$g(),s=new t.ia(0),n=this.j.Re;-1!=n;n=this.j.Rf(n)){var h=this.j.Me(n),r=h;if(-1!=h)do{if(1!=this.j.Ab(r,i)){var e=this.j.xa(r);this.j.Kb(e,i,1),this.j.Kb(r,i,1),this.cf(this.j.af(r))&&this.cf(this.j.af(e))&&s.add(r)}r=this.j.jc(this.j.xa(r))}while(r!=h)}this.j.Jg(i),this.j.JP(s)},i.prototype.sm=function(t,i){return-1==i?t:this.aS(t,i)},i.prototype.aS=function(t,i){var s=this.j.g,n=this.j.km(this.j.Le(t));do{var h=this.j.tj(n);if(s.Qf(s.bd(h))==i)return h;n=this.j.js(n)}while(-1!=n);return t},i.prototype.Ot=function(i,s,n){this.eF();var h=this.j.g,r=h.Ig(1736),e=this.j.$g();return this.uK(i,s,r,n,e,-1),this.j.Jg(e),t.rn.V(h,r,1,this.Mv,null),r},i.prototype.uK=function(t,i,s,n,h,r){for(this.ME(t,s,h,r,n),-1!=i&&this.ME(i,s,h,r,n),t=this.j.g,i=this.j.Re;-1!=i;i=this.j.Rf(i)){var e=this.j.Me(i);if(-1!=e){var o=e;do{var a=this.j.Ab(o,h);if(1!=a&&2!=a)if(this.cf(this.j.af(o))){a=t.vf(s,-1);var u=o;do{var f=this.j.mm(u);-1!=f?f=this.j.tj(f):(f=this.j.tj(this.j.mm(this.j.xa(u))),f=this.j.g.U(f)),f=this.sm(f,n),t.ij(a,f),this.j.Kb(u,h,1),-1!=r&&(f=this.j.Le(f),this.j.nn(f,r,1)),u=this.j.jc(u)}while(u!=o);t.kn(a,!0)}else this.j.Kb(o,h,2);o=this.j.jc(this.j.xa(o))}while(o!=e)}}},i.prototype.aY=function(i,s,n){var h=this.j.g,r=h.Ig(1736),e=h.Ig(1607),o=h.Ig(550);this.eF();var a=-1,u=this.j.$g(),f=this.j.Dp();for(this.uK(i,s,r,n,u,f),i=this.j.Re;-1!=i;i=this.j.Rf(i))if(-1!=(s=this.j.Me(i))){var c=s;do{var l=this.j.Ab(c,u),p=this.j.Ab(this.j.xa(c),u);if(2==(l|=p))if(l=this.j.dh(c),this.cf(l)){var v=h.vf(e,-1),y=c;l=this.Yw(i,h),l=this.sm(l,n),h.ij(v,l),this.j.nn(i,f,1);do{if(l=this.j.uf(y),p=this.Yw(l,h),p=this.sm(p,n),h.ij(v,p),this.j.Kb(y,u,1),this.j.Kb(this.j.xa(y),u,1),this.j.nn(l,f,1),y=this.j.jc(y),l=this.j.Ab(y,u),2!=(l|=p=this.j.Ab(this.j.xa(y),u)))break;if(l=this.j.dh(y),!this.cf(l)){this.j.Kb(y,u,1),this.j.Kb(this.j.xa(y),u,1);break}}while(y!=c)}else this.j.Kb(c,u,1),this.j.Kb(this.j.xa(c),u,1);c=this.j.jc(this.j.xa(c))}while(c!=s)}for(i=this.j.Re;-1!=i;i=this.j.Rf(i))1!=(l=this.j.ng(i,f))&&(l=this.j.xd(i),this.cf(l)&&(-1==a&&(a=h.vf(o,-1)),-1!=(s=this.j.km(i))&&(s=this.j.tj(s),l=this.sm(s,n),h.ij(a,l))));return this.j.Ep(f),this.j.Jg(u),t.rn.V(h,r,1,this.Mv,null),(n=[])[0]=o,n[1]=e,n[2]=r,n},i.prototype.Yw=function(t,i){var s=-1;for(t=this.j.km(t);-1!=t;t=this.j.js(t)){var n=this.j.tj(t);-1==s&&(s=n);var h=this.j.La(i.Qf(i.bd(n)));if(this.cf(h)){s=n;break}}return s},i.prototype.lB=function(i,s){for(var n=this.jl(s),h=this.j.jk(s),r=this.j.uf(s),e=0,o=0,a=this.j.km(h);-1!=a;a=this.j.js(a)){var u=this.j.tj(a),f=i.bd(u),c=this.j.La(i.Qf(f));f=i.Xa(f),(c=0!=(c&n))&&f==u&&(this.tl=s);var l=i.U(u);-1!=l&&this.j.Le(l)==r?(e++,c&&(-1===this.tl&&f==l&&(u=this.j.jc(s),this.cf(this.jl(u))&&(this.tl=u)),o++)):-1!=(u=i.Ma(u))&&this.j.Le(u)==r&&(e--,c&&(-1===this.tl&&f===u&&(u=this.j.jc(s),this.cf(this.jl(u))&&(this.tl=u)),o--))}return this.j.D(h,this.oH),this.j.D(r,this.pH),(0!=o?o:e)*(i=t.h.tb(this.oH,this.pH))},i.prototype.jl=function(t){return this.j.dh(t)|this.j.af(t)|this.j.af(this.j.xa(t))},i.prototype.xK=function(t){for(var i=this.j.xa(this.j.te(t)),s=-1;i!=t;){if(this.cf(this.jl(i))){if(-1!=s)return-1;s=i}i=this.j.xa(this.j.te(i))}return-1!=s?this.j.xa(s):-1},i.prototype.yK=function(t){for(var i=this.j.xa(this.j.jc(t)),s=-1;i!=t;){if(this.cf(this.jl(i))){if(-1!=s)return-1;s=i}i=this.j.xa(this.j.jc(i))}return-1!=s?this.j.xa(s):-1},i.prototype.mJ=function(i,s,n,h,r){var e=this.j.g,o=i,a=this.j.xa(o);this.j.Kb(o,n,1),this.j.Kb(a,n,1),this.tl=-1;for(var u=this.lB(e,o),f=o,c=-1,l=!1,p=1;;){var v=this.j.te(o);if(v==a)break;if(a=this.j.jc(a),this.j.xa(v)!=a){if(-1==(o=this.xK(o))){l=!0;break}a=this.j.xa(o)}else o=v;if(o==i){c=i;break}if(v=this.jl(o),!this.cf(v))break;this.j.Kb(o,n,1),this.j.Kb(a,n,1),f=o,u+=this.lB(e,o),p++}if(-1==c)for(o=i,a=this.j.xa(o),c=o;(i=this.j.jc(o))!=a;){if(a=this.j.te(a),this.j.xa(i)!=a){if(-1==(o=this.yK(o))){l=!0;break}a=this.j.xa(o)}else o=i;if(v=this.jl(o),!this.cf(v))break;this.j.Kb(o,n,1),this.j.Kb(a,n,1),c=o,u+=this.lB(e,o),p++}else if(-1!=this.tl&&(f=this.tl,c=this.j.te(this.tl),this.j.xa(c)!=this.j.jc(this.j.xa(f))&&-1==(c=this.xK(f))))throw t.i.Qa();for(0<=u||(o=c,c=this.j.xa(f),f=this.j.xa(o)),n=e.vf(s,-1),o=f,f=this.j.jk(f),l=this.j.uf(c)==f&&l,u=this.Yw(f,e),u=this.sm(u,r),e.ij(n,u),-1!=h&&this.j.nn(f,h,1),f=0,p=l?t.O.truncate((p+1)/2):-1;i=this.j.uf(o),u=this.Yw(i,e),u=this.sm(u,r),e.ij(n,u),f++,-1!=h&&this.j.nn(i,h,1),l&&f==p&&(n=e.vf(s,-1),e.ij(n,u)),o!=c;)if(i=this.j.jc(o),this.j.te(this.j.xa(o))!=this.j.xa(i)){if(-1==(o=this.yK(o)))throw t.i.Qa()}else o=i},i.prototype.Pt=function(t){for(var i=this.j.g.Ig(1607),s=this.j.$g(),n=this.j.Re;-1!=n;n=this.j.Rf(n)){var h=this.j.Me(n),r=h;do{1!=this.j.Ab(r,s)&&this.cf(this.jl(r))&&this.mJ(r,i,s,-1,t),r=this.j.jc(this.j.xa(r))}while(r!=h)}return this.j.Jg(s),i},i.prototype.bY=function(t){for(var i=this.j.g,s=i.Ig(1607),n=i.Ig(550),h=this.j.$g(),r=this.j.Dp(),e=-1,o=this.j.Re;-1!=o;o=this.j.Rf(o)){var a=this.j.Me(o),u=a;do{var f=this.j.Ab(u,h);1!=f&&(f=this.jl(u),this.cf(f)&&this.mJ(u,s,h,r,t)),u=this.j.jc(this.j.xa(u))}while(u!=a)}for(o=this.j.Re;-1!=o;o=this.j.Rf(o))1!=(f=this.j.ng(o,r))&&(f=this.j.xd(o),this.cf(f)&&(-1==e&&(e=i.vf(n,-1)),-1!=(a=this.j.km(o))&&(a=this.j.tj(a),a=this.sm(a,t),i.ij(e,a))));return this.j.Jg(h),this.j.Ep(r),(t=[])[0]=n,t[1]=s,t},i.prototype.mr=function(){for(var t=this.j.g,i=t.Ig(550),s=t.vf(i,-1),n=this.j.Re;-1!=n;n=this.j.Rf(n))if(this.cf(this.j.xd(n))){for(var h=-1,r=this.j.km(n);-1!=r;r=this.j.js(r)){var e=this.j.tj(r);-1==h&&(h=e);var o=this.j.La(t.Qf(t.bd(e)));if(this.cf(o)){h=e;break}}t.ij(s,h)}return i},i.prototype.bq=function(t){this.Gj=[];for(var i=0;i<t;i++)this.Gj[i]=!1},i.aW=function(i,s,n){var h=i.Ia(),r=Array(1e3);t.O.$u(r,null);var e=t.O.lg(1e3,0),o=i.I(),a=!0,u=2==s.Db();if(1!=s.Db()&&2!=s.Db())throw t.i.Qa();for(var f=0;f<o;){var c=t.O.truncate(i.lW(r,f)-f);u?t.hd.sK(s,r,c,n,e):t.hd.tK(s,r,c,n,e);for(var l=0,p=0;p<c;p++)0==e[p]&&(a&&(a=!1,h.Fd(i,0,f)),l!=p&&h.Fd(i,f+l,f+p),l=p+1);a||l==c||h.Fd(i,f+l,f+c),f+=c}return a?i:h},i.zG=function(s,n,h){return s instanceof t.de?i.aW(s,n,h):n instanceof t.Sa?s.B()||n.B()?s.Ia():t.Tk.zU(h,s,n)?t.Tk.CO(s,n):s.Ia():i.bW(s,n,h)},i.Av=function(s,n,h,r){var e=new t.l;s.A(e);var o=new t.l;n.A(o);var a=new t.l;if(a.K(e),a.Zb(o),h=t.ta.Wd(h,a,!0),(a=new t.l).K(o),o=t.ta.Er(h),a.W(o,o),!e.isIntersecting(a)){if(s.Db()<=n.Db())return i.ki(i.Xe(s.Ia()),s,"&");if(s.Db()>n.Db())return i.ki(i.Xe(n.Ia()),s,"&")}return o=new i,a=(e=new t.gd).Ib(i.Xe(s)),n=e.Ib(i.Xe(n)),o.Ft(e,h,r),r=o.Av(a,n),s=i.ki(e.Ne(r),s,"&"),t.aa.Hc(s.getType())&&(s.Ch(2,h),1736==s.getType()&&s.fm()),s},i.bW=function(i,s,n){if(i.B()||s.B())return i.Ia();var h=[null],r=[0],e=2==s.Db();if(1!=s.Db()&&2!=s.Db())throw t.i.Qa();return h[0]=i.D(),e?t.hd.sK(s,h,1,n,r):t.hd.tK(s,h,1,n,r),0==r[0]?i.Ia():i},i.prototype.LU=function(i,s,n,h,r){if(i.B())return i;var e=new t.gd;return i=e.Ib(i),this.Mk(e,i,s,n,h,r)},i.prototype.NU=function(i,s,n,h,r,e){if(r&&550!=i.ic(s)){var o=new t.RC;o.TX(i,n),o.Ng?(t.Tk.V(i,n,e,!0),r=!1):this.j.yy(n)}else t.Tk.V(i,n,e,!0),r=!1;if(h&&550!=i.ic(s)?this.j.wJ(i,s,e):this.j.vJ(i,s,e),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(i,s,n,h,!1,e);if(this.j.yy(NaN),e=this.j.La(s),this.bq(e+1),this.Gj[e]=!0,1736==i.ic(s)||h&&550!=i.ic(s))return i.Yo(s,0),s=this.Ot(s,-1,-1),(i=i.Ne(s)).Yo(0),r?i.Ch(1,0):(i.Ch(2,n),i.fm()),i;if(1607==i.ic(s))return s=this.Pt(-1),i=i.Ne(s),r||i.Ch(2,n),i;if(550==i.ic(s))return s=this.mr(),i=i.Ne(s),r||i.Ch(2,n),i;throw t.i.Qa()},i.prototype.Mk=function(i,s,n,h,r,e){this.j=new t.iu;try{return this.NU(i,s,n,h,r,e)}finally{this.j.Ug()}},i.Mk=function(t,s,n,h,r){return(new i).LU(t,s,n,h,r)},i.prototype.MU=function(i,s,n,h){this.Mv=i,this.j=new t.iu,i=s.In(n);var r=s.ic(n);if(1!=i||550==r?this.j.vJ(s,n,h):this.j.wJ(s,n,h),!this.j.pA)if(this.j.yy(NaN),h=this.j.La(n),this.bq(h+1),this.Gj[h]=!0,1736==s.ic(n)||1==i&&550!=s.ic(n))s.Yo(n,0),h=this.Ot(n,-1,-1),s.hC(h,n),s.BB(h);else if(1607==s.ic(n))h=this.Pt(-1),s.hC(h,n),s.BB(h);else{if(550!=s.ic(n))throw t.i.fa("internal error");h=this.mr(),s.hC(h,n),s.BB(h)}},i.prototype.im=function(i,s){var n=t.aa.tf(this.j.g.ic(i)),h=t.aa.tf(this.j.g.ic(s));if(n>h)return i;var r=this.j.La(i),e=this.j.La(s);if(this.bq(1+(r|e)),this.Gj[this.j.La(i)]=!0,2==n&&2==h)return this.Ot(i,s,-1);if(1==n&&2==h||1==n&&1==h)return this.Pt(-1);if(0==n)return this.mr();throw t.i.Qa()},i.prototype.Av=function(i,s){var n=t.aa.tf(this.j.g.ic(i)),h=t.aa.tf(this.j.g.ic(s)),r=this.j.La(i),e=this.j.La(s);if(this.bq(1+(r|e)),this.Gj[this.j.La(i)|this.j.La(s)]=!0,r=-1,1<this.j.g.ht.Aa&&(r=i),2==n&&2==h)return this.Ot(i,s,r);if(1==n&&0<h||1==h&&0<n)return this.Pt(r);if(0==n||0==h)return this.mr();throw t.i.Qa()},i.prototype.Pz=function(i,s){var n=t.aa.tf(this.j.g.ic(i)),h=t.aa.tf(this.j.g.ic(s)),r=this.j.La(i),e=this.j.La(s);if(this.bq(1+(r|e)),this.Gj[this.j.La(i)|this.j.La(s)]=!0,r=-1,1<this.j.g.ht.Aa&&(r=i),2==n&&2==h)return this.aY(i,s,r);if(1==n&&0<h||1==h&&0<n)return this.bY(r);if(0==n||0==h)return(i=[])[0]=this.mr(),i;throw t.i.Qa()},i.prototype.ep=function(i,s){var n=t.aa.tf(this.j.g.ic(i)),h=t.aa.tf(this.j.g.ic(s)),r=this.j.La(i),e=this.j.La(s);if(this.bq(1+(r|e)),this.Gj[this.j.La(i)]=!0,this.Gj[this.j.La(s)]=!0,2==n&&2==h)return this.Ot(i,s,-1);if(1==n&&1==h)return this.Pt(-1);if(0==n&&0==h)return this.mr();throw t.i.Qa()},i.Xe=function(i){var s=i.getType();return 197==s?(s=new t.Da(i.description),i.B()||s.ad(i,!1),s):33==s?(s=new t.de(i.description),i.B()||s.add(i),s):322==s?(s=new t.Ta(i.description),i.B()||s.oc(i,!0),s):i},i.ki=function(i,s,n){var h=i.getType();return 197==h?(s=new t.Da(i.description),i.B()||s.ad(i,!1),s):33!=h||"|"!=n&&"^"!=n?322==h?(s=new t.Ta(i.description),i.B()||s.oc(i,!0),s):33==h&&"-"==n&&33==s.getType()||550==h&&"&"==n&&33==s.getType()?(s=new t.Sa(i.description),i.B()||i.ve(0,s),s):i:(s=new t.de(i.description),i.B()||s.add(i),s)},i.im=function(s,n,h,r){if(s.B()||n.B()||s.Db()>n.Db())return i.ki(i.Xe(s),s,"-");var e=new t.l;s.A(e);var o=new t.l;if(n.A(o),!e.isIntersecting(o))return i.ki(i.Xe(s),s,"-");var a=new t.l;return a.K(e),a.Zb(o),h=t.ta.Wd(h,a,!0),o=new i,a=(e=new t.gd).Ib(i.Xe(s)),n=e.Ib(i.Xe(n)),o.Ft(e,h,r),r=o.im(a,n),r=e.Ne(r),s=i.ki(r,s,"-"),t.aa.Hc(s.getType())&&(s.Ch(2,h),1736==s.getType()&&s.fm()),s},i.VP=function(s,n,h){if(2>s.length)throw t.i.N("not enough geometries to dissolve");for(var r=0,e=0,o=s.length;e<o;e++)r=Math.max(s[e].Db(),r);var a=new t.l;a.Oa();var u=new t.gd,f=-1,c=0,l=-1;for(e=0,o=s.length;e<o;e++)if(s[e].Db()==r)if(s[e].B())-1==l&&(l=e);else{l=e,-1==f?f=u.Ib(i.Xe(s[e])):u.uN(f,i.Xe(s[e]));var p=new t.l;s[e].xc(p),a.Zb(p),c++}return 2>c?i.Xe(s[l]):(s=2==r,n=t.ta.Wd(0==r?n:null,a,!0),(new i).Mk(u,f,n,s,!0,h))},i.Pz=function(s,n,h,r){var e=[null,null,null],o=new t.l;s.A(o);var a=new t.l;n.A(a);var u=new t.l;if(u.K(o),u.Zb(a),h=t.ta.Wd(h,u,!0),(u=new t.l).K(a),a=t.ta.Er(h),u.W(a,a),!o.isIntersecting(u)){if(s.Db()<=n.Db())return e[(s=i.ki(i.Xe(s.Ia()),s,"&")).Db()]=s,e;if(s.Db()>n.Db())return e[(s=i.ki(i.Xe(n.Ia()),s,"&")).Db()]=s,e}for(a=new i,u=(o=new t.gd).Ib(i.Xe(s)),n=o.Ib(i.Xe(n)),a.Ft(o,h,r),r=a.Pz(u,n),n=0;n<r.length;n++)a=i.ki(o.Ne(r[n]),s,"&"),t.aa.Hc(a.getType())&&(a.Ch(2,h),1736==a.getType()&&a.fm()),e[a.Db()]=a;return e},i.ep=function(s,n,h,r){if(s.Db()>n.Db())return i.ki(i.Xe(s),s,"^");if(s.Db()<n.Db()||s.B())return i.ki(i.Xe(n),s,"^");if(n.B())return i.ki(i.Xe(s),s,"^");var e=new t.l;s.A(e);var o=new t.l;n.A(o);var a=new t.l;return a.K(e),a.Zb(o),h=t.ta.Wd(h,a,!0),o=new i,a=(e=new t.gd).Ib(i.Xe(s)),n=e.Ib(i.Xe(n)),o.Ft(e,h,r),r=o.ep(a,n),s=i.ki(e.Ne(r),s,"^"),t.aa.Hc(s.getType())&&(s.Ch(2,h),1736==s.getType()&&s.fm()),s},i.prototype.LQ=function(t,i){var s=this.j.g;t=s.vf(t,-1);for(var n=i.size,h=0;h<n;h++){var r=i.get(h);s.ij(t,r)}s.kn(t,!0)},i.prototype.aX=function(t,i){for(var s=this.j.g,n=s.ld;-1!=n;n=s.ue(n))if(n==i)for(var h=s.Ob(n);-1!=h;h=s.Rb(h)){var r=s.Xa(h);if(-1!=r)for(var e=s.U(r);-1!=e;){r=this.j.Le(r);var o=this.j.Le(e);-1!=(r=this.j.tR(r,o))&&(o=this.j.xa(r),this.j.Kb(r,t,1),this.j.Kb(o,t,2)),r=e,e=s.U(r)}}},i.prototype.cW=function(i,s,n,h){n=this.j.La(n),h=this.j.La(h);var r=new t.ia(0);r.Jb(256);for(var e=this.j.g,o=this.j.$g(),a=this.j.Re;-1!=a;a=this.j.Rf(a)){var u=this.j.Me(a);if(-1!=u){var f=u;do{if(1!=this.j.Ab(f,o)){var c=f,l=f,p=!1,v=0;do{if(this.j.Kb(c,o,1),!p){var y=this.j.dh(c);0!=(y&h)&&0!=(this.j.af(c)&n)&&(l=c,p=!0)}p&&(r.add(this.j.tj(this.j.km(this.j.jk(c)))),-1!=i&&(0!=((y=this.j.dh(c))&h)&&(v|=y=this.j.Ab(c,i)))),c=this.j.jc(c)}while(c!=l);p&&0<this.j.Kp(this.j.$e(l))&&(c=e.Ig(1736),this.LQ(c,r),-1!=s&&e.HJ(c,s,v)),r.clear(!1)}f=this.j.jc(this.j.xa(f))}while(f!=u)}}this.j.Jg(o)},i.prototype.FP=function(t,i,s,n){this.j.yW();var h=-1;-1!=t&&(h=this.j.$g(),this.aX(h,s)),this.cW(h,t,i,s),-1!=h&&(this.j.Jg(h),h=-1);var r=this.j.g;for(t=0,h=r.ld;-1!=h;h=r.ue(h))h!=i&&h!=s&&(n.add(h),t++);n.Vd(0,t,(function(t,i){return(t=r.wz(r.Ob(t)))<(i=r.wz(r.Ob(i)))?-1:t==i?0:1}))},i.prototype.Ug=function(){null!=this.j&&(this.j.Ug(),this.j=null)},i}();t.Fg=i}(Q||(Q={})),function(t){var i=function(){function i(t){void 0!==t?this.setScale(t):this.RB()}return i.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},i.prototype.Nb=function(t){return this==t||t instanceof i&&(this.bb==t.bb&&this.eb==t.eb&&this.Gb==t.Gb&&this.jb==t.jb&&this.ab==t.ab&&this.Lb==t.Lb)},i.prototype.cc=function(){return t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj(),t.O.uj()},i.prototype.Eh=function(t,i){var s=this.jb*t.x+this.ab*t.y+this.Lb;i.x=this.bb*t.x+this.eb*t.y+this.Gb,i.y=s},i.prototype.eY=function(i,s,n){for(var h=0;h<s;h++){var r=i[h].x,e=i[h].y,o=this.bb*r+this.eb*e+this.Gb;r=this.jb*r+this.ab*e+this.Lb,null!=n[h]?n[h].ma(o,r):n[h]=t.h.construct(o,r)}},i.prototype.multiply=function(t){i.multiply(this,t,this)},i.multiply=function(t,i,s){var n=t.bb*i.bb+t.jb*i.eb,h=t.eb*i.bb+t.ab*i.eb,r=t.Gb*i.bb+t.Lb*i.eb+i.Gb,e=t.bb*i.jb+t.jb*i.ab,o=t.eb*i.jb+t.ab*i.ab;t=t.Gb*i.jb+t.Lb*i.ab+i.Lb,s.bb=n,s.eb=h,s.Gb=r,s.jb=e,s.ab=o,s.Lb=t},i.prototype.Of=function(){var t=new i;return t.bb=this.bb,t.eb=this.eb,t.Gb=this.Gb,t.jb=this.jb,t.ab=this.ab,t.Lb=this.Lb,t},i.prototype.mC=function(i){if(!i.B()){for(var s=[],n=0;4>n;n++)s[n]=new t.h;i.nB(s),this.fY(s,s),i.Zw(s,4)}},i.prototype.fY=function(i,s){for(var n=0;n<i.length;n++){var h=new t.h,r=i[n];h.x=this.bb*r.x+this.eb*r.y+this.Gb,h.y=this.jb*r.x+this.ab*r.y+this.Lb,s[n]=h}},i.prototype.pS=function(t,i){t.B()||i.B()||0==t.R()||0==t.ca()?this.lx():(this.eb=this.jb=0,this.bb=i.R()/t.R(),this.ab=i.ca()/t.ca(),this.Gb=i.v-t.v*this.bb,this.Lb=i.G-t.G*this.ab)},i.prototype.dY=function(i){var s=new t.h,n=new t.h;s.ma(this.bb,this.jb),n.ma(this.eb,this.ab),s.sub(s);var h=.5*s.Sk();return s.ma(this.bb,this.jb),n.ma(this.eb,this.ab),s.add(n),i*(h>(s=.5*s.Sk())?Math.sqrt(h):Math.sqrt(s))},i.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},i.prototype.isIdentity=function(i){if(void 0!==i){var s=t.h.construct(0,1);return this.Eh(s,s),s.sub(t.h.construct(0,1)),s.Sk()>i*i?!1:(s.ma(0,0),this.Eh(s,s),!(s.Sk()>i*i)&&(s.ma(1,0),this.Eh(s,s),s.sub(t.h.construct(1,0)),s.Sk()<=i*i))}return 1==this.bb&&1==this.ab&&0==this.eb&&0==this.Gb&&0==this.jb&&0==this.Lb},i.prototype.Bi=function(t){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*t*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},i.prototype.gg=function(t,i){this.bb=1,this.eb=0,this.Gb=t,this.jb=0,this.ab=1,this.Lb=i},i.prototype.setScale=function(t,i){void 0!==i?(this.bb=t,this.jb=this.Gb=this.eb=0,this.ab=i,this.Lb=0):this.setScale(t,t)},i.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},i.prototype.setRotate=function(t){this.pX(Math.cos(t),Math.sin(t))},i.prototype.pX=function(t,i){this.bb=t,this.eb=-i,this.Gb=0,this.jb=i,this.ab=t,this.Lb=0},i.prototype.shift=function(t,i){this.Gb+=t,this.Lb+=i},i.prototype.scale=function(t,i){this.bb*=t,this.eb*=t,this.Gb*=t,this.jb*=i,this.ab*=i,this.Lb*=i},i.prototype.flipX=function(t,i){this.bb=-this.bb,this.eb=-this.eb,this.Gb=t+i-this.Gb},i.prototype.flipY=function(t,i){this.jb=-this.jb,this.ab=-this.ab,this.Lb=t+i-this.Lb},i.prototype.rotate=function(t){var s=new i;s.setRotate(t),this.multiply(s)},i.prototype.inverse=function(t){if(void 0!==t){var i=this.bb*this.ab-this.eb*this.jb;0==i?t.lx():(i=1/i,t.Gb=(this.eb*this.Lb-this.Gb*this.ab)*i,t.Lb=(this.Gb*this.jb-this.bb*this.Lb)*i,t.bb=this.ab*i,t.eb=-this.eb*i,t.jb=-this.jb*i,t.ab=this.bb*i)}else this.inverse(this)},i}();t.Dd=i}(Q||(Q={})),function(t){var i=function(){function i(){}return i.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},i.prototype.setScale=function(t,i,s){this.bb=t,this.eb=this.Ze=this.jb=0,this.ab=i,this.Fe=this.Ee=this.Ge=0,this.He=s,this.hg=this.Lb=this.Gb=0},i.prototype.setTranslate=function(t,i,s){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=t,this.Lb=i,this.hg=s},i.prototype.translate=function(t,i,s){this.Gb+=t,this.Lb+=i,this.hg+=s},i.prototype.mC=function(i){if(!i.B()){for(var s=new t.Nd[8],n=0;8>n;n++)s[n]=new t.Nd;i.nB(s),this.transform(s,8,s),i.Zw(s)}},i.prototype.transform=function(i,s,n){for(var h=0;h<s;h++){var r=new t.Nd,e=i[h];r.x=this.bb*e.x+this.eb*e.y+this.Ee*e.z+this.Gb,r.y=this.jb*e.x+this.ab*e.y+this.Fe*e.z+this.Lb,r.z=this.Ze*e.x+this.Ge*e.y+this.He*e.z+this.hg,n[h]=r}},i.prototype.fp=function(i){var s=new t.Nd;return s.x=this.bb*i.x+this.eb*i.y+this.Ee*i.z+this.Gb,s.y=this.jb*i.x+this.ab*i.y+this.Fe*i.z+this.Lb,s.z=this.Ze*i.x+this.Ge*i.y+this.He*i.z+this.hg,s},i.prototype.Ag=function(t){i.multiply(this,t,this)},i.multiply=function(t,i,s){var n=t.bb*i.bb+t.jb*i.eb+t.Ze*i.Ee,h=t.bb*i.jb+t.jb*i.ab+t.Ze*i.Fe,r=t.bb*i.Ze+t.jb*i.Ge+t.Ze*i.He,e=t.eb*i.bb+t.ab*i.eb+t.Ge*i.Ee,o=t.eb*i.jb+t.ab*i.ab+t.Ge*i.Fe,a=t.eb*i.Ze+t.ab*i.Ge+t.Ge*i.He,u=t.Ee*i.bb+t.Fe*i.eb+t.He*i.Ee,f=t.Ee*i.jb+t.Fe*i.ab+t.He*i.Fe,c=t.Ee*i.Ze+t.Fe*i.Ge+t.He*i.He,l=t.Gb*i.bb+t.Lb*i.eb+t.hg*i.Ee+i.Gb,p=t.Gb*i.jb+t.Lb*i.ab+t.hg*i.Fe+i.Lb;t=t.Gb*i.Ze+t.Lb*i.Ge+t.hg*i.He+i.hg,s.bb=n,s.jb=h,s.Ze=r,s.eb=e,s.ab=o,s.Ge=a,s.Ee=u,s.Fe=f,s.He=c,s.Gb=l,s.Lb=p,s.hg=t},i.inverse=function(i,s){var n=i.bb*(i.ab*i.He-i.Ge*i.Fe)-i.jb*(i.eb*i.He-i.Ge*i.Ee)+i.Ze*(i.eb*i.Fe-i.ab*i.Ee);if(0==n)throw t.i.fa("math singularity");var h=1/n;n=(i.ab*i.He-i.Ge*i.Fe)*h;var r=-(i.eb*i.He-i.Ge*i.Ee)*h,e=(i.eb*i.Fe-i.ab*i.Ee)*h,o=-(i.jb*i.He-i.Fe*i.Ze)*h,a=(i.bb*i.He-i.Ze*i.Ee)*h,u=-(i.bb*i.Fe-i.jb*i.Ee)*h,f=(i.jb*i.Ge-i.Ze*i.ab)*h,c=-(i.bb*i.Ge-i.Ze*i.eb)*h;h*=i.bb*i.ab-i.jb*i.eb;var l=-(i.Gb*n+i.Lb*r+i.hg*e),p=-(i.Gb*o+i.Lb*a+i.hg*u);i=-(i.Gb*f+i.Lb*c+i.hg*h),s.bb=n,s.jb=o,s.Ze=f,s.eb=r,s.ab=a,s.Ge=c,s.Ee=e,s.Fe=u,s.He=h,s.Gb=l,s.Lb=p,s.hg=i},i.prototype.Of=function(){var t=new i;return t.bb=this.bb,t.jb=this.jb,t.Ze=this.Ze,t.eb=this.eb,t.ab=this.ab,t.Ge=this.Ge,t.Ee=this.Ee,t.Fe=this.Fe,t.He=this.He,t.Gb=this.Gb,t.Lb=this.Lb,t.hg=this.hg,t},i}();t.JY=i}(Q||(Q={})),function(t){var i=function(i){function n(t){if(void 0!==t)t=i.call(this,t.cc(),t)||this;else{(t=i.call(this)||this).bg=[],t.bg[0]=0,t.Aa=1,t.uh=[];for(var s=0;10>s;s++)t.uh[s]=-1;t.uh[t.bg[0]]=0}return t.jq=!0,t}return _(n,i),n.prototype.re=function(t){this.hasAttribute(t)||(this.uh[t]=0,this.jD())},n.prototype.removeAttribute=function(i){if(0==i)throw t.i.N("Position attribue cannot be removed");this.hasAttribute(i)&&(this.uh[i]=-1,this.jD())},n.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var t=0;t<this.uh.length;t++)this.uh[t]=-1;this.uh[this.bg[0]]=0,this.jq=!0},n.prototype.EF=function(){return s.kz().add(this)},n.og=function(){return s.kz().$R()},n.prototype.tM=function(){var i=this.cc();return new t.ra(i,this)},n.prototype.jD=function(){for(var t=this.Aa=0,i=0;10>t;t++)0<=this.uh[t]&&(this.bg[i]=t,this.uh[t]=i,i++,this.Aa++);this.jq=!0},n.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},n.prototype.Nb=function(t){if(null==t)return!1;if(t==this)return!0;if(!(t instanceof n)||t.Aa!=this.Aa)return!1;for(var i=0;i<this.Aa;i++)if(this.bg[i]!=t.bg[i])return!1;return this.jq==t.jq},n.prototype.GG=function(t){if(t.Aa!=this.Aa)return!1;for(var i=0;i<this.Aa;i++)if(this.bg[i]!=t.bg[i])return!1;return!0},n.Iw=function(t,i){for(var s=[],n=0;n<t.Aa;n++)s[n]=-1;n=0;for(var h=t.Aa;n<h;n++)s[n]=i.Pf(t.kd(n));return s},n.BR=function(t,i){return(t=new n(t)).re(i),t.EF()},n.CR=function(t,i){for(var s=null,h=0;10>h;h++)!t.hasAttribute(h)&&i.hasAttribute(h)&&(null==s&&(s=new n(t)),s.re(h));return null!=s?s.EF():t},n}(t.ra);t.ee=i;var s=function(){function t(){this.map=[];var t=new i;this.add(t),(t=new i).re(1),this.add(t)}return t.kz=function(){return t.bL},t.prototype.$R=function(){return t.ft},t.prototype.add=function(i){var s=i.cc();if(null!=t.ft&&t.ft.cc()==s&&i.GG(t.ft))return t.ft;if(null!=t.Dw&&t.Dw.cc()==s&&i.GG(t.Dw))return t.Dw;var n=null;return void 0!==this.map[s]&&(n=this.map[s]),null==n&&(1==(n=i.tM()).Aa?t.ft=n:2==n.Aa&&1==n.kd(1)?t.Dw=n:this.map[s]=n),n},t.bL=new t,t}()}(Q||(Q={}));var rt={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},et={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},ot=new(function(){function t(){this.RM=50,this.np=new Map,this.gj=[]}return t.prototype.clear=function(){this.gj.length=0,this.np.clear()},t.prototype.delete=function(t){return!!this.np.delete(t)&&(this.gj.splice(this.gj.indexOf(t),1),!0)},t.prototype.get=function(t){var i=this.np.get(t);if(void 0!==i)return this.gj[0]!==t&&(this.gj.splice(this.gj.indexOf(t),1),this.gj.unshift(t)),i},t.prototype.has=function(t){return this.np.has(t)},t.prototype.set=function(t,i){return void 0!==this.get(t)&&this.delete(t),this.gj.unshift(t),this.np.set(t,i),this.oM(),this},t.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var t=this.gj.pop();this.np.delete(t)}},t}()),at=((Y={}).convertJSONToGeometry=function(t){return Q.$b.fP(t)},Y.hasM=function(t){return t.hasAttribute(Q.Ih.M)},Y.hasZ=function(t){return t.hasAttribute(Q.Ih.Z)},Y.getPointX=function(t){return t.Lg()},Y.getPointY=function(t){return t.ih()},Y.getPointZ=function(t){return t.bS()},Y.getPointM=function(t){return t.zR()},Y.getXMin=function(t){return t.es()},Y.getYMin=function(t){return t.gs()},Y.getXMax=function(t){return t.ds()},Y.getYMax=function(t){return t.fs()},Y.getZExtent=function(t){return t.Tg(Q.Ih.Z,0)},Y.getMExtent=function(t){return t.Tg(Q.Ih.M,0)},Y.exportPaths=function(t){var i=[],s=t.da(),n=null,h=null,r=t.hasAttribute(Q.Ih.Z),e=t.hasAttribute(Q.Ih.M);r&&(n=t.ub(Q.Ih.Z)),e&&(h=t.ub(Q.Ih.M));for(var o=new Q.h,a=0;a<s;a++){for(var u=t.Ba(a),f=t.Ja(a),c=0,l=0,p=NaN,v=NaN,y=NaN,d=NaN,b=t.dc(a),g=[],w=u;w<u+f;w++){t.D(w,o),d=y=NaN;var x=[o.x,o.y];r&&(y=n.get(w),x.push(y)),e&&(d=h.get(w),x.push(d)),w==u&&b&&(c=o.x,l=o.y,p=y,v=d),g.push(x)}!b||c==o.x&&l==o.y&&(!r||isNaN(p)&&isNaN(y)||p==y)&&(!e||isNaN(v)&&isNaN(d)||v==d)||g.push(g[0].slice(0)),i.push(g)}return i},Y.exportPathsFlat=function(){},Y.exportPoints=function(t){var i=t.hasAttribute(Q.Ih.Z),s=t.hasAttribute(Q.Ih.M),n=null,h=null;i&&(n=t.ub(Q.Ih.Z)),s&&(h=t.ub(Q.Ih.M));for(var r=new Q.h,e=t.I(),o=[],a=0;a<e;a++){t.D(a,r);var u=[r.x,r.y];i&&u.push(n.get(a)),s&&u.push(h.get(a)),o.push(u)}return o},Y.exportPointsFlat=function(){},Y),ut=new Map;return function(){function t(){}return t.buffer=I,t.clip=a,t.contains=f,t.convexHull=j,t.crosses=c,t.cut=u,t.densify=G,t.difference=M,t.disjoint=b,t.distance=l,t.equals=p,t.extendedSpatialReferenceInfo=o,t.generalize=q,t.geodesicArea=O,t.geodesicBuffer=T,t.geodesicDensify=F,t.geodesicLength=H,t.intersect=z,t.intersects=v,t.isSimple=x,t.nearestCoordinate=C,t.nearestVertex=B,t.nearestVertices=D,t.offset=N,t.overlaps=g,t.planarArea=E,t.planarLength=S,t.relate=w,t.simplify=m,t.symmetricDifference=k,t.touches=y,t.union=A,t.within=d,t.rotate=Q.Ex.rotate,t.flipHorizontal=Q.Ex.JQ,t.flipVertical=Q.Ex.KQ,t.intersectLinesToPoints=X,t.ExtendedParams=Q.yC,t.clearDefaultSpatialReferenceTolerance=V,t.changeDefaultSpatialReferenceTolerance=W,t._enableProjection=J,t._project=K,t._getTransformation=R,t._getTransformationBySuitability=L,t}()}var n=s();void 0!==n&&(t.exports=n)}(s,s.exports);var n=s.exports;const h=(0,_commonjsHelpers_js__WEBPACK_IMPORTED_MODULE_0__.g)(n),r=i({__proto__:null,default:h},[n]);


/***/ }),

/***/ 80952:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ t),
/* harmony export */   c: () => (/* binding */ n),
/* harmony export */   f: () => (/* binding */ r)
/* harmony export */ });
/* unused harmony exports O, U, Z, b, d, e, g, h, o, u, v, z */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(){return new Float32Array(3)}function t(n){const t=new Float32Array(3);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function r(n,t,r){const e=new Float32Array(3);return e[0]=n,e[1]=t,e[2]=r,e}function e(n,t){return new Float32Array(n,t,3)}function a(){return n()}function o(){return r(1,1,1)}function u(){return r(1,0,0)}function s(){return r(0,1,0)}function c(){return r(0,0,1)}const i=a(),f=o(),l=u(),_=s(),y=c(),w=Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:l,UNIT_Y:_,UNIT_Z:y,ZEROS:i,clone:t,create:n,createView:e,fromValues:r,ones:o,unitX:u,unitY:s,unitZ:c,zeros:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 20035:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ t),
/* harmony export */   f: () => (/* binding */ r)
/* harmony export */ });
/* unused harmony exports O, U, Z, a, b, d, e, g, h, i, j, o, u, v, z */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(){return new Float32Array(4)}function t(n){const t=new Float32Array(4);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(n,t,r,e){const a=new Float32Array(4);return a[0]=n,a[1]=t,a[2]=r,a[3]=e,a}function e(n,t){return new Float32Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function u(){return r(1,0,0,0)}function s(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function i(){return r(0,0,0,1)}const f=a(),l=o(),_=u(),y=s(),w=c(),N=i(),O=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_W:N,UNIT_X:_,UNIT_Y:y,UNIT_Z:w,ZEROS:f,clone:t,create:n,createView:e,fromValues:r,ones:o,unitW:i,unitX:u,unitY:s,unitZ:c,zeros:a},Symbol.toStringTag,{value:"Module"}));


/***/ }),

/***/ 6660:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _MemCache_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40210);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class c{constructor(e,t){this._cache=e(t,((e,t)=>this._remove(e,t)))}hitrate(){return this._cache.hitRate}destroy(){this._cache.destroy()}clear(){this._cache.clear()}pop(e){const t=this._cache.peek(e);if(!t)return;const c=t.pop();if(t.length>0){const c=t.reduce(((e,t)=>e+t.usedMemory),0);this._cache.updateSize(e,t,c)}else this._cache.pop(e);return c}put(t,c,s=_MemCache_js__WEBPACK_IMPORTED_MODULE_0__/* .minPriority */ .Xs){const r=this._cache.peek(t);if(!r)return void this._cache.put(t,[c],c.usedMemory,s);r.push(c);const h=r.reduce(((e,t)=>e+t.usedMemory),0);this._cache.updateSize(t,r,h)}_remove(e,c){switch(c){case _MemCache_js__WEBPACK_IMPORTED_MODULE_0__/* .RemoveMode */ .k2.ALL:return e.forEach((e=>e.dispose())),0;case _MemCache_js__WEBPACK_IMPORTED_MODULE_0__/* .RemoveMode */ .k2.SOME:return e.shift()?.dispose(),e.reduce(((e,t)=>e+t.usedMemory),0)}}}


/***/ }),

/***/ 80912:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}set(t,e,r){const s=this._outer.get(t);s?s.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}}


/***/ }),

/***/ 51859:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T: () => (/* binding */ r),
/* harmony export */   U: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o,r,e=0){const i=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .clamp */ .qE)(o,0,f);for(let t=0;t<4;t++)r[e+t]=Math.floor(256*l(i*n[t]))}function r(t,o=0){let r=0;for(let n=0;n<4;n++)r+=t[o+n]*e[n];return r}const n=[1,256,65536,16777216],e=[1/256,1/65536,1/16777216,1/4294967296],f=r(new Uint8ClampedArray([255,255,255,255]));function l(t){return t-Math.floor(t)}


/***/ }),

/***/ 6371:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){let r,e,i=[],u=!1;function f(...f){return u&&r===this&&n(f,i)||(e=t.apply(this,f),r=this,i=f,u=!0),e}return f}function n(t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==n[r])return!1;return!0}


/***/ }),

/***/ 33604:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Jd: () => (/* binding */ k),
/* harmony export */   Nk: () => (/* binding */ T),
/* harmony export */   OM: () => (/* binding */ S),
/* harmony export */   Oo: () => (/* binding */ F),
/* harmony export */   ix: () => (/* binding */ q),
/* harmony export */   rJ: () => (/* binding */ U),
/* harmony export */   yh: () => (/* binding */ x)
/* harmony export */ });
/* unused harmony exports formatDMS, formatDecimal, formatImperialArea, formatImperialLength, formatImperialRelativeLength, formatImperialRelativeVerticalLength, formatImperialVerticalLength, formatMetricArea, formatMetricLength, formatMetricRelativeLength, formatMetricRelativeVerticalLength, formatMetricVerticalLength, formatRelativeDecimal */
/* harmony import */ var _quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(73569);
/* harmony import */ var _unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26257);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function h(e,a,n,u=2,i="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatDecimal */ .zJ)(e,(0,_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .toUnit */ .kM)(a,n).value,n,u,i)}function g(r,a,n,u=2,i="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatRelativeDecimal */ .nD)(r,(0,_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .toUnit */ .kM)(a,n).value,n,u,i)}function L(t,r,e=2,n="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatMetricLength */ .Ee)(t,r.value,r.unit,e,n)}function M(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatMetricRelativeLength */ .Mm)(t,r.value,r.unit,e,a)}function d(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatMetricVerticalLength */ .W4)(t,r.value,r.unit,e,a)}function w(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatMetricRelativeVerticalLength */ .e_)(t,r.value,r.unit,e,a)}function I(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatMetricArea */ .zq)(t,r.value,r.unit,e,a)}function R(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatImperialLength */ .tr)(t,r.value,r.unit,e,a)}function V(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatImperialRelativeLength */ .J1)(t,r.value,r.unit,e,a)}function y(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatImperialVerticalLength */ .t_)(t,r.value,r.unit,e,a)}function D(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatImperialRelativeVerticalLength */ .LF)(t,r.value,r.unit,e,a)}function j(t,r,e=2,a="abbr"){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatImperialArea */ .Sz)(t,r.value,r.unit,e,a)}function A(t){return s(t.value,t.unit)}function T(t,r,e){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatAngleDegrees */ .Me)(t.value,t.unit,t.rotationType,r,e)}function U(t,r,e){return (0,_unitFormatUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .formatRelativeAngleDegrees */ .cs)(t.value,t.unit,t.rotationType,r,e)}function q(t,r,e,a,n="abbr"){switch(a=a??2,e){case"imperial":return R(t,r,a,n);case"metric":return L(t,r,a,n);default:return h(t,r,e,a,n)}}function x(t,r,e,a=2,n="abbr"){switch(e){case"imperial":return V(t,r,a,n);case"metric":return M(t,r,a,n);default:return g(t,r,e,a,n)}}function F(t,r,e,a=2,n="abbr"){switch(e){case"imperial":return y(t,r,a,n);case"metric":return d(t,r,a,n);default:return h(t,r,e,a,n)}}function S(t,r,e,a=2,n="abbr"){switch(e){case"imperial":return D(t,r,a,n);case"metric":return w(t,r,a,n);default:return g(t,r,e,a,n)}}function k(t,r,e,a=2,n="abbr"){switch(e){case"imperial":return j(t,r,a,n);case"metric":return I(t,r,a,n);default:return h(t,r,e,a,n)}}


/***/ }),

/***/ 73569:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IV: () => (/* binding */ U),
/* harmony export */   T9: () => (/* binding */ p),
/* harmony export */   Wq: () => (/* binding */ o),
/* harmony export */   d_: () => (/* binding */ i),
/* harmony export */   g2: () => (/* binding */ g),
/* harmony export */   gT: () => (/* binding */ l),
/* harmony export */   hs: () => (/* binding */ m),
/* harmony export */   iT: () => (/* binding */ d),
/* harmony export */   kM: () => (/* binding */ f),
/* harmony export */   l3: () => (/* binding */ s),
/* harmony export */   r7: () => (/* binding */ h)
/* harmony export */ });
/* unused harmony exports createQuantity, createVolume, isBaseUnit, min, toBaseUnit, zeroRadians */
/* harmony import */ var _unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92976);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(t,u){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .unitType */ .t$)(u),value:t,unit:u}}function i(t,u){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .unitType */ .t$)(u),value:t,unit:u}}function l(t,u){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .unitType */ .t$)(u),value:t,unit:u}}function a(t,u){return{type:n(u),value:t,unit:u}}function o(t,u,e="arithmetic"){return{type:(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .unitType */ .t$)(u),value:t,unit:u,rotationType:e}}function c(n){return t(n.unit)}function f(n,t){const u=s(n,t);return"angle"===n.type?o(u,t,n.rotationType):r(u,t)}function s(n,t){return (0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .oU)(n.value,n.unit,t)}function v(n){return f(n,e(n.unit))}function p(n,t){return null==n?t:null==t||n.value>(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .convertUnit */ .oU)(t.value,t.unit,n.unit)?n:t}function y(n,t){return null==n?t:null==t||n.value<u(t.value,t.unit,n.unit)?n:t}function m(n,t){return null==n?null:{...n,value:n.value*t}}function g(n,t,u){if(t===u)return n;switch(u){case"arithmetic":case"geographic":return 90-n}}const h=i(0,"meters"),d=l(0,"square-meters"),T=o(0,"radians"),U=o(0,"degrees");


/***/ }),

/***/ 26257:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cq: () => (/* binding */ b),
/* harmony export */   Ee: () => (/* binding */ D),
/* harmony export */   J1: () => (/* binding */ h),
/* harmony export */   LF: () => (/* binding */ M),
/* harmony export */   Me: () => (/* binding */ U),
/* harmony export */   Mm: () => (/* binding */ x),
/* harmony export */   Sz: () => (/* binding */ $),
/* harmony export */   W4: () => (/* binding */ y),
/* harmony export */   cs: () => (/* binding */ w),
/* harmony export */   e_: () => (/* binding */ F),
/* harmony export */   nD: () => (/* binding */ p),
/* harmony export */   t_: () => (/* binding */ B),
/* harmony export */   tr: () => (/* binding */ d),
/* harmony export */   v7: () => (/* binding */ O),
/* harmony export */   zJ: () => (/* binding */ g),
/* harmony export */   zq: () => (/* binding */ j)
/* harmony export */ });
/* unused harmony export formatDMS */
/* harmony import */ var _ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(84858);
/* harmony import */ var _Cyclical_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(17505);
/* harmony import */ var _mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92504);
/* harmony import */ var _quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(73569);
/* harmony import */ var _string_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(96274);
/* harmony import */ var _unitUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(92976);
/* harmony import */ var _intl_number_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(46930);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function b(t,n,i){return t.units[n][i]}function g(t,n,i,r=2,o="abbr"){return`${(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__/* .formatNumber */ .ZV)(n,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:n>0?"never":"exceptZero"})} ${b(t,i,o)}`}function p(t,n,i,r=2,o="abbr"){return`${(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__/* .formatNumber */ .ZV)(n,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${b(t,i,o)}`}function D(t,n,i,r=2,o="abbr"){const s=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveMetricLengthUnit */ .x0)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,s),s,r,o)}function x(t,n,i,r=2,o="abbr"){const s=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveMetricLengthUnit */ .x0)(n,i);return p(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,s),s,r,o)}function y(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveMetricVerticalLengthUnit */ .x$)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,e),e,r,o)}function F(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveMetricVerticalLengthUnit */ .x$)(n,i);return p(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,e),e,r,o)}function d(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveImperialLengthUnit */ .OU)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,e),e,r,o)}function h(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveImperialLengthUnit */ .OU)(n,i);return p(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,e),e,r,o)}function B(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveImperialVerticalLengthUnit */ .y7)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,e),e,r,o)}function M(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveImperialVerticalLengthUnit */ .y7)(n,i);return p(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,e),e,r,o)}function j(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveMetricAreaUnit */ .wv)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,e),e,r,o)}function $(t,n,i,r=2,o="abbr"){const e=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .adaptiveImperialAreaUnit */ .TL)(n,i);return g(t,(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(n,i,e),e,r,o)}function S(t,n,i=2){let r=u(t,n,"degrees"),o=r-Math.floor(r);r-=o,o*=60;let e=o-Math.floor(o);return o-=e,e*=60,`${r.toFixed()}° ${o.toFixed()}' ${e.toFixed(i)}"`}function U(t,i,o,e,s){s=s??2;let c=_Cyclical_js__WEBPACK_IMPORTED_MODULE_1__/* .cyclicalDegrees */ .ie.normalize((0,_quantityUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .convertRotationType */ .g2)((0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(t,i,"degrees"),o,e),0,!0);const a={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:s,minimumFractionDigits:s,signDisplay:c>0?"never":"exceptZero"};return c=z(c,a),(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__/* .formatNumber */ .ZV)(c,a)}function w(t,n,i,r,o){i!==r&&(t=-t);const e={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:o=o??2,minimumFractionDigits:o,signDisplay:"exceptZero"};let s=(0,_unitUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .convertUnit */ .oU)(t,n,"degrees")%360;return s=z(s,e),(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__/* .formatNumber */ .ZV)(s,e)}const Z=new Map;function z(t,n){const i=JSON.stringify(n);let r=Z.get(i);return r||(r=new Intl.NumberFormat("en-US",n),Z.set(i,r)),/\-?\+?360/.test(r.format(t))?0:t}const I=["B","kB","MB","GB","TB"];function O(n,r){let e=0===(r=Math.round(r))?0:Math.floor(Math.log(r)/Math.log(_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__/* .ByteSizeUnit */ .u.KILOBYTES));e=(0,_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .clamp */ .qE)(e,0,I.length-1);const u=(0,_intl_number_js__WEBPACK_IMPORTED_MODULE_6__/* .formatNumber */ .ZV)(r/_ByteSizeUnit_js__WEBPACK_IMPORTED_MODULE_0__/* .ByteSizeUnit */ .u.KILOBYTES**e,{maximumFractionDigits:2});return (0,_string_js__WEBPACK_IMPORTED_MODULE_4__/* .replace */ .HC)(n.units.bytes[I[e]],{fileSize:u})}


/***/ }),

/***/ 73164:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   hydratedAdapter: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _Extent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(84698);
/* harmony import */ var _Multipoint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(90067);
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(78632);
/* harmony import */ var _Polygon_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(62802);
/* harmony import */ var _Polyline_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(42238);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r={convertToGEGeometry:s,exportPoint:a,exportPolygon:c,exportPolyline:h,exportMultipoint:m,exportExtent:x};function s(e,n){if(null==n)return null;let t="cache"in n?n.cache._geVersion:void 0;return null==t&&(t=e.convertJSONToGeometry(n),"cache"in n&&(n.cache._geVersion=t)),t}function a(e,n,o){const i=e.hasZ(n),r=e.hasM(n),s=new _Point_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A({x:e.getPointX(n),y:e.getPointY(n),spatialReference:o});return i&&(s.z=e.getPointZ(n)),r&&(s.m=e.getPointM(n)),s.cache._geVersion=n,s}function c(e,n,t){const i=new _Polygon_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A({rings:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return i.cache._geVersion=n,i}function h(e,n,t){const o=new _Polyline_js__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A({paths:e.exportPaths(n),hasZ:e.hasZ(n),hasM:e.hasM(n),spatialReference:t});return o.cache._geVersion=n,o}function m(e,t,o){const i=new _Multipoint_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({hasZ:e.hasZ(t),hasM:e.hasM(t),points:e.exportPoints(t),spatialReference:o});return i.cache._geVersion=t,i}function x(n,t,o){const i=n.hasZ(t),r=n.hasM(t),s=new _Extent_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({xmin:n.getXMin(t),ymin:n.getYMin(t),xmax:n.getXMax(t),ymax:n.getYMax(t),spatialReference:o});if(i){const e=n.getZExtent(t);s.zmin=e.vmin,s.zmax=e.vmax}if(r){const e=n.getMExtent(t);s.mmin=e.vmin,s.mmax=e.vmax}return s.cache._geVersion=t,s}


/***/ }),

/***/ 22724:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buffer: () => (/* binding */ j),
/* harmony export */   changeDefaultSpatialReferenceTolerance: () => (/* binding */ G),
/* harmony export */   clearDefaultSpatialReferenceTolerance: () => (/* binding */ P),
/* harmony export */   clip: () => (/* binding */ u),
/* harmony export */   contains: () => (/* binding */ c),
/* harmony export */   convexHull: () => (/* binding */ R),
/* harmony export */   crosses: () => (/* binding */ o),
/* harmony export */   cut: () => (/* binding */ i),
/* harmony export */   densify: () => (/* binding */ B),
/* harmony export */   difference: () => (/* binding */ x),
/* harmony export */   disjoint: () => (/* binding */ d),
/* harmony export */   distance: () => (/* binding */ f),
/* harmony export */   equals: () => (/* binding */ s),
/* harmony export */   extendedSpatialReferenceInfo: () => (/* binding */ r),
/* harmony export */   flipHorizontal: () => (/* binding */ V),
/* harmony export */   flipVertical: () => (/* binding */ v),
/* harmony export */   generalize: () => (/* binding */ z),
/* harmony export */   geodesicArea: () => (/* binding */ k),
/* harmony export */   geodesicBuffer: () => (/* binding */ E),
/* harmony export */   geodesicDensify: () => (/* binding */ H),
/* harmony export */   geodesicLength: () => (/* binding */ q),
/* harmony export */   intersect: () => (/* binding */ S),
/* harmony export */   intersectLinesToPoints: () => (/* binding */ C),
/* harmony export */   intersects: () => (/* binding */ a),
/* harmony export */   isSimple: () => (/* binding */ h),
/* harmony export */   nearestCoordinate: () => (/* binding */ J),
/* harmony export */   nearestVertex: () => (/* binding */ L),
/* harmony export */   nearestVertices: () => (/* binding */ N),
/* harmony export */   offset: () => (/* binding */ D),
/* harmony export */   overlaps: () => (/* binding */ m),
/* harmony export */   planarArea: () => (/* binding */ I),
/* harmony export */   planarLength: () => (/* binding */ b),
/* harmony export */   relate: () => (/* binding */ g),
/* harmony export */   rotate: () => (/* binding */ T),
/* harmony export */   simplify: () => (/* binding */ w),
/* harmony export */   symmetricDifference: () => (/* binding */ y),
/* harmony export */   touches: () => (/* binding */ l),
/* harmony export */   union: () => (/* binding */ A),
/* harmony export */   within: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40835);
/* harmony import */ var _geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(73164);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n){return Array.isArray(n)?n[0].spatialReference:n&&n.spatialReference}function r(e){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.extendedSpatialReferenceInfo(e)}function u(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.clip(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function i(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.cut(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function c(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.contains(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function o(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.crosses(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function f(r,u,i){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.distance(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i)}function s(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.equals(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function a(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.intersects(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function l(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.touches(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function p(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.within(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function d(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.disjoint(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function m(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.overlaps(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function g(r,u,i){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.relate(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i)}function h(r){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.isSimple(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r)}function w(r){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.simplify(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r)}function R(r,u=!1){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.convexHull(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function x(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.difference(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function y(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.symmetricDifference(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function S(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.intersect(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function A(r,u=null){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.union(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function D(r,u,i,c,o,f){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.offset(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i,c,o,f)}function j(r,u,i,c=!1){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.buffer(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i,c)}function E(r,u,i,c,o,f){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.geodesicBuffer(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i,c,o,f)}function J(r,u,i=!0){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.nearestCoordinate(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i)}function L(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.nearestVertex(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function N(r,u,i,c){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.nearestVertices(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i,c)}function O(n){return"xmin"in n?"center"in n?n.center:null:"x"in n?n:"extent"in n?n.extent?.center??null:null}function T(e,t,r){if(null==e)throw new F;const u=e.spatialReference;if(null==(r=r??O(e)))throw new F;const i=e.constructor.fromJSON(_chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.rotate(e,t,r));return i.spatialReference=u,i}function V(e,t){if(null==e)throw new F;const r=e.spatialReference;if(null==(t=t??O(e)))throw new F;const u=e.constructor.fromJSON(_chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.flipHorizontal(e,t));return u.spatialReference=r,u}function v(e,t){if(null==e)throw new F;const r=e.spatialReference;if(null==(t=t??O(e)))throw new F;const u=e.constructor.fromJSON(_chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.flipVertical(e,t));return u.spatialReference=r,u}function z(r,u,i,c){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.generalize(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i,c)}function B(r,u,i){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.densify(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i)}function H(r,u,i,c=0){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.geodesicDensify(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i,c)}function I(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.planarArea(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function b(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.planarLength(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function k(r,u,i){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.geodesicArea(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i)}function q(r,u,i){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.geodesicLength(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u,i)}function C(r,u){return _chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.intersectLinesToPoints(_geometryAdapters_hydrated_js__WEBPACK_IMPORTED_MODULE_1__.hydratedAdapter,t(r),r,u)}function G(e,t){_chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.changeDefaultSpatialReferenceTolerance(e,t)}function P(e){_chunks_geometryEngineBase_js__WEBPACK_IMPORTED_MODULE_0__.G.clearDefaultSpatialReferenceTolerance(e)}class F extends Error{constructor(){super("Illegal Argument Exception")}}


/***/ }),

/***/ 42609:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/* harmony import */ var _projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(84119);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(o,e,c,f=0){t[0]=o.x,t[1]=o.y;const n=o.z;return t[2]=void 0!==n?n:f,(0,_projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__.projectBuffer)(t,o.spatialReference,0,e,c,0,1)}const t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)();


/***/ }),

/***/ 80715:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/* harmony import */ var _projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(84119);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(r,o,c){return (0,_projectBuffer_js__WEBPACK_IMPORTED_MODULE_1__.projectBuffer)(r,o,0,t,c.spatialReference,0,1)?(c.x=t[0],c.y=t[1],c.z=t[2],c):null}const t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)();


/***/ }),

/***/ 70397:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/* harmony import */ var _Point_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78632);
/* harmony import */ var _projectBuffer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(84119);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n,t,f){if(null==t||null==f)return null;const l=new _Point_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({spatialReference:f});return (0,_projectBuffer_js__WEBPACK_IMPORTED_MODULE_2__.projectBuffer)(n,t,0,e,f,0,1)?(l.x=e[0],l.y=e[1],l.z=e[2],l):null}const e=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)();


/***/ }),

/***/ 2330:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/* harmony import */ var _projectors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12943);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(r,o,c){if(null==o)return!1;const s=(0,_projectors_js__WEBPACK_IMPORTED_MODULE_1__/* .getWGS84ComparableLonLatProjector */ .Yz)(o);return null!=s&&(s(r,0,t,0),c!==t&&(c[0]=t[0],c[1]=t[1],c.length>2&&(c[2]=t[2])),!0)}const t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)();


/***/ }),

/***/ 90166:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ns: () => (/* binding */ y),
/* harmony export */   jh: () => (/* binding */ t),
/* harmony export */   l5: () => (/* binding */ a),
/* harmony export */   s: () => (/* binding */ o),
/* harmony export */   xm: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86942);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n,t=!1){return n<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9?t?new Array(n).fill(0):new Array(n):new Float64Array(n)}function e(t){return((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */ .cy)(t)?t.length:t.byteLength/8)<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9?Array.from(t):new Float64Array(t)}function a(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}function o(r,n){for(let t=0;t<n.length;++t)r[t]=n[t];return r}function y(r){return Array.isArray(r)?new Float64Array(r):r}


/***/ }),

/***/ 50961:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AK: () => (/* binding */ o),
/* harmony export */   Wz: () => (/* binding */ a),
/* harmony export */   oe: () => (/* binding */ t)
/* harmony export */ });
/* unused harmony export compactFloatArray */
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86942);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n,t=!1){return n<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9?t?new Array(n).fill(0):new Array(n):new Float32Array(n)}function e(t){return n(t)?t.length<r?t:new Float32Array(t):t.length<r?Array.from(t):t}function a(t){return((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */ .cy)(t)?t.length:t.byteLength/8)<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9?Array.from(t):new Float32Array(t)}function o(r,n,t){return Array.isArray(r)?r.slice(n,n+t):r.subarray(n,n+t)}


/***/ }),

/***/ 42965:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dg: () => (/* binding */ t),
/* harmony export */   EH: () => (/* binding */ A),
/* harmony export */   JH: () => (/* binding */ f),
/* harmony export */   my: () => (/* binding */ i),
/* harmony export */   tM: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86942);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){if((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */ .cy)(t)){if(t.length<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9)return t}else if(t.length<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9)return Array.from(t);let i=!0,f=!0;return t.some(((r,n)=>(i=i&&0===r,f=f&&r===n,!i&&!f))),i?A(t.length):f?l(t.length):(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */ .cy)(t)||t.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?e(t):t}function e(n){let t=!0;for(const e of n){if(e>=65536)return (0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .isArray */ .cy)(n)?new Uint32Array(n):n;e>=256&&(t=!1)}return t?new Uint8Array(n):new Uint16Array(n)}function i(r){return r<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9?new Array(r):r<=65536?new Uint16Array(r):new Uint32Array(r)}function f(r){return r<=_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9?new Array(r):new Uint32Array(r)}let a=(()=>{const r=new Uint32Array(131072);for(let n=0;n<r.length;++n)r[n]=n;return r})();const u=[0],o=(()=>{const r=new Uint16Array(65536);for(let n=0;n<r.length;++n)r[n]=n;return r})();function l(r){if(1===r)return u;if(r<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9)return Array.from(new Uint16Array(o.buffer,0,r));if(r<o.length)return new Uint16Array(o.buffer,0,r);if(r>a.length){const n=Math.max(2*a.length,r);a=new Uint32Array(n);for(let r=0;r<a.length;r++)a[r]=r}return new Uint32Array(a.buffer,0,r)}let y=new Uint8Array(65536);function A(r){if(1===r)return u;if(r<_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_0__/* .nativeArrayMaxSize */ .y9)return new Array(r).fill(0);if(r>y.length){const n=Math.max(2*y.length,r);y=new Uint8Array(n)}return new Uint8Array(y.buffer,0,r)}


/***/ }),

/***/ 8695:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21877);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(73446);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(85569);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39831);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(63863);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(56192);
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(76743);
/* harmony import */ var _chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(46991);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(22279);
/* harmony import */ var _axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(69175);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var v;let b=v=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__/* .JSONSupport */ .oY{constructor(t){super(t),this.translation=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)(),this.rotationAxis=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.e)(_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_13__.up),this.rotationAngle=0,this.scale=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.f)(1,1,1)}get rotation(){return (0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_13__/* .fromAxisAndAngle */ .i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.g)((0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_13__/* .axis */ .yo)(t)),this.rotationAngle=(0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_13__/* .angle */ .g7)(t)}get localMatrix(){const t=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.a)();return (0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_9__.s)(M,(0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_13__/* .axis */ .yo)(this.rotation),(0,_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_13__/* .angleRad */ .$I)(this.rotation)),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__.f)(t,M,this.translation,this.scale),t}get localMatrixInverse(){return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__.i)((0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__.a)(),this.localMatrix)}applyLocal(t,o){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_11__.e)(o,t,this.localMatrix)}applyLocalInverse(t,o){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_11__.e)(o,t,this.localMatrixInverse)}equals(t){return this===t||null!=t&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__.e)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.g)(this.translation),rotationAxis:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.g)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.g)(this.scale)};return new v(t)}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"translation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"rotationAxis",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"rotationAngle",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],b.prototype,"scale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],b.prototype,"rotation",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],b.prototype,"localMatrix",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],b.prototype,"localMatrixInverse",null),b=v=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.geometry.support.MeshTransform")],b);const M=(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_10__.a)(),N=b;


/***/ }),

/***/ 69175:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $I: () => (/* binding */ w),
/* harmony export */   AU: () => (/* binding */ g),
/* harmony export */   Cr: () => (/* binding */ v),
/* harmony export */   Zz: () => (/* binding */ U),
/* harmony export */   g7: () => (/* binding */ x),
/* harmony export */   i4: () => (/* binding */ q),
/* harmony export */   up: () => (/* binding */ z),
/* harmony export */   vt: () => (/* binding */ h),
/* harmony export */   yo: () => (/* binding */ l)
/* harmony export */ });
/* unused harmony exports copy, fromValues, setAngle, wrap, wrapAxisAngle */
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76743);
/* harmony import */ var _chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(46991);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22279);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function h(n=z){return[n[0],n[1],n[2],n[3]]}function j(n,r,t,u){return d(n,r,t,u,C)}function k(n,r){return d(n[0],n[1],n[2],r,C)}function b(n,r=h()){return d(n[0],n[1],n[2],n[3],r)}function d(n,r,t,u,o=h()){return o[0]=n,o[1]=r,o[2]=t,o[3]=u,o}function q(n,r,t=h()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(l(t),n),t[3]=r,t}function v(n,r,t=h()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)(t,n,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(t,t),t[3]=-(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.d)(n,r),t}function U(r,s,c=h()){return (0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__.s)(A,l(r),w(r)),(0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__.s)(B,l(s),w(s)),(0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__.m)(A,B,A),y(c,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .rad2deg */ .KJ)((0,_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__.g)(l(c),A)))}function g(n,r,t,u=h()){return q(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.U,n,D),q(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.b,r,E),q(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.d,t,F),U(D,E,D),U(D,F,u),u}function l(n){return n}function x(n){return n[3]}function w(n){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .deg2rad */ .kU)(n[3])}function y(n,r){return n[3]=r,n}const z=[0,0,1,0],A=(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),B=(0,_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),C=h(),D=h(),E=h(),F=h();


/***/ }),

/***/ 57813:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Y$: () => (/* binding */ y),
  qB: () => (/* binding */ o),
  Qt: () => (/* binding */ k),
  My: () => (/* binding */ C),
  bf: () => (/* binding */ j),
  jZ: () => (/* binding */ l),
  j0: () => (/* binding */ a),
  Sx: () => (/* binding */ p),
  E$: () => (/* binding */ b),
  h: () => (/* binding */ g),
  P: () => (/* binding */ B),
  SL: () => (/* binding */ d),
  gH: () => (/* binding */ u),
  si: () => (/* binding */ m),
  mJ: () => (/* binding */ q),
  UL: () => (/* binding */ D),
  D6: () => (/* binding */ V),
  Yi: () => (/* binding */ w),
  An: () => (/* binding */ F),
  LC: () => (/* binding */ A),
  xs: () => (/* binding */ i),
  Xm: () => (/* binding */ T),
  Vp: () => (/* binding */ v),
  zD: () => (/* binding */ G),
  m8: () => (/* binding */ M),
  nS: () => (/* binding */ E),
  H$: () => (/* binding */ I),
  eI: () => (/* binding */ O),
  Eq: () => (/* binding */ c),
  Aj: () => (/* binding */ h),
  E7: () => (/* binding */ z),
  Y4: () => (/* binding */ H),
  TX: () => (/* binding */ S),
  Uz: () => (/* binding */ L),
  ml: () => (/* binding */ U),
  XP: () => (/* binding */ x)
});

;// ../node_modules/@arcgis/core/geometry/support/buffer/internals/Mat3.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t,e,r=0,f,s){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;void 0===f&&(f=9*i.BYTES_PER_ELEMENT);const d=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,d):new i(e,d,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=f/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const f=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,f,this.stride,f+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let f=0;f<9;f++)e[f]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let f=0;f<9;f++)this.typedBuffer[r++]=e[f]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const f=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,d=r*e.typedBufferStride;for(let u=0;u<9;++u)f[i++]=s[d++]}get buffer(){return this.typedBuffer.buffer}}t.ElementCount=9;

;// ../node_modules/@arcgis/core/geometry/support/buffer/internals/Mat4.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Mat4_t{constructor(t,e,r=0,f,s){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;void 0===f&&(f=16*i.BYTES_PER_ELEMENT);const d=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,d):new i(e,d,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=f/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const f=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,f,this.stride,f+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let f=0;f<16;f++)e[f]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let f=0;f<16;f++)this.typedBuffer[r++]=e[f]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const f=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,d=r*e.typedBufferStride;for(let u=0;u<16;++u)f[i++]=s[d++]}get buffer(){return this.typedBuffer.buffer}}Mat4_t.ElementCount=16;

;// ../node_modules/@arcgis/core/geometry/support/buffer/internals/Scalar.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Scalar_t{constructor(t,e,r=0,s,i){this.TypedArrayConstructor=t,this.elementCount=1;const f=this.TypedArrayConstructor;void 0===s&&(s=f.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new f(e,u):new f(e,u,(i-r)/f.BYTES_PER_ELEMENT),this.stride=s,this.typedBufferStride=s/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const s=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,s,this.stride,s+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}Scalar_t.ElementCount=1;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2.js
var vec2 = __webpack_require__(58680);
;// ../node_modules/@arcgis/core/geometry/support/buffer/internals/Vec2.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e{constructor(t,e,r=0,f,s){this.TypedArrayConstructor=t,this.elementCount=2;const i=this.TypedArrayConstructor;void 0===f&&(f=2*i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=f/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const f=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,f,this.stride,f+r*this.stride)}getVec(e,r){return e*=this.typedBufferStride,(0,vec2.s)(r,this.typedBuffer[e],this.typedBuffer[e+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const f=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;f[i++]=s[u++],f[i]=s[u]}get buffer(){return this.typedBuffer.buffer}}e.ElementCount=2;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
;// ../node_modules/@arcgis/core/geometry/support/buffer/internals/Vec3.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Vec3_e{constructor(t,e,r=0,f,s){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;void 0===f&&(f=3*i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=f/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const f=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,f,this.stride,f+r*this.stride)}getVec(e,r){return e*=this.typedBufferStride,(0,vec3.s)(r,this.typedBuffer[e],this.typedBuffer[e+1],this.typedBuffer[e+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,f){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=f}copyFrom(t,e,r){const f=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;f[i++]=s[u++],f[i++]=s[u++],f[i]=s[u]}get buffer(){return this.typedBuffer.buffer}}Vec3_e.ElementCount=3;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4.js
var vec4 = __webpack_require__(25102);
;// ../node_modules/@arcgis/core/geometry/support/buffer/internals/Vec4.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Vec4_e{constructor(t,e,r=0,f,s){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;void 0===f&&(f=4*i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=f/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const f=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,f,this.stride,f+r*this.stride)}getVec(e,r){return e*=this.typedBufferStride,(0,vec4.s)(r,this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,f,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=f,this.typedBuffer[t]=s}copyFrom(t,e,r){const f=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;f[i++]=s[u++],f[i++]=s[u++],f[i++]=s[u++],f[i]=s[u]}get buffer(){return this.typedBuffer.buffer}}Vec4_e.ElementCount=4;

;// ../node_modules/@arcgis/core/geometry/support/buffer/BufferView.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class y extends Scalar_t{constructor(e,t=0,r,s){super(Float32Array,e,t,r,s),this.elementType="f32"}static fromTypedArray(e,t){return new y(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}y.ElementType="f32";class u extends e{constructor(e,t=0,r,s){super(Float32Array,e,t,r,s),this.elementType="f32"}slice(e,t){return this.sliceBuffer(u,e,t)}static fromTypedArray(e,t){return new u(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}u.ElementType="f32";class i extends Vec3_e{constructor(e,t=0,r,s){super(Float32Array,e,t,r,s),this.elementType="f32"}slice(e,t){return this.sliceBuffer(i,e,t)}static fromTypedArray(e,t){return new i(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}i.ElementType="f32";class c extends Vec4_e{constructor(e,t=0,r,s){super(Float32Array,e,t,r,s),this.elementType="f32"}slice(e,t){return this.sliceBuffer(c,e,t)}static fromTypedArray(e,t){return new c(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}c.ElementType="f32";class l extends t{constructor(e,t=0,r,s){super(Float32Array,e,t,r,s),this.elementType="f32"}slice(e,t){return this.sliceBuffer(l,e,t)}static fromTypedArray(e,t){return new l(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}l.ElementType="f32";class a extends t{constructor(e,t=0,r,s){super(Float64Array,e,t,r,s),this.elementType="f64"}slice(e,t){return this.sliceBuffer(a,e,t)}static fromTypedArray(e,t){return new a(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}a.ElementType="f64";class p extends Mat4_t{constructor(e,t=0,r,s){super(Float32Array,e,t,r,s),this.elementType="f32"}slice(e,t){return this.sliceBuffer(p,e,t)}static fromTypedArray(e,t){return new p(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}p.ElementType="f32";class b extends Mat4_t{constructor(e,t=0,r,s){super(Float64Array,e,t,r,s),this.elementType="f64"}slice(e,t){return this.sliceBuffer(b,e,t)}static fromTypedArray(e,t){return new b(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}b.ElementType="f64";class o extends Scalar_t{constructor(e,t=0,r,s){super(Float64Array,e,t,r,s),this.elementType="f64"}slice(e,t){return this.sliceBuffer(o,e,t)}static fromTypedArray(e,t){return new o(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}o.ElementType="f64";class m extends e{constructor(e,t=0,r,s){super(Float64Array,e,t,r,s),this.elementType="f64"}slice(e,t){return this.sliceBuffer(m,e,t)}static fromTypedArray(e,t){return new m(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}m.ElementType="f64";class T extends Vec3_e{constructor(e,t=0,r,s){super(Float64Array,e,t,r,s),this.elementType="f64"}slice(e,t){return this.sliceBuffer(T,e,t)}static fromTypedArray(e,t){return new T(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}T.ElementType="f64";class h extends Vec4_e{constructor(e,t=0,r,s){super(Float64Array,e,t,r,s),this.elementType="f64"}slice(e,t){return this.sliceBuffer(h,e,t)}static fromTypedArray(e,t){return new h(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}h.ElementType="f64";class d extends Scalar_t{constructor(e,t=0,r,s){super(Uint8Array,e,t,r,s),this.elementType="u8"}slice(e,t){return this.sliceBuffer(d,e,t)}static fromTypedArray(e,t){return new d(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}d.ElementType="u8";class A extends e{constructor(e,t=0,r,s){super(Uint8Array,e,t,r,s),this.elementType="u8"}slice(e,t){return this.sliceBuffer(A,e,t)}static fromTypedArray(e,t){return new A(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}A.ElementType="u8";class O extends Vec3_e{constructor(e,t=0,r,s){super(Uint8Array,e,t,r,s),this.elementType="u8"}slice(e,t){return this.sliceBuffer(O,e,t)}static fromTypedArray(e,t){return new O(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}O.ElementType="u8";class x extends Vec4_e{constructor(e,t=0,r,s){super(Uint8Array,e,t,r,s),this.elementType="u8"}slice(e,t){return this.sliceBuffer(x,e,t)}static fromTypedArray(e,t){return new x(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}x.ElementType="u8";class g extends Scalar_t{constructor(e,t=0,r,s){super(Uint16Array,e,t,r,s),this.elementType="u16"}slice(e,t){return this.sliceBuffer(g,e,t)}static fromTypedArray(e,t){return new g(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}g.ElementType="u16";class w extends e{constructor(e,t=0,r,s){super(Uint16Array,e,t,r,s),this.elementType="u16"}slice(e,t){return this.sliceBuffer(w,e,t)}static fromTypedArray(e,t){return new w(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}w.ElementType="u16";class E extends Vec3_e{constructor(e,t=0,r,s){super(Uint16Array,e,t,r,s),this.elementType="u16"}slice(e,t){return this.sliceBuffer(E,e,t)}static fromTypedArray(e,t){return new E(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}E.ElementType="u16";class L extends Vec4_e{constructor(e,t=0,r,s){super(Uint16Array,e,t,r,s),this.elementType="u16"}slice(e,t){return this.sliceBuffer(L,e,t)}static fromTypedArray(e,t){return new L(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}L.ElementType="u16";class B extends Scalar_t{constructor(e,t=0,r,s){super(Uint32Array,e,t,r,s),this.elementType="u32"}slice(e,t){return this.sliceBuffer(B,e,t)}static fromTypedArray(e,t){return new B(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}B.ElementType="u32";class F extends e{constructor(e,t=0,r,s){super(Uint32Array,e,t,r,s),this.elementType="u32"}slice(e,t){return this.sliceBuffer(F,e,t)}static fromTypedArray(e,t){return new F(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}F.ElementType="u32";class I extends Vec3_e{constructor(e,t=0,r,s){super(Uint32Array,e,t,r,s),this.elementType="u32"}slice(e,t){return this.sliceBuffer(I,e,t)}static fromTypedArray(e,t){return new I(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}I.ElementType="u32";class U extends Vec4_e{constructor(e,t=0,r,s){super(Uint32Array,e,t,r,s),this.elementType="u32"}slice(e,t){return this.sliceBuffer(U,e,t)}static fromTypedArray(e,t){return new U(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}U.ElementType="u32";class j extends Scalar_t{constructor(e,t=0,r,s){super(Int8Array,e,t,r,s),this.elementType="i8"}slice(e,t){return this.sliceBuffer(j,e,t)}static fromTypedArray(e,t){return new j(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}j.ElementType="i8";class V extends e{constructor(e,t=0,r,s){super(Int8Array,e,t,r,s),this.elementType="i8"}slice(e,t){return this.sliceBuffer(V,e,t)}static fromTypedArray(e,t){return new V(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}V.ElementType="i8";class M extends Vec3_e{constructor(e,t=0,r,s){super(Int8Array,e,t,r,s),this.elementType="i8"}slice(e,t){return this.sliceBuffer(M,e,t)}static fromTypedArray(e,t){return new M(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}M.ElementType="i8";class S extends Vec4_e{constructor(e,t=0,r,s){super(Int8Array,e,t,r,s),this.elementType="i8"}slice(e,t){return this.sliceBuffer(S,e,t)}static fromTypedArray(e,t){return new S(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}S.ElementType="i8";class k extends Scalar_t{constructor(e,t=0,r,s){super(Int16Array,e,t,r,s),this.elementType="i16"}slice(e,t){return this.sliceBuffer(k,e,t)}static fromTypedArray(e,t){return new k(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}k.ElementType="i16";class q extends e{constructor(e,t=0,r,s){super(Int16Array,e,t,r,s),this.elementType="i16"}slice(e,t){return this.sliceBuffer(q,e,t)}static fromTypedArray(e,t){return new q(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}q.ElementType="i16";class v extends Vec3_e{constructor(e,t=0,r,s){super(Int16Array,e,t,r,s),this.elementType="i16"}slice(e,t){return this.sliceBuffer(v,e,t)}static fromTypedArray(e,t){return new v(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}v.ElementType="i16";class z extends Vec4_e{constructor(e,t=0,r,s){super(Int16Array,e,t,r,s),this.elementType="i16"}slice(e,t){return this.sliceBuffer(z,e,t)}static fromTypedArray(e,t){return new z(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}z.ElementType="i16";class C extends Scalar_t{constructor(e,t=0,r,s){super(Int32Array,e,t,r,s),this.elementType="i32"}slice(e,t){return this.sliceBuffer(C,e,t)}static fromTypedArray(e,t){return new C(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}C.ElementType="i32";class D extends e{constructor(e,t=0,r,s){super(Int32Array,e,t,r,s),this.elementType="i32"}slice(e,t){return this.sliceBuffer(D,e,t)}static fromTypedArray(e,t){return new D(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}D.ElementType="i32";class G extends Vec3_e{constructor(e,t=0,r,s){super(Int32Array,e,t,r,s),this.elementType="i32"}slice(e,t){return this.sliceBuffer(G,e,t)}static fromTypedArray(e,t){return new G(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}G.ElementType="i32";class H extends Vec4_e{constructor(e,t=0,r,s){super(Int32Array,e,t,r,s),this.elementType="i32"}slice(e,t){return this.sliceBuffer(H,e,t)}static fromTypedArray(e,t){return new H(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}H.ElementType="i32";


/***/ }),

/***/ 32846:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GJ: () => (/* binding */ e)
/* harmony export */ });
/* unused harmony exports isInteger, isSigned, maximumValue */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}function c(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0}}function s(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1}}function r(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303}}


/***/ }),

/***/ 6214:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $e: () => (/* binding */ y),
/* harmony export */   j1: () => (/* binding */ p),
/* harmony export */   mO: () => (/* binding */ g),
/* harmony export */   vt: () => (/* binding */ a)
/* harmony export */ });
/* unused harmony exports copy, fromLineSegmentAndDirection, fromValues, getAt, wrap */
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92114);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21839);
/* harmony import */ var _ray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32532);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(r){return r?{ray:(0,_ray_js__WEBPACK_IMPORTED_MODULE_1__/* .create */ .vt)(r.ray),c0:r.c0,c1:r.c1}:{ray:(0,_ray_js__WEBPACK_IMPORTED_MODULE_1__/* .create */ .vt)(),c0:0,c1:Number.MAX_VALUE}}function i(r,c,n){const t=A.get();return t.ray=r,t.c0=c,t.c1=n,t}function s(r,c=a()){return f(r.ray,r.c0,r.c1,c)}function f(r,c,n,t=a()){return e(r,t.ray),t.c0=c,t.c1=n,t}function y(r,c=a()){return (0,_ray_js__WEBPACK_IMPORTED_MODULE_1__/* .copy */ .C)(r,c.ray),c.c0=0,c.c1=Number.MAX_VALUE,c}function m(r,n,t=a()){const o=c(r.vector);return u(r.origin,n,t.ray),t.c0=0,t.c1=o,t}function p(r,c){return j(r,r.c0,c)}function g(r,c){return j(r,r.c1,c)}function j(r,c,o){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.g)(o,r.ray.origin,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(o,r.ray.direction,c))}const A=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_2__/* .ObjectStack */ .I((()=>a()));


/***/ }),

/***/ 55821:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Sj: () => (/* binding */ k),
/* harmony export */   vf: () => (/* binding */ S)
/* harmony export */ });
/* unused harmony exports altitudeAt, closestPoint, closestPointOnSilhouette, coordinateSystemFromOneAxisAndNormalVector, create, createFromOperations, createLocal, distanceToSilhouette, elevate, fromValues, intersectRay, intersectRayClosestSilhouette, intersectsRay, normalAt, renderSRFromViewSR, setAltitudeAt, setAltitudeOfTransformation, setExtent, vectorCoordinates, wrap */
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22279);
/* harmony import */ var _ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(47936);
/* harmony import */ var _SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(78983);
/* harmony import */ var _spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32937);
/* harmony import */ var _Axis_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(58331);
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(28769);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(96245);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function h(t){const{value:n,operations:e}=t;return{operations:e,value:e.create(n)}}function j(t,n,e){return t.operations.setExtent(t.value,n,e.value),e}function d(t){return{operations:t,value:t.create()}}function A(t,n,e=d(t)){return e.operations=t,t.copy(n,e.value),e}function k(t){return A(_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_8__.s,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_8__.f)(0,0,0,(0,_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .getReferenceEllipsoid */ .tO)(t).radius))}const x=(/* unused pure expression or super */ null && (2**50));function R(){return A(p,f([0,0,0],[x,0,0],[0,x,0]))}function y(t,n){return z.operations=t,z.value=n,z}function P(t,n,e){return t.operations.axisAt(t.value,n,l.Z,e)}function S(t,n,e,o){return t.operations.axisAt(t.value,n,e,o)}function b(t,n,e){return t.operations.intersectRay(t.value,n,e)}function C(t,n){return t.operations.intersectRay(t.value,n,null)}function E(t,n,e){return t.operations.closestPoint(t.value,n,e)}function U(t,n,e){return t.operations.intersectRayClosestSilhouette(t.value,n,e)}function g(t,n,e){return t.operations.closestPointOnSilhouette(t.value,n,e)}function G(t,n){return t.operations.distanceToSilhouette(t.value,n)}function O(t,n){return t.operations.altitudeAt(t.value,n)}function T(t,n,e,o){return t.operations.setAltitudeAt(t.value,n,e,o)}function Z(e,o,r,u){return o!==u&&t(u,o),n(w,u[12],u[13],u[14]),T(e,w,r,w),u[12]=w[0],u[13]=w[1],u[14]=w[2],u}function q(t,n,e){return t.operations.elevate(t.value,n,e.value)}const w=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),z={operations:null,value:null};function B(t,n,o,r,u){return u[0]=e(t,n),u[1]=e(t,o),u[2]=e(t,r),u}function D(t,n,e,i,s){o(e,t),o(H,n),r(H,H),u(i,H,e),u(s,i,e)}function F(t,n){return t?c(n):n.isGeographic?a.PlateCarree:n}const H=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ 94982:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ u),
/* harmony export */   FB: () => (/* binding */ l),
/* harmony export */   ig: () => (/* binding */ m),
/* harmony export */   m7: () => (/* binding */ P),
/* harmony export */   ui: () => (/* binding */ L),
/* harmony export */   vt: () => (/* binding */ I)
/* harmony export */ });
/* unused harmony exports NumPlanes, NumPoints, PointIndex, computePlanes, createPoints, intersectsLineSegment, intersectsPoint, intersectsRay, planePointIndices */
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(92114);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22279);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(25102);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52712);
/* harmony import */ var _clipRay_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6214);
/* harmony import */ var _plane_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(38774);
/* harmony import */ var _vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(45573);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function I(T){return T?[(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(T[0]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(T[1]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(T[2]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(T[3]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(T[4]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(T[5])]:[(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)()]}function N(){return[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()]}function u(T,_){for(let O=0;O<v;O++)(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .copy */ .C)(T[O],_[O]);return T}function L(T,t,E,F=S){const r=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.m)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__/* .sm4d */ .Rc.get(),t,T);(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.i)(r,r);for(let _=0;_<g;++_){const T=(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__.t)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__/* .sv4d */ .Km.get(),b[_],r);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.s)(F[_],T[0]/T[3],T[1]/T[3],T[2]/T[3])}s(E,F)}function s(T,_){(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .fromPoints */ .Cr)(_[k.FAR_BOTTOM_LEFT],_[k.NEAR_BOTTOM_LEFT],_[k.NEAR_TOP_LEFT],T[l.LEFT]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .fromPoints */ .Cr)(_[k.NEAR_BOTTOM_RIGHT],_[k.FAR_BOTTOM_RIGHT],_[k.FAR_TOP_RIGHT],T[l.RIGHT]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .fromPoints */ .Cr)(_[k.FAR_BOTTOM_LEFT],_[k.FAR_BOTTOM_RIGHT],_[k.NEAR_BOTTOM_RIGHT],T[l.BOTTOM]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .fromPoints */ .Cr)(_[k.NEAR_TOP_LEFT],_[k.NEAR_TOP_RIGHT],_[k.FAR_TOP_RIGHT],T[l.TOP]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .fromPoints */ .Cr)(_[k.NEAR_BOTTOM_LEFT],_[k.NEAR_BOTTOM_RIGHT],_[k.NEAR_TOP_RIGHT],T[l.NEAR]),(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .fromPoints */ .Cr)(_[k.FAR_BOTTOM_RIGHT],_[k.FAR_BOTTOM_LEFT],_[k.FAR_TOP_LEFT],T[l.FAR])}function P(T,_){for(let O=0;O<v;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function i(T,_){return j(T,r(_,y.get()))}function m(T,_){for(let O=0;O<v;O++){const R=T[O];if(!(0,_plane_js__WEBPACK_IMPORTED_MODULE_6__/* .clipInfinite */ .b6)(R,_))return!1}return!0}function a(T,_,O){return j(T,n(_,O,y.get()))}function p(T,_){for(let O=0;O<v;O++){if(B(T[O],_)>0)return!1}return!0}function j(T,_){for(let O=0;O<v;O++)if(!M(T[O],_))return!1;return!0}var l,k;!function(T){T[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR"}(l||(l={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(k||(k={}));const h={bottom:[k.FAR_BOTTOM_RIGHT,k.NEAR_BOTTOM_RIGHT,k.NEAR_BOTTOM_LEFT,k.FAR_BOTTOM_LEFT],near:[k.NEAR_BOTTOM_LEFT,k.NEAR_BOTTOM_RIGHT,k.NEAR_TOP_RIGHT,k.NEAR_TOP_LEFT],far:[k.FAR_BOTTOM_RIGHT,k.FAR_BOTTOM_LEFT,k.FAR_TOP_LEFT,k.FAR_TOP_RIGHT],right:[k.NEAR_BOTTOM_RIGHT,k.FAR_BOTTOM_RIGHT,k.FAR_TOP_RIGHT,k.NEAR_TOP_RIGHT],left:[k.FAR_BOTTOM_LEFT,k.NEAR_BOTTOM_LEFT,k.NEAR_TOP_LEFT,k.FAR_TOP_LEFT],top:[k.FAR_TOP_LEFT,k.NEAR_TOP_LEFT,k.NEAR_TOP_RIGHT,k.FAR_TOP_RIGHT]},v=6,g=8,b=[(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(-1,-1,-1,1),(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(1,-1,-1,1),(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(1,1,-1,1),(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(-1,1,-1,1),(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(-1,-1,1,1),(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(1,-1,1,1),(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(1,1,1,1),(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(-1,1,1,1)],y=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_8__/* .ObjectStack */ .I(_clipRay_js__WEBPACK_IMPORTED_MODULE_5__/* .create */ .vt),S=N();


/***/ }),

/***/ 22759:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ p),
/* harmony export */   Cr: () => (/* binding */ b),
/* harmony export */   H6: () => (/* binding */ d),
/* harmony export */   _I: () => (/* binding */ l),
/* harmony export */   dz: () => (/* binding */ B),
/* harmony export */   fA: () => (/* binding */ h),
/* harmony export */   kb: () => (/* binding */ M),
/* harmony export */   ld: () => (/* binding */ k),
/* harmony export */   sd: () => (/* binding */ A),
/* harmony export */   vt: () => (/* binding */ v)
/* harmony export */ });
/* unused harmony exports closestLineSegmentDistance2, distance, wrap */
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(92114);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22279);
/* harmony import */ var _vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(45573);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(t){return t?{origin:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.g)(t.origin),vector:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.g)(t.vector)}:{origin:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),vector:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}function m(t,r){const n=x.get();return n.origin=t,n.vector=r,n}function p(t,r=v()){return h(t.origin,t.vector,r)}function h(t,r,o=v()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o.origin,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o.vector,r),o}function b(t,r,i=v()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(i.origin,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(i.vector,r,t),i}function M(r,n){const c=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),n,r.origin),s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)(r.vector,c),u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)(r.vector,r.vector),a=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .clamp */ .qE)(s/u,0,1),g=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),r.vector,a),c);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)(g,g)}function j(t,r){return Math.sqrt(M(t,r))}function l(t,r,n){return d(t,r,0,1,n)}function A(t,r,n){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(n,t.origin,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(n,t.vector,r))}function d(r,n,u,a,g){const{vector:v,origin:m}=r,p=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.f)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),n,m),h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.j)(v,p)/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.m)(v);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(g,v,(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .clamp */ .qE)(h,u,a)),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(g,g,r.origin)}function B(t,r){if(q(t,m(r.origin,r.direction),!1,w)){const{tA:r,pB:n,distance2:o}=w;if(r>=0&&r<=1)return o;if(r<0)return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.a)(t.origin,n);if(r>1)return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.a)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),t.origin,t.vector),n)}return null}function k(t,r,o){return!!q(t,r,!0,w)&&((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.c)(o,w.pA),!0)}function S(t,r){return q(t,r,!0,w)?w.distance2:null}function q(r,n,o,i){const e=1e-6,s=r.origin,a=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),s,r.vector),g=n.origin,v=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),g,n.vector),m=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),p=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get();if(m[0]=s[0]-g[0],m[1]=s[1]-g[1],m[2]=s[2]-g[2],p[0]=v[0]-g[0],p[1]=v[1]-g[1],p[2]=v[2]-g[2],Math.abs(p[0])<e&&Math.abs(p[1])<e&&Math.abs(p[2])<e)return!1;const h=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get();if(h[0]=a[0]-s[0],h[1]=a[1]-s[1],h[2]=a[2]-s[2],Math.abs(h[0])<e&&Math.abs(h[1])<e&&Math.abs(h[2])<e)return!1;const b=m[0]*p[0]+m[1]*p[1]+m[2]*p[2],M=p[0]*h[0]+p[1]*h[1]+p[2]*h[2],j=m[0]*h[0]+m[1]*h[1]+m[2]*h[2],l=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],A=(h[0]*h[0]+h[1]*h[1]+h[2]*h[2])*l-M*M;if(Math.abs(A)<e)return!1;let d=(b*M-j*l)/A,B=(b+M*d)/l;o&&(d=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .clamp */ .qE)(d,0,1),B=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .clamp */ .qE)(B,0,1));const k=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get(),S=_vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__/* .sv3d */ .rq.get();return k[0]=s[0]+d*h[0],k[1]=s[1]+d*h[1],k[2]=s[2]+d*h[2],S[0]=g[0]+B*p[0],S[1]=g[1]+B*p[1],S[2]=g[2]+B*p[2],i.tA=d,i.tB=B,i.pA=k,i.pB=S,i.distance2=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.a)(k,S),!0}const w={tA:0,tB:0,pA:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),pB:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),distance2:0},x=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_4__/* .ObjectStack */ .I((()=>v()));


/***/ }),

/***/ 52209:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   b: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _Indices_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42965);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,s,u){const c=Array.isArray(e),a=c?e.length/s:e.byteLength/(4*s),h=c?e:new Uint32Array(e,0,a*s),y=u?.minReduction??0,A=u?.originalIndices||null,g=A?A.length:0,m=u?.componentOffsets||null;let w=0;if(m)for(let t=0;t<m.length-1;t++){const n=m[t+1]-m[t];n>w&&(w=n)}else w=a;const U=Math.floor(1.1*w)+1;(null==i||i.length<2*U)&&(i=new Uint32Array((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .nextHighestPowerOfTwo */ .cU)(2*U)));for(let t=0;t<2*U;t++)i[t]=0;let b=0;const d=!!m&&!!A,p=d?g:a;let M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__/* .newIndexArray */ .my)(a);const j=new Uint32Array(g),q=1.96;let I=0!==y?Math.ceil(4*q*q/(y*y)*y*(1-y)):p,k=1,x=m?m[1]:p;for(let t=0;t<p;t++){if(t===I){const n=1-b/t;if(n+q*Math.sqrt(n*(1-n)/t)<y)return null;I*=2}if(t===x){for(let t=0;t<2*U;t++)i[t]=0;if(A)for(let t=m[k-1];t<m[k];t++)j[t]=M[A[t]];x=m[++k]}const n=d?A[t]:t,r=n*s,e=f(h,r,s);let o=e%U,u=b;for(;0!==i[2*o+1];){if(i[2*o]===e){const t=i[2*o+1]-1;if(l(h,r,t*s,s)){u=M[t];break}}o++,o>=U&&(o-=U)}u===b&&(i[2*o]=e,i[2*o+1]=n+1,b++),M[n]=u}if(0!==y&&1-b/a<y)return null;if(d){for(let t=m[k-1];t<j.length;t++)j[t]=M[A[t]];M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__/* .compactIndices */ .Dg)(j)}const C=c?new Array(b):new Uint32Array(b*s);b=0;for(let t=0;t<p;t++)if(M[t]===b){o(h,(d?A[t]:t)*s,C,b*s,s),b++}if(A&&!d){const t=new Uint32Array(g);for(let n=0;n<t.length;n++)t[n]=M[A[n]];M=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_1__/* .compactIndices */ .Dg)(t)}return{buffer:Array.isArray(C)?C:C.buffer,indices:M,uniqueCount:b}}function l(t,n,r,e){for(let l=0;l<e;l++)if(t[n+l]!==t[r+l])return!1;return!0}function o(t,n,r,e,l){for(let o=0;o<l;o++)r[e+o]=t[n+o]}function f(t,n,r){let e=0;for(let l=0;l<r;l++)e=t[n+l]+e|0,e=e+(e<<11)+(e>>>2)|0;return e>>>0}let i=null;


/***/ }),

/***/ 50958:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fm: () => (/* binding */ S),
/* harmony export */   Q7: () => (/* binding */ w)
/* harmony export */ });
/* unused harmony exports area2d, copy, create, distance2, fromValues, intersectRay, wrap */
/* harmony import */ var _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(92114);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22279);
/* harmony import */ var _lineSegment_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22759);
/* harmony import */ var _vectorStacks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(45573);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function j(t){return t?{p0:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.g)(t.p0),p1:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.g)(t.p1),p2:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.g)(t.p2)}:{p0:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),p1:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),p2:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)()}}function h(t,n,e){const r=x.get();return r.p0=t,r.p1=n,r.p2=e,r}function k(t,n=j()){return b(t.p0,t.p1,t.p2,n)}function b(t,e,r,o=j()){return n(o.p0,t),n(o.p1,e),n(o.p2,r),o}function l(t,n){const p=t.p0,c=t.p1,s=t.p2,i=e(m.get(),c,p),u=e(m.get(),s,c),f=e(m.get(),p,s),j=e(m.get(),n,p),h=e(m.get(),n,c),k=e(m.get(),n,s),b=r(i,i,f),l=o(r(m.get(),i,b),j),v=o(r(m.get(),u,b),h),S=o(r(m.get(),f,b),k);if(l>0&&v>0&&S>0){const t=o(b,j);return t*t/o(b,b)}const d=a(g(p,i,M.get()),n),w=a(g(c,u,M.get()),n),x=a(g(s,f,M.get()),n);return Math.min(d,w,x)}function v(t,n,e){const r=1e-5,{direction:o,origin:s}=n,{p0:i,p1:u,p2:f}=t,a=u[0]-i[0],g=u[1]-i[1],m=u[2]-i[2],j=f[0]-i[0],h=f[1]-i[1],k=f[2]-i[2],b=o[1]*k-h*o[2],l=o[2]*j-k*o[0],v=o[0]*h-j*o[1],S=a*b+g*l+m*v;if(S>-r&&S<r)return!1;const d=1/S,w=s[0]-i[0],M=s[1]-i[1],x=s[2]-i[2],O=d*(w*b+M*l+x*v);if(O<0||O>1)return!1;const V=M*m-g*x,q=x*a-m*w,y=w*g-a*M,z=d*(o[0]*V+o[1]*q+o[2]*y);if(z<0||O+z>1)return!1;if(e){p(e,o,d*(j*V+h*q+k*y)),c(e,s,e)}return!0}function S(t,n,e){const r=n[0]-t[0],o=n[1]-t[1],p=e[0]-t[0],c=e[1]-t[1];return.5*Math.abs(r*c-o*p)}function d(t){return S(t.p0,t.p1,t.p2)}function w(t,n,o){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(O,n,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(V,o,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.l)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.b)(O,O,V))/2}const M=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_4__/* .ObjectStack */ .I(_lineSegment_js__WEBPACK_IMPORTED_MODULE_2__/* .create */ .vt),x=new _core_ObjectStack_js__WEBPACK_IMPORTED_MODULE_4__/* .ObjectStack */ .I((()=>j())),O=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),V=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 17566:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Wq: () => (/* binding */ u),
/* harmony export */   jp: () => (/* binding */ g),
/* harmony export */   lO: () => (/* binding */ f)
/* harmony export */ });
/* unused harmony export isCounterClockwise */
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16528);
/* harmony import */ var _Axis_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(58331);
/* harmony import */ var _coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(65319);
/* harmony import */ var _DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(90166);
/* harmony import */ var _Indices_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(42965);
/* harmony import */ var _meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52209);
/* harmony import */ var _views_3d_layers_graphics_polygonUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(92986);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function f(t){const e=g(t.rings,t.hasZ,u.CCW_IS_HOLE,t.spatialReference),s=new Array;let c=0,f=0;for(const r of e.polygons){const t=r.count,l=r.index,h=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__/* .doubleSubArray */ .l5)(e.position,3*l,3*t),g=r.holeIndices.map((n=>n-l)),a=(0,_Indices_js__WEBPACK_IMPORTED_MODULE_4__/* .compactIndices */ .Dg)((0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_0__.e)(h,g,3));s.push({position:h,faces:a}),c+=h.length,f+=a.length}const a=h(s,c,f),p=Array.isArray(a.position)?(0,_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_5__/* .deduplicate */ .b)(a.position,3,{originalIndices:a.faces}):(0,_meshUtils_deduplicate_js__WEBPACK_IMPORTED_MODULE_5__/* .deduplicate */ .b)(a.position.buffer,6,{originalIndices:a.faces});return a.position=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__/* .doubleArrayFrom */ .xm)(new Float64Array(p.buffer)),a.faces=p.indices,a}function h(n,t,e){if(1===n.length)return n[0];const o=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__/* .newDoubleArray */ .jh)(t),r=new Array(e);let l=0,c=0,f=0;for(const s of n){for(let n=0;n<s.position.length;n++)o[l++]=s.position[n];for(const n of s.faces)r[c++]=n+f;f=l/3}return{position:o,faces:(0,_Indices_js__WEBPACK_IMPORTED_MODULE_4__/* .compactIndices */ .Dg)(r)}}function g(n,t,e,o){const r=n.length,i=new Array(r),l=new Array(r),c=new Array(r);let f=0,h=0,g=0,d=0;for(let s=0;s<r;++s)d+=n[s].length;const m=(0,_DoubleArray_js__WEBPACK_IMPORTED_MODULE_3__/* .newDoubleArray */ .jh)(3*d);let y=0;for(let s=r-1;s>=0;s--){const d=n[s],A=e===u.CCW_IS_HOLE&&p(d,t,o);if(A&&1!==r)i[f++]=d;else{let n=d.length;for(let t=0;t<f;++t)n+=i[t].length;const e={index:y,pathLengths:new Array(f+1),count:n,holeIndices:new Array(f)};e.pathLengths[0]=d.length,d.length>0&&(c[g++]={index:y,count:d.length}),y=A?a(d,d.length-1,-1,m,y,d.length,t):a(d,0,1,m,y,d.length,t);for(let o=0;o<f;++o){const n=i[o];e.holeIndices[o]=y,e.pathLengths[o+1]=n.length,n.length>0&&(c[g++]={index:y,count:n.length}),y=a(n,0,1,m,y,n.length,t)}f=0,e.count>0&&(l[h++]=e)}}for(let s=0;s<f;++s){const n=i[s];n.length>0&&(c[g++]={index:y,count:n.length}),y=a(n,0,1,m,y,n.length,t)}return l.length=h,c.length=g,{position:m,polygons:l,outlines:c}}function a(n,t,e,o,r,s,i){r*=3;for(let l=0;l<s;++l){const s=n[t];o[r++]=s[0],o[r++]=s[1],o[r++]=i?s[2]:0,t+=e}return r/3}function p(n,o,r){if(o){const o=n.length-1,s=(0,_views_3d_layers_graphics_polygonUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .leastSignificantAxis */ .zB)(n,o,r);if(s===_Axis_js__WEBPACK_IMPORTED_MODULE_1__/* .Axis */ ._.X)return!(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .isClockwise */ .$3)(n,_Axis_js__WEBPACK_IMPORTED_MODULE_1__/* .Axis */ ._.Y,_Axis_js__WEBPACK_IMPORTED_MODULE_1__/* .Axis */ ._.Z);if(s===_Axis_js__WEBPACK_IMPORTED_MODULE_1__/* .Axis */ ._.Y)return!(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .isClockwise */ .$3)(n,_Axis_js__WEBPACK_IMPORTED_MODULE_1__/* .Axis */ ._.X,_Axis_js__WEBPACK_IMPORTED_MODULE_1__/* .Axis */ ._.Z)}return!(0,_coordsUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .isClockwise */ .$3)(n,_Axis_js__WEBPACK_IMPORTED_MODULE_1__/* .Axis */ ._.X,_Axis_js__WEBPACK_IMPORTED_MODULE_1__/* .Axis */ ._.Y)}var u;!function(n){n[n.NONE=0]="NONE",n[n.CCW_IS_HOLE=1]="CCW_IS_HOLE"}(u||(u={}));


/***/ }),

/***/ 9723:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   C: () => (/* binding */ r)
/* harmony export */ });
/* unused harmony export equals */
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39831);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(87926);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++){const r=e[t],a=n[t];if(r.length!==a.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==a[e])return!1}return!0}function t(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function r(n,t){return n===t||null!=n&&null!=t&&(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .equals */ .aI)(n.spatialReference,t.spatialReference)&&n.x===t.x&&n.y===t.y&&n.z===t.z&&n.m===t.m}function a(n,r){return n.hasZ===r.hasZ&&n.hasM===r.hasM&&(!!e(n.spatialReference,r.spatialReference)&&t(n.paths,r.paths))}function u(n,r){return n.hasZ===r.hasZ&&n.hasM===r.hasM&&(!!e(n.spatialReference,r.spatialReference)&&t(n.rings,r.rings))}function i(t,r){return t.hasZ===r.hasZ&&t.hasM===r.hasM&&(!!e(t.spatialReference,r.spatialReference)&&n(t.points,r.points))}function s(n,t){return n.hasZ===t.hasZ&&n.hasM===t.hasM&&(!!e(n.spatialReference,t.spatialReference)&&(n.xmin===t.xmin&&n.ymin===t.ymin&&n.zmin===t.zmin&&n.xmax===t.xmax&&n.ymax===t.ymax&&n.zmax===t.zmax))}function l(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.type!==n.type)return!1;switch(e.type){case"point":return r(e,n);case"extent":return s(e,n);case"polyline":return a(e,n);case"polygon":return u(e,n);case"multipoint":return i(e,n);case"mesh":return!1;default:return}}function f(e,n){if(e===n)return!0;if(!e||!n)return!1;const t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(const a of t)if(e[a]!==n[a])return!1;return!0}function c(e,n){return e===n||null!=e&&null!=n&&e.objectId===n.objectId&&(!!l(e.geometry,n.geometry)&&!!f(e.attributes,n.attributes))}


/***/ }),

/***/ 80009:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   v: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){return"point"===t.type}


/***/ }),

/***/ 85174:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EL: () => (/* binding */ x),
/* harmony export */   RS: () => (/* binding */ k),
/* harmony export */   gr: () => (/* binding */ o),
/* harmony export */   wP: () => (/* binding */ c),
/* harmony export */   wZ: () => (/* binding */ u)
/* harmony export */ });
/* unused harmony exports isHydratedGraphic, isHydratedPoint */
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17639);
/* harmony import */ var _Graphic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(25707);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(39831);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19251);
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(86942);
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1171);
/* harmony import */ var _dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(29394);
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(78983);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(e){return"declaredClass"in e}function m(e){return"declaredClass"in e}function l(e){return"declaredClass"in e}function c(n,r){return n?l(n)?n:new _Graphic_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({layer:r,sourceLayer:r,visible:n.visible,symbol:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(n.symbol),attributes:(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(n.attributes),geometry:u(n.geometry)}):null}function u(e){return null==e?null:o(e)?e:(0,_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .fromJSON */ .rS)(f(e))}function f(e){const{wkid:t,wkt:n,wkt2:r,latestWkid:a}=e.spatialReference,s={wkid:t,wkt:n,wkt2:r,latestWkid:a};switch(e.type){case"point":{const{x:t,y:n,z:r,m:a}=e;return{x:t,y:n,z:r,m:a,spatialReference:s}}case"polygon":{const{rings:t,hasZ:n,hasM:r}=e;return{rings:p(t),hasZ:n,hasM:r,spatialReference:s}}case"polyline":{const{paths:t,hasZ:n,hasM:r}=e;return{paths:p(t),hasZ:n,hasM:r,spatialReference:s}}case"extent":{const{xmin:t,xmax:n,ymin:r,ymax:a,zmin:i,zmax:o,mmin:m,mmax:l,hasZ:c,hasM:u}=e;return{xmin:t,xmax:n,ymin:r,ymax:a,zmin:i,zmax:o,mmin:m,mmax:l,hasZ:c,hasM:u,spatialReference:s}}case"multipoint":{const{points:t,hasZ:n,hasM:r}=e;return{points:d(t)?h(t):t,hasZ:n,hasM:r,spatialReference:s}}default:return}}function p(e){return y(e)?e.map((e=>h(e))):e}function h(e){return e.map((e=>Array.from(e)))}function y(e){for(const t of e)if(0!==t.length)return d(t);return!1}function d(e){return e.length>0&&((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__/* .isFloat32Array */ .vZ)(e[0])||(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_4__/* .isFloat64Array */ .aI)(e[0]))}function x(e,t){if(!e)return null;let n;if(m(e)){if(null==t)return e.clone();if(m(t))return t.copy(e)}return null!=t?(n=t,n.x=e.x,n.y=e.y,n.spatialReference=e.spatialReference,e.hasZ?(n.z=e.z,n.hasZ=e.hasZ):(n.z=void 0,n.hasZ=!1),e.hasM?(n.m=e.m,n.hasM=!0):(n.m=void 0,n.hasM=!1)):(n=(0,_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_7__/* .makeDehydratedPoint */ .T)(e.x,e.y,e.z,e.spatialReference),e.hasM&&(n.m=e.m,n.hasM=!0)),n}function k(e){const{wkid:t,wkt:n,wkt2:r,latestWkid:a}=e,s={wkid:t,wkt:n,wkt2:r,latestWkid:a};return _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A.fromJSON(s)}


/***/ }),

/***/ 12155:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var a;!function(a){a[a.EnableFastUpdates=0]="EnableFastUpdates",a[a.DisableFastUpdates=1]="DisableFastUpdates",a[a.UpdateFastLocalOrigin=2]="UpdateFastLocalOrigin"}(a||(a={}));


/***/ }),

/***/ 47228:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92976);
/* harmony import */ var _portal_Portal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10282);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e){const n="metric";if(null==e)return n;const i=e.map,l=(i&&"portalItem"in i?i.portalItem?.portal:null)??_portal_Portal_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getDefault();switch(l.user?.units??l.units){case n:return n;case"english":return"imperial"}return (0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getDefaultUnitSystem */ .jM)(e.spatialReference)??n}


/***/ }),

/***/ 34528:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(86394);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
async function t(t,r){const{data:a}=await (0,_request_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A)(t,{responseType:"image",...r});return a}


/***/ }),

/***/ 66386:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ u),
/* harmony export */   c2: () => (/* binding */ n),
/* harmony export */   pi: () => (/* binding */ N)
/* harmony export */ });
/* unused harmony export isReadyCloudsData */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var n,u;function I(n){return null!=n?.cubeMap}function N(n){return null!=n&&!n.running}!function(n){n[n.RENDERING=0]="RENDERING",n[n.FADING=1]="FADING",n[n.FINISHED=2]="FINISHED"}(n||(n={})),function(n){n[n.RG=0]="RG",n[n.BA=1]="BA"}(u||(u={}));


/***/ }),

/***/ 58718:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OQ: () => (/* binding */ O),
/* harmony export */   ny: () => (/* binding */ A)
/* harmony export */ });
/* unused harmony exports crossFadeDistanceThreshold, fadeOutDistanceThreshold, hideDistanceThreshold */
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22279);
/* harmony import */ var _geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(69175);
/* harmony import */ var _geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99817);
/* harmony import */ var _CloudsData_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(66386);
/* harmony import */ var _weather_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(84323);
/* harmony import */ var _support_RenderState_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(40695);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class A{constructor(){this.readChannels=_CloudsData_js__WEBPACK_IMPORTED_MODULE_7__/* .CloudsTextureChannels */ .c.RG,this.renderingStage=_CloudsData_js__WEBPACK_IMPORTED_MODULE_7__/* .CloudsRenderingStages */ .c2.FINISHED,this.startTime=0,this.startTimeHeightFade=0,this.cameraPositionLastFrame=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this.parallax=new C,this.parallaxNew=new C,this.pointOnGround=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this.fadeMode=O.HIDE,this.fadeFactor=0,this.opacity=0}updateParallax(t){const s=this.parallax,o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)(t.eye);if(s.radiusCurvatureCorrectionFactor=.84*Math.sqrt(Math.max(o*o-_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__/* .earth */ .$O.radius*_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__/* .earth */ .$O.radius,0))/o,(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__/* .fromPoints */ .Cr)(S,s.anchorPointClouds,g),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.k)(s.transform,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.I,g[3],(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__/* .axis */ .yo)(g)),this.fadeMode===O.CROSS_FADE){const t=this.parallaxNew;(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__/* .fromPoints */ .Cr)(S,t.anchorPointClouds,g),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.k)(t.transform,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.I,g[3],(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__/* .axis */ .yo)(g))}}updateFading(t,a,i,s){this.isFading&&this._advanceFading(i,s),this._evaluateFading(t,a,i)}_evaluateFading(t,a,i){const s=t.relativeElevation,e=this._calculateDistanceToAnchorPoint(t);if((s>1.7*_weather_js__WEBPACK_IMPORTED_MODULE_8__/* .weatherHeightLimit */ .ni||s<-_weather_js__WEBPACK_IMPORTED_MODULE_8__/* .weatherHeightLimit */ .ni||e>v)&&this.opacity>0)this._setFade(O.HIDE,i);else if(!this.isFading)if((s>_weather_js__WEBPACK_IMPORTED_MODULE_8__/* .weatherHeightLimit */ .ni||s<-.35*_weather_js__WEBPACK_IMPORTED_MODULE_8__/* .weatherHeightLimit */ .ni||e>M)&&this.opacity>0)this._setFade(O.FADE_OUT,i);else if(s<=_weather_js__WEBPACK_IMPORTED_MODULE_8__/* .weatherHeightLimit */ .ni&&s>=-.35*_weather_js__WEBPACK_IMPORTED_MODULE_8__/* .weatherHeightLimit */ .ni&&a===_support_RenderState_js__WEBPACK_IMPORTED_MODULE_9__/* .RenderState */ .M.IDLE&&(0,_CloudsData_js__WEBPACK_IMPORTED_MODULE_7__/* .ensureClouds */ .pi)(this.data)){if(0===this.opacity)return void this._setFade(O.FADE_IN,i);(e>y||this.renderingStage===_CloudsData_js__WEBPACK_IMPORTED_MODULE_7__/* .CloudsRenderingStages */ .c2.FADING)&&this._setFade(O.CROSS_FADE,i)}}_advanceFading(t,a){this._switchReadChannels(),this._updateAnchorPoint(),this._advanceFadingFactorAndOpacity(t,a)}_advanceFadingFactorAndOpacity(a,i){if(this.fadeFactor<1)return this.fadeFactor=i?(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .clamp */ .qE)((a-this.startTime)/(I*i),0,1):1,this.fadeMode===O.FADE_OUT&&(this.opacity=1-this.fadeFactor),this.fadeMode===O.FADE_IN&&(this.opacity=this.fadeFactor),void(this.fadeMode===O.CROSS_FADE&&(this.opacity=1));this.fadeFactor=0,this.fadeMode===O.FADE_OUT&&(this.opacity=0),this.fadeMode===O.FADE_IN&&(this.opacity=1),this.fadeMode===O.CROSS_FADE&&(this.opacity=1),this.fadeMode=O.NONE}_switchReadChannels(){const t=this.fadeMode===O.CROSS_FADE&&1===this.fadeFactor,a=this.fadeMode===O.FADE_IN&&0===this.fadeFactor;this.renderingStage===_CloudsData_js__WEBPACK_IMPORTED_MODULE_7__/* .CloudsRenderingStages */ .c2.FADING&&(t||a)&&(this.readChannels=1-this.readChannels,this.renderingStage=_CloudsData_js__WEBPACK_IMPORTED_MODULE_7__/* .CloudsRenderingStages */ .c2.FINISHED)}_calculateDistanceToAnchorPoint(t){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(this.pointOnGround,t.eye),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.i)(this.pointOnGround,this.pointOnGround,_geometry_support_Ellipsoid_js__WEBPACK_IMPORTED_MODULE_6__/* .earth */ .$O.radius),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.l)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.f)(N,this.parallax.anchorPointClouds,this.pointOnGround))}_updateAnchorPoint(){this.fadeMode===O.CROSS_FADE&&(0===this.fadeFactor&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.parallaxNew.anchorPointClouds,this.pointOnGround),1===this.fadeFactor&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.parallax.anchorPointClouds,this.parallaxNew.anchorPointClouds)),this.fadeMode===O.FADE_IN&&0===this.fadeFactor&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)(this.parallax.anchorPointClouds,this.pointOnGround)}_setFade(t,a){switch(t){case O.HIDE:this.opacity=0;break;case O.FADE_OUT:this.opacity=1;break;case O.FADE_IN:this.opacity=0;break;case O.CROSS_FADE:this.opacity=1}this.fadeMode=t,this.fadeFactor=0,this.startTime=a}get isFading(){return this.fadeMode===O.FADE_OUT||this.fadeMode===O.FADE_IN||this.fadeMode===O.CROSS_FADE}}var O;!function(t){t[t.NONE=0]="NONE",t[t.HIDE=1]="HIDE",t[t.FADE_OUT=2]="FADE_OUT",t[t.FADE_IN=3]="FADE_IN",t[t.CROSS_FADE=4]="CROSS_FADE"}(O||(O={}));class C{constructor(){this.anchorPointClouds=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this.radiusCurvatureCorrectionFactor=0,this.transform=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)()}}const S=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(0,0,1),g=(0,_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_5__/* .create */ .vt)(),N=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),I=1.25,y=34e3,M=64e3,v=2e5;


/***/ }),

/***/ 84323:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  k9: () => (/* binding */ weather_i),
  ni: () => (/* binding */ weather_p)
});

// UNUSED EXPORTS: validateWeatherType, weatherTypes, weatherTypesArray

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(21877);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js
var enumeration = __webpack_require__(28902);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
;// ../node_modules/@arcgis/core/views/3d/environment/CloudyWeather.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var c;let p=c=class extends JSONSupport/* JSONSupport */.oY{constructor(o){super(o),this.type="cloudy",this.cloudCover=.5}clone(){return new c({cloudCover:this.cloudCover})}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({cloudy:"cloudy"})],p.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],p.prototype,"cloudCover",void 0),p=c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.environment.CloudyWeather")],p);const u=p;

;// ../node_modules/@arcgis/core/views/3d/environment/FoggyWeather.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var FoggyWeather_p;let FoggyWeather_c=FoggyWeather_p=class extends JSONSupport/* JSONSupport */.oY{constructor(r){super(r),this.type="foggy",this.fogStrength=.5}clone(){return new FoggyWeather_p({fogStrength:this.fogStrength})}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({foggy:"foggy"})],FoggyWeather_c.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],FoggyWeather_c.prototype,"fogStrength",void 0),FoggyWeather_c=FoggyWeather_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.environment.FoggyWeather")],FoggyWeather_c);const n=FoggyWeather_c;

;// ../node_modules/@arcgis/core/views/3d/environment/RainyWeather.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var i;let RainyWeather_p=i=class extends JSONSupport/* JSONSupport */.oY{constructor(r){super(r),this.type="rainy",this.cloudCover=.5,this.precipitation=.5}clone(){return new i({cloudCover:this.cloudCover,precipitation:this.precipitation})}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({rainy:"rainy"})],RainyWeather_p.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],RainyWeather_p.prototype,"cloudCover",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],RainyWeather_p.prototype,"precipitation",void 0),RainyWeather_p=i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.environment.RainyWeather")],RainyWeather_p);const RainyWeather_c=RainyWeather_p;

;// ../node_modules/@arcgis/core/views/3d/environment/SnowyWeather.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var SnowyWeather_i;let SnowyWeather_p=SnowyWeather_i=class extends JSONSupport/* JSONSupport */.oY{constructor(o){super(o),this.type="snowy",this.cloudCover=.5,this.precipitation=.5,this.snowCover="disabled"}clone(){return new SnowyWeather_i({cloudCover:this.cloudCover,precipitation:this.precipitation,snowCover:this.snowCover})}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({snowy:"snowy"})],SnowyWeather_p.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],SnowyWeather_p.prototype,"cloudCover",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],SnowyWeather_p.prototype,"precipitation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:["enabled","disabled"],nonNullable:!0,json:{write:!0}})],SnowyWeather_p.prototype,"snowCover",void 0),SnowyWeather_p=SnowyWeather_i=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.environment.SnowyWeather")],SnowyWeather_p);const SnowyWeather_n=SnowyWeather_p;

;// ../node_modules/@arcgis/core/views/3d/environment/SunnyWeather.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var SunnyWeather_p;let SunnyWeather_c=SunnyWeather_p=class extends JSONSupport/* JSONSupport */.oY{constructor(r){super(r),this.type="sunny",this.cloudCover=.5}clone(){return new SunnyWeather_p({cloudCover:this.cloudCover})}};(0,tslib_es6._)([(0,enumeration/* enumeration */.e)({sunny:"sunny"})],SunnyWeather_c.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{write:!0}})],SunnyWeather_c.prototype,"cloudCover",void 0),SunnyWeather_c=SunnyWeather_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.environment.SunnyWeather")],SunnyWeather_c);const SunnyWeather_n=SunnyWeather_c;

;// ../node_modules/@arcgis/core/views/3d/environment/weather.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const weather_n={key:"type",base:SunnyWeather_n,typeMap:{sunny:SunnyWeather_n,cloudy:u,rainy:RainyWeather_c,snowy:SnowyWeather_n,foggy:n}},a=Object.keys(weather_n.typeMap);function s(e,r){return!!a.includes(e)||(r.error(`"${e}" is not a valid weather type`),!1)}const weather_p=1e4,weather_i=1e5;


/***/ }),

/***/ 16527:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  DrawGraphicTool3D: () => (/* reexport */ DrawGraphicTool3D_z),
  ExtentTransformTool: () => (/* reexport */ ExtentTransformTool_U),
  GraphicMoveTool: () => (/* reexport */ GraphicMoveTool_q),
  GraphicReshapeTool: () => (/* reexport */ GraphicReshapeTool_u),
  GraphicTransformTool: () => (/* reexport */ GraphicTransformTool_Y)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/colorUtils.js
var colorUtils = __webpack_require__(775);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/handleUtils.js
var handleUtils = __webpack_require__(20464);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(6267);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(85251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/elevationInfoUtils.js
var elevationInfoUtils = __webpack_require__(27451);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/support/ElevationInfo.js + 1 modules
var ElevationInfo = __webpack_require__(60973);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/screenUtils.js
var screenUtils = __webpack_require__(89882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Error.js
var core_Error = __webpack_require__(98849);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/Color.js
var Color = __webpack_require__(96220);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(52495);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/asyncUtils.js
var asyncUtils = __webpack_require__(12690);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/promiseUtils.js
var promiseUtils = __webpack_require__(40189);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/quantityFormatUtils.js
var quantityFormatUtils = __webpack_require__(33604);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2.js
var vec2 = __webpack_require__(58680);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2f64.js
var vec2f64 = __webpack_require__(78286);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/coordsUtils.js
var coordsUtils = __webpack_require__(65319);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/intl/messages.js
var messages = __webpack_require__(15131);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/getDefaultUnitForView.js
var getDefaultUnitForView = __webpack_require__(47228);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/libs/maquette/projection.js
var projection = __webpack_require__(59078);
;// ../node_modules/@arcgis/core/libs/maquette/h.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let h_e=e=>({vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}),h_r=(t,o,n)=>{for(let l=0,i=o.length;l<i;l++){let i=o[l];Array.isArray(i)?h_r(t,i,n):null!=i&&!1!==i&&("string"==typeof i&&(i=h_e(i)),n.push(i))}};function h_t(e,t,o){if(Array.isArray(t))o=t,t=void 0;else if(t&&("string"==typeof t||t.hasOwnProperty("vnodeSelector"))||o&&("string"==typeof o||o.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");let n,l;return o&&1===o.length&&"string"==typeof o[0]?n=o[0]:o&&(l=[],h_r(e,o,l),0===l.length&&(l=void 0)),{vnodeSelector:e,properties:t,children:l,text:""===n?void 0:n,domNode:null}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/libs/maquette/projector.js
var projector = __webpack_require__(40067);
;// ../node_modules/@arcgis/core/views/overlay/TextOverlayItem.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TextOverlayItem_l={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};let TextOverlayItem_n=class extends Accessor/* default */.A{get position(){return[this.x,this.y]}set position(t){this._set("x",t[0]),this._set("y",t[1])}get _textShadowColor(){const{textColor:t,backgroundColor:e}=this,o=e.clone();return o.a*=t.a,o}get _textShadow(){const t=this._textShadowColor.toCss(!0);return`0 0 ${this._textShadowSize}px ${t}`}get _padding(){return.5*this.fontSize}get _borderRadius(){return this._padding}constructor(t){super(t),this.x=0,this.y=0,this.text="-",this.fontSize=14,this.anchor="center",this.visible=!0,this.isDecoration=!0,this.backgroundColor=new Color/* default */.A([0,0,0,.6]),this.textColor=new Color/* default */.A([255,255,255]),this._textShadowSize=1}render(){return h_t("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this._padding+"px",borderRadius:this._borderRadius+"px",textShadow:this._textShadow}},[this.text])}renderCanvas(t){if(!this.visible)return;const e=t.font.replace(/^(.*?)px/,"");t.font=`${this.fontSize}px ${e}`;const o=this._padding,i=this._borderRadius,r=t.measureText(this.text).width,s=this.fontSize,l=TextOverlayItem_h[this.anchor];t.textAlign="center",t.textBaseline="middle";const n=r+2*o,a=s+2*o,x=this.x+l.x*n,p=this.y+l.y*a;this._roundedRect(t,x,p,n,a,i),t.fillStyle=this.backgroundColor.toCss(!0),t.fill();const c=this.x+(l.x+.5)*n,d=this.y+(l.y+.5)*a;this._renderTextShadow(t,this.text,c,d),t.fillStyle=this.textColor.toCss(!0),t.fillText(this.text,c,d)}_renderTextShadow(t,e,o,i){t.lineJoin="miter",t.fillStyle=`rgba(${this._textShadowColor.r}, ${this._textShadowColor.g}, ${this._textShadowColor.b}, ${1/TextOverlayItem_a.length})`;const r=this._textShadowSize;for(const[s,l]of TextOverlayItem_a)t.fillText(e,o+r*s,i+r*l)}_roundedRect(t,e,o,i,r,s){t.beginPath(),t.moveTo(e,o+s),t.arcTo(e,o,e+s,o,s),t.lineTo(e+i-s,o),t.arcTo(e+i,o,e+i,o+s,s),t.lineTo(e+i,o+r-s),t.arcTo(e+i,o+r,e+i-s,o+r,s),t.lineTo(e+s,o+r),t.arcTo(e,o+r,e,o+r-s,s),t.closePath()}_cssClasses(){const t={"esri-text-overlay-item":!0};let e;for(e in TextOverlayItem_l)t[TextOverlayItem_l[e]]=this.anchor===e;return t}};(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"x",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"y",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"position",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"text",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"fontSize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"anchor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"visible",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"isDecoration",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"backgroundColor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"textColor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"_textShadowSize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"_textShadowColor",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"_textShadow",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"_padding",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],TextOverlayItem_n.prototype,"_borderRadius",null),TextOverlayItem_n=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.overlay.TextOverlayItem")],TextOverlayItem_n);const TextOverlayItem_h={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},TextOverlayItem_a=[];{const t=16;for(let e=0;e<360;e+=360/t)TextOverlayItem_a.push([Math.cos(Math.PI*e/180),Math.sin(Math.PI*e/180)])}const TextOverlayItem_x=TextOverlayItem_n;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/automaticLengthMeasurementUtils.js
var automaticLengthMeasurementUtils = __webpack_require__(36408);
;// ../node_modules/@arcgis/core/views/interactive/SegmentLabels.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const SegmentLabels_w=3025,SegmentLabels_D={default:15,far:25};let SegmentLabels_O=class extends Accessor/* default */.A{constructor(t){super(t),this.context=null,this.stagedVertex=null,this.visible=!0,this.edgeDistance="default",this._messagesUnits=null,this._labelInfos=[],this._nextLabelIndex=0}initialize(){const t=(0,asyncUtils/* createTask */.UT)((async t=>{const e=await (0,messages/* fetchMessageBundle */.ud)("esri/core/t9n/Units");(0,promiseUtils/* throwIfAborted */.Te)(t),this._messagesUnits=e}));this.addHandles([(0,reactiveUtils/* watch */.wB)((()=>[null!=this.context&&this.getCameraOrExtent(this.context),this.visible,this._edgeDistancePixels,this.stagedVertex,this._messagesUnits]),(()=>this._update())),...["vertex-add","vertex-update","vertex-remove"].map((t=>(0,reactiveUtils.on)((()=>this.context?.editGeometryOperations),t,(()=>this._update())))),(0,handleUtils/* makeHandle */.hA)((()=>t.abort())),(0,reactiveUtils/* watch */.wB)((()=>this._colors),(t=>this._updateStyle(t)))])}destroy(){for(this._nextLabelIndex=0;this._labelInfos.length;)this._destroyLabel(this._labelInfos.pop())}get updating(){return null==this._messagesUnits}get test(){return{labelContents:this._labelInfos.slice(0,this._nextLabelIndex).map((t=>t.label.text))}}get _edgeDistancePixels(){return SegmentLabels_D[this.edgeDistance]}get _colors(){const t=this.context?.view.effectiveTheme.textColor??Color/* default */.A.fromArray([255,255,255]);return{textColor:t,backgroundColor:(0,colorUtils/* multiplyOpacity */._L)((0,colorUtils/* getContrast */.bJ)(t,colorUtils/* BrightnessThreshold */.pW.Low),.6)}}_update(){if(this.destroyed)return;this._nextLabelIndex=0;const t=this.context;if(null==t)return void this._destroyUnusedLabels();const{components:e,geometry:s,coordinateHelper:o}=t.editGeometryOperations.data;if(!s)return void this._destroyUnusedLabels();const r=e.length;for(let i=0;i<r;++i){const n=[];if(e[i].iterateVertices((t=>{n.push(o.toXYZ(t.pos))})),0===i&&null!=this.stagedVertex&&n.push(o.toXYZ(this.stagedVertex)),n.length<2)continue;const l=n[0],a=n[n.length-1];"polygon"===s.type&&n.length>2&&!(0,vec3.G)(l,a)&&n.push(l);const c=1===r&&!(0,coordsUtils/* isClockwise */.$3)(n);let p=SegmentLabels_G,h=SegmentLabels_A;this.toScreenPointArray(t,l,p);for(let e=1;e<n.length;++e){const s=n[e-1],o=n[e];this.toScreenPointArray(t,o,h),this._addLabel(t,s,p,o,h,c),[p,h]=[h,p]}}this._destroyUnusedLabels()}_updateStyle({textColor:t,backgroundColor:e}){const s=this._nextLabelIndex,o=this._labelInfos;for(let r=0;r<s;++r){const{label:s}=o[r];s.textColor=t,s.backgroundColor=e}}_addLabel(t,e,s,o,r,i){const{label:n}=this._getOrCreateLabel(t);if(!this.visible||(0,vec2.k)(s,r)<SegmentLabels_w)return void(n.visible=!1);const l=null!=t.graphicState?t.graphicState.isDraped?"on-the-ground":"absolute-height":(0,elevationInfoUtils/* getGeometryEffectiveElevationMode */.w7)(t.editGeometryOperations.data.geometry,t.elevationInfo),{spatialReference:a}=t.editGeometryOperations.data,p=(0,automaticLengthMeasurementUtils/* autoDirectDistanceByElevationMode */.Ho)(e,o,a,l),h=this._messagesUnits,d=(0,getDefaultUnitForView/* getDefaultUnitForView */.c)(t.view);n.text=null!=h&&null!=p?(0,quantityFormatUtils/* formatLength */.ix)(h,p,d):"",n.visible=!0;const m=r[0]-s[0],u=r[1]-s[1];i?(0,vec2.s)(SegmentLabels_V,-u,m):(0,vec2.s)(SegmentLabels_V,u,-m),(0,vec2.e)(SegmentLabels_V,SegmentLabels_V),(0,vec2.a)(SegmentLabels_V,SegmentLabels_V,this._edgeDistancePixels),(0,vec2.l)(SegmentLabels_P,s,r,.5),(0,vec2.i)(SegmentLabels_P,SegmentLabels_P,SegmentLabels_V),n.position=[SegmentLabels_P[0],SegmentLabels_P[1]],Math.abs(SegmentLabels_V[0])>Math.abs(SegmentLabels_V[1])?n.anchor=SegmentLabels_V[0]>0?"left":"right":n.anchor=-SegmentLabels_V[1]<0?"top":"bottom"}_getOrCreateLabel(t){const e=this._labelInfos.length>this._nextLabelIndex,{textColor:s,backgroundColor:o}=this._colors;if(e){const t=this._labelInfos[this._nextLabelIndex++],{label:e}=t;return e.textColor=s,e.backgroundColor=o,t}const r=new TextOverlayItem_x({anchor:"center",fontSize:10,textColor:s,backgroundColor:o});t.view.overlay?.items.add(r);const i={label:r};return this._labelInfos.push(i),this._nextLabelIndex=this._labelInfos.length,i}_destroyUnusedLabels(){for(;this._labelInfos.length>this._nextLabelIndex;)this._destroyLabel(this._labelInfos.pop())}_destroyLabel({label:t}){this.context?.view.overlay?.items.remove(t),t.destroy()}};(0,tslib_es6._)([(0,property/* property */.MZ)()],SegmentLabels_O.prototype,"context",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SegmentLabels_O.prototype,"stagedVertex",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SegmentLabels_O.prototype,"visible",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SegmentLabels_O.prototype,"edgeDistance",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SegmentLabels_O.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],SegmentLabels_O.prototype,"_messagesUnits",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SegmentLabels_O.prototype,"_edgeDistancePixels",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],SegmentLabels_O.prototype,"_colors",null),SegmentLabels_O=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive")],SegmentLabels_O);const SegmentLabels_V=(0,vec2f64.a)(),SegmentLabels_P=(0,vec2f64.a)(),SegmentLabels_G=(0,screenUtils/* createScreenPointArray */.gs)(),SegmentLabels_A=(0,screenUtils/* createScreenPointArray */.gs)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/support/viewUtils.js
var viewUtils = __webpack_require__(38175);
;// ../node_modules/@arcgis/core/views/3d/interactive/SegmentLabels3D.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let SegmentLabels3D_a=class extends SegmentLabels_O{getCameraOrExtent({view:e}){return e.state.camera}toScreenPointArray({view:e,elevationInfo:t,editGeometryOperations:o},s,a=(0,screenUtils/* createScreenPointArray */.gs)()){const{spatialReference:m}=o.data.coordinateHelper;return (0,viewUtils/* vectorToRender */.XG)(s,m,t,e,SegmentLabels3D_c),e.state.camera.projectToScreen(SegmentLabels3D_c,a),a}};SegmentLabels3D_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.SegmentLabels3D")],SegmentLabels3D_a);const SegmentLabels3D_c=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js
var projectVectorToVector = __webpack_require__(42120);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4.js
var vec4 = __webpack_require__(25102);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f32.js
var vec4f32 = __webpack_require__(20035);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/clipRay.js
var clipRay = __webpack_require__(6214);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/frustum.js
var frustum = __webpack_require__(94982);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/lineSegment.js
var lineSegment = __webpack_require__(22759);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/ray.js
var ray = __webpack_require__(32532);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Identifiable.js
var Identifiable = __webpack_require__(65667);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/layers/interfaces.js
var interfaces = __webpack_require__(56867);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js
var ModelDirtyTypes = __webpack_require__(23183);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js
var UpdatePolicy = __webpack_require__(91080);
;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class DrapedVisualElementResources_n{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=interfaces/* DrapedRenderGroup */.O7.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(e){this._renderGroup=e;const r=this._resources?.layerView;r&&(r.renderGroup=e)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this._resourceFactory.createResources(),r=new DrapedVisualElementResources_d({view:this._resourceFactory.view,renderGroup:this._renderGroup}),s=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new DrapedVisualElementResources_d({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:e,geometriesAdded:!1},s&&(this._resources.drapeSourceRenderer=s.registerGeometryDrapeSource(r)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const e=this._resourceFactory.view.basemapTerrain?.overlayManager;e&&e.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){if(null==this._resources?.drapeSourceRenderer)return;if(!this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,ModelDirtyTypes/* DirtyOperation */.q.UPDATE),this._resources.geometriesAdded=!1}_ensureRenderGeometriesAdded(){if(null==this._resources?.drapeSourceRenderer)return;if(this._resources.geometriesAdded)return;this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,ModelDirtyTypes/* DirtyOperation */.q.UPDATE),this._resources.geometriesAdded=!0}}let DrapedVisualElementResources_d=class extends((0,Identifiable/* IdentifiableMixin */.sA)(Accessor/* default */.A)){constructor(e){super(e),this.drapeSourceType=interfaces/* DrapeSourceType */.Om.Features,this.updatePolicy=UpdatePolicy/* UpdatePolicy */.q.SYNC,this.renderGroup=interfaces/* DrapedRenderGroup */.O7.Outline}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],DrapedVisualElementResources_d.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],DrapedVisualElementResources_d.prototype,"drapeSourceType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrapedVisualElementResources_d.prototype,"renderGroup",void 0),DrapedVisualElementResources_d=(0,tslib_es6._)([(0,subclass/* subclass */.$)("DrapedVisualElementLayerView")],DrapedVisualElementResources_d);

;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class VisualElement_t{get isDecoration(){return this._isDecoration}set isDecoration(e){this._isDecoration=e}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=(0,reactiveUtils/* watch */.wB)((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(e){let t=!1;for(const s in e)s in this?"attached"===s?t=e[s]:this[s]=e[s]:console.error("Cannot set unknown property",s);this.attached=t}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(e))}onAttachedChange(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js
var ContentObjectType = __webpack_require__(52997);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js
var Object3D = __webpack_require__(55103);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js + 1 modules
var WebGLLayer = __webpack_require__(54671);
;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class VisualElementResources_c{constructor(e){this._resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const e=this._resourceFactory.view._stage;if(null==this._resources||!e)return;const s=this._resources.object;this._resources.external.forEach((s=>{s.type!==ContentObjectType/* ContentObjectType */.X.Mesh&&s.type!==ContentObjectType/* ContentObjectType */.X.Line&&s.type!==ContentObjectType/* ContentObjectType */.X.Point||e.remove(s)})),s.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,s,this._resources.layer),this._resources.external.forEach((s=>{s.type!==ContentObjectType/* ContentObjectType */.X.Mesh&&s.type!==ContentObjectType/* ContentObjectType */.X.Line&&s.type!==ContentObjectType/* ContentObjectType */.X.Point||e.add(s)}))}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const c=this._resourceFactory,a=c.view,h=a._stage;if(!h)return;const u=new WebGLLayer/* WebGLLayer */.x(h,{pickable:!1,updatePolicy:UpdatePolicy/* UpdatePolicy */.q.SYNC}),l=new Object3D/* Object3D */.B({castShadow:!1}),n=c.createResources(l,u);n.forEach((e=>{h.add(e),e.type===ContentObjectType/* ContentObjectType */.X.Texture&&e.load(h.renderView.renderingContext)})),h.add(l),u.add(l);const _=c.cameraChanged,y=_?(0,reactiveUtils/* watch */.wB)((()=>a.state.camera),(e=>_(e)),reactiveUtils/* initial */.Vh):null;this._resources={layer:u,object:l,external:n,cameraHandle:y},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const e=this._resourceFactory.view._stage;e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach((s=>{e.remove(s),s.type===ContentObjectType/* ContentObjectType */.X.Texture&&s.unload()}))),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}

;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/EngineVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class EngineVisualElement_t extends VisualElement_t{constructor(s){super(s),this._isDraped=!1,this.object3dResources=new VisualElementResources_c(this.createObject3DResourceFactory(s.view)),this.drapedResources=new DrapedVisualElementResources_n(this.createDrapedResourceFactory(s.view)),this.isDraped=s.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.object3dResources.attached=this.attached&&!e,this.drapedResources.attached=this.attached&&e)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(e){this.drapedResources.renderGroup=e}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(e){this.object3dResources.visible=e,this.drapedResources.visible=e}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/ViewingMode.js
var ViewingMode = __webpack_require__(10714);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/DoubleArray.js
var DoubleArray = __webpack_require__(90166);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js
var glUtil = __webpack_require__(15788);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js
var InterleavedLayout = __webpack_require__(11110);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js
var VertexArrayObject = __webpack_require__(11459);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js
var VertexAttribute = __webpack_require__(50645);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js
var ReloadableShaderModule = __webpack_require__(47705);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js
var ShaderTechnique = __webpack_require__(33444);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js
var Program = __webpack_require__(58123);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js
var LaserlinePath_glsl = __webpack_require__(14628);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/enums.js
var enums = __webpack_require__(41746);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/renderState.js
var renderState = __webpack_require__(2449);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class LaserlinePathTechnique_m extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,LaserlinePathTechnique_m.shader.get().build(this.configuration),LaserlinePathTechnique_h)}initializePipeline(){return (0,renderState/* makePipelineState */.Ey)({blending:(0,renderState/* simpleBlendingParams */.ox)(enums/* BlendFactor */.dn.ONE,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA),colorWrite:renderState/* defaultColorWriteParams */.wE})}}LaserlinePathTechnique_m.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(LaserlinePath_glsl.L,(()=>__webpack_require__.e(/* import() */ 1504).then(__webpack_require__.bind(__webpack_require__, 41504))));const LaserlinePathTechnique_h=new Map([[VertexAttribute/* VertexAttribute */.r.START,0],[VertexAttribute/* VertexAttribute */.r.END,1],[VertexAttribute/* VertexAttribute */.r.UP,2],[VertexAttribute/* VertexAttribute */.r.EXTRUDE,3]]);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/BufferObject.js
var BufferObject = __webpack_require__(89423);
;// ../node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class LaserlinePathData_c{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=(0,vec3f64.c)(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=(0,DoubleArray/* newDoubleArray */.jh)(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(t){if(this._buffers=t,this._buffers.length>0){const t=this._buffers[0],r=3*Math.floor(t.length/3/2);(0,vec3.s)(this._origin,t[r],t[r+1],t[r+2])}else (0,vec3.s)(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(e){const t=this._ensureVAO(e);null!=t&&(e.bindVAO(t),e.drawArrays(enums/* PrimitiveType */.WR.TRIANGLES,0,this._count))}dispose(){null!=this._vao&&this._vao.dispose()}_ensureVAO(e){return null==this._buffers?null:(null==this._vao&&(this._vao=this._createVAO(e,this._buffers)),this._ensureVertexData(this._vao,this._buffers),this._vao)}_createVAO(e,t){const r=this._createDataBuffer(t);return this._dirty=!1,new VertexArrayObject/* VertexArrayObject */.Z(e,LaserlinePathTechnique_h,{data:(0,glUtil/* glLayout */.U)(LaserlinePathData_b)},{data:BufferObject/* BufferObject */.g.createVertex(e,enums/* Usage */._U.STATIC_DRAW,r)})}_ensureVertexData(e,t){if(!this._dirty)return;const r=this._createDataBuffer(t);e.vertexBuffers.data?.setData(r),this._dirty=!1}_numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}_createDataBuffer(r){const s=r.reduce(((e,t)=>e+this._numberOfRenderVertices(t)),0);this._count=s;const i=LaserlinePathData_b.createBuffer(s),o=this._origin;let n=0,u=0;for(const f of r){for(let r=0;r<f.length;r+=3){const s=(0,vec3.s)(LaserlinePathData_d,f[r],f[r+1],f[r+2]);0===r?u=this._renderCoordsHelper.getAltitude(s):this._renderCoordsHelper.setAltitude(s,u);const a=this._renderCoordsHelper.worldUpAtPosition(s,LaserlinePathData_),l=n+2*r,h=(0,vec3.f)(LaserlinePathData_d,s,o);if(r<f.length-3){i.up.setVec(l,a),i.up.setVec(l+3,a),i.up.setVec(l+5,a);for(let e=0;e<6;e++)i.start.setVec(l+e,h);i.extrude.setValues(l,0,-1),i.extrude.setValues(l+1,1,-1),i.extrude.setValues(l+2,1,1),i.extrude.setValues(l+3,0,-1),i.extrude.setValues(l+4,1,1),i.extrude.setValues(l+5,0,1)}if(r>0){i.up.setVec(l-2,a),i.up.setVec(l-4,a),i.up.setVec(l-5,a);for(let e=-6;e<0;e++)i.end.setVec(l+e,h)}}n+=this._numberOfRenderVertices(f)}return i.buffer}}const LaserlinePathData_=(0,vec3f64.c)(),LaserlinePathData_d=(0,vec3f64.c)(),LaserlinePathData_b=(0,InterleavedLayout/* newLayout */.BP)().vec3f(VertexAttribute/* VertexAttribute */.r.START).vec3f(VertexAttribute/* VertexAttribute */.r.END).vec3f(VertexAttribute/* VertexAttribute */.r.UP).vec2f(VertexAttribute/* VertexAttribute */.r.EXTRUDE);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js
var RenderPlugin = __webpack_require__(38931);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js
var RenderSlot = __webpack_require__(38323);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js
var MaterialUtil = __webpack_require__(29117);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js
var ShaderTechniqueConfiguration = __webpack_require__(69948);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechniqueConfiguration.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class LaserlinePathTechniqueConfiguration_e extends ShaderTechniqueConfiguration/* ShaderTechniqueConfiguration */.K{constructor(){super(...arguments),this.contrastControlEnabled=!1}}(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],LaserlinePathTechniqueConfiguration_e.prototype,"contrastControlEnabled",void 0);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(92504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js
var shaderModules_interfaces = __webpack_require__(99152);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js
var DefaultVertexAttributeLocations = __webpack_require__(13148);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/Laserlines.glsl.js
var Laserlines_glsl = __webpack_require__(250);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class LaserlineTechnique_f extends shaderModules_interfaces/* NoParameters */.Y{constructor(){super(...arguments),this.innerColor=(0,vec3f64.f)(1,1,1),this.innerWidth=1,this.glowColor=(0,vec3f64.f)(1,.5,0),this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=.75,this.globalAlphaContrastBoost=2,this.angleCutoff=(0,mathUtils/* deg2rad */.kU)(6),this.pointDistanceOrigin=(0,vec3f64.c)(),this.pointDistanceTarget=(0,vec3f64.c)(),this.lineVerticalPlaneSegment=(0,lineSegment/* create */.vt)(),this.intersectsLineSegment=(0,lineSegment/* create */.vt)(),this.intersectsLineRadius=3,this.heightManifoldTarget=(0,vec3f64.c)(),this.lineStartWorld=(0,vec3f64.c)(),this.lineEndWorld=(0,vec3f64.c)()}}class LaserlineTechnique_p extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,LaserlineTechnique_p.shader.get().build(this.configuration),DefaultVertexAttributeLocations/* Default3D */.D)}initializePipeline(){return (0,renderState/* makePipelineState */.Ey)({blending:(0,renderState/* simpleBlendingParams */.ox)(enums/* BlendFactor */.dn.ONE,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA),colorWrite:renderState/* defaultColorWriteParams */.wE})}}LaserlineTechnique_p.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(Laserlines_glsl.L,(()=>__webpack_require__.e(/* import() */ 550).then(__webpack_require__.bind(__webpack_require__, 90550))));

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechniqueConfiguration.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class LaserlineTechniqueConfiguration_n extends LaserlinePathTechniqueConfiguration_e{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.spherical=!1}}(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],LaserlineTechniqueConfiguration_n.prototype,"heightManifoldEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],LaserlineTechniqueConfiguration_n.prototype,"pointDistanceEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],LaserlineTechniqueConfiguration_n.prototype,"lineVerticalPlaneEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],LaserlineTechniqueConfiguration_n.prototype,"intersectsLineEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],LaserlineTechniqueConfiguration_n.prototype,"spherical",void 0);

;// ../node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let LaserLineRenderer_D=class extends RenderPlugin/* SyncPrepareRenderPlugin */.Ot{constructor(e){super(e),this._technique=null,this._heightManifoldEnabled=!1,this._pointDistanceEnabled=!1,this._lineVerticalPlaneEnabled=!1,this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._viewingMode=ViewingMode/* ViewingMode */.RT.Local,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this._passParameters=new LaserlineTechnique_f,this.produces=new Map([[RenderSlot/* RenderSlot */.N.LASERLINES,()=>!this.contrastControlEnabled],[RenderSlot/* RenderSlot */.N.LASERLINES_CONTRAST_CONTROL,()=>this.contrastControlEnabled]])}initialize(){this._passParameters.renderCoordsHelper=this.renderCoordsHelper}consumes(){return RenderPlugin/* ConsumesDepth */.B7}get isDecoration(){return this._isDecoration}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._passParameters.heightManifoldTarget}set heightManifoldTarget(e){(0,vec3.c)(this._passParameters.heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._passParameters.pointDistanceTarget}set pointDistanceTarget(e){(0,vec3.c)(this._passParameters.pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._passParameters.pointDistanceOrigin}set pointDistanceOrigin(e){(0,vec3.c)(this._passParameters.pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._passParameters.lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){(0,lineSegment/* copy */.C)(e,this._passParameters.lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._passParameters.intersectsLineSegment}set intersectsLineSegment(e){(0,lineSegment/* copy */.C)(e,this._passParameters.intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._passParameters.intersectsLineRadius}set intersectsLineRadius(e){e!==this._passParameters.intersectsLineRadius&&(this._passParameters.intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get viewingMode(){return this._viewingMode}set viewingMode(e){e!==this._viewingMode&&(this._viewingMode=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,null!=this._pathVerticalPlaneData&&this._requestRender())}set pathVerticalPlaneVertices(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new LaserlinePathData_c(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){null==this._pathVerticalPlaneData&&(this._pathVerticalPlaneData=new LaserlinePathData_c(this._passParameters.renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){(0,MaterialUtil/* updateParameters */.MB)(this._passParameters,e)&&this._requestRender()}initializeRenderContext(e){this._context=e,this._techniqueRepository=e.techniqueRepository,this._techniqueConfig=new LaserlineTechniqueConfiguration_n;const t=new LaserlinePathTechniqueConfiguration_e;t.contrastControlEnabled=this.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquire(LaserlinePathTechnique_m,t)}uninitializeRenderContext(){this._technique=(0,maybe/* releaseMaybe */.Gz)(this._technique),this._pathVerticalPlaneData=(0,maybe/* disposeMaybe */.WD)(this._pathVerticalPlaneData),this._pathTechnique=(0,maybe/* releaseMaybe */.Gz)(this._pathTechnique)}prepareTechnique(){return this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled?(this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this.contrastControlEnabled,this._techniqueConfig.spherical=this._viewingMode===ViewingMode/* ViewingMode */.RT.Global,this._technique=this._techniqueRepository.releaseAndAcquire(LaserlineTechnique_p,this._techniqueConfig,this._technique),this._technique):this._pathTechnique}renderNode(e,t){(this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled)&&this._renderUnified(e,t),this.pathVerticalPlaneEnabled&&this._renderPath(e)}_renderUnified(e,t){const i=e.rctx;this._updatePassParameters(e),i.bindTechnique(t,this._passParameters,e.bindParameters),i.screen.draw()}_renderPath(e){if(null==this._pathVerticalPlaneData||null==this._pathTechnique)return;const t=e.rctx,i=this._pathTechnique;t.bindTechnique(i,{...this._passParameters,origin:this._pathVerticalPlaneData.origin},e.bindParameters),this._pathVerticalPlaneData.draw(e.rctx)}_updatePassParameters(e){if(!this._intersectsLineEnabled)return;const t=e.bindParameters.camera;if(this._intersectsLineInfinite){if((0,clipRay/* fromRay */.$e)((0,ray/* wrap */.LV)(this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector),LaserLineRenderer_S),LaserLineRenderer_S.c0=-Number.MAX_VALUE,!(0,frustum/* intersectClipRay */.ig)(t.frustum,LaserLineRenderer_S))return;(0,clipRay/* getStart */.j1)(LaserLineRenderer_S,this._passParameters.lineStartWorld),(0,clipRay/* getEnd */.mO)(LaserLineRenderer_S,this._passParameters.lineEndWorld)}else (0,vec3.c)(this._passParameters.lineStartWorld,this._passParameters.intersectsLineSegment.origin),(0,vec3.g)(this._passParameters.lineEndWorld,this._passParameters.intersectsLineSegment.origin,this._passParameters.intersectsLineSegment.vector)}_requestRender(){this._context&&this._context.requestRender()}get test(){return{passParameters:this._passParameters}}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],LaserLineRenderer_D.prototype,"contrastControlEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],LaserLineRenderer_D.prototype,"_isDecoration",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],LaserLineRenderer_D.prototype,"renderCoordsHelper",void 0),LaserLineRenderer_D=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.support.LaserLineRenderer")],LaserLineRenderer_D);const LaserLineRenderer_S=(0,clipRay/* create */.vt)();

;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class LaserlineVisualElement_c extends VisualElement_t{constructor(e){super(e),this._angleCutoff=Laserlines_glsl.d,this._style={},this._heightManifoldTarget=(0,vec3f64.c)(),this._heightManifoldEnabled=!1,this._intersectsLine=(0,lineSegment/* create */.vt)(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProperties(e)}get testData(){return this._renderer}createResources(){this._ensureRenderer()}destroyResources(){this._disposeRenderer()}updateVisibility(){this._syncRenderer(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this._syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this._syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){null!=t?((0,vec3.c)(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this._syncRenderer(),this._syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(null==e)return void(this.intersectsLine=null);const t=this.view.renderCoordsHelper.worldUpAtPosition(e,LaserlineVisualElement_);this.intersectsLine=(0,lineSegment/* fromValues */.fA)(e,t),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(e){null!=e?((0,lineSegment/* copy */.C)(e,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this._syncIntersectsLine(),this._syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this._syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){this._lineVerticalPlaneSegment=null!=e?(0,lineSegment/* copy */.C)(e):null,this._syncLineVerticalPlane(),this._syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(e){this._pointDistanceLine=null!=e?{origin:(0,vec3f64.g)(e.origin),target:e.target?(0,vec3f64.g)(e.target):null}:null,this._syncPointDistance(),this._syncRenderer()}_syncRenderer(){this.attached&&this.visible&&(this._intersectsLineEnabled||this._heightManifoldEnabled||null!=this._pointDistanceLine||null!=this._pathVerticalPlaneBuffers)?this._ensureRenderer():this._disposeRenderer()}_ensureRenderer(){null==this._renderer&&(this._renderer=new LaserLineRenderer_D({renderCoordsHelper:this.view.renderCoordsHelper,contrastControlEnabled:!0,_isDecoration:this.isDecoration}),this._renderer.viewingMode=this.view.state.viewingMode,this._syncStyle(),this._syncHeightManifold(),this._syncIntersectsLine(),this._syncIntersectsLineInfinite(),this._syncPathVerticalPlane(),this._syncLineVerticalPlane(),this._syncPointDistance(),this._syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this._renderer))}_syncStyle(){null!=this._renderer&&(this._renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this._renderer.intersectsLineRadius=this._style.intersectsLineRadius))}_syncAngleCutoff(){null!=this._renderer&&this._renderer.setParameters({angleCutoff:this._angleCutoff})}_syncHeightManifold(){null!=this._renderer&&(this._renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this._renderer.heightManifoldTarget=this._heightManifoldTarget))}_syncIntersectsLine(){null!=this._renderer&&(this._renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this._renderer.intersectsLineSegment=this._intersectsLine))}_syncIntersectsLineInfinite(){null!=this._renderer&&(this._renderer.intersectsLineInfinite=this._intersectsLineInfinite)}_syncPathVerticalPlane(){null!=this._renderer&&(this._renderer.pathVerticalPlaneEnabled=null!=this._pathVerticalPlaneBuffers&&this.visible,null!=this._pathVerticalPlaneBuffers&&(this._renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}_syncLineVerticalPlane(){null!=this._renderer&&(this._renderer.lineVerticalPlaneEnabled=null!=this._lineVerticalPlaneSegment&&this.visible,null!=this._lineVerticalPlaneSegment&&(this._renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}_syncPointDistance(){if(null==this._renderer)return;const e=this._pointDistanceLine,t=null!=e;this._renderer.pointDistanceEnabled=t&&null!=e.target&&this.visible,t&&(this._renderer.pointDistanceOrigin=e.origin,null!=e.target&&(this._renderer.pointDistanceTarget=e.target))}_disposeRenderer(){null!=this._renderer&&this.view._stage&&(this.view._stage.removeRenderPlugin(this._renderer),this._renderer=null)}}const LaserlineVisualElement_=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js + 30 modules
var OverlayRenderer = __webpack_require__(93471);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js + 1 modules
var GeometryUtil = __webpack_require__(94643);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js
var Material = __webpack_require__(45722);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderGeometry.js
var RenderGeometry = __webpack_require__(2007);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js + 1 modules
var RibbonLineMaterial = __webpack_require__(96824);
;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ExtendedLineVisualElement_G extends EngineVisualElement_t{constructor(e){super(e),this._ray=(0,ray/* create */.vt)(),this._isWorldDown=!1,this._start=(0,vec3f64.c)(),this._end=(0,vec3f64.f)(1,0,0),this._width=1,this._color=(0,vec4f32.f)(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=(0,vec4f32.f)(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=ExtendedLineVisualElement_V.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,this._fadedExtensions=ExtendedLineVisualElement_T,this._laserline=new LaserlineVisualElement_c({view:this.view,isDecoration:e.isDecoration}),this.applyProperties(e)}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:e=>this._recreateDrapedGeometry(e)}}updateVisibility(e){super.updateVisibility(e),this._laserline.visible=e}onAttachedChange(){this._laserline.attached=this._laserlineAttached}setStartEndFromWorldDownAtLocation(r){this._isWorldDown=!0,(0,vec3.c)(this._start,r),this.view.renderCoordsHelper.worldUpAtPosition(r,this._end),(0,vec3.f)(this._end,r,this._end),(0,ray/* fromPoints */.Cr)(this._start,this._end,this._ray),this._updateGeometry()}get start(){return this._start}set start(t){this._isWorldDown=!1,(0,vec3.h)(this._start,t)||((0,vec3.c)(this._start,t),(0,ray/* fromPoints */.Cr)(this._start,this._end,this._ray),this._updateGeometry())}get end(){return this._end}set end(t){this._isWorldDown=!1,(0,vec3.h)(this._end,t)||((0,vec3.c)(this._end,t),(0,ray/* fromPoints */.Cr)(this._start,this._end,this._ray),this._updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){(0,vec4.h)(e,this._color)||((0,vec4.c)(this._color,e),this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){(0,vec4.h)(e,this._innerColor)||((0,vec4.c)(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=null!=e!=(null!=this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){null!=e&&null!=this._stippleOffColor&&(0,vec4.h)(e,this._stippleOffColor)||(this._stippleOffColor=null!=e?(0,vec4f32.c)(e):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.recreateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&null!=this._laserlineStyle&&this.attached&&!this.isDraped}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,null!=e&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===Material/* RenderOccludedFlag */.m$.OccludeAndTransparentStencil?Material/* RenderOccludedFlag */.m$.OccludeAndTransparent:this._renderOccluded}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=e??ExtendedLineVisualElement_T,this.recreateGeometry()}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._normalizedRenderOccluded,isDecoration:this.isDecoration,writeDepth:this._writeDepthEnabled}}_createObject3DResources(e){const t=new RibbonLineMaterial/* RibbonLineMaterial */.W(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_destroyExternalResources(e){e.geometries=[]}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const s=this._createGeometry(e);r.push(s),t.addGeometry(s),this._updateVerticesObject3D(t)}_createDrapedResources(){const e=new RibbonLineMaterial/* RibbonLineMaterial */.W(this.materialParameters);return{material:e,geometries:[this._createDrapedGeometry(e)]}}_recreateDrapedGeometry(e){e.geometries=[this._createDrapedGeometry(e.material)]}_createDrapedGeometry(e){const t=this._createGeometry(e);return this._updateVerticesDraped(t),new RenderGeometry/* RenderGeometry */.$(t)}_createGeometry(e){const t=this.extensionType===ExtendedLineVisualElement_V.FADED,r=t?[(0,vec3f64.c)(),(0,vec3f64.c)(),(0,vec3f64.c)(),(0,vec3f64.c)()]:[(0,vec3f64.c)(),(0,vec3f64.c)()];return (0,GeometryUtil/* createPolylineGeometry */.Z8)(e,r,null,t?[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]:null)}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this._lineSegment;this._updateVertexAttributesObject3D(e,t),this._laserline.intersectsLine=t}_updateVerticesDraped(e){this._updateVertexAttributesDraped(e,this._lineSegment)}get _lineSegment(){return this._extensionType===ExtendedLineVisualElement_V.FADED?this._updateLineSegmentFinite(ExtendedLineVisualElement_S):this._updateLineSegmentInfinite(this._extensionType,ExtendedLineVisualElement_S)}_updateLineSegmentFinite(e){return (0,lineSegment/* fromPoints */.Cr)(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const r=this.view.state.camera;switch((0,clipRay/* fromRay */.$e)(this._ray,ExtendedLineVisualElement_P),e){case ExtendedLineVisualElement_V.LINE:ExtendedLineVisualElement_P.c0=-Number.MAX_VALUE;break;case ExtendedLineVisualElement_V.RAY:case ExtendedLineVisualElement_V.GROUND_RAY:{const e=this._ray.origin,t=this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,"ground")??0,r=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&r<t&&(0,vec3.E)(ExtendedLineVisualElement_P.ray.direction,ExtendedLineVisualElement_P.ray.direction),this._extensionType===ExtendedLineVisualElement_V.GROUND_RAY&&null!=t&&(ExtendedLineVisualElement_P.c1=Math.abs(r-t));break}}if(!(0,frustum/* intersectClipRay */.ig)(r.frustum,ExtendedLineVisualElement_P))return this._updateLineSegmentFinite(t);const i=(0,clipRay/* getStart */.j1)(ExtendedLineVisualElement_P,ExtendedLineVisualElement_x),n=(0,clipRay/* getEnd */.mO)(ExtendedLineVisualElement_P,ExtendedLineVisualElement_v);return (0,lineSegment/* fromPoints */.Cr)(i,n,t)}_updateVertexAttributesObject3D(e,t){const r=e.geometries[0].getMutableAttribute(VertexAttribute/* VertexAttribute */.r.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=i[2];e.geometryVertexAttributeUpdated(e.geometries[0],VertexAttribute/* VertexAttribute */.r.POSITION)}_updateVertexAttributesDraped(e,t){const r=e.getMutableAttribute(VertexAttribute/* VertexAttribute */.r.POSITION)?.data;if(!r)return;let s=0;for(const i of this._lineVertices(t))r[s++]=i[0],r[s++]=i[1],r[s++]=OverlayRenderer/* drapedZ */.bi;e.invalidateBoundingInfo()}*_lineVertices(e){this.extensionType===ExtendedLineVisualElement_V.FADED?(yield (0,lineSegment/* pointAt */.sd)(e,-this.fadedExtensions.start,ExtendedLineVisualElement_x),yield (0,lineSegment/* pointAt */.sd)(e,0,ExtendedLineVisualElement_x),yield (0,lineSegment/* pointAt */.sd)(e,1,ExtendedLineVisualElement_x),yield (0,lineSegment/* pointAt */.sd)(e,1+this.fadedExtensions.end,ExtendedLineVisualElement_x)):(yield (0,lineSegment/* pointAt */.sd)(e,0,ExtendedLineVisualElement_x),yield (0,lineSegment/* pointAt */.sd)(e,1,ExtendedLineVisualElement_x))}}const ExtendedLineVisualElement_P=(0,clipRay/* create */.vt)(),ExtendedLineVisualElement_x=(0,vec3f64.c)(),ExtendedLineVisualElement_v=(0,vec3f64.c)(),ExtendedLineVisualElement_S=(0,lineSegment/* create */.vt)();var ExtendedLineVisualElement_V;!function(e){e[e.LINE=0]="LINE",e[e.RAY=1]="RAY",e[e.GROUND_RAY=2]="GROUND_RAY",e[e.FADED=3]="FADED"}(ExtendedLineVisualElement_V||(ExtendedLineVisualElement_V={}));const ExtendedLineVisualElement_M=1/3,ExtendedLineVisualElement_T={start:ExtendedLineVisualElement_M,end:ExtendedLineVisualElement_M};

// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/graphics/dehydratedPoint.js
var dehydratedPoint = __webpack_require__(29394);
;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ParallelLineVisualElement_x extends EngineVisualElement_t{constructor(e){super(e),this._location=(0,vec3f64.c)(),this._direction=(0,vec3f64.f)(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=(0,vec4f32.f)(1,0,1,1),this._renderOccluded=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyObject3DResources(e),recreateGeometry:(e,t)=>this._recreateObject3DGeometry(e,t),cameraChanged:()=>this._updateGeometry()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyDrapedResources(e),recreateGeometry:e=>this._recreateDrapedGeometry(e)}}get location(){return this._location}set location(e){(0,vec3.h)(this._location,e)||((0,vec3.c)(this._location,e),this._updateGeometry())}get direction(){return this._direction}set direction(e){(0,vec3.h)(this._direction,e)||((0,vec3.c)(this._direction,e),this._updateGeometry())}setDirectionFromPoints(e,t){(0,vec3.n)(this._direction,(0,vec3.f)(this._direction,t,e)),this._updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry())}get color(){return this._color}set color(e){(0,vec4.h)(e,this._color)||((0,vec4.c)(this._color,e),this._updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}_createObject3DResources(e){const t=new RibbonLineMaterial/* RibbonLineMaterial */.W(this.materialParameters),r=new Array;return this._createObject3DGeometry(t,e,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_destroyObject3DResources(e){e.geometries.length=0}_recreateObject3DGeometry(e,t){e.geometries.length=0,this._createObject3DGeometry(e.material,t,e.geometries)}_createObject3DGeometry(e,t,r){const[s,i]=this._createGeometries(e);t.addGeometry(s),t.addGeometry(i),r.push(s),r.push(i),this._updateVerticesObject3D(t)}_createDrapedResources(){const t=new RibbonLineMaterial/* RibbonLineMaterial */.W(this.materialParameters),r=(0,reactiveUtils/* watch */.wB)((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}));return{material:t,geometries:this._createDrapedGeometry(t),pixelRatioHandle:r}}_destroyDrapedResources(e){e.pixelRatioHandle.remove(),e.geometries=[]}_recreateDrapedGeometry(e){e.geometries=this._createDrapedGeometry(e.material)}_createDrapedGeometry(e){const t=this._createGeometries(e);return this._updateVerticesDraped(t),t.map((e=>new RenderGeometry/* RenderGeometry */.$(e)))}_createGeometries(e){return[(0,GeometryUtil/* createPolylineGeometry */.Z8)(e,[(0,vec3f64.c)(),(0,vec3f64.c)()]),(0,GeometryUtil/* createPolylineGeometry */.Z8)(e,[(0,vec3f64.c)(),(0,vec3f64.c)()])]}_updateMaterial(){const{materialParameters:e}=this;this.object3dResources.resources?.material.setParameters(e),this.drapedResources.resources?.material.setParameters(e)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateGeometry(){if(this.isDraped)this.drapedResources.recreateGeometry();else{const e=this.object3dResources.object;e&&this._updateVerticesObject3D(e)}}_updateVerticesObject3D(e){const t=this.view.state.camera;t.projectToScreen(this.location,ParallelLineVisualElement_M),(0,vec3.g)(ParallelLineVisualElement_P,this.location,this.direction),t.projectToScreen(ParallelLineVisualElement_P,ParallelLineVisualElement_I),(0,vec2.e)(ParallelLineVisualElement_I,(0,vec2.c)(ParallelLineVisualElement_I,ParallelLineVisualElement_I,ParallelLineVisualElement_M)),this._updateVertexAttributesObject3D(t,e,0,ParallelLineVisualElement_M,ParallelLineVisualElement_I,1),this._updateVertexAttributesObject3D(t,e,1,ParallelLineVisualElement_M,ParallelLineVisualElement_I,-1)}_updateVertexAttributesObject3D(e,r,s,i,o,a){const c=r.geometries[s],n=c.getMutableAttribute(VertexAttribute/* VertexAttribute */.r.POSITION)?.data;if(!n)return;const{start:d,end:h}=this._computeStartEnd(o,i,a,this.offset,this.width,this.length);e.unprojectFromScreen((0,screenUtils/* castScreenPointArray */.PR)(d),ParallelLineVisualElement_P),n[0]=ParallelLineVisualElement_P[0],n[1]=ParallelLineVisualElement_P[1],n[2]=ParallelLineVisualElement_P[2],e.unprojectFromScreen((0,screenUtils/* castScreenPointArray */.PR)(h),ParallelLineVisualElement_P),n[3]=ParallelLineVisualElement_P[0],n[4]=ParallelLineVisualElement_P[1],n[5]=ParallelLineVisualElement_P[2],r.geometryVertexAttributeUpdated(c,VertexAttribute/* VertexAttribute */.r.POSITION)}_updateVerticesDraped(e){const{view:{basemapTerrain:{overlayManager:t},state:{contentPixelRatio:r}}}=this,{location:s,width:i,length:o,offset:a}=this,c=ParallelLineVisualElement_E;c.spatialReference=t.renderer.spatialReference,c.x=s[0],c.y=s[1];const n=this.view.overlayPixelSizeInMapUnits(c)*r,d=i*n,h=o*n,u=a*n;this._updateVertexAttributesDraped(e[0],d,h,u,-1),this._updateVertexAttributesDraped(e[1],d,h,u,1)}_updateVertexAttributesDraped(e,t,r,s,i){const o=e.getMutableAttribute(VertexAttribute/* VertexAttribute */.r.POSITION)?.data;if(!o)return;const{location:a,direction:c}=this,{start:n,end:d}=this._computeStartEnd(c,a,i,s,t,r);o[0]=n[0],o[1]=n[1],o[2]=OverlayRenderer/* drapedZ */.bi,o[3]=d[0],o[4]=d[1],o[5]=OverlayRenderer/* drapedZ */.bi,e.invalidateBoundingInfo()}_computeStartEnd(e,t,r,s,i,n){const d=(0,vec2.a)(ParallelLineVisualElement_V,(0,vec2.s)(ParallelLineVisualElement_V,e[1]*r,e[0]*-r),s+i/2),h=(0,vec2.i)(ParallelLineVisualElement_A,(0,vec2.i)(ParallelLineVisualElement_A,(0,vec2.i)(ParallelLineVisualElement_A,t,(0,vec2.a)(ParallelLineVisualElement_A,e,n/2)),d),d);return{start:h,end:(0,vec2.i)(ParallelLineVisualElement_S,h,(0,vec2.a)(ParallelLineVisualElement_S,e,-n))}}}const ParallelLineVisualElement_P=(0,vec3f64.c)(),ParallelLineVisualElement_V=(0,vec2f64.a)(),ParallelLineVisualElement_A=(0,vec2f64.a)(),ParallelLineVisualElement_S=(0,vec2f64.a)(),ParallelLineVisualElement_M=(0,screenUtils/* createScreenPointArray */.gs)(),ParallelLineVisualElement_I=(0,screenUtils/* createScreenPointArray */.gs)(),ParallelLineVisualElement_E=(0,dehydratedPoint/* makeDehydratedPoint */.T)(0,0,void 0,null);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f64.js
var vec4f64 = __webpack_require__(52712);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/aaBoundingBox.js
var aaBoundingBox = __webpack_require__(4675);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/vectorStacks.js + 1 modules
var vectorStacks = __webpack_require__(45573);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4.js
var mat4 = __webpack_require__(37046);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4f64.js
var mat4f64 = __webpack_require__(56192);
;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Object3DVisualElement_a extends VisualElement_t{constructor(e){super(e),this._resources=null,this._transform=(0,mat4f64.a)()}get object(){return null!=this._resources?this._resources.object:null}get transform(){return this._transform}set transform(s){(0,mat4.h)(this._transform,s),null!=this._resources&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(null==this._resources)return;const e=this._resources.object,s=this.view._stage;s.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),e.visible=this.visible,s.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new WebGLLayer/* WebGLLayer */.x(e,{pickable:!1,updatePolicy:UpdatePolicy/* UpdatePolicy */.q.SYNC}),r=new Object3D/* Object3D */.B({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),r.visible=this.visible,this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;null!=this._resources&&e&&(e.remove(this._resources.object),this._resources.layer.destroy(),this.forEachExternalMaterial((s=>{e.remove(s)})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){null!=this._resources&&(this._resources.object.visible=e)}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignmentUtils.js
var elevationAlignmentUtils = __webpack_require__(27716);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/layers/graphics/ElevationContext.js
var ElevationContext = __webpack_require__(58343);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/engineContent/sdfPrimitives.js
var sdfPrimitives = __webpack_require__(97213);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js + 4 modules
var HUDMaterial = __webpack_require__(62331);
;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class PointVisualElement_x extends Object3DVisualElement_a{constructor(e){super(e),this._material=null,this._texture=null,this._geometry=null,this._size=3,this._color=(0,vec4f64.f)(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive="square",this._outlineSize=1,this._outlineColor=(0,vec4f64.f)(1,1,1,1),this._elevationInfo=null,this.applyProperties(e)}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this._preferredTextureSize;this._size=e,t<this._preferredTextureSize?this.recreate():this._updateSizeAttribute()}}get color(){return this._color}set color(e){(0,vec4.h)(e,this._color)||((0,vec4.c)(this._color,e),this._updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this._updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,this.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,vec4.h)(e,this._outlineColor)||((0,vec4.c)(this._outlineColor,e),this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}_updateMaterial(){this._material&&this._material.setParameters(this._materialParameters)}_updateSizeAttribute(){const e=this.object;if(null==e)return;const t=e.geometries[0];if(null==t)return;const i=t.getMutableAttribute(VertexAttribute/* VertexAttribute */.r.SIZE).data,r=this._geometrySize;i[0]=r,i[1]=r,e.geometryVertexAttributeUpdated(e.geometries[0],VertexAttribute/* VertexAttribute */.r.SIZE)}get _materialParameters(){return{color:this._color,textureIsSignedDistanceField:!0,sampleSignedDistanceFieldTexelCenter:(0,sdfPrimitives/* requiresHalfTexelOffset */.ny)(this._primitive),distanceFieldBoundingBox:PointVisualElement_v,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:this._texture?.id,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled,isDecoration:this.isDecoration}}get _geometrySize(){return this._size/PointVisualElement_S}createExternalResources(){this._texture=(0,sdfPrimitives/* createTexture */.sZ)(this._primitive,this._preferredTextureSize),this._material=new HUDMaterial/* HUDMaterial */.R(this._materialParameters);const e=this.view._stage;this._texture.load(e.renderView.renderingContext),e.add(this._texture)}destroyExternalResources(){if(this._texture){this.view._stage.remove(this._texture),this._texture.dispose(),this._texture=null}this._material=null}createGeometries(e){const t=this._createRenderGeometry();null!=t&&e.addGeometry(t)}forEachExternalMaterial(e){this._material&&e(this._material)}get _preferredTextureSize(){return (0,mathUtils/* clamp */.qE)(2*this._geometrySize,16,128)}calculateMapBounds(e){const t=this.object?.geometries[0];if(!t)return!1;const i=t.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION);return (0,projectVectorToVector/* projectVectorToVector */.F)(i.data,this.view.renderCoordsHelper.spatialReference,PointVisualElement_y,this.view.spatialReference),(0,aaBoundingBox/* expandWithBuffer */.Hq)(e,PointVisualElement_y),!0}_createRenderGeometry(){const{geometry:e,_material:i}=this;if(null==e||null==i)return null;const{renderCoordsHelper:r,elevationProvider:s}=this.view,o=(0,elevationAlignmentUtils/* evaluateElevationAlignmentAtPoint */.nG)(e,s,ElevationContext/* ElevationContext */.F.fromElevationInfo(this.elevationInfo),r),l=(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),e.x,e.y,o),u=vectorStacks/* sv3d */.rq.get();(0,projectVectorToVector/* projectVectorToVector */.F)(l,e.spatialReference,u,r.spatialReference);const p=this._geometrySize;return (0,GeometryUtil/* createPointGeometry */.DJ)(i,null,u,null,[p,p],[0,0,0,1])}}const PointVisualElement_S=sdfPrimitives/* defaultSymbolSizeRatio */.CN,PointVisualElement_v=[PointVisualElement_S/2,PointVisualElement_S/2,1-PointVisualElement_S/2,1-PointVisualElement_S/2],PointVisualElement_y=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js
var Attribute = __webpack_require__(70807);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js + 3 modules
var Geometry = __webpack_require__(59568);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js + 2 modules
var ColorMaterial = __webpack_require__(32504);
;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class RightAngleQuadVisualElement_z extends EngineVisualElement_t{constructor(e){super(e),this._maxSize=0,this._position=(0,vec3f64.c)(),this._up=(0,vec3f64.c)(),this._right=(0,vec3f64.c)(),this._renderOccluded=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,this._color=(0,vec4f64.f)(1,0,0,1),this._outlineColor=(0,vec4f64.f)(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=Material/* RenderOccludedFlag */.m$.Opaque,this.applyProperties(e)}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyDrapedResources(e)}}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){(0,vec4.c)(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,vec4.c)(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:r}){this._maxSize=Math.min((0,vec3.o)(t,e),(0,vec3.o)(t,r))/3,(0,vec3.n)(this._up,(0,vec3.f)(this._up,e,t)),(0,vec3.n)(this._right,(0,vec3.f)(this._right,r,t)),(0,vec3.c)(this._position,t),this.recreateGeometry()}_createObject3DResources(e){const t=new ColorMaterial/* ColorMaterial */.v(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new RibbonLineMaterial/* RibbonLineMaterial */.W(this._outlineMaterialParameters);return this._createObject3DGeometries(e,t,r),{quadMaterial:t,outlineMaterial:r,forEach:e=>{e(t),r&&e(r)}}}_createObject3DGeometries(e,t,r){if((0,vec3.h)(this._up,vec3f64.Z)&&(0,vec3.h)(this._right,vec3f64.Z))return;const i=this._createGeometries(t,r);for(const s of i)e.addGeometry(s);this._updateTransformObject3D(e)}_createDrapedResources(){const t=new ColorMaterial/* ColorMaterial */.v(this._quadMaterialParameters),r=0===this._outlineSize?void 0:new RibbonLineMaterial/* RibbonLineMaterial */.W(this._outlineMaterialParameters),i=this._createGeometries(t,r).map((e=>new RenderGeometry/* RenderGeometry */.$(e)));this._setTransformDraped(i);return{quadMaterial:t,outlineMaterial:r,geometries:i,pixelRatioHandle:(0,reactiveUtils/* watch */.wB)((()=>this.view.state.contentPixelRatio),(()=>{this.drapedResources.recreateGeometry()}))}}_destroyDrapedResources(e){e.pixelRatioHandle.remove(),e.geometries=[]}_createGeometries(e,t){const{up:r,right:i,corner:s}=this._getVertices(),a=this._quadGeometryData(r,i,s,e);if(!t)return[a];return[a,(0,GeometryUtil/* createPolylineGeometry */.Z8)(t,[r,s,i])]}_getVertices(){let e=this._up,t=this._right;const r=(0,vec3.g)(vectorStacks/* sv3d */.rq.get(),e,t);return this.isDraped&&(e=(0,vec3.c)(vectorStacks/* sv3d */.rq.get(),e),t=(0,vec3.c)(vectorStacks/* sv3d */.rq.get(),t),e[2]=0,t[2]=0,r[2]=0),{up:e,right:t,corner:r}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(e=this.object3dResources.object){if(!e)return;const i=this.view.state.camera,s=this._size*i.computeScreenPixelSizeAt(this._position),a=Math.min(this._maxSize,s);(0,mat4.d)(RightAngleQuadVisualElement_P,this._position),(0,mat4.b)(RightAngleQuadVisualElement_P,RightAngleQuadVisualElement_P,[a,a,a]),e.transformation=RightAngleQuadVisualElement_P}_setTransformDraped(e){if(0===e.length)return;const{view:{basemapTerrain:{overlayManager:i},state:{contentPixelRatio:s}}}=this,{_position:a,_size:o}=this,c=(0,vec3.c)(vectorStacks/* sv3d */.rq.get(),a);c[2]=OverlayRenderer/* drapedZ */.bi;const u=RightAngleQuadVisualElement_v;u.spatialReference=i.renderer.spatialReference,u.x=c[0],u.y=c[1];const l=o*(this.view.overlayPixelSizeInMapUnits(u)*s),d=Math.min(this._maxSize,l);(0,mat4.d)(RightAngleQuadVisualElement_P,c),(0,mat4.b)(RightAngleQuadVisualElement_P,RightAngleQuadVisualElement_P,[d,d,1]);for(const t of e)t.transformation=RightAngleQuadVisualElement_P}_quadGeometryData(e,t,r,i){return new Geometry/* Geometry */.V(i,[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n([0,0,0,...t,...e,...r],[0,1,2,1,2,3],3,!0)]])}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}const RightAngleQuadVisualElement_P=(0,mat4f64.a)(),RightAngleQuadVisualElement_v=(0,dehydratedPoint/* makeDehydratedPoint */.T)(0,0,void 0,null);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js
var normalizedPoint = __webpack_require__(97847);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/Settings.js
var Settings = __webpack_require__(1381);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/SnappingDomain.js
var SnappingDomain = __webpack_require__(40508);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js
var snappingUtils = __webpack_require__(61851);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js
var SnappingVisualizer = __webpack_require__(86548);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/hints/LineSnappingHint.js
var LineSnappingHint = __webpack_require__(4368);
;// ../node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class SnappingVisualizer3D_O extends SnappingVisualizer/* SnappingVisualizer */.b{sortUniqueHints(e){return e.sort(((e,n)=>(n instanceof LineSnappingHint/* LineSnappingHint */.c?n.length:0)-(e instanceof LineSnappingHint/* LineSnappingHint */.c?e.length:0)))}visualizeIntersectionPoint(e,n){const{spatialReference:t,view:r}=n,o=SnappingVisualizer3D_D(n);return (0,handleUtils/* destroyHandle */.DQ)(new PointVisualElement_x({view:r,primitive:"circle",geometry:(0,normalizedPoint/* toDehydratedPoint */.io)(e.intersectionPoint,t),elevationInfo:e.isDraped?elevationInfoUtils/* onTheGroundElevationInfo */.Tq:elevationInfoUtils/* absoluteHeightElevationInfo */.qt,size:20,outlineSize:2,color:o.intersectionPointColor,outlineColor:o.intersectionPointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizePoint(e,n){const{view:t,spatialReference:r}=n,o=SnappingVisualizer3D_D(n),a=SnappingVisualizer3D_R(e.point,e.domain,n);return (0,handleUtils/* destroyHandle */.DQ)(new PointVisualElement_x({view:t,primitive:"circle",geometry:(0,normalizedPoint/* toDehydratedPoint */.io)(a,r),elevationInfo:SnappingVisualizer3D_A(e,n),size:20,outlineSize:2,color:o.pointColor,outlineColor:o.pointOutlineColor,pixelSnappingEnabled:!1,isDecoration:!0,attached:!0}))}visualizeLine(e,n){const{view:t,spatialReference:r}=n,o=SnappingVisualizer3D_D(n),a=SnappingVisualizer3D_R(e.lineStart,e.domain,n),l=SnappingVisualizer3D_R(e.lineEnd,e.domain,n);return (0,handleUtils/* destroyHandle */.DQ)(this._createLineSegmentHint(e.type,a,l,r,SnappingVisualizer3D_A(e,n),t,o,e.isDraped,e.fadeLeft,e.fadeRight))}visualizeParallelSign(e,n){const{view:r,spatialReference:o}=n,a=SnappingVisualizer3D_D(n),{isDraped:l}=e,s=SnappingVisualizer3D_A(e,n),p=SnappingVisualizer3D_R(e.lineStart,e.domain,n),d=SnappingVisualizer3D_R(e.lineEnd,e.domain,n),u=SnappingVisualizer3D_x(p,o,s,r,l),g=SnappingVisualizer3D_x(d,o,s,r,l),v=(0,vec3.p)(g,u,g,.5),E=new ParallelLineVisualElement_x({view:r,attached:!1,offset:Settings/* defaults */.N.parallelLineHintOffset,length:Settings/* defaults */.N.parallelLineHintLength,width:Settings/* defaults */.N.parallelLineHintWidth,color:a.parallelSignColor,location:v,renderOccluded:l?Material/* RenderOccludedFlag */.m$.OccludeAndTransparent:Material/* RenderOccludedFlag */.m$.Opaque,isDraped:l,renderGroup:interfaces/* DrapedRenderGroup */.O7.SnappingHint,isDecoration:!0});return E.setDirectionFromPoints(u,v),E.attached=!0,(0,handleUtils/* destroyHandle */.DQ)(E)}visualizeRightAngleQuad(e,n){const{view:t,spatialReference:r}=n,o=SnappingVisualizer3D_D(n),a=SnappingVisualizer3D_A(e,n),{isDraped:l}=e,s=SnappingVisualizer3D_R(e.previousVertex,e.domain,n),p=SnappingVisualizer3D_R(e.centerVertex,e.domain,n),c=SnappingVisualizer3D_R(e.nextVertex,e.domain,n),d=SnappingVisualizer3D_x(s,r,a,t,l),g=SnappingVisualizer3D_x(p,r,a,t,l),v=SnappingVisualizer3D_x(c,r,a,t,l);return (0,handleUtils/* destroyHandle */.DQ)(new RightAngleQuadVisualElement_z({view:t,attached:!0,color:l?o.rightAngleColorDraped:o.rightAngleColor,renderOccluded:l?Material/* RenderOccludedFlag */.m$.OccludeAndTransparent:Material/* RenderOccludedFlag */.m$.Transparent,outlineRenderOccluded:l?Material/* RenderOccludedFlag */.m$.OccludeAndTransparent:Material/* RenderOccludedFlag */.m$.Opaque,outlineColor:o.rightAngleOutlineColor,outlineSize:Settings/* defaults */.N.rightAngleHintOutlineSize,size:Settings/* defaults */.N.rightAngleHintSize,isDraped:l,geometry:{previous:d,center:g,next:v},renderGroup:interfaces/* DrapedRenderGroup */.O7.SnappingHint,isDecoration:!0}))}_createLineSegmentHint(e,n,i,t,r,o,a,l=!1,c=!0,d=!0){const u=SnappingVisualizer3D_x(n,t,r,o,l),g=SnappingVisualizer3D_x(i,t,r,o,l),v=new ExtendedLineVisualElement_G({view:o,extensionType:ExtendedLineVisualElement_V.FADED,start:u,end:g,isDraped:l,color:a.lineColor,renderOccluded:l?Material/* RenderOccludedFlag */.m$.OccludeAndTransparent:Material/* RenderOccludedFlag */.m$.Opaque,renderGroup:interfaces/* DrapedRenderGroup */.O7.SnappingHint,isDecoration:!0});switch(e){case snappingUtils/* LineSegmentHintType */.H3.TARGET:v.width=Settings/* defaults */.N.lineHintWidthTarget,v.fadedExtensions={start:0,end:Settings/* defaults */.N.lineHintFadedExtensions};break;case snappingUtils/* LineSegmentHintType */.H3.REFERENCE_EXTENSION:v.width=Settings/* defaults */.N.lineHintWidthReference,v.fadedExtensions={start:0,end:0};break;case snappingUtils/* LineSegmentHintType */.H3.REFERENCE:v.width=Settings/* defaults */.N.lineHintWidthReference,v.fadedExtensions={start:c?Settings/* defaults */.N.lineHintFadedExtensions:0,end:d?Settings/* defaults */.N.lineHintFadedExtensions:0}}return v.attached=!0,v}}function SnappingVisualizer3D_D(i){const{effectiveTheme:t}=i.view,r=Color/* default */.A.toUnitRGBA(t.accentColor),o=[0,0,0,0];return{intersectionPointColor:o,intersectionPointOutlineColor:r,pointColor:o,pointOutlineColor:r,lineColor:r,lineOutlineColor:void 0,parallelSignColor:r,rightAngleColor:r,rightAngleColorDraped:Color/* default */.A.toUnitRGBA((0,colorUtils/* multiplyOpacity */._L)(t.accentColor,.5)),rightAngleOutlineColor:r}}function SnappingVisualizer3D_R(e,n,i){const t=SnappingVisualizer3D_H(n,i);return null==t?e:(0,normalizedPoint/* create */.vt)(e[0],e[1],t)}function SnappingVisualizer3D_A(e,n){return null!=SnappingVisualizer3D_H(e.domain,n)?n.selfSnappingZ.elevationInfo:e.isDraped?elevationInfoUtils/* onTheGroundElevationInfo */.Tq:elevationInfoUtils/* absoluteHeightElevationInfo */.qt}function SnappingVisualizer3D_H(e,{selfSnappingZ:n}){return e===SnappingDomain/* SnappingDomain */.n.SELF&&null!=n?n.value:null}function SnappingVisualizer3D_x(e,n,i,t,a,l=(0,vec3f64.c)()){if(a){const i=t.basemapTerrain.overlayManager.renderer.spatialReference;(0,projectVectorToVector/* projectVectorToVector */.F)(e,n,l,i)}else (0,viewUtils/* vectorToRender */.XG)(e,n,i,t,l);return l}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/graphics/sources/interfaces.js
var sources_interfaces = __webpack_require__(12155);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/meshFastUpdateUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function meshFastUpdateUtils_o(n){const{graphic:o}=n;return[(0,reactiveUtils/* watch */.wB)((()=>n.displaying),(e=>{e?meshFastUpdateUtils_s(o):meshFastUpdateUtils_i(o)}),{...reactiveUtils/* syncAndInitial */.pc}),(0,handleUtils/* makeHandle */.hA)((()=>meshFastUpdateUtils_i(o)))]}function meshFastUpdateUtils_s(e){const{geometry:t}=e;meshFastUpdateUtils_a(t)&&e.notifyMeshTransformChanged({action:sources_interfaces/* MeshTransformUpdateAction */.$.EnableFastUpdates})}function meshFastUpdateUtils_i(e){const{geometry:t}=e;meshFastUpdateUtils_a(t)&&e.notifyMeshTransformChanged({action:sources_interfaces/* MeshTransformUpdateAction */.$.DisableFastUpdates})}function meshFastUpdateUtils_a(e){return"mesh"===e?.type&&!e.vertexSpace.isGeoreferenced}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js
var lineStippleUtils = __webpack_require__(86868);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const settings_d=.3;function settings_u(o,t){t&&Object.assign(o,t)}class settings_g{constructor(o){this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=Material/* RenderOccludedFlag */.m$.Opaque,this.color=o.accent}}class settings_f{constructor({colors:o,...t}){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=o.accent,this.outlineColor=o.outline,this.renderOccluded=Material/* RenderOccludedFlag */.m$.Opaque,this.hoverOutlineColor=o.selectedOutline,settings_u(this,t)}applyColor(o){this._apply(this.color,o)}applyOutline(o){this._apply(this.outlineColor,o)}applyHoverOutline(o){this._apply(this.hoverOutlineColor,o)}_apply(o,t){t.setParameters({color:(0,colorUtils/* unitRGBAFromColor */.QP)(o),renderOccluded:this.renderOccluded})}}class settings_w{constructor({colors:o,...t}){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.renderOccluded=Material/* RenderOccludedFlag */.m$.Transparent,this.minSquaredEdgeLength=900,this.color=(0,colorUtils/* multiplyOpacity */._L)(o.accent,.5),this.hoverColor=o.accent,settings_u(this,t)}applyColor(o){this._apply(this.color,o)}applyHover(o){this._apply(this.hoverColor,o)}_apply(o,t){t.setParameters({color:(0,colorUtils/* unitRGBAFromColor */.QP)(o),renderOccluded:this.renderOccluded})}}class settings_C{constructor(o){this.vertex=new settings_f({colors:o,color:o.accent,outlineColor:o.outline}),this.edge=new settings_f({colors:o,color:(0,colorUtils/* desaturate */.Vl)((0,colorUtils/* multiplyOpacity */._L)(o.accent,2/3),.5),outlineColor:(0,colorUtils/* multiplyOpacity */._L)(o.outline,.5),size:8,collisionPadding:8}),this.selected=new settings_f({colors:o,color:o.selected,outlineColor:o.outline}),this.edgeOffset=new settings_w({colors:o})}}class settings_m{constructor({colors:o,...t}){this.width=1.5,this.stipplePattern=(0,lineStippleUtils/* createStipplePatternSimple */.wk)(3.3),this.falloff=0,this.innerWidth=1.5,this.renderOccluded=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,this.color=o.selected,this.stippleOffColor=o.outline,this.innerColor=o.selected,settings_u(this,t)}apply(o){o.color=(0,colorUtils/* unitRGBAFromColor */.QP)(this.color),o.width=this.width,o.stipplePattern=this.stipplePattern,o.stippleOffColor=(0,colorUtils/* unitRGBAFromColor */.QP)(this.stippleOffColor),o.falloff=this.falloff,o.innerWidth=this.innerWidth,o.innerColor=(0,colorUtils/* unitRGBAFromColor */.QP)(this.innerColor),o.renderOccluded=this.renderOccluded}}class settings_O{constructor({colors:o,...t}){this.size=4,this.outlineSize=1,this.shape="square",this.color=o.selected,this.outlineColor=o.outline,settings_u(this,t)}apply(o){o.color=(0,colorUtils/* unitRGBAFromColor */.QP)(this.color),o.size=this.size,o.outlineSize=this.outlineSize,o.outlineColor=(0,colorUtils/* unitRGBAFromColor */.QP)(this.outlineColor),o.primitive=this.shape}}class settings_y{constructor({colors:o,...t}){this.innerWidth=1,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=settings_d,this.globalAlphaContrastBoost=1.5,this.radius=3,this.innerColor=o.selected,this.glowColor=o.accent,this.heightFillColor=o.accent,settings_u(this,t)}apply(o,e=1){const l={glowColor:Color/* default */.A.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:Color/* default */.A.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e*this.glowColor.a,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in o?o.style=l:o.laserlineStyle=l}}class settings_A{constructor(o){this.outline=new settings_m({colors:o,color:o.stippleOff,renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparentStencil,stippleOffColor:o.stippleOn,innerWidth:0}),this.staged=new settings_m({colors:o,color:o.stippleOn,renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparentStencil,innerColor:o.stagedSolid,stippleOffColor:o.stippleOff}),this.shadowStyle=new settings_y({colors:o,globalAlpha:settings_d,glowColor:o.accent,glowFalloff:8,glowWidth:8,innerColor:o.selected,innerWidth:1})}}class W{constructor(o){this.outline=new settings_O({colors:o,color:o.selected,outlineColor:o.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new settings_y({colors:o,globalAlpha:settings_d,glowColor:o.accent,glowFalloff:1.5,glowWidth:6,innerColor:o.selected,innerWidth:1,radius:2})}}class settings_S extends settings_m{constructor({colors:o,...t}){super({colors:o}),this.extensionType=ExtendedLineVisualElement_V.GROUND_RAY,settings_u(this,t)}}class settings_b{constructor(o){this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,this.lineGraphics=new settings_A(o),this.pointGraphics=new W(o),this.heightPlane=new settings_y({colors:o,globalAlpha:settings_d,glowColor:o.accent,glowFalloff:8,glowWidth:8,innerColor:o.selected,innerWidth:1}),this.heightBox=new settings_y({colors:o,globalAlpha:settings_d,glowColor:o.accent,glowFalloff:8,glowWidth:8,innerColor:o.selected,innerWidth:0,heightFillColor:o.accent}),this.zVerticalLine=new settings_S({colors:o,color:(0,colorUtils/* multiplyOpacity */._L)(o.accent,5*settings_d/3),falloff:2,innerColor:(0,colorUtils/* multiplyOpacity */._L)(o.selected,0),renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:ExtendedLineVisualElement_V.GROUND_RAY})}}let settings_z=class extends Accessor/* default */.A{constructor(o){super(o)}get colors(){const o=this.getTheme().accentColor,e=o.a;return{accent:o,contrast:(0,colorUtils/* getContrast */.bJ)(o),selected:Color/* default */.A.fromArray([255,255,255,e]),selectedOutline:Color/* default */.A.fromArray([255,255,255,e]),staged:Color/* default */.A.fromArray([12,207,255,e]),stagedSolid:Color/* default */.A.fromArray([12,207,255,1]),outline:Color/* default */.A.fromArray([0,0,0,.5*e]),stippleOn:Color/* default */.A.fromArray([255,255,255,1]),stippleOff:Color/* default */.A.fromArray([0,0,0,.5])}}get visualElements(){return new settings_b(this.colors)}get manipulators(){return new settings_C(this.colors)}get zManipulator(){return new settings_g(this.colors)}};(0,tslib_es6._)([(0,property/* property */.MZ)()],settings_z.prototype,"colors",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],settings_z.prototype,"visualElements",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],settings_z.prototype,"manipulators",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],settings_z.prototype,"zManipulator",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],settings_z.prototype,"getTheme",void 0),settings_z=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.settings.Settings")],settings_z);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Evented.js
var Evented = __webpack_require__(17306);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectBuffer.js
var projectBuffer = __webpack_require__(84119);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/engineContent/line.js
var line = __webpack_require__(46684);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/line.js
var renderInfoUtils_line = __webpack_require__(4062);
;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class OutlineVisualElement_w extends EngineVisualElement_t{constructor(t){super(t),this._attachmentOrigin=(0,dehydratedPoint/* makeDehydratedPoint */.T)(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new Evented/* default */.A,this._geometry=null,this._width=1,this._color=(0,vec4f32.f)(1,0,1,1),this._innerWidth=0,this._innerColor=(0,vec4f32.f)(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=Material/* RenderOccludedFlag */.m$.OccludeAndTransparentStencil,this._attachmentOrigin.spatialReference=t.view.spatialReference,this._laserline=new LaserlineVisualElement_c({view:t.view,isDecoration:t.isDecoration}),this.applyProperties(t),this.attached=t.attached??!0}destroy(){this._laserline.destroy(),super.destroy()}createObject3DResourceFactory(e){return{view:e,createResources:e=>this._createObject3DResources(e),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:(e,t)=>{e.geometries.length=0,this._recreateGeometry(t,e.material,e.geometries)}}}createDrapedResourceFactory(e){return{view:e,createResources:()=>this._createDrapedResources(),destroyResources:e=>this._destroyExternalResources(e),recreateGeometry:e=>{e.geometries=this._createRenderGeometriesDraped(e.material),this._attachmentOriginChanged()}}}get _laserlineAttached(){return this.attached&&this.visible&&null!=this._laserlineStyle&&!this.isDraped&&this.laserlineEnabled}onAttachedChange(e){this._laserline.attached=this._laserlineAttached,e&&this._attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){(0,vec4.h)(e,this._color)||((0,vec4.c)(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){(0,vec4.h)(e,this._innerColor)||((0,vec4.c)(this._innerColor,e),this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const t=null!=e!=(null!=this._stipplePattern);this._stipplePattern=e,t?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&(0,vec4.h)(e,this._stippleOffColor)||(this._stippleOffColor=e?(0,vec4f32.c)(e):null,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this._laserlineAttached,null!=e&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this._laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const e=this.object3dResources.resources?.geometries;if(!e||0===e.length)return null;(0,vec3.s)(OutlineVisualElement_P,0,0,0);let s=0;for(const t of e)t.computeAttachmentOrigin(OutlineVisualElement_D)&&((0,vec3.g)(OutlineVisualElement_P,OutlineVisualElement_P,OutlineVisualElement_D),s++);return 0===s?null:((0,vec3.i)(OutlineVisualElement_P,OutlineVisualElement_P,1/s),this.view.renderCoordsHelper.fromRenderCoords(OutlineVisualElement_P,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}_updateMaterial(){null!=this.object3dResources.resources&&this.object3dResources.resources.material.setParameters(this._materialParameters),null!=this.drapedResources.resources&&this.drapedResources.resources.material.setParameters(this._materialParameters)}get _isClosed(){return null!=this.geometry&&"polygon"===this.geometry.type}get _materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:!1,isClosed:this._isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",hasPolygonOffset:!0,renderOccluded:this._normalizedRenderOccluded,isDecoration:this.isDecoration}}get _normalizedRenderOccluded(){return this.isDraped&&this._renderOccluded===Material/* RenderOccludedFlag */.m$.OccludeAndTransparentStencil?Material/* RenderOccludedFlag */.m$.OccludeAndTransparent:this._renderOccluded}_recreateGeometry(e,t,r){this._createRenderGeometries(t,r);for(const i of r)e.addGeometry(i);this._attachmentOriginChanged()}_attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit("attachment-origin-changed")}_destroyExternalResources(e){e.geometries=[]}_createObject3DResources(e){const t=new RibbonLineMaterial/* RibbonLineMaterial */.W(this._materialParameters),r=new Array;return this._recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_createDrapedResources(){const e=new RibbonLineMaterial/* RibbonLineMaterial */.W(this._materialParameters);return{material:e,geometries:this._createRenderGeometriesDraped(e)}}_createRenderGeometriesDraped(e){const{geometry:t,view:r}=this,i=r.basemapTerrain.spatialReference;if(null==t||null==i)return[];return (0,renderInfoUtils_line/* geometryToRenderInfoDraped */.A)(t,i).lines.map((({position:t})=>{const s={overlayInfo:{spatialReference:i,renderCoordsHelper:r.renderCoordsHelper},attributeData:{position:t},removeDuplicateStartEnd:this._isClosed};return new RenderGeometry/* RenderGeometry */.$((0,line/* createGeometry */.t)(e,s))}))}calculateMapBounds(e){if(null==this.object3dResources.resources)return!1;const t=this.view.renderCoordsHelper;for(const r of this.object3dResources.resources.geometries){const i=r.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION),s=(0,DoubleArray/* newDoubleArray */.jh)(i.data.length);(0,projectBuffer.projectBuffer)(i.data,t.spatialReference,0,s,this.view.spatialReference,0,i.data.length/3),(0,aaBoundingBox/* expandWithBuffer */.Hq)(e,s)}return!0}_createRenderGeometries(e,t){const r=this.geometry;if(null==r)return;const i=(0,renderInfoUtils_line/* geometryToRenderInfo */.C)(r,this.view.elevationProvider,this.view.renderCoordsHelper,ElevationContext/* ElevationContext */.F.fromElevationInfo(this.elevationInfo??new ElevationInfo/* default */.A({mode:(0,elevationInfoUtils/* getGeometryEffectiveElevationMode */.w7)(r,null)}))),s=new Array;for(const{position:n,mapPositions:o}of i.lines){const r={mapPositions:o,attributeData:{position:n},removeDuplicateStartEnd:this._isClosed};t.push((0,line/* createGeometry */.t)(e,r)),s.push(n)}this._laserline.pathVerticalPlane=s}}const OutlineVisualElement_D=(0,vec3f64.c)(),OutlineVisualElement_P=(0,vec3f64.c)();

;// ../node_modules/@arcgis/core/views/3d/support/renderInfoUtils/point.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function point_o(o,n,r,s,i){const l=(0,DoubleArray/* newDoubleArray */.jh)(3*o.length),p=(0,DoubleArray/* newDoubleArray */.jh)(l.length);o.forEach(((t,e)=>{l[3*e]=t[0],l[3*e+1]=t[1],l[3*e+2]=t.length>2?t[2]:0}));const c=(0,elevationAlignmentUtils/* applyPerVertexElevationAlignment */.au)(l,n,0,p,0,l,0,l.length/3,r,s,i),m=null!=c;return{numVertices:o.length,position:l,mapPositions:p,projectionSuccess:m,sampledElevation:c}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js
var basicInterfaces = __webpack_require__(91013);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/buffer/BufferView.js + 6 modules
var BufferView = __webpack_require__(57813);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js
var ShaderOutput = __webpack_require__(55274);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js
var GLMaterial = __webpack_require__(67341);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js
var Util = __webpack_require__(58947);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js
var bufferWriterUtils = __webpack_require__(81500);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js
var OrderIndependentTransparency = __webpack_require__(1931);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js
var TransparencyPassType = __webpack_require__(81868);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js
var DefaultTechniqueConfiguration = __webpack_require__(9319);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js
var ShadedColorMaterial_glsl = __webpack_require__(86451);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ShadedColorMaterialTechnique_T extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,ShadedColorMaterialTechnique_T.shader.get().build(this.configuration),ShadedColorMaterialTechnique_v)}_setPipelineState(e){const r=this.configuration,o=e===TransparencyPassType/* TransparencyPassType */.y.NONE,i=e===TransparencyPassType/* TransparencyPassType */.y.FrontFace;return (0,renderState/* makePipelineState */.Ey)({blending:r.output!==ShaderOutput/* ShaderOutput */.V.Color&&r.output!==ShaderOutput/* ShaderOutput */.V.Alpha||!r.transparent?null:o?OrderIndependentTransparency/* blendingDefault */.V0:(0,OrderIndependentTransparency/* oitBlending */.ez)(e),culling:(0,renderState/* cullingParams */.Xt)(r.cullFace),depthTest:{func:i?enums/* CompareFunction */.MT.LESS:r.shadingEnabled?enums/* CompareFunction */.MT.LEQUAL:enums/* CompareFunction */.MT.LESS},depthWrite:o?r.writeDepth?renderState/* defaultDepthWriteParams */.kn:null:(0,OrderIndependentTransparency/* oitDepthWrite */.XO)(e),colorWrite:renderState/* defaultColorWriteParams */.wE,polygonOffset:o||i?null:OrderIndependentTransparency/* OITPolygonOffset */.SE})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}ShadedColorMaterialTechnique_T.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(ShadedColorMaterial_glsl.S,(()=>__webpack_require__.e(/* import() */ 2975).then(__webpack_require__.bind(__webpack_require__, 82975))));class ShadedColorMaterialTechnique_j extends DefaultTechniqueConfiguration/* DefaultTechniqueConfiguration */.E{constructor(){super(...arguments),this.output=ShaderOutput/* ShaderOutput */.V.Color,this.cullFace=basicInterfaces/* CullFaceOptions */.s2.None,this.transparencyPassType=TransparencyPassType/* TransparencyPassType */.y.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.multipassEnabled=!1,this.cullAboveGround=!1}}(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:ShaderOutput/* ShaderOutput */.V.COUNT})],ShadedColorMaterialTechnique_j.prototype,"output",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:basicInterfaces/* CullFaceOptions */.s2.COUNT})],ShadedColorMaterialTechnique_j.prototype,"cullFace",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:TransparencyPassType/* TransparencyPassType */.y.COUNT})],ShadedColorMaterialTechnique_j.prototype,"transparencyPassType",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ShadedColorMaterialTechnique_j.prototype,"hasSlicePlane",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ShadedColorMaterialTechnique_j.prototype,"transparent",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ShadedColorMaterialTechnique_j.prototype,"writeDepth",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ShadedColorMaterialTechnique_j.prototype,"screenSizeEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ShadedColorMaterialTechnique_j.prototype,"shadingEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ShadedColorMaterialTechnique_j.prototype,"multipassEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ShadedColorMaterialTechnique_j.prototype,"cullAboveGround",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!1})],ShadedColorMaterialTechnique_j.prototype,"occlusionPass",void 0);const ShadedColorMaterialTechnique_v=new Map([[VertexAttribute/* VertexAttribute */.r.POSITION,0],[VertexAttribute/* VertexAttribute */.r.NORMAL,1],[VertexAttribute/* VertexAttribute */.r.OFFSET,2]]);

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ShadedColorMaterial_j extends Material/* Material */.im{constructor(e){super(e,new ShadedColorMaterial_v),this.supportsEdges=!0,this._configuration=new ShadedColorMaterialTechnique_j,this._vertexAttributeLocations=ShadedColorMaterialTechnique_v}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,s,a,c,l,u){if(this.parameters.screenSizeEnabled){const s=e.attributes.get(VertexAttribute/* VertexAttribute */.r.OFFSET),h={applyToVertex:(e,n,o,c)=>{const l=(0,vec3.s)(ShadedColorMaterial_z,s.data[3*c],s.data[3*c+1],s.data[3*c+2]),u=(0,vec3.s)(ShadedColorMaterial_L,e,n,o);return (0,vec3.i)(l,l,this.parameters.screenSizeScale*a.camera.computeScreenPixelSizeAt(l)),(0,vec3.g)(u,u,l),[u[0],u[1],u[2]]},applyToAabb:e=>{const t=(0,aaBoundingBox/* center */.gX)(e,ShadedColorMaterial_z);return (0,aaBoundingBox/* scale */.hs)(e,this.parameters.screenSizeScale*a.camera.computeScreenPixelSizeAt(t))}};(0,MaterialUtil/* intersectTriangleGeometry */.Uy)(e,a,c,l,h,u)}else (0,MaterialUtil/* intersectTriangleGeometry */.Uy)(e,a,c,l,void 0,u)}produces(e,t){if(t===ShaderOutput/* ShaderOutput */.V.Highlight)return e===RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL;if(t===ShaderOutput/* ShaderOutput */.V.Color||t===ShaderOutput/* ShaderOutput */.V.Alpha||t===ShaderOutput/* ShaderOutput */.V.ObjectAndLayerIdColor){let t=RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL;return this._isTransparent&&(t=this.parameters.writeDepth?RenderSlot/* RenderSlot */.N.TRANSPARENT_MATERIAL:RenderSlot/* RenderSlot */.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===t||e===RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL}return!1}createGLMaterial(e){return new ShadedColorMaterial_O(e)}createBufferWriter(){return new ShadedColorMaterial_w(this.parameters.screenSizeEnabled)}get _isTransparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}class ShadedColorMaterial_O extends GLMaterial/* default */.A{beginSlot(e){return this.ensureTechnique(ShadedColorMaterialTechnique_T,e)}}class ShadedColorMaterial_v extends Material/* MaterialParameters */.qA{constructor(){super(...arguments),this.color=(0,vec4f64.f)(1,1,1,1),this.shadingTint=(0,vec4f64.f)(0,0,0,.25),this.shadingDirection=(0,vec3.n)((0,vec3f64.c)(),[.5,-.5,-.5]),this.screenSizeScale=14,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=basicInterfaces/* CullFaceOptions */.s2.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0}}class ShadedColorMaterial_w{constructor(e){this.screenSizeEnabled=e;const t=(0,InterleavedLayout/* newLayout */.BP)().vec3f(VertexAttribute/* VertexAttribute */.r.POSITION).vec3f(VertexAttribute/* VertexAttribute */.r.NORMAL);this.screenSizeEnabled&&t.vec3f(VertexAttribute/* VertexAttribute */.r.OFFSET),this.vertexBufferLayout=t}elementCount(e){return e.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION).indices.length}write(e,t,r,i,s){if((0,bufferWriterUtils/* writeDefaultAttributes */.SA)(r,this.vertexBufferLayout,e,t,i,s),this.screenSizeEnabled){if(!r.attributes.has(VertexAttribute/* VertexAttribute */.r.OFFSET))throw new Error(`${VertexAttribute/* VertexAttribute */.r.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const e=r.attributes.get(VertexAttribute/* VertexAttribute */.r.OFFSET);(0,Util/* assert */.vA)(3===e.size);const a=i.getField(VertexAttribute/* VertexAttribute */.r.OFFSET,BufferView/* BufferViewVec3f */.xs);if(!a)throw new Error("unable to acquire view for "+VertexAttribute/* VertexAttribute */.r.OFFSET);(0,bufferWriterUtils/* writePosition */.Hk)(e,t,a,s)}}}}const ShadedColorMaterial_z=(0,vec3f64.c)(),ShadedColorMaterial_L=(0,vec3f64.c)();

;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class VerticesVisualElement_d extends Object3DVisualElement_a{constructor(e){super(e),this.view=null,this._renderOccluded=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=(0,vec4f64.b)([1,127/255,0,1]),this._size=11,this._outlineColor=(0,vec4f64.b)([0,0,0,.5]),this._outlineSize=1,this._elevationInfo=null,this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){(0,vec4.h)(e,this._color)||((0,vec4.c)(this._color,e),this._updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){(0,vec4.h)(e,this._outlineColor)||((0,vec4.c)(this._outlineColor,e),this._updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get _vertexMaterialParameters(){return{color:this._color,screenSizeScale:this.size,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}get _vertexOutlineMaterialParameters(){return{color:this._outlineColor,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters)}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters)}_createRenderGeometries(){const t=this.vertices;if(null==t||0===t.length)return[];const r=.5,i=.5,s=point_o(t,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,ElevationContext/* ElevationContext */.F.fromElevationInfo(this.elevationInfo)),a=[],n=s.numVertices,c=s.position;for(let l=0;l<n;++l){const t=(0,vec3.s)(VerticesVisualElement_,c[3*l],c[3*l+1],c[3*l+2]),s=VerticesVisualElement_m(this._vertexMaterial,r,t),o=VerticesVisualElement_m(this._vertexOutlineMaterial,i,t);a.push({vertexGeometry:s,vertexOutlineGeometry:o})}return a}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r),e.addGeometry(i)}createExternalResources(){this._vertexMaterial=new ShadedColorMaterial_j({...this._vertexMaterialParameters,writeDepth:!0,cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new ShadedColorMaterial_j({...this._vertexOutlineMaterialParameters,forceTransparentMode:!0,writeDepth:!0,cullFace:basicInterfaces/* CullFaceOptions */.s2.Front,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial)}}const VerticesVisualElement_=(0,vec3f64.c)();function VerticesVisualElement_m(e,t,r){return (0,GeometryUtil/* createSphereGeometry */.CM)(e,t,16,16,{offset:r})}

;// ../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let GraphicState_e=class extends Evented/* default */.A.EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],GraphicState_e.prototype,"graphic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicState_e.prototype,"tracking",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicState_e.prototype,"displaying",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicState_e.prototype,"isDraped",void 0),GraphicState_e=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.layers.graphics.GraphicState")],GraphicState_e);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/draw/DrawGraphicTool.js + 6 modules
var DrawGraphicTool = __webpack_require__(99439);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/draw/DrawOperation.js + 3 modules
var DrawOperation = __webpack_require__(96453);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/draw/drawSurfaces.js
var drawSurfaces = __webpack_require__(12019);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/unitUtils.js
var unitUtils = __webpack_require__(92976);
;// ../node_modules/@arcgis/core/views/draw/support/helpMessageUtils3d.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function helpMessageUtils3d_i(r,i){const f=r?.geometry;if(!r||"mesh"!==f?.type||!i)return;const{renderCoordsHelper:h,elevationProvider:p}=i,{camera:l}=i.state,{extent:d}=f,{center:v,spatialReference:x}=d,g=(0,unitUtils/* getMetersPerUnitForSR */.GA)(x),j=(0,unitUtils/* getMetersPerVerticalUnitForSR */.G9)(x),z=(0,unitUtils/* getMetersPerUnitForSR */.GA)(h.spatialReference),y=d.width*g,C=d.height*j,R=(d.zmax??0)*j,U=R-(d.zmin??0)*j,k=Math.max(y,C,U)/z,{x:w,y:P}=v,S=v.z??0;(0,vec3.s)(helpMessageUtils3d_u,w,P,S),h.toRenderCoords(helpMessageUtils3d_u,x,helpMessageUtils3d_u);const T=k/l.computeScreenPixelSizeAt(helpMessageUtils3d_u);if(T>l.width*helpMessageUtils3d_c)return"meshTooClose";if(T<helpMessageUtils3d_m)return"meshTooFar";const b=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(r),{absoluteZ:A}=(0,elevationInfoUtils/* zValueInAbsoluteHeightMode */.Q5)(w,P,R,x,i,b);return A<(p.getElevation(w,P,S,x,"ground")??0)*j+U*helpMessageUtils3d_a?"meshUnderground":"mesh"}const helpMessageUtils3d_m=20,helpMessageUtils3d_c=1,helpMessageUtils3d_a=.1,helpMessageUtils3d_u=(0,vec3f64.c)();

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool3D.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let DrawGraphicTool3D_z=class extends DrawGraphicTool/* DrawGraphicTool */.Nt{constructor(e){super(e),this._activeVertexVisualElement=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this._verticalLineVisualElement=null,this._settings=new settings_z({getTheme:()=>this.view.effectiveTheme}),this.geometryType=null,this.type="draw-3d"}initialize(){const{mode:e,offset:t}=this.elevationInfo;this.internalGraphicsLayer.elevationInfo=new ElevationInfo/* default */.A({mode:e,offset:t})}normalizeCtorArgs(e){if(!e.elevationInfo){const t=e.hasZ??!0;return{...e,elevationInfo:(0,elevationInfoUtils/* getEffectiveElevationInfo */.bK)(t)}}return e}initializeGraphic(e){const{view:t}=this,r=this._createGraphicState=new GraphicState_e({graphic:e});return (0,handleUtils/* handlesGroup */.vE)([t.maskOccludee(e),t.trackGraphicState(r),(0,reactiveUtils/* watch */.wB)((()=>({element:this._outlineVisualElement,isDraped:r.isDraped})),(({element:e,isDraped:t})=>{e&&(e.isDraped=t)}),reactiveUtils/* syncAndInitial */.pc),this._setupLoadingIndicator(r),...meshFastUpdateUtils_o(r)])}updateDrawMeshTooltipInfo(e){const{graphic:t,tooltipOptions:i,view:r}=this;e.tooltipOptions=i,e.viewType=r.type,e.helpMessage=helpMessageUtils3d_i(t,this.view),this.updateElevation(e.elevation)}makeDrawOperation(){const{geometryType:e}=this,t="circle"!==e&&"rectangle"!==e;return new DrawOperation/* DrawOperation */.O0({view:this.view,manipulators:this.manipulators,geometryType:(0,DrawGraphicTool/* geometryTypeToDrawOperationGeometryType */.ld)(e),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new drawSurfaces/* SceneDrawSurface */.IX(this.view,this.elevationInfo,[this.internalGraphicsLayer]),elevationDrawSurface:new drawSurfaces/* ElevationDrawSurface */.rT(this.elevationInfo,this.defaultZ,this.view,this.internalGraphicsLayer),hasM:!1,elevationInfo:this.elevationInfo,snappingManager:this.snappingManager,snappingVisualizer:new SnappingVisualizer3D_O,segmentLabels:t?new SegmentLabels3D_a:null,labelOptions:this.labelOptions,tooltipOptions:this.tooltipOptions,isDraped:this._createGraphicState?this._createGraphicState.isDraped:"on-the-ground"===(0,elevationInfoUtils/* getEffectiveElevationMode */.wF)(this.hasZ,this.elevationInfo),cursor:this.cursor})}onActiveVertexChanged(e){const{view:n}=this;if(this._activeVertexVisualElement)return this._activeVertexVisualElement.vertices=[e],this._updateVerticalLineVisualElement(e),(0,handleUtils/* makeHandle */.hA)();const a=this._settings,c=a.manipulators.vertex,p=new VerticesVisualElement_d({view:n,spatialReference:n.spatialReference,vertices:[e],elevationInfo:this.internalGraphicsLayer.elevationInfo,size:c.size,outlineSize:c.outlineSize,renderOccluded:c.renderOccluded,attached:!1,isDecoration:!0});this._activeVertexVisualElement=p;const h=a.visualElements.zVerticalLine,m=new ExtendedLineVisualElement_G({view:n,extensionType:h.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,isDecoration:!0});this._verticalLineVisualElement=m;const u=(0,handleUtils/* handlesGroup */.vE)([(0,reactiveUtils/* watch */.wB)((()=>a.visualElements.zVerticalLine),(e=>e.apply(m)),reactiveUtils/* initial */.Vh),(0,reactiveUtils/* watch */.wB)((()=>({selectedColor:(0,colorUtils/* unitRGBAFromColor */.QP)(a.colors.selected),outlineColor:(0,colorUtils/* unitRGBAFromColor */.QP)(a.manipulators.vertex.outlineColor)})),(({selectedColor:e,outlineColor:t})=>{p.color=e,p.outlineColor=t}),reactiveUtils/* initial */.Vh),(0,handleUtils/* makeHandle */.hA)((()=>{this._activeVertexVisualElement=(0,maybe/* destroyMaybe */.pR)(this._activeVertexVisualElement),this._verticalLineVisualElement=(0,maybe/* destroyMaybe */.pR)(this._verticalLineVisualElement)}))]);return p.attached=!0,u}_updateVerticalLineVisualElement(e){const t=this._verticalLineVisualElement;if(!t)return;const{renderCoordsHelper:i,elevationProvider:r}=this.view;(0,vec3.s)(DrawGraphicTool3D_M,e[0],e[1],e[2]),DrawGraphicTool3D_b.setFromElevationInfo(this.elevationInfo),DrawGraphicTool3D_M[2]=(0,elevationAlignmentUtils/* evaluateElevationAlignmentAtPoint */.nG)(DrawGraphicTool3D_M,r,DrawGraphicTool3D_b,i);i.toRenderCoords(DrawGraphicTool3D_M,this.view.spatialReference,DrawGraphicTool3D_M)?(t.setStartEndFromWorldDownAtLocation(DrawGraphicTool3D_M),t.attached=!0):t.attached=!1}onOutlineChanged(e){if(this._outlineVisualElement)return this._outlineVisualElement.geometry=e,(0,handleUtils/* makeHandle */.hA)();const t=this.internalGraphicsLayer.elevationInfo,{view:n}=this,a=this._settings,c=new OutlineVisualElement_w({view:n,geometry:e,elevationInfo:t,isDraped:this._createGraphicState?this._createGraphicState.isDraped:"on-the-ground"===(0,elevationInfoUtils/* getEffectiveElevationMode */.wF)(this.hasZ,t),attached:!1,isDecoration:!0});this._outlineVisualElement=c;const p=(0,handleUtils/* handlesGroup */.vE)([(0,reactiveUtils/* watch */.wB)((()=>a.visualElements.lineGraphics.outline),(e=>e.apply(c)),reactiveUtils/* initial */.Vh),(0,reactiveUtils/* watch */.wB)((()=>a.visualElements.lineGraphics.shadowStyle),(e=>e.apply(c)),reactiveUtils/* initial */.Vh),(0,handleUtils/* makeHandle */.hA)((()=>{this._outlineVisualElement=(0,maybe/* destroyMaybe */.pR)(this._outlineVisualElement)}))]);return c.attached=!0,c.laserlineEnabled=!0,p}onRegularVerticesChanged(e){if(this._verticesVisualElement)return this._verticesVisualElement.vertices=e,(0,handleUtils/* makeHandle */.hA)();const{view:n}=this,a=this._settings,c=a.manipulators.vertex,p=new VerticesVisualElement_d({view:n,spatialReference:n.spatialReference,vertices:e,elevationInfo:this.internalGraphicsLayer.elevationInfo,size:c.size,outlineSize:c.outlineSize,renderOccluded:c.renderOccluded,attached:!1,isDecoration:!0}),h=(0,handleUtils/* handlesGroup */.vE)([(0,reactiveUtils/* watch */.wB)((()=>({color:(0,colorUtils/* unitRGBAFromColor */.QP)(a.manipulators.vertex.color),outlineColor:(0,colorUtils/* unitRGBAFromColor */.QP)(a.manipulators.vertex.outlineColor)})),(({color:e,outlineColor:t})=>{p.color=e,p.outlineColor=t}),reactiveUtils/* initial */.Vh),(0,handleUtils/* makeHandle */.hA)((()=>{this._verticesVisualElement=(0,maybe/* destroyMaybe */.pR)(this._verticesVisualElement)}))]);return p.attached=!0,this._verticesVisualElement=p,h}updateGraphicGeometry(e,t){if("mesh"===this.geometryType&&"point"===t?.type){const i=this.geometryToPlace;return i&&i.centerAt(t),void(i&&e.geometry===i?i.vertexSpace.isGeoreferenced?e.notifyGeometryChanged():e.notifyMeshTransformChanged():e.geometry=i)}super.updateGraphicGeometry(e,t)}_setupLoadingIndicator(e){const{drawOperation:t}=this;if(!this.geometryToPlace)return t.loading=!1,null;t.loading=!0;const s=(0,handleUtils/* makeHandle */.hA)((()=>{t.loading=!1}));let o;const l=()=>o&&cancelAnimationFrame(o);return (0,handleUtils/* handlesGroup */.vE)([(0,reactiveUtils/* when */.z7)((()=>e.displaying),(()=>{l(),o=requestAnimationFrame((()=>s.remove()))}),{...reactiveUtils/* syncAndInitial */.pc,once:!0}),(0,handleUtils/* makeHandle */.hA)(l),s])}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],DrawGraphicTool3D_z.prototype,"elevationInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],DrawGraphicTool3D_z.prototype,"geometryType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawGraphicTool3D_z.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],DrawGraphicTool3D_z.prototype,"view",void 0),DrawGraphicTool3D_z=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D")],DrawGraphicTool3D_z);const DrawGraphicTool3D_b=new ElevationContext/* ElevationContext */.F,DrawGraphicTool3D_M=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Collection.js + 1 modules
var Collection = __webpack_require__(48982);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/quantityUtils.js
var quantityUtils = __webpack_require__(73569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/support/UpdatingHandles.js
var UpdatingHandles = __webpack_require__(4238);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js
var hydratedFeatures = __webpack_require__(85174);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry.js
var geometry = __webpack_require__(17639);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/compilerUtils.js
var compilerUtils = __webpack_require__(73345);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat3.js
var mat3 = __webpack_require__(46615);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat3f64.js
var mat3f64 = __webpack_require__(76287);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/ellipsoidUtils.js
var ellipsoidUtils = __webpack_require__(47936);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection.js
var geometry_projection = __webpack_require__(97303);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/localRotationUtils.js
var localRotationUtils = __webpack_require__(90328);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectors.js
var projectors = __webpack_require__(12943);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/aaBoundingRect.js
var aaBoundingRect = __webpack_require__(80510);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/plane.js
var plane = __webpack_require__(38774);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/ElevationProvider.js
var ElevationProvider = __webpack_require__(27054);
;// ../node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function ray_m(e,n,t=(0,ray/* create */.vt)()){return ray_g(e,(0,screenUtils/* screenPointObjectToArray */.WA)(n),t),(0,vec3.n)(t.direction,t.direction),t}function ray_g(r,n,o){return ray_p(r,r.screenToRender(n,(0,screenUtils/* castRenderScreenPointArray3 */.sc)(vectorStacks/* sv3d */.rq.get())),o)}function ray_p(r,o,c){const i=(0,screenUtils/* castRenderScreenPointArray3 */.sc)((0,vec2.j)(vectorStacks/* sv3d */.rq.get(),o));if(i[2]=0,!r.unprojectFromRenderScreen(i,c.origin))return null;const s=(0,screenUtils/* castRenderScreenPointArray3 */.sc)((0,vec2.j)(vectorStacks/* sv3d */.rq.get(),o));s[2]=1;const m=r.unprojectFromRenderScreen(s,vectorStacks/* sv3d */.rq.get());return null==m?null:((0,vec3.f)(c.direction,m,c.origin),c)}function ray_f(r,n,o){return ray_l(r,r.screenToRender(n,e(u.get())),o)}function ray_l(r,e,n){c(n.origin,r.eye);const o=i(u.get(),e[0],e[1],1),s=r.unprojectFromRenderScreen(o,u.get());return null==s?null:(t(n.direction,s,n.origin),n)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js + 1 modules
var Camera = __webpack_require__(36549);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/interfaces.js
var interactive_interfaces = __webpack_require__(27877);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Point.js + 1 modules
var Point = __webpack_require__(78632);
;// ../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Manipulator3D_${constructor(e){this.metadata=void 0,this._camera=new Camera/* Camera */.i,this._elevation={offset:0,override:null},this.collisionType={type:"point"},this.collisionPriority=0,this._renderObjects=new Array,this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=(0,mat4f64.a)(),this._worldFrame=null,this._renderLocation=(0,vec3f64.c)(),this._renderLocationDirty=!0,this._location=new Point/* default */.A({x:0,y:0,z:0}),this._elevationAlignedLocation=new Point/* default */.A,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.consumesClicks=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.None,this._focused=!1,this.events=new Evented/* default */.A.EventEmitter,this._screenLocation={screenPointArray:(0,screenUtils/* createScreenPointArray */.gs)(),renderScreenPointArray:(0,screenUtils/* createRenderScreenPointArray3 */.r_)(),pixelSize:0},this._screenLocationDirty=!0,this._engineResourcesAddedToStage=!1,this._attached=!1,this._location.spatialReference=e.view.spatialReference,Object.assign(this,e);const i=this.view.state?.camera;i&&this._camera.copyFrom(i)}destroy(){this._applyObjectTransform=fe,this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}get _stage(){return this.view?._stage}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),(0,handleUtils/* makeHandle */.hA)((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){ee(e)&&(this._screenLocationDirty=!0),(0,mat4.h)(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=(0,mat4f64.a)()),te(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){(0,hydratedFeatures/* clonePoint */.EL)(e,this._location),this._notifyLocationChanged()}_notifyLocationChanged(){this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){(0,hydratedFeatures/* clonePoint */.EL)(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}_updateElevationAlignedLocation(){const e=null!=this._elevation.override?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y,this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=(0,hydratedFeatures/* hydratedSpatialReference */.RS)(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit("focus-changed",{action:!0===e?"focus":"unfocus"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(ee(this._modelTransform)){const t=this._calculateModelTransformOffset(ge);e=(0,vec3.g)(t,t,this.renderLocation)}else e=this.renderLocation;this._camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}get attached(){return this._attached}intersectionDistance(t,i){if(!this.available)return null;const s=(0,screenUtils/* screenPointObjectToArray */.WA)(t,ie),o=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case"point":if((0,vec2.k)(this.screenLocation.screenPointArray,s)<o*o)return this.screenLocation.renderScreenPointArray[2]+n;break;case"line":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ae),r=o*this.screenLocation.pixelSize,a=ray_g(this._camera,s,oe);if(null==a)return null;for(const s of e){if(0===s.length)continue;const e=(0,vec3.e)(le,s[0],i);for(let t=1;t<s.length;t++){const o=(0,vec3.e)(he,s[t],i),l=(0,lineSegment/* closestRayDistance2 */.dz)((0,lineSegment/* fromPoints */.Cr)(e,o,se),a);if(null!=l&&l<r*r){const t=(0,vec3.g)(vectorStacks/* sv3d */.rq.get(),e,o);(0,vec3.i)(t,t,.5);const i=(0,screenUtils/* castRenderScreenPointArray */.rX)(vectorStacks/* sv3d */.rq.get());return this._camera.projectToRenderScreen(t,i),i[2]+n}(0,vec3.c)(e,o)}}break}case"disc":{const e=this.collisionType.direction,t=this.collisionType.offset??vec3f64.Z,i=this._getWorldToScreenObjectScale(),r=this._calculateObjectTransform(i,ae),a=o*this.screenLocation.pixelSize,c=ray_g(this._camera,s,oe);if(null==c)return null;const h=(0,mat3.f)(ne,r),d=(0,vec3.t)(_e,e,h),_=(0,vec3.e)(ue,t,r);(0,plane/* fromPositionAndNormal */.O_)(_,d,ce);const u=de;if((0,plane/* intersectRay */.Ui)(ce,c,u)&&(0,vec3.a)(u,_)<a*a)return this.screenLocation.renderScreenPointArray[2]+n;break}case"ribbon":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),r=this._calculateObjectTransform(i,ae),a=o*this._camera.computeScreenPixelSizeAt(this.renderLocation),h=ray_g(this._camera,s,oe);if(null==h)return null;const d=(0,mat3.f)(ne,r),_=(0,vec3.t)(_e,t,d),u=this._calculateModelTransformPosition(ue);(0,plane/* fromPositionAndNormal */.O_)(u,_,ce);const g=de;if(!(0,plane/* intersectRay */.Ui)(ce,h,g))break;for(const s of e){if(0===s.length)continue;const e=(0,vec3.e)(le,s[0],r);for(let t=1;t<s.length;t++){const i=(0,vec3.e)(he,s[t],r),o=(0,lineSegment/* distance2 */.kb)((0,lineSegment/* fromPoints */.Cr)(e,i,se),g);if(null!=o&&o<a*a){const t=(0,vec3.g)(vectorStacks/* sv3d */.rq.get(),e,i);(0,vec3.i)(t,t,.5);const s=(0,screenUtils/* castRenderScreenPointArray */.rX)(vectorStacks/* sv3d */.rq.get());return this._camera.projectToRenderScreen(t,s),s[2]+n}(0,vec3.c)(e,i)}}break}default:(0,compilerUtils/* neverReached */.Xb)(this.collisionType)}return null}attach(e={manipulator3D:{}}){const t=this._stage;if(!t)return;const i=e.manipulator3D;null==i.engineLayerId?(this._engineLayer=new WebGLLayer/* WebGLLayer */.x(t,{pickable:!1,updatePolicy:UpdatePolicy/* UpdatePolicy */.q.SYNC}),i.engineLayerId=this._engineLayer.id):t?.getObject&&(this._engineLayer=t.getObject(i.engineLayerId)),i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,null==this._materialIdReferences&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),(0,geometry_projection.canProjectWithoutEngine)(this._location.spatialReference,this.view.spatialReference)||(this.location=new Point/* default */.A({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;this._removeResourcesFromStage(),i&&(t.engineLayerId=null,(0,maybe/* destroyMaybe */.pR)(this._engineLayer)),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){(0,geometry_projection.projectPoint)(this.location,me,e.spatialReference)&&(0,aaBoundingRect/* containsPointObject */.vR)(e.extent,me)&&this._notifyLocationChanged()}_evaluateElevationAlignment(){if(null==this.elevationInfo)return;let e=null,t=0;const i=this.elevationInfo.offset??0;switch(this.elevationInfo.mode){case"on-the-ground":e=(0,ElevationProvider/* getElevationAtPoint */.R1)(this.view.elevationProvider,this.location,"ground")??0;break;case"relative-to-ground":t=((0,ElevationProvider/* getElevationAtPoint */.R1)(this.view.elevationProvider,this.location,"ground")??0)+i;break;case"relative-to-scene":t=((0,ElevationProvider/* getElevationAtPoint */.R1)(this.view.elevationProvider,this.location,"scene")??0)+i;break;case"absolute-height":t=i}return t!==this._elevation.offset||e!==this._elevation.override?(this._elevation.offset=t,void(this._elevation.override=e)):void 0}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ae;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?interactive_interfaces/* ManipulatorStateFlags */.p7.Focused:interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused)|(this.selected?interactive_interfaces/* ManipulatorStateFlags */.p7.Selected:interactive_interfaces/* ManipulatorStateFlags */.p7.Unselected),o=this._noDisplayCount>0;for(const{stateMask:n,objects:r}of i){if(o){for(const e of r)e.visible=!1;continue}const e=(n&interactive_interfaces/* ManipulatorStateFlags */.p7.All)!==interactive_interfaces/* ManipulatorStateFlags */.p7.None,i=(n&interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.All)!==interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.None,a=!e||(s&n)==(n&interactive_interfaces/* ManipulatorStateFlags */.p7.All),c=!i||(this.state&n)==(n&interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.All);if(a&&c)for(const s of r)s.visible=!0,s.transformation=t;else for(const t of r)t.visible=!1}}_ensureEngineResources(){if(null==this._engineResources){const e=this._engineLayer,t=[],i=new Set;this.renderObjects.forEach((({geometry:{material:e}})=>{i.has(e)||(t.push(e),i.add(e))}));const s=new Map;this._renderObjects.forEach((e=>{const t=new Object3D/* Object3D */.B({castShadow:!1,geometries:[e.geometry]}),i=s.get(e.stateMask)||[];i.push(t),s.set(e.stateMask,i)}));const o=[];s.forEach(((e,t)=>o.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:o,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){const e=this._stage;if(this._engineResourcesAddedToStage||null==this._engineResources||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;s.forEach((t=>{const i=this._materialIdReferences,s=i.get(t.id)||0;0===s&&e.add(t),i.set(t.id,s+1)})),t.forEach((({objects:t})=>{i.addMany(t),e.addMany(t)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(){const e=this._stage;if(!this._engineResourcesAddedToStage||null==this._engineResources||!e)return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:t})=>{i.removeMany(t),e.removeMany(t)})),s.forEach((t=>{const i=this._materialIdReferences,s=i.get(t.id);1===s?(e.remove(t),i.delete(t.id)):i.set(t.id,s-1)})),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*("touch"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,re);return (0,vec3.s)(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return (0,vec3.f)(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return (0,mat4.s)(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&(0,mat4.m)(t,t,this._worldFrame),(0,mat4.m)(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,null!=this._applyObjectTransform&&this._applyObjectTransform(t),t}get test(){let e=!1;if(null!=this._engineResources)for(const t of this._engineResources.objectsByState){for(const i of t.objects)if(i.visible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function ee(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function te(e,t,i){switch(e.viewingMode){case"local":return (0,mat4.g)(i),!0;case"global":{const o=(0,ellipsoidUtils/* getReferenceEllipsoid */.tO)(e.renderCoordsHelper.spatialReference);return (0,projectors/* sphericalPCPFtoLonLatElevation */.n4)(t,0,le,0,o.radius),(0,localRotationUtils/* computeENUToSphericalPCPFLocalRotation */.y)((0,mathUtils/* deg2rad */.kU)(le[0]),(0,mathUtils/* deg2rad */.kU)(le[1]),i),!0}}}const ie=(0,screenUtils/* createScreenPointArray */.gs)(),se=(0,lineSegment/* create */.vt)(),oe=(0,ray/* create */.vt)(),ne=(0,mat3f64.a)(),re=(0,mat4f64.a)(),ae=(0,mat4f64.a)(),ce=(0,plane/* create */.vt)(),le=(0,vec3f64.c)(),he=(0,vec3f64.c)(),de=(0,vec3f64.c)(),_e=(0,vec3f64.c)(),ue=(0,vec3f64.c)(),ge=(0,vec3f64.c)(),me=new Point/* default */.A({x:0,y:0,z:0,spatialReference:null}),fe=()=>{};

;// ../node_modules/@arcgis/core/views/3d/interactive/RenderObject.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class RenderObject_e{constructor(e,s=interactive_interfaces/* ManipulatorStateFlags */.p7.None){this.geometry=e,this.stateMask=s}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js
var graphicUtils = __webpack_require__(54096);
;// ../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function manipulatorUtils_w(t,r=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,n=!0){const o=(0,colorUtils/* colorVectorToColorAndOpacity */.pf)(t),c=!(t[3]<1);return n?new ShadedColorMaterial_j({color:o,writeDepth:c,cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,renderOccluded:r,isDecoration:!0}):new ColorMaterial/* ColorMaterial */.v({color:o,writeDepth:c,cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,renderOccluded:r,isDecoration:!0})}function manipulatorUtils_b(t,r=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent){const n=(0,colorUtils/* colorVectorToColorAndOpacity */.pf)(t);return new ColorMaterial/* ColorMaterial */.v({color:n,writeDepth:!0,cullFace:basicInterfaces/* CullFaceOptions */.s2.Front,renderOccluded:r,isDecoration:!0})}const manipulatorUtils_O=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1});function manipulatorUtils_y(e,t,r=h.None){const n=manipulatorUtils_w(t),o=[new u(f(n,1,32,32),r)];return new s({view:e,renderObjects:o})}const manipulatorUtils_D=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function manipulatorUtils_F(e,c,l,s){const u=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),e,l),m=manipulatorUtils_M(u,(0,vec3.b)(vectorStacks/* sv3d */.rq.get(),s,u),l,vectorStacks/* sm4d */.Rc.get());(0,mat4.i)(m,m);const p=(0,vec3.e)(vectorStacks/* sv3d */.rq.get(),c,m);return Math.atan2(p[1],p[0])}function manipulatorUtils_M(e,t,r,o){const a=(0,vec3.n)(vectorStacks/* sv3d */.rq.get(),e),l=(0,vec3.n)(vectorStacks/* sv3d */.rq.get(),t),s=(0,vec3.b)(vectorStacks/* sv3d */.rq.get(),a,l);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=0,o[4]=l[0],o[5]=l[1],o[6]=l[2],o[7]=0,o[8]=s[0],o[9]=s[1],o[10]=s[2],o[11]=0,o[12]=r[0],o[13]=r[1],o[14]=r[2],o[15]=1,o}function manipulatorUtils_k(e,t){const r=e.getViewForGraphic(t);return null!=r&&"computeAttachmentOrigin"in r?r.computeAttachmentOrigin(t,e.spatialReference):null}function manipulatorUtils_v(e,t,r){const n=manipulatorUtils_k(e,r);null==n?manipulatorUtils_A(t,r.geometry):t.elevationAlignedLocation=n}function manipulatorUtils_A(e,t){if(null==t)return;const r="mesh"===t.type?t.anchor:(0,graphicUtils/* computeCentroid */.W$)(t);null!=r&&(e.location=(0,hydratedFeatures/* hydrateGeometry */.wZ)(r))}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/geometry3dUtils.js
var geometry3dUtils = __webpack_require__(29106);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/geometryUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function geometryUtils_o(n){const o=geometryUtils_r(n);return (0,vec2f64.f)(Math.cos(o),Math.sin(o))}function geometryUtils_r(t){if(null==t||"polyline"!==t.type&&"polygon"!==t.type)return 0;const o="polyline"===t.type?t.paths:t.rings;for(const r of o)for(let t=0;t<r.length-1;t++){const o=r[t],e=r[t+1],s=o[0]-e[0],p=o[1]-e[1];if(s*s+p*p>geometry3dUtils/* epsilon */.Ni)return Math.atan2(e[1]-o[1],e[0]-o[0])}return 0}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/interactive/editingTools/isSupportedGraphicUtils.js
var isSupportedGraphicUtils = __webpack_require__(21292);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function manipulatorUtils_n(e,n=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(e)){return"on-the-ground"!==n.mode&&!(null==e.geometry||!e.geometry.hasZ)}function manipulatorUtils_t(o,n){let t=null;const r=o.events.on("grab-changed",(e=>{null!=t&&(t.remove(),t=null),"start"===e.action?(t=o.disableDisplay(),n&&n(e)):n&&n(e)}));return e((()=>{t?.remove(),r.remove()}))}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/signal.js
var signal = __webpack_require__(40315);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/GrabbingState.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var GrabbingState_N;!function(N){N[N.NONE=0]="NONE",N[N.ANY=1]="ANY",N[N.Z=2]="Z",N[N.XY=4]="XY"}(GrabbingState_N||(GrabbingState_N={}));

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorType.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var ManipulatorType_A;!function(A){A[A.TRANSLATE_Z=0]="TRANSLATE_Z",A[A.TRANSLATE_XY=1]="TRANSLATE_XY",A[A.SCALE=2]="SCALE",A[A.ROTATE=3]="ROTATE",A[A.SCALE_ROTATE=4]="SCALE_ROTATE"}(ManipulatorType_A||(ManipulatorType_A={}));

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ManipulatorState_a{constructor(){this.grabbingState=GrabbingState_N.NONE,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(a){this.grabbingState=GrabbingState_N.NONE,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,a.forEachManipulator(((a,s)=>{if(s===ManipulatorType_A.TRANSLATE_Z&&(this.zManipulator=a),a instanceof Manipulator3D_$&&(a.selected&&(0===this.numSelected&&(this.firstSelected=a),this.numSelected++),null==this.firstGrabbedXY&&a.grabbing&&s===ManipulatorType_A.TRANSLATE_XY&&(this.firstGrabbedXY=a)),a.grabbing)switch(this.grabbingState|=GrabbingState_N.ANY,s){case ManipulatorType_A.TRANSLATE_Z:this.grabbingState|=GrabbingState_N.Z;break;case ManipulatorType_A.TRANSLATE_XY:this.grabbingState|=GrabbingState_N.XY}}))}}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function lineGraphicVisualElementUtils_j(t){const{view:a,graphic:n}=t,i=new GraphicState_e({graphic:n}),l=lineGraphicVisualElementUtils_M(t,i),o=[l,lineGraphicVisualElementUtils_T(t,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>(0,handleUtils/* removeHandles */.a0)(o)}}function lineGraphicVisualElementUtils_M(e,n){const{view:i,graphic:r}=e,s=new OutlineVisualElement_w({view:i,geometry:lineGraphicVisualElementUtils_L(r)?r.geometry:null,elevationInfo:(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(r),attached:!1,isDecoration:!0}),p=new settings_z({getTheme:()=>i.effectiveTheme}),c=()=>{s.attached=n.displaying},h=(0,handleUtils/* handlesGroup */.vE)([(0,reactiveUtils/* watch */.wB)((()=>p.visualElements.lineGraphics.outline),(e=>e.apply(s)),reactiveUtils/* initial */.Vh),(0,reactiveUtils/* watch */.wB)((()=>p.visualElements.lineGraphics.shadowStyle),(e=>e.apply(s)),reactiveUtils/* initial */.Vh),(0,reactiveUtils/* watch */.wB)((()=>n.displaying),c),(0,reactiveUtils/* watch */.wB)((()=>n.isDraped),(e=>{s.isDraped=e})),n.on("changed",(()=>s.geometry=lineGraphicVisualElementUtils_L(r)?r.geometry:null)),(0,handleUtils/* destroyHandle */.DQ)(s)]);return c(),{visualElement:s,remove:()=>h.remove()}}function lineGraphicVisualElementUtils_T(s,p,c){const{graphic:h,view:u}=s,f=[],w=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(h),S="on-the-ground"===w.mode||!w.offset&&"absolute-height"!==w.mode,j=new ManipulatorState_a,M=new settings_z({getTheme:()=>u.effectiveTheme}),T=M.visualElements,A=new ExtendedLineVisualElement_G({view:u,extensionType:T.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,isDecoration:!0}),C=(0,mathUtils/* deg2rad */.kU)(T.heightPlaneAngleCutoff),O=new LaserlineVisualElement_c({view:u,attached:!1,angleCutoff:C,isDecoration:!0}),V=(0,signal/* signal */.v)(1);f.push((0,reactiveUtils/* watch */.wB)((()=>({lineShadowStyle:M.visualElements.lineGraphics.shadowStyle,pointShadowStyle:M.visualElements.pointGraphics.shadowStyle,alpha:V.value})),(({lineShadowStyle:e,pointShadowStyle:t,alpha:a})=>{e.apply(p,a),t.apply(A,a)}),reactiveUtils/* initial */.Vh));const k=(0,signal/* signal */.v)(1);f.push((0,reactiveUtils/* watch */.wB)((()=>({heightPlane:M.visualElements.heightPlane,alpha:k.value})),(({heightPlane:e,alpha:t})=>e.apply(O,t)),reactiveUtils/* initial */.Vh));const x=()=>{if(j.update(s),!c.displaying||S&&(c.isDraped||!lineGraphicVisualElementUtils_L(h)||!h.geometry.hasZ))return p.laserlineEnabled=!1,A.attached=!1,void(O.attached=!1);p.laserlineEnabled=!0;const e=j.grabbingState&GrabbingState_N.XY?T.laserlineAlphaMultiplier:1;V.value=e;const t=j.grabbingState&GrabbingState_N.Z?T.laserlineAlphaMultiplier:1;k.value=t,lineGraphicVisualElementUtils_D(A,j),lineGraphicVisualElementUtils_G(s,p,O,j)};f.push((0,reactiveUtils/* watch */.wB)((()=>M.visualElements.zVerticalLine),(e=>e.apply(A)),reactiveUtils/* initial */.Vh)),f.push(c.on("changed",x),(0,reactiveUtils/* watch */.wB)((()=>c.displaying),x),p.events.on("attachment-origin-changed",x),(0,handleUtils/* destroyHandle */.DQ)(A),(0,handleUtils/* destroyHandle */.DQ)(O));const P=[],U=()=>{(0,handleUtils/* removeHandles */.a0)(P),P.length=0,s.forEachManipulator((e=>P.push(e.events.on("grab-changed",x)))),s.forEachManipulator((e=>P.push(e.events.on("select-changed",x)))),x()};return U(),f.push(s.onManipulatorsChanged(U),(0,handleUtils/* refHandle */.a2)((()=>(0,handleUtils/* handlesGroup */.vE)(P)))),(0,handleUtils/* handlesGroup */.vE)(f)}function lineGraphicVisualElementUtils_D(e,t){const a=1===t.numSelected?t.firstSelected:t.numSelected>1&&null!=t.firstGrabbedXY?t.firstGrabbedXY:null;null!=a?(e.setStartEndFromWorldDownAtLocation(a.renderLocation),e.attached=!0):e.attached=!1}function lineGraphicVisualElementUtils_G(e,t,a,n){if(n.numSelected>0){(0,vec3.s)(lineGraphicVisualElementUtils_A,0,0,0);let t=0;e.forEachManipulator(((e,a)=>{a===ManipulatorType_A.TRANSLATE_XY&&e.selected&&e instanceof Manipulator3D_$&&((0,vec3.g)(lineGraphicVisualElementUtils_A,lineGraphicVisualElementUtils_A,e.renderLocation),t++)})),t>0?(a.heightManifoldTarget=(0,vec3.i)(lineGraphicVisualElementUtils_A,lineGraphicVisualElementUtils_A,1/t),a.attached=!0):a.attached=!1}else{const n=t.attachmentOrigin;null!=n&&e.view.renderCoordsHelper.toRenderCoords(n,lineGraphicVisualElementUtils_A)?(a.heightManifoldTarget=lineGraphicVisualElementUtils_A,a.attached=!0):a.attached=!1}}function lineGraphicVisualElementUtils_L(e){return null!=e.geometry&&("polygon"===e.geometry.type||"polyline"===e.geometry.type)}const lineGraphicVisualElementUtils_A=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectPointToVector.js
var projectPointToVector = __webpack_require__(42609);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/originGraphicVisualElementUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function originGraphicVisualElementUtils_P(t){const{view:n,graphic:o}=t,i=new GraphicState_e({graphic:o}),a=[],r=originGraphicVisualElementUtils_V(t,i,a);return originGraphicVisualElementUtils_x(t,i,a,r),a.push(n.trackGraphicState(i)),{visualElement:r,remove:()=>(0,handleUtils/* removeHandles */.a0)(a)}}function originGraphicVisualElementUtils_x(e,n,l,p){const{view:m,graphic:d}=e,E=new settings_z({getTheme:()=>m.effectiveTheme}),T=new ExtendedLineVisualElement_G({view:m,extensionType:E.visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,isDecoration:!0});l.push((0,reactiveUtils/* watch */.wB)((()=>E.visualElements.zVerticalLine),(e=>e.apply(T)),reactiveUtils/* initial */.Vh));const P=new LaserlineVisualElement_c({view:m,intersectsLineInfinite:!0,attached:!1,isDecoration:!0}),x=(0,mathUtils/* deg2rad */.kU)(E.visualElements.heightPlaneAngleCutoff),V=new LaserlineVisualElement_c({view:m,attached:!1,angleCutoff:x,isDecoration:!0}),L=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(e.graphic),M=ElevationContext/* ElevationContext */.F.fromElevationInfo(L),C="on-the-ground"===L.mode||!L.offset&&"absolute-height"!==L.mode,G=new ManipulatorState_a,B=(0,signal/* signal */.v)(1);l.push((0,reactiveUtils/* watch */.wB)((()=>({heightPlane:E.visualElements.heightPlane,alpha:B.value})),(({heightPlane:e,alpha:t})=>e.apply(V,t)),reactiveUtils/* initial */.Vh));const I=(0,signal/* signal */.v)(1);l.push((0,reactiveUtils/* watch */.wB)((()=>({shadowStyle:E.visualElements.pointGraphics.shadowStyle,alpha:I.value})),(({shadowStyle:e,alpha:t})=>e.apply(P,t)),reactiveUtils/* initial */.Vh));const k=()=>{G.update(e);const t=originGraphicVisualElementUtils_A(d),o=C&&(n.isDraped||null==t||!t.hasZ);let i=!0;if(o||null==t)i=!1;else{const e=(0,elevationAlignmentUtils/* evaluateElevationAlignmentAtPoint */.nG)(t,m.elevationProvider,M,m.renderCoordsHelper);(0,vec3.s)(originGraphicVisualElementUtils_R,t.x,t.y,e),(0,projectVectorToVector/* projectVectorToVector */.F)(originGraphicVisualElementUtils_R,t.spatialReference,originGraphicVisualElementUtils_R,m.renderCoordsHelper.spatialReference),T.setStartEndFromWorldDownAtLocation(originGraphicVisualElementUtils_R),P.intersectsWorldUpAtLocation=originGraphicVisualElementUtils_R}const a=G.grabbingState&GrabbingState_N.Z?E.visualElements.laserlineAlphaMultiplier:1;B.value=a;const r=(0,aaBoundingBox/* empty */.Ie)(originGraphicVisualElementUtils_U);!o&&n.displaying&&p.calculateMapBounds(r)&&(0,projectVectorToVector/* projectVectorToVector */.F)((0,aaBoundingBox/* getMin */.pg)(r,originGraphicVisualElementUtils_R),m.spatialReference,originGraphicVisualElementUtils_R,m.renderCoordsHelper.spatialReference)?(V.heightManifoldTarget=originGraphicVisualElementUtils_R,V.attached=!0):V.attached=!1;const l=G.grabbingState&GrabbingState_N.XY?E.visualElements.laserlineAlphaMultiplier:1;I.value=l;const f=i&&n.displaying&&!o;P.attached=f,T.attached=f};l.push((0,reactiveUtils/* watch */.wB)((()=>[n.displaying,n.isDraped]),k),n.on("changed",k)),e.forEachManipulator((e=>{l.push(e.events.on("grab-changed",k))})),l.push((0,handleUtils/* destroyHandle */.DQ)(P)),l.push((0,handleUtils/* destroyHandle */.DQ)(T)),l.push((0,handleUtils/* destroyHandle */.DQ)(V)),k()}function originGraphicVisualElementUtils_V(e,n,o){const{view:i,graphic:a}=e,r=new PointVisualElement_x({view:i,geometry:originGraphicVisualElementUtils_A(a),elevationInfo:(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(a),isDecoration:!0});return originGraphicVisualElementUtils_L(e,r,n,o),o.push((0,handleUtils/* destroyHandle */.DQ)(r)),r}function originGraphicVisualElementUtils_A(e){const t=e.geometry;return null==t?null:"point"===t.type?t:"mesh"===t.type?t.anchor.clone():null}function originGraphicVisualElementUtils_L(e,t,n,o){const r=()=>{t.attached=n.displaying},s=new settings_z({getTheme:()=>e.view.effectiveTheme});originGraphicVisualElementUtils_M(e,t,n,o),s.visualElements.pointGraphics.outline.apply(t),o.push((0,reactiveUtils/* watch */.wB)((()=>n.displaying),r,reactiveUtils/* initial */.Vh))}function originGraphicVisualElementUtils_M(e,t,o,i){const{view:a,graphic:r}=e;let s=null;const l=e=>{null!=s&&(s.remove(),s=null),o.isDraped&&null!=e&&(s=originGraphicVisualElementUtils_C(a,e,(()=>{t.geometry=e})))},p=()=>{const e=originGraphicVisualElementUtils_A(r);l(e),t.geometry=e};i.push(o.on("changed",p),(0,handleUtils/* refHandle */.a2)((()=>s))),p()}function originGraphicVisualElementUtils_C(e,t,n){const o=e.elevationProvider.spatialReference;(0,projectPointToVector/* projectPointToVector */.g)(t,originGraphicVisualElementUtils_R,o);const i=originGraphicVisualElementUtils_R[0],a=originGraphicVisualElementUtils_R[1];return e.elevationProvider.on("elevation-change",(e=>{(0,aaBoundingRect/* containsXY */.Rj)(e.extent,i,a)&&n()}))}const originGraphicVisualElementUtils_R=(0,vec3f64.c)(),originGraphicVisualElementUtils_U=(0,aaBoundingBox/* create */.vt)();

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function visualElementUtils_i(i){switch(i.graphic.geometry.type){case"point":case"mesh":return originGraphicVisualElementUtils_P(i);case"polygon":case"polyline":return lineGraphicVisualElementUtils_j(i);default:return null}}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const config_t=128,config_a=70,config_e=80,config_h=.02,config_M=54,config_c=100,config_o=Math.ceil(config_a/3*2),config_I=160,config_P=.5,config_i=24,config_l=9,config_n=config_I+30,config_p=config_I+53,config_r=60,config_s=23,config_x=5*Math.PI/12,config_b=1*Math.PI/3,config_d=10,config_f=.2,config_g=30,config_j=53,config_k=.2,config_m=.3,config_q=200,config_u=3,config_v=1e6;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Handles.js
var Handles = __webpack_require__(1436);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Manipulation_t{constructor(){this._available=!0}set location(a){this._forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this._forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this._forEachManipulator3D((t=>t.elevationInfo=a))}get renderLocation(){let a;return this._forEachManipulator3D((t=>{a||(a=t.renderLocation)})),a}get available(){return this._available}set available(a){this._available=a,this._forEachManipulator3D((t=>t.available=a))}get hovering(){return this.someManipulator((a=>a.hovering))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}_forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof Manipulator3D_$&&t(i,o)}))}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/vector.js
var vector = __webpack_require__(16597);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js
var Intersector = __webpack_require__(74515);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js
var IntersectorInterfaces = __webpack_require__(44912);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/verticalOffsetUtils.js
var verticalOffsetUtils = __webpack_require__(689);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js
var dragEventPipeline = __webpack_require__(74321);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function dragEventPipeline3D_H(e,n){return dragEventPipeline3D_O(e,(()=>n))}function dragEventPipeline3D_U(e){return dragEventPipeline3D_O(e,(e=>e.plane))}function dragEventPipeline3D_O(r,t){const o=(0,vec3f64.c)(),l=(0,vec3f64.c)();let s=!1;return c=>{const u=t(c);if("start"===c.action){const t=(0,screenUtils/* screenPointObjectToArray */.WA)(c.screenStart,(0,screenUtils/* castScreenPointArray */.PR)(vectorStacks/* sv2d */.oG.get())),l=ray_g(r.state.camera,t,dragEventPipeline3D_B);null!=l&&(s=(0,plane/* intersectRay */.Ui)(u,l,o))}if(!s)return null;const i=(0,screenUtils/* screenPointObjectToArray */.WA)(c.screenEnd,(0,screenUtils/* castScreenPointArray */.PR)(vectorStacks/* sv2d */.oG.get())),a=ray_g(r.state.camera,i,dragEventPipeline3D_B);return null==a?null:(0,plane/* intersectRay */.Ui)(u,a,l)?{...c,renderStart:o,renderEnd:l,plane:u,ray:a}:null}}function dragEventPipeline3D_C(e,n,t=0,o=null,l=null){let s=null;return c=>{if("start"===c.action&&(s=e.sceneIntersectionHelper.intersectElevationFromScreen((0,screenUtils/* createScreenPointArray */.gs)(c.screenStart.x,c.screenStart.y),n,t,l),null!=s&&null!=o&&!(0,geometry_projection.projectPoint)(s,s,o)))return null;if(null==s)return null;const u=e.sceneIntersectionHelper.intersectElevationFromScreen((0,screenUtils/* createScreenPointArray */.gs)(c.screenEnd.x,c.screenEnd.y),n,t,l);return null!=u&&(null==o||(0,geometry_projection.projectPoint)(u,u,o))?{...c,mapStart:s,mapEnd:u}:null}}function dragEventPipeline3D_T(e,n,r,t=null,o=null){return dragEventPipeline3D_C(e,r,(0,elevationInfoUtils/* getZForElevationMode */.id)(n,e,r),t,o)}function dragEventPipeline3D_D(e,n,r,t=null,o=null){return dragEventPipeline3D_T(e,r,(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(n),t,o)}function dragEventPipeline3D_M(e,n,r,t){const o=n.toMap(e.screenStart,{include:[r]});return null!=o?dragEventPipeline3D_D(n,r,o,t):null}function dragEventPipeline3D_N(e,n){const r=dragEventPipeline3D_q,t=dragEventPipeline3D_z,o=(0,plane/* create */.vt)();e.renderCoordsHelper.worldUpAtPosition(n,r);const c=(0,vec3.b)(o,r,(0,vec3.f)(t,n,e.state.camera.eye));return (0,vec3.b)(c,c,r),(0,plane/* fromPositionAndNormal */.O_)(n,c,o)}function dragEventPipeline3D_P(e,n,r){let t=null;const o=new dragEventPipeline/* EventPipeline */.rh;return o.next(dragEventPipeline3D_H(e,dragEventPipeline3D_N(e,n))).next(dragEventPipeline3D_h(e,n)).next(dragEventPipeline3D_k(e,r)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,t=e})),e=>(t=null,o.execute(e),t)}function dragEventPipeline3D_h(e,n){const r=(0,vec3f64.c)(),l=(0,vec3.l)(n);e.renderCoordsHelper.worldUpAtPosition(n,r);const p=(0,vec3f64.c)(),d=(0,vec3f64.c)(),m=o=>{if((0,vec3.f)(o,o,n),(0,vector/* projectPoint */._I)(r,o,o),"global"===e.viewingMode){(0,vec3.l)(o)*Math.sign((0,vec3.j)(r,o))<.001-l&&(0,vec3.f)(o,(0,vec3.i)(o,r,.001),n)}return (0,vec3.g)(o,o,n),o};return e=>(e.renderStart=m((0,vec3.c)(p,e.renderStart)),e.renderEnd=m((0,vec3.c)(d,e.renderEnd)),e)}function dragEventPipeline3D_k(e,n){const r=e.renderCoordsHelper;return e=>{const t=r.fromRenderCoords(e.renderStart,n),o=r.fromRenderCoords(e.renderEnd,n);return null!=t&&null!=o?{...e,mapStart:t,mapEnd:o}:null}}var dragEventPipeline3D_G;function dragEventPipeline3D_A(e){let n=null;return r=>{switch(r.action){case"start":n=e.disableDisplay();break;case"end":case"cancel":null!=n&&(n.remove(),n=null)}return r}}function dragEventPipeline3D_F(n,t=null){const o=x(n.state.viewingMode);o.options.selectionMode=!0,o.options.store=R.MIN,o.options.hud=!1;const l=r(),s={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},c=a(),u=t??n.spatialReference,i=r=>{n.map.ground&&n.map.ground.opacity<1?s.exclude.add(I):s.exclude.delete(I),n.sceneIntersectionHelper.intersectIntersectorScreen(e(r,l),o,s);const t=o.results.min;let i;if(t.getIntersectionPoint(c))i=t.intersector===b.TERRAIN?dragEventPipeline3D_G.GROUND:dragEventPipeline3D_G.OTHER;else{if(!o.results.ground.getIntersectionPoint(c))return null;i=dragEventPipeline3D_G.GROUND}return{location:n.renderCoordsHelper.fromRenderCoords(c,u),surfaceType:i}};let p;return e=>{if("start"===e.action){const n=i(e.screenStart);p=null!=n?n.location:null}if(null==p)return null;const n=i(e.screenEnd);return null!=n?.location?{...e,mapStart:p,mapEnd:n.location,surfaceType:n.surfaceType}:null}}!function(e){e[e.GROUND=0]="GROUND",e[e.OTHER=1]="OTHER"}(dragEventPipeline3D_G||(dragEventPipeline3D_G={}));const dragEventPipeline3D_q=(0,vec3f64.c)(),dragEventPipeline3D_z=(0,vec3f64.c)(),dragEventPipeline3D_B=(0,ray/* create */.vt)();

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function moveUtils_n(n,a,r,c){const s=(t,e)=>a({action:t,graphic:n,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return r(((a,r,i)=>(r.next((t=>("start"===t.action&&s("start",t),t))).next((0,dragEventPipeline/* dragGraphic */.n5)(n,c)).next((t=>{switch(t.action){case"start":case"update":(t.translationX||t.translationY||t.translationZ)&&s("update",t);break;case"end":s("end",t)}return t})),{steps:r,cancel:i=i.next((0,dragEventPipeline/* resetGraphic */.Yl)(n)).next((t=>(s("end",{screenDeltaX:0,screenDeltaY:0}),t)))})))}function moveUtils_a(t){if(null==t?.axis)return 1;const{mapStart:e,mapEnd:n,axis:a}=t,r=[n.x-e.x,n.y-e.y];return r[0]*a[0]+r[1]*a[1]>0?1:-1}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class MoveXYAxisManipulation_C extends Manipulation_t{constructor(t){super(),this._handles=new Handles/* default */.A,this._arrowManipulatorInfos=new Array,this._angle=0,this._scale=1,this._radius=config_a,this._updateAfterDrag=!1,this.events=new Evented/* default */.A,this._tool=t.tool,this._view=t.view,this._opaqueMaterial=this._createMaterial(),this._transparentMaterial=this._createMaterial(.5),null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos.length>=3&&(this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t)}destroy(){this._handles=(0,maybe/* destroyMaybe */.pR)(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){for(const{manipulator:a}of this._arrowManipulatorInfos)t(a,ManipulatorType_A.TRANSLATE_XY)}createGraphicDragPipeline(t,a,r){const e=a.graphic,i=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(e),o=e.geometry.spatialReference;return moveUtils_n(e,r,(a=>this.createDragPipeline(((r,e,i,o,s)=>(({steps:e,cancel:i}=t(r,e,i,o,s)),a(r,e,i))),i,o,e)),this._view.state.viewingMode)}createDragPipeline(t,a,r,i){return (0,handleUtils/* handlesGroup */.vE)(this._arrowManipulatorInfos.map((({manipulator:e},o)=>(0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(e,((e,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:ManipulatorType_A.TRANSLATE_XY}))).next((0,dragEventPipeline/* dragAtLocation */.Tp)(this._view,e.elevationAlignedLocation)).next(dragEventPipeline3D_T(this._view,e.elevationAlignedLocation,a,r,i)).next((0,dragEventPipeline/* constrainToMapAxis */.an)(e.location,this.angle+(o+1)*Math.PI*.5)).next((0,dragEventPipeline/* addScreenDelta */.sO)());t(e,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/config_a,i=config_M*e,o=i*Math.sqrt(3)/2,s=(0,GeometryUtil/* createExtrudedTriangle */._B)(this._opaqueMaterial,o,i/2,i/2,config_h);(0,GeometryUtil/* transformInPlace */.xh)(s,(0,mat4.d)(vectorStacks/* sm4d */.Rc.get(),(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),0,-o/3,0))),t.renderObjects=[new RenderObject_e(s,interactive_interfaces/* ManipulatorStateFlags */.p7.Focused),new RenderObject_e(s.instantiate({material:this._transparentMaterial}),interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused)],t.radius=o/3*2*1.2;const u=(0,mat4.j)(vectorStacks/* sm4d */.Rc.get(),r*Math.PI/2),h=(0,mat4.d)(vectorStacks/* sm4d */.Rc.get(),(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),0,config_c*e,0));(0,mat4.m)(a,u,h)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=(0,mat4.c)(vectorStacks/* sm4d */.Rc.get(),t,(0,vec3f64.f)(0,0,1));if(null==a)return;const r=(0,mat4.E)(vectorStacks/* sm4d */.Rc.get(),(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),this.displayScale,this.displayScale,this.displayScale)),e=(0,mat4.m)(vectorStacks/* sm4d */.Rc.get(),r,a);for(const i of this._arrowManipulatorInfos){const t=(0,mat4.m)(vectorStacks/* sm4d */.Rc.get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new Manipulator3D_$({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:(0,vec3f64.f)(0,0,1)}}),r={manipulator:a,transform:(0,mat4f64.a)()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on("drag",(t=>{this._updateAfterDrag&&"end"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}_createMaterial(a=1){const r=new ColorMaterial/* ColorMaterial */.v({cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,renderOccluded:Material/* RenderOccludedFlag */.m$.Transparent,isDecoration:!0});return this._handles.add((0,reactiveUtils/* watch */.wB)((()=>Color/* default */.A.toUnitRGBA(this._view.effectiveTheme.accentColor)),(t=>{t[3]*=a,r.setParameters({color:t})}),reactiveUtils/* initial */.Vh)),r}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class SnapToScene_e{constructor(){this._view=null,this._elevationInfo=null,this._lastDragEvent=null,this._next=null,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent&&null!=this._next){const n=this._lastDragEvent.mapEnd,e=this._snap(this._lastDragEvent.screenEnd);if(null!=e){const s={action:"update",mapStart:this._lastDragEvent.mapStart,mapEnd:!0===t?e:n,screenStart:this._lastDragEvent.screenEnd,screenEnd:this._lastDragEvent.screenEnd};this._next.execute(s)}}this._enabled=t}_snap(n){const e=null!=this._view?this._view.toMap(n,{exclude:[]}):null;return null!=e&&null!=this._view&&(e.z=(0,elevationInfoUtils/* getZForElevationMode */.id)(e,this._view,this._elevationInfo)),e}createDragEventPipelineStep(t,e){this._view=t,this._elevationInfo=e,this._lastDragEvent=null;const s=new dragEventPipeline/* EventPipeline */.rh;this._next=s;return[t=>{if(this._lastDragEvent="end"!==t.action?{...t}:null,this._enabled){const n=this._snap(t.screenEnd);return null!=n?{action:t.action,mapStart:t.mapStart,mapEnd:n,screenStart:t.screenStart,screenEnd:t.screenEnd}:null}return{action:t.action,mapStart:t.mapStart,mapEnd:t.mapEnd,screenStart:t.screenStart,screenEnd:t.screenEnd}},s]}}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class MoveXYDiscManipulation_k extends Manipulation_t{constructor(t){super(),this._handles=new Handles/* default */.A,this._snapToScene=new SnapToScene_e,this._scale=1,this._radius=config_a,this._view=t.view,this._tool=t.tool,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles=(0,maybe/* destroyMaybe */.pR)(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,ManipulatorType_A.TRANSLATE_XY)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(t,e,i){const a=e.graphic,r=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(a),s=a.geometry.spatialReference;return moveUtils_n(a,i,(e=>this.createDragPipeline(((i,a,r,s,o)=>(({steps:a,cancel:r}=t(i,a,r,s,o)),e(i,a,r))),r,s,a)),this._view.state.viewingMode)}createDragPipeline(t,e,i,a){const r=this._view;return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(this._manipulator,((s,o,n,l,p)=>{const c=o.next((0,dragEventPipeline/* dragAtLocation */.Tp)(r,s.elevationAlignedLocation)).next(dragEventPipeline3D_T(r,s.elevationAlignedLocation,e,i,a)).next(...this._snapToScene.createDragEventPipelineStep(r,e)).next((t=>({...t,manipulatorType:ManipulatorType_A.TRANSLATE_XY}))).next((0,dragEventPipeline/* addScreenDelta */.sO)());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=(0,mat4.E)(vectorStacks/* sm4d */.Rc.get(),(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new Manipulator3D_$({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:(0,vec3f64.f)(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=(0,GeometryUtil/* createCylinderGeometry */.nW)(this._discMaterial,config_h,1,config_t,(0,vec3f64.f)(0,0,1),(0,vec3f64.f)(0,0,0));t.transformation=(0,mat4.E)((0,mat4f64.a)(),(0,vec3f64.f)(this._radius,this._radius,this._radius)),this._manipulator.renderObjects=[new RenderObject_e(t,interactive_interfaces/* ManipulatorStateFlags */.p7.Focused),new RenderObject_e(t.instantiate({material:this._discMaterialTransparent}),interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused)],this._manipulator.radius=config_e*(this._radius/config_a)}_createMaterial(e=1){const i=new ColorMaterial/* ColorMaterial */.v({cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,renderOccluded:Material/* RenderOccludedFlag */.m$.Transparent,isDecoration:!0});return this._handles.add((0,reactiveUtils/* watch */.wB)((()=>Color/* default */.A.toUnitRGBA(this._view.effectiveTheme.accentColor)),(t=>{t[3]*=e,i.setParameters({color:t})}),reactiveUtils/* initial */.Vh)),i}get test(){return{discManipulator:this._manipulator}}}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class MoveZManipulation_A extends Manipulation_t{constructor(e){super(),this._radius=config_a,this.events=new Evented/* default */.A,this._tool=e.tool,this._view=e.view;const t=new settings_z({getTheme:()=>this._view.effectiveTheme});this._settings=t,null!=e.radius&&(this._radius=e.radius);const i=this._view.effectiveTheme.accentColor;this._materials={materialUnfocused:manipulatorUtils_w(this._createDarkenedColor(i,1,.25),Material/* RenderOccludedFlag */.m$.Occlude),materialFocused:manipulatorUtils_w(this._createDarkenedColor(i,1,0),Material/* RenderOccludedFlag */.m$.Occlude),materialOccludedUnfocused:manipulatorUtils_w(this._createDarkenedColor(i,.7,0),t.zManipulator.renderOccluded),materialOccludedFocused:manipulatorUtils_w(this._createDarkenedColor(i,.85,0),t.zManipulator.renderOccluded)},this._themeHandle=(0,reactiveUtils/* watch */.wB)((()=>this._view.effectiveTheme.accentColor),(e=>{const t=this._createDarkenedColor(e,1,.25),r=this._createDarkenedColor(e,1,0),i=this._createDarkenedColor(e,.7,0),a=this._createDarkenedColor(e,.85,0),{materialUnfocused:o,materialFocused:s,materialOccludedUnfocused:n,materialOccludedFocused:l}=this._materials;o.setParameters({color:t}),s.setParameters({color:r}),n.setParameters({color:i}),l.setParameters({color:a})})),this._createManipulator(),this.forEachManipulator((e=>this._tool.manipulators.add(e)))}destroy(){this._themeHandle=(0,maybe/* removeMaybe */.xt)(this._themeHandle),this._manipulator.applyObjectTransform=MoveZManipulation_H,this.forEachManipulator((e=>{this._tool.manipulators.remove(e),e.destroy()}))}forEachManipulator(e){e(this._manipulator,ManipulatorType_A.TRANSLATE_Z)}createGraphicDragPipeline(e,t,r){const i=t.graphic.geometry.spatialReference;return moveUtils_n(t.graphic,r,(t=>this.createDragPipeline(((r,i,a,o,s)=>(({steps:i,cancel:a}=e(r,i,a,o,s)),t(r,i,a))),i)),this._view.state.viewingMode)}createDragPipeline(e,t){const r=this._view;return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(this._manipulator,((i,a,o,s,n)=>{const l=a.next((e=>({...e,manipulatorType:ManipulatorType_A.TRANSLATE_Z}))).next(dragEventPipeline3D_P(r,i.renderLocation,t)).next((0,dragEventPipeline/* addScreenDelta */.sO)());e(i,l,o,s,n)}))}get radius(){return this._radius}set radius(e){e!==this._radius&&(this._radius=e,this._updateManipulator())}_updateManipulator(){const e=this._settings,t=this._radius/config_a,r=e.zManipulator.height*t,i=e.zManipulator.coneHeight*t,a=e.zManipulator.coneWidth*t,o=e.zManipulator.width*t,m=[(0,vec3f64.f)(0,0,0),(0,vec3f64.f)(0,0,r)],d=[(0,vec3f64.f)(0,0,0),(0,vec3f64.f)(0,0,r+i)],u=e=>{const t=(0,mat4f64.a)();if((0,mat4.w)(t,t,[0,0,r]),(0,mat4.r)(t,t,Math.PI/2),e){const r=1+2*e/a;(0,mat4.b)(t,t,[r,r,r])}return t},p=u(0),{materialUnfocused:h,materialFocused:f,materialOccludedUnfocused:_,materialOccludedFocused:w}=this._materials,v=(0,GeometryUtil/* createTubeGeometry */.Nb)(h,m,o/2,16,!1),M=(0,GeometryUtil/* createConeGeometry */.EE)(h,i,a/2,16,!1);M.transformation=p,this._manipulator.renderObjects=[new RenderObject_e(M,interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused),new RenderObject_e(v,interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused),new RenderObject_e(M.instantiate({material:f}),interactive_interfaces/* ManipulatorStateFlags */.p7.Focused),new RenderObject_e(v.instantiate({material:f}),interactive_interfaces/* ManipulatorStateFlags */.p7.Focused),new RenderObject_e(M.instantiate({material:_}),interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused),new RenderObject_e(v.instantiate({material:_}),interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused),new RenderObject_e(M.instantiate({material:w}),interactive_interfaces/* ManipulatorStateFlags */.p7.Focused),new RenderObject_e(v.instantiate({material:w}),interactive_interfaces/* ManipulatorStateFlags */.p7.Focused)],this._manipulator.radius=o/2+2,this._manipulator.collisionType={type:"line",paths:[d]}}_createManipulator(){const e=this._view,t=new Manipulator3D_$({view:e,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const r=e.state.camera,a=MoveZManipulation_E;e.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const o=(0,vec3.r)(r.eye,a),s=r.computeRenderPixelSizeAtDist(o),n=(0,vec3.f)(MoveZManipulation_R,a,r.eye);(0,vec3.n)(n,n);const l=MoveZManipulation_x;e.renderCoordsHelper.worldUpAtPosition(MoveZManipulation_E,l);const c=Math.abs((0,vec3.j)(n,l)),_=(0,vec3.b)(MoveZManipulation_R,n,l),j=(0,vec3.b)(MoveZManipulation_R,_,l),w=(0,mathUtils/* clamp */.qE)(c,.01,1),v=1-Math.sqrt(1-w*w)/w/r.fullWidth,g=this._settings,M=this._radius/config_a,U=g.zManipulator.width*M;(0,vec3.i)(j,(0,vec3.n)(j,j),(1/v-1)*o+s*U),t[12]-=MoveZManipulation_R[0],t[13]-=MoveZManipulation_R[1],t[14]-=MoveZManipulation_R[2]},this._manipulator=t,this._updateManipulator()}_createDarkenedColor(r,i,a){const o=(0,colorUtils/* darken */.e$)(r,a);return o.a*=i,Color/* default */.A.toUnitRGBA(o)}get test(){return{manipulator:this._manipulator}}}const MoveZManipulation_E=(0,vec3f64.c)(),MoveZManipulation_R=(0,vec3f64.c)(),MoveZManipulation_x=(0,vec3f64.c)(),MoveZManipulation_H=()=>{};

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class MoveManipulation_u extends Manipulation_t{constructor(a){super(),this._handles=new Handles/* default */.A,this._interactive=!0;const{tool:t,view:n,snapToScene:s,radius:e}=a;this._view=n,this.xyManipulation=new MoveXYDiscManipulation_k({tool:t,view:n,snapToScene:s,radius:e}),this.xyAxisManipulation=new MoveXYAxisManipulation_C({tool:t,view:n,radius:e}),this.zManipulation=new MoveZManipulation_A({tool:t,view:n,radius:e}),this.xyManipulation.available=a.xyAvailable,this.xyAxisManipulation.available=a.xyAxisAvailable,this.zManipulation.available=a.zAvailable,this._autoHideXYAxis(),this.forEachManipulator((i=>this._handles.add(i.events.on("grab-changed",(()=>this._updateManipulatorInteractivity())))))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,t,n){return (0,handleUtils/* handlesGroup */.vE)([this.xyManipulation.createGraphicDragPipeline(((a,t,n,s,e)=>i(MoveManipulation_c.XY,a,t,n,s,e)),t,n),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,n,s,e)=>i(MoveManipulation_c.XY_AXIS,a,t,n,s,e)),t,n),this.zManipulation.createGraphicDragPipeline(((a,t,n,s,e)=>i(MoveManipulation_c.Z,a,t,n,s,e)),t,n)])}createDragPipeline(i,t,n,s){return (0,handleUtils/* handlesGroup */.vE)([this.xyManipulation.createDragPipeline(((a,t,n,s,e)=>i(MoveManipulation_c.XY,a,t,n,s,e)),t,n,s),this.xyAxisManipulation.createDragPipeline(((a,t,n,s,e)=>i(MoveManipulation_c.XY_AXIS,a,t,n,s,e)),t,n,s),this.zManipulation.createDragPipeline(((a,t,n,s,e)=>i(MoveManipulation_c.Z,a,t,n,s,e)),n)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this.xyAxisManipulation.angle=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this._updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,ManipulatorType_A.TRANSLATE_XY))),this.xyAxisManipulation.forEachManipulator((a=>i(a,ManipulatorType_A.TRANSLATE_XY))),this.zManipulation.forEachManipulator((a=>i(a,ManipulatorType_A.TRANSLATE_Z)))}get _xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||i}_autoHideXYAxis(){const i=this.xyAxisManipulation,a=this.xyManipulation;if((0,has/* default */.A)("esri-mobile"))return;const n=[];a.forEachManipulator((i=>n.push(i))),i.forEachManipulator((i=>n.push(i)));const s=()=>{const a=[];this._xyAxisVisible||i.forEachManipulator((i=>a.push(i.disableDisplay()))),this._handles.remove(MoveManipulation_h),this._handles.add(a,MoveManipulation_h)};for(const t of n)this._handles.add(t.events.on("focus-changed",s));this._view.inputManager&&this._handles.add((0,reactiveUtils/* when */.z7)((()=>this._view.inputManager?.latestPointerType),s)),s()}_updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const a=null!=i&&"point-3d"===i.type&&i.symbolLayers;return!!a&&a.some((i=>"icon"===i.type))?config_o:config_a}}const MoveManipulation_h="disable-xy-axis-display";var MoveManipulation_c;!function(i){i[i.XY=0]="XY",i[i.XY_AXIS=1]="XY_AXIS",i[i.Z=2]="Z"}(MoveManipulation_c||(MoveManipulation_c={}));

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js
var GraphicManipulator = __webpack_require__(285);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class MoveXYGraphicManipulation_l extends Manipulation_t{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._graphicState=t.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,ManipulatorType_A.TRANSLATE_XY)}createGraphicDragPipeline(t){return moveUtils_n(this._graphicState.graphic,t,(t=>this.createDragPipeline(t)),this._view.state.viewingMode)}createDragPipeline(i){const e=this._view,r=this._graphicState.graphic,n=null!=r.geometry?r.geometry.spatialReference:null;return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(this._manipulator,((a,l,p,h,c)=>{const u=l.next(dragEventPipeline3D_M(c,e,r,n)).next((0,dragEventPipeline/* addMapDelta */.EX)()).next((0,dragEventPipeline/* addScreenDelta */.sO)());i(a,u,p,h,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new GraphicManipulator/* GraphicManipulator */.l({graphic:i,view:t,selectable:!0,cursor:"move"})}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/isSupportedGraphic.js
var isSupportedGraphic = __webpack_require__(42497);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js + 1 modules
var InteractiveToolBase = __webpack_require__(37413);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js + 6 modules
var EditGeometryOperations = __webpack_require__(5470);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipOptions.js + 2 modules
var SketchTooltipOptions = __webpack_require__(30520);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js
var SnappingContext = __webpack_require__(53333);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js
var SnappingDragPipelineStep = __webpack_require__(89030);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/tooltip/Tooltip.js + 26 modules
var Tooltip = __webpack_require__(38070);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/tooltip/TranslateTooltipInfos.js
var TranslateTooltipInfos = __webpack_require__(18679);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/euclideanLengthMeasurementUtils.js
var euclideanLengthMeasurementUtils = __webpack_require__(91199);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class GraphicMoveTool_C{constructor(t){this.allGraphics=t,this.type="graphic-move-start"}}class GraphicMoveTool_V{constructor(t,i,e){this.dx=t,this.dy=i,this.allGraphics=e,this.type="graphic-move"}}class GraphicMoveTool_L{constructor(t){this.allGraphics=t,this.type="graphic-move-stop"}}const GraphicMoveTool_N="manipulators";let GraphicMoveTool_q=class extends(Evented/* default */.A.EventedMixin(InteractiveToolBase/* InteractiveToolBase */.g)){constructor(t){super(t),this._infos=new Map,this.graphics=new Collection/* default */.A,this.enableZ=!0,this.tooltipOptions=new SketchTooltipOptions/* default */.A,this.type="move-3d",this._updatingHandles=new UpdatingHandles/* UpdatingHandles */.U,this._moveManipulation=null,this._tooltip=null,this._translateGraphicTooltipInfo=null,this._translateGraphicXYTooltipInfo=null,this._translateGraphicZTooltipInfo=null}initialize(){const{view:t}=this;this.addHandles([this.graphics.on("change",(t=>{t.removed.forEach((t=>this.removeHandles(t))),this._updateGraphicInfos(t),this._setupFastTransformUpdates(t.added),this._refreshManipulators()})),(0,reactiveUtils/* watch */.wB)((()=>this.tooltipOptions.enabled),(i=>{this._tooltip=i?new Tooltip/* Tooltip */.m({view:t}):(0,maybe/* destroyMaybe */.pR)(this._tooltip)}),reactiveUtils/* syncAndInitial */.pc)]);const i=this.graphics.toArray();this._updateGraphicInfos({added:i,removed:[]}),this._setupFastTransformUpdates(i),this._refreshManipulators(),this.finishToolCreation()}destroy(){this._tooltip=(0,maybe/* destroyMaybe */.pR)(this._tooltip),this._moveManipulation=(0,maybe/* destroyMaybe */.pR)(this._moveManipulation),this._set("view",null),this._updatingHandles.destroy()}get updating(){return this._updatingHandles.updating}reset(){}_updateGraphicInfos({added:t,removed:i}){for(const e of t){if((0,isSupportedGraphic/* isSupportedGraphic */.N)(e)!==isSupportedGraphicUtils/* SupportedGraphicResult */.e.SUPPORTED)continue;const t=new GraphicMoveTool_B(e),i=this.view.trackGraphicState(t.state);this._infos.set(t.graphic,{info:t,handle:i})}for(const e of i)this._infos.get(e)?.handle.remove(),this._infos.delete(e)}_setupFastTransformUpdates(t){for(const i of t){const{info:t}=this._infos.get(i);this.addHandles(meshFastUpdateUtils_o(t.state),i)}}_refreshManipulators(){if(this.removeHandles(GraphicMoveTool_N),this._moveManipulation=(0,maybe/* destroyMaybe */.pR)(this._moveManipulation),this.manipulators.removeAll(),0===this._infos.size)return;const t=Array.from(this._infos.values(),(({info:t})=>t));this._createManipulators(t),this._createVisualElements(t),this._updateMoveManipulation(t)}_createManipulators(t){for(const i of t){const e=i.state;i.manipulationXY=new MoveXYGraphicManipulation_l({tool:this,view:this.view,graphicState:e}),i.manipulationXY.forEachManipulator((t=>this.addHandles([t.events.on("immediate-click",(t=>{this.emit("immediate-click",{...t,graphic:e.graphic}),t.stopPropagation()})),t.events.on("grab-changed",(({action:t})=>{const{tooltipOptions:i,_tooltip:e}=this;null!=e&&("start"===t?(this._translateGraphicTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicTooltipInfo */.ar({tooltipOptions:i}),e.info=this._translateGraphicTooltipInfo,e.info.tooltipOptions=i,e.info.distance=quantityUtils/* zeroMeters */.r7):e.clear())}))],GraphicMoveTool_N))),this.addHandles(i.manipulationXY.createDragPipeline(((i,e,o,n)=>this._buildDragEventPipeline(t,MoveManipulation_c.XY,i,e,o,n))),GraphicMoveTool_N)}this._createMoveManipulation(t)}_createMoveManipulation(t){const i=new MoveManipulation_u({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?MoveManipulation_u.radiusForSymbol(t[0].graphic.symbol):config_a});this._moveManipulation=i,i.elevationInfo={mode:"absolute-height",offset:0},i.forEachManipulator((t=>{this.addHandles(t.events.on("immediate-click",(e=>{i.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit("immediate-click",{...e,graphic:this.graphics.at(0)}),e.stopPropagation()})),GraphicMoveTool_N)}));const e=i=>e=>{this.addHandles(e.events.on("focus-changed",(({action:e})=>{const o=this._tooltip;null!=o&&("focus"===e?this._updateMoveTooltip(t,i):o.clear())})),GraphicMoveTool_N)};this._moveManipulation.xyManipulation.forEachManipulator(e(MoveManipulation_c.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(e(MoveManipulation_c.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(e(MoveManipulation_c.Z));const o=()=>this._updateMoveManipulation(t);for(const a of t)this.addHandles([a.state.on("changed",o),(0,reactiveUtils/* watch */.wB)((()=>a.state.displaying),o)],GraphicMoveTool_N);const n=t[t.length-1];this.addHandles(n.state.on("changed",(()=>this._updateMoveManipulationAngle(n))),GraphicMoveTool_N),this.addHandles(i.createDragPipeline(((i,e,o,n,a)=>this._buildDragEventPipeline(t,i,e,o,n,a)),(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(n.graphic),n.graphic.geometry.spatialReference,n.graphic),GraphicMoveTool_N),this._updateMoveManipulationAngle(n)}_createVisualElements(t){for(const i of t){const e=i.graphic,n=visualElementUtils_i({view:this.view,graphic:e,forEachManipulator:t=>{i.manipulationXY?.forEachManipulator(t),this._moveManipulation?.forEachManipulator(t)},onManipulatorsChanged:()=>(0,handleUtils/* makeHandle */.hA)()});null!=n&&(i.geometryRepresentation=n.visualElement,i.geometryRepresentation instanceof OutlineVisualElement_w&&this.addHandles([i.geometryRepresentation.events.on("attachment-origin-changed",(()=>{i.state.isDraped||this._updateMoveManipulation(t)})),(0,reactiveUtils/* watch */.wB)((()=>i.state.isDraped),(()=>this._updateMoveManipulation(t)))],GraphicMoveTool_N),this.addHandles(n,GraphicMoveTool_N))}}_updateMoveManipulationAngle(t){this._moveManipulation&&(this._moveManipulation.angle=geometryUtils_r(t.graphic.geometry))}_updateMoveManipulation(t){const i=(0,dehydratedPoint/* makeDehydratedPoint */.T)(0,0,0,this.view.spatialReference);let e=0,o=!1;const n=this._moveManipulation;if(n){for(const n of t){if(!n.state.displaying)continue;const t=n.state.graphic;this.enableZ&&manipulatorUtils_n(t)&&(o=!0);const a=n.geometryRepresentation instanceof OutlineVisualElement_w&&!n.state.isDraped?n.geometryRepresentation.attachmentOrigin:manipulatorUtils_k(this.view,t);if(null!=a){const{x:t,y:o,z:n}=a;i.x+=t,i.y+=o,n&&(i.z??=0,i.z+=n),e++}}e>0?(i.x/=e,i.y/=e,i.z??=0,i.z/=e,n.location=i,n.xyManipulation.available=!0,n.xyAxisManipulation.available=!0,n.zManipulation.available=o):n.available=!1}}_buildDragEventPipeline(t,i,e,o,n,a){const s=[],r=[];let p=null,l=null;const h=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,p=null,l=null,this._moveManipulation&&(this._moveManipulation.interactive=!0)};if(1===t.length&&i===MoveManipulation_c.XY){const i=t[0].graphic;({steps:o,cancel:n}=this._buildSnappingPipelineSteps(i,(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(i),o,n,a))}return n=n.next((t=>l?.(t))).next((()=>(this.emit("graphic-move-stop",new GraphicMoveTool_L(r)),this.destroyed||h(),null))),{steps:o=o.next((i=>{if("start"===i.action){s.length=0,r.length=0;for(const i of t)i.dragging||!i.manipulationXY?.hasManipulator(e)&&i.manipulationXY?.grabbing||(s.push(i),r.push(i.graphic),i.dragging=!0);if(0!==r.length&&(this._moveManipulation&&(this._moveManipulation.interactive=!1),p=(0,dragEventPipeline/* dragGraphicMany */.qh)(r,this.view.state.viewingMode),l=(0,dragEventPipeline/* resetGraphicMany */.ns)(r),this.emit("graphic-move-start",new GraphicMoveTool_C(r)),this.destroyed))return null}return 0!==r.length?i:null})).next((t=>p?.(t))).next((e=>(this._updateMoveTooltip(t,i,e),e))).next((t=>{switch(t.action){case"start":case"update":if(t.translationX||t.translationY||t.translationZ){const i=this.view.toScreen(t.mapStart),e=this.view.toScreen(t.mapEnd),o=e.x-i.x,n=e.y-i.y;if(this.emit("graphic-move",new GraphicMoveTool_V(o,n,r)),this.destroyed)return null}break;case"end":if(this.emit("graphic-move-stop",new GraphicMoveTool_L(r)),this.destroyed)return null;h()}return null})),cancel:n}}_updateMoveTooltip(t,i,e){const{tooltipOptions:o,_tooltip:n}=this;if(null==n)return;n.clear();const a=0===t.length?"absolute-height":t[0].state.isDraped?"on-the-ground":"absolute-height";switch(i){case MoveManipulation_c.XY:n.info=this._translateGraphicTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicTooltipInfo */.ar({tooltipOptions:o}),this._updateMoveTooltipDistance(n.info,e,((t,i)=>(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t,i,a)));break;case MoveManipulation_c.XY_AXIS:n.info=this._translateGraphicXYTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicXYTooltipInfo */.nW({tooltipOptions:o}),this._updateMoveTooltipDistance(n.info,e,((t,i)=>{const o=(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t,i,a);return (0,quantityUtils/* scale */.hs)(o,moveUtils_a(e))}));break;case MoveManipulation_c.Z:n.info=this._translateGraphicZTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicZTooltipInfo */.YI({tooltipOptions:o}),this._updateMoveTooltipDistance(n.info,e,euclideanLengthMeasurementUtils/* verticalSignedDistanceBetweenPoints */.e5)}n.info.tooltipOptions=o}_updateMoveTooltipDistance(t,i,e){if(null!=i&&"end"!==i.action){const{mapStart:o,mapEnd:n}=i,s=e(o,n);t.distance=null!=s?s:quantityUtils/* zeroMeters */.r7}else t.distance=quantityUtils/* zeroMeters */.r7}_buildSnappingPipelineSteps(t,i,e,o,n){const a=t.geometry;if(null==a||"point"!==a.type&&"mesh"!==a.type)return{steps:e,cancel:o};const s=("point"===a.type?a:a.anchor).clone(),r=new SnappingContext/* SnappingContext */.e({elevationInfo:i,pointer:n,editGeometryOperations:EditGeometryOperations/* EditGeometryOperations */.p.fromGeometry(s,this.view.state.viewingMode),visualizer:new SnappingVisualizer3D_O,excludeFeature:t}),p=this.snappingManager,{snappingStep:l,cancelSnapping:h}=(0,SnappingDragPipelineStep/* createSnapDragEventPipelineStep */.L)({snappingContext:r,snappingManager:p,updatingHandles:this._updatingHandles});return o=o.next(h),{steps:e=e.next((i=>{s.z=(0,elevationInfoUtils/* getConvertedElevation */.wS)(this.view,s,(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(t),{mode:"absolute-height",offset:0});return{...i,snapOrigin:r.coordinateHelper.pointToVector(s)}})).next(...l),cancel:o}}get test(){return{tooltip:this._tooltip}}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicMoveTool_q.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicMoveTool_q.prototype,"graphics",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicMoveTool_q.prototype,"enableZ",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchTooltipOptions/* default */.A})],GraphicMoveTool_q.prototype,"tooltipOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],GraphicMoveTool_q.prototype,"snappingManager",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicMoveTool_q.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicMoveTool_q.prototype,"updating",null),GraphicMoveTool_q=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool")],GraphicMoveTool_q);class GraphicMoveTool_B{constructor(t){this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new GraphicState_e({graphic:t})}get graphic(){return this.state.graphic}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/isSupportedGraphic.js
var reshapeGraphic_isSupportedGraphic = __webpack_require__(49858);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Polyline.js
var Polyline = __webpack_require__(42238);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/symbols/support/utils.js
var utils = __webpack_require__(55056);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/OffsetEdgeVertex.js
var OffsetEdgeVertex = __webpack_require__(12677);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/edgeOffsetUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function edgeOffsetUtils_m(e,r,o){const n="on-the-ground"===o.mode?OffsetEdgeVertex/* PlaneType */.B.XY:OffsetEdgeVertex/* PlaneType */.B.XYZ;return new OffsetEdgeVertex/* OffsetEdgeVertex */.L(e,n,r,0)}function edgeOffsetUtils_a(e,r,n){const t=(0,vec3f64.c)();if(!e.renderCoordsHelper.toRenderCoords(r,t))return null;const s=edgeOffsetUtils_j(e,r,(0,plane/* normal */.qb)(n.plane)),l=edgeOffsetUtils_j(e,r,n.edgeDirection);if(null==s||null==l)return null;const f=(0,vec3.b)((0,vec3f64.c)(),s,l);return (0,plane/* fromPositionAndNormal */.O_)(t,f,(0,plane/* create */.vt)())}function edgeOffsetUtils_j(e,r,o){const t=(0,dehydratedPoint/* makeDehydratedPoint */.T)(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),s=(0,vec3f64.c)(),i=(0,vec3f64.c)();return e.renderCoordsHelper.toRenderCoords(r,s)&&e.renderCoordsHelper.toRenderCoords(t,i)?(0,vec3.C)(i,s,i):null}function edgeOffsetUtils_C(e,t,s){const u=(0,plane/* normal */.qb)(e),d=(0,vec3.C)((0,vec3f64.c)(),t,s),l=(0,vec3.b)((0,vec3f64.c)(),d,u),f=(0,vec3.b)((0,vec3f64.c)(),d,l);return (0,mat4f64.f)(d[0],d[1],d[2],0,l[0],l[1],l[2],0,f[0],f[1],f[2],0,0,0,0,1)}function edgeOffsetUtils_h(r,o,n){const c=n.projectToRenderScreen(r,(0,screenUtils/* createRenderScreenPointArray3 */.r_)()),i=n.projectToRenderScreen(o,(0,screenUtils/* createRenderScreenPointArray3 */.r_)());return null!=c&&null!=i?(0,vec3.m)((0,vec3.f)(c,c,i)):0}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/input/IViewEvents.js
var IViewEvents = __webpack_require__(37174);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/interfaces.js
var editGeometry_interfaces = __webpack_require__(35880);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/tooltip/SketchTooltipInfo.js
var SketchTooltipInfo = __webpack_require__(58486);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/ReshapeTooltipInfos.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let ReshapeTooltipInfos_p=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(o){super(o),this.type="reshape-edge-offset",this.distance=quantityUtils/* zeroMeters */.r7,this.area=null,this.totalLength=null}};(0,tslib_es6._)([(0,property/* property */.MZ)()],ReshapeTooltipInfos_p.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ReshapeTooltipInfos_p.prototype,"distance",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ReshapeTooltipInfos_p.prototype,"area",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ReshapeTooltipInfos_p.prototype,"totalLength",void 0),ReshapeTooltipInfos_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.ReshapeEdgeOffsetTooltipInfo")],ReshapeTooltipInfos_p);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/tooltip/fields/fields.js + 2 modules
var fields = __webpack_require__(96151);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/automaticAreaMeasurementUtils.js + 3 modules
var automaticAreaMeasurementUtils = __webpack_require__(27977);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/geodesicLengthMeasurementUtils.js + 1 modules
var geodesicLengthMeasurementUtils = __webpack_require__(45951);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(78983);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let kt=class extends(Evented/* default */.A.EventedMixin(Accessor/* default */.A)){constructor(t){super(t),this._selectedIndex=0,this._manipulatorHandles=new Handles/* default */.A,this._manipulatorInfos=[],this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=qt.NONE,this._updatingHandles=new UpdatingHandles/* UpdatingHandles */.U,this._recreatingManipulators=!1,this._settings=new settings_z({getTheme:()=>this.view.effectiveTheme}),this._translateGraphicTooltipInfo=null,this._translateGraphicXYTooltipInfo=null,this._translateGraphicZTooltipInfo=null,this._translateVertexTooltipInfo=null,this._translateVertexXYTooltipInfo=null,this._translateVertexZTooltipInfo=null,this._edgeOffsetTooltipInfo=null,this.outputGeometry=null,this._vertexLaserLineVisualElement=null}initialize(){const{graphic:t,view:e}=this,i=this._settings.manipulators,n=i.vertex;this._vertexManipulatorMaterial=manipulatorUtils_w((0,colorUtils/* unitRGBAFromColor */.QP)(n.color),n.renderOccluded),this._vertexManipulatorOutlineMaterial=manipulatorUtils_b((0,colorUtils/* unitRGBAFromColor */.QP)(n.outlineColor),n.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=manipulatorUtils_b((0,colorUtils/* unitRGBAFromColor */.QP)(n.hoverOutlineColor),n.renderOccluded);const o=i.edge;this._edgeManipulatorMaterial=manipulatorUtils_w((0,colorUtils/* unitRGBAFromColor */.QP)(o.color),o.renderOccluded),this._edgeManipulatorOutlineMaterial=manipulatorUtils_b((0,colorUtils/* unitRGBAFromColor */.QP)(o.outlineColor),o.renderOccluded);const r=i.edgeOffset;this._edgeOffsetManipulatorMaterial=manipulatorUtils_w((0,colorUtils/* unitRGBAFromColor */.QP)(r.color),r.renderOccluded,!1),this._edgeOffsetManipulatorHoverMaterial=manipulatorUtils_w((0,colorUtils/* unitRGBAFromColor */.QP)(r.hoverColor),r.renderOccluded,!1);const s=i.selected;this._selectedManipulatorMaterial=manipulatorUtils_w((0,colorUtils/* unitRGBAFromColor */.QP)(s.color),s.renderOccluded),this._selectedManipulatorOutlineMaterial=manipulatorUtils_b((0,colorUtils/* unitRGBAFromColor */.QP)(s.outlineColor),s.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=manipulatorUtils_b((0,colorUtils/* unitRGBAFromColor */.QP)(s.hoverOutlineColor),s.renderOccluded);const l=this._graphicState=new GraphicState_e({graphic:t});this._tooltip=new Tooltip/* Tooltip */.m({view:e}),this.addHandles([(0,reactiveUtils/* watch */.wB)((()=>{const t=this._settings.manipulators;return{vertexSettings:t.vertex,edgeSettings:t.edge,edgeOffsetSettings:t.edgeOffset,selectedSettings:t.selected}}),(({vertexSettings:t,edgeSettings:e,edgeOffsetSettings:i,selectedSettings:a})=>{t.applyColor(this._vertexManipulatorMaterial),t.applyOutline(this._vertexManipulatorOutlineMaterial),t.applyHoverOutline(this._vertexManipulatorHoverOutlineMaterial),e.applyColor(this._edgeManipulatorMaterial),e.applyOutline(this._edgeManipulatorOutlineMaterial),i.applyColor(this._edgeOffsetManipulatorMaterial),i.applyHover(this._edgeOffsetManipulatorHoverMaterial),a.applyColor(this._selectedManipulatorMaterial),a.applyOutline(this._selectedManipulatorOutlineMaterial),a.applyHoverOutline(this._selectedManipulatorHoverOutlineMaterial)})),(0,reactiveUtils/* watch */.wB)((()=>l.displaying),(t=>{for(const e of this._manipulatorInfos)e.manipulator.available=t})),(0,reactiveUtils/* watch */.wB)((()=>({labels:this._segmentLabels,enabled:this._labelOptions.enabled,edgeOffsetEnabled:this.enableEdgeOffset})),(({labels:t,enabled:e,edgeOffsetEnabled:i})=>{null!=t&&(t.visible=e,t.edgeDistance=i?"far":"default")}),reactiveUtils/* initial */.Vh),(0,reactiveUtils/* when */.z7)((()=>!this._tooltipOptions.enabled),(()=>this._tooltip.clear()),reactiveUtils/* initial */.Vh),this.view.trackGraphicState(l)])}destroy(){this._segmentLabels=(0,maybe/* destroyMaybe */.pR)(this._segmentLabels),this._tooltip=(0,maybe/* destroyMaybe */.pR)(this._tooltip),this._removeManipulators(),this._updatingHandles.destroy()}get inputGeometry(){return null!=this._editGeometryOperations?this._editGeometryOperations.data.geometry:null}set inputGeometry(t){this._recreateEditGeometryAndManipulators(t)}get updating(){return this._updatingHandles.updating}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZShape(){return this.tool.enableZShape}get enableZVertex(){return this.tool.enableZVertex}get enableMoveGraphic(){return this.tool.enableMoveGraphic}get enableMidpoints(){return this.tool.enableMidpoints}get enableEdgeOffset(){return this.tool.enableEdgeOffset}get _labelOptions(){return this.tool.labelOptions}get _tooltipOptions(){return this.tool.tooltipOptions}get _accentColor(){return this.view.effectiveTheme.accentColor}removeSelectedVertices(){const t=this._manipulatorInfos.filter((t=>t.manipulator.selected&&"vertex"===t.type));this._removeVertices(t)}onManipulatorSelectionChanged(){this.emit("manipulators-changed")}_removeManipulators(){this._manipulatorHandles.removeAll(),this._moveManipulation=(0,maybe/* destroyMaybe */.pR)(this._moveManipulation),this._graphicMoveManipulation=(0,maybe/* destroyMaybe */.pR)(this._graphicMoveManipulation),this.manipulators.removeAll(),this._manipulatorInfos=[],this._numGrabbing=0,this._numDragging=0}_createManipulators(t){if(null==this._editGeometryOperations)return;const e=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(this.graphic);for(const i of this._editGeometryOperations.data.components){const a=t?.byComponentIndex.get(i.index);for(const t of i.vertices){const i=a?.has(t.index);this._createVertexOrEdgeManipulator(t,e,i)}for(const t of i.edges)this._createVertexOrEdgeManipulator(t,e)}this._createGraphicMoveManipulation(),this._createMoveManipulation(e),this._createVisualElements()}get canRedo(){return null!=this._editGeometryOperations&&this._editGeometryOperations.canRedo}get canUndo(){return null!=this._editGeometryOperations&&this._editGeometryOperations.canUndo}redo(){if(null==this._editGeometryOperations)return null;const t=this._editGeometryOperations.redo();return null!=t&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),t}undo(){if(null==this._editGeometryOperations)return null;this.emit("undo");const t=this._editGeometryOperations.undo();return null!=t&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),t}_recreateManipulators(){this._recreatingManipulators||(this._recreatingManipulators=!0,this._removeManipulators(),this._tooltip.clear(),this._createManipulators(),this._recreatingManipulators=!1)}_recreateEditGeometryAndManipulators(t){const e={byComponentIndex:new Map};if(null!=t&&null!=this.inputGeometry&&(0,coordsUtils/* hasCompatibleTopology */.It)(t,this.inputGeometry))for(const a of this._manipulatorInfos)if("vertex"===a.type&&a.manipulator.selected){const{index:t,component:{index:i}}=a.handle,{byComponentIndex:n}=e,o=n.get(i)||new Set;o.add(t),n.set(i,o)}if(this._recreatingManipulators=!0,this._removeManipulators(),this._tooltip.clear(),this._editGeometryOperations=(0,maybe/* destroyMaybe */.pR)(this._editGeometryOperations),this._segmentLabels=(0,maybe/* destroyMaybe */.pR)(this._segmentLabels),null==t)return void(this._recreatingManipulators=!1);const i="mesh"===t.type?t.anchor:t;this._editGeometryOperations=EditGeometryOperations/* EditGeometryOperations */.p.fromGeometry(i,this.view.state.viewingMode),this._createManipulators(e),this._segmentLabels=new SegmentLabels3D_a({context:{view:this.view,editGeometryOperations:this._editGeometryOperations,elevationInfo:(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(this.graphic),labelOptions:this._labelOptions,graphic:this.graphic,graphicState:this._graphicState},visible:this._labelOptions.enabled}),this._recreatingManipulators=!1}_perGraphicManipulatorDragAction(t,e){if("end"===e.action)return e;let i=0;const a=[],n=this._manipulatorInfos.some((t=>"vertex"===t.type&&t.manipulator.selected)),o=t===Wt.SELECTED_OR_ALL&&n;for(const r of this._manipulatorInfos)"vertex"===r.type&&(r.manipulator.grabbing||o&&!r.manipulator.selected||a.push(r),i++);if(0===a.length)return e;this._moveVertices(a,e);if(a.length===i){if(this._updateEventState(qt.MOVING),this.destroyed)return e;this.emit("move",{type:"move",dx:e.screenDeltaX,dy:e.screenDeltaY,mover:this.graphic})}else{if(this._updateEventState(qt.RESHAPING),this.destroyed)return e;this.emit("reshape",{type:"reshape",mover:this.graphic})}return e}_isMultiVertexSelection(){return this._manipulatorInfos.reduce(((t,e)=>"vertex"===e.type&&e.manipulator.selected?t+1:t),0)>1}_perVertexManipulatorDragAction(t){if(this._updateEventState(qt.RESHAPING),this.destroyed)return;const{mapDeltaX:e,mapDeltaY:i,mapDeltaZ:a}=t;if(!e&&!i&&!a)return;const n=[];for(const o of this._manipulatorInfos)"vertex"===o.type&&(o.manipulator.selected&&!o.manipulator.grabbing||o===t.info)&&n.push(o);this._moveVertices(n,t,editGeometry_interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS),this.emit("reshape",{type:"reshape",mover:this.graphic})}_updateEventState(t){if(t===this._reshapeEventState)return!1;switch(t){case qt.NONE:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case qt.MOVING:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic});break;case qt.RESHAPING:this.emit("reshape",{type:"reshape-stop",mover:this.graphic})}break;case qt.MOVING:switch(this._reshapeEventState){case qt.NONE:this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic});break;case qt.RESHAPING:this.emit("reshape",{type:"reshape-stop",mover:this.graphic}),this.destroyed||this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic})}break;case qt.RESHAPING:switch(this._reshapeEventState){case qt.NONE:this.emit("reshape",{type:"reshape-start",mover:this.graphic});break;case qt.MOVING:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit("reshape",{type:"reshape-start",mover:this.graphic})}}if(this.destroyed)return!1;const e=this._reshapeEventState!==t;return this._reshapeEventState=t,e}_createGraphicMoveManipulation(){const{tool:t,view:e}=this,i=this._graphicState;if(this._graphicMoveManipulation=new MoveXYGraphicManipulation_l({tool:t,view:e,graphicState:i}),this.enableMoveGraphic){let t=null;this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((e,i,a)=>{i.next((t=>this._trackNumDragging(t))).next((e=>("start"===e.action&&(t=this._editGeometryOperations.createUndoGroup()),e))).next((t=>this._perGraphicManipulatorDragAction(Wt.ALL,t))).next((t=>(this._updateTranslateGraphicTooltip(MoveManipulation_c.XY,t),t))).next((e=>{"end"===e.action&&(this._tooltip.clear(),t=(0,maybe/* removeMaybe */.xt)(t))})),a.next((()=>this._onDragCancel(!0,(()=>t=(0,maybe/* removeMaybe */.xt)(t)))))}))),this._graphicMoveManipulation.forEachManipulator((t=>this._manipulatorHandles.add(this._watchAndUpdateGrabState(t,!1))))}else this._graphicMoveManipulation.forEachManipulator((t=>{t.grabbable=!1,t.cursor=null}));this._graphicMoveManipulation.forEachManipulator((t=>this._manipulatorHandles.add(t.events.on("immediate-click",(t=>{this._manipulatorInfos.some((t=>t.manipulator.selected))?this._clearSelection():this.emit("immediate-click",{...t,graphic:this.graphic}),t.stopPropagation()})))))}_createMoveManipulation(t){const{graphic:e,tool:i,view:a}=this,n=this._graphicState;this._moveManipulation=new MoveManipulation_u({tool:i,view:a,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&manipulatorUtils_n(e),snapToScene:!1,radius:MoveManipulation_u.radiusForSymbol(e.symbol)}),this._moveManipulation.forEachManipulator((t=>this.addHandles([t.events.on("immediate-click",(i=>{this._moveManipulation.zManipulation.hasManipulator(t)||this._manipulatorInfos.some((t=>t.manipulator.selected))||this.emit("immediate-click",{...i,graphic:e}),i.stopPropagation()})),this._watchAndUpdateGrabState(t,!1)])));const o=t=>e=>{this.addHandles(e.events.on("focus-changed",(({action:e})=>{"focus"===e&&this._tooltipOptions.enabled?this._updateTranslateTooltip(t):this._tooltip.clear()})))};this._moveManipulation.xyManipulation.forEachManipulator(o(MoveManipulation_c.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(o(MoveManipulation_c.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(o(MoveManipulation_c.Z)),this._moveManipulation.elevationInfo={mode:"absolute-height",offset:0};const r=e.geometry.spatialReference;this.addHandles([this._moveManipulation.createDragPipeline(((a,n,o,r,s)=>{const{snappingStep:l,cancelSnapping:p}=(0,SnappingDragPipelineStep/* createSnapDragEventPipelineStep */.L)({predicate:t=>!!t.info,snappingManager:i.snappingManager,snappingContext:new SnappingContext/* SnappingContext */.e({editGeometryOperations:this._editGeometryOperations,elevationInfo:t,pointer:s,excludeFeature:e,visualizer:new SnappingVisualizer3D_O}),updatingHandles:this._updatingHandles,useZ:!1});return r=r.next((t=>(this._onDragCancel(),t))).next(p),{steps:o=o.next((t=>this._trackNumDragging(t))).next((t=>{const e=this._manipulatorInfos.filter((t=>"vertex"===t.type&&t.manipulator.selected));return t.manipulatorType===ManipulatorType_A.TRANSLATE_XY&&1===e.length?{...t,info:e[0],snapOrigin:e[0].handle.pos}:t})).next((0,dragEventPipeline/* sceneSnappingAtLocation */.pg)(this.view,t,e)).next(...l).next((0,dragEventPipeline/* addMapDelta */.EX)()).next((t=>this._perGraphicManipulatorDragAction(Wt.SELECTED_OR_ALL,t))).next((t=>(this._updateTranslateTooltip(a,t),t))),cancel:r}}),t,r,e),(0,reactiveUtils/* watch */.wB)((()=>n.displaying),(()=>this._updateMoveManipulationPosition()),reactiveUtils/* initial */.Vh),n.on("changed",(()=>{this._recreatingManipulators||this._updateMoveManipulationPosition()})),(0,reactiveUtils/* watch */.wB)((()=>n.isDraped),(t=>{this._updateMoveManipulationPosition();const e="align-move-manipulation";t?this.addHandles(this.view.elevationProvider.on("elevation-change",(()=>this._updateMoveManipulationPosition())),e):this.removeHandles(e)}),reactiveUtils/* initial */.Vh)])}_createVisualElements(){const{graphic:t,view:e}=this,i=visualElementUtils_i({view:e,graphic:t,forEachManipulator:t=>{if(!this.destroyed&&!this._recreatingManipulators){this._graphicMoveManipulation.forEachManipulator(t),this._moveManipulation.forEachManipulator(t);for(const e of this._manipulatorInfos)t(e.manipulator,ManipulatorType_A.TRANSLATE_XY)}},onManipulatorsChanged:t=>this.on("manipulators-changed",t)});null!=i&&(this._outlineVisualElement=i.visualElement instanceof OutlineVisualElement_w?i.visualElement:null),null!=this._outlineVisualElement&&this._manipulatorHandles.add(this._outlineVisualElement.events.on("attachment-origin-changed",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()}))),this._manipulatorHandles.add(i)}_createEdgeOffsetManipulator(t,e=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(this.graphic)){const i=this._settings.manipulators.edgeOffset,a=i.size/2,n=a+i.collisionPadding,o=a/n,s=o*Math.sqrt(3)/2;null==this._edgeOffsetManipulatorGeometryInside&&(this._edgeOffsetManipulatorGeometryInside=(0,GeometryUtil/* createExtrudedTriangle */._B)(this._edgeOffsetManipulatorMaterial,s,o/2,o/2,i.height,i.offset)),null==this._edgeOffsetManipulatorGeometryOutside&&(this._edgeOffsetManipulatorGeometryOutside=(0,GeometryUtil/* createExtrudedTriangle */._B)(this._edgeOffsetManipulatorMaterial,-s,o/2,o/2,i.height,-i.offset));const l=[new RenderObject_e(this._edgeOffsetManipulatorGeometryInside.instantiate(),interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused),new RenderObject_e(this._edgeOffsetManipulatorGeometryInside.instantiate({material:this._edgeOffsetManipulatorHoverMaterial}),interactive_interfaces/* ManipulatorStateFlags */.p7.Focused),new RenderObject_e(this._edgeOffsetManipulatorGeometryOutside.instantiate(),interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused),new RenderObject_e(this._edgeOffsetManipulatorGeometryOutside.instantiate({material:this._edgeOffsetManipulatorHoverMaterial}),interactive_interfaces/* ManipulatorStateFlags */.p7.Focused)],p=new Manipulator3D_$({view:this.view,renderObjects:l,elevationInfo:"on-the-ground"!==e.mode||(0,utils/* isVolumetricSymbol */.$d)(this.graphic.symbol)?{mode:"absolute-height",offset:0}:e,worldOriented:!1,focusMultiplier:1,radius:n,available:!(!this.graphic.visible||!this.graphic.layer?.visible),collisionType:{type:"disc",direction:(0,vec3f64.f)(0,0,1)},collisionPriority:1,metadata:{deleting:!1}}),h=new Manipulator3D_$({view:this.view,worldSized:!0,worldOriented:!1,available:!(!this.graphic.visible||!this.graphic.layer?.visible),collisionPriority:-10,cursor:this.enableMoveGraphic?"move":"default",metadata:{deleting:!1}}),u={manipulator:p,handle:t,locationUpdateHandle:null,type:"edge",selectedIndex:0,edgeManipulator:h,elevationInfo:e,visibilityHandle:null};this._autoHideEdgeOffsetManipulator(u,i.minSquaredEdgeLength),this._updateEdgeOffsetManipulator(u);const c=[];for(const r of[u.handle.leftVertex,u.handle.rightVertex]){const t=this._getManipulatorInfoFromHandle(r);null!=t&&c.push(t.manipulator.events.on("location-update",(()=>this._updateEdgeOffsetManipulator(u))))}u.locationUpdateHandle=(0,handleUtils/* handlesGroup */.vE)(c),this._manipulatorHandles.add(u.locationUpdateHandle,p),this._manipulatorHandles.add([this._watchAndUpdateGrabState(p,!0),this._watchAndUpdateGrabState(h,!0)],p),this._manipulatorHandles.add((0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(p,this._createEdgeOffsetPipeline(u,e)),p),this._manipulatorHandles.add((0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(h,((t,i,a,n)=>{if("touch"===n){this._createEdgeOffsetPipeline(u,e)(t,i,a)}else if(this.enableMoveGraphic){const n=this.graphic,o=null!=n.geometry?n.geometry.spatialReference:null;i.next((t=>this._trackNumDragging(t))).next((0,dragEventPipeline/* dragAtLocation */.Tp)(this.view,t.elevationAlignedLocation)).next(dragEventPipeline3D_T(this.view,t.elevationAlignedLocation,e,o,n)).next((0,dragEventPipeline/* addScreenDelta */.sO)()).next((0,dragEventPipeline/* addMapDelta */.EX)()).next((t=>this._perGraphicManipulatorDragAction(Wt.ALL,t))).next((t=>(this._updateTranslateGraphicTooltip(MoveManipulation_c.XY,t),t))).next((t=>{"end"===t.action&&this._tooltip.clear()})),a.next((()=>this._onDragCancel(!t.metadata.deleting)))}})),p);const m=t=>{this._manipulatorInfos.some((t=>t.manipulator.selected))?this._clearSelection():this.emit("immediate-click",{...t,graphic:this.graphic}),t.stopPropagation()};return this._manipulatorHandles.add([p.events.on("immediate-click",m),h.events.on("immediate-click",m),p.events.on("focus-changed",(({action:t})=>{const{_tooltipOptions:e,_tooltip:i}=this;"focus"===t&&e.enabled?(i.info=this._edgeOffsetTooltipInfo??=new ReshapeTooltipInfos_p({tooltipOptions:e}),i.info.distance=quantityUtils/* zeroMeters */.r7,i.info.tooltipOptions=e,this._updateTooltipAreaOrTotalLength(i.info)):i.clear()}))],p),this._manipulatorInfos.push(u),this.manipulators.add(p),this.manipulators.add(h),this.emit("manipulators-changed"),u}_autoHideEdgeOffsetManipulator(t,e){const i=t.manipulator,a=t.edgeManipulator,n=()=>{t.visibilityHandle=(0,maybe/* removeMaybe */.xt)(t.visibilityHandle);const n=this._getManipulatorInfoFromHandle(t.handle.leftVertex),o=this._getManipulatorInfoFromHandle(t.handle.rightVertex),l=null!=n&&null!=o&&edgeOffsetUtils_h(n.manipulator.renderLocation,o.manipulator.renderLocation,this.view.state.camera)<e;(!i.focused&&!a.focused||l)&&(i.grabbable=!l,a.grabbable=!l,t.visibilityHandle=(0,handleUtils/* handlesGroup */.vE)([i.disableDisplay(),(0,handleUtils/* makeHandle */.hA)((()=>{i.grabbable=!0,a.grabbable=this.enableMoveGraphic}))]))};this._manipulatorHandles.add([i.events.on("focus-changed",n),a.events.on("focus-changed",n),(0,handleUtils/* makeHandle */.hA)((()=>{(0,maybe/* removeMaybe */.xt)(t.visibilityHandle),a.metadata.deleting=!0,this.manipulators.remove(a)}))],i),n()}_updateEdgeOffsetManipulator(t){this._updateManipulatorPosition(t);const{coordinateHelper:e}=this._editGeometryOperations.data,i=edgeOffsetUtils_a(this.view,t.manipulator.elevationAlignedLocation,edgeOffsetUtils_m(e,t.handle,t.manipulator.elevationInfo)),a=this._getManipulatorInfoFromHandle(t.handle.leftVertex),n=this._getManipulatorInfoFromHandle(t.handle.rightVertex);if(null==a||null==n)return;const o=a.manipulator.renderLocation,r=n.manipulator.renderLocation,s=null!=i?edgeOffsetUtils_C(i,o,r):mat4f64.I;t.manipulator.modelTransform=s,t.edgeManipulator.elevationAlignedLocation=t.manipulator.elevationAlignedLocation,t.edgeManipulator.modelTransform=s;const l=(0,vec3.l)((0,vec3.f)(Xt,o,r))/2;t.edgeManipulator.collisionType={type:"line",paths:[[[-l,0,0],[l,0,0]]]}}_createEdgeOffsetPipeline(t,e){return(i,a,n)=>{this._clearSelection();const{step:o,cleanup:r}=this._initializeEdgeOffset(t,e);a.next((t=>this._trackNumDragging(t))).next((0,dragEventPipeline/* dragAtLocation */.Tp)(this.view,i.elevationAlignedLocation)).next(o).next(dragEventPipeline3D_U(this.view)).next(dragEventPipeline3D_k(this.view,this._editGeometryOperations.data.spatialReference)).next((0,dragEventPipeline/* addMapDelta */.EX)()).next(this._applyComputeEdgeOffsetDistanceStep()).next(this._applyEdgeOffsetStep(t)).next(this._showEdgeOffsetTooltip()).next((t=>{"end"===t.action&&r()})),n.next((()=>{i.metadata.deleting||(r(),this._onDragCancel())}))}}_initializeEdgeOffset(t,e){const{view:i}=this,n=this._editGeometryOperations,o=edgeOffsetUtils_m(n.data.coordinateHelper,t.handle,e),s=n.createUndoGroup(),p=edgeOffsetUtils_a(i,t.manipulator.elevationAlignedLocation,o);if(o.requiresSplitEdgeLeft){const e=this._getManipulatorInfoFromHandle(t.handle.leftVertex.leftEdge);null!=e&&this._splitEdgeManipulator(e,1)}if(o.requiresSplitEdgeRight){const e=this._getManipulatorInfoFromHandle(t.handle.rightVertex.rightEdge);null!=e&&this._splitEdgeManipulator(e,0)}const d=()=>new Polyline/* default */.A({paths:[[t.handle.leftVertex.pos,t.handle.rightVertex.pos]],spatialReference:n.data.spatialReference}),u=this._settings,c=new OutlineVisualElement_w({view:i,isDraped:this._graphicState.isDraped,geometry:d(),elevationInfo:t.elevationInfo,width:u.visualElements.lineGraphics.outline.width,attached:!1,isDecoration:!0});let g;const f=()=>{this._cleanEdgeOffsetCollapsedEdges(t),g=(0,maybe/* removeMaybe */.xt)(g)},v=this.on("undo",f);return g=(0,handleUtils/* handlesGroup */.vE)([(0,reactiveUtils/* watch */.wB)((()=>(0,colorUtils/* unitRGBAFromColor */.QP)(this._accentColor)),(t=>c.color=t),reactiveUtils/* initial */.Vh),(0,handleUtils/* destroyHandle */.DQ)(c),(0,reactiveUtils/* watch */.wB)((()=>this._graphicState.isDraped),(t=>c.isDraped=t)),this._graphicState.on("changed",(()=>c.geometry=d())),s,v]),c.attached=!0,{step:t=>null==o||null==p?(f(),null):{...t,operation:o,plane:p},cleanup:f}}_applyEdgeOffsetStep(t){return e=>{if(this.destroyed||null==e.operation)return e;this._updateEventState(qt.RESHAPING);const{mapDeltaX:i,mapDeltaY:a,mapDeltaZ:n}=e;return(i||a||n)&&(this._offsetEdge(t,e),this.emit("reshape",{type:"reshape",mover:this.graphic})),e}}_applyComputeEdgeOffsetDistanceStep(){return t=>{const{operation:e,mapEnd:i}=t;return null==e||null==i?t:("start"===t.action&&e.selectArrowFromStartPoint(i),{...t,signedDistance:e.signedDistanceToPoint(i)})}}_showEdgeOffsetTooltip(){return t=>{const{mapEnd:e,signedDistance:i,operation:a}=t,{_tooltip:n,_tooltipOptions:o}=this;return o.enabled&&null!=i?(n.info=this._edgeOffsetTooltipInfo??=new ReshapeTooltipInfos_p({tooltipOptions:o}),n.info.tooltipOptions=o,n.info.distance="end"===t.action?quantityUtils/* zeroMeters */.r7:Ft(this._graphicState.isDraped,i*a.selectedArrow,e,a.plane,this._editGeometryOperations.data.coordinateHelper),this._updateTooltipAreaOrTotalLength(n.info),t):(n.clear(),t)}}_cleanEdgeOffsetCollapsedEdges(t){const e=t.handle.leftVertex.leftEdge?.leftVertex,i=t.handle.leftVertex,a=t.handle.rightVertex.rightEdge?.rightVertex,n=t.handle.rightVertex,o=this._editGeometryOperations.data.coordinateHelper,r=[];if(e&&o.distance(e.pos,i.pos)<Zt){const t=this._getManipulatorInfoFromHandle(i);null!=t&&r.push(t)}if(o.distance(i.pos,n.pos)<Zt||a&&o.distance(a.pos,n.pos)<Zt){const t=this._getManipulatorInfoFromHandle(n);null!=t&&r.push(t)}r.length&&this._removeVertices(r)}_computeVertexManipulatorSizeAndOutline(t){const e=t.size/2,i=e+t.collisionPadding;return{size:e/i,outlineSize:(e+t.outlineSize)/i}}_createVertexOrEdgeManipulator(t,e=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(this.graphic),i=!1){const{view:a}=this,n=this._settings;if("edge"===t.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(t,e);if(!this.enableMidpoints)return null}if(null==this._vertexManipulatorGeometry||null==this._vertexManipulatorOutlineGeometry){const{size:t,outlineSize:e}=this._computeVertexManipulatorSizeAndOutline(n.manipulators.vertex);this._vertexManipulatorGeometry=(0,GeometryUtil/* createSphereGeometry */.CM)(this._vertexManipulatorMaterial,t,16,16),this._vertexManipulatorOutlineGeometry=(0,GeometryUtil/* createSphereGeometry */.CM)(this._vertexManipulatorOutlineMaterial,e,16,16)}if(null==this._edgeManipulatorGeometry||null==this._edgeManipulatorOutlineGeometry){const{size:t,outlineSize:e}=this._computeVertexManipulatorSizeAndOutline(n.manipulators.edge);this._edgeManipulatorGeometry=(0,GeometryUtil/* createSphereGeometry */.CM)(this._edgeManipulatorMaterial,t,16,16),this._edgeManipulatorOutlineGeometry=(0,GeometryUtil/* createSphereGeometry */.CM)(this._edgeManipulatorOutlineMaterial,e,16,16)}const{geometry:o}=this.graphic,s=o?.type,l="point"===s||"mesh"===s?[]:[new RenderObject_e(this._vertexManipulatorGeometry.instantiate(),Yt.Vertex|interactive_interfaces/* ManipulatorStateFlags */.p7.Unselected),new RenderObject_e(this._vertexManipulatorOutlineGeometry.instantiate(),Yt.Vertex|interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|interactive_interfaces/* ManipulatorStateFlags */.p7.Unselected),new RenderObject_e(this._vertexManipulatorOutlineGeometry.instantiate({material:this._vertexManipulatorHoverOutlineMaterial}),Yt.Vertex|interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|interactive_interfaces/* ManipulatorStateFlags */.p7.Unselected),new RenderObject_e(this._vertexManipulatorGeometry.instantiate({material:this._selectedManipulatorMaterial}),interactive_interfaces/* ManipulatorStateFlags */.p7.Selected),new RenderObject_e(this._vertexManipulatorOutlineGeometry.instantiate({material:this._selectedManipulatorOutlineMaterial}),interactive_interfaces/* ManipulatorStateFlags */.p7.Selected|interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused),new RenderObject_e(this._vertexManipulatorOutlineGeometry.instantiate({material:this._selectedManipulatorHoverOutlineMaterial}),interactive_interfaces/* ManipulatorStateFlags */.p7.Selected|interactive_interfaces/* ManipulatorStateFlags */.p7.Focused)];this.enableMidpoints&&l.push(new RenderObject_e(this._edgeManipulatorGeometry.instantiate({material:this._vertexManipulatorMaterial}),Yt.Edge|interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|interactive_interfaces/* ManipulatorStateFlags */.p7.Unselected),new RenderObject_e(this._edgeManipulatorOutlineGeometry.instantiate({material:this._vertexManipulatorHoverOutlineMaterial}),Yt.Edge|interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|interactive_interfaces/* ManipulatorStateFlags */.p7.Unselected),new RenderObject_e(this._edgeManipulatorGeometry.instantiate(),Yt.Edge|interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|interactive_interfaces/* ManipulatorStateFlags */.p7.Unselected),new RenderObject_e(this._edgeManipulatorOutlineGeometry.instantiate(),Yt.Edge|interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|interactive_interfaces/* ManipulatorStateFlags */.p7.Unselected));const p=new Manipulator3D_$({view:a,renderObjects:l,elevationInfo:e,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer?.visible),metadata:{deleting:!1}});p.selected=i,this._setTypeSpecificManipulatorSettings(p,t,e);const d="edge"===t.type?{manipulator:p,handle:t,locationUpdateHandle:null,type:"edge",selectedIndex:0}:{manipulator:p,handle:t,type:"vertex",selectedIndex:0};if(this._manipulatorInfos.push(d),this.manipulators.add(p),this._updateManipulatorPosition(d),"edge"===d.type){const t=[];for(const e of[d.handle.leftVertex,d.handle.rightVertex]){const i=this._getManipulatorInfoFromHandle(e);null!=i&&t.push(i.manipulator.events.on("location-update",(()=>this._updateManipulatorPosition(d))))}d.locationUpdateHandle=(0,handleUtils/* handlesGroup */.vE)(t),this._manipulatorHandles.add(d.locationUpdateHandle,p)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(p,!0),p);const u=(0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(p,((t,i,a,n)=>{let o=null;const{snappingStep:r,cancelSnapping:s}=(0,SnappingDragPipelineStep/* createSnapDragEventPipelineStep */.L)({predicate:()=>!this._isMultiVertexSelection(),snappingManager:this.tool.snappingManager,snappingContext:new SnappingContext/* SnappingContext */.e({editGeometryOperations:this._editGeometryOperations,elevationInfo:e,pointer:n,excludeFeature:this.graphic,visualizer:new SnappingVisualizer3D_O}),updatingHandles:this._updatingHandles,useZ:!1});a=a.next((e=>(this._onDragCancel(!t.metadata.deleting,(()=>o=(0,maybe/* removeMaybe */.xt)(o))),e))).next(s),i.next((t=>this._trackNumDragging(t))).next((t=>{if("start"===t.action&&(o=this._editGeometryOperations.createUndoGroup()),"edge"===d.type){const e=this._splitEdgeManipulator(d);return{...t,info:e,snapOrigin:e.handle.pos}}return{...t,info:d,snapOrigin:d.handle.pos}})).next((0,dragEventPipeline/* dragAtLocation */.Tp)(this.view,t.elevationAlignedLocation)).next(dragEventPipeline3D_D(this.view,this.graphic,t.elevationAlignedLocation,t.location.spatialReference,this.graphic)).next((0,dragEventPipeline/* sceneSnappingAtLocation */.pg)(this.view,e,this.graphic)).next(...r).next((0,dragEventPipeline/* addMapDelta */.EX)()).next((e=>{this._perVertexManipulatorDragAction(e),"end"===e.action&&(o=(0,maybe/* removeMaybe */.xt)(o)),this._updateTranslateVertexTooltip(t,MoveManipulation_c.XY,e)}))}));return this._manipulatorHandles.add([u,p.events.on("immediate-click",(t=>this._manipulatorClickCallback(t,d))),p.events.on("select-changed",(()=>{d.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()})),p.events.on("focus-changed",(({action:t})=>{"focus"===t&&"edge"!==d.type?this._updateTranslateVertexTooltip(p,MoveManipulation_c.XY):this._tooltip.clear()}))],p),this.emit("manipulators-changed"),d}_trackNumDragging(t){switch(t.action){case"start":this._numDragging++;break;case"end":this._numDragging--}return t}_onDragCancel(t=!0,e){switch(this._numDragging--,t&&(this.undo(),this.outputGeometry=null!=this._editGeometryOperations?this._editGeometryOperations.data.geometry:null),null!=this.tool.snappingManager&&this.tool.snappingManager.doneSnapping(),this._tooltip.clear(),this._reshapeEventState){case qt.NONE:break;case qt.MOVING:this.emit("move",{type:"move",dx:0,dy:0,mover:this.graphic});break;case qt.RESHAPING:this.emit("reshape",{type:"reshape",mover:this.graphic})}e&&e(),this.destroyed||this._updateEventState(qt.NONE)}_setTypeSpecificManipulatorSettings(t,e,i){const{graphic:a}=this,n=this._settings;switch(e.type){case"vertex":{t.state=Yt.Vertex,t.selectable=!0,t.cursor="move",t.collisionPriority=2;const{size:e,collisionPadding:o}=n.manipulators.vertex;t.radius=e/2+o,t.elevationInfo=i;const{geometry:r}=a,s=r?.type;t.interactive=null!=s&&"point"!==s&&"mesh"!==s;break}case"edge":{t.state=Yt.Edge,t.selectable=!1,t.cursor="copy",t.collisionPriority=-1;const{size:e,collisionPadding:o}=n.manipulators.edge;t.radius=e/2+o,t.elevationInfo="on-the-ground"!==i.mode||(0,utils/* isVolumetricSymbol */.$d)(a.symbol)?{mode:"absolute-height",offset:0}:i;break}}}_watchAndUpdateGrabState(t,e){return t.events.on("grab-changed",(i=>this._onGrabStateChanged(t,e,i.action,i.pointerType)))}_onGrabStateChanged(t,e,i,a="mouse"){if(!this._recreatingManipulators){if("start"===i)e&&this._updateSelection(t),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(qt.NONE),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing,("touch"!==a||this.enableEdgeOffset)&&(this._manipulatorInfos.forEach((t=>{const{manipulator:e}=t,{geometry:i}=this.graphic,a=i?.type;e.interactive=e.grabbing||!this._numGrabbing&&null!=a&&"point"!==a&&"mesh"!==a,"edgeManipulator"in t&&(t.edgeManipulator.interactive=t.edgeManipulator.grabbing||!this._numGrabbing)})),this._graphicMoveManipulation.forEachManipulator((t=>{t.interactive=t.grabbing||!this._numGrabbing})))}}_clearSelection(){for(const t of this._manipulatorInfos)t.manipulator.grabbing||(t.manipulator.selected=!1)}_updateSelection(t){t.grabbing&&!t.selected&&t.selectable&&(this._clearSelection(),t.selected=!0,this.emit("manipulators-changed"))}_removeManipulator(t){null!=t&&(t.manipulator.metadata.deleting=!0,this.manipulators.remove(t.manipulator),this._manipulatorHandles.remove(t.manipulator),(0,arrayUtils/* removeUnordered */.Xy)(this._manipulatorInfos,t),this.emit("manipulators-changed"))}_getManipulatorInfoFromHandle(t){if(t)for(const e of this._manipulatorInfos)if(t===e.handle)return e;return null}_updateManipulatorPosition(t){if(null==t)return;const e=this._editGeometryOperations;if("vertex"===t.type)t.manipulator.location=e.data.coordinateHelper.vectorToDehydratedPoint(t.handle.pos,zt),t.manipulator.grabbing&&null!=this._vertexLaserLineVisualElement&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=t.manipulator.renderLocation);else if("edge"===t.type){const i=this._getManipulatorInfoFromHandle(t.handle.leftVertex),a=this._getManipulatorInfoFromHandle(t.handle.rightVertex);if(null==i||null==a)return;const n=i.manipulator,o=a.manipulator;if(null!=t.manipulator.elevationInfo&&"on-the-ground"===t.manipulator.elevationInfo.mode){const i=n.location,a=o.location,r=.5,s=i.x+r*(a.x-i.x),l=i.y+r*(a.y-i.y),p=i.hasZ&&a.hasZ?0:void 0;t.manipulator.location=(0,dehydratedPoint/* makeDehydratedPoint */.T)(s,l,p,e.data.spatialReference)}else (0,vec3.p)(Xt,n.renderLocation,o.renderLocation,.5),t.manipulator.renderLocation=Xt}}_splitEdgeManipulator(t,e=.5){const i=this._editGeometryOperations,a=i.splitEdge(t.handle,e).createdVertex;t.locationUpdateHandle=(0,maybe/* removeMaybe */.xt)(t.locationUpdateHandle);const n=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(this.graphic);let o;this.enableEdgeOffset?(this._removeManipulator(t),o=this._createVertexOrEdgeManipulator(a)):(o=t,o.handle=a,o.type="vertex",this._setTypeSpecificManipulatorSettings(t.manipulator,t.handle,n)),a.leftEdge&&this._createVertexOrEdgeManipulator(a.leftEdge),a.rightEdge&&this._createVertexOrEdgeManipulator(a.rightEdge),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(o),this.enableEdgeOffset||this._updateTranslateVertexTooltip(o.manipulator,MoveManipulation_c.XY),this._updateSelection(t.manipulator);const r=this._updateEventState(qt.RESHAPING),s=i.data.coordinateHelper.vectorToArray(o.handle.pos),l=i.data.components.indexOf(a.component);return this.emit("vertex-add",{type:"vertex-add",vertices:[{coordinates:s,componentIndex:l,vertexIndex:a.index}],added:s}),r&&this._updateEventState(qt.NONE),o}_updateMoveManipulationPosition(){const t=(0,vec3.s)(Xt,0,0,0);let e=0,i=!1,a=null,n=null;for(const o of this._manipulatorInfos)"vertex"===o.type&&(o.manipulator.selected?(e++,(0,vec3.g)(t,t,o.manipulator.renderLocation),null==a||o.selectedIndex>a.selectedIndex?(n=a,a=o):(null==n||o.selectedIndex>n.selectedIndex)&&(n=o)):i=!0);if(0===e){const t=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=t,this._moveManipulation.xyAxisManipulation.available=t,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=t,this._moveManipulation.zManipulation.available=t&&this.enableZShape&&manipulatorUtils_n(this.graphic),this._moveManipulation.angle=geometryUtils_r(this.graphic.geometry),this._moveManipulation.radius=MoveManipulation_u.radiusForSymbol(this.graphic.symbol)}else{const t=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=t,this._moveManipulation.xyAxisManipulation.available=t,this._moveManipulation.zManipulation.available=t&&this.enableZVertex&&manipulatorUtils_n(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=t&&1!==e;let i=0;if(null!=a){const t=a.handle.pos,e=null!=n?n.handle.pos:a.handle.leftEdge&&a.handle.leftEdge.leftVertex?a.handle.leftEdge.leftVertex.pos:null,o=null==n&&a.handle.rightEdge&&a.handle.rightEdge.rightVertex?a.handle.rightEdge.rightVertex.pos:null;e&&o?this._moveManipulation.xyAxisManipulation.available=!1:e?i=Rt(e,t):o&&(i=Rt(t,o))}this._moveManipulation.angle=i,this._moveManipulation.radius=config_o}0!==e&&i?((0,vec3.i)(t,t,1/e),zt.spatialReference=this._editGeometryOperations.data.spatialReference,zt.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(t,zt),this._moveManipulation.elevationAlignedLocation=zt):null==this._outlineVisualElement||this._graphicState.isDraped||null==this._outlineVisualElement.attachmentOrigin?manipulatorUtils_v(this.view,this._moveManipulation,this.graphic):this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin}_removeVertices(t){const e=new Array,i=this._editGeometryOperations;for(const a of t)if("vertex"===a.type&&i.canRemoveVertex(a.handle.component)){e.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.rightEdge));const t=i.removeVertices([a.handle]),n=t.removedVertices?.[0].createdEdge;n&&this._createVertexOrEdgeManipulator(n)}if(e.length>0){const t=e.map((t=>{const e=i.data.components.indexOf(t.component);return{coordinates:i.data.coordinateHelper.vectorToArray(t.pos),componentIndex:e,vertexIndex:t.index}}));this.outputGeometry=i.data.geometry;const a=this._updateEventState(qt.RESHAPING);if(this.destroyed)return;if(this.emit("vertex-remove",{type:"vertex-remove",removed:t.map((t=>t.coordinates)),vertices:t}),this.destroyed)return;if(a&&(this._updateEventState(qt.NONE),this.destroyed))return;this._updateMoveManipulationPosition()}}_moveVertices(t,e,i=("start"===e.action?editGeometry_interfaces/* AccumulationBehaviour */.B.NEW_STEP:editGeometry_interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS)){const a=this._editGeometryOperations;a.moveVertices(t.map((t=>t.handle)),e.mapDeltaX,e.mapDeltaY,e.mapDeltaZ,i),this.outputGeometry=a.data.geometry;for(const n of t)this._updateManipulatorPosition(n)}_offsetEdge(t,e){if(null==e.operation||null==e.signedDistance)return;const i=this._editGeometryOperations,a=e.operation.clone();a.distance=e.signedDistance,i.updateVertices([t.handle.leftVertex,t.handle.rightVertex],a),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(t.handle.leftVertex)),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(t.handle.rightVertex))}_manipulatorClickCallback(t,e){t.shiftKey||this._clearSelection(),"vertex"===e.type&&(e.manipulator.selected=!e.manipulator.selected,t.button===IViewEvents/* MouseButton */.w.Right&&this._removeVertices([e])),"edge"===e.type&&t.button===IViewEvents/* MouseButton */.w.Left&&this._splitEdgeManipulator(e),t.stopPropagation()}_updateTranslateTooltip(t,e){const i=this._manipulatorInfos.filter((t=>"vertex"===t.type&&t.manipulator.selected));1===i.length?this._updateTranslateVertexTooltip(i[0].manipulator,t,e):this._updateTranslateGraphicTooltip(t,e)}_updateTranslateGraphicTooltip(t,e){const{_tooltipOptions:i,_tooltip:a}=this;if(!i.enabled)return;const n=this._graphicState.isDraped?"on-the-ground":"absolute-height";switch(t){case MoveManipulation_c.XY:a.info=this._translateGraphicTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicTooltipInfo */.ar({tooltipOptions:i}),this._updateTranslateTooltipDistance(a.info,e,((t,e)=>(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t,e,n)));break;case MoveManipulation_c.XY_AXIS:a.info=this._translateGraphicXYTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicXYTooltipInfo */.nW({tooltipOptions:i}),this._updateTranslateTooltipDistance(a.info,e,((t,i)=>{const a=(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t,i,n);return (0,quantityUtils/* scale */.hs)(a,moveUtils_a(e))}));break;case MoveManipulation_c.Z:a.info=this._translateGraphicZTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicZTooltipInfo */.YI({tooltipOptions:i}),this._updateTranslateTooltipDistance(a.info,e,euclideanLengthMeasurementUtils/* verticalSignedDistanceBetweenPoints */.e5)}a.info.tooltipOptions=i}_updateTranslateVertexTooltip(t,e,i){const{_tooltipOptions:a,_tooltip:n}=this;if(!a.enabled)return;const o=this._graphicState.isDraped?"on-the-ground":"absolute-height";switch(e){case MoveManipulation_c.XY:n.info=this._translateVertexTooltipInfo??=new TranslateTooltipInfos/* TranslateVertexTooltipInfo */.un({tooltipOptions:a}),this._updateTranslateTooltipDistance(n.info,i,((t,e)=>(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t,e,o))),this._updateTooltipAreaOrTotalLength(n.info);break;case MoveManipulation_c.XY_AXIS:n.info=this._translateVertexXYTooltipInfo??=new TranslateTooltipInfos/* TranslateVertexXYTooltipInfo */.JH({tooltipOptions:a}),this._updateTranslateTooltipDistance(n.info,i,((t,e)=>{const a=(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t,e,o);return (0,quantityUtils/* scale */.hs)(a,moveUtils_a(i))})),this._updateTooltipAreaOrTotalLength(n.info);break;case MoveManipulation_c.Z:n.info=this._translateVertexZTooltipInfo??=new TranslateTooltipInfos/* TranslateVertexZTooltipInfo */.y3({tooltipOptions:a}),this._updateTranslateTooltipDistance(n.info,i,euclideanLengthMeasurementUtils/* verticalSignedDistanceBetweenPoints */.e5)}const r=(0,euclideanLengthMeasurementUtils/* elevationOfPoint */.Re)(t.elevationAlignedLocation);null!=r&&(n.info.elevation=(0,fields/* makeElevationField */.S3)({actual:r})),n.info.tooltipOptions=a}_updateTranslateTooltipDistance(t,e,i){if(null!=e&&"end"!==e.action){const{mapStart:a,mapEnd:n}=e,o=i(a,n);t.distance=null!=o?o:quantityUtils/* zeroMeters */.r7}else t.distance=quantityUtils/* zeroMeters */.r7}_updateTooltipAreaOrTotalLength(t){const{geometry:e}=this.graphic;if(null==e)return t.area=null,void(t.totalLength=null);const i=this._graphicState.isDraped?"on-the-ground":"absolute-height";t.area="polygon"===e.type?(0,automaticAreaMeasurementUtils/* autoAreaByElevationMode */.Y)(e,i):null,t.totalLength="polyline"===e.type?(0,automaticLengthMeasurementUtils/* autoLengthByElevationMode */.t0)(e,i):null}get test(){return{segmentLabels:this._segmentLabels,tooltip:this._tooltip}}};function Rt(t,e){return Math.atan2(e[1]-t[1],e[0]-t[0])+Math.PI/2}function Ft(t,e,i,a,n){if(t){const t=n.toXYZ(n.pointToVector(i)),o=(0,plane/* projectPoint */._I)(a,t,vectorStacks/* sv3d */.rq.get()),r=(0,geodesicLengthMeasurementUtils/* geodesicDistance */.n3)(o,t,n.spatialReference);if(null!=r)return (0,quantityUtils/* createLength */.d_)(r.value*Math.sign(e),r.unit)}return (0,quantityUtils/* createLength */.d_)(e*(0,unitUtils/* getMetersPerUnitForSR */.GA)(i.spatialReference),"meters")}(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"_editGeometryOperations",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"_segmentLabels",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],kt.prototype,"tool",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"_tooltip",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"inputGeometry",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"outputGeometry",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],kt.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"manipulators",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"view",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"graphic",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"enableZShape",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"enableZVertex",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"enableMoveGraphic",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"enableMidpoints",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"enableEdgeOffset",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"_labelOptions",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"_tooltipOptions",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],kt.prototype,"_accentColor",null),kt=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation")],kt);const zt=(0,dehydratedPoint/* makeDehydratedPoint */.T)(0,0,void 0,SpatialReference/* default */.A.WGS84),Xt=(0,vec3f64.c)(),Zt=1e-6;var Yt,qt,Wt;!function(t){t.Vertex=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom1,t.Edge=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom2}(Yt||(Yt={})),function(t){t[t.NONE=0]="NONE",t[t.MOVING=1]="MOVING",t[t.RESHAPING=2]="RESHAPING"}(qt||(qt={})),function(t){t[t.ALL=0]="ALL",t[t.SELECTED_OR_ALL=1]="SELECTED_OR_ALL"}(Wt||(Wt={}));

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/SketchLabelOptions.js
var SketchLabelOptions = __webpack_require__(86084);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let GraphicReshapeTool_u=class extends(Evented/* default */.A.EventedMixin(InteractiveToolBase/* InteractiveToolBase */.g)){constructor(e){super(e),this._internalGeometryUpdate=!1,this.enableZShape=!0,this.enableZVertex=!0,this.enableMoveGraphic=!0,this.enableMidpoints=!0,this.enableEdgeOffset=!1,this.type="reshape-3d",this.labelOptions=new SketchLabelOptions/* default */.A,this.tooltipOptions=new SketchTooltipOptions/* default */.A,this.snappingManager=null,this.automaticManipulatorSelection=!1}initialize(){const e=this._reshapeOperation=new kt({tool:this});this.addHandles([e.on("reshape",(e=>{"reshape"===e.type&&this._onReshapeGeometryChanged(),this.emit("reshape",e)})),e.on("move",(e=>{"move"===e.type&&this._onReshapeGeometryChanged(),this.emit("move",e)})),e.on("vertex-add",(e=>{this._onReshapeGeometryChanged(),this.emit("vertex-add",e)})),e.on("vertex-remove",(e=>{this._onReshapeGeometryChanged(),this.emit("vertex-remove",e)})),e.on("immediate-click",(e=>this.emit("immediate-click",e))),this.view.on("pointer-down",["Shift"],(e=>e.stopPropagation())),(0,reactiveUtils/* watch */.wB)((()=>this.graphic),(()=>this._updateGraphic()),reactiveUtils/* syncAndInitial */.pc)]),this.finishToolCreation()}destroy(){this._reshapeOperation=(0,maybe/* destroyMaybe */.pR)(this._reshapeOperation)}get updating(){return this._reshapeOperation?.updating??!1}_updateGeometry(){const e=(0,reshapeGraphic_isSupportedGraphic/* geometryOfSupportedGraphic */.g)(this.graphic);this._reshapeOperation.inputGeometry=null!=e?e.clone():null}_updateGraphic(){if(this.removeHandles("onGraphicGeometryChange"),this._updateGeometry(),(0,reshapeGraphic_isSupportedGraphic/* isSupportedGraphic */.N)(this.graphic)!==isSupportedGraphicUtils/* SupportedGraphicResult */.e.SUPPORTED)return;const e=(0,reactiveUtils/* watch */.wB)((()=>this.graphic?.geometry),(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),reactiveUtils/* sync */.OH);this.addHandles(e,"onGraphicGeometryChange")}onManipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.onManipulatorSelectionChanged()}_updateGeometryInternally(e){this._internalGeometryUpdate=!0;const{graphic:t}=this,{geometry:o}=t;"mesh"===o?.type&&"point"===e.type?(t.geometry=o.centerAt(e),t.notifyGeometryChanged()):t.geometry=e,this._internalGeometryUpdate=!1}_onReshapeGeometryChanged(){const{outputGeometry:e}=this._reshapeOperation;null!=this.graphic&&e&&this._updateGeometryInternally(e.clone())}get canUndo(){return this._reshapeOperation.canUndo??!1}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping();const e=this._reshapeOperation.undo(),{outputGeometry:t}=this._reshapeOperation;e&&t&&this._updateGeometryInternally(t.clone())}get canRedo(){return this._reshapeOperation.canRedo??!1}redo(){null!=this.snappingManager&&this.snappingManager.doneSnapping();const e=this._reshapeOperation.redo(),{outputGeometry:t}=this._reshapeOperation;e&&t&&this._updateGeometryInternally(t.clone())}onInputEvent(e){"key-down"!==e.type||"Delete"!==e.key&&"Backspace"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager,reshapeOperation:this._reshapeOperation}}};(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicReshapeTool_u.prototype,"_reshapeOperation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicReshapeTool_u.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],GraphicReshapeTool_u.prototype,"graphic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicReshapeTool_u.prototype,"enableZShape",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicReshapeTool_u.prototype,"enableZVertex",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicReshapeTool_u.prototype,"enableMoveGraphic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicReshapeTool_u.prototype,"enableMidpoints",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicReshapeTool_u.prototype,"enableEdgeOffset",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicReshapeTool_u.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchLabelOptions/* default */.A})],GraphicReshapeTool_u.prototype,"labelOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchTooltipOptions/* default */.A})],GraphicReshapeTool_u.prototype,"tooltipOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],GraphicReshapeTool_u.prototype,"snappingManager",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicReshapeTool_u.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicReshapeTool_u.prototype,"automaticManipulatorSelection",void 0),GraphicReshapeTool_u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool")],GraphicReshapeTool_u);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Cyclical.js
var Cyclical = __webpack_require__(17505);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/scheduling.js
var scheduling = __webpack_require__(61449);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/TransformTooltipInfos.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let TransformTooltipInfos_r=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(o){super(o),this.type="transform-rotate",this.rotation=null,this.rotationPrecision=null,this.orientation=null,this.orientationPrecision=null,this.rotationType="geographic"}};(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_r.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_r.prototype,"rotation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_r.prototype,"rotationPrecision",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_r.prototype,"orientation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_r.prototype,"orientationPrecision",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_r.prototype,"rotationType",void 0),TransformTooltipInfos_r=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.TransformRotateTooltipInfo")],TransformTooltipInfos_r);let TransformTooltipInfos_s=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(o){super(o),this.type="transform-scale",this.size=null,this.sizeUnit=null,this.sizePrecision=null}};(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_s.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_s.prototype,"scale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_s.prototype,"size",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_s.prototype,"sizeUnit",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_s.prototype,"sizePrecision",void 0),TransformTooltipInfos_s=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.TransformScaleTooltipInfo")],TransformTooltipInfos_s);let TransformTooltipInfos_p=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(o){super(o),this.type="transform-absolute",this.orientation=null,this.orientationPrecision=null,this.rotationType="geographic",this.size=null,this.sizePrecision=null,this.sizeUnit=null}};(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_p.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_p.prototype,"orientation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_p.prototype,"orientationPrecision",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_p.prototype,"rotationType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_p.prototype,"size",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_p.prototype,"sizePrecision",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TransformTooltipInfos_p.prototype,"sizeUnit",void 0),TransformTooltipInfos_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.TransformAbsoluteTooltipInfo")],TransformTooltipInfos_p);

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var yt;!function(t){t.ScaleIn=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom2,t.ScaleOut=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom3,t.RotateLeft=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom4,t.RotateRight=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom5,t.Unlocked=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom7,t.DelayedFocused=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom8,t.TouchInput=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom12}(yt||(yt={}));let Tt=class extends Accessor/* default */.A{get angle(){return this.adapter.angle}get scale(){return this.adapter.scale}set location(t){this._ringManipulator.location=t}set elevationAlignedLocation(t){this._ringManipulator.elevationAlignedLocation=t}get grabbing(){return this._ringManipulator.grabbing}set interactive(t){this._ringManipulator.interactive=t}get updating(){return!!this._activeAnimation}constructor(t){super(t),this.mode=null,this._scaleRotateDragData=null,this._activeAnimation=null,this._ringIndicatorDelayMs=config_q,this._absoluteTooltipInfo=null,this._scaleTooltipInfo=null,this._rotateTooltipInfo=null,this.events=new Evented/* default */.A,this.getFocused=()=>this._ringManipulator.focused,this.getScale=()=>"scale"===this._scaleRotateDragData?.mode?this.adapter.scale:1}initialize(){this._tooltip=new Tooltip/* Tooltip */.m({view:this.tool.view}),this._createManipulator(),this._updateDragState(),this._updateManipulatorTransform(),this.addHandles([(0,reactiveUtils/* when */.z7)((()=>!this.tooltipOptions.enabled),(()=>this._tooltip.clear()),reactiveUtils/* initial */.Vh),(0,reactiveUtils/* watch */.wB)((()=>{const{adapter:t}=this,{info:e}=this._tooltip;return e===this._absoluteTooltipInfo&&this.getFocused()?[e,t.size,t.orientationClockwise]:[null]}),(([t])=>{t&&this._updateFocusTooltip()}))])}destroy(){this._activeAnimation?.frameTask.remove(),this._activeAnimation=null,this.tool.manipulators.remove(this._ringManipulator),this._ringManipulator=null,this._tooltip=(0,maybe/* destroyMaybe */.pR)(this._tooltip)}startAnimation(t){this.cancelActiveAnimation(),t.start();const e=(0,scheduling/* addFrameTask */.mg)({update:({deltaTime:e})=>{t.update(e)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:e}}cancelActiveAnimation(){this._activeAnimation?.frameTask.remove(),this._activeAnimation=(0,maybe/* destroyMaybe */.pR)(this._activeAnimation)}forEachManipulator(t){t(this._ringManipulator,ManipulatorType_A.SCALE_ROTATE)}_createManipulator(){const t=this._createRingManipulator();this._ringManipulator=t,this.tool.manipulators.add(t);const e=this.tool.graphicState.graphic,a=(0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(t,((t,a,o)=>{this._scaleRotateDragData=null;const n=this.adapter.startInteraction(),l={mode:"none",origin:(0,vec3f64.g)(t.renderLocation),initialAngle:this.adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=l,this._updateDragState();const c=vectorStacks/* sv3d */.rq.get();this.tool.view.renderCoordsHelper.worldUpAtPosition(t.renderLocation,c),a.next(dragEventPipeline3D_H(this.tool.view,(0,plane/* fromPositionAndNormal */.O_)(t.renderLocation,c,(0,plane/* create */.vt)()))).next((t=>{const a=(0,plane/* normal */.qb)(t.plane),o=manipulatorUtils_F(t.renderStart,t.renderEnd,l.origin,a),c=Cyclical/* cyclicalPI */.wf.shortestSignedDiff(l.angle,o);l.angleDir=(0,mathUtils/* clamp */.qE)(l.angleDir+c,-config_m,config_m),l.angle=o;const p=bt(l,t),h=p-this.adapter.scale;if(l.scaleDir=(0,mathUtils/* clamp */.qE)(l.scaleDir+h,-config_k,config_k),this._onScaleChanged(),"none"===l.mode){const a=this.mode||wt(t,t.plane,l.origin,this.tool.view.state.camera);if(null!=a){switch(a){case"rotate":this.tool.emit("graphic-rotate-start",{graphic:e,angle:0}),this.tool.emit("record-undo",{record:this.adapter.createUndoRecord()});break;case"scale":this.tool.emit("graphic-scale-start",{graphic:e,xScale:1,yScale:1}),this.tool.emit("record-undo",{record:this.adapter.createUndoRecord()})}l.mode=a}}switch(l.mode){case"rotate":n.state.angle=l.initialAngle+o;break;case"scale":n.state.scale=p,this._onScaleChanged()}switch(this._updateDragState(),this._updateManipulatorTransform(),t.action){case"start":case"update":switch(l.mode){case"rotate":this.tool.emit("graphic-rotate",{graphic:e,angle:(0,mathUtils/* rad2deg */.KJ)(l.angle)});break;case"scale":this.tool.emit("graphic-scale",{graphic:e,xScale:p,yScale:p})}break;case"end":switch(l.mode){case"rotate":this.tool.emit("graphic-rotate-stop",{graphic:e,angle:(0,mathUtils/* rad2deg */.KJ)(l.angle)});break;case"scale":this.tool.emit("graphic-scale-stop",{graphic:e,xScale:p,yScale:p})}}return"end"===t.action&&(this.startAnimation(It(this,(()=>this._onScaleChanged()))),this._scaleRotateDragData=null,this._updateDragState(),n.done()),t})).next(this._updateTooltipPipelineStep(l)),o.next((()=>{if(n.cancel(),null!=this._scaleRotateDragData){switch(this._scaleRotateDragData.mode){case"none":break;case"rotate":this.tool.emit("graphic-rotate-stop",{graphic:e,angle:0});break;case"scale":this.tool.emit("graphic-scale-stop",{graphic:e,xScale:1,yScale:1})}this.startAnimation(It(this,(()=>this._onScaleChanged()))),this._scaleRotateDragData=null,this._updateDragState()}this._updateFocusTooltip()}))}));this.addHandles([a,t.events.on("focus-changed",(t=>{"focus"===t.action?this.startAnimation(Ot(this,(()=>this._updateDelayedFocusedState()),{delayMs:this._ringIndicatorDelayMs})):this._updateDelayedFocusedState()})),t.events.on("immediate-click",(t=>{t.stopPropagation()})),(0,reactiveUtils/* watch */.wB)((()=>this.tool.graphicState?.displaying),(t=>this._ringManipulator.available=t),reactiveUtils/* initial */.Vh)])}_updateTooltipPipelineStep(t){return e=>{const a=this.tooltipOptions;if(!a.enabled)return e;if("end"===e.action)return this._updateFocusTooltip(),e;const i=this._tooltip,o=this.tooltipOptions.visualVariables;switch(t.mode){case"scale":{i.info=this._scaleTooltipInfo??=new TransformTooltipInfos_s({tooltipOptions:a});const{size:t,scale:e}=this.adapter,s=o?.size,r=i.info;r.tooltipOptions=a,r.scale={value:e},r.size=null!=t?(0,quantityUtils/* createLength */.d_)(t,"meters"):void 0,r.sizePrecision=GraphicScaleRotateTransform_kt(s?.valueType),r.sizeUnit=s?.unit;break}case"rotate":{i.info=this._rotateTooltipInfo??=new TransformTooltipInfos_r({tooltipOptions:a});const{orientationClockwise:t,relativeAngleClockwise:e}=this.adapter,s=o?.rotation,r=GraphicScaleRotateTransform_kt(s?.valueType),n=i.info;n.tooltipOptions=a,n.rotation=null!=e?(0,quantityUtils/* createAngle */.Wq)(e,"radians","geographic"):void 0,n.rotationPrecision=r,n.rotationType=s?.rotationType??"geographic",n.orientation=null!=t?(0,quantityUtils/* createAngle */.Wq)(t,"radians","geographic"):void 0,n.orientationPrecision=r;break}}return e}}_updateFocusTooltip(){const{tooltipOptions:t,_tooltip:e}=this;if(!t.enabled)return;if(this.getFocused()){const a=t.visualVariables,i=a?.rotation,o=a?.size,s=this.mode,{size:r,orientationClockwise:n}=this.adapter,p=null!=n&&(null==s||"rotate"===s),h=null!=r&&(null==s||"scale"===s);e.info=this._absoluteTooltipInfo??=new TransformTooltipInfos_p({tooltipOptions:t});const u=e.info;u.tooltipOptions=t,u.orientation=p?(0,quantityUtils/* createAngle */.Wq)(n,"radians","geographic"):void 0,u.orientationPrecision=GraphicScaleRotateTransform_kt(i?.valueType),u.rotationType=i?.rotationType??"geographic",u.size=h?(0,quantityUtils/* createLength */.d_)(r,"meters"):void 0,u.sizeUnit=o?.unit,u.sizePrecision=GraphicScaleRotateTransform_kt(o?.valueType)}else e.clear()}_onScaleChanged(){this.events.emit("scale-changed"),this._updateManipulatorTransform()}_updateDelayedFocusedState(){this._ringManipulator.updateStateEnabled(yt.DelayedFocused,this.getFocused()),this._updateFocusTooltip()}_updateDragState(){if(this._ringManipulator.updateStateEnabled(yt.Unlocked,!(null!=this._scaleRotateDragData&&"none"!==this._scaleRotateDragData?.mode)),null!=this._scaleRotateDragData)switch(this._scaleRotateDragData.mode){case"rotate":this._ringManipulator.updateStateEnabled(yt.ScaleIn|yt.ScaleOut,!1),this._ringManipulator.updateStateEnabled(yt.RotateLeft,this._scaleRotateDragData.angleDir<0),this._ringManipulator.updateStateEnabled(yt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case"scale":this._ringManipulator.updateStateEnabled(yt.RotateLeft|yt.RotateRight,!1),this._ringManipulator.updateStateEnabled(yt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this._ringManipulator.updateStateEnabled(yt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this._ringManipulator.updateStateEnabled(yt.ScaleIn|yt.ScaleOut|yt.RotateLeft|yt.RotateRight,!1)}_updateManipulatorTransform(){const t=(0,mat4.c)(vectorStacks/* sm4d */.Rc.get(),this.adapter.angle,(0,vec3f64.f)(0,0,1));if(null==t)return;const e=this.getScale(),a=(0,mat4.E)(vectorStacks/* sm4d */.Rc.get(),(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),e,e,e));this._ringManipulator.modelTransform=(0,mat4.m)(vectorStacks/* sm4d */.Rc.get(),a,t)}_createRingManipulator(){const t=(t,e,a)=>{const i=[],o=Math.ceil(config_t*(e-t)/(2*Math.PI));for(let s=0;s<o+1;s++){const r=t+s*(e-t)/o;i.push((0,vec3f64.f)(a*Math.cos(r),a*Math.sin(r),0))}return i},e=e=>t(0,2*Math.PI,e),a=t=>[[-t/2,0],[t/2,0],[t/2,config_P/2],[-t/2,config_P/2]],i=this._createMaterial(1),o=(t,e,o=i)=>(0,GeometryUtil/* createPathExtrusionGeometry */.Nq)(o,a(e),t,[],[],!1),s=e(config_I),r=o(s,config_i),n={left:new Array,right:new Array},l=[];for(let j=0;j<2;j++){const e=j*Math.PI-Math.PI/4,a=Math.PI/2-config_x,s=e+a,r=e+Math.PI/2-a,c=t(s,r,config_n),p=o(c,config_l);l.push(c),l.push(t(s,r,config_p-config_i/2)),n.left.push(p),n.right.push(p.instantiate());for(let t=0;t<2;t++){const e=0===t,a=(0,mat4f64.a)();if(e){(0,mat4.b)(a,a,[1,-1,1]),(0,mat4.k)(a,a,-s,[0,0,1]);const t=Math.round(config_f*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}else{(0,mat4.k)(a,a,r,[0,0,1]);const t=Math.round((1-config_f)*(c.length-1));a[12]=c[t][0],a[13]=c[t][1],a[14]=c[t][2]}const o=(0,GeometryUtil/* createExtrudedTriangle */._B)(i,config_r,0,config_s,config_P);(0,GeometryUtil/* transformInPlace */.xh)(o,a),(e?n.left:n.right).push(o)}}const c=[];for(let v=0;v<2;v++){const e=v*Math.PI-Math.PI/4,a=Math.PI/2-config_b,i=e+a,s=e+Math.PI/2-a,r=t(i,s,config_p);c.push(o(r,config_l))}const p=this._createMaterial(.66),h=this._createMaterial(.5),u=this._createMaterial(.33),d=e(config_I+config_g),g=e(config_I+config_j),m=o(d,config_l,p),f=o(g,config_l,u),_=e(config_I-config_g),D=e(config_I-config_j),S=o(_,config_l,p),T=o(D,config_l,u);let b=[new RenderObject_e(r,yt.DelayedFocused),new RenderObject_e(r.instantiate({material:h}),interactive_interfaces/* ManipulatorStateFlags */.p7.None)];this.mode&&"scale"!==this.mode||(b=b.concat([...c.map((t=>new RenderObject_e(t,yt.DelayedFocused|yt.Unlocked))),new RenderObject_e(m,yt.DelayedFocused|yt.ScaleIn),new RenderObject_e(f,yt.DelayedFocused|yt.ScaleIn),new RenderObject_e(S,yt.DelayedFocused|yt.ScaleOut),new RenderObject_e(T,yt.DelayedFocused|yt.ScaleOut)])),this.mode&&"rotate"!==this.mode||(b=b.concat([...n.right.map((t=>new RenderObject_e(t.instantiate(),yt.DelayedFocused|yt.Unlocked))),...n.left.map((t=>new RenderObject_e(t,yt.DelayedFocused|yt.RotateLeft))),...n.right.map((t=>new RenderObject_e(t,yt.DelayedFocused|yt.RotateRight)))]));const w=[s,...l];return new Manipulator3D_$({view:this.tool.view,renderObjects:b,autoScaleRenderObjects:!1,worldOriented:!0,radius:config_i,focusMultiplier:1,touchMultiplier:1.5,elevationInfo:(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(this.tool.graphicState.graphic),collisionType:{type:"ribbon",paths:w,direction:(0,vec3f64.f)(0,0,1)}})}_createMaterial(t){const e=new ColorMaterial/* ColorMaterial */.v({cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,renderOccluded:Material/* RenderOccludedFlag */.m$.Transparent,isDecoration:!0});return this.addHandles((0,reactiveUtils/* watch */.wB)((()=>({color:(0,colorUtils/* multiplyOpacityToUnitRGBA */.f6)(this.tool.view.effectiveTheme.accentColor,t)})),(t=>e.setParameters(t)),reactiveUtils/* initial */.Vh)),e}get test(){return{ringManipulator:this._ringManipulator,setRingIndicatorDelayMs:t=>this._ringIndicatorDelayMs=t,tooltip:this._tooltip}}};function bt(t,e){const a=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),e.renderStart,t.origin),i=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),e.renderEnd,t.origin),o=(0,vec3.l)(a),s=(0,vec3.l)(i);return 0===o?0:s/o}function wt(t,e,a,i){const{renderStart:o,renderEnd:s}=t,r=jt(o,i,vectorStacks/* sv3d */.rq.get()),n=jt(s,i,vectorStacks/* sv3d */.rq.get());if((0,vec3.a)(r,n)<config_d*config_d)return null;const l=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),o,a),c=(0,vec3.b)(vectorStacks/* sv3d */.rq.get(),l,(0,plane/* normal */.qb)(e)),p=o,h=(0,vec3.g)(vectorStacks/* sv3d */.rq.get(),p,c),u=jt(a,i,vectorStacks/* sv3d */.rq.get()),d=r,g=jt(h,i,vectorStacks/* sv3d */.rq.get()),m=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),g,d),f=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),r,u),_=(0,ray/* wrap */.LV)(d,m),D=(0,ray/* wrap */.LV)(u,f);return (0,ray/* distance2 */.kb)(_,n)<(0,ray/* distance2 */.kb)(D,n)?"rotate":"scale"}function jt(t,e,a){return e.projectToScreen(t,At),(0,vec3.s)(a,At[0],At[1],0)}var GraphicScaleRotateTransform_Rt;function It(t,e){let a=null,i=1;const o=()=>i;return{start:()=>{i=t.getScale(),a=t.getScale,t.getScale=o,e()},update:t=>(i+=((i+1)/2-i)*Math.min(t*config_u,1),e(),Math.abs(i-1)<.01?GraphicScaleRotateTransform_Rt.STOP:GraphicScaleRotateTransform_Rt.CONTINUE),destroy:()=>{a&&(t.getScale=a),e()}}}function Ot(t,e,a){let i=0,o=null;const s=()=>!1;return{start:()=>{o=t.getFocused,t.getFocused=s,i=0,e()},update:t=>(i+=t,!o?.()||i>=a.delayMs?GraphicScaleRotateTransform_Rt.STOP:GraphicScaleRotateTransform_Rt.CONTINUE),destroy:()=>{o&&(t.getFocused=o),e()}}}function GraphicScaleRotateTransform_kt(t){switch(t){case"integer":case"long":return 0;default:return null}}(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],Tt.prototype,"tool",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],Tt.prototype,"adapter",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],Tt.prototype,"tooltipOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Tt.prototype,"mode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Tt.prototype,"_activeAnimation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],Tt.prototype,"updating",null),Tt=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.transformGraphic.GraphicScaleRotateTransform")],Tt),function(t){t[t.CONTINUE=0]="CONTINUE",t[t.STOP=1]="STOP"}(GraphicScaleRotateTransform_Rt||(GraphicScaleRotateTransform_Rt={}));const At=(0,screenUtils/* createScreenPointArray */.gs)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js
var axisAngleDegrees = __webpack_require__(69175);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/MeshTransform.js
var MeshTransform = __webpack_require__(8695);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/undoRecords.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function undoRecords_t(e){return null!=e.geometry&&"mesh"===e.geometry.type?undoRecords_r(e.geometry):undoRecords_n(e)}function undoRecords_r(e){return e.vertexSpace.isRelative?undoRecords_o(e,e.transform,e.vertexSpace):undoRecords_i(e)}function undoRecords_n(e){let t=e.geometry,r=null;return{undo(e){r=e.geometry,e.geometry=t},redo(e){t=e.geometry,e.geometry=r}}}function undoRecords_o(t,r,n){let o=r?.clone(),i=(0,vec3f64.g)(n.origin),u=null,s=null;return{undo:r=>{u=t.transform?.clone(),s=(0,vec3f64.g)(n.origin),t.transform=o,t.vertexSpace.origin=i,r.notifyMeshTransformChanged()},redo:r=>{o=t.transform?.clone(),i=(0,vec3f64.g)(n.origin),t.transform=u,t.vertexSpace.origin=s,r.notifyMeshTransformChanged()}}}function undoRecords_i(e){let t,r=e.vertexAttributes.clonePositional();return{undo:n=>{t=e.vertexAttributes.clonePositional(),e.vertexAttributes=r,n.notifyGeometryChanged()},redo:n=>{r=e.vertexAttributes.clonePositional(),e.vertexAttributes=t,n.notifyGeometryChanged()}}}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateMeshAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let ScaleRotateMeshAdapter_v=class extends Accessor/* default */.A{constructor(t){super(t),this._interactionState=null}initialize(){this.addHandles([(0,reactiveUtils/* when */.z7)((()=>{const t=this._interactionState;return t&&t.angle!==t.previousAngle?{interactionState:t,angle:t.state.angle}:null}),(({interactionState:t})=>{this._updateMeshRotation(t)}),reactiveUtils/* sync */.OH),(0,reactiveUtils/* when */.z7)((()=>{const t=this._interactionState;return t&&t.scale!==t.previousScale?{interactionState:t,scale:t.state.scale}:null}),(({interactionState:t})=>{this._updateMeshSize(t)}),reactiveUtils/* sync */.OH)])}get initialAngle(){return this._interactionState?.initialAngle??0}get angle(){const t=this.geometry.transform;if(null==t)return this._interactionState?.angle??0;const e=(0,axisAngleDegrees/* axis */.yo)(t.rotation)[2];return Math.abs(e)>.999999?(0,mathUtils/* deg2rad */.kU)((0,axisAngleDegrees/* angle */.g7)(t.rotation))*Math.sign(e):0}get angleClockwise(){return-this.angle}get relativeAngle(){return this.angle-this.initialAngle}get relativeAngleClockwise(){return-this.relativeAngle}get scale(){return this._interactionState?.scale??1}startInteraction(){const t=new ScaleRotateMeshAdapter_f({angle:this.angle});this._interactionState=t;const e=()=>{this._interactionState=null};return{state:t,done:e,cancel:()=>{t.cancel(),e()}}}createUndoRecord(){return undoRecords_t(this.graphic)}_updateMeshRotation(t){const{angle:e,previousAngle:o}=t;t.previousAngle=e;const{geometry:r}=this,{vertexSpace:n}=r,s=(0,mathUtils/* rad2deg */.KJ)(e-o);if(n.isGeoreferenced){const t=!n.isRelative&&this.viewingMode===ViewingMode/* ViewingMode */.RT.Global,e=this.geometry.anchor;this.geometry.rotate(0,0,s,{origin:e,geographic:t}),this.graphic.notifyGeometryChanged()}else{r.transform??=new MeshTransform/* default */.A;const{transform:t}=r,e=(0,axisAngleDegrees/* composeAxes */.AU)(0,0,s,ScaleRotateMeshAdapter_S);t.rotation=(0,axisAngleDegrees/* compose */.Zz)(t.rotation,e,t.rotation),this.graphic.notifyMeshTransformChanged()}}_updateMeshSize(t){const{scale:e,previousScale:o}=t;t.previousScale=e;const{geometry:i}=this,{vertexSpace:r}=i,n=e/o;if(r.isGeoreferenced){const t=!r.isRelative&&this.viewingMode===ViewingMode/* ViewingMode */.RT.Global,e=this.geometry.anchor;this.geometry.scale(n,{origin:e,geographic:t}),this.graphic.notifyGeometryChanged()}else{i.transform??=new MeshTransform/* default */.A;const{transform:t}=i;t.scale=(0,vec3.i)(t.scale,t.scale,n),this.graphic.notifyMeshTransformChanged()}}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],ScaleRotateMeshAdapter_v.prototype,"graphic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],ScaleRotateMeshAdapter_v.prototype,"geometry",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],ScaleRotateMeshAdapter_v.prototype,"viewingMode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_v.prototype,"initialAngle",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_v.prototype,"angle",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_v.prototype,"angleClockwise",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_v.prototype,"relativeAngle",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_v.prototype,"relativeAngleClockwise",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_v.prototype,"scale",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_v.prototype,"_interactionState",void 0),ScaleRotateMeshAdapter_v=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateMeshAdapter")],ScaleRotateMeshAdapter_v);let ScaleRotateMeshAdapter_f=class extends Accessor/* default */.A{get state(){const{angle:t,scale:e}=this;return{angle:t,scale:e}}constructor(t){super(t),this.angle=0,this.initialAngle=0,this.previousAngle=0,this.previousScale=1,this.scale=1,this.initialAngle=t.angle,this.previousAngle=t.angle}cancel(){this.angle=this.initialAngle,this.scale=1}};(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_f.prototype,"angle",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_f.prototype,"initialAngle",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_f.prototype,"previousAngle",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_f.prototype,"previousScale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_f.prototype,"scale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateMeshAdapter_f.prototype,"state",null),ScaleRotateMeshAdapter_f=(0,tslib_es6._)([(0,subclass/* subclass */.$)("InteractionState")],ScaleRotateMeshAdapter_f);const ScaleRotateMeshAdapter_S=(0,axisAngleDegrees/* create */.vt)();

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateObjectSymbol3DAdapter.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let ScaleRotateObjectSymbol3DAdapter_a=class extends Accessor/* default */.A{constructor(t){super(t),this.sizeAxis=null,this._interactionState=null}initialize(){this.addHandles((0,reactiveUtils/* when */.z7)((()=>null!=this._interactionState?this._interactionState.state:null),(t=>{this._updateSymbol(t)}),reactiveUtils/* sync */.OH))}get initialAngle(){return this._interactionState?.initialAngle??0}get angle(){return null!=this._interactionState?this._interactionState.angle:null!=this._orientationReferenceSymbolLayer?ScaleRotateObjectSymbol3DAdapter_c(this._orientationReferenceSymbolLayer.heading??0):0}get angleClockwise(){return-this.angle}get orientation(){return this.angle}get orientationClockwise(){return this.angleClockwise}get relativeAngle(){return this.angle-this.initialAngle}get relativeAngleClockwise(){return-this.relativeAngle}get scale(){return this._interactionState?.scale??1}get size(){const t=this._sizeReferenceSymbolLayer;if(null==t)return null;const e=this.findLayerView(),i=this._graphicSymbol;if(null==e||null==i||"point-3d"!==i.type)return null;const l=e.getSymbolLayerSize(i,t);if("size"in l&&null!=l.size)return l.size;const n=this.sizeAxis;return!("width"in l)||null==l.width||null!=n&&"width"!==n&&"all"!==n&&"width-and-depth"!==n?!("depth"in l)||null==t.depth||null!=n&&"depth"!==n&&"all"!==n&&"width-and-depth"!==n?!("height"in l)||null==t.height||null!=n&&"height"!==n&&"all"!==n?null:l.height:l.depth:l.width}get _sizeReferenceSymbolLayer(){const t=this._graphicSymbol;return null==t||0===t.symbolLayers.length?null:t.symbolLayers.find((t=>"object"===t.type))}get _orientationReferenceSymbolLayer(){const t=this._graphicSymbol;return null==t||0===t.symbolLayers.length?null:t.symbolLayers.find((t=>"object"===t.type&&null!=t.heading))}get _graphicSymbol(){return null!=this.graphic?.symbol&&"point-3d"===this.graphic.symbol.type?this.graphic.symbol:null}set _graphicSymbol(t){this.graphic.symbol=t}startInteraction(){const t=this._graphicSymbol,e=this.findLayerView();if(null!=this._interactionState||null==t||null==e)return ScaleRotateObjectSymbol3DAdapter_h;const i=t.symbolLayers.map((i=>"object"===i.type?e.getSymbolLayerSize(t,i):null)).toArray(),l=t.clone(),n=this.angle,o=new ScaleRotateObjectSymbol3DAdapter_p({originalSymbol:l,angle:n,initialSizes:i});this._interactionState=o;const r=()=>{this._interactionState=null};return{state:o,done:r,cancel:()=>{this._graphicSymbol=l,r()}}}createUndoRecord(){let t=this.graphic.symbol,e=null;return{undo:i=>{e=i.symbol,i.symbol=t},redo:i=>{t=i.symbol,i.symbol=e}}}_updateSymbol({scale:t,angle:e,originalSymbol:l,initialSizes:n}){const o=this._graphicSymbol;if(null==o||"point-3d"!==o.type)return;const r=o.clone(),s=-(0,mathUtils/* rad2deg */.KJ)(e-this.initialAngle);let a=!1;this._forEachObjectSymbolLayerPair(l,r,((e,i,l)=>{const o=(e.heading??0)+s;i.heading!==o&&(i.heading=o,a=!0);const r=n[l];if(null!=r&&"width"in r){r.width=this.sizeFilter(r.width),r.height=this.sizeFilter(r.height),r.depth=this.sizeFilter(r.depth);const e=r.width*t;i.width!==e&&(i.width=e,a=!0);const l=r.depth*t;i.depth!==l&&(i.depth=l,a=!0);const n=r.height*t;i.height!==n&&(i.height=n,a=!0)}})),a&&(this._graphicSymbol=r)}_forEachObjectSymbolLayerPair(t,e,i){t.symbolLayers.forEach(((t,l)=>{const n=e.symbolLayers.at(l);"object"===t.type&&"object"===n.type&&i(t,n,l)}))}};function ScaleRotateObjectSymbol3DAdapter_c(t){return-(0,mathUtils/* deg2rad */.kU)(t)}(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"initialAngle",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"angle",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"angleClockwise",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"orientation",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"orientationClockwise",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"relativeAngle",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"relativeAngleClockwise",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"scale",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"size",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"sizeAxis",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],ScaleRotateObjectSymbol3DAdapter_a.prototype,"graphic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"_interactionState",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],ScaleRotateObjectSymbol3DAdapter_a.prototype,"findLayerView",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],ScaleRotateObjectSymbol3DAdapter_a.prototype,"sizeFilter",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"_sizeReferenceSymbolLayer",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"_orientationReferenceSymbolLayer",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_a.prototype,"_graphicSymbol",null),ScaleRotateObjectSymbol3DAdapter_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateObjectSymbol3DAdapter")],ScaleRotateObjectSymbol3DAdapter_a);const ScaleRotateObjectSymbol3DAdapter_h={state:{angle:0,scale:0},done:()=>{},cancel:()=>{}};let ScaleRotateObjectSymbol3DAdapter_p=class extends Accessor/* default */.A{get state(){const{originalSymbol:t,angle:e,initialAngle:i,scale:l,initialSizes:n}=this;return{originalSymbol:t,angle:e,initialAngle:i,scale:l,initialSizes:n}}constructor(t){super(t),this.angle=0,this.initialAngle=0,this.scale=1,this.initialAngle=t.angle}};(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_p.prototype,"originalSymbol",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_p.prototype,"angle",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_p.prototype,"initialAngle",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_p.prototype,"initialSizes",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_p.prototype,"scale",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ScaleRotateObjectSymbol3DAdapter_p.prototype,"state",null),ScaleRotateObjectSymbol3DAdapter_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("InteractionState")],ScaleRotateObjectSymbol3DAdapter_p);

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let GraphicTransformTool_Y=class extends(Evented/* default */.A.EventedMixin(InteractiveToolBase/* InteractiveToolBase */.g)){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.tooltipOptions=new SketchTooltipOptions/* default */.A,this.type="transform-3d",this._updatingHandles=new UpdatingHandles/* UpdatingHandles */.U,this._scaleRotate=null,this._tooltip=null,this._translateGraphicTooltipInfo=null,this._translateGraphicXYTooltipInfo=null,this._translateGraphicZTooltipInfo=null}initialize(){const{graphic:t,view:e}=this;this.graphicState=new GraphicState_e({graphic:t}),this.addHandles((0,reactiveUtils/* watch */.wB)((()=>this.tooltipOptions.enabled),(t=>{this._tooltip=t?new Tooltip/* Tooltip */.m({view:e}):(0,maybe/* destroyMaybe */.pR)(this._tooltip)}),reactiveUtils/* syncAndInitial */.pc)),this._moveManipulation=new MoveManipulation_u({tool:this,view:e,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&manipulatorUtils_n(t),radius:MoveManipulation_u.radiusForSymbol(t.symbol)}),this._moveManipulation.forEachManipulator((i=>this.addHandles(i.events.on("immediate-click",(i=>{this.emit("immediate-click",{...i,graphic:t}),i.stopPropagation()})))));const n=t=>i=>{this.addHandles(i.events.on("focus-changed",(({action:i})=>{const e=this._tooltip;null!=e&&("focus"===i?this._updateMoveTooltip(t):e.clear())})))};this._moveManipulation.xyManipulation.forEachManipulator(n(MoveManipulation_c.XY)),this._moveManipulation.xyAxisManipulation.forEachManipulator(n(MoveManipulation_c.XY_AXIS)),this._moveManipulation.zManipulation.forEachManipulator(n(MoveManipulation_c.Z));const s=(0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(t);this._moveManipulation.elevationInfo=s,this.addHandles(meshFastUpdateUtils_o(this.graphicState));const{geometry:p}=t;if(this._moveManipulation.createGraphicDragPipeline(((i,a,o,n,r)=>{if(null!=p&&i===MoveManipulation_c.XY){const{snappingStep:i,cancelSnapping:a}=(0,SnappingDragPipelineStep/* createSnapDragEventPipelineStep */.L)({snappingContext:new SnappingContext/* SnappingContext */.e({elevationInfo:s,pointer:r,editGeometryOperations:EditGeometryOperations/* EditGeometryOperations */.p.fromGeometry(new Point/* default */.A({spatialReference:p.spatialReference}),e.state.viewingMode),visualizer:new SnappingVisualizer3D_O,excludeFeature:t}),snappingManager:this.snappingManager,updatingHandles:this._updatingHandles,useZ:!1});n=n.next(a),o=o.next((0,dragEventPipeline/* sceneSnappingAtProjectedLocation */.RS)(this.view,s)).next(...i)}return{steps:o=o.next((t=>(this._updateMoveTooltip(i,t),t))),cancel:n}}),this.graphicState,(t=>{const{action:i,graphic:e,dxScreen:a,dyScreen:o}=t,n={graphic:e,dxScreen:a,dyScreen:o};switch(i){case"start":this.emit("graphic-translate-start",n),this.emit("record-undo",{record:this._createGeometryUndoRecord()});break;case"update":this.emit("graphic-translate",n);break;case"end":this.emit("graphic-translate-stop",n)}})),this._moveManipulation.angle=null!=this._scaleRotate?this._scaleRotate.angle:0,this._scaleRotateAdapter=this._createScaleRotateAdapter(),this.addHandles((0,reactiveUtils/* watch */.wB)((()=>this._scaleRotateAdapter.angle),(()=>this._updateMoveAngle()))),this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?"scale":"rotate";this._scaleRotate=new Tt({tool:this,mode:t,adapter:this._scaleRotateAdapter,tooltipOptions:this.tooltipOptions}),this.addHandles(this._scaleRotate.events.on("scale-changed",(()=>this._onScaleChanged())))}this.addHandles([visualElementUtils_i({view:this.view,graphic:this.graphic,forEachManipulator:t=>this._forEachManipulator(t),onManipulatorsChanged:()=>(0,handleUtils/* makeHandle */.hA)()}),this.graphicState.on("changed",(()=>this._onGeometryChanged())),this._hideManipulatorsForGraphicState(),(0,reactiveUtils/* watch */.wB)((()=>e.scale),(()=>this._updateMoveAngle()))].filter(arrayUtils/* isSome */.Ru)),this.addHandles(this.view.trackGraphicState(this.graphicState)),this._onGeometryChanged(),this._updateMoveAngle(),this._forEachManipulator((t=>{t instanceof Manipulator3D_$&&this.addHandles(t.events.on("grab-changed",(()=>this._updateManipulatorsInteractive())))})),this.finishToolCreation()}destroy(){this._tooltip=(0,maybe/* destroyMaybe */.pR)(this._tooltip),this._moveManipulation.destroy(),this._scaleRotate=(0,maybe/* destroyMaybe */.pR)(this._scaleRotate),this._scaleRotateAdapter=(0,maybe/* destroyMaybe */.pR)(this._scaleRotateAdapter),this._updatingHandles.destroy(),this._set("view",null),this._set("graphic",null)}_updateManipulatorsInteractive(){null!=this._scaleRotate&&(this._scaleRotate.interactive=!this._moveManipulation.grabbing,this._moveManipulation.interactive=!this._scaleRotate.grabbing)}_createScaleRotateAdapter(){return null!=this.graphic.geometry&&"mesh"===this.graphic.geometry.type?new ScaleRotateMeshAdapter_v({graphic:this.graphic,geometry:this.graphic.geometry,viewingMode:this.view.state.viewingMode}):new ScaleRotateObjectSymbol3DAdapter_a({graphic:this.graphic,sizeFilter:t=>this._enforceNonZeroSize(t),findLayerView:()=>this.view.allLayerViews.find((t=>t.layer===this.graphic.layer)),sizeAxis:this.tooltipOptions?.visualVariables?.size?.axis??null})}_forEachManipulator(t){this._moveManipulation?.forEachManipulator(t),this._scaleRotate?.forEachManipulator(t)}_hideManipulatorsForGraphicState(){return (0,reactiveUtils/* watch */.wB)((()=>this.graphicState.displaying),(t=>{this._forEachManipulator((i=>i.available=t)),this._moveManipulation.zManipulation.available=t&&this.enableZ&&manipulatorUtils_n(this.graphic)}))}_createGeometryUndoRecord(){return undoRecords_t(this.graphic)}set snapToScene(t){this._moveManipulation&&(this._moveManipulation.snapToScene=t),this._set("snapToScene",t)}get updating(){return this._updatingHandles.updating||!!this._scaleRotate?.updating}set location(t){this._moveManipulation.location=t,this._scaleRotate&&(this._scaleRotate.location=t)}set elevationAlignedLocation(t){this._moveManipulation.elevationAlignedLocation=t,this._scaleRotate&&(this._scaleRotate.elevationAlignedLocation=t)}reset(){}onHide(){this._scaleRotate?.cancelActiveAnimation()}_onScaleChanged(){null!=this._scaleRotate&&(this._moveManipulation.displayScale=this._scaleRotate.getScale())}_updateMoveAngle(){this.view.state.viewingMode===ViewingMode/* ViewingMode */.RT.Local||this.view.scale<config_v?this._moveManipulation.angle=this._scaleRotateAdapter.angle:this._moveManipulation.angle=0}_onGeometryChanged(){manipulatorUtils_v(this.view,this,this.graphic)}_enforceNonZeroSize(t){return t||this.view.state.camera.computeRenderPixelSizeAt(this._moveManipulation.renderLocation)}_updateMoveTooltip(t,i){const{tooltipOptions:e,_tooltip:a}=this;if(null==a)return;a.clear();const o=this.graphicState.isDraped?"on-the-ground":"absolute-height";switch(t){case MoveManipulation_c.XY:a.info=this._translateGraphicTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicTooltipInfo */.ar({tooltipOptions:e}),this._updateMoveTooltipDistance(a.info,i,((t,i)=>(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t,i,o)));break;case MoveManipulation_c.XY_AXIS:a.info=this._translateGraphicXYTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicXYTooltipInfo */.nW({tooltipOptions:e}),this._updateMoveTooltipDistance(a.info,i,((t,e)=>{const a=(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t,e,o);return (0,quantityUtils/* scale */.hs)(a,moveUtils_a(i))}));break;case MoveManipulation_c.Z:a.info=this._translateGraphicZTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicZTooltipInfo */.YI({tooltipOptions:e}),this._updateMoveTooltipDistance(a.info,i,euclideanLengthMeasurementUtils/* verticalSignedDistanceBetweenPoints */.e5)}a.info.tooltipOptions=e}_updateMoveTooltipDistance(t,i,e){if(null!=i&&"end"!==i.action){const{mapStart:a,mapEnd:o}=i,n=e(a,o);t.distance=null!=n?n:quantityUtils/* zeroMeters */.r7}else t.distance=quantityUtils/* zeroMeters */.r7}get test(){return{discManipulator:this._moveManipulation.xyManipulation.test.discManipulator,zManipulator:this._moveManipulation.zManipulation.test.manipulator,ringManipulator:null!=this._scaleRotate?this._scaleRotate.test.ringManipulator:null,arrowManipulators:this._moveManipulation.xyAxisManipulation.test.arrowManipulators,setRingIndicatorDelayMs:t=>null!=this._scaleRotate?this._scaleRotate.test.setRingIndicatorDelayMs(t):null,scaleRotateAdapter:this._scaleRotateAdapter,scaleRotateTransform:this._scaleRotate,tooltip:this._tooltip}}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicTransformTool_Y.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicTransformTool_Y.prototype,"graphic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],GraphicTransformTool_Y.prototype,"enableZ",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicTransformTool_Y.prototype,"enableRotation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicTransformTool_Y.prototype,"enableScaling",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchTooltipOptions/* default */.A})],GraphicTransformTool_Y.prototype,"tooltipOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],GraphicTransformTool_Y.prototype,"graphicState",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({value:!1})],GraphicTransformTool_Y.prototype,"snapToScene",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],GraphicTransformTool_Y.prototype,"snappingManager",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],GraphicTransformTool_Y.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],GraphicTransformTool_Y.prototype,"updating",null),GraphicTransformTool_Y=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool")],GraphicTransformTool_Y);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Clonable.js
var Clonable = __webpack_require__(24793);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/JSONSupport.js + 1 modules
var JSONSupport = __webpack_require__(21877);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js
var cast = __webpack_require__(4130);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js
var persistable = __webpack_require__(77841);
;// ../node_modules/@arcgis/core/analysis/SlicePlane.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let SlicePlane_c=class extends((0,Clonable/* ClonableMixin */.O)(JSONSupport/* JSONSupport */.oY)){constructor(o){super(o),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(o){return this.heading===o.heading&&this.tilt===o.tilt&&(0,maybe/* equalsMaybe */.CM)(this.position,o.position)&&this.width===o.width&&this.height===o.height}};(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0,json:{read:!1,write:!0}})],SlicePlane_c.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Point/* default */.A}),(0,persistable/* persistable */.P)()],SlicePlane_c.prototype,"position",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,persistable/* persistable */.P)(),(0,cast/* cast */.w)((o=>Cyclical/* cyclicalDegrees */.ie.normalize((0,ensureType/* ensureNumber */.GB)(o),0,!0)))],SlicePlane_c.prototype,"heading",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360}}),(0,persistable/* persistable */.P)(),(0,cast/* cast */.w)((o=>Cyclical/* cyclicalDegrees */.ie.normalize((0,ensureType/* ensureNumber */.GB)(o),0,!0)))],SlicePlane_c.prototype,"tilt",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0}),(0,persistable/* persistable */.P)()],SlicePlane_c.prototype,"width",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Number,nonNullable:!0}),(0,persistable/* persistable */.P)()],SlicePlane_c.prototype,"height",void 0),SlicePlane_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.analysis.SlicePlane")],SlicePlane_c);const SlicePlane_h=(/* unused pure expression or super */ null && (SlicePlane_c));

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/Axis.js
var Axis = __webpack_require__(58331);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/boundedPlane.js
var boundedPlane = __webpack_require__(28769);
;// ../node_modules/@arcgis/core/views/3d/analysis/Slice/settings.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const settings_c=(0,vec4f64.f)(0,0,0,.04);function settings_t({accentColor:r}){return o(r,.5)}function settings_n({accentColor:r}){return o(r,.7)}

;// ../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const sliceToolConfig_t=(0,has/* default */.A)("mac")?"Meta":"Control",sliceToolConfig_r="Shift",sliceToolConfig_s=2,sliceToolConfig_a=1.15,sliceToolConfig_c=1.15,sliceToolConfig_m=2500,sliceToolConfig_h=.02,sliceToolConfig_e=Math.cos((0,mathUtils/* deg2rad */.kU)(45)),sliceToolConfig_i=Math.cos((0,mathUtils/* deg2rad */.kU)(5)),sliceToolConfig_f=.95,sliceToolConfig_p=.3,sliceToolConfig_M=2,sliceToolConfig_j=1,sliceToolConfig_l=3,sliceToolConfig_n=11,sliceToolConfig_x=22.5,sliceToolConfig_C=40,sliceToolConfig_S=48,sliceToolConfig_U=2.25,sliceToolConfig_b=4,sliceToolConfig_d=1,sliceToolConfig_g=.3,sliceToolConfig_k=6,sliceToolConfig_q=4,sliceToolConfig_u=1600,sliceToolConfig_v=.4;

;// ../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function projectionUtils_r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function projectionUtils_t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}

;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class LineVisualElement_u extends Object3DVisualElement_a{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new RibbonLineMaterial/* RibbonLineMaterial */.W({width:1,color:(0,vec4f64.f)(1,0,1,1),stippleOffColor:null,stipplePattern:null,stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerColor:null,innerWidth:1,hasPolygonOffset:!1,renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromRenderSpacePoint(e,t=1e3){this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,s=(0,vec3f64.c)(),o=(0,vec3f64.c)(),a=100,n=[];(0,vec3.s)(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),(0,vec3.s)(s,e[2],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),(0,vec3.s)(s,e[2],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),(0,vec3.s)(s,e[0],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),(0,vec3.s)(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),(0,vec3.s)(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,o=e.basis2,a=.5,n=(0,vec3f64.c)(),l=(0,vec3f64.c)(),m=(0,vec3f64.c)(),p=(0,vec3f64.c)();n[0]=r[0]-s[0]*a-o[0]*a,n[1]=r[1]-s[1]*a-o[1]*a,n[2]=r[2]-s[2]*a-o[2]*a,l[0]=r[0]-s[0]*a+o[0]*a,l[1]=r[1]-s[1]*a+o[1]*a,l[2]=r[2]-s[2]*a+o[2]*a,m[0]=r[0]+s[0]*a+o[0]*a,m[1]=r[1]+s[1]*a+o[1]*a,m[2]=r[2]+s[2]*a+o[2]*a,p[0]=r[0]+s[0]*a-o[0]*a,p[1]=r[1]+s[1]*a-o[1]*a,p[2]=r[2]+s[2]*a-o[2]*a,t.push([n[0],n[1],n[2]]),t.push([l[0],l[1],l[2]]),t.push([m[0],m[1],m[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(t){const r=t.endRenderSpace;this.transform=(0,mat4.d)(LineVisualElement_f,r);const{points:s}=t.createRenderGeometry(r,this.view.renderCoordsHelper);this.geometry=[s]}setGeometryFromSegments(t,r=vec3f64.Z){this.transform=(0,mat4.d)(LineVisualElement_f,r),this.geometry=t.map((e=>e.createRenderGeometry(r,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>(0,vec3.e)((0,vec3f64.c)(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:(0,vec4f64.d)(e),writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:null!=e?(0,vec4f64.d)(e):null})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:null!=e?(0,vec4f64.d)(e):null})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of (0,line/* lineStripsToParameters */.z)(this.geometry)){const r=(0,line/* createGeometry */.t)(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const LineVisualElement_f=(0,mat4f64.a)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js
var DefaultBufferWriter = __webpack_require__(25146);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js
var DefaultLayouts = __webpack_require__(27776);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js
var TriangleMaterial = __webpack_require__(52873);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js
var SlicePlaneMaterial_glsl = __webpack_require__(78699);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class SlicePlaneMaterialTechnique_h extends shaderModules_interfaces/* NoParameters */.Y{constructor(){super(...arguments),this.backgroundColor=(0,vec4f64.f)(1,0,0,.5),this.gridColor=(0,vec4f64.f)(0,1,0,.5),this.gridWidth=4}}class SlicePlaneMaterialTechnique_u extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,SlicePlaneMaterialTechnique_u.shader.get().build(this.configuration),DefaultVertexAttributeLocations/* Default3D */.D)}initializePipeline(){return (0,renderState/* makePipelineState */.Ey)({blending:(0,renderState/* separateBlendingParams */.p3)(enums/* BlendFactor */.dn.ONE,enums/* BlendFactor */.dn.ONE,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA),depthTest:{func:enums/* CompareFunction */.MT.LESS},colorWrite:renderState/* defaultColorWriteParams */.wE})}}SlicePlaneMaterialTechnique_u.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(SlicePlaneMaterial_glsl.S,(()=>__webpack_require__.e(/* import() */ 9799).then(__webpack_require__.bind(__webpack_require__, 99799))));

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class SlicePlaneMaterial_l extends TriangleMaterial/* TriangleMaterial */.W{constructor(r){super(r,new SlicePlaneMaterial_m),this._configuration=new ShaderTechniqueConfiguration/* ShaderTechniqueConfiguration */.K}createBufferWriter(){return new DefaultBufferWriter/* DefaultBufferWriter */.Z(DefaultLayouts/* PositionUVLayout */.zK)}produces(e,t){return t===ShaderOutput/* ShaderOutput */.V.Color&&e===RenderSlot/* RenderSlot */.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL}createGLMaterial(r){return new SlicePlaneMaterial_f(r)}getConfiguration(){return this._configuration}}class SlicePlaneMaterial_f extends GLMaterial/* default */.A{constructor(r){super(r),this.ensureTechnique(SlicePlaneMaterialTechnique_u,null)}beginSlot(){return this.technique}}class SlicePlaneMaterial_m extends SlicePlaneMaterialTechnique_h{constructor(){super(...arguments),this.renderOccluded=Material/* RenderOccludedFlag */.m$.Occlude,this.isDecoration=!1}}

;// ../node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class SlicePlaneVisualElement_l extends Object3DVisualElement_a{constructor(r){super(r),this._material=null,this._renderOccluded=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,vec4f64.f)(1,0,0,1),this._backgroundColor=(0,vec4f64.f)(1,0,0,1),this.applyProperties(r)}get renderOccluded(){return this._renderOccluded}set renderOccluded(r){r!==this._renderOccluded&&(this._renderOccluded=r,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(r){this._gridWidth!==r&&(this._gridWidth=r,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){(0,vec4.c)(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){(0,vec4.c)(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new SlicePlaneMaterial_l(this._materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(r){null!=this._material&&r(this._material)}createGeometries(r){if(null!=this._material){const e=(0,GeometryUtil/* createSquareGeometry */.Gj)(this._material);r.addGeometry(e)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){null!=this._material&&this._material.setParameters(this._materialParameters)}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/typedArrayUtil.js
var typedArrayUtil = __webpack_require__(86942);
;// ../node_modules/@arcgis/core/core/libs/gl-matrix-2/types/vec3.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function vec3_n(t){return r(t)&&t.length>=3}function vec3_e(r){return(t(r)||Array.isArray(r))&&r.length>=3}function vec3_i(r){return vec3_n(r)||vec3_e(r)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectVectorToDehydratedPoint.js
var projectVectorToDehydratedPoint = __webpack_require__(80715);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js
var projectVectorToPoint = __webpack_require__(70397);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/coordinateSystem.js
var coordinateSystem = __webpack_require__(55821);
;// ../node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class RenderCoordsHelper_U{constructor(t,e,o,r){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=o,this._coordinateSystem=r,this._tmpCoordinateSystem=l(r)}set extent(t){t&&d(this._coordinateSystem,t,this._coordinateSystem)}getAltitude(t){return h(this._coordinateSystem,t)}setAltitude(t,e,o=t){return u(this._coordinateSystem,o,e,t)}setAltitudeOfTransformation(t,e){y(this._coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return f(this._coordinateSystem,t,e)}worldBasisAtPosition(t,e,o){return j(this._coordinateSystem,t,e,o)}basisMatrixAtPosition(t,e){const o=this.worldBasisAtPosition(t,p.X,R.get()),i=this.worldBasisAtPosition(t,p.Y,R.get()),s=this.worldBasisAtPosition(t,p.Z,R.get());return r(e,o[0],o[1],o[2],0,i[0],i[1],i[2],0,s[0],s[1],s[2],0,0,0,0,1),e}headingAtPosition(e,o){const r=this.worldUpAtPosition(e,R.get()),i=this.worldBasisAtPosition(e,p.Y,R.get()),s=C(o,i,r);return t(s)}intersectManifoldClosestSilhouette(t,e,o){return g(this._coordinateSystem,e,this._tmpCoordinateSystem),S(this._tmpCoordinateSystem,t,o),o}intersectManifold(t,e,o){g(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=R.get();return _(this._tmpCoordinateSystem,t,r)?i(o,r):null}intersectInfiniteManifold(t,e,o){if(this.viewingMode===v.Global)return this.intersectManifold(t,e,o);g(this._coordinateSystem,e,this._tmpCoordinateSystem);const r=this._tmpCoordinateSystem.value,s=R.get();return P(r.plane,t,s)?i(o,s):null}toRenderCoords(t,e,o){return M(t)?n(t,e,this.spatialReference):c(t,e,o,this.spatialReference)}fromRenderCoords(t,e,o=null){return M(e)?(null!=o&&(e.spatialReference=o),a(t,this.spatialReference,e)):s(e)?c(t,this.spatialReference,e,o)?e:null:m(t,this.spatialReference,e)}static create(t,o){switch(t){case v.Local:return new RenderCoordsHelper_U(v.Local,o,e(o),A());case v.Global:return new RenderCoordsHelper_U(v.Global,o,1,w(o))}}static renderUnitScaleFactor(t,e){return o(t)/o(e)}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Extent.js
var Extent = __webpack_require__(84698);
;// ../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function ti(i,t,e,n,o,s,r,a){return ei(t,r.worldUpAtPosition(i,y.get()),o,s,a.basis1,a.basis2),u(a.basis1,a.basis1,e),u(a.basis2,a.basis2,n),d(a.origin,i),C(a.basis2,a.basis1,a.origin,a.plane),a}function ei(i,t,e,n,o,s){const r=g(i,t),a=y.get(),c=y.get();switch(n===_i.HORIZONTAL_OR_VERTICAL?Math.abs(r)>k?_i.HORIZONTAL:_i.VERTICAL:n){case _i.VERTICAL:{const n=Math.abs(r)<=G?i:e.viewUp;m(a,n,t),d(c,t);break}case _i.HORIZONTAL:m(a,e.viewUp,t),m(c,t,a);break;case _i.TILTED:{const n=Math.abs(r)<=G?t:e.viewUp;m(a,n,i),m(c,i,a);break}}const l=m(y.get(),a,c);g(l,e.viewForward)>0&&u(c,c,-1),p(o,a),p(s,c)}function ni(i,t,e){const n=t.worldUpAtPosition(i.origin,y.get()),o=i.basis1,s=wi(i,n),r=Math.round(s/yi)*yi;return w(i,r-s,o,e)}function oi(i,t,e,n,o,s){const r=d(y.get(),o.origin);f(r,r,u(y.get(),o.basis1,i.direction[0]<0?1:-1)),f(r,r,u(y.get(),o.basis2,i.direction[1]<0?1:-1));const a=b(o.basis1),c=b(o.basis2),l=T(y.get(),e,r),m=T(y.get(),t,r);let p=0,h=0;if(Ii(i)){const t=hi(o),e=hi(s);p=a-.5*i.direction[0]*g(o.basis1,m)/a,h=c-.5*i.direction[1]*g(o.basis2,m)/c;const n=e/t;p*=n,h*=n}const I=p+.5*i.direction[0]*g(o.basis1,l)/a,E=h+.5*i.direction[1]*g(o.basis2,l)/c,A=u(y.get(),o.basis1,I/a),j=u(y.get(),o.basis2,E/c);(I<=0||bi(s.origin,A,n)<=X)&&d(A,s.basis1),(E<=0||bi(s.origin,j,n)<=X)&&d(j,s.basis2);const R=d(y.get(),r);return f(R,R,u(y.get(),A,i.direction[0]<0?-1:1)),f(R,R,u(y.get(),j,i.direction[1]<0?-1:1)),O(R,A,j,s)}function si(i,t){return D*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(i)}function ri(i,t,e,n){const o=m(y.get(),t,e);return m(o,o,t),_(i,o,n)}function ai(i,t){return manipulatorUtils_M(i.basis1,i.basis2,i.origin,t)}function ci(i,t,e,n){const o=t.worldUpAtPosition(i.origin,vectorStacks/* sv3d */.rq.get()),s=vectorStacks/* sv3d */.rq.get();switch(e){case Ci.HEADING:(0,vec3.c)(s,o);break;case Ci.TILT:(0,vec3.c)(s,i.basis1)}return (0,plane/* fromPositionAndNormal */.O_)(i.origin,s,n)}function li(i,t,e,n){const r=fi(e,pi.NEGATIVE_X),a=N.get();s(a,t,r.edge*Math.PI/2);const c=p(y.get(),r.basis);let l=u(y.get(),c,r.direction*n.computeScreenPixelSizeAt(r.position)*Y);f(l,l,r.position);const d=n.projectToRenderScreen(l,o(y.get())),g=ui(n,d);J(n,d,Si),p(Si.direction,Si.direction);const m=y.get();!g&&P(e,Si,m)&&(l=m),a[12]=0,a[13]=0,a[14]=0,i.modelTransform=a,i.renderLocation=A(l),g?i.state|=Mi:i.state&=~Mi}function ui(i,t){const[e,n,o,s]=i.viewport,r=Math.min(o,s)/16;let a=!0;return t[0]<e+r?(t[0]=e+r,a=!1):t[0]>e+o-r&&(t[0]=e+o-r,a=!1),t[1]<n+r?(t[1]=n+r,a=!1):t[1]>n+s-r&&(t[1]=n+s-r,a=!1),a}function di(i,t,e,n){const o=(0,vec3.l)(n.basis1),s=(0,vec3.l)(n.basis2),l=Ti(n),d=hi(n),g=(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),0,0,0);(0,vec3.g)(g,(0,vec3.i)(vectorStacks/* sv3d */.rq.get(),n.basis1,t.direction[0]),(0,vec3.i)(vectorStacks/* sv3d */.rq.get(),n.basis2,t.direction[1])),(0,vec3.g)(g,n.origin,g);let m=0,p=1;if(Ii(t))1===t.direction[0]&&-1===t.direction[1]?m=yi:1===t.direction[0]&&1===t.direction[1]?m=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(m=3*Math.PI/2),p=d;else{const i=0!==t.direction[0]?1:2;m=1===i?yi:0,p=(1===i?s:o)-l}const T=(0,mat4.j)(vectorStacks/* sm4d */.Rc.get(),m);(0,mat4.b)(T,T,(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),p,p,p)),(0,mat4.m)(T,e,T),T[12]=0,T[13]=0,T[14]=0,i.modelTransform=T,i.renderLocation=g}function gi(i,t,e,n){const o=n.worldUpAtPosition(e.origin,y.get()),s=fi(e,pi.POSITIVE_X),a=r(N.get(),s.edge*Math.PI/2);l(a,a,-wi(e,o)),c(a,t,a),a[12]=0,a[13]=0,a[14]=0,i.modelTransform=a,i.renderLocation=s.position}function mi(i,t,e){const n=fi(e,pi.POSITIVE_Y),o=r(N.get(),n.edge*Math.PI/2);l(o,o,yi),c(o,t,o),o[12]=0,o[13]=0,o[14]=0,i.modelTransform=o,i.renderLocation=n.position}var pi;function fi(i,t){switch(t){case pi.POSITIVE_X:return{basis:i.basis1,direction:1,position:f(y.get(),i.origin,i.basis1),edge:t};case pi.POSITIVE_Y:return{basis:i.basis2,direction:1,position:f(y.get(),i.origin,i.basis2),edge:t};case pi.NEGATIVE_X:return{basis:i.basis1,direction:-1,position:T(y.get(),i.origin,i.basis1),edge:t};case pi.NEGATIVE_Y:return{basis:i.basis2,direction:-1,position:T(y.get(),i.origin,i.basis2),edge:t}}}function bi(i,t,e){const n=e.projectToRenderScreen(f(y.get(),i,t),o(y.get())),s=e.projectToRenderScreen(T(y.get(),i,t),o(y.get()));return I(T(n,n,s))}function Ti(i){const t=(0,vec3.l)(i.basis1),e=(0,vec3.l)(i.basis2);return sliceToolConfig_g*Math.min(t,e)}function hi(i){return Ti(i)}function Ii(i){return 0!==i.direction[0]&&0!==i.direction[1]}function Ei(i){const t=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]];return new B({view:i,attached:!1,color:H(i.effectiveTheme),width:z,renderOccluded:K.OccludeAndTransparent,geometry:[t],isDecoration:!0})}function Ai(i){return new $({view:i,attached:!1,backgroundColor:U,gridColor:x(i.effectiveTheme),gridWidth:4,renderOccluded:K.OccludeAndTransparent,isDecoration:!0})}function ji(t,n,o,s=new i){if(null==t)return null;const{renderCoordsHelper:r}=n,a=r.fromRenderCoords(t.origin,n.spatialReference);if(null==a)return null;const c=j(a,o);if(null==c)return null;s.position=c;const l=2*b(t.basis1),u=2*b(t.basis2),d=q.renderUnitScaleFactor(n.spatialReference,o);s.width=l*d,s.height=u*d;const g=r.worldUpAtPosition(t.origin,y.get());return s.tilt=e(wi(t,g)),s.heading=r.headingAtPosition(t.origin,t.basis1)-90,s}function Ri(i,t,e){if(null==i)return null;const n=i.origin,o=y.get(),s=y.get(),r=y.get(),a=y.get();let c,l,u,d,g,m;f(o,n,i.basis1),f(o,o,i.basis2),f(s,n,i.basis1),E(s,s,i.basis2),E(r,n,i.basis1),E(r,r,i.basis2),E(a,n,i.basis1),f(a,a,i.basis2);for(const p of[o,s,r,a]){const i=t.fromRenderCoords(p,p,e);if(null==i)return null;c=null==c?i[0]:Math.min(c,i[0]),l=null==l?i[0]:Math.max(l,i[0]),u=null==u?i[1]:Math.min(u,i[1]),d=null==d?i[1]:Math.max(d,i[1]),g=null==g?i[2]:Math.min(g,i[2]),m=null==m?i[2]:Math.max(m,i[2])}return new ii({xmin:c,xmax:l,ymin:u,ymax:d,zmin:g,zmax:m,spatialReference:e})}function wi(i,t){return S(t,i.basis2,i.basis1)+yi}function Oi(i,e,o,s,r,a,c=L()){return a.toRenderCoords(i,c.origin)?(a.worldBasisAtPosition(c.origin,R.X,c.basis1),a.worldBasisAtPosition(c.origin,R.Y,c.basis2),C(c.basis2,c.basis1,c.origin,c.plane),w(c,-n(e),v(c),c),w(c,n(o),c.basis1,c),u(c.basis1,c.basis1,s/2),u(c.basis2,c.basis2,r/2),V(c),c):(t.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${i.spatialReference.wkid} is not supported`),null)}function Pi(i,t){if(null==i?.position)return null;const e=F(i.position,t.spatialReference,t.elevationProvider);if(null==e)return null;const n=q.renderUnitScaleFactor(i.position.spatialReference,t.spatialReference),o=i.width*n,s=i.height*n;return{position:e,heading:i.heading,tilt:i.tilt,renderWidth:o,renderHeight:s}}function Li(i,t,e,n=L()){const o=Pi(i,t);return null==o?null:vi(o,t,e,n)}function vi(i,t,e,n=L()){if(null==i)return null;const o=Oi(i.position,i.heading,i.tilt,i.renderWidth,i.renderHeight,t.renderCoordsHelper,n);return e.tiltEnabled||null==o||ni(o,t.renderCoordsHelper,o),o}!function(i){i[i.POSITIVE_X=0]="POSITIVE_X",i[i.POSITIVE_Y=1]="POSITIVE_Y",i[i.NEGATIVE_X=2]="NEGATIVE_X",i[i.NEGATIVE_Y=3]="NEGATIVE_Y"}(pi||(pi={}));const Vi=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom1;var Ci,_i;!function(i){i[i.HEADING=1]="HEADING",i[i.TILT=2]="TILT"}(Ci||(Ci={})),function(i){i[i.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",i[i.HORIZONTAL=1]="HORIZONTAL",i[i.VERTICAL=2]="VERTICAL",i[i.TILTED=3]="TILTED"}(_i||(_i={}));const Mi=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom2,Si=(0,ray/* create */.vt)(),yi=Math.PI/2,Ni=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom1,Hi=interactive_interfaces/* ManipulatorStateCustomFlags */.SJ.Custom2;function Ui(i){return null!=("building-scene-3d"===i.type?i:null)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/quat.js
var quat = __webpack_require__(76743);
;// ../node_modules/@arcgis/core/views/3d/analysis/Slice/ShiftManipulator.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var ShiftManipulator_H;!function(e){e[e.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",e[e.CENTER_ON_ARROW=1]="CENTER_ON_ARROW"}(ShiftManipulator_H||(ShiftManipulator_H={}));class ShiftManipulator_I extends Manipulator3D_${constructor(n,s){const a=new RibbonLineMaterial/* RibbonLineMaterial */.W({width:1,renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,isDecoration:!0}),i=new ColorMaterial/* ColorMaterial */.v({cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,renderOccluded:Material/* RenderOccludedFlag */.m$.Opaque,isDecoration:!0}),c=new ColorMaterial/* ColorMaterial */.v({cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,renderOccluded:Material/* RenderOccludedFlag */.m$.Opaque,isDecoration:!0}),l=new ColorMaterial/* ColorMaterial */.v({cullFace:basicInterfaces/* CullFaceOptions */.s2.Back,renderOccluded:Material/* RenderOccludedFlag */.m$.Opaque,isDecoration:!0}),m=new ColorMaterial/* ColorMaterial */.v({writeDepth:!1,cullFace:basicInterfaces/* CullFaceOptions */.s2.Front,renderOccluded:Material/* RenderOccludedFlag */.m$.Transparent,isDecoration:!0});super({view:n,...ShiftManipulator_S({offsetMode:s,tubeMaterial:i,tipMaterial:c,capMaterial:l,outlineMaterial:m,calloutMaterial:a})}),this._themeHandle=(0,reactiveUtils/* watch */.wB)((()=>n.effectiveTheme.accentColor),(r=>{const o=(0,colorUtils/* getContrast */.bJ)(r),n=Color/* default */.A.toUnitRGBA(r),s=Color/* default */.A.toUnitRGBA(o),u=Color/* default */.A.toUnitRGBA(Color/* default */.A.blendColors(o,r,.4)),p=Color/* default */.A.toUnitRGBA(Color/* default */.A.blendColors(o,r,.14));a.setParameters({color:n}),i.setParameters({color:p}),c.setParameters({color:s}),l.setParameters({color:u}),m.setParameters({color:n})}),reactiveUtils/* initial */.Vh)}destroy(){this._themeHandle.remove(),super.destroy()}}function ShiftManipulator_S({offsetMode:e,tubeMaterial:t,tipMaterial:r,capMaterial:o,outlineMaterial:n,calloutMaterial:s}){const a=e===ShiftManipulator_H.CENTER_ON_CALLOUT?sliceToolConfig_C:0,i=[(0,vec3f64.f)(a,0,-sliceToolConfig_S/2),(0,vec3f64.f)(a,0,sliceToolConfig_S/2)],c=ShiftManipulator_J(i,!0),l=ShiftManipulator_W({vertices:i,padding:0,materials:{tube:t,tip:r,cap:o}}),m=ShiftManipulator_W({vertices:i,padding:sliceToolConfig_U,materials:{tube:n,tip:n,cap:n}}),u=(0,GeometryUtil/* createPolylineGeometry */.Z8)(s,[[a,0,0],[a-sliceToolConfig_C,0,0]]),p=(0,GeometryUtil/* createPolylineGeometry */.Z8)(s,[[a,0,0],[a-sliceToolConfig_C,0,0]]);return{renderObjects:[...l.normal.map((e=>new RenderObject_e(e,interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|Vi))),...m.normal.map((e=>new RenderObject_e(e,interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|Vi))),new RenderObject_e(u,interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|Vi|Mi),...l.focused.map((e=>new RenderObject_e(e,interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|Vi))),...m.focused.map((e=>new RenderObject_e(e,interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|Vi))),new RenderObject_e(p,interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|Vi|Mi)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[c]},collisionPriority:1,radius:sliceToolConfig_n,state:Vi}}function ShiftManipulator_W({vertices:e,padding:t,materials:r}){const o=o=>{const M=e.slice(0),C=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),M[0],M[1]);(0,vec3.n)(C,C);const T=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),M[M.length-1],M[M.length-2]);if((0,vec3.n)(T,T),t>0){const e=(0,vec3.i)((0,vec3f64.c)(),T,-t);M[M.length-1]=(0,vec3.g)(e,e,M[M.length-1]);const r=(0,vec3.i)((0,vec3f64.c)(),C,-t);M[0]=(0,vec3.g)(r,r,M[0])}const E=o?sliceToolConfig_c:1,N=sliceToolConfig_x*E,k=sliceToolConfig_n*E,F=(0,mat4.g)(vectorStacks/* sm4d */.Rc.get());if(t>0){const e=N/4,r=(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),0,e,0),o=1+t/e;(0,mat4.w)(F,F,r),(0,mat4.b)(F,F,(0,vec3.s)(vectorStacks/* sv3d */.rq.get(),o,o,o)),(0,mat4.w)(F,F,(0,vec3.i)(r,r,-1/o))}const y=(0,mat4.g)((0,mat4f64.a)()),B=(0,vec3f64.f)(0,1,0),L=(0,mat4.F)((0,mat4f64.a)(),(0,quat.r)(vectorStacks/* sq4d */.J8.get(),B,T));L[12]=M[M.length-1][0],L[13]=M[M.length-1][1],L[14]=M[M.length-1][2],(0,mat4.m)(L,L,F);const P=r.tube,G=ShiftManipulator_z(sliceToolConfig_l*(o?sliceToolConfig_a:1)+t,M,P);G.transformation=y;const q=[G],x=r.tip,H=(0,GeometryUtil/* createConeGeometry */.EE)(x,N,k,24,!1,!1,!0);H.transformation=L,q.push(H);const I=r.cap,S=(0,GeometryUtil/* createConeGeometry */.EE)(I,N,k,24,!1,!0,!1);S.transformation=L,q.push(S);const W=(0,mat4.F)((0,mat4f64.a)(),(0,quat.r)(vectorStacks/* sq4d */.J8.get(),B,C));return W[12]=M[0][0],W[13]=M[0][1],W[14]=M[0][2],(0,mat4.m)(W,W,F),q.push(H.instantiate({transformation:W})),q.push(S.instantiate({transformation:W})),q};return{normal:o(!1),focused:o(!0)}}function ShiftManipulator_z(e,t,r){const o=[],n=12;for(let s=0;s<n;s++){const t=s/n*2*Math.PI;o.push([Math.cos(t)*e,Math.sin(t)*e])}return (0,GeometryUtil/* createPathExtrusionGeometry */.Nq)(r,o,t,[],[],!1)}function ShiftManipulator_J(e,t){const r=(0,vec3.f)((0,vec3f64.c)(),e[e.length-1],e[e.length-2]);if((0,vec3.n)(r,r),(0,vec3.i)(r,r,sliceToolConfig_x),(0,vec3.g)(r,r,e[e.length-1]),t){const t=(0,vec3.f)((0,vec3f64.c)(),e[0],e[1]);return (0,vec3.n)(t,t),(0,vec3.i)(t,t,sliceToolConfig_x),(0,vec3.g)(t,t,e[0]),[t,...e,r]}return[...e,r]}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js
var editPlaneUtils = __webpack_require__(3183);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentMove.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ExtentMove_T{constructor(t,e,o,i){this._tool=t,this._graphicState=e,this._editGeometryOperations=o,this._bounds=i,this._moveXYTooltipInfo=null,this._moveZTooltipInfo=null;const a=this._tool,n=a.view;this.moveXYGraphicManipulation=new MoveXYGraphicManipulation_l({view:n,tool:a,graphicState:this._graphicState}),a.addHandles(this._createMoveXYGraphicDragPipeline()),this.moveZManipulator=new ShiftManipulator_I(n,ShiftManipulator_H.CENTER_ON_CALLOUT),this.moveZManipulator.state|=Mi,a.manipulators.add(this.moveZManipulator),a.addHandles([this._createMoveZDragPipeline()]),a.addHandles([a.on("graphic-translate-stop",(()=>{this._moveXYTooltipInfo=null,this._moveZTooltipInfo=null}))])}destroy(){this.moveXYGraphicManipulation.destroy(),this._tool.manipulators.remove(this.moveZManipulator),this.moveZManipulator.destroy()}forEachManipulator(t){this.moveXYGraphicManipulation.forEachManipulator(t),t(this.moveZManipulator,ManipulatorType_A.TRANSLATE_Z)}updateManipulators(t,i){const r=this.moveZManipulator,s=(0,mat4.o)(vectorStacks/* sm4d */.Rc.get(),t,Math.PI);s[12]=0,s[13]=0,s[14]=0,r.modelTransform=s,r.renderLocation=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),i.origin,i.basis1)}getUpdatedTooltipInfo(){return this.moveXYGraphicManipulation.grabbing||this.moveXYGraphicManipulation.dragging?this._computeMoveXYTooltipInfo():this.moveZManipulator.focused?this._computeMoveZTooltipInfo():null}_computeMoveXYTooltipInfo(){const t=this._tool.tooltipOptions;return this._moveXYTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicTooltipInfo */.ar({tooltipOptions:t})}_computeMoveZTooltipInfo(){const e=this._tool,o=e.tooltipOptions,i=this._moveZTooltipInfo??=new TranslateTooltipInfos/* TranslateGraphicZTooltipInfo */.YI({tooltipOptions:o});if(this.moveZManipulator.dragging){const t=this._bounds,e=t.mapBoundsStart.origin,o=t.mapBounds.origin,a=(0,euclideanLengthMeasurementUtils/* verticalSignedDistance */.cL)(e,o,this._tool.view.spatialReference);if(null==a)return null;i.distance=a}else i.distance=(0,quantityUtils/* createLength */.d_)(0,e.moveUnit);return i}_updateMoveTooltip(t,e){if(e===MoveManipulation_c.XY||e===MoveManipulation_c.XY_AXIS){const e=(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t.mapStart,t.mapEnd,this._graphicState.isDraped?"on-the-ground":"absolute-height");null!=e&&null!=this._moveXYTooltipInfo&&(this._moveXYTooltipInfo.distance=e)}return t}_createMoveXYGraphicDragPipeline(){return this.moveXYGraphicManipulation.createDragPipeline(((t,e,o)=>this._applyGraphicMoveSteps(e,o,MoveManipulation_c.XY)))}_createMoveZDragPipeline(){const t=this._editGeometryOperations.data.spatialReference;return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(this.moveZManipulator,((e,o,a)=>{const n=(0,vec3f64.g)(e.renderLocation),r=o.next(dragEventPipeline3D_P(this._tool.view,n,t)).next((0,dragEventPipeline/* addScreenDelta */.sO)());this._applyGraphicMoveSteps(r,a,MoveManipulation_c.Z)}))}_applyGraphicMoveSteps(t,e,o){const i=this._tool,a=i.graphic,n=t.next((t=>("start"===t.action&&(i.inputState={type:"move"},this._bounds.backupMapBounds(),i.emit("graphic-translate-start",{graphic:a,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next((0,dragEventPipeline/* addMapDelta */.EX)()).next(this._moveDragUpdateGeometry()).next((t=>{const e={graphic:a,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case"start":case"update":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||(t.mapEnd.z??0)-(t.mapStart.z??0))&&i.emit("graphic-translate",e);break;case"end":i.inputState=null,i.emit("graphic-translate-stop",e)}return t})).next((t=>this._updateMoveTooltip(t,o)));return e.next((()=>{null!=i.inputState&&i.emit("graphic-translate-stop",{graphic:a,dxScreen:0,dyScreen:0}),i.cancel()})),n}_moveDragUpdateGeometry(){const t=this._tool;return e=>{if(null==t.inputState||"move"!==t.inputState.type)return e;const o=[];for(const t of this._editGeometryOperations.data.components)o.push(...t.vertices);const i="start"===e.action?editGeometry_interfaces/* AccumulationBehaviour */.B.NEW_STEP:editGeometry_interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS,a=this._editGeometryOperations.moveVertices(o,e.mapDeltaX,e.mapDeltaY,e.mapDeltaZ,i);return (0,editPlaneUtils/* apply */.Bb)(a,this._bounds.mapBounds),t.graphic.geometry=this._editGeometryOperations.data.geometry,e}}}

;// ../node_modules/@arcgis/core/views/3d/analysis/images/generateTextures.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const generateTextures_t="theme-style";function generateTextures_e(t,e){return generateTextures_a(generateTextures_r(generateTextures_n(generateTextures_o(t),e)),e.size)}function generateTextures_n(e,{accentColor:n,contrastColor:o}){const r=n.toHex(),a=n.a,s=o.toHex(),i=o.a,c=e.getElementsByTagNameNS("http://www.w3.org/2000/svg","style").namedItem(generateTextures_t);return c&&(c.innerHTML=`\n      .contrast-fill { fill: ${s}; fill-opacity: ${i}; }\n      .contrast-stroke { stroke: ${s}; stroke-opacity: ${i};  }\n      .accent-fill { fill: ${r}; fill-opacity: ${a}; }\n      .accent-stroke { stroke: ${r}; stroke-opacity:  ${a}; }`),e}function generateTextures_o(t){const e=t.split(",")[1],n=atob(e);return(new DOMParser).parseFromString(n,"image/svg+xml")}function generateTextures_r(t){const e=(new XMLSerializer).serializeToString(t);return`data:image/svg+xml;base64,${btoa(e)}`}function generateTextures_a(t,e){const n=new Image(e,e);return n.src=t,n}

;// ../node_modules/@arcgis/core/views/3d/analysis/images/heading-rotate-svg.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const heading_rotate_svg_I="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NnoiIGNsYXNzPSJhY2NlbnQtZmlsbCIvPjxwYXRoIHN0cm9rZS13aWR0aD0iNC45OSIgZD0iTTIwLjA1IDQwLjg2YTE1LjA1IDE1LjA1IDAgMCAwIDE3LjE0LTEuNSAxNS4wNSAxNS4wNSAwIDAgMCA0LjQ3LTE2LjY1IDE1LjA1IDE1LjA1IDAgMCAwLTIyLjcyLTcuMTUgMTUuMDUgMTUuMDUgMCAwIDAtNS41IDcuMTUiIGNsYXNzPSJjb250cmFzdC1zdHJva2UiLz48cGF0aCBkPSJtMTAuOTcgMzUuNTcgNS4zOCAxMi4wNyA3Ljc5LTEzLjQ3LTEzLjE3IDEuNHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+";

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js + 4 modules
var Texture = __webpack_require__(28443);
;// ../node_modules/@arcgis/core/views/3d/analysis/images/Factory.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const Factory_a=64;function Factory_l(r,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return r.fromData(`heading-rotate:[accent:${n},contrast:${c},size:${Factory_a}]`,(()=>new Texture/* Texture */.g(generateTextures_e(heading_rotate_svg_I,{accentColor:n,contrastColor:c,size:Factory_a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}function Factory_n(o,l){const{accentColor:n,contrastColor:c,preMultiplyAlpha:i}=l;return o.fromData(`tilt-rotate:[accent:${n},contrast:${c},size:${Factory_a}]`,(()=>new e(t(r,{accentColor:n,contrastColor:c,size:Factory_a}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:i})))}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js
var GLTextureMaterial = __webpack_require__(89140);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js
var StencilUtils = __webpack_require__(98546);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js
var ImageMaterial_glsl = __webpack_require__(44350);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ImageMaterialTechnique_I extends (/* unused pure expression or super */ null && (r)){}class ImageMaterialTechnique_N extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,ImageMaterialTechnique_N.shader.get().build(this.configuration),ImageMaterialTechnique_)}_setPipelineState(e,r){const o=this.configuration,i=e===TransparencyPassType/* TransparencyPassType */.y.NONE,s=e===TransparencyPassType/* TransparencyPassType */.y.FrontFace;return (0,renderState/* makePipelineState */.Ey)({blending:o.output!==ShaderOutput/* ShaderOutput */.V.Color&&o.output!==ShaderOutput/* ShaderOutput */.V.Alpha||!o.transparent?null:i?ImageMaterialTechnique_E:(0,OrderIndependentTransparency/* oitBlending */.ez)(e),culling:(0,renderState/* cullingParams */.Xt)(o.cullFace),depthTest:{func:(0,OrderIndependentTransparency/* oitDepthTest */.K_)(e)},depthWrite:i?o.writeDepth?renderState/* defaultDepthWriteParams */.kn:null:(0,OrderIndependentTransparency/* oitDepthWrite */.XO)(e),colorWrite:renderState/* defaultColorWriteParams */.wE,stencilWrite:o.hasOccludees?StencilUtils/* stencilWriteMaskOn */.v0:null,stencilTest:o.hasOccludees?r?StencilUtils/* stencilToolMaskBaseParams */.a9:StencilUtils/* stencilBaseAllZerosParams */.qh:null,polygonOffset:i||s?null:(0,OrderIndependentTransparency/* getOITPolygonOffset */.aB)(o.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._setPipelineState(this.configuration.transparencyPassType,!0),this._setPipelineState(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}ImageMaterialTechnique_N.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(ImageMaterial_glsl.I,(()=>__webpack_require__.e(/* import() */ 3010).then(__webpack_require__.bind(__webpack_require__, 3010))));const ImageMaterialTechnique_E=(0,renderState/* simpleBlendingParams */.ox)(enums/* BlendFactor */.dn.ONE,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA);class ImageMaterialTechnique_C extends DefaultTechniqueConfiguration/* DefaultTechniqueConfiguration */.E{constructor(){super(...arguments),this.output=ShaderOutput/* ShaderOutput */.V.Color,this.cullFace=basicInterfaces/* CullFaceOptions */.s2.None,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.transparencyPassType=TransparencyPassType/* TransparencyPassType */.y.NONE,this.multipassEnabled=!1,this.cullAboveGround=!1,this.perspectiveInterpolation=!0}}(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:ShaderOutput/* ShaderOutput */.V.COUNT})],ImageMaterialTechnique_C.prototype,"output",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:basicInterfaces/* CullFaceOptions */.s2.COUNT})],ImageMaterialTechnique_C.prototype,"cullFace",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ImageMaterialTechnique_C.prototype,"hasSlicePlane",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ImageMaterialTechnique_C.prototype,"transparent",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ImageMaterialTechnique_C.prototype,"enableOffset",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ImageMaterialTechnique_C.prototype,"writeDepth",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ImageMaterialTechnique_C.prototype,"hasOccludees",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:TransparencyPassType/* TransparencyPassType */.y.COUNT})],ImageMaterialTechnique_C.prototype,"transparencyPassType",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ImageMaterialTechnique_C.prototype,"multipassEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ImageMaterialTechnique_C.prototype,"cullAboveGround",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],ImageMaterialTechnique_C.prototype,"perspectiveInterpolation",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!1})],ImageMaterialTechnique_C.prototype,"occlusionPass",void 0);const ImageMaterialTechnique_=new Map([[VertexAttribute/* VertexAttribute */.r.POSITION,0],[VertexAttribute/* VertexAttribute */.r.UV0,2],[VertexAttribute/* VertexAttribute */.r.PERSPECTIVEDIVIDE,3]]);

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ImageMaterial_g extends TriangleMaterial/* TriangleMaterial */.W{constructor(t){super(t,new ImageMaterial_T),this.supportsEdges=!0,this._vertexAttributeLocations=ImageMaterialTechnique_,this._configuration=new ImageMaterialTechnique_C}getConfiguration(t,e){return this._configuration.output=t,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=e.transparencyPassType,this._configuration.enableOffset=e.camera.relativeElevation<OrderIndependentTransparency/* OITPolygonOffsetLimit */.xt,this._configuration.multipassEnabled=e.multipassEnabled,this._configuration.cullAboveGround=e.multipassTerrain.cullAboveGround,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}produces(t,r){if(r===ShaderOutput/* ShaderOutput */.V.Color||r===ShaderOutput/* ShaderOutput */.V.Alpha||r===ShaderOutput/* ShaderOutput */.V.Highlight){if(t===RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL)return!0;if(r===ShaderOutput/* ShaderOutput */.V.Highlight)return t===RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL;return t===(this.parameters.transparent?this.parameters.writeDepth?RenderSlot/* RenderSlot */.N.TRANSPARENT_MATERIAL:RenderSlot/* RenderSlot */.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL)}return!1}createGLMaterial(t){return new ImageMaterial_E(t)}createBufferWriter(){const t=DefaultLayouts/* PositionUVLayout */.zK.clone();return this.parameters.perspectiveInterpolation&&t.f32(VertexAttribute/* VertexAttribute */.r.PERSPECTIVEDIVIDE),new ImageMaterial_A(t)}}class ImageMaterial_E extends GLTextureMaterial/* GLTextureMaterial */.m{constructor(t){super({...t,...t.material.parameters})}_updateParameters(t){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.ensureTechnique(ImageMaterialTechnique_N,t)}_updateOccludeeState(t){t.hasOccludees!==this._material.parameters.hasOccludees&&(this._material.setParameters({hasOccludees:t.hasOccludees}),this._updateParameters(t))}beginSlot(t){return this._output!==ShaderOutput/* ShaderOutput */.V.Color&&this._output!==ShaderOutput/* ShaderOutput */.V.Alpha||this._updateOccludeeState(t),this._updateParameters(t)}}class ImageMaterial_A extends DefaultBufferWriter/* DefaultBufferWriter */.Z{write(e,r,s,i,a){for(const n of this.vertexBufferLayout.fields.keys()){const l=s.attributes.get(n);if(l)if(n===VertexAttribute/* VertexAttribute */.r.PERSPECTIVEDIVIDE){(0,Util/* assert */.vA)(1===l.size);const e=i.getField(n,BufferView/* BufferViewFloat */.Y$);e&&(0,bufferWriterUtils/* writeBufferFloat */.uO)(l,e,a)}else (0,bufferWriterUtils/* writeDefaultAttribute */.zC)(n,l,e,r,i,a)}}}class ImageMaterial_T extends Material/* MaterialParameters */.qA{constructor(){super(...arguments),this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=basicInterfaces/* CullFaceOptions */.s2.None,this.hasOccludees=!1,this.opacity=1,this.textureId=null,this.initTextureTransparent=!0,this.perspectiveInterpolation=!1}}

;// ../node_modules/@arcgis/core/views/3d/analysis/Slice/RotateManipulator.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class RotateManipulator_g extends Manipulator3D_${constructor(n,s){const a=new ImageMaterial_g({transparent:!0,writeDepth:!1,renderOccluded:Material/* RenderOccludedFlag */.m$.Opaque,isDecoration:!0}),c=manipulatorUtils_O.calloutWidth,m=new RibbonLineMaterial/* RibbonLineMaterial */.W({width:c,renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,isDecoration:!0});super({view:n,...RotateManipulator_j({imageMaterial:a,calloutMaterial:m})}),this._currentTexture=null,this._themeHandle=(0,reactiveUtils/* watch */.wB)((()=>n.effectiveTheme.accentColor),(i=>{const o=(0,colorUtils/* multiplyOpacity */._L)(i,.5),n=(0,colorUtils/* getContrast */.bJ)(i),l=this._currentTexture,c=s(o,n);a.setParameters({textureId:c.texture.id}),m.setParameters({color:Color/* default */.A.toUnitRGBA(i)}),this._currentTexture=c,l?.release()}),reactiveUtils/* initial */.Vh)}destroy(){this._themeHandle.remove(),this._currentTexture?.release(),super.destroy()}}function RotateManipulator_j({imageMaterial:e,calloutMaterial:t}){const{focusMultiplier:r,calloutLength:i,discRadius:o}=manipulatorUtils_O,s=o*r,d=(e,t)=>{const r=[0,1,2,2,3,0];return new Geometry/* Geometry */.V(t,[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n([i-e,-e,0,i+e,-e,0,i+e,e,0,i-e,e,0],r,3,!0)],[VertexAttribute/* VertexAttribute */.r.UV0,new Attribute/* Attribute */.n([0,0,1,0,1,1,0,1],r,2,!0)]])},f=(0,GeometryUtil/* createPolylineGeometry */.Z8)(t,[[0,0,0],[i-o,0,0]]),b=(0,GeometryUtil/* createPolylineGeometry */.Z8)(t,[[0,0,0],[i-s,0,0]]),g=Vi;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[i,0,0]},focusMultiplier:r,radius:o,renderObjects:[new RenderObject_e(d(o,e),interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|g),new RenderObject_e(f,interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|g),new RenderObject_e(d(s,e),interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|g),new RenderObject_e(b,interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|g)],state:g}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UpdateVertices.js
var UpdateVertices = __webpack_require__(63387);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/tooltip/ExtentTooltipInfos.js
var ExtentTooltipInfos = __webpack_require__(63937);
;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentRotate.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ExtentRotate_T{constructor(t,e,o){this._tool=t,this._editGeometryOperations=e,this._bounds=o,this._rotateTooltipInfo=null,this._startAngle=0,this._endAngle=0;const r=this._tool,a=r.view,i=!a._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result;this.rotateManipulator=new RotateManipulator_g(a,((t,e)=>Factory_l(a.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i}))),r.addHandles([this.rotateManipulator.events.on("grab-changed",(t=>this._onRotateGrab(t))),this._createRotateDragPipeline(this.rotateManipulator)]),r.manipulators.add(this.rotateManipulator),r.addHandles([r.on("graphic-rotate-start",(t=>{this._startAngle=t.angle})),r.on("graphic-rotate",(t=>{this._endAngle=t.angle})),r.on("graphic-rotate-stop",(()=>{this._startAngle=0,this._endAngle=0}))])}destroy(){this._tool.manipulators.remove(this.rotateManipulator),this.rotateManipulator.destroy()}forEachManipulator(t){t(this.rotateManipulator,ManipulatorType_A.ROTATE)}updateManipulators(t,r){const a=this._bounds.mapBounds.plane[2]<0?Math.PI:0,i=(0,mat4.r)(vectorStacks/* sm4d */.Rc.get(),t,a);i[12]=0,i[13]=0,i[14]=0,this.rotateManipulator.modelTransform=i,this.rotateManipulator.renderLocation=(0,vec3.g)(vectorStacks/* sv3d */.rq.get(),r.origin,r.basis1)}getUpdatedTooltipInfo(){return this.rotateManipulator.focused?this._computeRotateTooltipInfo():null}_computeRotateTooltipInfo(){const t=this._tool.tooltipOptions,e=this._rotateTooltipInfo??=new ExtentTooltipInfos/* ExtentRotateTooltipInfo */.d({tooltipOptions:t});return e.angle=this._startAngle-this._endAngle,e}_onRotateGrab({action:t,screenPoint:e}){const o=this._tool,r=this._bounds;if("start"!==t||!e)return;const a=ci(r.displayBounds,o.view.renderCoordsHelper,Ci.HEADING,(0,plane/* create */.vt)()),i=ray_m(o.view.state.camera,e);(0,plane/* intersectRay */.Ui)(a,i,vectorStacks/* sv3d */.rq.get())&&(r.backupMapBounds(),o.inputState={type:"rotate",rotatePlane:a})}_createRotateDragPipeline(e){const o=this._tool,r=o.graphic;return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(e,((e,a,i)=>{const n=o.inputState;null!=n&&(a.next((t=>("start"===t.action&&o.emit("graphic-rotate-start",{graphic:r,angle:0}),t))).next(dragEventPipeline3D_H(o.view,n.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(n)).next(this._rotateDragUpdateGeometry()).next((e=>{const a={graphic:r,angle:(0,mathUtils/* rad2deg */.KJ)(e.rotateAngle)};switch(e.action){case"start":case"update":o.emit("graphic-rotate",a);break;case"end":o.inputState=null,o.emit("graphic-rotate-stop",a)}return e})),i.next((()=>{null!=o.inputState&&o.emit("graphic-rotate-stop",{graphic:r,angle:0}),o.cancel()})))}))}_rotateDragRenderPlaneToRotate(t){return e=>{const o=(0,plane/* normal */.qb)(t.rotatePlane),r=manipulatorUtils_F(e.renderStart,e.renderEnd,this._bounds.displayBounds.origin,o);return{...e,rotateAxis:o,rotateAngle:r}}}_rotateDragUpdateGeometry(){const t=this._tool,e=this._bounds;return o=>{const n=(0,vec3.c)((0,vec3f64.c)(),e.mapBoundsStart.origin),s=[];for(const t of this._editGeometryOperations.data.components)s.push(...t.vertices);const p="start"===o.action?editGeometry_interfaces/* AccumulationBehaviour */.B.NEW_STEP:editGeometry_interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS,l=this._editGeometryOperations.rotateVertices(s,n,o.rotateAngle,p,UpdateVertices/* AccumulationType */.K.REPLACE);return (0,boundedPlane.c)(e.mapBoundsStart,e.mapBounds),(0,editPlaneUtils/* apply */.Bb)(l,e.mapBounds),t.graphic.geometry=this._editGeometryOperations.data.geometry,o}}}

;// ../node_modules/@arcgis/core/views/3d/analysis/Slice/ResizeManipulator.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ResizeManipulator_v extends Manipulator3D_${constructor(o,i){const s=Ii(i),m=s?sliceToolConfig_b:sliceToolConfig_d,f=m*sliceToolConfig_s,d=sliceToolConfig_d,u={renderOccluded:Material/* RenderOccludedFlag */.m$.OccludeAndTransparent,isDecoration:!0},j=new RibbonLineMaterial/* RibbonLineMaterial */.W({...u,width:m}),b=new RibbonLineMaterial/* RibbonLineMaterial */.W({...u,width:f}),v=new RibbonLineMaterial/* RibbonLineMaterial */.W({...u,width:d});super({view:o,...manipulatorUtils_D,...ResizeManipulator_M({isCorner:s,unfocusedMaterial:j,focusedMaterial:b,outlineMaterial:v})}),this._themeHandle=(0,reactiveUtils/* watch */.wB)((()=>o.effectiveTheme.accentColor),(r=>{const t=Color/* default */.A.toUnitRGBA(r);j.setParameters({color:t}),b.setParameters({color:t}),v.setParameters({color:t})}),reactiveUtils/* initial */.Vh)}destroy(){this._themeHandle.remove(),super.destroy()}}function ResizeManipulator_M({isCorner:e,unfocusedMaterial:r,focusedMaterial:t,outlineMaterial:n}){const a=e?[(0,vec3f64.f)(1,0,0),(0,vec3f64.f)(0,0,0),(0,vec3f64.f)(0,1,0)]:[(0,vec3f64.f)(1,0,0),(0,vec3f64.f)(-1,0,0)];return{renderObjects:[new RenderObject_e((0,GeometryUtil/* createPolylineGeometry */.Z8)(r,a),interactive_interfaces/* ManipulatorStateFlags */.p7.Unfocused|Ni),new RenderObject_e((0,GeometryUtil/* createPolylineGeometry */.Z8)(t,a),interactive_interfaces/* ManipulatorStateFlags */.p7.Focused|Ni),new RenderObject_e((0,GeometryUtil/* createPolylineGeometry */.Z8)(n,a),Hi)],collisionType:{type:"line",paths:[a]},radius:e?sliceToolConfig_k:sliceToolConfig_q,state:Ni}}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/extentUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class extentUtils_{constructor(s,t,o){this._tool=s,this._onDisplayBoundsChanged=t,this.mapBounds=(0,boundedPlane.a)(),this.mapBoundsStart=(0,boundedPlane.a)(),this.displayBounds=(0,boundedPlane.a)(),this._calculateMapBounds(o)}get displayBoundsMargin(){const{view:s,graphic:t}=this._tool,o=s.pointsOfInterest?.centerOnSurfaceFrequent.location??t.geometry?.extent?.center;return o?extentUtils_R*s.pixelSizeAt(o):0}backupMapBounds(){(0,boundedPlane.c)(this.mapBounds,this.mapBoundsStart)}updateDisplayBounds(){this._calculateDisplayBounds(),this._onDisplayBoundsChanged()}_calculateMapBounds(s){const{view:e,attachmentOrigin:n}=this._tool,a=s.geometry,r=geometryUtils_o(a);(0,vec2.a)(r,r,-1);const c=e.spatialReference,l=a.spatialReference,p=n?e.pixelSizeAt(n)*(0,unitUtils/* getMetersPerCartesianUnitForSR */.KX)(c)/(0,unitUtils/* getMetersPerUnitForSR */.GA)(l):0;(0,editPlaneUtils/* calculateOrientedBounds */.G3)(r,s,extentUtils_U*p,this.mapBounds)}_calculateDisplayBounds(){const{view:s,attachmentOrigin:t,graphic:o}=this._tool;if(!o.geometry)return;const i=t?.z??(0,elevationAlignmentUtils/* evaluateElevationAlignmentAtPoint */.nG)(this.mapBounds.origin,s.elevationProvider,ElevationContext/* ElevationContext */.F.fromElevationInfo((0,elevationInfoUtils/* getGraphicEffectiveElevationInfo */.bh)(o)),s.renderCoordsHelper),e=(0,boundedPlane.c)(this.mapBounds);e.origin[2]=i??0,extentUtils_M(e,s.renderCoordsHelper,o.geometry.spatialReference,this.displayBoundsMargin,this.displayBounds)}}const extentUtils_R=10,extentUtils_U=80;function extentUtils_M(s,t,o,i=0,g){g||(g=(0,boundedPlane.a)()),t.toRenderCoords(s.origin,o,g.origin);const m=vectorStacks/* sv3d */.rq.get();(0,vec3.g)(m,s.origin,s.basis1),(0,vec3.g)(m,m,s.basis2),t.toRenderCoords(m,o,m);const f=vectorStacks/* sv3d */.rq.get();(0,vec3.g)(f,s.origin,s.basis1),(0,vec3.f)(f,f,s.basis2),t.toRenderCoords(f,o,f);const y=vectorStacks/* sv3d */.rq.get();(0,vec3.f)(y,s.origin,s.basis1),(0,vec3.f)(y,y,s.basis2),t.toRenderCoords(y,o,y);const B=vectorStacks/* sv3d */.rq.get();(0,vec3.f)(B,s.origin,s.basis1),(0,vec3.g)(B,B,s.basis2),t.toRenderCoords(B,o,B);const j=(0,vec3.p)(vectorStacks/* sv3d */.rq.get(),m,f,.5);(0,vec3.f)(j,j,g.origin);const v=(0,vec3.p)(vectorStacks/* sv3d */.rq.get(),y,B,.5);(0,vec3.f)(v,g.origin,v),(0,vec3.p)(g.basis1,j,v,.5);const C=(0,vec3.p)(vectorStacks/* sv3d */.rq.get(),B,m,.5);(0,vec3.f)(C,C,g.origin);const _=(0,vec3.p)(vectorStacks/* sv3d */.rq.get(),f,y,.5);(0,vec3.f)(_,g.origin,_),(0,vec3.p)(g.basis2,C,_,.5);const R=(0,vec3.b)(vectorStacks/* sv3d */.rq.get(),g.basis1,g.basis2),U=(0,vec3.b)(R,R,g.basis1);return (0,vec3.n)(U,U),(0,vec3.i)(g.basis2,U,(0,vec3.j)(g.basis2,U)),(0,vec3.i)(g.basis1,g.basis1,1+i/(0,vec3.l)(g.basis1)),(0,vec3.i)(g.basis2,g.basis2,1+i/(0,vec3.l)(g.basis2)),(0,boundedPlane.u)(g),g}function extentUtils_S(t,o,i,e){const a=vectorStacks/* sv3d */.rq.get();(0,vec3.f)(a,(0,vec3.f)(a,t.origin,t.basis1),t.basis2);const r=vectorStacks/* sv3d */.rq.get();(0,vec3.q)(r,a,t.basis1,2);const c=vectorStacks/* sv3d */.rq.get();(0,vec3.q)(c,r,t.basis2,2);const l=vectorStacks/* sv3d */.rq.get();(0,vec3.q)(l,a,t.basis2,2),a[2]=r[2]=c[2]=l[2]=o;const p=e?"on-the-ground":"absolute-height",u=(0,quantityUtils/* max */.T9)((0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationMode */.wF)(a,r,i,p),(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationMode */.wF)(l,c,i,p)),d=(0,quantityUtils/* max */.T9)((0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationMode */.wF)(r,c,i,p),(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationMode */.wF)(a,l,i,p));return null==d||null==u?null:[u,d]}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentScale.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ExtentScale_j{get zMax(){if(!this._zMaxDirty)return this._zMax;const t=this._editGeometryOperations.data;if(t.geometry.hasZ){const e=t.coordinateHelper;this._zMax=Number.NEGATIVE_INFINITY;for(const s of t.components)for(const t of s.vertices){const s=e.getZ(t.pos)??0;this._zMax=Math.max(s,this._zMax)}}else this._zMax=0;return this._zMaxDirty=!1,this._zMax}constructor(e,a,i,r,o){this._tool=e,this._graphicState=a,this._editGeometryOperations=i,this._bounds=r,this._preserveAspectRatioStep=o,this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._scaleTooltipInfo=null,this._displayBoundsStart=(0,boundedPlane.a)(),this._displayBoundsMarginStart=0,this._startScale=(0,vec2f64.a)(),this._endScale=(0,vec2f64.a)(),this._sizeStart=null,this._zMax=0,this._zMaxDirty=!0;const n=this._tool,c=n.view;this.resizeManipulators=this._resizeHandles.map((t=>{const e=new ResizeManipulator_v(c,t);return n.addHandles([e.events.on("grab-changed",(t=>this._onResizeGrab(t))),this._createResizeDragPipeline(e,t)]),e})),n.manipulators.addMany(this.resizeManipulators),n.addHandles([n.on("graphic-scale-start",(e=>{(0,vec2.s)(this._startScale,e.xScale,e.yScale),(0,vec2.s)(this._endScale,e.xScale,e.yScale)})),n.on("graphic-scale",(e=>{(0,vec2.s)(this._endScale,e.xScale,e.yScale)})),n.on("graphic-scale-stop",(()=>{(0,vec2.s)(this._startScale,0,0),(0,vec2.s)(this._endScale,0,0)})),this._graphicState.on("changed",(()=>{"resize"!==n.inputState?.type&&(this._zMaxDirty=!0)}))])}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){this.resizeManipulators.forEach((e=>t(e,ManipulatorType_A.SCALE)))}updateManipulators(t,e){this.resizeManipulators.forEach(((s,a)=>{di(s,this._resizeHandles[a],t,e)}))}getUpdatedTooltipInfo(){return this.resizeManipulators.some((t=>t.focused))?this._computeScaleTooltipInfo():null}_computeScaleTooltipInfo(){const t=this._tool,e=t.tooltipOptions,s=this._scaleTooltipInfo??=new ExtentTooltipInfos/* ExtentScaleTooltipInfo */.c({tooltipOptions:e}),a=t.graphic.geometry;if(null==a)return null;const i=extentUtils_S(this._bounds.mapBounds,this.zMax,a.spatialReference,this._graphicState.isDraped);return null==i?null:(s.xSize=i[0],s.ySize=i[1],null!=this._sizeStart&&this.resizeManipulators.some((t=>t.dragging))?(s.xScale=i[0].value/this._sizeStart[0].value,s.yScale=i[1].value/this._sizeStart[1].value):(s.xScale=1,s.yScale=1),s)}_onResizeGrab({action:t,screenPoint:e}){const s=this._tool,a=this._bounds;if("start"!==t||!e||!s.graphic.geometry)return;const i=ray_m(s.view.state.camera,e);(0,plane/* intersectRay */.Ui)(a.displayBounds.plane,i,vectorStacks/* sv3d */.rq.get())&&(a.backupMapBounds(),(0,boundedPlane.c)(a.displayBounds,this._displayBoundsStart),this._displayBoundsMarginStart=a.displayBoundsMargin,this._sizeStart=extentUtils_S(a.mapBoundsStart,this.zMax,s.graphic.geometry.spatialReference,this._graphicState.isDraped),s.inputState={type:"resize"})}_createResizeDragPipeline(t,e){const s=this._tool,a=s.graphic;return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(t,((t,i,r)=>{null!=s.inputState&&(i.next((t=>("start"===t.action&&s.emit("graphic-scale-start",{graphic:a,xScale:1,yScale:1}),t))).next(dragEventPipeline3D_H(s.view,this._displayBoundsStart.plane)).next((t=>({...t,handle:e}))).next(this._resizeDragRenderPlaneToFactors()).next(...this._preserveAspectRatioStep()).next(this._resizeDragUpdateGeometry()).next((t=>{const e={graphic:a,xScale:t.factor1,yScale:t.factor2};switch(t.action){case"start":case"update":s.emit("graphic-scale",e);break;case"end":s.inputState=null,s.emit("graphic-scale-stop",e)}return t})),r.next((()=>{null!=s.inputState&&s.emit("graphic-scale-stop",{graphic:a,xScale:1,yScale:1}),s.cancel()})))}))}_resizeDragRenderPlaneToFactors(){const t=this._bounds;return e=>{const s=this._displayBoundsStart,c=e.handle.direction,p=t.displayBoundsMargin,l=this._displayBoundsMarginStart,h=(0,vec3.c)(vectorStacks/* sv3d */.rq.get(),s.origin);(0,vec3.q)(h,h,s.basis1,-c[0]),(0,vec3.q)(h,h,s.basis2,-c[1]);const u=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),e.renderEnd,h),m=(0,vec3.f)(vectorStacks/* sv3d */.rq.get(),e.renderStart,h),g=Ii(e.handle),f=hi(s),y=hi(t.displayBounds)/f,z=(t,e)=>{if(0===t)return 1;let s=(0,vec3.l)(e),a=.5*t*(0,vec3.j)(e,u)/s;const i=a<0?-1:1;if(g){a+=(s-.5*t*(0,vec3.j)(e,m)/s)*i*y}const r=s<1.5*l?1:ExtentScale_E;return s=Math.max(s-l,ExtentScale_E),i>0&&(a-=p),i*Math.max(i*(a/s),r)};return{...e,factor1:z(c[0],s.basis1),factor2:z(c[1],s.basis2)}}}_resizeDragUpdateGeometry(){const r=this._tool,o=this._bounds;return n=>{const p=(0,vec3.c)((0,vec3f64.c)(),o.mapBoundsStart.origin);(0,vec3.q)(p,p,o.mapBoundsStart.basis1,-n.handle.direction[0]),(0,vec3.q)(p,p,o.mapBoundsStart.basis2,-n.handle.direction[1]);const h=(0,vec2.s)((0,vec2f64.a)(),o.mapBoundsStart.basis1[0],o.mapBoundsStart.basis1[1]);(0,vec2.e)(h,h);const d=[];for(const t of this._editGeometryOperations.data.components)d.push(...t.vertices);const u="start"===n.action?editGeometry_interfaces/* AccumulationBehaviour */.B.NEW_STEP:editGeometry_interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS,m=this._editGeometryOperations.scaleVertices(d,p,h,n.factor1,n.factor2,u,UpdateVertices/* AccumulationType */.K.REPLACE);return (0,boundedPlane.c)(o.mapBoundsStart,o.mapBounds),(0,editPlaneUtils/* apply */.Bb)(m,o.mapBounds),r.graphic.geometry=this._editGeometryOperations.data.geometry,n}}}const ExtentScale_E=1e-6;

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class PreserveAspectRatio_e{constructor(){this._lastDragEvent=null,this._next=null,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent&&null!=this._next){const a={...this._lastDragEvent,action:"update"};t&&this._adjustScaleFactors(a),this._next.execute(a)}this._enabled=t}createDragEventPipelineStep(){this._lastDragEvent=null;const t=new dragEventPipeline/* EventPipeline */.rh;return this._next=t,[t=>(this._lastDragEvent="end"!==t.action?{...t}:null,this._enabled&&this._adjustScaleFactors(t),t),t]}_adjustScaleFactors(a){const e=Ii(a.handle)?Math.max(Math.abs(a.factor1),Math.abs(a.factor2)):0===a.handle.direction[0]?Math.abs(a.factor2):Math.abs(a.factor1);a.factor1=a.factor1<0?-e:e,a.factor2=a.factor2<0?-e:e}get test(){return{_adjustScaleFactors:t=>this._adjustScaleFactors(t)}}}

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let ExtentTransformTool_U=class extends(Evented/* default */.A.EventedMixin(InteractiveToolBase/* InteractiveToolBase */.g)){constructor(t){super(t),this.enableZ=!0,this.enableScaling=!0,this.enableRotation=!0,this.tooltipOptions=new SketchTooltipOptions/* default */.A,this._preserveAspectRatio=new PreserveAspectRatio_e,this.grabbing=!1,this.inputState=null,this._attachmentOrigin=null,this.type="transform-3d",this._outlineVisualElement=null}initialize(){const{view:t,graphic:e}=this,s=this._graphicState=new GraphicState_e({graphic:e}),n=e.geometry,r=this._editGeometryOperations=EditGeometryOperations/* EditGeometryOperations */.p.fromGeometry(n,t.state.viewingMode),l=this._bounds=new extentUtils_(this,(()=>this._updateManipulators()),r.data);this._extentMove=new ExtentMove_T(this,s,r,l),this._extentScale=new ExtentScale_j(this,s,r,l,(()=>this._preserveAspectRatio.createDragEventPipelineStep())),this._extentRotate=new ExtentRotate_T(this,r,l),this.addHandles([(0,reactiveUtils/* watch */.wB)((()=>this.enableZ),(()=>this._updateManipulatorAvailability(this._extentMove.moveZManipulator,ManipulatorType_A.TRANSLATE_Z))),(0,reactiveUtils/* watch */.wB)((()=>this.enableScaling),(()=>this._extentScale.forEachManipulator((t=>this._updateManipulatorAvailability(t,ManipulatorType_A.SCALE))))),(0,reactiveUtils/* watch */.wB)((()=>this.enableRotation),(()=>this._updateManipulatorAvailability(this._extentRotate.rotateManipulator,ManipulatorType_A.ROTATE)))]),this._updateAllManipulatorAvailability();const p=visualElementUtils_i({view:t,graphic:e,forEachManipulator:t=>this._forEachManipulator(t),onManipulatorsChanged:()=>(0,handleUtils/* makeHandle */.hA)()});if(null!=p){const{visualElement:t}=p;t instanceof OutlineVisualElement_w&&(this._outlineVisualElement=t,this.addHandles(t.events.on("attachment-origin-changed",(()=>this._bounds.updateDisplayBounds())))),this.addHandles(p)}this.addHandles([s.on("changed",(()=>this._onGeometryChanged())),(0,reactiveUtils/* watch */.wB)((()=>s.displaying),(()=>this._updateAllManipulatorAvailability())),(0,reactiveUtils/* watch */.wB)((()=>s.isDraped),(()=>this._graphicDrapedChanged()),reactiveUtils/* initial */.Vh),(0,reactiveUtils/* watch */.wB)((()=>t.pointsOfInterest?.centerOnSurfaceFrequent.location),(()=>l.updateDisplayBounds())),t.trackGraphicState(s)]);const h=t=>{this.addHandles(t.events.on("grab-changed",(()=>{this.grabbing=t.grabbing,this._updateAllManipulatorAvailability()})))};this._forEachManipulator(h);const c=(t,i)=>{this.addHandles(t.events.on("immediate-click",(t=>{i===ManipulatorType_A.TRANSLATE_XY&&this.emit("immediate-click",{...t,graphic:e}),t.stopPropagation()})))};this._forEachManipulator(c),this._initializeTooltip(),this.finishToolCreation()}destroy(){this._extentMove.destroy(),this._extentScale.destroy(),this._extentRotate.destroy(),this._editGeometryOperations.destroy(),this._tooltip.destroy(),this._set("view",null),this._set("graphic",null)}_initializeTooltip(){const{view:t}=this,e=this._tooltip=new Tooltip/* Tooltip */.m({view:t}),i=()=>{e.info=this._getUpdatedTooltipInfo()};this.addHandles([this.on("graphic-translate-start",i),this.on("graphic-translate",i),this.on("graphic-translate-stop",(()=>{this._tooltip.clear()})),this.on("graphic-rotate-start",i),this.on("graphic-rotate",i),this.on("graphic-rotate-stop",i),this.on("graphic-scale-start",i),this.on("graphic-scale",i),this.on("graphic-scale-stop",i)]),this._forEachManipulator((t=>{this.addHandles([t.events.on("focus-changed",i),t.events.on("grab-changed",i),t.events.on("drag",(t=>{"cancel"===t.action?this._tooltip.clear():i()}))])}))}_getUpdatedTooltipInfo(){return this.tooltipOptions.enabled?this._extentMove.getUpdatedTooltipInfo()??this._extentScale.getUpdatedTooltipInfo()??this._extentRotate.getUpdatedTooltipInfo():null}_onGeometryChanged(){this._bounds.updateDisplayBounds()}_graphicDrapedChanged(){this.removeHandles(ExtentTransformTool_G),this._bounds.updateDisplayBounds(),this._graphicState.isDraped&&this.addHandles(this.view.elevationProvider.on("elevation-change",(t=>{null!=this._attachmentOrigin&&(0,aaBoundingRect/* containsXY */.Rj)(t.extent,this._attachmentOrigin.x,this._attachmentOrigin.y)&&this._bounds.updateDisplayBounds()})),ExtentTransformTool_G)}_updateManipulators(){if(!this.visible)return;const t=this._bounds.displayBounds,e=ai(t,vectorStacks/* sm4d */.Rc.get());this._extentMove.updateManipulators(e,t),this._extentScale.updateManipulators(e,t),this._extentRotate.updateManipulators(e,t)}_updateAllManipulatorAvailability(){this._forEachManipulator(((t,e)=>this._updateManipulatorAvailability(t,e)))}_updateManipulatorAvailability(t,e){const i=this.grabbing&&!t.grabbing;if(t.interactive=!i,t instanceof Manipulator3D_$){const a=this._graphicState.displaying,o=this.enableZ&&manipulatorUtils_n(this.graphic);switch(e){case ManipulatorType_A.ROTATE:t.available=a&&this.enableRotation;break;case ManipulatorType_A.SCALE:t.available=a&&(this.enableScaling||this.enableRotation||o),t.interactive=!i&&this.enableScaling,t.state=this.enableScaling?Ni:Hi;break;case ManipulatorType_A.TRANSLATE_Z:t.available=a&&o;break;default:t.available=a}}}_forEachManipulator(t){this._extentMove.forEachManipulator(t),this._extentScale.forEachManipulator(t),this._extentRotate.forEachManipulator(t)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set("preserveAspectRatio",t)}get moveUnit(){return (0,unitUtils/* lengthUnitFromSpatialReference */._H)(this.view.spatialReference)??"meters"}get attachmentOrigin(){const t=this.graphic.geometry,e=this._graphicState.isDraped?null:this._outlineVisualElement?.attachmentOrigin;return this._attachmentOrigin=e??manipulatorUtils_k(this.view,this.graphic)??t?.extent?.center,this._attachmentOrigin}reset(){}cancel(){if(this.canUndo){const t=this._editGeometryOperations.undo();(0,editPlaneUtils/* unapply */.CF)(t,this._bounds.mapBounds),this.graphic.geometry=this._editGeometryOperations.data.geometry}this.inputState=null}get canUndo(){return this._editGeometryOperations.canUndo}undo(){if(null!=this.inputState)this.view.activeTool=null;else if(this.canUndo){const t=this._editGeometryOperations.undo();(0,editPlaneUtils/* unapply */.CF)(t,this._bounds.mapBounds),this.graphic.geometry=this._editGeometryOperations.data.geometry}}get canRedo(){return this._editGeometryOperations.canRedo}redo(){if(this.canRedo){const t=this._editGeometryOperations.redo();(0,editPlaneUtils/* apply */.Bb)(t,this._bounds.mapBounds),this.graphic.geometry=this._editGeometryOperations.data.geometry}}get test(){return{moveZManipulator:this._extentMove.moveZManipulator,resizeManipulators:this._extentScale.resizeManipulators,rotateManipulator:this._extentRotate.rotateManipulator,tooltip:this._tooltip}}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],ExtentTransformTool_U.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],ExtentTransformTool_U.prototype,"graphic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ExtentTransformTool_U.prototype,"enableZ",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ExtentTransformTool_U.prototype,"enableScaling",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ExtentTransformTool_U.prototype,"enableRotation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchTooltipOptions/* default */.A})],ExtentTransformTool_U.prototype,"tooltipOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ExtentTransformTool_U.prototype,"preserveAspectRatio",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ExtentTransformTool_U.prototype,"moveUnit",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ExtentTransformTool_U.prototype,"grabbing",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ExtentTransformTool_U.prototype,"inputState",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],ExtentTransformTool_U.prototype,"type",void 0),ExtentTransformTool_U=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.interactive.editingTools.transformGraphic.ExtentTransformTool")],ExtentTransformTool_U);const ExtentTransformTool_G="draped-elevation-changes";

;// ../node_modules/@arcgis/core/views/3d/interactive/editingTools.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/



/***/ }),

/***/ 58343:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   F: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(97046);
/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9104);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o{constructor(){this._meterUnitOffset=0,this._renderUnitOffset=0,this._unit="meters",this._metersPerElevationInfoUnit=1,this._featureExpressionInfoContext=null,this.centerPointInElevationSR=null,this.mode=null}get featureExpressionInfoContext(){return this._featureExpressionInfoContext}get meterUnitOffset(){return this._meterUnitOffset}get unit(){return this._unit}set unit(e){this._unit=e,this._metersPerElevationInfoUnit=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getMetersPerUnit */ .Ao)(e)}get requiresSampledElevationInfo(){return"absolute-height"!==this.mode}reset(){this.mode=null,this._meterUnitOffset=0,this._renderUnitOffset=0,this._featureExpressionInfoContext=null,this.unit="meters"}set offsetMeters(t){this._meterUnitOffset=t,this._renderUnitOffset=0}set offsetElevationInfoUnits(t){this._meterUnitOffset=t*this._metersPerElevationInfoUnit,this._renderUnitOffset=0}addOffsetRenderUnits(t){this._renderUnitOffset+=t}geometryZWithOffset(t,e){const n=this.calculateOffsetRenderUnits(e);return null!=this.featureExpressionInfoContext?n:t+n}calculateOffsetRenderUnits(t){let e=this._meterUnitOffset;const s=this.featureExpressionInfoContext;return null!=s&&(e+=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .execute */ .g7)(s)*this._metersPerElevationInfoUnit),e/t.unitInMeters+this._renderUnitOffset}setFromElevationInfo(t){this.mode=t.mode,this.unit=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .supportsUnit */ .Tg)(t.unit)?t.unit:"meters",this.offsetElevationInfoUnits=t.offset??0}updateFeatureExpressionInfoContext(t,e,n){if(null==t)return void(this._featureExpressionInfoContext=null);const o=t?.arcade;o&&null!=e&&null!=n?(this._featureExpressionInfoContext=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .clone */ .o8)(t),(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .setContextFeature */ .gf)(this._featureExpressionInfoContext,(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .createFeature */ .VG)(o.modules,e,n))):this._featureExpressionInfoContext=t}static fromElevationInfo(t){const e=new o;return null!=t&&e.setFromElevationInfo(t),e}}


/***/ }),

/***/ 27716:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I2: () => (/* binding */ d),
/* harmony export */   Kf: () => (/* binding */ p),
/* harmony export */   Uk: () => (/* binding */ R),
/* harmony export */   au: () => (/* binding */ u),
/* harmony export */   fe: () => (/* binding */ g),
/* harmony export */   nG: () => (/* binding */ f),
/* harmony export */   nu: () => (/* binding */ m),
/* harmony export */   sE: () => (/* binding */ c),
/* harmony export */   uw: () => (/* binding */ T)
/* harmony export */ });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22279);
/* harmony import */ var _geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(59538);
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(84119);
/* harmony import */ var _layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(80009);
/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(54096);
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(27054);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(e,t,n,o,i,s,a,l,u,c,f){const d=j[f.mode];let m,p,g=0;if((0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__.projectBuffer)(e,t,n,o,u.spatialReference,i,l))return d.requiresAlignment(f)?(g=d.applyElevationAlignmentBuffer(o,i,s,a,l,u,c,f),m=s,p=a):(m=o,p=i),(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_4__.projectBuffer)(m,u.spatialReference,p,s,c.spatialReference,a,l)?g:void 0}function c(e,t,n,o,r){const s=((0,_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .isDehydratedPoint */ .v)(e)?e.z:(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__/* .isSamplePosition */ .cN)(e)?e.array[e.offset+2]:e[2])||0;switch(n.mode){case"on-the-ground":{const n=(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__/* .getElevationAtPoint */ .R1)(t,e,"ground")??0;return r.verticalDistanceToGround=0,r.sampledElevation=n,void(r.z=n)}case"relative-to-ground":{const i=(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__/* .getElevationAtPoint */ .R1)(t,e,"ground")??0,a=n.geometryZWithOffset(s,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case"relative-to-scene":{const i=(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__/* .getElevationAtPoint */ .R1)(t,e,"scene")??0,a=n.geometryZWithOffset(s,o);return r.verticalDistanceToGround=a,r.sampledElevation=i,void(r.z=a+i)}case"absolute-height":{const i=n.geometryZWithOffset(s,o),a=(0,_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_7__/* .getElevationAtPoint */ .R1)(t,e,"ground")??0;return r.verticalDistanceToGround=i-a,r.sampledElevation=a,void(r.z=i)}default:return void(r.z=0)}}function f(e,t,n,o){return c(e,t,n,o,x),x.z}function d(e,t,n){return null==t||null==n?e.definedChanged:"on-the-ground"===t&&"on-the-ground"===n?e.staysOnTheGround:t===n||"on-the-ground"!==t&&"on-the-ground"!==n?T.UPDATE:e.onTheGroundChanged}function m(e){return"relative-to-ground"===e||"relative-to-scene"===e}function p(e){return"absolute-height"!==e}function g(t,n,r,i,a){c(n,r,a,i,x),(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .updateVertexAttributeAuxpos1w */ .Ig)(t,x.verticalDistanceToGround);const l=x.sampledElevation,u=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(O,t.transformation);z[0]=n.x,z[1]=n.y,z[2]=x.z;return (0,_geometry_projection_computeTranslationToOriginAndRotation_js__WEBPACK_IMPORTED_MODULE_3__/* .computeTranslationToOriginAndRotation */ .l)(n.spatialReference,z,u,i.spatialReference)?t.transformation=u:console.warn("Could not locate symbol object properly, it might be misplaced"),l}function v(e,t,n,o,r,i){let s=0;const a=i.spatialReference;t*=3,o*=3;for(let l=0;l<r;++l){const r=e[t],l=e[t+1],u=e[t+2],c=i.getElevation(r,l,u,a,"ground")??0;s+=c,n[o]=r,n[o+1]=l,n[o+2]=c,t+=3,o+=3}return s/r}function h(e,t,n,o,r,i,s,a){let l=0;const u=a.calculateOffsetRenderUnits(s),c=a.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let d=0;d<r;++d){const r=e[t],s=e[t+1],a=e[t+2],d=i.getElevation(r,s,a,f,"ground")??0;l+=d,n[o]=r,n[o+1]=s,n[o+2]=null==c?a+d+u:d+u,t+=3,o+=3}return l/r}function E(e,t,n,o,r,i,s,a){let l=0;const u=a.calculateOffsetRenderUnits(s),c=a.featureExpressionInfoContext,f=i.spatialReference;t*=3,o*=3;for(let d=0;d<r;++d){const r=e[t],s=e[t+1],a=e[t+2],d=i.getElevation(r,s,a,f,"scene")??0;l+=d,n[o]=r,n[o+1]=s,n[o+2]=null==c?a+d+u:d+u,t+=3,o+=3}return l/r}function y(e){const t=e.meterUnitOffset,n=e.featureExpressionInfoContext;return 0!==t||null!=n}function A(e,t,n,o,r,i,s,a){const l=a.calculateOffsetRenderUnits(s),u=a.featureExpressionInfoContext;t*=3,o*=3;for(let c=0;c<r;++c){const r=e[t],i=e[t+1],s=e[t+2];n[o]=r,n[o+1]=i,n[o+2]=null==u?s+l:l,t+=3,o+=3}return 0}class R{constructor(){this.verticalDistanceToGround=0,this.sampledElevation=0,this.z=0}}var T;!function(e){e[e.NONE=0]="NONE",e[e.UPDATE=1]="UPDATE",e[e.RECREATE=2]="RECREATE"}(T||(T={}));const j={"absolute-height":{applyElevationAlignmentBuffer:A,requiresAlignment:y},"on-the-ground":{applyElevationAlignmentBuffer:v,requiresAlignment:()=>!0},"relative-to-ground":{applyElevationAlignmentBuffer:h,requiresAlignment:()=>!0},"relative-to-scene":{applyElevationAlignmentBuffer:E,requiresAlignment:()=>!0}},O=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),x=new R,z=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();


/***/ }),

/***/ 9104:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KF: () => (/* binding */ f),
/* harmony export */   MF: () => (/* binding */ d),
/* harmony export */   VG: () => (/* binding */ s),
/* harmony export */   g7: () => (/* binding */ i),
/* harmony export */   gf: () => (/* binding */ l),
/* harmony export */   o8: () => (/* binding */ o),
/* harmony export */   q6: () => (/* binding */ a)
/* harmony export */ });
/* unused harmony export createContextWithoutExpressionSupport */
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(539);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40189);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(85174);
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(28965);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.getLogger("esri.views.3d.layers.graphics.featureExpressionInfoUtils");function o(e){return{cachedResult:e.cachedResult,arcade:e.arcade?{func:e.arcade.func,context:e.arcade.modules.arcadeUtils.createExecContext(null,{sr:e.arcade.context.spatialReference}),modules:e.arcade.modules}:null}}function u(e){const t=e?.expression;if("string"==typeof t){const e=m(t);if(null!=e)return{cachedResult:e}}return null}async function a(e,r,c,o){const u=e?.expression;if("string"!=typeof u)return null;const a=m(u);if(null!=a)return{cachedResult:a};const s=await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__/* .loadArcade */ .lw)();(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .throwIfAborted */ .Te)(c);const l=s.arcadeUtils,i=l.createSyntaxTree(u);return l.dependsOnView(i)?(null!=o&&o.error("Expressions containing '$view' are not supported on ElevationInfo"),{cachedResult:0}):{arcade:{func:l.createFunction(i),context:l.createExecContext(null,{sr:r}),modules:s}}}function s(e,t,r){return e.arcadeUtils.createFeature(t.attributes,t.geometry,r)}function l(e,t){if(null!=e&&!p(e)){if(!t||!e.arcade)return void c.errorOncePerTick("Arcade support required but not provided");const n=t;n._geometry&&(n._geometry=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__/* .hydrateGeometry */ .wZ)(n._geometry)),e.arcade.modules.arcadeUtils.updateExecContext(e.arcade.context,t)}}function i(e){if(null!=e){if(p(e))return e.cachedResult;const t=e.arcade;let r=t?.modules.arcadeUtils.executeFunction(t.func,t.context);return"number"!=typeof r&&(e.cachedResult=0,r=0),r}return 0}function d(e,t=!1){let r=e?.featureExpressionInfo;const n=r?.expression;return t||"0"===n||(r=null),r??null}const f={cachedResult:0};function p(e){return null!=e.cachedResult}function m(e){return"0"===e?0:null}


/***/ }),

/***/ 54096:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $2: () => (/* binding */ S),
/* harmony export */   $C: () => (/* binding */ F),
/* harmony export */   Hj: () => (/* binding */ D),
/* harmony export */   Ig: () => (/* binding */ k),
/* harmony export */   Mh: () => (/* binding */ I),
/* harmony export */   W$: () => (/* binding */ w),
/* harmony export */   pW: () => (/* binding */ O),
/* harmony export */   t8: () => (/* binding */ R),
/* harmony export */   vY: () => (/* binding */ V)
/* harmony export */ });
/* unused harmony export overrideColor */
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92976);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22279);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(25102);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52712);
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(97303);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(4675);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(80510);
/* harmony import */ var _geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(23806);
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(65319);
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(29394);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(85174);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function w(t,e){if("point"===t.type)return M(t,e,!1);if((0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_11__/* .isHydratedGeometry */ .gr)(t))switch(t.type){case"extent":return M(t.center,e,!1);case"polygon":return M(t.centroid,e,!1);case"polyline":return M(A(t),e,!0);case"mesh":return M(t.origin,e,!1)}else switch(t.type){case"extent":return M(P(t),e,!0);case"polygon":return M(z(t),e,!0);case"polyline":return M(A(t),e,!0)}}function A(t){const e=t.paths[0];if(!e||0===e.length)return null;const n=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .getPointOnPath */ .$H)(e,(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .getPathLength */ .Yl)(e)/2);return (0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_13__/* .makeDehydratedPoint */ .T)(n[0],n[1],n[2],t.spatialReference)}function P(t){return (0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_13__/* .makeDehydratedPoint */ .T)(.5*(t.xmax+t.xmin),.5*(t.ymax+t.ymin),null!=t.zmin&&null!=t.zmax&&isFinite(t.zmin)&&isFinite(t.zmax)?.5*(t.zmax+t.zmin):void 0,t.spatialReference)}function z(t){const e=t.rings[0];if(!e||0===e.length)return null;const n=(0,_geometry_support_centroid_js__WEBPACK_IMPORTED_MODULE_9__/* .ringsCentroid */ .S8)(t.rings,!!t.hasZ);return (0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_13__/* .makeDehydratedPoint */ .T)(n[0],n[1],n[2],t.spatialReference)}function M(t,e,n){const r=n?t:(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_11__/* .clonePoint */ .EL)(t);return e&&t?(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.projectPoint)(t,r,e)?r:null:r}function R(t,e,n,r=0){if(t){e||(e=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__/* .create */ .vt)());const o=t;let i=.5*o.width*(n-1),s=.5*o.height*(n-1);return o.width<1e-7*o.height?i+=s/20:o.height<1e-7*o.width&&(s+=i/20),(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__.s)(e,o.xmin-i-r,o.ymin-s-r,o.xmax+i+r,o.ymax+s+r),e}return null}function k(t,e){for(let n=0;n<t.geometries.length;++n){const r=t.geometries[n].getMutableAttribute(_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__/* .VertexAttribute */ .r.AUXPOS1);r&&r.data[3]!==e&&(r.data[3]=e,t.geometryVertexAttributeUpdated(t.geometries[n],_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_12__/* .VertexAttribute */ .r.AUXPOS1))}}function F(t,e,n=null){const r=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.d)(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.O);return null!=t&&(r[0]=t[0],r[1]=t[1],r[2]=t[2]),null!=e?r[3]=e:null!=t&&t.length>3&&(r[3]=t[3]),n&&(r[0]*=n,r[1]*=n,r[2]*=n,r[3]*=n),r}function U(t,e,n,r,o,i=[0,0,0,0]){for(let s=0;s<3;++s)i[s]=null!=t?.[s]?t[s]:null!=n?.[s]?n[s]:o[s];return i[3]=null!=e?e:null!=r?r:o[3],i}function O(t=_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.O,e,n,r=1){const o=new Array(3);if(null==e||null==n)o[0]=1,o[1]=1,o[2]=1;else{let r,i=0;for(let s=2;s>=0;s--){const u=t[s];let l;const a=null!=u,m=0===s&&!r&&!a,c=n[s];"symbol-value"===u||m?l=0!==c?e[s]/c:1:a&&"proportional"!==u&&isFinite(u)&&(l=0!==c?u/c:1),null!=l&&(o[s]=l,r=l,i=Math.max(i,Math.abs(l)))}for(let t=2;t>=0;t--)null==o[t]?o[t]=r:0===o[t]&&(o[t]=.001*i)}for(let i=2;i>=0;i--)o[i]/=r;return (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.e)(o)}function B(t){return null!=t.isPrimitive}function D(t){return I(B(t)?[t.width,t.depth,t.height]:t)?null:"Symbol sizes may not be negative values"}function I(t){const e=t=>null==t||t>=0;return Array.isArray(t)?t.every(e):e(t)}function S(t,i,s,u=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.a)()){return t&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.o)(u,u,-t/180*Math.PI),i&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.r)(u,u,i/180*Math.PI),s&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.n)(u,u,s/180*Math.PI),u}function V(e,n,r){if(null!=r.minDemResolution)return r.minDemResolution;const o=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .getMetersPerUnitForSR */ .GA)(n),i=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__/* .width */ .VL)(e)*o,s=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__/* .depth */ .yr)(e)*o,u=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__/* .height */ .uJ)(e)*(n.isGeographic?1:o);return 0===i&&0===s&&0===u?r.minDemResolutionForPoints:.01*Math.max(i,s,u)}


/***/ }),

/***/ 92986:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JQ: () => (/* binding */ O),
/* harmony export */   SY: () => (/* binding */ D),
/* harmony export */   a4: () => (/* binding */ d),
/* harmony export */   dE: () => (/* binding */ A),
/* harmony export */   v7: () => (/* binding */ w),
/* harmony export */   zB: () => (/* binding */ j)
/* harmony export */ });
/* unused harmony export fitPlane */
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17639);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(92504);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(92976);
/* harmony import */ var _chunks_earcut_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16528);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21839);
/* harmony import */ var _geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(58331);
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(42965);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(38774);
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(70807);
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(52997);
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(59568);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(50645);
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(84698);
/* harmony import */ var _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(62802);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function h(t,o,n,a){const s=(t=>!Array.isArray(t[0]))(o)?(t,e)=>o[3*t+e]:(t,e)=>o[t][e],c=a?(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .getMetersPerUnitForSR */ .GA)(a)/(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .getMetersPerVerticalUnitForSR */ .G9)(a):1;return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_7__/* .fromManyPoints */ .lU)(t,((t,e)=>(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(t,s(e,0)*c,s(e,1)*c,s(e,2))),n)}function j(e,r,o){const i=h(y,e,r,o)?(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_7__/* .normal */ .qb)(y):[0,0,1];return Math.abs(i[2])>Math.cos((0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .deg2rad */ .kU)(80))?_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_5__/* .Axis */ ._.Z:Math.abs(i[1])>Math.abs(i[0])?_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_5__/* .Axis */ ._.Y:_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_5__/* .Axis */ ._.X}const y=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_7__/* .create */ .vt)();function w(t,e,r){const i=j(t,(e.length>0?e[0]:t.length/3)-1,r);if(i!==_geometry_support_Axis_js__WEBPACK_IMPORTED_MODULE_5__/* .Axis */ ._.Z){t=t.slice();for(let e=0;e<t.length;e+=3)t[e+i]=t[e+2]}return (0,_chunks_earcut_js__WEBPACK_IMPORTED_MODULE_3__.e)(t,e,3)}function d(t){const e=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__/* .Attribute */ .n(t.attributeData.position,t.indices,3,!0)]],r=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_6__/* .getZeroIndexArray */ .EH)(t.indices.length);return null!=t.attributeData.colorFeature?e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.COLORFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__/* .Attribute */ .n([t.attributeData.colorFeature],r,1,!0)]):t.attributeData.color&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.COLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__/* .Attribute */ .n(t.attributeData.color,r,4,!0)]),t.attributeData.uvMapSpace&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.UVMAPSPACE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__/* .Attribute */ .n(t.attributeData.uvMapSpace,t.indices,4,!0)]),t.attributeData.boundingRect&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.BOUNDINGRECT,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__/* .Attribute */ .n(t.attributeData.boundingRect,t.indices,9,!0)]),new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_10__/* .Geometry */ .V(t.material,e,t.mapPositions,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_9__/* .ContentObjectType */ .X.Mesh,t.attributeData.objectAndLayerIdColor)}function D(t,e=null){const r=[[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__/* .Attribute */ .n(t.attributeData.position,t.indices,3,!0)],[_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_11__/* .VertexAttribute */ .r.UV0,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_8__/* .Attribute */ .n(t.attributeData.uv0,t.indices,2,!0)]];return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_10__/* .Geometry */ .V(t.material,r,t.mapPositions,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_9__/* .ContentObjectType */ .X.Mesh,e)}function A(t){switch(t.type){case"extent":if(t instanceof _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A)return _geometry_Polygon_js__WEBPACK_IMPORTED_MODULE_13__/* ["default"] */ .A.fromExtent(t);break;case"polygon":return t}return null}class O{constructor(t,e,r){this.renderData=t,this.layerUid=e,this.graphicUid=r,this.outGeometries=new Array}}


/***/ }),

/***/ 56867:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   O7: () => (/* binding */ a),
/* harmony export */   Om: () => (/* binding */ e),
/* harmony export */   sv: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e,a,t;!function(e){e[e.RasterImage=0]="RasterImage",e[e.Features=1]="Features"}(e||(e={})),function(e){e[e.MapLayer=0]="MapLayer",e[e.ViewLayer=1]="ViewLayer",e[e.Outline=2]="Outline",e[e.SnappingHint=3]="SnappingHint"}(a||(a={})),function(e){e[e.WithRasterImage=0]="WithRasterImage",e[e.WithoutRasterImage=1]="WithoutRasterImage"}(t||(t={}));


/***/ }),

/***/ 69463:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Gd: () => (/* binding */ J),
/* harmony export */   J_: () => (/* binding */ G),
/* harmony export */   VC: () => (/* binding */ W),
/* harmony export */   b3: () => (/* binding */ Q),
/* harmony export */   s_: () => (/* binding */ O),
/* harmony export */   ul: () => (/* binding */ X),
/* harmony export */   wI: () => (/* binding */ B)
/* harmony export */ });
/* unused harmony exports FastColorInfo, FastOpacityInfo, FastRotationInfo, FastRotationType, FastSizeInfo, FastSizeType, FastSymbolUpdatesState, FastVisualVariables, convertVisualVariables, getMaterialParameters */
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39831);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(92504);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(46615);
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(76287);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(22279);
/* harmony import */ var _renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(10301);
/* harmony import */ var _support_debugFlags_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(19620);
/* harmony import */ var _webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var S,y;!function(e){e[e.Undefined=0]="Undefined",e[e.DefinedSize=1]="DefinedSize",e[e.DefinedScale=2]="DefinedScale"}(S||(S={})),function(e){e[e.Undefined=0]="Undefined",e[e.DefinedAngle=1]="DefinedAngle"}(y||(y={}));class x{constructor(e){this.field=e}}class g extends x{constructor(e){super(e),this.minSize=[0,0,0],this.maxSize=[0,0,0],this.offset=[0,0,0],this.factor=[0,0,0],this.type=[S.Undefined,S.Undefined,S.Undefined]}}class b extends x{constructor(e){super(e),this.colors=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.values=[0,0,0,0,0,0,0,0]}}class C extends x{constructor(e){super(e),this.values=[0,0,0,0,0,0,0,0],this.opacityValues=[0,0,0,0,0,0,0,0]}}class D extends x{constructor(e){super(e),this.offset=[0,0,0],this.factor=[1,1,1],this.type=[0,0,0]}}class w{}function U(e){return null!=e}function V(e){return"number"==typeof e}function M(e){return"string"==typeof e}function j(e){return null==e||M(e)}function k(e,t){e&&e.push(t)}function A(e,t,o,i=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)()){const n=e||0,s=t||0,r=o||0;return 0!==n&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.o)(i,i,-n/180*Math.PI),0!==s&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.r)(i,i,s/180*Math.PI),0!==r&&(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.n)(i,i,r/180*Math.PI),i}function I(e,t,o,i,n){const s=e.minSize,r=e.maxSize;if(e.expression)return k(n,"Could not convert size info: expression not supported"),!1;if(e.useSymbolValue){const e=i.symbolSize[o];return t.minSize[o]=e,t.maxSize[o]=e,t.offset[o]=t.minSize[o],t.factor[o]=0,t.type[o]=S.DefinedSize,!0}if(U(e.field))return U(e.stops)?2===e.stops.length&&V(e.stops[0].size)&&V(e.stops[1].size)?(T(e.stops[0].size,e.stops[1].size,e.stops[0].value,e.stops[1].value,t,o),t.type[o]=S.DefinedSize,!0):(k(n,"Could not convert size info: stops only supported with 2 elements"),!1):V(s)&&V(r)&&U(e.minDataValue)&&U(e.maxDataValue)?(T(s,r,e.minDataValue,e.maxDataValue,t,o),t.type[o]=S.DefinedSize,!0):"unknown"===e.valueUnit?(k(n,"Could not convert size info: proportional size not supported"),!1):null!=_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .meterIn */ .j[e.valueUnit]?(t.minSize[o]=-1/0,t.maxSize[o]=1/0,t.offset[o]=0,t.factor[o]=1/_renderers_support_lengthUtils_js__WEBPACK_IMPORTED_MODULE_8__/* .meterIn */ .j[e.valueUnit],t.type[o]=S.DefinedSize,!0):(k(n,"Could not convert size info: scale-dependent size not supported"),!1);if(!U(e.field)){if(e.stops?.[0]&&V(e.stops[0].size))return t.minSize[o]=e.stops[0].size,t.maxSize[o]=e.stops[0].size,t.offset[o]=t.minSize[o],t.factor[o]=0,t.type[o]=S.DefinedSize,!0;if(V(s))return t.minSize[o]=s,t.maxSize[o]=s,t.offset[o]=s,t.factor[o]=0,t.type[o]=S.DefinedSize,!0}return k(n,"Could not convert size info: unsupported variant of sizeInfo"),!1}function T(e,t,o,i,n,s){const r=Math.abs(i-o)>0?(t-e)/(i-o):0;n.minSize[s]=r>0?e:t,n.maxSize[s]=r>0?t:e,n.offset[s]=e-o*r,n.factor[s]=r}function F(e,t,o,i){if(e.normalizationField||e.valueRepresentation)return k(i,"Could not convert size info: unsupported property"),null;if(!j(e.field))return k(i,"Could not convert size info: field is not a string"),null;if(t.size){if(e.field)if(t.size.field){if(e.field!==t.size.field)return k(i,"Could not convert size info: multiple fields in use"),null}else t.size.field=e.field}else t.size=new g(e.field);let n;switch(e.axis){case"width":return n=I(e,t.size,0,o,i),n?t:null;case"height":return n=I(e,t.size,2,o,i),n?t:null;case"depth":return n=I(e,t.size,1,o,i),n?t:null;case"width-and-depth":return n=I(e,t.size,0,o,i),n&&I(e,t.size,1,o,i),n?t:null;case null:case void 0:case"all":return n=I(e,t.size,0,o,i),n=n&&I(e,t.size,1,o,i),n=n&&I(e,t.size,2,o,i),n?t:null;default:return k(i,`Could not convert size info: unknown axis "${e.axis}""`),null}}function P(e,t,o){for(let n=0;n<3;++n){let o=t.unitInMeters;e.type[n]===S.DefinedSize&&(o*=t.modelSize[n],e.type[n]=S.DefinedScale),e.minSize[n]=e.minSize[n]/o,e.maxSize[n]=e.maxSize[n]/o,e.offset[n]=e.offset[n]/o,e.factor[n]=e.factor[n]/o}let i;if(e.type[0]!==S.Undefined)i=0;else if(e.type[1]!==S.Undefined)i=1;else{if(e.type[2]===S.Undefined)return k(o,"No size axis contains a valid size or scale"),!1;i=2}for(let n=0;n<3;++n)e.type[n]===S.Undefined&&(e.minSize[n]=e.minSize[i],e.maxSize[n]=e.maxSize[i],e.offset[n]=e.offset[i],e.factor[n]=e.factor[i],e.type[n]=e.type[i]);return!0}function R(e,t,o){e[4*t]=o.r/255,e[4*t+1]=o.g/255,e[4*t+2]=o.b/255,e[4*t+3]=o.a}function E(e,t,o){if(e.normalizationField)return k(o,"Could not convert color info: unsupported property"),null;if(M(e.field)){if(!e.stops)return k(o,"Could not convert color info: missing stops or colors"),null;{if(e.stops.length>8)return k(o,"Could not convert color info: too many color stops"),null;t.color=new b(e.field);const i=e.stops;for(let e=0;e<8;++e){const o=i[Math.min(e,i.length-1)];t.color.values[e]=o.value,R(t.color.colors,e,o.color)}}}else{if(!(e.stops&&e.stops.length>=0))return k(o,"Could not convert color info: no field and no colors/stops"),null;{const o=e.stops&&e.stops.length>=0&&e.stops[0].color;t.color={field:null,values:[0,0,0,0,0,0,0,0],colors:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};for(let e=0;e<8;e++)t.color.values[e]=1/0,R(t.color.colors,e,o)}}return t}function _(e,t,o){if(e.normalizationField)return k(o,"Could not convert opacity info: unsupported property"),null;if(M(e.field)){if(!e.stops)return k(o,"Could not convert opacity info: missing stops or opacities"),null;{if(e.stops.length>8)return k(o,"Could not convert opacity info: too many opacity stops"),null;t.opacity=new C(e.field);const i=e.stops;for(let e=0;e<8;++e){const o=i[Math.min(e,i.length-1)];t.opacity.values[e]=o.value,t.opacity.opacityValues[e]=o.opacity}}}else{if(!(e.stops&&e.stops.length>=0))return k(o,"Could not convert opacity info: no field and no opacities/stops"),null;{const o=e.stops&&e.stops.length>=0?e.stops[0].opacity:0;t.opacity={field:null,values:[0,0,0,0,0,0,0,0],opacityValues:[0,0,0,0,0,0,0,0]};for(let e=0;e<8;e++)t.opacity.values[e]=1/0,t.opacity.opacityValues[e]=o}}return t}function q(e,t,o){const i=2===o&&"arithmetic"===e.rotationType;t.offset[o]=i?90:0,t.factor[o]=i?-1:1,t.type[o]=1}function $(e,t,o){if(!M(e.field))return k(o,"Could not convert rotation info: field is not a string"),null;if(t.rotation){if(e.field)if(t.rotation.field){if(e.field!==t.rotation.field)return k(o,"Could not convert rotation info: multiple fields in use"),null}else t.rotation.field=e.field}else t.rotation={field:e.field,offset:[0,0,0],factor:[1,1,1],type:[0,0,0]};switch(e.axis){case"tilt":return q(e,t.rotation,0),t;case"roll":return q(e,t.rotation,1),t;case null:case void 0:case"heading":return q(e,t.rotation,2),t;default:return k(o,`Could not convert rotation info: unknown axis "${e.axis}""`),null}}class B{constructor(e,t=[1,1,1],o=[1,1,1],i=1,n=[0,0,0],s=[1,1,1],r=[0,0,0]){this.supports=e,this.modelSize=t,this.symbolSize=o,this.unitInMeters=i,this.anchor=n,this.scale=s,this.rotation=r}}function L(e,t,o){if(!e)return null;const i=e.reduce(((e,i)=>{if(!e)return e;if(i.valueExpression)return k(o,"Could not convert visual variables: arcade expressions not supported"),null;switch(i.type){case"size":return t.supports.size?F(i,e,t,o):e;case"color":return t.supports.color?E(i,e,o):e;case"opacity":return t.supports.opacity?_(i,e,o):null;case"rotation":return t.supports.rotation?$(i,e,o):e;default:return null}}),new w);return!(e.length>0&&i)||i.size||i.color||i.opacity||i.rotation?i?.size&&!P(i.size,t,o)?null:i:null}class N{constructor(e,t,o){this.visualVariables=e,this.materialParameters=t,this.requiresShaderTransformation=o}}function O(e,t){if(!e)return null;if(_support_debugFlags_js__WEBPACK_IMPORTED_MODULE_9__/* .debugFlags */ .b.TESTS_DISABLE_FAST_UPDATES)return null;const o=L(e.visualVariables,t);return o?new N(o,K(o,t),!!o.size):null}function G(e,t,o){if(!t||!e)return!1;const i=e.visualVariables,n=L(t.visualVariables,o);return!!n&&(!!(H(i.size,n.size,"size")&&H(i.color,n.color,"color")&&H(i.rotation,n.rotation,"rotation")&&H(i.opacity,n.opacity,"opacity"))&&(e.visualVariables=n,e.materialParameters=K(n,o),e.requiresShaderTransformation=!!n.size,!0))}function H(e,t,o){if(!!e!=!!t)return!1;if(e&&e.field!==t?.field)return!1;if(e&&"rotation"===o){const o=e,i=t;for(let e=0;e<3;e++)if(o.type[e]!==i.type[e]||o.offset[e]!==i.offset[e]||o.factor[e]!==i.factor[e])return!1}return!0}class J extends _webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .NoParameters */ .Y{constructor(e){super(),this.vvSize=e?.size??null,this.vvColor=e?.color??null,this.vvOpacity=e?.opacity??null}}function K(e,n){const s=new J(e);return s.vvSize&&(s.vvSymbolAnchor=n.anchor,(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.g)(ee),A(n.rotation[2],n.rotation[0],n.rotation[1],ee),s.vvSymbolRotationMatrix=s.vvSymbolRotationMatrix||(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_2__.f)(s.vvSymbolRotationMatrix,ee)),s}function Q(t,o,i){if(!t.vvSize)return i;(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.h)(Y,i);const u=t.vvSymbolRotationMatrix;(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.s)(ee,u[0],u[1],u[2],0,u[3],u[4],u[5],0,u[6],u[7],u[8],0,0,0,0,1),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.m)(Y,Y,ee);for(let n=0;n<3;++n){const i=t.vvSize.offset[n]+o[0]*t.vvSize.factor[n];Z[n]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .clamp */ .qE)(i,t.vvSize.minSize[n],t.vvSize.maxSize[n])}return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.b)(Y,Y,Z),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_4__.w)(Y,Y,t.vvSymbolAnchor),Y}function W(t,o,i){if(!o.vvSize)return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_6__.s)(t,1,1,1),t;for(let n=0;n<3;++n){const s=o.vvSize.offset[n]+i[0]*o.vvSize.factor[n];t[n]=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .clamp */ .qE)(s,o.vvSize.minSize[n],o.vvSize.maxSize[n])}return t}function X(e,t){const o=null==e?0:t.attributes[e];return"number"==typeof o&&isFinite(o)?o:0}const Y=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)(),Z=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.c)(),ee=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_5__.a)();


/***/ }),

/***/ 27054:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   R1: () => (/* binding */ a),
/* harmony export */   aY: () => (/* binding */ r),
/* harmony export */   cN: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80009);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(e,r=null,t=0){this.array=e,this.spatialReference=r,this.offset=t}}function t(e){return"array"in e}function a(r,a,n="ground"){if((0,_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isDehydratedPoint */ .v)(a))return r.getElevation(a.x,a.y,a.z||0,a.spatialReference,n);if(t(a)){let e=a.offset;return r.getElevation(a.array[e++],a.array[e++],a.array[e]||0,a.spatialReference??r.spatialReference,n)}return r.getElevation(a[0],a[1],a[2]||0,r.spatialReference,n)}


/***/ }),

/***/ 11110:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BP: () => (/* binding */ H),
/* harmony export */   l5: () => (/* binding */ I),
/* harmony export */   q3: () => (/* binding */ G)
/* harmony export */ });
/* unused harmony export InterleavedBuffer */
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57813);
/* harmony import */ var _geometry_support_buffer_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32846);
/* harmony import */ var _webgl_engine_lib_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(58947);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class D{constructor(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(const s of e.fields.keys()){const t=e.fields.get(s);this[s]=new t.constructor(this.buffer,t.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(e,t){const s=this[e];return s&&s.elementCount===t.ElementCount&&s.elementType===t.ElementType?s:null}slice(e,t){return new D(this.layout,this.buffer.slice(e*this.stride,t*this.stride))}copyFrom(e,t=0,s=0,i=e.count){const r=this.stride;if(r%4==0){const n=new Uint32Array(e.buffer,t*r,i*r/4);new Uint32Array(this.buffer,s*r,i*r/4).set(n)}else{const n=new Uint8Array(e.buffer,t*r,i*r);new Uint8Array(this.buffer,s*r,i*r).set(n)}return this}get usedMemory(){return this.byteLength}dispose(){}}class G{constructor(e=null){this._stride=0,this._lastAligned=0,this._fields=new Map,e&&(this._stride=e.stride,e.fields.forEach((e=>this._fields.set(e[0],{...e[1],constructor:N(e[1].constructor)}))))}vec2f(t,s){return this._appendField(t,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2f */ .gH,s),this}vec2f64(e,s){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2f64 */ .si,s),this}vec3f(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3f */ .xs,t),this}vec3f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3f64 */ .Xm,t),this}vec4f(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4f */ .Eq,t),this}vec4f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4f64 */ .Aj,t),this}mat3f(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewMat3f */ .jZ,t),this}mat3f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewMat3f64 */ .j0,t),this}mat4f(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewMat4f */ .Sx,t),this}mat4f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewMat4f64 */ .E$,t),this}vec4u8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4u8 */ .XP,t),this}f32(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewFloat */ .Y$,t),this}f64(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewFloat64 */ .qB,t),this}u8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewUint8 */ .SL,t),this}u16(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewUint16 */ .h,t),this}i8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewInt8 */ .bf,t),this}vec2i8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2i8 */ .D6,t),this}vec2i16(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2i16 */ .mJ,t),this}vec2u8(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2u8 */ .LC,t),this}vec4u16(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4u16 */ .Uz,t),this}u32(e,t){return this._appendField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewUint32 */ .P,t),this}_appendField(e,t,s){if(this._fields.has(e))return void (0,_webgl_engine_lib_Util_js__WEBPACK_IMPORTED_MODULE_1__/* .assert */ .vA)(!1,`${e} already added to vertex buffer layout`);const i=t.ElementCount*(0,_geometry_support_buffer_types_js__WEBPACK_IMPORTED_MODULE_2__/* .elementTypeSize */ .GJ)(t.ElementType),r=this._stride;this._stride+=i,this._fields.set(e,{size:i,constructor:t,offset:r,optional:s})}createBuffer(e){return new D(this,e)}createView(e){return new D(this,e)}clone(){const e=new G;return e._stride=this._stride,e._fields=new Map,this._fields.forEach(((t,s)=>e._fields.set(s,t))),e.BufferType=this.BufferType,e}get stride(){if(this._lastAligned!==this._fields.size){let e=1;this._fields.forEach((t=>e=Math.max(e,(0,_geometry_support_buffer_types_js__WEBPACK_IMPORTED_MODULE_2__/* .elementTypeSize */ .GJ)(t.constructor.ElementType)))),this._stride=Math.floor((this._stride+e-1)/e)*e,this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}function H(){return new G}class I{constructor(e){this.fields=new Array,e.fields.forEach(((e,t)=>{const s={...e,constructor:K(e.constructor)};this.fields.push([t,s])})),this.stride=e.stride}}const J=[_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewFloat */ .Y$,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2f */ .gH,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3f */ .xs,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4f */ .Eq,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewMat3f */ .jZ,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewMat4f */ .Sx,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewFloat64 */ .qB,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2f64 */ .si,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3f64 */ .Xm,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4f64 */ .Aj,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewMat3f64 */ .j0,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewMat4f64 */ .E$,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewUint8 */ .SL,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2u8 */ .LC,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3u8 */ .eI,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4u8 */ .XP,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewUint16 */ .h,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2u16 */ .Yi,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3u16 */ .nS,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4u16 */ .Uz,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewUint32 */ .P,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2u32 */ .An,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3u32 */ .H$,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4u32 */ .ml,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewInt8 */ .bf,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2i8 */ .D6,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3i8 */ .m8,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4i8 */ .TX,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewInt16 */ .Qt,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2i16 */ .mJ,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3i16 */ .Vp,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4i16 */ .E7,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewInt32 */ .My,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec2i32 */ .UL,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec3i32 */ .zD,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_0__/* .BufferViewVec4i32 */ .Y4];function K(e){return`${e.ElementType}_${e.ElementCount}`}function N(e){return O.get(e)}const O=new Map;J.forEach((e=>O.set(K(e),e)));


/***/ }),

/***/ 15788:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   U: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41746);
/* harmony import */ var _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(69955);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(e,r=0){const n=e.stride;return Array.from(e.fields.keys()).map((i=>{const s=e.fields.get(i),u=s.constructor.ElementCount,f=o(s.constructor.ElementType),c=s.offset,l=!(!s.optional||!s.optional.glNormalized);return new _webgl_VertexElementDescriptor_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexElementDescriptor */ ._(i,u,f,c,n,l,r)}))}function o(e){const t=n[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}const n={u8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .DataType */ .pe.UNSIGNED_BYTE,u16:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .DataType */ .pe.UNSIGNED_SHORT,u32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .DataType */ .pe.UNSIGNED_INT,i8:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .DataType */ .pe.BYTE,i16:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .DataType */ .pe.SHORT,i32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .DataType */ .pe.INT,f32:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .DataType */ .pe.FLOAT};


/***/ }),

/***/ 19620:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   b: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(52495);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(73446);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(85569);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39831);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(63863);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let T=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{constructor(){super(...arguments),this.SCENEVIEW_HITTEST_RETURN_INTERSECTOR=!1,this.DECONFLICTOR_SHOW_VISIBLE=!1,this.DECONFLICTOR_SHOW_INVISIBLE=!1,this.DECONFLICTOR_SHOW_GRID=!1,this.LABELS_SHOW_BORDER=!1,this.TEXT_SHOW_BASELINE=!1,this.TEXT_SHOW_BORDER=!1,this.OVERLAY_DRAW_DEBUG_TEXTURE=!1,this.OVERLAY_SHOW_CENTER=!1,this.SHOW_POI=!1,this.TESTS_DISABLE_OPTIMIZATIONS=!1,this.TESTS_DISABLE_FAST_UPDATES=!1,this.DRAW_MESH_GEOMETRY_NORMALS=!1,this.FEATURE_TILE_FETCH_SHOW_TILES=!1,this.FEATURE_TILE_TREE_SHOW_TILES=!1,this.TERRAIN_TILE_TREE_SHOW_TILES=!1,this.I3S_TREE_SHOW_TILES=!1,this.I3S_SHOW_MODIFICATIONS=!1,this.LOD_INSTANCE_RENDERER_DISABLE_UPDATES=!1,this.LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL=!1,this.EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES=!1,this.LINE_WIREFRAMES=!1}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"SCENEVIEW_HITTEST_RETURN_INTERSECTOR",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"DECONFLICTOR_SHOW_VISIBLE",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"DECONFLICTOR_SHOW_INVISIBLE",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"DECONFLICTOR_SHOW_GRID",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"LABELS_SHOW_BORDER",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"TEXT_SHOW_BASELINE",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"TEXT_SHOW_BORDER",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"OVERLAY_DRAW_DEBUG_TEXTURE",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"OVERLAY_SHOW_CENTER",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"SHOW_POI",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"TESTS_DISABLE_OPTIMIZATIONS",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"TESTS_DISABLE_FAST_UPDATES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"DRAW_MESH_GEOMETRY_NORMALS",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"FEATURE_TILE_FETCH_SHOW_TILES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"FEATURE_TILE_TREE_SHOW_TILES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"TERRAIN_TILE_TREE_SHOW_TILES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"I3S_TREE_SHOW_TILES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"I3S_SHOW_MODIFICATIONS",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"LOD_INSTANCE_RENDERER_DISABLE_UPDATES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"LOD_INSTANCE_RENDERER_COLORIZE_BY_LEVEL",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"EDGES_SHOW_HIDDEN_TRANSPARENT_EDGES",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],T.prototype,"LINE_WIREFRAMES",void 0),T=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.views.3d.support.DebugFlags")],T);const t=new T;


/***/ }),

/***/ 46684:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ b),
/* harmony export */   z: () => (/* binding */ R)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58680);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22279);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52712);
/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(47936);
/* harmony import */ var _geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(12943);
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(90166);
/* harmony import */ var _geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(50961);
/* harmony import */ var _geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(42965);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(10714);
/* harmony import */ var _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(70807);
/* harmony import */ var _webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(52997);
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(59568);
/* harmony import */ var _webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,u=(0,_geometry_support_Indices_js__WEBPACK_IMPORTED_MODULE_8__/* .getZeroIndexArray */ .EH)(a);return h(e,o,u),j(e,o,u),T(e,o,u),D(e,o,u),w(e,o,u),y(e,o,u),E(e,o,i),new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_12__/* .Geometry */ .V(t,o,n,_webgl_engine_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_11__/* .ContentObjectType */ .X.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),u=n?r.slice(0,-3):r;let s=0;for(let l=0;l<i-1;l++)a[s++]=l,a[s++]=l+1;e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.POSITION,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__/* .Attribute */ .n(u,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.COLOR,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__/* .Attribute */ .n(n??_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.O,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.NORMAL,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__/* .Attribute */ .n(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.COLORFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__/* .Attribute */ .n([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.SIZE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__/* .Attribute */ .n([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.SIZEFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__/* .Attribute */ .n([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.OPACITYFEATUREATTRIBUTE,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__/* .Attribute */ .n([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,s){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==_ViewingMode_js__WEBPACK_IMPORTED_MODULE_9__/* .ViewingMode */ .RT.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_6__/* .newDoubleArray */ .jh)(s.length),f=(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .getReferenceEllipsoid */ .tO)(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)(0,_geometry_projection_projectors_js__WEBPACK_IMPORTED_MODULE_5__/* .lonLatToWebMercatorComparable */ .RC)(s,t,p,t,f);const b=s.length/3,g=(0,_geometry_support_FloatArray_js__WEBPACK_IMPORTED_MODULE_7__/* .newFloatArray */ .oe)(b+1);let h=I,T=F,D=0,j=0;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.s)(h,p[j++],p[j++],p[j++]),g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.s)(T,p[j++],p[j++],p[j++]),D+=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.p)(h,T),g[n]=D,[h,T]=[T,h];o.push([_webgl_engine_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_13__/* .VertexAttribute */ .r.DISTANCETOSTART,new _webgl_engine_lib_Attribute_js__WEBPACK_IMPORTED_MODULE_10__/* .Attribute */ .n(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),F=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_6__/* .newDoubleArray */ .jh)(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}


/***/ }),

/***/ 50980:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cz: () => (/* binding */ s),
/* harmony export */   DZ: () => (/* binding */ w),
/* harmony export */   PV: () => (/* binding */ p),
/* harmony export */   vO: () => (/* binding */ m)
/* harmony export */ });
/* unused harmony exports createMarkerTexture, markerThickness */
/* harmony import */ var _sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(97213);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41746);
/* harmony import */ var _webgl_Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6940);
/* harmony import */ var _webgl_TextureDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(45758);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const m=64,s=m/2,n=s/5,p=m/n,w=.25;function f(p,w){const f=r(p,m,s,n),u=new i;return u.internalFormat=e.RGBA,u.width=m,u.height=m,u.wrapMode=t.CLAMP_TO_EDGE,new o(w,u,f)}


/***/ }),

/***/ 97213:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CN: () => (/* binding */ o),
/* harmony export */   Q_: () => (/* binding */ e),
/* harmony export */   ny: () => (/* binding */ a),
/* harmony export */   sZ: () => (/* binding */ u)
/* harmony export */ });
/* unused harmony exports createArrow, createCircle, createCross, createKite, createPrimitive, createSquare, createTriangle, createX */
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39831);
/* harmony import */ var _core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(51859);
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(28443);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(41746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e=128,o=.5;function a(t){return"cross"===t||"x"===t}function u(t,a=e,u=a*o,s=0){const i=c(t,a,u,s);return new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_2__/* .Texture */ .g(i,{mipmap:!1,wrap:{s:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__/* .TextureWrapMode */ .pF.CLAMP_TO_EDGE,t:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_3__/* .TextureWrapMode */ .pF.CLAMP_TO_EDGE},width:a,height:a,components:4,noUnpackFlip:!0,reloadable:!0})}function c(t,r=e,n=r*o,a=0){switch(t){case"circle":default:return s(r,n);case"square":return i(r,n);case"cross":return h(r,n,a);case"x":return M(r,n,a);case"kite":return f(r,n);case"triangle":return l(r,n);case"arrow":return m(r,n)}}function s(t,r){const n=t/2-.5;return x(t,T(n,n,r/2))}function i(t,r){return p(t,r,!1)}function f(t,r){return p(t,r,!0)}function h(t,r,n=0){return b(t,r,!1,n)}function M(t,r,n=0){return b(t,r,!0,n)}function l(t,r){return x(t,w(t/2,r,r/2))}function m(t,r){const n=r,e=r/2,o=t/2,a=.8*n,u=T(o,(t-r)/2-a,Math.sqrt(a*a+e*e)),c=w(o,n,e);return x(t,((t,r)=>Math.max(c(t,r),-u(t,r))))}function p(t,r,n){return n&&(r/=Math.SQRT2),x(t,((e,o)=>{let a=e-.5*t+.25,u=.5*t-o-.75;if(n){const t=(a+u)/Math.SQRT2;u=(u-a)/Math.SQRT2,a=t}return Math.max(Math.abs(a),Math.abs(u))-.5*r}))}function b(t,r,n,e=0){r-=e,n&&(r*=Math.SQRT2);const o=.5*r;return x(t,((r,a)=>{let u,c=r-.5*t,s=.5*t-a-1;if(n){const t=(c+s)/Math.SQRT2;s=(s-c)/Math.SQRT2,c=t}return c=Math.abs(c),s=Math.abs(s),u=c>s?c>o?Math.sqrt((c-o)*(c-o)+s*s):s:s>o?Math.sqrt(c*c+(s-o)*(s-o)):c,u-=e/2,u}))}function T(t,r,n){return(e,o)=>{const a=e-t,u=o-r;return Math.sqrt(a*a+u*u)-n}}function w(t,r,n){const e=Math.sqrt(r*r+n*n);return(o,a)=>{const u=Math.abs(o-t)-n,c=a-t+r/2+.75,s=(r*u+n*c)/e,i=-c;return Math.max(s,i)}}function x(r,n){const e=new Uint8Array(4*r*r);for(let o=0;o<r;o++)for(let a=0;a<r;a++){const u=a+r*o;let c=n(a,o);c=c/r+.5,(0,_core_floatRGBA_js__WEBPACK_IMPORTED_MODULE_1__/* .packFloatRGBA */ .U)(c,e,4*u)}return e}


/***/ }),

/***/ 4062:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ l),
/* harmony export */   C: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(84119);
/* harmony import */ var _geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(90166);
/* harmony import */ var _geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(17566);
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(27716);
/* harmony import */ var _terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(93471);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(o,t,s,p){const l="polygon"===o.type?_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .CounterClockwiseMode */ .Wq.CCW_IS_HOLE:_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .CounterClockwiseMode */ .Wq.NONE,a="polygon"===o.type?o.rings:o.paths,{position:u,outlines:f}=(0,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .pathsToTriangulationInfo */ .jp)(a,!!o.hasZ,l,o.spatialReference),g=(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__/* .newDoubleArray */ .jh)(u.length),m=(0,_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .applyPerVertexElevationAlignment */ .au)(u,o.spatialReference,0,g,0,u,0,u.length/3,t,s,p),y=null!=m;return{lines:y?c(f,u,g):[],projectionSuccess:y,sampledElevation:m}}function l(e,t){const i="polygon"===e.type?_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .CounterClockwiseMode */ .Wq.CCW_IS_HOLE:_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .CounterClockwiseMode */ .Wq.NONE,p="polygon"===e.type?e.rings:e.paths,{position:l,outlines:a}=(0,_geometry_support_triangulationUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .pathsToTriangulationInfo */ .jp)(p,!1,i),u=(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_0__.projectBuffer)(l,e.spatialReference,0,l,t,0,l.length/3);for(let o=2;o<l.length;o+=3)l[o]=_terrain_OverlayRenderer_js__WEBPACK_IMPORTED_MODULE_4__/* .drapedZ */ .bi;return{lines:u?c(a,l):[],projectionSuccess:u}}function c(o,e,n=null){const r=new Array;for(const{index:i,count:s}of o){if(s<=1)continue;const o=3*i,p=3*s;r.push({position:(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__/* .doubleSubArray */ .l5)(e,3*i,3*s),mapPositions:null!=n?(0,_geometry_support_DoubleArray_js__WEBPACK_IMPORTED_MODULE_1__/* .doubleSubArray */ .l5)(n,o,p):void 0})}return r}


/***/ }),

/***/ 93471:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  bi: () => (/* binding */ se)
});

// UNUSED EXPORTS: OverlayRenderer, overlayRenderOccludedFlag

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Evented.js
var Evented = __webpack_require__(17306);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/MapUtils.js
var MapUtils = __webpack_require__(82256);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(6267);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/PooledArray.js + 1 modules
var PooledArray = __webpack_require__(63678);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(85251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/SetUtils.js
var SetUtils = __webpack_require__(76286);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4.js
var mat4 = __webpack_require__(37046);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/ViewingMode.js
var ViewingMode = __webpack_require__(10714);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/layers/interfaces.js
var interfaces = __webpack_require__(56867);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/debugFlags.js
var debugFlags = __webpack_require__(19620);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/terrain/interfaces.js
var terrain_interfaces = __webpack_require__(36572);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/aaBoundingRect.js
var aaBoundingRect = __webpack_require__(80510);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LocalOriginFactory.js
var LocalOriginFactory = __webpack_require__(32926);
;// ../node_modules/@arcgis/core/views/3d/terrain/Overlay.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const Overlay_n=1.3;class Overlay_r{constructor(){this._extent=(0,aaBoundingRect/* create */.vt)(),this.resolution=0,this.renderLocalOrigin=(0,LocalOriginFactory/* fromValues */.f)(0,0,0,"O"),this.pixelRatio=1,this.mapUnitsPerPixel=1,this.canvasGeometries=new Overlay_o}get extent(){return this._extent}setupGeometryViewsCyclical(e){this.setupGeometryViewsDirect();const s=.001*e.range;if(this._extent[0]-s<=e.min){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];(0,aaBoundingRect/* offset */.cY)(this._extent,e.range,0,s)}if(this._extent[2]+s>=e.max){const s=this.canvasGeometries.extents[this.canvasGeometries.numViews++];(0,aaBoundingRect/* offset */.cY)(this._extent,-e.range,0,s)}}setupGeometryViewsDirect(){this.canvasGeometries.numViews=1,(0,aaBoundingRect/* copy */.C)(this.canvasGeometries.extents[0],this._extent)}hasSomeSizedView(){for(let e=0;e<this.canvasGeometries.numViews;e++){const t=this.canvasGeometries.extents[e];if(t[0]!==t[2]&&t[1]!==t[3])return!0}return!1}}class Overlay_o{constructor(){this.extents=[(0,aaBoundingRect/* create */.vt)(),(0,aaBoundingRect/* create */.vt)(),(0,aaBoundingRect/* create */.vt)()],this.numViews=0}}

;// ../node_modules/@arcgis/core/views/3d/terrain/OverlayContent.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var OverlayContent_o;!function(o){o[o.Color=0]="Color",o[o.ColorNoRasterImage=1]="ColorNoRasterImage",o[o.Highlight=2]="Highlight",o[o.WaterNormal=3]="WaterNormal",o[o.Occluded=4]="Occluded",o[o.ObjectAndLayerIdColor=5]="ObjectAndLayerIdColor"}(OverlayContent_o||(OverlayContent_o={}));

;// ../node_modules/@arcgis/core/views/3d/terrain/OverlayFramebufferObject.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class OverlayFramebufferObject_t{constructor(e,t){this._fbos=e,this._format=t}get valid(){return null!=this._handle}dispose(){this._handle=(0,maybe/* releaseMaybe */.Gz)(this._handle)}get texture(){return this._handle?.colorTexture}bind(e,t,h){this._handle&&this._handle.fbo.width===t&&this._handle.fbo.height===h||(this._handle?.release(),this._handle=this._fbos.acquire(this._format,t,h)),e.bindFramebuffer(this._handle?.fbo)}generateMipMap(){this._handle?.colorTexture?.descriptor?.hasMipmap&&this._handle?.colorTexture?.generateMipmap()}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/FBOCache.js + 1 modules
var FBOCache = __webpack_require__(4588);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js
var ShaderOutput = __webpack_require__(55274);
;// ../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderTargets.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class OverlayRenderTargets_s{constructor(e,o,s,a=FBOCache/* ColorFormat */.NV.RGBA_MIPMAP){this.output=o,this.content=s,this.fbo=new OverlayFramebufferObject_t(e,a)}get valid(){return this.fbo.valid}}class OverlayRenderTargets_a{constructor(r){this.targets=[new OverlayRenderTargets_s(r,ShaderOutput/* ShaderOutput */.V.Color,OverlayContent_o.Color),new OverlayRenderTargets_s(r,ShaderOutput/* ShaderOutput */.V.Color,OverlayContent_o.ColorNoRasterImage),new OverlayRenderTargets_s(r,ShaderOutput/* ShaderOutput */.V.Highlight,OverlayContent_o.Highlight,FBOCache/* ColorFormat */.NV.RGBA4),new OverlayRenderTargets_s(r,ShaderOutput/* ShaderOutput */.V.Normal,OverlayContent_o.WaterNormal),new OverlayRenderTargets_s(r,ShaderOutput/* ShaderOutput */.V.Color,OverlayContent_o.Occluded)],(0,has/* default */.A)("enable-feature:objectAndLayerId-rendering")&&this.targets.push(new OverlayRenderTargets_s(r,ShaderOutput/* ShaderOutput */.V.ObjectAndLayerIdColor,OverlayContent_o.ObjectAndLayerIdColor))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(){for(const e of this.targets)e.fbo.dispose()}computeValidity(){return this.targets.reduce(((e,r,t)=>r.valid?e|=1<<t:e),0)}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f64.js
var vec4f64 = __webpack_require__(52712);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexNormal.glsl.js
var VertexNormal_glsl = __webpack_require__(82089);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/renderPasses/AllRenderPasses.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class AllRenderPasses_e extends VertexNormal_glsl/* VertexNormalPassParameters */.Zo{constructor(){super(...arguments),this.slicePlaneLocalOrigin=(0,vec3f64.c)(),this.origin=this.slicePlaneLocalOrigin,this.modelTransformation=null}}class AllRenderPasses_a extends (/* unused pure expression or super */ null && (i)){}var AllRenderPasses_o;!function(t){t[t.Material=0]="Material",t[t.ShadowMap=1]="ShadowMap",t[t.Highlight=2]="Highlight"}(AllRenderPasses_o||(AllRenderPasses_o={}));class AllRenderPasses_n extends AllRenderPasses_e{constructor(){super(...arguments),this.identifier=AllRenderPasses_o.Material,this.output=ShaderOutput/* ShaderOutput */.V.Color,this.transparent=!1}}class AllRenderPasses_l extends AllRenderPasses_e{constructor(){super(...arguments),this.identifier=AllRenderPasses_o.ShadowMap}}class h extends AllRenderPasses_e{constructor(){super(...arguments),this.identifier=AllRenderPasses_o.Highlight}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js
var MainLighting_glsl = __webpack_require__(696);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js
var PhysicallyBasedRenderingParameters_glsl = __webpack_require__(39486);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js + 4 modules
var Water_glsl = __webpack_require__(65554);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js
var Uniform = __webpack_require__(99198);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js
var BindType = __webpack_require__(57198);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Float4DrawUniform_o extends Uniform/* Uniform */.n{constructor(r,o){super(r,"vec4",BindType/* BindType */.c.Draw,((e,s,t)=>e.setUniform4fv(r,o(s,t))))}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js
var FloatPassUniform = __webpack_require__(35449);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js
var shaderModules_interfaces = __webpack_require__(99152);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js
var Texture2DPassUniform = __webpack_require__(79856);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/terrain/Overlay.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var Overlay_glsl_f;function C(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new x("overlayTexOffset",((e,o)=>b(e,o))),new x("overlayTexScale",((e,o)=>M(e,o)))),t.constants.add("overlayOpacity","float",1),t.uniforms.add(new u("ovColorTex",((e,o)=>O(e,o)))),T(e,o)}function g(e,o){const{vertex:r,fragment:t}=e;r.uniforms.add(new Overlay_glsl_h("overlayTexOffset"),new Overlay_glsl_h("overlayTexScale")),t.uniforms.add(new p("overlayOpacity",(e=>e.overlayOpacity)),new u("ovColorTex",((e,o)=>o.overlay?.getTexture(e.overlayContent)))),T(e,o)}!function(e){e[e.Disabled=0]="Disabled",e[e.Enabled=1]="Enabled",e[e.EnabledWithWater=2]="EnabledWithWater",e[e.COUNT=3]="COUNT"}(Overlay_glsl_f||(Overlay_glsl_f={}));class Overlay_glsl_h extends Uniform/* Uniform */.n{constructor(e){super(e,"vec4")}}function T(e,o){o.pbrMode!==c.Water&&o.pbrMode!==c.WaterOnIntegratedMesh&&o.pbrMode!==c.TerrainWithWater||e.include(v,o);const{vertex:r,fragment:t}=e;e.varyings.add("vtcOverlay","vec4"),r.code.add(y`void setOverlayVTC(in vec2 uv) {
vtcOverlay = vec4(uv, uv) * overlayTexScale + overlayTexOffset;
}`),t.code.add(y`bool isValid(vec2 uv, vec2 dxdy) {
return (uv.x >= 0.0 + dxdy.x) && (uv.x <= 1.0 - dxdy.x) && (uv.y >= 0.0 + dxdy.y) && (uv.y <= 1.0 - dxdy.y);
}
vec4 getOverlayColor(sampler2D ov0Tex, vec4 texCoords) {
vec4 color0 = texture(ov0Tex, vec2(texCoords.x * 0.5, texCoords.y));
vec4 color1 = texture(ov0Tex, vec2(texCoords.z * 0.5 + 0.5, texCoords.w));
bool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));
bool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));
return mix(color1 * float(isValid1), color0, float(isValid0));
}`),t.code.add(y`vec4 getCombinedOverlayColor() {
return overlayOpacity * getOverlayColor(ovColorTex, vtcOverlay);
}`),t.code.add(y`vec4 getOverlayColorTexel(vec4 texCoords) {
vec2 texDim =  vec2(textureSize(ovColorTex, 0));
vec4 color0 = texelFetch(ovColorTex, ivec2(vec2(texCoords.x * 0.5, texCoords.y) * texDim), 0);
vec4 color1 = texelFetch(ovColorTex, ivec2(vec2(texCoords.z * 0.5 + 0.5, texCoords.w) * texDim), 0);
bool isValid0 = isValid(texCoords.xy, fwidth(texCoords.xy));
bool isValid1 = isValid(texCoords.zw, vec2(0.0, 0.0));
return mix(color1 * float(isValid1), color0, float(isValid0));
}`),o.pbrMode!==c.Water&&o.pbrMode!==c.WaterOnIntegratedMesh&&o.pbrMode!==c.TerrainWithWater||(n(t),d(t),t.code.add(y`vec4 getOverlayWaterColor(vec4 maskInput, vec4 colorInput, vec3 vposEyeDir,
float shadow, vec3 localUp, mat3 tbn, vec3 position, vec3 positionWorld) {
vec3 n = normalize(tbn *  (2.0 * maskInput.rgb - vec3(1.0)));
vec3 v = vposEyeDir;
vec3 final = getSeaColor(n, v, mainLightDirection, colorInput.rgb, mainLightIntensity, localUp, 1.0 - shadow, maskInput.w, position, positionWorld);
return vec4(final, colorInput.w);
}`))}function O(e,o){return e.identifier===i.Material&&e.output===s.Color?o.overlay?.getTexture(l.ColorNoRasterImage):e.identifier===i.Material&&e.output===s.ObjectAndLayerIdColor?o.overlay?.getTexture(l.ObjectAndLayerIdColor):e.identifier===i.Highlight?o.overlay?.getTexture(l.Highlight):null}function b(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(w[0]=e.toMapSpace[0]/r(i)-i[0]/r(i),w[1]=e.toMapSpace[1]/t(i)-i[1]/t(i));const s=l.overlay?.overlays[a.OUTER]?.extent;return o(s)&&(w[2]=e.toMapSpace[0]/r(s)-s[0]/r(s),w[3]=e.toMapSpace[1]/t(s)-s[1]/t(s)),w}function M(e,l){const i=l.overlay?.overlays[a.INNER]?.extent;o(i)&&(w[0]=e.toMapSpace[2]/r(i),w[1]=e.toMapSpace[3]/t(i));const s=l.overlay?.overlays[a.OUTER]?.extent;return o(s)&&(w[2]=e.toMapSpace[2]/r(s),w[3]=e.toMapSpace[3]/t(s)),w}const w=(0,vec4f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/TextureOnly.glsl.js
var TextureOnly_glsl = __webpack_require__(52377);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/NestedMap.js
var NestedMap = __webpack_require__(80912);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js
var ShaderTechniqueConfiguration = __webpack_require__(69948);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueRepository.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ShaderTechniqueRepository_r{constructor(t){this._context=t,this._perConstructorInstances=new NestedMap/* NestedMap */.O,this._frameCounter=0,this._keepAliveFrameCount=ShaderTechniqueRepository_n}get viewingMode(){return this._context.viewingMode}get constructionContext(){return this._context}destroy(){this._perConstructorInstances.forEach((e=>e.forEach((e=>e.technique.destroy())))),this._perConstructorInstances.clear()}acquire(e,t=ShaderTechniqueRepository_o){const r=t.key;let n=this._perConstructorInstances.get(e,r);if(null==n){const o=new e(this._context,t,(()=>this.release(o)));n=new ShaderTechniqueRepository_s(o),this._perConstructorInstances.set(e,r,n)}return++n.refCount,n.technique}releaseAndAcquire(e,t,r){if(null!=r){if(t.key===r.key)return r;this.release(r)}return this.acquire(e,t)}release(e){if(null==e||this._perConstructorInstances.empty)return;const t=this._perConstructorInstances.get(e.constructor,e.key);null!=t&&(--t.refCount,0===t.refCount&&(t.refZeroFrame=this._frameCounter))}frameUpdate(){this._frameCounter++,this._keepAliveFrameCount!==ShaderTechniqueRepository_n&&this._perConstructorInstances.forEach(((e,t)=>{e.forEach(((e,r)=>{0===e.refCount&&e.refZeroFrame+this._keepAliveFrameCount<this._frameCounter&&(e.technique.destroy(),this._perConstructorInstances.delete(t,r))}))}))}async reloadAll(){const e=new Array;this._perConstructorInstances.forEach(((t,r)=>{const s=async(e,t)=>{const r=t.shader;r&&(await r.reload(),e.forEach((e=>e.technique.reload(this._context))))};e.push(s(t,r))})),await Promise.all(e)}}class ShaderTechniqueRepository_s{constructor(e){this.technique=e,this.refCount=0,this.refZeroFrame=0}}const ShaderTechniqueRepository_n=-1,ShaderTechniqueRepository_o=new ShaderTechniqueConfiguration/* ShaderTechniqueConfiguration */.K;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/effects/RenderPlugin.js
var RenderPlugin = __webpack_require__(38931);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js + 1 modules
var Camera = __webpack_require__(36549);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js
var Util = __webpack_require__(58947);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialRepository.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class GLMaterialRepository_s{constructor(e,t,i,s){this._textureRepository=e,this._techniqueRepository=t,this.materialChanged=i,this.requestRender=s,this._id2glMaterialRef=new NestedMap/* NestedMap */.O}dispose(){this._textureRepository.destroy()}acquire(e,t,r){if(this._ownMaterial(e),!e.produces(t,r))return null;let i=this._id2glMaterialRef.get(r,e.id);if(null==i){const t=e.createGLMaterial({material:e,techniqueRep:this._techniqueRepository,textureRepository:this._textureRepository,output:r});i=new GLMaterialRepository_o(t),this._id2glMaterialRef.set(r,e.id,i)}return i.ref(),i.glMaterial}release(e,r){const i=this._id2glMaterialRef.get(r,e.id);null!=i&&(i.unref(),i.referenced||((0,maybe/* disposeMaybe */.WD)(i.glMaterial),this._id2glMaterialRef.delete(r,e.id)))}_ownMaterial(t){t.repository&&t.repository!==this&&Logger/* default */.A.getLogger("esri.views.3d.webgl-engine.lib.GLMaterialRepository").error("Material is already owned by a different material repository"),t.repository=this}}class GLMaterialRepository_o{constructor(e){this.glMaterial=e,this._refCnt=0}ref(){++this._refCnt}unref(){--this._refCnt,(0,Util/* assert */.vA)(this._refCnt>=0)}get referenced(){return this._refCnt>0}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js
var DefaultVertexAttributeLocations = __webpack_require__(13148);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js
var VertexAttribute = __webpack_require__(50645);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/enums.js
var enums = __webpack_require__(41746);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/VertexElementDescriptor.js
var VertexElementDescriptor = __webpack_require__(69955);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexBufferLayouts.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const DefaultVertexBufferLayouts_n=[new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.POSITION,3,enums/* DataType */.pe.FLOAT,0,12)],DefaultVertexBufferLayouts_w=[new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.POSITION,3,enums/* DataType */.pe.FLOAT,0,20),new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.UV0,2,enums/* DataType */.pe.FLOAT,12,20)],I=[new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.POSITION,3,enums/* DataType */.pe.FLOAT,0,32),new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.NORMAL,3,enums/* DataType */.pe.FLOAT,12,32),new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.UV0,2,enums/* DataType */.pe.FLOAT,24,32)],DefaultVertexBufferLayouts_r=[new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.POSITION,3,enums/* DataType */.pe.FLOAT,0,16),new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.COLOR,4,enums/* DataType */.pe.UNSIGNED_BYTE,12,16)],DefaultVertexBufferLayouts_t=[new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.POSITION,2,enums/* DataType */.pe.FLOAT,0,8)],A=[new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.POSITION,2,enums/* DataType */.pe.FLOAT,0,16),new VertexElementDescriptor/* VertexElementDescriptor */._(VertexAttribute/* VertexAttribute */.r.UV0,2,enums/* DataType */.pe.FLOAT,8,16)];

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexArrayObject.js
var VertexArrayObject = __webpack_require__(11459);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/BufferObject.js
var BufferObject = __webpack_require__(89423);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/Texture.js + 1 modules
var Texture = __webpack_require__(6940);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/TextureDescriptor.js
var TextureDescriptor = __webpack_require__(45758);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/glUtil3D.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function glUtil3D_i(s,u=r,f=e,i=-1,a=1){let l=null;if(u===t)l=new Float32Array([i,i,0,0,a,i,1,0,i,a,0,1,a,a,1,1]);else l=new Float32Array([i,i,a,i,i,a,a,a]);return new o(s,f,{geometry:u},{geometry:n.createVertex(s,m.STATIC_DRAW,l)})}function glUtil3D_a(t,s=r,u=e){const f=new Float32Array([-1,-1,3,-1,-1,3]);return new o(t,u,{geometry:s},{geometry:n.createVertex(t,m.STATIC_DRAW,f)})}const glUtil3D_l=4;function glUtil3D_c(e){const r=new f(glUtil3D_l);return r.samplingMode=s.NEAREST,new u(e,r)}function glUtil3D_w(e){const r=new TextureDescriptor/* TextureDescriptor */.R(1);return r.samplingMode=enums/* TextureSamplingMode */.Cj.NEAREST,new Texture/* Texture */.g(e,r,new Uint8Array([255,255,255,255]))}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js
var GridLocalOriginFactory = __webpack_require__(24734);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js
var Material = __webpack_require__(45722);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/time.js
var time = __webpack_require__(60882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4f64.js
var mat4f64 = __webpack_require__(56192);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2f64.js
var vec2f64 = __webpack_require__(78286);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js
var CloudsParameters = __webpack_require__(58718);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDRenderStyle.js
var HUDRenderStyle = __webpack_require__(15354);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassGeometryTest.glsl.js
var MultipassGeometryTest_glsl = __webpack_require__(46823);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js
var MultipassTerrainTest_glsl = __webpack_require__(80600);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js
var basicInterfaces = __webpack_require__(91013);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js
var RenderSlot = __webpack_require__(38323);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js
var TransparencyPassType = __webpack_require__(81868);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js + 2 modules
var SceneLighting = __webpack_require__(9409);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BindParameters.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class BindParameters_m{constructor(i,m){this.shadowMap=i,this.slicePlane=m,this.slot=RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL,this.hasOccludees=!1,this.enableFillLights=!0,this.transparencyPassType=TransparencyPassType/* TransparencyPassType */.y.NONE,this.alignPixelEnabled=!1,this.decorations=basicInterfaces/* Decorations */.ID.ON,this.overlayStretch=1,this._camera=new Camera/* Camera */.i,this._inverseViewport=(0,vec2f64.a)(),this.oldLighting=new SceneLighting/* SceneLighting */.T,this.newLighting=new SceneLighting/* SceneLighting */.T,this._fadedLighting=new SceneLighting/* SceneLighting */.T,this._lighting=this.newLighting,this.ssr=new BindParameters_c,this.multipassEnabled=!1,this.multipassTerrain=new MultipassTerrainTest_glsl/* MultipassTerrainUniforms */.h,this.multipassGeometry=new MultipassGeometryTest_glsl/* MultipassGeometryUniforms */.U,this.hudRenderStyle=HUDRenderStyle/* HUDRenderStyle */.D.Occluded,this.cloudsFade=new CloudsParameters/* CloudsParameters */.ny}get camera(){return this._camera}set camera(i){this._camera=i,this._inverseViewport[0]=1/i.fullViewport[2],this._inverseViewport[1]=1/i.fullViewport[3]}get inverseViewport(){return this._inverseViewport}get lighting(){return this._lighting}get weatherFading(){return this._lighting===this._fadedLighting}fadeLighting(i){const{oldLighting:t,newLighting:e}=this;i>=1?this._lighting=e:(this._fadedLighting.lerpLighting(t,e,i),this._lighting=this._fadedLighting)}}class BindParameters_c{constructor(){this.fadeFactor=1,this.reprojectionMatrix=(0,mat4f64.a)()}}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderContext.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class RenderContext_i{constructor(e,a,i=null){this.rctx=e,this.sliceHelper=i,this.lastFrameCamera=new Camera/* Camera */.i,this.output=ShaderOutput/* ShaderOutput */.V.Color,this.renderOccludedMask=RenderContext_l,this.bindParameters=new BindParameters_m(a,null!=i?i.plane:null),this.bindParameters.alignPixelEnabled=!0}resetRenderOccludedMask(){this.renderOccludedMask=RenderContext_l}}class RenderContext_n extends RenderContext_i{constructor(r,s,t,a){super(r,t,a),this.offscreenRenderingHelper=s,this.sliceHelper=a,this.time=(0,time/* Milliseconds */.l5)(0)}}const RenderContext_l=Material/* RenderOccludedFlag */.m$.Occlude|Material/* RenderOccludedFlag */.m$.OccludeAndTransparent|Material/* RenderOccludedFlag */.m$.OccludeAndTransparentStencil;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(92504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat3f64.js
var mat3f64 = __webpack_require__(76287);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2.js
var vec2 = __webpack_require__(58680);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4.js
var vec4 = __webpack_require__(25102);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/CascadeCamera.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let CascadeCamera_p=class extends Camera/* Camera */.i{constructor(){super(...arguments),this._projectionMatrix=(0,mat4f64.a)()}get projectionMatrix(){return this._projectionMatrix}};(0,tslib_es6._)([(0,property/* property */.MZ)()],CascadeCamera_p.prototype,"_projectionMatrix",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],CascadeCamera_p.prototype,"projectionMatrix",null),CascadeCamera_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.webgl-engine.lib.CascadeCamera")],CascadeCamera_p);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js
var textureUtils = __webpack_require__(84147);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ShadowMap.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var W;!function(t){t[t.Highlight=0]="Highlight",t[t.Default=1]="Default"}(W||(W={}));class z{constructor(){this.camera=new CascadeCamera_p,this.lightMat=(0,mat4f64.a)()}}class P{constructor(){this.maxNumCascadesHighQuality=4,this.maxNumCascadesLowQuality=4,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.splitSchemeLambda=0}}class q{get depthTexture(){return this._handle?.colorTexture}get _textureWidth(){return this._textureHeight*this._numCascades}get numCascades(){return this._numCascades}get cascadeDistances(){return (0,vec4.s)(this._usedCascadeDistances,this._cascadeDistances[0],this._numCascades>1?this._cascadeDistances[1]:1/0,this._numCascades>2?this._cascadeDistances[2]:1/0,this._numCascades>3?this._cascadeDistances[3]:1/0)}constructor(t,s){this._fbos=t,this._viewingMode=s,this._enabled=!1,this._snapshots=new Array,this._textureHeight=0,this._numCascades=1,this.settings=new P,this._projectionView=(0,mat4f64.a)(),this._projectionViewInverse=(0,mat4f64.a)(),this._modelViewLight=(0,mat4f64.a)(),this._cascadeDistances=[0,0,0,0,0],this._usedCascadeDistances=(0,vec4f64.c)(),this._cascades=[new z,new z,new z,new z],this._lastOrigin=null,this._maxTextureWidth=Math.min((0,has/* default */.A)("esri-mobile")?4096:16384,t.rctx.parameters.maxTextureSize)}dispose(){this.enabled=!1,this.disposeOffscreenBuffers()}disposeOffscreenBuffers(){this._handle=(0,maybe/* releaseMaybe */.Gz)(this._handle),this._discardSnapshots()}set maxCascades(s){this.settings.maxNumCascadesHighQuality=(0,mathUtils/* clamp */.qE)(Math.floor(s),1,4)}get maxCascades(){return this.settings.maxNumCascadesHighQuality}set enabled(t){this._enabled=t,t||this.disposeOffscreenBuffers()}get enabled(){return this._enabled}get ready(){return this._enabled&&null!=this.depthTexture}get cascades(){for(let t=0;t<this._numCascades;++t)et[t]=this._cascades[t];return et.length=this._numCascades,et}start(t,s,e,a,i){(0,Util/* assert */.vA)(this.enabled);const{near:r,far:h}=this._clampNearFar(e);this._computeCascadeDistances(r,h,a),this._textureHeight=this._computeTextureHeight(t,i,a),this._setupMatrices(t,s);const{viewMatrix:n,projectionMatrix:c}=t;for(let o=0;o<this._numCascades;++o)this._constructCascade(o,c,n,s);this._lastOrigin=null,this.clear()}finish(){(0,Util/* assert */.vA)(this.enabled),this._handle?.releaseDepth()}getShadowMapMatrices(t){if(!this._lastOrigin||!(0,vec3.h)(t,this._lastOrigin)){this._lastOrigin=this._lastOrigin||(0,vec3f64.c)(),(0,vec3.c)(this._lastOrigin,t);for(let s=0;s<this._numCascades;++s){(0,mat4.w)(at,this._cascades[s].lightMat,t);for(let t=0;t<16;++t)it[16*s+t]=at[t]}}return it}moveSnapshot(t){(0,Util/* assert */.vA)(this.enabled),this._handle?.releaseDepth(),this._snapshots[t]?.release(),this._snapshots[t]=this._handle,this._handle=null}copySnapshot(t){const s=this._handle?.colorTexture?.descriptor;if(!this.enabled||!s)return;this._snapshots[t]?.release();const{width:e,height:a}=s;this._snapshots[t]=this._fbos.acquire(FBOCache/* ColorFormat */.NV.RGBA4,e,a);const i=this._fbos.rctx;this._bindFbo();const r=i.bindTexture(this._snapshots[t]?.colorTexture,Texture/* Texture */.g.TEXTURE_UNIT_FOR_UPDATES);i.gl.copyTexSubImage2D(enums/* TextureType */.Ap.TEXTURE_2D,0,0,0,0,0,e,a),i.bindTexture(r,Texture/* Texture */.g.TEXTURE_UNIT_FOR_UPDATES)}getSnapshot(t){return this.enabled?this._snapshots[t]?.colorTexture:null}clear(){const t=this._fbos.rctx;this._ensureFbo(),this._bindFbo(),t.setClearColor(1,1,1,1),t.clearSafe(enums/* ClearBufferBit */.hn.COLOR_BUFFER_BIT|enums/* ClearBufferBit */.hn.DEPTH_BUFFER_BIT)}_computeTextureHeight(t,s,e){const a=Math.min(window.devicePixelRatio,s)/t.pixelRatio,i=e?this.settings.textureSizeModHighQuality:this.settings.textureSizeModLowQuality,r=(0,textureUtils/* applyTextureResizeModulo */.Mv)(Math.floor(Math.max(t.fullWidth,t.fullHeight)*a*i));return Math.min(this._maxTextureWidth,this._numCascades*r)/this._numCascades}_ensureFbo(){this._handle?.fbo.width===this._textureWidth&&this._handle?.fbo.height===this._textureHeight||(this._handle?.release(),this._handle=this._fbos.acquire(FBOCache/* ColorFormat */.NV.RGBA4,this._textureWidth,this._textureHeight)),this._handle.acquireDepth(FBOCache/* DepthFormat */.zd.DEPTH16_BUFFER)}_discardSnapshot(t){this._snapshots[t]=(0,maybe/* releaseMaybe */.Gz)(this._snapshots[t])}_discardSnapshots(){for(let t=0;t<this._snapshots.length;++t)this._discardSnapshot(t);this._snapshots.length=0}_bindFbo(){const t=this._fbos.rctx;t.unbindTexture(this.depthTexture),t.bindFramebuffer(this._handle?.fbo)}_constructCascade(t,s,e,a){const i=this._cascades[t],n=-this._cascadeDistances[t],c=-this._cascadeDistances[t+1],o=(s[10]*n+s[14])/Math.abs(s[11]*n+s[15]),u=(s[10]*c+s[14])/Math.abs(s[11]*c+s[15]);(0,Util/* assert */.vA)(o<u);for(let r=0;r<8;++r){(0,vec4.s)(X,r%4==0||r%4==3?-1:1,r%4==0||r%4==1?-1:1,r<4?o:u,1);const t=J[r];(0,vec4.t)(t,X,this._projectionViewInverse),t[0]/=t[3],t[1]/=t[3],t[2]/=t[3]}(0,vec3.E)(st,J[0]),i.camera.viewMatrix=(0,mat4.w)(G,this._modelViewLight,st);for(let r=0;r<8;++r)(0,vec3.e)(J[r],J[r],i.camera.viewMatrix);let l=J[0][2],_=J[0][2];for(let r=1;r<8;++r)l=Math.min(l,J[r][2]),_=Math.max(_,J[r][2]);l-=200,_+=200,i.camera.near=-_,i.camera.far=-l,Ct(e,a,l,_,i.camera),(0,mat4.m)(i.lightMat,i.camera.projectionMatrix,i.camera.viewMatrix);const d=this._textureHeight;i.camera.viewport=[t*d,0,d,d]}_setupMatrices(t,s){(0,mat4.m)(this._projectionView,t.projectionMatrix,t.viewMatrix),(0,mat4.i)(this._projectionViewInverse,this._projectionView);const e=this._viewingMode===ViewingMode/* ViewingMode */.RT.Global?t.eye:(0,vec3.s)(st,0,0,1);(0,mat4.u)(this._modelViewLight,[0,0,0],[-s[0],-s[1],-s[2]],e)}_clampNearFar(t){let{near:s,far:e}=t;return s<2&&(s=2),e<2&&(e=2),s>=e&&(s=2,e=4),{near:s,far:e}}_computeCascadeDistances(t,e,a){const i=a?this.settings.maxNumCascadesHighQuality:this.settings.maxNumCascadesLowQuality;this._numCascades=Math.min(1+Math.floor((0,Util/* logWithBase */.kL)(e/t,4)),i);const r=(e-t)/this._numCascades,h=(e/t)**(1/this._numCascades);let n=t,c=t;for(let o=0;o<this._numCascades+1;++o)this._cascadeDistances[o]=(0,mathUtils/* lerp */.Cc)(n,c,this.settings.splitSchemeLambda),n*=h,c+=r}get test(){return{cascades:this._cascades,textureHeight:this._textureHeight}}}const G=(0,mat4f64.a)(),X=(0,vec4f64.c)(),J=[];for(let jt=0;jt<8;++jt)J.push((0,vec4f64.c)());const K=(0,vec2f64.a)(),Y=(0,vec2f64.a)(),Z=(0,vec2f64.a)(),$=(0,vec2f64.a)(),tt=(0,vec2f64.a)(),st=(0,vec3f64.c)(),et=[],at=(0,mat4f64.a)(),it=mat4f64.I.concat(mat4f64.I,mat4f64.I,mat4f64.I,mat4f64.I),rt=(0,vec2f64.a)(),ht=(0,vec2f64.a)(),nt=[(0,vec2f64.a)(),(0,vec2f64.a)(),(0,vec2f64.a)(),(0,vec2f64.a)()],ct=(0,vec2f64.a)(),ot=(0,vec2f64.a)(),ut=(0,vec2f64.a)(),lt=(0,vec2f64.a)(),_t=(0,vec2f64.a)(),dt=(0,vec2f64.a)(),mt=(0,vec2f64.a)();function ft(t,s,e,a,i,r,h,n){(0,vec2.s)(rt,0,0);for(let l=0;l<4;++l)(0,vec2.i)(rt,rt,t[l]);(0,vec2.a)(rt,rt,.25),(0,vec2.s)(ht,0,0);for(let l=4;l<8;++l)(0,vec2.i)(ht,ht,t[l]);(0,vec2.a)(ht,ht,.25),(0,vec2.l)(nt[0],t[4],t[5],.5),(0,vec2.l)(nt[1],t[5],t[6],.5),(0,vec2.l)(nt[2],t[6],t[7],.5),(0,vec2.l)(nt[3],t[7],t[4],.5);let c=0,o=(0,vec2.k)(nt[0],rt);for(let l=1;l<4;++l){const t=(0,vec2.k)(nt[l],rt);t<o&&(o=t,c=l)}(0,vec2.c)(ct,nt[c],t[c+4]);const u=ct[0];let w,C;ct[0]=-ct[1],ct[1]=u,(0,vec2.c)(ot,ht,rt),(0,vec2.g)(ot,ct)<0&&(0,vec2.n)(ct,ct),(0,vec2.l)(ct,ct,ot,e),(0,vec2.e)(ct,ct),w=C=(0,vec2.g)((0,vec2.c)(ut,t[0],rt),ct);for(let l=1;l<8;++l){const s=(0,vec2.g)((0,vec2.c)(ut,t[l],rt),ct);s<w?w=s:s>C&&(C=s)}(0,vec2.j)(a,rt),(0,vec2.a)(ut,ct,w-s),(0,vec2.i)(a,a,ut);let j=-1,T=1,y=0,D=0;for(let l=0;l<8;++l){(0,vec2.c)(lt,t[l],a),(0,vec2.e)(lt,lt);const s=ct[0]*lt[1]-ct[1]*lt[0];s>0?s>j&&(j=s,y=l):s<T&&(T=s,D=l)}(0,Util/* verify */.MX)(j>0,"leftArea"),(0,Util/* verify */.MX)(T<0,"rightArea"),(0,vec2.a)(_t,ct,w),(0,vec2.i)(_t,_t,rt),(0,vec2.a)(dt,ct,C),(0,vec2.i)(dt,dt,rt),mt[0]=-ct[1],mt[1]=ct[0];const H=(0,Util/* rayRay2D */.L)(a,t[D],dt,(0,vec2.i)(ut,dt,mt),1,i),v=(0,Util/* rayRay2D */.L)(a,t[y],dt,ut,1,r),S=(0,Util/* rayRay2D */.L)(a,t[y],_t,(0,vec2.i)(ut,_t,mt),1,h),F=(0,Util/* rayRay2D */.L)(a,t[D],_t,ut,1,n);(0,Util/* verify */.MX)(H,"rayRay"),(0,Util/* verify */.MX)(v,"rayRay"),(0,Util/* verify */.MX)(S,"rayRay"),(0,Util/* verify */.MX)(F,"rayRay")}function pt(t,s){return 3*s+t}const gt=(0,vec2f64.a)();function xt(t,s){return (0,vec2.s)(gt,t[s],t[s+3]),gt}const bt=(0,vec2f64.a)(),Mt=(0,mat3f64.a)();function wt(t,s,e,a,i){(0,vec2.c)(bt,e,a),(0,vec2.a)(bt,bt,.5),Mt[0]=bt[0],Mt[1]=bt[1],Mt[2]=0,Mt[3]=bt[1],Mt[4]=-bt[0],Mt[5]=0,Mt[6]=bt[0]*bt[0]+bt[1]*bt[1],Mt[7]=bt[0]*bt[1]-bt[1]*bt[0],Mt[8]=1,Mt[pt(0,2)]=-(0,vec2.g)(xt(Mt,0),t),Mt[pt(1,2)]=-(0,vec2.g)(xt(Mt,1),t);let r=(0,vec2.g)(xt(Mt,0),e)+Mt[pt(0,2)],h=(0,vec2.g)(xt(Mt,1),e)+Mt[pt(1,2)],n=(0,vec2.g)(xt(Mt,0),a)+Mt[pt(0,2)],c=(0,vec2.g)(xt(Mt,1),a)+Mt[pt(1,2)];r=-(r+n)/(h+c),Mt[pt(0,0)]+=Mt[pt(1,0)]*r,Mt[pt(0,1)]+=Mt[pt(1,1)]*r,Mt[pt(0,2)]+=Mt[pt(1,2)]*r,r=1/((0,vec2.g)(xt(Mt,0),e)+Mt[pt(0,2)]),h=1/((0,vec2.g)(xt(Mt,1),e)+Mt[pt(1,2)]),Mt[pt(0,0)]*=r,Mt[pt(0,1)]*=r,Mt[pt(0,2)]*=r,Mt[pt(1,0)]*=h,Mt[pt(1,1)]*=h,Mt[pt(1,2)]*=h,Mt[pt(2,0)]=Mt[pt(1,0)],Mt[pt(2,1)]=Mt[pt(1,1)],Mt[pt(2,2)]=Mt[pt(1,2)],Mt[pt(1,2)]+=1,r=(0,vec2.g)(xt(Mt,1),s)+Mt[pt(1,2)],h=(0,vec2.g)(xt(Mt,2),s)+Mt[pt(2,2)],n=(0,vec2.g)(xt(Mt,1),e)+Mt[pt(1,2)],c=(0,vec2.g)(xt(Mt,2),e)+Mt[pt(2,2)],r=-.5*(r/h+n/c),Mt[pt(1,0)]+=Mt[pt(2,0)]*r,Mt[pt(1,1)]+=Mt[pt(2,1)]*r,Mt[pt(1,2)]+=Mt[pt(2,2)]*r,r=(0,vec2.g)(xt(Mt,1),s)+Mt[pt(1,2)],h=(0,vec2.g)(xt(Mt,2),s)+Mt[pt(2,2)],n=-h/r,Mt[pt(1,0)]*=n,Mt[pt(1,1)]*=n,Mt[pt(1,2)]*=n,i[0]=Mt[0],i[1]=Mt[1],i[2]=0,i[3]=Mt[2],i[4]=Mt[3],i[5]=Mt[4],i[6]=0,i[7]=Mt[5],i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=Mt[6],i[13]=Mt[7],i[14]=0,i[15]=Mt[8]}function Ct(t,s,a,i,r){const h=1/J[0][3],n=1/J[4][3];(0,Util/* assert */.vA)(h<n);let c=h+Math.sqrt(h*n);const o=Math.sin((0,mathUtils/* acosClamped */.XM)(t[2]*s[0]+t[6]*s[1]+t[10]*s[2]));c/=o,ft(J,c,o,K,Y,Z,$,tt),wt(K,Y,$,tt,r.projectionMatrix),r.projectionMatrix[10]=2/(a-i),r.projectionMatrix[14]=-(a+i)/(a-i)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(52495);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js
var IntersectorInterfaces = __webpack_require__(44912);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorTarget.js
var IntersectorTarget = __webpack_require__(9286);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/intersectorUtils.js
var intersectorUtils = __webpack_require__(99730);
;// ../node_modules/@arcgis/core/views/3d/terrain/Intersector.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function Intersector_n(r){return t(r)&&r.intersector===e.TERRAIN&&!!r.target}class Intersector_i extends IntersectorTarget/* Graphic3DTarget */.R6{constructor(e,r,t){super(e,r),this.triangleNr=t}}function Intersector_o(r){return t(r)&&r.intersector===e.OVERLAY&&!!r.target}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ChangeSet.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ChangeSet_s{constructor(){this.adds=new PooledArray/* default */.A,this.removes=new PooledArray/* default */.A,this.updates=new PooledArray/* default */.A({allocator:e=>e||new ChangeSet_r,deallocator:e=>(e.renderGeometry=null,e)})}clear(){this.adds.clear(),this.removes.clear(),this.updates.clear()}prune(){this.adds.prune(),this.removes.prune(),this.updates.prune()}get empty(){return 0===this.adds.length&&0===this.removes.length&&0===this.updates.length}}class ChangeSet_r{}class ChangeSet_t{constructor(){this.adds=new Array,this.removes=new Array,this.updates=new Array}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js
var Intersector = __webpack_require__(74515);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ModelDirtyTypes.js
var ModelDirtyTypes = __webpack_require__(23183);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/rendererUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function rendererUtils_r(r){const n=new Map,o=r=>{let t=n.get(r);return t||(t=new ChangeSet_t,n.set(r,t)),t};return r.removes.forAll((e=>{rendererUtils_t(e)&&o(e.material).removes.push(e)})),r.adds.forAll((e=>{rendererUtils_t(e)&&o(e.material).adds.push(e)})),r.updates.forAll((e=>{rendererUtils_t(e.renderGeometry)&&o(e.renderGeometry.material).updates.push(e)})),n}function rendererUtils_t(e){return e.geometry.indexCount>=1}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/buffer/glUtil.js
var glUtil = __webpack_require__(15788);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js
var GLMaterials = __webpack_require__(72136);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DrawParameters.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class DrawParameters_i extends VertexNormal_glsl/* VertexNormalDrawParameters */.gy{constructor(s=(0,vec3f64.c)()){super(),this.origin=s,this.slicePlaneLocalOrigin=this.origin}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js + 2 modules
var WaterMaterial = __webpack_require__(42649);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/BufferRange.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class BufferRange_t{constructor(t=0,o=0){this.from=t,this.to=o}get numElements(){return this.to-this.from}}function BufferRange_o(t){const o=new Map;t.forAll((t=>o.set(t.from,t)));let e=!0;for(;e;)e=!1,t.forEach((r=>{const s=o.get(r.to);s&&(r.to=s.to,o.delete(s.from),t.removeUnordered(s),e=!0)}))}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/Instance.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Instance_s extends BufferRange_t{constructor(e,s,t){super(s,t),this.geometry=e}get isVisible(){return this.geometry.visible}get hasHighlights(){return null!=this.geometry.highlights&&this.isVisible}get hasOccludees(){return null!=this.geometry.occludees}}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/DrawCommand.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class DrawCommand_t{constructor(){this.first=0,this.count=0}}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerBufferData.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class PerBufferData_n{constructor(){this._numElements=0,this._instances=new Map,this.holes=new PooledArray/* default */.A({allocator:s=>s||new BufferRange_t,deallocator:null}),this.hasHiddenInstances=!1,this.hasHighlights=!1,this.hasOccludees=!1,this.drawCommandsDirty=!0,this.drawCommandsDefault=PerBufferData_o(),this.drawCommandsHighlight=PerBufferData_o(),this.drawCommandsOccludees=PerBufferData_o(),this.drawCommandsShadowHighlightRest=PerBufferData_o()}get numElements(){return this._numElements}get instances(){return this._instances}addInstance(s,t){this.deleteInstance(s),this._instances.set(s,t),this._numElements+=t.numElements}deleteInstance(s){const t=this._instances.get(s);t&&(this._numElements-=t.numElements,this._instances.delete(s))}updateInstance(s,t,e){const n=this._instances.get(s);n&&(this._numElements-=n.numElements,n.from=t,n.to=e,this._numElements+=n.numElements)}updateDrawState(s){s.isVisible?(s.hasHighlights&&(this.hasHighlights=!0),s.hasOccludees&&(this.hasOccludees=!0)):this.hasHiddenInstances=!0}updateDrawCommands(s){if(this.drawCommandsDefault.clear(),this.drawCommandsHighlight.clear(),this.drawCommandsOccludees.clear(),this.drawCommandsShadowHighlightRest.clear(),this.drawCommandsDirty=!1,0===this._instances.size)return;if(!this.needsMultipleCommands()){const t=this.drawCommandsDefault.pushNew(),e=this.holes.front();return null!=this.vao&&1===this.holes.length&&e.to===Math.floor(this.vao.byteSize/s)?(t.first=0,void(t.count=e.from)):(t.first=1/0,t.count=0,this._instances.forEach((s=>{t.first=Math.min(t.first,s.from),t.count=Math.max(t.count,s.to)})),void(t.count-=t.first))}const t=Array.from(this._instances.values()).sort(((s,t)=>s.from===t.from?s.to-t.to:s.from-t.from));for(const e of t)e.isVisible&&(PerBufferData_h(e.hasOccludees?this.drawCommandsOccludees:this.drawCommandsDefault,e),PerBufferData_h(e.hasHighlights?this.drawCommandsHighlight:this.drawCommandsShadowHighlightRest,e))}needsMultipleCommands(){return this.hasOccludees||this.hasHighlights||this.hasHiddenInstances}}class PerBufferData_i extends (/* unused pure expression or super */ null && (PerBufferData_n)){}function PerBufferData_a(s){return null!=s.vao}function PerBufferData_o(){return new PooledArray/* default */.A({allocator:s=>s||new DrawCommand_t,deallocator:s=>s})}function PerBufferData_h(s,t){const e=s.back();if(null==e){const e=s.pushNew();return e.first=t.from,void(e.count=t.numElements)}if(PerBufferData_r(e,t)){const s=t.from-e.first+t.numElements;e.count=s}else{const e=s.pushNew();e.first=t.from,e.count=t.numElements}}function PerBufferData_r(s,t){return s.first+s.count>=t.from}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/PerOriginData.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class PerOriginData_s{constructor(s){this.origin=s,this.buffers=new Array}dispose(){this.buffers.forEach((s=>s.vao.dispose())),this.buffers.length=0}findBuffer(s){return this.buffers.find((r=>r.instances.has(s)))}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/MemCache.js
var MemCache = __webpack_require__(40210);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/MemCachePool.js
var MemCachePool = __webpack_require__(6660);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/VaoCache.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const VaoCache_c=MemCache/* minPriority */.Xs+1;class VaoCache_i{constructor(e,o,r){this._rctx=e,this._locations=o,this._layout=r,this._cache=new MemCachePool/* MemCachePool */.I(e.newCache,"VAOCache")}dispose(){this._cache.destroy()}newVao(e){const t=e.toString();let c=this._cache.pop(t);return c||(c=new VertexArrayObject/* VertexArrayObject */.Z(this._rctx,this._locations,{geometry:this._layout},{geometry:BufferObject/* BufferObject */.g.createVertex(this._rctx,enums/* Usage */._U.STATIC_DRAW)}),c.vertexBuffers.geometry.setSize(e),c)}deleteVao(e){if(null==e)return;const t=e.byteSize.toString();this._cache.put(t,e,VaoCache_c)}}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/MergedRenderer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let S=class extends RenderPlugin/* SyncPrepareRenderPlugin */.Ot{constructor(e){super(e),this._vaoCache=null,this._glMaterials=null,this._bufferWriter=null,this._dataByOrigin=new Map,this._hasHighlights=!1,this._hasOccludees=!1,this.priority=0,this.produces=new Map}dispose(){this._glMaterials=(0,maybe/* disposeMaybe */.WD)(this._glMaterials),this._dataByOrigin.forEach((e=>e.dispose())),this._dataByOrigin.clear(),this._vaoCache=(0,maybe/* disposeMaybe */.WD)(this._vaoCache)}initializeRenderContext(e,t){const{rctx:r}=e.renderContext;this._glMaterials=new GLMaterials/* GLMaterials */.c(this.material,t??e.materialRepository),this._bufferWriter=this.material.createBufferWriter(),this._vaoCache=new VaoCache_i(r,this.material.vertexAttributeLocations,(0,glUtil/* glLayout */.U)(this._bufferWriter.vertexBufferLayout))}uninitializeRenderContext(){}get isEmpty(){return 0===this._dataByOrigin.size}get hasHighlights(){return this._hasHighlights}get hasOccludees(){return this._hasOccludees}get hasWater(){return!this.isEmpty&&this.material instanceof WaterMaterial/* WaterMaterial */.Z}get isDecoration(){return this.material.parameters.isDecoration}get rendersOccluded(){return!this.isEmpty&&this.material.parameters.renderOccluded!==Material/* RenderOccludedFlag */.m$.Occlude}get numGeometries(){let e=0;return this._dataByOrigin.forEach((t=>e+=t.buffers.reduce(((e,t)=>e+t.instances.size),0))),e}get usedMemory(){let e=0;return this._dataByOrigin.forEach((t=>e+=t.buffers.reduce(((e,t)=>e+t.vao.usedMemory),0))),e}forEachGeometry(e){this._dataByOrigin.forEach((t=>t.buffers.forEach((t=>t.instances.forEach((t=>e(t.geometry)))))))}modify(e){this._updateGeometries(e.updates),this._addAndRemoveGeometries(e.adds,e.removes),this._updateDrawCommands()}_updateGeometries(e){const t=this._bufferWriter;if(null===t)return;const r=t.vertexBufferLayout.stride/4;for(const s of e){const e=s.renderGeometry,i=this._dataByOrigin.get(e.localOrigin.id),a=i?.findBuffer(e.id);if(null==a)return;const o=a.instances.get(e.id);if(s.updateType&(ModelDirtyTypes/* DirtyState */.k.GEOMETRY|ModelDirtyTypes/* DirtyState */.k.TRANSFORMATION)){const s=F(t.elementCount(o.geometry.geometry)*r),i=t.vertexBufferLayout.createView(s.buffer);this._writeGeometry(e,i,0),a.vao.vertexBuffers.geometry.setSubData(s,o.from*r,0,o.numElements*r)}s.updateType&(ModelDirtyTypes/* DirtyState */.k.HIGHLIGHT|ModelDirtyTypes/* DirtyState */.k.OCCLUDEE|ModelDirtyTypes/* DirtyState */.k.VISIBILITY)&&(a.drawCommandsDirty=!0)}}_computeDeltas(e,t){const r=new NestedMap/* NestedMap */.O;for(const s of e){const e=s.localOrigin;if(null==e)continue;let t=r.get(e.id,null);null==t&&(t=new MergedRenderer_x(e.vec3),r.set(e.id,null,t)),t.changes.push(s)}for(const s of t){const e=s.localOrigin;if(null==e)continue;const t=this._dataByOrigin.get(e.id),i=t?.findBuffer(s.id);if(null==i)continue;let a=r.get(e.id,i);null==a&&(a=new MergedRenderer_x(e.vec3),r.set(e.id,i,a)),a.changes.push(s)}return r}_addAndRemoveGeometries(e,r){if(null===this._bufferWriter||null===this._vaoCache)return;const{_bufferWriter:s,_dataByOrigin:i}=this,a=s.vertexBufferLayout.stride/4,o=this._computeDeltas(e,r);o.forEach(((e,r)=>{const n=e.get(null),l=null!=n?n.changes:[];o.delete(r,null);let u=i.get(r);if(e.forEach(((e,n)=>{if(o.delete(r,n),null==n)return void (0,Util/* assert */.vA)(!1,"No VAO for removed geometries");if(n.instances.size===e.changes.length)return this._vaoCache.deleteVao(n.vao),(0,arrayUtils/* removeUnordered */.Xy)(u.buffers,n),void(0===u.buffers.length&&0===l.length&&i.delete(r));const h=n.numElements,c=n.vao.byteSize/4,f=l.reduce(((e,t)=>e+s.elementCount(t.geometry)),0),m=e.changes.reduce(((e,t)=>e+s.elementCount(t.geometry)),0),d=Math.min((h+f-m)*a,U),g=d>c;d>MergedRenderer_P&&d<c/2?(e.changes.forEach((({id:e})=>n.deleteInstance(e))),n.instances.forEach((({geometry:e})=>l.push(e))),this._vaoCache.deleteVao(n.vao),(0,arrayUtils/* removeUnordered */.Xy)(u.buffers,n)):g?this._applyAndRebuild(n,l,e):this._applyRemoves(n,e)})),l.length>0)for(null==u&&(u=new PerOriginData_s(n.origin),i.set(r,u)),u.buffers.forEach((e=>this._applyAdds(e,l)));l.length>0;)u.buffers.push(this._applyAndRebuild(new PerBufferData_n,l,null))}))}_updateDrawCommands(){this._hasHighlights=!1,this._hasOccludees=!1,this._dataByOrigin.forEach((e=>{e.buffers.forEach((e=>{e.drawCommandsDirty&&(e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,(0,MapUtils/* someMap */.Bs)(e.instances,(t=>(e.updateDrawState(t),e.hasHiddenInstances&&e.hasHighlights&&e.hasOccludees))),e.updateDrawCommands(this._bufferWriter.vertexBufferLayout.stride)),this._hasHighlights=this._hasHighlights||e.hasHighlights,this._hasOccludees=this._hasOccludees||e.hasOccludees}))}))}_applyAndRebuild(e,t,r){if(null!=r)for(const m of r.changes)e.deleteInstance(m.id);const s=this._bufferWriter,i=s.vertexBufferLayout.stride,a=i/4,o=Math.floor(U/a);let n=e.numElements;for(;t.length>0;){const r=t.pop(),i=s.elementCount(r.geometry);if(n+i>o&&n>0){t.push(r);break}n+=i;const a=new Instance_s(r,0,0);(0,Util/* assert */.vA)(null==e.instances.get(r.id)),e.addInstance(r.id,a)}const l=n*a,u=F(l),h=s.vertexBufferLayout.createView(u.buffer);let c=0;e.hasHiddenInstances=!1,e.hasHighlights=!1,e.hasOccludees=!1,e.instances.forEach(((t,r)=>{this._writeGeometry(t.geometry,h,c);const i=c;c+=s.elementCount(t.geometry.geometry),e.updateInstance(r,i,c),e.updateDrawState(t)})),this._vaoCache.deleteVao(e.vao),e.vao=this._vaoCache.newVao(MergedRenderer_q(l)),e.vao.vertexBuffers.geometry.setSubData(u,0,0,c*a),e.holes.clear();const f=e.holes.pushNew();return f.from=c,f.to=Math.floor(e.vao.byteSize/i),e.updateDrawCommands(i),e}_applyRemoves(e,t){if(0===t.changes.length||null===this._bufferWriter)return;for(const o of t.changes){const t=o.id,r=e.instances.get(t);if(!r)continue;e.deleteInstance(t);const s=MergedRenderer_G.back();if(s){if(s.to===r.from){s.to=r.to;continue}if(s.from===r.to){s.from=r.from;continue}}const i=MergedRenderer_G.pushNew();i.from=r.from,i.to=r.to}BufferRange_o(MergedRenderer_G);const r=this._bufferWriter.vertexBufferLayout.stride/4,s=MergedRenderer_G.reduce(((e,t)=>Math.max(e,t.numElements)),0)*r,i=F(s);i.fill(0,0,s);const a=e.vao.vertexBuffers.geometry;MergedRenderer_G.forAll((e=>a.setSubData(i,e.from*r,0,e.numElements*r))),e.holes.pushArray(MergedRenderer_G.data,MergedRenderer_G.length),MergedRenderer_G.forAll(((e,t)=>MergedRenderer_G.data[t]=null)),MergedRenderer_G.clear(),e.drawCommandsDirty=!0}_applyAdds(e,t){if(0===t.length||null===this._bufferWriter)return;if(!PerBufferData_a(e))return void this._applyAndRebuild(e,t,null);const s=this._bufferWriter,i=s.vertexBufferLayout.stride/4,a=e.numElements,o=t.reduce(((e,t)=>e+s.elementCount(t.geometry)),0),n=Math.min((a+o)*i,U),l=4*n;if(e.vao.byteSize<MergedRenderer_q(U-MergedRenderer_P)&&l>e.vao.byteSize)return void this._applyAndRebuild(e,t,null);BufferRange_o(e.holes);const u=new Array;for(const r of t){const t=s.elementCount(r.geometry),i=L(e.holes,t);u.push(i)}const h=e.vao.vertexBuffers.geometry;let c=0,f=0,m=0;const d=F(n),g=s.vertexBufferLayout.createView(d.buffer);t.forEach(((t,r)=>{const a=u[r];if(null==a)return;if(!(m===a)){const e=m-f;e>0&&h.setSubData(d,f*i,0,e*i),f=a,c=0}const o=s.elementCount(t.geometry);this._writeGeometry(t,g,c),c+=o,m=a+o;const n=new Instance_s(t,a,a+o);(0,Util/* assert */.vA)(null==e.instances.get(t.id)),e.addInstance(t.id,n),e.drawCommandsDirty=!0}));const p=m-f;p>0&&h.setSubData(d,f*i,0,p*i),(0,arrayUtils/* filterInPlace */.$i)(t,((e,t)=>null==u[t]))}_writeGeometry(e,t,r){if(null===this._bufferWriter)return;const s=e.localOrigin.vec3;(0,Util/* setMatrixTranslation3 */.M_)(MergedRenderer_I,-s[0],-s[1],-s[2]);const i=(0,mat4.m)(MergedRenderer_T,MergedRenderer_I,e.transformation);(0,mat4.i)(MergedRenderer_W,i),(0,mat4.t)(MergedRenderer_W,MergedRenderer_W),this._bufferWriter.write(i,MergedRenderer_W,e.geometry,t,r)}updateAnimation(e){return this.material.update(e)}prepareTechnique(e){if(!this.material.shouldRender(e))return null;const{output:t,bindParameters:r}=e;if(!this.material.produces(r.slot,t))return null;const s=t===ShaderOutput/* ShaderOutput */.V.Highlight||t===ShaderOutput/* ShaderOutput */.V.ShadowHighlight;if(s&&!this._hasHighlights)return null;const i=t===ShaderOutput/* ShaderOutput */.V.ShadowExcludeHighlight,a=!(s||i);for(const o of this._dataByOrigin.values())for(const n of o.buffers){if(s&&!n.hasHighlights)continue;const o=(s?n.drawCommandsHighlight:i&&n.needsMultipleCommands()?n.drawCommandsShadowHighlightRest:n.drawCommandsDefault)||null,l=a&&n.drawCommandsOccludees||null;if(o?.length||l?.length){const s=this._glMaterials.load(e.rctx,r.slot,t),i=null!=s?s.beginSlot(r):null;if(null!=i)return i}}return null}renderNode(e,t){const{output:r,bindParameters:s}=e,i=r===ShaderOutput/* ShaderOutput */.V.Highlight||r===ShaderOutput/* ShaderOutput */.V.ShadowHighlight,a=r===ShaderOutput/* ShaderOutput */.V.ShadowExcludeHighlight,o=!(i||a),n=e.rctx,l=e.bindParameters.slot===RenderSlot/* RenderSlot */.N.OCCLUDER_MATERIAL,u=e.bindParameters.slot===RenderSlot/* RenderSlot */.N.TRANSPARENT_OCCLUDER_MATERIAL;n.runAppleAmdDriverHelper(),n.bindTechnique(t,this.material.parameters,s);for(const h of this._dataByOrigin.values())for(const e of h.buffers){if(i&&!e.hasHighlights)continue;const r=(i?e.drawCommandsHighlight:a&&e.needsMultipleCommands()?e.drawCommandsShadowHighlightRest:e.drawCommandsDefault)||null,c=o&&e.drawCommandsOccludees||null;if(r?.length||c?.length){t.program.bindDraw(new DrawParameters_i(h.origin),s,this.material.parameters),t.ensureAttributeLocations(e.vao),n.bindVAO(e.vao),r?.length&&(n.setPipelineState(t.getPipeline(!1,l,u)),r.forAll((e=>n.drawArrays(t.primitiveType,e.first,e.count)))),c?.length&&(n.setPipelineState(t.getPipeline(!0,l,u)),c.forAll((e=>n.drawArrays(t.primitiveType,e.first,e.count))))}}}get test(){return{material:this.material,glMaterials:this._glMaterials,dataByOrigin:this._dataByOrigin}}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],S.prototype,"material",void 0),S=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.webgl-engine.materials.renderers.MergedRenderer")],S);class MergedRenderer_x{constructor(e){this.origin=e,this.changes=new Array}}function L(e,t){let r;if(!e.some((e=>!(e.numElements<t)&&(r=e,!0))))return null;const s=r.from;return r.from+=t,r.from>=r.to&&e.removeUnordered(r),s}const MergedRenderer_I=(0,mat4f64.a)(),MergedRenderer_T=(0,mat4f64.a)(),MergedRenderer_W=(0,mat4f64.a)(),MergedRenderer_G=new PooledArray/* default */.A({allocator:e=>e||new BufferRange_t,deallocator:null}),MergedRenderer_P=65536,V=4*MergedRenderer_P,MergedRenderer_z=1024,N=16777216,U=N/4;let k=new Float32Array(MergedRenderer_P);function F(e){return k.length<e&&(k=new Float32Array(e)),k}function MergedRenderer_q(e){const t=4*e;return t<=MergedRenderer_z?MergedRenderer_z:t<V?(0,mathUtils/* nextHighestPowerOfTwo */.cU)(t):Math.max(Math.min(Math.ceil(1.5*t/V)*V,N),t)}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/SortedRenderGeometryRenderer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let SortedRenderGeometryRenderer_u=class extends Accessor/* default */.A{constructor(e){super(e),this._pending=new SortedRenderGeometryRenderer_y,this._changes=new ChangeSet_s,this._materialRenderers=new PooledArray/* default */.A,this._sortedMaterialRenderers=new PooledArray/* default */.A,this._geometries=new Map,this._hasHighlights=!1,this._hasWater=!1}destroy(){this._changes.prune(),this._materialRenderers.forAll((e=>e.dispose())),this._materialRenderers.clear(),this._sortedMaterialRenderers.clear(),this._geometries.clear(),this._pending.clear()}get updating(){return!this._pending.empty||this._changes.updates.length>0}get rctx(){return this.rendererContext.rctx}get _materialRepository(){return this.rendererContext.materialRepository}get _localOriginFactory(){return this.rendererContext.localOriginFactory}get hasHighlights(){return this._hasHighlights}get hasWater(){return this._hasWater}get rendersOccluded(){return this._materialRenderers.some((e=>e.rendersOccluded))}get isEmpty(){return!this.updating&&0===this._materialRenderers.length&&0===this._geometries.size}getMemoryForMaterial(e){if(null==e)return 0;const r=this._materialRenderers.find((r=>r.material===e));return r?.usedMemory??0}commitChanges(){if(!this.updating)return!1;this._processAddsRemoves();const e=rendererUtils_r(this._changes);let r=!1,t=!1,s=!1;return e.forEach(((e,i)=>{let n=this._materialRenderers.find((e=>e.material===i));if(!n&&e.adds.length>0){const e=new S({material:i});e.initializeRenderContext(this.rendererContext.pluginContext,this._materialRepository),n=e,this._materialRenderers.push(n),r=!0,t=!0,s=!0}if(!n)return;const o=t||n.hasHighlights,a=s||n.hasWater;n.modify(e),t=t||o!==n.hasHighlights,s=s||a!==n.hasWater,n.isEmpty&&(this._materialRenderers.removeUnordered(n),n.dispose(),r=!0)})),this._changes.clear(),r&&this._updateSortedMaterialRenderers(),t&&(this._hasHighlights=this._materialRenderers.some((e=>e.hasHighlights))),s&&(this._hasWater=this._materialRenderers.some((e=>e.hasWater))),this.notifyChange("updating"),!0}addGeometries(e,r){if(0===e.length)return;const t=this._validateRenderGeometries(e);for(const i of t)this._geometries.set(i.id,i);const s=this._pending.empty;for(const i of t)this._pending.adds.add(i);s&&this.notifyChange("updating"),r===ModelDirtyTypes/* DirtyOperation */.q.UPDATE&&this._notifyGraphicGeometryChanged(e)}removeGeometries(e,r){const t=this._pending.empty,s=this._pending.adds;for(const i of e)s.has(i)?(this._pending.removed.add(i),s.delete(i)):this._pending.removed.has(i)||this._pending.removes.add(i),this._geometries.delete(i.id);t&&!this._pending.empty&&this.notifyChange("updating"),r===ModelDirtyTypes/* DirtyOperation */.q.UPDATE&&this._notifyGraphicGeometryChanged(e)}modifyGeometries(e,r){const t=0===this._changes.updates.length;for(const s of e){const e=this._changes.updates.pushNew();e.renderGeometry=this._validateRenderGeometry(s),e.updateType=r}switch(t&&this._changes.updates.length>0&&this.notifyChange("updating"),r){case ModelDirtyTypes/* DirtyState */.k.TRANSFORMATION:case ModelDirtyTypes/* DirtyState */.k.GEOMETRY:return this._notifyGraphicGeometryChanged(e);case ModelDirtyTypes/* DirtyState */.k.VISIBILITY:return this._notifyGraphicVisibilityChanged(e)}}updateAnimation(e){let r=!1;return this._sortedMaterialRenderers.forAll((t=>r=t.updateAnimation(e)||r)),r}shouldRender(e){return this._sortedMaterialRenderers.some((r=>r.prepareTechnique(e)))}render(e){this._sortedMaterialRenderers.forAll((r=>{const t=r.prepareTechnique(e);null!=t&&r.renderNode(e,t)}))}intersect(e,r,t,s,i){return this._geometries.forEach((n=>{if(s&&!s(n))return;this._intersectRenderGeometry(n,t,r,0,e,i);const o=this.rendererContext.longitudeCyclical;o&&(n.boundingSphere[0]-n.boundingSphere[3]<o.min&&this._intersectRenderGeometry(n,t,r,o.range,e,i),n.boundingSphere[0]+n.boundingSphere[3]>o.max&&this._intersectRenderGeometry(n,t,r,-o.range,e,i)),i++})),i}_updateSortedMaterialRenderers(){this._sortedMaterialRenderers.clear(),this._materialRenderers.forAll(((e,r)=>{e.priority=r,this._sortedMaterialRenderers.push(e)})),this._sortedMaterialRenderers.sort(((e,r)=>r.material.renderPriority===e.material.renderPriority?e.priority-r.priority:r.material.renderPriority-e.material.renderPriority))}_processAddsRemoves(){this._changes.adds.clear(),this._changes.removes.clear(),this._changes.adds.pushArray(Array.from(this._pending.adds)),this._changes.removes.pushArray(Array.from(this._pending.removes));for(let e=0;e<this._changes.updates.length;){const r=this._changes.updates.data[e];this._pending.has(r.renderGeometry)?this._changes.updates.removeUnorderedIndex(e):e++}this._pending.clear()}_intersectRenderGeometry(e,r,t,s,i,n){if(!e.visible)return;let o=0;s+=e.transformation[12],o=e.transformation[13],SortedRenderGeometryRenderer_f[0]=t[0]-s,SortedRenderGeometryRenderer_f[1]=t[1]-o,e.screenToWorldRatio=this.rendererContext.screenToWorldRatio,e.material.intersectDraped(e,null,i,SortedRenderGeometryRenderer_f,((t,s,o)=>{_(r,o,e.material.renderPriority,n,i,e.layerUid,e.graphicUid)}),r)}_notifyGraphicGeometryChanged(e){if(null==this.drapeSource.notifyGraphicGeometryChanged)return;let r;for(const t of e){const e=t.graphicUid;null!=e&&e!==r&&(this.drapeSource.notifyGraphicGeometryChanged(e),r=e)}}_notifyGraphicVisibilityChanged(e){if(null==this.drapeSource.notifyGraphicVisibilityChanged)return;let r;for(const t of e){const e=t.graphicUid;null!=e&&e!==r&&(this.drapeSource.notifyGraphicVisibilityChanged(e),r=e)}}_validateRenderGeometries(e){for(const r of e)this._validateRenderGeometry(r);return e}_validateRenderGeometry(e){return null==e.localOrigin&&(e.localOrigin=this._localOriginFactory.getOrigin(e.boundingSphere)),e}get test(){return{sortedMaterialRenderers:this._sortedMaterialRenderers}}};(0,tslib_es6._)([(0,property/* property */.MZ)()],SortedRenderGeometryRenderer_u.prototype,"drapeSource",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SortedRenderGeometryRenderer_u.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],SortedRenderGeometryRenderer_u.prototype,"rctx",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],SortedRenderGeometryRenderer_u.prototype,"rendererContext",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SortedRenderGeometryRenderer_u.prototype,"_materialRepository",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],SortedRenderGeometryRenderer_u.prototype,"_localOriginFactory",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],SortedRenderGeometryRenderer_u.prototype,"isEmpty",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],SortedRenderGeometryRenderer_u.prototype,"_materialRenderers",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],SortedRenderGeometryRenderer_u.prototype,"_geometries",void 0),SortedRenderGeometryRenderer_u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.webgl-engine.lib.SortedRenderGeometryRenderer")],SortedRenderGeometryRenderer_u);class SortedRenderGeometryRenderer_y{constructor(){this.adds=new Set,this.removes=new Set,this.removed=new Set}get empty(){return 0===this.adds.size&&0===this.removes.size&&0===this.removed.size}has(e){return this.adds.has(e)||this.removes.has(e)||this.removed.has(e)}clear(){this.adds.clear(),this.removes.clear(),this.removed.clear()}}function _(e,r,t,s,i,n,a){const p=new Intersector_i(n,a,r),c=r=>{r.set(IntersectorInterfaces/* IntersectorType */.dz.OVERLAY,p,e.dist,e.normal,e.transformation,t,s)};if((null==i.results.min.drapedLayerOrder||t>=i.results.min.drapedLayerOrder)&&(null==i.results.min.dist||i.results.ground.dist<=i.results.min.dist)&&c(i.results.min),i.options.store!==IntersectorInterfaces/* StoreResults */.oH.MIN&&(null==i.results.max.drapedLayerOrder||t<i.results.max.drapedLayerOrder)&&(null==i.results.max.dist||i.results.ground.dist>i.results.max.dist)&&c(i.results.max),i.options.store===IntersectorInterfaces/* StoreResults */.oH.ALL){const e=(0,Intersector/* newIntersectorResult */.G7)(i.ray);c(e),i.results.all.push(e)}}const SortedRenderGeometryRenderer_f=(0,vec2f64.a)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js
var ReloadableShaderModule = __webpack_require__(47705);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js
var ShaderTechnique = __webpack_require__(33444);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js
var Program = __webpack_require__(58123);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/renderState.js
var renderState = __webpack_require__(2449);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class TextureTechnique_m extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,TextureTechnique_m.shader.get().build(),DefaultVertexAttributeLocations/* Default3D */.D)}initializePipeline(){return this.configuration.hasAlpha?(0,renderState/* makePipelineState */.Ey)({blending:(0,renderState/* separateBlendingParams */.p3)(enums/* BlendFactor */.dn.SRC_ALPHA,enums/* BlendFactor */.dn.ONE,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA),colorWrite:renderState/* defaultColorWriteParams */.wE}):(0,renderState/* makePipelineState */.Ey)({colorWrite:renderState/* defaultColorWriteParams */.wE})}}TextureTechnique_m.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(TextureOnly_glsl.a,(()=>__webpack_require__.e(/* import() */ 6792).then(__webpack_require__.bind(__webpack_require__, 76792))));

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TextureTechniqueConfiguration.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class TextureTechniqueConfiguration_r extends ShaderTechniqueConfiguration/* ShaderTechniqueConfiguration */.K{constructor(){super(...arguments),this.hasAlpha=!1}}(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],TextureTechniqueConfiguration_r.prototype,"hasAlpha",void 0);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js
var UpdatePolicy = __webpack_require__(91080);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js
var Lightsources = __webpack_require__(75268);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/OverlayCompositing.glsl.js
var OverlayCompositing_glsl = __webpack_require__(36004);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/OverlayCompositingTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class OverlayCompositingTechnique_n extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,OverlayCompositingTechnique_n.shader.get().build(),DefaultVertexAttributeLocations/* Default3D */.D)}initializePipeline(){return (0,renderState/* makePipelineState */.Ey)({blending:(0,renderState/* simpleBlendingParams */.ox)(enums/* BlendFactor */.dn.ONE,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA),colorWrite:renderState/* defaultColorWriteParams */.wE})}}OverlayCompositingTechnique_n.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(OverlayCompositing_glsl.a,(()=>__webpack_require__.e(/* import() */ 6008).then(__webpack_require__.bind(__webpack_require__, 26008))));

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/Scheduler.js + 1 modules
var Scheduler = __webpack_require__(93399);
;// ../node_modules/@arcgis/core/views/3d/terrain/OverlayRenderer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let ee=class extends RenderPlugin/* SyncRenderPlugin */.RW{get _bindParameters(){return this._renderContext.bindParameters}get _rctx(){return this.view._stage.renderView.renderingContext}get rctx(){return this._rctx}get materialRepository(){return this._materialRepository}get screenToWorldRatio(){return this._screenToWorldRatio}get localOriginFactory(){return this._localOriginFactory}constructor(e){super(e),this._overlays=null,this._renderTargets=null,this._overlayParameters=new OverlayCompositing_glsl.O,this.hasHighlights=!1,this._rendersOccluded=!1,this._hasWater=!1,this._renderers=new Map,this._sortedDrapeSourceRenderersDirty=!1,this._sortedRenderers=new PooledArray/* default */.A,this._passParameters=new TextureOnly_glsl.T,this._materialRepository=null,this._screenToWorldRatio=1,this._localOriginFactory=null,this.unloadedMemory=0,this.ignoresMemoryFactor=!1,this._camera=new Camera/* Camera */.i,this.worldToPCSRatio=1,this.events=new Evented/* default */.A,this.longitudeCyclical=null,this.produces=new Map([[RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL,e=>e!==ShaderOutput/* ShaderOutput */.V.Highlight||this.hasHighlights],[RenderSlot/* RenderSlot */.N.DRAPED_WATER,()=>!0]]),this._hasTargetWithoutRasterImage=!1,this._hasDrapedFeatureSource=!1,this._hasDrapedRasterSource=!1}initialize(){const e=this.view._stage.renderer.fboCache,r=this.view._stage.renderView,{waterTextureRepository:t,stippleTextureRepository:s,markerTextureRepository:i}=r;this._shaderTechniqueRepository=new ShaderTechniqueRepository_r({rctx:this._rctx,viewingMode:ViewingMode/* ViewingMode */.RT.Local,stippleTextureRepository:s,markerTextureRepository:i,waterTextureRepository:t}),this._renderContext=new RenderContext_i(this._rctx,new q(e,this.view.state.viewingMode),null),this.addHandles([(0,reactiveUtils/* watch */.wB)((()=>t.updating),(()=>this.events.emit("content-changed")),reactiveUtils/* syncAndInitial */.pc),(0,reactiveUtils/* watch */.wB)((()=>this.spatialReference),(e=>this._localOriginFactory=new GridLocalOriginFactory/* GridLocalOriginFactory */.g(e)),reactiveUtils/* syncAndInitial */.pc),(0,reactiveUtils.on)((()=>this.view.allLayerViews),"after-changes",(()=>this._sortedDrapeSourceRenderersDirty=!0))]),this._materialRepository=new GLMaterialRepository_s(r.textureRepository,this._shaderTechniqueRepository,(e=>{(e.parameters.renderOccluded&ie)>0!==this._rendersOccluded&&this._updateRendersOccluded(),this.events.emit("content-changed"),this.notifyChange("updating"),this.notifyChange("isEmpty")}),(()=>this.events.emit("content-changed"))),this._bindParameters.slot=RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL,this._bindParameters.mainDepth=glUtil3D_w(this._rctx),this._camera.near=1,this._camera.far=1e4,this._camera.relativeElevation=null,this._bindParameters.camera=this._camera,this._bindParameters.transparencyPassType=TransparencyPassType/* TransparencyPassType */.y.NONE,this._bindParameters.newLighting.noonFactor=0,this._bindParameters.newLighting.globalFactor=0,this._bindParameters.newLighting.set([new Lightsources/* AmbientLight */.$p((0,vec3f64.f)(1,1,1))]),this.addHandles(this.view.resourceController.scheduler.registerTask(Scheduler/* TaskPriority */.W6.STAGE,this))}destroy(){this._renderers.forEach((e=>e.destroy())),this._renderers.clear(),this._debugTextureTechnique=(0,maybe/* releaseMaybe */.Gz)(this._debugTextureTechnique),this._passParameters.texture=(0,maybe/* disposeMaybe */.WD)(this._passParameters.texture),this._bindParameters.mainDepth=(0,maybe/* disposeMaybe */.WD)(this._bindParameters.mainDepth),this._shaderTechniqueRepository=(0,maybe/* destroyMaybe */.pR)(this._shaderTechniqueRepository),this.disposeOverlays()}initializeRenderContext(e){this.pluginContext=e}uninitializeRenderContext(){}renderNode(){}get updating(){return this._sortedDrapeSourceRenderersDirty||(0,MapUtils/* someMap */.Bs)(this._renderers,(e=>e.updating))}get hasOverlays(){return null!=this._overlays&&null!=this._renderTargets}getMemoryForMaterial(e){return Array.from(this._renderers.values()).reduce(((r,t)=>r+t.getMemoryForMaterial(e)),0)}createGeometryDrapeSourceRenderer(e){return this.createDrapeSourceRenderer(e,SortedRenderGeometryRenderer_u)}createDrapeSourceRenderer(e,r,t){const s=this._renderers.get(e);null!=s&&s.destroy();const i=new r({...t,rendererContext:this,drapeSource:e});return this._renderers.set(e,i),this._sortedDrapeSourceRenderersDirty=!0,"fullOpacity"in e&&this.addHandles((0,reactiveUtils/* watch */.wB)((()=>e.fullOpacity),(()=>this.events.emit("content-changed"))),e),i}removeDrapeSourceRenderer(e){if(null==e)return;const r=this._renderers.get(e);null!=r&&(this._sortedDrapeSourceRenderersDirty=!0,this._renderers.delete(e),this.removeHandles(e),r.destroy())}computeValidity(){return this._renderTargets?.computeValidity()??0}releaseRenderTargets(){this._renderTargets?.dispose()}get overlays(){return this._overlays??[]}ensureDrapeTargets(e){this._hasTargetWithoutRasterImage=!!this._overlays&&(0,SetUtils/* someSet */.bw)(e,(e=>e.drapeTargetType===interfaces/* DrapeTargetType */.sv.WithoutRasterImage))}ensureDrapeSources(e){this._overlays?(this._hasDrapedFeatureSource=(0,SetUtils/* someSet */.bw)(e,(e=>e.drapeSourceType===interfaces/* DrapeSourceType */.Om.Features)),this._hasDrapedRasterSource=(0,SetUtils/* someSet */.bw)(e,(e=>e.drapeSourceType===interfaces/* DrapeSourceType */.Om.RasterImage))):this._hasDrapedFeatureSource=this._hasDrapedRasterSource=!1}get _needsColorWithoutRasterImage(){return this._hasDrapedRasterSource&&this._hasDrapedFeatureSource&&this._hasTargetWithoutRasterImage}ensureOverlays(e,r,t=this._bindParameters.overlayStretch){null==this._overlays&&(this._renderTargets=new OverlayRenderTargets_a(this.view._stage.renderer.fboCache),this._overlays=[new Overlay_r,new Overlay_r]),this.ensureDrapeTargets(e),this.ensureDrapeSources(r),this._bindParameters.overlayStretch=t}disposeOverlays(){this._overlays=null,this._renderTargets=(0,maybe/* disposeMaybe */.WD)(this._renderTargets),this.events.emit("textures-disposed")}getTexture(e){if(null!=e)return e===OverlayContent_o.ColorNoRasterImage&&!this._needsColorWithoutRasterImage&&this._hasDrapedFeatureSource?this._renderTargets?.getTexture(OverlayContent_o.Color):this._renderTargets?.getTexture(e)}get running(){return this.updating}runTask(e){this._processDrapeSources(e,(()=>!0))}_processDrapeSources(e,r){let s=!1;for(const[t,i]of this._renderers){if(e.done)break;(t.destroyed||r(t))&&(i.commitChanges()&&(s=!0,e.madeProgress()))}this._sortedDrapeSourceRenderersDirty&&(this._sortedDrapeSourceRenderersDirty=!1,s=!0,this._updateSortedDrapeSourceRenderers()),s&&(null!=this._overlays&&0===this._renderers.size&&this.disposeOverlays(),this.notifyChange("updating"),this.notifyChange("isEmpty"),this.events.emit("content-changed"),this.hasHighlights=(0,MapUtils/* someMap */.Bs)(this._renderers,(e=>e.hasHighlights)),this._updateRendersOccluded(),this._updateHasWater())}processSyncDrapeSources(){this._processDrapeSources(Scheduler/* noBudget */.Bb,(e=>e.updatePolicy===UpdatePolicy/* UpdatePolicy */.q.SYNC))}get isEmpty(){return!debugFlags/* debugFlags */.b.OVERLAY_DRAW_DEBUG_TEXTURE&&!(0,MapUtils/* someMap */.Bs)(this._renderers,(e=>!e.isEmpty))}get hasWater(){return this._hasWater}get rendersOccluded(){return this._rendersOccluded}get mode(){return this.isEmpty?Overlay_glsl_f.Disabled:this._renderTargets?.getTexture(OverlayContent_o.WaterNormal)?Overlay_glsl_f.EnabledWithWater:this._renderTargets?.getTexture(OverlayContent_o.Color)?Overlay_glsl_f.Enabled:Overlay_glsl_f.Disabled}updateAnimation(e){let r=!1;return this._renderers.forEach((t=>r=t.updateAnimation(e)||r)),r}updateDrapeSourceOrder(){this._sortedDrapeSourceRenderersDirty=!0}drawOverlays(e){if(this._overlays&&this._renderTargets){for(const e of this._overlays)this.longitudeCyclical?e.setupGeometryViewsCyclical(this.longitudeCyclical):e.setupGeometryViewsDirect();for(const r of this._renderTargets.targets)(r.content!==OverlayContent_o.ColorNoRasterImage||this._needsColorWithoutRasterImage)&&(this._drawTarget(terrain_interfaces/* OverlayIndex */.vr.INNER,r,e),this._drawTarget(terrain_interfaces/* OverlayIndex */.vr.OUTER,r,e))}}_drawTarget(e,r,t){const s=this._overlays[e],i=s.canvasGeometries;if(0===i.numViews)return;const{alignPixelEnabled:o,contentPixelRatio:a}=t;this._screenToWorldRatio=a*s.mapUnitsPerPixel/this._bindParameters.overlayStretch;const n=r.output;if(this.isEmpty||n===ShaderOutput/* ShaderOutput */.V.Highlight&&!this.hasHighlights||n===ShaderOutput/* ShaderOutput */.V.Normal&&!this.hasWater||!s.hasSomeSizedView())return;const h=this._rctx;this._camera.pixelRatio=s.pixelRatio*a,this._renderContext.output=n,this._bindParameters.alignPixelEnabled=o,this._bindParameters.screenToWorldRatio=this._screenToWorldRatio,this._bindParameters.screenToPCSRatio=this._screenToWorldRatio*this.worldToPCSRatio,this._bindParameters.slot=n===ShaderOutput/* ShaderOutput */.V.Normal?RenderSlot/* RenderSlot */.N.DRAPED_WATER:RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL;const d=debugFlags/* debugFlags */.b.OVERLAY_DRAW_DEBUG_TEXTURE&&r.content!==OverlayContent_o.Occluded;if(!d&&!this._sortedRenderers.some((({renderer:e})=>e.shouldRender(this._renderContext))))return;const l=s.resolution;this._rctx.setViewport(e===terrain_interfaces/* OverlayIndex */.vr.INNER?0:l,0,l,l);const c=2*s.resolution,u=s.resolution,p=r.fbo;if(p.bind(h,c,u),e===terrain_interfaces/* OverlayIndex */.vr.INNER&&(h.setClearColor(0,0,0,0),h.clearSafe(enums/* ClearBufferBit */.hn.COLOR_BUFFER_BIT)),r.content===OverlayContent_o.Occluded&&(this._renderContext.renderOccludedMask=ie),d)for(let m=0;m<i.numViews;m++)this._setViewParameters(i.extents[m],s),this._ensureDebugPatternResources(s.resolution,te[e]),this._rctx.bindTechnique(this._debugTextureTechnique,this._passParameters,null),this._rctx.screen.draw();this._sortedRenderers.forAll((({drapeSource:t,renderer:o})=>{if(r.content===OverlayContent_o.ColorNoRasterImage&&t.drapeSourceType===interfaces/* DrapeSourceType */.Om.RasterImage)return;const{fullOpacity:a}=t,d=null!=a&&a<1&&n===ShaderOutput/* ShaderOutput */.V.Color?this.bindTemporaryFramebuffer(c,u):null;for(let e=0;e<i.numViews;e++)this._setViewParameters(i.extents[e],s),o.render(this._renderContext);if(d){p.bind(h,c,u),this._overlayParameters.texture=d.colorTexture,this._overlayParameters.opacity=a,this._overlayParameters.overlayIndex=e;const r=this.pluginContext.techniqueRepository.acquire(OverlayCompositingTechnique_n);this._rctx.bindTechnique(r,this._overlayParameters,this._renderContext.bindParameters),this._rctx.screen.draw(),r.release(),d.release()}})),h.bindFramebuffer(null),e===terrain_interfaces/* OverlayIndex */.vr.OUTER&&p.generateMipMap(),this._renderContext.resetRenderOccludedMask()}bindTemporaryFramebuffer(e,r){const t=this.view._stage.renderer.fboCache,s=t.acquire(FBOCache/* ColorFormat */.NV.RGBA,e,r);return t.rctx.bindFramebuffer(s.fbo),t.rctx.clearSafe(enums/* ClearBufferBit */.hn.COLOR_BUFFER_BIT),s}async reloadShaders(){await this._shaderTechniqueRepository.reloadAll()}notifyContentChanged(){this.events.emit("content-changed")}intersect(e,r,t,s){let i=0;for(const o of this._renderers.values())i=o.intersect?.(e,r,t,s,i)??i}_updateSortedDrapeSourceRenderers(){if(this._sortedRenderers.clear(),0===this._renderers.size)return;const e=this.view.map.allLayers;this._renderers.forEach(((r,t)=>{const s=e.indexOf(t.layer),i=s>=0,o=this._renderers.size*(t.renderGroup??(i?interfaces/* DrapedRenderGroup */.O7.MapLayer:interfaces/* DrapedRenderGroup */.O7.ViewLayer))+(i?s:0);this._sortedRenderers.push(new re(t,r,o))})),this._sortedRenderers.sort(((e,r)=>e.index-r.index))}_setViewParameters(e,r){const t=this._camera;t.viewport=[0,0,r.resolution,r.resolution],(0,mat4.x)(t.projectionMatrix,0,e[2]-e[0],0,e[3]-e[1],t.near,t.far),(0,mat4.d)(t.viewMatrix,[-e[0],-e[1],0])}_updateHasWater(){const e=(0,MapUtils/* someMap */.Bs)(this._renderers,(e=>e.hasWater));e!==this._hasWater&&(this._hasWater=e,this.events.emit("has-water",e))}_updateRendersOccluded(){const e=(0,MapUtils/* someMap */.Bs)(this._renderers,(e=>e.rendersOccluded));e!==this._rendersOccluded&&(this._rendersOccluded=e,this.events.emit("renders-occluded",e))}_ensureDebugPatternResources(e,r){if((0,vec3.s)(this._passParameters.color,r[0],r[1],r[2]),this._passParameters.texture)return;const t=new Uint8Array(e*e*4);let s=0;for(let a=0;a<e;a++)for(let r=0;r<e;r++){const i=Math.floor(r/10),o=Math.floor(a/10);i<2||o<2||10*i>e-20||10*o>e-20?(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=255):(t[s++]=255,t[s++]=255,t[s++]=255,t[s++]=1&i&&1&o?1&r^1&a?0:255:1&i^1&o?0:128)}const i=new TextureDescriptor/* TextureDescriptor */.R(e);i.samplingMode=enums/* TextureSamplingMode */.Cj.NEAREST,this._passParameters.texture=new Texture/* Texture */.g(this._rctx,i,t);const o=new TextureTechniqueConfiguration_r;o.hasAlpha=!0,this._debugTextureTechnique=this._shaderTechniqueRepository.acquire(TextureTechnique_m,o)}get test(){return{drapedRenderers:Array.from(this._renderers.values()),getDrapeSourceRenderer:e=>this._renderers.get(e)}}};(0,tslib_es6._)([(0,property/* property */.MZ)()],ee.prototype,"hasHighlights",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ee.prototype,"_sortedDrapeSourceRenderersDirty",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({autoDestroy:!0})],ee.prototype,"_shaderTechniqueRepository",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],ee.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ee.prototype,"worldToPCSRatio",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ee.prototype,"spatialReference",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({type:Boolean,readOnly:!0})],ee.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],ee.prototype,"isEmpty",null),ee=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.terrain.OverlayRenderer")],ee);class re{constructor(e,r,t){this.drapeSource=e,this.renderer=r,this.index=t}}const te=[[1,.5,.5],[.5,.5,1]],se=-2,ie=Material/* RenderOccludedFlag */.m$.OccludeAndTransparent;


/***/ }),

/***/ 36572:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   vr: () => (/* binding */ E)
/* harmony export */ });
/* unused harmony exports LODSnapping, PatchType, TextureUpdate */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E,O,A,H;!function(E){E[E.INNER=0]="INNER",E[E.OUTER=1]="OUTER"}(E||(E={})),function(E){E[E.REGULAR=0]="REGULAR",E[E.HAS_NORTH_POLE=1]="HAS_NORTH_POLE",E[E.HAS_SOUTH_POLE=2]="HAS_SOUTH_POLE",E[E.HAS_BOTH_POLES=3]="HAS_BOTH_POLES"}(O||(O={})),function(E){E[E.OFF=0]="OFF",E[E.ON=1]="ON"}(A||(A={})),function(E){E[E.FADING=0]="FADING",E[E.IMMEDIATE=1]="IMMEDIATE",E[E.UNFADED=2]="UNFADED"}(H||(H={}));


/***/ }),

/***/ 4588:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  NV: () => (/* binding */ R),
  zd: () => (/* binding */ g)
});

// UNUSED EXPORTS: FBOCache

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/MemCachePool.js
var MemCachePool = __webpack_require__(6660);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/PooledArray.js + 1 modules
var PooledArray = __webpack_require__(63678);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/FBOPool.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(i,e){this._last=new s,this._incarnation=0,this._cache=new t(i,e)}destroy(){this._last?.forAll((t=>t.dispose())),this._last=null,this._cache.destroy()}set interactive(t){t&&!this._last?this._last=new s:t||(this._last?.forAll((t=>t.dispose())),this._last=null)}clean(){this._last?.filterInPlace((t=>!(t.incarnation<this._incarnation)||(this._cache.put(t.key,t),!1)))}frame(){++this._incarnation}pop(t){if(this._last){const s=this._last.find((s=>s.key===t));if(s)return this._last.removeUnordered(s),s}return this._cache.pop(t)}put(t){t.incarnation=this._incarnation,this._last?this._last.push(t):this._cache.put(t.key,t)}get usedMemory(){return this._last?.reduce(((t,s)=>t+s.usedMemory),0)??0}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/enums.js
var enums = __webpack_require__(41746);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/FramebufferObject.js
var FramebufferObject = __webpack_require__(84852);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/Renderbuffer.js
var Renderbuffer = __webpack_require__(74416);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js
var RenderbufferDescriptor = __webpack_require__(94669);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/Texture.js + 1 modules
var Texture = __webpack_require__(6940);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/TextureDescriptor.js
var TextureDescriptor = __webpack_require__(45758);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/FBOCache.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class u{constructor(e){this.rctx=e,this._acquired=new Set,this._cache=new t(e.newCache,"FBOCache"),this._depthCache=new t(e.newCache,"DepthAttachmentCache"),this._colorCache=new t(e.newCache,"ColorAttachmentCache")}destroy(){this._cache.destroy(),this._depthCache.destroy(),this._colorCache.destroy()}clean(){this._cache.clean(),this._colorCache.clean(),this._depthCache.clean()}frame(){this._cache.frame(),this._colorCache.frame(),this._depthCache.frame()}get usedMemory(){return Array.from(this._acquired.values()).reduce(((e,t)=>e+("colorTexture"in t?t.colorTexture?.gpuMemoryUsage??0:t.usedMemory)),this._cache.usedMemory+this._colorCache.usedMemory+this._depthCache.usedMemory)}set interactive(e){this._cache.interactive=this._colorCache.interactive=this._depthCache.interactive=e}acquire(e,t,r){const h=D(e,t,r),s=this._cache.pop(h)||new E(h,new n(this.rctx,{...b[e],width:t,height:r}),(e=>(s.releaseDepth(),s.depth=this._acquireDepth(e,s.fbo.width,s.fbo.height),s.fbo.attachDepthStencil(s.depth.attachment),s)),((e,h)=>{const o=this._acquireColor(e,t,r);return s.colors??=new Map,s.colors.set(h,o),s.fbo.attachColorTexture(o.attachment,h),s}));return s.release=()=>{this._acquired.delete(s),s.releaseDepth(),this._cache.put(s),s.release=()=>console.log(`Double FBO release in ${(new Error).stack}`)},this.rctx.unbindTexture(s.fbo.colorTexture),this._trackHandle(s)}acquireDepth(e,t,r){return this._acquireDepth(e,t,r)}_acquireDepth(e,t,r){const h=D(e,t,r),s=this._depthCache.pop(h);if(s)return this._trackHandle(s);const o=e===g.DEPTH_STENCIL_TEXTURE?new m(h,new p(this.rctx,{...G[e],width:t,height:r}),(()=>{this._acquired.delete(o),this._depthCache.put(o)})):new m(h,new _(this.rctx,{...G[e],width:t,height:r}),(()=>{this._acquired.delete(o),this._depthCache.put(o)}));return this._trackHandle(o)}_acquireColor(e,t,r){const h=D(e,t,r),s=this._colorCache.pop(h);if(s)return this._trackHandle(s);const o=new C(h,new p(this.rctx,{...b[e],width:t,height:r}),(()=>{this._acquired.delete(o),this._colorCache.put(o)}));return this._trackHandle(o)}_trackHandle(e){return this._acquired.add(e),e}}class E{constructor(e,t,r,h){this.key=e,this.fbo=t,this.acquireDepth=r,this.acquireColor=h,this.release=()=>{},this.incarnation=0}dispose(){this.fbo.dispose()}releaseDepth(){this.fbo.detachDepthStencilTexture(),this.fbo.detachDepthStencilBuffer(),this.depth=e(this.depth)}detachDepth(){const e=this.depth;return this.depth=void 0,this.fbo.detachDepthStencilTexture(),this.fbo.detachDepthStencilBuffer(),e}attachDepth(e){return this.releaseDepth(),e&&(this.fbo.attachDepthStencil(e.attachment),this.depth=e),this}releaseColor(t){this.fbo.detachColorTexture(t);const r=this.colors?.get(t);this.colors?.delete(t),e(r)}get colorTexture(){return this.fbo?.colorTexture}getColorTexture(e=c.COLOR_ATTACHMENT0){return this.fbo?.getColorTexture(e)}get usedMemory(){return this.fbo.gpuMemoryUsage}}class T{constructor(e,t,r){this.key=e,this.attachment=t,this.release=r,this.incarnation=0}dispose(){this.attachment.dispose()}get usedMemory(){return this.attachment.gpuMemoryUsage}}class m extends (/* unused pure expression or super */ null && (T)){}class C extends T{constructor(e,t,r){super(e,t,r),this.attachment=t,this.release=r}}function D(e,t,r){return`${e}x${t}x${r}`}var R;!function(e){e[e.RED=0]="RED",e[e.RG=1]="RG",e[e.RGBA4=2]="RGBA4",e[e.RGBA=3]="RGBA",e[e.RGBA_MIPMAP=4]="RGBA_MIPMAP",e[e.R16F=5]="R16F",e[e.RGBA16F=6]="RGBA16F"}(R||(R={}));const w=new TextureDescriptor/* TextureDescriptor */.R;w.pixelFormat=enums/* PixelFormat */.Ab.RED,w.internalFormat=enums/* SizedPixelFormat */.H0.R8,w.wrapMode=enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE;const f=new TextureDescriptor/* TextureDescriptor */.R;f.pixelFormat=enums/* PixelFormat */.Ab.RG,f.internalFormat=enums/* SizedPixelFormat */.H0.RG8,f.wrapMode=enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE;const F=new TextureDescriptor/* TextureDescriptor */.R;F.internalFormat=enums/* SizedPixelFormat */.H0.RGBA4,F.dataType=enums/* PixelType */.ld.UNSIGNED_SHORT_4_4_4_4,F.wrapMode=enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE;const A=new TextureDescriptor/* TextureDescriptor */.R;A.wrapMode=enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE;const M=new TextureDescriptor/* TextureDescriptor */.R;M.wrapMode=enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE,M.samplingMode=enums/* TextureSamplingMode */.Cj.LINEAR_MIPMAP_LINEAR,M.hasMipmap=!0,M.maxAnisotropy=8;const P=new TextureDescriptor/* TextureDescriptor */.R;P.pixelFormat=enums/* PixelFormat */.Ab.RED,P.dataType=enums/* PixelType */.ld.HALF_FLOAT,P.internalFormat=enums/* SizedPixelFormat */.H0.R16F,P.samplingMode=enums/* TextureSamplingMode */.Cj.NEAREST;const x=new TextureDescriptor/* TextureDescriptor */.R;x.dataType=enums/* PixelType */.ld.HALF_FLOAT,x.internalFormat=enums/* SizedPixelFormat */.H0.RGBA16F,x.samplingMode=enums/* TextureSamplingMode */.Cj.NEAREST;const b={[R.RED]:w,[R.RG]:f,[R.RGBA4]:F,[R.RGBA]:A,[R.RGBA_MIPMAP]:M,[R.R16F]:P,[R.RGBA16F]:x};var g;!function(e){e[e.DEPTH_STENCIL_TEXTURE=0]="DEPTH_STENCIL_TEXTURE",e[e.DEPTH_STENCIL_BUFFER=1]="DEPTH_STENCIL_BUFFER",e[e.DEPTH24_BUFFER=2]="DEPTH24_BUFFER",e[e.DEPTH16_BUFFER=3]="DEPTH16_BUFFER"}(g||(g={}));const B=new TextureDescriptor/* TextureDescriptor */.R;B.pixelFormat=enums/* PixelFormat */.Ab.DEPTH_STENCIL,B.dataType=enums/* PixelType */.ld.UNSIGNED_INT_24_8,B.samplingMode=enums/* TextureSamplingMode */.Cj.NEAREST,B.wrapMode=enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE;const G={[g.DEPTH_STENCIL_TEXTURE]:B,[g.DEPTH_STENCIL_BUFFER]:new RenderbufferDescriptor/* RenderbufferDescriptor */.q(enums/* RenderbufferFormat */.yQ.DEPTH24_STENCIL8,4),[g.DEPTH24_BUFFER]:new RenderbufferDescriptor/* RenderbufferDescriptor */.q(enums/* RenderbufferFormat */.yQ.DEPTH_COMPONENT24,4),[g.DEPTH16_BUFFER]:new RenderbufferDescriptor/* RenderbufferDescriptor */.q(enums/* RenderbufferFormat */.yQ.DEPTH_COMPONENT16,4)};


/***/ }),

/***/ 40641:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Mu: () => (/* binding */ t),
/* harmony export */   i$: () => (/* binding */ n),
/* harmony export */   oD: () => (/* binding */ d),
/* harmony export */   xJ: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(55274);
/* harmony import */ var _attributes_VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16989);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(54473);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(e){e.varyings.add("linearDepth","float")}function i(e){e.vertex.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Float2PassUniform */ .G("nearFar",((e,r)=>r.camera.nearFar)))}function n(e){e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`float calculateLinearDepth(vec2 nearFar,float z) {
return (-z - nearFar[0]) / (nearFar[1] - nearFar[0]);
}`)}function d(a,d){const{vertex:s}=a;switch(d.output){case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.Color:if(d.receiveShadows)return t(a),void s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void forwardLinearDepth() { linearDepth = gl_Position.w; }`);break;case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.Depth:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.Shadow:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.ShadowHighlight:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.ShadowExcludeHighlight:return a.include(_attributes_VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexPosition */ .em,d),t(a),i(a),n(a),void s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void forwardLinearDepth() {
linearDepth = calculateLinearDepth(nearFar, vPosition_view.z);
}`)}s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void forwardLinearDepth() {}`)}


/***/ }),

/***/ 35911:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67726);
/* harmony import */ var _util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1062);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(54473);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(35449);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(79856);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function d(d,i){const s=d.fragment;s.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .ReadLinearDepth */ .D),d.include(_util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .CameraSpace */ .Ir),s.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .FloatPassUniform */ .m("globalAlpha",(o=>o.globalAlpha)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .Float3PassUniform */ .t("glowColor",(o=>o.glowColor)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .FloatPassUniform */ .m("glowWidth",((o,e)=>o.glowWidth*e.camera.pixelRatio)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .FloatPassUniform */ .m("glowFalloff",(o=>o.glowFalloff)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .Float3PassUniform */ .t("innerColor",(o=>o.innerColor)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .FloatPassUniform */ .m("innerWidth",((o,e)=>o.innerWidth*e.camera.pixelRatio)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Texture2DPassUniform */ .N("depthMap",((o,e)=>e.linearDepth?.colorTexture)),new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Float2PassUniform */ .G("nearFar",((o,e)=>e.camera.nearFar)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Texture2DPassUniform */ .N("frameColor",((o,e)=>e.mainColor))),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`vec4 blendPremultiplied(vec4 source, vec4 dest) {
float oneMinusSourceAlpha = 1.0 - source.a;
return vec4(
source.rgb + dest.rgb * oneMinusSourceAlpha,
source.a + dest.a * oneMinusSourceAlpha
);
}`),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`vec4 premultipliedColor(vec3 rgb, float alpha) {
return vec4(rgb * alpha, alpha);
}`),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`vec4 laserlineProfile(float dist) {
if (dist > glowWidth) {
return vec4(0.0);
}
float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));
float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);
return blendPremultiplied(
premultipliedColor(innerColor, innerAlpha),
premultipliedColor(glowColor, glowAlpha)
);
}`),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {
float depth = linearDepthFromTexture(depthMap, uv, nearFar);
if (-depth == nearFar[0]) {
return false;
}
pos = reconstructPosition(gl_FragCoord.xy, depth);
normal = normalize(cross(dFdx(pos), dFdy(pos)));
float ddepth = fwidth(depth);
depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);
return true;
}`),i.contrastControlEnabled?(s.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .FloatPassUniform */ .m("globalAlphaContrastBoost",(o=>null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1))),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`float rgbToLuminance(vec3 color) {
return dot(vec3(0.2126, 0.7152, 0.0722), color);
}
vec4 laserlineOutput(vec4 color) {
float backgroundLuminance = rgbToLuminance(texture(frameColor, uv).rgb);
float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);
return color * alpha;
}`)):s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`vec4 laserlineOutput(vec4 color) {
return color * globalAlpha;
}`)}


/***/ }),

/***/ 80010:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63592);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(35449);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o,c){if(!c.screenSizeEnabled)return;const n=o.vertex;(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .addCameraPosition */ .yu)(n,c),n.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .FloatPassUniform */ .m("perScreenPixelRatio",((e,i)=>i.camera.perScreenPixelRatio)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .FloatPassUniform */ .m("screenSizeScale",(e=>e.screenSizeScale))),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__/* .glsl */ .H)`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));
return viewDirectionDistance * perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;
}`)}


/***/ }),

/***/ 16961:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o,t=!0){o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.POSITION,"vec2"),t&&o.varyings.add("uv","vec2"),o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`
    void main(void) {
      gl_Position = vec4(position, 0.0, 1.0);
      ${t?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`uv = position * 0.5 + vec2(0.5);`:""}
    }
  `)}


/***/ }),

/***/ 55274:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var o;!function(o){o[o.Color=0]="Color",o[o.Depth=1]="Depth",o[o.Normal=2]="Normal",o[o.Shadow=3]="Shadow",o[o.ShadowHighlight=4]="ShadowHighlight",o[o.ShadowExcludeHighlight=5]="ShadowExcludeHighlight",o[o.Highlight=6]="Highlight",o[o.Alpha=7]="Alpha",o[o.ObjectAndLayerIdColor=8]="ObjectAndLayerIdColor",o[o.CompositeColor=9]="CompositeColor",o[o.COUNT=10]="COUNT"}(o||(o={}));


/***/ }),

/***/ 1110:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   HQ: () => (/* binding */ P)
/* harmony export */ });
/* unused harmony exports SlicePass, SlicePlaneParameters */
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22279);
/* harmony import */ var _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13501);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class u extends _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .NoParameters */ .Y{constructor(e){super(),this.slicePlaneLocalOrigin=e}}function _(e,s){h(e,s,new n("slicePlaneOrigin",((e,i)=>g(s,e,i))),new n("slicePlaneBasis1",((e,i)=>I(s,e,i,i.slicePlane?.basis1))),new n("slicePlaneBasis2",((e,i)=>I(s,e,i,i.slicePlane?.basis2))))}function P(e,s){h(e,s,new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Float3DrawUniform */ .W("slicePlaneOrigin",((e,i)=>g(s,e,i))),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Float3DrawUniform */ .W("slicePlaneBasis1",((e,i)=>I(s,e,i,i.slicePlane?.basis1))),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Float3DrawUniform */ .W("slicePlaneBasis2",((e,i)=>I(s,e,i,i.slicePlane?.basis2))))}function h(e,s,...i){if(!s.hasSlicePlane){const i=(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .glsl */ .H)`#define rejectBySlice(_pos_) false
#define discardBySlice(_pos_) {}
#define highlightSlice(_color_, _pos_) (_color_)`;return s.hasSliceInVertexProgram&&e.vertex.code.add(i),void e.fragment.code.add(i)}s.hasSliceInVertexProgram&&e.vertex.uniforms.add(...i),e.fragment.uniforms.add(...i);const a=(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .glsl */ .H)`struct SliceFactors {
float front;
float side0;
float side1;
float side2;
float side3;
};
SliceFactors calculateSliceFactors(vec3 pos) {
vec3 rel = pos - slicePlaneOrigin;
vec3 slicePlaneNormal = -cross(slicePlaneBasis1, slicePlaneBasis2);
float slicePlaneW = -dot(slicePlaneNormal, slicePlaneOrigin);
float basis1Len2 = dot(slicePlaneBasis1, slicePlaneBasis1);
float basis2Len2 = dot(slicePlaneBasis2, slicePlaneBasis2);
float basis1Dot = dot(slicePlaneBasis1, rel);
float basis2Dot = dot(slicePlaneBasis2, rel);
return SliceFactors(
dot(slicePlaneNormal, pos) + slicePlaneW,
-basis1Dot - basis1Len2,
basis1Dot - basis1Len2,
-basis2Dot - basis2Len2,
basis2Dot - basis2Len2
);
}
bool sliceByFactors(SliceFactors factors) {
return factors.front < 0.0
&& factors.side0 < 0.0
&& factors.side1 < 0.0
&& factors.side2 < 0.0
&& factors.side3 < 0.0;
}
bool sliceEnabled() {
return dot(slicePlaneBasis1, slicePlaneBasis1) != 0.0;
}
bool sliceByPlane(vec3 pos) {
return sliceEnabled() && sliceByFactors(calculateSliceFactors(pos));
}
#define rejectBySlice(_pos_) sliceByPlane(_pos_)
#define discardBySlice(_pos_) { if (sliceByPlane(_pos_)) discard; }`,l=(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .glsl */ .H)`vec4 applySliceHighlight(vec4 color, vec3 pos) {
SliceFactors factors = calculateSliceFactors(pos);
const float HIGHLIGHT_WIDTH = 1.0;
const vec4 HIGHLIGHT_COLOR = vec4(0.0, 0.0, 0.0, 0.3);
factors.front /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.front);
factors.side0 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side0);
factors.side1 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side1);
factors.side2 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side2);
factors.side3 /= (2.0 * HIGHLIGHT_WIDTH) * fwidth(factors.side3);
if (sliceByFactors(factors)) {
return color;
}
float highlightFactor = (1.0 - step(0.5, factors.front))
* (1.0 - step(0.5, factors.side0))
* (1.0 - step(0.5, factors.side1))
* (1.0 - step(0.5, factors.side2))
* (1.0 - step(0.5, factors.side3));
return mix(color, vec4(HIGHLIGHT_COLOR.rgb, color.a), highlightFactor * HIGHLIGHT_COLOR.a);
}`,c=s.hasSliceHighlight?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .glsl */ .H)`
        ${l}
        #define highlightSlice(_color_, _pos_) (sliceEnabled() ? applySliceHighlight(_color_, _pos_) : (_color_))
      `:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .glsl */ .H)`#define highlightSlice(_color_, _pos_) (_color_)`;s.hasSliceInVertexProgram&&e.vertex.code.add(a),e.fragment.code.add(a),e.fragment.code.add(c)}function p(e,s,i){return e.instancedDoublePrecision?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(b,i.camera.viewInverseTransposeMatrix[3],i.camera.viewInverseTransposeMatrix[7],i.camera.viewInverseTransposeMatrix[11]):s.slicePlaneLocalOrigin}function m(e,s){return null!=e?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(v,s.origin,e):s.origin}function H(s,i,a){return s.hasSliceTranslatedView?null!=i?(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.w)(S,a.camera.viewMatrix,i):a.camera.viewMatrix:null}function g(e,s,a){if(null==a.slicePlane)return _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.Z;const l=p(e,s,a),c=m(l,a.slicePlane),r=H(e,l,a);return null!=r?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(v,c,r):c}function I(e,s,c,r){if(null==r||null==c.slicePlane)return _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.Z;const t=p(e,s,c),n=m(t,c.slicePlane),f=H(e,t,c);return null!=f?((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(B,r,n),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(v,n,f),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(B,B,f),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.f)(B,B,v)):r}const b=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),v=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),B=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),S=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();


/***/ }),

/***/ 66012:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40641);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){(0,_ForwardLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .addCalculateLinearDepth */ .i$)(o),o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec4 transformPositionWithDepth(mat4 proj, mat4 view, vec3 pos, vec2 nearFar, out float depth) {
vec4 eye = view * vec4(pos, 1.0);
depth = calculateLinearDepth(nearFar,eye.z);
return proj * eye;
}`),o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec4 transformPosition(mat4 proj, mat4 view, vec3 pos) {
return proj * (view * vec4(pos, 1.0));
}`)}


/***/ }),

/***/ 24682:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BK: () => (/* binding */ N),
/* harmony export */   nW: () => (/* binding */ h)
/* harmony export */ });
/* unused harmony export InstancedDoublePassParameters */
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46615);
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(76287);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(22279);
/* harmony import */ var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(55274);
/* harmony import */ var _util_DoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(10470);
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(63592);
/* harmony import */ var _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(13501);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(6561);
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(20778);
/* harmony import */ var _shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(69948);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(50645);
/* harmony import */ var _webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(76698);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h extends _shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__/* .ShaderTechniqueConfiguration */ .K{constructor(){super(...arguments),this.instancedDoublePrecision=!1,this.hasModelTransformation=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__/* .parameter */ .W)()],h.prototype,"instancedDoublePrecision",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_13__/* .parameter */ .W)()],h.prototype,"hasModelTransformation",void 0);class O extends _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .NoParameters */ .Y{constructor(){super(...arguments),this.modelTransformation=null}}const w=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_2__.a)();function N(e,r){const i=r.hasModelTransformation,c=r.instancedDoublePrecision;i&&(e.vertex.uniforms.add(new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_12__/* .Matrix4PassUniform */ .X("model",(e=>e.modelTransformation??_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.I))),e.vertex.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_11__/* .Matrix3PassUniform */ .k("normalLocalOriginFromModel",(e=>((0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_1__.n)(w,e.modelTransformation??_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.I),w))))),r.instanced&&c&&(e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__/* .VertexAttribute */ .r.INSTANCEMODELORIGINHI,"vec3"),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__/* .VertexAttribute */ .r.INSTANCEMODELORIGINLO,"vec3"),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__/* .VertexAttribute */ .r.INSTANCEMODEL,"mat3"),e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_14__/* .VertexAttribute */ .r.INSTANCEMODELNORMAL,"mat3"));const v=e.vertex;c&&(v.include(_util_DoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_7__/* .DoublePrecision */ .u,r),v.uniforms.add(new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__/* .Float3DrawUniform */ .W("viewOriginHi",((e,o)=>(0,_webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_15__/* .encodeDoubleHi */ .Zo)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(T,o.camera.viewInverseTransposeMatrix[3],o.camera.viewInverseTransposeMatrix[7],o.camera.viewInverseTransposeMatrix[11]),T))),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_9__/* .Float3DrawUniform */ .W("viewOriginLo",((e,o)=>(0,_webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_15__/* .encodeDoubleLo */ .jA)((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(T,o.camera.viewInverseTransposeMatrix[3],o.camera.viewInverseTransposeMatrix[7],o.camera.viewInverseTransposeMatrix[11]),T))))),v.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
    vec3 getVertexInLocalOriginSpace() {
      return ${i?c?"(model * vec4(instanceModel * localPosition().xyz, 1.0)).xyz":"(model * localPosition()).xyz":c?"instanceModel * localPosition().xyz":"localPosition().xyz"};
    }

    vec3 subtractOrigin(vec3 _pos) {
      ${c?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
          // Negated inputs are intentionally the first two arguments. The other way around the obfuscation in dpAdd() stopped
          // working for macOS 14+ and iOS 17+.
          // Issue: https://devtopia.esri.com/WebGIS/arcgis-js-api/issues/56280
          vec3 originDelta = dpAdd(-instanceModelOriginHi, -instanceModelOriginLo, viewOriginHi, viewOriginLo);
          return _pos - originDelta;`:"return vpos;"}
    }
    `),v.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
    vec3 dpNormal(vec4 _normal) {
      return normalize(${i?c?"normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz)":"normalLocalOriginFromModel * _normal.xyz":c?"instanceModelNormal * _normal.xyz":"_normal.xyz"});
    }
    `),r.output===_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_6__/* .ShaderOutput */ .V.Normal&&((0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_8__/* .addViewNormal */ .S7)(v),v.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
    vec3 dpNormalView(vec4 _normal) {
      return normalize((viewNormal * ${i?c?"vec4(normalLocalOriginFromModel * (instanceModelNormal * _normal.xyz), 1.0)":"vec4(normalLocalOriginFromModel * _normal.xyz, 1.0)":c?"vec4(instanceModelNormal * _normal.xyz, 1.0)":"_normal"}).xyz);
    }
    `)),r.hasVertexTangents&&v.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_10__/* .glsl */ .H)`
    vec4 dpTransformVertexTangent(vec4 _tangent) {
      ${i?c?"return vec4(normalLocalOriginFromModel * (instanceModelNormal * _tangent.xyz), _tangent.w);":"return vec4(normalLocalOriginFromModel * _tangent.xyz, _tangent.w);":c?"return vec4(instanceModelNormal * _tangent.xyz, _tangent.w);":"return _tangent;"}
    }`)}const T=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)();


/***/ }),

/***/ 81283:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ a),
/* harmony export */   Y: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(73345);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,s){switch(s.normalType){case a.Compressed:t.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* .VertexAttribute */ .r.NORMALCOMPRESSED,"vec2"),t.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec3 normalModel() {
float z = 1.0 - abs(normalCompressed.x) - abs(normalCompressed.y);
return vec3(normalCompressed + sign(normalCompressed) * min(z, 0.0), z);
}`);break;case a.Attribute:t.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* .VertexAttribute */ .r.NORMAL,"vec3"),t.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec3 normalModel() {
return normal;
}`);break;case a.ScreenDerivative:t.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec3 screenDerivativeNormal(vec3 positionView) {
return normalize(cross(dFdx(positionView), dFdy(positionView)));
}`);break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .neverReached */ .Xb)(s.normalType);case a.COUNT:case a.Ground:}}var a;!function(e){e[e.Attribute=0]="Attribute",e[e.Compressed=1]="Compressed",e[e.Ground=2]="Ground",e[e.ScreenDerivative=3]="ScreenDerivative",e[e.COUNT=4]="COUNT"}(a||(a={}));


/***/ }),

/***/ 33045:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(55274);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function d(d,t){const a=t.output===_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.ObjectAndLayerIdColor,n=t.objectAndLayerIdColorInstanced;a&&(d.varyings.add("objectAndLayerIdColorVarying","vec4"),n?d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* .VertexAttribute */ .r.INSTANCEOBJECTANDLAYERIDCOLOR,"vec4"):d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* .VertexAttribute */ .r.OBJECTANDLAYERIDCOLOR,"vec4")),d.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`
     void forwardObjectAndLayerIdColor() {
      ${a?n?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`objectAndLayerIdColorVarying = instanceObjectAndLayerIdColor * 0.003921568627451;`:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`objectAndLayerIdColorVarying = objectAndLayerIdColor * 0.003921568627451;`:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)``} }`),d.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`
      void outputObjectAndLayerIdColor() {
        ${a?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`fragColor = objectAndLayerIdColorVarying;`:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)``} }`)}


/***/ }),

/***/ 99915:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.POSITION,"vec3"),o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`vec3 positionModel() { return position; }`)}


/***/ }),

/***/ 56289:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   s: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(34328);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35449);
/* harmony import */ var _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(45160);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99152);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=8;function c(c,s){const l=c.vertex;l.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .FloatPassUniform */ .m("intrinsicWidth",(t=>t.width))),s.vvSize?(c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexAttribute */ .r.SIZEFEATUREATTRIBUTE,"float"),l.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float3PassUniform */ .t("vvSizeMinSize",(t=>t.vvSize.minSize)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float3PassUniform */ .t("vvSizeMaxSize",(t=>t.vvSize.maxSize)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float3PassUniform */ .t("vvSizeOffset",(t=>t.vvSize.offset)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float3PassUniform */ .t("vvSizeFactor",(t=>t.vvSize.factor))),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .glsl */ .H)`float getSize() {
return intrinsicWidth * clamp(vvSizeOffset + sizeFeatureAttribute * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize).x;
}`)):(c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexAttribute */ .r.SIZE,"float"),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .glsl */ .H)`float getSize(){
return intrinsicWidth * size;
}`)),s.vvOpacity?(c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexAttribute */ .r.OPACITYFEATUREATTRIBUTE,"float"),l.constants.add("vvOpacityNumber","int",8),l.uniforms.add(new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .FloatsPassUniform */ .x("vvOpacityValues",(t=>t.vvOpacity.values),o),new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .FloatsPassUniform */ .x("vvOpacityOpacities",(t=>t.vvOpacity.opacityValues),o)),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .glsl */ .H)`float interpolateOpacity( float value ){
if (value <= vvOpacityValues[0]) {
return vvOpacityOpacities[0];
}
for (int i = 1; i < vvOpacityNumber; ++i) {
if (vvOpacityValues[i] >= value) {
float f = (value - vvOpacityValues[i-1]) / (vvOpacityValues[i] - vvOpacityValues[i-1]);
return mix(vvOpacityOpacities[i-1], vvOpacityOpacities[i], f);
}
}
return vvOpacityOpacities[vvOpacityNumber - 1];
}
vec4 applyOpacity( vec4 color ){
return vec4(color.xyz, interpolateOpacity(opacityFeatureAttribute));
}`)):l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .glsl */ .H)`vec4 applyOpacity( vec4 color ){
return color;
}`),s.vvColor?(c.include(_shading_VisualVariables_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .VisualVariables */ .A,s),c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexAttribute */ .r.COLORFEATUREATTRIBUTE,"float"),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .glsl */ .H)`vec4 getColor(){
return applyOpacity(interpolateVVColor(colorFeatureAttribute));
}`)):(c.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexAttribute */ .r.COLOR,"vec4"),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .glsl */ .H)`vec4 getColor(){
return applyOpacity(color);
}`))}


/***/ }),

/***/ 26139:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   U: () => (/* binding */ o),
/* harmony export */   q: () => (/* binding */ d)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(73345);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var d;function o(o,v){switch(v.textureCoordinateType){case d.Default:return o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* .VertexAttribute */ .r.UV0,"vec2"),o.varyings.add("vuv0","vec2"),void o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`void forwardTextureCoordinates() {
vuv0 = uv0;
}`);case d.Compressed:return o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* .VertexAttribute */ .r.UV0,"vec2"),o.varyings.add("vuv0","vec2"),void o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec2 getUV0() {
return uv0 / 16384.0;
}
void forwardTextureCoordinates() {
vuv0 = getUV0();
}`);case d.Atlas:return o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* .VertexAttribute */ .r.UV0,"vec2"),o.varyings.add("vuv0","vec2"),o.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_2__/* .VertexAttribute */ .r.UVREGION,"vec4"),o.varyings.add("vuvRegion","vec4"),void o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`void forwardTextureCoordinates() {
vuv0 = uv0;
vuvRegion = uvRegion;
}`);default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .neverReached */ .Xb)(v.textureCoordinateType);case d.None:return void o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`void forwardTextureCoordinates() {}`);case d.COUNT:return}}!function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Atlas=2]="Atlas",e[e.Compressed=3]="Compressed",e[e.COUNT=4]="COUNT"}(d||(d={}));


/***/ }),

/***/ 39739:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e,d){d.hasVertexColors?(e.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.COLOR,"vec4"),e.varyings.add("vColor","vec4"),e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`void forwardVertexColor() { vColor = color; }`),e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`void forwardNormalizedVertexColor() { vColor = color * 0.003921568627451; }`)):e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`void forwardVertexColor() {}
void forwardNormalizedVertexColor() {}`)}


/***/ }),

/***/ 82089:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Mh: () => (/* binding */ c),
/* harmony export */   Zo: () => (/* binding */ f),
/* harmony export */   gy: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(73345);
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76287);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52712);
/* harmony import */ var _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81283);
/* harmony import */ var _VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(16989);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Matrix3DrawUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(8376);
/* harmony import */ var _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(6561);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function c(o,a){switch(a.normalType){case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .NormalType */ .W.Attribute:case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .NormalType */ .W.Compressed:o.include(_NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .NormalAttribute */ .Y,a),o.varyings.add("vNormalWorld","vec3"),o.varyings.add("vNormalView","vec3"),o.vertex.uniforms.add(new _shaderModules_Matrix3DrawUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Matrix3DrawUniform */ .h("transformNormalGlobalFromModel",(r=>r.transformNormalGlobalFromModel)),new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_7__/* .Matrix3PassUniform */ .k("transformNormalViewFromGlobal",(r=>r.transformNormalViewFromGlobal))),o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`void forwardNormal() {
vNormalWorld = transformNormalGlobalFromModel * normalModel();
vNormalView = transformNormalViewFromGlobal * vNormalWorld;
}`);break;case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .NormalType */ .W.Ground:o.include(_VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .VertexPosition */ .em,a),o.varyings.add("vNormalWorld","vec3"),o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
        void forwardNormal() {
          vNormalWorld = ${a.spherical?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`normalize(vPositionWorldCameraRelative);`:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`vec3(0.0, 0.0, 1.0);`}
        }
        `);break;case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .NormalType */ .W.ScreenDerivative:o.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`void forwardNormal() {}`);break;default:(0,_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .neverReached */ .Xb)(a.normalType);case _NormalAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .NormalType */ .W.COUNT:}}class f extends _VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .VertexPositionPassParameters */ .dO{constructor(){super(...arguments),this.transformNormalViewFromGlobal=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)()}}class v extends _VertexPosition_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .VertexPositionDrawParameters */ .EM{constructor(){super(...arguments),this.transformNormalGlobalFromModel=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),this.toMapSpace=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}


/***/ }),

/***/ 16989:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EM: () => (/* binding */ W),
/* harmony export */   dO: () => (/* binding */ F),
/* harmony export */   em: () => (/* binding */ v)
/* harmony export */ });
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(76287);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22279);
/* harmony import */ var _PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99915);
/* harmony import */ var _util_DoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(10470);
/* harmony import */ var _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(13501);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Matrix3DrawUniform_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(8376);
/* harmony import */ var _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(6561);
/* harmony import */ var _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(20778);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(r,o){r.include(_PositionAttribute_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .PositionAttribute */ .I);const e=r.vertex;e.include(_util_DoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .DoublePrecision */ .u,o),r.varyings.add("vPositionWorldCameraRelative","vec3"),r.varyings.add("vPosition_view","vec3"),e.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float3PassUniform */ .t("transformWorldFromViewTH",(r=>r.transformWorldFromViewTH)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float3PassUniform */ .t("transformWorldFromViewTL",(r=>r.transformWorldFromViewTL)),new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_9__/* .Matrix3PassUniform */ .k("transformViewFromCameraRelativeRS",(r=>r.transformViewFromCameraRelativeRS)),new _shaderModules_Matrix4PassUniform_js__WEBPACK_IMPORTED_MODULE_10__/* .Matrix4PassUniform */ .X("transformProjFromView",(r=>r.transformProjFromView)),new _shaderModules_Matrix3DrawUniform_js__WEBPACK_IMPORTED_MODULE_8__/* .Matrix3DrawUniform */ .h("transformWorldFromModelRS",(r=>r.transformWorldFromModelRS)),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Float3DrawUniform */ .W("transformWorldFromModelTH",(r=>r.transformWorldFromModelTH)),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Float3DrawUniform */ .W("transformWorldFromModelTL",(r=>r.transformWorldFromModelTL))),e.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`vec3 positionWorldCameraRelative() {
vec3 rotatedModelPosition = transformWorldFromModelRS * positionModel();
vec3 transform_CameraRelativeFromModel = dpAdd(
transformWorldFromModelTL,
transformWorldFromModelTH,
-transformWorldFromViewTL,
-transformWorldFromViewTH
);
return transform_CameraRelativeFromModel + rotatedModelPosition;
}`),e.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`
    void forwardPosition(float fOffset) {
      vPositionWorldCameraRelative = positionWorldCameraRelative();
      if (fOffset != 0.0) {
        vPositionWorldCameraRelative += fOffset * ${o.spherical?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`normalize(transformWorldFromViewTL + vPositionWorldCameraRelative)`:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`vec3(0.0, 0.0, 1.0)`};
      }

      vPosition_view = transformViewFromCameraRelativeRS * vPositionWorldCameraRelative;
      gl_Position = transformProjFromView * vec4(vPosition_view, 1.0);
    }
  `),r.fragment.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float3PassUniform */ .t("transformWorldFromViewTL",(r=>r.transformWorldFromViewTL))),e.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`vec3 positionWorld() {
return transformWorldFromViewTL + vPositionWorldCameraRelative;
}`),r.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`vec3 positionWorld() {
return transformWorldFromViewTL + vPositionWorldCameraRelative;
}`)}class F extends _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .NoParameters */ .Y{constructor(){super(...arguments),this.transformWorldFromViewTH=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this.transformWorldFromViewTL=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this.transformViewFromCameraRelativeRS=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.a)(),this.transformProjFromView=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)()}}class W extends _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .NoParameters */ .Y{constructor(){super(...arguments),this.transformWorldFromModelRS=(0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_0__.a)(),this.transformWorldFromModelTH=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)(),this.transformWorldFromModelTL=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.c)()}}


/***/ }),

/***/ 81783:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  r: () => (/* binding */ s)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/compilerUtils.js
var compilerUtils = __webpack_require__(73345);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js
var TextureCoordinateAttribute_glsl = __webpack_require__(26139);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js
var interfaces = __webpack_require__(99152);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e){e.fragment.code.add((0,interfaces/* glsl */.H)`vec4 textureAtlasLookup(sampler2D tex, vec2 textureCoordinates, vec4 atlasRegion) {
vec2 atlasScale = atlasRegion.zw - atlasRegion.xy;
vec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;
float maxdUV = 0.125;
vec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;
vec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;
return textureGrad(tex, uvAtlas, dUVdx, dUVdy);
}`)}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VertexTextureCoordinates.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function s(s,a){switch(s.include(TextureCoordinateAttribute_glsl/* TextureCoordinateAttribute */.U,a),a.textureCoordinateType){case TextureCoordinateAttribute_glsl/* TextureCoordinateAttributeType */.q.Default:case TextureCoordinateAttribute_glsl/* TextureCoordinateAttributeType */.q.Compressed:return void s.fragment.code.add((0,interfaces/* glsl */.H)`vec4 textureLookup(sampler2D tex, vec2 uv) {
return texture(tex, uv);
}`);case TextureCoordinateAttribute_glsl/* TextureCoordinateAttributeType */.q.Atlas:return s.include(e),void s.fragment.code.add((0,interfaces/* glsl */.H)`vec4 textureLookup(sampler2D tex, vec2 uv) {
return textureAtlasLookup(tex, uv, vuvRegion);
}`);default:(0,compilerUtils/* neverReached */.Xb)(a.textureCoordinateType);case TextureCoordinateAttribute_glsl/* TextureCoordinateAttributeType */.q.None:case TextureCoordinateAttribute_glsl/* TextureCoordinateAttributeType */.q.COUNT:return}}


/***/ }),

/***/ 54009:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G: () => (/* binding */ a),
/* harmony export */   V: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(25102);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(52712);
/* harmony import */ var _util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6916);
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63592);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1411);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(e,r){const c=e.vertex;r.hasVerticalOffset?(f(c),r.hasScreenSizePerspective&&(e.include(_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .ScreenSizePerspective */ .Y6),(0,_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .addScreenSizePerspectiveAlignment */ .OH)(c),(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_3__/* .addCameraPosition */ .yu)(e.vertex,r)),c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
      vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {
        float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);
        ${r.spherical?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`vec3 worldNormal = normalize(worldPos + localOrigin);`:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}
        ${r.hasScreenSizePerspective?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
            float cosAngle = dot(worldNormal, normalize(worldPos - cameraPosition));
            float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
            float verticalOffsetScreenHeight = verticalOffset.x;`}
        // Screen sized offset in world space, used for example for line callouts
        float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);
        return worldNormal * worldOffset;
      }

      vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {
        return worldPos + calculateVerticalOffset(worldPos, localOrigin);
      }
    `)):c.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }`)}const i=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();function f(r){r.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Float4PassUniform */ .E("verticalOffset",((r,t)=>{const{minWorldLength:l,maxWorldLength:o,screenLength:c}=r.verticalOffset,s=Math.tan(.5*t.camera.fovY)/(.5*t.camera.fullViewport[3]),a=t.camera.pixelRatio||1;return (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_0__.s)(i,c*a,s,l,o)})))}


/***/ }),

/***/ 16917:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72563);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){o.uniforms.add(new _shaderModules_BooleanPassUniform_js__WEBPACK_IMPORTED_MODULE_0__/* .BooleanPassUniform */ .e("alignPixelEnabled",((e,i)=>i.alignPixelEnabled))),o.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec4 alignToPixelCenter(vec4 clipCoord, vec2 widthHeight) {
if (!alignPixelEnabled)
return clipCoord;
vec2 xy = vec2(0.500123) + 0.5 * clipCoord.xy / clipCoord.w;
vec2 pixelSz = vec2(1.0) / widthHeight;
vec2 ij = (floor(xy * widthHeight) + vec2(0.5)) * pixelSz;
vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;
return vec4(result, clipCoord.zw);
}`),o.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec4 alignToPixelOrigin(vec4 clipCoord, vec2 widthHeight) {
if (!alignPixelEnabled)
return clipCoord;
vec2 xy = vec2(0.5) + 0.5 * clipCoord.xy / clipCoord.w;
vec2 pixelSz = vec2(1.0) / widthHeight;
vec2 ij = floor((xy + 0.5 * pixelSz) * widthHeight) * pixelSz;
vec2 result = (ij * 2.0 - vec2(1.0)) * clipCoord.w;
return vec4(result, clipCoord.zw);
}`)}


/***/ }),

/***/ 97085:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* binding */ d),
/* harmony export */   R: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(54009);
/* harmony import */ var _util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6916);
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63592);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1411);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(35449);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(99152);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=.5;function d(d,u){d.include(_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .ScreenSizePerspective */ .Y6),d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* .VertexAttribute */ .r.POSITION,"vec3"),d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* .VertexAttribute */ .r.NORMAL,"vec3"),d.attributes.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_6__/* .VertexAttribute */ .r.AUXPOS1,"vec4");const v=d.vertex;(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .addProjViewLocalOrigin */ .NB)(v,u),(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .addCameraPosition */ .yu)(v,u),v.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .Float4PassUniform */ .E("viewport",((e,t)=>t.camera.fullViewport)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .FloatPassUniform */ .m("polygonOffset",(e=>e.shaderPolygonOffset)),new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .FloatPassUniform */ .m("cameraGroundRelative",((e,t)=>t.camera.aboveGround?1:-1))),u.hasVerticalOffset&&(0,_attributes_VerticalOffset_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .addVerticalOffset */ .V)(v),v.constants.add("smallOffsetAngle","float",.984807753012208),v.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`struct ProjectHUDAux {
vec3 posModel;
vec3 posView;
vec3 vnormal;
float distanceToCamera;
float absCosAngle;
};`),v.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
    float applyHUDViewDependentPolygonOffset(float pointGroundDistance, float absCosAngle, inout vec3 posView) {
      float pointGroundSign = ${u.multipassEnabled?_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H.float(0):(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`sign(pointGroundDistance)`};
      if (pointGroundSign == 0.0) {
        pointGroundSign = cameraGroundRelative;
      }

      // cameraGroundRelative is -1 if camera is below ground, 1 if above ground
      // groundRelative is 1 if both camera and symbol are on the same side of the ground, -1 otherwise
      float groundRelative = cameraGroundRelative * pointGroundSign;

      // view angle dependent part of polygon offset emulation: we take the absolute value because the sign that is
      // dropped is instead introduced using the ground-relative position of the symbol and the camera
      if (polygonOffset > .0) {
        float cosAlpha = clamp(absCosAngle, 0.01, 1.0);
        float tanAlpha = sqrt(1.0 - cosAlpha * cosAlpha) / cosAlpha;
        float factor = (1.0 - tanAlpha / viewport[2]);

        // same side of the terrain
        if (groundRelative > 0.0) {
          posView *= factor;
        }
        // opposite sides of the terrain
        else {
          posView /= factor;
        }
      }

      return groundRelative;
    }
  `),u.draped&&!u.hasVerticalOffset||(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .addViewNormal */ .S7)(v),u.draped||(v.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .FloatPassUniform */ .m("perDistancePixelRatio",((e,t)=>Math.tan(t.camera.fovY/2)/(t.camera.fullViewport[2]/2)))),v.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
    void applyHUDVerticalGroundOffset(vec3 normalModel, inout vec3 posModel, inout vec3 posView) {
      float distanceToCamera = length(posView);

      // Compute offset in world units for a half pixel shift
      float pixelOffset = distanceToCamera * perDistancePixelRatio * ${_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H.float(p)};

      // Apply offset along normal in the direction away from the ground surface
      vec3 modelOffset = normalModel * cameraGroundRelative * pixelOffset;

      // Apply the same offset also on the view space position
      vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;

      posModel += modelOffset;
      posView += viewOffset;
    }
  `)),u.screenCenterOffsetUnitsEnabled&&(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .addPixelRatio */ .Nz)(v),u.hasScreenSizePerspective&&(0,_util_ScreenSizePerspective_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .addScreenSizePerspectiveAlignment */ .OH)(v),v.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
    vec4 projectPositionHUD(out ProjectHUDAux aux) {
      // centerOffset is in view space and is used to implement world size offset of labels with respect to objects.
      // It also pulls the label towards the viewer so that the label is visible in front of the object.
      vec3 centerOffset = auxpos1.xyz;

      // The pointGroundDistance is the distance of the geometry to the ground and is
      // negative if the point is below the ground, or positive if the point is above
      // ground.
      float pointGroundDistance = auxpos1.w;

      aux.posModel = position;
      aux.posView = (view * vec4(aux.posModel, 1.0)).xyz;
      aux.vnormal = normal;
      ${u.draped?"":"applyHUDVerticalGroundOffset(aux.vnormal, aux.posModel, aux.posView);"}

      // Screen sized offset in world space, used for example for line callouts
      // Note: keep this implementation in sync with the CPU implementation, see
      //   - MaterialUtil.verticalOffsetAtDistance
      //   - HUDMaterial.applyVerticalOffsetTransformation

      aux.distanceToCamera = length(aux.posView);

      vec3 viewDirObjSpace = normalize(cameraPosition - aux.posModel);
      float cosAngle = dot(aux.vnormal, viewDirObjSpace);

      aux.absCosAngle = abs(cosAngle);

      ${u.hasScreenSizePerspective&&(u.hasVerticalOffset||u.screenCenterOffsetUnitsEnabled)?"vec3 perspectiveFactor = screenSizePerspectiveScaleFactor(aux.absCosAngle, aux.distanceToCamera, screenSizePerspectiveAlignment);":""}

      ${u.hasVerticalOffset?u.hasScreenSizePerspective?"float verticalOffsetScreenHeight = applyScreenSizePerspectiveScaleFactorFloat(verticalOffset.x, perspectiveFactor);":"float verticalOffsetScreenHeight = verticalOffset.x;":""}

      ${u.hasVerticalOffset?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
            float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * aux.distanceToCamera, verticalOffset.z, verticalOffset.w);
            vec3 modelOffset = aux.vnormal * worldOffset;
            aux.posModel += modelOffset;
            vec3 viewOffset = (viewNormal * vec4(modelOffset, 1.0)).xyz;
            aux.posView += viewOffset;
            // Since we elevate the object, we need to take that into account
            // in the distance to ground
            pointGroundDistance += worldOffset;`:""}

      float groundRelative = applyHUDViewDependentPolygonOffset(pointGroundDistance, aux.absCosAngle, aux.posView);

      ${u.screenCenterOffsetUnitsEnabled?"":(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_5__/* .glsl */ .H)`
            // Apply x/y in view space, but z in screen space (i.e. along posView direction)
            aux.posView += vec3(centerOffset.x, centerOffset.y, 0.0);

            // Same material all have same z != 0.0 condition so should not lead to
            // branch fragmentation and will save a normalization if it's not needed
            if (centerOffset.z != 0.0) {
              aux.posView -= normalize(aux.posView) * centerOffset.z;
            }
          `}

      vec4 posProj = proj * vec4(aux.posView, 1.0);

      ${u.screenCenterOffsetUnitsEnabled?u.hasScreenSizePerspective?"float centerOffsetY = applyScreenSizePerspectiveScaleFactorFloat(centerOffset.y, perspectiveFactor);":"float centerOffsetY = centerOffset.y;":""}

      ${u.screenCenterOffsetUnitsEnabled?"posProj.xy += vec2(centerOffset.x, centerOffsetY) * pixelRatio * 2.0 / viewport.zw * posProj.w;":""}

      // constant part of polygon offset emulation
      posProj.z -= groundRelative * polygonOffset * posProj.w;
      return posProj;
    }
  `)}


/***/ }),

/***/ 36985:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16917);
/* harmony import */ var _shading_MultipassGeometryTest_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46823);
/* harmony import */ var _shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80600);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i,s){const{vertex:p,fragment:n}=i;p.include(_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .AlignPixel */ .K),s.multipassEnabled&&(p.include(_shading_MultipassGeometryTest_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .multipassGeometryTest */ .H),i.varyings.add("depth","float")),p.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
  void main(void) {
    vec4 posProjCenter;
    if (dot(position, position) > 0.0) {
      // Render single point to center of the pixel to avoid subpixel filtering to affect the marker color
      ProjectHUDAux projectAux;
      vec4 posProj = projectPositionHUD(projectAux);
      posProjCenter = alignToPixelCenter(posProj, viewport.zw);

      ${s.multipassEnabled?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
        // Don't draw vertices behind geometry
        if(geometryDepthTest(.5 + .5 * posProjCenter.xy / posProjCenter.w, projectAux.posView.z)){
          posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
        }`:""}

      ${s.multipassEnabled?"depth = projectAux.posView.z;":""}
      vec3 vpos = projectAux.posModel;
      if (rejectBySlice(vpos)) {
        // Project out of clip space
        posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
      }

    } else {
      // Project out of clip space
      posProjCenter = vec4(1e038, 1e038, 1e038, 1.0);
    }

    gl_Position = posProjCenter;
    gl_PointSize = 1.0;
  }
  `),i.include(_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .multipassTerrainTest */ .Q,s),n.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
  void main() {
    fragColor = vec4(1);
    ${s.multipassEnabled?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
        if(terrainDepthTest(depth)) {
          fragColor.g = 0.5;
        }`:""}
  }
  `)}


/***/ }),

/***/ 15354:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ c)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var c;!function(c){c[c.Occluded=0]="Occluded",c[c.NotOccluded=1]="NotOccluded",c[c.Both=2]="Both",c[c.COUNT=3]="COUNT"}(c||(c={}));


/***/ }),

/***/ 3097:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   y: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(16917);
/* harmony import */ var _HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(15354);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(1411);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(35449);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(79856);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){t.vertex.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .FloatPassUniform */ .m("renderTransparentlyOccludedHUD",((e,o)=>o.hudRenderStyle===_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__/* .HUDRenderStyle */ .D.Occluded?1:o.hudRenderStyle===_HUDRenderStyle_js__WEBPACK_IMPORTED_MODULE_1__/* .HUDRenderStyle */ .D.NotOccluded?0:.75)),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Float4PassUniform */ .E("viewport",((e,r)=>r.camera.fullViewport)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Texture2DPassUniform */ .N("hudVisibilityTexture",((e,r)=>r.hudVisibility?.colorTexture))),t.vertex.include(_AlignPixel_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .AlignPixel */ .K),t.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_4__/* .glsl */ .H)`bool testHUDVisibility(vec4 posProj) {
vec4 posProjCenter = alignToPixelCenter(posProj, viewport.zw);
vec4 occlusionPixel = texture(hudVisibilityTexture, .5 + .5 * posProjCenter.xy / posProjCenter.w);
if (renderTransparentlyOccludedHUD > 0.5) {
return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g * renderTransparentlyOccludedHUD < 1.0;
}
return occlusionPixel.r * occlusionPixel.g > 0.0 && occlusionPixel.g == 1.0;
}`)}


/***/ }),

/***/ 56178:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(55274);
/* harmony import */ var _util_RgbaFloat16Encoding_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(4969);
/* harmony import */ var _util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70224);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(l,r){switch(r.output){case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.Shadow:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.ShadowHighlight:case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.ShadowExcludeHighlight:l.fragment.include(_util_RgbaFloat16Encoding_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .Rgba4FloatEncoding */ .U),l.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`float _calculateFragDepth(const in float depth) {
const float SLOPE_SCALE = 2.0;
const float BIAS = 20.0 * .000015259;
float m = max(abs(dFdx(depth)), abs(dFdy(depth)));
return depth + SLOPE_SCALE * m + BIAS;
}
void outputDepth(float _linearDepth) {
fragColor = floatToRgba4(_calculateFragDepth(_linearDepth));
}`);break;case _ShaderOutput_js__WEBPACK_IMPORTED_MODULE_0__/* .ShaderOutput */ .V.Depth:l.fragment.include(_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_2__/* .RgbaFloatEncoding */ .W),l.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void outputDepth(float _linearDepth) {
fragColor = float2rgba(_linearDepth);
}`)}}


/***/ }),

/***/ 63269:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Qh: () => (/* binding */ a),
/* harmony export */   U: () => (/* binding */ d),
/* harmony export */   bO: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52712);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(79856);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const d=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(1,1,0,1),r=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(1,0,1,1);function a(e){e.fragment.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Texture2DPassUniform */ .N("depthTexture",((e,o)=>o.mainDepth))),e.fragment.constants.add("occludedHighlightFlag","vec4",d).add("unoccludedHighlightFlag","vec4",r),e.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`void outputHighlight() {
float sceneDepth = float(texelFetch(depthTexture, ivec2(gl_FragCoord.xy), 0).x);
if (gl_FragCoord.z > sceneDepth + 5e-7) {
fragColor = occludedHighlightFlag;
} else {
fragColor = unoccludedHighlightFlag;
}
}`)}


/***/ }),

/***/ 67726:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70224);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(a){a.include(_util_RgbaFloatEncoding_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .RgbaFloatEncoding */ .W),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`float linearDepthFromFloat(float depth, vec2 nearFar) {
return -(depth * (nearFar[1] - nearFar[0]) + nearFar[0]);
}
float linearDepthFromRGBA(vec4 depth, vec2 nearFar) {
return linearDepthFromFloat(rgba2float(depth), nearFar);
}
float linearDepthFromTexture(sampler2D depthTex, vec2 uv, vec2 nearFar) {
ivec2 iuv = ivec2(uv * vec2(textureSize(depthTex, 0)));
return linearDepthFromRGBA(texelFetch(depthTex, iuv, 0), nearFar);
}`)}


/***/ }),

/***/ 52636:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ m)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22279);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25102);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52712);
/* harmony import */ var _PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39486);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(1411);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function m(n,g){const m=n.fragment,o=void 0!==g.lightingSphericalHarmonicsOrder?g.lightingSphericalHarmonicsOrder:2;0===o?(m.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Float3PassUniform */ .t("lightingAmbientSH0",((n,t)=>(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0])))),m.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {
vec3 ambientLight = 0.282095 * lightingAmbientSH0;
return ambientLight * (1.0 - ambientOcclusion);
}`)):1===o?(m.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_R",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.r[0],n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_G",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.g[0],n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_B",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.b[0],n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3])))),m.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {
vec4 sh0 = vec4(
0.282095,
0.488603 * normal.x,
0.488603 * normal.z,
0.488603 * normal.y
);
vec3 ambientLight = vec3(
dot(lightingAmbientSH_R, sh0),
dot(lightingAmbientSH_G, sh0),
dot(lightingAmbientSH_B, sh0)
);
return ambientLight * (1.0 - ambientOcclusion);
}`)):2===o&&(m.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Float3PassUniform */ .t("lightingAmbientSH0",((n,t)=>(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(a,t.lighting.sh.r[0],t.lighting.sh.g[0],t.lighting.sh.b[0]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_R1",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.r[1],n.lighting.sh.r[2],n.lighting.sh.r[3],n.lighting.sh.r[4]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_G1",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.g[1],n.lighting.sh.g[2],n.lighting.sh.g[3],n.lighting.sh.g[4]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_B1",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.b[1],n.lighting.sh.b[2],n.lighting.sh.b[3],n.lighting.sh.b[4]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_R2",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.r[5],n.lighting.sh.r[6],n.lighting.sh.r[7],n.lighting.sh.r[8]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_G2",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.g[5],n.lighting.sh.g[6],n.lighting.sh.g[7],n.lighting.sh.g[8]))),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float4PassUniform */ .E("lightingAmbientSH_B2",((i,n)=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(r,n.lighting.sh.b[5],n.lighting.sh.b[6],n.lighting.sh.b[7],n.lighting.sh.b[8])))),m.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`vec3 calculateAmbientIrradiance(vec3 normal, float ambientOcclusion) {
vec3 ambientLight = 0.282095 * lightingAmbientSH0;
vec4 sh1 = vec4(
0.488603 * normal.x,
0.488603 * normal.z,
0.488603 * normal.y,
1.092548 * normal.x * normal.y
);
vec4 sh2 = vec4(
1.092548 * normal.y * normal.z,
0.315392 * (3.0 * normal.z * normal.z - 1.0),
1.092548 * normal.x * normal.z,
0.546274 * (normal.x * normal.x - normal.y * normal.y)
);
ambientLight += vec3(
dot(lightingAmbientSH_R1, sh1),
dot(lightingAmbientSH_G1, sh1),
dot(lightingAmbientSH_B1, sh1)
);
ambientLight += vec3(
dot(lightingAmbientSH_R2, sh2),
dot(lightingAmbientSH_G2, sh2),
dot(lightingAmbientSH_B2, sh2)
);
return ambientLight * (1.0 - ambientOcclusion);
}`),g.pbrMode!==_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .PBRMode */ .A9.Normal&&g.pbrMode!==_PhysicallyBasedRenderingParameters_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .PBRMode */ .A9.Schematic||m.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__/* .glsl */ .H)`const vec3 skyTransmittance = vec3(0.9, 0.9, 1.0);
vec3 calculateAmbientRadiance(float ambientOcclusion)
{
vec3 ambientLight = 1.2 * (0.282095 * lightingAmbientSH0) - 0.2;
return ambientLight *= (1.0 - ambientOcclusion) * skyTransmittance;
}`))}const a=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)(),r=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();


/***/ }),

/***/ 79870:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   v: () => (/* binding */ n),
/* harmony export */   z: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){o.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`float normals2FoamIntensity(vec3 n, float waveStrength){
float normalizationFactor =  max(0.015, waveStrength);
return max((n.x + n.y)*0.3303545/normalizationFactor + 0.3303545, 0.0);
}`)}function n(o){o.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`vec3 foamIntensity2FoamColor(float foamIntensityExternal, float foamPixelIntensity, vec3 skyZenitColor, float dayMod){
return foamIntensityExternal * (0.075 * skyZenitColor * pow(foamPixelIntensity, 4.) +  50.* pow(foamPixelIntensity, 23.0)) * dayMod;
}`)}


/***/ }),

/***/ 6821:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  q: () => (/* binding */ d),
  h: () => (/* binding */ S)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js
var RgbaFloatEncoding_glsl = __webpack_require__(70224);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js + 1 modules
var View_glsl = __webpack_require__(63592);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js
var Float4PassUniform = __webpack_require__(1411);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js
var FloatPassUniform = __webpack_require__(35449);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js
var interfaces = __webpack_require__(99152);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js
var Texture2DPassUniform = __webpack_require__(79856);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/floatRGBA.js
var floatRGBA = __webpack_require__(51859);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/enums.js
var enums = __webpack_require__(41746);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/Texture.js + 1 modules
var Texture = __webpack_require__(6940);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/TextureDescriptor.js
var TextureDescriptor = __webpack_require__(45758);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/stippleTextureRepository.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(t,u){return new e((e=>{const{encodedData:u,textureSize:c}=a(e),f=new i;return f.internalFormat=r.RGBA,f.width=c,f.height=1,f.wrapMode=o.REPEAT,new n(t,f,u)}),(t=>`${t.pattern.join(",")}-r${t.pixelRatio}`),u)}function a(e){const r=c(e),o=1/e.pixelRatio,n=f(e),i=s(e),u=(Math.floor(.5*(i-1))+.5)*o,a=[];let l=1;for(const t of r){for(let e=0;e<t;e++){const r=l*(Math.min(e,t-1-e)+.5)*o/u*.5+.5;a.push(r)}l=-l}const p=Math.round(r[0]/2),m=[...a.slice(p),...a.slice(0,p)],d=new Uint8Array(4*n);let x=0;for(const c of m)t(c,d,x),x+=4;return{encodedData:d,textureSize:n}}function c(t){return t.pattern.map((e=>Math.round(e*t.pixelRatio)))}function f(t){if(null==t)return 1;const e=c(t);return Math.floor(e.reduce(((t,e)=>t+e)))}function s(t){return c(t).reduce(((t,e)=>Math.max(t,e)))}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4.js
var vec4 = __webpack_require__(25102);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f64.js
var vec4f64 = __webpack_require__(52712);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ensureColor4.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function ensureColor4_o(c){return null==c?vec4f64.Z:4===c.length?c:(0,vec4.s)(ensureColor4_r,c[0],c[1],c[2],1)}const ensureColor4_r=(0,vec4f64.c)();

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/LineStipple.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function d(e,t){e.constants.add("stippleAlphaColorDiscard","float",.001),e.constants.add("stippleAlphaHighlightDiscard","float",.5),t.stippleEnabled?LineStipple_glsl_c(e,t):LineStipple_glsl_f(e)}function LineStipple_glsl_c(p,n){const d=!(n.draped&&n.stipplePreferContinuous),{vertex:c,fragment:f}=p;f.include(RgbaFloatEncoding_glsl/* RgbaFloatEncoding */.W),n.draped||((0,View_glsl/* addCameraPosition */.yu)(c,n),c.uniforms.add(new FloatPassUniform/* FloatPassUniform */.m("worldToScreenPerDistanceRatio",((e,t)=>1/t.camera.perScreenPixelRatio))),c.code.add((0,interfaces/* glsl */.H)`float computeWorldToScreenRatio(vec3 segmentCenter) {
float segmentDistanceToCamera = length(segmentCenter - cameraPosition);
return worldToScreenPerDistanceRatio / segmentDistanceToCamera;
}`)),p.varyings.add("vStippleDistance","float"),p.varyings.add("vStippleDistanceLimits","vec2"),p.varyings.add("vStipplePatternStretch","float"),c.code.add((0,interfaces/* glsl */.H)`
    float discretizeWorldToScreenRatio(float worldToScreenRatio) {
      float step = ${LineStipple_glsl_u};

      float discreteWorldToScreenRatio = log(worldToScreenRatio);
      discreteWorldToScreenRatio = ceil(discreteWorldToScreenRatio / step) * step;
      discreteWorldToScreenRatio = exp(discreteWorldToScreenRatio);
      return discreteWorldToScreenRatio;
    }
  `),c.code.add((0,interfaces/* glsl */.H)`vec2 computeStippleDistanceLimits(float startPseudoScreen, float segmentLengthPseudoScreen, float segmentLengthScreen, float patternLength) {`),c.code.add((0,interfaces/* glsl */.H)`
    if (segmentLengthPseudoScreen >= ${d?"patternLength":"1e4"}) {
  `),(0,View_glsl/* addPixelRatio */.Nz)(c),c.code.add((0,interfaces/* glsl */.H)`float repetitions = segmentLengthScreen / (patternLength * pixelRatio);
float flooredRepetitions = max(1.0, floor(repetitions + 0.5));
float segmentLengthScreenRounded = flooredRepetitions * patternLength;
float stretch = repetitions / flooredRepetitions;
vStipplePatternStretch = max(0.75, stretch);
return vec2(0.0, segmentLengthScreenRounded);
}
return vec2(startPseudoScreen, startPseudoScreen + segmentLengthPseudoScreen);
}`),f.uniforms.add(new Texture2DPassUniform/* Texture2DPassUniform */.N("stipplePatternTexture",(e=>e.stippleTexture)),new FloatPassUniform/* FloatPassUniform */.m("stipplePatternSDFNormalizer",(e=>m(e.stipplePattern))),new FloatPassUniform/* FloatPassUniform */.m("stipplePatternPixelSizeInv",(e=>1/S(e)))),f.code.add((0,interfaces/* glsl */.H)`float getStippleSDF(out bool isClamped) {
float stippleDistanceClamped = clamp(vStippleDistance, vStippleDistanceLimits.x, vStippleDistanceLimits.y);
vec2 aaCorrectedLimits = vStippleDistanceLimits + vec2(1.0, -1.0) / gl_FragCoord.w;
isClamped = vStippleDistance < aaCorrectedLimits.x || vStippleDistance > aaCorrectedLimits.y;
float u = stippleDistanceClamped * gl_FragCoord.w * stipplePatternPixelSizeInv * vLineSizeInv;
u = fract(u);
float encodedSDF = rgba2float(texture(stipplePatternTexture, vec2(u, 0.5)));
float sdf = (encodedSDF * 2.0 - 1.0) * stipplePatternSDFNormalizer;
return (sdf - 0.5) * vStipplePatternStretch + 0.5;
}
float getStippleSDF() {
bool ignored;
return getStippleSDF(ignored);
}
float getStippleAlpha() {
bool isClamped;
float stippleSDF = getStippleSDF(isClamped);
float antiAliasedResult = clamp(stippleSDF * vLineWidth + 0.5, 0.0, 1.0);
return isClamped ? floor(antiAliasedResult + 0.5) : antiAliasedResult;
}`),n.stippleOffColorEnabled?(f.uniforms.add(new Float4PassUniform/* Float4PassUniform */.E("stippleOffColor",(e=>ensureColor4_o(e.stippleOffColor)))),f.code.add((0,interfaces/* glsl */.H)`#define discardByStippleAlpha(stippleAlpha, threshold) {}
#define blendStipple(color, stippleAlpha) mix(color, stippleOffColor, stippleAlpha)`)):f.code.add((0,interfaces/* glsl */.H)`#define discardByStippleAlpha(stippleAlpha, threshold) if (stippleAlpha < threshold) { discard; }
#define blendStipple(color, stippleAlpha) vec4(color.rgb, color.a * stippleAlpha)`)}function LineStipple_glsl_f(e){e.fragment.code.add((0,interfaces/* glsl */.H)`float getStippleAlpha() { return 1.0; }
#define discardByStippleAlpha(_stippleAlpha_, _threshold_) {}
#define blendStipple(color, _stippleAlpha_) color`)}function m(e){return e?(Math.floor(.5*(s(e)-1))+.5)/e.pixelRatio:1}function S(e){const t=e.stipplePattern;return t?f(e.stipplePattern)/t.pixelRatio:1}const LineStipple_glsl_u=interfaces/* glsl */.H.float(.4);


/***/ }),

/***/ 696:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Gc: () => (/* binding */ t),
/* harmony export */   O4: () => (/* binding */ a),
/* harmony export */   qU: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(n){n.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Float3PassUniform */ .t("mainLightDirection",((i,n)=>n.lighting.mainLight.direction)))}function a(n){n.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Float3PassUniform */ .t("mainLightIntensity",((i,n)=>n.lighting.mainLight.intensity)))}function o(i){t(i.fragment),a(i.fragment),i.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .glsl */ .H)`vec3 evaluateMainLighting(vec3 normal_global, float shadowing) {
float dotVal = clamp(dot(normal_global, mainLightDirection), 0.0, 1.0);
return mainLightIntensity * ((1.0 - shadowing) * dotVal);
}`)}


/***/ }),

/***/ 2119:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   r: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50980);
/* harmony import */ var _util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63592);
/* harmony import */ var _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(35449);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/* harmony import */ var _shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(58376);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(n,i){const{vertex:d,constants:s}=n;s.add("markerSizePerLineWidth","float",_support_engineContent_marker_js__WEBPACK_IMPORTED_MODULE_0__/* .markerSizePerLineWidth */ .PV),(0,_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .addPixelRatio */ .Nz)(d),null==d.uniforms.get("markerScale")&&d.constants.add("markerScale","float",1),d.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`float getLineWidth() {
return max(getSize(), 1.0) * pixelRatio;
}
float getScreenMarkerSize() {
return markerSizePerLineWidth * markerScale * getLineWidth();
}`),i.space===_shaders_LineMarkerTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__/* .LineMarkerSpace */ .lM.World&&(d.constants.add("maxSegmentLengthFraction","float",.45),d.uniforms.add(new _shaderModules_FloatPassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .FloatPassUniform */ .m("perRenderPixelRatio",((e,r)=>r.camera.perRenderPixelRatio))),d.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`bool areWorldMarkersHidden(vec4 pos, vec4 other) {
vec3 midPoint = mix(pos.xyz, other.xyz, 0.5);
float distanceToCamera = length(midPoint);
float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;
float worldMarkerSize = getScreenMarkerSize() * screenToWorldRatio;
float segmentLen = length(pos.xyz - other.xyz);
return worldMarkerSize > maxSegmentLengthFraction * segmentLen;
}
float getWorldMarkerSize(vec4 pos) {
float distanceToCamera = length(pos.xyz);
float screenToWorldRatio = perRenderPixelRatio * distanceToCamera * 0.5;
return getScreenMarkerSize() * screenToWorldRatio;
}`))}


/***/ }),

/***/ 46823:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ a),
/* harmony export */   U: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67726);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54473);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(79856);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(a){a.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .ReadLinearDepth */ .D),a.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .Texture2DPassUniform */ .N("geometryDepthTexture",((e,r)=>r.multipassGeometry.linearDepth?.colorTexture)),new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float2PassUniform */ .G("nearFar",((e,r)=>r.camera.nearFar))),a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__/* .glsl */ .H)`bool geometryDepthTest(vec2 pos, float elementDepth) {
float geometryDepth = linearDepthFromTexture(geometryDepthTexture, pos, nearFar);
return (elementDepth < (geometryDepth - 1.0));
}`)}class s{}


/***/ }),

/***/ 80600:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* binding */ o),
/* harmony export */   h: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67726);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54473);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(79856);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o,n){if(!n.multipassEnabled)return;o.fragment.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .ReadLinearDepth */ .D),o.fragment.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_3__/* .Texture2DPassUniform */ .N("terrainDepthTexture",((e,r)=>r.multipassTerrain.linearDepth?.colorTexture))),o.fragment.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float2PassUniform */ .G("nearFar",((e,r)=>r.camera.nearFar)));const s=n.occlusionPass;o.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__/* .glsl */ .H)`
   ${s?"bool":"void"} terrainDepthTest(float fragmentDepth) {
      vec4 data = texelFetch(terrainDepthTexture, ivec2(gl_FragCoord.xy), 0);
      float linearDepth = linearDepthFromRGBA(data, nearFar);
      ${s?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__/* .glsl */ .H)`return fragmentDepth < linearDepth && data != vec4(0.0, 0.0, 0.0, 1.0);`:(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__/* .glsl */ .H)`
          if(fragmentDepth ${n.cullAboveGround?">":"<="} linearDepth){
            discard;
          }`}
    }`)}class n{constructor(){this.cullAboveGround=!1}}


/***/ }),

/***/ 22455:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   n: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(r,c){c.spherical?r.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`vec3 getLocalUp(in vec3 pos, in vec3 origin) {
return normalize(pos + origin);
}`):r.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`vec3 getLocalUp(in vec3 pos, in vec3 origin) {
return vec3(0.0, 0.0, 1.0);
}`),c.spherical?r.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`mat3 getTBNMatrix(in vec3 n) {
vec3 t = normalize(cross(vec3(0.0, 0.0, 1.0), n));
vec3 b = normalize(cross(n, t));
return mat3(t, b, n);
}`):r.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`mat3 getTBNMatrix(in vec3 n) {
vec3 t = vec3(1.0, 0.0, 0.0);
vec3 b = normalize(cross(n, t));
return mat3(t, b, n);
}`)}


/***/ }),

/***/ 17666:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  c: () => (/* binding */ n),
  f: () => (/* binding */ r)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js
var interfaces = __webpack_require__(99152);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){const a=t.fragment.code;a.add((0,interfaces/* glsl */.H)`vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)
{
return ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;
}`),a.add((0,interfaces/* glsl */.H)`float integratedRadiance(float cosTheta2, float roughness)
{
return (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);
}`),a.add((0,interfaces/* glsl */.H)`vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)
{
float cosTheta2 = 1.0 - RdotNG * RdotNG;
float intRadTheta = integratedRadiance(cosTheta2, roughness);
float ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;
float sky = 2.0 - ground;
return (ground * ambientGround + sky * ambientSky) * 0.5;
}`)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js
var PhysicallyBasedRenderingParameters_glsl = __webpack_require__(39486);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js
var PiUtils_glsl = __webpack_require__(66579);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(n,r){const l=n.fragment.code;n.include(PiUtils_glsl/* PiUtils */.p),r.pbrMode!==PhysicallyBasedRenderingParameters_glsl/* PBRMode */.A9.Normal&&r.pbrMode!==PhysicallyBasedRenderingParameters_glsl/* PBRMode */.A9.Schematic&&r.pbrMode!==PhysicallyBasedRenderingParameters_glsl/* PBRMode */.A9.Terrain&&r.pbrMode!==PhysicallyBasedRenderingParameters_glsl/* PBRMode */.A9.TerrainWithWater||(l.add((0,interfaces/* glsl */.H)`float normalDistribution(float NdotH, float roughness)
{
float a = NdotH * roughness;
float b = roughness / (1.0 - NdotH * NdotH + a * a);
return b * b * INV_PI;
}`),l.add((0,interfaces/* glsl */.H)`const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);
const vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);
const vec2 c2 = vec2(-1.04, 1.04);
vec2 prefilteredDFGAnalytical(float roughness, float NdotV) {
vec4 r = roughness * c0 + c1;
float a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;
return c2 * a004 + r.zw;
}`)),r.pbrMode!==PhysicallyBasedRenderingParameters_glsl/* PBRMode */.A9.Normal&&r.pbrMode!==PhysicallyBasedRenderingParameters_glsl/* PBRMode */.A9.Schematic||(n.include(t),l.add((0,interfaces/* glsl */.H)`struct PBRShadingInfo
{
float NdotL;
float NdotV;
float NdotH;
float VdotH;
float LdotH;
float NdotNG;
float RdotNG;
float NdotAmbDir;
float NdotH_Horizon;
vec3 skyRadianceToSurface;
vec3 groundRadianceToSurface;
vec3 skyIrradianceToSurface;
vec3 groundIrradianceToSurface;
float averageAmbientRadiance;
float ssao;
vec3 albedoLinear;
vec3 f0;
vec3 f90;
vec3 diffuseColor;
float metalness;
float roughness;
};`),l.add((0,interfaces/* glsl */.H)`vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {
vec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);
vec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);
vec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;
vec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);
vec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;
vec3 specularComponent = specularColor * indirectSpecular;
return (diffuseComponent + specularComponent);
}`),l.add((0,interfaces/* glsl */.H)`float gamutMapChanel(float x, vec2 p){
return (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );
}`),l.add((0,interfaces/* glsl */.H)`vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){
vec3 outColor;
vec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));
outColor.x = gamutMapChanel(inColor.x, p) ;
outColor.y = gamutMapChanel(inColor.y, p) ;
outColor.z = gamutMapChanel(inColor.z, p) ;
return outColor;
}`))}function r(e,o){const n=e.fragment.code;e.include(PiUtils_glsl/* PiUtils */.p),n.add((0,interfaces/* glsl */.H)`
  struct PBRShadingWater
  {
      float NdotL;   // cos angle between normal and light direction
      float NdotV;   // cos angle between normal and view direction
      float NdotH;   // cos angle between normal and half vector
      float VdotH;   // cos angle between view direction and half vector
      float LdotH;   // cos angle between light direction and half vector
      float VdotN;   // cos angle between view direction and normal vector
  };

  float dtrExponent = ${o.useCustomDTRExponentForWater?"2.2":"2.0"};
  `),n.add((0,interfaces/* glsl */.H)`vec3 fresnelReflection(float angle, vec3 f0, float f90) {
return f0 + (f90 - f0) * pow(1.0 - angle, 5.0);
}`),n.add((0,interfaces/* glsl */.H)`float normalDistributionWater(float NdotH, float roughness)
{
float r2 = roughness * roughness;
float NdotH2 = NdotH * NdotH;
float denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;
return r2 / denom;
}`),n.add((0,interfaces/* glsl */.H)`float geometricOcclusionKelemen(float LoH)
{
return 0.25 / (LoH * LoH);
}`),n.add((0,interfaces/* glsl */.H)`vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)
{
vec3  F = fresnelReflection(props.VdotH, F0, F0Max);
float dSun = normalDistributionWater(props.NdotH, roughness);
float V = geometricOcclusionKelemen(props.LdotH);
float diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);
float strengthSunHaze  = 1.2;
float dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;
return ((dSun + dSunHaze) * V) * F;
}
vec3 tonemapACES(const vec3 x) {
return (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);
}`)}


/***/ }),

/***/ 39486:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A9: () => (/* binding */ c),
/* harmony export */   _Z: () => (/* binding */ l)
/* harmony export */ });
/* unused harmony export PBRBindParameters */
/* harmony import */ var _attributes_VertexTextureCoordinates_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81783);
/* harmony import */ var _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13501);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52293);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(79856);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(57198);
/* harmony import */ var _lib_GLTextureMaterial_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(89140);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var c;!function(e){e[e.Disabled=0]="Disabled",e[e.Normal=1]="Normal",e[e.Schematic=2]="Schematic",e[e.Water=3]="Water",e[e.WaterOnIntegratedMesh=4]="WaterOnIntegratedMesh",e[e.Terrain=5]="Terrain",e[e.TerrainWithWater=6]="TerrainWithWater",e[e.COUNT=7]="COUNT"}(c||(c={}));class u extends (/* unused pure expression or super */ null && (n)){}function l(n,u){const l=n.fragment,m=u.hasMetallicRoughnessTexture||u.hasEmissionTexture||u.hasOcclusionTexture;if(u.pbrMode===c.Normal&&m&&n.include(_attributes_VertexTextureCoordinates_glsl_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexTextureCoordinates */ .r,u),u.pbrMode!==c.Schematic)if(u.pbrMode!==c.Disabled){if(u.pbrMode===c.Normal){l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`vec3 mrr;
vec3 emission;
float occlusion;`);const e=u.pbrTextureBindType;u.hasMetallicRoughnessTexture&&(l.uniforms.add(e===_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__/* .BindType */ .c.Pass?new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Texture2DPassUniform */ .N("texMetallicRoughness",(e=>e.textureMetallicRoughness)):new _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Texture2DDrawUniform */ .o("texMetallicRoughness",(e=>e.textureMetallicRoughness))),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void applyMetallnessAndRoughness(vec2 uv) {
vec3 metallicRoughness = textureLookup(texMetallicRoughness, uv).rgb;
mrr[0] *= metallicRoughness.b;
mrr[1] *= metallicRoughness.g;
}`)),u.hasEmissionTexture&&(l.uniforms.add(e===_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__/* .BindType */ .c.Pass?new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Texture2DPassUniform */ .N("texEmission",(e=>e.textureEmissive)):new _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Texture2DDrawUniform */ .o("texEmission",(e=>e.textureEmissive))),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void applyEmission(vec2 uv) {
emission *= textureLookup(texEmission, uv).rgb;
}`)),u.hasOcclusionTexture?(l.uniforms.add(e===_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__/* .BindType */ .c.Pass?new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Texture2DPassUniform */ .N("texOcclusion",(e=>e.textureOcclusion)):new _shaderModules_Texture2DDrawUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Texture2DDrawUniform */ .o("texOcclusion",(e=>e.textureOcclusion))),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`void applyOcclusion(vec2 uv) {
occlusion *= textureLookup(texOcclusion, uv).r;
}
float getBakedOcclusion() {
return occlusion;
}`)):l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`float getBakedOcclusion() { return 1.0; }`),e===_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_6__/* .BindType */ .c.Pass?l.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Float3PassUniform */ .t("emissionFactor",(e=>e.emissiveFactor)),new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Float3PassUniform */ .t("mrrFactors",(e=>e.mrrFactors))):l.uniforms.add(new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float3DrawUniform */ .W("emissionFactor",(e=>e.emissiveFactor)),new _shaderModules_Float3DrawUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float3DrawUniform */ .W("mrrFactors",(e=>e.mrrFactors))),l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
    void applyPBRFactors() {
      mrr = mrrFactors;
      emission = emissionFactor;
      occlusion = 1.0;

      ${u.hasMetallicRoughnessTexture?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`applyMetallnessAndRoughness(${u.hasMetallicRoughnessTextureTransform?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`metallicRoughnessUV`:"vuv0"});`:""}

      ${u.hasEmissionTexture?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`applyEmission(${u.hasEmissiveTextureTransform?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`emissiveUV`:"vuv0"});`:""}

      ${u.hasOcclusionTexture?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`applyOcclusion(${u.hasOcclusionTextureTransform?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`occlusionUV`:"vuv0"});`:""}
    }
  `)}}else l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`float getBakedOcclusion() { return 1.0; }`);else l.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`vec3 mrr = vec3(0.0, 0.6, 0.2);
vec3 emission = vec3(0.0);
float occlusion = 1.0;
void applyPBRFactors() {}
float getBakedOcclusion() { return 1.0; }`)}


/***/ }),

/***/ 66579:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t){t.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`const float PI = 3.141592653589793;`),t.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`const float PI = 3.141592653589793;
const float LIGHT_NORMALIZATION = 1.0 / PI;
const float INV_PI = 0.3183098861837907;
const float HALF_PI = 1.570796326794897;`)}


/***/ }),

/***/ 64062:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Bz: () => (/* binding */ m),
  G: () => (/* binding */ x)
});

// UNUSED EXPORTS: ReadShadowMapDrawParameters, ReadShadowMapParameters, ReadShadowMapPassParameters

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4f64.js
var mat4f64 = __webpack_require__(56192);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloat16Encoding.glsl.js
var RgbaFloat16Encoding_glsl = __webpack_require__(4969);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js
var Float4PassUniform = __webpack_require__(1411);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js
var IntegerPassUniform = __webpack_require__(3445);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js
var interfaces = __webpack_require__(99152);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js
var Uniform = __webpack_require__(99198);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js
var BindType = __webpack_require__(57198);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sDrawUniform.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends Uniform/* Uniform */.n{constructor(r,o,s){super(r,"mat4",BindType/* BindType */.c.Draw,((e,s,t,i)=>e.setUniformMatrix4fv(r,o(s,t,i))),s)}}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Matrix4sPassUniform_e extends Uniform/* Uniform */.n{constructor(r,e,o){super(r,"mat4",BindType/* BindType */.c.Pass,((s,o,t)=>s.setUniformMatrix4fv(r,e(o,t))),o)}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js
var Texture2DPassUniform = __webpack_require__(79856);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n extends interfaces/* NoParameters */.Y{constructor(){super(...arguments),this.origin=(0,vec3f64.c)()}}class v extends (/* unused pure expression or super */ null && (n)){}class l extends interfaces/* NoParameters */.Y{constructor(){super(...arguments),this.modelTransformation=mat4f64.I}}class h extends l{constructor(){super(...arguments),this.origin=(0,vec3f64.c)()}}function x(e,s){s.receiveShadows&&(e.fragment.uniforms.add(new Matrix4sPassUniform_e("shadowMapMatrix",((e,s)=>s.shadowMap.getShadowMapMatrices(e.origin)),4)),u(e))}function m(e,s){s.receiveShadows&&(e.fragment.uniforms.add(new o("shadowMapMatrix",((e,s)=>s.shadowMap.getShadowMapMatrices(e.origin)),4)),u(e))}function u(e){const s=e.fragment;s.include(RgbaFloat16Encoding_glsl/* Rgba4FloatEncoding */.U),s.uniforms.add(new Texture2DPassUniform/* Texture2DPassUniform */.N("shadowMapTex",((e,s)=>s.shadowMap.depthTexture)),new IntegerPassUniform/* IntegerPassUniform */.c("numCascades",((e,s)=>s.shadowMap.numCascades)),new Float4PassUniform/* Float4PassUniform */.E("cascadeDistances",((e,s)=>s.shadowMap.cascadeDistances))),s.code.add((0,interfaces/* glsl */.H)`int chooseCascade(float depth, out mat4 mat) {
vec4 distance = cascadeDistances;
int i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;
mat = i == 0 ? shadowMapMatrix[0] : i == 1 ? shadowMapMatrix[1] : i == 2 ? shadowMapMatrix[2] : shadowMapMatrix[3];
return i;
}
vec3 lightSpacePosition(vec3 _vpos, mat4 mat) {
vec4 lv = mat * vec4(_vpos, 1.0);
lv.xy /= lv.w;
return 0.5 * lv.xyz + vec3(0.5);
}
vec2 cascadeCoordinates(int i, ivec2 textureSize, vec3 lvpos) {
float xScale = float(textureSize.y) / float(textureSize.x);
return vec2((float(i) + lvpos.x) * xScale, lvpos.y);
}
float readShadowMapDepth(ivec2 uv, sampler2D _depthTex) {
return rgba4ToFloat(texelFetch(_depthTex, uv, 0));
}
float posIsInShadow(ivec2 uv, vec3 lvpos, sampler2D _depthTex) {
return readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;
}
float filterShadow(vec2 uv, vec3 lvpos, ivec2 texSize, sampler2D _depthTex) {
vec2 st = fract(uv * vec2(texSize) + vec2(0.5));
ivec2 base = ivec2(uv * vec2(texSize) - vec2(0.5));
float s00 = posIsInShadow(ivec2(base.x, base.y), lvpos, _depthTex);
float s10 = posIsInShadow(ivec2(base.x + 1, base.y), lvpos, _depthTex);
float s11 = posIsInShadow(ivec2(base.x + 1, base.y + 1), lvpos, _depthTex);
float s01 = posIsInShadow(ivec2(base.x, base.y + 1), lvpos, _depthTex);
return mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);
}
float readShadowMap(const in vec3 _vpos, float _linearDepth) {
mat4 mat;
int i = chooseCascade(_linearDepth, mat);
if (i >= numCascades) { return 0.0; }
vec3 lvpos = lightSpacePosition(_vpos, mat);
if (lvpos.z >= 1.0) { return 0.0; }
if (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }
ivec2 size = textureSize(shadowMapTex, 0);
vec2 uv = cascadeCoordinates(i, size, lvpos);
return filterShadow(uv, lvpos, size, shadowMapTex);
}`)}


/***/ }),

/***/ 34328:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_Float4sPassUniform_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(54706);
/* harmony import */ var _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(45160);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6561);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(50645);
/* harmony import */ var _materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(17745);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function l(l,n){const{vertex:s,attributes:u}=l;n.hasVvInstancing&&(n.vvSize||n.vvColor)&&u.add(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_5__/* .VertexAttribute */ .r.INSTANCEFEATUREATTRIBUTE,"vec4"),n.vvSize?(s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Float3PassUniform */ .t("vvSizeMinSize",(e=>e.vvSize.minSize))),s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Float3PassUniform */ .t("vvSizeMaxSize",(e=>e.vvSize.maxSize))),s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Float3PassUniform */ .t("vvSizeOffset",(e=>e.vvSize.offset))),s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Float3PassUniform */ .t("vvSizeFactor",(e=>e.vvSize.factor))),s.uniforms.add(new _shaderModules_Matrix3PassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Matrix3PassUniform */ .k("vvSymbolRotationMatrix",(e=>e.vvSymbolRotationMatrix))),s.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Float3PassUniform */ .t("vvSymbolAnchor",(e=>e.vvSymbolAnchor))),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`vec3 vvScale(vec4 _featureAttribute) {
return clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);
}
vec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {
return vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);
}`),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
      const float eps = 1.192092896e-07;
      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {
        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);
        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);
      }

      ${n.hasVvInstancing?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
      vec4 vvLocalNormal(vec3 _normal) {
        return vvTransformNormal(_normal, instanceFeatureAttribute);
      }

      vec4 localPosition() {
        return vvTransformPosition(position, instanceFeatureAttribute);
      }`:""}
    `)):s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`vec4 localPosition() { return vec4(position, 1.0); }
vec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }`),n.vvColor?(s.constants.add("vvColorNumber","int",_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_6__/* .vvColorNumber */ .p),s.uniforms.add(new _shaderModules_FloatsPassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .FloatsPassUniform */ .x("vvColorValues",(e=>e.vvColor.values),_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_6__/* .vvColorNumber */ .p),new _shaderModules_Float4sPassUniform_js__WEBPACK_IMPORTED_MODULE_1__/* .Float4sPassUniform */ .F("vvColorColors",(e=>e.vvColor.colors),_materials_VisualVariablePassParameters_js__WEBPACK_IMPORTED_MODULE_6__/* .vvColorNumber */ .p)),s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
      vec4 interpolateVVColor(float value) {
        if (value <= vvColorValues[0]) {
          return vvColorColors[0];
        }

        for (int i = 1; i < vvColorNumber; ++i) {
          if (vvColorValues[i] >= value) {
            float f = (value - vvColorValues[i-1]) / (vvColorValues[i] - vvColorValues[i-1]);
            return mix(vvColorColors[i-1], vvColorColors[i], f);
          }
        }
        return vvColorColors[vvColorNumber - 1];
      }

      vec4 vvGetColor(vec4 featureAttribute) {
        return interpolateVVColor(featureAttribute.y);
      }

      ${n.hasVvInstancing?(0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`
            vec4 vvColor() {
              return vvGetColor(instanceFeatureAttribute);
            }`:"vec4 vvColor() { return vec4(1.0); }"}
    `)):s.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`vec4 vvColor() { return vec4(1.0); }`)}


/***/ }),

/***/ 65554:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  E: () => (/* binding */ c)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/FoamRendering.glsl.js
var FoamRendering_glsl = __webpack_require__(79870);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js
var interfaces = __webpack_require__(99152);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e){e.fragment.code.add((0,interfaces/* glsl */.H)`const float GAMMA = 2.2;
const float INV_GAMMA = 0.4545454545;
vec4 delinearizeGamma(vec4 color) {
return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.w);
}
vec3 linearizeGamma(vec3 color) {
return pow(color, vec3(GAMMA));
}`)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js + 1 modules
var PhysicallyBasedRendering_glsl = __webpack_require__(17666);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js
var ReadLinearDepth_glsl = __webpack_require__(67726);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js
var Float2PassUniform = __webpack_require__(54473);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js
var FloatPassUniform = __webpack_require__(35449);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js
var Matrix4PassUniform = __webpack_require__(20778);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js
var Texture2DPassUniform = __webpack_require__(79856);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ScreenSpaceReflections.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function d(d,n){const c=d.fragment;c.include(ReadLinearDepth_glsl/* ReadLinearDepth */.D),c.uniforms.add(new Float2PassUniform/* Float2PassUniform */.G("nearFar",((e,o)=>o.camera.nearFar))),c.uniforms.add(new Texture2DPassUniform/* Texture2DPassUniform */.N("depthMap",((e,o)=>o.linearDepth?.colorTexture))),c.uniforms.add(new Matrix4PassUniform/* Matrix4PassUniform */.X("proj",((e,o)=>o.camera.projectionMatrix))),c.uniforms.add(new FloatPassUniform/* FloatPassUniform */.m("invResolutionHeight",((e,o)=>1/o.camera.height))),c.uniforms.add(new Matrix4PassUniform/* Matrix4PassUniform */.X("reprojectionMatrix",((e,o)=>o.ssr.reprojectionMatrix))),c.code.add((0,interfaces/* glsl */.H)`
  vec2 reprojectionCoordinate(vec3 projectionCoordinate)
  {
    vec4 zw = proj * vec4(0.0, 0.0, -projectionCoordinate.z, 1.0);
    vec4 reprojectedCoord = reprojectionMatrix * vec4(zw.w * (projectionCoordinate.xy * 2.0 - 1.0), zw.z, zw.w);
    reprojectedCoord.xy /= reprojectedCoord.w;
    return reprojectedCoord.xy * 0.5 + 0.5;
  }

  const int maxSteps = ${n.highStepCount?"150":"75"};

  vec4 applyProjectionMat(mat4 projectionMat, vec3 x)
  {
    vec4 projectedCoord =  projectionMat * vec4(x, 1.0);
    projectedCoord.xy /= projectedCoord.w;
    projectedCoord.xy = projectedCoord.xy*0.5 + 0.5;
    return projectedCoord;
  }

  vec3 screenSpaceIntersection(vec3 dir, vec3 startPosition, vec3 viewDir, vec3 normal)
  {
    vec3 viewPos = startPosition;
    vec3 viewPosEnd = startPosition;

    // Project the start position to the screen
    vec4 projectedCoordStart = applyProjectionMat(proj, viewPos);
    vec3  Q0 = viewPos / projectedCoordStart.w; // homogeneous camera space
    float k0 = 1.0/ projectedCoordStart.w;

    // advance the position in the direction of the reflection
    viewPos += dir;

    vec4 projectedCoordVanishingPoint = applyProjectionMat(proj, dir);

    // Project the advanced position to the screen
    vec4 projectedCoordEnd = applyProjectionMat(proj, viewPos);
    vec3  Q1 = viewPos / projectedCoordEnd.w; // homogeneous camera space
    float k1 = 1.0/ projectedCoordEnd.w;

    // calculate the reflection direction in the screen space
    vec2 projectedCoordDir = (projectedCoordEnd.xy - projectedCoordStart.xy);
    vec2 projectedCoordDistVanishingPoint = (projectedCoordVanishingPoint.xy - projectedCoordStart.xy);

    float yMod = min(abs(projectedCoordDistVanishingPoint.y), 1.0);

    float projectedCoordDirLength = length(projectedCoordDir);
    float maxSt = float(maxSteps);

    // normalize the projection direction depending on maximum steps
    // this determines how blocky the reflection looks
    vec2 dP = yMod * (projectedCoordDir)/(maxSt * projectedCoordDirLength);

    // Normalize the homogeneous camera space coordinates
    vec3  dQ = yMod * (Q1 - Q0)/(maxSt * projectedCoordDirLength);
    float dk = yMod * (k1 - k0)/(maxSt * projectedCoordDirLength);

    // initialize the variables for ray marching
    vec2 P = projectedCoordStart.xy;
    vec3 Q = Q0;
    float k = k0;
    float rayStartZ = -startPosition.z; // estimated ray start depth value
    float rayEndZ = -startPosition.z;   // estimated ray end depth value
    float prevEstimateZ = -startPosition.z;
    float rayDiffZ = 0.0;
    float dDepth;
    float depth;
    float rayDiffZOld = 0.0;

    // early outs
    if (dot(normal, dir) < 0.0 || dot(-viewDir, normal) < 0.0)
      return vec3(P, 0.0);

    for(int i = 0; i < maxSteps-1; i++)
    {
      depth = -linearDepthFromTexture(depthMap, P, nearFar); // get linear depth from the depth buffer

      // estimate depth of the marching ray
      rayStartZ = prevEstimateZ;
      dDepth = -rayStartZ - depth;
      rayEndZ = (dQ.z * 0.5 + Q.z)/ ((dk * 0.5 + k));
      rayDiffZ = rayEndZ- rayStartZ;
      prevEstimateZ = rayEndZ;

      if(-rayEndZ > nearFar[1] || -rayEndZ < nearFar[0] || P.y < 0.0  || P.y > 1.0 )
      {
        return vec3(P, 0.);
      }

      // If we detect a hit - return the intersection point, two conditions:
      //  - dDepth > 0.0 - sampled point depth is in front of estimated depth
      //  - if difference between dDepth and rayDiffZOld is not too large
      //  - if difference between dDepth and 0.025/abs(k) is not too large
      //  - if the sampled depth is not behind far plane or in front of near plane

      if((dDepth) < 0.025/abs(k) + abs(rayDiffZ) && dDepth > 0.0 && depth > nearFar[0] && depth < nearFar[1] && abs(P.y - projectedCoordStart.y) > invResolutionHeight)
      {
        return vec3(P, depth);
      }

      // continue with ray marching
      P = clamp(P + dP, vec2(0.0), vec2(0.999));
      Q.z += dQ.z;
      k += dk;
      rayDiffZOld = rayDiffZ;
    }
    return vec3(P, 0.0);
  }
  `)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(92504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/Ellipsoid.js
var Ellipsoid = __webpack_require__(99817);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/environment/CloudsData.js
var CloudsData = __webpack_require__(66386);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/environment/CloudsParameters.js
var CloudsParameters = __webpack_require__(58718);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/environment/weather.js + 5 modules
var weather = __webpack_require__(84323);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js
var MainLighting_glsl = __webpack_require__(696);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/BooleanPassUniform.js
var BooleanPassUniform = __webpack_require__(72563);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js
var Float3PassUniform = __webpack_require__(60840);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js
var Uniform = __webpack_require__(99198);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js
var BindType = __webpack_require__(57198);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/TextureCubePassUniform.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s extends Uniform/* Uniform */.n{constructor(e,s){super(e,"samplerCube",BindType/* BindType */.c.Pass,((r,o,t)=>r.bindTexture(e,s(o,t))))}}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function v(v){const R=v.fragment;R.uniforms.add(new Matrix4PassUniform/* Matrix4PassUniform */.X("rotationMatrixClouds",((o,a)=>a.cloudsFade.parallax.transform)),new Matrix4PassUniform/* Matrix4PassUniform */.X("rotationMatrixCloudsCrossFade",((o,a)=>a.cloudsFade.parallaxNew.transform)),new Float3PassUniform/* Float3PassUniform */.t("anchorPosition",((o,a)=>a.cloudsFade.parallax.anchorPointClouds)),new Float3PassUniform/* Float3PassUniform */.t("anchorPositionCrossFade",((o,a)=>a.cloudsFade.parallaxNew.anchorPointClouds)),new FloatPassUniform/* FloatPassUniform */.m("cloudsHeight",(()=>weather/* cloudsHeight */.k9)),new FloatPassUniform/* FloatPassUniform */.m("radiusCurvatureCorrectionFactor",((o,a)=>a.cloudsFade.parallax.radiusCurvatureCorrectionFactor)),new FloatPassUniform/* FloatPassUniform */.m("totalFadeInOut",((o,a)=>1-a.cloudsFade.opacity)),new FloatPassUniform/* FloatPassUniform */.m("crossFadeAnchorFactor",((a,t)=>(0,mathUtils/* clamp */.qE)(t.cloudsFade.fadeFactor,0,1))),new s("cubeMap",((o,a)=>a.cloudsFade.data?.cubeMap?.colorTexture??null)),new BooleanPassUniform/* BooleanPassUniform */.e("crossFade",((o,a)=>a.cloudsFade.fadeMode===CloudsParameters/* FadeMode */.OQ.CROSS_FADE)),new BooleanPassUniform/* BooleanPassUniform */.e("readChannelsRG",((o,a)=>a.cloudsFade.readChannels===CloudsData/* CloudsTextureChannels */.c.RG)),new BooleanPassUniform/* BooleanPassUniform */.e("fadeTextureChannels",((o,a)=>a.cloudsFade.renderingStage===CloudsData/* CloudsRenderingStages */.c2.FADING))),R.constants.add("planetRadius","float",Ellipsoid/* earth */.$O.radius),R.code.add((0,interfaces/* glsl */.H)`vec3 intersectWithCloudLayer(vec3 dir, vec3 cameraPosition, vec3 spherePos)
{
float radiusClouds = planetRadius + cloudsHeight;
float B = 2.0 * dot(cameraPosition, dir);
float C = dot(cameraPosition, cameraPosition) - radiusClouds * radiusClouds;
float det = B * B - 4.0 * C;
float pointIntDist = max(0.0, 0.5 *(-B + sqrt(det)));
vec3 intersectionPont = cameraPosition + dir * pointIntDist;
intersectionPont =  intersectionPont - spherePos;
return intersectionPont;
}`),R.code.add((0,interfaces/* glsl */.H)`vec3 correctForPlanetCurvature(vec3 dir)
{
dir.z = dir.z*(1.-radiusCurvatureCorrectionFactor) + radiusCurvatureCorrectionFactor;
return dir;
}`),R.code.add((0,interfaces/* glsl */.H)`vec3 rotateDirectionToAnchorPoint(mat4 rotMat, vec3 inVec)
{
return (rotMat * vec4(inVec, 0.0)).xyz;
}`),(0,MainLighting_glsl/* addMainLightDirection */.Gc)(R),(0,MainLighting_glsl/* addMainLightIntensity */.O4)(R),R.code.add((0,interfaces/* glsl */.H)`const float SUNSET_TRANSITION_FACTOR = 0.3;
const vec3 RIM_COLOR = vec3(0.28, 0.175, 0.035);
const float RIM_SCATTERING_FACTOR = 140.0;
const float BACKLIGHT_FACTOR = 0.2;
const float BACKLIGHT_SCATTERING_FACTOR = 10.0;
const float BACKLIGHT_TRANSITION_FACTOR = 0.3;
vec3 calculateCloudColor(vec3 cameraPosition, vec3 worldSpaceRay, vec4 clouds)
{
float upDotLight = dot(normalize(cameraPosition), normalize(mainLightDirection));
float dirDotLight = max(dot(normalize(-worldSpaceRay), normalize(mainLightDirection)), 0.0);
float sunsetTransition = clamp(pow(max(upDotLight, 0.0), SUNSET_TRANSITION_FACTOR), 0.0, 1.0);
vec3 ambientLight = calculateAmbientIrradiance(normalize(cameraPosition),  0.0);
vec3 mainLight = evaluateMainLighting(normalize(cameraPosition),  0.0);
vec3 combinedLight = clamp((mainLightIntensity + ambientLight )/PI, vec3(0.0), vec3(1.0));
vec3 baseCloudColor = pow(combinedLight * pow(clouds.xyz, vec3(GAMMA)), vec3(INV_GAMMA));
float scatteringMod = max(clouds.a < 0.5 ? clouds.a / 0.5 : - clouds.a / 0.5 + 2.0, 0.0);
float rimLightIntensity = 0.5 + 0.5 *pow(max(upDotLight, 0.0), 0.35);
vec3 directSunScattering = RIM_COLOR * rimLightIntensity * (pow(dirDotLight, RIM_SCATTERING_FACTOR)) * scatteringMod;
float additionalLight = BACKLIGHT_FACTOR * pow(dirDotLight, BACKLIGHT_SCATTERING_FACTOR) * (1. - pow(sunsetTransition, BACKLIGHT_TRANSITION_FACTOR)) ;
return vec3(baseCloudColor * (1. + additionalLight) + directSunScattering);
}`),R.code.add((0,interfaces/* glsl */.H)`vec4 getCloudData(vec3 rayDir, bool readOtherChannel)
{
vec4 cloudData = texture(cubeMap, rayDir);
float mu = dot(rayDir, vec3(0, 0, 1));
bool readChannels = readChannelsRG ^^ readOtherChannel;
if (readChannels) {
cloudData = vec4(vec3(cloudData.r), cloudData.g);
} else {
cloudData = vec4(vec3(cloudData.b), cloudData.a);
}
if (length(cloudData) == 0.0) {
return vec4(cloudData.rgb, 1.0);
}
return cloudData;
}`),R.code.add((0,interfaces/* glsl */.H)`vec4 renderCloudsNoFade(vec3 worldRay, vec3 cameraPosition)
{
vec3 intersectionPoint = intersectWithCloudLayer(normalize(worldRay), cameraPosition, anchorPosition);
vec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationMatrixClouds, normalize(intersectionPoint));
vec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
vec4 cloudData = getCloudData(worldRayRotatedCorrected, false);
float totalTransmittance = clamp(cloudData.a * (1.0 - totalFadeInOut) + totalFadeInOut, 0.0 , 1.0);
if (length(cloudData.rgb) == 0.0) {
totalTransmittance = 1.0;
}
return vec4(calculateCloudColor(cameraPosition, normalize(-worldRay), cloudData), totalTransmittance);
}`),R.code.add((0,interfaces/* glsl */.H)`vec4 renderCloudsCrossFade(vec3 worldRay, vec3 cameraPosition)
{
vec3 intersectionPoint = intersectWithCloudLayer(normalize(worldRay), cameraPosition, anchorPosition);
vec3 worldRayRotated = rotateDirectionToAnchorPoint(rotationMatrixClouds, normalize(intersectionPoint));
vec3 worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
vec4 cloudData = getCloudData(worldRayRotatedCorrected, false);
vec4 cloudColor = vec4(calculateCloudColor(cameraPosition, normalize(-worldRay), cloudData), cloudData.a);
intersectionPoint = intersectWithCloudLayer(normalize(worldRay), cameraPosition, anchorPositionCrossFade);
worldRayRotated = rotateDirectionToAnchorPoint(rotationMatrixCloudsCrossFade, normalize(intersectionPoint));
worldRayRotatedCorrected = correctForPlanetCurvature(worldRayRotated);
cloudData = getCloudData(worldRayRotatedCorrected, fadeTextureChannels);
vec4 cloudColorCrossFade = vec4(calculateCloudColor(cameraPosition, normalize(-worldRay), cloudData), cloudData.a);
cloudColor = mix(cloudColor, cloudColorCrossFade, crossFadeAnchorFactor);
float totalTransmittance = clamp(cloudColor.a * (1.0 - totalFadeInOut) + totalFadeInOut, 0.0 , 1.0);
if (length(cloudColor.rgb) == 0.0) {
totalTransmittance = 1.0;
}
return vec4(cloudColor.rgb, totalTransmittance);
}`),R.code.add((0,interfaces/* glsl */.H)`vec4 renderClouds(vec3 worldRay, vec3 cameraPosition)
{
return crossFade ? renderCloudsCrossFade(worldRay, cameraPosition) : renderCloudsNoFade(worldRay, cameraPosition);
}`)}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/Water.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function c(c,s){c.include(PhysicallyBasedRendering_glsl/* PhysicallyBasedRenderingWater */.f,s),c.include(e),c.include(FoamRendering_glsl/* FoamColor */.v),s.hasCloudsReflections&&c.include(v,s),s.hasScreenSpaceReflections&&c.include(d,s);const f=c.fragment;f.constants.add("fresnelSky","vec3",[.02,1,15]).add("fresnelMaterial","vec2",[.02,.1]).add("roughness","float",.015).add("foamIntensityExternal","float",1.7).add("ssrIntensity","float",.65).add("ssrHeightFadeStart","float",3e5).add("ssrHeightFadeEnd","float",5e5).add("waterDiffusion","float",.92).add("waterSeaColorMod","float",.8).add("correctionViewingPowerFactor","float",.4).add("skyZenitColor","vec3",[.52,.68,.9]).add("skyColor","vec3",[.67,.79,.9]).add("cloudFresnelModifier","vec2",[1.2,.01]),f.code.add((0,interfaces/* glsl */.H)`PBRShadingWater shadingInfo;
vec3 getSkyGradientColor(in float cosTheta, in vec3 horizon, in vec3 zenit) {
float exponent = pow((1.0 - cosTheta), fresnelSky[2]);
return mix(zenit, horizon, exponent);
}`),f.uniforms.add(new FloatPassUniform/* FloatPassUniform */.m("lightingSpecularStrength",((e,o)=>o.lighting.mainLight.specularStrength)),new FloatPassUniform/* FloatPassUniform */.m("lightingEnvironmentStrength",((e,o)=>o.lighting.mainLight.environmentStrength))),f.code.add((0,interfaces/* glsl */.H)`vec3 getSeaColor(in vec3 n, in vec3 v, in vec3 l, vec3 color, in vec3 lightIntensity, in vec3 localUp, in float shadow, float foamIntensity, vec3 viewPosition, vec3 position) {
float reflectionHit = 0.0;
float reflectionHitDiffused = 0.0;
vec3 seaWaterColor = linearizeGamma(color);
vec3 h = normalize(l + v);
shadingInfo.NdotL = clamp(dot(n, l), 0.0, 1.0);
shadingInfo.NdotV = clamp(dot(n, v), 0.001, 1.0);
shadingInfo.VdotN = clamp(dot(v, n), 0.001, 1.0);
shadingInfo.NdotH = clamp(dot(n, h), 0.0, 1.0);
shadingInfo.VdotH = clamp(dot(v, h), 0.0, 1.0);
shadingInfo.LdotH = clamp(dot(l, h), 0.0, 1.0);
float upDotV = max(dot(localUp,v), 0.0);
vec3 skyHorizon = linearizeGamma(skyColor);
vec3 skyZenit = linearizeGamma(skyZenitColor);
vec3 skyColor = getSkyGradientColor(upDotV, skyHorizon, skyZenit );
float upDotL = max(dot(localUp,l),0.0);
float daytimeMod = 0.1 + upDotL * 0.9;
skyColor *= daytimeMod;
float shadowModifier = clamp(shadow, 0.8, 1.0);
vec3 fresnelModifier = fresnelReflection(shadingInfo.VdotN, vec3(fresnelSky[0]), fresnelSky[1]);
vec3 reflSky = lightingEnvironmentStrength * fresnelModifier * skyColor * shadowModifier;
vec3 reflSea = seaWaterColor * mix(skyColor, upDotL * lightIntensity * LIGHT_NORMALIZATION, 2.0 / 3.0) * shadowModifier;
vec3 specular = vec3(0.0);
if(upDotV > 0.0 && upDotL > 0.0) {
vec3 specularSun = brdfSpecularWater(shadingInfo, roughness, vec3(fresnelMaterial[0]), fresnelMaterial[1]);
vec3 incidentLight = lightIntensity * LIGHT_NORMALIZATION * shadow;
specular = lightingSpecularStrength * shadingInfo.NdotL * incidentLight * specularSun;
}
vec3 foam = vec3(0.0);
if(upDotV > 0.0) {
foam = foamIntensity2FoamColor(foamIntensityExternal, foamIntensity, skyZenitColor, daytimeMod);
}
float correctionViewingFactor = pow(max(dot(v, localUp), 0.0), correctionViewingPowerFactor);
vec3 normalCorrectedClouds = mix(localUp, n, correctionViewingFactor);
vec3 reflectedWorld = normalize(reflect(-v, normalCorrectedClouds));`),s.hasCloudsReflections&&f.code.add((0,interfaces/* glsl */.H)`vec4 cloudsColor = renderClouds(reflectedWorld, position);
cloudsColor.a = 1.0 - cloudsColor.a;
cloudsColor = pow(cloudsColor, vec4(GAMMA));
cloudsColor *= clamp(fresnelModifier.y * cloudFresnelModifier[0] - cloudFresnelModifier[1], 0.0, 1.0) * clamp((1.0 - totalFadeInOut), 0.0, 1.0);`),s.hasScreenSpaceReflections?(f.uniforms.add(new Matrix4PassUniform/* Matrix4PassUniform */.X("view",((e,o)=>o.camera.viewMatrix)),new Texture2DPassUniform/* Texture2DPassUniform */.N("lastFrameColorTexture",((e,o)=>o.ssr.lastFrameColor?.colorTexture)),new FloatPassUniform/* FloatPassUniform */.m("fadeFactorSSR",((e,o)=>o.ssr.fadeFactor))),f.code.add((0,interfaces/* glsl */.H)`vec3 viewDir = normalize(viewPosition);
vec4 viewNormalVectorCoordinate = view *vec4(n, 0.0);
vec3 viewNormal = normalize(viewNormalVectorCoordinate.xyz);
vec4 viewUp = view * vec4(localUp, 0.0);
vec3 viewNormalCorrectedSSR = mix(viewUp.xyz, viewNormal, correctionViewingFactor);
vec3 reflected = normalize(reflect(viewDir, viewNormalCorrectedSSR));
vec3 hitCoordinate = screenSpaceIntersection(reflected, viewPosition, viewDir, viewUp.xyz);
vec3 reflectedColor = vec3(0.0);
if (hitCoordinate.z > 0.0)
{
vec2 reprojectedCoordinate = reprojectionCoordinate(hitCoordinate);
vec2 dCoords = smoothstep(0.3, 0.6, abs(vec2(0.5, 0.5) - hitCoordinate.xy));
float heightMod = smoothstep(ssrHeightFadeEnd, ssrHeightFadeStart, -viewPosition.z);
reflectionHit = clamp(1.0 - (1.3 * dCoords.y), 0.0, 1.0) * heightMod * fadeFactorSSR;
reflectionHitDiffused = waterDiffusion * reflectionHit;
reflectedColor = linearizeGamma(texture(lastFrameColorTexture, reprojectedCoordinate).xyz) *
reflectionHitDiffused * fresnelModifier.y * ssrIntensity;
}
float seaColorMod =  mix(waterSeaColorMod, waterSeaColorMod * 0.5, reflectionHitDiffused);
vec3 waterRenderedColor = tonemapACES((1.0 - reflectionHitDiffused) * reflSky + reflectedColor +
reflSea * seaColorMod + specular + foam);`)):f.code.add((0,interfaces/* glsl */.H)`vec3 waterRenderedColor = tonemapACES(reflSky + reflSea * waterSeaColorMod + specular + foam);`),s.hasCloudsReflections?s.hasScreenSpaceReflections?f.code.add((0,interfaces/* glsl */.H)`return waterRenderedColor * (1.0 - (1.0 - reflectionHit) * cloudsColor.a) + (1.0 - reflectionHit) * cloudsColor.xyz;
}`):f.code.add((0,interfaces/* glsl */.H)`return waterRenderedColor * (1.0 - cloudsColor.a) + cloudsColor.xyz;
}`):f.code.add((0,interfaces/* glsl */.H)`return waterRenderedColor;
}`)}


/***/ }),

/***/ 41679:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   V: () => (/* binding */ i)
/* harmony export */ });
/* unused harmony export WaterDistortionPassParameters */
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58680);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78286);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25102);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52712);
/* harmony import */ var _FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(79870);
/* harmony import */ var _ReadShadowMap_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(64062);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(54473);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(1411);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(99152);
/* harmony import */ var _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(79856);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(t){t.fragment.uniforms.add(new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__/* .Texture2DPassUniform */ .N("texWaveNormal",(e=>e.waveNormal)),new _shaderModules_Texture2DPassUniform_js__WEBPACK_IMPORTED_MODULE_9__/* .Texture2DPassUniform */ .N("texWavePerturbation",(e=>e.wavePerturbation)),new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_7__/* .Float4PassUniform */ .E("waveParams",(e=>(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(f,e.waveStrength,e.waveTextureRepeat,e.flowStrength,e.flowOffset))),new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_6__/* .Float2PassUniform */ .G("waveDirection",(t=>(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(c,t.waveDirection[0]*t.waveVelocity,t.waveDirection[1]*t.waveVelocity)))),t.include(_FoamRendering_glsl_js__WEBPACK_IMPORTED_MODULE_4__/* .FoamIntensity */ .z),t.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .glsl */ .H)`const vec2  FLOW_JUMP = vec2(6.0/25.0, 5.0/24.0);
vec2 textureDenormalized2D(sampler2D _tex, vec2 _uv) {
return 2.0 * texture(_tex, _uv).rg - 1.0;
}
float sampleNoiseTexture(vec2 _uv) {
return texture(texWavePerturbation, _uv).b;
}
vec3 textureDenormalized3D(sampler2D _tex, vec2 _uv) {
return 2.0 * texture(_tex, _uv).rgb - 1.0;
}
float computeProgress(vec2 uv, float time) {
return fract(time);
}
float computeWeight(vec2 uv, float time) {
float progress = computeProgress(uv, time);
return 1.0 - abs(1.0 - 2.0 * progress);
}
vec3 computeUVPerturbedWeigth(sampler2D texFlow, vec2 uv, float time, float phaseOffset) {
float flowStrength = waveParams[2];
float flowOffset = waveParams[3];
vec2 flowVector = textureDenormalized2D(texFlow, uv) * flowStrength;
float progress = computeProgress(uv, time + phaseOffset);
float weight = computeWeight(uv, time + phaseOffset);
vec2 result = uv;
result -= flowVector * (progress + flowOffset);
result += phaseOffset;
result += (time - progress) * FLOW_JUMP;
return vec3(result, weight);
}
const float TIME_NOISE_TEXTURE_REPEAT = 0.3737;
const float TIME_NOISE_STRENGTH = 7.77;
vec3 getWaveLayer(sampler2D _texNormal, sampler2D _dudv, vec2 _uv, vec2 _waveDir, float time) {
float waveStrength = waveParams[0];
vec2 waveMovement = time * -_waveDir;
float timeNoise = sampleNoiseTexture(_uv * TIME_NOISE_TEXTURE_REPEAT) * TIME_NOISE_STRENGTH;
vec3 uv_A = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.0);
vec3 uv_B = computeUVPerturbedWeigth(_dudv, _uv + waveMovement, time + timeNoise, 0.5);
vec3 normal_A = textureDenormalized3D(_texNormal, uv_A.xy) * uv_A.z;
vec3 normal_B = textureDenormalized3D(_texNormal, uv_B.xy) * uv_B.z;
vec3 mixNormal = normalize(normal_A + normal_B);
mixNormal.xy *= waveStrength;
mixNormal.z = sqrt(1.0 - dot(mixNormal.xy, mixNormal.xy));
return mixNormal;
}
vec4 getSurfaceNormalAndFoam(vec2 _uv, float _time) {
float waveTextureRepeat = waveParams[1];
vec3 normal = getWaveLayer(texWaveNormal, texWavePerturbation, _uv * waveTextureRepeat, waveDirection, _time);
float foam  = normals2FoamIntensity(normal, waveParams[0]);
return vec4(normal, foam);
}`)}class n extends (/* unused pure expression or super */ null && (m)){}const f=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),c=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();


/***/ }),

/***/ 33448:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ o),
/* harmony export */   y: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=.1,t=.001;


/***/ }),

/***/ 1062:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ir: () => (/* binding */ n)
/* harmony export */ });
/* unused harmony exports getProjectionInfo, getZScale */
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58680);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78286);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25102);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52712);
/* harmony import */ var _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(54473);
/* harmony import */ var _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(1411);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(r){r.fragment.uniforms.add(new _shaderModules_Float4PassUniform_js__WEBPACK_IMPORTED_MODULE_5__/* .Float4PassUniform */ .E("projInfo",((r,o)=>f(o)))),r.fragment.uniforms.add(new _shaderModules_Float2PassUniform_js__WEBPACK_IMPORTED_MODULE_4__/* .Float2PassUniform */ .G("zScale",((r,o)=>i(o)))),r.fragment.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .glsl */ .H)`vec3 reconstructPosition(vec2 fragCoord, float depth) {
return vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);
}`)}function f(r){const o=r.camera.projectionMatrix;return 0===o[11]?(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(m,2/(r.camera.fullWidth*o[0]),2/(r.camera.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_2__.s)(m,-2/(r.camera.fullWidth*o[0]),-2/(r.camera.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}const m=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();function i(o){return 0===o.camera.projectionMatrix[11]?(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(d,0,1):(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(d,1,0)}const d=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)();


/***/ }),

/***/ 89002:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(e){e.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`vec4 premultiplyAlpha(vec4 v) {
return vec4(v.rgb * v.a, v.a);
}
vec3 rgb2hsv(vec3 c) {
vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
vec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);
vec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);
float d = q.x - min(q.w, q.y);
float e = 1.0e-10;
return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), min(d / (q.x + e), 1.0), q.x);
}
vec3 hsv2rgb(vec3 c) {
vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}
float rgb2v(vec3 c) {
return max(c.x, max(c.y, c.z));
}`)}


/***/ }),

/***/ 10470:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   u: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function c({code:c},i){i.doublePrecisionRequiresObfuscation?c.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`vec3 dpPlusFrc(vec3 a, vec3 b) {
return mix(a, a + b, vec3(notEqual(b, vec3(0))));
}
vec3 dpMinusFrc(vec3 a, vec3 b) {
return mix(vec3(0), a - b, vec3(notEqual(a, b)));
}
vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = dpPlusFrc(hiA, hiB);
vec3 e = dpMinusFrc(t1, hiA);
vec3 t2 = dpMinusFrc(hiB, e) + dpMinusFrc(hiA, dpMinusFrc(t1, e)) + loA + loB;
return t1 + t2;
}`):c.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`vec3 dpAdd(vec3 hiA, vec3 loA, vec3 hiB, vec3 loB) {
vec3 t1 = hiA + hiB;
vec3 e = t1 - hiA;
vec3 t2 = ((hiB - e) + (hiA - (t1 - e))) + loA + loB;
return t1 + t2;
}`)}


/***/ }),

/***/ 4969:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   U: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(a){a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`const float MAX_RGBA4_FLOAT =
15.0 / 16.0 +
15.0 / 16.0 / 16.0 +
15.0 / 16.0 / 16.0 / 16.0 +
15.0 / 16.0 / 16.0 / 16.0 / 16.0;
const vec4 FIXED_POINT_FACTORS_RGBA4 = vec4(1.0, 16.0, 16.0 * 16.0, 16.0 * 16.0 * 16.0);
vec4 floatToRgba4(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA4_FLOAT);
vec4 fixedPointU4 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS_RGBA4) * 16.0);
const float toU4AsFloat = 1.0 / 15.0;
return fixedPointU4 * toU4AsFloat;
}
const vec4 RGBA4_2_FLOAT_FACTORS = vec4(
15.0 / (16.0),
15.0 / (16.0 * 16.0),
15.0 / (16.0 * 16.0 * 16.0),
15.0 / (16.0 * 16.0 * 16.0 * 16.0)
);
float rgba4ToFloat(vec4 rgba) {
return dot(rgba, RGBA4_2_FLOAT_FACTORS);
}`)}


/***/ }),

/***/ 70224:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(a){a.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .glsl */ .H)`const float MAX_RGBA_FLOAT =
255.0 / 256.0 +
255.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 +
255.0 / 256.0 / 256.0 / 256.0 / 256.0;
const vec4 FIXED_POINT_FACTORS = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);
vec4 float2rgba(const float value) {
float valueInValidDomain = clamp(value, 0.0, MAX_RGBA_FLOAT);
vec4 fixedPointU8 = floor(fract(valueInValidDomain * FIXED_POINT_FACTORS) * 256.0);
const float toU8AsFloat = 1.0 / 255.0;
return fixedPointU8 * toU8AsFloat;
}
const vec4 RGBA_2_FLOAT_FACTORS = vec4(
255.0 / (256.0),
255.0 / (256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0),
255.0 / (256.0 * 256.0 * 256.0 * 256.0)
);
float rgba2float(vec4 rgba) {
return dot(rgba, RGBA_2_FLOAT_FACTORS);
}`)}


/***/ }),

/***/ 6916:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OH: () => (/* binding */ o),
/* harmony export */   Y6: () => (/* binding */ s),
/* harmony export */   pM: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22279);
/* harmony import */ var _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(60840);
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function s(e){e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {
return absCosAngle * absCosAngle * absCosAngle;
}`),e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`vec3 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec3 params) {
return vec3(
min(params.x / (distanceToCamera - params.y), 1.0),
screenSizePerspectiveViewAngleDependentFactor(absCosAngle),
params.z
);
}`),e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec3 factor) {
return mix(size * clamp(factor.x, factor.z, 1.0), size, factor.y);
}`),e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec3 params) {
return applyScreenSizePerspectiveScaleFactorFloat(
size,
screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)
);
}`),e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec3 factor) {
return mix(size * clamp(factor.x, factor.z, 1.0), size, factor.y);
}`),e.vertex.code.add((0,_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__/* .glsl */ .H)`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec3 params) {
return applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));
}`)}function t(e){e.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Float3PassUniform */ .t("screenSizePerspective",(e=>i(e.screenSizePerspective))))}function o(e){e.uniforms.add(new _shaderModules_Float3PassUniform_js__WEBPACK_IMPORTED_MODULE_2__/* .Float3PassUniform */ .t("screenSizePerspectiveAlignment",(e=>i(e.screenSizePerspectiveAlignment||e.screenSizePerspective))))}function i(a){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.s)(n,a.parameters.divisor,a.parameters.offset,a.minScaleFactor)}const n=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 63592:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  yu: () => (/* binding */ f),
  Nz: () => (/* binding */ u),
  NB: () => (/* binding */ d),
  S7: () => (/* binding */ p)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4.js
var mat4 = __webpack_require__(37046);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4f64.js
var mat4f64 = __webpack_require__(56192);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js
var Float3DrawUniform = __webpack_require__(13501);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js
var Float3PassUniform = __webpack_require__(60840);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js
var FloatPassUniform = __webpack_require__(35449);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Uniform.js
var Uniform = __webpack_require__(99198);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/BindType.js
var BindType = __webpack_require__(57198);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class Matrix4DrawUniform_o extends Uniform/* Uniform */.n{constructor(r,o){super(r,"mat4",BindType/* BindType */.c.Draw,((e,s,t)=>e.setUniformMatrix4fv(r,o(s,t))))}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js
var Matrix4PassUniform = __webpack_require__(20778);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function f(r,a){a.instancedDoublePrecision?r.constants.add("cameraPosition","vec3",vec3f64.Z):r.uniforms.add(new Float3DrawUniform/* Float3DrawUniform */.W("cameraPosition",((r,a)=>(0,vec3.s)(w,a.camera.viewInverseTransposeMatrix[3]-r.origin[0],a.camera.viewInverseTransposeMatrix[7]-r.origin[1],a.camera.viewInverseTransposeMatrix[11]-r.origin[2]))))}function d(a,i){if(!i.instancedDoublePrecision)return void a.uniforms.add(new Matrix4PassUniform/* Matrix4PassUniform */.X("proj",((r,a)=>a.camera.projectionMatrix)),new Matrix4DrawUniform_o("view",((a,e)=>(0,mat4.w)(v,e.camera.viewMatrix,a.origin))),new Float3DrawUniform/* Float3DrawUniform */.W("localOrigin",(r=>r.origin)));const o=r=>(0,vec3.s)(w,r.camera.viewInverseTransposeMatrix[3],r.camera.viewInverseTransposeMatrix[7],r.camera.viewInverseTransposeMatrix[11]);a.uniforms.add(new Matrix4PassUniform/* Matrix4PassUniform */.X("proj",((r,a)=>a.camera.projectionMatrix)),new Matrix4PassUniform/* Matrix4PassUniform */.X("view",((a,e)=>(0,mat4.w)(v,e.camera.viewMatrix,o(e)))),new Float3PassUniform/* Float3PassUniform */.t("localOrigin",((r,a)=>o(a))))}const v=(0,mat4f64.a)(),w=(0,vec3f64.c)();function p(r){r.uniforms.add(new Matrix4PassUniform/* Matrix4PassUniform */.X("viewNormal",((r,a)=>a.camera.viewInverseTransposeMatrix)))}function u(r){r.uniforms.add(new FloatPassUniform/* FloatPassUniform */.m("pixelRatio",((r,a)=>a.camera.pixelRatio/a.overlayStretch)))}


/***/ }),

/***/ 72563:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(o,s){super(o,"bool",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((r,e,t)=>r.setUniform1b(o,s(e,t))))}}


/***/ }),

/***/ 54473:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,e){super(r,"vec2",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,o,t)=>s.setUniform2fv(r,e(o,t))))}}


/***/ }),

/***/ 13501:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,o){super(r,"vec3",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Draw,((e,s,t,i)=>e.setUniform3fv(r,o(s,t,i))))}}


/***/ }),

/***/ 60840:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   t: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,e){super(r,"vec3",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,o,t)=>s.setUniform3fv(r,e(o,t))))}}


/***/ }),

/***/ 1411:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,e){super(r,"vec4",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,o,t)=>s.setUniform4fv(r,e(o,t))))}}


/***/ }),

/***/ 54706:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   F: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,e,o){super(r,"vec4",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,o,t)=>s.setUniform4fv(r,e(o,t))),o)}}


/***/ }),

/***/ 35449:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,o){super(r,"float",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,e,t)=>s.setUniform1f(r,o(e,t))))}}


/***/ }),

/***/ 45160:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   x: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,o,e){super(r,"float",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,e,t)=>s.setUniform1fv(r,o(e,t))),e)}}


/***/ }),

/***/ 3445:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,e){super(r,"int",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,o,i)=>s.setUniform1i(r,e(o,i))))}}


/***/ }),

/***/ 8376:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   h: () => (/* binding */ o)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class o extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,o){super(r,"mat3",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Draw,((e,s,t)=>e.setUniformMatrix3fv(r,o(s,t))))}}


/***/ }),

/***/ 6561:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   k: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,e){super(r,"mat3",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,o,t)=>s.setUniformMatrix3fv(r,e(o,t))))}}


/***/ }),

/***/ 20778:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   X: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,e){super(r,"mat4",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((s,o,t)=>s.setUniformMatrix4fv(r,e(o,t))))}}


/***/ }),

/***/ 4274:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N5: () => (/* binding */ o)
/* harmony export */ });
/* unused harmony exports Code, Includes, Stage, Uniforms */
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98849);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(539);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(57198);
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(58947);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getLogger("esri.views.3d.webgl-engine.core.shaderModules.shaderBuilder");class i{constructor(){this._includedModules=new Map}include(e,t){if(this._includedModules.has(e)){const r=this._includedModules.get(e);if(r!==t){s.error("Trying to include shader module multiple times with different sets of options.");const t=new Set;for(const n of Object.keys(r))r[n]!==e[n]&&t.add(n);for(const n of Object.keys(e))r[n]!==e[n]&&t.add(n);t.forEach((t=>console.error(`  ${t}: current ${r[t]} new ${e[t]}`)))}}else this._includedModules.set(e,t),e(this.builder,t)}}class o extends i{constructor(){super(...arguments),this.vertex=new u,this.fragment=new u,this.attributes=new h,this.varyings=new m,this.extensions=new l,this.constants=new _,this.outputs=new d}get fragmentUniforms(){return this.fragment.uniforms.entries}get builder(){return this}generate(e){const t=this.extensions.generateSource(e),r=this.attributes.generateSource(e),n=this.varyings.generateSource(e),s="vertex"===e?this.vertex:this.fragment,i=s.uniforms.generateSource(),o=s.code.generateSource(),a="vertex"===e?g:f,c=this.constants.generateSource().concat(s.constants.generateSource()),u=this.outputs.generateSource(e);return`#version 300 es\n${t.join("\n")}\n\n${a}\n\n${c.join("\n")}\n\n${i.join("\n")}\n\n${r.join("\n")}\n\n${n.join("\n")}\n\n${u.join("\n")}\n\n${o.join("\n")}`}generateBindPass(e){const t=new Map;this.vertex.uniforms.entries.forEach((e=>{const n=e.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__/* .BindType */ .c.Pass];n&&t.set(e.name,n)})),this.fragment.uniforms.entries.forEach((e=>{const n=e.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__/* .BindType */ .c.Pass];n&&t.set(e.name,n)}));const n=Array.from(t.values()),s=n.length;return(t,r)=>{for(let i=0;i<s;++i)n[i](e,t,r)}}generateBindDraw(e){const t=new Map;this.vertex.uniforms.entries.forEach((e=>{const n=e.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__/* .BindType */ .c.Draw];n&&t.set(e.name,n)})),this.fragment.uniforms.entries.forEach((e=>{const n=e.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__/* .BindType */ .c.Draw];n&&t.set(e.name,n)}));const n=Array.from(t.values()),s=n.length;return(t,r,i)=>{for(let o=0;o<s;++o)n[o](e,t,r,i)}}}class a{constructor(){this._entries=new Map}add(...e){for(const t of e)this._add(t)}get(e){return this._entries.get(e)}_add(t){if(null!=t){if(this._entries.has(t.name)&&!this._entries.get(t.name).equals(t))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(`Duplicate uniform name ${t.name} for different uniform type`);this._entries.set(t.name,t)}else s.error(`Trying to add null Uniform from ${(new Error).stack}.`)}generateSource(){return Array.from(this._entries.values()).map((e=>null!=e.arraySize?`uniform ${e.type} ${e.name}[${e.arraySize}];`:`uniform ${e.type} ${e.name};`))}get entries(){return Array.from(this._entries.values())}}class c{constructor(){this._entries=new Array}add(e){this._entries.push(e)}generateSource(){return this._entries}}class u extends i{constructor(){super(...arguments),this.uniforms=new a,this.code=new c,this.constants=new _}get builder(){return this}}class h{constructor(){this._entries=new Array}add(e,t){this._entries.push([e,t])}generateSource(e){return"fragment"===e?[]:this._entries.map((e=>`in ${e[1]} ${e[0]};`))}}class m{constructor(){this._entries=new Map}add(e,t){this._entries.has(e)&&(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_3__/* .assert */ .vA)(this._entries.get(e)===t),this._entries.set(e,t)}generateSource(e){const t=new Array;return this._entries.forEach(((r,n)=>t.push("vertex"===e?`out ${r} ${n};`:`in ${r} ${n};`))),t}}class l{constructor(){this._entries=new Set}add(e){this._entries.add(e)}generateSource(e){const t="vertex"===e?l.ALLOWLIST_VERTEX:l.ALLOWLIST_FRAGMENT;return Array.from(this._entries).filter((e=>t.includes(e))).map((e=>`#extension ${e} : enable`))}}l.ALLOWLIST_FRAGMENT=["GL_EXT_shader_texture_lod","GL_OES_standard_derivatives"],l.ALLOWLIST_VERTEX=[];class d{constructor(){this._entries=new Map}add(e,t,r=0){const s=this._entries.get(r);s?(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_3__/* .assert */ .vA)(s.name===e&&s.type===t,`Fragment shader output location ${r} occupied`):this._entries.set(r,{name:e,type:t})}generateSource(e){if("vertex"===e)return[];0===this._entries.size&&this._entries.set(0,{name:d.DEFAULT_NAME,type:d.DEFAULT_TYPE});const t=new Array;return this._entries.forEach(((e,r)=>t.push(`layout(location = ${r}) out ${e.type} ${e.name};`))),t}}d.DEFAULT_TYPE="vec4",d.DEFAULT_NAME="fragColor";class _{constructor(){this._entries=new Set}add(e,t,r){let n="ERROR_CONSTRUCTOR_STRING";switch(t){case"float":n=_._numberToFloatStr(r);break;case"int":n=_._numberToIntStr(r);break;case"bool":n=r.toString();break;case"vec2":n=`vec2(${_._numberToFloatStr(r[0])},                            ${_._numberToFloatStr(r[1])})`;break;case"vec3":n=`vec3(${_._numberToFloatStr(r[0])},                            ${_._numberToFloatStr(r[1])},                            ${_._numberToFloatStr(r[2])})`;break;case"vec4":n=`vec4(${_._numberToFloatStr(r[0])},                            ${_._numberToFloatStr(r[1])},                            ${_._numberToFloatStr(r[2])},                            ${_._numberToFloatStr(r[3])})`;break;case"ivec2":n=`ivec2(${_._numberToIntStr(r[0])},                             ${_._numberToIntStr(r[1])})`;break;case"ivec3":n=`ivec3(${_._numberToIntStr(r[0])},                             ${_._numberToIntStr(r[1])},                             ${_._numberToIntStr(r[2])})`;break;case"ivec4":n=`ivec4(${_._numberToIntStr(r[0])},                             ${_._numberToIntStr(r[1])},                             ${_._numberToIntStr(r[2])},                             ${_._numberToIntStr(r[3])})`;break;case"mat2":case"mat3":case"mat4":n=`${t}(${Array.prototype.map.call(r,(e=>_._numberToFloatStr(e))).join(", ")})`}return this._entries.add(`const ${t} ${e} = ${n};`),this}static _numberToIntStr(e){return e.toFixed(0)}static _numberToFloatStr(e){return Number.isInteger(e)?e.toFixed(1):e.toString()}generateSource(){return Array.from(this._entries)}}const f="#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n  precision highp sampler2D;\n#else\n  precision mediump float;\n  precision mediump sampler2D;\n#endif",g="precision highp float;\nprecision highp sampler2D;";


/***/ }),

/***/ 52293:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   o: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,s){super(r,"sampler2D",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Draw,((e,o,t)=>e.bindTexture(r,s(o,t))))}}


/***/ }),

/***/ 79856:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _Uniform_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99198);
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s extends _Uniform_js__WEBPACK_IMPORTED_MODULE_0__/* .Uniform */ .n{constructor(r,s){super(r,"sampler2D",_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_1__/* .BindType */ .c.Pass,((e,o,t)=>e.bindTexture(r,s(o,t))))}}


/***/ }),

/***/ 99198:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   n: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57198);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a{constructor(a,i,e,r,t=null){if(this.name=a,this.type=i,this.arraySize=t,this.bind={[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__/* .BindType */ .c.Pass]:null,[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__/* .BindType */ .c.Draw]:null},r)switch(e){case _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__/* .BindType */ .c.Pass:this.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__/* .BindType */ .c.Pass]=r;break;case _shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__/* .BindType */ .c.Draw:this.bind[_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_0__/* .BindType */ .c.Draw]=r}}equals(s){return this.type===s.type&&this.name===s.name&&this.arraySize===s.arraySize}}


/***/ }),

/***/ 99152:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ o),
/* harmony export */   Y: () => (/* binding */ n)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{}const n=t;function o(t,...n){let o="";for(let r=0;r<n.length;r++)o+=t[r]+n[r];return o+=t[t.length-1],o}!function(t){function n(t){return Math.round(t).toString()}function o(t){return t.toPrecision(8)}t.int=n,t.float=o}(o||(o={}));


/***/ }),

/***/ 57198:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ a)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var a;!function(a){a[a.Pass=0]="Pass",a[a.Draw=1]="Draw"}(a||(a={}));


/***/ }),

/***/ 47705:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t,o){this._module=t,this._loadModule=o}get(){return this._module}async reload(){return this._module=await this._loadModule(),this._module}}


/***/ }),

/***/ 33444:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   w: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6267);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(i,t,r){this.release=r,this.initializeConfiguration(i,t),this._configuration=t.snapshot(),this._program=this.initializeProgram(i),this._pipeline=this.initializePipeline(i.rctx.capabilities)}destroy(){this._program=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .disposeMaybe */ .WD)(this._program),this._pipeline=this._configuration=null}reload(t){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__/* .disposeMaybe */ .WD)(this._program),this._program=this.initializeProgram(t),this._pipeline=this.initializePipeline(t.rctx.capabilities)}get program(){return this._program}get compiled(){return this.program.compiled}get key(){return this._configuration.key}get configuration(){return this._configuration}ensureAttributeLocations(i){this.program.assertCompatibleVertexAttributeLocations(i)}get primitiveType(){return _webgl_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .PrimitiveType */ .WR.TRIANGLES}getPipeline(i,t,r){return this._pipeline}initializeConfiguration(i,t){}}


/***/ }),

/***/ 69948:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ t),
/* harmony export */   W: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(99152);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t extends _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .NoParameters */ .Y{constructor(){super(),this._key="",this._keyDirty=!1,this._parameterBits=this._parameterBits?this._parameterBits.map((()=>0)):[],this._parameterNames||(this._parameterNames=[])}get key(){return this._keyDirty&&(this._keyDirty=!1,this._key=String.fromCharCode.apply(String,this._parameterBits)),this._key}snapshot(){const e=this._parameterNames,t={key:this.key};for(const r of e)t[r]=this[r];return t}}function r(e={}){return(t,r)=>{if(t._parameterNames=t._parameterNames??[],t._parameterNames.push(r),null!=e.constValue)Object.defineProperty(t,r,{get:()=>e.constValue});else{const s=t._parameterNames.length-1,a=e.count||2,i=Math.ceil(Math.log2(a)),o=t._parameterBits??[0];let h=0;for(;o[h]+i>16;)h++,h>=o.length&&o.push(0);t._parameterBits=o;const n=o[h],m=(1<<i)-1<<n;o[h]+=i,Object.defineProperty(t,r,{get(){return this[s]},set(e){if(this[s]!==e&&(this[s]=e,this._keyDirty=!0,this._parameterBits[h]=this._parameterBits[h]&~m|+e<<n&m,"number"!=typeof e&&"boolean"!=typeof e))throw new Error("Configuration value for "+r+" must be boolean or number, got "+typeof e)}})}}}


/***/ }),

/***/ 38931:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A9: () => (/* binding */ d),
/* harmony export */   B7: () => (/* binding */ t),
/* harmony export */   Ot: () => (/* binding */ c),
/* harmony export */   RW: () => (/* binding */ u),
/* harmony export */   S: () => (/* binding */ m),
/* harmony export */   qo: () => (/* binding */ s)
/* harmony export */ });
/* unused harmony exports AsyncRenderPlugin, ConsumesCompositeColor, ConsumesHighlight, SyncPreparesRenderPlugin */
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(52495);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55274);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const s={required:[]},t={required:[_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Depth]},o={required:[_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.CompositeColor]},n={required:[_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Highlight]},d={required:[_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Depth,_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Normal]};class i extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A{consumes(){return s}get usedMemory(){return 0}get isDecoration(){return!1}get running(){return!1}}class u extends i{}class c extends i{}class a extends (/* unused pure expression or super */ null && (i)){}class l extends (/* unused pure expression or super */ null && (i)){}class m extends i{}


/***/ }),

/***/ 46068:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ i),
/* harmony export */   a: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _core_time_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(60882);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e{constructor(){this.enabled=!0,this._time=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_0__/* .Milliseconds */ .l5)(0)}get time(){return this._time}advance({deltaTime:e,fixedTime:i}){return null!=i?this._time!==i&&(this._time=i,!0):(this._time=(0,_core_time_js__WEBPACK_IMPORTED_MODULE_0__/* .Milliseconds */ .l5)(this._time+e),0!==e)}}class i{constructor(t,e){this.deltaTime=t,this.fixedTime=e}}


/***/ }),

/***/ 36549:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  i: () => (/* binding */ $)
});

// UNUSED EXPORTS: PaddingSide

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(52495);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(92504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/screenUtils.js
var screenUtils = __webpack_require__(89882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4.js
var mat4 = __webpack_require__(37046);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4f64.js
var mat4f64 = __webpack_require__(56192);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2.js
var vec2 = __webpack_require__(58680);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2f64.js
var vec2f64 = __webpack_require__(78286);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4.js
var vec4 = __webpack_require__(25102);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f64.js
var vec4f64 = __webpack_require__(52712);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/frustum.js
var frustum = __webpack_require__(94982);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/ray.js
var ray = __webpack_require__(32532);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/vector.js
var vector = __webpack_require__(16597);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/ViewingMode.js
var ViewingMode = __webpack_require__(10714);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/fov.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function fov_t(t,a,n){return 2*Math.atan(Math.sqrt(a*a+n*n)*Math.tan(.5*t)/a)}function a(t,a,n){return 2*Math.atan(Math.sqrt(a*a+n*n)*Math.tan(.5*t)/n)}function n(t,a,n){return 2*Math.atan(a*Math.tan(.5*t)/Math.sqrt(a*a+n*n))}function r(t,a,n){return 2*Math.atan(n*Math.tan(.5*t)/Math.sqrt(a*a+n*n))}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var Z;let $=Z=class extends Accessor/* default */.A{constructor(t={}){super(t),this._center=(0,vec3f64.c)(),this._up=(0,vec3f64.c)(),this._viewUp=(0,vec3f64.c)(),this._viewForward=(0,vec3f64.c)(),this._viewRight=(0,vec3f64.c)(),this._ray=(0,ray/* create */.vt)(),this._viewport=(0,vec4f64.f)(0,0,1,1),this._padding=(0,vec4f64.f)(0,0,0,0),this._fov=55/180*Math.PI,this._nearFar=(0,vec2f64.f)(1,1e3),this._viewDirty=!0,this._viewMatrix=(0,mat4f64.a)(),this._viewProjectionDirty=!0,this._viewProjectionMatrix=(0,mat4f64.a)(),this._viewInverseTransposeMatrixDirty=!0,this._viewInverseTransposeMatrix=(0,mat4f64.a)(),this._frustumDirty=!0,this._frustum=(0,frustum/* create */.vt)(),this._fullViewport=(0,vec4f64.c)(),this._pixelRatio=1,this.relativeElevation=0}get pixelRatio(){return this._pixelRatio}set pixelRatio(t){this._pixelRatio=t>0?t:1}get eye(){return this._ray.origin}set eye(t){this._compareAndSetView(t,this._ray.origin)}get center(){return this._center}set center(t){this._compareAndSetView(t,this._center,"_center")}get ray(){return (0,vec3.f)(this._ray.direction,this.center,this.eye),this._ray}get up(){return this._up}set up(t){this._compareAndSetView(t,this._up,"_up")}get viewMatrix(){return this._ensureViewClean(),this._viewMatrix}set viewMatrix(t){(0,mat4.h)(this._viewMatrix,t),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0,this._viewProjectionDirty=!0,this._frustumDirty=!0}get viewForward(){return this._ensureViewClean(),this._viewForward}get viewUp(){return this._ensureViewClean(),this._viewUp}get viewRight(){return this._ensureViewClean(),this._viewRight}get nearFar(){return this._nearFar}get near(){return this._nearFar[0]}set near(t){this._nearFar[0]!==t&&(this._nearFar[0]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_nearFar"))}get far(){return this._nearFar[1]}set far(t){this._nearFar[1]!==t&&(this._nearFar[1]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_nearFar"))}get viewport(){return this._viewport}set viewport(t){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]}get screenViewport(){if(1===this.pixelRatio)return this._viewport;const t=(0,vec4.b)((0,vec4f64.c)(),this._viewport,1/this.pixelRatio),i=this._get("screenViewport");return i&&(0,vec4.e)(t,i)?i:t}get screenPadding(){if(1===this.pixelRatio)return this._padding;const t=(0,vec4.b)((0,vec4f64.c)(),this._padding,1/this.pixelRatio),i=this._get("screenPadding");return i&&(0,vec4.e)(t,i)?i:t}get x(){return this._viewport[0]}set x(t){t+=this._padding[ht.LEFT],this._viewport[0]!==t&&(this._viewport[0]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get y(){return this._viewport[1]}set y(t){t+=this._padding[ht.BOTTOM],this._viewport[1]!==t&&(this._viewport[1]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get width(){return this._viewport[2]}set width(t){this._viewport[2]!==t&&(this._viewport[2]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get height(){return this._viewport[3]}set height(t){this._viewport[3]!==t&&(this._viewport[3]=t,this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_viewport"))}get fullWidth(){return this._viewport[2]+this._padding[ht.RIGHT]+this._padding[ht.LEFT]}set fullWidth(t){this.width=t-(this._padding[ht.RIGHT]+this._padding[ht.LEFT])}get fullHeight(){return this._viewport[3]+this._padding[ht.TOP]+this._padding[ht.BOTTOM]}set fullHeight(t){this.height=t-(this._padding[ht.TOP]+this._padding[ht.BOTTOM])}get fullViewport(){return this._fullViewport[0]=this._viewport[0]-this._padding[ht.LEFT],this._fullViewport[1]=this._viewport[1]-this._padding[ht.BOTTOM],this._fullViewport[2]=this.fullWidth,this._fullViewport[3]=this.fullHeight,this._fullViewport}get _aspect(){return this.width/this.height}get padding(){return this._padding}set padding(t){(0,vec4.h)(this._padding,t)||(this._viewport[0]+=t[ht.LEFT]-this._padding[ht.LEFT],this._viewport[1]+=t[ht.BOTTOM]-this._padding[ht.BOTTOM],this._viewport[2]-=t[ht.RIGHT]+t[ht.LEFT]-(this._padding[ht.RIGHT]+this._padding[ht.LEFT]),this._viewport[3]-=t[ht.TOP]+t[ht.BOTTOM]-(this._padding[ht.TOP]+this._padding[ht.BOTTOM]),(0,vec4.c)(this._padding,t),this._viewProjectionDirty=!0,this._frustumDirty=!0,this.notifyChange("_padding"),this.notifyChange("_viewport"))}get viewProjectionMatrix(){return this._viewProjectionDirty&&((0,mat4.m)(this._viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this._viewProjectionDirty=!1),this._viewProjectionMatrix}get projectionMatrix(){const t=this.width,i=this.height,e=this.near*Math.tan(this.fovY/2),r=e*this._aspect,s=(0,mat4.q)((0,mat4f64.a)(),-r*(1+2*this._padding[ht.LEFT]/t),r*(1+2*this._padding[ht.RIGHT]/t),-e*(1+2*this._padding[ht.BOTTOM]/i),e*(1+2*this._padding[ht.TOP]/i),this.near,this.far),h=this._get("projectionMatrix");return h&&(0,mat4.a)(h,s)?h:s}get inverseProjectionMatrix(){return (0,mat4.i)((0,mat4f64.a)(),this.projectionMatrix)||this._get("inverseProjectionMatrix")||(0,mat4f64.a)()}get fov(){return this._fov}set fov(t){this._fov=t,this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovX(){return n(this._fov,this.width,this.height)}set fovX(t){this._fov=fov_t(t,this.width,this.height),this._viewProjectionDirty=!0,this._frustumDirty=!0}get fovY(){return r(this._fov,this.width,this.height)}set fovY(t){this._fov=a(t,this.width,this.height),this._viewProjectionDirty=!0,this._frustumDirty=!0}get distance(){return (0,vec3.o)(this.center,this.eye)}get frustum(){return this._recomputeFrustum(),this._frustum}get viewInverseTransposeMatrix(){return(this._viewInverseTransposeMatrixDirty||this._viewDirty)&&((0,mat4.i)(this._viewInverseTransposeMatrix,this.viewMatrix),(0,mat4.t)(this._viewInverseTransposeMatrix,this._viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),this._viewInverseTransposeMatrix}depthNDCToWorld(t){const i=2*t-1;return 2*this.near*this.far/(this.far+this.near-i*(this.far-this.near))}get perRenderPixelRatio(){return Math.tan(this.fovX/2)/(this.width/2)}get perScreenPixelRatio(){return this.perRenderPixelRatio*this.pixelRatio}get aboveGround(){return null!=this.relativeElevation&&this.relativeElevation>=0}copyFrom(t){(0,vec3.c)(this._ray.origin,t.eye),this.center=t.center,this.up=t.up,(0,vec4.c)(this._viewport,t.viewport),this.notifyChange("_viewport"),(0,vec4.c)(this._padding,t.padding),this.notifyChange("_padding"),(0,vec2.j)(this._nearFar,t.nearFar),this.notifyChange("_nearFar"),this._fov=t.fov,this.relativeElevation=t.relativeElevation;const i=t;return this._viewDirty=i._viewDirty,this._viewDirty||((0,mat4.h)(this._viewMatrix,t.viewMatrix),(0,vec3.c)(this._viewRight,t.viewRight),(0,vec3.c)(this._viewUp,t.viewUp),(0,vec3.c)(this._viewForward,t.viewForward)),this._viewProjectionDirty=!0,this._frustumDirty=i._frustumDirty,this._frustumDirty||((0,frustum/* copy */.C)(this._frustum,t.frustum),this._frustumDirty=!1),i._viewInverseTransposeMatrixDirty?this._viewInverseTransposeMatrixDirty=!0:((0,mat4.h)(this._viewInverseTransposeMatrix,t.viewInverseTransposeMatrix),this._viewInverseTransposeMatrixDirty=!1),(0,vec4.c)(this._fullViewport,t.fullViewport),this.pixelRatio=t.pixelRatio,this}copyViewFrom(t){this.eye=t.eye,this.center=t.center,this.up=t.up}clone(){return(new Z).copyFrom(this)}equals(t){return (0,vec3.h)(this.eye,t.eye)&&(0,vec3.h)(this.center,t.center)&&(0,vec3.h)(this.up,t.up)&&(0,vec4.h)(this._viewport,t.viewport)&&(0,vec4.h)(this._padding,t.padding)&&(0,vec2.m)(this.nearFar,t.nearFar)&&this._fov===t.fov&&this.pixelRatio===t.pixelRatio&&this.relativeElevation===t.relativeElevation}almostEquals(t){const i=Math.max(1,1/this.pixelRatio,1/t.pixelRatio);if(Math.abs(t.fov-this._fov)>=.001||(0,vec4.i)(t.screenPadding,this.screenPadding)>=i||(0,vec4.i)(this.screenViewport,t.screenViewport)>=i)return!1;(0,vec3.u)(et,t.eye,t.center),(0,vec3.u)(rt,this.eye,this.center);const e=(0,vec3.j)(et,rt),r=(0,vec3.F)(et),s=(0,vec3.F)(rt),h=5e-4;return e*e>=(1-1e-10)*r*s&&(0,vec3.y)(t.eye,this.eye)<Math.max(r,s)*h*h}computeRenderPixelSizeAt(t){return this.computeRenderPixelSizeAtDist(this._viewDirectionDistance(t))}computeRenderPixelSizeAtDist(t){return t*this.perRenderPixelRatio}computeScreenPixelSizeAt(t){return this.computeScreenPixelSizeAtDist(this._viewDirectionDistance(t))}_viewDirectionDistance(t){return Math.abs((0,vector/* projectPointSignedLength */.gr)(this.viewForward,(0,vec3.f)(et,t,this.eye)))}computeScreenPixelSizeAtDist(t){return t*this.perScreenPixelRatio}computeDistanceFromRadius(t,i){return t/Math.tan(Math.min(this.fovX,this.fovY)/(2*(i||1)))}getScreenCenter(t=(0,screenUtils/* createScreenPointArray */.gs)()){return t[0]=(this.padding[ht.LEFT]+this.width/2)/this.pixelRatio,t[1]=(this.padding[ht.TOP]+this.height/2)/this.pixelRatio,t}getRenderCenter(t,i=.5,e=.5){return t[0]=this.padding[ht.LEFT]+this.width*i,t[1]=this.padding[ht.BOTTOM]+this.height*e,t[2]=.5,t}setGLViewport(t){const i=this.viewport,e=this.padding;t.setViewport(i[0]-e[3],i[1]-e[2],i[2]+e[1]+e[3],i[3]+e[0]+e[2])}applyProjection(t,i){t!==tt&&(0,vec3.c)(tt,t),tt[3]=1,(0,vec4.t)(tt,tt,this.projectionMatrix);const e=Math.abs(tt[3]);(0,vec3.i)(tt,tt,1/e);const s=this.fullViewport;i[0]=(0,mathUtils/* lerp */.Cc)(0,s[0]+s[2],.5+.5*tt[0]),i[1]=(0,mathUtils/* lerp */.Cc)(0,s[1]+s[3],.5+.5*tt[1]),i[2]=.5*(tt[2]+1),i[3]=e}unapplyProjection(t,i){const e=this.fullViewport;tt[0]=(t[0]/(e[0]+e[2])*2-1)*t[3],tt[1]=(t[1]/(e[1]+e[3])*2-1)*t[3],tt[2]=(2*t[2]-1)*t[3],tt[3]=t[3],null!=this.inverseProjectionMatrix&&((0,vec4.t)(tt,tt,this.inverseProjectionMatrix),i[0]=tt[0],i[1]=tt[1],i[2]=tt[2])}projectToScreen(t,i){return this.projectToRenderScreen(t,st),this.renderToScreen(st,i),i}projectToRenderScreen(t,i){if(tt[0]=t[0],tt[1]=t[1],tt[2]=t[2],tt[3]=1,(0,vec4.t)(tt,tt,this.viewProjectionMatrix),0===tt[3])return null;(0,vec3.i)(tt,tt,1/Math.abs(tt[3]));const e=this.fullViewport;return"x"in i?(i.x=(0,mathUtils/* lerp */.Cc)(0,e[0]+e[2],.5+.5*tt[0]),i.y=(0,mathUtils/* lerp */.Cc)(0,e[1]+e[3],.5+.5*tt[1])):(i[0]=(0,mathUtils/* lerp */.Cc)(0,e[0]+e[2],.5+.5*tt[0]),i[1]=(0,mathUtils/* lerp */.Cc)(0,e[1]+e[3],.5+.5*tt[1]),i.length>2&&(i[2]=.5*(tt[2]+1))),i}unprojectFromScreen(t,i){return this.unprojectFromRenderScreen(this.screenToRender(t,st),i)}unprojectFromRenderScreen(t,i){if((0,mat4.m)(it,this.projectionMatrix,this.viewMatrix),!(0,mat4.i)(it,it))return null;const e=this.fullViewport;return tt[0]=2*(t[0]-e[0])/e[2]-1,tt[1]=2*(t[1]-e[1])/e[3]-1,tt[2]=2*t[2]-1,tt[3]=1,(0,vec4.t)(tt,tt,it),0===tt[3]?null:(i[0]=tt[0]/tt[3],i[1]=tt[1]/tt[3],i[2]=tt[2]/tt[3],i)}constrainWindowSize(t,i,e,r){const s=t*this.pixelRatio,h=i*this.pixelRatio,o=Math.max(s-e/2,0),n=Math.max(this.fullHeight-h-r/2,0),a=-Math.min(s-e/2,0),p=-Math.min(this.fullHeight-h-r/2,0),u=e-a- -Math.min(this.fullWidth-s-e/2,0),_=r-p- -Math.min(h-r/2,0);return[Math.round(o),Math.round(n),Math.round(u),Math.round(_)]}computeUp(t){t===ViewingMode/* ViewingMode */.RT.Global?this._computeUpGlobal():this._computeUpLocal()}screenToRender(t,i){const e=t[0]*this.pixelRatio,r=this.fullHeight-t[1]*this.pixelRatio;return i[0]=e,i[1]=r,i}renderToScreen(t,i){const e=t[0]/this.pixelRatio,r=(this.fullHeight-t[1])/this.pixelRatio;i[0]=e,i[1]=r}_computeUpGlobal(){(0,vec3.f)(et,this.center,this.eye);const t=(0,vec3.l)(this.center);t<1?((0,vec3.s)(this._up,0,0,1),this._markViewDirty(),this.notifyChange("_up")):Math.abs((0,vec3.j)(et,this.center))>.9999*(0,vec3.l)(et)*t||((0,vec3.b)(this._up,et,this.center),(0,vec3.b)(this._up,this._up,et),(0,vec3.n)(this._up,this._up),this.notifyChange("_up"),this._markViewDirty())}_computeUpLocal(){(0,vec3.C)(et,this.eye,this.center),Math.abs(et[2])<=.9999&&((0,vec3.i)(et,et,et[2]),(0,vec3.s)(this._up,-et[0],-et[1],1-et[2]),(0,vec3.n)(this._up,this._up),this.notifyChange("_up"),this._markViewDirty())}_compareAndSetView(t,i,r=""){"number"==typeof t[0]&&isFinite(t[0])&&"number"==typeof t[1]&&isFinite(t[1])&&"number"==typeof t[2]&&isFinite(t[2])?(0,vec3.h)(t,i)||((0,vec3.c)(i,t),this._markViewDirty(),r.length&&this.notifyChange(r)):Logger/* default */.A.getLogger("esri.views.3d.webgl-engine.lib.Camera").warn("Camera vector contains invalid number, ignoring value")}_markViewDirty(){this._viewDirty=!0,this._frustumDirty=!0,this._viewProjectionDirty=!0}_recomputeFrustum(){this._frustumDirty&&((0,frustum/* fromMatrix */.ui)(this.viewMatrix,this.projectionMatrix,this._frustum),this._frustumDirty=!1)}_ensureViewClean(){this._viewDirty&&((0,mat4.u)(this._viewMatrix,this.eye,this.center,this.up),(0,vec3.s)(this._viewForward,-this._viewMatrix[2],-this._viewMatrix[6],-this._viewMatrix[10]),(0,vec3.s)(this._viewUp,this._viewMatrix[1],this._viewMatrix[5],this._viewMatrix[9]),(0,vec3.s)(this._viewRight,this._viewMatrix[0],this._viewMatrix[4],this._viewMatrix[8]),this._viewDirty=!1,this._viewInverseTransposeMatrixDirty=!0)}};(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_center",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_up",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_viewport",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_padding",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_fov",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_nearFar",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"_pixelRatio",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"pixelRatio",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"eye",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"center",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"up",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"nearFar",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"near",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"far",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"viewport",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"screenViewport",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"screenPadding",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"x",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"y",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"width",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"height",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"fullWidth",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"fullHeight",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"_aspect",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"padding",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"projectionMatrix",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],$.prototype,"inverseProjectionMatrix",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"fov",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"fovX",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],$.prototype,"fovY",null),$=Z=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.3d.webgl-engine.lib.Camera")],$);const tt=(0,vec4f64.c)(),it=(0,mat4f64.a)(),et=(0,vec3f64.c)(),rt=(0,vec3f64.c)(),st=(0,screenUtils/* createRenderScreenPointArray3 */.r_)();var ht;!function(t){t[t.TOP=0]="TOP",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=3]="LEFT"}(ht||(ht={}));


/***/ }),

/***/ 71077:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   J: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(65061);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(){this.id=(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__/* .generateUID */ .L)()}}


/***/ }),

/***/ 52997:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   X: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e;!function(e){e[e.Layer=0]="Layer",e[e.Object=1]="Object",e[e.Mesh=2]="Mesh",e[e.Line=3]="Line",e[e.Point=4]="Point",e[e.Material=5]="Material",e[e.Texture=6]="Texture",e[e.COUNT=7]="COUNT"}(e||(e={}));


/***/ }),

/***/ 13148:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ E)
/* harmony export */ });
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const E=new Map([[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.POSITION,0],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.NORMAL,1],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.NORMALCOMPRESSED,1],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.UV0,2],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.COLOR,3],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.COLORFEATUREATTRIBUTE,3],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.SIZE,4],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.TANGENT,4],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.AUXPOS1,5],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.SYMBOLCOLOR,5],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.AUXPOS2,6],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.FEATUREATTRIBUTE,6],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.INSTANCEFEATUREATTRIBUTE,6],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.INSTANCECOLOR,7],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.OBJECTANDLAYERIDCOLOR,7],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.INSTANCEOBJECTANDLAYERIDCOLOR,7],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.INSTANCEMODEL,8],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.INSTANCEMODELNORMAL,12],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.INSTANCEMODELORIGINHI,11],[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.INSTANCEMODELORIGINLO,15]]);


/***/ }),

/***/ 67341:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(91013);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(e){this._material=e.material,this._techniqueRepository=e.techniqueRep,this._output=e.output}dispose(){this._techniqueRepository.release(this._technique)}get technique(){return this._technique}get _stippleTextureRepository(){return this._techniqueRepository.constructionContext.stippleTextureRepository}get _markerTextureRepository(){return this._techniqueRepository.constructionContext.markerTextureRepository}ensureTechnique(e,t){return this._technique=this._techniqueRepository.releaseAndAcquire(e,this._material.getConfiguration(this._output,t),this._technique),this._technique}ensureResources(t){return _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .ResourceState */ .Am.LOADED}}


/***/ }),

/***/ 72136:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(91013);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(s,t){this._material=s,this._repository=t,this._map=new Map}dispose(){this._map.forEach(((s,t)=>{null!=s&&this._repository.release(this._material,t)}))}load(t,r,e){if(!this._material.produces(r,e))return null;this._map.has(e)||this._map.set(e,this._repository.acquire(this._material,r,e));const i=this._map.get(e);if(null!=i){if(i.ensureResources(t)===_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .ResourceState */ .Am.LOADED)return i;this._repository.requestRender()}return null}}


/***/ }),

/***/ 89140:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N: () => (/* binding */ l),
/* harmony export */   m: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6267);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40189);
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(91013);
/* harmony import */ var _GLMaterial_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(67341);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _GLMaterial_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A{constructor(t){super(t),this._numLoading=0,this._disposed=!1,this._textureRepository=t.textureRepository,this._textureId=t.textureId,this._acquire(t.textureId,(t=>this._texture=t)),this._acquire(t.normalTextureId,(t=>this._textureNormal=t)),this._acquire(t.emissiveTextureId,(t=>this._textureEmissive=t)),this._acquire(t.occlusionTextureId,(t=>this._textureOcclusion=t)),this._acquire(t.metallicRoughnessTextureId,(t=>this._textureMetallicRoughness=t))}dispose(){this._texture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__/* .releaseMaybe */ .Gz)(this._texture),this._textureNormal=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__/* .releaseMaybe */ .Gz)(this._textureNormal),this._textureEmissive=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__/* .releaseMaybe */ .Gz)(this._textureEmissive),this._textureOcclusion=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__/* .releaseMaybe */ .Gz)(this._textureOcclusion),this._textureMetallicRoughness=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__/* .releaseMaybe */ .Gz)(this._textureMetallicRoughness),this._disposed=!0}ensureResources(t){return 0===this._numLoading?_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__/* .ResourceState */ .Am.LOADED:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__/* .ResourceState */ .Am.LOADING}get textureBindParameters(){return new l(null!=this._texture?this._texture.glTexture:null,null!=this._textureNormal?this._textureNormal.glTexture:null,null!=this._textureEmissive?this._textureEmissive.glTexture:null,null!=this._textureOcclusion?this._textureOcclusion.glTexture:null,null!=this._textureMetallicRoughness?this._textureMetallicRoughness.glTexture:null)}updateTexture(e){null!=this._texture&&e===this._texture.id||(this._texture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__/* .releaseMaybe */ .Gz)(this._texture),this._textureId=e,this._acquire(this._textureId,(t=>this._texture=t)))}_acquire(s,i){if(null==s)return void i(null);const u=this._textureRepository.acquire(s);if((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isPromiseLike */ .$X)(u))return++this._numLoading,void u.then((e=>{if(this._disposed)return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__/* .releaseMaybe */ .Gz)(e),void i(null);i(e)})).finally((()=>--this._numLoading));i(u)}}class l extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .NoParameters */ .Y{constructor(t=null,e=null,s=null,i=null,u=null){super(),this.texture=t,this.textureNormal=e,this.textureEmissive=s,this.textureOcclusion=i,this.textureMetallicRoughness=u}}


/***/ }),

/***/ 59568:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  V: () => (/* binding */ I)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4f64.js
var mat4f64 = __webpack_require__(56192);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/Indices.js
var Indices = __webpack_require__(42965);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/typedArrayUtil.js
var typedArrayUtil = __webpack_require__(86942);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/AttributeArray.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o){if(o.length<typedArrayUtil/* nativeArrayMaxSize */.y9)return Array.from(o);if((0,typedArrayUtil/* isArray */.cy)(o))return Float64Array.from(o);if(!("BYTES_PER_ELEMENT"in o))return Array.from(o);switch(o.BYTES_PER_ELEMENT){case 1:return Uint8Array.from(o);case 2:return (0,typedArrayUtil/* isUint16Array */.jq)(o)?Uint16Array.from(o):Int16Array.from(o);case 4:return Float32Array.from(o);default:return Float64Array.from(o)}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js
var basicInterfaces = __webpack_require__(91013);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/PooledArray.js + 1 modules
var PooledArray = __webpack_require__(63678);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js
var Util = __webpack_require__(58947);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BoundingInfo.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class BoundingInfo_o{constructor(i,e,o){this.primitiveIndices=i,this._numIndexPerPrimitive=e,this.position=o,this._children=void 0,(0,Util/* assert */.vA)(i.length>=1),(0,Util/* assert */.vA)(3===o.size||4===o.size);const{data:c,size:l,indices:m}=o;(0,Util/* assert */.vA)(m.length%this._numIndexPerPrimitive==0),(0,Util/* assert */.vA)(m.length>=i.length*this._numIndexPerPrimitive);const d=i.length;let u=l*m[this._numIndexPerPrimitive*i[0]];a.clear(),a.push(u);const f=(0,vec3f64.f)(c[u],c[u+1],c[u+2]),x=(0,vec3f64.g)(f);for(let t=0;t<d;++t){const e=this._numIndexPerPrimitive*i[t];for(let i=0;i<this._numIndexPerPrimitive;++i){u=l*m[e+i],a.push(u);let t=c[u];f[0]=Math.min(t,f[0]),x[0]=Math.max(t,x[0]),t=c[u+1],f[1]=Math.min(t,f[1]),x[1]=Math.max(t,x[1]),t=c[u+2],f[2]=Math.min(t,f[2]),x[2]=Math.max(t,x[2])}}this.bbMin=f,this.bbMax=x;const P=(0,vec3.p)((0,vec3f64.c)(),this.bbMin,this.bbMax,.5);this.radius=.5*Math.max(Math.max(x[0]-f[0],x[1]-f[1]),x[2]-f[2]);let p=this.radius*this.radius;for(let t=0;t<a.length;++t){u=a.at(t);const i=c[u]-P[0],e=c[u+1]-P[1],s=c[u+2]-P[2],r=i*i+e*e+s*s;if(r<=p)continue;const n=Math.sqrt(r),h=.5*(n-this.radius);this.radius=this.radius+h,p=this.radius*this.radius;const o=h/n;P[0]+=i*o,P[1]+=e*o,P[2]+=s*o}this.center=P,a.clear()}getChildren(){if(this._children||(0,vec3.a)(this.bbMin,this.bbMax)<=1)return this._children;const i=(0,vec3.p)((0,vec3f64.c)(),this.bbMin,this.bbMax,.5),s=this.primitiveIndices.length,r=new Uint8Array(s),h=new Array(8);for(let t=0;t<8;++t)h[t]=0;const{data:a,size:c,indices:l}=this.position;for(let t=0;t<s;++t){let e=0;const s=this._numIndexPerPrimitive*this.primitiveIndices[t];let n=c*l[s],o=a[n],m=a[n+1],d=a[n+2];for(let i=1;i<this._numIndexPerPrimitive;++i){n=c*l[s+i];const t=a[n],e=a[n+1],r=a[n+2];t<o&&(o=t),e<m&&(m=e),r<d&&(d=r)}o<i[0]&&(e|=1),m<i[1]&&(e|=2),d<i[2]&&(e|=4),r[t]=e,++h[e]}let m=0;for(let t=0;t<8;++t)h[t]>0&&++m;if(m<2)return;const d=new Array(8);for(let t=0;t<8;++t)d[t]=h[t]>0?new Uint32Array(h[t]):void 0;for(let t=0;t<8;++t)h[t]=0;for(let t=0;t<s;++t){const i=r[t];d[i][h[i]++]=this.primitiveIndices[t]}this._children=new Array;for(let t=0;t<8;++t)void 0!==d[t]&&this._children.push(new BoundingInfo_o(d[t],this._numIndexPerPrimitive,this.position));return this._children}static prune(){a.prune()}}const a=new PooledArray/* default */.A({deallocator:null});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js
var ContentObject = __webpack_require__(71077);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js
var ContentObjectType = __webpack_require__(52997);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/triangle.js
var triangle = __webpack_require__(50958);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/geometryDataUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function c(s,r){if(!s)return!1;const{size:c,data:i,indices:f}=s;(0,vec3.s)(r,0,0,0),(0,vec3.s)(m,0,0,0);let d=0,g=0;for(let p=0;p<f.length-2;p+=3){const s=f[p]*c,h=f[p+1]*c,j=f[p+2]*c;(0,vec3.s)(geometryDataUtils_a,i[s],i[s+1],i[s+2]),(0,vec3.s)(u,i[h],i[h+1],i[h+2]),(0,vec3.s)(l,i[j],i[j+1],i[j+2]);const z=(0,triangle/* areaPoints3d */.Q7)(geometryDataUtils_a,u,l);z?((0,vec3.g)(geometryDataUtils_a,geometryDataUtils_a,u),(0,vec3.g)(geometryDataUtils_a,geometryDataUtils_a,l),(0,vec3.i)(geometryDataUtils_a,geometryDataUtils_a,1/3*z),(0,vec3.g)(r,r,geometryDataUtils_a),d+=z):((0,vec3.g)(m,m,geometryDataUtils_a),(0,vec3.g)(m,m,u),(0,vec3.g)(m,m,l),g+=3)}return(0!==g||0!==d)&&(0!==d?((0,vec3.i)(r,r,1/d),!0):0!==g&&((0,vec3.i)(r,m,1/g),!0))}function geometryDataUtils_i(n,s){if(!n)return!1;const{size:r,data:o,indices:c}=n;(0,vec3.s)(s,0,0,0);let i=-1,f=0;for(let t=0;t<c.length;t++){const n=c[t]*r;i!==n&&(s[0]+=o[n],s[1]+=o[n+1],s[2]+=o[n+2],f++),i=n}return f>1&&(0,vec3.i)(s,s,1/f),f>0}function f(r,o,c){if(!r)return!1;(0,vec3.s)(c,0,0,0),(0,vec3.s)(m,0,0,0);let i=0,f=0;const{size:l,data:d,indices:g}=r,p=g.length-1,h=p+(o?2:0);for(let t=0;t<h;t+=2){const r=t<p?t+1:0,o=g[t<p?t:p]*l,h=g[r]*l;geometryDataUtils_a[0]=d[o],geometryDataUtils_a[1]=d[o+1],geometryDataUtils_a[2]=d[o+2],u[0]=d[h],u[1]=d[h+1],u[2]=d[h+2],(0,vec3.i)(geometryDataUtils_a,(0,vec3.g)(geometryDataUtils_a,geometryDataUtils_a,u),.5);const j=(0,vec3.r)(geometryDataUtils_a,u);j>0?((0,vec3.g)(c,c,(0,vec3.i)(geometryDataUtils_a,geometryDataUtils_a,j)),i+=j):0===i&&((0,vec3.g)(m,m,geometryDataUtils_a),f++)}return 0!==i?((0,vec3.i)(c,c,1/i),!0):0!==f&&((0,vec3.i)(c,m,1/f),!0)}const geometryDataUtils_a=(0,vec3f64.c)(),u=(0,vec3f64.c)(),l=(0,vec3f64.c)(),m=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateID.js
var Object3DStateID = __webpack_require__(22775);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js
var VertexAttribute = __webpack_require__(50645);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/renderers/utils.js
var utils = __webpack_require__(29688);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class I extends ContentObject/* ContentObject */.J{constructor(t,i,e=null,s=ContentObjectType/* ContentObjectType */.X.Mesh,r=null,o=-1){super(),this.material=t,this.mapPositions=e,this.type=s,this.objectAndLayerIdColor=r,this.edgeIndicesLength=o,this.visible=!0,this._attributes=new Map,this._boundingInfo=null;for(const[h,a]of i)this._attributes.set(h,{...a,indices:(0,Indices/* compactIndices */.Dg)(a.indices)}),h===VertexAttribute/* VertexAttribute */.r.POSITION&&(this.edgeIndicesLength=this.edgeIndicesLength<0?this._attributes.get(h).indices.length:this.edgeIndicesLength)}instantiate(t={}){const i=new I(t.material||this.material,[],this.mapPositions,this.type,this.objectAndLayerIdColor,this.edgeIndicesLength);return this._attributes.forEach(((t,e)=>{t.exclusive=!1,i._attributes.set(e,t)})),i._boundingInfo=this._boundingInfo,i.transformation=t.transformation||this.transformation,i}get attributes(){return this._attributes}getMutableAttribute(t){let i=this._attributes.get(t);return i&&!i.exclusive&&(i={...i,exclusive:!0,data:o(i.data)},this._attributes.set(t,i)),i}setAttributeData(t,i){const e=this._attributes.get(t);e&&this._attributes.set(t,{...e,exclusive:!0,data:i})}get indexCount(){const t=this._attributes.values().next().value.indices;return t?.length??0}get faceCount(){return this.indexCount/3}get boundingInfo(){return null==this._boundingInfo&&(this._boundingInfo=this._calculateBoundingInfo()),this._boundingInfo}computeAttachmentOrigin(t){return!!(this.type===ContentObjectType/* ContentObjectType */.X.Mesh?this._computeAttachmentOriginTriangles(t):this.type===ContentObjectType/* ContentObjectType */.X.Line?this._computeAttachmentOriginLines(t):this._computeAttachmentOriginPoints(t))&&(null!=this._transformation&&(0,vec3.e)(t,t,this._transformation),!0)}_computeAttachmentOriginTriangles(t){const i=this.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION);return c(i,t)}_computeAttachmentOriginLines(t){const i=this.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION);return f(i,_(this.material.parameters,i),t)}_computeAttachmentOriginPoints(t){const i=this.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION);return geometryDataUtils_i(i,t)}invalidateBoundingInfo(){this._boundingInfo=null}_calculateBoundingInfo(){const t=this.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION);if(!t||0===t.indices.length)return null;const i=this.type===ContentObjectType/* ContentObjectType */.X.Mesh?3:1;(0,Util/* assert */.vA)(t.indices.length%i==0,"Indexing error: "+t.indices.length+" not divisible by "+i);const e=(0,Indices/* getContinuousIndexArray */.tM)(t.indices.length/i);return new BoundingInfo_o(e,i,t)}get transformation(){return this._transformation??mat4f64.I}set transformation(e){this._transformation=e&&e!==mat4f64.I?(0,mat4f64.b)(e):null}addHighlight(){const t=new Object3DStateID/* Object3DStateID */.X(basicInterfaces/* Object3DState */.Mg.Highlight);return this.highlights=(0,utils/* addObject3DStateID */.Ci)(this.highlights,t),t}removeHighlight(t){this.highlights=(0,utils/* removeObject3DStateID */.PC)(this.highlights,t)}}function _(t,i){return!(!("isClosed"in t)||!t.isClosed)&&i.indices.length>2}


/***/ }),

/***/ 94643:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  zC: () => (/* binding */ wt),
  C1: () => (/* binding */ E),
  EE: () => (/* binding */ lt),
  nW: () => (/* binding */ ut),
  td: () => (/* binding */ q),
  _B: () => (/* binding */ pt),
  Nq: () => (/* binding */ at),
  DJ: () => (/* binding */ ot),
  uX: () => (/* binding */ et),
  Z8: () => (/* binding */ ft),
  CM: () => (/* binding */ nt),
  Gj: () => (/* binding */ ht),
  Ho: () => (/* binding */ tt),
  Nb: () => (/* binding */ ct),
  Xl: () => (/* binding */ Ot),
  xh: () => (/* binding */ it)
});

// UNUSED EXPORTS: createPolySphereData

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f32.js
var vec3f32 = __webpack_require__(80952);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/DoubleArray.js
var DoubleArray = __webpack_require__(90166);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/FloatArray.js
var FloatArray = __webpack_require__(50961);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/Indices.js
var Indices = __webpack_require__(42965);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/plane.js
var plane = __webpack_require__(38774);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/ray.js
var ray = __webpack_require__(32532);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Attribute.js
var Attribute = __webpack_require__(70807);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BufferVectorMath.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var n;!function(n){function t(n,t){const c=n[t],o=n[t+1],r=n[t+2];return Math.sqrt(c*c+o*o+r*r)}function c(n,t){const c=n[t],o=n[t+1],r=n[t+2],u=1/Math.sqrt(c*c+o*o+r*r);n[t]*=u,n[t+1]*=u,n[t+2]*=u}function o(n,t,c){n[t]*=c,n[t+1]*=c,n[t+2]*=c}function r(n,t,c,o,r,u=t){(r=r||n)[u]=n[t]+c[o],r[u+1]=n[t+1]+c[o+1],r[u+2]=n[t+2]+c[o+2]}function u(n,t,c,o,r,u=t){(r=r||n)[u]=n[t]-c[o],r[u+1]=n[t+1]-c[o+1],r[u+2]=n[t+2]-c[o+2]}n.length=t,n.normalize=c,n.scale=o,n.add=r,n.subtract=u}(n||(n={}));

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js
var ContentObjectType = __webpack_require__(52997);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js + 3 modules
var Geometry = __webpack_require__(59568);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js
var Util = __webpack_require__(58947);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js
var VertexAttribute = __webpack_require__(50645);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const b=n,j=[[-.5,-.5,.5],[.5,-.5,.5],[.5,.5,.5],[-.5,.5,.5],[-.5,-.5,-.5],[.5,-.5,-.5],[.5,.5,-.5],[-.5,.5,-.5]],d=[0,0,1,-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1],U=[0,0,1,0,1,1,0,1],V=[0,1,2,2,3,0,4,0,3,3,7,4,1,5,6,6,2,1,1,0,4,4,5,1,3,2,6,6,7,3,5,4,7,7,6,5],v=new Array(36);for(let At=0;At<6;At++)for(let t=0;t<6;t++)v[6*At+t]=At;const x=new Array(36);for(let At=0;At<6;At++)x[6*At]=0,x[6*At+1]=1,x[6*At+2]=2,x[6*At+3]=2,x[6*At+4]=3,x[6*At+5]=0;function E(t,n){Array.isArray(n)||(n=[n,n,n]);const e=new Array(24);for(let s=0;s<8;s++)e[3*s]=j[s][0]*n[0],e[3*s+1]=j[s][1]*n[1],e[3*s+2]=j[s][2]*n[2];return new Geometry/* Geometry */.V(t,[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(e,V,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(d,v,3)],[VertexAttribute/* VertexAttribute */.r.UV0,new Attribute/* Attribute */.n(U,x,2)]])}const F=[[-.5,0,-.5],[.5,0,-.5],[.5,0,.5],[-.5,0,.5],[0,-.5,0],[0,.5,0]],G=[0,1,-1,1,1,0,0,1,1,-1,1,0,0,-1,-1,1,-1,0,0,-1,1,-1,-1,0],C=[5,1,0,5,2,1,5,3,2,5,0,3,4,0,1,4,1,2,4,2,3,4,3,0],k=[0,0,0,1,1,1,2,2,2,3,3,3,4,4,4,5,5,5,6,6,6,7,7,7];function q(t,n){Array.isArray(n)||(n=[n,n,n]);const e=new Array(18);for(let s=0;s<6;s++)e[3*s]=F[s][0]*n[0],e[3*s+1]=F[s][1]*n[1],e[3*s+2]=F[s][2]*n[2];return new Geometry/* Geometry */.V(t,[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(e,C,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(G,k,3)]])}const B=(0,vec3f32.f)(-.5,0,-.5),z=(0,vec3f32.f)(.5,0,-.5),D=(0,vec3f32.f)(0,0,.5),X=(0,vec3f32.f)(0,.5,0),Z=(0,vec3f32.c)(),H=(0,vec3f32.c)(),J=(0,vec3f32.c)(),K=(0,vec3f32.c)(),Q=(0,vec3f32.c)();(0,vec3.f)(Z,B,X),(0,vec3.f)(H,B,z),(0,vec3.b)(J,Z,H),(0,vec3.n)(J,J),(0,vec3.f)(Z,z,X),(0,vec3.f)(H,z,D),(0,vec3.b)(K,Z,H),(0,vec3.n)(K,K),(0,vec3.f)(Z,D,X),(0,vec3.f)(H,D,B),(0,vec3.b)(Q,Z,H),(0,vec3.n)(Q,Q);const W=[B,z,D,X],Y=[0,-1,0,J[0],J[1],J[2],K[0],K[1],K[2],Q[0],Q[1],Q[2]],$=[0,1,2,3,1,0,3,2,1,3,0,2],_=[0,0,0,1,1,1,2,2,2,3,3,3];function tt(t,n){Array.isArray(n)||(n=[n,n,n]);const e=new Array(12);for(let s=0;s<4;s++)e[3*s]=W[s][0]*n[0],e[3*s+1]=W[s][1]*n[1],e[3*s+2]=W[s][2]*n[2];return new Geometry/* Geometry */.V(t,[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(e,$,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(Y,_,3)]])}function nt(t,n,e,s,o={uv:!0}){const r=-Math.PI,h=2*Math.PI,l=-Math.PI/2,u=Math.PI,c=Math.max(3,Math.floor(e)),a=Math.max(2,Math.floor(s)),f=(c+1)*(a+1),p=(0,FloatArray/* newFloatArray */.oe)(3*f),i=(0,FloatArray/* newFloatArray */.oe)(3*f),g=(0,FloatArray/* newFloatArray */.oe)(2*f),m=[];let M=0;for(let w=0;w<=a;w++){const t=[],e=w/a,s=l+e*u,o=Math.cos(s);for(let l=0;l<=c;l++){const u=l/c,a=r+u*h,f=Math.cos(a)*o,w=Math.sin(s),O=-Math.sin(a)*o;p[3*M]=f*n,p[3*M+1]=w*n,p[3*M+2]=O*n,i[3*M]=f,i[3*M+1]=w,i[3*M+2]=O,g[2*M]=u,g[2*M+1]=e,t.push(M),++M}m.push(t)}const A=new Array;for(let w=0;w<a;w++)for(let t=0;t<c;t++){const n=m[w][t],e=m[w][t+1],s=m[w+1][t+1],o=m[w+1][t];0===w?(A.push(n),A.push(s),A.push(o)):w===a-1?(A.push(n),A.push(e),A.push(s)):(A.push(n),A.push(e),A.push(s),A.push(s),A.push(o),A.push(n))}const I=[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(p,A,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(i,A,3,!0)]];return o.uv&&I.push([VertexAttribute/* VertexAttribute */.r.UV0,new Attribute/* Attribute */.n(g,A,2,!0)]),o.offset&&(I[0][0]=VertexAttribute/* VertexAttribute */.r.OFFSET,I.push([VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(Float64Array.from(o.offset),(0,Indices/* getZeroIndexArray */.EH)(A.length),3,!0)])),new Geometry/* Geometry */.V(t,I)}function et(t,n,e,s){const o=st(n,e,s);return new Geometry/* Geometry */.V(t,o)}function st(t,n,e){const s=t;let o,r;if(e)o=[0,-1,0,1,0,0,0,0,1,-1,0,0,0,0,-1,0,1,0],r=[0,1,2,0,2,3,0,3,4,0,4,1,1,5,2,2,5,3,3,5,4,4,5,1];else{const t=s*(1+Math.sqrt(5))/2;o=[-s,t,0,s,t,0,-s,-t,0,s,-t,0,0,-s,t,0,s,t,0,-s,-t,0,s,-t,t,0,-s,t,0,s,-t,0,-s,-t,0,s],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1]}for(let c=0;c<o.length;c+=3)b.scale(o,c,t/b.length(o,c));let h={};function l(n,e){n>e&&([n,e]=[e,n]);const s=n.toString()+"."+e.toString();if(h[s])return h[s];let r=o.length;return o.length+=3,b.add(o,3*n,o,3*e,o,r),b.scale(o,r,t/b.length(o,r)),r/=3,h[s]=r,r}for(let c=0;c<n;c++){const t=r.length,n=new Array(4*t);for(let e=0;e<t;e+=3){const t=r[e],s=r[e+1],o=r[e+2],h=l(t,s),u=l(s,o),c=l(o,t),a=4*e;n[a]=t,n[a+1]=h,n[a+2]=c,n[a+3]=s,n[a+4]=u,n[a+5]=h,n[a+6]=o,n[a+7]=c,n[a+8]=u,n[a+9]=h,n[a+10]=u,n[a+11]=c}r=n,h={}}const u=(0,FloatArray/* floatArrayFrom */.Wz)(o);for(let c=0;c<u.length;c+=3)b.normalize(u,c);return[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n((0,FloatArray/* floatArrayFrom */.Wz)(o),r,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(u,r,3,!0)]]}function ot(t,n,e,s,o,r,h,l,u=null){const c=e?[e[0],e[1],e[2]]:[0,0,0],a=n?[n[0],n[1],n[2]]:[0,0,1];h=h||[0,0];const f=s?[255*s[0],255*s[1],255*s[2],s.length>3?255*s[3]:255]:[255,255,255,255],p=null!=o&&2===o.length?o:[1,1],i=(0,Indices/* getZeroIndexArray */.EH)(1),w=[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(c,i,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(a,i,3,!0)],[VertexAttribute/* VertexAttribute */.r.UV0,new Attribute/* Attribute */.n(h,i,h.length)],[VertexAttribute/* VertexAttribute */.r.COLOR,new Attribute/* Attribute */.n(f,i,4,!0)],[VertexAttribute/* VertexAttribute */.r.SIZE,new Attribute/* Attribute */.n(p,i,2)]];if(null!=r){const t=[r[0],r[1],r[2],r[3]];w.push([VertexAttribute/* VertexAttribute */.r.AUXPOS1,new Attribute/* Attribute */.n(t,i,4)])}if(null!=l){const t=[l[0],l[1],l[2],l[3]];w.push([VertexAttribute/* VertexAttribute */.r.FEATUREATTRIBUTE,new Attribute/* Attribute */.n(t,i,4)])}return new Geometry/* Geometry */.V(t,w,null,ContentObjectType/* ContentObjectType */.X.Point,u)}const rt=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]];function ht(t,n=rt){const e=new Array(12);for(let c=0;c<4;c++)for(let t=0;t<3;t++)e[3*c+t]=n[c][t];const s=[0,1,2,2,3,0],o=[0,0,1],r=[0,0,0,0,0,0],h=[0,0,1,0,1,1,0,1],l=[255,255,255,255],u=[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(e,s,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(o,r,3,!0)],[VertexAttribute/* VertexAttribute */.r.UV0,new Attribute/* Attribute */.n(h,s,2,!0)],[VertexAttribute/* VertexAttribute */.r.COLOR,new Attribute/* Attribute */.n(l,r,4,!0)]];return new Geometry/* Geometry */.V(t,u)}function lt(t,n,e,s,o,r=!0,h=!0){let l=0;const u=e,a=n;let f=(0,vec3f32.f)(0,l,0),p=(0,vec3f32.f)(0,l+a,0),i=(0,vec3f32.f)(0,-1,0),g=(0,vec3f32.f)(0,1,0);o&&(l=a,p=(0,vec3f32.f)(0,0,0),f=(0,vec3f32.f)(0,l,0),i=(0,vec3f32.f)(0,1,0),g=(0,vec3f32.f)(0,-1,0));const O=[p,f],m=[i,g],M=s+2,A=Math.sqrt(a*a+u*u);if(o)for(let w=s-1;w>=0;w--){const t=w*(2*Math.PI/s),n=(0,vec3f32.f)(Math.cos(t)*u,l,Math.sin(t)*u);O.push(n);const e=(0,vec3f32.f)(a*Math.cos(t)/A,-u/A,a*Math.sin(t)/A);m.push(e)}else for(let w=0;w<s;w++){const t=w*(2*Math.PI/s),n=(0,vec3f32.f)(Math.cos(t)*u,l,Math.sin(t)*u);O.push(n);const e=(0,vec3f32.f)(a*Math.cos(t)/A,u/A,a*Math.sin(t)/A);m.push(e)}const I=new Array,y=new Array;if(r){for(let t=3;t<O.length;t++)I.push(1),I.push(t-1),I.push(t),y.push(0),y.push(0),y.push(0);I.push(O.length-1),I.push(2),I.push(1),y.push(0),y.push(0),y.push(0)}if(h){for(let t=3;t<O.length;t++)I.push(t),I.push(t-1),I.push(0),y.push(t),y.push(t-1),y.push(1);I.push(0),I.push(2),I.push(O.length-1),y.push(1),y.push(2),y.push(m.length-1)}const N=(0,FloatArray/* newFloatArray */.oe)(3*M);for(let c=0;c<M;c++)N[3*c]=O[c][0],N[3*c+1]=O[c][1],N[3*c+2]=O[c][2];const T=(0,FloatArray/* newFloatArray */.oe)(3*M);for(let c=0;c<M;c++)T[3*c]=m[c][0],T[3*c+1]=m[c][1],T[3*c+2]=m[c][2];const R=[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(N,I,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(T,y,3,!0)]];return new Geometry/* Geometry */.V(t,R)}function ut(t,l,u,p,i,g,O){const m=i?(0,vec3f32.a)(i):(0,vec3f32.f)(1,0,0),M=g?(0,vec3f32.a)(g):(0,vec3f32.f)(0,0,0);O??=!0;const A=(0,vec3f32.c)();(0,vec3.n)(A,m);const I=(0,vec3f32.c)();(0,vec3.i)(I,A,Math.abs(l));const y=(0,vec3f32.c)();(0,vec3.i)(y,I,-.5),(0,vec3.g)(y,y,M);const N=(0,vec3f32.f)(0,1,0);Math.abs(1-(0,vec3.j)(A,N))<.2&&(0,vec3.s)(N,0,0,1);const T=(0,vec3f32.c)();(0,vec3.b)(T,A,N),(0,vec3.n)(T,T),(0,vec3.b)(N,T,A);const R=2*p+(O?2:0),b=p+(O?2:0),j=(0,FloatArray/* newFloatArray */.oe)(3*R),d=(0,FloatArray/* newFloatArray */.oe)(3*b),U=(0,FloatArray/* newFloatArray */.oe)(2*R),V=new Array(3*p*(O?4:2)),v=new Array(3*p*(O?4:2));O&&(j[3*(R-2)]=y[0],j[3*(R-2)+1]=y[1],j[3*(R-2)+2]=y[2],U[2*(R-2)]=0,U[2*(R-2)+1]=0,j[3*(R-1)]=j[3*(R-2)]+I[0],j[3*(R-1)+1]=j[3*(R-2)+1]+I[1],j[3*(R-1)+2]=j[3*(R-2)+2]+I[2],U[2*(R-1)]=1,U[2*(R-1)+1]=1,d[3*(b-2)]=-A[0],d[3*(b-2)+1]=-A[1],d[3*(b-2)+2]=-A[2],d[3*(b-1)]=A[0],d[3*(b-1)+1]=A[1],d[3*(b-1)+2]=A[2]);const x=(t,n,e)=>{V[t]=n,v[t]=e};let E=0;const F=(0,vec3f32.c)(),G=(0,vec3f32.c)();for(let n=0;n<p;n++){const t=n*(2*Math.PI/p);(0,vec3.i)(F,N,Math.sin(t)),(0,vec3.i)(G,T,Math.cos(t)),(0,vec3.g)(F,F,G),d[3*n]=F[0],d[3*n+1]=F[1],d[3*n+2]=F[2],(0,vec3.i)(F,F,u),(0,vec3.g)(F,F,y),j[3*n]=F[0],j[3*n+1]=F[1],j[3*n+2]=F[2],U[2*n]=n/p,U[2*n+1]=0,j[3*(n+p)]=j[3*n]+I[0],j[3*(n+p)+1]=j[3*n+1]+I[1],j[3*(n+p)+2]=j[3*n+2]+I[2],U[2*(n+p)]=n/p,U[2*n+1]=1;const e=(n+1)%p;x(E++,n,n),x(E++,n+p,n),x(E++,e,e),x(E++,e,e),x(E++,n+p,n),x(E++,e+p,e)}if(O){for(let t=0;t<p;t++){const n=(t+1)%p;x(E++,R-2,b-2),x(E++,t,b-2),x(E++,n,b-2)}for(let t=0;t<p;t++){const n=(t+1)%p;x(E++,t+p,b-1),x(E++,R-1,b-1),x(E++,n+p,b-1)}}const C=[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(j,V,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(d,v,3,!0)],[VertexAttribute/* VertexAttribute */.r.UV0,new Attribute/* Attribute */.n(U,V,2,!0)]];return new Geometry/* Geometry */.V(t,C)}function ct(t,n,e,s,o,r){s=s||10,o=null==o||o,(0,Util/* assert */.vA)(n.length>1);const h=[[0,0,0]],l=[],u=[];for(let c=0;c<s;c++){l.push([0,-c-1,-(c+1)%s-1]);const t=c/s*2*Math.PI;u.push([Math.cos(t)*e,Math.sin(t)*e])}return at(t,u,n,h,l,o,r)}function at(r,u,f,i,g,O,m=(0,vec3f32.f)(0,0,0)){const N=u.length,T=(0,FloatArray/* newFloatArray */.oe)(f.length*N*3+(6*i.length||0)),R=(0,FloatArray/* newFloatArray */.oe)(f.length*N*3+(i?6:0)),b=new Array,j=new Array;let d=0,U=0;const V=(0,vec3f32.c)(),v=(0,vec3f32.c)(),x=(0,vec3f32.c)(),E=(0,vec3f32.c)(),F=(0,vec3f32.c)(),G=(0,vec3f32.c)(),C=(0,vec3f32.c)(),k=(0,vec3f64.c)(),q=(0,vec3f32.c)(),B=(0,vec3f32.c)(),z=(0,vec3f32.c)(),D=(0,vec3f32.c)(),X=(0,vec3f32.c)(),Z=(0,plane/* create */.vt)();(0,vec3.s)(q,0,1,0),(0,vec3.f)(v,f[1],f[0]),(0,vec3.n)(v,v),O?((0,vec3.g)(k,f[0],m),(0,vec3.n)(x,k)):(0,vec3.s)(x,0,0,1),Ot(v,x,q,q,F,x,mt),(0,vec3.c)(E,x),(0,vec3.c)(D,F);for(let t=0;t<i.length;t++)(0,vec3.i)(G,F,i[t][0]),(0,vec3.i)(k,x,i[t][2]),(0,vec3.g)(G,G,k),(0,vec3.g)(G,G,f[0]),T[d++]=G[0],T[d++]=G[1],T[d++]=G[2];R[U++]=-v[0],R[U++]=-v[1],R[U++]=-v[2];for(let t=0;t<g.length;t++)b.push(g[t][0]>0?g[t][0]:-g[t][0]-1+i.length),b.push(g[t][1]>0?g[t][1]:-g[t][1]-1+i.length),b.push(g[t][2]>0?g[t][2]:-g[t][2]-1+i.length),j.push(0),j.push(0),j.push(0);let H=i.length;const J=i.length-1;for(let h=0;h<f.length;h++){let r=!1;if(h>0){(0,vec3.c)(V,v),h<f.length-1?((0,vec3.f)(v,f[h+1],f[h]),(0,vec3.n)(v,v)):r=!0,(0,vec3.g)(B,V,v),(0,vec3.n)(B,B),(0,vec3.g)(z,f[h-1],E),(0,plane/* fromPositionAndNormal */.O_)(f[h],B,Z);(0,plane/* intersectRay */.Ui)(Z,(0,ray/* wrap */.LV)(z,V),k)?((0,vec3.f)(k,k,f[h]),(0,vec3.n)(x,k),(0,vec3.b)(F,B,x),(0,vec3.n)(F,F)):Ot(B,E,D,q,F,x,mt),(0,vec3.c)(E,x),(0,vec3.c)(D,F)}O&&((0,vec3.g)(k,f[h],m),(0,vec3.n)(X,k));for(let t=0;t<N;t++)if((0,vec3.i)(G,F,u[t][0]),(0,vec3.i)(k,x,u[t][1]),(0,vec3.g)(G,G,k),(0,vec3.n)(C,G),R[U++]=C[0],R[U++]=C[1],R[U++]=C[2],(0,vec3.g)(G,G,f[h]),T[d++]=G[0],T[d++]=G[1],T[d++]=G[2],!r){const n=(t+1)%N;b.push(H+t),b.push(H+N+t),b.push(H+n),b.push(H+n),b.push(H+N+t),b.push(H+N+n);for(let t=0;t<6;t++){const n=b.length-6;j.push(b[n+t]-J)}}H+=N}const K=f[f.length-1];for(let t=0;t<i.length;t++)(0,vec3.i)(G,F,i[t][0]),(0,vec3.i)(k,x,i[t][1]),(0,vec3.g)(G,G,k),(0,vec3.g)(G,G,K),T[d++]=G[0],T[d++]=G[1],T[d++]=G[2];const Q=U/3;R[U++]=v[0],R[U++]=v[1],R[U++]=v[2];const W=H-N;for(let t=0;t<g.length;t++)b.push(g[t][0]>=0?H+g[t][0]:-g[t][0]-1+W),b.push(g[t][2]>=0?H+g[t][2]:-g[t][2]-1+W),b.push(g[t][1]>=0?H+g[t][1]:-g[t][1]-1+W),j.push(Q),j.push(Q),j.push(Q);const Y=[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(T,b,3,!0)],[VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(R,j,3,!0)]];return new Geometry/* Geometry */.V(r,Y)}function ft(t,n,e,s){(0,Util/* assert */.vA)(n.length>1,"createPolylineGeometry(): polyline needs at least 2 points"),(0,Util/* assert */.vA)(3===n[0].length,"createPolylineGeometry(): malformed vertex"),(0,Util/* assert */.vA)(null==e||e.length===n.length,"createPolylineGeometry: need same number of points and normals"),(0,Util/* assert */.vA)(null==e||3===e[0].length,"createPolylineGeometry(): malformed normal");const o=(0,DoubleArray/* newDoubleArray */.jh)(3*n.length),r=new Array(2*(n.length-1));let h=0,l=0;for(let c=0;c<n.length;c++){for(let t=0;t<3;t++)o[h++]=n[c][t];c>0&&(r[l++]=c-1,r[l++]=c)}const u=[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(o,r,3,!0)]];if(e){const t=(0,FloatArray/* newFloatArray */.oe)(3*e.length);let s=0;for(let o=0;o<n.length;o++)for(let n=0;n<3;n++)t[s++]=e[o][n];u.push([VertexAttribute/* VertexAttribute */.r.NORMAL,new Attribute/* Attribute */.n(t,r,3,!0)])}return s&&u.push([VertexAttribute/* VertexAttribute */.r.COLOR,new Attribute/* Attribute */.n(s,(0,Indices/* getContinuousIndexArray */.tM)(s.length/4),4)]),new Geometry/* Geometry */.V(t,u,null,ContentObjectType/* ContentObjectType */.X.Line)}function pt(t,n,e,s,o,r=0){const h=new Array(18),l=[[-e,r,o/2],[s,r,o/2],[0,n+r,o/2],[-e,r,-o/2],[s,r,-o/2],[0,n+r,-o/2]],u=[0,1,2,3,0,2,2,5,3,1,4,5,5,2,1,1,0,3,3,4,1,4,3,5];for(let c=0;c<6;c++)h[3*c]=l[c][0],h[3*c+1]=l[c][1],h[3*c+2]=l[c][2];return new Geometry/* Geometry */.V(t,[[VertexAttribute/* VertexAttribute */.r.POSITION,new Attribute/* Attribute */.n(h,u,3,!0)]])}function it(t,n){const e=t.getMutableAttribute(VertexAttribute/* VertexAttribute */.r.POSITION).data;for(let s=0;s<e.length;s+=3){const t=e[s],o=e[s+1],r=e[s+2];(0,vec3.s)(Mt,t,o,r),(0,vec3.e)(Mt,Mt,n),e[s]=Mt[0],e[s+1]=Mt[1],e[s+2]=Mt[2]}}function wt(t,n=t){const e=t.attributes,s=e.get(VertexAttribute/* VertexAttribute */.r.POSITION).data,o=e.get(VertexAttribute/* VertexAttribute */.r.NORMAL).data;if(o){const t=n.getMutableAttribute(VertexAttribute/* VertexAttribute */.r.NORMAL).data;for(let n=0;n<o.length;n+=3){const e=o[n+1];t[n+1]=-o[n+2],t[n+2]=e}}if(s){const t=n.getMutableAttribute(VertexAttribute/* VertexAttribute */.r.POSITION).data;for(let n=0;n<s.length;n+=3){const e=s[n+1];t[n+1]=-s[n+2],t[n+2]=e}}}function gt(t,s,o,h,l){return!(Math.abs((0,vec3.j)(s,t))>l)&&((0,vec3.b)(o,t,s),(0,vec3.n)(o,o),(0,vec3.b)(h,o,t),(0,vec3.n)(h,h),!0)}function Ot(t,n,e,s,o,r,h){return gt(t,n,o,r,h)||gt(t,e,o,r,h)||gt(t,s,o,r,h)}const mt=.99619469809,Mt=(0,vec3f32.c)();


/***/ }),

/***/ 24734:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ _)
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(65061);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22279);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(52712);
/* harmony import */ var _geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(84119);
/* harmony import */ var _Attribute_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(70807);
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52997);
/* harmony import */ var _Geometry_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(59568);
/* harmony import */ var _LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(32926);
/* harmony import */ var _Object3D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(55103);
/* harmony import */ var _testUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(53834);
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(50645);
/* harmony import */ var _WebGLLayer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(54671);
/* harmony import */ var _materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(96824);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class _{constructor(i){this._originSR=i,this._rootOriginId="root/"+(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_13__/* .generateUID */ .L)(),this._origins=new Map,this._objects=new Map,this._gridSize=5e5}getOrigin(t){const r=this._origins.get(this._rootOriginId);if(null==r){const i=_testUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .gridLocalOriginFactory */ .Q.rootOrigin;if(null!=i)return this._origins.set(this._rootOriginId,(0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_7__/* .fromValues */ .f)(i[0],i[1],i[2],this._rootOriginId)),this.getOrigin(t);const r=(0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_7__/* .fromValues */ .f)(t[0]+Math.random()-.5,t[1]+Math.random()-.5,t[2]+Math.random()-.5,this._rootOriginId);return this._origins.set(this._rootOriginId,r),r}const o=this._gridSize,s=Math.round(t[0]/o),e=Math.round(t[1]/o),n=Math.round(t[2]/o),a=`${s}/${e}/${n}`;let m=this._origins.get(a);const g=.5*o;if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(p,t,r.vec3),p[0]=Math.abs(p[0]),p[1]=Math.abs(p[1]),p[2]=Math.abs(p[2]),p[0]<g&&p[1]<g&&p[2]<g){if(m){const r=Math.max(...p);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.f)(p,t,m.vec3),p[0]=Math.abs(p[0]),p[1]=Math.abs(p[1]),p[2]=Math.abs(p[2]);if(Math.max(...p)<r)return m}return r}return m||(m=(0,_LocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_7__/* .fromValues */ .f)(s*o,e*o,n*o,a),this._origins.set(a,m)),m}_drawOriginBox(t,i=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(1,1,0,1)){const r=window.view,h=r._stage,c=i.toString();if(!this._objects.has(c)){this._material=new _materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_12__/* .RibbonLineMaterial */ .W({width:2,color:i}),h.add(this._material);const t=new _WebGLLayer_js__WEBPACK_IMPORTED_MODULE_11__/* .WebGLLayer */ .x(h,{pickable:!1}),r=new _Object3D_js__WEBPACK_IMPORTED_MODULE_8__/* .Object3D */ .B({castShadow:!1});h.add(r),t.add(r),this._objects.set(c,r)}const _=this._objects.get(c),p=[0,1,5,4,0,2,1,7,6,2,0,1,3,7,5,4,6,2,0],j=p.length,u=new Array(3*j),l=new Array,b=.5*this._gridSize;for(let o=0;o<j;o++)u[3*o]=t[0]+(1&p[o]?b:-b),u[3*o+1]=t[1]+(2&p[o]?b:-b),u[3*o+2]=t[2]+(4&p[o]?b:-b),o>0&&l.push(o-1,o);(0,_geometry_projection_projectBuffer_js__WEBPACK_IMPORTED_MODULE_3__.projectBuffer)(u,this._originSR,0,u,r.renderSpatialReference,0,j);const M=new _Geometry_js__WEBPACK_IMPORTED_MODULE_6__/* .Geometry */ .V(this._material,[[_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_10__/* .VertexAttribute */ .r.POSITION,new _Attribute_js__WEBPACK_IMPORTED_MODULE_4__/* .Attribute */ .n(u,l,3,!0)]],null,_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__/* .ContentObjectType */ .X.Line);h.add(M),_.addGeometry(M)}get test(){const t=this;return{set gridSize(i){t._gridSize=i}}}}const p=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 74515:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G7: () => (/* binding */ M),
/* harmony export */   hz: () => (/* binding */ b)
/* harmony export */ });
/* unused harmony export defaultTolerance */
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22279);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(25102);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52712);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(32532);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(10714);
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(44912);
/* harmony import */ var _IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(9286);
/* harmony import */ var _intersectorUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(99730);
/* harmony import */ var _verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(689);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const w=1e-5;class T{constructor(t){this.options=new _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .IntersectorOptions */ .H6,this._results=new A,this.transform=new _verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .IntersectorTransform */ .dg,this.tolerance=w,this.verticalOffset=null,this._ray=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(),this._rayEnd=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),this._rayBeginTransformed=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),this._rayEndTransformed=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),this.viewingMode=t??_ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__/* .ViewingMode */ .RT.Global}get results(){return this._results}get ray(){return this._ray}get rayBegin(){return this._ray.origin}get rayEnd(){return this._rayEnd}reset(t,r,s){this.resetWithRay((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .fromPoints */ .Cr)(t,r,this._ray),s)}resetWithRay(t,r){this.camera=r,t!==this._ray&&(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .copy */ .C)(t,this._ray),0!==this.options.verticalOffset?this.viewingMode===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__/* .ViewingMode */ .RT.Local?this._ray.origin[2]-=this.options.verticalOffset:this.verticalOffset=this.options.verticalOffset:this.verticalOffset=null,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(this._rayEnd,this._ray.origin,this._ray.direction),this._results.init(this._ray)}intersect(t=null,r,s,i,e){this.point=r,this.filterPredicate=i,this.tolerance=s??w;const n=(0,_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .getVerticalOffsetObject3D */ .ou)(this.verticalOffset);if(t&&t.length>0){const r=e?t=>{e(t)&&this.intersectObject(t)}:t=>{this.intersectObject(t)};for(const s of t){const t=s.getSpatialQueryAccelerator?.();null!=t?(null!=n?t.forEachAlongRayWithVerticalOffset(this._ray.origin,this._ray.direction,r,n):t.forEachAlongRay(this._ray.origin,this._ray.direction,r),this.options.selectionMode&&this.options.hud&&t.forEachDegenerateObject(r)):s.objects.forAll((t=>r(t)))}}this.sortResults()}intersectObject(t){const r=t.geometries;if(!r)return;const i=t.effectiveTransformation,n=(0,_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .getVerticalOffsetObject3D */ .ou)(this.verticalOffset);for(const a of r){if(!a.visible)continue;const{material:r,id:o}=a;this.transform.setAndInvalidateLazyTransforms(i,a.transformation),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(this._rayBeginTransformed,this.rayBegin,this.transform.inverse),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(this._rayEndTransformed,this.rayEnd,this.transform.inverse);const h=this.transform.transform;null!=n&&(n.objectTransform=this.transform),r.intersect(a,this.transform.transform,this,this._rayBeginTransformed,this._rayEndTransformed,((r,i,e,n,a,d)=>{if(r>=0){if(null!=this.filterPredicate&&!this.filterPredicate(this._ray.origin,this._rayEnd,r))return;const l=n?this._results.hud:this._results,c=n?n=>{const h=new _IntersectorTarget_js__WEBPACK_IMPORTED_MODULE_9__/* .HudTarget */ .B$(t,o,e,d);n.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .IntersectorType */ .dz.HUD,h,r,i,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.I,a)}:s=>s.set(_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .IntersectorType */ .dz.OBJECT,{object:t,geometryId:o,triangleNr:e},r,i,h,a);if((null==l.min.drapedLayerOrder||a>=l.min.drapedLayerOrder)&&(null==l.min.dist||r<l.min.dist)&&c(l.min),this.options.store!==_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .StoreResults */ .oH.MIN&&(null==l.max.drapedLayerOrder||a<l.max.drapedLayerOrder)&&(null==l.max.dist||r>l.max.dist)&&c(l.max),this.options.store===_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .StoreResults */ .oH.ALL)if(n){const t=new I(this._ray);c(t),this._results.hud.all.push(t)}else{const t=new x(this._ray);c(t),this._results.all.push(t)}}}))}}sortResults(t=this._results.all){t.sort(((t,r)=>t.dist!==r.dist?(t.dist??0)-(r.dist??0):t.drapedLayerOrder!==r.drapedLayerOrder?(t.drapedLayerOrder??Number.MAX_VALUE)-(r.drapedLayerOrder??Number.MAX_VALUE):(r.drapedLayerGraphicOrder??Number.MIN_VALUE)-(t.drapedLayerGraphicOrder??Number.MIN_VALUE)))}}function b(t){return new T(t)}class A{constructor(){this.min=new x((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)()),this.max=new x((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)()),this.hud={min:new I((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)()),max:new I((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)()),all:new Array},this.ground=new x((0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)()),this.all=[]}init(t){this.min.init(t),this.max.init(t),this.ground.init(t),this.all.length=0,this.hud.min.init(t),this.hud.max.init(t),this.hud.all.length=0}}class x{get ray(){return this._ray}get distanceInRenderSpace(){return null!=this.dist?((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(N,this.ray.direction,this.dist),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.l)(N)):null}getIntersectionPoint(t){return!!(0,_intersectorUtils_js__WEBPACK_IMPORTED_MODULE_10__/* .isValidIntersectorResult */ .i3)(this)&&((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(N,this.ray.direction,this.dist),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(t,this.ray.origin,N),!0)}getTransformedNormal(t){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(B,this.normal),B[3]=0,(0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__.t)(B,B,this.transformation),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(t,B),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(t,t)}constructor(t){this.intersector=_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .IntersectorType */ .dz.OBJECT,this.normal=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),this.transformation=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),this._ray=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .create */ .vt)(),this.init(t)}init(t){this.dist=null,this.target=null,this.drapedLayerOrder=null,this.drapedLayerGraphicOrder=null,this.intersector=_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .IntersectorType */ .dz.OBJECT,(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .copy */ .C)(t,this._ray)}set(r,i,e,n,a,h,d){this.intersector=r,this.dist=e,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.normal,n??_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.d),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.transformation,a??_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.I),this.target=i,this.drapedLayerOrder=h,this.drapedLayerGraphicOrder=d}copy(r){(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__/* .copy */ .C)(r.ray,this._ray),this.intersector=r.intersector,this.dist=r.dist,this.target=r.target,this.drapedLayerOrder=r.drapedLayerOrder,this.drapedLayerGraphicOrder=r.drapedLayerGraphicOrder,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.normal,r.normal),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.transformation,r.transformation)}}class I extends x{constructor(){super(...arguments),this.intersector=_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .IntersectorType */ .dz.HUD}}function M(t){return new x(t)}const N=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),B=(0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.c)();


/***/ }),

/***/ 44912:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H6: () => (/* binding */ e),
/* harmony export */   dz: () => (/* binding */ i),
/* harmony export */   oH: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var i,t;!function(i){i[i.OBJECT=0]="OBJECT",i[i.HUD=1]="HUD",i[i.TERRAIN=2]="TERRAIN",i[i.OVERLAY=3]="OVERLAY",i[i.I3S=4]="I3S",i[i.PCL=5]="PCL",i[i.LOD=6]="LOD",i[i.VOXEL=7]="VOXEL"}(i||(i={}));class e{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerUids=[],this.store=t.ALL}}!function(i){i[i.MIN=0]="MIN",i[i.MINMAX=1]="MINMAX",i[i.ALL=2]="ALL"}(t||(t={}));


/***/ }),

/***/ 9286:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B$: () => (/* binding */ r),
/* harmony export */   R6: () => (/* binding */ o)
/* harmony export */ });
/* unused harmony exports LayerTarget, ObjectTarget, ValidHudTarget */
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(s,t,r){this.object=s,this.geometryId=t,this.triangleNr=r}}class r extends t{constructor(t,r,c,e){super(t,r,c),this.center=null!=e?(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.g)(e):null}}class c extends (/* unused pure expression or super */ null && (r)){}class e{constructor(s){this.layerUid=s}}class o extends e{constructor(s,t){super(s),this.graphicUid=t}}


/***/ }),

/***/ 32926:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   f: () => (/* binding */ c)
/* harmony export */ });
/* unused harmony export LocalOrigin */
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(s,t){this.vec3=s,this.id=t}}function c(c,r,n,o){return new t((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(c,r,n),o)}


/***/ }),

/***/ 45722:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   im: () => (/* binding */ c),
/* harmony export */   m$: () => (/* binding */ d),
/* harmony export */   qA: () => (/* binding */ u)
/* harmony export */ });
/* unused harmony export UpdateParameters */
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/* harmony import */ var _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99152);
/* harmony import */ var _AnimationTimer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(46068);
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(91013);
/* harmony import */ var _ContentObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(71077);
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(52997);
/* harmony import */ var _DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13148);
/* harmony import */ var _materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(29117);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class c extends _ContentObject_js__WEBPACK_IMPORTED_MODULE_6__/* .ContentObject */ .J{constructor(t,r){super(),this.type=_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_3__/* .ContentObjectType */ .X.Material,this.supportsEdges=!1,this._visible=!0,this._renderPriority=0,this._vertexAttributeLocations=_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_4__/* .Default3D */ .D,this._pp0=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(0,0,1),this._pp1=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(0,0,0),this._parameters=(0,_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__/* .copyParameters */ .qu)(t,r),this.validateParameters(this._parameters)}get parameters(){return this._parameters}update(e){return!1}setParameters(e,t=!0){(0,_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__/* .updateParameters */ .MB)(this._parameters,e)&&(this.validateParameters(this._parameters),t&&this.parametersChanged())}validateParameters(e){}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.parametersChanged())}shouldRender(e){return this.isVisible()&&this.isVisibleForOutput(e.output)&&(!this.parameters.isDecoration||e.bindParameters.decorations===_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_2__/* .Decorations */ .ID.ON)&&0!=(this.parameters.renderOccluded&e.renderOccludedMask)}isVisibleForOutput(e){return!0}get renderPriority(){return this._renderPriority}set renderPriority(e){e!==this._renderPriority&&(this._renderPriority=e,this.parametersChanged())}get vertexAttributeLocations(){return this._vertexAttributeLocations}isVisible(){return this._visible}parametersChanged(){this.repository?.materialChanged(this)}intersectDraped(e,t,r,s,i,a){return this._pp0[0]=this._pp1[0]=s[0],this._pp0[1]=this._pp1[1]=s[1],this.intersect(e,t,r,this._pp0,this._pp1,i)}}class h extends _AnimationTimer_js__WEBPACK_IMPORTED_MODULE_7__/* .Parameters */ .H{constructor(e,t,r){super(t,r),this.camera=e}}var d;!function(e){e[e.None=0]="None",e[e.Occlude=1]="Occlude",e[e.Transparent=2]="Transparent",e[e.OccludeAndTransparent=4]="OccludeAndTransparent",e[e.OccludeAndTransparentStencil=8]="OccludeAndTransparentStencil",e[e.Opaque=16]="Opaque"}(d||(d={}));class u extends _core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__/* .NoParameters */ .Y{constructor(){super(...arguments),this.renderOccluded=d.Occlude,this.isDecoration=!1}}


/***/ }),

/***/ 23183:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   k: () => (/* binding */ I),
/* harmony export */   q: () => (/* binding */ E)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E,I;!function(E){E[E.ADD=0]="ADD",E[E.UPDATE=1]="UPDATE",E[E.REMOVE=2]="REMOVE"}(E||(E={})),function(E){E[E.NONE=0]="NONE",E[E.VISIBILITY=1]="VISIBILITY",E[E.GEOMETRY=2]="GEOMETRY",E[E.TRANSFORMATION=4]="TRANSFORMATION",E[E.HIGHLIGHT=8]="HIGHLIGHT",E[E.OCCLUDEE=16]="OCCLUDEE"}(I||(I={}));


/***/ }),

/***/ 55103:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ V)
/* harmony export */ });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22279);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(96245);
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(72699);
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(91013);
/* harmony import */ var _ContentObject_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(71077);
/* harmony import */ var _ContentObjectType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(52997);
/* harmony import */ var _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(22775);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(58947);
/* harmony import */ var _VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(50645);
/* harmony import */ var _materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(29688);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class V extends _ContentObject_js__WEBPACK_IMPORTED_MODULE_11__/* .ContentObject */ .J{get geometries(){return this._geometries}get transformation(){return this._transformation??_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.I}set transformation(e){this._transformation=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this._transformation??(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),e),this._invalidateBoundingVolume(),this._emit("transformationChanged",this)}get shaderTransformation(){return this._shaderTransformation}set shaderTransformation(e){this._shaderTransformation=e?(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this._shaderTransformation??(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),e):null,this._invalidateBoundingVolume(),this._emit("shaderTransformationChanged",this)}get effectiveTransformation(){return this.shaderTransformation??this.transformation}constructor(t={}){super(),this.type=_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_7__/* .ContentObjectType */ .X.Object,this._shaderTransformation=null,this._parentLayer=null,this._visible=!0,this.castShadow=t.castShadow??!0,this.usesVerticalDistanceToGround=t.usesVerticalDistanceToGround??!1,this.graphicUid=t.graphicUid,this.layerUid=t.layerUid,t.isElevationSource&&(this.lastValidElevationBB=new O),this._geometries=t.geometries?Array.from(t.geometries):new Array}dispose(){this._geometries.length=0}get parentLayer(){return this._parentLayer}set parentLayer(t){(0,_Util_js__WEBPACK_IMPORTED_MODULE_8__/* .assert */ .vA)(null==this._parentLayer||null==t,"Object3D can only be added to a single Layer"),this._parentLayer=t}addGeometry(t){t.visible=this._visible,this._geometries.push(t),this._emit("geometryAdded",{object:this,geometry:t}),this._invalidateBoundingVolume()}removeGeometry(t){const e=this._geometries.splice(t,1)[0];e&&(this._emit("geometryRemoved",{object:this,geometry:e}),this._invalidateBoundingVolume())}removeAllGeometries(){for(;this._geometries.length>0;)this.removeGeometry(0)}geometryVertexAttributeUpdated(t,e,i=!1){this._emit("attributesChanged",{object:this,geometry:t,attribute:e,sync:i}),(0,_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_9__/* .affectsGeometry */ .b)(e)&&this._invalidateBoundingVolume()}get visible(){return this._visible}set visible(t){if(this._visible!==t){this._visible=t;for(const t of this._geometries)t.visible=this._visible;this._emit("visibilityChanged",this)}}maskOccludee(){const t=new _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_12__/* .Object3DStateID */ .X(_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .Object3DState */ .Mg.MaskOccludee);for(const e of this._geometries)e.occludees=(0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_10__/* .addObject3DStateID */ .Ci)(e.occludees,t);return this._emit("occlusionChanged",this),t}removeOcclude(t){for(const e of this._geometries)e.occludees=(0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_10__/* .removeObject3DStateID */ .PC)(e.occludees,t);this._emit("occlusionChanged",this)}highlight(){const t=new _Object3DStateID_js__WEBPACK_IMPORTED_MODULE_12__/* .Object3DStateID */ .X(_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_6__/* .Object3DState */ .Mg.Highlight);for(const e of this._geometries)e.highlights=(0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_10__/* .addObject3DStateID */ .Ci)(e.highlights,t);return this._emit("highlightChanged",this),t}removeHighlight(t){for(const e of this._geometries)e.highlights=(0,_materials_renderers_utils_js__WEBPACK_IMPORTED_MODULE_10__/* .removeObject3DStateID */ .PC)(e.highlights,t);this._emit("highlightChanged",this)}getCombinedStaticTransformation(t,i){return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.m)(i,this.transformation,t.transformation)}getCombinedShaderTransformation(t,i=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)()){return (0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.m)(i,this.effectiveTransformation,t.transformation)}get boundingVolumeWorldSpace(){return this._bvWorldSpace||(this._bvWorldSpace=this._bvWorldSpace||new A,this._validateBoundingVolume(this._bvWorldSpace,U.WorldSpace)),this._bvWorldSpace}get boundingVolumeObjectSpace(){return this._bvObjectSpace||(this._bvObjectSpace=this._bvObjectSpace||new A,this._validateBoundingVolume(this._bvObjectSpace,U.ObjectSpace)),this._bvObjectSpace}_validateBoundingVolume(t,e){const i=e===U.ObjectSpace;for(const s of this._geometries){const e=s.boundingInfo;e&&M(e,t,i?s.transformation:this.getCombinedShaderTransformation(s))}(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.p)(t.bounds,t.min,t.max,.5);for(const s of this._geometries){const e=s.boundingInfo;if(null==e)continue;const r=i?s.transformation:this.getCombinedShaderTransformation(s),o=(0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .maxScale */ .hG)(r);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(B,e.center,r);const h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.o)(B,t.bounds),m=e.radius*o;t.bounds[3]=Math.max(t.bounds[3],h+m)}}_invalidateBoundingVolume(){const t=this._bvWorldSpace?.bounds;this._bvObjectSpace=this._bvWorldSpace=void 0,this._parentLayer&&t&&this._parentLayer.notifyObjectBBChanged(this,t)}_emit(t,e){this._parentLayer&&this._parentLayer.events.emit(t,e)}get test(){const t=this;return{hasGeometry:e=>t._geometries.includes(e),getGeometryIndex:e=>t._geometries.indexOf(e)}}}class O{constructor(){this.min=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this.max=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE)}isEmpty(){return this.max[0]<this.min[0]&&this.max[1]<this.min[1]&&this.max[2]<this.min[2]}}class A extends O{constructor(){super(...arguments),this.bounds=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_4__.c)()}}function M(t,e,s){const r=t.bbMin,o=t.bbMax;if((0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.y)(s)){const t=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(L,s[12],s[13],s[14]);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(T,r,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(C,o,t);for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],T[i]),e.max[i]=Math.max(e.max[i],C[i])}else if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(T,r,s),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.h)(r,o))for(let i=0;i<3;++i)e.min[i]=Math.min(e.min[i],T[i]),e.max[i]=Math.max(e.max[i],T[i]);else{(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(C,o,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],T[t],C[t]),e.max[t]=Math.max(e.max[t],T[t],C[t]);for(let t=0;t<3;++t){(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(T,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(C,o),T[t]=o[t],C[t]=r[t],(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(T,T,s),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(C,C,s);for(let t=0;t<3;++t)e.min[t]=Math.min(e.min[t],T[t],C[t]),e.max[t]=Math.max(e.max[t],T[t],C[t])}}}const L=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),T=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),C=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),B=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();var U;!function(t){t[t.WorldSpace=0]="WorldSpace",t[t.ObjectSpace=1]="ObjectSpace"}(U||(U={}));


/***/ }),

/***/ 22775:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   X: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(65061);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(r){this.channel=r,this.id=(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_0__/* .generateUID */ .L)()}}


/***/ }),

/***/ 91337:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (/* binding */ W)
/* harmony export */ });
/* harmony import */ var _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(90086);
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63678);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22279);
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(94982);
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(32532);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(96245);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(58947);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class b{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(e,t){this.objectToBoundingSphere=e,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new g,this._objectCount=0,t&&(void 0!==t.maximumObjectsPerNode&&(this._maximumObjectsPerNode=t.maximumObjectsPerNode),void 0!==t.maximumDepth&&(this._maximumDepth=t.maximumDepth))}destroy(){this._degenerateObjects.clear(),g.clearPool(),B[0]=null,P.prune(),H.prune()}add(e,t=e.length){this._objectCount+=t,this._grow(e,t);const o=g.acquire();for(let n=0;n<t;n++){const t=e[n];this._isDegenerate(t)?this._degenerateObjects.add(t):(o.init(this._root),this._add(t,o))}g.release(o)}remove(e,t=null){this._objectCount-=e.length;const o=g.acquire();for(const n of e){const e=null!=t?t:(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.h)(this.objectToBoundingSphere(n),w);E(e[3])?(o.init(this._root),this._remove(n,e,o)):this._degenerateObjects.delete(n)}g.release(o),this._shrink()}update(e,t){if(!E(t[3])&&this._isDegenerate(e))return;const o=R(e);this.remove(o,t),this.add(o)}forEachAlongRay(e,t,o){const n=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_5__/* .wrap */ .LV)(e,t);this._forEachNode(this._root,(e=>{if(!this._intersectsNode(n,e))return!1;const t=e.node;return t.terminals.forAll((e=>{this._intersectsObject(n,e)&&o(e)})),null!==t.residents&&t.residents.forAll((e=>{this._intersectsObject(n,e)&&o(e)})),!0}))}forEachAlongRayWithVerticalOffset(e,t,o,n){const i=(0,_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_5__/* .wrap */ .LV)(e,t);this._forEachNode(this._root,(e=>{if(!this._intersectsNodeWithOffset(i,e,n))return!1;const t=e.node;return t.terminals.forAll((e=>{this._intersectsObjectWithOffset(i,e,n)&&o(e)})),null!==t.residents&&t.residents.forAll((e=>{this._intersectsObjectWithOffset(i,e,n)&&o(e)})),!0}))}forEach(e){this._forEachNode(this._root,(t=>{const o=t.node;return o.terminals.forAll(e),null!==o.residents&&o.residents.forAll(e),!0})),this._degenerateObjects.forEach(e)}forEachDegenerateObject(e){this._degenerateObjects.forEach(e)}findClosest(e,t,i,s=(()=>!0),r=1/0){let h=1/0,a=1/0,l=null;const u=T(e,t),c=o=>{if(--r,!s(o))return;const n=this.objectToBoundingSphere(o);if(!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__/* .intersectsSphere */ .m7)(i,n))return;const u=z(e,t,(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.g)(n)),c=u-n[3],m=u+n[3];c<h&&(h=c,a=m,l=o)};return this._forEachNodeDepthOrdered(this._root,(s=>{if(r<=0||!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__/* .intersectsSphere */ .m7)(i,s.bounds))return!1;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(v,u,s.halfSize),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(v,v,s.bounds);if(z(e,t,v)>a)return!1;const h=s.node;return h.terminals.forAll((e=>c(e))),null!==h.residents&&h.residents.forAll((e=>c(e))),!0}),e,t),l}forEachInDepthRange(e,t,i,s,r,h,a){let l=-1/0,u=1/0;const c={setRange:e=>{i===b.DepthOrder.FRONT_TO_BACK?(l=Math.max(l,e.near),u=Math.min(u,e.far)):(l=Math.max(l,-e.far),u=Math.min(u,-e.near))}};c.setRange(s);const m=z(t,i,e),_=T(t,i),p=T(t,-i),g=e=>{if(!a(e))return;const o=this.objectToBoundingSphere(e),n=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.g)(o),s=z(t,i,n)-m,_=s-o[3],p=s+o[3];_>u||p<l||!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__/* .intersectsSphere */ .m7)(h,o)||r(e,c)};this._forEachNodeDepthOrdered(this._root,(e=>{if(!(0,_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_4__/* .intersectsSphere */ .m7)(h,e.bounds))return!1;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(v,_,e.halfSize),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(v,v,e.bounds);if(z(t,i,v)-m>u)return!1;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.i)(v,p,e.halfSize),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.g)(v,v,e.bounds);if(z(t,i,v)-m<l)return!1;const s=e.node;return s.terminals.forAll((e=>g(e))),null!==s.residents&&s.residents.forAll((e=>g(e))),!0}),t,i)}forEachNode(e){this._forEachNode(this._root,(t=>e(t.node,t.bounds,t.halfSize,t.depth)))}forEachNeighbor(e,t){const o=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(t),n=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.g)(t),s=t=>{const s=this.objectToBoundingSphere(t),r=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(s),h=o+r;return!((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.a)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.g)(s),n)-h*h<=0)||e(t)};let r=!0;const h=e=>{r&&(r=s(e))};this._forEachNode(this._root,(e=>{const t=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.a)(e.bounds),s=o+t;if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.a)((0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.g)(e.bounds),n)-s*s>0)return!1;const a=e.node;return a.terminals.forAll(h),r&&null!==a.residents&&a.residents.forAll(h),r})),r&&this.forEachDegenerateObject(h)}_intersectsNode(e,t){return j(t.bounds,2*-t.halfSize,C),j(t.bounds,2*t.halfSize,y),(0,_Util_js__WEBPACK_IMPORTED_MODULE_7__/* .rayBoxTest */ .O_)(e.origin,e.direction,C,y)}_intersectsNodeWithOffset(e,t,o){return j(t.bounds,2*-t.halfSize,C),j(t.bounds,2*t.halfSize,y),o.applyToMinMax(C,y),(0,_Util_js__WEBPACK_IMPORTED_MODULE_7__/* .rayBoxTest */ .O_)(e.origin,e.direction,C,y)}_intersectsObject(e,t){const o=this.objectToBoundingSphere(t);return!(o[3]>0)||(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.j)(o,e)}_intersectsObjectWithOffset(e,t,o){const n=this.objectToBoundingSphere(t);return!(n[3]>0)||(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.j)(o.applyToBoundingSphere(n),e)}_forEachNode(e,t){let o=g.acquire().init(e);const n=[o];for(;0!==n.length;){if(o=n.pop(),t(o)&&!o.isLeaf())for(let e=0;e<o.node.children.length;e++){o.node.children[e]&&n.push(g.acquire().init(o).advance(e))}g.release(o)}}_forEachNodeDepthOrdered(e,t,o,n=b.DepthOrder.FRONT_TO_BACK){let i=g.acquire().init(e);const s=[i];for(N(o,n,K);0!==s.length;){if(i=s.pop(),t(i)&&!i.isLeaf())for(let e=7;e>=0;--e){const t=K[e];i.node.children[t]&&s.push(g.acquire().init(i).advance(t))}g.release(i)}}_remove(e,t,o){P.clear();const n=o.advanceTo(t,((e,t)=>{P.push(e.node),P.push(t)}))?o.node.terminals:o.node.residents;if(n.removeUnordered(e),0===n.length)for(let i=P.length-2;i>=0;i-=2){const e=P.data[i],t=P.data[i+1];if(!this._purge(e,t))break}}_nodeIsEmpty(e){if(0!==e.terminals.length)return!1;if(null!==e.residents)return 0===e.residents.length;for(let t=0;t<e.children.length;t++)if(e.children[t])return!1;return!0}_purge(e,o){return o>=0&&(e.children[o]=null),!!this._nodeIsEmpty(e)&&(null===e.residents&&(e.residents=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({shrink:!0})),!0)}_add(e,t){t.advanceTo(this.objectToBoundingSphere(e))?t.node.terminals.push(e):(t.node.residents.push(e),t.node.residents.length>this._maximumObjectsPerNode&&t.depth<this._maximumDepth&&this._split(t))}_split(e){const t=e.node.residents;e.node.residents=null;for(let o=0;o<t.length;o++){const n=g.acquire().init(e);this._add(t.at(o),n),g.release(n)}}_grow(e,t){if(0!==t&&(x(e,t,(e=>this.objectToBoundingSphere(e)),k),E(k[3])&&!this._fitsInsideTree(k)))if(this._nodeIsEmpty(this._root.node))(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.h)(k,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const e=this._rootBoundsForRootAsSubNode(k);this._placingRootViolatesMaxDepth(e)?this._rebuildTree(k,e):this._growRootAsSubNode(e),g.release(e)}}_rebuildTree(e,t){(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(q,t.bounds),q[3]=t.halfSize,x([e,q],2,(e=>e),I);const o=g.acquire().init(this._root);this._root.initFrom(null,I,I[3]),this._root.increaseHalfSize(1.25),this._forEachNode(o,(e=>(this.add(e.node.terminals.data,e.node.terminals.length),null!==e.node.residents&&this.add(e.node.residents.data,e.node.residents.length),!0))),g.release(o)}_placingRootViolatesMaxDepth(e){const t=Math.log(e.halfSize/this._root.halfSize)*Math.LOG2E;let o=0;return this._forEachNode(this._root,(e=>(o=Math.max(o,e.depth),o+t<=this._maximumDepth))),o+t>this._maximumDepth}_rootBoundsForRootAsSubNode(e){const t=e[3],o=e;let n=-1/0;const i=this._root.bounds,s=this._root.halfSize;for(let h=0;h<3;h++){const e=i[h]-s-(o[h]-t),r=o[h]+t-(i[h]+s),a=Math.max(0,Math.ceil(e/(2*s))),d=Math.max(0,Math.ceil(r/(2*s)))+1,l=2**Math.ceil(Math.log(a+d)*Math.LOG2E);n=Math.max(n,l),L[h].min=a,L[h].max=d}for(let h=0;h<3;h++){let e=L[h].min,t=L[h].max;const o=(n-(e+t))/2;e+=Math.ceil(o),t+=Math.floor(o);const r=i[h]-s-e*s*2;F[h]=r+(t+e)*s}const r=n*s;return F[3]=r*A,g.acquire().initFrom(null,F,r,0)}_growRootAsSubNode(e){const t=this._root.node;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(k,this._root.bounds),k[3]=this._root.halfSize,this._root.init(e),e.advanceTo(k,null,!0),e.node.children=t.children,e.node.residents=t.residents,e.node.terminals=t.terminals}_shrink(){for(;;){const e=this._findShrinkIndex();if(-1===e)break;this._root.advance(e),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let e=null;const t=this._root.node.children;let o=0,n=0;for(;n<t.length&&null==e;)o=n++,e=t[o];for(;n<t.length;)if(t[n++])return-1;return o}_isDegenerate(e){return!E(this.objectToBoundingSphere(e)[3])}_fitsInsideTree(e){const t=this._root.bounds,o=this._root.halfSize;return e[3]<=o&&e[0]>=t[0]-o&&e[0]<=t[0]+o&&e[1]>=t[1]-o&&e[1]<=t[1]+o&&e[2]>=t[2]-o&&e[2]<=t[2]+o}toJSON(){const{maximumDepth:e,maximumObjectsPerNode:t,_objectCount:o}=this,n=this._nodeToJSON(this._root.node);return{maximumDepth:e,maximumObjectsPerNode:t,objectCount:o,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:n}}}_nodeToJSON(e){const t=e.children.map((e=>e?this._nodeToJSON(e):null)),o=e.residents?.map((e=>this.objectToBoundingSphere(e))),n=e.terminals?.map((e=>this.objectToBoundingSphere(e)));return{children:t,residents:o,terminals:n}}static fromJSON(e){const t=new b((e=>e),{maximumDepth:e.maximumDepth,maximumObjectsPerNode:e.maximumObjectsPerNode});return t._objectCount=e.objectCount,t._root.initFrom(e.root.node,e.root.bounds,e.root.halfSize,e.root.depth),t}}class g{constructor(){this.bounds=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this.halfSize=0,this.initFrom(null,null,0,0)}init(e){return this.initFrom(e.node,e.bounds,e.halfSize,e.depth)}initFrom(e,t,o,n=this.depth){return this.node=null!=e?e:g.createEmptyNode(),null!=t&&(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.h)(t,this.bounds),this.halfSize=o,this.depth=n,this}increaseHalfSize(e){this.halfSize*=e,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*A}advance(e){let t=this.node.children[e];t||(t=g.createEmptyNode(),this.node.children[e]=t),this.node=t,this.halfSize/=2,this.depth++;const o=M[e];return this.bounds[0]+=o[0]*this.halfSize,this.bounds[1]+=o[1]*this.halfSize,this.bounds[2]+=o[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(e,t,o=!1){for(;;){if(this.isTerminalFor(e))return t&&t(this,-1),!0;if(this.isLeaf()){if(!o)return t&&t(this,-1),!1;this.node.residents=null}const n=this._childIndex(e);t&&t(this,n),this.advance(n)}}isLeaf(){return null!=this.node.residents}isTerminalFor(e){return e[3]>this.halfSize/2}_childIndex(e){const t=this.bounds;return(t[0]<e[0]?1:0)+(t[1]<e[1]?2:0)+(t[2]<e[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({shrink:!0}),residents:new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A({shrink:!0})}}static acquire(){return g._pool.acquire()}static release(e){g._pool.release(e)}static clearPool(){g._pool.prune()}}function S(e,t){e[0]=Math.min(e[0],t[0]-t[3]),e[1]=Math.min(e[1],t[1]-t[3]),e[2]=Math.min(e[2],t[2]-t[3])}function O(e,t){e[0]=Math.max(e[0],t[0]+t[3]),e[1]=Math.max(e[1],t[1]+t[3]),e[2]=Math.max(e[2],t[2]+t[3])}function j(e,t,o){o[0]=e[0]+t,o[1]=e[1]+t,o[2]=e[2]+t}function x(e,t,o,n){if(1===t){const t=o(e[0]);(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.h)(t,n)}else{C[0]=1/0,C[1]=1/0,C[2]=1/0,y[0]=-1/0,y[1]=-1/0,y[2]=-1/0;for(let n=0;n<t;n++){const t=o(e[n]);E(t[3])&&(S(C,t),O(y,t))}(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.p)(n,C,y,.5),n[3]=Math.max(y[0]-C[0],y[1]-C[1],y[2]-C[2])/2}}function N(e,t,o){if(!H.length)for(let n=0;n<8;++n)H.push({index:0,distance:0});for(let n=0;n<8;++n){const o=M[n];H.data[n].index=n,H.data[n].distance=z(e,t,o)}H.sort(((e,t)=>e.distance-t.distance));for(let n=0;n<8;++n)o[n]=H.data[n].index}function T(e,t){let o,n=1/0;for(let i=0;i<8;++i){const s=z(e,t,D[i]);s<n&&(n=s,o=D[i])}return o}function z(e,t,o){return t*(e[0]*o[0]+e[1]*o[1]+e[2]*o[2])}function E(e){return!isNaN(e)&&e!==-1/0&&e!==1/0&&e>0}g._pool=new _core_ObjectPool_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A(g),function(e){var t;(t=e.DepthOrder||(e.DepthOrder={}))[t.FRONT_TO_BACK=1]="FRONT_TO_BACK",t[t.BACK_TO_FRONT=-1]="BACK_TO_FRONT"}(b||(b={}));const M=[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-1,-1,-1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1,-1,-1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-1,1,-1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1,1,-1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-1,-1,1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1,-1,1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-1,1,1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1,1,1)],D=[(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-1,-1,-1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-1,-1,1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-1,1,-1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(-1,1,1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1,-1,-1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1,-1,1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1,1,-1),(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(1,1,1)],A=Math.sqrt(3),B=[null];function R(e){return B[0]=e,B}const F=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),v=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),C=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),y=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),P=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,w=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),k=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),q=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),I=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),L=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],H=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A,K=[0,0,0,0,0,0,0,0],W=b;


/***/ }),

/***/ 1931:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AJ: () => (/* binding */ s),
/* harmony export */   K_: () => (/* binding */ l),
/* harmony export */   SE: () => (/* binding */ _),
/* harmony export */   V0: () => (/* binding */ c),
/* harmony export */   XO: () => (/* binding */ E),
/* harmony export */   aB: () => (/* binding */ a),
/* harmony export */   ez: () => (/* binding */ A),
/* harmony export */   xt: () => (/* binding */ S)
/* harmony export */ });
/* unused harmony export blendingColor */
/* harmony import */ var _TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81868);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41746);
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2449);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__/* .separateBlendingParams */ .p3)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendFactor */ .dn.SRC_ALPHA,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendFactor */ .dn.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendFactor */ .dn.ONE_MINUS_SRC_ALPHA,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendFactor */ .dn.ONE_MINUS_SRC_ALPHA),N=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__/* .simpleBlendingParams */ .ox)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendFactor */ .dn.ONE,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendFactor */ .dn.ONE),s=(0,_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__/* .simpleBlendingParams */ .ox)(_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendFactor */ .dn.ZERO,_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendFactor */ .dn.ONE_MINUS_SRC_ALPHA);function A(r){return r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__/* .TransparencyPassType */ .y.FrontFace?null:r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__/* .TransparencyPassType */ .y.Alpha?s:N}function E(r){return r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__/* .TransparencyPassType */ .y.FrontFace?_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_2__/* .defaultDepthWriteParams */ .kn:null}const S=5e5,_={factor:-1,units:-2};function a(n){return n?_:null}function l(r,e=_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompareFunction */ .MT.LESS){return r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__/* .TransparencyPassType */ .y.NONE||r===_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_0__/* .TransparencyPassType */ .y.FrontFace?e:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompareFunction */ .MT.LEQUAL}


/***/ }),

/***/ 58123:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(63678);
/* harmony import */ var _webgl_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(16541);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(r,i,s){this._context=r,this._locations=s,this._textures=new Map,this._freeTextureUnits=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A({deallocator:null}),this._glProgram=r.programCache.acquire(i.generate("vertex"),i.generate("fragment"),s),this._glProgram.stop=()=>{throw new Error("Wrapped _glProgram used directly")},this.bindPass=i.generateBindPass(this),this.bindDraw=i.generateBindDraw(this),this._fragmentUniforms=(0,_webgl_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_1__/* .webglDebugEnabled */ .en)()?i.fragmentUniforms:null}dispose(){this._glProgram.dispose()}get glName(){return this._glProgram.glName}get compiled(){return this._glProgram.compiled}setUniform1b(t,e){this._glProgram.setUniform1i(t,e?1:0)}setUniform1i(t,e){this._glProgram.setUniform1i(t,e)}setUniform1f(t,e){this._glProgram.setUniform1f(t,e)}setUniform2fv(t,e){this._glProgram.setUniform2fv(t,e)}setUniform3fv(t,e){this._glProgram.setUniform3fv(t,e)}setUniform4fv(t,e){this._glProgram.setUniform4fv(t,e)}setUniformMatrix3fv(t,e){this._glProgram.setUniformMatrix3fv(t,e)}setUniformMatrix4fv(t,e){this._glProgram.setUniformMatrix4fv(t,e)}setUniform1fv(t,e){this._glProgram.setUniform1fv(t,e)}setUniform1iv(t,e){this._glProgram.setUniform1iv(t,e)}setUniform2iv(t,e){this._glProgram.setUniform3iv(t,e)}setUniform3iv(t,e){this._glProgram.setUniform3iv(t,e)}setUniform4iv(t,e){this._glProgram.setUniform4iv(t,e)}assertCompatibleVertexAttributeLocations(t){t.locations!==this._locations&&console.error("VertexAttributeLocations are incompatible")}stop(){this._textures.clear(),this._freeTextureUnits.clear()}bindTexture(t,e){if(null==e?.glName){const e=this._textures.get(t);return e&&(this._context.bindTexture(null,e.unit),this._freeTextureUnit(e),this._textures.delete(t)),null}let r=this._textures.get(t);return null==r?(r=this._allocTextureUnit(e),this._textures.set(t,r)):r.texture=e,this._context.useProgram(this),this.setUniform1i(t,r.unit),this._context.bindTexture(e,r.unit),r.unit}rebindTextures(){this._context.useProgram(this),this._textures.forEach(((t,e)=>{this._context.bindTexture(t.texture,t.unit),this.setUniform1i(e,t.unit)})),null!=this._fragmentUniforms&&this._fragmentUniforms.forEach((t=>{"sampler2D"!==t.type&&"samplerCube"!==t.type||this._textures.has(t.name)||console.error(`Texture sampler ${t.name} has no bound texture`)}))}_allocTextureUnit(t){return{texture:t,unit:0===this._freeTextureUnits.length?this._textures.size:this._freeTextureUnits.pop()}}_freeTextureUnit(t){this._freeTextureUnits.push(t.unit)}}


/***/ }),

/***/ 2007:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $: () => (/* binding */ h)
/* harmony export */ });
/* unused harmony export ValidatedRenderGeometry */
/* harmony import */ var _core_uid_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(65061);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21839);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(96245);
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(72699);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h{constructor(r,s={}){this.geometry=r,this.screenToWorldRatio=1,this._transformation=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),this._shaderTransformation=null,this._boundingSphere=null,this.id=(0,_core_uid_js__WEBPACK_IMPORTED_MODULE_5__/* .generateUID */ .L)(),this.layerUid=s.layerUid,this.graphicUid=s.graphicUid,this.castShadow=s.castShadow??!1,null!=s.objectShaderTransformation&&this.objectShaderTransformationChanged(s.objectShaderTransformation)}get transformation(){return this._transformation}set transformation(t){(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.h)(this._transformation,t),this._boundingSphere=null}get boundingInfo(){return this.geometry.boundingInfo}objectShaderTransformationChanged(t){null==t?this._shaderTransformation=null:(this._shaderTransformation??=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_1__.a)(),(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.m)(this._shaderTransformation,t,this.geometry.transformation)),this._boundingSphere=null}get boundingSphere(){return this.boundingInfo?(null==this._boundingSphere&&(this._boundingSphere??=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_3__.c)(),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.e)(this._boundingSphere,this.boundingInfo.center,this.shaderTransformation),this._boundingSphere[3]=this.boundingInfo.radius*(0,_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .maxScale */ .hG)(this.shaderTransformation)),this._boundingSphere):_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_3__.N}get material(){return this.geometry.material}get type(){return this.geometry.type}get shaderTransformation(){return null==this._shaderTransformation?this.transformation:this._shaderTransformation}get attributes(){return this.geometry.attributes}get highlights(){return this.geometry.highlights}get occludees(){return this.geometry.occludees}get visible(){return this.geometry.visible}set visible(t){this.geometry.visible=t}}class m extends (/* unused pure expression or super */ null && (h)){}


/***/ }),

/***/ 38323:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   N: () => (/* binding */ A)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var A;!function(A){A[A.INTEGRATED_MESH=0]="INTEGRATED_MESH",A[A.OPAQUE_TERRAIN=1]="OPAQUE_TERRAIN",A[A.OPAQUE_MATERIAL=2]="OPAQUE_MATERIAL",A[A.TRANSPARENT_MATERIAL=3]="TRANSPARENT_MATERIAL",A[A.TRANSPARENT_TERRAIN=4]="TRANSPARENT_TERRAIN",A[A.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL=5]="TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL",A[A.OCCLUDED_TERRAIN=6]="OCCLUDED_TERRAIN",A[A.OCCLUDER_MATERIAL=7]="OCCLUDER_MATERIAL",A[A.TRANSPARENT_OCCLUDER_MATERIAL=8]="TRANSPARENT_OCCLUDER_MATERIAL",A[A.OCCLUSION_PIXELS=9]="OCCLUSION_PIXELS",A[A.ANTIALIASING=10]="ANTIALIASING",A[A.COMPOSITE=11]="COMPOSITE",A[A.BLIT=12]="BLIT",A[A.SSAO=13]="SSAO",A[A.HIGHLIGHT=14]="HIGHLIGHT",A[A.SHADOW_HIGHLIGHT=15]="SHADOW_HIGHLIGHT",A[A.ENVIRONMENT_OPAQUE=16]="ENVIRONMENT_OPAQUE",A[A.ENVIRONMENT_TRANSPARENT=17]="ENVIRONMENT_TRANSPARENT",A[A.LASERLINES=18]="LASERLINES",A[A.LASERLINES_CONTRAST_CONTROL=19]="LASERLINES_CONTRAST_CONTROL",A[A.HUD_MATERIAL=20]="HUD_MATERIAL",A[A.LABEL_MATERIAL=21]="LABEL_MATERIAL",A[A.LINE_CALLOUTS=22]="LINE_CALLOUTS",A[A.LINE_CALLOUTS_HUD_DEPTH=23]="LINE_CALLOUTS_HUD_DEPTH",A[A.DRAPED_MATERIAL=24]="DRAPED_MATERIAL",A[A.DRAPED_WATER=25]="DRAPED_WATER",A[A.VOXEL=26]="VOXEL",A[A.MAX_SLOTS=27]="MAX_SLOTS"}(A||(A={}));


/***/ }),

/***/ 98546:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I$: () => (/* binding */ P),
/* harmony export */   a9: () => (/* binding */ o),
/* harmony export */   m: () => (/* binding */ i),
/* harmony export */   mK: () => (/* binding */ m),
/* harmony export */   qh: () => (/* binding */ f),
/* harmony export */   r8: () => (/* binding */ l),
/* harmony export */   sf: () => (/* binding */ s),
/* harmony export */   v0: () => (/* binding */ e)
/* harmony export */ });
/* unused harmony exports renderWhenBitIsNotSet, replaceBitWhenDepthTestPasses */
/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(91013);
/* harmony import */ var _webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const i={func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompareFunction */ .MT.LESS},s={func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompareFunction */ .MT.ALWAYS},e={mask:255},l={mask:0},t=a=>({function:{func:E.NOTEQUAL,ref:a,mask:a},operation:{fail:n.KEEP,zFail:n.KEEP,zPass:n.KEEP}}),u=a=>({function:{func:E.ALWAYS,ref:a,mask:a},operation:{fail:n.KEEP,zFail:n.KEEP,zPass:n.REPLACE}}),f={function:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompareFunction */ .MT.ALWAYS,ref:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .StencilBits */ .dd.OutlineVisualElementMask,mask:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .StencilBits */ .dd.OutlineVisualElementMask},operation:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.ZERO}},o={function:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompareFunction */ .MT.ALWAYS,ref:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .StencilBits */ .dd.OutlineVisualElementMask,mask:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .StencilBits */ .dd.OutlineVisualElementMask},operation:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.REPLACE}},P={function:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompareFunction */ .MT.EQUAL,ref:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .StencilBits */ .dd.OutlineVisualElementMask,mask:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .StencilBits */ .dd.OutlineVisualElementMask},operation:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP}},m={function:{func:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompareFunction */ .MT.NOTEQUAL,ref:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .StencilBits */ .dd.OutlineVisualElementMask,mask:_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .StencilBits */ .dd.OutlineVisualElementMask},operation:{fail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP,zFail:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP,zPass:_webgl_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .StencilOperation */ .eA.KEEP}};


/***/ }),

/***/ 28443:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  g: () => (/* binding */ N)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Error.js
var core_Error = __webpack_require__(98849);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Evented.js
var Evented = __webpack_require__(17306);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(6267);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/promiseUtils.js
var promiseUtils = __webpack_require__(40189);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/typedArrayUtil.js
var typedArrayUtil = __webpack_require__(86942);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/urlUtils.js
var urlUtils = __webpack_require__(20909);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/requestImageUtils.js
var requestImageUtils = __webpack_require__(34528);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/requestUtils.js
var requestUtils = __webpack_require__(89125);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js
var basicInterfaces = __webpack_require__(91013);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/assets.js
var assets = __webpack_require__(99050);
;// ../node_modules/@arcgis/core/libs/basisu/BasisU.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(){if(null==s){const t=t=>(0,assets/* getAssetUrl */.s)(`esri/libs/basisu/${t}`);s=__webpack_require__.e(/* import() */ 3964).then(__webpack_require__.bind(__webpack_require__, 63964)).then((e=>e.b)).then((({default:e})=>e({locateFile:t}).then((e=>(e.initializeBasis(),delete e.then,e)))))}return s}let s;

;// ../node_modules/@arcgis/core/libs/basisu/TextureFormat.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var TextureFormat_;!function(_){_[_.ETC1_RGB=0]="ETC1_RGB",_[_.ETC2_RGBA=1]="ETC2_RGBA",_[_.BC1_RGB=2]="BC1_RGB",_[_.BC3_RGBA=3]="BC3_RGBA",_[_.BC4_R=4]="BC4_R",_[_.BC5_RG=5]="BC5_RG",_[_.BC7_M6_RGB=6]="BC7_M6_RGB",_[_.BC7_M5_RGBA=7]="BC7_M5_RGBA",_[_.PVRTC1_4_RGB=8]="PVRTC1_4_RGB",_[_.PVRTC1_4_RGBA=9]="PVRTC1_4_RGBA",_[_.ASTC_4x4_RGBA=10]="ASTC_4x4_RGBA",_[_.ATC_RGB=11]="ATC_RGB",_[_.ATC_RGBA=12]="ATC_RGBA",_[_.FXT1_RGB=17]="FXT1_RGB",_[_.PVRTC2_4_RGB=18]="PVRTC2_4_RGB",_[_.PVRTC2_4_RGBA=19]="PVRTC2_4_RGBA",_[_.ETC2_EAC_R11=20]="ETC2_EAC_R11",_[_.ETC2_EAC_RG11=21]="ETC2_EAC_RG11",_[_.RGBA32=13]="RGBA32",_[_.RGB565=14]="RGB565",_[_.BGR565=15]="BGR565",_[_.RGBA4444=16]="RGBA4444"}(TextureFormat_||(TextureFormat_={}));

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/enums.js
var enums = __webpack_require__(41746);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/Texture.js + 1 modules
var Texture = __webpack_require__(6940);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/Util.js
var Util = __webpack_require__(19282);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let l=null,o=null;async function g(){return null==o&&(o=t(),l=await o),o}function u(e,t){if(null==l)return e.byteLength;const n=new l.BasisFile(new Uint8Array(e)),s=E(n)?m(n.getNumLevels(0),n.getHasAlpha(),n.getImageWidth(0,0),n.getImageHeight(0,0),t):0;return n.close(),n.delete(),s}function c(e,t){if(null==l)return e.byteLength;const n=new l.KTX2File(new Uint8Array(e)),s=T(n)?m(n.getLevels(),n.getHasAlpha(),n.getWidth(),n.getHeight(),t):0;return n.close(),n.delete(),s}function m(e,t,s,r,i){const l=(0,Util/* getBytesPerElementFormat */.IB)(t?enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGBA8_ETC2_EAC:enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGB8_ETC2),o=i&&e>1?(4**e-1)/(3*4**(e-1)):1;return Math.ceil(s*r*l*o)}function E(e){return e.getNumImages()>=1&&!e.isUASTC()}function T(e){return e.getFaces()>=1&&e.isETC1S()}async function h(e,t,n){null==l&&(l=await g());const s=new l.BasisFile(new Uint8Array(n));if(!E(s))return null;s.startTranscoding();const r=p(e,t,s.getNumLevels(0),s.getHasAlpha(),s.getImageWidth(0,0),s.getImageHeight(0,0),((e,t)=>s.getImageTranscodedSizeInBytes(0,e,t)),((e,t,n)=>s.transcodeImage(n,0,e,t,0,0)));return s.close(),s.delete(),r}async function _(e,t,n){null==l&&(l=await g());const s=new l.KTX2File(new Uint8Array(n));if(!T(s))return null;s.startTranscoding();const r=p(e,t,s.getLevels(),s.getHasAlpha(),s.getWidth(),s.getHeight(),((e,t)=>s.getImageTranscodedSizeInBytes(e,0,0,t)),((e,t,n)=>s.transcodeImage(n,e,0,0,t,0,-1,-1)));return s.close(),s.delete(),r}function p(e,a,l,o,g,u,c,m){const{compressedTextureETC:E,compressedTextureS3TC:T}=e.capabilities,[h,_]=E?o?[TextureFormat_.ETC2_RGBA,enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGBA8_ETC2_EAC]:[TextureFormat_.ETC1_RGB,enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGB8_ETC2]:T?o?[TextureFormat_.BC3_RGBA,enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT]:[TextureFormat_.BC1_RGB,enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGB_S3TC_DXT1_EXT]:[TextureFormat_.RGBA32,enums/* PixelFormat */.Ab.RGBA],p=a.hasMipmap?l:Math.min(1,l),A=[];for(let t=0;t<p;t++)A.push(new Uint8Array(c(t,h))),m(t,h,A[t]);return a.internalFormat=_,a.hasMipmap=A.length>1,a.samplingMode=a.hasMipmap?enums/* TextureSamplingMode */.Cj.LINEAR_MIPMAP_LINEAR:enums/* TextureSamplingMode */.Cj.LINEAR,a.width=g,a.height=u,new Texture/* Texture */.g(e,a,{type:"compressed",levels:A})}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js
var ContentObject = __webpack_require__(71077);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js
var ContentObjectType = __webpack_require__(52997);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const DDSUtil_o=Logger/* default */.A.getLogger("esri.views.3d.webgl-engine.lib.DDSUtil"),a=542327876,i=131072,DDSUtil_l=4;function DDSUtil_s(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function DDSUtil_u(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const DDSUtil_c=DDSUtil_s("DXT1"),DDSUtil_h=DDSUtil_s("DXT3"),DDSUtil_m=DDSUtil_s("DXT5"),d=31,DDSUtil_p=0,DDSUtil_g=1,D=2,C=3,f=4,w=7,DDSUtil_T=20,DDSUtil_=21;function DDSUtil_E(e,r,o){const a=S(o,r.hasMipmap??!1);if(null==a)throw new Error("DDS texture data is null");const{textureData:i,internalFormat:l,width:s,height:u}=a;return r.samplingMode=i.levels.length>1?enums/* TextureSamplingMode */.Cj.LINEAR_MIPMAP_LINEAR:enums/* TextureSamplingMode */.Cj.LINEAR,r.hasMipmap=i.levels.length>1,r.internalFormat=l,r.width=s,r.height=u,new Texture/* Texture */.g(e,r,i)}function S(e,t){const n=new Int32Array(e,0,d);if(n[DDSUtil_p]!==a)return DDSUtil_o.error("Invalid magic number in DDS header"),null;if(!(n[DDSUtil_T]&DDSUtil_l))return DDSUtil_o.error("Unsupported format, must contain a FourCC code"),null;const s=n[DDSUtil_];let E,S;switch(s){case DDSUtil_c:E=8,S=enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case DDSUtil_h:E=16,S=enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case DDSUtil_m:E=16,S=enums/* CompressedTextureFormat */.CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return DDSUtil_o.error("Unsupported FourCC code:",DDSUtil_u(s)),null}let A=1,M=n[f],x=n[C];0==(3&M)&&0==(3&x)||(DDSUtil_o.warn("Rounding up compressed texture size to nearest multiple of 4."),M=M+3&-4,x=x+3&-4);const R=M,X=x;let b,I;n[D]&i&&!1!==t&&(A=Math.max(1,n[w]));let v=n[DDSUtil_g]+4;const F=[];for(let r=0;r<A;++r)I=(M+3>>2)*(x+3>>2)*E,b=new Uint8Array(e,v,I),F.push(b),v+=I,M=Math.max(1,M>>1),x=Math.max(1,x>>1);return{textureData:{type:"compressed",levels:F},internalFormat:S,width:R,height:X}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/textureUtils.js
var textureUtils = __webpack_require__(84147);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js
var lib_Util = __webpack_require__(58947);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/TextureDescriptor.js
var TextureDescriptor = __webpack_require__(45758);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class N extends ContentObject/* ContentObject */.J{get parameters(){return this._parameters}constructor(e,r){super(),this._data=e,this.type=ContentObjectType/* ContentObjectType */.X.Texture,this._glTexture=null,this._loadingPromise=null,this._loadingController=null,this.events=new Evented/* default */.A,this._parameters={...M,...r},this._startPreload(e)}dispose(){this.unload(),this._data=this.frameUpdate=void 0}_startPreload(e){null!=e&&(e instanceof HTMLVideoElement?(this.frameUpdate=t=>this._frameUpdate(e,t),this._startPreloadVideoElement(e)):e instanceof HTMLImageElement&&this._startPreloadImageElement(e))}_startPreloadVideoElement(e){if(!((0,urlUtils/* isBlobProtocol */.w8)(e.src)||"auto"===e.preload&&e.crossOrigin)){e.preload="auto",e.crossOrigin="anonymous";const t=!e.paused;if(e.src=e.src,t&&e.autoplay){const t=()=>{e.removeEventListener("canplay",t),e.play()};e.addEventListener("canplay",t)}}}_startPreloadImageElement(e){(0,urlUtils/* isDataProtocol */.DB)(e.src)||(0,urlUtils/* isBlobProtocol */.w8)(e.src)||e.crossOrigin||(e.crossOrigin="anonymous",e.src=e.src)}_createDescriptor(e){const t=new TextureDescriptor/* TextureDescriptor */.R;return t.wrapMode=this._parameters.wrap??enums/* TextureWrapMode */.pF.REPEAT,t.flipped=!this._parameters.noUnpackFlip,t.samplingMode=this._parameters.mipmap?enums/* TextureSamplingMode */.Cj.LINEAR_MIPMAP_LINEAR:enums/* TextureSamplingMode */.Cj.LINEAR,t.hasMipmap=!!this._parameters.mipmap,t.preMultiplyAlpha=!!this._parameters.preMultiplyAlpha,t.maxAnisotropy=this._parameters.maxAnisotropy??(this._parameters.mipmap?e.parameters.maxMaxAnisotropy:1),t}get glTexture(){return this._glTexture}get memoryEstimate(){return this._glTexture?.gpuMemoryUsage||Texture_C(this._data,this._parameters)}load(e){if(this._glTexture)return this._glTexture;if(this._loadingPromise)return this._loadingPromise;const t=this._data;return null==t?(this._glTexture=new Texture/* Texture */.g(e,this._createDescriptor(e),null),this._glTexture):(this._parameters.reloadable||(this._data=void 0),"string"==typeof t?this._loadFromURL(e,t):t instanceof Image?this._loadFromImageElement(e,t):t instanceof HTMLVideoElement?this._loadFromVideoElement(e,t):t instanceof ImageData||t instanceof HTMLCanvasElement?this._loadFromImage(e,t):((0,typedArrayUtil/* isArrayBuffer */.mw)(t)||(0,typedArrayUtil/* isUint8Array */.mg)(t))&&this._parameters.encoding===basicInterfaces/* TextureEncodingMimeType */.JS.DDS_ENCODING?this._loadFromDDSData(e,t):((0,typedArrayUtil/* isArrayBuffer */.mw)(t)||(0,typedArrayUtil/* isUint8Array */.mg)(t))&&this._parameters.encoding===basicInterfaces/* TextureEncodingMimeType */.JS.KTX2_ENCODING?this._loadFromKTX2(e,t):((0,typedArrayUtil/* isArrayBuffer */.mw)(t)||(0,typedArrayUtil/* isUint8Array */.mg)(t))&&this._parameters.encoding===basicInterfaces/* TextureEncodingMimeType */.JS.BASIS_ENCODING?this._loadFromBasis(e,t):(0,typedArrayUtil/* isUint8Array */.mg)(t)?this._loadFromPixelData(e,t):(0,typedArrayUtil/* isArrayBuffer */.mw)(t)?this._loadFromPixelData(e,new Uint8Array(t)):null)}_frameUpdate(e,t){return null==this._glTexture||e.readyState<V.HAVE_CURRENT_DATA||t===e.currentTime?t:(this._glTexture.setData(e),this._glTexture.descriptor.hasMipmap&&this._glTexture.generateMipmap(),this._parameters.updateCallback&&this._parameters.updateCallback(),e.currentTime)}_loadFromDDSData(e,t){return this._glTexture=DDSUtil_E(e,this._createDescriptor(e),t),this._glTexture}_loadFromKTX2(e,t){return this._loadAsync((()=>_(e,this._createDescriptor(e),t).then((e=>(this._glTexture=e,e)))))}_loadFromBasis(e,t){return this._loadAsync((()=>h(e,this._createDescriptor(e),t).then((e=>(this._glTexture=e,e)))))}_loadFromPixelData(e,t){(0,lib_Util/* assert */.vA)(this._parameters.width>0&&this._parameters.height>0);const r=this._createDescriptor(e);return r.pixelFormat=1===this._parameters.components?enums/* PixelFormat */.Ab.LUMINANCE:3===this._parameters.components?enums/* PixelFormat */.Ab.RGB:enums/* PixelFormat */.Ab.RGBA,r.width=this._parameters.width??0,r.height=this._parameters.height??0,this._glTexture=new Texture/* Texture */.g(e,r,t),this._glTexture}_loadFromURL(e,t){return this._loadAsync((async r=>{const s=await (0,requestImageUtils/* requestImage */.D)(t,{signal:r});return (0,promiseUtils/* throwIfAborted */.Te)(r),this._loadFromImage(e,s)}))}_loadFromImageElement(e,t){return t.complete?this._loadFromImage(e,t):this._loadAsync((async r=>{const s=await (0,requestUtils/* loadImageAsync */.Sx)(t,t.src,!1,r);return (0,promiseUtils/* throwIfAborted */.Te)(r),this._loadFromImage(e,s)}))}_loadFromVideoElement(e,t){return t.readyState>=V.HAVE_CURRENT_DATA?this._loadFromImage(e,t):this._loadFromVideoElementAsync(e,t)}_loadFromVideoElementAsync(t,r){return this._loadAsync((a=>new Promise(((n,l)=>{const m=()=>{r.removeEventListener("loadeddata",h),r.removeEventListener("error",_),(0,maybe/* removeMaybe */.xt)(p)},h=()=>{r.readyState>=V.HAVE_CURRENT_DATA&&(m(),n(this._loadFromImage(t,r)))},_=t=>{m(),l(t||new core_Error/* default */.A("Failed to load video"))};r.addEventListener("loadeddata",h),r.addEventListener("error",_);const p=(0,promiseUtils/* onAbort */.u7)(a,(()=>_((0,promiseUtils/* createAbortError */.NK)())))}))))}_loadFromImage(e,t){let r=t;if(!(r instanceof HTMLVideoElement)){const{maxTextureSize:t}=e.parameters;r=this._parameters.downsampleUncompressed?(0,textureUtils/* downsampleImage */.IR)(r,t):(0,textureUtils/* ensureImageMaxSize */.vM)(r,t)}const s=R(r);this._parameters.width=s.width,this._parameters.height=s.height;const a=this._createDescriptor(e);return a.pixelFormat=3===this._parameters.components?enums/* PixelFormat */.Ab.RGB:enums/* PixelFormat */.Ab.RGBA,a.width=s.width,a.height=s.height,this._glTexture=new Texture/* Texture */.g(e,a,r),this._glTexture}_loadAsync(e){const t=new AbortController;this._loadingController=t;const r=e(t.signal);this._loadingPromise=r;const s=()=>{this._loadingController===t&&(this._loadingController=null),this._loadingPromise===r&&(this._loadingPromise=null)};return r.then(s,s),r}unload(){if(this._glTexture=(0,maybe/* disposeMaybe */.WD)(this._glTexture),null!=this._loadingController){const e=this._loadingController;this._loadingController=null,this._loadingPromise=null,e.abort()}this.events.emit("unloaded")}}function Texture_C(e,t){if(null==e)return 0;if((0,typedArrayUtil/* isArrayBuffer */.mw)(e)||(0,typedArrayUtil/* isUint8Array */.mg)(e))return t.encoding===basicInterfaces/* TextureEncodingMimeType */.JS.KTX2_ENCODING?c(e,!!t.mipmap):t.encoding===basicInterfaces/* TextureEncodingMimeType */.JS.BASIS_ENCODING?u(e,!!t.mipmap):e.byteLength;const{width:r,height:s}=e instanceof Image||e instanceof ImageData||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement?R(e):t;return(t.mipmap?4/3:1)*r*s*(t.components||4)||0}function R(e){return e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e}var V;!function(e){e[e.HAVE_NOTHING=0]="HAVE_NOTHING",e[e.HAVE_METADATA=1]="HAVE_METADATA",e[e.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",e[e.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",e[e.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(V||(V={}));const M={wrap:{s:enums/* TextureWrapMode */.pF.REPEAT,t:enums/* TextureWrapMode */.pF.REPEAT},mipmap:!0,noUnpackFlip:!1,preMultiplyAlpha:!1,downsampleUncompressed:!1};


/***/ }),

/***/ 81868:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   y: () => (/* binding */ o)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var o;!function(o){o[o.Color=0]="Color",o[o.Alpha=1]="Alpha",o[o.FrontFace=2]="FrontFace",o[o.NONE=3]="NONE",o[o.COUNT=4]="COUNT"}(o||(o={}));


/***/ }),

/***/ 91080:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   q: () => (/* binding */ C)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var C;!function(C){C[C.ASYNC=0]="ASYNC",C[C.SYNC=1]="SYNC"}(C||(C={}));


/***/ }),

/***/ 11459:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80976);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r extends _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexArrayObject */ .Z{}


/***/ }),

/***/ 54671:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  x: () => (/* binding */ a)
});

// UNUSED EXPORTS: isWebGLLayer

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Evented.js
var Evented = __webpack_require__(17306);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Handles.js
var Handles = __webpack_require__(1436);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(6267);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/PooledArray.js + 1 modules
var PooledArray = __webpack_require__(63678);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObject.js
var ContentObject = __webpack_require__(71077);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ContentObjectType.js
var ContentObjectType = __webpack_require__(52997);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DirtyEvents.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const DirtyEvents_e=["layerObjectAdded","layerObjectRemoved","layerObjectsAdded","layerObjectsRemoved","transformationChanged","shaderTransformationChanged","visibilityChanged","occlusionChanged","highlightChanged","geometryAdded","geometryRemoved","attributesChanged"];

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js
var Octree = __webpack_require__(91337);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js
var UpdatePolicy = __webpack_require__(91080);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a extends ContentObject/* ContentObject */.J{get objects(){return this._objects}constructor(s,r,h=""){super(),this.stage=s,this.apiLayerUid=h,this.type=ContentObjectType/* ContentObjectType */.X.Layer,this.events=new Evented/* default */.A,this.visible=!0,this.pickable=!0,this.sliceable=!1,this._objects=new PooledArray/* default */.A,this._objectsAdded=new PooledArray/* default */.A,this._handles=new Handles/* default */.A,this.apiLayerUid=h,this.visible=r?.visible??!0,this.pickable=r?.pickable??!0,this.updatePolicy=r?.updatePolicy??UpdatePolicy/* UpdatePolicy */.q.ASYNC,this._disableOctree=r?.disableOctree??!1,s.add(this);for(const e of DirtyEvents_e)this._handles.add(this.events.on(e,(t=>s.handleEvent(e,t))))}destroy(){this._handles.size&&(this._handles.destroy(),this.stage.remove(this),this.invalidateSpatialQueryAccelerator())}add(e){this._objects.push(e),e.parentLayer=this,this.events.emit("layerObjectAdded",{layer:this,object:e}),null!=this._octree&&this._objectsAdded.push(e)}remove(e){this._objects.removeUnordered(e)&&(e.parentLayer=null,this.events.emit("layerObjectRemoved",{layer:this,object:e}),null!=this._octree&&(this._objectsAdded.removeUnordered(e)||this._octree.remove([e])))}addMany(e){this._objects.pushArray(e);for(const t of e)t.parentLayer=this;this.events.emit("layerObjectsAdded",{layer:this,objects:e}),null!=this._octree&&this._objectsAdded.pushArray(e)}removeMany(e){const t=new Array;if(this._objects.removeUnorderedMany(e,e.length,t),0!==t.length){for(const e of t)e.parentLayer=null;if(this.events.emit("layerObjectsRemoved",{layer:this,objects:t}),null!=this._octree){for(let e=0;e<t.length;)this._objectsAdded.removeUnordered(t[e])?(t[e]=t[t.length-1],t.length-=1):++e;this._octree.remove(t)}}}sync(){this.updatePolicy!==UpdatePolicy/* UpdatePolicy */.q.SYNC&&this.stage.syncLayer(this.id)}notifyObjectBBChanged(e,t){null==this._octree||this._objectsAdded.includes(e)||this._octree.update(e,t)}getSpatialQueryAccelerator(){return null==this._octree&&this._objects.length>50&&!this._disableOctree?(this._octree=new Octree/* default */.A((e=>e.boundingVolumeWorldSpace.bounds)),this._octree.add(this._objects.data,this._objects.length)):null!=this._octree&&this._objectsAdded.length>0&&(this._octree.add(this._objectsAdded.data,this._objectsAdded.length),this._objectsAdded.clear()),this._octree}invalidateSpatialQueryAccelerator(){this._octree=(0,maybe/* destroyMaybe */.pR)(this._octree),this._objectsAdded.clear()}}function n(e){return null!=e&&e.type===o.Layer}


/***/ }),

/***/ 91013:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Am: () => (/* binding */ a),
/* harmony export */   ID: () => (/* binding */ i),
/* harmony export */   JS: () => (/* binding */ u),
/* harmony export */   Mg: () => (/* binding */ t),
/* harmony export */   dd: () => (/* binding */ N),
/* harmony export */   it: () => (/* binding */ n),
/* harmony export */   s2: () => (/* binding */ e),
/* harmony export */   sf: () => (/* binding */ s)
/* harmony export */ });
/* unused harmony export RenderRequestType */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e,n,O,a,N,t,s,i,u;!function(e){e[e.None=0]="None",e[e.Front=1]="Front",e[e.Back=2]="Back",e[e.COUNT=3]="COUNT"}(e||(e={})),function(e){e[e.Less=0]="Less",e[e.Lequal=1]="Lequal",e[e.COUNT=2]="COUNT"}(n||(n={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.UPDATE=1]="UPDATE"}(O||(O={})),function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(a||(a={})),function(e){e[e.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",e[e.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(N||(N={})),function(e){e[e.Highlight=0]="Highlight",e[e.MaskOccludee=1]="MaskOccludee",e[e.COUNT=2]="COUNT"}(t||(t={})),function(e){e[e.Blend=0]="Blend",e[e.Opaque=1]="Opaque",e[e.Mask=2]="Mask",e[e.MaskBlend=3]="MaskBlend",e[e.COUNT=4]="COUNT"}(s||(s={})),function(e){e[e.OFF=0]="OFF",e[e.ON=1]="ON"}(i||(i={})),function(e){e.DDS_ENCODING="image/vnd-ms.dds",e.KTX2_ENCODING="image/ktx2",e.BASIS_ENCODING="image/x.basis"}(u||(u={}));


/***/ }),

/***/ 99730:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   i3: () => (/* binding */ o)
/* harmony export */ });
/* unused harmony exports isHudIntersectorResult, isObjectIntersectorResult, sliceFilterPredicate */
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22279);
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(28769);
/* harmony import */ var _IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(44912);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(t){return null!=t?.dist}function c(r){return(e,o,c)=>(t(i,e,o,c),!n(r,i))}function s(t){return o(t)&&t.intersector===e.OBJECT&&!!t.target}function u(t){return o(t)&&t.intersector===e.HUD&&!!t.target&&"center"in t.target&&null!=t.target.center}const i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__.c)();


/***/ }),

/***/ 28953:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MD: () => (/* binding */ f),
/* harmony export */   cJ: () => (/* binding */ u),
/* harmony export */   hs: () => (/* binding */ m),
/* harmony export */   m0: () => (/* binding */ s)
/* harmony export */ });
/* unused harmony exports getLabelSettings, getSettings */
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10714);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(e,t){return new h(e,v,t)}function i(e,t){const{curvatureDependent:a,scaleStart:r,scaleFallOffRange:n}=v;return new h(e,{curvatureDependent:{min:{curvature:a.min.curvature,tiltAngle:a.min.tiltAngle,scaleFallOffFactor:d.curvatureDependent.min.scaleFallOffFactor},max:{curvature:a.max.curvature,tiltAngle:a.max.tiltAngle,scaleFallOffFactor:d.curvatureDependent.max.scaleFallOffFactor}},scaleStart:r,scaleFallOffRange:n,minPixelSize:d.minPixelSize},t)}function c(e){return Math.abs(e*e*e)}function l(e,t,a){const r=a.parameters;return F.scale=Math.min(r.divisor/(t-r.offset),1),F.factor=c(e),F}function s(t,a){return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .lerp */ .Cc)(t*Math.max(a.scale,a.minScaleFactor),t,a.factor)}function o(e,t,a){const r=l(e,t,a);return r.minScaleFactor=0,s(1,r)}function u(e,t,a,r){r.scale=o(e,t,a),r.factor=0,r.minScaleFactor=a.minScaleFactor}function f(e,t,a=[0,0]){const r=Math.min(Math.max(t.scale,t.minScaleFactor),1);return a[0]=e[0]*r,a[1]=e[1]*r,a}function m(e,t,a,r){return s(e,l(t,a,r))}class h{get minScaleFactor(){return null!=this._fontHeight?Math.min(this._description.minPixelSize/this._fontHeight,1):0}constructor(e,t,a,n=p(),i){this._viewingMode=e,this._description=t,this._ellipsoidRadius=a,this.parameters=n,this._fontHeight=i,this._viewingMode===r.Local?(this._coverageCompensation=this._surfaceCoverageCompensationLocal,this._calculateCurvatureDependentParameters=this._calculateCurvatureDependentParametersLocal):(this._coverageCompensation=this._surfaceCoverageCompensationGlobal,this._calculateCurvatureDependentParameters=this._calculateCurvatureDependentParametersGlobal)}update(e){return(!this.parameters||this.parameters.camera.fovY!==e.fovY||this.parameters.camera.distance!==e.distance)&&(this._calculateParameters(e,this._ellipsoidRadius,this.parameters),!0)}overrideFontHeight(e){return e!==this._fontHeight?new h(this._viewingMode,this._description,this._ellipsoidRadius,this.parameters,e):this}_calculateParameters(e,t,a){const{scaleStart:r,scaleFallOffRange:n}=this._description,{fovY:i,distance:c}=e,l=this._calculateCurvatureDependentParameters(e,t),s=this._coverageCompensation(e,t,l),{tiltAngle:o,scaleFallOffFactor:u}=l,f=Math.sin(o)*c,m=.5*Math.PI-o-i*(.5-r*s),h=f/Math.cos(m),v=m+i*n*s,d=(h-u*(f/Math.cos(v)))/(1-u);return a.camera.fovY=e.fovY,a.camera.distance=e.distance,a.offset=d,a.divisor=h-d,a}_calculateCurvatureDependentParametersLocal(e,t,a=g){return a.tiltAngle=this._description.curvatureDependent.min.tiltAngle,a.scaleFallOffFactor=this._description.curvatureDependent.min.scaleFallOffFactor,a}_calculateCurvatureDependentParametersGlobal(t,r,n=g){const i=this._description.curvatureDependent,c=1+t.distance/r,l=Math.sqrt(c*c-1),[s,o]=[i.min.curvature,i.max.curvature],u=a((l-s)/(o-s),0,1),[f,m]=[i.min,i.max];return n.tiltAngle=e(f.tiltAngle,m.tiltAngle,u),n.scaleFallOffFactor=e(f.scaleFallOffFactor,m.scaleFallOffFactor,u),n}_surfaceCoverageCompensationLocal(e,t,a){return(e.fovY-a.tiltAngle)/e.fovY}_surfaceCoverageCompensationGlobal(e,t,a){const r=t*t,n=a.tiltAngle+.5*Math.PI,{fovY:i,distance:c}=e,l=c*c+r-2*Math.cos(n)*c*t,s=Math.sqrt(l),o=Math.sqrt(l-r);return(Math.acos(o/s)-Math.asin(t/(s/Math.sin(n)))+.5*i)/i}}const v={curvatureDependent:{min:{curvature:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .deg2rad */ .kU)(10),tiltAngle:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .deg2rad */ .kU)(12),scaleFallOffFactor:.5},max:{curvature:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .deg2rad */ .kU)(70),tiltAngle:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .deg2rad */ .kU)(40),scaleFallOffFactor:.8}},scaleStart:.3,scaleFallOffRange:.65,minPixelSize:0},d={curvatureDependent:{min:{scaleFallOffFactor:.7},max:{scaleFallOffFactor:.95}},minPixelSize:14};function p(){return{camera:{distance:0,fovY:0},divisor:0,offset:0}}const F={scale:0,factor:0,minScaleFactor:0},g={tiltAngle:0,scaleFallOffFactor:0};


/***/ }),

/***/ 53834:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G: () => (/* binding */ n),
/* harmony export */   Q: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const n={stableRendering:!1},e={rootOrigin:null};


/***/ }),

/***/ 84147:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IR: () => (/* binding */ i),
/* harmony export */   Mv: () => (/* binding */ n),
/* harmony export */   vM: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98849);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const e=16;function n(t){return Math.ceil(t/e)*e}function i(t,e){const n=1048576,i=4096,h=2;let o=t.width*t.height;if(o<i)return t instanceof ImageData?a(t):t;let c=t.width,u=t.height;do{c=Math.ceil(c/h),u=Math.ceil(u/h),o=c*u}while(o>n||null!=e&&(c>e||u>e));return r(t,c,u)}function h(t,e){const n=Math.max(t.width,t.height);if(n<=e)return t;const i=e/n;return r(t,Math.round(t.width*i),Math.round(t.height*i))}function r(t,e,n){if(t instanceof ImageData)return r(a(t),e,n);const i=document.createElement("canvas");i.width=e,i.height=n;return i.getContext("2d").drawImage(t,0,0,i.width,i.height),i}function a(e){const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");if(null==i)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A("Failed to create 2d context from HTMLCanvasElement");return i.putImageData(e,0,0),n}


/***/ }),

/***/ 689:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   dg: () => (/* binding */ y),
/* harmony export */   ou: () => (/* binding */ I)
/* harmony export */ });
/* unused harmony exports I3SVerticalOffsetGlobalViewingMode, Object3DVerticalOffsetGlobalViewingMode, TerrainVerticalOffsetGlobalViewingMode, getVerticalOffsetI3S, getVerticalOffsetTerrain, terrainId */
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(46615);
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76287);
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(37046);
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(56192);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(22279);
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(96245);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(10714);
/* harmony import */ var _support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(29709);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class y{constructor(){this._transform=(0,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.a)(),this._transformInverse=new x({value:this._transform},_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.i,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.a),this._transformInverseTranspose=new x(this._transformInverse,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.t,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.a),this._transformTranspose=new x({value:this._transform},_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.t,_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__.a),this._transformInverseRotation=new x({value:this._transform},_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_0__.e,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_1__.a)}_invalidateLazyTransforms(){this._transformInverse.invalidate(),this._transformInverseTranspose.invalidate(),this._transformTranspose.invalidate(),this._transformInverseRotation.invalidate()}get transform(){return this._transform}get inverse(){return this._transformInverse.value}get inverseTranspose(){return this._transformInverseTranspose.value}get inverseRotation(){return this._transformInverseRotation.value}get transpose(){return this._transformTranspose.value}setTransformMatrix(t){(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.h)(this._transform,t)}multiplyTransform(t){(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.m)(this._transform,this._transform,t)}set(t){(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__.h)(this._transform,t),this._invalidateLazyTransforms()}setAndInvalidateLazyTransforms(t,s){this.setTransformMatrix(t),this.multiplyTransform(s),this._invalidateLazyTransforms()}}class x{constructor(t,s,r){this._original=t,this._update=s,this._dirty=!0,this._transform=r()}invalidate(){this._dirty=!0}get value(){return this._dirty&&(this._update(this._transform,this._original.value),this._dirty=!1),this._transform}}class d{constructor(t=0){this.offset=t,this.tmpVertex=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()}applyToVertex(t,s,r){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(R,t,s,r),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.g)(q,e,this.localOrigin),i=this.offset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(o);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(this.tmpVertex,e,o,i),this.tmpVertex}applyToAabb(t){const s=B,r=D,e=G;for(let a=0;a<3;++a)s[a]=t[0+a]+this.localOrigin[a],r[a]=t[3+a]+this.localOrigin[a],e[a]=s[a];const o=this.applyToVertex(s[0],s[1],s[2]);for(let a=0;a<3;++a)t[a]=o[a],t[a+3]=o[a];const i=s=>{const r=this.applyToVertex(s[0],s[1],s[2]);for(let e=0;e<3;++e)t[e]=Math.min(t[e],r[e]),t[e+3]=Math.max(t[e+3],r[e])};for(let a=1;a<8;++a){for(let t=0;t<3;++t)e[t]=0==(a&1<<t)?s[t]:r[t];i(e)}let n=0;for(let a=0;a<3;++a){s[a]*r[a]<0&&(n|=1<<a)}if(0!==n&&7!==n)for(let a=0;a<8;++a)if(0==(n&a)){for(let t=0;t<3;++t)e[t]=0!=(n&1<<t)?0:0!=(a&1<<t)?s[t]:r[t];i(e)}for(let a=0;a<3;++a)t[a]-=this.localOrigin[a],t[a+3]-=this.localOrigin[a];return t}}class V{constructor(t=0){this.componentLocalOriginLength=0,this._tmpVertex=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),this._mbs=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this._obb=(0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__/* .create */ .vt)(),this._totalOffset=0,this._offset=0,this._resetOffset(t)}_resetOffset(t){this._offset=t,this._totalOffset=t}set offset(t){this._resetOffset(t)}get offset(){return this._offset}set componentOffset(t){this._totalOffset=this._offset+t}set localOrigin(t){this.componentLocalOriginLength=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(t)}applyToVertex(t,s,r){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(R,t,s,r),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(q,t,s,r+this.componentLocalOriginLength),i=this._totalOffset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(o);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(this._tmpVertex,e,o,i),this._tmpVertex}applyToAabb(t){const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(R,t[0],t[1],t[2]+this.componentLocalOriginLength),r=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(q,t[3],t[4],t[5]+this.componentLocalOriginLength),e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.z)(B,s),o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.z)(D,r),i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.w)(G,s),n=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.w)(S,r),f=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.x)(C,i,n);f[0]=e[0]*o[0]<0?0:f[0],f[1]=e[1]*o[1]<0?0:f[1],f[2]=e[2]*o[2]<0?0:f[2];const l=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(f);if(l<this._totalOffset)return t[0]-=s[0]<0?this._totalOffset:0,t[1]-=s[1]<0?this._totalOffset:0,t[2]-=s[2]<0?this._totalOffset:0,t[3]+=r[0]>0?this._totalOffset:0,t[4]+=r[1]>0?this._totalOffset:0,t[5]+=r[2]>0?this._totalOffset:0,t;const u=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.D)(C,i,n),v=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(u),O=this._totalOffset/v,g=this._totalOffset/l;return t[0]+=s[0]*(s[0]>0?O:g),t[1]+=s[1]*(s[1]>0?O:g),t[2]+=s[2]*(s[2]>0?O:g),t[3]+=r[0]*(r[0]<0?O:g),t[4]+=r[1]*(r[1]<0?O:g),t[5]+=r[2]*(r[2]<0?O:g),t}applyToMbs(t){const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(t),r=this._totalOffset/s;return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(this._mbs,t,t,r),this._mbs[3]=t[3]+t[3]*this._totalOffset/s,this._mbs}applyToObb(t){return (0,_support_orientedBoundingBox_js__WEBPACK_IMPORTED_MODULE_8__/* .computeOffsetObb */ .gm)(t,this._totalOffset,this._totalOffset,_ViewingMode_js__WEBPACK_IMPORTED_MODULE_7__/* .ViewingMode */ .RT.Global,this._obb),this._obb}}class L{constructor(t=0){this.offset=t,this.sphere=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__.c)(),this.tmpVertex=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)()}applyToVertex(t,s,r){const e=this.objectTransform.transform,o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.s)(R,t,s,r),i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.e)(o,o,e),n=this.offset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(i);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(i,i,i,n);const f=this.objectTransform.inverse;return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.e)(this.tmpVertex,i,f),this.tmpVertex}applyToMinMax(t,s){const r=this.offset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(t);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(t,t,t,r);const e=this.offset/(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(s);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(s,s,s,e)}applyToAabb(t){const s=this.offset/Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]+=t[0]*s,t[1]+=t[1]*s,t[2]+=t[2]*s;const r=this.offset/Math.sqrt(t[3]*t[3]+t[4]*t[4]+t[5]*t[5]);return t[3]+=t[3]*r,t[4]+=t[4]*r,t[5]+=t[5]*r,t}applyToBoundingSphere(t){const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.l)(t),r=this.offset/s;return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__.q)(this.sphere,t,t,r),this.sphere[3]=t[3]+t[3]*this.offset/s,this.sphere}}const j=new L;function I(t){return null!=t?(j.offset=t,j):null}const M=new V;function w(t){return null!=t?(M.offset=t,M):null}const k=new d;function z(t){return null!=t?(k.offset=t,k):null}const A="terrain",R=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),q=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),B=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),D=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),G=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),S=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)(),C=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.c)();


/***/ }),

/***/ 75268:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $p: () => (/* binding */ i),
/* harmony export */   Qx: () => (/* binding */ n),
/* harmony export */   _y: () => (/* binding */ c),
/* harmony export */   e_: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(s=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)()){this.intensity=s}}class c{constructor(i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(),c=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(.57735,.57735,.57735)){this.intensity=i,this.direction=c}}class n{constructor(i=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(),c=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.f)(.57735,.57735,.57735),n=!0,r=1,h=1){this.intensity=i,this.direction=c,this.castShadows=n,this.specularStrength=r,this.environmentStrength=h}}class r{constructor(){this.r=[0],this.g=[0],this.b=[0]}}


/***/ }),

/***/ 9409:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  T: () => (/* binding */ _),
  u: () => (/* binding */ SceneLighting_l)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(92504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/Lightsources.js
var Lightsources = __webpack_require__(75268);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/LongVectorMath.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,n){let e=0;for(let l=0;l<t.length;l++)e+=t[l]*n[l];return e}function n(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n[l];return e}function LongVectorMath_e(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]*n;return e}function LongVectorMath_l(t,n,e){(e=e||t).length=t.length;for(let l=0;l<t.length;l++)e[l]=t[l]+n[l];return e}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SphericalHarmonics.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(t){return(t+1)*(t+1)}function l(n){return (0,mathUtils/* clamp */.qE)(Math.floor(Math.sqrt(n)-1),0,2)}function m(t,n,o){const r=t[0],e=t[1],s=t[2],i=o||[];return i.length=u(n),n>=0&&(i[0]=.28209479177),n>=1&&(i[1]=.4886025119*r,i[2]=.4886025119*s,i[3]=.4886025119*e),n>=2&&(i[4]=1.09254843059*r*e,i[5]=1.09254843059*e*s,i[6]=.31539156525*(3*s*s-1),i[7]=1.09254843059*r*s,i[8]=.54627421529*(r*r-e*e)),i}function p(t,n){const o=u(t),r=n||{r:[],g:[],b:[]};r.r.length=r.g.length=r.b.length=o;for(let e=0;e<o;e++)r.r[e]=r.g[e]=r.b[e]=0;return r}function y(t,o){const r=l(o.r.length);for(const e of t)(0,vec3.E)(P,e.direction),m(P,r,v),n(v,k),LongVectorMath_e(v,e.intensity[0],I),LongVectorMath_l(o.r,I),LongVectorMath_e(v,e.intensity[1],I),LongVectorMath_l(o.g,I),LongVectorMath_e(v,e.intensity[2],I),LongVectorMath_l(o.b,I);return o}function b(t,n){m(P,0,v);for(const o of t)n.r[0]+=v[0]*k[0]*o.intensity[0]*4*Math.PI,n.g[0]+=v[0]*k[0]*o.intensity[1]*4*Math.PI,n.b[0]+=v[0]*k[0]*o.intensity[2]*4*Math.PI;return n}function M(t,n,e,s){p(n,s),(0,vec3.s)(e.intensity,0,0,0);let i=!1;const u=S,l=d,m=j;u.length=0,l.length=0,m.length=0;for(const o of t)o instanceof Lightsources/* MainLight */.Qx&&!i?((0,vec3.c)(e.direction,o.direction),(0,vec3.c)(e.intensity,o.intensity),e.specularStrength=o.specularStrength,e.environmentStrength=o.environmentStrength,e.castShadows=o.castShadows,i=!0):o instanceof Lightsources/* MainLight */.Qx||o instanceof Lightsources/* FillLight */._y?u.push(o):o instanceof Lightsources/* AmbientLight */.$p?l.push(o):o instanceof Lightsources/* SphericalHarmonicsAmbientLight */.e_&&m.push(o);y(u,s),b(l,s);for(const o of m)LongVectorMath_l(s.r,o.r),LongVectorMath_l(s.g,o.g),LongVectorMath_l(s.b,o.b)}const S=[],d=[],j=[],v=[0],I=[0],P=(0,vec3f64.c)(),k=[3.141593,2.094395,2.094395,2.094395,.785398,.785398,.785398,.785398,.785398];

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/lighting/SceneLighting.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class g{constructor(){this.color=(0,vec3f64.c)(),this.intensity=1}}class SceneLighting_m{constructor(){this.direction=(0,vec3f64.c)(),this.ambient=new g,this.diffuse=new g}}const SceneLighting_l=.4;class _{constructor(){this._shOrder=2,this._legacy=new SceneLighting_m,this.globalFactor=.5,this.noonFactor=.5,this._sphericalHarmonics=new Lightsources/* SphericalHarmonicsAmbientLight */.e_,this._mainLight=new Lightsources/* MainLight */.Qx((0,vec3f64.c)(),(0,vec3f64.f)(1,0,0),!1)}get legacy(){return this._legacy}get sh(){return this._sphericalHarmonics}get mainLight(){return this._mainLight}set(i){M(i,this._shOrder,this._mainLight,this._sphericalHarmonics),(0,vec3.c)(this._legacy.direction,this._mainLight.direction);const r=1/Math.PI;this._legacy.ambient.color[0]=.282095*this._sphericalHarmonics.r[0]*r,this._legacy.ambient.color[1]=.282095*this._sphericalHarmonics.g[0]*r,this._legacy.ambient.color[2]=.282095*this._sphericalHarmonics.b[0]*r,(0,vec3.i)(this._legacy.diffuse.color,this._mainLight.intensity,r),(0,vec3.c)(SceneLighting_p,this._legacy.diffuse.color),(0,vec3.i)(SceneLighting_p,SceneLighting_p,SceneLighting_l*this.globalFactor),(0,vec3.g)(this._legacy.ambient.color,this._legacy.ambient.color,SceneLighting_p)}copyFrom(i){this._sphericalHarmonics.r=Array.from(i.sh.r),this._sphericalHarmonics.g=Array.from(i.sh.g),this._sphericalHarmonics.b=Array.from(i.sh.b),(0,vec3.c)(this._mainLight.direction,i.mainLight.direction),(0,vec3.c)(this._mainLight.intensity,i.mainLight.intensity),this._mainLight.castShadows=i.mainLight.castShadows,this._mainLight.specularStrength=i.mainLight.specularStrength,this._mainLight.environmentStrength=i.mainLight.environmentStrength,this.globalFactor=i.globalFactor,this.noonFactor=i.noonFactor}lerpLighting(s,h,n){if((0,vec3.p)(this._mainLight.intensity,s.mainLight.intensity,h.mainLight.intensity,n),this._mainLight.environmentStrength=(0,mathUtils/* lerp */.Cc)(s.mainLight.environmentStrength,h.mainLight.environmentStrength,n),this._mainLight.specularStrength=(0,mathUtils/* lerp */.Cc)(s.mainLight.specularStrength,h.mainLight.specularStrength,n),(0,vec3.c)(this._mainLight.direction,h.mainLight.direction),this._mainLight.castShadows=h.mainLight.castShadows,this.globalFactor=(0,mathUtils/* lerp */.Cc)(s.globalFactor,h.globalFactor,n),this.noonFactor=(0,mathUtils/* lerp */.Cc)(s.noonFactor,h.noonFactor,n),s.sh.r.length===h.sh.r.length)for(let t=0;t<h.sh.r.length;t++)this._sphericalHarmonics.r[t]=(0,mathUtils/* lerp */.Cc)(s.sh.r[t],h.sh.r[t],n),this._sphericalHarmonics.g[t]=(0,mathUtils/* lerp */.Cc)(s.sh.g[t],h.sh.g[t],n),this._sphericalHarmonics.b[t]=(0,mathUtils/* lerp */.Cc)(s.sh.b[t],h.sh.b[t],n);else for(let i=0;i<h.sh.r.length;i++)this._sphericalHarmonics.r[i]=h.sh.r[i],this._sphericalHarmonics.g[i]=h.sh.g[i],this._sphericalHarmonics.b[i]=h.sh.b[i]}}const SceneLighting_p=(0,vec3f64.c)();


/***/ }),

/***/ 32504:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  v: () => (/* binding */ f)
});

// UNUSED EXPORTS: Parameters

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f64.js
var vec4f64 = __webpack_require__(52712);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js
var InterleavedLayout = __webpack_require__(11110);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js
var ShaderOutput = __webpack_require__(55274);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js
var basicInterfaces = __webpack_require__(91013);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js
var GLMaterial = __webpack_require__(67341);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js
var OrderIndependentTransparency = __webpack_require__(1931);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js
var RenderSlot = __webpack_require__(38323);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js
var VertexAttribute = __webpack_require__(50645);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js
var DefaultBufferWriter = __webpack_require__(25146);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js
var TriangleMaterial = __webpack_require__(52873);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js
var VisualVariablePassParameters = __webpack_require__(17745);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js
var ReloadableShaderModule = __webpack_require__(47705);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js
var ShaderTechnique = __webpack_require__(33444);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js
var DefaultVertexAttributeLocations = __webpack_require__(13148);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js
var Program = __webpack_require__(58123);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js
var StencilUtils = __webpack_require__(98546);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js
var TransparencyPassType = __webpack_require__(81868);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/ColorMaterial.glsl.js
var ColorMaterial_glsl = __webpack_require__(17504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/renderState.js
var renderState = __webpack_require__(2449);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class y extends VisualVariablePassParameters/* VisualVariablePassParameters */.S{constructor(){super(...arguments),this.color=vec4f64.Z}}class T extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,T.shader.get().build(this.configuration),DefaultVertexAttributeLocations/* Default3D */.D)}_createPipeline(e,t){const i=this.configuration,s=e===TransparencyPassType/* TransparencyPassType */.y.NONE,c=e===TransparencyPassType/* TransparencyPassType */.y.FrontFace;return (0,renderState/* makePipelineState */.Ey)({blending:i.output!==ShaderOutput/* ShaderOutput */.V.Color&&i.output!==ShaderOutput/* ShaderOutput */.V.Alpha||!i.transparent?null:s?OrderIndependentTransparency/* blendingDefault */.V0:(0,OrderIndependentTransparency/* oitBlending */.ez)(e),culling:(0,renderState/* cullingParams */.Xt)(i.cullFace),depthTest:{func:(0,OrderIndependentTransparency/* oitDepthTest */.K_)(e)},depthWrite:(s||c)&&i.writeDepth?renderState/* defaultDepthWriteParams */.kn:null,colorWrite:renderState/* defaultColorWriteParams */.wE,stencilWrite:i.hasOccludees?StencilUtils/* stencilWriteMaskOn */.v0:null,stencilTest:i.hasOccludees?t?StencilUtils/* stencilToolMaskBaseParams */.a9:StencilUtils/* stencilBaseAllZerosParams */.qh:null,polygonOffset:s||c?i.polygonOffset?O:null:(0,OrderIndependentTransparency/* getOITPolygonOffset */.aB)(i.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this._createPipeline(this.configuration.transparencyPassType,!0),this._createPipeline(this.configuration.transparencyPassType,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}T.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(ColorMaterial_glsl.C,(()=>__webpack_require__.e(/* import() */ 4788).then(__webpack_require__.bind(__webpack_require__, 34788))));const O={factor:1,units:1};

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js
var ShaderTechniqueConfiguration = __webpack_require__(69948);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js
var DefaultTechniqueConfiguration = __webpack_require__(9319);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ColorMaterialTechniqueConfiguration.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i extends DefaultTechniqueConfiguration/* DefaultTechniqueConfiguration */.E{constructor(){super(...arguments),this.output=ShaderOutput/* ShaderOutput */.V.Color,this.cullFace=basicInterfaces/* CullFaceOptions */.s2.None,this.transparencyPassType=TransparencyPassType/* TransparencyPassType */.y.NONE,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.multipassEnabled=!1,this.cullAboveGround=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1}}(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:ShaderOutput/* ShaderOutput */.V.COUNT})],i.prototype,"output",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:basicInterfaces/* CullFaceOptions */.s2.COUNT})],i.prototype,"cullFace",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:TransparencyPassType/* TransparencyPassType */.y.COUNT})],i.prototype,"transparencyPassType",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"hasSlicePlane",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"hasVertexColors",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"transparent",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"polygonOffset",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"enableOffset",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"writeDepth",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"hasOccludees",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"multipassEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"cullAboveGround",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"objectAndLayerIdColorInstanced",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],i.prototype,"vvColor",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!1})],i.prototype,"occlusionPass",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!0})],i.prototype,"hasVvInstancing",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!1})],i.prototype,"vvSize",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!1})],i.prototype,"vvOpacity",void 0);

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class f extends TriangleMaterial/* TriangleMaterial */.W{constructor(e){super(e,new d),this.supportsEdges=!0,this._configuration=new i}getConfiguration(e,r){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.transparencyPassType=r.transparencyPassType,this._configuration.enableOffset=r.camera.relativeElevation<OrderIndependentTransparency/* OITPolygonOffsetLimit */.xt,this._configuration.multipassEnabled=r.multipassEnabled,this._configuration.cullAboveGround=r.multipassTerrain.cullAboveGround,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration}produces(e,r){if(r===ShaderOutput/* ShaderOutput */.V.Color||r===ShaderOutput/* ShaderOutput */.V.Alpha||r===ShaderOutput/* ShaderOutput */.V.Highlight||r===ShaderOutput/* ShaderOutput */.V.Depth&&this.parameters.writeLinearDepth||r===ShaderOutput/* ShaderOutput */.V.ObjectAndLayerIdColor){if(e===RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL)return!0;if(r===ShaderOutput/* ShaderOutput */.V.Highlight)return e===RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL;return e===(this._isTransparent?this.parameters.writeDepth?RenderSlot/* RenderSlot */.N.TRANSPARENT_MATERIAL:RenderSlot/* RenderSlot */.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL:RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL)}return!1}createGLMaterial(e){return new m(e)}createBufferWriter(){const e=(0,InterleavedLayout/* newLayout */.BP)().vec3f(VertexAttribute/* VertexAttribute */.r.POSITION);return (0,has/* default */.A)("enable-feature:objectAndLayerId-rendering")&&e.vec4u8(VertexAttribute/* VertexAttribute */.r.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?e.f32(VertexAttribute/* VertexAttribute */.r.COLORFEATUREATTRIBUTE):e.vec4u8(VertexAttribute/* VertexAttribute */.r.COLOR),new DefaultBufferWriter/* DefaultBufferWriter */.Z(e)}get _isTransparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}class m extends GLMaterial/* default */.A{_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){return this._output!==ShaderOutput/* ShaderOutput */.V.Color&&this._output!==ShaderOutput/* ShaderOutput */.V.Alpha||this._updateOccludeeState(e),this.ensureTechnique(T,e)}}class d extends VisualVariablePassParameters/* VisualVariablePassParameters */.S{constructor(){super(...arguments),this.color=vec4f64.Z,this.forceTransparentMode=!1,this.writeDepth=!0,this.writeLinearDepth=!1,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=basicInterfaces/* CullFaceOptions */.s2.None,this.hasOccludees=!1}}


/***/ }),

/***/ 25146:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50645);
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(81500);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(t){this.vertexBufferLayout=t}elementCount(e){return e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_0__/* .VertexAttribute */ .r.POSITION).indices.length}write(t,r,i,o,s){(0,_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .writeDefaultAttributes */ .SA)(i,this.vertexBufferLayout,t,r,o,s)}}


/***/ }),

/***/ 27776:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ci: () => (/* binding */ I),
/* harmony export */   Dq: () => (/* binding */ t),
/* harmony export */   dB: () => (/* binding */ v),
/* harmony export */   zK: () => (/* binding */ c)
/* harmony export */ });
/* unused harmony exports PositionColorLayoutObjectAndLayerId, PositionLayoutObjectAndLayerId */
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(11110);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const I=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__/* .newLayout */ .BP)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.POSITION),c=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__/* .newLayout */ .BP)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.UV0),v=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__/* .newLayout */ .BP)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.POSITION).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.COLOR),f=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__/* .newLayout */ .BP)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.POSITION).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.OBJECTANDLAYERIDCOLOR),t=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__/* .newLayout */ .BP)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.POSITION).vec2f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.UV0).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.OBJECTANDLAYERIDCOLOR),r=(0,_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_0__/* .newLayout */ .BP)().vec3f(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.POSITION).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.COLOR).vec4u8(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_1__/* .VertexAttribute */ .r.OBJECTANDLAYERIDCOLOR);


/***/ }),

/***/ 9319:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   E: () => (/* binding */ t)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_shaderLibrary_attributes_InstancedDoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(24682);
/* harmony import */ var _core_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(57198);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69948);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t extends _core_shaderLibrary_attributes_InstancedDoublePrecision_glsl_js__WEBPACK_IMPORTED_MODULE_1__/* .InstancedDoubleConfiguration */ .nW{}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__/* .parameter */ .W)({constValue:!0})],t.prototype,"hasSliceHighlight",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__/* .parameter */ .W)({constValue:!1})],t.prototype,"hasSliceInVertexProgram",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_3__/* .parameter */ .W)({constValue:_core_shaderTechnique_BindType_js__WEBPACK_IMPORTED_MODULE_2__/* .BindType */ .c.Pass})],t.prototype,"pbrTextureBindType",void 0);


/***/ }),

/***/ 62331:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  R: () => (/* binding */ $)
});

// UNUSED EXPORTS: Parameters

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(92504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat3.js
var mat3 = __webpack_require__(46615);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat3f64.js
var mat3f64 = __webpack_require__(76287);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4.js
var mat4 = __webpack_require__(37046);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat4f64.js
var mat4f64 = __webpack_require__(56192);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2.js
var vec2 = __webpack_require__(58680);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2f64.js
var vec2f64 = __webpack_require__(78286);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f64.js
var vec4f64 = __webpack_require__(52712);
;// ../node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/aaBoundingRect.js
var aaBoundingRect = __webpack_require__(80510);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/buffer/BufferView.js + 6 modules
var BufferView = __webpack_require__(57813);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/layers/support/FastSymbolUpdates.js
var FastSymbolUpdates = __webpack_require__(69463);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/debugFlags.js
var debugFlags = __webpack_require__(19620);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js
var InterleavedLayout = __webpack_require__(11110);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js
var ShaderOutput = __webpack_require__(55274);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js
var HUD_glsl = __webpack_require__(97085);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLTextureMaterial.js
var GLTextureMaterial = __webpack_require__(89140);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js
var Material = __webpack_require__(45722);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js
var RenderSlot = __webpack_require__(38323);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/screenSizePerspectiveUtils.js
var screenSizePerspectiveUtils = __webpack_require__(28953);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js
var Util = __webpack_require__(58947);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js
var VertexAttribute = __webpack_require__(50645);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class ScaleInfo_t{constructor(){this.factor=new c,this.factorAlignment=new c}}class c{constructor(){this.scale=0,this.factor=0,this.minScaleFactor=0}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js
var bufferWriterUtils = __webpack_require__(81500);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js
var MaterialUtil = __webpack_require__(29117);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js
var HUDMaterial_glsl = __webpack_require__(69726);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/ViewingMode.js
var ViewingMode = __webpack_require__(10714);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js
var ReloadableShaderModule = __webpack_require__(47705);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js
var ShaderTechnique = __webpack_require__(33444);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js
var DefaultVertexAttributeLocations = __webpack_require__(13148);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js
var OrderIndependentTransparency = __webpack_require__(1931);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js
var Program = __webpack_require__(58123);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js
var TransparencyPassType = __webpack_require__(81868);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/enums.js
var enums = __webpack_require__(41746);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/renderState.js
var renderState = __webpack_require__(2449);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class g extends ShaderTechnique/* ShaderTechnique */.w{initializeConfiguration(e,i){i.spherical=e.viewingMode===ViewingMode/* ViewingMode */.RT.Global}initializeProgram(r){return new Program/* Program */.B(r.rctx,g.shader.get().build(this.configuration),DefaultVertexAttributeLocations/* Default3D */.D)}initializePipeline(){const r=this.configuration.transparencyPassType,i=this.configuration,t=r===TransparencyPassType/* TransparencyPassType */.y.NONE,o=r===TransparencyPassType/* TransparencyPassType */.y.FrontFace,s=this.configuration.hasPolygonOffset?b:null,l=(t||o)&&i.output!==ShaderOutput/* ShaderOutput */.V.Highlight&&(i.depthEnabled||i.occlusionPass)?renderState/* defaultDepthWriteParams */.kn:null;return (0,renderState/* makePipelineState */.Ey)({blending:i.output===ShaderOutput/* ShaderOutput */.V.Color||i.output===ShaderOutput/* ShaderOutput */.V.Alpha||i.output===ShaderOutput/* ShaderOutput */.V.Highlight?t?j:(0,OrderIndependentTransparency/* oitBlending */.ez)(r):null,depthTest:{func:enums/* CompareFunction */.MT.LEQUAL},depthWrite:l,colorWrite:renderState/* defaultColorWriteParams */.wE,polygonOffset:s})}get primitiveType(){return this.configuration.occlusionPass?enums/* PrimitiveType */.WR.POINTS:enums/* PrimitiveType */.WR.TRIANGLES}}g.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(HUDMaterial_glsl.H,(()=>__webpack_require__.e(/* import() */ 5466).then(__webpack_require__.bind(__webpack_require__, 35466))));const b={factor:0,units:-4},j=(0,renderState/* simpleBlendingParams */.ox)(enums/* BlendFactor */.dn.ONE,enums/* BlendFactor */.dn.ONE_MINUS_SRC_ALPHA);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js
var ShaderTechniqueConfiguration = __webpack_require__(69948);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js
var DefaultTechniqueConfiguration = __webpack_require__(9319);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class HUDMaterialTechniqueConfiguration_r extends DefaultTechniqueConfiguration/* DefaultTechniqueConfiguration */.E{constructor(){super(...arguments),this.output=ShaderOutput/* ShaderOutput */.V.Color,this.transparencyPassType=TransparencyPassType/* TransparencyPassType */.y.NONE,this.screenCenterOffsetUnitsEnabled=!1,this.spherical=!1,this.occlusionTestEnabled=!0,this.signedDistanceFieldEnabled=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.vvSize=!1,this.vvColor=!1,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.debugDrawLabelBorder=!1,this.hasSlicePlane=!1,this.hasPolygonOffset=!1,this.depthEnabled=!0,this.pixelSnappingEnabled=!0,this.draped=!1,this.multipassEnabled=!1,this.cullAboveGround=!1,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:ShaderOutput/* ShaderOutput */.V.COUNT})],HUDMaterialTechniqueConfiguration_r.prototype,"output",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:TransparencyPassType/* TransparencyPassType */.y.COUNT})],HUDMaterialTechniqueConfiguration_r.prototype,"transparencyPassType",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"screenCenterOffsetUnitsEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"spherical",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"occlusionTestEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"signedDistanceFieldEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"sampleSignedDistanceFieldTexelCenter",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"vvSize",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"vvColor",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"hasVerticalOffset",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"hasScreenSizePerspective",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"debugDrawLabelBorder",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"hasSlicePlane",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"hasPolygonOffset",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"depthEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"pixelSnappingEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"draped",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"multipassEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"cullAboveGround",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"occlusionPass",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],HUDMaterialTechniqueConfiguration_r.prototype,"objectAndLayerIdColorInstanced",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!0})],HUDMaterialTechniqueConfiguration_r.prototype,"hasSliceInVertexProgram",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!1})],HUDMaterialTechniqueConfiguration_r.prototype,"hasVvInstancing",void 0);

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class $ extends Material/* Material */.im{constructor(e){super(e,new Te),this._configuration=new HUDMaterialTechniqueConfiguration_r}getConfiguration(e,t){return this._configuration.output=e,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVerticalOffset=!!this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this._configuration.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits,this._configuration.hasPolygonOffset=this.parameters.polygonOffset,this._configuration.draped=this.parameters.isDraped,this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.pixelSnappingEnabled=this.parameters.pixelSnappingEnabled,this._configuration.signedDistanceFieldEnabled=this.parameters.textureIsSignedDistanceField,this._configuration.sampleSignedDistanceFieldTexelCenter=this.parameters.sampleSignedDistanceFieldTexelCenter,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.occlusionPass=t.slot===RenderSlot/* RenderSlot */.N.OCCLUSION_PIXELS&&this.parameters.occlusionTest&&(e===ShaderOutput/* ShaderOutput */.V.Color||e===ShaderOutput/* ShaderOutput */.V.Alpha),e===ShaderOutput/* ShaderOutput */.V.Color&&(this._configuration.debugDrawLabelBorder=!!debugFlags/* debugFlags */.b.LABELS_SHOW_BORDER),this._configuration.depthEnabled=this.parameters.depthEnabled,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}intersect(e,s,i,a,n,o){if(!(i.options.selectionMode&&i.options.hud&&e.visible&&i.point))return;const g=this.parameters,S=i.point,O=i.camera;let{scaleX:A,scaleY:v}=this._getScreenScale(e);A*=O.pixelRatio,v*=O.pixelRatio,(0,mat3.f)(ue,s),e.attributes.has(VertexAttribute/* VertexAttribute */.r.FEATUREATTRIBUTE)&&se(ue);const T=e.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION),_=e.attributes.get(VertexAttribute/* VertexAttribute */.r.SIZE),I=e.attributes.get(VertexAttribute/* VertexAttribute */.r.NORMAL),y=e.attributes.get(VertexAttribute/* VertexAttribute */.r.AUXPOS1);(0,Util/* assert */.vA)(T.size>=3);const P=(0,HUDMaterial_glsl.c)(g),E="screen"===this.parameters.centerOffsetUnits;for(let t=0;t<T.data.length/T.size;t++){const e=t*T.size;(0,vec3.s)(ne,T.data[e],T.data[e+1],T.data[e+2]),(0,vec3.e)(ne,ne,s);const a=t*_.size;Ae[0]=_.data[a]*A,Ae[1]=_.data[a+1]*v,(0,vec3.e)(ne,ne,O.viewMatrix);const n=t*y.size;if((0,vec3.s)(me,y.data[n],y.data[n+1],y.data[n+2]),!E&&(ne[0]+=me[0],ne[1]+=me[1],0!==me[2])){const e=me[2];(0,vec3.n)(me,ne),(0,vec3.f)(ne,ne,(0,vec3.i)(me,me,e))}const R=t*I.size;if((0,vec3.s)(oe,I.data[R],I.data[R+1],I.data[R+2]),this._normalAndViewAngle(oe,ue,O,Se),this._applyVerticalOffsetTransformationView(ne,Se,O,ie),O.applyProjection(ne,ce),ce[0]>-1){E&&(me[0]||me[1])&&(ce[0]+=me[0]*O.pixelRatio,0!==me[1]&&(ce[1]+=(0,screenSizePerspectiveUtils/* applyScaleFactor */.m0)(me[1],ie.factorAlignment)*O.pixelRatio),O.unapplyProjection(ce,ne)),ce[0]+=this.parameters.screenOffset[0]*O.pixelRatio,ce[1]+=this.parameters.screenOffset[1]*O.pixelRatio,ce[0]=Math.floor(ce[0]),ce[1]=Math.floor(ce[1]),(0,screenSizePerspectiveUtils/* applyPrecomputedScaleFactor */.MD)(Ae,ie.factor,Ae);const e=Oe*O.pixelRatio;let t=0;if(g.textureIsSignedDistanceField&&(t=g.outlineSize*O.pixelRatio/2),re(S,ce[0],ce[1],Ae,e,t,g,P)){const e=i.ray;if((0,vec3.e)(fe,ne,(0,mat4.i)(he,O.viewMatrix)),ce[0]=S[0],ce[1]=S[1],O.unprojectFromRenderScreen(ce,ne)){const t=(0,vec3f64.c)();(0,vec3.c)(t,e.direction);const s=1/(0,vec3.l)(t);(0,vec3.i)(t,t,s);o((0,vec3.o)(e.origin,ne)*s,t,-1,!0,1,fe)}}}}}intersectDraped(e,t,s,r,i,a){const n=e.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION),o=e.attributes.get(VertexAttribute/* VertexAttribute */.r.SIZE),c=this.parameters,l=(0,HUDMaterial_glsl.c)(c);let{scaleX:f,scaleY:u}=this._getScreenScale(e);f*=e.screenToWorldRatio,u*=e.screenToWorldRatio;const p=be*e.screenToWorldRatio;for(let h=0;h<n.data.length/n.size;h++){const t=h*n.size,s=n.data[t],m=n.data[t+1],d=h*o.size;Ae[0]=o.data[d]*f,Ae[1]=o.data[d+1]*u;let g=0;c.textureIsSignedDistanceField&&(g=c.outlineSize*e.screenToWorldRatio/2),re(r,s,m,Ae,p,g,c,l)&&i(a.dist,a.normal,-1,!1)}}createBufferWriter(){return new ye(this)}_normalAndViewAngle(e,s,r,i){return t(s)&&(s=(0,mat3.f)(pe,s)),(0,vec3.t)(i.normal,e,s),(0,vec3.e)(i.normal,i.normal,r.viewInverseTransposeMatrix),i.cosAngle=(0,vec3.j)(le,ve),i}_updateScaleInfo(e,t,s){const r=this.parameters;null!=r.screenSizePerspective?(0,screenSizePerspectiveUtils/* precomputeScaleFactor */.cJ)(s,t,r.screenSizePerspective,e.factor):(e.factor.scale=1,e.factor.factor=0,e.factor.minScaleFactor=0),null!=r.screenSizePerspectiveAlignment?(0,screenSizePerspectiveUtils/* precomputeScaleFactor */.cJ)(s,t,r.screenSizePerspectiveAlignment,e.factorAlignment):(e.factorAlignment.factor=e.factor.factor,e.factorAlignment.scale=e.factor.scale,e.factorAlignment.minScaleFactor=e.factor.minScaleFactor)}applyShaderOffsetsView(e,t,s,r,i,a,n){const o=this._normalAndViewAngle(t,s,i,Se);return this._applyVerticalGroundOffsetView(e,o,i,n),this._applyVerticalOffsetTransformationView(n,o,i,a),this._applyPolygonOffsetView(n,o,r[3],i,n),this._applyCenterOffsetView(n,r,n),n}applyShaderOffsetsNDC(e,t,s,r,i){return this._applyCenterOffsetNDC(e,t,s,r),null!=i&&(0,vec3.c)(i,r),this._applyPolygonOffsetNDC(r,t,s,r),r}_applyPolygonOffsetView(t,s,r,i,a){const n=i.aboveGround?1:-1;let o=Math.sign(r);0===o&&(o=n);const c=n*o;if(this.parameters.shaderPolygonOffset<=0)return (0,vec3.c)(a,t);const l=(0,mathUtils/* clamp */.qE)(Math.abs(s.cosAngle),.01,1),f=1-Math.sqrt(1-l*l)/l/i.viewport[2];return (0,vec3.i)(a,t,c>0?f:1/f),a}_applyVerticalGroundOffsetView(e,t,s,r){const i=(0,vec3.l)(e),a=s.aboveGround?1:-1,n=s.computeRenderPixelSizeAtDist(i)*HUD_glsl/* HUDVerticalPixelOffset */.R,o=(0,vec3.i)(ne,t.normal,a*n);return (0,vec3.g)(r,e,o),r}_applyVerticalOffsetTransformationView(e,t,s,r){const i=this.parameters;if(!i.verticalOffset?.screenLength){if(i.screenSizePerspective||i.screenSizePerspectiveAlignment){const s=(0,vec3.l)(e);this._updateScaleInfo(r,s,t.cosAngle)}else r.factor.scale=1,r.factorAlignment.scale=1;return e}const a=(0,vec3.l)(e),n=i.screenSizePerspectiveAlignment??i.screenSizePerspective,o=(0,MaterialUtil/* verticalOffsetAtDistance */.kE)(s,a,i.verticalOffset,t.cosAngle,n);return this._updateScaleInfo(r,a,t.cosAngle),(0,vec3.i)(t.normal,t.normal,o),(0,vec3.g)(e,e,t.normal)}_applyCenterOffsetView(e,t,s){const r="screen"!==this.parameters.centerOffsetUnits;return s!==e&&(0,vec3.c)(s,e),r&&(s[0]+=t[0],s[1]+=t[1],t[2]&&((0,vec3.n)(oe,s),(0,vec3.g)(s,s,(0,vec3.i)(oe,oe,t[2])))),s}_applyCenterOffsetNDC(e,t,s,r){const i="screen"!==this.parameters.centerOffsetUnits;return r!==e&&(0,vec3.c)(r,e),i||(r[0]+=t[0]/s.fullWidth*2,r[1]+=t[1]/s.fullHeight*2),r}_applyPolygonOffsetNDC(e,t,s,r){const i=this.parameters.shaderPolygonOffset;if(e!==r&&(0,vec3.c)(r,e),i){const e=s.aboveGround?1:-1,a=e*Math.sign(t[3]);r[2]-=(a||e)*i}return r}produces(e,t){if(t===ShaderOutput/* ShaderOutput */.V.Color||t===ShaderOutput/* ShaderOutput */.V.Alpha||t===ShaderOutput/* ShaderOutput */.V.Highlight||t===ShaderOutput/* ShaderOutput */.V.ObjectAndLayerIdColor){if(e===RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL)return!0;const{drawInSecondSlot:t,occlusionTest:s}=this.parameters;return e===(t?RenderSlot/* RenderSlot */.N.LABEL_MATERIAL:RenderSlot/* RenderSlot */.N.HUD_MATERIAL)||s&&e===RenderSlot/* RenderSlot */.N.OCCLUSION_PIXELS}return!1}createGLMaterial(e){return new ee(e)}calculateRelativeScreenBounds(e,t,s=(0,aaBoundingRect/* create */.vt)()){return te(this.parameters,e,t,s),s[2]=s[0]+e[0],s[3]=s[1]+e[1],s}_getScreenScale(e){const t=e.attributes.get(VertexAttribute/* VertexAttribute */.r.FEATUREATTRIBUTE);if(null==t)return{scaleX:1,scaleY:1};const s=(0,vec4f64.b)(t.data,ge),[r,i]=(0,FastSymbolUpdates/* evaluateModelTransformScale */.VC)(de,this.parameters,s);return{scaleX:r,scaleY:i}}}class ee extends GLTextureMaterial/* GLTextureMaterial */.m{constructor(e){super({...e,...e.material.parameters})}selectProgram(e){return this.ensureTechnique(g,e)}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.selectProgram(e)}}function te(e,t,s,r=ae){return (0,vec2.j)(r,e.anchorPosition),r[0]*=-t[0],r[1]*=-t[1],r[0]+=e.screenOffset[0]*s,r[1]+=e.screenOffset[1]*s,r}function se(e){const t=e[0],s=e[1],r=e[2],i=e[3],a=e[4],n=e[5],o=e[6],c=e[7],l=e[8],f=1/Math.sqrt(t*t+s*s+r*r),u=1/Math.sqrt(i*i+a*a+n*n),p=1/Math.sqrt(o*o+c*c+l*l);return e[0]=t*f,e[1]=s*f,e[2]=r*f,e[3]=i*u,e[4]=a*u,e[5]=n*u,e[6]=o*p,e[7]=c*p,e[8]=l*p,e}function re(e,t,s,r,i,a,n,o){let c=t-i-(o[0]>0?r[0]*o[0]:0),l=c+r[0]+2*i,f=s-i-(o[1]>0?r[1]*o[1]:0),u=f+r[1]+2*i;const p=n.distanceFieldBoundingBox;return n.textureIsSignedDistanceField&&null!=p&&(c+=r[0]*p[0],f+=r[1]*p[1],l-=r[0]*(1-p[2]),u-=r[1]*(1-p[3]),c-=a,l+=a,f-=a,u+=a),e[0]>c&&e[0]<l&&e[1]>f&&e[1]<u}const ie=new ScaleInfo_t,ae=(0,vec2f64.a)(),ne=(0,vec3f64.c)(),oe=(0,vec3f64.c)(),ce=(0,vec4f64.c)(),le=(0,vec3f64.c)(),fe=(0,vec3f64.c)(),ue=(0,mat3f64.a)(),pe=(0,mat3f64.a)(),he=(0,mat4f64.a)(),me=(0,vec3f64.c)(),de=(0,vec4f64.c)(),ge=(0,vec4f64.c)(),Se={normal:le,cosAngle:0},Oe=1,be=2,Ae=[0,0],ve=(0,vec3f64.f)(0,0,1);class Te extends GLTextureMaterial/* GLTextureMaterialBindParameters */.N{constructor(){super(...arguments),this.renderOccluded=Material/* RenderOccludedFlag */.m$.Occlude,this.isDecoration=!1,this.color=(0,vec4f64.f)(1,1,1,1),this.texCoordScale=[1,1],this.polygonOffset=!1,this.anchorPosition=(0,vec2f64.f)(.5,.5),this.screenOffset=[0,0],this.shaderPolygonOffset=1e-5,this.textureIsSignedDistanceField=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.outlineColor=(0,vec4f64.f)(1,1,1,1),this.outlineSize=0,this.vvSizeEnabled=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.hasSlicePlane=!1,this.pixelSnappingEnabled=!0,this.occlusionTest=!0,this.centerOffsetUnits="world",this.drawInSecondSlot=!1,this.depthEnabled=!0,this.isDraped=!1}}const _e=(0,InterleavedLayout/* newLayout */.BP)().vec3f(VertexAttribute/* VertexAttribute */.r.POSITION).vec3f(VertexAttribute/* VertexAttribute */.r.NORMAL).vec2f(VertexAttribute/* VertexAttribute */.r.UV0).vec4u8(VertexAttribute/* VertexAttribute */.r.COLOR).vec2f(VertexAttribute/* VertexAttribute */.r.SIZE).vec4f(VertexAttribute/* VertexAttribute */.r.AUXPOS1).vec4f(VertexAttribute/* VertexAttribute */.r.FEATUREATTRIBUTE),Ie=_e.clone().vec4u8(VertexAttribute/* VertexAttribute */.r.OBJECTANDLAYERIDCOLOR);class ye{constructor(e){this._material=e,this.vertexBufferLayout=(0,has/* default */.A)("enable-feature:objectAndLayerId-rendering")?Ie:_e}elementCount(e){return 6*e.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION).indices.length}write(e,t,s,r,i){(0,bufferWriterUtils/* writePosition */.Hk)(s.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION),e,r.position,i,6),(0,bufferWriterUtils/* writeNormal */.p1)(s.attributes.get(VertexAttribute/* VertexAttribute */.r.NORMAL),t,r.normal,i,6);const a=s.attributes.get(VertexAttribute/* VertexAttribute */.r.UV0).data;let n,o,c,l;if(null==a||a.length<4){const e=this._material.parameters;n=0,o=0,c=e.texCoordScale[0],l=e.texCoordScale[1]}else n=a[0],o=a[1],c=a[2],l=a[3];c=Math.min(1.99999,c+1),l=Math.min(1.99999,l+1);let f=s.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION).indices.length,u=i;const p=r.uv0;for(let g=0;g<f;++g)p.set(u,0,n),p.set(u,1,o),u++,p.set(u,0,c),p.set(u,1,o),u++,p.set(u,0,c),p.set(u,1,l),u++,p.set(u,0,c),p.set(u,1,l),u++,p.set(u,0,n),p.set(u,1,l),u++,p.set(u,0,n),p.set(u,1,o),u++;(0,bufferWriterUtils/* writeColor */.tb)(s.attributes.get(VertexAttribute/* VertexAttribute */.r.COLOR),4,r.color,i,6);const{data:h,indices:m}=s.attributes.get(VertexAttribute/* VertexAttribute */.r.SIZE);f=m.length;const d=r.size;u=i;for(let g=0;g<f;++g){const e=h[2*m[g]],t=h[2*m[g]+1];for(let s=0;s<6;++s)d.set(u,0,e),d.set(u,1,t),u++}if(s.attributes.get(VertexAttribute/* VertexAttribute */.r.AUXPOS1)?(0,bufferWriterUtils/* writeBufferVec4 */.Ut)(s.attributes.get(VertexAttribute/* VertexAttribute */.r.AUXPOS1),r.auxpos1,i,6):(0,bufferWriterUtils/* writeBufferVec4Zeros */.Pq)(r.auxpos1,i,6*f),s.attributes.get(VertexAttribute/* VertexAttribute */.r.FEATUREATTRIBUTE)?(0,bufferWriterUtils/* writeBufferVec4 */.Ut)(s.attributes.get(VertexAttribute/* VertexAttribute */.r.FEATUREATTRIBUTE),r.featureAttribute,i,6):(0,bufferWriterUtils/* writeBufferVec4Zeros */.Pq)(r.featureAttribute,i,6*f),null!=s.objectAndLayerIdColor){const e=s.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION)?.indices;if(e){const t=e.length,a=r.getField(VertexAttribute/* VertexAttribute */.r.OBJECTANDLAYERIDCOLOR,BufferView/* BufferViewVec4u8 */.XP);(0,bufferWriterUtils/* writeObjectAndLayerIdColor */.tH)(s.objectAndLayerIdColor,a,t,i,6)}}}}


/***/ }),

/***/ 96824:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  W: () => (/* binding */ x)
});

// UNUSED EXPORTS: Parameters

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(92504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/screenUtils.js
var screenUtils = __webpack_require__(89882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2.js
var vec2 = __webpack_require__(58680);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f64.js
var vec4f64 = __webpack_require__(52712);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/frustum.js
var frustum = __webpack_require__(94982);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/lineSegment.js
var lineSegment = __webpack_require__(22759);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/plane.js
var plane = __webpack_require__(38774);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js
var InterleavedLayout = __webpack_require__(11110);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js
var ShaderOutput = __webpack_require__(55274);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js
var GLMaterial = __webpack_require__(67341);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js
var Material = __webpack_require__(45722);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js
var RenderSlot = __webpack_require__(38323);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js
var Util = __webpack_require__(58947);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/VertexAttribute.js
var VertexAttribute = __webpack_require__(50645);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/VisualVariablePassParameters.js
var VisualVariablePassParameters = __webpack_require__(17745);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js
var LineMarkerTechniqueConfiguration = __webpack_require__(58376);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/RibbonLine.glsl.js
var RibbonLine_glsl = __webpack_require__(50126);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js
var ReloadableShaderModule = __webpack_require__(47705);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js
var ShaderTechnique = __webpack_require__(33444);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js
var OrderIndependentTransparency = __webpack_require__(1931);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js
var Program = __webpack_require__(58123);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js
var StencilUtils = __webpack_require__(98546);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js
var TransparencyPassType = __webpack_require__(81868);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/enums.js
var enums = __webpack_require__(41746);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/renderState.js
var renderState = __webpack_require__(2449);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const I=new Map([[VertexAttribute/* VertexAttribute */.r.POSITION,0],[VertexAttribute/* VertexAttribute */.r.SUBDIVISIONFACTOR,1],[VertexAttribute/* VertexAttribute */.r.UV0,2],[VertexAttribute/* VertexAttribute */.r.AUXPOS1,3],[VertexAttribute/* VertexAttribute */.r.AUXPOS2,4],[VertexAttribute/* VertexAttribute */.r.COLOR,5],[VertexAttribute/* VertexAttribute */.r.COLORFEATUREATTRIBUTE,5],[VertexAttribute/* VertexAttribute */.r.SIZE,6],[VertexAttribute/* VertexAttribute */.r.SIZEFEATUREATTRIBUTE,6],[VertexAttribute/* VertexAttribute */.r.OPACITYFEATUREATTRIBUTE,7],[VertexAttribute/* VertexAttribute */.r.OBJECTANDLAYERIDCOLOR,8]]);class y extends ShaderTechnique/* ShaderTechnique */.w{initializeProgram(e){return new Program/* Program */.B(e.rctx,y.shader.get().build(this.configuration),I)}_makePipelineState(t,i){const c=this.configuration,h=t===TransparencyPassType/* TransparencyPassType */.y.NONE,d=t===TransparencyPassType/* TransparencyPassType */.y.FrontFace;return (0,renderState/* makePipelineState */.Ey)({blending:c.output===ShaderOutput/* ShaderOutput */.V.Color||c.output===ShaderOutput/* ShaderOutput */.V.Alpha?h?OrderIndependentTransparency/* blendingDefault */.V0:(0,OrderIndependentTransparency/* oitBlending */.ez)(t):null,depthTest:{func:(0,OrderIndependentTransparency/* oitDepthTest */.K_)(t)},depthWrite:h?c.writeDepth?renderState/* defaultDepthWriteParams */.kn:null:(0,OrderIndependentTransparency/* oitDepthWrite */.XO)(t),colorWrite:renderState/* defaultColorWriteParams */.wE,stencilWrite:c.hasOccludees?StencilUtils/* stencilWriteMaskOn */.v0:null,stencilTest:c.hasOccludees?i?StencilUtils/* stencilToolMaskBaseParams */.a9:StencilUtils/* stencilBaseAllZerosParams */.qh:null,polygonOffset:h||d?c.hasPolygonOffset?A:null:OrderIndependentTransparency/* OITPolygonOffset */.SE})}initializePipeline(){const e=this.configuration;if(e.occluder){const t=e.hasPolygonOffset?A:null;this._occluderPipelineTransparent=(0,renderState/* makePipelineState */.Ey)({blending:OrderIndependentTransparency/* blendingDefault */.V0,polygonOffset:t,depthTest:StencilUtils/* depthCompareAlways */.sf,depthWrite:null,colorWrite:renderState/* defaultColorWriteParams */.wE,stencilWrite:null,stencilTest:StencilUtils/* stencilToolTransparentOccluderParams */.mK}),this._occluderPipelineOpaque=(0,renderState/* makePipelineState */.Ey)({blending:OrderIndependentTransparency/* blendingDefault */.V0,polygonOffset:t,depthTest:StencilUtils/* depthCompareAlways */.sf,depthWrite:null,colorWrite:renderState/* defaultColorWriteParams */.wE,stencilWrite:StencilUtils/* stencilWriteMaskOff */.r8,stencilTest:StencilUtils/* stencilToolMaskOccluderParams */.I$}),this._occluderPipelineMaskWrite=(0,renderState/* makePipelineState */.Ey)({blending:null,polygonOffset:t,depthTest:StencilUtils/* depthCompareLess */.m,depthWrite:null,colorWrite:null,stencilWrite:StencilUtils/* stencilWriteMaskOn */.v0,stencilTest:StencilUtils/* stencilToolMaskBaseParams */.a9})}return this._occludeePipelineState=this._makePipelineState(this.configuration.transparencyPassType,!0),this._makePipelineState(this.configuration.transparencyPassType,!1)}get primitiveType(){return this.configuration.wireframe?enums/* PrimitiveType */.WR.LINES:enums/* PrimitiveType */.WR.TRIANGLE_STRIP}getPipeline(e,t,i){return e?this._occludeePipelineState:this.configuration.occluder?i?this._occluderPipelineTransparent:t?this._occluderPipelineOpaque:this._occluderPipelineMaskWrite:super.getPipeline()}}y.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(RibbonLine_glsl.R,(()=>__webpack_require__.e(/* import() */ 7274).then(__webpack_require__.bind(__webpack_require__, 97274))));const A={factor:0,units:-4};

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/RibbonLineTechniqueConfiguration.js
var RibbonLineTechniqueConfiguration = __webpack_require__(16906);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var M;!function(e){e[e.LEFT_JOIN_START=-2]="LEFT_JOIN_START",e[e.LEFT_JOIN_END=-1]="LEFT_JOIN_END",e[e.LEFT_CAP_START=-4]="LEFT_CAP_START",e[e.LEFT_CAP_END=-5]="LEFT_CAP_END",e[e.RIGHT_JOIN_START=2]="RIGHT_JOIN_START",e[e.RIGHT_JOIN_END=1]="RIGHT_JOIN_END",e[e.RIGHT_CAP_START=4]="RIGHT_CAP_START",e[e.RIGHT_CAP_END=5]="RIGHT_CAP_END"}(M||(M={}));class x extends Material/* Material */.im{constructor(e){super(e,new z),this._configuration=new RibbonLineTechniqueConfiguration/* RibbonLineTechniqueConfiguration */.Q,this._vertexAttributeLocations=I}getConfiguration(e,t){this._configuration.output=e,this._configuration.draped=t.slot===RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL;const r=null!=this.parameters.stipplePattern&&e!==ShaderOutput/* ShaderOutput */.V.Highlight;return this._configuration.stippleEnabled=r,this._configuration.stippleOffColorEnabled=r&&null!=this.parameters.stippleOffColor,this._configuration.stipplePreferContinuous=r&&this.parameters.stipplePreferContinuous,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=this.parameters.hasOccludees,this._configuration.roundJoins="round"===this.parameters.join,this._configuration.capType=this.parameters.cap,this._configuration.applyMarkerOffset=null!=this.parameters.markerParameters&&V(this.parameters.markerParameters),this._configuration.hasPolygonOffset=this.parameters.hasPolygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.innerColorEnabled=this.parameters.innerWidth>0&&null!=this.parameters.innerColor,this._configuration.falloffEnabled=this.parameters.falloff>0,this._configuration.occluder=this.parameters.renderOccluded===Material/* RenderOccludedFlag */.m$.OccludeAndTransparentStencil,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration.wireframe=this.parameters.wireframe,this._configuration}intersectDraped(e,r,s,i,a,n){if(!s.options.selectionMode)return;const o=e.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION).data,l=e.attributes.get(VertexAttribute/* VertexAttribute */.r.SIZE);let u=this.parameters.width;if(this.parameters.vvSize){const r=e.attributes.get(VertexAttribute/* VertexAttribute */.r.SIZEFEATUREATTRIBUTE).data[0];u*=(0,mathUtils/* clamp */.qE)(this.parameters.vvSize.offset[0]+r*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else l&&(u*=l.data[0]);const c=i[0],h=i[1],p=(u/2+4)*e.screenToWorldRatio;let f=Number.MAX_VALUE,m=0;for(let T=0;T<o.length-5;T+=3){const e=o[T],r=o[T+1],s=c-e,i=h-r,a=o[T+3]-e,n=o[T+4]-r,l=(0,mathUtils/* clamp */.qE)((a*s+n*i)/(a*a+n*n),0,1),u=a*l-s,p=n*l-i,d=u*u+p*p;d<f&&(f=d,m=T/3)}f<p*p&&a(n.dist,n.normal,m,!1)}intersect(r,p,f,m,d,R){if(!f.options.selectionMode||!r.visible)return;if(!(0,Util/* isTranslationMatrix */.zH)(p))return void Logger/* default */.A.getLogger("esri.views.3d.webgl-engine.materials.RibbonLineMaterial").error("intersection assumes a translation-only matrix");const O=r.attributes,b=O.get(VertexAttribute/* VertexAttribute */.r.POSITION).data;let v=this.parameters.width;if(this.parameters.vvSize){const e=O.get(VertexAttribute/* VertexAttribute */.r.SIZEFEATUREATTRIBUTE).data[0];v*=(0,mathUtils/* clamp */.qE)(this.parameters.vvSize.offset[0]+e*this.parameters.vvSize.factor[0],this.parameters.vvSize.minSize[0],this.parameters.vvSize.maxSize[0])}else O.has(VertexAttribute/* VertexAttribute */.r.SIZE)&&(v*=O.get(VertexAttribute/* VertexAttribute */.r.SIZE).data[0]);const L=f.camera,P=Q;(0,vec2.j)(P,f.point);const N=v*L.pixelRatio/2+4*L.pixelRatio;(0,vec3.s)(oe[0],P[0]-N,P[1]+N,0),(0,vec3.s)(oe[1],P[0]+N,P[1]+N,0),(0,vec3.s)(oe[2],P[0]+N,P[1]-N,0),(0,vec3.s)(oe[3],P[0]-N,P[1]-N,0);for(let e=0;e<4;e++)if(!L.unprojectFromRenderScreen(oe[e],le[e]))return;(0,plane/* fromPoints */.Cr)(L.eye,le[0],le[1],ue),(0,plane/* fromPoints */.Cr)(L.eye,le[1],le[2],ce),(0,plane/* fromPoints */.Cr)(L.eye,le[2],le[3],he),(0,plane/* fromPoints */.Cr)(L.eye,le[3],le[0],pe);let j=Number.MAX_VALUE,U=0;const D=Z(this.parameters,O)?b.length-2:b.length-5;for(let e=0;e<D;e+=3){W[0]=b[e]+p[12],W[1]=b[e+1]+p[13],W[2]=b[e+2]+p[14];const t=(e+3)%b.length;if(Y[0]=b[t]+p[12],Y[1]=b[t+1]+p[13],Y[2]=b[t+2]+p[14],(0,plane/* signedDistance */.mN)(ue,W)<0&&(0,plane/* signedDistance */.mN)(ue,Y)<0||(0,plane/* signedDistance */.mN)(ce,W)<0&&(0,plane/* signedDistance */.mN)(ce,Y)<0||(0,plane/* signedDistance */.mN)(he,W)<0&&(0,plane/* signedDistance */.mN)(he,Y)<0||(0,plane/* signedDistance */.mN)(pe,W)<0&&(0,plane/* signedDistance */.mN)(pe,Y)<0)continue;if(L.projectToRenderScreen(W,K),L.projectToRenderScreen(Y,$),K[2]<0&&$[2]>0){(0,vec3.f)(X,W,Y);const e=L.frustum,t=-(0,plane/* signedDistance */.mN)(e[frustum/* PlaneIndex */.FB.NEAR],W)/(0,vec3.j)(X,(0,plane/* normal */.qb)(e[frustum/* PlaneIndex */.FB.NEAR]));(0,vec3.i)(X,X,t),(0,vec3.g)(W,W,X),L.projectToRenderScreen(W,K)}else if(K[2]>0&&$[2]<0){(0,vec3.f)(X,Y,W);const e=L.frustum,t=-(0,plane/* signedDistance */.mN)(e[frustum/* PlaneIndex */.FB.NEAR],Y)/(0,vec3.j)(X,(0,plane/* normal */.qb)(e[frustum/* PlaneIndex */.FB.NEAR]));(0,vec3.i)(X,X,t),(0,vec3.g)(Y,Y,X),L.projectToRenderScreen(Y,$)}else if(K[2]<0&&$[2]<0)continue;K[2]=0,$[2]=0;const r=(0,lineSegment/* distance2 */.kb)((0,lineSegment/* fromPoints */.Cr)(K,$,re),P);r<j&&(j=r,(0,vec3.c)(ee,W),(0,vec3.c)(te,Y),U=e/3)}const F=f.rayBegin,w=f.rayEnd;if(j<N*N){let e=Number.MAX_VALUE;if((0,lineSegment/* closestLineSegmentPoint */.ld)((0,lineSegment/* fromPoints */.Cr)(ee,te,re),(0,lineSegment/* fromPoints */.Cr)(F,w,se),q)){(0,vec3.f)(q,q,F);const t=(0,vec3.l)(q);(0,vec3.i)(q,q,1/t),e=t/(0,vec3.o)(F,w)}R(e,q,U,!1)}}get _layout(){const e=(0,InterleavedLayout/* newLayout */.BP)().vec3f(VertexAttribute/* VertexAttribute */.r.POSITION).f32(VertexAttribute/* VertexAttribute */.r.SUBDIVISIONFACTOR).vec2f(VertexAttribute/* VertexAttribute */.r.UV0).vec3f(VertexAttribute/* VertexAttribute */.r.AUXPOS1).vec3f(VertexAttribute/* VertexAttribute */.r.AUXPOS2);return this.parameters.vvSize?e.f32(VertexAttribute/* VertexAttribute */.r.SIZEFEATUREATTRIBUTE):e.f32(VertexAttribute/* VertexAttribute */.r.SIZE),this.parameters.vvColor?e.f32(VertexAttribute/* VertexAttribute */.r.COLORFEATUREATTRIBUTE):e.vec4f(VertexAttribute/* VertexAttribute */.r.COLOR),this.parameters.vvOpacity&&e.f32(VertexAttribute/* VertexAttribute */.r.OPACITYFEATUREATTRIBUTE),(0,has/* default */.A)("enable-feature:objectAndLayerId-rendering")&&e.vec4u8(VertexAttribute/* VertexAttribute */.r.OBJECTANDLAYERIDCOLOR),e}createBufferWriter(){return new H(this._layout,this.parameters)}produces(e,t){if(t===ShaderOutput/* ShaderOutput */.V.Color||t===ShaderOutput/* ShaderOutput */.V.Alpha||t===ShaderOutput/* ShaderOutput */.V.Highlight||t===ShaderOutput/* ShaderOutput */.V.Depth||t===ShaderOutput/* ShaderOutput */.V.ObjectAndLayerIdColor){if(e===RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL)return!0;if(this.parameters.renderOccluded===Material/* RenderOccludedFlag */.m$.OccludeAndTransparentStencil)return e===RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL||e===RenderSlot/* RenderSlot */.N.OCCLUDER_MATERIAL||e===RenderSlot/* RenderSlot */.N.TRANSPARENT_OCCLUDER_MATERIAL;if(t===ShaderOutput/* ShaderOutput */.V.Color||t===ShaderOutput/* ShaderOutput */.V.Alpha){return e===(this.parameters.writeDepth?RenderSlot/* RenderSlot */.N.TRANSPARENT_MATERIAL:RenderSlot/* RenderSlot */.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL)}return e===RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL}return!1}createGLMaterial(e){return new G(e)}validateParameters(e){"miter"!==e.join&&(e.miterLimit=0),null!=e.markerParameters&&(e.markerScale=e.markerParameters.width/e.width)}}class G extends GLMaterial/* default */.A{constructor(){super(...arguments),this._stipplePattern=null}dispose(){super.dispose(),this._stippleTextureRepository.release(this._stipplePattern),this._stipplePattern=null}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.hasOccludees&&this._material.setParameters({hasOccludees:e.hasOccludees})}beginSlot(e){this._output!==ShaderOutput/* ShaderOutput */.V.Color&&this._output!==ShaderOutput/* ShaderOutput */.V.Alpha||this._updateOccludeeState(e);const t=this._material.parameters.stipplePattern;return this._stipplePattern!==t&&(this._material.setParameters({stippleTexture:this._stippleTextureRepository.swap(t,this._stipplePattern)}),this._stipplePattern=t),this.ensureTechnique(y,e)}}class z extends VisualVariablePassParameters/* VisualVariablePassParameters */.S{constructor(){super(...arguments),this.width=0,this.color=vec4f64.O,this.join="miter",this.cap=RibbonLineTechniqueConfiguration/* CapType */.x.BUTT,this.miterLimit=5,this.writeDepth=!0,this.hasPolygonOffset=!1,this.stippleTexture=null,this.stipplePreferContinuous=!0,this.markerParameters=null,this.markerScale=1,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.isClosed=!1,this.falloff=0,this.innerWidth=0,this.hasOccludees=!1,this.wireframe=!1}}class H{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t,this.numJoinSubdivisions=0;const r=t.stipplePattern?1:0;switch(this._parameters.join){case"miter":case"bevel":this.numJoinSubdivisions=r;break;case"round":this.numJoinSubdivisions=RibbonLine_glsl.r+r}}_isClosed(e){return Z(this._parameters,e.attributes)}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){const t=2,r=e.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION).indices.length/2+1,s=this._isClosed(e);let i=s?2:2*t;return i+=((s?r:r-1)-(s?0:1))*(2*this.numJoinSubdivisions+4),i+=2,this._parameters.wireframe&&(i=2+4*(i-2)),i}write(e,t,r,s,a){const n=ie,o=ae,l=ne,c=r.attributes.get(VertexAttribute/* VertexAttribute */.r.POSITION),f=c.indices,m=c.data.length/3,T=r.attributes.get(VertexAttribute/* VertexAttribute */.r.DISTANCETOSTART)?.data;f&&f.length!==2*(m-1)&&console.warn("RibbonLineMaterial does not support indices");let d=1,_=0;const E=this.vertexBufferLayout.fields.has(VertexAttribute/* VertexAttribute */.r.SIZEFEATUREATTRIBUTE);E?_=r.attributes.get(VertexAttribute/* VertexAttribute */.r.SIZEFEATUREATTRIBUTE).data[0]:r.attributes.has(VertexAttribute/* VertexAttribute */.r.SIZE)&&(d=r.attributes.get(VertexAttribute/* VertexAttribute */.r.SIZE).data[0]);let A=[1,1,1,1],R=0;const I=this.vertexBufferLayout.fields.has(VertexAttribute/* VertexAttribute */.r.COLORFEATUREATTRIBUTE);I?R=r.attributes.get(VertexAttribute/* VertexAttribute */.r.COLORFEATUREATTRIBUTE).data[0]:r.attributes.has(VertexAttribute/* VertexAttribute */.r.COLOR)&&(A=r.attributes.get(VertexAttribute/* VertexAttribute */.r.COLOR).data);const S=(0,has/* default */.A)("enable-feature:objectAndLayerId-rendering")?r.objectAndLayerIdColor:null;let g=0;const O=this.vertexBufferLayout.fields.has(VertexAttribute/* VertexAttribute */.r.OPACITYFEATUREATTRIBUTE);O&&(g=r.attributes.get(VertexAttribute/* VertexAttribute */.r.OPACITYFEATUREATTRIBUTE).data[0]);const b=new Float32Array(s.buffer),v=(0,has/* default */.A)("enable-feature:objectAndLayerId-rendering")?new Uint8Array(s.buffer):null,L=this.vertexBufferLayout.stride/4;let P=a*L;const N=P;let C=0;const j=T?(e,t,r)=>C=T[r]:(e,t,r)=>C+=(0,vec3.o)(e,t),U=(0,has/* default */.A)("enable-feature:objectAndLayerId-rendering"),D=(e,t,r,s,i,a,n)=>{if(b[P++]=t[0],b[P++]=t[1],b[P++]=t[2],b[P++]=s,b[P++]=n,b[P++]=i,b[P++]=e[0],b[P++]=e[1],b[P++]=e[2],b[P++]=r[0],b[P++]=r[1],b[P++]=r[2],b[P++]=E?_:d,I)b[P++]=R;else{const e=Math.min(4*a,A.length-4);b[P++]=A[e],b[P++]=A[e+1],b[P++]=A[e+2],b[P++]=A[e+3]}O&&(b[P++]=g),U&&(null!=S&&(v[4*P]=S[0],v[4*P+1]=S[1],v[4*P+2]=S[2],v[4*P+3]=S[3]),P++)};P+=L,(0,vec3.s)(o,c.data[0],c.data[1],c.data[2]),e&&(0,vec3.e)(o,o,e);const F=this._isClosed(r);if(F){const t=c.data.length-3;(0,vec3.s)(n,c.data[t],c.data[t+1],c.data[t+2]),e&&(0,vec3.e)(n,n,e)}else (0,vec3.s)(l,c.data[3],c.data[4],c.data[5]),e&&(0,vec3.e)(l,l,e),D(o,o,l,1,M.LEFT_CAP_START,0,0),D(o,o,l,1,M.RIGHT_CAP_START,0,0),(0,vec3.c)(n,o),(0,vec3.c)(o,l);const w=F?0:1,B=F?m:m-1;for(let h=w;h<B;h++){const t=(h+1)%m*3;(0,vec3.s)(l,c.data[t],c.data[t+1],c.data[t+2]),e&&(0,vec3.e)(l,l,e),j(n,o,h),D(n,o,l,0,M.LEFT_JOIN_END,h,C),D(n,o,l,0,M.RIGHT_JOIN_END,h,C);const r=this.numJoinSubdivisions;for(let e=0;e<r;++e){const t=(e+1)/(r+1);D(n,o,l,t,M.LEFT_JOIN_END,h,C),D(n,o,l,t,M.RIGHT_JOIN_END,h,C)}D(n,o,l,1,M.LEFT_JOIN_START,h,C),D(n,o,l,1,M.RIGHT_JOIN_START,h,C),(0,vec3.c)(n,o),(0,vec3.c)(o,l)}F?((0,vec3.s)(l,c.data[3],c.data[4],c.data[5]),e&&(0,vec3.e)(l,l,e),C=j(n,o,B),D(n,o,l,0,M.LEFT_JOIN_END,w,C),D(n,o,l,0,M.RIGHT_JOIN_END,w,C)):(C=j(n,o,B),D(n,o,o,0,M.LEFT_CAP_END,B,C),D(n,o,o,0,M.RIGHT_CAP_END,B,C)),k(b,N+L,b,N,L);P=k(b,P-L,b,P,L),this._parameters.wireframe&&this._addWireframeVertices(s,N,P,L)}_addWireframeVertices(e,t,r,s){const i=new Float32Array(e.buffer,r*Float32Array.BYTES_PER_ELEMENT),a=new Float32Array(e.buffer,t*Float32Array.BYTES_PER_ELEMENT,r-t);let n=0;const o=e=>n=k(a,e,i,n,s);for(let l=0;l<a.length-1;l+=2*s)o(l),o(l+2*s),o(l+1*s),o(l+2*s),o(l+1*s),o(l+3*s)}}function k(e,t,r,s,i){for(let a=0;a<i;a++)r[s++]=e[t++];return s}function Z(e,t){if(!e.isClosed)return!1;return t.get(VertexAttribute/* VertexAttribute */.r.POSITION).indices.length>2}function V(e){return e.anchor===LineMarkerTechniqueConfiguration/* LineMarkerAnchor */.kJ.Tip&&e.hideOnShortSegments&&"begin-end"===e.placement&&e.worldSpace}const W=(0,vec3f64.c)(),Y=(0,vec3f64.c)(),X=(0,vec3f64.c)(),q=(0,vec3f64.c)(),Q=(0,vec3f64.c)(),K=(0,screenUtils/* createRenderScreenPointArray3 */.r_)(),$=(0,screenUtils/* createRenderScreenPointArray3 */.r_)(),ee=(0,vec3f64.c)(),te=(0,vec3f64.c)(),re=(0,lineSegment/* create */.vt)(),se=(0,lineSegment/* create */.vt)(),ie=(0,vec3f64.c)(),ae=(0,vec3f64.c)(),ne=(0,vec3f64.c)(),oe=[(0,screenUtils/* createRenderScreenPointArray3 */.r_)(),(0,screenUtils/* createRenderScreenPointArray3 */.r_)(),(0,screenUtils/* createRenderScreenPointArray3 */.r_)(),(0,screenUtils/* createRenderScreenPointArray3 */.r_)()],le=[(0,vec3f64.c)(),(0,vec3f64.c)(),(0,vec3f64.c)(),(0,vec3f64.c)()],ue=(0,plane/* create */.vt)(),ce=(0,plane/* create */.vt)(),he=(0,plane/* create */.vt)(),pe=(0,plane/* create */.vt)();


/***/ }),

/***/ 52873:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(45722);
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(29117);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_0__/* .Material */ .im{intersect(r,e,i,a,l,o){return (0,_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_1__/* .intersectTriangleGeometry */ .Uy)(r,i,a,l,void 0,o)}}


/***/ }),

/***/ 17745:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   S: () => (/* binding */ t),
/* harmony export */   p: () => (/* binding */ e)
/* harmony export */ });
/* harmony import */ var _layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(69463);
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(45722);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t extends _layers_support_FastSymbolUpdates_js__WEBPACK_IMPORTED_MODULE_0__/* .VisualVariablesParameters */ .Gd{constructor(){super(...arguments),this.renderOccluded=_lib_Material_js__WEBPACK_IMPORTED_MODULE_1__/* .RenderOccludedFlag */ .m$.Occlude,this.isDecoration=!1}}const e=8;


/***/ }),

/***/ 42649:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Z: () => (/* binding */ d),
  d: () => (/* binding */ _)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/time.js
var time = __webpack_require__(60882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2f64.js
var vec2f64 = __webpack_require__(78286);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec4f64.js
var vec4f64 = __webpack_require__(52712);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js
var ShaderOutput = __webpack_require__(55274);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/AnimationTimer.js
var AnimationTimer = __webpack_require__(46068);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js
var Material = __webpack_require__(45722);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js
var OrderIndependentTransparency = __webpack_require__(1931);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/RenderSlot.js
var RenderSlot = __webpack_require__(38323);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultBufferWriter.js
var DefaultBufferWriter = __webpack_require__(25146);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js
var DefaultLayouts = __webpack_require__(27776);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/TriangleMaterial.js
var TriangleMaterial = __webpack_require__(52873);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js
var GLMaterial = __webpack_require__(67341);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/ViewingMode.js
var ViewingMode = __webpack_require__(10714);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js
var PhysicallyBasedRenderingParameters_glsl = __webpack_require__(39486);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/WaterDistortion.glsl.js
var WaterDistortion_glsl = __webpack_require__(41679);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js
var ReloadableShaderModule = __webpack_require__(47705);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js
var ShaderTechnique = __webpack_require__(33444);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js
var ShaderTechniqueConfiguration = __webpack_require__(69948);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js
var DefaultVertexAttributeLocations = __webpack_require__(13148);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js
var Program = __webpack_require__(58123);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/lib/TransparencyPassType.js
var TransparencyPassType = __webpack_require__(81868);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultTechniqueConfiguration.js
var DefaultTechniqueConfiguration = __webpack_require__(9319);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/WaterSurface.glsl.js
var WaterSurface_glsl = __webpack_require__(33006);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/renderState.js
var renderState = __webpack_require__(2449);
;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterTechnique.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class P extends (/* unused pure expression or super */ null && (i)){}class S extends ShaderTechnique/* ShaderTechnique */.w{initializeConfiguration(e,o){o.spherical=e.viewingMode===ViewingMode/* ViewingMode */.RT.Global,o.doublePrecisionRequiresObfuscation=e.rctx.driverTest.doublePrecisionRequiresObfuscation.result}initializeProgram(e){return new Program/* Program */.B(e.rctx,S.shader.get().build(this.configuration),DefaultVertexAttributeLocations/* Default3D */.D)}_setPipelineState(e){const t=this.configuration,r=e===TransparencyPassType/* TransparencyPassType */.y.NONE,i=e===TransparencyPassType/* TransparencyPassType */.y.FrontFace;return (0,renderState/* makePipelineState */.Ey)({blending:t.output!==ShaderOutput/* ShaderOutput */.V.Normal&&t.output!==ShaderOutput/* ShaderOutput */.V.Highlight&&t.output!==ShaderOutput/* ShaderOutput */.V.ObjectAndLayerIdColor&&t.transparent?r?OrderIndependentTransparency/* blendingDefault */.V0:(0,OrderIndependentTransparency/* oitBlending */.ez)(e):null,depthTest:{func:(0,OrderIndependentTransparency/* oitDepthTest */.K_)(e)},depthWrite:r?t.writeDepth?renderState/* defaultDepthWriteParams */.kn:null:(0,OrderIndependentTransparency/* oitDepthWrite */.XO)(e),colorWrite:renderState/* defaultColorWriteParams */.wE,polygonOffset:r||i?null:(0,OrderIndependentTransparency/* getOITPolygonOffset */.aB)(t.enableOffset)})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}S.shader=new ReloadableShaderModule/* ReloadableShaderModule */.$(WaterSurface_glsl.W,(()=>__webpack_require__.e(/* import() */ 114).then(__webpack_require__.bind(__webpack_require__, 40114))));class T extends DefaultTechniqueConfiguration/* DefaultTechniqueConfiguration */.E{constructor(){super(...arguments),this.output=ShaderOutput/* ShaderOutput */.V.Color,this.transparencyPassType=TransparencyPassType/* TransparencyPassType */.y.NONE,this.spherical=!1,this.receiveShadows=!1,this.hasSlicePlane=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!1,this.hasScreenSpaceReflections=!1,this.doublePrecisionRequiresObfuscation=!1,this.hasCloudsReflections=!1,this.objectAndLayerIdColorInstanced=!1,this.isDraped=!1,this.multipassEnabled=!1,this.cullAboveGround=!1}}(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:ShaderOutput/* ShaderOutput */.V.COUNT})],T.prototype,"output",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({count:TransparencyPassType/* TransparencyPassType */.y.COUNT})],T.prototype,"transparencyPassType",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"spherical",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"receiveShadows",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"hasSlicePlane",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"transparent",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"enableOffset",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"writeDepth",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"hasScreenSpaceReflections",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"doublePrecisionRequiresObfuscation",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"hasCloudsReflections",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"objectAndLayerIdColorInstanced",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"isDraped",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"multipassEnabled",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)()],T.prototype,"cullAboveGround",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!1})],T.prototype,"occlusionPass",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:PhysicallyBasedRenderingParameters_glsl/* PBRMode */.A9.Water})],T.prototype,"pbrMode",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!0})],T.prototype,"useCustomDTRExponentForWater",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!0})],T.prototype,"highStepCount",void 0),(0,tslib_es6._)([(0,ShaderTechniqueConfiguration/* parameter */.W)({constValue:!1})],T.prototype,"useFillLights",void 0);

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterGLMaterial.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s extends GLMaterial/* default */.A{_updateShadowState(e){e.shadowMap.enabled!==this._material.parameters.receiveShadows&&this._material.setParameters({receiveShadows:e.shadowMap.enabled})}_updateSSRState(e){const t=null!=e.ssr.lastFrameColor;t!==this._material.parameters.hasScreenSpaceReflections&&this._material.setParameters({hasScreenSpaceReflections:t})}_updateCloudsReflectionState(e){const t=null!=e.cloudsFade.data;t!==this._material.parameters.hasCloudsReflections&&this._material.setParameters({hasCloudsReflections:t})}ensureResources(e){return this._techniqueRepository.constructionContext.waterTextureRepository.ensureResources(e)}beginSlot(t){return this._output===ShaderOutput/* ShaderOutput */.V.Color&&(this._updateShadowState(t),this._updateSSRState(t),this._updateCloudsReflectionState(t)),this._material.setParameters(this._techniqueRepository.constructionContext.waterTextureRepository.passParameters),this.ensureTechnique(S,t)}}

;// ../node_modules/@arcgis/core/views/3d/webgl-engine/materials/WaterMaterial.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class d extends TriangleMaterial/* TriangleMaterial */.W{constructor(e){super(e,new _),this._configuration=new T,this._animation=new AnimationTimer/* AnimationTimer */.a}getConfiguration(e,t){return this._configuration.output=e,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.receiveShadows=this.parameters.receiveShadows,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this.parameters.transparent,this._configuration.hasScreenSpaceReflections=this.parameters.hasScreenSpaceReflections,this._configuration.hasCloudsReflections=this.parameters.hasCloudsReflections,this._configuration.isDraped=this.parameters.isDraped,this._configuration.transparencyPassType=t.transparencyPassType,this._configuration.enableOffset=t.camera.relativeElevation<OrderIndependentTransparency/* OITPolygonOffsetLimit */.xt,this._configuration.multipassEnabled=t.multipassEnabled,this._configuration.cullAboveGround=t.multipassTerrain.cullAboveGround,this._configuration}update(t){const r=Math.min(t.camera.relativeElevation,t.camera.distance);this._animation.enabled=Math.sqrt(this.parameters.waveTextureRepeat/this.parameters.waveStrength)*r<A;const a=this._animation.advance(t);return this.setParameters({timeElapsed:(0,time/* secondsFromMilliseconds */.y)(this._animation.time)*this.parameters.animationSpeed},!1),this._animation.enabled&&a}produces(e,t){switch(t){case ShaderOutput/* ShaderOutput */.V.Normal:return e===RenderSlot/* RenderSlot */.N.DRAPED_WATER;case ShaderOutput/* ShaderOutput */.V.Color:if(this.parameters.isDraped)return e===RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL;break;case ShaderOutput/* ShaderOutput */.V.Alpha:break;case ShaderOutput/* ShaderOutput */.V.Highlight:case ShaderOutput/* ShaderOutput */.V.ObjectAndLayerIdColor:return e===RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL||e===RenderSlot/* RenderSlot */.N.DRAPED_MATERIAL;default:return!1}let r=RenderSlot/* RenderSlot */.N.OPAQUE_MATERIAL;return this.parameters.transparent&&(r=this.parameters.writeDepth?RenderSlot/* RenderSlot */.N.TRANSPARENT_MATERIAL:RenderSlot/* RenderSlot */.N.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===r}createGLMaterial(e){return new s(e)}createBufferWriter(){return new DefaultBufferWriter/* DefaultBufferWriter */.Z((0,has/* default */.A)("enable-feature:objectAndLayerId-rendering")?DefaultLayouts/* PositionUVLayoutObjectAndLayerId */.Dq:DefaultLayouts/* PositionUVLayout */.zK)}get test(){return{animationEnabled:this._animation.enabled}}}class _ extends Material/* MaterialParameters */.qA{constructor(){super(...arguments),this.waveStrength=.06,this.waveTextureRepeat=32,this.waveDirection=(0,vec2f64.f)(1,0),this.waveVelocity=.05,this.flowStrength=.015,this.flowOffset=-.5,this.animationSpeed=.35,this.timeElapsed=0,this.color=(0,vec4f64.f)(0,0,0,0),this.transparent=!0,this.writeDepth=!0,this.hasSlicePlane=!1,this.isDraped=!1,this.receiveShadows=!0,this.hasScreenSpaceReflections=!1,this.hasCloudsReflections=!1,this.origin=(0,vec3f64.c)(),this.modelTransformation=null}}const A=35e3;


/***/ }),

/***/ 29117:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MB: () => (/* binding */ O),
/* harmony export */   Um: () => (/* binding */ E),
/* harmony export */   Uy: () => (/* binding */ h),
/* harmony export */   Wb: () => (/* binding */ I),
/* harmony export */   Z$: () => (/* binding */ M),
/* harmony export */   kE: () => (/* binding */ L),
/* harmony export */   qu: () => (/* binding */ N)
/* harmony export */ });
/* unused harmony exports computeInvDir, computeNormal, intersectAabbInvDirBefore */
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85569);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(92504);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22279);
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4675);
/* harmony import */ var _lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52997);
/* harmony import */ var _lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(28953);
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(58947);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .create */ .vt)();function h(t,n,e,o,i,r){if(t.visible)if(t.boundingInfo){(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_7__/* .assert */ .vA)(t.type===_lib_ContentObjectType_js__WEBPACK_IMPORTED_MODULE_5__/* .ContentObjectType */ .X.Mesh);const s=n.tolerance;d(t.boundingInfo,e,o,s,i,r)}else{const n=t.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_8__/* .VertexAttribute */ .r.POSITION),s=n.indices;M(e,o,0,s.length/3,s,n,void 0,i,r)}}const b=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();function d(t,n,e,o,i,r){if(null==t)return;const s=T(n,e,b);if((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .setMin */ .Ne)(p,t.bbMin),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_4__/* .setMax */ .vI)(p,t.bbMax),null!=i&&i.applyToAabb(p),I(p,n,s,o)){const{primitiveIndices:s,position:c}=t,l=s?s.length:c.indices.length/3;if(l>P){const s=t.getChildren();if(void 0!==s){for(const t of s)d(t,n,e,o,i,r);return}}M(n,e,0,l,c.indices,c,s,i,r)}}const x=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();function M(t,n,e,o,i,r,s,c,l){if(s)return g(t,n,e,o,i,r,s,c,l);const{data:f,stride:u}=r,a=t[0],m=t[1],p=t[2],h=n[0]-a,b=n[1]-m,d=n[2]-p;for(let M=e,g=3*e;M<o;++M){let t=u*i[g++],n=f[t++],e=f[t++],o=f[t];t=u*i[g++];let r=f[t++],s=f[t++],y=f[t];t=u*i[g++];let j=f[t++],T=f[t++],I=f[t];null!=c&&([n,e,o]=c.applyToVertex(n,e,o,M),[r,s,y]=c.applyToVertex(r,s,y,M),[j,T,I]=c.applyToVertex(j,T,I,M));const V=r-n,L=s-e,N=y-o,O=j-n,A=T-e,E=I-o,P=b*E-A*d,S=d*O-E*h,U=h*A-O*b,W=V*P+L*S+N*U;if(Math.abs(W)<=Number.EPSILON)continue;const k=a-n,B=m-e,C=p-o,z=k*P+B*S+C*U;if(W>0){if(z<0||z>W)continue}else if(z>0||z<W)continue;const H=B*N-L*C,R=C*V-N*k,Y=k*L-V*B,q=h*H+b*R+d*Y;if(W>0){if(q<0||z+q>W)continue}else if(q>0||z+q<W)continue;const w=(O*H+A*R+E*Y)/W;if(w>=0){l(w,v(V,L,N,O,A,E,x),M,!1)}}}function g(t,n,e,o,i,r,s,c,l){const{data:f,stride:u}=r,a=t[0],m=t[1],p=t[2],h=n[0]-a,b=n[1]-m,d=n[2]-p;for(let M=e;M<o;++M){const t=s[M];let n=3*t,e=u*i[n++],o=f[e++],r=f[e++],g=f[e];e=u*i[n++];let y=f[e++],j=f[e++],T=f[e];e=u*i[n];let I=f[e++],V=f[e++],L=f[e];null!=c&&([o,r,g]=c.applyToVertex(o,r,g,M),[y,j,T]=c.applyToVertex(y,j,T,M),[I,V,L]=c.applyToVertex(I,V,L,M));const N=y-o,O=j-r,A=T-g,E=I-o,P=V-r,S=L-g,U=b*S-P*d,W=d*E-S*h,k=h*P-E*b,B=N*U+O*W+A*k;if(Math.abs(B)<=Number.EPSILON)continue;const C=a-o,z=m-r,H=p-g,R=C*U+z*W+H*k;if(B>0){if(R<0||R>B)continue}else if(R>0||R<B)continue;const Y=z*A-O*H,q=H*N-A*C,w=C*O-N*z,D=h*Y+b*q+d*w;if(B>0){if(D<0||R+D>B)continue}else if(D>0||R+D<B)continue;const F=(E*Y+P*q+S*w)/B;if(F>=0){l(F,v(N,O,A,E,P,S,x),t,!1)}}}const y=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),j=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();function v(t,n,r,s,c,l,f){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(y,t,n,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(j,s,c,l),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.b)(f,y,j),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.n)(f,f),f}function T(t,n,o){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(o,1/(n[0]-t[0]),1/(n[1]-t[1]),1/(n[2]-t[2]))}function I(t,n,e,o){return V(t,n,e,o,1/0)}function V(t,n,e,o,i){const r=(t[0]-o-n[0])*e[0],s=(t[3]+o-n[0])*e[0];let c=Math.min(r,s),l=Math.max(r,s);const f=(t[1]-o-n[1])*e[1],u=(t[4]+o-n[1])*e[1];if(l=Math.min(l,Math.max(f,u)),l<0)return!1;if(c=Math.max(c,Math.min(f,u)),c>l)return!1;const a=(t[2]-o-n[2])*e[2],m=(t[5]+o-n[2])*e[2];return l=Math.min(l,Math.max(a,m)),!(l<0)&&(c=Math.max(c,Math.min(a,m)),!(c>l)&&c<i)}function L(t,e,o,i,r){let s=(o.screenLength||0)*t.pixelRatio;null!=r&&(s=(0,_lib_screenSizePerspectiveUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .scale */ .hs)(s,i,e,r));const c=s*Math.tan(.5*t.fovY)/(.5*t.fullHeight);return (0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .clamp */ .qE)(c*e,o.minWorldLength||0,null!=o.maxWorldLength?o.maxWorldLength:1/0)}function N(t,n){const e=n?N(n):{};for(const o in t){let n=t[o];n?.forEach&&(n=A(n)),null==n&&o in e||(e[o]=n)}return e}function O(n,e){let o=!1;for(const i in e){const r=e[i];void 0!==r&&(Array.isArray(r)?null===n[i]?(n[i]=r.slice(),o=!0):(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .update */ .yo)(n[i],r)&&(o=!0):n[i]!==r&&(o=!0,n[i]=r))}return o}function A(t){const n=[];return t.forEach((t=>n.push(t))),n}const E={multiply:1,ignore:2,replace:3,tint:4},P=1e3;


/***/ }),

/***/ 81500:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Hk: () => (/* binding */ b),
/* harmony export */   Pq: () => (/* binding */ y),
/* harmony export */   SA: () => (/* binding */ E),
/* harmony export */   Ut: () => (/* binding */ p),
/* harmony export */   p1: () => (/* binding */ O),
/* harmony export */   tH: () => (/* binding */ R),
/* harmony export */   tb: () => (/* binding */ S),
/* harmony export */   uO: () => (/* binding */ d),
/* harmony export */   zC: () => (/* binding */ A)
/* harmony export */ });
/* unused harmony exports writeBufferMat3f, writeBufferMat4f, writeBufferVec2, writeBufferVec3, writeColorFeatureAttribute, writeTangent */
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(37046);
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57813);
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(58947);
/* harmony import */ var _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(50645);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function d(e,t,f,o=1){const{data:r,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,1===o)for(let l=0;l<c;++l)s[f]=r[i[l]],f+=n;else for(let l=0;l<c;++l){const e=r[i[l]];for(let t=0;t<o;t++)s[f]=e,f+=n}}function u(e,t,f){const{data:o,indices:r}=e,i=t.typedBuffer,s=t.typedBufferStride,n=r.length;f*=s;for(let c=0;c<n;++c){const e=2*r[c];i[f]=o[e],i[f+1]=o[e+1],f+=s}}function a(e,t,f,o){const{data:r,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,null==o||1===o)for(let l=0;l<c;++l){const e=3*i[l];s[f]=r[e],s[f+1]=r[e+1],s[f+2]=r[e+2],f+=n}else for(let l=0;l<c;++l){const e=3*i[l];for(let t=0;t<o;++t)s[f]=r[e],s[f+1]=r[e+1],s[f+2]=r[e+2],f+=n}}function p(e,t,f,o=1){const{data:r,indices:i}=e,s=t.typedBuffer,n=t.typedBufferStride,c=i.length;if(f*=n,1===o)for(let l=0;l<c;++l){const e=4*i[l];s[f]=r[e],s[f+1]=r[e+1],s[f+2]=r[e+2],s[f+3]=r[e+3],f+=n}else for(let l=0;l<c;++l){const e=4*i[l];for(let t=0;t<o;++t)s[f]=r[e],s[f+1]=r[e+1],s[f+2]=r[e+2],s[f+3]=r[e+3],f+=n}}function y(e,t,f){const o=e.typedBuffer,r=e.typedBufferStride;t*=r;for(let i=0;i<f;++i)o[t]=0,o[t+1]=0,o[t+2]=0,o[t+3]=0,t+=r}function B(e,t,f){const{data:o,indices:r}=e,i=t.typedBuffer,s=t.typedBufferStride,n=r.length;f*=s;for(let c=0;c<n;++c){const e=9*r[c];for(let t=0;t<9;++t)i[f+t]=o[e+t];f+=s}}function g(e,t,f){const{data:o,indices:r}=e,i=t.typedBuffer,s=t.typedBufferStride,n=r.length;f*=s;for(let c=0;c<n;++c){const e=16*r[c];for(let t=0;t<16;++t)i[f+t]=o[e+t];f+=s}}function b(t,f,o,r,i=1){if(!f)return void a(t,o,r,i);const{data:s,indices:n}=t,c=o.typedBuffer,l=o.typedBufferStride,d=n.length,u=f[0],p=f[1],y=f[2],B=f[4],g=f[5],b=f[6],O=f[8],h=f[9],S=f[10],N=f[12],R=f[13],E=f[14];r*=l;let A=0,L=0,z=0;const F=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.y)(f)?e=>{A=s[e]+N,L=s[e+1]+R,z=s[e+2]+E}:e=>{const t=s[e],f=s[e+1],o=s[e+2];A=u*t+B*f+O*o+N,L=p*t+g*f+h*o+R,z=y*t+b*f+S*o+E};if(1===i)for(let e=0;e<d;++e)F(3*n[e]),c[r]=A,c[r+1]=L,c[r+2]=z,r+=l;else for(let e=0;e<d;++e){F(3*n[e]);for(let e=0;e<i;++e)c[r]=A,c[r+1]=L,c[r+2]=z,r+=l}}function O(f,o,r,i,s=1){if(!o)return void a(f,r,i,s);const{data:n,indices:c}=f,l=o,d=r.typedBuffer,u=r.typedBufferStride,p=c.length,y=l[0],B=l[1],g=l[2],b=l[4],O=l[5],h=l[6],S=l[8],N=l[9],R=l[10],E=!(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.z)(l),A=1e-6,L=1-A;i*=u;let z=0,F=0,I=0;const T=(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.y)(l)?e=>{z=n[e],F=n[e+1],I=n[e+2]}:e=>{const t=n[e],f=n[e+1],o=n[e+2];z=y*t+b*f+S*o,F=B*t+O*f+N*o,I=g*t+h*f+R*o};if(1===s)if(E)for(let e=0;e<p;++e){T(3*c[e]);const t=z*z+F*F+I*I;if(t<L&&t>A){const e=1/Math.sqrt(t);d[i]=z*e,d[i+1]=F*e,d[i+2]=I*e}else d[i]=z,d[i+1]=F,d[i+2]=I;i+=u}else for(let e=0;e<p;++e)T(3*c[e]),d[i]=z,d[i+1]=F,d[i+2]=I,i+=u;else for(let e=0;e<p;++e){if(T(3*c[e]),E){const e=z*z+F*F+I*I;if(e<L&&e>A){const t=1/Math.sqrt(e);z*=t,F*=t,I*=t}}for(let e=0;e<s;++e)d[i]=z,d[i+1]=F,d[i+2]=I,i+=u}}function h(e,f,o,r,i=1){if(!f)return void p(e,o,r,i);const{data:s,indices:n}=e,c=f,l=o.typedBuffer,d=o.typedBufferStride,u=n.length,a=c[0],y=c[1],B=c[2],g=c[4],b=c[5],O=c[6],h=c[8],S=c[9],N=c[10],R=!(0,_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__.z)(c),E=1e-6,A=1-E;if(r*=d,1===i)for(let t=0;t<u;++t){const e=4*n[t],f=s[e],o=s[e+1],i=s[e+2],c=s[e+3];let u=a*f+g*o+h*i,p=y*f+b*o+S*i,L=B*f+O*o+N*i;if(R){const e=u*u+p*p+L*L;if(e<A&&e>E){const t=1/Math.sqrt(e);u*=t,p*=t,L*=t}}l[r]=u,l[r+1]=p,l[r+2]=L,l[r+3]=c,r+=d}else for(let t=0;t<u;++t){const e=4*n[t],f=s[e],o=s[e+1],c=s[e+2],u=s[e+3];let p=a*f+g*o+h*c,L=y*f+b*o+S*c,z=B*f+O*o+N*c;if(R){const e=p*p+L*L+z*z;if(e<A&&e>E){const t=1/Math.sqrt(e);p*=t,L*=t,z*=t}}for(let t=0;t<i;++t)l[r]=p,l[r+1]=L,l[r+2]=z,l[r+3]=u,r+=d}}function S(e,t,f,o,r=1){const{data:i,indices:s}=e,n=f.typedBuffer,c=f.typedBufferStride,l=s.length;if(o*=c,t!==i.length||4!==t)if(1!==r)if(4!==t)for(let d=0;d<l;++d){const e=3*s[d];for(let t=0;t<r;++t)n[o]=i[e],n[o+1]=i[e+1],n[o+2]=i[e+2],n[o+3]=255,o+=c}else for(let d=0;d<l;++d){const e=4*s[d];for(let t=0;t<r;++t)n[o]=i[e],n[o+1]=i[e+1],n[o+2]=i[e+2],n[o+3]=i[e+3],o+=c}else{if(4===t){for(let e=0;e<l;++e){const t=4*s[e];n[o]=i[t],n[o+1]=i[t+1],n[o+2]=i[t+2],n[o+3]=i[t+3],o+=c}return}for(let e=0;e<l;++e){const t=3*s[e];n[o]=i[t],n[o+1]=i[t+1],n[o+2]=i[t+2],n[o+3]=255,o+=c}}else{n[o]=i[0],n[o+1]=i[1],n[o+2]=i[2],n[o+3]=i[3];const e=new Uint32Array(f.typedBuffer.buffer,f.start),t=c/4,s=e[o/=4];o+=t;const d=l*r;for(let f=1;f<d;++f)e[o]=s,o+=t}}function N(e,t,f){const{data:o,indices:r}=e,i=t.typedBuffer,s=t.typedBufferStride,n=r.length,c=o[0];f*=s;for(let l=0;l<n;++l)i[f]=c,f+=s}function R(e,t,f,o,r=1){const i=t.typedBuffer,s=t.typedBufferStride;if(o*=s,1===r)for(let n=0;n<f;++n)i[o]=e[0],i[o+1]=e[1],i[o+2]=e[2],i[o+3]=e[3],o+=s;else for(let n=0;n<f;++n)for(let t=0;t<r;++t)i[o]=e[0],i[o+1]=e[1],i[o+2]=e[2],i[o+3]=e[3],o+=s}function E(e,t,o,r,i,s){for(const n of t.fields.keys()){const t=e.attributes.get(n),c=t?.indices;if(t&&c)A(n,t,o,r,i,s);else if(n===_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.OBJECTANDLAYERIDCOLOR&&null!=e.objectAndLayerIdColor){const t=e.attributes.get(_lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.POSITION)?.indices;if(t){const o=t.length,r=i.getField(n,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewVec4u8 */ .XP);R(e.objectAndLayerIdColor,r,o,s)}}}}function A(e,t,d,a,y,B){switch(e){case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.POSITION:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(3===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewVec3f */ .xs);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(!!f,`No buffer view for ${e}`),f&&b(t,d,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.NORMAL:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(3===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewVec3f */ .xs);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(!!f,`No buffer view for ${e}`),f&&O(t,a,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.NORMALCOMPRESSED:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(2===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewVec2i16 */ .mJ);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(!!f,`No buffer view for ${e}`),f&&u(t,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.UV0:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(2===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewVec2f */ .gH);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(!!f,`No buffer view for ${e}`),f&&u(t,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.COLOR:case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.SYMBOLCOLOR:{const o=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewVec4u8 */ .XP);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(!!o,`No buffer view for ${e}`),(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(3===t.size||4===t.size),!o||3!==t.size&&4!==t.size||S(t,t.size,o,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.COLORFEATUREATTRIBUTE:{const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewFloat */ .Y$);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(!!f,`No buffer view for ${e}`),(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(1===t.size),f&&1===t.size&&N(t,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.TANGENT:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(4===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewVec4f */ .Eq);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(!!f,`No buffer view for ${e}`),f&&h(t,a,f,B);break}case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.PROFILERIGHT:case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.PROFILEUP:case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.PROFILEVERTEXANDNORMAL:case _lib_VertexAttribute_js__WEBPACK_IMPORTED_MODULE_3__/* .VertexAttribute */ .r.FEATUREVALUE:{(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(4===t.size);const f=y.getField(e,_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferViewVec4f */ .Eq);(0,_lib_Util_js__WEBPACK_IMPORTED_MODULE_2__/* .assert */ .vA)(!!f,`No buffer view for ${e}`),f&&p(t,f,B)}}}


/***/ }),

/***/ 86868:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Xq: () => (/* binding */ n),
/* harmony export */   wk: () => (/* binding */ h)
/* harmony export */ });
/* unused harmony export getStipplePatternForPatternStyle */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t={dash:[4,3],dot:[1,3],"long-dash":[8,3],"short-dash":[4,1],"short-dot":[1,1]},o={dash:t.dash,"dash-dot":[...t.dash,...t.dot],dot:t.dot,"long-dash":t["long-dash"],"long-dash-dot":[...t["long-dash"],...t.dot],"long-dash-dot-dot":[...t["long-dash"],...t.dot,...t.dot],none:null,"short-dash":t["short-dash"],"short-dash-dot":[...t["short-dash"],...t["short-dot"]],"short-dash-dot-dot":[...t["short-dash"],...t["short-dot"],...t["short-dot"]],"short-dot":t["short-dot"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return null!=t&&"style"===t.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}


/***/ }),

/***/ 29688:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ci: () => (/* binding */ n),
/* harmony export */   PC: () => (/* binding */ r),
/* harmony export */   Vk: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22279);
/* harmony import */ var _webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76698);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n(t,e){return null==t&&(t=[]),t.push(e),t}function r(t,e){if(null==t)return null;const n=t.filter((t=>t!==e));return 0===n.length?null:n}function s(t,n,r,s,u){l[0]=t.get(n,0),l[1]=t.get(n,1),l[2]=t.get(n,2),(0,_webgl_doublePrecisionUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .encodeDoubleArray */ .jS)(l,o,3),r.set(u,0,o[0]),s.set(u,0,o[1]),r.set(u,1,o[2]),s.set(u,1,o[3]),r.set(u,2,o[4]),s.set(u,2,o[5])}const l=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_0__.c)(),o=new Float32Array(6);


/***/ }),

/***/ 58376:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dt: () => (/* binding */ a),
/* harmony export */   kJ: () => (/* binding */ s),
/* harmony export */   lM: () => (/* binding */ p)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55274);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(69948);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81868);
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9319);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var p,s;!function(o){o[o.Draped=0]="Draped",o[o.Screen=1]="Screen",o[o.World=2]="World",o[o.COUNT=3]="COUNT"}(p||(p={})),function(o){o[o.Center=0]="Center",o[o.Tip=1]="Tip",o[o.COUNT=2]="COUNT"}(s||(s={}));class a extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__/* .DefaultTechniqueConfiguration */ .E{constructor(){super(...arguments),this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color,this.transparencyPassType=_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__/* .TransparencyPassType */ .y.NONE,this.occluder=!1,this.hasSlicePlane=!1,this.writeDepth=!1,this.space=p.Screen,this.hideOnShortSegments=!1,this.hasCap=!1,this.anchor=s.Center,this.hasTip=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.hasOccludees=!1,this.multipassEnabled=!1,this.cullAboveGround=!1}get draped(){return this.space===p.Draped}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({count:_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.COUNT})],a.prototype,"output",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({count:_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__/* .TransparencyPassType */ .y.COUNT})],a.prototype,"transparencyPassType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"occluder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({count:p.COUNT})],a.prototype,"space",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"hideOnShortSegments",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"hasCap",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({count:s.COUNT})],a.prototype,"anchor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"hasTip",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"vvSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"vvOpacity",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"multipassEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],a.prototype,"cullAboveGround",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({constValue:!1})],a.prototype,"occlusionPass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({constValue:!0})],a.prototype,"hasVvInstancing",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({constValue:!0})],a.prototype,"hasSliceTranslatedView",void 0);


/***/ }),

/***/ 16906:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* binding */ s),
/* harmony export */   x: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(55274);
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(69948);
/* harmony import */ var _lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(81868);
/* harmony import */ var _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9319);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var r;!function(o){o[o.BUTT=0]="BUTT",o[o.SQUARE=1]="SQUARE",o[o.ROUND=2]="ROUND",o[o.COUNT=3]="COUNT"}(r||(r={}));class s extends _materials_DefaultTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__/* .DefaultTechniqueConfiguration */ .E{constructor(){super(...arguments),this.output=_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.Color,this.capType=r.BUTT,this.transparencyPassType=_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__/* .TransparencyPassType */ .y.NONE,this.occluder=!1,this.hasSlicePlane=!1,this.hasPolygonOffset=!1,this.writeDepth=!1,this.draped=!1,this.stippleEnabled=!1,this.stippleOffColorEnabled=!1,this.stipplePreferContinuous=!0,this.roundJoins=!1,this.applyMarkerOffset=!1,this.vvSize=!1,this.vvColor=!1,this.vvOpacity=!1,this.falloffEnabled=!1,this.innerColorEnabled=!1,this.hasOccludees=!1,this.multipassEnabled=!1,this.cullAboveGround=!1,this.wireframe=!1,this.objectAndLayerIdColorInstanced=!1}}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({count:_core_shaderLibrary_ShaderOutput_js__WEBPACK_IMPORTED_MODULE_1__/* .ShaderOutput */ .V.COUNT})],s.prototype,"output",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({count:r.COUNT})],s.prototype,"capType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({count:_lib_TransparencyPassType_js__WEBPACK_IMPORTED_MODULE_3__/* .TransparencyPassType */ .y.COUNT})],s.prototype,"transparencyPassType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"occluder",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"hasSlicePlane",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"hasPolygonOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"writeDepth",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"draped",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"stippleEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"stippleOffColorEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"stipplePreferContinuous",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"roundJoins",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"applyMarkerOffset",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"vvSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"vvColor",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"vvOpacity",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"falloffEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"innerColorEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"hasOccludees",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"multipassEnabled",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"cullAboveGround",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"wireframe",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)()],s.prototype,"objectAndLayerIdColorInstanced",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({constValue:!1})],s.prototype,"occlusionPass",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({constValue:!0})],s.prototype,"hasVvInstancing",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_2__/* .parameter */ .W)({constValue:!0})],s.prototype,"hasSliceTranslatedView",void 0);


/***/ }),

/***/ 99439:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Nt: () => (/* binding */ K),
  ld: () => (/* binding */ X)
});

// UNUSED EXPORTS: CreateOperationGeometry

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/Graphic.js
var Graphic = __webpack_require__(25707);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Evented.js
var Evented = __webpack_require__(17306);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/handleUtils.js
var handleUtils = __webpack_require__(20464);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(6267);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/memoize.js
var memoize = __webpack_require__(6371);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/quantityUtils.js
var quantityUtils = __webpack_require__(73569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(85251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/unitUtils.js
var unitUtils = __webpack_require__(92976);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/GraphicsLayer.js
var GraphicsLayer = __webpack_require__(31828);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/elevationInfoUtils.js
var elevationInfoUtils = __webpack_require__(27451);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry.js
var geometry = __webpack_require__(17639);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(19251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Circle.js
var Circle = __webpack_require__(21394);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/geometryEngine.js
var geometryEngine = __webpack_require__(22724);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/coordsUtils.js
var coordsUtils = __webpack_require__(65319);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js
var spatialReferenceUtils = __webpack_require__(87926);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat2d.js
var mat2d = __webpack_require__(94734);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/mat2df64.js
var mat2df64 = __webpack_require__(83176);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/quat.js
var quat = __webpack_require__(76743);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/quatf64.js
var quatf64 = __webpack_require__(46991);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/Axis.js
var Axis = __webpack_require__(58331);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Point.js + 1 modules
var Point = __webpack_require__(78632);
;// ../node_modules/@arcgis/core/views/draw/support/surfaceCoordinateSystems.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function w(t,r,e=null){return null!=e?[t,r,e]:[t,r]}function g(t,r,e=null){return null!=e?{x:t,y:r,z:e}:{x:t,y:r}}class R{constructor(t){this.spatialReference=t}mapToLocalMultiple(r){return r.map((t=>this.mapToLocal(t))).filter(arrayUtils/* isSome */.Ru)}get doUnnormalization(){return!1}}class W extends R{constructor(t,a,o=null){super(a),this._defaultZ=o,this.transform=(0,mat2df64.c)(),this.transformInv=(0,mat2df64.c)(),this.transform=(0,mat2df64.a)(t),(0,mat2d.i)(this.transformInv,this.transform)}makeMapPoint(t,r){return w(t,r,this._defaultZ)}mapToLocal(t){return g(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return w(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class v extends R{constructor(t,r){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=(0,vec3f64.c)(),this.tangentFrameUpWS=(0,vec3f64.c)(),this.tangentFrameRightWS=(0,vec3f64.c)(),this.tangentFrameForwardWS=(0,vec3f64.c)(),this.localFrameRightWS=(0,vec3f64.c)(),this.localFrameUpWS=(0,vec3f64.c)(),this.worldToLocalTransform=(0,quatf64.a)(),this.localToWorldTransform=(0,quatf64.a)(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=r,this.defaultZ=r.hasZ?r.z:null;const e=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,Axis/* Axis */._.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,Axis/* Axis */._.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,Axis/* Axis */._.Z,this.tangentFrameForwardWS);const s=(0,vec3f64.c)();(0,vec3.i)(s,this.tangentFrameForwardWS,(0,vec3.j)(e,this.tangentFrameForwardWS)),(0,vec3.f)(this.localFrameRightWS,e,s),(0,vec3.n)(this.localFrameRightWS,this.localFrameRightWS),(0,vec3.b)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,quat.r)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,quat.i)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(t,r){return w(t,r,this.defaultZ)}mapToLocal(t){const r=(0,vec3f64.c)();this.view.renderCoordsHelper.toRenderCoords(new Point/* default */.A({x:t[0],y:t[1],spatialReference:this.spatialReference}),r),(0,vec3.v)(r,r,this.worldToLocalTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,this.view.spatialReference);return null!=e?g(e.x/this.scale,e.y/this.scale):null}localToMap(t){const r=(0,vec3f64.c)();this.view.renderCoordsHelper.toRenderCoords(new Point/* default */.A({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),r),(0,vec3.v)(r,r,this.localToWorldTransform);const e=this.view.renderCoordsHelper.fromRenderCoords(r,this.view.spatialReference);return null!=e?w(e.x,e.y,this.defaultZ):null}}function F(t,r){if("2d"===t.type)return new W(t.state.transform,t.spatialReference,r.length>2?r[2]:null);if("3d"===t.type){const e=r.length>2?new Point/* default */.A({x:r[0],y:r[1],z:r[2],spatialReference:t.spatialReference}):new Point/* default */.A({x:r[0],y:r[1],spatialReference:t.spatialReference});return new v(t,e)}return null}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Multipoint.js
var Multipoint = __webpack_require__(90067);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Polyline.js
var Polyline = __webpack_require__(42238);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Polygon.js
var Polygon = __webpack_require__(62802);
;// ../node_modules/@arcgis/core/views/draw/support/createUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function createUtils_g(t,e){const o=new Point/* default */.A({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(o.z=t[2]),o}function d(t,e){return new Multipoint/* default */.A({points:t,spatialReference:e})}function createUtils_R(t,e,o){const n=new Polyline/* default */.A({paths:t,spatialReference:e});return o&&(0,coordsUtils/* unnormalizeGeometryOnDatelineCrossing */._7)(n),n}function j(e,n,r,a=!0){const l=(0,lang/* clone */.o8)(e);l.forEach((e=>{const o=e[0],n=e[e.length-1];(0,arrayUtils/* equals */.aI)(o,n)&&1!==e.length||e.push(e[0])}));let i=new Polygon/* default */.A({rings:l,spatialReference:n});return i.rings.forEach((t=>{(0,coordsUtils/* isClockwise */.$3)(t)||t.reverse()})),r&&(0,coordsUtils/* unnormalizeGeometryOnDatelineCrossing */._7)(i),a&&i.isSelfIntersecting&&(0,spatialReferenceUtils/* isValid */.fn)(n)&&(i=(0,geometryEngine.simplify)(i)),i}function T(t,o,n){const r=o.mapToLocalMultiple(t),a=[],l={x:r[0].x,y:r[0].y},s={x:r[1].x,y:r[1].y},i=Math.round(s.x-l.x),c=Math.round(s.y-l.y),p=Math.max(Math.abs(i),Math.abs(c));if(n){const t={x:l.x+p,y:l.y+p},e={x:l.x-p,y:l.y-p};a.push(g(t.x,e.y),g(e.x,e.y),g(e.x,t.y),g(t.x,t.y))}else{const t={x:i>0?l.x+p:l.x-p,y:c>0?l.y+p:l.y-p};a.push(g(l.x,l.y),g(t.x,l.y),g(t.x,t.y),g(l.x,t.y))}return U(j([a.map((t=>o.localToMap(t))).filter(arrayUtils/* isSome */.Ru)],o.spatialReference,o.doUnnormalization,!0),a,o)}function b(t,o,n){let r=o.mapToLocalMultiple(t);if(1===r.length){const t=48,e=r[0];r=[g(e.x-t,e.y+t),g(e.x+t,e.y-t),g(e.x+t,e.y-t),g(e.x-t,e.y+t)]}const a=[],l={x:r[0].x,y:r[0].y},s={x:r[1].x,y:r[1].y};if(n){const t=Math.round(s.x-l.x),e=Math.round(s.y-l.y);a.push(g(l.x-t,l.y-e),g(s.x,l.y-e),g(s.x,s.y),g(l.x-t,s.y))}else a.push(g(l.x,l.y),g(s.x,l.y),g(s.x,s.y),g(l.x,s.y));return U(j([a.map((t=>o.localToMap(t))).filter(arrayUtils/* isSome */.Ru)],o.spatialReference,o.doUnnormalization,!0),a,o)}function U(t,e,o){const n=P(e[3],e[2],o),r=P(e[1],e[2],o),a=P(e[0],e[1],o),l=P(e[0],e[3],o);return{geometry:t,midpoints:null!=n&&null!=r&&null!=a&&null!=l?{top:n,right:r,bottom:a,left:l}:null}}function P(t,e,o){createUtils_w[0]=t.x,createUtils_w[1]=t.y,createUtils_w[2]=0,I[0]=e.x,I[1]=e.y,I[2]=0,(0,vec3.p)(createUtils_w,createUtils_w,I,.5),z.x=createUtils_w[0],z.y=I[1],z.z=I[2];const n=o.localToMap(z);return null!=n?createUtils_g(n,o.spatialReference):null}const z=g(0,0,0),createUtils_w=(0,vec3f64.c)(),I=(0,vec3f64.c)();function L(t,e,o,r){const a=e.mapToLocalMultiple(t);let s=null,c=null;if(o)s=a[0],c=a[1];else{const t=a[0],e=a[1],o=Math.round(e.x-t.x),n=Math.round(e.y-t.y),r=Math.max(Math.abs(o),Math.abs(n));s=g(o>0?t.x+r/2:t.x-r/2,n>0?t.y+r/2:t.y-r/2),c=g(Math.abs(o)>Math.abs(n)?s.x-r/2:s.x,Math.abs(o)>Math.abs(n)?s.y:s.y-r/2)}const p=e.localToMap(s),f=e.localToMap(c);if(null==p||null==f)return null;e.doUnnormalization&&(0,coordsUtils/* unnormalizeVerticesOnDatelineCrossing */.JM)([[p,f]],e.spatialReference);const x=createUtils_g(p,e.spatialReference),h=createUtils_g(f,e.spatialReference),M=(0,unitUtils/* getMetersPerUnitForSR */.GA)(e.spatialReference);let d=0;if((0,spatialReferenceUtils/* isValid */.fn)(e.spatialReference))d=M*(0,geometryEngine.distance)(x,h,null);else{const t=s.x-c.x,e=s.y-c.y;d=M*Math.sqrt(t*t+e*e)*(r||1)}const R=new Circle/* default */.A({center:x,radius:d,radiusUnit:"meters",spatialReference:e.spatialReference});return{geometry:j(R.rings,R.spatialReference,!1),center:x,edge:h}}function createUtils_v(t,o,n){const r=o.mapToLocalMultiple(t),a=r[0],l=r[1],s=Math.round(l.x-a.x),i=Math.round(l.y-a.y),c=g(n?a.x:a.x+s/2,n?a.y:a.y+i/2),p=n?s:s/2,y=n?i:i/2,u=60,f=[],x=2*Math.PI/u;function h(t){const e=Math.cos(t),o=Math.sin(t);return g(p*e+c.x,y*o+c.y)}for(let e=0;e<u;e++)f.push(h(e*x));f.push(f[0]);const{spatialReference:M,doUnnormalization:d}=o,R=j([f.map((t=>o.localToMap(t))).filter(arrayUtils/* isSome */.Ru)],M,d,!1),T=o.localToMap(h(Math.PI/2)),b=o.localToMap(h(0)),U=o.localToMap(h(-Math.PI/2)),P=o.localToMap(h(Math.PI));return{geometry:R,midpoints:null!=T&&null!=b&&null!=U&&null!=P?{top:createUtils_g(T,M),right:createUtils_g(b,M),bottom:createUtils_g(U,M),left:createUtils_g(P,M)}:null}}

;// ../node_modules/@arcgis/core/views/draw/support/helpMessageUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function helpMessageUtils_e(e,l){switch(e){case"point":case"multipoint":return n();case"polyline":return t(l);case"polygon":return o(l);default:return}}function n(e){return"point"}function t(e){return(null!=e&&"polyline"===e.type&&e.paths.length?e.paths[0].length:0)<2?"polylineZeroVertices":"polylineOneVertex"}function o(e){const n=null!=e&&"polygon"===e.type&&e.rings.length?e.rings[0].length:0;return n<3?"polylineZeroVertices":n<4?"polygonOneVertex":"polygonTwoVertices"}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js + 1 modules
var InteractiveToolBase = __webpack_require__(37413);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/keybindings.js
var keybindings = __webpack_require__(70384);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/SketchLabelOptions.js
var SketchLabelOptions = __webpack_require__(86084);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipOptions.js + 2 modules
var SketchTooltipOptions = __webpack_require__(30520);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js
var projectVectorToVector = __webpack_require__(42120);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/coordinateSystem.js
var coordinateSystem = __webpack_require__(55821);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/constraints.js
var constraints = __webpack_require__(81066);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js
var normalizedPoint = __webpack_require__(97847);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2.js
var vec2 = __webpack_require__(58680);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec2f64.js
var vec2f64 = __webpack_require__(78286);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(78983);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js
var projectVectorToPoint = __webpack_require__(70397);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectVectorToWGS84ComparableLonLat.js
var projectVectorToWGS84ComparableLonLat = __webpack_require__(2330);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/geodesicUtils.js
var geodesicUtils = __webpack_require__(22256);
;// ../node_modules/@arcgis/core/views/support/angularMeasurementUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const angularMeasurementUtils_d=(()=>{const r=(0,vec3f64.c)(),o=(0,vec3f64.c)(),p=(0,vec3f64.c)();return(m,f)=>{if((0,vec3.s)(o,m.x,m.y,m.z??0),(0,vec3.s)(p,f.x,f.y,f.z??0),(0,vec3.h)(o,p))return null;if(!(0,projectVectorToWGS84ComparableLonLat/* projectVectorToWGS84ComparableLonLat */.H)(o,m.spatialReference,o)||!(0,projectVectorToWGS84ComparableLonLat/* projectVectorToWGS84ComparableLonLat */.H)(p,f.spatialReference,p)){(0,vec3.f)(r,p,o),r[2]=0,(0,vec3.n)(r,r);let i=(0,vec2.x)(vec2f64.e,r);return r[0]<0&&(i=2*Math.PI-i),(0,quantityUtils/* createAngle */.Wq)(i,"radians","geographic")}const{azimuth:u}=(0,geodesicUtils/* inverseGeodeticSolver */._3)(x,o,p);return null!=u?(0,quantityUtils/* createAngle */.Wq)(u,"degrees","geographic"):void 0}})(),angularMeasurementUtils_v=(()=>{const e=(0,vec3f64.c)(),t=(0,vec3f64.c)();return({x:s,y:n,z:c,spatialReference:a},m,j)=>{const l=c??0;(0,vec3.s)(e,s,n,l);const y=(0,quantityUtils/* convertRotationType */.g2)((0,unitUtils/* convertUnit */.oU)(j.value,j.unit,"degrees"),j.rotationType,"geographic");if(!(0,projectVectorToVector/* projectVectorToVector */.F)(e,a,e,SpatialReference/* default */.A.WGS84)){const e=(0,quantityUtils/* convertRotationType */.g2)(y,"geographic","arithmetic"),t=(0,unitUtils/* convertUnit */.oU)(e,"degrees","radians");return new Point/* default */.A({x:s+m*Math.cos(t),y:n+m*Math.sin(t),z:l,spatialReference:a})}return (0,geodesicUtils/* directGeodeticSolver */.vN)(t,e,y,m),t[2]=l,(0,projectVectorToPoint/* projectVectorToPoint */.E)(t,SpatialReference/* default */.A.WGS84,a)}})(),x=new geodesicUtils/* InverseGeodeticSolverResult */.Zj;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/measurementUtils.js
var measurementUtils = __webpack_require__(77781);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/constraintUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function constraintUtils_d(o,s,p,a){if(!s)return;const{spatialReference:l}=o;if(!(0,unitUtils/* lengthUnitFromSpatialReference */._H)(l))return;const d=(0,measurementUtils/* computeEuclideanMeasurementSR */.l)(l),g=(0,unitUtils/* lengthUnitFromSpatialReference */._H)(d);if(!g)return;const h=(0,normalizedPoint/* fromPoint */.vf)(o,p,a),k=constraintUtils_v;if(!(0,projectVectorToVector/* projectVectorToVector */.F)(h,l,k,d))return;const U=(0,quantityUtils/* valueInUnit */.l3)(s,g);if("3d"===p?.type&&"local"===p.viewingMode)k[0]+=U;else{const t=(0,coordinateSystem/* createGlobal */.Sj)(d),r=(0,coordinateSystem/* axisAt */.vf)(t,k,Axis/* Axis */._.X,constraintUtils_w);(0,vec3.q)(k,k,r,U)}if(!(0,projectVectorToVector/* projectVectorToVector */.F)(k,d,k,l))return;const q=(0,vec3.o)(h,k);return new constraints/* SphereConstraint */.JV(h,q)}function constraintUtils_g(t,r,o,e){if(!r)return;const n=(0,normalizedPoint/* fromPoint */.vf)(t,o,e),s=angularMeasurementUtils_v(t,1,r);if(!s)return;const i=(0,normalizedPoint/* fromPoint */.vf)(s,o,e);return new constraints/* VerticalHalfPlaneConstraint */.FX(n,i)}function h(r,e,n,s){if(null==r)return;const i=(0,measurementUtils/* computeEuclideanMeasurementSR */.l)(e),c=(0,unitUtils/* verticalLengthUnitFromSpatialReference */.mq)(i);return c?new constraints/* HorizontalPlaneConstraint */.qR((0,quantityUtils/* valueInUnit */.l3)(r,c)):void 0}function k(t){let r;for(const o of t)o&&(r=r?.intersect(o)??o);return r}const constraintUtils_v=(0,vec3f64.c)(),constraintUtils_w=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/tooltip/SketchTooltipInfo.js
var SketchTooltipInfo = __webpack_require__(58486);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/tooltip/fields/fields.js + 2 modules
var fields = __webpack_require__(96151);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/DrawTooltipInfos.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let DrawTooltipInfos_d=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(t){super(t),this.type="draw-point",this.elevation=(0,fields/* makeElevationField */.S3)()}get allFields(){return[this.elevation]}};(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_d.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_d.prototype,"elevation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_d.prototype,"allFields",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_d.prototype,"helpMessage",void 0),DrawTooltipInfos_d=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.DrawPointTooltipInfo")],DrawTooltipInfos_d);let y=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(t){super(t),this.type="draw-polyline",this.orientation=(0,fields/* makeOrientationField */.LJ)(),this.distance=(0,fields/* makeLengthField */.R0)({title:t=>t.messages.sketch.distance}),this.elevation=(0,fields/* makeElevationField */.S3)(),this.totalLength=(0,fields/* makeLengthField */.R0)({format:(t,e)=>e.formatters.totalLength(t),title:t=>t.messages.sketch.totalLength,readOnly:!0})}get allFields(){return[this.orientation,this.distance,this.elevation,this.totalLength]}};(0,tslib_es6._)([(0,property/* property */.MZ)()],y.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],y.prototype,"orientation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],y.prototype,"distance",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],y.prototype,"elevation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],y.prototype,"totalLength",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],y.prototype,"allFields",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],y.prototype,"helpMessage",void 0),y=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.DrawPolylineTooltipInfo")],y);let c=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(t){super(t),this.type="draw-polygon",this.orientation=(0,fields/* makeOrientationField */.LJ)(),this.distance=(0,fields/* makeLengthField */.R0)({title:t=>t.messages.sketch.distance}),this.elevation=(0,fields/* makeElevationField */.S3)(),this.area=(0,fields/* makeAreaField */.Am)({readOnly:!0})}get allFields(){return[this.orientation,this.distance,this.elevation,this.area]}};(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"distance",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"elevation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"area",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"allFields",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"helpMessage",void 0),c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.DrawPolygonTooltipInfo")],c);let DrawTooltipInfos_v=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(t){super(t),this.type="draw-mesh",this.elevation=(0,fields/* makeElevationField */.S3)()}get allFields(){return[this.elevation]}};(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_v.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_v.prototype,"elevation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_v.prototype,"allFields",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_v.prototype,"helpMessage",void 0),DrawTooltipInfos_v=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.DrawMeshTooltipInfo")],DrawTooltipInfos_v);let DrawTooltipInfos_h=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(t){super(t),this.type="draw-rectangle",this.xSize=quantityUtils/* zeroMeters */.r7,this.ySize=quantityUtils/* zeroMeters */.r7,this.area=quantityUtils/* zeroSquareMeters */.iT}get allFields(){return[]}};(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_h.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_h.prototype,"xSize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_h.prototype,"ySize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_h.prototype,"area",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],DrawTooltipInfos_h.prototype,"allFields",null),DrawTooltipInfos_h=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.DrawRectangleTooltipInfo")],DrawTooltipInfos_h);let u=class extends SketchTooltipInfo/* SketchTooltipInfo */.w{constructor(t){super(t),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=quantityUtils/* zeroSquareMeters */.iT}get allFields(){return[]}};(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"radius",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"xSize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"ySize",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"area",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"allFields",null),u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.DrawCircleTooltipInfo")],u);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/tooltip/Tooltip.js + 26 modules
var Tooltip = __webpack_require__(38070);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/automaticAreaMeasurementUtils.js + 3 modules
var automaticAreaMeasurementUtils = __webpack_require__(27977);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/automaticLengthMeasurementUtils.js
var automaticLengthMeasurementUtils = __webpack_require__(36408);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js
var trackingUtils = __webpack_require__(97996);
;// ../node_modules/@arcgis/core/views/draw/DrawGraphicTool.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class J{constructor(){this.regularVertices=null,this.activeVertex=null,this.full=null,this.outline=null,this.circle=null,this.rectangle=null}}let K=class extends(Evented/* default */.A.EventedMixin(InteractiveToolBase/* InteractiveToolBase */.g)){constructor(t){super(t),this._graphic=null,this._createOperationGeometry=null,this.defaultZ=0,this.geometryType=null,this.hasZ=!0,this.labelOptions=new SketchLabelOptions/* default */.A,this.geometryToPlace=null,this.mode=null,this.snappingManager=null,this.snapToScene=!1,this.tooltip=null,this.tooltipOptions=new SketchTooltipOptions/* default */.A,this._getPointConstraint=(0,memoize/* memoize */.B)((t=>t)),this._getPolylineOrPolygonConstraint=(0,memoize/* memoize */.B)(((t,e,o)=>k([t,e,o]))),this._getDistanceConstraint=(0,memoize/* memoize */.B)(constraintUtils_d),this._getOrientationConstraint=(0,memoize/* memoize */.B)(constraintUtils_g),this._getElevationConstraint=(0,memoize/* memoize */.B)(h)}initialize(){this.internalGraphicsLayer=new GraphicsLayer/* default */.A({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer),this.drawOperation=this.makeDrawOperation();const t=this.tooltipOptions,e=this.view.type;this.tooltipInfos={point:new DrawTooltipInfos_d({tooltipOptions:t,viewType:e}),polyline:new y({tooltipOptions:t,viewType:e}),polygon:new c({tooltipOptions:t,viewType:e}),mesh:new DrawTooltipInfos_v({tooltipOptions:t,viewType:e}),rectangle:new DrawTooltipInfos_h({tooltipOptions:t}),circle:new u({tooltipOptions:t})},this.addHandles([this.drawOperation.on("vertex-add",(t=>this.onVertexAdd(t))),this.drawOperation.on("vertex-remove",(t=>this.onVertexRemove(t))),this.drawOperation.on("vertex-update",(t=>this.onVertexUpdate(t))),this.drawOperation.on("cursor-update",(t=>this.onCursorUpdate(t))),this.drawOperation.on("complete",(t=>this.onComplete(t))),(0,reactiveUtils/* watch */.wB)((()=>this.cursor),(t=>{this.drawOperation.cursor=t}),reactiveUtils/* syncAndInitial */.pc),(0,reactiveUtils/* watch */.wB)((()=>this.tooltipOptions.enabled),(t=>{this.tooltip=t?new Tooltip/* Tooltip */.m({view:this.view,info:this._tooltipInfo}):(0,maybe/* destroyMaybe */.pR)(this.tooltip)}),reactiveUtils/* syncAndInitial */.pc),(0,trackingUtils/* autorun */.fm)((()=>this._updateTooltipInfo()))]),this.finishToolCreation()}destroy(){this.drawOperation=(0,maybe/* destroyMaybe */.pR)(this.drawOperation),this.tooltip=(0,maybe/* destroyMaybe */.pR)(this.tooltip),this._destroyAllVisualisations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,maybe/* destroyMaybe */.pR)(this.internalGraphicsLayer),this._set("view",null)}get _defaultElevation(){return (0,quantityUtils/* createLength */.d_)(this.defaultZ,"meters")}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}get cursor(){return this._get("cursor")}set cursor(t){this._set("cursor",t)}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),null!=this._graphic&&(this._graphic.symbol=t)}get updating(){return this.drawOperation?.updating??!1}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){const e=this._tooltipInfo;if("key-down"===t.type&&t.key===keybindings/* tooltipKeys */.ac.enterInputMode&&null!=e&&e.editableFields.length>0&&this.tooltipOptions.inputEnabled)return e.enterInputMode(),void t.stopPropagation();this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}_destroyAllVisualisations(){this.removeHandles(DrawGraphicTool_W.outline),this.removeHandles(DrawGraphicTool_W.regularVertices),this.removeHandles(DrawGraphicTool_W.activeVertex),this.removeHandles(Q)}_createOrUpdateGraphic(t){if(null!=this._graphic)return this.updateGraphicGeometry(this._graphic,t),this._graphic;const o=this._graphic=new Graphic/* default */.A({...this.graphicProperties,symbol:this.graphicSymbol});return this.updateGraphicGeometry(o,t),this.internalGraphicsLayer.add(o),this.addHandles(this.initializeGraphic(o)),this.notifyChange("graphic"),this.addHandles((0,handleUtils/* makeHandle */.hA)((()=>{this.internalGraphicsLayer.remove(o),(0,maybe/* destroyMaybe */.pR)(o),this._graphic===o&&(this._graphic=null)})),Q),o}updateGraphicGeometry(t,e){t.geometry=e}_getCreateOperationGeometry(t={operationComplete:!1}){const{drawOperation:e}=this;if(null==e||0===e.numVertices)return null;const{coordinateHelper:o,view:i}=e,r=e.stagedVertex,n=e.committedVertices,l=n.slice(),a=null!=r;a&&l.push(o.pointToArray(r));const s=a?o.pointToArray(r):n.splice(-1)[0],p=l.length,c=i.spatialReference,h="3d"===i.type&&"global"===i.viewingMode,u=new J;switch(this.geometryType){case"point":case"mesh":u.regularVertices=n,u.activeVertex=s,u.full=o.arrayToPoint(l[0]);break;case"multipoint":u.regularVertices=n,u.activeVertex=s,p>0&&(u.full=d(l,c));break;case"polyline":u.regularVertices=n,u.activeVertex=s,p>0&&(u.full=createUtils_R([l],c,h));break;case"polygon":u.regularVertices=n,u.activeVertex=s,p>0&&(u.full=j([l],c,h,!0));break;case"circle":if(p>0){const e=F(i,l[0]);if(1===p&&t.operationComplete){const t=l[0],o=e.makeMapPoint(t[0]+Y*i.resolution,t[1]);u.circle=L([t,o],e,!0),u.full=null!=u.circle?u.circle.geometry:null}else 2===p&&(this.forceUniformSize?(u.circle=L(l,e,this.centered),u.full=null!=u.circle?u.circle.geometry:null):(u.rectangle=createUtils_v(l,e,this.centered),u.full=u.rectangle.geometry))}break;case"rectangle":if(p>0){const e=F(i,l[0]);if(1===p&&t.operationComplete){const t=l[0],o=e.makeMapPoint(t[0]+Y*i.resolution,t[1]);u.rectangle=T([t,o],e,!0),u.full=u.rectangle.geometry}else 2===p&&(u.rectangle=this.forceUniformSize?T(l,e,this.centered):b(l,e,this.centered),u.full=u.rectangle.geometry)}break;default:return null}switch(this.geometryType){case"point":case"multipoint":break;case"polyline":u.outline=p>1?createUtils_R([l],c,h):null;break;case"polygon":u.outline=p>1?j([l],c,h):null;break;case"circle":case"rectangle":u.outline="polygon"===u.full?.type?j(u.full.rings,c,h):null}return u}initializeGraphic(t){return (0,handleUtils/* makeHandle */.hA)()}onComplete(t){this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const t=this._getCreateOperationGeometry({operationComplete:!0});null!=t&&(e=this._createOrUpdateGraphic(t.full).clone())}this._createOperationGeometry=null,this.emit("complete",{graphic:e,...t})}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}onVertexAdd(t){this._updateGraphic(),this._clearConstraints(),this.emit("vertex-add",t)}onVertexRemove(t){this._updateGraphic(),this._clearConstraints(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,null!=t?(null!=t.outline?this.addHandles(this.onOutlineChanged(t.outline),DrawGraphicTool_W.outline):this.removeHandles(DrawGraphicTool_W.outline),null!=t.regularVertices?this.addHandles(this.onRegularVerticesChanged(t.regularVertices),DrawGraphicTool_W.regularVertices):this.removeHandles(DrawGraphicTool_W.regularVertices),null!=t.activeVertex?this.addHandles(this.onActiveVertexChanged(t.activeVertex),DrawGraphicTool_W.activeVertex):this.removeHandles(DrawGraphicTool_W.activeVertex),null!=t.full?this._createOrUpdateGraphic(t.full):this.removeHandles(Q)):this._destroyAllVisualisations()}get _tooltipInfo(){const{drawOperation:t,graphic:e,view:o}=this;if(!t)return null;const i=this.tooltipInfos,r=e?.geometry?.type;switch(this.geometryType){case"point":return"2d"===o.type&&0===this.defaultZ?null:"point"===r?i.point:null;case"polyline":return"polyline"===r?i.polyline:null;case"polygon":return"polygon"===r?i.polygon:null;case"rectangle":return"polygon"===r?i.rectangle:null;case"circle":return"polygon"===r?i.circle:null;case"mesh":return"mesh"===r?i.mesh:null;default:return null}}_updateTooltipInfo(){const{_tooltipInfo:t,tooltip:e}=this;if(t&&e){switch(t.type){case"draw-point":this._updateDrawPointTooltipInfo(t);break;case"draw-polyline":this._updateDrawPolylineTooltipInfo(t);break;case"draw-polygon":this._updateDrawPolygonTooltipInfo(t);break;case"draw-rectangle":this._updateDrawRectangleTooltipInfo(t);break;case"draw-circle":this._updateDrawCircleTooltipInfo(t);break;case"draw-mesh":this.updateDrawMeshTooltipInfo(t)}e.info=t}}_updateDrawPointTooltipInfo(t){const{drawOperation:e,graphic:o,view:i,tooltipOptions:r}=this,{elevationInfo:n,stagedVertex:l}=e;if(t.tooltipOptions=r,t.viewType=i.type,t.helpMessage=helpMessageUtils_e("point",o?.geometry),this.updateElevation(t.elevation),!l)return void(e.constraint=void 0);const a=e.coordinateHelper.spatialReference;e.constraint=this._getPointConstraint(this._getElevationConstraint(t.elevation.committed,a,i,n))}_updateDrawPolylineTooltipInfo(t){const e=this._createOperationGeometry,o=null!=e?e.full:null;if("polyline"!==o?.type)return;const{drawOperation:i,tooltipOptions:r,view:n}=this,{lastVertex:l,stagedVertex:s}=i;this._updatePolylineOrPolygonCommon(t,s);const p=(0,automaticLengthMeasurementUtils/* autoLengthByElevationMode */.t0)(o,this._elevationMode);t.totalLength.actual=p??quantityUtils/* zeroMeters */.r7,t.totalLength.hidden=null==length||!l,t.tooltipOptions=r,t.viewType=n.type,t.helpMessage=helpMessageUtils_e("polyline",o),this.updateElevation(t.elevation)}_updateDrawPolygonTooltipInfo(t){const e=this._createOperationGeometry,o=null!=e?e.full:null;if("polygon"!==o?.type)return;const{drawOperation:i,tooltipOptions:r,view:n}=this,{lastVertex:l}=i;let a=i.stagedVertex;"polygon"===o?.type&&l&&!a&&(a=o.getPoint(0,o.rings[0].length-1)),this._updatePolylineOrPolygonCommon(t,a);const p=(0,automaticAreaMeasurementUtils/* autoAreaByElevationMode */.Y)(o,this._elevationMode);t.area.actual=p??quantityUtils/* zeroSquareMeters */.iT,t.area.hidden=null==p&&!l,t.tooltipOptions=r,t.viewType=n.type,t.helpMessage=helpMessageUtils_e("polygon",o),this.updateElevation(t.elevation)}_updatePolylineOrPolygonCommon(t,e){const{view:o,drawOperation:i}=this,{elevationInfo:r,lastVertex:n}=i;if(!n||!e)return t.distance.hidden=!0,t.orientation.hidden=!0,void(i.constraint=void 0);const l=(0,automaticLengthMeasurementUtils/* autoDirectDistanceByElevationModeBetweenPoints */.I2)(n,e,this._elevationMode);t.distance.actual=l??quantityUtils/* zeroMeters */.r7,t.distance.hidden=!1;const s=angularMeasurementUtils_d(n,e);t.orientation.actual=s??quantityUtils/* zeroDegrees */.IV,t.orientation.hidden=!1;const c=i.coordinateHelper.spatialReference;i.constraint=this._getPolylineOrPolygonConstraint(this._getDistanceConstraint(n,t.distance.committed,o,r),this._getOrientationConstraint(n,t.orientation.committed,o,r),this._getElevationConstraint(t.elevation.committed,c,o,r))}updateDrawMeshTooltipInfo(t){}_updateDrawRectangleTooltipInfo(t){t.tooltipOptions=this.tooltipOptions,t.xSize=this._xSize??quantityUtils/* zeroMeters */.r7,t.ySize=this._ySize??quantityUtils/* zeroMeters */.r7,t.area=this._fullGeometryArea??quantityUtils/* zeroSquareMeters */.iT}_updateDrawCircleTooltipInfo(t){const{forceUniformSize:e}=this;t.tooltipOptions=this.tooltipOptions,t.radius=e?this._circleRadius??quantityUtils/* zeroMeters */.r7:null,t.xSize=e?null:this._xSize??quantityUtils/* zeroMeters */.r7,t.ySize=e?null:this._ySize??quantityUtils/* zeroMeters */.r7,t.area=this._fullGeometryArea??quantityUtils/* zeroSquareMeters */.iT}get _circleRadius(){const t=this._createOperationGeometry;return null!=t?.circle?.center&&null!=t.circle.edge?(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t.circle.center,t.circle.edge,this._elevationMode):null}get _xSize(){const t=this._createOperationGeometry?.rectangle?.midpoints;return null!=t?(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t.left,t.right,this._elevationMode):null}get _ySize(){const t=this._createOperationGeometry?.rectangle?.midpoints;return null!=t?(0,automaticLengthMeasurementUtils/* autoHorizontalDistanceByElevationModeBetweenPoints */.LS)(t.top,t.bottom,this._elevationMode):null}get _fullGeometryArea(){const t=this._createOperationGeometry?.full;return"polygon"!==t?.type?null:(0,automaticAreaMeasurementUtils/* autoAreaByElevationMode */.Y)(t,this._elevationMode)}updateElevation(t){t.actual=this._vertexTooltipElevation}get _vertexTooltipElevation(){const{tooltipOptions:t,view:e,drawOperation:o}=this;if(null==o)return this._defaultElevation;const i=o.stagedVertex??o.lastVertex;if(null==i||"2d"===e.type)return this._defaultElevation;const r={mode:t.elevation.mode,offset:0},n=((0,elevationInfoUtils/* getConvertedElevation */.wS)(e,i,o.elevationInfo,r)??0)*(0,unitUtils/* getMetersPerVerticalUnitForSR */.G9)(i.spatialReference);return (0,quantityUtils/* createLength */.d_)(n,"meters")}get _elevationMode(){return this.drawOperation.isDraped?"on-the-ground":"absolute-height"}_clearConstraints(){for(const[,t]of Object.entries(this.tooltipInfos))t.unlockAllFields()}};(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_createOperationGeometry",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_defaultElevation",null),(0,tslib_es6._)([(0,property/* property */.MZ)({value:!0})],K.prototype,"centered",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"cursor",null),(0,tslib_es6._)([(0,property/* property */.MZ)({nonNullable:!0})],K.prototype,"defaultZ",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"drawOperation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({value:!0})],K.prototype,"enabled",null),(0,tslib_es6._)([(0,property/* property */.MZ)({value:!0})],K.prototype,"forceUniformSize",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],K.prototype,"geometryType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"graphic",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],K.prototype,"graphicProperties",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"graphicSymbol",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],K.prototype,"hasZ",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchLabelOptions/* default */.A})],K.prototype,"labelOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],K.prototype,"geometryToPlace",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],K.prototype,"mode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"snappingManager",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"snapToScene",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"tooltip",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"tooltipInfos",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchTooltipOptions/* default */.A})],K.prototype,"tooltipOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],K.prototype,"type",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],K.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,nonNullable:!0})],K.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_tooltipInfo",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_circleRadius",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_xSize",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_ySize",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_fullGeometryArea",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_vertexTooltipElevation",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],K.prototype,"_elevationMode",null),K=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.draw.DrawGraphicTool")],K);const Q="create-operation-graphic",DrawGraphicTool_W={outline:"outline-visual",regularVertices:"regular-vertices-visual",activeVertex:"active-vertex-visual"};function X(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment";case"mesh":return"point"}}const Y=48;


/***/ }),

/***/ 96453:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  O0: () => (/* binding */ k)
});

// UNUSED EXPORTS: defaultCursor, defaultLoadingCursor

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(52495);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Evented.js
var Evented = __webpack_require__(17306);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/lang.js
var lang = __webpack_require__(19251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(6267);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/promiseUtils.js
var promiseUtils = __webpack_require__(40189);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(85251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/screenUtils.js
var screenUtils = __webpack_require__(89882);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/diffUtils.js
var diffUtils = __webpack_require__(64442);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/support/UpdatingHandles.js
var UpdatingHandles = __webpack_require__(4238);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/layers/graphics/dehydratedFeatureComparison.js
var dehydratedFeatureComparison = __webpack_require__(9723);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/elevationInfoUtils.js
var elevationInfoUtils = __webpack_require__(27451);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/ViewingMode.js
var ViewingMode = __webpack_require__(10714);
;// ../node_modules/@arcgis/core/views/draw/DrawingMode.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const c=(/* unused pure expression or super */ null && (["freehand","hybrid","click"])),DrawingMode_e="click";

;// ../node_modules/@arcgis/core/views/draw/DrawManipulator.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class DrawManipulator_t{constructor({grabbableForEvent:t}){this.events=new Evented/* default */.A,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=!0,this.grabbableForEvent=t}destroy(){}intersectionDistance(e,t){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/coordinateHelper.js
var coordinateHelper = __webpack_require__(75999);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/dragEventPipeline.js
var dragEventPipeline = __webpack_require__(74321);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js + 1 modules
var EditGeometry = __webpack_require__(4057);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js + 6 modules
var EditGeometryOperations = __webpack_require__(5470);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/normalizedPoint.js
var normalizedPoint = __webpack_require__(97847);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/SketchLabelOptions.js
var SketchLabelOptions = __webpack_require__(86084);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/sketch/SketchTooltipOptions.js + 2 modules
var SketchTooltipOptions = __webpack_require__(30520);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js
var SnappingContext = __webpack_require__(53333);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/SnappingDragPipelineStep.js
var SnappingDragPipelineStep = __webpack_require__(89030);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/Scheduler.js + 1 modules
var Scheduler = __webpack_require__(93399);
;// ../node_modules/@arcgis/core/views/interactive/snapping/SnappingOperation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=class extends Accessor/* default */.A{constructor(t){super(t),this.constrainResult=t=>t,this._snapPoints=null,this._frameTask=null,this._abortController=null,this._stagedPoint=null,this._snap=(0,promiseUtils/* debounce */.sg)((async(t,s,o,r)=>{const n=this._frameTask;if(null==n)return;const e=await n.schedule((()=>s.snap({...t,context:o,signal:r})),r);e.valid&&await n.schedule((()=>{this.stagedPoint=e.apply(),t!==this._snapPoints&&null!=this._snapPoints&&(this.stagedPoint=s.update({...this._snapPoints,context:o}))}),r)}))}get stagedPoint(){return this._stagedPoint}set stagedPoint(t){this._stagedPoint=this.constrainResult(t)}initialize(){const t="3d"===this.view.type?this.view?.resourceController?.scheduler:null;this._frameTask=null!=t?t.registerTask(Scheduler/* TaskPriority */.W6.SNAPPING):Scheduler/* ImmediateTask */.nu}destroy(){this._abortController=(0,maybe/* abortMaybe */.DC)(this._abortController),this._frameTask=(0,maybe/* removeMaybe */.xt)(this._frameTask)}update(t,s,o){this._snapPoints=t;const{point:r,scenePoint:n}=t,e=s.update({point:r,scenePoint:n,context:o});return this.stagedPoint=e,e}async snap(t,s,o){const{point:r,scenePoint:n}=t;return this.stagedPoint=s.update({point:r,scenePoint:n,context:o}),this._snapPoints=t,null==this._abortController&&(this._abortController=new AbortController),this._snap(t,s,o,this._abortController.signal)}async resnap(t,s){null!=this._snapPoints&&await this.snap(this._snapPoints,t,s)}abort(){this._abortController=(0,maybe/* abortMaybe */.DC)(this._abortController),this._snapPoints=null}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],p.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"stagedPoint",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"constrainResult",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"_stagedPoint",void 0),p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.snapping.SnappingOperation")],p);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/snapping/snappingUtils.js
var snappingUtils = __webpack_require__(61851);
;// ../node_modules/@arcgis/core/views/draw/DrawOperation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const H="crosshair",j="progress";let k=class extends(Evented/* default */.A.EventedMixin(Accessor/* default */.A)){constructor(e){super(e),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new Set,this._stagedScreenPoint=null,this._stagedPointerType=null,this._stagedPointerId=null,this._updatingHandles=new UpdatingHandles/* UpdatingHandles */.U,this.constraint=void 0,this.isDraped=!0,this.labelOptions=new SketchLabelOptions/* default */.A,this.tooltipOptions=new SketchTooltipOptions/* default */.A,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.lastVertex=null,null==e.elevationInfo&&(this.elevationInfo=(0,elevationInfoUtils/* getEffectiveElevationInfo */.bK)(!!e.hasZ))}initialize(){const{geometryType:e,view:t}=this,i=t.spatialReference,n="viewingMode"in t.state?t.state.viewingMode:ViewingMode/* ViewingMode */.RT.Local,o="segment"===e||"multipoint"===e?"polyline":e;this.coordinateHelper=(0,coordinateHelper/* createCoordinateHelper */.BV)(this.hasZ,this.hasM,i),this._editGeometryOperations=new EditGeometryOperations/* EditGeometryOperations */.p(new EditGeometry/* EditGeometry */.ZE(o,this.coordinateHelper)),this._snappingOperation=new p({view:t,constrainResult:e=>e?this._getEffectiveDrawSurface()?.constrainZ(e):void 0}),this.addHandles([(0,reactiveUtils/* watch */.wB)((()=>this.stagedVertex),(e=>{null!=e&&this.emit("cursor-update",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(e)}],operation:"apply",type:"vertex-update"})}),{sync:!0,equals:(e,t)=>(0,maybe/* equalsMaybe */.CM)(e,t,dehydratedFeatureComparison/* pointEquals */.C)}),(0,reactiveUtils/* watch */.wB)((()=>this.view.viewpoint),((e,t)=>{e&&t&&(0,diffUtils/* diff */.Ui)(e,t)&&this._onViewpointChange()}))]),this._activeComponent=new EditGeometry/* Component */.uA(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const c=this.segmentLabels;null!=c&&(c.context={view:t,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.addHandles([(0,reactiveUtils/* watch */.wB)((()=>this.labelOptions.enabled),(e=>{c.visible=e}),reactiveUtils/* syncAndInitial */.pc),this.on("cursor-update",(()=>{const e=this.stagedVertex;c.stagedVertex=null!=e?this.coordinateHelper.pointToVector(e):null}))])),this.addHandles(this._editGeometryOperations.on(["vertex-add","vertex-update","vertex-remove"],(e=>{const t=e.vertices.map((e=>({componentIndex:0,vertexIndex:e.index,coordinates:this.coordinateHelper.vectorToArray(e.pos)}))),i=t.map((e=>e.coordinates));switch(e.type){case"vertex-add":this.emit(e.type,{...e,added:i,vertices:t});break;case"vertex-update":this.emit(e.type,{...e,updated:i,vertices:t});break;case"vertex-remove":this.emit(e.type,{...e,removed:i,vertices:t})}const n=this._activeComponent.getLastVertex(),o=null!=n?this.coordinateHelper.vectorToDehydratedPoint(n.pos):null;null!=o&&null!=this.lastVertex&&(0,dehydratedFeatureComparison/* pointEquals */.C)(this.lastVertex,o)||(this.lastVertex=o)})));const l=this._manipulator=new DrawManipulator_t({grabbableForEvent:e=>"click"!==this.drawingMode||"touch"===e.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(l),l.grabbable="point"!==e,this.addHandles([this._createManipulatorDragPipeline(l),l.events.on("immediate-click",(e=>this._onImmediateClick(e))),l.events.on("immediate-double-click",(e=>this._onImmediateDoubleClick(e))),(0,reactiveUtils/* watch */.wB)((()=>({effectiveCursor:this.effectiveCursor})),(({effectiveCursor:e})=>{l.cursor=e}),reactiveUtils/* syncAndInitial */.pc)]),(0,snappingUtils/* setupSnappingToggleHandles */.BY)(this,(()=>{const e=this.view.inputManager.latestPointerType??"mouse",t=this._getSnappingContext(e);null!=this.snappingManager&&this._updatingHandles.addPromise((0,promiseUtils/* ignoreAbortErrors */.QZ)(this._snappingOperation.resnap(this.snappingManager,t)))}))}destroy(){(0,maybe/* destroyMaybe */.pR)(this.segmentLabels),(0,maybe/* destroyMaybe */.pR)(this._snappingOperation),this._editGeometryOperations=(0,maybe/* destroyMaybe */.pR)(this._editGeometryOperations),this._updatingHandles.destroy()}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const e=this._getEffectiveDrawSurface();return"3d"===this.view.type&&this.drawSurface!==e}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((e=>this.coordinateHelper.vectorToArray(e.pos)))}set drawingMode(e){this._set("drawingMode",e??DrawingMode_e)}get effectiveCursor(){return this.loading?j:this._hideDefaultCursor?null:this.cursor||H}get interactive(){return this._manipulator.interactive}set interactive(e){this._manipulator.interactive=e}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get numVertices(){return null!=this.stagedVertex?this._activeComponent.vertices.length+1:this._activeComponent.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get stagedVertex(){const e=this._snappingOperation.stagedPoint,{constraint:t,elevationInfo:i,view:n}=this;if(!e||!t)return e;const o=(0,normalizedPoint/* fromPoint */.vf)(e,n,i),r=o?t.closestTo(o):void 0;return r?(0,normalizedPoint/* toDehydratedPoint */.io)(r,e.spatialReference):e}set stagedVertex(e){this._snappingOperation.stagedPoint=(0,lang/* clone */.o8)(e)}get updating(){return this._updatingHandles.updating}get vertices(){const e=this.committedVertices;return null!=this.stagedVertex&&e.push(this.coordinateHelper.pointToArray(this.stagedVertex)),e}cancel(){this.complete({aborted:!0})}commitStagedVertex(){if(this._snappingOperation.abort(),null!=this.stagedVertex){const{stagedVertex:e}=this;this.stagedVertex=null,this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(e))}}complete(e){const t=e&&e.aborted||!1;this._snappingOperation.abort(),null!=this.snappingManager&&this.snappingManager.doneSnapping(),"segment"===this.geometryType||"point"===this.geometryType?this.commitStagedVertex():this.stagedVertex=null;const i="multipoint"===this.geometryType&&0===this.numVertices||"polyline"===this.geometryType&&this.numVertices<2||"polygon"===this.geometryType&&this.numVertices<3;this._createOperationCompleted=!i,(this.isCompleted||t)&&this.emit("complete",{vertices:this.vertices.map(((e,t)=>({componentIndex:0,vertexIndex:t,coordinates:e}))),aborted:t,type:"complete"})}onInputEvent(e){switch(e.type){case"pointer-down":this._pointerDownStates.add(e.pointerId);break;case"pointer-up":this._pointerDownStates.delete(e.pointerId)}switch(e.type){case"pointer-move":return this._onPointerMove(e);case"hold":return this._onHold(e)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_closeOnClickVertexIndex(e){const t=this._activeComponent;if("polygon"===this.geometryType&&t.vertices.length>2){if(this._vertexWithinPointerDistance(t.vertices[0].pos,e))return 0;if(this._vertexWithinPointerDistance(t.vertices[t.vertices.length-1].pos,e))return t.vertices.length-1}return null}_createManipulatorDragPipeline(e){switch(this.drawingMode){case"click":return this._createManipulatorDragPipelineClick(e);case"freehand":return this._createManipulatorDragPipelineFreehand(e);case"hybrid":return this._createManipulatorDragPipelineHybrid(e)}}_createManipulatorDragPipelineClick(e){return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(e,((e,t,i,n)=>{const o="touch"===n&&this._snappingEnabled;if(this.isCompleted||!o)return;const{snappingStep:r,cancelSnapping:s}=(0,SnappingDragPipelineStep/* createSnapDragEventPipelineStep */.L)({predicate:()=>o,snappingManager:this.snappingManager,snappingContext:new SnappingContext/* SnappingContext */.e({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});i=i.next((e=>(o&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),e))).next(s),t.next(this._screenToMapDragEventStep()).next((e=>("start"===e.action&&(this.stagedVertex=e.mapStart,("segment"===this.geometryType||o&&0===this.numVertices)&&this.commitStagedVertex()),e))).next((0,dragEventPipeline/* sceneSnappingAtLocation */.pg)(this.view,this.elevationInfo)).next(...r).next((e=>(o&&(this.stagedVertex=e.mapEnd,"end"===e.action&&this.commitStagedVertex()),e))).next((e=>("end"===e.action&&("segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()),e)))}))}_createManipulatorDragPipelineFreehand(e){return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>("start"===e.action&&(null==this.stagedVertex&&(this.stagedVertex=e.mapStart),"segment"===this.geometryType&&this.commitStagedVertex()),e))).next((e=>{switch(e.action){case"start":case"update":this.stagedVertex=e.mapEnd,"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":this.complete()}return e}))}))}_createManipulatorDragPipelineHybrid(e){return (0,dragEventPipeline/* createManipulatorDragEventPipeline */.Xt)(e,((e,t)=>{this.isCompleted||t.next(this._screenToMapDragEventStep()).next((e=>("start"===e.action&&(null==this.stagedVertex&&(this.stagedVertex=e.mapStart),this.commitStagedVertex()),e))).next((e=>{switch(e.action){case"start":case"update":this.stagedVertex=e.mapEnd,"polygon"!==this.geometryType&&"polyline"!==this.geometryType||this.commitStagedVertex();break;case"end":"segment"!==this.geometryType&&"point"!==this.geometryType||this.complete()}return e}))}))}get _drawAtFixedElevation(){return("segment"===this.geometryType||"polygon"===this.geometryType)&&this.numCommittedVertices>0}_getEffectiveDrawSurface(){if(null==this.elevationDrawSurface)return this.drawSurface;if(!this.coordinateHelper.hasZ())return this.elevationDrawSurface.defaultZ=null,this.elevationDrawSurface;let e=this.defaultZ,t=!1;return null!=this.elevationInfo&&"absolute-height"===this.elevationInfo.mode&&(t=!0),null!=this.snapToSceneEnabled&&(t=this.snapToSceneEnabled),null!=this.elevationInfo&&"on-the-ground"===this.elevationInfo.mode&&(t=!1),this._drawAtFixedElevation&&(e=this.coordinateHelper.getZ(this._activeComponent.vertices[0].pos),t=!1),t?this.drawSurface:(this.elevationDrawSurface.defaultZ=e,this.elevationDrawSurface)}_mapToScreen(e){return this._getEffectiveDrawSurface()?.mapToScreen(e)}_onHold(e){this._snappingOperation.abort(),"click"===this.drawingMode&&"touch"===e.pointerType&&this._snappingEnabled&&(this.stagedVertex=e.mapPoint),e.stopPropagation()}_onImmediateClick(e){if("mouse"===e.pointerType&&2===e.button||this._manipulator.dragging)return;const t=this._activeComponent;if(null!=this._closeOnClickVertexIndex(e.screenPoint))return e.stopPropagation(),void this.complete();const i=this._screenToMap(e.screenPoint);if(null!=i)switch(this.drawingMode){case"freehand":"point"===this.geometryType&&(null!=this.stagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(i)),this.complete());break;case"click":case"hybrid":this._snappingOperation.abort(),null!=this.stagedVertex?this.commitStagedVertex():this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(i)),("point"===this.geometryType||"segment"===this.geometryType&&2===t.vertices.length||"segment"===this.geometryType&&"hybrid"===this.drawingMode&&1===t.vertices.length)&&this.complete()}e.stopPropagation()}_onImmediateDoubleClick(e){this._manipulator.dragging||"point"===this.geometryType||(this.complete(),e.stopPropagation())}_onPointerMove(e){const t=(0,screenUtils/* createScreenPoint */.tc)(e.x,e.y);this._stagedScreenPoint=t,this._stagedPointerType=e.pointerType,this._stagedPointerId=e.pointerId;const i=this._snappingOperation,n=this._manipulator;this._pointerDownStates.has(e.pointerId)||n.grabbing||!n.interactive?i.abort():(e.stopPropagation(),this._updateStagedVertexOnPointerMove(t,e.pointerType))}_onViewpointChange(){const e=this._manipulator;"mouse"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._pointerDownStates.has(this._stagedPointerId)&&!e.grabbing&&e.interactive?this._updateStagedVertexOnPointerMove(this._stagedScreenPoint,this._stagedPointerType??"mouse"):this._snappingOperation.abort()}_updateStagedVertexOnPointerMove(e,t){const i=this._snappingOperation,n=this._closeOnClickVertexIndex(e);if(null!=n)return this._closeOnVertex(n),void i.abort();const o=this._screenToMap(e),r=this._requiresScenePoint?this.drawSurface?.screenToMap(e):null;if(null==o)return this._hideDefaultCursor=!0,void i.abort();this._hideDefaultCursor=!1;const a=this.snappingManager;if(null==a)return this.stagedVertex=o,void i.abort();const p=this._getSnappingContext(t);this._updatingHandles.addPromise((0,promiseUtils/* ignoreAbortErrors */.QZ)(i.snap({point:o,scenePoint:r},a,p)))}_closeOnVertex(e){this.stagedVertex=null;const t={componentIndex:0,vertexIndex:e,coordinates:this.coordinateHelper.vectorToArray(this._activeComponent.vertices[e].pos)};this.emit("cursor-update",{updated:null,vertices:[t],operation:"apply",type:"vertex-update"})}_screenToMap(e){return this._getEffectiveDrawSurface()?.screenToMap(e)}_screenToMapDragEventStep(){let e=null;return t=>{if("start"===t.action&&(e=this._screenToMap(t.screenStart)),null==e)return null;const i=this._screenToMap(t.screenEnd);return null!=i?{...t,mapStart:e,mapEnd:i}:null}}_vertexWithinPointerDistance(e,t){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(e));return null!=n&&G(n,t,i)}_getSnappingContext(e){const t=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new SnappingContext/* SnappingContext */.e({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:e,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=t?{value:t,elevationInfo:this.elevationInfo}:null})}};function G(e,t,i){const n=e.x-t.x,o=e.y-t.y;return n*n+o*o<=i}(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"_hideDefaultCursor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"_snappingOperation",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"_snappingEnabled",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"graphic",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"constraint",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"defaultZ",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"isDraped",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({value:DrawingMode_e})],k.prototype,"drawingMode",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"elevationDrawSurface",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"elevationInfo",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchLabelOptions/* default */.A})],k.prototype,"labelOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0,type:SketchTooltipOptions/* default */.A})],k.prototype,"tooltipOptions",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"geometryType",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"hasM",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"hasZ",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"cursor",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"effectiveCursor",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"loading",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"manipulators",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"drawSurface",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"segmentLabels",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"snappingManager",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"snappingVisualizer",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"snapToSceneEnabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"stagedVertex",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"lastVertex",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],k.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],k.prototype,"view",void 0),k=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.draw.DrawOperation")],k);


/***/ }),

/***/ 12019:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IX: () => (/* binding */ o),
/* harmony export */   rT: () => (/* binding */ r),
/* harmony export */   uF: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(89882);
/* harmony import */ var _layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(29394);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85174);
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(27451);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(e,t,s,i=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=i}screenToMap(t){if(null!=this.defaultZ)return this._view.sceneIntersectionHelper.intersectElevationFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .createScreenPointArray */ .gs)(t.x,t.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);const s=this._view.sceneIntersectionHelper.intersectElevationFromScreen((0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .createScreenPointArray */ .gs)(t.x,t.y),this._elevationInfo,0,this._excludeGraphics);return null!=s&&(s.z=void 0),s}mapToScreen(e){const s=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_3__/* .makeDehydratedPoint */ .T)(e.x,e.y,(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getConvertedElevation */ .wS)(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(s)}constrainZ(e){const{defaultZ:t}=this;return null!=t&&e.z!==t&&((e=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_0__/* .clonePoint */ .EL)(e)).z=t),e}}class o{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude});return null!=t&&(t.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getZForElevationMode */ .id)(t,this.view,this.elevationInfo)),t}mapToScreen(e){let s=e;return null!=this.elevationInfo&&(s=(0,_layers_graphics_dehydratedPoint_js__WEBPACK_IMPORTED_MODULE_3__/* .makeDehydratedPoint */ .T)(e.x,e.y,(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getConvertedElevation */ .wS)(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(s)}constrainZ(e){return e}}class c{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const i=e.toMap(t);return i.z=s,i}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_0__/* .clonePoint */ .EL)(e)).z=t),e}}


/***/ }),

/***/ 18578:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Cy: () => (/* binding */ r),
/* harmony export */   UT: () => (/* binding */ m),
/* harmony export */   hs: () => (/* binding */ s),
/* harmony export */   lR: () => (/* binding */ i),
/* harmony export */   wW: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80510);
/* harmony import */ var _geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(36358);
/* harmony import */ var _geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65319);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(t,n,e,r){if(null==r||t.hasZ||(r=void 0),"point"===t.type)return t.x+=n,t.y+=e,t.hasZ&&null!=r&&(t.z+=r),t;if("multipoint"===t.type){const o=t.points;for(let t=0;t<o.length;t++)o[t]=l(o[t],n,e,r);return t}if("extent"===t.type)return t.xmin+=n,t.xmax+=n,t.ymin+=e,t.ymax+=e,null!=r&&(t.zmin??=0,t.zmin+=r,t.zmax??=0,t.zmax+=r),t;const i=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .geometryToCoordinates */ .$K)(t),s="polyline"===t.type?t.paths:t.rings;for(let o=0;o<i.length;o++){const t=i[o];for(let o=0;o<t.length;o++)t[o]=l(t[o],n,e,r)}return"paths"in t?t.paths=s:t.rings=s,t}function i(t,n,e,i,s){const a=t.clone(),m=i.resolution;if("point"===a.type){if(s)r(a,n*m,-e*m);else{const t=i.state.transform,o=i.state.inverseTransform,r=t[0]*a.x+t[2]*a.y+t[4],s=t[1]*a.x+t[3]*a.y+t[5];a.x=o[0]*(r+n)+o[2]*(s+e)+o[4],a.y=o[1]*(r+n)+o[3]*(s+e)+o[5]}return a}if("multipoint"===a.type){if(s)r(a,n*m,-e*m);else{const t=a.points,o=i.state.transform,r=i.state.inverseTransform;for(let i=0;i<t.length;i++){const s=t[i],a=o[0]*s[0]+o[2]*s[1]+o[4],m=o[1]*s[0]+o[3]*s[1]+o[5],l=r[0]*(a+n)+r[2]*(m+e)+r[4],p=r[1]*(a+n)+r[3]*(m+e)+r[5];t[i]=x(s,l,p,void 0)}}return a}if("extent"===a.type){if(s)r(a,n*m,-e*m);else{const t=i.state.transform,o=i.state.inverseTransform,r=t[0]*a.xmin+t[2]*a.ymin+t[4],s=t[1]*a.xmin+t[3]*a.ymin+t[5],m=t[0]*a.xmax+t[2]*a.ymax+t[4],l=t[1]*a.xmax+t[3]*a.ymax+t[5];a.xmin=o[0]*(r+n)+o[2]*(s+e)+o[4],a.ymin=o[1]*(r+n)+o[3]*(s+e)+o[5],a.xmax=o[0]*(m+n)+o[2]*(l+e)+o[4],a.ymax=o[1]*(m+n)+o[3]*(l+e)+o[5]}return a}if(s)r(a,n*m,-e*m);else{const t=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .geometryToCoordinates */ .$K)(a),r="polyline"===a.type?a.paths:a.rings,s=i.state.transform,m=i.state.inverseTransform;for(let o=0;o<t.length;o++){const r=t[o];for(let t=0;t<r.length;t++){const o=r[t],i=s[0]*o[0]+s[2]*o[1]+s[4],a=s[1]*o[0]+s[3]*o[1]+s[5],l=m[0]*(i+n)+m[2]*(a+e)+m[4],p=m[1]*(i+n)+m[3]*(a+e)+m[5];r[t]=x(o,l,p,void 0)}}"paths"in a?a.paths=r:a.rings=r}return a}function s(t,r,i,s){if("point"===t.type){const{x:n,y:e}=t,o=s?s[0]:n,a=s?s[1]:e,m=t.clone(),l=(n-o)*r+o,x=(e-a)*i+a;return m.x=l,m.y=x,m}if("multipoint"===t.type){const a=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .geometryToCoordinates */ .$K)(t),m=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__/* .create */ .vt)(),[l,p,y,f]=(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .getRingsOrPathsBounds */ .Yz)(m,[a]),u=s?s[0]:(l+y)/2,c=s?s[1]:(f+p)/2,h=t.clone(),g=h.points;for(let t=0;t<g.length;t++){const n=g[t],[e,o]=n,s=(e-u)*r+u,a=(o-c)*i+c;g[t]=x(n,s,a,void 0)}return h}if("extent"===t.type){const{xmin:n,xmax:e,ymin:o,ymax:a}=t,m=s?s[0]:(n+e)/2,l=s?s[1]:(a+o)/2,x=t.clone();if(x.xmin=(n-m)*r+m,x.ymax=(a-l)*i+l,x.xmax=(e-m)*r+m,x.ymin=(o-l)*i+l,x.xmin>x.xmax){const t=x.xmin,n=x.xmax;x.xmin=n,x.xmax=t}if(x.ymin>x.ymax){const t=x.ymin,n=x.ymax;x.ymin=n,x.ymax=t}return x}const a=(0,_geometry_support_coordsUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .geometryToCoordinates */ .$K)(t),m=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__/* .create */ .vt)(),[l,p,y,f]=(0,_geometry_support_boundsUtils_js__WEBPACK_IMPORTED_MODULE_2__/* .getRingsOrPathsBounds */ .Yz)(m,a),u=s?s[0]:(l+y)/2,c=s?s[1]:(f+p)/2,h=t.clone(),g="polyline"===h.type?h.paths:h.rings;for(let n=0;n<a.length;n++){const t=a[n];for(let e=0;e<t.length;e++){const o=t[e],[s,a]=o,m=(s-u)*r+u,l=(a-c)*i+c;g[n][e]=x(o,m,l,void 0)}}return"paths"in h?h.paths=g:h.rings=g,h}function a(t,n,e,o,r,i){const s=Math.sqrt((e-t)*(e-t)+(o-n)*(o-n));return Math.sqrt((r-t)*(r-t)+(i-n)*(i-n))/s}function m(n,e,o,r=!1){const i=Math.atan2(e.y-o.y,e.x-o.x)-Math.atan2(n.y-o.y,n.x-o.x),s=Math.atan2(Math.sin(i),Math.cos(i));return r?s:(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .rad2deg */ .KJ)(s)}function l(t,n,e,o){return x(t,t[0]+n,t[1]+e,null!=t[2]&&null!=o?t[2]+o:void 0)}function x(t,n,e,o){const r=[n,e];return t.length>2&&r.push(null!=o?o:t[2]),t.length>3&&r.push(t[3]),r}


/***/ }),

/***/ 285:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ S)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(52495);
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(17306);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(85251);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(89882);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(73446);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(85569);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(39831);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(63863);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(58680);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(22279);
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(97303);
/* harmony import */ var _geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(42609);
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(27451);
/* harmony import */ var _symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(26207);
/* harmony import */ var _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(60973);
/* harmony import */ var _support_utils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(68928);
/* harmony import */ var _support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(49313);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let S=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A{set graphic(t){this._circleCollisionCache=null,this._originalSymbol=t.symbol,this._set("graphic",t),this.attachSymbolChanged()}get elevationInfo(){const{layer:t}=this.graphic,e=t&&"elevationInfo"in t?t.elevationInfo:null,o=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_14__/* .getGraphicEffectiveElevationMode */ .ky)(this.graphic),i=e?e.offset:0;return new _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_16__/* ["default"] */ .A({mode:o,offset:i})}set focusedSymbol(t){t!==this._get("focusedSymbol")&&(this._set("focusedSymbol",t),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(t){t!==this._get("grabbing")&&(this._set("grabbing",t),this._updateGraphicSymbol())}set hovering(t){t!==this._get("hovering")&&(this._set("hovering",t),this._updateGraphicSymbol())}set selected(t){t!==this._get("selected")&&(this._set("selected",t),this._updateGraphicSymbol(),this.events.emit("select-changed",{action:t?"select":"deselect"}))}get _focused(){return this._get("hovering")||this._get("grabbing")}constructor(t){super(t),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.consumesClicks=!0,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set("view",null)}intersectionDistance(t){const e=this.graphic;if(!1===e.visible)return null;const o=e.geometry;if(null==o)return null;const i=this._get("focusedSymbol"),s=null!=i?i:e.symbol;return"2d"===this.view.type?this._intersectDistance2D(this.view,t,o,s):this._intersectDistance3D(this.view,t,e)}attach(){this.attachSymbolChanged(),null!=this.layer&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),null!=this.layer&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .watch */ .wB)((()=>this.graphic?.symbol),(t=>{null!=t&&t!==this.focusedSymbol&&t!==this._originalSymbol&&(this._originalSymbol=t,this._focused&&null!=this.focusedSymbol&&(this.graphic.symbol=this.focusedSymbol))}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_3__/* .sync */ .OH)}detachSymbolChanged(){null!=this._graphicSymbolChangedHandle&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}onElevationChange(){}onViewChange(){}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&null!=this.focusedSymbol?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(t,e,o,i){if(null==(i=i||(0,_symbols_support_defaults_js__WEBPACK_IMPORTED_MODULE_15__/* .getDefaultSymbol2D */ .SF)(o)))return null;const s=1;let n=this._circleCollisionCache;if("point"===o.type&&"cim"===i.type&&"CIMPointSymbol"===i.data.symbol?.type&&i.data.symbol.symbolLayers){const{offsetX:l,offsetY:n,size:a}=(0,_support_utils_js__WEBPACK_IMPORTED_MODULE_18__/* .getSymbolInfo */ .T)(i),c=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_19__/* .screenPointObjectToArray */ .WA)(e,j),p=a/2,u=t.toScreen(o),m=u.x+l,y=u.y+n;return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_9__.k)(c,[m,y])<p*p?s:null}if("point"!==o.type||"simple-marker"!==i.type)return (0,_support_drapedUtils_js__WEBPACK_IMPORTED_MODULE_17__/* .intersectsDrapedGeometry */ .t)(e,o,t)?s:null;if(null==n||!n.originalPoint.equals(o)){const e=o,s=t.spatialReference;if((0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_12__.canProjectWithoutEngine)(e.spatialReference,s)){const t=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_12__.project)(e,s);n={originalPoint:e.clone(),mapPoint:t,radiusPx:(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_19__/* .pt2px */ .Lz)(i.size)},this._circleCollisionCache=n}}if(null!=n){const o=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_19__/* .screenPointObjectToArray */ .WA)(e,j),a=t.toScreen?.(n.mapPoint);if(!a)return null;const c=n.radiusPx,p=a.x+(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_19__/* .pt2px */ .Lz)(i.xoffset),u=a.y-(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_19__/* .pt2px */ .Lz)(i.yoffset);return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_9__.k)(o,[p,u])<c*c?s:null}return null}_intersectDistance3D(t,e,o){const i=t.toMap(e,{include:[o]});return i&&(0,_geometry_projection_projectPointToVector_js__WEBPACK_IMPORTED_MODULE_13__/* .projectPointToVector */ .g)(i,C,t.renderSpatialReference)?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_10__.o)(C,t.state.camera.eye):null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({constructOnly:!0,nonNullable:!0})],S.prototype,"graphic",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],S.prototype,"elevationInfo",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({constructOnly:!0,nonNullable:!0})],S.prototype,"view",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({value:null})],S.prototype,"focusedSymbol",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({constructOnly:!0})],S.prototype,"layer",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],S.prototype,"interactive",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],S.prototype,"selectable",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],S.prototype,"grabbable",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({value:!1})],S.prototype,"grabbing",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],S.prototype,"dragging",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],S.prototype,"hovering",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)({value:!1})],S.prototype,"selected",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__/* .property */ .MZ)()],S.prototype,"cursor",void 0),S=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__/* .subclass */ .$)("esri.views.interactive.GraphicManipulator")],S);const C=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_11__.c)(),j=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_19__/* .createScreenPointArray */ .gs)();


/***/ }),

/***/ 37413:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  g: () => (/* binding */ l)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(52495);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/promiseUtils.js
var promiseUtils = __webpack_require__(40189);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/interfaces.js
var interfaces = __webpack_require__(27877);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Collection.js + 1 modules
var Collection = __webpack_require__(48982);
;// ../node_modules/@arcgis/core/views/interactive/ManipulatorCollection.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var a;!function(t){t[t.WhenToolEditable=0]="WhenToolEditable",t[t.WhenToolNotEditable=1]="WhenToolNotEditable",t[t.Always=2]="Always"}(a||(a={}));class i{constructor(){this._isToolEditable=!0,this._manipulators=new Collection/* default */.A,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(t){this._isToolEditable=t}get length(){return this._manipulators.length}add(t,i=a.WhenToolEditable){this.addMany([t],i)}addMany(t,i=a.WhenToolEditable){for(const a of t){const t={manipulator:a,visibilityPredicate:i,attached:!1};this._manipulators.add(t),this._attached&&this._updateManipulatorAttachment(t)}}remove(t){for(let a=0;a<this._manipulators.length;a++)if(this._manipulators.at(a).manipulator===t){const t=this._manipulators.splice(a,1)[0];this._detachManipulator(t);break}}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._manipulators.removeAll()}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t)})),this._attached=!0}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t)})),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach((({manipulator:t})=>t.destroy())),this._manipulators.destroy(),this._resourceContexts=null}on(t,a){return this._manipulators.on(t,(t=>{a(t)}))}forEach(t){for(const a of this._manipulators.items)t(a)}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let i=null,e=Number.MAX_VALUE;return this._manipulators.forEach((({manipulator:o,attached:s})=>{if(!s||!o.interactive)return;const r=o.intersectionDistance(t,a);null!=r&&r<e&&(e=r,i=o)})),i}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t)}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0)}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1}_isManipulatorItemVisible(t){return t.visibilityPredicate===a.Always||(this._isToolEditable?t.visibilityPredicate===a.WhenToolEditable:t.visibilityPredicate===a.WhenToolNotEditable)}}

;// ../node_modules/@arcgis/core/views/interactive/InteractiveToolBase.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let l=class extends Accessor/* default */.A{constructor(t){super(t),this.manipulators=new i,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[interfaces/* EditableFlag */.PK.MANAGER,!0],[interfaces/* EditableFlag */.PK.USER,!0]]),this._creationFinishedResolver=(0,promiseUtils/* createResolver */.Tw)()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get("visible")!==t&&(this._set("visible",t),this._syncVisible())}get editable(){return this.getEditableFlag(interfaces/* EditableFlag */.PK.USER)}set editable(t){this.setEditableFlag(interfaces/* EditableFlag */.PK.USER,t)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set("view",null)}onAdd(){this._syncVisible()}activate(){null!=this.view?(this.view.focus(),this.onActivate()):Logger/* default */.A.getLogger(this).error("Can't activate tool if view is not defined.")}deactivate(){this.onDeactivate()}handleInputEvent(t){this.onInputEvent(t)}handleInputEventAfter(t){this.onInputEventAfter(t)}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===interfaces/* EditableFlag */.PK.USER&&this.notifyChange("editable"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(t){return this._editableFlags.get(t)??!1}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(interfaces/* EditableFlag */.PK.USER)&&this.getEditableFlag(interfaces/* EditableFlag */.PK.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};(0,tslib_es6._)([(0,property/* property */.MZ)({constructOnly:!0})],l.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],l.prototype,"active",null),(0,tslib_es6._)([(0,property/* property */.MZ)({value:!0})],l.prototype,"visible",null),(0,tslib_es6._)([(0,property/* property */.MZ)({value:!0})],l.prototype,"editable",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],l.prototype,"manipulators",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],l.prototype,"updating",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],l.prototype,"cursor",null),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],l.prototype,"automaticManipulatorSelection",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],l.prototype,"hasFocusedManipulators",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],l.prototype,"hasGrabbedManipulators",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],l.prototype,"hasHoveredManipulators",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],l.prototype,"firstGrabbedManipulator",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],l.prototype,"created",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)({readOnly:!0})],l.prototype,"removeIncompleteOnCancel",void 0),l=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.InteractiveToolBase")],l);


/***/ }),

/***/ 75999:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BV: () => (/* binding */ w)
/* harmony export */ });
/* unused harmony exports CoordinateHelper2D, CoordinateHelper3D, CoordinateHelper4D */
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58680);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78286);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22279);
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(25102);
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52712);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(78632);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var R;!function(e){e[e.Z=0]="Z",e[e.M=1]="M"}(R||(R={}));class x{constructor(e){this.spatialReference=e}createVector(){return this._tag((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.a)())}pointToVector(e){return this._tag((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(e.x,e.y))}arrayToVector(e){return this._tag((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(e[0],e[1]))}vectorToArray(e){return[e[0],e[1]]}pointToArray(e){return[e.x,e.y]}vectorToPoint(e,t=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}lerp(t,r,a,n){return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.l)(n,t,r,a)}addDelta(e,t,r){e[0]+=t,e[1]+=r}distance(e,r){return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.d)(e,r)}getZ(e,t=void 0){return t}hasZ(){return!1}getM(e,t=void 0){return t}hasM(){return!1}clone(e){return this._tag((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.b)(e))}copy(e,t){return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.j)(t,e)}fromXYZ(e){return this._tag((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(e[0],e[1]))}toXYZ(e,t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,e[0],e[1],0)}pointToXYZ(e,t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,e.x,e.y,0)}equals(e,t){return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.o)(e,t)}_tag(e){return e}}class M{constructor(e,t){this._valueType=e,this.spatialReference=t}createVector(){return this._tag((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)())}pointToVector(e){return this._tag((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(e.x,e.y,this._valueType===R.Z?e.z:e.m))}arrayToVector(e){return this._tag((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(e[0],e[1],e[2]||0))}vectorToArray(e){return[e[0],e[1],e[2]]}pointToArray(e){return this._valueType===R.Z?[e.x,e.y,e.z]:[e.x,e.y,e.m]}vectorToPoint(e,t=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A){return t.x=e[0],t.y=e[1],t.z=this._valueType===R.Z?e[2]:void 0,t.m=this._valueType===R.M?e[2]:void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A){return t.x=e[0],t.y=e[1],t.z=this._valueType===R.Z?e[2]:void 0,t.m=this._valueType===R.M?e[2]:void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){const r=this._valueType===R.Z,a=this._valueType===R.M;return t.x=e[0],t.y=e[1],t.z=r?e[2]:void 0,t.m=a?e[2]:void 0,t.hasZ=r,t.hasM=a,t.spatialReference=this.spatialReference,t}lerp(e,t,r,a){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.p)(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,this._valueType===R.Z&&(e[2]+=a)}distance(e,r){return this._valueType===R.Z?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.o)(e,r):(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.d)(e,r)}getZ(e,t=void 0){return this._valueType===R.Z?e[2]:t}hasZ(){return this._valueType===R.Z}getM(e,t=void 0){return this._valueType===R.M?e[2]:t}hasM(){return this._valueType===R.M}clone(e){return this._tag((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.e)(e))}copy(e,t){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.c)(t,e)}fromXYZ(e,t=0,r=0){return this._tag((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.f)(e[0],e[1],this._valueType===R.Z?e.length>2?e[2]:t:r))}toXYZ(e,t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,e[0],e[1],this._valueType===R.Z?e[2]:0)}pointToXYZ(e,t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,e.x,e.y,this._valueType===R.Z?e.z??0:0)}equals(e,t){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.G)(e,t)}_tag(e){return e}}class z{constructor(e){this.spatialReference=e}createVector(){return this._tag((0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.c)())}pointToVector(e){return this._tag((0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.f)(e.x,e.y,e.z,e.m))}arrayToVector(e){return this._tag((0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.f)(e[0],e[1],e[2]||0,e[3]||0))}vectorToArray(e){return[e[0],e[1],e[2],e[3]]}pointToArray(e){return[e.x,e.y,e.z,e.m]}vectorToPoint(e,t=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:"point"}){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}lerp(e,t,r,a){return (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__.l)(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,e[2]+=a}distance(e,t){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.o)(e,t)}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}clone(e){return this._tag((0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.b)(e))}copy(e,t){return (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__.c)(t,e)}fromXYZ(e,t=0,r=0){return this._tag((0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__.f)(e[0],e[1],e.length>2?e[2]:t,r))}toXYZ(e,t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,e[0],e[1],e[2])}pointToXYZ(e,t=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)()){return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(t,e.x,e.y,e.z??0)}equals(e,t){return (0,_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__.e)(e,t)}_tag(e){return e}}function w(e,t,r){return e&&t?new z(r):t?new M(R.M,r):e?new M(R.Z,r):new x(r)}


/***/ }),

/***/ 74321:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EX: () => (/* binding */ P),
/* harmony export */   RS: () => (/* binding */ O),
/* harmony export */   Tp: () => (/* binding */ D),
/* harmony export */   Xt: () => (/* binding */ d),
/* harmony export */   Yl: () => (/* binding */ z),
/* harmony export */   an: () => (/* binding */ y),
/* harmony export */   n5: () => (/* binding */ x),
/* harmony export */   ns: () => (/* binding */ w),
/* harmony export */   pg: () => (/* binding */ C),
/* harmony export */   qh: () => (/* binding */ j),
/* harmony export */   rh: () => (/* binding */ U),
/* harmony export */   sO: () => (/* binding */ q),
/* harmony export */   y$: () => (/* binding */ v)
/* harmony export */ });
/* unused harmony exports createDragEventPipelineCallback, resetProperties */
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(17639);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85569);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(39831);
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19251);
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(92504);
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(89882);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(22279);
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(97303);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(85174);
/* harmony import */ var _layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(12155);
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(27451);
/* harmony import */ var _ViewingMode_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(10714);
/* harmony import */ var _draw_support_drawUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(18578);
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(78632);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function f(e,t){let n=null,r=null;return a=>{if("cancel"===a.action)return void(null!=r&&(r.execute({action:"cancel"}),n=null,r=null));const o={action:a.action,screenStart:a.start,screenEnd:a.screenPoint};"start"===a.action&&null==n&&(n=new U,r=new U,t(e,n,r,a.pointerType,o)),null!=n&&n.execute(o),"end"===a.action&&null!=n&&(n=null,r=null)}}function d(e,t){return e.events.on("drag",f(e,t))}function y(e,t){const n=[e.x,e.y,e.z??0],r=t,a=[Math.cos(r),Math.sin(r)],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(0===o)return null;a[0]/=o,a[1]/=o;const l=e=>{const t=(e.x-n[0])*a[0]+(e.y-n[1])*a[1];e.x=n[0]+t*a[0],e.y=n[1]+t*a[1]};return e=>(l(e.mapStart),l(e.mapEnd),{...e,axis:a})}function x(e,t){let n=null;return r=>{if("start"===r.action&&(n=h(e,r.mapStart.spatialReference,t)),null==n)return null;const a=r.mapEnd.x-r.mapStart.x,o=r.mapEnd.y-r.mapStart.y,l=r.mapEnd.z-r.mapStart.z;return n.move(a,o,l,r.action),{...r,translationX:a,translationY:o,translationZ:l}}}function g(e,t){return null==e?null:e.spatialReference.equals(t)?e.clone():(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.project)(e,t)}function h(e,t,n){const r=e.geometry,a=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_7__/* .hydratedSpatialReference */ .RS)(t);if(null==r)return null;if("mesh"===r.type)return E(e,r,a,n);const s=g(r,a),c=r.spatialReference;return null==s?null:{move:(t,n,r)=>{const a=(0,_draw_support_drawUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .move */ .Cy)(s.clone(),t,n,r);a.spatialReference.equals(c)?e.geometry=a:e.geometry=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.project)(a,c)}}}function E(e,t,n,r){if(t.vertexSpace.isRelative)return S(e,t,t.vertexSpace,n);if(!t.spatialReference.equals(n))return null;let a=0,o=0,l=0;return{move:(n,s,c)=>{const i=n-a,p=s-o,f=c-l;if(i||p||f){const d=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .A(t.origin.x+i,t.origin.y+p,(t.origin.z??0)+f,t.origin.spatialReference);t.centerAt(d,{geographic:t.vertexSpace.isRelative?void 0:r===_ViewingMode_js__WEBPACK_IMPORTED_MODULE_10__/* .ViewingMode */ .RT.Global}),e.notifyGeometryChanged(),a=n,o=s,l=c}}}}function S(e,t,n,r){const a=g(n.getOriginPoint(t.spatialReference),r),l=t.spatialReference;return null==a?null:{move:(t,r,s,i)=>{const u=(0,_draw_support_drawUtils_js__WEBPACK_IMPORTED_MODULE_11__/* .move */ .Cy)(a.clone(),t,r,s);if(u.spatialReference.equals(l))n.setOriginFromPoint(u);else{const e=(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.project)(u,l);null!=e&&n.setOriginFromPoint(e)}if(n.isGeoreferenced)e.notifyGeometryChanged();else{const t="end"===i;e.notifyMeshTransformChanged(t?{action:_layers_graphics_sources_interfaces_js__WEBPACK_IMPORTED_MODULE_8__/* .MeshTransformUpdateAction */ .$.UpdateFastLocalOrigin}:{})}}}}function v(e,t=null,n){let r=null;const a=null==t||e.spatialReference?.equals(t)?e=>e:e=>null!=e?(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__.project)(e,t):e,l={exclude:[],...n};return t=>{if("start"===t.action&&(r=a(e.toMap(t.screenStart,l))),null==r)return null;const n=a(e.toMap(t.screenEnd,l));return null!=n?{...t,mapStart:r,mapEnd:n}:null}}function j(t,n){const r=t.map((e=>x(e,n))).filter(_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isSome */ .Ru);return e=>{const t=e.mapEnd.x-e.mapStart.x,n=e.mapEnd.y-e.mapStart.y,a=e.mapEnd.z-e.mapStart.z;return r.forEach((t=>t(e))),{...e,translationX:t,translationY:n,translationZ:a}}}function R(e,n){const r=new Map;for(const a of n)r.set(a,(0,_core_lang_js__WEBPACK_IMPORTED_MODULE_3__/* .clone */ .o8)(e[a]));return t=>(r.forEach(((t,n)=>{e[n]=t})),t)}function z(e){return null!=e.geometry&&"mesh"===e.geometry.type?M(e,e.geometry):R(e,["geometry"])}function M(e,t){const{vertexSpace:n}=t;if(n.isGeoreferenced){const n=t.vertexAttributes.clonePositional();return r=>(t.vertexAttributes=n,e.notifyGeometryChanged(),r)}const r=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__.g)(n.origin),o=t.transform?.clone();return n=>(t.transform=o,t.vertexSpace.origin=r,e.notifyMeshTransformChanged(),n)}function w(e){const t=e.map((e=>z(e))).filter((e=>null!=e));return e=>(t.forEach((t=>t(e))),e)}function P(){let e=0,t=0,n=0;return r=>{"start"===r.action&&(e=r.mapStart.x,t=r.mapStart.y,n=r.mapStart.z);const a=r.mapEnd.x-e,o=r.mapEnd.y-t,l=r.mapEnd.z-n;return e=r.mapEnd.x,t=r.mapEnd.y,n=r.mapEnd.z,{...r,mapDeltaX:a,mapDeltaY:o,mapDeltaZ:l,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function q(){let e=0,t=0;return n=>{"start"===n.action&&(e=n.screenStart.x,t=n.screenStart.y);const r=n.screenEnd.x-e,a=n.screenEnd.y-t;return e=n.screenEnd.x,t=n.screenEnd.y,{...n,screenDeltaX:r,screenDeltaY:a}}}function D(e,t){let a=null,o=0,l=0;return s=>{if("start"===s.action&&(a=e.toScreen?.(t),null!=a&&(a.x<0||a.x>e.width||a.y<0||a.y>e.height?a=null:(o=s.screenStart.x-a.x,l=s.screenStart.y-a.y))),null==a)return null;const c=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .clamp */ .qE)(s.screenEnd.x-o,0,e.width),i=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .clamp */ .qE)(s.screenEnd.y-l,0,e.height),u=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_13__/* .createScreenPoint */ .tc)(c,i);return s.screenStart=a,s.screenEnd=u,s}}const G=()=>{};class U{constructor(){this.execute=G}next(e,t=new U){return null!=e&&(this.execute=n=>{const r=e(n);null!=r&&t.execute(r)}),t}}function C(e,t,n=[]){if("2d"===e.type)return e=>e;let r=null;return a=>{"start"===a.action&&(r=e.toMap(a.screenStart,{exclude:n}),null!=r&&(r.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getZForElevationMode */ .id)(r,e,t)));const o=e.toMap(a.screenEnd,{exclude:n});null!=o&&(o.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getZForElevationMode */ .id)(o,e,t));const l=null!=r&&null!=o?{sceneStart:r,sceneEnd:o}:null;return{...a,scenePoints:l}}}function F(e,t,n){const r=t.elevationProvider.getElevation(e.x,e.y,e.z??0,e.spatialReference,"scene")??0,a=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_7__/* .clonePoint */ .EL)(e);return a.z=r,a.hasZ=!0,a.z=(0,_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__/* .getZForElevationMode */ .id)(a,t,n),a}function O(e,t){if("2d"===e.type)return e=>e;let n=null;return r=>{"start"===r.action&&(n=F(r.mapStart,e,t));const a=F(r.mapEnd,e,t),o=null!=n&&null!=a?{sceneStart:n,sceneEnd:a}:null;return{...r,scenePoints:o}}}


/***/ }),

/***/ 4057:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  uA: () => (/* binding */ l),
  oH: () => (/* binding */ c),
  ZE: () => (/* binding */ EditGeometry_p),
  Li: () => (/* binding */ h)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Evented.js
var Evented = __webpack_require__(17306);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Polygon.js
var Polygon = __webpack_require__(62802);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/Polyline.js
var Polyline = __webpack_require__(42238);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/coordinateHelper.js
var coordinateHelper = __webpack_require__(75999);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js
var spatialReferenceUtils = __webpack_require__(87926);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/ViewingMode.js
var ViewingMode = __webpack_require__(10714);
;// ../node_modules/@arcgis/core/views/interactive/editGeometry/unnormalizationHelper.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function e(o,r){if(!r.supported)return;let e=1/0,p=-1/0;const n=r.upperBoundX-r.lowerBoundX;o.forEach((o=>{let u=o.pos[0];for(;u<r.lowerBoundX;)u+=n;for(;u>r.upperBoundX;)u-=n;e=Math.min(e,u),p=Math.max(p,u),o.pos[0]=u}));const u=p-e;n-u<u&&o.forEach((o=>{o.pos[0]<0&&(o.pos[0]+=n)}))}function p(e,p){const n=(0,spatialReferenceUtils/* getInfo */.Vp)(e);return p===ViewingMode/* ViewingMode */.RT.Global&&n?{supported:!0,lowerBoundX:n.valid[0],upperBoundX:n.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}

;// ../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class h{constructor(e){this.component=e,this.leftEdge=null,this.rightEdge=null,this.type="vertex",this.index=null}get pos(){return this._pos}set pos(e){this._pos=e,this.component.unnormalizeVertexPositions()}}class c{constructor(e,t,s){this.component=e,this.leftVertex=t,this.rightVertex=s,this.type="edge",t.rightEdge=this,s.leftEdge=this}}class l{constructor(e,t){this._spatialReference=e,this._viewingMode=t,this.vertices=[],this.edges=[],this.index=null}unnormalizeVertexPositions(){this.vertices.length<=1||e(this.vertices,p(this._spatialReference,this._viewingMode))}updateVertexIndex(e,t){if(0===this.vertices.length)return;const s=this.vertices[0];let i=null,r=e,n=t;do{i=r,i.index=n++,r=i.rightEdge?i.rightEdge.rightVertex:null}while(null!=r&&r!==s);i.leftEdge&&i!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(i),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(e,t){const s=this.vertices[e];this.vertices[e]=this.vertices[t],this.vertices[t]=s}iterateVertices(e){if(0===this.vertices.length)return;const t=this.vertices[0];let s=t;do{e(s,s.index),s=null!=s.rightEdge?s.rightEdge.rightVertex:null}while(s!==t&&null!=s)}}class EditGeometry_p extends Evented/* default */.A{constructor(e,t){super(),this.type=e,this.coordinateHelper=t,this._geometry=null,this._dirty=!0,this.components=[]}get geometry(){if(this._dirty){switch(this.type){case"point":this._geometry=this._toPoint();break;case"polyline":this._geometry=this._toPolyline();break;case"polygon":this._geometry=this._toPolygon()}this._dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}notifyChanges(e){this._dirty=!0,this.emit("change",e)}_toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}_toPolyline(){const e=[],t=this.coordinateHelper.vectorToArray;for(const s of this.components){if(s.vertices.length<1)continue;const i=[];let r=s.vertices.find((e=>null==e.leftEdge));const n=r;do{i.push(t(r.pos)),r=r.rightEdge?r.rightEdge.rightVertex:null}while(r&&r!==n);e.push(i)}return new Polyline/* default */.A({paths:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}_toPolygon(){const e=[],t=this.coordinateHelper.vectorToArray;for(const s of this.components){if(s.vertices.length<1)continue;const i=[],r=s.vertices[0];let n=r;const o=n;do{i.push(t(n.pos)),n=null!=n.rightEdge?n.rightEdge.rightVertex:null}while(n&&n!==o);s.isClosed()&&i.push(t(r.pos)),e.push(i)}return new Polygon/* default */.A({rings:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(t,s){const i=t.spatialReference,n=(0,coordinateHelper/* createCoordinateHelper */.BV)(t.hasZ,t.hasM,i),o=new EditGeometry_p(t.type,n);switch(t.type){case"polygon":{const r=t.rings;for(let t=0;t<r.length;++t){const p=r[t],g=new l(i,s);g.index=t;const a=p.length>2&&(0,arrayUtils/* equals */.aI)(p[0],p[p.length-1]),d=a?p.length-1:p.length;for(let e=0;e<d;++e){const t=n.arrayToVector(p[e]),s=new h(g);g.vertices.push(s),s.pos=t,s.index=e}const u=g.vertices.length-1;for(let e=0;e<u;++e){const t=g.vertices[e],s=g.vertices[e+1],i=new c(g,t,s);g.edges.push(i)}if(a){const e=new c(g,g.vertices[g.vertices.length-1],g.vertices[0]);g.edges.push(e)}o.components.push(g)}break}case"polyline":{const e=t.paths;for(let t=0;t<e.length;++t){const r=e[t],p=new l(i,s);p.index=t;const g=r.length;for(let e=0;e<g;++e){const t=n.arrayToVector(r[e]),s=new h(p);p.vertices.push(s),s.pos=t,s.index=e}const a=p.vertices.length-1;for(let e=0;e<a;++e){const t=p.vertices[e],s=p.vertices[e+1],i=new c(p,t,s);p.edges.push(i)}o.components.push(p)}break}case"point":{const e=new l(i,s);e.index=0;const r=new h(e);r.index=0,r.pos=n.pointToVector(t),e.vertices.push(r),o.components.push(e);break}}return o}}


/***/ }),

/***/ 5470:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  p: () => (/* binding */ V)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Evented.js
var Evented = __webpack_require__(17306);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/handleUtils.js
var handleUtils = __webpack_require__(20464);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js + 1 modules
var EditGeometry = __webpack_require__(4057);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/interfaces.js
var interfaces = __webpack_require__(35880);
;// ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(e,t,i){this._editGeometry=e,this._component=t,this._pos=i,this._addedVertex=null,this._originalEdge=null,this._left=null,this._right=null}apply(){let i="redo";null==this._addedVertex&&(i="apply",this._addedVertex=new EditGeometry/* Vertex */.Li(this._component));const s=this._component.getLastVertex();if(null==s)this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let e=null;s.rightEdge&&(this._originalEdge=s.rightEdge,e=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1)),this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,null==this._left&&(this._left=new EditGeometry/* Edge */.oH(this._component,s,this._addedVertex)),this._component.edges.push(this._left),s.rightEdge=this._left,null!=this._originalEdge&&null!=e&&(null==this._right&&(this._right=new EditGeometry/* Edge */.oH(this._component,this._addedVertex,e)),this._component.edges.push(this._right),e.leftEdge=this._right),this._component.updateVertexIndex(this._addedVertex,s.index+1)}this._editGeometry.notifyChanges({operation:i,addedVertices:[this._addedVertex]})}undo(){null!=this._addedVertex&&(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),null!=this._left&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),null!=this._right&&(this._component.edges.splice(this._component.edges.indexOf(this._right),1),this._right.rightVertex.leftEdge=null),null!=this._originalEdge&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),null!=this._left?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this._addedVertex]}))}accumulate(){return!1}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UpdateVertices.js
var UpdateVertices = __webpack_require__(63387);
;// ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(e,t,r=0){this._editGeometry=e,this._vertices=t,this._minNumberOfVertices=r,this.removedVertices=null}apply(){let e="redo";if(null==this.removedVertices){const t=this.removedVertices=[];this._vertices.forEach((e=>{const r=this._removeVertex(e);null!=r&&t.push(r)})),e="apply"}else this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)}));this._editGeometry.notifyChanges({operation:e,removedVertices:this._vertices})}undo(){this.removedVertices?.forEach((e=>{this._undoRemoveVertex(e)})),this._editGeometry.notifyChanges({operation:"undo",addedVertices:this._vertices})}accumulate(){return!1}_removeVertex(t){const r=t.component;if(r.vertices.length<=this._minNumberOfVertices)return null;const i={removedVertex:t,createdEdge:null},s=t.leftEdge,d=t.rightEdge;return r.vertices.splice(r.vertices.indexOf(t),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===t.index&&d&&this._vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new EditGeometry/* Edge */.oH(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}

;// ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SplitEdge.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class SplitEdge_i{constructor(e,t,i){this._editGeometry=e,this._edge=t,this._t=i,this.createdVertex=null,this._left=null,this._right=null}apply(){let i="redo";const r=this._edge,s=r.component,d=r.leftVertex,h=r.rightVertex;s.edges.splice(s.edges.indexOf(r),1),null==this.createdVertex&&(i="apply",this.createdVertex=new EditGeometry/* Vertex */.Li(r.component)),s.vertices.push(this.createdVertex),this.createdVertex.pos=this._editGeometry.coordinateHelper.lerp(r.leftVertex.pos,r.rightVertex.pos,this._t,this._editGeometry.coordinateHelper.createVector()),null==this._left&&(this._left=new EditGeometry/* Edge */.oH(s,d,this.createdVertex)),this._left.leftVertex.leftEdge?s.edges.push(this._left):s.edges.unshift(this._left),d.rightEdge=this._left,null==this._right&&(this._right=new EditGeometry/* Edge */.oH(s,this.createdVertex,h)),s.edges.push(this._right),h.leftEdge=this._right,s.updateVertexIndex(this.createdVertex,d.index+1),this._editGeometry.notifyChanges({operation:i,addedVertices:[this.createdVertex]})}undo(){if(null==this.createdVertex||null==this._left||null==this._right)return null;const e=this._edge,t=e.component,i=this.createdVertex.leftEdge,r=this.createdVertex.rightEdge,s=i?.leftVertex,d=r?.rightVertex;t.vertices.splice(t.vertices.indexOf(this.createdVertex),1),t.edges.splice(t.edges.indexOf(this._left),1),t.edges.splice(t.edges.indexOf(this._right),1),this._edge.leftVertex.leftEdge?t.edges.push(this._edge):t.edges.unshift(this._edge),s&&(s.rightEdge=e),d&&(d.leftEdge=e),s&&t.updateVertexIndex(s,s.index),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this.createdVertex]})}accumulate(){return!1}}

;// ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/SetVertexPosition.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class SetVertexPosition_t{constructor(t,e,i){this._editGeometry=t,this._vertex=e,this._pos=i}apply(){const t=null==this._originalPosition;t&&(this._originalPosition=this._vertex.pos),this._apply(t?"apply":"redo")}undo(){this._vertex.pos=this._originalPosition,this._editGeometry.notifyChanges({operation:"undo",updatedVertices:[this._vertex]})}accumulate(e){return e instanceof SetVertexPosition_t&&e._vertex===this._vertex&&(this._pos=e._pos,this._apply("apply"),!0)}_apply(t){this._vertex.pos=this._pos,this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:t,updatedVertices:[this._vertex]})}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
;// ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/CloseComponent.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{constructor(e,t){this._editGeometry=e,this._component=t,this._createdEdge=null}apply(){let e="redo";if(null==this._createdEdge){e="apply";const r=this._component.getFirstVertex(),i=this._component.getLastVertex();if(this._component.isClosed()||this._component.vertices.length<3||null==r||null==i)return;this._createdEdge=new EditGeometry/* Edge */.oH(this._component,i,r)}this._createdEdge.leftVertex.rightEdge=this._createdEdge,this._createdEdge.rightVertex.leftEdge=this._createdEdge,this._component.edges.push(this._createdEdge),this._editGeometry.notifyChanges({operation:e})}undo(){null!=this._createdEdge&&((0,arrayUtils/* remove */.TF)(this._component.edges,this._createdEdge),this._createdEdge.leftVertex.rightEdge=null,this._createdEdge.rightVertex.leftEdge=null,this._editGeometry.notifyChanges({operation:"undo"}))}accumulate(){return!1}}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/MoveVertex.js
var MoveVertex = __webpack_require__(61434);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/OffsetEdgeVertex.js
var OffsetEdgeVertex = __webpack_require__(12677);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/RotateVertex.js
var RotateVertex = __webpack_require__(36504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/ScaleVertex.js
var ScaleVertex = __webpack_require__(37673);
;// ../node_modules/@arcgis/core/views/interactive/editGeometry/operations/UndoGroup.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class UndoGroup_t{constructor(){this._operations=[],this._closed=!1}close(){this._closed=!0}apply(){for(const t of this._operations)t.apply()}undo(){for(let t=this._operations.length-1;t>=0;t--)this._operations[t].undo()}accumulate(t){if(this._closed)return!1;const o=this._operations.length?this._operations[this._operations.length-1]:null;return o&&o.accumulate(t)||(this._operations.push(t),t.apply()),!0}}

;// ../node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class V extends Evented/* default */.A{constructor(e){super(),this.data=e,this._undoStack=[],this._redoStack=[],this._listener=this.data.on("change",(e=>{e.addedVertices&&this.emit("vertex-add",{type:"vertex-add",vertices:e.addedVertices,operation:e.operation}),e.removedVertices&&this.emit("vertex-remove",{type:"vertex-remove",vertices:e.removedVertices,operation:e.operation}),e.updatedVertices&&this.emit("vertex-update",{type:"vertex-update",vertices:e.updatedVertices,operation:e.operation})}))}destroy(){this._listener.remove()}splitEdge(e,t){return this._apply(new SplitEdge_i(this.data,e,t))}updateVertices(e,t,r=interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS){return this._apply(new UpdateVertices/* UpdateVertices */.D(this.data,e,t),r)}moveVertices(e,t,r,s,i=interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS){return this.updateVertices(e,new MoveVertex/* MoveVertex */.a(this.data.coordinateHelper,t,r,s),i)}scaleVertices(e,t,r,s,i,a=interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS,p=UpdateVertices/* AccumulationType */.K.CUMULATIVE){return this.updateVertices(e,new ScaleVertex/* ScaleVertex */.j(t,r,s,i,p),a)}rotateVertices(e,t,r,s=interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS,i=UpdateVertices/* AccumulationType */.K.CUMULATIVE){return this.updateVertices(e,new RotateVertex/* RotateVertex */.m(t,r,i),s)}removeVertices(e){return this._apply(new t(this.data,e,this._minNumVerticesPerType))}appendVertex(e){return 0===this.data.components.length?null:this._apply(new i(this.data,this.data.components[0],e))}setVertexPosition(e,t){return this._apply(new SetVertexPosition_t(this.data,e,t))}offsetEdge(e,t,r,s=interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS){return this.updateVertices([t.leftVertex,t.rightVertex],new OffsetEdgeVertex/* OffsetEdgeVertex */.L(this.data.coordinateHelper,e,t,r),s)}closeComponent(e){return this.data.components.includes(e)?this._apply(new r(this.data,e)):null}canRemoveVertex(e){return e.vertices.length>this._minNumVerticesPerType}createUndoGroup(){const e=new UndoGroup_t;return this._apply(e),(0,handleUtils/* makeHandle */.hA)((()=>e.close()))}undo(){if(this._undoStack.length>0){const e=this._undoStack.pop();return e.undo(),this._redoStack.push(e),e}return null}redo(){if(this._redoStack.length>0){const e=this._redoStack.pop();return e.apply(),this._undoStack.push(e),e}return null}get canUndo(){return this._undoStack.length>0}get canRedo(){return this._redoStack.length>0}get lastOperation(){return this._undoStack.length>0?this._undoStack[this._undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case"point":return 1;case"polyline":return 2;case"polygon":return 3;default:return 0}}_apply(e,t=interfaces/* AccumulationBehaviour */.B.ACCUMULATE_STEPS){return t!==interfaces/* AccumulationBehaviour */.B.NEW_STEP&&null!=this.lastOperation&&this.lastOperation.accumulate(e)||(e.apply(),this._undoStack.push(e),this._redoStack=[]),e}static fromGeometry(e,t){return new V(EditGeometry/* EditGeometry */.ZE.fromGeometry(e,t))}}


/***/ }),

/***/ 35880:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ E)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var E;!function(E){E[E.NEW_STEP=0]="NEW_STEP",E[E.ACCUMULATE_STEPS=1]="ACCUMULATE_STEPS"}(E||(E={}));


/***/ }),

/***/ 61434:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   a: () => (/* binding */ t)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t,s,d,h){this._helper=t,this.dx=s,this.dy=d,this.dz=h}_move(t,s,d,h){this._helper.addDelta(t.pos,s,d,h)}apply(t){this._move(t,this.dx,this.dy,this.dz)}undo(t){this._move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(s){return s instanceof t}accumulate(t,s){this._move(t,s.dx,s.dy,s.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}


/***/ }),

/***/ 12677:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   B: () => (/* binding */ y),
/* harmony export */   L: () => (/* binding */ N)
/* harmony export */ });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(92504);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(58680);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(78286);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(22279);
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(38774);
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16597);
/* harmony import */ var _support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(41561);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class N{get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}constructor(t,i,e,s=0,n=Z.IMMEDIATE){this._helper=t,this._planeType=i,this._edge=e,this.distance=s,this._plane=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .create */ .vt)(),this._offsetPlane=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .create */ .vt)(),this._minDistance=-1/0,this._maxDistance=1/0,this._selectedArrow=1,n===Z.IMMEDIATE&&this._initialize()}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){const t=this._toXYZ(this._edge.leftVertex.pos),i=this._toXYZ(this._edge.leftVertex.leftEdge?.leftVertex?.pos),e=this._toXYZ(this._edge.rightVertex.pos),s=this._toXYZ(this._edge.rightVertex.rightEdge?.rightVertex?.pos);this._edgeDirection=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.C)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t,e),this._left=this._computeNeighbor(t,i,this._edgeDirection),this._right=this._computeNeighbor(e,s,this._edgeDirection)}_toXYZ(t){return null!=t?this._helper.toXYZ(t):null}_pointToXYZ(t){return this._toXYZ(this._helper.pointToVector(t))}_computeNeighbor(t,i,e){if(null==i)return{start:t,end:i,direction:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(-e[1],e[0],0),isOriginalDirection:!0};const s=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.C)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t,i),n=!this._passesBisectingAngleThreshold(s,e);return{start:t,end:i,direction:n?this._bisectVectorsPerpendicular(e,s):s,isOriginalDirection:!n}}_passesBisectingAngleThreshold(t,i){const e=Math.abs((0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_6__/* .angle */ .g7)(i,t));return e>=P&&e<=Math.PI-P}_bisectVectorsPerpendicular(t,i){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(t,i)<0?t:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.E)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t),s=Math.abs((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(e,i));if(!(s<T||s>1-T))return this._bisectDirection(e,i);const n=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),e,[0,0,1]);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(n,n)}_bisectDirection(t,i){const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t,i);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(e,e)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.j)(t,i)<0&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.E)(i,i),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .fromPositionAndNormal */ .O_)(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t.direction,this._edgeDirection);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(i,i);const e=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.b)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this._edgeDirection,i);return this._planeType===y.XY&&(e[2]=0),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.n)(e,e)}_initializeDistanceConstraints(){null==this._left.end||this.requiresSplitEdgeLeft||this._updateDistanceConstraint((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .signedDistance */ .mN)(this._plane,this._left.end)),null==this._right.end||this.requiresSplitEdgeRight||this._updateDistanceConstraint((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .signedDistance */ .mN)(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const r=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .normal */ .qb)(t),h=this._edgeDirection,o=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this._left.start,this._left.direction),a=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this._right.start,this._right.direction),_=this._pointInBasis2D((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),r,h,this._left.start),p=this._pointInBasis2D((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),r,h,o),d=this._pointInBasis2D((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),r,h,this._right.start),u=this._pointInBasis2D((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),r,h,a),[f]=(0,_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .intersectLineAndRay */ .jI)({start:p,end:_,type:_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .LineType */ .Vv.LINE},{start:u,end:d,type:_support_geometry2dUtils_js__WEBPACK_IMPORTED_MODULE_7__/* .LineType */ .Vv.LINE});if(!f)return;const m=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),_,p);(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.e)(m,m);const E=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.c)((0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__.a)(),f,p),x=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.g)(m,E),I=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),o,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.i)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this._left.direction,-x)),V=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .signedDistance */ .mN)(t,I);this._updateDistanceConstraint(V)}_pointInBasis2D(t,i,e,s){return t[0]=(0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_6__/* .projectPointSignedLength */ .gr)(i,s),t[1]=(0,_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_6__/* .projectPointSignedLength */ .gr)(e,s),t}_offset(t,i){Number.isFinite(this._minDistance)&&(i=Math.max(this._minDistance,i)),Number.isFinite(this._maxDistance)&&(i=Math.min(this._maxDistance,i)),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .copy */ .C)(this._offsetPlane,this._plane),this._offsetPlane[3]-=i;const e=(t,i,e)=>null!=i&&(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .intersectLine */ .U5)(this._offsetPlane,t,(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.g)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t,i),e),s=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)();(t===this._edge.leftVertex?e(this._left.start,this._left.direction,s):e(this._right.start,this._right.direction,s))&&this._helper.copy(this._helper.fromXYZ(s,void 0,this._helper.getM(t.pos)),t.pos)}selectArrowFromStartPoint(t){this._selectedArrow=(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .isPointInside */ .Tj)(this.plane,this._pointToXYZ(t))?1:-1}get selectedArrow(){return this._selectedArrow}signedDistanceToPoint(t){return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .signedDistance */ .mN)(this.plane,this._pointToXYZ(t))}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof N&&this._edge.leftVertex.index===t._edge.leftVertex.index&&this._edge.rightVertex.index===t._edge.rightVertex.index&&this._edge.component===t._edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.G)((0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .normal */ .qb)(this._plane),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .normal */ .qb)(t._plane))}accumulate(t,i){const e=this._plane[3]-i._plane[3]+i.distance;this._offset(t,e)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new N(this._helper,this._planeType,this._edge,this.distance,Z.DEFERRED);return (0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .copy */ .C)(t._plane,this._plane),(0,_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__/* .copy */ .C)(t._offsetPlane,this._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),this._edgeDirection),t}_maybeEqualsVec3(t,i){return null==t&&null==i||null!=t&&null!=i&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.G)(t,i)}_cloneNeighbor({start:t,end:i,direction:e,isOriginalDirection:s}){return{start:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),t),end:null!=i?(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),i):null,direction:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.c)((0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c)(),e),isOriginalDirection:s}}}const P=(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .deg2rad */ .kU)(15),T=.001;var y,Z;!function(t){t[t.XYZ=0]="XYZ",t[t.XY=1]="XY"}(y||(y={})),function(t){t[t.IMMEDIATE=0]="IMMEDIATE",t[t.DEFERRED=1]="DEFERRED"}(Z||(Z={}));


/***/ }),

/***/ 36504:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   m: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85569);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(58680);
/* harmony import */ var _UpdateVertices_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(63387);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class s{constructor(t,a,s=_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_2__/* .AccumulationType */ .K.CUMULATIVE){this.origin=t,this.angle=a,this._accumulationType=s}_rotate(t,i){(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_1__.r)(t.pos,t.pos,this.origin,i)}apply(t){this._rotate(t,this.angle)}undo(t){this._rotate(t,-this.angle)}canAccumulate(a){return a instanceof s&&(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .equals */ .aI)(this.origin,a.origin)}accumulate(t,a){const s=a._accumulationType===_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_2__/* .AccumulationType */ .K.REPLACE;this._rotate(t,s?a.angle-this.angle:a.angle)}accumulateParams(t){const a=t._accumulationType===_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_2__/* .AccumulationType */ .K.REPLACE;this.angle=a?t.angle:this.angle+t.angle}}


/***/ }),

/***/ 37673:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   j: () => (/* binding */ c)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85569);
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(78286);
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(58680);
/* harmony import */ var _UpdateVertices_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63387);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class c{constructor(t,a,c,o,r=_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_3__/* .AccumulationType */ .K.CUMULATIVE){this.origin=t,this.axis1=a,this.factor1=c,this.factor2=o,this._accumulationType=r,this.axis2=(0,_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_1__.f)(a[1],-a[0])}_scale(t,s,i){(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.u)(t.pos,t.pos,this.origin,this.axis1,s),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__.u)(t.pos,t.pos,this.origin,this.axis2,i)}apply(t){this._scale(t,this.factor1,this.factor2)}undo(t){this._scale(t,1/this.factor1,1/this.factor2)}canAccumulate(s){return s instanceof c&&(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .equals */ .aI)(this.origin,s.origin)&&(0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .equals */ .aI)(this.axis1,s.axis1)}accumulate(t,s){s._accumulationType===_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_3__/* .AccumulationType */ .K.REPLACE?this._scale(t,s.factor1/this.factor1,s.factor2/this.factor2):this._scale(t,s.factor1,s.factor2)}accumulateParams(t){const s=t._accumulationType===_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_3__/* .AccumulationType */ .K.REPLACE;this.factor1=s?t.factor1:this.factor1*t.factor1,this.factor2=s?t.factor2:this.factor2*t.factor2}}


/***/ }),

/***/ 63387:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   D: () => (/* binding */ t),
/* harmony export */   K: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class t{constructor(t,e,i){this._editGeometry=t,this._vertices=e,this.operation=i,this._undone=!1}apply(){this._vertices.forEach((t=>this.operation.apply(t))),this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:this._undone?"redo":"apply",updatedVertices:this._vertices})}undo(){this._vertices.forEach((t=>this.operation.undo(t))),this._editGeometry.notifyChanges({operation:"undo",updatedVertices:this._vertices}),this._undone=!0}canAccumulate(t){if(this._undone||t._vertices.length!==this._vertices.length)return!1;for(let e=0;e<t._vertices.length;++e)if(t._vertices[e]!==this._vertices[e])return!1;return this.operation.canAccumulate(t.operation)}accumulate(e){return!!(e instanceof t&&this.canAccumulate(e))&&(this._vertices.forEach((t=>this.operation.accumulate(t,e.operation))),this.operation.accumulateParams(e.operation),this._editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this._editGeometry.notifyChanges({operation:"apply",updatedVertices:this._vertices}),!0)}}var e;!function(t){t[t.CUMULATIVE=0]="CUMULATIVE",t[t.REPLACE=1]="REPLACE"}(e||(e={}));


/***/ }),

/***/ 3183:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Bb: () => (/* binding */ V),
/* harmony export */   CF: () => (/* binding */ x),
/* harmony export */   G3: () => (/* binding */ l)
/* harmony export */ });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58680);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22279);
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(28769);
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(45573);
/* harmony import */ var _operations_MoveVertex_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(61434);
/* harmony import */ var _operations_RotateVertex_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(36504);
/* harmony import */ var _operations_ScaleVertex_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(37673);
/* harmony import */ var _operations_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(63387);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function V(o,i){return d(o,i,!1)}function x(o,i){return d(o,i,!0)}function d(o,i,s){if(o instanceof _operations_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_7__/* .UpdateVertices */ .D){if(o.operation instanceof _operations_MoveVertex_js__WEBPACK_IMPORTED_MODULE_8__/* .MoveVertex */ .a)return h(o.operation,i,s),!0;if(o.operation instanceof _operations_RotateVertex_js__WEBPACK_IMPORTED_MODULE_5__/* .RotateVertex */ .m)return v(o.operation,i,s),!0;if(o.operation instanceof _operations_ScaleVertex_js__WEBPACK_IMPORTED_MODULE_6__/* .ScaleVertex */ .j)return k(o.operation,i,s),!0}return!1}function h(o,i,s=!1){const r=s?-1:1,n=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.f)(r*o.dx,r*o.dy,r*o.dz);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.g)(i.origin,i.origin,n),(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__.u)(i)}function v(o,i,s=!1){const r=s?-o.angle:o.angle;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.J)(i.basis1,i.basis1,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.Z,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.J)(i.basis2,i.basis2,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__.Z,r),(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__.u)(i)}function k(i,s,r=!1){const n=r?1/i.factor1:i.factor1,t=r?1/i.factor2:i.factor2;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(s.basis1,s.basis1,n),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__.i)(s.basis2,s.basis2,t),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.u)(s.origin,s.origin,i.origin,i.axis1,n),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.u)(s.origin,s.origin,i.origin,i.axis2,t),(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__.u)(s)}function l(o,c,f,u){u||(u=(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__.a)());const p=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__/* .sv2d */ .oG.get(),o[1],-o[0]),m=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__/* .sv2d */ .oG.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),N=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__/* .sv2d */ .oG.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),j=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__/* .sv2d */ .oG.get();c.components.forEach((t=>t.vertices.forEach((t=>{const a=t.pos;(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(j,(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.g)(o,a),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.g)(p,a)),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.z)(m,m,j),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.A)(N,N,j)}))));const E=1e-6,T=(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__/* .sv2d */ .oG.get(),N[0]-m[0]<E?f/2:0,N[1]-m[1]<E?f/2:0);return (0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.c)(m,m,T),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.i)(N,N,T),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.a)(u.basis1,o,(N[0]-m[0])/2),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.a)(u.basis2,p,(N[1]-m[1])/2),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.s)(u.origin,m[0]*o[0]+m[1]*p[0],m[0]*o[1]+m[1]*p[1]),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.i)(u.origin,u.origin,u.basis1),(0,_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__.i)(u.origin,u.origin,u.basis2),(0,_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__.u)(u),u}


/***/ }),

/***/ 53333:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.selfSnappingZ=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.feature=e.feature,this.visualizer=e.visualizer,this.selfSnappingZ=e.selfSnappingZ}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}get spatialReference(){return this.coordinateHelper.spatialReference}}


/***/ }),

/***/ 89030:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   L: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(6267);
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(40189);
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85251);
/* harmony import */ var _layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9723);
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(85174);
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(27451);
/* harmony import */ var _dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(74321);
/* harmony import */ var _SnappingContext_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(53333);
/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(93399);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function f({predicate:o=(()=>!0),snappingManager:i,snappingContext:l,updatingHandles:u,useZ:c=!0}){const p=new _dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_5__/* .EventPipeline */ .rh;if(null==i)return{snappingStep:[y,p],cancelSnapping:y};let f,Z=null,j=null,z=null;const T=()=>{Z=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__/* .abortMaybe */ .DC)(Z),i.doneSnapping(),j?.frameTask.remove(),j=null,f=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_7__/* .removeMaybe */ .xt)(f),z=null},k=d(i,c,p);let w=null,I=null,U=null;return{snappingStep:[n=>{if(!o(n))return n;const{action:e}=n;if("start"===e){const{info:e}=n,t=m(i.view);if(j=g(l,n,t),j.context.selfSnappingZ=null,!c&&null!=e){const n=S(l.coordinateHelper,e.handle.component);null!=n&&(j.context.selfSnappingZ={value:n,elevationInfo:l.elevationInfo??_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .absoluteHeightElevationInfo */ .qt})}}if(null!=j){const{context:o,originalScenePos:l,originalPos:a}=j,{mapEnd:s,mapStart:p,scenePoints:d}=n,m=x(a,v(s,p)),g=v(p,a),S={...n,action:"update"},y=j.context,T=P(l,d),C=i.update({point:m,scenePoint:T,context:o});if(U=C,h(s,C,g,c),w=m,I=T,"end"!==e){const{frameTask:n}=j;null==Z&&(Z=new AbortController),z=e=>{u.addPromise((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .ignoreAbortErrors */ .QZ)(k({frameTask:n,event:S,context:y,point:m,scenePoint:T,delta:g,getLastState:()=>({point:w,scenePoint:I,updatePoint:e.forceUpdate?null:U})},Z.signal)))},z({forceUpdate:!1}),null==f&&(f=(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .watch */ .wB)((()=>i.options.effectiveEnabled),(()=>z?.({forceUpdate:!0}))))}}return"end"===e&&T(),n},p],cancelSnapping:n=>(T(),n)}}function d(n,e,t){return (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .debounce */ .sg)((async({frameTask:o,point:r,scenePoint:l,context:a,event:s,delta:u,getLastState:c},p)=>{const f=await o.schedule((()=>n.snap({point:r,scenePoint:l,context:a,signal:p})),p);if(f.valid){let l=await o.schedule((()=>f.apply()),p);const d=c();null!=d.point&&r!==d.point&&(l=n.update({point:d.point,scenePoint:d.scenePoint,context:a})),null!=d.updatePoint&&(0,_layers_graphics_dehydratedFeatureComparison_js__WEBPACK_IMPORTED_MODULE_2__/* .pointEquals */ .C)(l,d.updatePoint)||(h(s.mapEnd,l,u,e),t.execute(s))}}))}function m(n){return"3d"===n.type?n.resourceController.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_6__/* .TaskPriority */ .W6.SNAPPING):_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_6__/* .ImmediateTask */ .nu}function g(n,e,t){return{context:new _SnappingContext_js__WEBPACK_IMPORTED_MODULE_8__/* .SnappingContext */ .e({editGeometryOperations:n.editGeometryOperations,elevationInfo:n.elevationInfo,pointer:n.pointer,vertexHandle:null!=e.info?e.info.handle:null,excludeFeature:n.excludeFeature,feature:n.feature,visualizer:n.visualizer}),originalPos:null!=e.snapOrigin?n.coordinateHelper.vectorToDehydratedPoint(e.snapOrigin):e.mapStart,originalScenePos:null!=e.scenePoints?e.scenePoints.sceneStart:null,frameTask:t}}function x(n,[e,t,o]){const r=(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_3__/* .clonePoint */ .EL)(n);return r.x+=e,r.y+=t,r.hasZ&&(r.z+=o),r}function P(n,e){return null==n||null==e?null:x(n,v(e.sceneEnd,e.sceneStart))}function v(n,e){const t=n.hasZ&&e.hasZ?n.z-e.z:0;return[n.x-e.x,n.y-e.y,t]}function h(n,e,[t,o,r],i){n.x=e.x+t,n.y=e.y+o,i&&n.hasZ&&e.hasZ&&(n.z=e.z+r)}function S(n,e){if(!n.hasZ())return null;const t=e.vertices;let o=null;for(const r of t){const e=n.getZ(r.pos);if(null!=o&&null!=e&&Math.abs(e-o)>1e-6)return null;null==o&&(o=e)}return o}function y(n){return n}


/***/ }),

/***/ 86548:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   b: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(20464);
/* harmony import */ var _hints_IntersectionSnappingHint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13795);
/* harmony import */ var _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4368);
/* harmony import */ var _hints_ParallelSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(74989);
/* harmony import */ var _hints_PointSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(75796);
/* harmony import */ var _hints_RightAngleSnappingHint_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(23495);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class r{draw(r,a){const p=this._getUniqueHints(r),h=this.sortUniqueHints(p),u=[];for(const i of h)i instanceof _hints_IntersectionSnappingHint_js__WEBPACK_IMPORTED_MODULE_1__/* .IntersectionSnappingHint */ .v&&u.push(this.visualizeIntersectionPoint(i,a)),i instanceof _hints_LineSnappingHint_js__WEBPACK_IMPORTED_MODULE_2__/* .LineSnappingHint */ .c&&u.push(this.visualizeLine(i,a)),i instanceof _hints_ParallelSnappingHint_js__WEBPACK_IMPORTED_MODULE_3__/* .ParallelSnappingHint */ .r&&u.push(this.visualizeParallelSign(i,a)),i instanceof _hints_RightAngleSnappingHint_js__WEBPACK_IMPORTED_MODULE_5__/* .RightAngleSnappingHint */ .l&&u.push(this.visualizeRightAngleQuad(i,a)),i instanceof _hints_PointSnappingHint_js__WEBPACK_IMPORTED_MODULE_4__/* .PointSnappingHint */ ._&&u.push(this.visualizePoint(i,a));return (0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .handlesGroup */ .vE)(u)}sortUniqueHints(i){return i}_getUniqueHints(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}}


/***/ }),

/***/ 75796:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   _: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21839);
/* harmony import */ var _SnappingHint_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(53830);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class n extends _SnappingHint_js__WEBPACK_IMPORTED_MODULE_1__/* .SnappingHint */ .m{constructor(t,s,n){super(s,n),this.point=t}equals(s){return s instanceof n&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.h)(this.point,s.point)}}


/***/ }),

/***/ 68928:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   T: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(89882);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function s(s){let t=0,a=0,e=0;return s?("cim"===s.type&&s.data.symbol&&"symbolLayers"in s.data.symbol&&s.data.symbol.symbolLayers&&s.data.symbol.symbolLayers.map((o=>{"CIMVectorMarker"===o.type&&o.anchorPoint&&(Math.abs(o.anchorPoint.x)>t&&(t=o.anchorPoint.x),Math.abs(o.anchorPoint.y)>a&&(a=o.anchorPoint.y),null!=o.size&&o.size>e&&(e=o.size))})),t=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .pt2px */ .Lz)(t),a=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .pt2px */ .Lz)(a),e=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .pt2px */ .Lz)(e),{offsetX:t,offsetY:a,size:e}):{offsetX:t,offsetY:a,size:e}}


/***/ }),

/***/ 63937:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   c: () => (/* binding */ p),
/* harmony export */   d: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(73569);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63863);
/* harmony import */ var _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(58486);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let i=class extends _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__/* .SketchTooltipInfo */ .w{constructor(t){super(t),this.type="extent-rotate",this.angle=0}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],i.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],i.prototype,"angle",void 0),i=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__/* .subclass */ .$)("esri.views.interactive.tooltip.ExtentRotateTooltipInfo")],i);let p=class extends _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__/* .SketchTooltipInfo */ .w{constructor(t){super(t),this.type="extent-scale",this.xScale=0,this.yScale=0,this.xSize=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7,this.ySize=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"xScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"yScale",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"xSize",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"ySize",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__/* .subclass */ .$)("esri.views.interactive.tooltip.ExtentScaleTooltipInfo")],p);


/***/ }),

/***/ 58486:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   w: () => (/* binding */ s)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(17306);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(73446);
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(85569);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(39831);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(63863);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let s=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.EventedAccessor{constructor(e){super(e),this._mode="feedback",this.helpMessage=void 0,this.viewType=void 0}get mode(){return this._mode}get allFields(){return[]}get editableFields(){return this.allFields.filter((e=>!e.readOnly))}enterInputMode(){this._mode="input",this.emit("focus")}exitInputMode(){this._mode="feedback"}unlockAllFields(){this.allFields.forEach((e=>e.unlock()))}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],s.prototype,"tooltipOptions",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],s.prototype,"_mode",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],s.prototype,"mode",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],s.prototype,"helpMessage",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],s.prototype,"viewType",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],s.prototype,"allFields",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],s.prototype,"editableFields",null),s=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__/* .subclass */ .$)("esri.views.interactive.tooltip.SketchTooltipInfo")],s);


/***/ }),

/***/ 38070:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  m: () => (/* binding */ u)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(52495);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/maybe.js
var maybe = __webpack_require__(6267);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/reactiveUtils.js
var reactiveUtils = __webpack_require__(85251);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/themeUtils.js
var themeUtils = __webpack_require__(71521);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/css.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const t="esri-tooltip",e=`${t}-content`,n=`${t}-content--input`,o=`${t}-content__header`,$=`${t}-table`,css_c=`${t}-help-message`;

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Logger.js
var Logger = __webpack_require__(539);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(98849);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/widgets/support/widgetUtils.js + 1 modules
var widgetUtils = __webpack_require__(72638);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/widgets/support/jsxFactory.js
var jsxFactory = __webpack_require__(96704);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/TooltipContentWithHelpMessage.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function TooltipContentWithHelpMessage_a({className:a,helpMessage:r,mode:c,onDiscard:p,onkeydown:d},...u){const m=u.flat(10).filter((t=>!!t));return (0,jsxFactory/* tsx */.K)("div",{class:(0,widgetUtils/* classes */.Ly)(a,e,"input"===c&&n),onkeydown:d},"input"===c?(0,jsxFactory/* tsx */.K)("div",{class:o,key:"tooltip-content-header"},(0,jsxFactory/* tsx */.K)("calcite-button",{appearance:"transparent",iconFlipRtl:"both",iconStart:"chevron-left",kind:"neutral",onclick:p,scale:"s",tabIndex:-1})):null,m.length>0?(0,jsxFactory/* tsx */.K)("div",{class:$},...m):null,r?(0,jsxFactory/* tsx */.K)("div",{class:css_c,key:"help-message"},r):null)}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/widgets/Widget.js + 4 modules
var Widget = __webpack_require__(46928);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/TooltipField.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const p=`${t}-field`,d={base:p,inputMode:`${p}--input`,title:`${p}__title`,value:`${p}__value`};let TooltipField_a=class extends Widget/* default */.A{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return (0,jsxFactory/* tsx */.K)("div",{class:this.classes({[d.base]:!0,[d.inputMode]:"input"===this.mode})},(0,jsxFactory/* tsx */.K)("div",{class:d.title},this.title),(0,jsxFactory/* tsx */.K)("div",{class:d.value},this.value))}};(0,tslib_es6._)([(0,property/* property */.MZ)()],TooltipField_a.prototype,"hidden",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TooltipField_a.prototype,"mode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TooltipField_a.prototype,"title",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],TooltipField_a.prototype,"value",void 0),TooltipField_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.TooltipField")],TooltipField_a);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/ValueByValue.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const ValueByValue_p={base:`${t}-value-by-value`};let ValueByValue_a=class extends Widget/* default */.A{constructor(){super(...arguments),this.divider="×"}render(){return (0,jsxFactory/* tsx */.K)("div",{class:ValueByValue_p.base},(0,jsxFactory/* tsx */.K)("span",null,this.left),(0,jsxFactory/* tsx */.K)("span",null,this.divider),(0,jsxFactory/* tsx */.K)("span",null,this.right))}};(0,tslib_es6._)([(0,property/* property */.MZ)()],ValueByValue_a.prototype,"left",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ValueByValue_a.prototype,"divider",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],ValueByValue_a.prototype,"right",void 0),ValueByValue_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.ValueByValue")],ValueByValue_a);

// EXTERNAL MODULE: ../node_modules/@arcgis/core/intl.js + 1 modules
var intl = __webpack_require__(17791);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/memoize.js
var memoize = __webpack_require__(6371);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/quantityFormatUtils.js
var quantityFormatUtils = __webpack_require__(33604);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/unitFormatUtils.js
var unitFormatUtils = __webpack_require__(26257);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/unitUtils.js
var unitUtils = __webpack_require__(92976);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/support/getDefaultUnitForView.js
var getDefaultUnitForView = __webpack_require__(47228);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/interactive/keybindings.js
var keybindings = __webpack_require__(70384);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/widgets/support/componentsUtils.js + 1 modules
var componentsUtils = __webpack_require__(11693);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js
var messageBundle = __webpack_require__(43955);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/intl/number.js
var number = __webpack_require__(46930);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContent.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let U=class extends Widget/* default */.A{constructor(){super(...arguments),this._getFormatters=(0,memoize/* memoize */.B)(((t,e)=>({angle:t=>(0,quantityFormatUtils/* formatAngle */.Nk)(t,t.rotationType),area:(i,s)=>(0,quantityFormatUtils/* formatArea */.Jd)(t,i,s??e.area),length:(i,o,r)=>(0,quantityFormatUtils/* formatLength */.ix)(t,i,o??e.length,r),relativeLength:(i,o)=>(0,quantityFormatUtils/* formatRelativeLength */.yh)(t,i,o??e.length),totalLength:(i,o)=>(0,quantityFormatUtils/* formatLength */.ix)(t,i,o??e.length),verticalLength:(i,o)=>(0,quantityFormatUtils/* formatVerticalLength */.Oo)(t,i,o??e.length),relativeVerticalLength:(i,o)=>(0,quantityFormatUtils/* formatRelativeVerticalLength */.OM)(t,i,o??e.verticalLength),relativeOrientation:t=>(0,number/* formatNumber */.ZV)(t,{maximumFractionDigits:2,minimumFractionDigits:2,signDisplay:"exceptZero"}),percentage:t=>(0,number/* formatNumber */.ZV)(t.value,{style:"percent"}),scale:t=>(0,number/* formatNumber */.ZV)(t,{style:"percent",maximumFractionDigits:0})}))),this._formatScale=t=>this._formatters.scale(t),this._formatRelativeOrientation=t=>this._formatters.relativeOrientation(t),this._formatLength=(t,e,i)=>this._formatters.length(t,e,i),this._formatRelativeLength=(t,e)=>this._formatters.relativeLength(t,e),this._formatVerticalLength=(t,e)=>this._formatters.verticalLength(t,e),this._formatRelativeVerticalLength=(t,e)=>this._formatters.relativeVerticalLength(t,e),this._formatArea=(t,e)=>this._formatters.area(t,e),this._formatPercentage=t=>this._formatters.percentage(t),this._onDiscard=()=>{this._exitInputMode()},this._onCommit=(t,e)=>{if("commit-and-exit"===e)return this._exitInputMode();const i=this._getFocusableInputs(),o=i.length,s=i.indexOf(t);if(-1===s)return this._exitInputMode();const r=((s+("commit-and-next"===e?1:-1))%o+o)%o;i.at(r)?.focus()},this._handleTab=t=>{if(t.code!==keybindings/* tooltipKeys */.ac.next)return;const e=this._getFocusableInputs();if(0===e.length)return;const i=e.at(0),o=e.at(-1);i&&o&&(t.shiftKey?document.activeElement===i&&(t.preventDefault(),o.focus()):document.activeElement===o&&(t.preventDefault(),i.focus()))}}get _displayUnits(){const t=(0,getDefaultUnitForView/* getDefaultUnitForView */.c)(this.tooltip.view);return{length:t,verticalLength:t,area:t,angle:"degrees"}}get _inputUnitInfos(){const t=this._messagesUnits,e=e=>({unit:e,abbreviation:(0,unitFormatUtils/* unitName */.Cq)(t,e,"abbr")}),i=(0,getDefaultUnitForView/* getDefaultUnitForView */.c)(this.tooltip.view),o=(0,unitUtils/* defaultLengthUnit */.wL)(i),s=(0,unitUtils/* defaultVerticalLengthUnit */.m5)(i),r=(0,unitUtils/* defaultAreaUnit */.tW)(i),n="degrees";return{length:e(o),relativeLength:e(o),verticalLength:e(s),relativeVerticalLength:e(s),area:e(r),orientation:e(n),rotation:e(n)}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,onCommit:this._onCommit,onDiscard:this._onDiscard}}initialize(){let t=new AbortController;this.addHandles([(0,reactiveUtils/* watch */.wB)((()=>this.info.mode),(t=>{this.tooltip.positionMode="input"===t?"fixed":"follow-cursor"})),(0,reactiveUtils.on)((()=>this.info),"focus",(()=>{t?.abort();const{signal:e}=t=new AbortController;requestAnimationFrame((()=>{e.aborted||this._getFocusableInputs().at(0)?.focus()}))}))])}loadDependencies(){return (0,componentsUtils/* loadCalciteComponents */.W)({button:()=>__webpack_require__.e(/* import() */ 3705).then(__webpack_require__.bind(__webpack_require__, 3705)),icon:()=>__webpack_require__.e(/* import() */ 7509).then(__webpack_require__.bind(__webpack_require__, 77509)),input:()=>__webpack_require__.e(/* import() */ 5402).then(__webpack_require__.bind(__webpack_require__, 65402))})}_getHelpMessage(t){const{info:e}=this,{tooltipOptions:i,helpMessage:o,viewType:s}=e,r=i?.visibleElements?.helpMessage,n=t??o,a="3d"===s?"helpMessages3d":"helpMessages2d";return r&&n?this._messagesTooltip?.sketch?.[a]?.[n]:void 0}_exitInputMode(){this.info.exitInputMode(),document.querySelector(".esri-view-surface").focus()}_getFocusableInputs(){return Array.from(this.domNode?.querySelectorAll("input:not([disabled])")??[])}};(0,tslib_es6._)([(0,messageBundle/* messageBundle */.G)("esri/core/t9n/Units"),(0,property/* property */.MZ)()],U.prototype,"_messagesUnits",void 0),(0,tslib_es6._)([(0,messageBundle/* messageBundle */.G)("esri/views/interactive/tooltip/t9n/Tooltip"),(0,property/* property */.MZ)()],U.prototype,"_messagesTooltip",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],U.prototype,"info",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],U.prototype,"tooltip",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],U.prototype,"_displayUnits",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],U.prototype,"_inputUnitInfos",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],U.prototype,"_formatters",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],U.prototype,"fieldContext",null),U=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContent")],U);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawCircle.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentDrawCircle_p={base:`${e} ${`${e}--draw-rectangle`}`};let m=class extends U{render(){const{area:t,radius:e,xSize:s,ySize:l,tooltipOptions:m}=this.info,{visibleElements:n}=m,c=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentDrawCircle_p.base,helpMessage:this._getHelpMessage()},n.radius&&null!=e?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.radius,value:this._formatLength(e)}):null,n.size&&null!=s&&null!=l?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.size,value:(0,jsxFactory/* tsx */.K)(ValueByValue_a,{left:this._formatLength(s),right:this._formatLength(l)})}):null,n.area?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.area,value:this._formatArea(t)}):null)}};m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],m);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawMesh.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const a={base:`${e}--draw-mesh`};let l=class extends U{render(){const{elevation:t,tooltipOptions:s}=this.info,{visibleElements:e}=s,i=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:a.base,helpMessage:this._getHelpMessage()},e.elevation?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:i.elevation,value:this._formatVerticalLength(t.actual)}):null)}};l=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],l);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/TooltipEditableField.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const r=`${t}-editable-field`,TooltipEditableField_a={base:r,inputMode:`${r}--input`,locked:`${r}--locked`,title:`${r}__title`,titleContent:`${r}__title__content`,value:`${r}__value`,valueContent:`${r}__value__content`,input:`${r}__input`,inputDisabled:`${r}__input--disabled`,inputReadOnly:`${r}__input--read-only`,inputSuffix:`${r}__input-suffix`,button:`${r}__button`};let c=class extends Widget/* default */.A{constructor(){super(...arguments),this._input=null,this._afterInputCreate=t=>{this._input=t},this._selectText=()=>{requestAnimationFrame((()=>{this._input?.select()}))},this._onKeyDown=t=>{t.key===keybindings/* tooltipKeys */.ac.discard&&this._discard()},this._onInputKeyDown=t=>{switch(t.key){case keybindings/* tooltipKeys */.ac.commit:return this._commit({type:"commit-and-exit",allowLockingCurrentValue:!0});case keybindings/* tooltipKeys */.ac.next:return t.stopPropagation(),this._commit({type:t.shiftKey?"commit-and-previous":"commit-and-next",allowLockingCurrentValue:!1})}},this._onInput=t=>{this.field.inputValue=t.target.value},this._onLockClick=()=>{const{field:t}=this;t.locked?t.unlock():this._lock()}}loadDependencies(){return (0,componentsUtils/* loadCalciteComponents */.W)({button:()=>__webpack_require__.e(/* import() */ 3705).then(__webpack_require__.bind(__webpack_require__, 3705)),icon:()=>__webpack_require__.e(/* import() */ 7509).then(__webpack_require__.bind(__webpack_require__, 77509))})}render(){const{mode:t,field:e}=this,i="input"===t,{locked:n}=e;return (0,jsxFactory/* tsx */.K)("div",{class:this.classes({[TooltipEditableField_a.base]:!0,[TooltipEditableField_a.inputMode]:"input"===t,[TooltipEditableField_a.locked]:n})},(0,jsxFactory/* tsx */.K)("div",{class:TooltipEditableField_a.title,key:"title"},(0,jsxFactory/* tsx */.K)("div",{class:TooltipEditableField_a.titleContent,key:"title-content"},this._title,n&&!i?(0,jsxFactory/* tsx */.K)("calcite-icon",{icon:"lock",key:"icon",scale:"s"}):null)),(0,jsxFactory/* tsx */.K)("div",{class:TooltipEditableField_a.value,key:"value"},i?this._renderInput():(0,jsxFactory/* tsx */.K)("span",{key:"formatted-value"},this._feedbackValue)))}get _initialValue(){const{field:t}=this;return null!=t.actual?t.toInputUnits(t.actual,this.context).value:null}get _feedbackValue(){const{context:t,field:e}=this,{actual:i,committed:n,format:o}=e;return null!=n?o(n,t):null!=i?o(i,t):""}get _displayValue(){const{field:t}=this,{inputValue:e,committed:i}=t;return null!=e?e:null!=i?this._toString(t.toInputUnits(i,this.context).value):this._toString(this._initialValue)}get _suffix(){const{suffix:t}=this.field;return"string"==typeof t?t:t(this.context)}get _title(){const{title:t}=this.field;return"string"==typeof t?t:t(this.context)}_renderInput(){const{disabled:t,locked:e,readOnly:i}=this.field;return (0,jsxFactory/* tsx */.K)("div",{class:TooltipEditableField_a.valueContent,key:"input-container",onkeydown:this._onKeyDown},(0,jsxFactory/* tsx */.K)("input",{afterCreate:this._afterInputCreate,class:this.classes({[TooltipEditableField_a.input]:!0,[TooltipEditableField_a.inputDisabled]:t,[TooltipEditableField_a.inputReadOnly]:i}),disabled:t||i,onfocus:this._selectText,oninput:this._onInput,onkeydown:this._onInputKeyDown,readOnly:i,type:"text",value:this._displayValue}),(0,jsxFactory/* tsx */.K)("div",{class:TooltipEditableField_a.inputSuffix,key:"suffix"},this._suffix),i?void 0:(0,jsxFactory/* tsx */.K)("calcite-button",{appearance:"transparent",class:TooltipEditableField_a.button,disabled:t,iconStart:e?"lock":"unlock",kind:"neutral",onclick:this._onLockClick,scale:"s",tabIndex:-1}))}_commit({type:t,allowLockingCurrentValue:e}){const{_input:i,field:n}=this;i&&(n.locked&&""===n.inputValue?n.unlock():(e||null!=n.inputValue)&&this._lock(),this.context.onCommit(i,t))}_discard(){this._input&&(this.field.inputValue=null,this.context.onDiscard(this._input))}_lock(){const{field:t}=this,e=this._parseNumber(t.inputValue),i=null!=e?t.createQuantity(e,this.context):null;t.lock(i)}_parseNumber(t){if(null==t)return null;const e=parseFloat(t);return isNaN(e)||!isFinite(e)?null:e}_toString(t){return null!=t?t.toFixed(3):"0"}};(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"field",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"context",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"mode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"_initialValue",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"_feedbackValue",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"_input",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"_displayValue",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"_suffix",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"_title",null),c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.TooltipEditableField")],c);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/Fields.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function Fields_l(l){const i=l.fields.filter((t=>null!=t&&!t.hidden));return 0===i.length?null:(0,jsxFactory/* tsx */.K)(jsxFactory/* tsxFragment */.w,null,i.map((o=>(0,jsxFactory/* tsx */.K)(c,{context:l.context,field:o,key:o.id,mode:l.mode}))))}

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawPoint.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentDrawPoint_n={base:`${e}--draw-point`};let TooltipContentDrawPoint_a=class extends U{render(){const{fieldContext:o,info:s}=this,{mode:t,elevation:i,tooltipOptions:a}=s,{visibleElements:m}=a;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentDrawPoint_n.base,helpMessage:this._getHelpMessage(),mode:t,onkeydown:this._handleTab,onDiscard:this._onDiscard},(0,jsxFactory/* tsx */.K)(Fields_l,{context:o,fields:[m.elevation?i:void 0],mode:t}))}};TooltipContentDrawPoint_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],TooltipContentDrawPoint_a);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawPolygon.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentDrawPolygon_a={base:`${e} ${`${e}--draw-polygon`}`};let TooltipContentDrawPolygon_p=class extends U{render(){const{fieldContext:o,info:e}=this,{area:t,distance:i,elevation:p,mode:c,orientation:l,tooltipOptions:d,viewType:m}=e,{inputEnabled:j,visibleElements:g}=d;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentDrawPolygon_a.base,helpMessage:this._getHelpMessage(),mode:c,onkeydown:this._handleTab,onDiscard:this._onDiscard},(0,jsxFactory/* tsx */.K)(Fields_l,{context:o,fields:[j&&g.orientation?l:void 0,j&&g.distance?i:void 0,g.elevation&&"2d"!==m?p:void 0,g.area?t:void 0],mode:c}))}};TooltipContentDrawPolygon_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],TooltipContentDrawPolygon_p);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawPolyline.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentDrawPolyline_p={base:`${e} ${`${e}--draw-polyline`}`};let TooltipContentDrawPolyline_a=class extends U{render(){const{fieldContext:o,info:t}=this,{distance:e,elevation:r,mode:a,orientation:l,tooltipOptions:c,totalLength:d,viewType:m}=t,{inputEnabled:j,visibleElements:g}=c;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentDrawPolyline_p.base,helpMessage:this._getHelpMessage(),mode:a,onkeydown:this._handleTab,onDiscard:this._onDiscard},(0,jsxFactory/* tsx */.K)(Fields_l,{context:o,fields:[j&&g.orientation?l:void 0,j&&g.distance?e:void 0,g.elevation&&"2d"!==m?r:void 0,g.totalLength?d:void 0],mode:a}))}};TooltipContentDrawPolyline_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],TooltipContentDrawPolyline_a);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentDrawRectangle.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentDrawRectangle_p={base:`${e} ${`${e}--draw-rectangle`}`};let TooltipContentDrawRectangle_m=class extends U{render(){const{area:t,xSize:e,ySize:s,tooltipOptions:a}=this.info,{visibleElements:m}=a,n=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentDrawRectangle_p.base,helpMessage:this._getHelpMessage()},m.size&&null!=e&&null!=s?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:n.size,value:(0,jsxFactory/* tsx */.K)(ValueByValue_a,{left:this._formatLength(e),right:this._formatLength(s)})}):null,m.area?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:n.area,value:this._formatArea(t)}):null)}};TooltipContentDrawRectangle_m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],TooltipContentDrawRectangle_m);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentExtentRotate.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentExtentRotate_a={base:`${e} ${`${e}--extent-rotate`}`};let TooltipContentExtentRotate_n=class extends U{render(){const{angle:t,tooltipOptions:o}=this.info,{visibleElements:s}=o,i=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentExtentRotate_a.base,helpMessage:this._getHelpMessage()},s.rotation?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:i.rotation,value:this._formatRelativeOrientation(t)}):null)}};TooltipContentExtentRotate_n=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],TooltipContentExtentRotate_n);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentExtentScale.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentExtentScale_p={base:`${e} ${`${e}--extent-scale`}`};let TooltipContentExtentScale_c=class extends U{render(){const t=this.info,{visibleElements:e}=t.tooltipOptions,s=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentExtentScale_p.base,helpMessage:this._getHelpMessage()},e.size?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:s.size,value:(0,jsxFactory/* tsx */.K)(ValueByValue_a,{left:this._formatLength(t.xSize),right:this._formatLength(t.ySize)})}):null,e.scale?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:s.scale,value:(0,jsxFactory/* tsx */.K)(ValueByValue_a,{left:this._formatScale(t.xScale),right:this._formatScale(t.yScale)})}):null)}};TooltipContentExtentScale_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],TooltipContentExtentScale_c);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentReshapeEdgeOffset.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentReshapeEdgeOffset_l={base:`${e} ${`${e}--reshape-edge-offset`}`};let TooltipContentReshapeEdgeOffset_p=class extends U{render(){const{area:t,distance:e,totalLength:s,tooltipOptions:i}=this.info,{visibleElements:p}=i,n=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentReshapeEdgeOffset_l.base,helpMessage:this._getHelpMessage()},p.distance?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:n.distance,value:this._formatRelativeLength(e)}):null,p.area&&null!=t?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:n.area,value:this._formatArea(t)}):null,p.totalLength&&null!=s?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:n.totalLength,value:this._formatLength(s)}):null)}};TooltipContentReshapeEdgeOffset_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],TooltipContentReshapeEdgeOffset_p);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTransformAbsolute.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTransformAbsolute_l={base:`${e} ${`${e}--transform-absolute`}`};let TooltipContentTransformAbsolute_a=class extends U{render(){const{info:t}=this,{visibleElements:s}=t.tooltipOptions,e=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTransformAbsolute_l.base,helpMessage:this._getHelpMessage()},s.orientation&&null!=t.orientation?(0,jsxFactory/* tsx */.K)(TooltipField_a,{key:"orientation",title:e.orientation,value:(0,quantityFormatUtils/* formatAngle */.Nk)(t.orientation,t.rotationType,t.orientationPrecision)}):null,s.size&&null!=t.size?(0,jsxFactory/* tsx */.K)(TooltipField_a,{key:"size",title:e.size,value:this._formatLength(t.size,t.sizeUnit,t.sizePrecision)}):null)}};TooltipContentTransformAbsolute_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTransformAbsolute")],TooltipContentTransformAbsolute_a);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTransformRotate.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTransformRotate_l={base:`${e} ${`${e}--transform-rotate`}`};let TooltipContentTransformRotate_m=class extends U{render(){const{info:t}=this,{visibleElements:e}=t.tooltipOptions,s=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTransformRotate_l.base,helpMessage:this._getHelpMessage()},e.rotation&&null!=t.rotation?(0,jsxFactory/* tsx */.K)(TooltipField_a,{key:"rotation",title:s.rotation,value:(0,quantityFormatUtils/* formatRelativeAngle */.rJ)(t.rotation,t.rotationType,t.rotationPrecision)}):null,e.orientation&&null!=t.orientation?(0,jsxFactory/* tsx */.K)(TooltipField_a,{key:"orientation",title:s.orientation,value:(0,quantityFormatUtils/* formatAngle */.Nk)(t.orientation,t.rotationType,t.orientationPrecision)}):null)}};TooltipContentTransformRotate_m=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTransformRotate")],TooltipContentTransformRotate_m);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTransformScale.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTransformScale_p={base:`${e} ${`${e}--transform-scale`}`};let TooltipContentTransformScale_a=class extends U{render(){const{info:s}=this,{visibleElements:e}=s.tooltipOptions,t=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTransformScale_p.base,helpMessage:this._getHelpMessage()},e.scale&&null!=s.scale?(0,jsxFactory/* tsx */.K)(TooltipField_a,{key:"scale",title:t.scale,value:this._formatPercentage(s.scale)}):null,e.size&&null!=s.size?(0,jsxFactory/* tsx */.K)(TooltipField_a,{key:"size",title:t.size,value:this._formatLength(s.size,s.sizeUnit,s.sizePrecision)}):null)}};TooltipContentTransformScale_a=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTransformScale")],TooltipContentTransformScale_a);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateGraphic.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTranslateGraphic_a={base:`${e} ${`${e}--translate-graphic`}`};let TooltipContentTranslateGraphic_c=class extends U{render(){const{info:s}=this,{visibleElements:t}=s.tooltipOptions,o=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTranslateGraphic_a.base,helpMessage:this._getHelpMessage()},t.distance?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:o.distance,value:this._formatLength(s.distance)}):null)}};TooltipContentTranslateGraphic_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphic")],TooltipContentTranslateGraphic_c);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateGraphicXY.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTranslateGraphicXY_a={base:`${e} ${`${e}--translate-graphic-xy`}`};let TooltipContentTranslateGraphicXY_c=class extends U{render(){const{info:t}=this,{visibleElements:s}=t.tooltipOptions,e=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTranslateGraphicXY_a.base,helpMessage:this._getHelpMessage()},s.distance?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:e.distance,value:this._formatRelativeLength(t.distance)}):null)}};TooltipContentTranslateGraphicXY_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphicXY")],TooltipContentTranslateGraphicXY_c);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateGraphicZ.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTranslateGraphicZ_a={base:`${e} ${`${e}--translate-graphic-z`}`};let TooltipContentTranslateGraphicZ_c=class extends U{render(){const{info:t}=this,{visibleElements:s}=t.tooltipOptions,e=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTranslateGraphicZ_a.base,helpMessage:this._getHelpMessage()},s.distance?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:e.distance,value:this._formatRelativeVerticalLength(t.distance)}):null)}};TooltipContentTranslateGraphicZ_c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateGraphicZ")],TooltipContentTranslateGraphicZ_c);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateVertex.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTranslateVertex_a={base:`${e} ${`${e}--translate-vertex`}`};let TooltipContentTranslateVertex_n=class extends U{render(){const{distance:t,elevation:e,area:s,totalLength:i,tooltipOptions:n}=this.info,{visibleElements:p}=n,c=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTranslateVertex_a.base,helpMessage:this._getHelpMessage()},p.distance?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.distance,value:this._formatLength(t)}):null,p.elevation&&null!=e?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.elevation,value:this._formatVerticalLength(e.actual)}):null,p.area&&null!=s?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.area,value:this._formatArea(s)}):null,p.totalLength&&null!=i?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.totalLength,value:this._formatLength(i)}):null)}};TooltipContentTranslateVertex_n=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],TooltipContentTranslateVertex_n);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateVertexXY.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTranslateVertexXY_a={base:`${e} ${`${e}--translate-vertex`}`};let TooltipContentTranslateVertexXY_n=class extends U{render(){const{area:t,distance:e,elevation:s,totalLength:i,tooltipOptions:n}=this.info,{visibleElements:p}=n,c=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTranslateVertexXY_a.base,helpMessage:this._getHelpMessage()},p.distance?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.distance,value:this._formatRelativeLength(e)}):null,p.elevation&&null!=s?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.elevation,value:this._formatVerticalLength(s.actual)}):null,p.area&&null!=t?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.area,value:this._formatArea(t)}):null,p.totalLength&&null!=i?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:c.totalLength,value:this._formatLength(i)}):null)}};TooltipContentTranslateVertexXY_n=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertexXY")],TooltipContentTranslateVertexXY_n);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/TooltipContentTranslateVertexZ.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const TooltipContentTranslateVertexZ_a={base:`${e} ${`${e}--translate-vertex`}`};let TooltipContentTranslateVertexZ_p=class extends U{render(){const{distance:t,elevation:e,tooltipOptions:s}=this.info,{visibleElements:i}=s,p=this._messagesTooltip.sketch;return (0,jsxFactory/* tsx */.K)(TooltipContentWithHelpMessage_a,{className:TooltipContentTranslateVertexZ_a.base,helpMessage:this._getHelpMessage()},i.distance?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:p.distance,value:this._formatRelativeVerticalLength(t)}):null,i.elevation&&null!=e?(0,jsxFactory/* tsx */.K)(TooltipField_a,{title:p.elevation,value:this._formatVerticalLength(e.actual)}):null)}};TooltipContentTranslateVertexZ_p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.content.TooltipContentTranslateVertexZ")],TooltipContentTranslateVertexZ_p);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/content/tooltipContentFactory.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function x(x,h){if(null==h)return null;const d=document.createElement("div");switch(h.type){case"draw-point":return new TooltipContentDrawPoint_a({tooltip:x,info:h,container:d});case"draw-polygon":return new TooltipContentDrawPolygon_p({tooltip:x,info:h,container:d});case"draw-polyline":return new TooltipContentDrawPolyline_a({tooltip:x,info:h,container:d});case"draw-mesh":return new l({tooltip:x,info:h,container:d});case"draw-rectangle":return new TooltipContentDrawRectangle_m({tooltip:x,info:h,container:d});case"draw-circle":return new m({tooltip:x,info:h,container:d});case"extent-rotate":return new TooltipContentExtentRotate_n({tooltip:x,info:h,container:d});case"extent-scale":return new TooltipContentExtentScale_c({tooltip:x,info:h,container:d});case"transform-absolute":return new TooltipContentTransformAbsolute_a({tooltip:x,info:h,container:d});case"transform-rotate":return new TooltipContentTransformRotate_m({tooltip:x,info:h,container:d});case"transform-scale":return new TooltipContentTransformScale_a({tooltip:x,info:h,container:d});case"translate-graphic":return new TooltipContentTranslateGraphic_c({tooltip:x,info:h,container:d});case"translate-graphic-z":return new TooltipContentTranslateGraphicZ_c({tooltip:x,info:h,container:d});case"translate-graphic-xy":return new TooltipContentTranslateGraphicXY_c({tooltip:x,info:h,container:d});case"translate-vertex":return new TooltipContentTranslateVertex_n({tooltip:x,info:h,container:d});case"translate-vertex-z":return new TooltipContentTranslateVertexZ_p({tooltip:x,info:h,container:d});case"translate-vertex-xy":return new TooltipContentTranslateVertexXY_n({tooltip:x,info:h,container:d});case"reshape-edge-offset":return new TooltipContentReshapeEdgeOffset_p({tooltip:x,info:h,container:d})}}

;// ../node_modules/@arcgis/core/views/interactive/tooltip/Tooltip.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const Tooltip_d={base:`${t}`};let u=class extends Accessor/* default */.A{constructor(t){super(t),this.info=null,this.positionMode="follow-cursor",this._contentContainer=(()=>{const t=document.createElement("div");return t.classList.add(Tooltip_d.base),(0,themeUtils/* setCalciteThemeClass */.hY)(t),t})(),this._contentWidget=null}initialize(){const t=this._contentContainer;this.addHandles([(0,reactiveUtils/* watch */.wB)((()=>this.view.overlay?.surface),(o=>{t.remove(),o?.appendChild(t)}),reactiveUtils/* syncAndInitial */.pc),(0,reactiveUtils/* watch */.wB)((()=>this.info),((o,n)=>{if(null!=this._contentWidget&&null!=o&&null!=n&&o.type===n.type)this._contentWidget.info=o;else{this._contentWidget=(0,maybe/* destroyMaybe */.pR)(this._contentWidget);const n=x(this,o);n&&(this._contentWidget=n,n.container&&t.appendChild(n.container))}}),reactiveUtils/* syncAndInitial */.pc),(0,reactiveUtils/* watch */.wB)((()=>({container:this._contentContainer,contentWidget:this._contentWidget,screenPoint:this._screenPoint,positionMode:this.positionMode})),h,reactiveUtils/* syncAndInitial */.pc)])}destroy(){this._contentWidget=(0,maybe/* destroyMaybe */.pR)(this._contentWidget),this._contentContainer.remove()}clear(){this.info=null}get _screenPoint(){const t=this.view.inputManager;return t?.multiTouchActive?null:t?.latestPointerLocation}get test(){return{contentContainer:this._contentContainer,visible:"none"!==this._contentContainer?.style.display}}};function h({container:t,contentWidget:o,screenPoint:e,positionMode:n}){const{style:i}=t;if("docked"===n)return i.display="block",void(i.transform="none");if("fixed"!==n)if(null!=e&&null!=o){i.display="block";const o=(0,widgetUtils/* isRTL */.V8)(t),n=`translate(${Math.round(e.x)+Tooltip_m[0]*(o?-1:1)}px, ${Math.round(e.y)+Tooltip_m[1]}px)`;i.transform=o?`translate(-100%, 0) ${n}`:n}else i.display="none"}(0,tslib_es6._)([(0,property/* property */.MZ)({nonNullable:!0})],u.prototype,"view",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"info",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"positionMode",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"_contentContainer",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"_contentWidget",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],u.prototype,"_screenPoint",null),u=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.Tooltip")],u);const Tooltip_m=[20,20];


/***/ }),

/***/ 18679:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JH: () => (/* binding */ c),
/* harmony export */   YI: () => (/* binding */ a),
/* harmony export */   ar: () => (/* binding */ r),
/* harmony export */   nW: () => (/* binding */ l),
/* harmony export */   un: () => (/* binding */ p),
/* harmony export */   y3: () => (/* binding */ n)
/* harmony export */ });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66866);
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(73569);
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21564);
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(63863);
/* harmony import */ var _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(58486);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let r=class extends _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__/* .SketchTooltipInfo */ .w{constructor(t){super(t),this.type="translate-graphic",this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7}clear(){this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],r.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],r.prototype,"distance",void 0),r=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__/* .subclass */ .$)("esri.views.interactive.tooltip.TranslateGraphicTooltipInfo")],r);let a=class extends _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__/* .SketchTooltipInfo */ .w{constructor(t){super(t),this.type="translate-graphic-z",this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7}clear(){this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],a.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],a.prototype,"distance",void 0),a=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__/* .subclass */ .$)("esri.views.interactive.tooltip.TranslateGraphicZTooltipInfo")],a);let l=class extends _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__/* .SketchTooltipInfo */ .w{constructor(t){super(t),this.type="translate-graphic-xy",this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],l.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],l.prototype,"distance",void 0),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__/* .subclass */ .$)("esri.views.interactive.tooltip.TranslateGraphicXYTooltipInfo")],l);let p=class extends _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__/* .SketchTooltipInfo */ .w{constructor(t){super(t),this.type="translate-vertex",this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7,this.elevation=null,this.area=null,this.totalLength=null}clear(){this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7,this.elevation=null,this.area=null,this.totalLength=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"distance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"elevation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"area",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],p.prototype,"totalLength",void 0),p=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__/* .subclass */ .$)("esri.views.interactive.tooltip.TranslateVertexTooltipInfo")],p);let n=class extends _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__/* .SketchTooltipInfo */ .w{constructor(t){super(t),this.type="translate-vertex-z",this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7,this.elevation=null}clear(){this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7,this.elevation=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],n.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],n.prototype,"distance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],n.prototype,"elevation",void 0),n=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__/* .subclass */ .$)("esri.views.interactive.tooltip.TranslateVertexZTooltipInfo")],n);let c=class extends _SketchTooltipInfo_js__WEBPACK_IMPORTED_MODULE_4__/* .SketchTooltipInfo */ .w{constructor(t){super(t),this.type="translate-vertex-xy",this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7,this.elevation=null,this.area=null,this.totalLength=null}clear(){this.distance=_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .zeroMeters */ .r7,this.elevation=null,this.area=null,this.totalLength=null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],c.prototype,"type",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],c.prototype,"distance",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],c.prototype,"elevation",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],c.prototype,"area",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__/* .property */ .MZ)()],c.prototype,"totalLength",void 0),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_3__/* .subclass */ .$)("esri.views.interactive.tooltip.TranslateVertexXYTooltipInfo")],c);


/***/ }),

/***/ 96151:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  Am: () => (/* binding */ U),
  S3: () => (/* binding */ g),
  R0: () => (/* binding */ m),
  LJ: () => (/* binding */ fields_p)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Cyclical.js
var Cyclical = __webpack_require__(17505);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/quantityUtils.js
var quantityUtils = __webpack_require__(73569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/unitUtils.js
var unitUtils = __webpack_require__(92976);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/tslib.es6.js
var tslib_es6 = __webpack_require__(66866);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Accessor.js + 4 modules
var Accessor = __webpack_require__(52495);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/uuid.js
var uuid = __webpack_require__(33880);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
var property = __webpack_require__(21564);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var ensureType = __webpack_require__(73446);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/arrayUtils.js
var arrayUtils = __webpack_require__(85569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var subclass = __webpack_require__(63863);
;// ../node_modules/@arcgis/core/views/interactive/tooltip/fields/TooltipField.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let p=class extends Accessor/* default */.A{constructor(t){super(t),this.committed=null,this.disabled=!1,this.hidden=!1,this.id=(0,uuid/* generateUUID */.lk)(),this.inputValue=null,this.readOnly=!1}get dirty(){return null!=this.inputValue}get locked(){return null!=this.committed}lock(t){this.inputValue=null,this.committed=t??this.actual}unlock(){this.committed=null,this.inputValue=null}};(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"actual",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"committed",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"createQuantity",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"disabled",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"hidden",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"format",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"id",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"inputValue",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"readOnly",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"suffix",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"title",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"toInputUnits",void 0),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"dirty",null),(0,tslib_es6._)([(0,property/* property */.MZ)()],p.prototype,"locked",null),p=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.fields.TooltipField")],p);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/fields/TooltipFieldElevation.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
let c=class extends p{constructor(t){super(t),this.mode="absolute-height"}normalizeCtorArgs(t){const s=t=>t.inputUnitInfos.verticalLength.unit;return{actual:quantityUtils/* zeroMeters */.r7,createQuantity:(t,o)=>(0,quantityUtils/* createLength */.d_)(t,s(o)),toInputUnits:(t,o)=>(0,quantityUtils/* toUnit */.kM)(t,s(o)),format:(t,o)=>o.formatters.verticalLength(t),suffix:t=>t.inputUnitInfos.verticalLength.abbreviation,title:t=>t.messages.sketch.elevation,...t}}};(0,tslib_es6._)([(0,property/* property */.MZ)()],c.prototype,"mode",void 0),c=(0,tslib_es6._)([(0,subclass/* subclass */.$)("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],c);

;// ../node_modules/@arcgis/core/views/interactive/tooltip/fields/fields.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const fields_p=o=>{const r=t=>t.inputUnitInfos.orientation.unit;return new p({actual:quantityUtils/* zeroDegrees */.IV,createQuantity:(t,e)=>(0,quantityUtils/* createAngle */.Wq)(t,r(e),"geographic"),toInputUnits:({value:e,unit:o,rotationType:a},s)=>{const u=0,f=!0,l=(0,quantityUtils/* convertRotationType */.g2)((0,unitUtils/* convertUnit */.oU)(e,o,"degrees"),a,"geographic"),p=Cyclical/* cyclicalDegrees */.ie.normalize(l,u,f),m=r(s),g=(0,unitUtils/* convertUnit */.oU)(p,"degrees",m);return (0,quantityUtils/* createAngle */.Wq)(g,m,"geographic")},format:(t,e)=>e.formatters.angle(t),suffix:t=>t.inputUnitInfos.orientation.abbreviation,title:t=>t.messages.sketch.orientation,...o})},m=t=>{const e=t=>t.inputUnitInfos.length.unit;return new p({actual:quantityUtils/* zeroMeters */.r7,createQuantity:(t,n)=>(0,quantityUtils/* createLength */.d_)(t,e(n)),toInputUnits:(t,n)=>(0,quantityUtils/* toUnit */.kM)(t,e(n)),format:(t,e)=>e.formatters.length(t),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.distance,...t})},g=t=>new c(t),U=t=>{const e=t=>t.inputUnitInfos.area.unit;return new p({actual:quantityUtils/* zeroSquareMeters */.iT,createQuantity:(t,n)=>(0,quantityUtils/* createArea */.gT)(t,e(n)),toInputUnits:(t,n)=>(0,quantityUtils/* toUnit */.kM)(t,e(n)),format:(t,e)=>e.formatters.area(t),suffix:t=>t.inputUnitInfos.area.abbreviation,title:t=>t.messages.sketch.area,...t})};


/***/ }),

/***/ 27977:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  n: () => (/* binding */ automaticAreaMeasurementUtils_u),
  Y: () => (/* binding */ o)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/quantityUtils.js
var quantityUtils = __webpack_require__(73569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/unitUtils.js
var unitUtils = __webpack_require__(92976);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/earcut.js
var earcut = __webpack_require__(16528);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectVectorToVector.js
var projectVectorToVector = __webpack_require__(42120);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/plane.js
var plane = __webpack_require__(38774);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/triangle.js
var triangle = __webpack_require__(50958);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/measurementUtils.js
var measurementUtils = __webpack_require__(77781);
;// ../node_modules/@arcgis/core/views/support/euclideanAreaMeasurementUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function g(t,o=k()){return j(t,o)}function h(t,o=k()){return j(t,o,!1)}function j(r,g,h=r.hasZ){const j=(0,measurementUtils/* computeEuclideanMeasurementSR */.l)(r.spatialReference),k=(0,unitUtils/* areaUnitFromSpatialReference */.B5)(j);if(null==k)return null;const q=(t,o)=>!(o.length<2)&&((0,vec3.s)(t,o[0],o[1],h&&o[2]||0),!0);let v=0;for(const t of r.rings){const o=t.length;if(o<3)continue;const{positionsWorldCoords:a}=g;for(;a.length<o;)a.push((0,vec3f64.c)());const h=y,k=(0,vec3.s)(d,0,0,0),C=1/o;for(let n=0;n<o;n++){if(!q(h,t[n]))return null;if(!(0,projectVectorToVector/* projectVectorToVector */.F)(h,r.spatialReference,a[n],j))return null;(0,vec3.q)(k,k,a[n],C)}const R=(0,plane/* fromPoints */.Cr)(a[0],a[1],k,(0,plane/* wrap */.LV)());if(0===(0,vec3.m)((0,plane/* normal */.qb)(R)))continue;for(let t=0;t<o;t++)(0,plane/* projectPointLocal */.Z1)(R,k,a[t],a[t]);const V=U(a);for(let t=0;t<V.length;t+=3)v+=(0,triangle/* areaPoints2d */.Fm)(a[V[t]],a[V[t+1]],a[V[t+2]])}return (0,quantityUtils/* createArea */.gT)(v,k)}const y=(0,vec3f64.c)(),d=(0,vec3f64.c)();function k(){return{positionsWorldCoords:[]}}function U(t){return (0,earcut.e)(q(t),[],2)}function q(t){const o=new Float64Array(2*t.length);for(let r=0;r<t.length;++r){const n=t[r],e=2*r;o[e]=n[0],o[e+1]=n[1]}return o}

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry.js
var geometry = __webpack_require__(17639);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/geometryEngine.js
var geometryEngine = __webpack_require__(22724);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectors.js
var projectors = __webpack_require__(12943);
;// ../node_modules/@arcgis/core/geometry/projection/projectPolygonToWGS84ComparableLonLat.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function n({hasZ:s,spatialReference:n,rings:c},f,e=0){const p=(0,projectors/* getWGS84ComparableLonLatProjector */.Yz)(n);if(null==p)return!1;const u=s?o=>o:s=>(0,vec3.s)(t,s[0],s[1],e);for(const o of c){const s=[];for(const r of o){const o=[0,0,e];p(u(r),0,o,0),s.push(o)}f.push(s)}return!0}const t=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/geodesicUtils.js
var geodesicUtils = __webpack_require__(22256);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/geodesicMeasurementUtils.js
var geodesicMeasurementUtils = __webpack_require__(25358);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/SpatialReference.js
var SpatialReference = __webpack_require__(78983);
;// ../node_modules/@arcgis/core/views/support/geodesicAreaMeasurementUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function m(e){const{spatialReference:r}=e;return (0,geodesicMeasurementUtils/* geodesicMeasure */.M)(r,a,i,u,e)}function a(r){return (0,quantityUtils/* createArea */.gT)(Math.abs((0,geodesicUtils/* geodesicAreas */.qy)([r],"square-meters")[0]),"square-meters")}function i(t){try{return (0,quantityUtils/* createArea */.gT)(Math.abs((0,geometryEngine.geodesicArea)(t,"square-meters")),"square-meters")}catch(o){return null}}function u(r){const s=[];return n(r,s)?(0,quantityUtils/* createArea */.gT)(Math.abs((0,geodesicUtils/* geodesicAreas */.qy)([{type:"polygon",rings:s,spatialReference:SpatialReference/* default */.A.WGS84}],"square-meters")[0]),"square-meters"):null}

;// ../node_modules/@arcgis/core/views/support/automaticAreaMeasurementUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function o(o,u,i=k()){if("on-the-ground"===u){const r=m(o);return null!=r?r:h(o,i)}return g(o,i)}function automaticAreaMeasurementUtils_u(e,r=k()){return o(e,"on-the-ground",r)}


/***/ }),

/***/ 36408:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ho: () => (/* binding */ l),
/* harmony export */   I2: () => (/* binding */ d),
/* harmony export */   Kt: () => (/* binding */ m),
/* harmony export */   LS: () => (/* binding */ s),
/* harmony export */   ob: () => (/* binding */ g),
/* harmony export */   t0: () => (/* binding */ p),
/* harmony export */   wF: () => (/* binding */ a)
/* harmony export */ });
/* harmony import */ var _euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(91199);
/* harmony import */ var _geodesicLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(45951);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function p(r,e){return h(_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanLength */ .Ly,_geodesicLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .geodesicLength */ .mh,_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalLength */ .Xg,e,r)}function d(n,t,o){return h(_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanDirectDistanceBetweenPoints */ .Ce,_geodesicLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .geodesicDistanceBetweenPoints */ .Og,_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalDistanceBetweenPoints */ .ll,o,n,t)}function l(n,t,r,e){return h(_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanDirectDistance */ .vp,_geodesicLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .geodesicDistance */ .n3,_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalDistance */ .sT,e,n,t,r)}function s(n,t,e){return h(_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalDistanceBetweenPoints */ .ll,_geodesicLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .geodesicDistanceBetweenPoints */ .Og,_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalDistanceBetweenPoints */ .ll,e,n,t)}function a(n,t,r,e){return h(_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalDistance */ .sT,_geodesicLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .geodesicDistance */ .n3,_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalDistance */ .sT,e,n,t,r)}function g(r){return h(_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanLength */ .Ly,_geodesicLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .geodesicLength */ .mh,_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalLength */ .Xg,"on-the-ground",r)}function m(n,t){return h(_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalDistanceBetweenPoints */ .ll,_geodesicLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .geodesicDistanceBetweenPoints */ .Og,_euclideanLengthMeasurementUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .euclideanHorizontalDistanceBetweenPoints */ .ll,"on-the-ground",n,t)}function h(n,t,r,e,...o){if("on-the-ground"===e){const n=t.apply(void 0,o);return null!=n?n:r.apply(void 0,o)}return n.apply(void 0,o)}


/***/ }),

/***/ 91199:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ce: () => (/* binding */ z),
/* harmony export */   Ly: () => (/* binding */ s),
/* harmony export */   Re: () => (/* binding */ R),
/* harmony export */   Xg: () => (/* binding */ f),
/* harmony export */   cL: () => (/* binding */ d),
/* harmony export */   e5: () => (/* binding */ y),
/* harmony export */   ll: () => (/* binding */ m),
/* harmony export */   sT: () => (/* binding */ Z),
/* harmony export */   vp: () => (/* binding */ x)
/* harmony export */ });
/* unused harmony exports elevation, euclideanDistance, euclideanDistanceBetweenPoints, verticalDistance */
/* harmony import */ var _core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(73569);
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(92976);
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21839);
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(22279);
/* harmony import */ var _geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(42120);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(87926);
/* harmony import */ var _measurementUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(77781);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var a;function s(n){return p(n,a.Direct)}function f(n){return p(n,a.Horizontal)}function p(r,e){const{hasZ:i,spatialReference:l}=r,o=(0,_measurementUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .computeEuclideanMeasurementSR */ .l)(l);let c=0;const s=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .lengthUnitFromSpatialReference */ ._H)(o);if(null==s)return null;const f=e===a.Direct?x:Z;for(const n of r.paths){if(n.length<2)continue;const t=n.length-1;for(let r=0;r<t;++r){const t=n[r];D[0]=t[0],D[1]=t[1],D[2]=i?t[2]:0;const e=n[r+1];H[0]=e[0],H[1]=e[1],H[2]=i?e[2]:0;const o=f(D,H,l);if(null==o)return null;c+=o.value}}return (0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .createLength */ .d_)(c,s)}function h(n,t){const{spatialReference:r}=n;return c(r,t.spatialReference)?(D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,H[0]=t.x,H[1]=t.y,H[2]=t.hasZ?t.z:0,v(D,H,r)):null}function z(n,t){const{spatialReference:r}=n;return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .equals */ .aI)(r,t.spatialReference)?(D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,H[0]=t.x,H[1]=t.y,H[2]=t.hasZ?t.z:0,x(D,H,r)):null}function m(n,t){const{spatialReference:r}=n;return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .equals */ .aI)(r,t.spatialReference)?(D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,H[0]=t.x,H[1]=t.y,H[2]=t.hasZ?t.z:0,Z(D,H,r)):null}function y(n,t){const{spatialReference:r}=n;return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__/* .equals */ .aI)(r,t.spatialReference)?(D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,H[0]=t.x,H[1]=t.y,H[2]=t.hasZ?t.z:0,d(D,H,r)):null}function R(n){return D[0]=n.x,D[1]=n.y,D[2]=n.hasZ?n.z:0,g(D,n.spatialReference)}function v(t,r,e){const i=V(t,r,e);return null!=i?{direct:n(i.direct,i.unit),horizontal:n(i.horizontal,i.unit),vertical:n(i.vertical,i.unit)}:null}function x(t,r,e){const i=V(t,r,e,a.Direct);return null!=i?(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .createLength */ .d_)(i.direct,i.unit):null}function Z(t,r,e){const i=V(t,r,e,a.Horizontal);return null!=i?(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .createLength */ .d_)(i.horizontal,i.unit):null}function j(t,r,e){const i=V(t,r,e,a.Vertical);return null!=i?n(Math.abs(i.verticalSigned),i.unit):null}function d(t,r,e){const i=V(t,r,e,a.Vertical);return null!=i?(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .createLength */ .d_)(i.verticalSigned,i.unit):null}function g(t,e){const i=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .verticalLengthUnitFromSpatialReference */ .mq)(e);return null!=i?(0,_core_quantityUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .createLength */ .d_)(t[2],i):null}function V(n,r,l,c){const s=(0,_measurementUtils_js__WEBPACK_IMPORTED_MODULE_6__/* .computeEuclideanMeasurementSR */ .l)(l),f=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .lengthUnitFromSpatialReference */ ._H)(s);if(null==f)return null;const p=r[2]-n[2];if(c===a.Vertical)return{verticalSigned:p,unit:f};if(!(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__/* .projectVectorToVector */ .F)(n,l,U,s)||!(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__/* .projectVectorToVector */ .F)(r,l,S,s))return null;if(c===a.Direct){return{direct:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.o)(S,U),unit:f}}if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.s)(b,n[0],n[1],r[2]),!(0,_geometry_projection_projectVectorToVector_js__WEBPACK_IMPORTED_MODULE_4__/* .projectVectorToVector */ .F)(b,l,b,s))return null;const h=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.o)(b,S);if(c===a.Horizontal)return{horizontal:h,unit:f};return{direct:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__.o)(S,U),horizontal:h,vertical:Math.abs(p),unit:f}}!function(n){n[n.Direct=0]="Direct",n[n.Horizontal=1]="Horizontal",n[n.Vertical=2]="Vertical"}(a||(a={}));const D=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),H=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),U=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),S=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)(),b=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__.c)();


/***/ }),

/***/ 45951:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  n3: () => (/* binding */ p),
  Og: () => (/* binding */ a),
  mh: () => (/* binding */ u)
});

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/quantityUtils.js
var quantityUtils = __webpack_require__(73569);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3f64.js
var vec3f64 = __webpack_require__(22279);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/geometryEngine.js
var geometryEngine = __webpack_require__(22724);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/chunks/vec3.js
var vec3 = __webpack_require__(21839);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectors.js
var projectors = __webpack_require__(12943);
;// ../node_modules/@arcgis/core/geometry/projection/projectPolylineToWGS84ComparableLonLat.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function projectPolylineToWGS84ComparableLonLat_r({hasZ:s,spatialReference:r,paths:n},f,e=0){const p=(0,projectors/* getWGS84ComparableLonLatProjector */.Yz)(r);if(null==p)return!1;const u=s?o=>o:s=>(0,vec3.s)(c,s[0],s[1],e);for(const o of n){const s=[];for(const t of o){const o=[0,0,e];p(u(t),0,o,0),s.push(o)}f.push(s)}return!0}const c=(0,vec3f64.c)();

// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/projection/projectVectorToWGS84ComparableLonLat.js
var projectVectorToWGS84ComparableLonLat = __webpack_require__(2330);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/geodesicUtils.js
var geodesicUtils = __webpack_require__(22256);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js
var spatialReferenceUtils = __webpack_require__(87926);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/support/geodesicMeasurementUtils.js
var geodesicMeasurementUtils = __webpack_require__(25358);
;// ../node_modules/@arcgis/core/views/support/geodesicLengthMeasurementUtils.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function u(e){const{spatialReference:t}=e;return (0,geodesicMeasurementUtils/* geodesicMeasure */.M)(t,y,d,h,e)}function a(e,t){if(!(0,spatialReferenceUtils/* equals */.aI)(e.spatialReference,t.spatialReference))return null;const{spatialReference:r}=e;return U[0]=e.x,U[1]=e.y,U[2]=e.hasZ?e.z:0,x[0]=t.x,x[1]=t.y,x[2]=t.hasZ?t.z:0,p(U,x,r)}function p(e,t,r){return (0,geodesicMeasurementUtils/* geodesicMeasure */.M)(r,l,g,j,e,t,r)}function l(t,r,n){return (0,quantityUtils/* createLength */.d_)((0,geodesicUtils/* inverseGeodeticSolver */._3)(L,t,r,n).distance,"meters")}function g(t,n,o){return (0,quantityUtils/* createLength */.d_)((0,geometryEngine.geodesicLength)(R(t,n,o),"meters"),"meters")}function j(t,r,n){return (0,projectVectorToWGS84ComparableLonLat/* projectVectorToWGS84ComparableLonLat */.H)(t,n,b)&&(0,projectVectorToWGS84ComparableLonLat/* projectVectorToWGS84ComparableLonLat */.H)(r,n,z)?(0,quantityUtils/* createLength */.d_)((0,geodesicUtils/* inverseGeodeticSolver */._3)(L,b,z).distance,"meters"):null}function y(t){return (0,quantityUtils/* createLength */.d_)((0,geodesicUtils/* geodesicLengths */.l1)([t],"meters")[0],"meters")}function d(t){return (0,quantityUtils/* createLength */.d_)((0,geometryEngine.geodesicLength)(t,"meters"),"meters")}function h(t){const r=[];if(!projectPolylineToWGS84ComparableLonLat_r(t,r))return null;let o=0;for(const e of r){let t=0;for(let r=1;r<e.length;++r)t+=(0,geodesicUtils/* inverseGeodeticSolver */._3)(L,e[r-1],e[r]).distance;o+=t}return (0,quantityUtils/* createLength */.d_)(o,"meters")}function R(e,t,r){return{type:"polyline",spatialReference:r,paths:[[[...e],[...t]]]}}const L=new geodesicUtils/* InverseGeodeticSolverResult */.Zj,U=(0,vec3f64.c)(),x=(0,vec3f64.c)(),b=(0,vec3f64.c)(),z=(0,vec3f64.c)();


/***/ }),

/***/ 25358:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   M: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(22256);
/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(87926);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function r(r,t,i,s,...l){return (0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isGeographic */ .EA)(r)&&(0,_geometry_support_geodesicUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isSupported */ .TT)(r)?t.apply(void 0,l):(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .isWebMercator */ .K8)(r)?i.apply(void 0,l):s.apply(void 0,l)}


/***/ }),

/***/ 77781:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(97303);
/* harmony import */ var _geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32937);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function i(i){const m=(0,_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .getSphericalPCPF */ .lO)(i),n=m===_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .SphericalECEFSpatialReference */ .GD?_geometry_spatialReferenceEllipsoidUtils_js__WEBPACK_IMPORTED_MODULE_1__/* .WGS84ECEFSpatialReference */ .Y0:m;return (0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_0__.canProjectWithoutEngine)(i,n)?n:i}


/***/ }),

/***/ 89423:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   g: () => (/* binding */ h)
/* harmony export */ });
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(85569);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(539);
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(86942);
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16541);
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21946);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(41746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const _=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getLogger("esri.views.webgl.BufferObject");class h{static createIndex(e,t,r){return new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.ELEMENT_ARRAY_BUFFER,t,r)}static createVertex(e,t,r){return new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.ARRAY_BUFFER,t,r)}static createUniform(e,t,r){if(e.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .ContextType */ .EL.WEBGL2)throw new Error("Uniform buffers are supported in WebGL2 only!");return new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.UNIFORM_BUFFER,t,r)}static createPixelPack(e,t=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .Usage */ ._U.STREAM_READ,r){if(e.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .ContextType */ .EL.WEBGL2)throw new Error("Pixel pack buffers are supported in WebGL2 only!");const i=new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.PIXEL_PACK_BUFFER,t);return r&&i.setSize(r),i}static createPixelUnpack(e,t=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .Usage */ ._U.STREAM_DRAW,r){if(e.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .ContextType */ .EL.WEBGL2)throw new Error("Pixel unpack buffers are supported in WebGL2 only!");return new h(e,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.PIXEL_UNPACK_BUFFER,t,r)}constructor(e,t,r,i){this._context=e,this.bufferType=t,this.usage=r,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ResourceType */ .vt.BufferObject,this),this._glName=this._context.gl.createBuffer(),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__/* .checkWebGLError */ .Y2)(this._context.gl),i&&this.setData(i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteLength(){return this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.ELEMENT_ARRAY_BUFFER?this._indexType===_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .DataType */ .pe.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.ELEMENT_ARRAY_BUFFER||this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ResourceType */ .vt.BufferObject,this),this._context=null}else this._glName&&_.warn("Leaked WebGL buffer object")}setSize(e,t=null){if(e<=0&&_.error("Buffer size needs to be positive!"),this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .DataType */ .pe.UNSIGNED_SHORT:e*=2;break;case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .DataType */ .pe.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.ELEMENT_ARRAY_BUFFER&&((0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__/* .isUint16Array */ .jq)(e)&&(t/=2,this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .DataType */ .pe.UNSIGNED_SHORT),(0,_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_2__/* .isUint32Array */ .XJ)(e)&&(t/=4,this._indexType=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .DataType */ .pe.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e,t=null){this._size=e;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const i=this._context.gl;null!=t?i.bufferData(this.bufferType,t,this.usage):i.bufferData(this.bufferType,e,this.usage),(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__/* .checkWebGLError */ .Y2)(i),this._isVAOAware&&this._context.bindVAO(r)}setSubData(e,t,r,i){if(!e)return;(t<0||t*e.BYTES_PER_ELEMENT>=this.byteLength)&&_.error("offset is out of range!"),r>=i&&_.error("end must be bigger than start!"),(t+(i-r))*e.BYTES_PER_ELEMENT>this.byteLength&&_.error("An attempt to write beyond the end of the buffer!");const o=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const a=this._context.gl;if(this._context.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .ContextType */ .EL.WEBGL2)a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,r,i-r);else{const s=0===r&&i===e.length?e:e.subarray(r,i);a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,s)}(0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__/* .checkWebGLError */ .Y2)(a),this._isVAOAware&&this._context.bindVAO(o)}getSubData(e,t=0,r,i){if(this._context.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .ContextType */ .EL.WEBGL2)return void _.error("Get buffer subdata is supported in WebGL2 only!");if(r<0||i<0)return void _.error("Problem getting subdata: offset and length were less than zero!");const s=E(e)?e.BYTES_PER_ELEMENT:1;if(s*((r??0)+(i??0))>e.byteLength)return void _.error("Problem getting subdata: offset and length exceeded destination size!");t+s*(i??0)>this.byteLength&&_.warn("Potential problem getting subdata: requested data exceeds buffer size!");const a=this._context.gl;this._context.bindBuffer(this,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.COPY_READ_BUFFER),a.getBufferSubData(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.COPY_READ_BUFFER,t,e,r,i),this._context.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.COPY_READ_BUFFER)}async getSubDataAsync(e,t=0,r,i){this._context.type===_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .ContextType */ .EL.WEBGL2?(await this._context.clientWaitAsync(),this.getSubData(e,t,r,i)):_.error("Get buffer subdata is supported in WebGL2 only!")}}function E(t){return (0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .isArrayLike */ .Xj)(t)}


/***/ }),

/***/ 84852:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   H: () => (/* binding */ E)
/* harmony export */ });
/* unused harmony export ensureAttachmentMaxSize */
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39831);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(539);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(6267);
/* harmony import */ var _BufferObject_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(89423);
/* harmony import */ var _checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(16541);
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(21946);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(41746);
/* harmony import */ var _GLObjectType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(12966);
/* harmony import */ var _Renderbuffer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(74416);
/* harmony import */ var _Texture_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(6940);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const x=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getLogger("esri.views.webgl.FramebufferObject");class E{constructor(t,e,i=null){this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ResourceType */ .vt.FramebufferObject,this);const r=g(e)?e:new _Texture_js__WEBPACK_IMPORTED_MODULE_8__/* .Texture */ .g(this._context,e);if(this._colorAttachments.set(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0,r),this._validateTextureDescriptor(r.descriptor),this._validateColorAttachmentPoint(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0),null!=i)if(b(i))this._context.capabilities.depthTexture||console.error("Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2"),this._depthStencilTexture=g(i)?i:new _Texture_js__WEBPACK_IMPORTED_MODULE_8__/* .Texture */ .g(this._context,i),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=A(i)?i:new _Renderbuffer_js__WEBPACK_IMPORTED_MODULE_7__/* .Renderbuffer */ .l(this._context,i);this._depthStencilBuffer=t,this._validateRenderBufferDescriptor(t.descriptor)}}dispose(){if(0===this._colorAttachments.size&&!this._glName)return;const t=this._context.getBoundFramebufferObject();if(this._colorAttachments.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ResourceType */ .vt.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0)}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0);return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0);return t?.descriptor?.height??0}get gpuMemoryUsage(){return[...this._colorAttachments].reduce(((t,[e,i])=>t+i.gpuMemoryUsage),this.depthStencil?.gpuMemoryUsage??0)}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&g(e)?e:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;this._validateTextureDescriptor(i),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0){const e=this._colorAttachments.get(t);if(e){if(this._initialized){const e=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t),this._context.bindFramebuffer(e)}return this._colorAttachments.delete(t),e}}setColorTextureTarget(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0){const i=this._colorAttachments.get(e);i&&this._framebufferTexture2D(i.glName,e,t)}attachDepthStencil(t){if(t)switch(t.type){case _GLObjectType_js__WEBPACK_IMPORTED_MODULE_6__/* .GLObjectType */ .p.Texture:return this._attachDepthStencilTexture(t);case _GLObjectType_js__WEBPACK_IMPORTED_MODULE_6__/* .GLObjectType */ .p.RenderBuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const e=t.descriptor;e.pixelFormat!==_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .PixelFormat */ .Ab.DEPTH_STENCIL&&e.pixelFormat!==_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .PixelFormat */ .Ab.DEPTH24_STENCIL8&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),e.dataType!==_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .PixelType */ .ld.UNSIGNED_INT_24_8&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .DepthStencilAttachment */ .nI)),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .DepthStencilAttachment */ .nI)),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(this._validateRenderBufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl,r=this._getGLAttachmentPoint(e);i.framebufferRenderbuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .FramebufferTarget */ .R.FRAMEBUFFER,r,i.RENDERBUFFER,t.glName)}this._depthStencilBuffer=t}detachDepthStencilBuffer(){const t=this._depthStencilBuffer;if(t&&this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=this._getGLAttachmentPoint(t.descriptor);e.framebufferRenderbuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .FramebufferTarget */ .R.FRAMEBUFFER,i,e.RENDERBUFFER,null)}return this._depthStencilBuffer=null,t}copyToTexture(t,e,i,r,s,h,n){(t<0||e<0||s<0||h<0)&&console.error("Offsets cannot be negative!"),(i<=0||r<=0)&&console.error("Copy width and height must be greater than zero!");const o=n.descriptor;n.descriptor.target!==_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .TextureType */ .Ap.TEXTURE_2D&&console.error("Texture target must be TEXTURE_2D!"),(null==o?.width||null==o?.height||t+i>this.width||e+r>this.height||s+i>o.width||h+r>o.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");const c=this._context,a=c.bindTexture(n,_Texture_js__WEBPACK_IMPORTED_MODULE_8__/* .Texture */ .g.TEXTURE_UNIT_FOR_UPDATES);c.setActiveTexture(_Texture_js__WEBPACK_IMPORTED_MODULE_8__/* .Texture */ .g.TEXTURE_UNIT_FOR_UPDATES),c.bindFramebuffer(this),c.gl.copyTexSubImage2D(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .TextureType */ .Ap.TEXTURE_2D,0,s,h,t,e,i,r),c.bindTexture(a,_Texture_js__WEBPACK_IMPORTED_MODULE_8__/* .Texture */ .g.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,i,r,s,h,n){(i<=0||r<=0)&&console.error("Copy width and height must be greater than zero!"),n||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,i,r,s,h,n)}async readPixelsAsync(t,e,h,n,o,c,a){if(this._context.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_4__/* .ContextType */ .EL.WEBGL2)return (0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__/* .webglDebugEnabled */ .en)()&&console.warn("Attempting to read pixels using pixel buffer object without WebGL2"),void this.readPixels(t,e,h,n,o,c,a);const u=this._context.gl,_=_BufferObject_js__WEBPACK_IMPORTED_MODULE_2__/* .BufferObject */ .g.createPixelPack(this._context,_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .Usage */ ._U.STREAM_READ,a.byteLength);this._context.bindBuffer(_),this._context.bindFramebuffer(this),u.readPixels(t,e,h,n,o,c,0),this._context.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .BufferType */ .NZ.PIXEL_PACK_BUFFER),await _.getSubDataAsync(a),_.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const i={width:t,height:e};S(i,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(i.width,i.height))),this._depthStencilTexture?.resize(i.width,i.height),this._initialized&&(S(i,this._context.parameters.maxRenderbufferSize),this._depthStencilBuffer?.resize(i.width,i.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .FramebufferTarget */ .R.FRAMEBUFFER){const e=this._context.gl;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const i=e.createFramebuffer();if(e.bindFramebuffer(t,i),this._colorAttachments.forEach(((e,i)=>this._framebufferTexture2D(e.glName,i,R(e),t))),this._depthStencilBuffer){const i=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);e.framebufferRenderbuffer(t,i,e.RENDERBUFFER,this._depthStencilBuffer.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,e.DEPTH_STENCIL_ATTACHMENT,R(this._depthStencilTexture),t);if((0,_checkWebGLError_js__WEBPACK_IMPORTED_MODULE_3__/* .webglDebugEnabled */ .en)()){e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!")}this._glName=i,this._initialized=!0}_framebufferTexture2D(t,e=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0,i=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .TextureType */ .Ap.TEXTURE_2D,r=_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .FramebufferTarget */ .R.FRAMEBUFFER,s=0){this._context.gl.framebufferTexture2D(r,e,i,t,s)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);t.framebufferRenderbuffer(_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .FramebufferTarget */ .R.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthStencilBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__/* .disposeMaybe */ .WD)(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_9__/* .disposeMaybe */ .WD)(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .TextureType */ .Ap.TEXTURE_2D&&t.target!==_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .TextureType */ .Ap.TEXTURE_CUBE_MAP&&console.error("Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!"),S(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderBufferDescriptor(t){S(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error("Attachment size must match framebuffer size!"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .RenderbufferFormat */ .yQ.DEPTH_COMPONENT16:case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .RenderbufferFormat */ .yQ.DEPTH_COMPONENT24:case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .RenderbufferFormat */ .yQ.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .RenderbufferFormat */ .yQ.DEPTH24_STENCIL8:case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .RenderbufferFormat */ .yQ.DEPTH32F_STENCIL8:case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .RenderbufferFormat */ .yQ.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case _enums_js__WEBPACK_IMPORTED_MODULE_5__/* .RenderbufferFormat */ .yQ.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(e){if(-1===E._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;E._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS)}else E._MAX_COLOR_ATTACHMENTS=1}const i=e-_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .ColorAttachment */ .Nm.COLOR_ATTACHMENT0;i+1>E._MAX_COLOR_ATTACHMENTS&&_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.getLogger("esri.views.webgl.FrameBufferObject").error("esri.FrameBufferObject",`illegal attachment point for color attachment: ${i+1}. Implementation supports up to ${E._MAX_COLOR_ATTACHMENTS} color attachments`)}}function g(t){return null!=t&&"type"in t&&t.type===_GLObjectType_js__WEBPACK_IMPORTED_MODULE_6__/* .GLObjectType */ .p.Texture}function A(t){return null!=t&&"type"in t&&t.type===_GLObjectType_js__WEBPACK_IMPORTED_MODULE_6__/* .GLObjectType */ .p.RenderBuffer}function b(t){return g(t)||null!=t&&"pixelFormat"in t}function S(t,e){const i=Math.max(t.width,t.height);if(i>e){x.warn(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const r=e/i;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),!1}return!0}function R(t){return t.descriptor.target===_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .TextureType */ .Ap.TEXTURE_CUBE_MAP?_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .TextureType */ .Ap.TEXTURE_CUBE_MAP_POSITIVE_X:_enums_js__WEBPACK_IMPORTED_MODULE_5__/* .TextureType */ .Ap.TEXTURE_2D}E._MAX_COLOR_ATTACHMENTS=-1;


/***/ }),

/***/ 12966:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   p: () => (/* binding */ e)
/* harmony export */ });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
var e;!function(e){e[e.Texture=0]="Texture",e[e.RenderBuffer=1]="RenderBuffer"}(e||(e={}));


/***/ }),

/***/ 74416:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   l: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _contextUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21946);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41746);
/* harmony import */ var _GLObjectType_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12966);
/* harmony import */ var _RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(94669);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(s,i){this._context=s,this._descriptor=i,this.type=_GLObjectType_js__WEBPACK_IMPORTED_MODULE_2__/* .GLObjectType */ .p.RenderBuffer,this._context.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .ResourceType */ .vt.Renderbuffer,this);const n=this._context.gl;this.glName=n.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:o,height:h,internalFormat:c,multisampled:f}=i;if(f){if(this._context.type!==_contextUtils_js__WEBPACK_IMPORTED_MODULE_0__/* .ContextType */ .EL.WEBGL2)throw new Error("Multisampled renderbuffers are not supported in WebGL1!");n.renderbufferStorageMultisample(n.RENDERBUFFER,this.samples,c,o,h)}else n.renderbufferStorage(n.RENDERBUFFER,c,o,h)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get gpuMemoryUsage(){return (0,_RenderbufferDescriptor_js__WEBPACK_IMPORTED_MODULE_3__/* .estimateMemory */ .e)(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;if(this._context.bindRenderbuffer(this),r.multisampled){s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height)}else s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .ResourceType */ .vt.Renderbuffer,this),this._context=null)}}


/***/ }),

/***/ 94669:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   e: () => (/* binding */ h),
/* harmony export */   q: () => (/* binding */ i)
/* harmony export */ });
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(19282);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class i{constructor(t,i,h=i){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=!1,this.samples=1}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*(0,_Util_js__WEBPACK_IMPORTED_MODULE_0__/* .getBytesPerElementFormat */ .IB)(i.internalFormat)}


/***/ }),

/***/ 6940:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {


// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  g: () => (/* binding */ T)
});

// UNUSED EXPORTS: clearUnestimatedTextures

// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/Error.js
var Error = __webpack_require__(98849);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/has.js
var has = __webpack_require__(39831);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/core/mathUtils.js
var mathUtils = __webpack_require__(92504);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/checkWebGLError.js
var checkWebGLError = __webpack_require__(16541);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/contextUtils.js
var contextUtils = __webpack_require__(21946);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/enums.js
var enums = __webpack_require__(41746);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/GLObjectType.js
var GLObjectType = __webpack_require__(12966);
// EXTERNAL MODULE: ../node_modules/@arcgis/core/views/webgl/TextureDescriptor.js
var TextureDescriptor = __webpack_require__(45758);
;// ../node_modules/@arcgis/core/views/webgl/ValidatedTextureDescriptor.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class a extends TextureDescriptor/* TextureDescriptor */.R{constructor(t,a){switch(super(),this.context=t,Object.assign(this,a),this.internalFormat){case enums/* SizedPixelFormat */.H0.R16F:case enums/* SizedPixelFormat */.H0.R16I:case enums/* SizedPixelFormat */.H0.R16UI:case enums/* SizedPixelFormat */.H0.R32F:case enums/* SizedPixelFormat */.H0.R32I:case enums/* SizedPixelFormat */.H0.R32UI:case enums/* SizedPixelFormat */.H0.R8_SNORM:case enums/* SizedPixelFormat */.H0.R8:case enums/* SizedPixelFormat */.H0.R8I:case enums/* SizedPixelFormat */.H0.R8UI:this.pixelFormat=enums/* PixelFormat */.Ab.RED}}static validate(s,e){return new a(s,e)}}

;// ../node_modules/@arcgis/core/views/webgl/Texture.js
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const u=4;let T=class{constructor(e,i=null,o=null){if(this.type=GLObjectType/* GLObjectType */.p.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,o=i;else{const r=a.validate(e,i);if(!r)throw new Error/* default */.A("Texture descriptor invalid");this._descriptor=r}if(this._descriptor.context.type!==contextUtils/* ContextType */.EL.WEBGL2&&(this._descriptor.isImmutable&&(this._descriptor.isImmutable=!1),R(this._descriptor.target)))throw new Error/* default */.A("3D and array textures are not supported in WebGL1");this._descriptor.target===enums/* TextureType */.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(o):this.setData(o)}get glName(){return this._glName}get descriptor(){return this._descriptor}get gpuMemoryUsage(){return P.delete(this),(0,TextureDescriptor/* estimateMemory */.e)(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty}dispose(){this._glName&&this._descriptor.context.instanceCounter.decrement(enums/* ResourceType */.vt.Texture,this),this._descriptor.context.gl&&this._glName&&(this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(e,i){const r=this._descriptor;if(r.width!==e||r.height!==i){if(this._wasImmutablyAllocated)throw new Error/* default */.A("Immutable textures can't be resized!");r.width=e,r.height=i,this._descriptor.target===enums/* TextureType */.Ap.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}_setDataCubeMap(t=null){for(let e=enums/* TextureType */.Ap.TEXTURE_CUBE_MAP_POSITIVE_X;e<=enums/* TextureType */.Ap.TEXTURE_CUBE_MAP_NEGATIVE_Z;e++)this._setData(t,e)}setData(t){this._setData(t)}_setData(e,r){if(!this._descriptor.context?.gl)return;const s=this._descriptor.context.gl;(0,checkWebGLError/* checkWebGLError */.Y2)(s),this._glName||(this._glName=s.createTexture(),this._glName&&this._descriptor.context.instanceCounter.increment(enums/* ResourceType */.vt.Texture,this)),void 0===e&&(e=null);const a=this._descriptor,n=r??a.target,h=R(n);null===e&&(a.width=a.width||u,a.height=a.height||u,h&&(a.depth=a.depth??1));const p=this._descriptor.context.bindTexture(this,T.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(T.TEXTURE_UNIT_FOR_UPDATES),g(this._descriptor.context,a),this._configurePixelStorage(),(0,checkWebGLError/* checkWebGLError */.Y2)(s);const l=this._deriveInternalFormat();if(D(e)){let t="width"in e?e.width:e.codedWidth,r="height"in e?e.height:e.codedHeight;const o=1;e instanceof HTMLVideoElement&&(t=e.videoWidth,r=e.videoHeight),a.width&&a.height,h&&a.depth,a.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(n,l,a.hasMipmap,t,r,o),this._texImage(n,0,l,t,r,o,e),(0,checkWebGLError/* checkWebGLError */.Y2)(s),a.hasMipmap&&this.generateMipmap(),a.width||(a.width=t),a.height||(a.height=r),h&&!a.depth&&(a.depth=o)}else{const{width:r,height:o,depth:p}=a;if(null==r||null==o)throw new Error/* default */.A("Width and height must be specified!");if(h&&null==p)throw new Error/* default */.A("Depth must be specified!");if(a.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(n,l,a.hasMipmap,r,o,p),A(e)){const i=e.levels,h=b(n,r,o,p),d=Math.min(h-1,i.length-1);null!=this._descriptor.context.gl2?s.texParameteri(a.target,this._descriptor.context.gl2.TEXTURE_MAX_LEVEL,d):a.hasMipmap=a.hasMipmap&&h===i.length;const c=l;if(!w(c))throw new Error/* default */.A("Attempting to use compressed data with an uncompressed format!");this._forEachMipmapLevel(((t,e,r,s)=>{const o=i[Math.min(t,i.length-1)];this._compressedTexImage(n,t,c,e,r,s,o)}),d)}else this._texImage(n,0,l,r,o,p,e),(0,checkWebGLError/* checkWebGLError */.Y2)(s),a.hasMipmap&&this.generateMipmap()}x(s,this._descriptor),E(s,this._descriptor),f(this._descriptor.context,this._descriptor),(0,checkWebGLError/* checkWebGLError */.Y2)(s),this._descriptor.context.bindTexture(p,T.TEXTURE_UNIT_FOR_UPDATES)}updateData(e,i,r,s,o,a,n=0){a||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const h=this._descriptor.context.gl,p=this._descriptor.context.gl2,l=this._descriptor,d=this._deriveInternalFormat(),{pixelFormat:c,dataType:_,target:m,isImmutable:u}=l;if(u&&!this._wasImmutablyAllocated)throw new Error/* default */.A("Cannot update immutable texture before allocation!");const g=this._descriptor.context.bindTexture(this,T.TEXTURE_UNIT_FOR_UPDATES,!0);if((i<0||r<0||s>l.width||o>l.height||i+s>l.width||r+o>l.height)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage(),n){if(!p)return void console.error("Webgl2 must be enabled to use dataRowOffset!");h.pixelStorei(p.UNPACK_SKIP_ROWS,n)}if(D(a)?p?p.texSubImage2D(m,e,i,r,s,o,c,_,a):h.texSubImage2D(m,e,i,r,c,_,a):A(a)?h.compressedTexSubImage2D(m,e,i,r,s,o,d,a.levels[e]):h.texSubImage2D(m,e,i,r,s,o,c,_,a),n){if(!p)return void console.error("Webgl2 must be enabled to use dataRowOffset!");h.pixelStorei(p.UNPACK_SKIP_ROWS,0)}this._descriptor.context.bindTexture(g,T.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(e,i,r,s,o,a,n,h){h||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const p=this._descriptor.context.gl2;if(null==p)throw new Error/* default */.A("3D textures are not supported in WebGL1");const l=this._descriptor,d=this._deriveInternalFormat(),{pixelFormat:c,dataType:_,isImmutable:m,target:u}=l;if(m&&!this._wasImmutablyAllocated)throw new Error/* default */.A("Cannot update immutable texture before allocation!");R(u)||console.warn("Attempting to set 3D texture data on a non-3D texture");const g=this._descriptor.context.bindTexture(this,T.TEXTURE_UNIT_FOR_UPDATES);if(this._descriptor.context.setActiveTexture(T.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||s<0||o>l.width||a>l.height||n>l.depth||i+o>l.width||r+a>l.height||s+n>l.depth)&&console.error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage(),A(h))h=h.levels[e],p.compressedTexSubImage3D(u,e,i,r,s,o,a,n,d,h);else{const t=h;p.texSubImage3D(u,e,i,r,s,o,a,n,c,_,t)}this._descriptor.context.bindTexture(g,T.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const e=this._descriptor;if(!e.hasMipmap){if(this._wasImmutablyAllocated)throw new Error/* default */.A("Cannot add mipmaps to immutable texture after allocation");e.hasMipmap=!0,this._samplingModeDirty=!0,g(this._descriptor.context,e)}e.samplingMode===enums/* TextureSamplingMode */.Cj.LINEAR?(this._samplingModeDirty=!0,e.samplingMode=enums/* TextureSamplingMode */.Cj.LINEAR_MIPMAP_NEAREST):e.samplingMode===enums/* TextureSamplingMode */.Cj.NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=enums/* TextureSamplingMode */.Cj.NEAREST_MIPMAP_NEAREST);const i=this._descriptor.context.bindTexture(this,T.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(T.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.gl.generateMipmap(e.target),this._descriptor.context.bindTexture(i,T.TEXTURE_UNIT_FOR_UPDATES)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,g(this._descriptor.context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._descriptor.context.gl,e=this._descriptor;this._samplingModeDirty&&(x(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(E(t,e),this._wrapModeDirty=!1)}_deriveInternalFormat(){if(this._descriptor.context.type===contextUtils/* ContextType */.EL.WEBGL1)return this._descriptor.internalFormat=this._descriptor.pixelFormat;if(null!=this._descriptor.internalFormat)return this._descriptor.internalFormat===enums/* PixelFormat */.Ab.DEPTH_STENCIL&&(this._descriptor.internalFormat=enums/* PixelFormat */.Ab.DEPTH24_STENCIL8),this._descriptor.internalFormat;switch(this._descriptor.dataType){case enums/* PixelType */.ld.FLOAT:switch(this._descriptor.pixelFormat){case enums/* PixelFormat */.Ab.RGBA:return this._descriptor.internalFormat=enums/* SizedPixelFormat */.H0.RGBA32F;case enums/* PixelFormat */.Ab.RGB:return this._descriptor.internalFormat=enums/* SizedPixelFormat */.H0.RGB32F;default:throw new Error/* default */.A("Unable to derive format")}case enums/* PixelType */.ld.UNSIGNED_BYTE:switch(this._descriptor.pixelFormat){case enums/* PixelFormat */.Ab.RGBA:return this._descriptor.internalFormat=enums/* SizedPixelFormat */.H0.RGBA8;case enums/* PixelFormat */.Ab.RGB:return this._descriptor.internalFormat=enums/* SizedPixelFormat */.H0.RGB8}}return this._descriptor.internalFormat=this._descriptor.pixelFormat===enums/* PixelFormat */.Ab.DEPTH_STENCIL?enums/* PixelFormat */.Ab.DEPTH24_STENCIL8:this._descriptor.pixelFormat}_configurePixelStorage(){const t=this._descriptor.context.gl,{unpackAlignment:e,flipped:i,preMultiplyAlpha:r}=this._descriptor;t.pixelStorei(t.UNPACK_ALIGNMENT,e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i?1:0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r?1:0)}_texStorage(e,i,r,s,o,a){const n=this._descriptor.context.gl2;if(null==n)throw new Error/* default */.A("Immutable textures are not supported in WebGL1");if(!M(i))throw new Error/* default */.A("Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const h=r?b(e,s,o,a):1;if(R(e)){if(null==a)throw new Error/* default */.A("Missing depth dimension for 3D texture upload");n.texStorage3D(e,h,i,s,o,a)}else n.texStorage2D(e,h,i,s,o);this._wasImmutablyAllocated=!0}_texImage(e,i,s,o,a,n,h){const p=this._descriptor.context.gl,l=R(e),{isImmutable:d,pixelFormat:c,dataType:_}=this._descriptor,m=this._descriptor.context.type===contextUtils/* ContextType */.EL.WEBGL2,u=m?p:null;if(m||!D(h))if(d){if(null!=h){const r=h;if(l){if(null==n)throw new Error/* default */.A("Missing depth dimension for 3D texture upload");u.texSubImage3D(e,i,0,0,0,o,a,n,c,_,r)}else p.texSubImage2D(e,i,0,0,o,a,c,_,r)}}else{const r=h;if(l){if(null==n)throw new Error/* default */.A("Missing depth dimension for 3D texture upload");u.texImage3D(e,i,s,o,a,n,0,c,_,r)}else p.texImage2D(e,i,s,o,a,0,c,_,r)}else p.texImage2D(e,0,s,c,_,h)}_compressedTexImage(e,i,s,o,a,n,h){const p=this._descriptor.context.gl;let l=null;const d=R(e),c=this._descriptor.isImmutable;if(d){if(this._descriptor.context.type!==contextUtils/* ContextType */.EL.WEBGL2)throw new Error/* default */.A("3D textures are not supported in WebGL1");l=p}if(c){if(null!=h)if(d){if(null==n)throw new Error/* default */.A("Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(e,i,0,0,0,o,a,n,s,h)}else p.compressedTexSubImage2D(e,i,0,0,o,a,s,h)}else if(d){if(null==n)throw new Error/* default */.A("Missing depth dimension for 3D texture upload");l.compressedTexImage3D(e,i,s,o,a,n,0,h)}else p.compressedTexImage2D(e,i,s,o,a,0,h)}_forEachMipmapLevel(e,i=1/0){let{width:r,height:o,depth:a,hasMipmap:n,target:h}=this._descriptor;const p=h===enums/* TextureType */.Ap.TEXTURE_3D;if(null==r||null==o||p&&null==a)throw new Error/* default */.A("Missing texture dimensions for mipmap calculation");for(let t=0;e(t,r,o,a),n&&(1!==r||1!==o||p&&1!==a)&&!(t>=i);++t)r=Math.max(1,r>>1),o=Math.max(1,o>>1),p&&(a=Math.max(1,a>>1))}};function g(t,i){(null!=i.width&&i.width<0||null!=i.height&&i.height<0||null!=i.depth&&i.depth<0)&&console.error("Negative dimension parameters are not allowed!");const s=t.type===contextUtils/* ContextType */.EL.WEBGL2;if(s||!i.isImmutable&&!R(i.target)||console.error("Immutable and 3D-like textures are not supported in WebGL1!"),s)return;null!=i.width&&(0,mathUtils/* isPowerOfTwo */.r6)(i.width)&&null!=i.height&&(0,mathUtils/* isPowerOfTwo */.r6)(i.height)||("number"==typeof i.wrapMode?i.wrapMode!==enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):i.wrapMode.s===enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE&&i.wrapMode.t===enums/* TextureWrapMode */.pF.CLAMP_TO_EDGE||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),i.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}function x(t,e){let i=e.samplingMode,r=e.samplingMode;i===enums/* TextureSamplingMode */.Cj.LINEAR_MIPMAP_NEAREST||i===enums/* TextureSamplingMode */.Cj.LINEAR_MIPMAP_LINEAR?(i=enums/* TextureSamplingMode */.Cj.LINEAR,e.hasMipmap||(r=enums/* TextureSamplingMode */.Cj.LINEAR)):i!==enums/* TextureSamplingMode */.Cj.NEAREST_MIPMAP_NEAREST&&i!==enums/* TextureSamplingMode */.Cj.NEAREST_MIPMAP_LINEAR||(i=enums/* TextureSamplingMode */.Cj.NEAREST,e.hasMipmap||(r=enums/* TextureSamplingMode */.Cj.NEAREST)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,i),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,r)}function E(t,e){"number"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}function f(t,e){const i=t.capabilities.textureFilterAnisotropic;if(!i)return;t.gl.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}function M(t){return t in enums/* SizedPixelFormat */.H0}function w(t){return t in enums/* CompressedTextureFormat */.CQ}function A(t){return null!=t&&"type"in t&&"compressed"===t.type}function I(t){return null!=t&&"byteLength"in t}function D(t){return null!=t&&!A(t)&&!I(t)}function R(t){return t===enums/* TextureType */.Ap.TEXTURE_3D||t===enums/* TextureType */.Ap.TEXTURE_2D_ARRAY}function b(t,e,i,r=1){let o=Math.max(e,i);return t===enums/* TextureType */.Ap.TEXTURE_3D&&(o=Math.max(o,r)),Math.round(Math.log(o)/Math.LN2)+1}function U(){if(0===P.size)return;const t=new Array;return P.forEach(((e,i)=>t.push([i.gpuMemoryUsage,e]))),P.clear(),t.sort(((t,e)=>e[0]-t[0])),t.reduce(((t,e)=>`${t}\n\n${Math.round(e[0]/1024)}KB: ${e[1]}`),`Total unestimated texture memory: ${Math.round(t.reduce(((t,e)=>t+e[0]),0)/1024)}KB`)}T.TEXTURE_UNIT_FOR_UPDATES=0;const P=new Map;


/***/ }),

/***/ 45758:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   R: () => (/* binding */ e),
/* harmony export */   e: () => (/* binding */ r)
/* harmony export */ });
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(41746);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(19282);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
class e{constructor(p=0,e=p){this.width=p,this.height=e,this.target=_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .TextureType */ .Ap.TEXTURE_2D,this.pixelFormat=_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .PixelFormat */ .Ab.RGBA,this.dataType=_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .PixelType */ .ld.UNSIGNED_BYTE,this.samplingMode=_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .TextureSamplingMode */ .Cj.LINEAR,this.wrapMode=_enums_js__WEBPACK_IMPORTED_MODULE_0__/* .TextureWrapMode */ .pF.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.depth=1,this.isImmutable=!1}}function r(t){return t.width<=0||t.height<=0?0:t.width*t.height*(t.hasMipmap?4/3:1)*(null==t.internalFormat?4:(0,_Util_js__WEBPACK_IMPORTED_MODULE_1__/* .getBytesPerElementFormat */ .IB)(t.internalFormat))}


/***/ }),

/***/ 19282:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Hi: () => (/* binding */ o),
/* harmony export */   IB: () => (/* binding */ E),
/* harmony export */   WH: () => (/* binding */ a),
/* harmony export */   yu: () => (/* binding */ i)
/* harmony export */ });
/* unused harmony exports getStride, vertexCount */
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(39831);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function a(e){const r=e.gl;switch(r.getError()){case r.NO_ERROR:return null;case r.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case r.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case r.INVALID_OPERATION:return"The specified command is not allowed for the current state";case r.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case r.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case r.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function n(e,r){return e.vertexBuffers[r].byteLength/R(e.layout[r])}function R(e){return e[0].stride}function i(e,r,t,s,c=0){const a=e.gl;e.bindBuffer(t);for(const n of s){const t=r.get(n.name);void 0===t&&console.error(`There is no location for vertex attribute '${n.name}' defined.`);const s=c*n.stride;if(n.count<=4)a.vertexAttribPointer(t,n.count,n.type,n.normalized,n.stride,n.offset+s),a.enableVertexAttribArray(t),n.divisor>0&&e.gl2?.vertexAttribDivisor(t,n.divisor);else if(9===n.count)for(let r=0;r<3;r++)a.vertexAttribPointer(t+r,3,n.type,n.normalized,n.stride,n.offset+12*r+s),a.enableVertexAttribArray(t+r),n.divisor>0&&e.gl2?.vertexAttribDivisor(t+r,n.divisor);else if(16===n.count)for(let r=0;r<4;r++)a.vertexAttribPointer(t+r,4,n.type,n.normalized,n.stride,n.offset+16*r+s),a.enableVertexAttribArray(t+r),n.divisor>0&&e.gl2?.vertexAttribDivisor(t+r,n.divisor);else console.error("Unsupported vertex attribute element count: "+n.count)}}function o(r,t,s,c){const a=r.gl;r.bindBuffer(s);for(const e of c){const s=t.get(e.name);if(e.count<=4)a.disableVertexAttribArray(s),e.divisor&&e.divisor>0&&r.gl2?.vertexAttribDivisor(s,0);else if(9===e.count)for(let t=0;t<3;t++)a.disableVertexAttribArray(s+t),e.divisor&&e.divisor>0&&r.gl2?.vertexAttribDivisor(s+t,0);else if(16===e.count)for(let t=0;t<4;t++)a.disableVertexAttribArray(s+t),e.divisor&&e.divisor>0&&r.gl2?.vertexAttribDivisor(s+t,0);else console.error("Unsupported vertex attribute element count: "+e.count)}r.unbindBuffer(_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BufferType */ .NZ.ARRAY_BUFFER)}function E(e){switch(e){case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.ALPHA:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.LUMINANCE:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.RED:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.RED_INTEGER:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R8:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R8I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R8UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R8_SNORM:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .RenderbufferFormat */ .yQ.STENCIL_INDEX8:return 1;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.LUMINANCE_ALPHA:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.RG:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.RG_INTEGER:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA4:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R16F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R16I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R16UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG8:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG8I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG8UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG8_SNORM:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB565:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB5_A1:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .RenderbufferFormat */ .yQ.DEPTH_COMPONENT16:return 2;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.DEPTH_COMPONENT:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.RGB:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.RGB_INTEGER:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB8:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB8I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB8UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB8_SNORM:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.SRGB8:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .RenderbufferFormat */ .yQ.DEPTH_COMPONENT24:return 3;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.DEPTH_STENCIL:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.DEPTH24_STENCIL8:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.RGBA:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .PixelFormat */ .Ab.RGBA_INTEGER:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA8:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R32F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R11F_G11F_B10F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG16F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R32I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.R32UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG16I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG16UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA8I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA8UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA8_SNORM:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.SRGB8_ALPHA8:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB9_E5:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB10_A2UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB10_A2:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .RenderbufferFormat */ .yQ.DEPTH_STENCIL:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .RenderbufferFormat */ .yQ.DEPTH_COMPONENT32F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .RenderbufferFormat */ .yQ.DEPTH24_STENCIL8:return 4;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .RenderbufferFormat */ .yQ.DEPTH32F_STENCIL8:return 5;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB16F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB16I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB16UI:return 6;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG32F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG32I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RG32UI:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA16F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA16I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA16UI:return 8;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB32F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB32I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGB32UI:return 12;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA32F:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA32I:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .SizedPixelFormat */ .H0.RGBA32UI:return 16;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_RGB_S3TC_DXT1_EXT:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_RGBA_S3TC_DXT1_EXT:return.5;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_RGBA_S3TC_DXT3_EXT:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_R11_EAC:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_SIGNED_R11_EAC:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_RGB8_ETC2:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_SRGB8_ETC2:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return.5;case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_RG11_EAC:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_SIGNED_RG11_EAC:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_RGBA8_ETC2_EAC:case _enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CompressedTextureFormat */ .CQ.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}


/***/ }),

/***/ 80976:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Z: () => (/* binding */ f)
/* harmony export */ });
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(539);
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(6267);
/* harmony import */ var _core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(86942);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(41746);
/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19282);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=_core_Logger_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.getLogger("esri.views.webgl.VertexArrayObject");let f=class{constructor(t,e,i,r,s=null){this._context=t,this._locations=e,this._layout=i,this._buffers=r,this._indexBuffer=s,this._glName=null,this._initialized=!1}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get byteSize(){return Object.keys(this._buffers).reduce(((t,e)=>t+this._buffers[e].byteLength),null!=this._indexBuffer?this._indexBuffer.byteLength:0)}get layout(){return this._layout}get locations(){return this._locations}get usedMemory(){return this.byteSize+(Object.keys(this._buffers).length+(this._indexBuffer?1:0))*_core_typedArrayUtil_js__WEBPACK_IMPORTED_MODULE_1__/* .typedArrayStaticSize */ .zQ}dispose(){if(this._context){this._context.getBoundVAO()===this&&this._context.bindVAO(null);for(const t in this._buffers)this._buffers[t]?.dispose(),delete this._buffers[t];this._indexBuffer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__/* .disposeMaybe */ .WD)(this._indexBuffer),this.disposeVAOOnly()}else(this._glName||Object.getOwnPropertyNames(this._buffers).length>0)&&o.warn("Leaked WebGL VAO")}disposeVAOOnly(){if(this._glName){const t=this._context?.capabilities?.vao;t.deleteVertexArray(this._glName),this._glName=null,this._context.instanceCounter.decrement(_enums_js__WEBPACK_IMPORTED_MODULE_2__/* .ResourceType */ .vt.VertexArrayObject,this)}this._context=null}initialize(){if(this._initialized)return;const t=this._context.capabilities.vao;if(t){const e=t.createVertexArray();t.bindVertexArray(e),this._bindLayout(),t.bindVertexArray(null),this._glName=e,this._context.instanceCounter.increment(_enums_js__WEBPACK_IMPORTED_MODULE_2__/* .ResourceType */ .vt.VertexArrayObject,this)}this._initialized=!0}bind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const{_buffers:t,_layout:e,_indexBuffer:i}=this;t||o.error("Vertex buffer dictionary is empty!");const r=this._context.gl;for(const n in t){const i=t[n];i||o.error("Vertex buffer is uninitialized!");const r=e[n];r||o.error("Vertex element descriptor is empty!"),(0,_Util_js__WEBPACK_IMPORTED_MODULE_3__/* .bindVertexBufferLayout */ .yu)(this._context,this._locations,i,r)}if(null!=i){!!this._context.capabilities.vao?r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i.glName):this._context.bindBuffer(i)}}unbind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const{_buffers:t,_layout:e}=this;t||o.error("Vertex buffer dictionary is empty!");for(const i in t){const r=t[i];r||o.error("Vertex buffer is uninitialized!");const s=e[i];(0,_Util_js__WEBPACK_IMPORTED_MODULE_3__/* .unbindVertexBufferLayout */ .Hi)(this._context,this._locations,r,s)}null!=this._indexBuffer&&this._context.unbindBuffer(this._indexBuffer.bufferType)}};


/***/ }),

/***/ 16541:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Xc: () => (/* binding */ c),
/* harmony export */   Y2: () => (/* binding */ u),
/* harmony export */   en: () => (/* binding */ a)
/* harmony export */ });
/* unused harmony export hasFeatureFlagWebGLDebug */
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(98849);
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(39831);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(539);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
const o=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.getLogger("esri.views.webgl.checkWebGLError");function t(e,r){switch(r){case e.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case e.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case e.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case e.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case e.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case e.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const n=!!(0,_core_has_js__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A)("enable-feature:webgl-debug");function a(){return n}function c(){return n}function u(r){if(a()){const n=r.getError();if(n){const a=t(r,n),c=(new Error).stack;o.error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A("webgl-error","WebGL error occurred",{message:a,stack:c}))}}}


/***/ }),

/***/ 76698:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Zo: () => (/* binding */ o),
/* harmony export */   jA: () => (/* binding */ r),
/* harmony export */   jS: () => (/* binding */ t)
/* harmony export */ });
/* unused harmony export decodeDoubleArray */
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function t(t,n,o){for(let r=0;r<o;++r)n[2*r]=t[r],n[2*r+1]=t[r]-n[2*r]}function n(t,n,o){for(let r=0;r<o;++r)n[r]=t[2*r]+t[2*r+1]}function o(t,n){const o=t.length;for(let r=0;r<o;++r)e[0]=t[r],n[r]=e[0];return n}function r(t,n){const o=t.length;for(let r=0;r<o;++r)e[0]=t[r],e[1]=t[r]-e[0],n[r]=e[1];return n}const e=new Float32Array(2);


/***/ }),

/***/ 2449:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Ey: () => (/* binding */ S),
/* harmony export */   Ms: () => (/* binding */ G),
/* harmony export */   Xt: () => (/* binding */ h),
/* harmony export */   hG: () => (/* binding */ a),
/* harmony export */   kn: () => (/* binding */ o),
/* harmony export */   ox: () => (/* binding */ s),
/* harmony export */   p3: () => (/* binding */ l),
/* harmony export */   wE: () => (/* binding */ _)
/* harmony export */ });
/* unused harmony exports backFaceCullingParams, makeBlending, makeColorWrite, makeCulling, makeDepthTest, makeDepthWrite, makeDrawBuffers, makePolygonOffset, makeStencilTest, makeStencilWrite */
/* harmony import */ var _3d_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(91013);
/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(41746);
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
function s(t,e,i=_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendOperation */ .Tb.ADD,s=[0,0,0,0]){return{srcRgb:t,srcAlpha:t,dstRgb:e,dstAlpha:e,opRgb:i,opAlpha:i,color:{r:s[0],g:s[1],b:s[2],a:s[3]}}}function l(t,e,i,s,l=_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendOperation */ .Tb.ADD,r=_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .BlendOperation */ .Tb.ADD,a=[0,0,0,0]){return{srcRgb:t,srcAlpha:e,dstRgb:i,dstAlpha:s,opRgb:l,opAlpha:r,color:{r:a[0],g:a[1],b:a[2],a:a[3]}}}const r={face:_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .Face */ .Y7.BACK,mode:_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CullMode */ .Ac.CCW},a={face:_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .Face */ .Y7.FRONT,mode:_enums_js__WEBPACK_IMPORTED_MODULE_1__/* .CullMode */ .Ac.CCW},h=e=>e===_3d_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .CullFaceOptions */ .s2.Back?r:e===_3d_webgl_engine_lib_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__/* .CullFaceOptions */ .s2.Front?a:null,o={zNear:0,zFar:1},_={r:!0,g:!0,b:!0,a:!0};function c(t){return w.intern(t)}function d(t){return D.intern(t)}function u(t){return O.intern(t)}function f(t){return m.intern(t)}function p(t){return R.intern(t)}function g(t){return P.intern(t)}function v(t){return F.intern(t)}function I(t){return K.intern(t)}function W(t){return x.intern(t)}function S(t){return q.intern(t)}class b{constructor(t,e){this._makeKey=t,this._makeRef=e,this._interns=new Map}intern(t){if(!t)return null;const e=this._makeKey(t),i=this._interns;return i.has(e)||i.set(e,this._makeRef(t)),i.get(e)??null}}function T(t){return"["+t.join(",")+"]"}const w=new b(B,(t=>({__tag:"Blending",...t})));function B(t){return t?T([t.srcRgb,t.srcAlpha,t.dstRgb,t.dstAlpha,t.opRgb,t.opAlpha,t.color.r,t.color.g,t.color.b,t.color.a]):null}const D=new b(y,(t=>({__tag:"Culling",...t})));function y(t){return t?T([t.face,t.mode]):null}const O=new b(C,(t=>({__tag:"PolygonOffset",...t})));function C(t){return t?T([t.factor,t.units]):null}const m=new b(A,(t=>({__tag:"DepthTest",...t})));function A(t){return t?T([t.func]):null}const R=new b(k,(t=>({__tag:"StencilTest",...t})));function k(t){return t?T([t.function.func,t.function.ref,t.function.mask,t.operation.fail,t.operation.zFail,t.operation.zPass]):null}const P=new b(z,(t=>({__tag:"DepthWrite",...t})));function z(t){return t?T([t.zNear,t.zFar]):null}const F=new b(j,(t=>({__tag:"ColorWrite",...t})));function j(t){return t?T([t.r,t.g,t.b,t.a]):null}const K=new b(N,(t=>({__tag:"StencilWrite",...t})));function N(t){return t?T([t.mask]):null}const x=new b(M,(t=>({__tag:"DrawBuffers",...t})));function M(t){return t?T(t.buffers):null}const q=new b(E,(t=>({blending:c(t.blending),culling:d(t.culling),polygonOffset:u(t.polygonOffset),depthTest:f(t.depthTest),stencilTest:p(t.stencilTest),depthWrite:g(t.depthWrite),colorWrite:v(t.colorWrite),stencilWrite:I(t.stencilWrite),drawBuffers:W(t.drawBuffers)})));function E(t){return t?T([B(t.blending),y(t.culling),C(t.polygonOffset),A(t.depthTest),k(t.stencilTest),z(t.depthWrite),j(t.colorWrite),N(t.stencilWrite),M(t.drawBuffers)]):null}class G{constructor(t){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._drawBuffersInvalid=!0,this._stateSetters=t}setPipeline(t){(this._pipelineInvalid||t!==this._pipeline)&&(this._setBlending(t.blending),this._setCulling(t.culling),this._setPolygonOffset(t.polygonOffset),this._setDepthTest(t.depthTest),this._setStencilTest(t.stencilTest),this._setDepthWrite(t.depthWrite),this._setColorWrite(t.colorWrite),this._setStencilWrite(t.stencilWrite),this._setDrawBuffers(t.drawBuffers),this._pipeline=t),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDrawBuffers(){this._drawBuffersInvalid=!0,this._pipelineInvalid=!0}_setBlending(t){this._blending=this._setSubState(t,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}_setCulling(t){this._culling=this._setSubState(t,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}_setPolygonOffset(t){this._polygonOffset=this._setSubState(t,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}_setDepthTest(t){this._depthTest=this._setSubState(t,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}_setStencilTest(t){this._stencilTest=this._setSubState(t,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}_setDepthWrite(t){this._depthWrite=this._setSubState(t,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}_setColorWrite(t){this._colorWrite=this._setSubState(t,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}_setStencilWrite(t){this._stencilWrite=this._setSubState(t,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}_setDrawBuffers(t){this._drawBuffers=this._setSubState(t,this._drawBuffers,this._drawBuffersInvalid,this._stateSetters.setDrawBuffers),this._drawBuffersInvalid=!1}_setSubState(t,e,i,n){return(i||t!==e)&&(n(t),this._pipelineInvalid=!0),t}}


/***/ })

};
;