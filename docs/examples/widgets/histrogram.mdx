# Histogram

## Simple example

An `Expand` can take another widget as a child:

```tsx live
function Example() {
  const layer = useRef<FeatureLayer>(null);

  const [ready, setReady] = useState(false);
  const [histogramResult, setHistogramResult] = useState<HistogramResult>(null);
  const [summaryStatisticsResult, setSummaryStatisticsResult] =
    useState<SummaryStatisticsResult>(null);

  useEffect(() => {
    if (ready) {
      const createHistogram = async () => {
        const histogramResult = await histogram({
          layer: layer.current,
          field: "pop20",
          numBins: 50,
        });
        setHistogramResult(histogramResult);

        const summaryStatisticsResult = await summaryStatistics({
          layer: layer.current,
          field: "pop20",
        });

        setSummaryStatisticsResult(summaryStatisticsResult);

        console.log(summaryStatisticsResult);
      };

      createHistogram();
    }
  }, [ready]);

  return (
    <MapView
      ViewProperties={{ extent: OAHU_EXTENT_2 }}
      MapProperties={{ basemap: "topo-vector" }}
      style={{ height: "300px", width: "100%" }}
    >
      <FeatureLayer
        ref={layer}
        url={HI_CENSUS_2020_FL_URL}
        events={{ "layerview-create": () => setReady(true) }}
        renderer={HI_CENSUS_2020_FL_RENDERER}
      />

      <Legend position="top-right" />

      <h4 className="mt-2! mb-0!">Population 2020</h4>
      <div
        id="histogram-container"
        style={{ height: "300px", width: "100%", border: "1px solid red" }}
      >
        {histogramResult && summaryStatisticsResult && (
          <Histogram
            container="histogram-container"
            bins={histogramResult.bins}
            min={histogramResult.minValue}
            max={histogramResult.maxValue}
            average={summaryStatisticsResult.avg}
            labelFormatFunction={function (value) {
              return Math.round(value).toLocaleString();
            }}
          />
        )}
      </div>
      <div className="flex justify-between">
        <div>{histogramResult?.minValue}</div>
        <div>{histogramResult?.maxValue?.toLocaleString()}</div>
      </div>
    </MapView>
  );
}
```
